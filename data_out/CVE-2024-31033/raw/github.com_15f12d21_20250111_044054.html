






<!DOCTYPE html>
<html
  lang="en"
  
  data-color-mode="auto" data-light-theme="light" data-dark-theme="dark"
  data-a11y-animated-images="system" data-a11y-link-underlines="true"
  
  >



  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">

  

  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light-0cfd1fd8509e.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-d782f59290e2.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-f9fbc4b99a77.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-cff1c9b27b1a.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-70097f75aec1.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-c2f0d49bdcd9.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-4747d7bc0bc4.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia-d3f6a61c91c8.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia-a188d53f44bb.css" />

    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-953961b66e63.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-20f98ef38fd8.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-7e1d0e4dee6a.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-e72829f5538b.css" />
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/repository-197a21528ff0.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-730cb3192afb.css" />

  


  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["alive_longer_retries","bypass_copilot_indexing_quota","copilot_new_references_ui","copilot_beta_features_opt_in","copilot_chat_retry_on_error","copilot_chat_persist_submitted_input","copilot_conversational_ux_history_refs","copilot_editor_upsells","copilot_free_limited_user","copilot_implicit_context","copilot_no_floating_button","copilot_smell_icebreaker_ux","experimentation_azure_variant_endpoint","failbot_handle_non_errors","geojson_azure_maps","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","hovercard_accessibility","issues_react_remove_placeholders","issues_react_blur_item_picker_on_close","marketing_pages_search_explore_provider","react_keyboard_shortcuts_dialog","remove_child_patch","sample_network_conn_type","site_metered_billing_update","site_copilot_free","lifecycle_label_name_updates"]}</script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-278066c97335.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover_js-9da652f58479.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_arianotify-polyfill_ariaNotify-polyfill_js-node_modules_github_mi-3abb8f-d7e6bc799724.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_failbot_failbot_ts-71291b73d826.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/environment-7b93e0f0c8ff.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_index_mjs-ea2a5d75d580.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-f690fd9ae3d5.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-f6da4b3fa34c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-8e9f78-a74b4e0a8a6b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-78748950cb0c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-b5f1d7-a1760ffda83d.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_markdown-toolbar-element_dist_index_js-ceef33f593fa.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-c44a69-c6d035fa8dc8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-f991cfab5105.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-3b5362d3d402.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec-7f43298e364b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-be8cb88f481b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_morphdom_dist_morphdom-e-7c534c-a4a1922eb55f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-e3cbe28f1638.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-893f9f-6cf3320416b8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_color-convert_index_js-e3180fe3bcb3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_session-resume_-69cfcc-833249ee3034.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_updatable-content_updatable-content_ts-863ef5872a03.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_sso_ts-ui_packages-900dde-917d4bda1f1a.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-7cbef09a422c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_include-d0d0a6-b41aeef03499.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-fb43816ab83c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-999d1d44cef0.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-f6223d90c7ba.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-cfcd9f4f0f23.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_virtualized-list_es_index_js-node_modules_github_template-parts_lib_index_js-96453a51f920.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-70450e-eecf0d50276f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_ref-selector_ts-842c74d2eab4.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/codespaces-a493a4b9528f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-3eebbd-0763620ad7bf.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_delegated-events_di-e161aa-9d41fb1b6c9e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_github_remote--3c9c82-7238cfcdaa51.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/repositories-f3093651fb0e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_catalyst_lib_inde-dbbea9-26cce2010167.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/code-menu-b5f092ec4b30.js"></script>
  
  <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/primer-react-eb226383faf4.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/react-core-85b0640cddc8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/react-lib-2131e17288a8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/octicons-react-611691cca2f6.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_query-core_build_modern_queryClient_js-e6f07a7e80b7.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-37e3d5-92730c05e718.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd-f7cc96ebae76.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js-55fea94174bf.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/notifications-subscriptions-menu-b1dd2eefd368.js"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.491a1e189efd351d2e8c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/notifications-subscriptions-menu.1bcff9205c241e99cff2.module.css" />

  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.491a1e189efd351d2e8c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/notifications-subscriptions-menu.1bcff9205c241e99cff2.module.css" />


  <title>GitHub - jwtk/jjwt: Java JWT: JSON Web Token for Java and Android</title>



  <meta name="route-pattern" content="/:user_id/:repository" data-turbo-transient>
  <meta name="route-controller" content="files" data-turbo-transient>
  <meta name="route-action" content="disambiguate" data-turbo-transient>

    
  <meta name="current-catalog-service-hash" content="f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb">


  <meta name="request-id" content="8356:2C5428:D6F54C:10570D8:6781F655" data-pjax-transient="true"/><meta name="html-safe-nonce" content="18bb4f4b7997f0b7dd0f4843612310ea8d508a464d6df62ab31644193f02f1b3" data-pjax-transient="true"/><meta name="visitor-payload" content="eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiI4MzU2OjJDNTQyODpENkY1NEM6MTA1NzBEODo2NzgxRjY1NSIsInZpc2l0b3JfaWQiOiIyMDg1OTIyMzMyOTk5NzQzNzc0IiwicmVnaW9uX2VkZ2UiOiJuZS0wMSIsInJlZ2lvbl9yZW5kZXIiOiJub3J0aGV1cm9wZSJ9" data-pjax-transient="true"/><meta name="visitor-hmac" content="20e434d5261b57d9600a2bf3c336b4291df0b2d1b14e6bf683c38dab66205e05" data-pjax-transient="true"/>


    <meta name="hovercard-subject-tag" content="repository:23982180" data-turbo-transient>


  <meta name="github-keyboard-shortcuts" content="repository,copilot" data-turbo-transient="true" />
  

  <meta name="selected-link" value="repo_source" data-turbo-transient>
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;" data-turbo-transient="true" />

  




    <meta name="user-login" content="">

  

    <meta name="viewport" content="width=device-width">

    

      <meta name="description" content="Java JWT: JSON Web Token for Java and Android. Contribute to jwtk/jjwt development by creating an account on GitHub.">

      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">

    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://github.com/jwtk/jjwt" />

      <meta name="twitter:image" content="https://repository-images.githubusercontent.com/23982180/be9cc080-a4c4-11e9-8838-bc75cb09f014" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:title" content="GitHub - jwtk/jjwt: Java JWT: JSON Web Token for Java and Android" /><meta name="twitter:description" content="Java JWT: JSON Web Token for Java and Android. Contribute to jwtk/jjwt development by creating an account on GitHub." />
  <meta property="og:image" content="https://repository-images.githubusercontent.com/23982180/be9cc080-a4c4-11e9-8838-bc75cb09f014" /><meta property="og:image:alt" content="Java JWT: JSON Web Token for Java and Android. Contribute to jwtk/jjwt development by creating an account on GitHub." /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="GitHub - jwtk/jjwt: Java JWT: JSON Web Token for Java and Android" /><meta property="og:url" content="https://github.com/jwtk/jjwt" /><meta property="og:description" content="Java JWT: JSON Web Token for Java and Android. Contribute to jwtk/jjwt development by creating an account on GitHub." />
  




      <meta name="hostname" content="github.com">



        <meta name="expected-hostname" content="github.com">


  <meta http-equiv="x-pjax-version" content="b6d271ea4c4be2122891e67fa7f4ae1c9160fc654c74b27b2102cce3baf5a142" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="ace39c3b6632770952207593607e6e0be0db363435a8b877b1f96abe6430f345" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="91684edb2a1719c4c35d97255f97853f94708cdd9a7c3a773ae63c57032ce418" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="cada3c8d9f0d3df6b8c249a94478caac54d306f7853b81b07da44afdbf8c1fad" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <meta data-hydrostats="publish">
  <meta name="go-import" content="github.com/jwtk/jjwt git https://github.com/jwtk/jjwt.git">

  <meta name="octolytics-dimension-user_id" content="8755770" /><meta name="octolytics-dimension-user_login" content="jwtk" /><meta name="octolytics-dimension-repository_id" content="23982180" /><meta name="octolytics-dimension-repository_nwo" content="jwtk/jjwt" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="23982180" /><meta name="octolytics-dimension-repository_network_root_nwo" content="jwtk/jjwt" />



      <link rel="canonical" href="https://github.com/jwtk/jjwt" data-turbo-transient>


    <meta name="turbo-body-classes" content="logged-out env-production page-responsive">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" data-base-href="https://github.githubassets.com/favicons/favicon">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-out env-production page-responsive" style="word-wrap: break-word;">
    <div data-turbo-body class="logged-out env-production page-responsive" style="word-wrap: break-word;">
      


    <div class="position-relative header-wrapper js-header-wrapper ">
      <a href="#start-of-content" data-skip-target-assigned="false" class="px-2 py-4 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      
      <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ui-commands_ui-commands_ts-fecaee5fb732.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/keyboard-shortcuts-dialog-958cae8ecd6c.js"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.491a1e189efd351d2e8c.module.css" />

<react-partial
  partial-name="keyboard-shortcuts-dialog"
  data-ssr="false"
  data-attempted-ssr="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>




      

          

              
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-94fd67-73b675cf164a.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/sessions-5d6426bbf16a.js"></script>
<header class="HeaderMktg header-logged-out js-details-container js-header Details f4 py-3" role="banner" data-is-top="true" data-color-mode=light data-light-theme=light data-dark-theme=dark>
  <h2 class="sr-only">Navigation Menu</h2>

  <button type="button" class="HeaderMktg-backdrop d-lg-none border-0 position-fixed top-0 left-0 width-full height-full js-details-target" aria-label="Toggle navigation">
    <span class="d-none">Toggle navigation</span>
  </button>

  <div class="d-flex flex-column flex-lg-row flex-items-center px-3 px-md-4 px-lg-5 height-full position-relative z-1">
    <div class="d-flex flex-justify-between flex-items-center width-full width-lg-auto">
      <div class="flex-1">
        <button aria-label="Toggle navigation" aria-expanded="false" type="button" data-view-component="true" class="js-details-target js-nav-padding-recalculate js-header-menu-toggle Button--link Button--medium Button d-lg-none color-fg-inherit p-1">  <span class="Button-content">
    <span class="Button-label"><div class="HeaderMenu-toggle-bar rounded my-1"></div>
            <div class="HeaderMenu-toggle-bar rounded my-1"></div>
            <div class="HeaderMenu-toggle-bar rounded my-1"></div></span>
  </span>
</button>
      </div>

      <a class="mr-lg-3 color-fg-inherit flex-order-2 js-prevent-focus-on-mobile-nav"
        href="/"
        aria-label="Homepage"
        data-analytics-event="{&quot;category&quot;:&quot;Marketing nav&quot;,&quot;action&quot;:&quot;click to go to homepage&quot;,&quot;label&quot;:&quot;ref_page:Marketing;ref_cta:Logomark;ref_loc:Header&quot;}">
        <svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
      </a>

      <div class="flex-1 flex-order-2 text-right">
          <a
            href="/login?return_to=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt"
            class="HeaderMenu-link HeaderMenu-button d-inline-flex d-lg-none flex-order-1 f5 no-underline border color-border-default rounded-2 px-2 py-1 color-fg-inherit js-prevent-focus-on-mobile-nav"
            data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f9fb7012a5f7e2e113515242f6cbf4d587b73b703cef7c07bb417c7f878a1ab9"
            data-analytics-event="{&quot;category&quot;:&quot;Marketing nav&quot;,&quot;action&quot;:&quot;click to Sign in&quot;,&quot;label&quot;:&quot;ref_page:Marketing;ref_cta:Sign in;ref_loc:Header&quot;}"
          >
            Sign in
          </a>
      </div>
    </div>


    <div class="HeaderMenu js-header-menu height-fit position-lg-relative d-lg-flex flex-column flex-auto top-0">
      <div class="HeaderMenu-wrapper d-flex flex-column flex-self-start flex-lg-row flex-auto rounded rounded-lg-0">
          <nav class="HeaderMenu-nav" aria-label="Global">
            <ul class="d-lg-flex list-style-none">
                <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Product
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>
      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4 d-lg-flex flex-wrap dropdown-menu-wide">
          <div class="HeaderMenu-column px-lg-4 border-lg-right mb-4 mb-lg-0 pr-lg-7">
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0">
                <ul class="list-style-none f5" >
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_copilot&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_copilot_link_product_navbar&quot;}" href="https://github.com/features/copilot">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-copilot color-fg-subtle mr-3">
    <path d="M23.922 16.992c-.861 1.495-5.859 5.023-11.922 5.023-6.063 0-11.061-3.528-11.922-5.023A.641.641 0 0 1 0 16.736v-2.869a.841.841 0 0 1 .053-.22c.372-.935 1.347-2.292 2.605-2.656.167-.429.414-1.055.644-1.517a10.195 10.195 0 0 1-.052-1.086c0-1.331.282-2.499 1.132-3.368.397-.406.89-.717 1.474-.952 1.399-1.136 3.392-2.093 6.122-2.093 2.731 0 4.767.957 6.166 2.093.584.235 1.077.546 1.474.952.85.869 1.132 2.037 1.132 3.368 0 .368-.014.733-.052 1.086.23.462.477 1.088.644 1.517 1.258.364 2.233 1.721 2.605 2.656a.832.832 0 0 1 .053.22v2.869a.641.641 0 0 1-.078.256ZM12.172 11h-.344a4.323 4.323 0 0 1-.355.508C10.703 12.455 9.555 13 7.965 13c-1.725 0-2.989-.359-3.782-1.259a2.005 2.005 0 0 1-.085-.104L4 11.741v6.585c1.435.779 4.514 2.179 8 2.179 3.486 0 6.565-1.4 8-2.179v-6.585l-.098-.104s-.033.045-.085.104c-.793.9-2.057 1.259-3.782 1.259-1.59 0-2.738-.545-3.508-1.492a4.323 4.323 0 0 1-.355-.508h-.016.016Zm.641-2.935c.136 1.057.403 1.913.878 2.497.442.544 1.134.938 2.344.938 1.573 0 2.292-.337 2.657-.751.384-.435.558-1.15.558-2.361 0-1.14-.243-1.847-.705-2.319-.477-.488-1.319-.862-2.824-1.025-1.487-.161-2.192.138-2.533.529-.269.307-.437.808-.438 1.578v.021c0 .265.021.562.063.893Zm-1.626 0c.042-.331.063-.628.063-.894v-.02c-.001-.77-.169-1.271-.438-1.578-.341-.391-1.046-.69-2.533-.529-1.505.163-2.347.537-2.824 1.025-.462.472-.705 1.179-.705 2.319 0 1.211.175 1.926.558 2.361.365.414 1.084.751 2.657.751 1.21 0 1.902-.394 2.344-.938.475-.584.742-1.44.878-2.497Z"></path><path d="M14.5 14.25a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Zm-5 0a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">GitHub Copilot</div>
        Write better code with AI
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;security&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;security_link_product_navbar&quot;}" href="https://github.com/features/security">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-shield-check color-fg-subtle mr-3">
    <path d="M16.53 9.78a.75.75 0 0 0-1.06-1.06L11 13.19l-1.97-1.97a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l5-5Z"></path><path d="m12.54.637 8.25 2.675A1.75 1.75 0 0 1 22 4.976V10c0 6.19-3.771 10.704-9.401 12.83a1.704 1.704 0 0 1-1.198 0C5.77 20.705 2 16.19 2 10V4.976c0-.758.489-1.43 1.21-1.664L11.46.637a1.748 1.748 0 0 1 1.08 0Zm-.617 1.426-8.25 2.676a.249.249 0 0 0-.173.237V10c0 5.46 3.28 9.483 8.43 11.426a.199.199 0 0 0 .14 0C17.22 19.483 20.5 15.461 20.5 10V4.976a.25.25 0 0 0-.173-.237l-8.25-2.676a.253.253 0 0 0-.154 0Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Security</div>
        Find and fix vulnerabilities
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;actions&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;actions_link_product_navbar&quot;}" href="https://github.com/features/actions">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-workflow color-fg-subtle mr-3">
    <path d="M1 3a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2H7v4.063C7 16.355 7.644 17 8.438 17H12.5v-2.5a2 2 0 0 1 2-2H21a2 2 0 0 1 2 2V21a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-2.5H8.437A2.939 2.939 0 0 1 5.5 15.562V11.5H3a2 2 0 0 1-2-2Zm2-.5a.5.5 0 0 0-.5.5v6.5a.5.5 0 0 0 .5.5h6.5a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5ZM14.5 14a.5.5 0 0 0-.5.5V21a.5.5 0 0 0 .5.5H21a.5.5 0 0 0 .5-.5v-6.5a.5.5 0 0 0-.5-.5Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Actions</div>
        Automate any workflow
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;codespaces&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;codespaces_link_product_navbar&quot;}" href="https://github.com/features/codespaces">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-codespaces color-fg-subtle mr-3">
    <path d="M3.5 3.75C3.5 2.784 4.284 2 5.25 2h13.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 18.75 13H5.25a1.75 1.75 0 0 1-1.75-1.75Zm-2 12c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v4a1.75 1.75 0 0 1-1.75 1.75H3.25a1.75 1.75 0 0 1-1.75-1.75ZM5.25 3.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h13.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Zm-2 12a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h17.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25Z"></path><path d="M10 17.75a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Codespaces</div>
        Instant dev environments
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;issues&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;issues_link_product_navbar&quot;}" href="https://github.com/features/issues">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-issue-opened color-fg-subtle mr-3">
    <path d="M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Zm9.5 2a2 2 0 1 1-.001-3.999A2 2 0 0 1 12 14Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Issues</div>
        Plan and track work
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;code_review&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;code_review_link_product_navbar&quot;}" href="https://github.com/features/code-review">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-code-review color-fg-subtle mr-3">
    <path d="M10.3 6.74a.75.75 0 0 1-.04 1.06l-2.908 2.7 2.908 2.7a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 0 1 1.06.04Zm3.44 1.06a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.908-2.7-2.908-2.7Z"></path><path d="M1.5 4.25c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v12.5a1.75 1.75 0 0 1-1.75 1.75h-9.69l-3.573 3.573A1.458 1.458 0 0 1 5 21.043V18.5H3.25a1.75 1.75 0 0 1-1.75-1.75ZM3.25 4a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 .75.75v3.19l3.72-3.72a.749.749 0 0 1 .53-.22h10a.25.25 0 0 0 .25-.25V4.25a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Code Review</div>
        Manage code changes
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;discussions&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;discussions_link_product_navbar&quot;}" href="https://github.com/features/discussions">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-comment-discussion color-fg-subtle mr-3">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"></path><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Discussions</div>
        Collaborate outside of code
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;code_search&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;code_search_link_product_navbar&quot;}" href="https://github.com/features/code-search">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-code-square color-fg-subtle mr-3">
    <path d="M10.3 8.24a.75.75 0 0 1-.04 1.06L7.352 12l2.908 2.7a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 0 1 1.06.04Zm3.44 1.06a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.908-2.7-2.908-2.7Z"></path><path d="M2 3.75C2 2.784 2.784 2 3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H3.75A1.75 1.75 0 0 1 2 20.25Zm1.75-.25a.25.25 0 0 0-.25.25v16.5c0 .138.112.25.25.25h16.5a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Code Search</div>
        Find more, search less
      </div>

    
</a></li>

                </ul>
              </div>
          </div>
          <div class="HeaderMenu-column px-lg-4">
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0 border-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="product-explore-heading">Explore</span>
                <ul class="list-style-none f5" aria-labelledby="product-explore-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;all_features&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;all_features_link_product_navbar&quot;}" href="https://github.com/features">
      All features

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;documentation&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;documentation_link_product_navbar&quot;}" href="https://docs.github.com">
      Documentation

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_skills&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_skills_link_product_navbar&quot;}" href="https://skills.github.com">
      GitHub Skills

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;blog&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;blog_link_product_navbar&quot;}" href="https://github.blog">
      Blog

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                </ul>
              </div>
          </div>
      </div>
</li>

                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Solutions
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>
      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 d-lg-flex flex-wrap dropdown-menu-wide">
          <div class="HeaderMenu-column px-lg-4 border-lg-right mb-4 mb-lg-0 pr-lg-7">
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0 pb-lg-3 mb-3 mb-lg-0">
                    <span class="d-block h4 color-fg-default my-1" id="solutions-by-company-size-heading">By company size</span>
                <ul class="list-style-none f5" aria-labelledby="solutions-by-company-size-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;enterprises&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;enterprises_link_solutions_navbar&quot;}" href="https://github.com/enterprise">
      Enterprises

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;small_and_medium_teams&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;small_and_medium_teams_link_solutions_navbar&quot;}" href="https://github.com/team">
      Small and medium teams

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;startups&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;startups_link_solutions_navbar&quot;}" href="https://github.com/enterprise/startups">
      Startups

    
</a></li>

                </ul>
              </div>
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="solutions-by-use-case-heading">By use case</span>
                <ul class="list-style-none f5" aria-labelledby="solutions-by-use-case-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;devsecops&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;devsecops_link_solutions_navbar&quot;}" href="/solutions/use-case/devsecops">
      DevSecOps

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;devops&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;devops_link_solutions_navbar&quot;}" href="/solutions/use-case/devops">
      DevOps

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;ci_cd&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;ci_cd_link_solutions_navbar&quot;}" href="/solutions/use-case/ci-cd">
      CI/CD

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all_use_cases&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_use_cases_link_solutions_navbar&quot;}" href="/solutions/use-case">
      View all use cases

    
</a></li>

                </ul>
              </div>
          </div>
          <div class="HeaderMenu-column px-lg-4">
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="solutions-by-industry-heading">By industry</span>
                <ul class="list-style-none f5" aria-labelledby="solutions-by-industry-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;healthcare&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;healthcare_link_solutions_navbar&quot;}" href="/solutions/industry/healthcare">
      Healthcare

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;financial_services&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;financial_services_link_solutions_navbar&quot;}" href="/solutions/industry/financial-services">
      Financial services

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;manufacturing&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;manufacturing_link_solutions_navbar&quot;}" href="/solutions/industry/manufacturing">
      Manufacturing

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;government&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;government_link_solutions_navbar&quot;}" href="/solutions/industry/government">
      Government

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all_industries&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_industries_link_solutions_navbar&quot;}" href="/solutions/industry">
      View all industries

    
</a></li>

                </ul>
              </div>
          </div>
         <div class="HeaderMenu-trailing-link rounded-bottom-2 flex-shrink-0 mt-lg-4 px-lg-4 py-4 py-lg-3 f5 text-semibold">
            <a href="/solutions">
              View all solutions
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-right HeaderMenu-trailing-link-icon">
    <path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</a>         </div>
      </div>
</li>

                    <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Resources
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>
      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4 d-lg-flex flex-wrap dropdown-menu-wide">
          <div class="HeaderMenu-column px-lg-4 border-lg-right mb-4 mb-lg-0 pr-lg-7">
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="resources-topics-heading">Topics</span>
                <ul class="list-style-none f5" aria-labelledby="resources-topics-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;ai&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;ai_link_resources_navbar&quot;}" href="/resources/articles/ai">
      AI

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;devops&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;devops_link_resources_navbar&quot;}" href="/resources/articles/devops">
      DevOps

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;security&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;security_link_resources_navbar&quot;}" href="/resources/articles/security">
      Security

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;software_development&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;software_development_link_resources_navbar&quot;}" href="/resources/articles/software-development">
      Software Development

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_link_resources_navbar&quot;}" href="/resources/articles">
      View all

    
</a></li>

                </ul>
              </div>
          </div>
          <div class="HeaderMenu-column px-lg-4">
              <div class="border-bottom pb-3 pb-lg-0 border-lg-bottom-0 border-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="resources-explore-heading">Explore</span>
                <ul class="list-style-none f5" aria-labelledby="resources-explore-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;learning_pathways&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;learning_pathways_link_resources_navbar&quot;}" href="https://resources.github.com/learn/pathways">
      Learning Pathways

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;white_papers_ebooks_webinars&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;white_papers_ebooks_webinars_link_resources_navbar&quot;}" href="https://resources.github.com">
      White papers, Ebooks, Webinars

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;customer_stories&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;customer_stories_link_resources_navbar&quot;}" href="https://github.com/customer-stories">
      Customer Stories

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;partners&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;partners_link_resources_navbar&quot;}" href="https://partner.github.com">
      Partners

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;executive_insights&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;executive_insights_link_resources_navbar&quot;}" href="https://github.com/solutions/executive-insights">
      Executive Insights

    
</a></li>

                </ul>
              </div>
          </div>
      </div>
</li>


                <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Open Source
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>
      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4 px-lg-4">
          <div class="HeaderMenu-column">
              <div class="border-bottom pb-3 pb-lg-0 pb-lg-3 mb-3 mb-lg-0 mb-lg-3">
                <ul class="list-style-none f5" >
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_sponsors&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_sponsors_link_open_source_navbar&quot;}" href="/sponsors">
      
      <div>
        <div class="color-fg-default h4">GitHub Sponsors</div>
        Fund open source developers
      </div>

    
</a></li>

                </ul>
              </div>
              <div class="border-bottom pb-3 pb-lg-0 pb-lg-3 mb-3 mb-lg-0 mb-lg-3">
                <ul class="list-style-none f5" >
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;the_readme_project&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;the_readme_project_link_open_source_navbar&quot;}" href="https://github.com/readme">
      
      <div>
        <div class="color-fg-default h4">The ReadME Project</div>
        GitHub community articles
      </div>

    
</a></li>

                </ul>
              </div>
              <div class="border-bottom pb-3 pb-lg-0 border-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="open-source-repositories-heading">Repositories</span>
                <ul class="list-style-none f5" aria-labelledby="open-source-repositories-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;topics&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;topics_link_open_source_navbar&quot;}" href="https://github.com/topics">
      Topics

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;trending&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;trending_link_open_source_navbar&quot;}" href="https://github.com/trending">
      Trending

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;collections&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;collections_link_open_source_navbar&quot;}" href="https://github.com/collections">
      Collections

    
</a></li>

                </ul>
              </div>
          </div>
      </div>
</li>


                <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Enterprise
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>
      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4 px-lg-4">
          <div class="HeaderMenu-column">
              <div class="border-bottom pb-3 pb-lg-0 pb-lg-3 mb-3 mb-lg-0 mb-lg-3">
                <ul class="list-style-none f5" >
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;enterprise_platform&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;enterprise_platform_link_enterprise_navbar&quot;}" href="/enterprise">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-stack color-fg-subtle mr-3">
    <path d="M11.063 1.456a1.749 1.749 0 0 1 1.874 0l8.383 5.316a1.751 1.751 0 0 1 0 2.956l-8.383 5.316a1.749 1.749 0 0 1-1.874 0L2.68 9.728a1.751 1.751 0 0 1 0-2.956Zm1.071 1.267a.25.25 0 0 0-.268 0L3.483 8.039a.25.25 0 0 0 0 .422l8.383 5.316a.25.25 0 0 0 .268 0l8.383-5.316a.25.25 0 0 0 0-.422Z"></path><path d="M1.867 12.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"></path><path d="M1.867 16.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Enterprise platform</div>
        AI-powered developer platform
      </div>

    
</a></li>

                </ul>
              </div>
              <div class="border-bottom pb-3 pb-lg-0 border-bottom-0">
                    <span class="d-block h4 color-fg-default my-1" id="enterprise-available-add-ons-heading">Available add-ons</span>
                <ul class="list-style-none f5" aria-labelledby="enterprise-available-add-ons-heading">
                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;advanced_security&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;advanced_security_link_enterprise_navbar&quot;}" href="https://github.com/enterprise/advanced-security">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-shield-check color-fg-subtle mr-3">
    <path d="M16.53 9.78a.75.75 0 0 0-1.06-1.06L11 13.19l-1.97-1.97a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l5-5Z"></path><path d="m12.54.637 8.25 2.675A1.75 1.75 0 0 1 22 4.976V10c0 6.19-3.771 10.704-9.401 12.83a1.704 1.704 0 0 1-1.198 0C5.77 20.705 2 16.19 2 10V4.976c0-.758.489-1.43 1.21-1.664L11.46.637a1.748 1.748 0 0 1 1.08 0Zm-.617 1.426-8.25 2.676a.249.249 0 0 0-.173.237V10c0 5.46 3.28 9.483 8.43 11.426a.199.199 0 0 0 .14 0C17.22 19.483 20.5 15.461 20.5 10V4.976a.25.25 0 0 0-.173-.237l-8.25-2.676a.253.253 0 0 0-.154 0Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Advanced Security</div>
        Enterprise-grade security features
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description pb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_copilot&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_copilot_link_enterprise_navbar&quot;}" href="/features/copilot#enterprise">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-copilot color-fg-subtle mr-3">
    <path d="M23.922 16.992c-.861 1.495-5.859 5.023-11.922 5.023-6.063 0-11.061-3.528-11.922-5.023A.641.641 0 0 1 0 16.736v-2.869a.841.841 0 0 1 .053-.22c.372-.935 1.347-2.292 2.605-2.656.167-.429.414-1.055.644-1.517a10.195 10.195 0 0 1-.052-1.086c0-1.331.282-2.499 1.132-3.368.397-.406.89-.717 1.474-.952 1.399-1.136 3.392-2.093 6.122-2.093 2.731 0 4.767.957 6.166 2.093.584.235 1.077.546 1.474.952.85.869 1.132 2.037 1.132 3.368 0 .368-.014.733-.052 1.086.23.462.477 1.088.644 1.517 1.258.364 2.233 1.721 2.605 2.656a.832.832 0 0 1 .053.22v2.869a.641.641 0 0 1-.078.256ZM12.172 11h-.344a4.323 4.323 0 0 1-.355.508C10.703 12.455 9.555 13 7.965 13c-1.725 0-2.989-.359-3.782-1.259a2.005 2.005 0 0 1-.085-.104L4 11.741v6.585c1.435.779 4.514 2.179 8 2.179 3.486 0 6.565-1.4 8-2.179v-6.585l-.098-.104s-.033.045-.085.104c-.793.9-2.057 1.259-3.782 1.259-1.59 0-2.738-.545-3.508-1.492a4.323 4.323 0 0 1-.355-.508h-.016.016Zm.641-2.935c.136 1.057.403 1.913.878 2.497.442.544 1.134.938 2.344.938 1.573 0 2.292-.337 2.657-.751.384-.435.558-1.15.558-2.361 0-1.14-.243-1.847-.705-2.319-.477-.488-1.319-.862-2.824-1.025-1.487-.161-2.192.138-2.533.529-.269.307-.437.808-.438 1.578v.021c0 .265.021.562.063.893Zm-1.626 0c.042-.331.063-.628.063-.894v-.02c-.001-.77-.169-1.271-.438-1.578-.341-.391-1.046-.69-2.533-.529-1.505.163-2.347.537-2.824 1.025-.462.472-.705 1.179-.705 2.319 0 1.211.175 1.926.558 2.361.365.414 1.084.751 2.657.751 1.21 0 1.902-.394 2.344-.938.475-.584.742-1.44.878-2.497Z"></path><path d="M14.5 14.25a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Zm-5 0a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">GitHub Copilot</div>
        Enterprise-grade AI features
      </div>

    
</a></li>

                    <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;premium_support&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;premium_support_link_enterprise_navbar&quot;}" href="/premium-support">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-comment-discussion color-fg-subtle mr-3">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"></path><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">Premium Support</div>
        Enterprise-grade 24/7 support
      </div>

    
</a></li>

                </ul>
              </div>
          </div>
      </div>
</li>


                <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
    <a class="HeaderMenu-link no-underline px-0 px-lg-2 py-3 py-lg-2 d-block d-lg-inline-block" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;pricing&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;pricing_link_global_navbar&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div class="d-flex flex-column flex-lg-row width-full flex-justify-end flex-lg-items-center text-center mt-3 mt-lg-0 text-lg-left ml-lg-3">
                


<qbsearch-input class="search-input" data-scope="repo:jwtk/jjwt" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="WjVEULY3JEezWWWuh6V0enmkL_O-l76UIc8RCnobOuy1uXYXF9sxSBqUIjl_BcRTZk7zB5ytQ5utrFLZGLDgQA" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="jwtk/jjwt" data-current-org="jwtk" data-current-owner="" data-logged-in="false" data-copilot-chat-enabled="false" data-nl-search-enabled="false" data-retain-scroll-position="true">
  <div
    class="search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center mr-4 rounded"
    data-action="click:qbsearch-input#searchInputContainerClicked"
  >
      <button
        type="button"
        class="header-search-button placeholder  input-button form-control d-flex flex-1 flex-self-stretch flex-items-center no-wrap width-full py-0 pl-2 pr-0 text-left border-0 box-shadow-none"
        data-target="qbsearch-input.inputButton"
        aria-label="Search or jump to…"
        aria-haspopup="dialog"
        placeholder="Search or jump to..."
        data-hotkey=s,/
        autocapitalize="off"
        data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;searchbar&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;input&quot;,&quot;label&quot;:&quot;searchbar_input_global_navbar&quot;}"
        data-action="click:qbsearch-input#handleExpand"
      >
        <div class="mr-2 color-fg-muted">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
        </div>
        <span class="flex-1" data-target="qbsearch-input.inputButtonText">Search or jump to...</span>
          <div class="d-flex" data-target="qbsearch-input.hotkeyIndicator">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" aria-hidden="true" class="mr-1"><path fill="none" stroke="#979A9C" opacity=".4" d="M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z"></path><path fill="#979A9C" d="M11.8 6L8 15.1h-.9L10.8 6h1z"></path></svg>

          </div>
      </button>

    <input type="hidden" name="type" class="js-site-search-type-field">

    
<div class="Overlay--hidden " data-modal-dialog-overlay>
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true" class="Overlay Overlay--width-large Overlay--height-auto">
      <h1 id="search-suggestions-dialog-header" class="sr-only">Search code, repositories, users, issues, pull requests...</h1>
    <div class="Overlay-body Overlay-body--paddingNone">
      
          <div data-view-component="true">        <div class="search-suggestions position-fixed width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container"
          style="border-radius: 12px;"
          data-target="qbsearch-input.queryBuilderContainer"
          hidden
        >
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="query-builder-test-form" action="" accept-charset="UTF-8" method="get">
  <query-builder data-target="qbsearch-input.queryBuilder" id="query-builder-query-builder-test" data-filter-key=":" data-view-component="true" class="QueryBuilder search-query-builder">
    <div class="FormControl FormControl--fullWidth">
      <label id="query-builder-test-label" for="query-builder-test" class="FormControl-label sr-only">
        Search
      </label>
      <div
        class="QueryBuilder-StyledInput width-fit "
        data-target="query-builder.styledInput"
      >
          <span id="query-builder-test-leadingvisual-wrap" class="FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search FormControl-input-leadingVisual">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </span>
        <div data-target="query-builder.styledInputContainer" class="QueryBuilder-StyledInputContainer">
          <div
            aria-hidden="true"
            class="QueryBuilder-StyledInputContent"
            data-target="query-builder.styledInputContent"
          ></div>
          <div class="QueryBuilder-InputWrapper">
            <div aria-hidden="true" class="QueryBuilder-Sizer" data-target="query-builder.sizer"></div>
            <input id="query-builder-test" name="query-builder-test" value="" autocomplete="off" type="text" role="combobox" spellcheck="false" aria-expanded="false" aria-describedby="validation-6095b88d-2523-43af-b907-29e22c19e142" data-target="query-builder.input" data-action="
          input:query-builder#inputChange
          blur:query-builder#inputBlur
          keydown:query-builder#inputKeydown
          focus:query-builder#inputFocus
        " data-view-component="true" class="FormControl-input QueryBuilder-Input FormControl-medium" />
          </div>
        </div>
          <span class="sr-only" id="query-builder-test-clear">Clear</span>
          <button role="button" id="query-builder-test-clear-button" aria-labelledby="query-builder-test-clear query-builder-test-label" data-target="query-builder.clearButton" data-action="
                click:query-builder#clear
                focus:query-builder#clearButtonFocus
                blur:query-builder#clearButtonBlur
              " variant="small" hidden="hidden" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill Button-visual">
    <path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path>
</svg>
</button>

      </div>
      <template id="search-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
</template>

<template id="code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="file-code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file-code">
    <path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path>
</svg>
</template>

<template id="history-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path>
</svg>
</template>

<template id="repo-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
</template>

<template id="bookmark-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bookmark">
    <path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="plus-circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus-circle">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
</template>

<template id="trash-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path>
</svg>
</template>

<template id="team-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path>
</svg>
</template>

<template id="project-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project">
    <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"></path>
</svg>
</template>

<template id="pencil-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path>
</svg>
</template>

<template id="copilot-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="copilot-error-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot-error">
    <path d="M16 11.24c0 .112-.072.274-.21.467L13 9.688V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-.198 0-.388-.009-.571-.029L6.833 5.226a4.01 4.01 0 0 0 .17-.782c.117-.935-.037-1.395-.241-1.614-.193-.206-.637-.413-1.682-.297-.683.076-1.115.231-1.395.415l-1.257-.91c.579-.564 1.413-.877 2.485-.996 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095Zm-5.083-8.707c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Zm2.511 11.074c-1.393.776-3.272 1.428-5.43 1.428-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.18-.455-.241-.963-.252-1.475L.31 4.107A.747.747 0 0 1 0 3.509V3.49a.748.748 0 0 1 .625-.73c.156-.026.306.047.435.139l14.667 10.578a.592.592 0 0 1 .227.264.752.752 0 0 1 .046.249v.022a.75.75 0 0 1-1.19.596Zm-1.367-.991L5.635 7.964a5.128 5.128 0 0 1-.889.073c-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433 1.539 0 3.089-.505 4.063-.934Z"></path>
</svg>
</template>

<template id="workflow-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-workflow">
    <path d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="book-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
</template>

<template id="code-review-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-review">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 13H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-8.5C0 1.784.784 1 1.75 1ZM1.5 2.75v8.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm5.28 1.72a.75.75 0 0 1 0 1.06L5.31 7l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm2.44 0a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.69 7 9.22 5.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="codespaces-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
</template>

<template id="comment-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment">
    <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="comment-discussion-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</template>

<template id="organization-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-organization">
    <path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="rocket-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-rocket">
    <path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</template>

<template id="shield-check-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield-check">
    <path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="heart-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heart">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
</svg>
</template>

<template id="server-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-server">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="globe-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-globe">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"></path>
</svg>
</template>

<template id="issue-opened-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</template>

<template id="device-mobile-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-mobile">
    <path d="M3.75 0h8.5C13.216 0 14 .784 14 1.75v12.5A1.75 1.75 0 0 1 12.25 16h-8.5A1.75 1.75 0 0 1 2 14.25V1.75C2 .784 2.784 0 3.75 0ZM3.5 1.75v12.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM8 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
</template>

<template id="package-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-package">
    <path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"></path>
</svg>
</template>

<template id="credit-card-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-credit-card">
    <path d="M10.75 9a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z"></path><path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25ZM14.5 6.5h-13v5.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Zm0-2.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25V5h13Z"></path>
</svg>
</template>

<template id="play-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
</template>

<template id="gift-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
</template>

<template id="code-square-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="device-desktop-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-desktop">
    <path d="M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z"></path>
</svg>
</template>

        <div class="position-relative">
                <ul
                  role="listbox"
                  class="ActionListWrap QueryBuilder-ListWrap"
                  aria-label="Suggestions"
                  data-action="
                    combobox-commit:query-builder#comboboxCommit
                    mousedown:query-builder#resultsMousedown
                  "
                  data-target="query-builder.resultsList"
                  data-persist-list=false
                  id="query-builder-test-results"
                ></ul>
        </div>
      <div class="FormControl-inlineValidation" id="validation-6095b88d-2523-43af-b907-29e22c19e142" hidden="hidden">
        <span class="FormControl-inlineValidation--visual">
          <svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg>
        </span>
        <span></span>
</div>    </div>
    <div data-target="query-builder.screenReaderFeedback" aria-live="polite" aria-atomic="true" class="sr-only"></div>
</query-builder></form>
          <div class="d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt">
            <a target="_blank" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax" data-view-component="true" class="Link color-fg-accent text-normal ml-2">Search syntax tips</a>            <div class="d-flex flex-1"></div>
          </div>
        </div>
</div>

    </div>
</modal-dialog></div>
  </div>
  <div data-action="click:qbsearch-input#retract" class="dark-backdrop position-fixed" hidden data-target="qbsearch-input.darkBackdrop"></div>
  <div class="color-fg-default">
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="feedback-dialog-title">
        Provide feedback
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="feedback-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="code-search-feedback-form" data-turbo="false" action="/search/feedback" accept-charset="UTF-8" method="post"><input type="hidden" data-csrf="true" name="authenticity_token" value="oJ/OJcG93tSqfrPXFwxRGzYA8E9WzJPSJjosDWd2+jqaf8SLM36NzY5S9IoUMSD2ifU2Qn6mtokCZN+CY/Ev2w==" />
          <p>We read every piece of feedback, and take your input very seriously.</p>
          <textarea name="feedback" class="form-control width-full mb-2" style="height: 120px" id="feedback"></textarea>
          <input name="include_email" id="include_email" aria-label="Include my email address so I can be contacted" class="form-control mr-2" type="checkbox">
          <label for="include_email" style="font-weight: normal">Include my email address so I can be contacted</label>
</form></div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd">          <button data-close-dialog-id="feedback-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="code-search-feedback-form" data-action="click:qbsearch-input#submitFeedback" type="submit" data-view-component="true" class="btn-primary btn">    Submit feedback
</button>
</div>
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="custom-scopes-dialog-title">
        Saved searches
      </h1>
        <h2 id="custom-scopes-dialog-description" class="Overlay-description">Use saved searches to filter your results more quickly</h2>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="custom-scopes-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

        <div hidden class="create-custom-scope-form" data-target="custom-scopes.createCustomScopeForm">
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="custom-scopes-dialog-form" data-turbo="false" action="/search/custom_scopes" accept-charset="UTF-8" method="post"><input type="hidden" data-csrf="true" name="authenticity_token" value="mLCwOu7mTpgwbyiHP+WthaZh6dxV7c2J3Eby05appoLfX/UxxagPsJ5VvGLhYWV3DPYXcrDbqd8KUi/svPY0MQ==" />
          <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

          <input type="hidden" id="custom_scope_id" name="custom_scope_id" data-target="custom-scopes.customScopesIdField">

          <div class="form-group">
            <label for="custom_scope_name">Name</label>
            <auto-check src="/search/custom_scopes/check_name" required>
              <input
                type="text"
                name="custom_scope_name"
                id="custom_scope_name"
                data-target="custom-scopes.customScopesNameField"
                class="form-control"
                autocomplete="off"
                placeholder="github-ruby"
                required
                maxlength="50">
              <input type="hidden" data-csrf="true" value="mITQSiSp9ikaxK64sZkRrOycBckkunY08OGBA6BsbTsdkSe/7dFEv58p23vdVqZs0/McaPsJpDBE32qjA6F+aQ==" />
            </auto-check>
          </div>

          <div class="form-group">
            <label for="custom_scope_query">Query</label>
            <input
              type="text"
              name="custom_scope_query"
              id="custom_scope_query"
              data-target="custom-scopes.customScopesQueryField"
              class="form-control"
              autocomplete="off"
              placeholder="(repo:mona/a OR repo:mona/b) AND lang:python"
              required
              maxlength="500">
          </div>

          <p class="text-small color-fg-muted">
            To see all available qualifiers, see our <a class="Link--inTextBlock" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax">documentation</a>.
          </p>
</form>        </div>

        <div data-target="custom-scopes.manageCustomScopesForm">
          <div data-target="custom-scopes.list"></div>
        </div>

</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">          <button data-action="click:custom-scopes#customScopesCancel" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="custom-scopes-dialog-form" data-action="click:custom-scopes#customScopesSubmit" data-target="custom-scopes.customScopesSubmitButton" type="submit" data-view-component="true" class="btn-primary btn">    Create saved search
</button>
</div>
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>


            <div class="position-relative HeaderMenu-link-wrap d-lg-inline-block">
              <a
                href="/login?return_to=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt"
                class="HeaderMenu-link HeaderMenu-link--sign-in HeaderMenu-button flex-shrink-0 no-underline d-none d-lg-inline-flex border border-lg-0 rounded rounded-lg-0 px-2 py-1"
                style="margin-left: 12px;"
                data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f9fb7012a5f7e2e113515242f6cbf4d587b73b703cef7c07bb417c7f878a1ab9"
                data-analytics-event="{&quot;category&quot;:&quot;Marketing nav&quot;,&quot;action&quot;:&quot;click to go to homepage&quot;,&quot;label&quot;:&quot;ref_page:Marketing;ref_cta:Sign in;ref_loc:Header&quot;}"
              >
                Sign in
              </a>
            </div>

              <a href="/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=jwtk%2Fjjwt"
                class="HeaderMenu-link HeaderMenu-link--sign-up HeaderMenu-button flex-shrink-0 d-flex d-lg-inline-flex no-underline border color-border-default rounded px-2 py-1"
                data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f9fb7012a5f7e2e113515242f6cbf4d587b73b703cef7c07bb417c7f878a1ab9"
                data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/&lt;user-name&gt;/&lt;repo-name&gt;;ref_cta:Sign up;ref_loc:header logged out&quot;}"
              >
                Sign up
              </a>
          <button type="button" class="sr-only js-header-menu-focus-trap d-block d-lg-none">Reseting focus</button>
        </div>
      </div>
    </div>
  </div>
</header>

      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full">
  
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden>You switched accounts on another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>

    <button id="icon-button-7cd99f16-b921-4274-8fb9-4141372a4bcf" aria-labelledby="tooltip-70bb5613-5bad-47d8-8a40-a836f17e1ef3" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-70bb5613-5bad-47d8-8a40-a836f17e1ef3" for="icon-button-7cd99f16-b921-4274-8fb9-4141372a4bcf" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Dismiss alert</tool-tip>


  
</div>
    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace>




  <template class="js-flash-template">
    
<div class="flash flash-full   {{ className }}">
  <div >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">
      
      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>


    






  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
    data-project-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" >
      
  





    
    

    






  
  <div id="repository-container-header"  class="pt-3 hide-full-screen" style="background-color: var(--page-header-bgColor, var(--color-page-header-bg));" data-turbo-replace>

      <div class="d-flex flex-nowrap flex-justify-end mb-3  px-3 px-lg-5" style="gap: 1rem;">

        <div class="flex-auto min-width-0 width-fit">
            
  <div class=" d-flex flex-wrap flex-items-center wb-break-word f3 text-normal">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo color-fg-muted mr-2">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
    
    <span class="author flex-self-stretch" itemprop="author">
      <a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/jwtk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/jwtk">
        jwtk
</a>    </span>
    <span class="mx-1 flex-self-stretch color-fg-muted">/</span>
    <strong itemprop="name" class="mr-2 flex-self-stretch">
      <a data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/jwtk/jjwt">jjwt</a>
    </strong>

    <span></span><span class="Label Label--secondary v-align-middle mr-1">Public</span>
  </div>


        </div>

        <div id="repository-details-container" class="flex-shrink-0" data-turbo-replace style="max-width: 70%;">
            <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">
    
      

  <li>
            <a href="/login?return_to=%2Fjwtk%2Fjjwt" rel="nofollow" id="repository-details-watch-button" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f7f0f4a834471736f7992c08181f9c4fcffc34ee1c078ce2be0979ccbea4da31" aria-label="You must be signed in to change notification settings" data-view-component="true" class="btn-sm btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell mr-2">
    <path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path>
</svg>Notifications
</a>    <tool-tip id="tooltip-d30d5c30-2cae-4eed-8636-53ae6e7d4be8" for="repository-details-watch-button" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">You must be signed in to change notification settings</tool-tip>

  </li>

  <li>
          <a icon="repo-forked" id="fork-button" href="/login?return_to=%2Fjwtk%2Fjjwt" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;repo details fork button&quot;,&quot;repository_id&quot;:23982180,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="8da921deb78c829f2e078bd5bf2aa7558e7fc74465b43a69d543f1462ecc4f9f" data-view-component="true" class="btn-sm btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-2">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>Fork
    <span id="repo-network-counter" data-pjax-replace="true" data-turbo-replace="true" title="1,342" data-view-component="true" class="Counter">1.3k</span>
</a>
  </li>

  <li>
        <div data-view-component="true" class="BtnGroup d-flex">
        <a href="/login?return_to=%2Fjwtk%2Fjjwt" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:23982180,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="60b935d04551330efd23a553dcecad12db638f39f6fdbb1a00f8fc764817f189" aria-label="You must be signed in to star a repository" data-view-component="true" class="tooltipped tooltipped-sw btn-sm btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star v-align-text-bottom d-inline-block mr-2">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg><span data-view-component="true" class="d-inline">
          Star
</span>          <span id="repo-stars-counter-star" aria-label="10435 users starred this repository" data-singular-suffix="user starred this repository" data-plural-suffix="users starred this repository" data-turbo-replace="true" title="10,435" data-view-component="true" class="Counter js-social-count">10.4k</span>
</a></div>
  </li>

</ul>

        </div>
      </div>

        <div id="responsive-meta-container" data-turbo-replace>
      <div class="d-block d-md-none mb-2 px-3 px-md-4 px-lg-5">
      <p class="f4 mb-3 ">
        Java JWT: JSON Web Token for Java and Android
      </p>

    
      <h3 class="sr-only">License</h3>
  <div class="mb-2">
    <a href="/jwtk/jjwt/blob/master/LICENSE"
      class="Link--muted"
      
      data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:license&quot;}"
    >
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-law mr-2">
    <path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path>
</svg>
     Apache-2.0 license
    </a>
  </div>


    <div class="mb-3">
        <a class="Link--secondary no-underline mr-3" href="/jwtk/jjwt/stargazers">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star mr-1">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
          <span class="text-bold">10.4k</span>
          stars
</a>        <a class="Link--secondary no-underline mr-3" href="/jwtk/jjwt/forks">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-1">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          <span class="text-bold">1.3k</span>
          forks
</a>        <a class="Link--secondary no-underline mr-3 d-inline-block" href="/jwtk/jjwt/branches">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-branch mr-1">
    <path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
</svg>
          <span>Branches</span>
</a>        <a class="Link--secondary no-underline d-inline-block" href="/jwtk/jjwt/tags">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag mr-1">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
          <span>Tags</span>
</a>        <a class="Link--secondary no-underline d-inline-block" href="/jwtk/jjwt/activity">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pulse mr-1">
    <path d="M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z"></path>
</svg>
          <span>Activity</span>
</a>    </div>

      <div class="d-flex flex-wrap gap-2">
        <div class="flex-1">
            <div data-view-component="true" class="BtnGroup d-flex">
        <a href="/login?return_to=%2Fjwtk%2Fjjwt" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:23982180,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="60b935d04551330efd23a553dcecad12db638f39f6fdbb1a00f8fc764817f189" aria-label="You must be signed in to star a repository" data-view-component="true" class="tooltipped tooltipped-sw btn-sm btn btn-block">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star v-align-text-bottom d-inline-block mr-2">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg><span data-view-component="true" class="d-inline">
          Star
</span>
</a></div>
        </div>
        <div class="flex-1">
                <a href="/login?return_to=%2Fjwtk%2Fjjwt" rel="nofollow" id="files-overview-watch-button" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jwtk/jjwt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f7f0f4a834471736f7992c08181f9c4fcffc34ee1c078ce2be0979ccbea4da31" aria-label="You must be signed in to change notification settings" data-view-component="true" class="btn-sm btn btn-block">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell mr-2">
    <path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path>
</svg>Notifications
</a>    <tool-tip id="tooltip-e67a0549-12c8-4dcc-8444-89b9d3280789" for="files-overview-watch-button" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">You must be signed in to change notification settings</tool-tip>

        </div>
        <span>
          

        </span>
      </div>
  </div>

</div>


          <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="/jwtk/jjwt" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments repo_attestations /jwtk/jjwt" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g c" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" aria-current="page" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        <span data-content="Code">Code</span>
          <span id="code-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="/jwtk/jjwt/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /jwtk/jjwt/issues" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        <span data-content="Issues">Issues</span>
          <span id="issues-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="35" data-view-component="true" class="Counter">35</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="/jwtk/jjwt/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /jwtk/jjwt/pulls" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        <span data-content="Pull requests">Pull requests</span>
          <span id="pull-requests-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="14" data-view-component="true" class="Counter">14</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="discussions-tab" href="/jwtk/jjwt/discussions" data-tab-item="i3discussions-tab" data-selected-links="repo_discussions /jwtk/jjwt/discussions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g g" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Discussions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        <span data-content="Discussions">Discussions</span>
          <span id="discussions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="/jwtk/jjwt/actions" data-tab-item="i4actions-tab" data-selected-links="repo_actions /jwtk/jjwt/actions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g a" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        <span data-content="Actions">Actions</span>
          <span id="actions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="projects-tab" href="/jwtk/jjwt/projects" data-tab-item="i5projects-tab" data-selected-links="repo_projects new_repo_project repo_project /jwtk/jjwt/projects" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g b" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Projects&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table UnderlineNav-octicon d-none d-sm-inline">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        <span data-content="Projects">Projects</span>
          <span id="projects-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="wiki-tab" href="/jwtk/jjwt/wiki" data-tab-item="i6wiki-tab" data-selected-links="repo_wiki /jwtk/jjwt/wiki" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g w" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Wiki&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book UnderlineNav-octicon d-none d-sm-inline">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
        <span data-content="Wiki">Wiki</span>
          <span id="wiki-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="/jwtk/jjwt/security" data-tab-item="i7security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /jwtk/jjwt/security" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g s" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span data-content="Security">Security</span>
          <include-fragment src="/jwtk/jjwt/security/overall-count" accept="text/fragment+html"></include-fragment>

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="/jwtk/jjwt/pulse" data-tab-item="i8insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /jwtk/jjwt/pulse" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        <span data-content="Insights">Insights</span>
          <span id="insights-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <action-menu data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-button" popovertarget="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-overlay" aria-controls="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-list" aria-haspopup="true" aria-labelledby="tooltip-e3a3c218-0e43-4cd6-9acb-b7a80b78c532" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium UnderlineNav-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-e3a3c218-0e43-4cd6-9acb-b7a80b78c532" for="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Additional navigation options</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-overlay" anchor="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-button" id="action-menu-28e169a2-b814-4adc-95eb-f7025e48ae27-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-menu-item="i0code-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-c32fcd63-533e-47cc-97fc-b1f3fe651069" href="/jwtk/jjwt" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Code
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i1issues-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-3b185500-bcf7-46af-a35c-525c65957fd4" href="/jwtk/jjwt/issues" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i2pull-requests-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-fc586d5d-b229-4d6c-97a2-1de605e14190" href="/jwtk/jjwt/pulls" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i3discussions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-e275e87c-942e-4edc-bdc7-abff1828c5d2" href="/jwtk/jjwt/discussions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Discussions
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i4actions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-cef3a362-9fd9-40fc-86e9-521d767109fa" href="/jwtk/jjwt/actions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Actions
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i5projects-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-f342ea58-27b4-481f-87fc-db9148af0f4d" href="/jwtk/jjwt/projects" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i6wiki-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-d21b482a-1498-4fe8-80c4-a690530f5e1a" href="/jwtk/jjwt/wiki" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Wiki
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i7security-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-dac6a364-2345-41d7-a602-bb44d7c30c97" href="/jwtk/jjwt/security" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Security
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i8insights-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-49b6c87d-ccd1-4600-b701-f1162bdcdfdf" href="/jwtk/jjwt/pulse" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Insights
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu></div>
</nav>

  </div>

  



<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance" class="">
    <div id="repo-content-pjax-container" class="repository-content " >
    



    
      
  <h1 class='sr-only'>jwtk/jjwt</h1>
  <div class="clearfix container-xl px-md-4 px-lg-5 px-3">
    <div>

  <div style="max-width: 100%" data-view-component="true" class="Layout Layout--flowRow-until-md react-repos-overview-margin Layout--sidebarPosition-end Layout--sidebarPosition-flowRow-end">
  <div data-view-component="true" class="Layout-main">      <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_dompurify_dist_purify_js-b89b98661809.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52-843b41414e0e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_hydro-analytics-client_dist_analytics-client_js-node_modules_gith-9002b0-881da98a8b00.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-014121-a7926fdcecf7.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_paths_index_ts-c223e79a3369.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ref-selector_RefSelector_tsx-691189ea6f17.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_hooks-503c34-a65f6e2bb616.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-012d79-33bf117ca4fb.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/repos-overview-38dca35a5bc4.js"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.491a1e189efd351d2e8c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/repos-overview.090f32311905b4385171.module.css" />

<react-partial
  partial-name="repos-overview"
  data-ssr="true"
  data-attempted-ssr="true"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"initialPayload":{"allShortcutsEnabled":false,"path":"/","repo":{"id":23982180,"defaultBranch":"master","name":"jjwt","ownerLogin":"jwtk","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2014-09-13T01:06:24.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/8755770?v=4","public":true,"private":false,"isOrgOwned":true},"currentUser":null,"refInfo":{"name":"master","listCacheKey":"v0:1722079288.0","canEdit":false,"refType":"branch","currentOid":"2ad964a3f1d77ffa1a915640d94e9238216a52d6"},"tree":{"items":[{"name":".github","path":".github","contentType":"directory"},{"name":".mvn/wrapper","path":".mvn/wrapper","contentType":"directory","hasSimplifiedPath":true},{"name":"api","path":"api","contentType":"directory"},{"name":"bom","path":"bom","contentType":"directory"},{"name":"extensions","path":"extensions","contentType":"directory"},{"name":"impl","path":"impl","contentType":"directory"},{"name":"src/license","path":"src/license","contentType":"directory","hasSimplifiedPath":true},{"name":"tdjar","path":"tdjar","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"CHANGELOG.md","path":"CHANGELOG.md","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"NOTICE.md","path":"NOTICE.md","contentType":"file"},{"name":"README.adoc","path":"README.adoc","contentType":"file"},{"name":"SECURITY.md","path":"SECURITY.md","contentType":"file"},{"name":"mvnw","path":"mvnw","contentType":"file"},{"name":"mvnw.cmd","path":"mvnw.cmd","contentType":"file"},{"name":"pom.xml","path":"pom.xml","contentType":"file"}],"templateDirectorySuggestionUrl":null,"readme":null,"totalCount":17,"showBranchInfobar":false},"fileTree":null,"fileTreeProcessingTime":null,"foldersToFetch":[],"treeExpanded":false,"symbolsExpanded":false,"isOverview":true,"overview":{"banners":{"shouldRecommendReadme":false,"isPersonalRepo":false,"showUseActionBanner":false,"actionSlug":null,"actionId":null,"showProtectBranchBanner":false,"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_repo","releasePath":"/jwtk/jjwt/releases/new?marketplace=true","showPublishActionBanner":false},"interactionLimitBanner":null,"showInvitationBanner":false,"inviterName":null,"actionsMigrationBannerInfo":{"releaseTags":[],"showImmutableActionsMigrationBanner":false,"initialMigrationStatus":null}},"codeButton":{"contactPath":"/contact","isEnterprise":false,"local":{"protocolInfo":{"httpAvailable":true,"sshAvailable":null,"httpUrl":"https://github.com/jwtk/jjwt.git","showCloneWarning":null,"sshUrl":null,"sshCertificatesRequired":null,"sshCertificatesAvailable":null,"ghCliUrl":"gh repo clone jwtk/jjwt","defaultProtocol":"http","newSshKeyUrl":"/settings/ssh/new","setProtocolPath":"/users/set_protocol"},"platformInfo":{"cloneUrl":"https://desktop.github.com","showVisualStudioCloneButton":false,"visualStudioCloneUrl":"https://windows.github.com","showXcodeCloneButton":false,"xcodeCloneUrl":"xcode://clone?repo=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt","zipballUrl":"/jwtk/jjwt/archive/refs/heads/master.zip"}},"newCodespacePath":"/codespaces/new?hide_repo_select=true\u0026repo=23982180"},"popovers":{"rename":null,"renamedParentRepo":null},"commitCount":"596","overviewFiles":[{"displayName":"README.adoc","repoName":"jjwt","refName":"master","path":"README.adoc","preferredFileType":"readme","tabName":"README","richText":"\u003carticle class=\"markdown-body entry-content container-lg\" itemprop=\"text\"\u003e\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJava JWT: JSON Web Token for Java and Android\u003c/h1\u003e\u003ca id=\"user-content-java-jwt-json-web-token-for-java-and-android\" class=\"anchor\" aria-label=\"Permalink: Java JWT: JSON Web Token for Java and Android\" href=\"#java-jwt-json-web-token-for-java-and-android\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv id=\"user-content-preamble\" dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cspan\u003e\u003ca href=\"https://github.com/jwtk/jjwt/actions/workflows/ci.yml?query=branch%3Amaster\"\u003e\u003cimg src=\"https://github.com/jwtk/jjwt/actions/workflows/ci.yml/badge.svg?branch=master\" alt=\"Build Status\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/span\u003e\n\u003cspan\u003e\u003ca href=\"https://coveralls.io/github/jwtk/jjwt?branch=master\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/f8d5c75a7f6620fe9ec85adefb50b779aa905848b2a283e481da6f945e99c91b/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6a77746b2f6a6a77742f62616467652e7376673f6272616e63683d6d6173746572\" alt=\"Coverage Status\" data-canonical-src=\"https://coveralls.io/repos/github/jwtk/jjwt/badge.svg?branch=master\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/span\u003e\n\u003cspan\u003e\u003ca href=\"https://snyk-widget.herokuapp.com/badge/mvn/io.jsonwebtoken/jjwt-root/badge.svg\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/954cacfc115283e7267c067b01b830625e26e17e2682474d9815ac028200e88b/68747470733a2f2f736e796b2d7769646765742e6865726f6b756170702e636f6d2f62616467652f6d766e2f696f2e6a736f6e776562746f6b656e2f6a6a77742d726f6f742f62616467652e737667\" alt=\"Vuln score\" data-canonical-src=\"https://snyk-widget.herokuapp.com/badge/mvn/io.jsonwebtoken/jjwt-root/badge.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/span\u003e\n\u003cspan\u003e\u003ca href=\"https://snyk.io/test/github/jwtk/jjwt/badge.svg\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/e0f21494969a612e8d3dd63d80afee02ced84ff8450bccf936c7679b2dba1e84/68747470733a2f2f736e796b2e696f2f746573742f6769746875622f6a77746b2f6a6a77742f62616467652e737667\" alt=\"Known Vulns\" data-canonical-src=\"https://snyk.io/test/github/jwtk/jjwt/badge.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJJWT aims to be the easiest to use and understand library for creating and verifying JSON Web Tokens (JWTs) and\nJSON Web Keys (JWKs) on the JVM and Android.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJJWT is a pure Java implementation based exclusively on the\n\u003ca href=\"https://datatracker.ietf.org/wg/jose/documents/\" rel=\"nofollow\"\u003eJOSE Working Group\u003c/a\u003e RFC specifications:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://tools.ietf.org/html/rfc7519\" rel=\"nofollow\"\u003eRFC 7519: JSON Web Token (JWT)\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://tools.ietf.org/html/rfc7515\" rel=\"nofollow\"\u003eRFC 7515: JSON Web Signature (JWS)\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://tools.ietf.org/html/rfc7516\" rel=\"nofollow\"\u003eRFC 7516: JSON Web Encryption (JWE)\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://tools.ietf.org/html/rfc7517\" rel=\"nofollow\"\u003eRFC 7517: JSON Web Key (JWK)\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://tools.ietf.org/html/rfc7518\" rel=\"nofollow\"\u003eRFC 7518: JSON Web Algorithms (JWA)\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7638.html\" rel=\"nofollow\"\u003eRFC 7638: JSON Web Key Thumbprint\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc9278.html\" rel=\"nofollow\"\u003eRFC 9278: JSON Web Key Thumbprint URI\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7797.html\" rel=\"nofollow\"\u003eRFC 7797: JWS Unencoded Payload Option\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc8037\" rel=\"nofollow\"\u003eRFC 8037: Edwards Curve algorithms and JWKs\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIt was created by \u003ca href=\"https://github.com/lhazlewood\"\u003eLes Hazlewood\u003c/a\u003e\nand is supported and maintained by a \u003ca href=\"https://github.com/jwtk/jjwt/graphs/contributors\"\u003ecommunity\u003c/a\u003e of contributors.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJJWT is open source under the terms of the \u003ca href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\"\u003eApache 2.0 License\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-table-of-contents\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eTable of Contents\u003c/h2\u003e\u003ca id=\"user-content-table-of-contents\" class=\"anchor\" aria-label=\"Permalink: Table of Contents\" href=\"#table-of-contents\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003chr\u003e\n\u003cdiv id=\"user-content-toc\" dir=\"auto\"\u003e\n\u003cdiv id=\"user-content-toctitle\" dir=\"auto\"\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#features\"\u003eFeatures\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#currently-unsupported-features\"\u003eCurrently Unsupported Features\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#community\"\u003eCommunity\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#getting-help\"\u003eGetting Help\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#questions\"\u003eQuestions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#bugs-feature-requests-ideas-and-general-discussions\"\u003eBugs, Feature Requests, Ideas and General Discussions\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#contributing\"\u003eContributing\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#pull-requests\"\u003ePull Requests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#help-wanted\"\u003eHelp Wanted\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#what-is-a-json-web-token\"\u003eWhat is a JSON Web Token?\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwt-example\"\u003eJWT Example\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jws-example\"\u003eJWS Example\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwe-example\"\u003eJWE Example\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#installation\"\u003eInstallation\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jdk-projects\"\u003eJDK Projects\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#maven\"\u003eMaven\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#gradle\"\u003eGradle\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#android-projects\"\u003eAndroid Projects\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#dependencies\"\u003eDependencies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#proguard\"\u003eProguard\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#bouncy-castle\"\u003eBouncy Castle\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#understanding-jjwt-dependencies\"\u003eUnderstanding JJWT Dependencies\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#quickstart\"\u003eQuickstart\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#creating-a-jwt\"\u003eCreating a JWT\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwt-header\"\u003eJWT Header\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwtbuilder-header\"\u003eJwtBuilder Header\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#custom-header-parameters\"\u003eCustom Header Parameters\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#header-parameter-map\"\u003eHeader Parameter Map\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwts-headerbuilder\"\u003eJwts HeaderBuilder\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-payload\"\u003eJWT Payload\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#arbitrary-content\"\u003eArbitrary Content\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-claims\"\u003eJWT Claims\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#standard-claims\"\u003eStandard Claims\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#custom-claims\"\u003eCustom Claims\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#claims-map\"\u003eClaims Map\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-compression\"\u003eJWT Compression\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#reading-a-jwt\"\u003eReading a JWT\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#constant-parsing-key\"\u003eConstant Parsing Key\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#multiple-keys\"\u003eMultiple Keys?\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#dynamic-key-lookup\"\u003eDynamic Key Lookup\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#key-locator\"\u003eKey Locator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#key-locator-strategy\"\u003eKey Locator Strategy\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#key-locator-return-values\"\u003eKey Locator Return Values\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#provider-constrained-keys\"\u003eProvider-constrained Keys\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#claim-assertions\"\u003eClaim Assertions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#accounting-for-clock-skew\"\u003eAccounting for Clock Skew\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#custom-clock-support\"\u003eCustom Clock Support\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-decompression\"\u003eJWT Decompression\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#signed-jwts\"\u003eSigned JWTs\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#standard-signature-algorithms\"\u003eStandard Signature Algorithms\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#signature-algorithms-keys\"\u003eSignature Algorithms Keys\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#hmac-sha\"\u003eHMAC-SHA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#rsa\"\u003eRSA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#elliptic-curve\"\u003eElliptic Curve\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#edwards-curve\"\u003eEdwards Curve\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#creating-safe-keys\"\u003eCreating Safe Keys\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#secret-keys\"\u003eSecret Keys\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#asymmetric-keys\"\u003eAsymmetric Keys\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#creating-a-jws\"\u003eCreating a JWS\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#signing-key\"\u003eSigning Key\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#secretkey-formats\"\u003eSecretKey Formats\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#signaturealgorithm-override\"\u003eSignatureAlgorithm Override\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jws-compression\"\u003eJWS Compression\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#reading-a-jws\"\u003eReading a JWS\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#verification-key\"\u003eVerification Key\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#verification-key-locator\"\u003eVerification Key Locator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jws-decompression\"\u003eJWS Decompression\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#unencoded-payload-option\"\u003eUnencoded Payload Option\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#benefits\"\u003eBenefits\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#disadvantages\"\u003eDisadvantages\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#detached-payload-example\"\u003eDetached Payload Example\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#non-detached-payload-example\"\u003eNon-Detached Payload Example\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#encrypted-jwts\"\u003eEncrypted JWTs\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwe-encryption-algorithms\"\u003eJWE Encryption Algorithms\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#symmetric-ciphers\"\u003eSymmetric Ciphers\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwe-key-management-algorithms\"\u003eJWE Key Management Algorithms\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwe-standard-key-management-algorithms\"\u003eJWE Standard Key Management Algorithms\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#rsa-key-encryption\"\u003eRSA Key Encryption\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#aes-key-encryption\"\u003eAES Key Encryption\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#direct-key-encryption\"\u003eDirect Key Encryption\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#password-based-key-encryption\"\u003ePassword-Based Key Encryption\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es\"\u003eElliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#creating-a-jwe\"\u003eCreating a JWE\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwe-compression\"\u003eJWE Compression\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#reading-a-jwe\"\u003eReading a JWE\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#decryption-key\"\u003eDecryption Key\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#decryption-key-locator\"\u003eDecryption Key Locator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#ecdh-es-decryption-with-pkcs11-privatekeys\"\u003eECDH-ES Decryption with PKCS11 PrivateKeys\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwe-decompression\"\u003eJWE Decompression\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#json-web-keys-jwks\"\u003eJSON Web Keys (JWKs)\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#create-a-jwk\"\u003eCreate a JWK\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwk-from-a-map\"\u003eJWK from a Map\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#read-a-jwk\"\u003eRead a JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#privatekey-jwks\"\u003ePrivateKey JWKs\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#private-jwk-publickey\"\u003ePrivate JWK \u003ccode\u003ePublicKey\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#private-jwk-from-keypair\"\u003ePrivate JWK from KeyPair\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#private-jwk-public-conversion\"\u003ePrivate JWK Public Conversion\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwk-thumbprints\"\u003eJWK Thumbprints\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwk-thumbprint-as-a-key-id\"\u003eJWK Thumbprint as a Key ID\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwk-thumbprint-uri\"\u003eJWK Thumbprint URI\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwk-security-considerations\"\u003eJWK Security Considerations\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwk-tostring-safety\"\u003eJWK \u003ccode\u003etoString()\u003c/code\u003e Safety\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwk-sets\"\u003eJWK Sets\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#create-a-jwk-set\"\u003eCreate a JWK Set\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#read-a-jwk-set\"\u003eRead a JWK Set\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#custom-compression-algorithm\"\u003eCustom Compression Algorithm\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#json-support\"\u003eJSON Support\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#custom-json-processor\"\u003eCustom JSON Processor\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jackson-json-processor\"\u003eJackson JSON Processor\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#parsing-of-custom-claim-types\"\u003eParsing of Custom Claim Types\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#gson-json-processor\"\u003eGson JSON Processor\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#base64-support\"\u003eBase64 Support\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#understanding-base64-in-security-contexts\"\u003eUnderstanding Base64 in Security Contexts\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#base64-is-not-encryption\"\u003eBase64 is not encryption\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#changing-base64-characters\"\u003eChanging Base64 Characters\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#adding-invalid-characters\"\u003eAdding Invalid Characters\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#custom-base64\"\u003eCustom Base64\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#examples\"\u003eExamples\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#jwt-signed-with-hmac\"\u003eJWT Signed with HMAC\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-signed-with-rsa\"\u003eJWT Signed with RSA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-signed-with-ecdsa\"\u003eJWT Signed with ECDSA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-signed-with-eddsa\"\u003eJWT Signed with EdDSA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-encrypted-directly-with-a-secretkey\"\u003eJWT Encrypted Directly with a SecretKey\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-encrypted-with-rsa\"\u003eJWT Encrypted with RSA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-encrypted-with-aes-key-wrap\"\u003eJWT Encrypted with AES Key Wrap\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-encrypted-with-ecdh-es\"\u003eJWT Encrypted with ECDH-ES\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jwt-encrypted-with-a-password\"\u003eJWT Encrypted with a Password\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#secretkey-jwk\"\u003eSecretKey JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#rsa-public-jwk\"\u003eRSA Public JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#rsa-private-jwk\"\u003eRSA Private JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#elliptic-curve-public-jwk\"\u003eElliptic Curve Public JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#elliptic-curve-private-jwk\"\u003eElliptic Curve Private JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#edwards-elliptic-curve-public-jwk\"\u003eEdwards Elliptic Curve Public JWK\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#edwards-elliptic-curve-private-jwk\"\u003eEdwards Elliptic Curve Private JWK\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#learn-more\"\u003eLearn More\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#author\"\u003eAuthor\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#license\"\u003eLicense\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-features\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-features\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eFeatures\u003c/h2\u003e\u003ca id=\"user-content-features\" class=\"anchor\" aria-label=\"Permalink: Features\" href=\"#features\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFully functional on all Java 7+ JDKs and Android\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAutomatic security best practices and assertions\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEasy to learn and read API\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eConvenient and readable \u003ca href=\"http://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow\"\u003efluent\u003c/a\u003e interfaces, great for IDE\nauto-completion to write code quickly\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFully RFC specification compliant on all implemented functionality, tested against RFC-specified test vectors\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eStable implementation with almost 1,700 tests and enforced 100% test code coverage.  Every single method, statement\nand conditional branch variant in the entire codebase is tested and required to pass on every build.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCreating, parsing and verifying digitally signed compact JWTs (aka JWSs) with all standard JWS algorithms:\u003c/p\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eSignature Algorithm\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eHMAC using SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eHMAC using SHA-384\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eHMAC using SHA-512\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eES256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDSA using P-256 and SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eES384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDSA using P-384 and SHA-384\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eES512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDSA using P-521 and SHA-512\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PKCS-v1_5 using SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PKCS-v1_5 using SHA-384\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PKCS-v1_5 using SHA-512\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PSS using SHA-256 and MGF1 with SHA-256\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PSS using SHA-384 and MGF1 with SHA-384\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PSS using SHA-512 and MGF1 with SHA-512\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eEdDSA\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eEdwards-curve Digital Signature Algorithm\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1.\u003c/strong\u003e Requires Java 11 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCreating, parsing and decrypting encrypted compact JWTs (aka JWEs) with all standard JWE encryption algorithms:\u003c/p\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eEncryption Algorithm\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128CBC‑HS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3\" rel=\"nofollow\"\u003eAES_128_CBC_HMAC_SHA_256\u003c/a\u003e authenticated encryption algorithm\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192CBC-HS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.4\" rel=\"nofollow\"\u003eAES_192_CBC_HMAC_SHA_384\u003c/a\u003e authenticated encryption algorithm\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256CBC-HS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5\" rel=\"nofollow\"\u003eAES_256_CBC_HMAC_SHA_512\u003c/a\u003e authenticated encryption algorithm\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128GCM\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES GCM using 128-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192GCM\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES GCM using 192-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256GCM\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES GCM using 256-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAll Key Management Algorithms for obtaining JWE encryption and decryption keys:\u003c/p\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eKey Management Algorithm\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSA1_5\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSAES-PKCS1-v1_5\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSA-OAEP\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSAES OAEP using default parameters\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSA-OAEP-256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSAES OAEP using SHA-256 and MGF1 with SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES Key Wrap with default initial value using 128-bit key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES Key Wrap with default initial value using 192-bit key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES Key Wrap with default initial value using 256-bit key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003edir\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eDirect use of a shared symmetric key as the CEK\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eElliptic Curve Diffie-Hellman Ephemeral Static key agreement using Concat KDF\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES+A128KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDH-ES using Concat KDF and CEK wrapped with \"A128KW\"\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES+A192KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDH-ES using Concat KDF and CEK wrapped with \"A192KW\"\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES+A256KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDH-ES using Concat KDF and CEK wrapped with \"A256KW\"\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128GCMKW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eKey wrapping with AES GCM using 128-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192GCMKW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eKey wrapping with AES GCM using 192-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256GCMKW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eKey wrapping with AES GCM using 256-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePBES2-HS256+A128KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003ePBES2 with HMAC SHA-256 and \"A128KW\" wrapping\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePBES2-HS384+A192KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003ePBES2 with HMAC SHA-384 and \"A192KW\" wrapping\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePBES2‑HS512+A256KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003ePBES2 with HMAC SHA-512 and \"A256KW\" wrapping\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCreating, parsing and verifying JSON Web Keys (JWKs) in all standard JWA key formats using native Java \u003ccode\u003eKey\u003c/code\u003e types:\u003c/p\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eJWK Key Format\u003c/th\u003e\n\u003cth\u003eJava \u003ccode\u003eKey\u003c/code\u003e Type\u003c/th\u003e\n\u003cth\u003eJJWT \u003ccode\u003eJwk\u003c/code\u003e Type\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eSymmetric Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eSecretKey\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eSecretJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eElliptic Curve Public Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECPublicKey\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eEcPublicJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eElliptic Curve Private Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECPrivateKey\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eEcPrivateJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSA Public Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSAPublicKey\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRsaPublicJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSA Private Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSAPrivateKey\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRsaPrivateJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eXDH Private Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eXECPublicKey\u003c/code\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eOctetPublicJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eXDH Private Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eXECPrivateKey\u003c/code\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eOctetPrivateJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eEdDSA Public Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eEdECPublicKey\u003c/code\u003e\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eOctetPublicJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eEdDSA Private Key\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eEdECPublicKey\u003c/code\u003e\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eOctetPrivateJwk\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eConvenience enhancements beyond the specification such as\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003ePayload compression for any large JWT, not just JWEs\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eClaims assertions (requiring specific values)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eClaim POJO marshaling and unmarshalling when using a compatible JSON parser (e.g. Jackson)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSecure Key generation based on desired JWA algorithms\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eand more…​\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-features-unsupported\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-currently-unsupported-features\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCurrently Unsupported Features\u003c/h3\u003e\u003ca id=\"user-content-currently-unsupported-features\" class=\"anchor\" aria-label=\"Permalink: Currently Unsupported Features\" href=\"#currently-unsupported-features\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://tools.ietf.org/html/rfc7515#section-7.2\" rel=\"nofollow\"\u003eNon-compact\u003c/a\u003e serialization and parsing.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis feature may be implemented in a future release.  Community contributions are welcome!\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-community\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-community\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCommunity\u003c/h2\u003e\u003ca id=\"user-content-community\" class=\"anchor\" aria-label=\"Permalink: Community\" href=\"#community\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-help\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-getting-help\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eGetting Help\u003c/h3\u003e\u003ca id=\"user-content-getting-help\" class=\"anchor\" aria-label=\"Permalink: Getting Help\" href=\"#getting-help\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you have trouble using JJWT, please first read the documentation on this page before asking questions.  We try\nvery hard to ensure JJWT’s documentation is robust, categorized with a table of contents, and up to date for each\nrelease.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-help-questions\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-questions\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eQuestions\u003c/h4\u003e\u003ca id=\"user-content-questions\" class=\"anchor\" aria-label=\"Permalink: Questions\" href=\"#questions\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf the documentation or the API JavaDoc isn’t sufficient, and you either have usability questions or are confused\nabout something, please \u003ca href=\"https://github.com/jwtk/jjwt/discussions/new?category=q-a\"\u003eask your question here\u003c/a\u003e. However:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003ePlease do not create a GitHub issue to ask a question.\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWe use GitHub Issues to track actionable work that requires changes to JJWT’s design and/or codebase.  If you have a\nusability question, instead please\n\u003ca href=\"https://github.com/jwtk/jjwt/discussions/new?category=q-a\"\u003eask your question here\u003c/a\u003e, and we can convert that to an\nissue if necessary.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eIf a GitHub Issue is created that does not represent actionable work for JJWT’s codebase, it will be promptly\nclosed.\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-help-issues\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-bugs-feature-requests-ideas-and-general-discussions\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBugs, Feature Requests, Ideas and General Discussions\u003c/h4\u003e\u003ca id=\"user-content-bugs-feature-requests-ideas-and-general-discussions\" class=\"anchor\" aria-label=\"Permalink: Bugs, Feature Requests, Ideas and General Discussions\" href=\"#bugs-feature-requests-ideas-and-general-discussions\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you do not have a usability question and believe you have a legitimate bug or feature request,\nplease \u003ca href=\"https://github.com/jwtk/jjwt/discussions\"\u003ediscuss it here\u003c/a\u003e \u003cstrong\u003e\u003cem\u003eFIRST\u003c/em\u003e\u003c/strong\u003e. Please do a quick search first to\nsee if an existing discussion related to yours exist already and join that existing discussion if necesary.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you feel like you’d like to help fix a bug or implement the new feature yourself, please read the Contributing\nsection next before starting any work.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-contributing\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-contributing\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eContributing\u003c/h3\u003e\u003ca id=\"user-content-contributing\" class=\"anchor\" aria-label=\"Permalink: Contributing\" href=\"#contributing\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-contributing-pull-requests\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-pull-requests\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePull Requests\u003c/h4\u003e\u003ca id=\"user-content-pull-requests\" class=\"anchor\" aria-label=\"Permalink: Pull Requests\" href=\"#pull-requests\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSimple Pull Requests that fix anything other than JJWT core code (documentation, JavaDoc, typos, test cases, etc) are\nalways appreciated and have a high likelihood of being merged quickly. Please send them!\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, if you want or feel the need to change JJWT’s functionality or core code, please do not issue a pull request\nwithout \u003ca href=\"https://github.com/jwtk/jjwt/discussions\"\u003estarting a new JJWT discussion\u003c/a\u003e and discussing your desired\nchanges \u003cstrong\u003efirst\u003c/strong\u003e, \u003cem\u003ebefore you start working on it\u003c/em\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIt would be a shame to reject your earnest and genuinely-appreciated pull request if it might not align with the\nproject’s goals, design expectations or planned functionality.  We’ve sadly had to reject large PRs in the past because\nthey were out of sync with project or design expectations - all because the PR author didn’t first check in with\nthe team first before working on a solution.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo, please \u003ca href=\"https://github.com/jwtk/jjwt/discussions\"\u003ecreate a new JJWT discussion\u003c/a\u003e first to discuss, and then we\ncan see easily convert the discussion to an issue and then see if (or how) a PR is warranted.  Thank you!\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-contributing-help-wanted\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-help-wanted\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eHelp Wanted\u003c/h4\u003e\u003ca id=\"user-content-help-wanted\" class=\"anchor\" aria-label=\"Permalink: Help Wanted\" href=\"#help-wanted\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you would like to help, but don’t know where to start, please visit the\n\u003ca href=\"https://github.com/jwtk/jjwt/labels/help%20wanted\"\u003eHelp Wanted Issues\u003c/a\u003e page and pick any of the\nones there, and we’ll be happy to discuss and answer questions in the issue comments.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf any of those don’t appeal to you, no worries! Any help you would like to offer would be\nappreciated based on the above caveats concerning \u003ca href=\"#contributing-pull-requests\"\u003econtributing pull requests\u003c/a\u003e. Feel free\nto \u003ca href=\"https://github.com/jwtk/jjwt/discussions\"\u003ediscuss or ask questions first\u003c/a\u003e if you’re not sure. :)\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-overview\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-what-is-a-json-web-token\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhat is a JSON Web Token?\u003c/h2\u003e\u003ca id=\"user-content-what-is-a-json-web-token\" class=\"anchor\" aria-label=\"Permalink: What is a JSON Web Token?\" href=\"#what-is-a-json-web-token\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJSON Web Token (JWT) is a \u003cem\u003egeneral-purpose\u003c/em\u003e text-based messaging format for transmitting information in a\ncompact and secure way.  Contrary to popular belief, JWT is not just useful for sending and receiving identity tokens\non the web - even if that is the most common use case.  JWTs can be used as messages for \u003cem\u003eany\u003c/em\u003e type of data.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWT in its simplest form contains two parts:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eThe primary data within the JWT, called the \u003ccode\u003epayload\u003c/code\u003e, and\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eA JSON \u003ccode\u003eObject\u003c/code\u003e with name/value pairs that represent metadata about the \u003ccode\u003epayload\u003c/code\u003e and the\nmessage itself, called the \u003ccode\u003eheader\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWT \u003ccode\u003epayload\u003c/code\u003e can be absolutely anything at all - anything that can be represented as a byte array, such as Strings,\nimages, documents, etc.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut because a JWT \u003ccode\u003eheader\u003c/code\u003e is a JSON \u003ccode\u003eObject\u003c/code\u003e, it would make sense that a JWT \u003ccode\u003epayload\u003c/code\u003e could also be a JSON\n\u003ccode\u003eObject\u003c/code\u003e as well. In many cases, developers like the \u003ccode\u003epayload\u003c/code\u003e to be JSON that\nrepresents data about a user or computer or similar identity concept. When used this way, the \u003ccode\u003epayload\u003c/code\u003e is called a\nJSON \u003ccode\u003eClaims\u003c/code\u003e object, and each name/value pair within that object is called a \u003ccode\u003eclaim\u003c/code\u003e - each piece of information\nwithin 'claims' something about an identity.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAnd while it is useful to 'claim' something about an identity, really anyone can do that. What’s important is that you\n\u003cem\u003etrust\u003c/em\u003e the claims by verifying they come from a person or computer you trust.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA nice feature of JWTs is that they can be secured in various ways. A JWT can be cryptographically signed (making it\nwhat we call a \u003ca href=\"https://tools.ietf.org/html/rfc7515\" rel=\"nofollow\"\u003eJWS\u003c/a\u003e) or encrypted (making it a\n\u003ca href=\"https://tools.ietf.org/html/rfc7516\" rel=\"nofollow\"\u003eJWE\u003c/a\u003e).  This adds a powerful layer of verifiability to the JWT - a\nJWS or JWE recipient can have a high degree of confidence it comes from someone they trust\nby verifying a signature or decrypting it. It is this feature of verifiability that makes JWT a good choice\nfor sending and receiving secure information, like identity claims.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFinally, JSON with whitespace for human readability is nice, but it doesn’t make for a very efficient message\nformat.  Therefore, JWTs can be \u003cem\u003ecompacted\u003c/em\u003e (and even compressed) to a minimal representation - basically\nBase64URL-encoded strings - so they can be transmitted around the web more efficiently, such as in HTTP headers or URLs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-overview-example-jwt\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-example\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Example\u003c/h3\u003e\u003ca id=\"user-content-jwt-example\" class=\"anchor\" aria-label=\"Permalink: JWT Example\" href=\"#jwt-example\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eOnce you have a \u003ccode\u003epayload\u003c/code\u003e and \u003ccode\u003eheader\u003c/code\u003e, how are they compacted for web transmission, and what does the final JWT\nactually look like? Let’s walk through a simplified version of the process with some pseudocode:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAssume we have a JWT with a JSON \u003ccode\u003eheader\u003c/code\u003e and a simple text message payload:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eheader\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003e{\n  \"alg\": \"none\"\n}\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003epayload\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eThe true sign of intelligence is not knowledge but imagination.\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRemove all unnecessary whitespace in the JSON:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String header = '{\u0026quot;alg\u0026quot;:\u0026quot;none\u0026quot;}'\nString payload = 'The true sign of intelligence is not knowledge but imagination.'\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e header \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e{\"alg\":\"none\"}\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e payload \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eThe true sign of intelligence is not knowledge but imagination.\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGet the UTF-8 bytes and Base64URL-encode each:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String encodedHeader = base64URLEncode( header.getBytes(\u0026quot;UTF-8\u0026quot;) )\nString encodedPayload = base64URLEncode( payload.getBytes(\u0026quot;UTF-8\u0026quot;) )\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e encodedHeader \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e base64URLEncode( header\u003cspan class=\"pl-k\"\u003e.\u003c/span\u003egetBytes(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eUTF-8\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e) )\n\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e encodedPayload \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e base64URLEncode( payload\u003cspan class=\"pl-k\"\u003e.\u003c/span\u003egetBytes(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eUTF-8\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e) )\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eJoin the encoded header and claims with period ('.') characters:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String compact = encodedHeader + '.' + encodedPayload + '.'\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e compact \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e encodedHeader \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e encodedPayload \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe final concatenated \u003ccode\u003ecompact\u003c/code\u003e JWT String looks like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eeyJhbGciOiJub25lIn0.VGhlIHRydWUgc2lnbiBvZiBpbnRlbGxpZ2VuY2UgaXMgbm90IGtub3dsZWRnZSBidXQgaW1hZ2luYXRpb24u.\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is called an 'unprotected' JWT because no security was involved - no digital signatures or encryption to\n'protect' the JWT to ensure it cannot be changed by 3rd parties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf we wanted to digitally sign the compact form so that we could at least guarantee that no-one changes the data\nwithout us detecting it, we’d have to perform a few more steps, shown next.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-overview-example-jws\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jws-example\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWS Example\u003c/h3\u003e\u003ca id=\"user-content-jws-example\" class=\"anchor\" aria-label=\"Permalink: JWS Example\" href=\"#jws-example\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eInstead of a plain text payload, the next example will use probably the most common type of payload - a JSON claims\n\u003ccode\u003eObject\u003c/code\u003e containing information about a particular identity.  We’ll also digitally sign the JWT to ensure it\ncannot be changed by a 3rd party without us knowing.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAssume we have a JSON \u003ccode\u003eheader\u003c/code\u003e and a claims \u003ccode\u003epayload\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eheader\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-json notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n  \u0026quot;alg\u0026quot;: \u0026quot;HS256\u0026quot;\n}\"\u003e\u003cpre\u003e{\n  \u003cspan class=\"pl-ent\"\u003e\"alg\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eHS256\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003epayload\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-json notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n  \u0026quot;sub\u0026quot;: \u0026quot;Joe\u0026quot;\n}\"\u003e\u003cpre\u003e{\n  \u003cspan class=\"pl-ent\"\u003e\"sub\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eJoe\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this case, the \u003ccode\u003eheader\u003c/code\u003e indicates that the \u003ccode\u003eHS256\u003c/code\u003e (HMAC using SHA-256) algorithm will be used to cryptographically sign\nthe JWT. Also, the \u003ccode\u003epayload\u003c/code\u003e JSON object has a single claim, \u003ccode\u003esub\u003c/code\u003e with value \u003ccode\u003eJoe\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThere are a number of standard claims, called \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1\" rel=\"nofollow\"\u003eRegistered Claims\u003c/a\u003e,\nin the specification and \u003ccode\u003esub\u003c/code\u003e (for 'Subject') is one of them.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRemove all unnecessary whitespace in both JSON objects:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String header = '{\u0026quot;alg\u0026quot;:\u0026quot;HS256\u0026quot;}'\nString claims = '{\u0026quot;sub\u0026quot;:\u0026quot;Joe\u0026quot;}'\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e header \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e{\"alg\":\"HS256\"}\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e claims \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e{\"sub\":\"Joe\"}\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGet their UTF-8 bytes and Base64URL-encode each:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String encodedHeader = base64URLEncode( header.getBytes(\u0026quot;UTF-8\u0026quot;) )\nString encodedClaims = base64URLEncode( claims.getBytes(\u0026quot;UTF-8\u0026quot;) )\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e encodedHeader \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e base64URLEncode( header\u003cspan class=\"pl-k\"\u003e.\u003c/span\u003egetBytes(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eUTF-8\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e) )\n\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e encodedClaims \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e base64URLEncode( claims\u003cspan class=\"pl-k\"\u003e.\u003c/span\u003egetBytes(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eUTF-8\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e) )\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eConcatenate the encoded header and claims with a period character '.' delimiter:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String concatenated = encodedHeader + '.' + encodedClaims\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e concatenated \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e encodedHeader \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e encodedClaims\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse a sufficiently-strong cryptographic secret or private key, along with a signing algorithm of your choice\n(we’ll use HMAC-SHA-256 here), and sign the concatenated string:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\" SecretKey key = getMySecretKey()\n byte[] signature = hmacSha256( concatenated, key )\"\u003e\u003cpre\u003e \u003cspan class=\"pl-k\"\u003eSecretKey\u003c/span\u003e key \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e getMySecretKey()\n \u003cspan class=\"pl-k\"\u003ebyte\u003c/span\u003e[] signature \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e hmacSha256( concatenated, key )\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eBecause signatures are always byte arrays, Base64URL-encode the signature and join it to the \u003ccode\u003econcatenated\u003c/code\u003e string\nwith a period character '.' delimiter:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String compact = concatenated + '.' + base64URLEncode( signature )\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eString\u003c/span\u003e compact \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e concatenated \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e base64URLEncode( signature )\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAnd there you have it, the final \u003ccode\u003ecompact\u003c/code\u003e String looks like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eeyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKb2UifQ.1KP0SsvENi7Uz1oQc07aXTL7kpQG5jBNIybqr60AlD4\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is called a 'JWS' - short for \u003cem\u003esigned\u003c/em\u003e JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eOf course, no one would want to do this manually in code, and worse, if you get anything wrong, you could introduce\nserious security problems and weaknesses.  As a result, JJWT was created to handle all of this for you: JJWT completely\nautomates both the creation of JWSs and the parsing and verification of JWSs for you.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-overview-example-jwe\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwe-example\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWE Example\u003c/h3\u003e\u003ca id=\"user-content-jwe-example\" class=\"anchor\" aria-label=\"Permalink: JWE Example\" href=\"#jwe-example\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo far we have seen an unprotected JWT and a cryptographically signed JWT (called a 'JWS').  One of the things\nthat is inherent to both of these two is that all the information within them can be seen by anyone - all the data in\nboth the header and the payload is publicly visible.  JWS just ensures the data hasn’t been changed by anyone -\nit doesn’t prevent anyone from seeing it.  Many times, this is just fine because the data within them is not\nsensitive information.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut what if you needed to represent information in a JWT that \u003cem\u003eis\u003c/em\u003e considered sensitive information - maybe someone’s\npostal address or social security number or bank account number?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn these cases, we’d want a fully-encrypted JWT, called a 'JWE' for short.  A JWE uses cryptography to ensure that the\npayload remains fully encrypted \u003cem\u003eand\u003c/em\u003e authenticated so unauthorized parties cannot see data within, nor change the data\nwithout being detected.  Specifically, the JWE specification requires that\n\u003ca href=\"https://en.wikipedia.org/wiki/Authenticated_encryption#Authenticated_encryption_with_associated_data_(AEAD)\" rel=\"nofollow\"\u003eAuthenticated Encryption with Associated Data\u003c/a\u003e\nalgorithms are used to fully encrypt and protect data.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA full overview of AEAD algorithms are out of scope for this documentation, but here’s an example of a final compact\nJWE that utilizes these algorithms (line breaks are for readability only):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eeyJhbGciOiJBMTI4S1ciLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0.\n6KB707dM9YTIgHtLvtgWQ8mKwboJW3of9locizkDTHzBC2IlrT1oOQ.\nAxY8DCtDaGlsbGljb3RoZQ.\nKDlTtXchhZTGufMYmOYGS4HffxPSUrfmqCHXaI9wOGY.\nU0m_YmjN04DJvceFICbCVQ\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNext we’ll cover how to install JJWT in your project, and then we’ll see how to use JJWT’s nice fluent API instead\nof risky string manipulation to quickly and safely build JWTs, JWSs, and JWEs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-installation\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eInstallation\u003c/h2\u003e\u003ca id=\"user-content-installation\" class=\"anchor\" aria-label=\"Permalink: Installation\" href=\"#installation\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eUse your favorite Maven-compatible build tool to pull the dependencies from Maven Central.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe dependencies could differ slightly if you are working with a \u003ca href=\"#install-jdk\"\u003eJDK project\u003c/a\u003e or an\n\u003ca href=\"#install-android\"\u003eAndroid project\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-jdk\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jdk-projects\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJDK Projects\u003c/h3\u003e\u003ca id=\"user-content-jdk-projects\" class=\"anchor\" aria-label=\"Permalink: JDK Projects\" href=\"#jdk-projects\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you’re building a (non-Android) JDK project, you will want to define the following dependencies:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-jdk-maven\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-maven\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eMaven\u003c/h4\u003e\u003ca id=\"user-content-maven\" class=\"anchor\" aria-label=\"Permalink: Maven\" href=\"#maven\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-text-xml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;jjwt-api\u0026lt;/artifactId\u0026gt;\n    \u0026lt;version\u0026gt;0.12.6\u0026lt;/version\u0026gt;\n\u0026lt;/dependency\u0026gt;\n\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;jjwt-impl\u0026lt;/artifactId\u0026gt;\n    \u0026lt;version\u0026gt;0.12.6\u0026lt;/version\u0026gt;\n    \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt;\n\u0026lt;/dependency\u0026gt;\n\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;jjwt-jackson\u0026lt;/artifactId\u0026gt; \u0026lt;!-- or jjwt-gson if Gson is preferred --\u0026gt;\n    \u0026lt;version\u0026gt;0.12.6\u0026lt;/version\u0026gt;\n    \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt;\n\u0026lt;/dependency\u0026gt;\n\u0026lt;!-- Uncomment this next dependency if you are using:\n     - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.\n     - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.\n     - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.\n     It is unnecessary for these algorithms on JDK 15 or later.\n\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;org.bouncycastle\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;bcprov-jdk18on\u0026lt;/artifactId\u0026gt; or bcprov-jdk15to18 on JDK 7\n    \u0026lt;version\u0026gt;1.76\u0026lt;/version\u0026gt;\n    \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt;\n\u0026lt;/dependency\u0026gt;\n--\u0026gt;\"\u003e\u003cpre\u003e\u0026lt;\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;io.jsonwebtoken\u0026lt;/\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;jjwt-api\u0026lt;/\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;0.12.6\u0026lt;/\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;\n\u0026lt;/\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n\u0026lt;\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;io.jsonwebtoken\u0026lt;/\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;jjwt-impl\u0026lt;/\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;0.12.6\u0026lt;/\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt;runtime\u0026lt;/\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt;\n\u0026lt;/\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n\u0026lt;\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;io.jsonwebtoken\u0026lt;/\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;jjwt-jackson\u0026lt;/\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e\u0026lt;!--\u003c/span\u003e or jjwt-gson if Gson is preferred \u003cspan class=\"pl-c\"\u003e--\u0026gt;\u003c/span\u003e\u003c/span\u003e\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;0.12.6\u0026lt;/\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt;runtime\u0026lt;/\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt;\n\u0026lt;/\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e\u0026lt;!--\u003c/span\u003e Uncomment this next dependency if you are using:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e     - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e     - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e     - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e     It is unnecessary for these algorithms on JDK 15 or later.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u0026lt;dependency\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e    \u0026lt;groupId\u0026gt;org.bouncycastle\u0026lt;/groupId\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e    \u0026lt;artifactId\u0026gt;bcprov-jdk18on\u0026lt;/artifactId\u0026gt; or bcprov-jdk15to18 on JDK 7\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e    \u0026lt;version\u0026gt;1.76\u0026lt;/version\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e    \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u0026lt;/dependency\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e--\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-jdk-gradle\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-gradle\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eGradle\u003c/h4\u003e\u003ca id=\"user-content-gradle\" class=\"anchor\" aria-label=\"Permalink: Gradle\" href=\"#gradle\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dependencies {\n    implementation 'io.jsonwebtoken:jjwt-api:0.12.6'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.6'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.6' // or 'io.jsonwebtoken:jjwt-gson:0.12.6' for gson\n    /*\n      Uncomment this next dependency if you are using:\n       - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.\n       - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.\n       - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.\n      It is unnecessary for these algorithms on JDK 15 or later.\n    */\n    // runtimeOnly 'org.bouncycastle:bcprov-jdk18on:1.76' // or bcprov-jdk15to18 on JDK 7\n}\"\u003e\u003cpre\u003edependencies {\n    implementation \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-api:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\n    runtimeOnly \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-impl:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\n    runtimeOnly \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-jackson:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e or 'io.jsonwebtoken:jjwt-gson:0.12.6' for gson\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e/*\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e      Uncomment this next dependency if you are using:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e       - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e       - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e       - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e      It is unnecessary for these algorithms on JDK 15 or later.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e    \u003cspan class=\"pl-c\"\u003e*/\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e runtimeOnly 'org.bouncycastle:bcprov-jdk18on:1.76' // or bcprov-jdk15to18 on JDK 7\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-android\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-android-projects\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAndroid Projects\u003c/h3\u003e\u003ca id=\"user-content-android-projects\" class=\"anchor\" aria-label=\"Permalink: Android Projects\" href=\"#android-projects\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAndroid projects will want to define the following dependencies and Proguard exclusions, and optional\nBouncyCastle \u003ccode\u003eProvider\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-android-dependencies\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-dependencies\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDependencies\u003c/h4\u003e\u003ca id=\"user-content-dependencies\" class=\"anchor\" aria-label=\"Permalink: Dependencies\" href=\"#dependencies\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAdd the dependencies to your project:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dependencies {\n    api('io.jsonwebtoken:jjwt-api:0.12.6')\n    runtimeOnly('io.jsonwebtoken:jjwt-impl:0.12.6')\n    runtimeOnly('io.jsonwebtoken:jjwt-orgjson:0.12.6') {\n        exclude(group: 'org.json', module: 'json') //provided by Android natively\n    }\n    /*\n      Uncomment this next dependency if you want to use:\n       - RSASSA-PSS (PS256, PS384, PS512) signature algorithms.\n       - EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.\n       - EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.\n      ** AND ALSO ensure you enable the BouncyCastle provider as shown below **\n    */\n    //implementation('org.bouncycastle:bcprov-jdk18on:1.76') // or bcprov-jdk15to18 for JDK 7\n}\"\u003e\u003cpre\u003edependencies {\n    api(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-api:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e)\n    runtimeOnly(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-impl:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e)\n    runtimeOnly(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-orgjson:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e) {\n        exclude(\u003cspan class=\"pl-c1\"\u003egroup\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eorg.json\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e, \u003cspan class=\"pl-c1\"\u003emodule\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003ejson\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003eprovided by Android natively\u003c/span\u003e\n    }\n    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e/*\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e      Uncomment this next dependency if you want to use:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e       - RSASSA-PSS (PS256, PS384, PS512) signature algorithms.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e       - EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e       - EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e      ** AND ALSO ensure you enable the BouncyCastle provider as shown below **\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e    \u003cspan class=\"pl-c\"\u003e*/\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003eimplementation('org.bouncycastle:bcprov-jdk18on:1.76') // or bcprov-jdk15to18 for JDK 7\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-android-proguard\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-proguard\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eProguard\u003c/h4\u003e\u003ca id=\"user-content-proguard\" class=\"anchor\" aria-label=\"Permalink: Proguard\" href=\"#proguard\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can use the following \u003ca href=\"https://developer.android.com/studio/build/shrink-code\" rel=\"nofollow\"\u003eAndroid Proguard\u003c/a\u003e exclusion rules:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003e-keepattributes InnerClasses\n\n-keep class io.jsonwebtoken.** { *; }\n-keepnames class io.jsonwebtoken.* { *; }\n-keepnames interface io.jsonwebtoken.* { *; }\n\n-keep class org.bouncycastle.** { *; }\n-keepnames class org.bouncycastle.** { *; }\n-dontwarn org.bouncycastle.**\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-android-bc\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-bouncy-castle\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBouncy Castle\u003c/h4\u003e\u003ca id=\"user-content-bouncy-castle\" class=\"anchor\" aria-label=\"Permalink: Bouncy Castle\" href=\"#bouncy-castle\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to use JWT RSASSA-PSS algorithms (i.e. \u003ccode\u003ePS256\u003c/code\u003e, \u003ccode\u003ePS384\u003c/code\u003e, and \u003ccode\u003ePS512\u003c/code\u003e), EdECDH (\u003ccode\u003eX25512\u003c/code\u003e or \u003ccode\u003eX448\u003c/code\u003e)\nElliptic Curve Diffie-Hellman encryption, EdDSA (\u003ccode\u003eEd25519\u003c/code\u003e or \u003ccode\u003eEd448\u003c/code\u003e) signature algorithms, or you just want to\nensure your Android application is running an updated version of BouncyCastle, you will need to:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUncomment the BouncyCastle dependency as commented above in the \u003ca href=\"#install-android-dependencies\"\u003edependencies\u003c/a\u003e section.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eReplace the legacy Android custom \u003ccode\u003eBC\u003c/code\u003e provider with the updated one.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eProvider registration needs to be done \u003cem\u003eearly\u003c/em\u003e in the application’s lifecycle, preferably in your application’s\nmain \u003ccode\u003eActivity\u003c/code\u003e class as a static initialization block.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-kotlin notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class MainActivity : AppCompatActivity() {\n\n    companion object {\n        init {\n            Security.removeProvider(\u0026quot;BC\u0026quot;) //remove old/legacy Android-provided BC provider\n            Security.addProvider(BouncyCastleProvider()) // add 'real'/correct BC provider\n        }\n    }\n\n    // ... etc ...\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eMainActivity\u003c/span\u003e : \u003cspan class=\"pl-en\"\u003eAppCompatActivity\u003c/span\u003e() {\n\n    \u003cspan class=\"pl-k\"\u003ecompanion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eobject\u003c/span\u003e {\n        \u003cspan class=\"pl-en\"\u003einit\u003c/span\u003e {\n            \u003cspan class=\"pl-en\"\u003eSecurity\u003c/span\u003e.removeProvider(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eBC\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003eremove old/legacy Android-provided BC provider\u003c/span\u003e\n            \u003cspan class=\"pl-en\"\u003eSecurity\u003c/span\u003e.addProvider(\u003cspan class=\"pl-en\"\u003eBouncyCastleProvider\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e add 'real'/correct BC provider\u003c/span\u003e\n        }\n    }\n\n    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e ... etc ...\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-install-understandingdependencies\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-understanding-jjwt-dependencies\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUnderstanding JJWT Dependencies\u003c/h3\u003e\u003ca id=\"user-content-understanding-jjwt-dependencies\" class=\"anchor\" aria-label=\"Permalink: Understanding JJWT Dependencies\" href=\"#understanding-jjwt-dependencies\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNotice the above JJWT dependency declarations all have only one compile-time dependency and the rest are declared as\n\u003cem\u003eruntime\u003c/em\u003e dependencies.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is because JJWT is designed so you only depend on the APIs that are explicitly designed for you to use in\nyour applications and all other internal implementation details - that can change without warning - are relegated to\nruntime-only dependencies.  This is an extremely important point if you want to ensure stable JJWT usage and\nupgrades over time:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJJWT guarantees semantic versioning compatibility for all of its artifacts \u003cem\u003eexcept\u003c/em\u003e the \u003ccode\u003ejjwt-impl\u003c/code\u003e .jar.  No such\nguarantee is made for the \u003ccode\u003ejjwt-impl\u003c/code\u003e .jar and internal changes in that .jar can happen at any time.  Never add the\n\u003ccode\u003ejjwt-impl\u003c/code\u003e .jar to your project with \u003ccode\u003ecompile\u003c/code\u003e scope - always declare it with \u003ccode\u003eruntime\u003c/code\u003e scope.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is done to benefit you: great care goes into curating the \u003ccode\u003ejjwt-api\u003c/code\u003e .jar and ensuring it contains what you need\nand remains backwards compatible as much as is possible so you can depend on that safely with compile scope.  The\nruntime \u003ccode\u003ejjwt-impl\u003c/code\u003e .jar strategy affords the JJWT developers the flexibility to change the internal packages and\nimplementations whenever and however necessary.  This helps us implement features, fix bugs, and ship new releases to\nyou more quickly and efficiently.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-quickstart\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-quickstart\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eQuickstart\u003c/h2\u003e\u003ca id=\"user-content-quickstart\" class=\"anchor\" aria-label=\"Permalink: Quickstart\" href=\"#quickstart\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eMost complexity is hidden behind a convenient and readable builder-based\n\u003ca href=\"http://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow\"\u003efluent interface\u003c/a\u003e, great for relying on IDE auto-completion to write\ncode quickly.  Here’s an example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport java.security.Key;\n\n// We need a signing key, so we'll create one just for this example. Usually\n// the key would be read from your application configuration instead.\nSecretKey key = Jwts.SIG.HS256.key().build();\n\nString jws = Jwts.builder().subject(\u0026quot;Joe\u0026quot;).signWith(key).compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eimport\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eio\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003ejsonwebtoken\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eJwts\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eimport\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eio\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003ejsonwebtoken\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003esecurity\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eKeys\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eimport\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejava\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003esecurity\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eKey\u003c/span\u003e;\n\n\u003cspan class=\"pl-c\"\u003e// We need a signing key, so we'll create one just for this example. Usually\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// the key would be read from your application configuration instead.\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS256\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Joe\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHow easy was that!?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this case, we are:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003ebuilding\u003c/em\u003e a JWT that will have the\n\u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1\" rel=\"nofollow\"\u003eregistered claim\u003c/a\u003e \u003ccode\u003esub\u003c/code\u003e (Subject) set to \u003ccode\u003eJoe\u003c/code\u003e. We are then\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003esigning\u003c/em\u003e the JWT using a key suitable for the HMAC-SHA-256 algorithm.  Finally, we are\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003ecompacting\u003c/em\u003e it into its final \u003ccode\u003eString\u003c/code\u003e form.  A signed JWT is called a 'JWS'.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe resultant \u003ccode\u003ejws\u003c/code\u003e String looks like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eeyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKb2UifQ.1KP0SsvENi7Uz1oQc07aXTL7kpQG5jBNIybqr60AlD4\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNow let’s verify the JWT (you should always discard JWTs that don’t match an expected signature):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"assert Jwts.parser().verifyWith(key).build().parseSignedClaims(jws).getPayload().getSubject().equals(\u0026quot;Joe\u0026quot;);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetSubject\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Joe\"\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThere are two things going on here. The \u003ccode\u003ekey\u003c/code\u003e from before is being used to verify the signature of the JWT. If it\nfails to verify the JWT, a \u003ccode\u003eSignatureException\u003c/code\u003e (which extends \u003ccode\u003eJwtException\u003c/code\u003e) is thrown. Assuming the JWT is\nverified, we parse the claims and assert that that subject is set to \u003ccode\u003eJoe\u003c/code\u003e.  You have to love code one-liners\nthat pack a punch!\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eType-safe JWTs:\u003c/strong\u003e To get a type-safe \u003ccode\u003eClaims\u003c/code\u003e JWT result, call the \u003ccode\u003eparseSignedClaims\u003c/code\u003e method (since there are many\nsimilar methods available). You will get an \u003ccode\u003eUnsupportedJwtException\u003c/code\u003e if you parse your JWT with wrong method.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut what if parsing or signature validation failed?  You can catch \u003ccode\u003eJwtException\u003c/code\u003e and react accordingly:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"try {\n\n    Jwts.parser().verifyWith(key).build().parseSignedClaims(compactJws);\n\n    //OK, we can trust this JWT\n\n} catch (JwtException e) {\n\n    //don't trust the JWT!\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n\n    \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ecompactJws\u003c/span\u003e);\n\n    \u003cspan class=\"pl-c\"\u003e//OK, we can trust this JWT\u003c/span\u003e\n\n} \u003cspan class=\"pl-k\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003eJwtException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ee\u003c/span\u003e) {\n\n    \u003cspan class=\"pl-c\"\u003e//don't trust the JWT!\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNow that we’ve had a quickstart 'taste' of how to create and parse JWTs, let’s cover JJWT’s API in-depth.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-create\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-creating-a-jwt\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCreating a JWT\u003c/h2\u003e\u003ca id=\"user-content-creating-a-jwt\" class=\"anchor\" aria-label=\"Permalink: Creating a JWT\" href=\"#creating-a-jwt\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou create a JWT as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwts.builder()\u003c/code\u003e method to create a \u003ccode\u003eJwtBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eOptionally set any \u003ca href=\"#jwt-header\"\u003e\u003ccode\u003eheader\u003c/code\u003e parameters\u003c/a\u003e as desired.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall builder methods to set the payload \u003ca href=\"#jwt-content\"\u003econtent\u003c/a\u003e or \u003ca href=\"#jwt-claims\"\u003eclaims\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eOptionally call \u003ccode\u003esignWith\u003c/code\u003e or \u003ccode\u003eencryptWith\u003c/code\u003e methods if you want to digitally sign or encrypt the JWT.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003ecompact()\u003c/code\u003e method to produce the resulting compact JWT string.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jwt = Jwts.builder()                     // (1)\n\n    .header()                                   // (2) optional\n        .keyId(\u0026quot;aKeyId\u0026quot;)\n        .and()\n\n    .subject(\u0026quot;Bob\u0026quot;)                             // (3) JSON Claims, or\n    //.content(aByteArray, \u0026quot;text/plain\u0026quot;)        //     any byte[] content, with media type\n\n    .signWith(signingKey)                       // (4) if signing, or\n    //.encryptWith(key, keyAlg, encryptionAlg)  //     if encrypting\n\n    .compact();                                 // (5)\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()                     \u003cspan class=\"pl-c\"\u003e// (1)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()                                   \u003cspan class=\"pl-c\"\u003e// (2) optional\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ekeyId\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"aKeyId\"\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Bob\"\u003c/span\u003e)                             \u003cspan class=\"pl-c\"\u003e// (3) JSON Claims, or\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.content(aByteArray, \"text/plain\")        //     any byte[] content, with media type\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esigningKey\u003c/span\u003e)                       \u003cspan class=\"pl-c\"\u003e// (4) if signing, or\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.encryptWith(key, keyAlg, encryptionAlg)  //     if encrypting\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();                                 \u003cspan class=\"pl-c\"\u003e// (5)\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eThe JWT \u003ccode\u003epayload\u003c/code\u003e may be either \u003ccode\u003ebyte[]\u003c/code\u003e content (via \u003ccode\u003econtent\u003c/code\u003e) \u003cem\u003eor\u003c/em\u003e JSON Claims\n(such as \u003ccode\u003esubject\u003c/code\u003e, \u003ccode\u003eclaims\u003c/code\u003e, etc), but not both.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEither digital signatures (\u003ccode\u003esignWith\u003c/code\u003e) or encryption (\u003ccode\u003eencryptWith\u003c/code\u003e) may be used, but not both.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eUnprotected JWTs\u003c/strong\u003e: If you do not use the \u003ccode\u003esignWith\u003c/code\u003e or \u003ccode\u003eencryptWith\u003c/code\u003e builder methods, \u003cstrong\u003ean Unprotected JWT will be\ncreated, which offers no security protection at all\u003c/strong\u003e.  If you need security protection, consider either\n\u003ca href=\"#jws\"\u003edigitally signing\u003c/a\u003e or \u003ca href=\"#jwe\"\u003eencrypting\u003c/a\u003e the JWT before calling the \u003ccode\u003ecompact()\u003c/code\u003e builder method.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-header\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-header\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-header\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Header\u003c/h3\u003e\u003ca id=\"user-content-jwt-header\" class=\"anchor\" aria-label=\"Permalink: JWT Header\" href=\"#jwt-header\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWT header is a JSON \u003ccode\u003eObject\u003c/code\u003e that provides metadata about the contents, format, and any cryptographic operations\nrelevant to the JWT \u003ccode\u003epayload\u003c/code\u003e.  JJWT provides a number of ways of setting the entire header and/or multiple individual\nheader parameters (name/value pairs).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-header-builder\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-header-instance\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwtbuilder-header\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJwtBuilder Header\u003c/h4\u003e\u003ca id=\"user-content-jwtbuilder-header\" class=\"anchor\" aria-label=\"Permalink: JwtBuilder Header\" href=\"#jwtbuilder-header\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe easiest and recommended way to set one or more JWT header parameters (name/value pairs) is to use the\n\u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003eheader()\u003c/code\u003e builder as desired, and then call its \u003ccode\u003eand()\u003c/code\u003e method to return back\nto the \u003ccode\u003eJwtBuilder\u003c/code\u003e for further configuration. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jwt = Jwts.builder()\n\n    .header()                        // \u0026lt;----\n        .keyId(\u0026quot;aKeyId\u0026quot;)\n        .x509Url(aUri)\n        .add(\u0026quot;someName\u0026quot;, anyValue)\n        .add(mapValues)\n        // ... etc ...\n        .and()                      // go back to the JwtBuilder\n\n    .subject(\u0026quot;Joe\u0026quot;)                 // resume JwtBuilder calls...\n    // ... etc ...\n    .compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()                        \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ekeyId\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"aKeyId\"\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003ex509Url\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eaUri\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"someName\"\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eanyValue\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003emapValues\u003c/span\u003e)\n        \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()                      \u003cspan class=\"pl-c\"\u003e// go back to the JwtBuilder\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Joe\"\u003c/span\u003e)                 \u003cspan class=\"pl-c\"\u003e// resume JwtBuilder calls...\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eJwtBuilder\u003c/code\u003e \u003ccode\u003eheader()\u003c/code\u003e builder also supports automatically calculating X.509 thumbprints and other builder-style benefits that\na simple property getter/setter object would not do.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eAutomatic Headers\u003c/strong\u003e: You do not need to set the \u003ccode\u003ealg\u003c/code\u003e, \u003ccode\u003eenc\u003c/code\u003e or \u003ccode\u003ezip\u003c/code\u003e headers - JJWT will always set them\nautomatically as needed.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-header-params\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-custom-header-parameters\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCustom Header Parameters\u003c/h5\u003e\u003ca id=\"user-content-custom-header-parameters\" class=\"anchor\" aria-label=\"Permalink: Custom Header Parameters\" href=\"#custom-header-parameters\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn addition to type-safe builder methods for standard header parameters, \u003ccode\u003eJwtBuilder.header()\u003c/code\u003e can also support\narbitrary name/value pairs via the \u003ccode\u003eadd\u003c/code\u003e method:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.builder()\n\n    .header()\n        .add(\u0026quot;aHeaderName\u0026quot;, aValue)\n        // ... etc ...\n        .and() // return to the JwtBuilder\n\n// ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"aHeaderName\"\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eaValue\u003c/span\u003e)\n        \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e() \u003cspan class=\"pl-c\"\u003e// return to the JwtBuilder\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-header-map\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-header-map\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-header-parameter-map\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eHeader Parameter Map\u003c/h5\u003e\u003ca id=\"user-content-header-parameter-map\" class=\"anchor\" aria-label=\"Permalink: Header Parameter Map\" href=\"#header-parameter-map\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eadd\u003c/code\u003e method is also overloaded to support multiple parameters in a \u003ccode\u003eMap\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.builder()\n\n    .header()\n        .add(multipleHeaderParamsMap)\n        // ... etc ...\n        .and() // return to the JwtBuilder\n\n// ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003emultipleHeaderParamsMap\u003c/span\u003e)\n        \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e() \u003cspan class=\"pl-c\"\u003e// return to the JwtBuilder\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwts-headerbuilder\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJwts HeaderBuilder\u003c/h4\u003e\u003ca id=\"user-content-jwts-headerbuilder\" class=\"anchor\" aria-label=\"Permalink: Jwts HeaderBuilder\" href=\"#jwts-headerbuilder\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eUsing \u003ccode\u003eJwts.builder().header()\u003c/code\u003e shown above is the preferred way to modify a header when using the \u003ccode\u003eJwtBuilder\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, if you would like to create a 'standalone' \u003ccode\u003eHeader\u003c/code\u003e outside of the context of using the \u003ccode\u003eJwtBuilder\u003c/code\u003e, you\ncan use \u003ccode\u003eJwts.header()\u003c/code\u003e instead to return an independent \u003ccode\u003eHeader\u003c/code\u003e builder.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Header header = Jwts.header()\n\n        .keyId(\u0026quot;aKeyId\u0026quot;)\n        .x509Url(aUri)\n        .add(\u0026quot;someName\u0026quot;, anyValue)\n        .add(mapValues)\n        // ... etc ...\n\n        .build()  // \u0026lt;---- not 'and()'\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eHeader\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()\n\n        .\u003cspan class=\"pl-en\"\u003ekeyId\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"aKeyId\"\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003ex509Url\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eaUri\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"someName\"\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eanyValue\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003emapValues\u003c/span\u003e)\n        \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n\n        .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()  \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- not 'and()'\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThere are only two differences between \u003ccode\u003eJwts.header()\u003c/code\u003e and \u003ccode\u003eJwts.builder().header()\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eJwts.header()\u003c/code\u003e builds a 'detached' \u003ccode\u003eHeader\u003c/code\u003e that is not associated with any particular JWT, whereas\n\u003ccode\u003eJwts.builder().header()\u003c/code\u003e always modifies the header of the immediate JWT being constructed by its parent\n\u003ccode\u003eJwtBuilder\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eJwts.header()\u003c/code\u003e has a \u003ccode\u003ebuild()\u003c/code\u003e method to produce an explicit \u003ccode\u003eHeader\u003c/code\u003e instance and\n\u003ccode\u003eJwts.builder().header()\u003c/code\u003e does not (it has an \u003ccode\u003eand()\u003c/code\u003e method instead) because its parent \u003ccode\u003eJwtBuilder\u003c/code\u003e will implicitly\ncreate the header instance when necessary.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA standalone header might be useful if you want to aggregate common header parameters in a single 'template'\ninstance so you don’t have to repeat them for each \u003ccode\u003eJwtBuilder\u003c/code\u003e usage.  Then this 'template' \u003ccode\u003eHeader\u003c/code\u003e can be used to\npopulate \u003ccode\u003eJwtBuilder\u003c/code\u003e usages by just appending it to the \u003ccode\u003eJwtBuilder\u003c/code\u003e header, for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// perhaps somewhere in application configuration:\nHeader commonHeaders = Jwts.header()\n    .issuer(\u0026quot;My Company\u0026quot;)\n    // ... etc ...\n    .build();\n\n// --------------------------------\n\n// somewhere else during actual Jwt construction:\nString jwt = Jwts.builder()\n\n    .header()\n        .add(commonHeaders)                   // \u0026lt;----\n        .add(\u0026quot;specificHeader\u0026quot;, specificValue) // jwt-specific headers...\n        .and()\n\n    .subject(\u0026quot;whatever\u0026quot;)\n    // ... etc ...\n    .compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// perhaps somewhere in application configuration:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eHeader\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ecommonHeaders\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eissuer\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"My Company\"\u003c/span\u003e)\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// --------------------------------\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// somewhere else during actual Jwt construction:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e()\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ecommonHeaders\u003c/span\u003e)                   \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"specificHeader\"\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003especificValue\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// jwt-specific headers...\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"whatever\"\u003c/span\u003e)\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-payload\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-payload\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Payload\u003c/h3\u003e\u003ca id=\"user-content-jwt-payload\" class=\"anchor\" aria-label=\"Permalink: JWT Payload\" href=\"#jwt-payload\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWT \u003ccode\u003epayload\u003c/code\u003e can be anything at all - anything that can be represented as a byte array, such as text, images,\ndocuments, and more.  But since a JWT \u003ccode\u003eheader\u003c/code\u003e is always JSON, it makes sense that the \u003ccode\u003epayload\u003c/code\u003e could also be JSON,\nespecially for representing identity claims.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs a result, the \u003ccode\u003eJwtBuilder\u003c/code\u003e supports two distinct payload options:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003econtent\u003c/code\u003e if you would like the payload to be arbitrary byte array content, or\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eclaims\u003c/code\u003e (and supporting helper methods) if you would like the payload to be a JSON Claims \u003ccode\u003eObject\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eEither option may be used, but not both. Using both will cause \u003ccode\u003ecompact()\u003c/code\u003e to throw an exception.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-content\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-arbitrary-content\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eArbitrary Content\u003c/h4\u003e\u003ca id=\"user-content-arbitrary-content\" class=\"anchor\" aria-label=\"Permalink: Arbitrary Content\" href=\"#arbitrary-content\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can set the JWT payload to be any arbitrary byte array content by using the \u003ccode\u003eJwtBuilder\u003c/code\u003e \u003ccode\u003econtent\u003c/code\u003e method.\nFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"byte[] content = \u0026quot;Hello World\u0026quot;.getBytes(StandardCharsets.UTF_8);\n\nString jwt = Jwts.builder()\n\n    .content(content, \u0026quot;text/plain\u0026quot;) // \u0026lt;---\n\n    // ... etc ...\n\n    .build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e = \u003cspan class=\"pl-s\"\u003e\"Hello World\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetBytes\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003econtent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e, \u003cspan class=\"pl-s\"\u003e\"text/plain\"\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNotice this particular example of \u003ccode\u003econtent\u003c/code\u003e uses the two-argument convenience variant:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eThe first argument is the actual byte content to set as the JWT payload\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eThe second argument is a String identifier of an IANA Media Type.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe second argument will cause the \u003ccode\u003eJwtBuilder\u003c/code\u003e to automatically set the \u003ccode\u003ecty\u003c/code\u003e (Content Type) header according to the\nJWT specification’s \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7515.html#section-4.1.10\" rel=\"nofollow\"\u003erecommended compact format\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis two-argument variant is typically recommended over the single-argument \u003ccode\u003econtent(byte[])\u003c/code\u003e method because it\nguarantees the JWT recipient can inspect the \u003ccode\u003ecty\u003c/code\u003e header to determine how to convert the \u003ccode\u003epayload\u003c/code\u003e byte array into\na final form that the application can use.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWithout setting the \u003ccode\u003ecty\u003c/code\u003e header, the JWT recipient \u003cem\u003emust\u003c/em\u003e know via out-of-band (external) information how to process\nthe byte array, which is usually less convenient and always requires code changes if the content format ever changes.\nFor these reasons, it is strongly recommended to use the two-argument \u003ccode\u003econtent\u003c/code\u003e method variant.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-claims\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-claims\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwt-claims\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Claims\u003c/h4\u003e\u003ca id=\"user-content-jwt-claims\" class=\"anchor\" aria-label=\"Permalink: JWT Claims\" href=\"#jwt-claims\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eInstead of a content byte array, a JWT payload may contain assertions or claims for a JWT recipient. In\nthis case, the payload is a \u003ccode\u003eClaims\u003c/code\u003e JSON \u003ccode\u003eObject\u003c/code\u003e, and JJWT supports claims creation with type-safe\nbuilder methods.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-claims-standard\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-claims-standard\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-standard-claims\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eStandard Claims\u003c/h5\u003e\u003ca id=\"user-content-standard-claims\" class=\"anchor\" aria-label=\"Permalink: Standard Claims\" href=\"#standard-claims\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eJwtBuilder\u003c/code\u003e provides convenient builder methods for standard registered Claim names defined in the JWT\nspecification.  They are:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eissuer\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.1\" rel=\"nofollow\"\u003e\u003ccode\u003eiss\u003c/code\u003e (Issuer) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003esubject\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.2\" rel=\"nofollow\"\u003e\u003ccode\u003esub\u003c/code\u003e (Subject) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eaudience\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.3\" rel=\"nofollow\"\u003e\u003ccode\u003eaud\u003c/code\u003e (Audience) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eexpiration\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.4\" rel=\"nofollow\"\u003e\u003ccode\u003eexp\u003c/code\u003e (Expiration Time) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003enotBefore\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.5\" rel=\"nofollow\"\u003e\u003ccode\u003enbf\u003c/code\u003e (Not Before) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eissuedAt\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.6\" rel=\"nofollow\"\u003e\u003ccode\u003eiat\u003c/code\u003e (Issued At) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eid\u003c/code\u003e: sets the \u003ca href=\"https://tools.ietf.org/html/rfc7519#section-4.1.7\" rel=\"nofollow\"\u003e\u003ccode\u003ejti\u003c/code\u003e (JWT ID) Claim\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jws = Jwts.builder()\n\n    .issuer(\u0026quot;me\u0026quot;)\n    .subject(\u0026quot;Bob\u0026quot;)\n    .audience().add(\u0026quot;you\u0026quot;).and()\n    .expiration(expiration) //a java.util.Date\n    .notBefore(notBefore) //a java.util.Date\n    .issuedAt(new Date()) // for example, now\n    .id(UUID.randomUUID().toString()) //just an example id\n\n    /// ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eissuer\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"me\"\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Bob\"\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003eaudience\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"you\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eexpiration\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eexpiration\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e//a java.util.Date\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003enotBefore\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003enotBefore\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e//a java.util.Date\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eissuedAt\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eDate\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// for example, now\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eid\u003c/span\u003e(\u003cspan class=\"pl-c1\"\u003eUUID\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003erandomUUID\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e//just an example id\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e/// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-claims-custom\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-claims-custom\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-custom-claims\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCustom Claims\u003c/h5\u003e\u003ca id=\"user-content-custom-claims\" class=\"anchor\" aria-label=\"Permalink: Custom Claims\" href=\"#custom-claims\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you need to set one or more custom claims that don’t match the standard setter method claims shown above, you\ncan simply call the \u003ccode\u003eJwtBuilder\u003c/code\u003e \u003ccode\u003eclaim\u003c/code\u003e method one or more times as needed:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jws = Jwts.builder()\n\n    .claim(\u0026quot;hello\u0026quot;, \u0026quot;world\u0026quot;)\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eclaim\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"hello\"\u003c/span\u003e, \u003cspan class=\"pl-s\"\u003e\"world\"\u003c/span\u003e)\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eEach time \u003ccode\u003eclaim\u003c/code\u003e is called, it simply appends the key-value pair to an internal \u003ccode\u003eClaims\u003c/code\u003e builder, potentially\noverwriting any existing identically-named key/value pair.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eObviously, you do not need to call \u003ccode\u003eclaim\u003c/code\u003e for any \u003ca href=\"#jws-create-claims-standard\"\u003estandard claim name\u003c/a\u003e, and it is\nrecommended instead to call the standard respective type-safe named builder method as this enhances readability.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-create-claims-instance\"\u003e\u003c/a\u003e\n\u003ca name=\"user-content-jwt-claims-instance\"\u003e\u003c/a\u003e\n\u003ca name=\"user-content-jwt-claims-map\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-claims-map\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-claims-map\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eClaims Map\u003c/h5\u003e\u003ca id=\"user-content-claims-map\" class=\"anchor\" aria-label=\"Permalink: Claims Map\" href=\"#claims-map\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to add multiple claims at once, you can use \u003ccode\u003eJwtBuilder\u003c/code\u003e \u003ccode\u003eclaims(Map)\u003c/code\u003e method:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Map\u0026lt;String,?\u0026gt; claims = getMyClaimsMap(); //implement me\n\nString jws = Jwts.builder()\n\n    .claims(claims)\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eMap\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e,?\u0026gt; \u003cspan class=\"pl-s1\"\u003eclaims\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyClaimsMap\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eclaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eclaims\u003c/span\u003e)\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-compression\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-create-compression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-compression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Compression\u003c/h3\u003e\u003ca id=\"user-content-jwt-compression\" class=\"anchor\" aria-label=\"Permalink: JWT Compression\" href=\"#jwt-compression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf your JWT payload is large (contains a lot of data), you might want to compress the JWT to reduce its size.  Note\nthat this is \u003cem\u003enot\u003c/em\u003e a standard feature for all JWTs - only JWEs - and is not likely to be supported by other JWT\nlibraries for non-JWE tokens.  JJWT supports compression for both JWSs and JWEs, however.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the main \u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e section to see how to compress and decompress JWTs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-read\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-reading-a-jwt\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eReading a JWT\u003c/h2\u003e\u003ca id=\"user-content-reading-a-jwt\" class=\"anchor\" aria-label=\"Permalink: Reading a JWT\" href=\"#reading-a-jwt\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou read (parse) a JWT as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwts.parser()\u003c/code\u003e method to create a \u003ccode\u003eJwtParserBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eOptionally call \u003ccode\u003ekeyLocator\u003c/code\u003e, \u003ccode\u003everifyWith\u003c/code\u003e or \u003ccode\u003edecryptWith\u003c/code\u003e methods if you expect to parse \u003ca href=\"#jws\"\u003esigned\u003c/a\u003e or \u003ca href=\"#jwe\"\u003eencrypted\u003c/a\u003e JWTs.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003ebuild()\u003c/code\u003e method on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e to create and return a thread-safe \u003ccode\u003eJwtParser\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall one of the various \u003ccode\u003eparse*\u003c/code\u003e methods with your compact JWT string, depending on the type of JWT you expect.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eWrap the \u003ccode\u003eparse*\u003c/code\u003e call in a try/catch block in case parsing, signature verification, or decryption fails.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwt\u0026lt;?,?\u0026gt; jwt;\n\ntry {\n    jwt = Jwts.parser()     // (1)\n\n    .keyLocator(keyLocator) // (2) dynamically locate signing or encryption keys\n    //.verifyWith(key)      //     or a constant key used to verify all signed JWTs\n    //.decryptWith(key)     //     or a constant key used to decrypt all encrypted JWTs\n\n    .build()                // (3)\n\n    .parse(compact);        // (4) or parseSignedClaims, parseEncryptedClaims, parseSignedContent, etc\n\n    // we can safely trust the JWT\n\ncatch (JwtException ex) {   // (5)\n\n    // we *cannot* use the JWT as intended by its creator\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwt\u003c/span\u003e\u0026lt;?,?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e;\n\n\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()     \u003cspan class=\"pl-c\"\u003e// (1)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ekeyLocator\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyLocator\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// (2) dynamically locate signing or encryption keys\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.verifyWith(key)      //     or a constant key used to verify all signed JWTs\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.decryptWith(key)     //     or a constant key used to decrypt all encrypted JWTs\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()                \u003cspan class=\"pl-c\"\u003e// (3)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ecompact\u003c/span\u003e);        \u003cspan class=\"pl-c\"\u003e// (4) or parseSignedClaims, parseEncryptedClaims, parseSignedContent, etc\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// we can safely trust the JWT\u003c/span\u003e\n\n\u003cspan class=\"pl-en\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003eJwtException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eex\u003c/span\u003e) {   \u003cspan class=\"pl-c\"\u003e// (5)\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// we *cannot* use the JWT as intended by its creator\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eType-safe JWTs:\u003c/strong\u003e If you are certain your parser will only ever encounter a specific kind of JWT (for example, you only\never use signed JWTs with \u003ccode\u003eClaims\u003c/code\u003e payloads, or encrypted JWTs with \u003ccode\u003ebyte[]\u003c/code\u003e content payloads, etc), you can call the\nassociated type-safe \u003ccode\u003eparseSignedClaims\u003c/code\u003e, \u003ccode\u003eparseEncryptedClaims\u003c/code\u003e, (etc) method variant instead of the generic \u003ccode\u003eparse\u003c/code\u003e method.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese \u003ccode\u003eparse*\u003c/code\u003e methods will return the type-safe JWT you are expecting, for example, a \u003ccode\u003eJws\u0026lt;Claims\u0026gt;\u003c/code\u003e or \u003ccode\u003eJwe\u0026lt;byte[]\u0026gt;\u003c/code\u003e\ninstead of a generic \u003ccode\u003eJwt\u0026lt;?,?\u0026gt;\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-read-key\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-constant-parsing-key\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eConstant Parsing Key\u003c/h3\u003e\u003ca id=\"user-content-constant-parsing-key\" class=\"anchor\" aria-label=\"Permalink: Constant Parsing Key\" href=\"#constant-parsing-key\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf the JWT parsed is a JWS or JWE, a key will be necessary to verify the signature or decrypt it.  If a JWS and\nsignature verification fails, or if a JWE and decryption fails, the JWT cannot be safely trusted and should be\ndiscarded.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo which key do we use?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf parsing a JWS and the JWS was signed with a \u003ccode\u003eSecretKey\u003c/code\u003e, the same \u003ccode\u003eSecretKey\u003c/code\u003e should be specified on the\n\u003ccode\u003eJwtParserBuilder\u003c/code\u003e.  For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .verifyWith(secretKey) // \u0026lt;----\n\n  .build()\n  .parseSignedClaims(jwsString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwsString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf parsing a JWS and the JWS was signed with a \u003ccode\u003ePrivateKey\u003c/code\u003e, that key’s corresponding \u003ccode\u003ePublicKey\u003c/code\u003e (not the\n\u003ccode\u003ePrivateKey\u003c/code\u003e) should be specified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e.  For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .verifyWith(publicKey) // \u0026lt;---- publicKey, not privateKey\n\n  .build()\n  .parseSignedClaims(jwsString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epublicKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- publicKey, not privateKey\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwsString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf parsing a JWE and the JWE was encrypted with direct encryption using a \u003ccode\u003eSecretKey\u003c/code\u003e, the same \u003ccode\u003eSecretKey\u003c/code\u003e should be\nspecified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e. For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .decryptWith(secretKey) // \u0026lt;---- or a Password from Keys.password(charArray)\n\n  .build()\n  .parseEncryptedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- or a Password from Keys.password(charArray)\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf parsing a JWE and the JWE was encrypted with a key algorithm using with a \u003ccode\u003ePublicKey\u003c/code\u003e, that key’s corresponding\n\u003ccode\u003ePrivateKey\u003c/code\u003e (not the \u003ccode\u003ePublicKey\u003c/code\u003e) should be specified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e.  For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .decryptWith(privateKey) // \u0026lt;---- privateKey, not publicKey\n\n  .build()\n  .parseEncryptedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivateKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- privateKey, not publicKey\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-multiple-keys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eMultiple Keys?\u003c/h4\u003e\u003ca id=\"user-content-multiple-keys\" class=\"anchor\" aria-label=\"Permalink: Multiple Keys?\" href=\"#multiple-keys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut you might have noticed something - what if your application doesn’t use just a single \u003ccode\u003eSecretKey\u003c/code\u003e or \u003ccode\u003eKeyPair\u003c/code\u003e? What\nif JWSs and JWEs can be created with different \u003ccode\u003eSecretKey\u003c/code\u003es or public/private keys, or a combination of both?  How do\nyou know which key to specify if you don’t inspect the JWT first?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn these cases, you can’t call the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003everifyWith\u003c/code\u003e or \u003ccode\u003edecryptWith\u003c/code\u003e methods with a single key -\ninstead, you’ll need to configure a parsing Key Locator, discussed next.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-key-locator\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-dynamic-key-lookup\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDynamic Key Lookup\u003c/h3\u003e\u003ca id=\"user-content-dynamic-key-lookup\" class=\"anchor\" aria-label=\"Permalink: Dynamic Key Lookup\" href=\"#dynamic-key-lookup\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIt is common in many applications to receive JWTs that can be encrypted or signed by different cryptographic keys.  For\nexample, maybe a JWT created to assert a specific user identity uses a Key specific to that exact user. Or perhaps JWTs\nspecific to a particular customer all use that customer’s Key.  Or maybe your application creates JWTs that are\nencrypted with a key specific to your application for your own use (e.g. a user session token).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn all of these and similar scenarios, you won’t know which key was used to sign or encrypt a JWT until the JWT is\nreceived, at parse time, so you can’t 'hard code' any verification or decryption key using the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's\n\u003ccode\u003everifyWith\u003c/code\u003e or \u003ccode\u003edecryptWith\u003c/code\u003e methods.  Those are only to be used when the same key is used to verify or decrypt\n\u003cem\u003eall\u003c/em\u003e JWSs or JWEs, which won’t work for dynamically signed or encrypted JWTs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-key-locator-custom\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-key-locator\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eKey Locator\u003c/h4\u003e\u003ca id=\"user-content-key-locator\" class=\"anchor\" aria-label=\"Permalink: Key Locator\" href=\"#key-locator\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you need to support dynamic key lookup when encountering JWTs, you’ll need to implement\nthe \u003ccode\u003eLocator\u0026lt;Key\u0026gt;\u003c/code\u003e interface and specify an instance on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e via the \u003ccode\u003ekeyLocator\u003c/code\u003e method. For\nexample:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Locator\u0026lt;Key\u0026gt; keyLocator = getMyKeyLocator();\n\nJwts.parser()\n\n    .keyLocator(keyLocator) // \u0026lt;----\n\n    .build()\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eLocator\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ekeyLocator\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyKeyLocator\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ekeyLocator\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyLocator\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA \u003ccode\u003eLocator\u0026lt;Key\u0026gt;\u003c/code\u003e is used to lookup \u003cem\u003eboth\u003c/em\u003e JWS signature verification keys \u003cem\u003eand\u003c/em\u003e JWE decryption keys.  You need to\ndetermine which key to return based on information in the JWT \u003ccode\u003eheader\u003c/code\u003e, for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"public class MyKeyLocator extends LocatorAdapter\u0026lt;Key\u0026gt; {\n\n    @Override\n    public Key locate(ProtectedHeader\u0026lt;?\u0026gt; header) { // a JwsHeader or JweHeader\n        // implement me\n    }\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eMyKeyLocator\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eextends\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eLocatorAdapter\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e\u0026gt; {\n\n    \u003cspan class=\"pl-c1\"\u003e@\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eOverride\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elocate\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eProtectedHeader\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e) { \u003cspan class=\"pl-c\"\u003e// a JwsHeader or JweHeader\u003c/span\u003e\n        \u003cspan class=\"pl-c\"\u003e// implement me\u003c/span\u003e\n    }\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eJwtParser\u003c/code\u003e will invoke the \u003ccode\u003elocate\u003c/code\u003e method after parsing the JWT \u003ccode\u003eheader\u003c/code\u003e, but \u003cem\u003ebefore parsing the \u003ccode\u003epayload\u003c/code\u003e,\nor verifying any JWS signature or decrypting any JWE ciphertext\u003c/em\u003e. This allows you to inspect the \u003ccode\u003eheader\u003c/code\u003e argument\nfor any information that can help you look up the \u003ccode\u003eKey\u003c/code\u003e to use for verifying \u003cem\u003ethat specific jwt\u003c/em\u003e.  This is very\npowerful for applications with more complex security models that might use different keys at different times or for\ndifferent users or customers.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-key-locator-strategy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-key-locator-strategy\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eKey Locator Strategy\u003c/h4\u003e\u003ca id=\"user-content-key-locator-strategy\" class=\"anchor\" aria-label=\"Permalink: Key Locator Strategy\" href=\"#key-locator-strategy\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhat data might you inspect to determine how to lookup a signature verification or decryption key?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specifications' preferred approach is to set a \u003ccode\u003ekid\u003c/code\u003e (Key ID) header value when the JWT is being created,\nfor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Key key = getSigningKey(); // or getEncryptionKey() for JWE\n\nString keyId = getKeyId(key); //any mechanism you have to associate a key with an ID is fine\n\nString jws = Jwts.builder()\n\n    .header().keyId(keyId).and()               // \u0026lt;--- add `kid` header\n\n    .signWith(key)                             // for JWS\n    //.encryptWith(key, keyAlg, encryptionAlg) // for JWE\n    .compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetSigningKey\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// or getEncryptionKey() for JWE\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetKeyId\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e//any mechanism you have to associate a key with an ID is fine\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eheader\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekeyId\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()               \u003cspan class=\"pl-c\"\u003e// \u0026lt;--- add `kid` header\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e)                             \u003cspan class=\"pl-c\"\u003e// for JWS\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.encryptWith(key, keyAlg, encryptionAlg) // for JWE\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThen during parsing, your \u003ccode\u003eLocator\u0026lt;Key\u0026gt;\u003c/code\u003e implementation can inspect the \u003ccode\u003eheader\u003c/code\u003e to get the \u003ccode\u003ekid\u003c/code\u003e value and then use it\nto look up the verification or decryption key from somewhere, like a database, keystore or Hardware Security Module\n(HSM).  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"public class MyKeyLocator extends LocatorAdapter\u0026lt;Key\u0026gt; {\n\n    @Override\n    public Key locate(ProtectedHeader\u0026lt;?\u0026gt; header) { // both JwsHeader and JweHeader extend ProtectedHeader\n\n        //inspect the header, lookup and return the verification key\n        String keyId = header.getKeyId(); //or any other parameter that you need to inspect\n\n        Key key = lookupKey(keyId); //implement me\n\n        return key;\n    }\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eMyKeyLocator\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eextends\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eLocatorAdapter\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e\u0026gt; {\n\n    \u003cspan class=\"pl-c1\"\u003e@\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eOverride\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elocate\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eProtectedHeader\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e) { \u003cspan class=\"pl-c\"\u003e// both JwsHeader and JweHeader extend ProtectedHeader\u003c/span\u003e\n\n        \u003cspan class=\"pl-c\"\u003e//inspect the header, lookup and return the verification key\u003c/span\u003e\n        \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetKeyId\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//or any other parameter that you need to inspect\u003c/span\u003e\n\n        \u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003elookupKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n        \u003cspan class=\"pl-k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e;\n    }\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNote that inspecting the \u003ccode\u003eheader.getKeyId()\u003c/code\u003e is just the most common approach to look up a key - you could inspect any\nnumber of header parameters to determine how to lookup the verification or decryption key.  It is all based on how\nthe JWT was created.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you extend \u003ccode\u003eLocatorAdapter\u0026lt;Key\u0026gt;\u003c/code\u003e as shown above, but for some reason have different lookup strategies for\nsignature verification keys versus decryption keys, you can forego overriding the \u003ccode\u003elocate(ProtectedHeader\u0026lt;?\u0026gt;)\u003c/code\u003e method\nin favor of two respective \u003ccode\u003elocate(JwsHeader)\u003c/code\u003e and \u003ccode\u003elocate(JweHeader)\u003c/code\u003e methods:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"public class MyKeyLocator extends LocatorAdapter\u0026lt;Key\u0026gt; {\n\n    @Override\n    public Key locate(JwsHeader header) {\n        String keyId = header.getKeyId(); //or any other parameter that you need to inspect\n        return lookupSignatureVerificationKey(keyId); //implement me\n    }\n\n    @Override\n    public Key locate(JweHeader header) {\n        String keyId = header.getKeyId(); //or any other parameter// that you need to inspect\n        return lookupDecryptionKey(keyId); //implement me\n    }\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eMyKeyLocator\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eextends\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eLocatorAdapter\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e\u0026gt; {\n\n    \u003cspan class=\"pl-c1\"\u003e@\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eOverride\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elocate\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eJwsHeader\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e) {\n        \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetKeyId\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//or any other parameter that you need to inspect\u003c/span\u003e\n        \u003cspan class=\"pl-k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elookupSignatureVerificationKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n    }\n\n    \u003cspan class=\"pl-c1\"\u003e@\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eOverride\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elocate\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eJweHeader\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e) {\n        \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetKeyId\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//or any other parameter// that you need to inspect\u003c/span\u003e\n        \u003cspan class=\"pl-k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elookupDecryptionKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyId\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n    }\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eSimpler Lookup\u003c/strong\u003e: If possible, try to keep the key lookup strategy the same between JWSs and JWEs (i.e. using\nonly \u003ccode\u003elocate(ProtectedHeader\u0026lt;?\u0026gt;)\u003c/code\u003e), preferably using only\nthe \u003ccode\u003ekid\u003c/code\u003e (Key ID) header value or perhaps a public key thumbprint.  You will find the implementation is much\nsimpler and easier to maintain over time, and also creates smaller headers for compact transmission.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-key-locator-retvals\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-key-locator-return-values\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eKey Locator Return Values\u003c/h4\u003e\u003ca id=\"user-content-key-locator-return-values\" class=\"anchor\" aria-label=\"Permalink: Key Locator Return Values\" href=\"#key-locator-return-values\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eRegardless of which implementation strategy you choose, remember to return the appropriate type of key depending\non the type of JWS or JWE algorithm used.  That is:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor JWS:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor HMAC-based signature algorithms, the returned verification key should be a \u003ccode\u003eSecretKey\u003c/code\u003e, and,\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor asymmetric signature algorithms, the returned verification key should be a \u003ccode\u003ePublicKey\u003c/code\u003e (not a \u003ccode\u003ePrivateKey\u003c/code\u003e).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor JWE:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor JWE direct encryption, the returned decryption key should be a \u003ccode\u003eSecretKey\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor password-based key derivation algorithms, the returned decryption key should be a\n\u003ccode\u003eio.jsonwebtoken.security.Password\u003c/code\u003e.  You can create a \u003ccode\u003ePassword\u003c/code\u003e instance by calling\n\u003ccode\u003eKeys.password(char[] passwordCharacters)\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor asymmetric key management algorithms, the returned decryption key should be a \u003ccode\u003ePrivateKey\u003c/code\u003e (not a \u003ccode\u003ePublicKey\u003c/code\u003e).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-key-locator-provider\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-provider-constrained-keys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eProvider-constrained Keys\u003c/h4\u003e\u003ca id=\"user-content-provider-constrained-keys\" class=\"anchor\" aria-label=\"Permalink: Provider-constrained Keys\" href=\"#provider-constrained-keys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf any verification or decryption key returned from a Key \u003ccode\u003eLocator\u003c/code\u003e must be used with a specific security \u003ccode\u003eProvider\u003c/code\u003e\n(such as for PKCS11 or Hardware Security Module (HSM) keys), you must make that \u003ccode\u003eProvider\u003c/code\u003e available for JWT parsing\nin one of 3 ways, listed in order of recommendation and simplicity:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://docs.oracle.com/en/java/javase/17/security/howtoimplaprovider.html#GUID-831AA25F-F702-442D-A2E4-8DA6DEA16F33\" rel=\"nofollow\"\u003eConfigure the Provider in the JVM\u003c/a\u003e,\neither by modifying the \u003ccode\u003ejava.security\u003c/code\u003e file or by registering the \u003ccode\u003eProvider\u003c/code\u003e dynamically via\n\u003ca href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/Security.html#addProvider(java.security.Provider)\" rel=\"nofollow\"\u003eSecurity.addProvider(Provider)\u003c/a\u003e.\nThis is the recommended approach so you do not need to modify code anywhere that may need to parse JWTs.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSet the \u003ccode\u003eProvider\u003c/code\u003e as the parser default by calling \u003ccode\u003eJwtParserBuilder#provider(Provider)\u003c/code\u003e.  This will\nensure the provider is used by default with \u003cem\u003eall\u003c/em\u003e located keys unless overridden by a key-specific Provider. This\nis only recommended when you are confident that all JWTs encountered by the parser instance will use keys\nattributed to the same \u003ccode\u003eProvider\u003c/code\u003e, unless overridden by a specific key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAssociate the \u003ccode\u003eProvider\u003c/code\u003e with a specific key using \u003ccode\u003eKeys.builder\u003c/code\u003e so it is used for that key only.  This option is\nuseful if some located keys require a specific provider, while other located keys can assume a default provider. For\nexample:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"public Key locate(Header\u0026lt;?\u0026gt; header) {\n\n    PrivateKey /* or SecretKey */ key = findKey(header); // implement me\n\n    Provider keySpecificProvider = findKeyProvider(key); // implement me\n    if (keySpecificProvider != null) {\n        // Ensure the key-specific provider (e.g. for PKCS11 or HSM) will be used\n        // during decryption with the KeyAlgorithm in the JWE 'alg' header\n        return Keys.builder(key).provider(keySpecificProvider).build();\n    }\n\n    // otherwise default provider is fine:\n    return key;\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003epublic\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elocate\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eHeader\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e) {\n\n    \u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e/* or SecretKey */\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003efindKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eheader\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// implement me\u003c/span\u003e\n\n    \u003cspan class=\"pl-smi\"\u003eProvider\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeySpecificProvider\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003efindKeyProvider\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// implement me\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e (\u003cspan class=\"pl-s1\"\u003ekeySpecificProvider\u003c/span\u003e != \u003cspan class=\"pl-c1\"\u003enull\u003c/span\u003e) {\n        \u003cspan class=\"pl-c\"\u003e// Ensure the key-specific provider (e.g. for PKCS11 or HSM) will be used\u003c/span\u003e\n        \u003cspan class=\"pl-c\"\u003e// during decryption with the KeyAlgorithm in the JWE 'alg' header\u003c/span\u003e\n        \u003cspan class=\"pl-k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eprovider\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeySpecificProvider\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n    }\n\n    \u003cspan class=\"pl-c\"\u003e// otherwise default provider is fine:\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e;\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-read-claims\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-read-claims\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-claim-assertions\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eClaim Assertions\u003c/h3\u003e\u003ca id=\"user-content-claim-assertions\" class=\"anchor\" aria-label=\"Permalink: Claim Assertions\" href=\"#claim-assertions\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can enforce that the JWT you are parsing conforms to expectations that you require and are important for your\napplication.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example, let’s say that you require that the JWT you are parsing has a specific \u003ccode\u003esub\u003c/code\u003e (subject) value,\notherwise you may not trust the token.  You can do that by using one of the various \u003ccode\u003erequire\u003c/code\u003e* methods on the\n\u003ccode\u003eJwtParserBuilder\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"try {\n    Jwts.parser().requireSubject(\u0026quot;jsmith\u0026quot;)/* etc... */.build().parse(s);\n} catch (InvalidClaimException ice) {\n    // the sub claim was missing or did not have a 'jsmith' value\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003erequireSubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"jsmith\"\u003c/span\u003e)\u003cspan class=\"pl-c\"\u003e/* etc... */\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e);\n} \u003cspan class=\"pl-k\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003eInvalidClaimException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eice\u003c/span\u003e) {\n    \u003cspan class=\"pl-c\"\u003e// the sub claim was missing or did not have a 'jsmith' value\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf it is important to react to a missing vs an incorrect value, instead of catching \u003ccode\u003eInvalidClaimException\u003c/code\u003e,\nyou can catch either \u003ccode\u003eMissingClaimException\u003c/code\u003e or \u003ccode\u003eIncorrectClaimException\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"try {\n    Jwts.parser().requireSubject(\u0026quot;jsmith\u0026quot;)/* etc... */.build().parse(s);\n} catch(MissingClaimException mce) {\n    // the parsed JWT did not have the sub claim\n} catch(IncorrectClaimException ice) {\n    // the parsed JWT had a sub claim, but its value was not equal to 'jsmith'\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003erequireSubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"jsmith\"\u003c/span\u003e)\u003cspan class=\"pl-c\"\u003e/* etc... */\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e);\n} \u003cspan class=\"pl-k\"\u003ecatch\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eMissingClaimException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emce\u003c/span\u003e) {\n    \u003cspan class=\"pl-c\"\u003e// the parsed JWT did not have the sub claim\u003c/span\u003e\n} \u003cspan class=\"pl-k\"\u003ecatch\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eIncorrectClaimException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eice\u003c/span\u003e) {\n    \u003cspan class=\"pl-c\"\u003e// the parsed JWT had a sub claim, but its value was not equal to 'jsmith'\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can also require custom claims by using the \u003ccode\u003erequire(claimName, requiredValue)\u003c/code\u003e method - for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"try {\n    Jwts.parser().require(\u0026quot;myClaim\u0026quot;, \u0026quot;myRequiredValue\u0026quot;)/* etc... */.build().parse(s);\n} catch(InvalidClaimException ice) {\n    // the 'myClaim' claim was missing or did not have a 'myRequiredValue' value\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003erequire\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"myClaim\"\u003c/span\u003e, \u003cspan class=\"pl-s\"\u003e\"myRequiredValue\"\u003c/span\u003e)\u003cspan class=\"pl-c\"\u003e/* etc... */\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e);\n} \u003cspan class=\"pl-k\"\u003ecatch\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eInvalidClaimException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eice\u003c/span\u003e) {\n    \u003cspan class=\"pl-c\"\u003e// the 'myClaim' claim was missing or did not have a 'myRequiredValue' value\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e(or, again, you could catch either \u003ccode\u003eMissingClaimException\u003c/code\u003e or \u003ccode\u003eIncorrectClaimException\u003c/code\u003e instead).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e class and/or JavaDoc for a full list of the various \u003ccode\u003erequire\u003c/code\u003e* methods you may use\nfor claims assertions.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-read-clock\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-read-clock\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-accounting-for-clock-skew\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAccounting for Clock Skew\u003c/h3\u003e\u003ca id=\"user-content-accounting-for-clock-skew\" class=\"anchor\" aria-label=\"Permalink: Accounting for Clock Skew\" href=\"#accounting-for-clock-skew\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhen parsing a JWT, you might find that \u003ccode\u003eexp\u003c/code\u003e or \u003ccode\u003enbf\u003c/code\u003e claim assertions fail (throw exceptions) because the clock on\nthe parsing machine is not perfectly in sync with the clock on the machine that created the JWT.  This can cause\nobvious problems since \u003ccode\u003eexp\u003c/code\u003e and \u003ccode\u003enbf\u003c/code\u003e are time-based assertions, and clock times need to be reliably in sync for shared\nassertions.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can account for these differences (usually no more than a few minutes) when parsing using the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's\n\u003ccode\u003eclockSkewSeconds\u003c/code\u003e. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"long seconds = 3 * 60; //3 minutes\n\nJwts.parser()\n\n    .clockSkewSeconds(seconds) // \u0026lt;----\n\n    // ... etc ...\n    .build()\n    .parse(jwt);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003elong\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eseconds\u003c/span\u003e = \u003cspan class=\"pl-c1\"\u003e3\u003c/span\u003e * \u003cspan class=\"pl-c1\"\u003e60\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//3 minutes\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eclockSkewSeconds\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eseconds\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwt\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis ensures that minor clock differences between the machines can be ignored. Two or three minutes should be more than\nenough; it would be fairly strange if a production machine’s clock was more than 5 minutes difference from most\natomic clocks around the world.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-read-clock-custom\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-read-clock-custom\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-custom-clock-support\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCustom Clock Support\u003c/h4\u003e\u003ca id=\"user-content-custom-clock-support\" class=\"anchor\" aria-label=\"Permalink: Custom Clock Support\" href=\"#custom-clock-support\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf the above \u003ccode\u003eclockSkewSeconds\u003c/code\u003e isn’t sufficient for your needs, the timestamps created\nduring parsing for timestamp comparisons can be obtained via a custom time source.  Call the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's\n\u003ccode\u003eclock\u003c/code\u003e method with an implementation of the \u003ccode\u003eio.jsonwebtoken.Clock\u003c/code\u003e interface.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Clock clock = new MyClock();\n\nJwts.parser().clock(myClock) //... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eClock\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eclock\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eMyClock\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eclock\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003emyClock\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e//... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eJwtParser\u003c/code\u003e's default \u003ccode\u003eClock\u003c/code\u003e implementation simply returns \u003ccode\u003enew Date()\u003c/code\u003e to reflect the time when parsing occurs,\nas most would expect.  However, supplying your own clock could be useful, especially when writing test cases to\nguarantee deterministic behavior.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwt-read-decompression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-decompression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Decompression\u003c/h3\u003e\u003ca id=\"user-content-jwt-decompression\" class=\"anchor\" aria-label=\"Permalink: JWT Decompression\" href=\"#jwt-decompression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you used JJWT to compress a JWT and you used a custom compression algorithm, you will need to tell the\n\u003ccode\u003eJwtParserBuilder\u003c/code\u003e how to resolve your \u003ccode\u003eCompressionAlgorithm\u003c/code\u003e to decompress the JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the \u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e section below to see how to decompress JWTs during parsing.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-signed-jwts\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSigned JWTs\u003c/h2\u003e\u003ca id=\"user-content-signed-jwts\" class=\"anchor\" aria-label=\"Permalink: Signed JWTs\" href=\"#signed-jwts\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specification provides for the ability to\n\u003ca href=\"https://en.wikipedia.org/wiki/Digital_signature\" rel=\"nofollow\"\u003ecryptographically \u003cem\u003esign\u003c/em\u003e\u003c/a\u003e a JWT.  Signing a JWT:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eguarantees the JWT was created by someone we know (it is authentic) as well as\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eguarantees that no-one has manipulated or changed the JWT after it was created (its integrity is maintained).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese two properties - authenticity and integrity - assure us that a JWT contains information we can trust.  If a\nJWT fails authenticity or integrity checks, we should always reject that JWT because we can’t trust it.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut before we dig in to showing you how to create a JWS using JJWT, let’s briefly discuss Signature Algorithms and\nKeys, specifically as they relate to the JWT specifications.  Understanding them is critical to being able to create a\nJWS properly.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-alg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-standard-signature-algorithms\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eStandard Signature Algorithms\u003c/h3\u003e\u003ca id=\"user-content-standard-signature-algorithms\" class=\"anchor\" aria-label=\"Permalink: Standard Signature Algorithms\" href=\"#standard-signature-algorithms\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specifications identify 13 standard signature algorithms - 3 secret key algorithms and 10 asymmetric\nkey algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eSignature Algorithm\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eHMAC using SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eHMAC using SHA-384\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eHMAC using SHA-512\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eES256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDSA using P-256 and SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eES384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDSA using P-384 and SHA-384\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eES512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDSA using P-521 and SHA-512\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PKCS-v1_5 using SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PKCS-v1_5 using SHA-384\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PKCS-v1_5 using SHA-512\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PSS using SHA-256 and MGF1 with SHA-256\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PSS using SHA-384 and MGF1 with SHA-384\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSASSA-PSS using SHA-512 and MGF1 with SHA-512\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eEdDSA\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eEdwards-Curve Digital Signature Algorithm (EdDSA)\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e2\u003c/strong\u003e. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese are all represented as constants in the \u003ccode\u003eio.jsonwebtoken.Jwts.SIG\u003c/code\u003e registry class.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-signature-algorithms-keys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSignature Algorithms Keys\u003c/h3\u003e\u003ca id=\"user-content-signature-algorithms-keys\" class=\"anchor\" aria-label=\"Permalink: Signature Algorithms Keys\" href=\"#signature-algorithms-keys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhat’s really important about the above standard signature algorithms - other than their security properties - is that\nthe JWT specification \u003ca href=\"https://tools.ietf.org/html/rfc7518#section-3\" rel=\"nofollow\"\u003eRFC 7518, Sections 3.2 through 3.5\u003c/a\u003e\n\u003cem\u003erequires\u003c/em\u003e (mandates) that you MUST use keys that are sufficiently strong for a chosen algorithm.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis means that JJWT - a specification-compliant library - will also enforce that you use sufficiently strong keys\nfor the algorithms you choose.  If you provide a weak key for a given algorithm, JJWT will reject it and throw an\nexception.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is not because we want to make your life difficult, we promise! The reason why the JWT specification, and\nconsequently JJWT, mandates key lengths is that the security model of a particular algorithm can completely break\ndown if you don’t adhere to the mandatory key properties of the algorithm, effectively having no security at all.  No\none wants completely insecure JWTs, right?  Right!\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo what are the key strength requirements?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-hmacsha\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-hmac-sha\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eHMAC-SHA\u003c/h4\u003e\u003ca id=\"user-content-hmac-sha\" class=\"anchor\" aria-label=\"Permalink: HMAC-SHA\" href=\"#hmac-sha\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJWT HMAC-SHA signature algorithms \u003ccode\u003eHS256\u003c/code\u003e, \u003ccode\u003eHS384\u003c/code\u003e, and \u003ccode\u003eHS512\u003c/code\u003e require a secret key that is \u003cem\u003eat least\u003c/em\u003e as many bits as\nthe algorithm’s signature (digest) length per \u003ca href=\"https://tools.ietf.org/html/rfc7518#section-3.2\" rel=\"nofollow\"\u003eRFC 7512 Section 3.2\u003c/a\u003e.\nThis means:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS256\u003c/code\u003e is HMAC-SHA-256, and that produces digests that are 256 bits (32 bytes) long, so \u003ccode\u003eHS256\u003c/code\u003e \u003cem\u003erequires\u003c/em\u003e that you\nuse a secret key that is at least 32 bytes long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS384\u003c/code\u003e is HMAC-SHA-384, and that produces digests that are 384 bits (48 bytes) long, so \u003ccode\u003eHS384\u003c/code\u003e \u003cem\u003erequires\u003c/em\u003e that you\nuse a secret key that is at least 48 bytes long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS512\u003c/code\u003e is HMAC-SHA-512, and that produces digests that are 512 bits (64 bytes) long, so \u003ccode\u003eHS512\u003c/code\u003e \u003cem\u003erequires\u003c/em\u003e that you\nuse a secret key that is at least 64 bytes long.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-rsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-rsa\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRSA\u003c/h4\u003e\u003ca id=\"user-content-rsa\" class=\"anchor\" aria-label=\"Permalink: RSA\" href=\"#rsa\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJWT RSA signature algorithms \u003ccode\u003eRS256\u003c/code\u003e, \u003ccode\u003eRS384\u003c/code\u003e, \u003ccode\u003eRS512\u003c/code\u003e, \u003ccode\u003ePS256\u003c/code\u003e, \u003ccode\u003ePS384\u003c/code\u003e and \u003ccode\u003ePS512\u003c/code\u003e all require a minimum key length\n(aka an RSA modulus bit length) of \u003ccode\u003e2048\u003c/code\u003e bits per RFC 7512 Sections\n\u003ca href=\"https://tools.ietf.org/html/rfc7518#section-3.3\" rel=\"nofollow\"\u003e3.3\u003c/a\u003e and \u003ca href=\"https://tools.ietf.org/html/rfc7518#section-3.5\" rel=\"nofollow\"\u003e3.5\u003c/a\u003e.\nAnything smaller than this (such as 1024 bits) will be rejected with an \u003ccode\u003eWeakKeyException\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThat said, in keeping with best practices and increasing key lengths for security longevity, JJWT\nrecommends that you use:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eat least 2048 bit keys with \u003ccode\u003eRS256\u003c/code\u003e and \u003ccode\u003ePS256\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eat least 3072 bit keys with \u003ccode\u003eRS384\u003c/code\u003e and \u003ccode\u003ePS384\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eat least 4096 bit keys with \u003ccode\u003eRS512\u003c/code\u003e and \u003ccode\u003ePS512\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese are only JJWT suggestions and not requirements. JJWT only enforces JWT specification requirements and\nfor any RSA key, the requirement is the RSA key (modulus) length in bits MUST be \u0026gt;= 2048 bits.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-ecdsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-elliptic-curve\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eElliptic Curve\u003c/h4\u003e\u003ca id=\"user-content-elliptic-curve\" class=\"anchor\" aria-label=\"Permalink: Elliptic Curve\" href=\"#elliptic-curve\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJWT Elliptic Curve signature algorithms \u003ccode\u003eES256\u003c/code\u003e, \u003ccode\u003eES384\u003c/code\u003e, and \u003ccode\u003eES512\u003c/code\u003e all require a key length\n(aka an Elliptic Curve order bit length) equal to the algorithm signature’s individual\n\u003ccode\u003eR\u003c/code\u003e and \u003ccode\u003eS\u003c/code\u003e components per \u003ca href=\"https://tools.ietf.org/html/rfc7518#section-3.4\" rel=\"nofollow\"\u003eRFC 7512 Section 3.4\u003c/a\u003e.  This means:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eES256\u003c/code\u003e requires that you use a private key that is exactly 256 bits (32 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eES384\u003c/code\u003e requires that you use a private key that is exactly 384 bits (48 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eES512\u003c/code\u003e requires that you use a private key that is exactly 521 bits (65 or 66 bytes) long (depending on format).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-eddsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-edwards-curve\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eEdwards Curve\u003c/h4\u003e\u003ca id=\"user-content-edwards-curve\" class=\"anchor\" aria-label=\"Permalink: Edwards Curve\" href=\"#edwards-curve\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT Edwards Curve signature algorithm \u003ccode\u003eEdDSA\u003c/code\u003e supports two sizes of private and public \u003ccode\u003eEdECKey\u003c/code\u003es (these types\nwere introduced in Java 15):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eEd25519\u003c/code\u003e algorithm keys must be 256 bits (32 bytes) long and produce signatures 512 bits (64 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eEd448\u003c/code\u003e algorithm keys must be 456 bits (57 bytes) long and produce signatures 912 bits (114 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-create\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-creating-safe-keys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCreating Safe Keys\u003c/h4\u003e\u003ca id=\"user-content-creating-safe-keys\" class=\"anchor\" aria-label=\"Permalink: Creating Safe Keys\" href=\"#creating-safe-keys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you don’t want to think about bit length requirements or just want to make your life easier, JJWT has\nprovided convenient builder classes that can generate sufficiently secure keys for any given\nJWT signature algorithm you might want to use.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-create-secret\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-secret-keys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSecret Keys\u003c/h5\u003e\u003ca id=\"user-content-secret-keys\" class=\"anchor\" aria-label=\"Permalink: Secret Keys\" href=\"#secret-keys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to generate a sufficiently strong \u003ccode\u003eSecretKey\u003c/code\u003e for use with the JWT HMAC-SHA algorithms, use the respective\nalgorithm’s \u003ccode\u003ekey()\u003c/code\u003e builder method:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = Jwts.SIG.HS256.key().build(); //or HS384.key() or HS512.key()\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS256\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//or HS384.key() or HS512.key()\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eUnder the hood, JJWT uses the JCA default provider’s \u003ccode\u003eKeyGenerator\u003c/code\u003e to create a secure-random key with the correct\nminimum length for the given algorithm.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to specify a specific JCA \u003ccode\u003eProvider\u003c/code\u003e or \u003ccode\u003eSecureRandom\u003c/code\u003e to use during key generation, you may specify those\nas builder arguments. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = Jwts.SIG.HS256.key().provider(aProvider).random(aSecureRandom).build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS256\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eprovider\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eaProvider\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003erandom\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eaSecureRandom\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you need to save this new \u003ccode\u003eSecretKey\u003c/code\u003e, you can Base64 (or Base64URL) encode it:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String secretString = Encoders.BASE64.encode(key.getEncoded());\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003esecretString\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eEncoders\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eBASE64\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eencode\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetEncoded\u003c/span\u003e());\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eEnsure you save the resulting \u003ccode\u003esecretString\u003c/code\u003e somewhere safe -\n\u003ca href=\"#base64-not-encryption\"\u003eBase64-encoding is not encryption\u003c/a\u003e, so it’s still considered sensitive information. You can\nfurther encrypt it, etc, before saving to disk (for example).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-key-create-asym\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-asymmetric-keys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAsymmetric Keys\u003c/h5\u003e\u003ca id=\"user-content-asymmetric-keys\" class=\"anchor\" aria-label=\"Permalink: Asymmetric Keys\" href=\"#asymmetric-keys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to generate sufficiently strong Elliptic Curve or RSA asymmetric key pairs for use with JWT ECDSA or RSA\nalgorithms, use an algorithm’s respective \u003ccode\u003ekeyPair()\u003c/code\u003e builder method:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"KeyPair keyPair = Jwts.SIG.RS256.keyPair().build(); //or RS384, RS512, PS256, etc...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeyPair\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRS256\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//or RS384, RS512, PS256, etc...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eOnce you’ve generated a \u003ccode\u003eKeyPair\u003c/code\u003e, you can use the private key (\u003ccode\u003ekeyPair.getPrivate()\u003c/code\u003e) to create a JWS and the\npublic key (\u003ccode\u003ekeyPair.getPublic()\u003c/code\u003e) to parse/verify a JWS.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eThe \u003ccode\u003ePS256\u003c/code\u003e, \u003ccode\u003ePS384\u003c/code\u003e, and \u003ccode\u003ePS512\u003c/code\u003e algorithms require JDK 11 or a compatible JCA Provider\n(like BouncyCastle) in the runtime classpath.\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eThe \u003ccode\u003eEdDSA\u003c/code\u003e algorithms requires JDK 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to use either set of algorithms, and you are on an earlier JDK that does not support them,\nsee the \u003ca href=\"#installation\"\u003eInstallation\u003c/a\u003e section to see how to enable BouncyCastle.  All other algorithms are\nnatively supported by the JDK.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-create\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-creating-a-jws\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCreating a JWS\u003c/h3\u003e\u003ca id=\"user-content-creating-a-jws\" class=\"anchor\" aria-label=\"Permalink: Creating a JWS\" href=\"#creating-a-jws\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou create a JWS as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwts.builder()\u003c/code\u003e method to create a \u003ccode\u003eJwtBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall \u003ccode\u003eJwtBuilder\u003c/code\u003e methods to set the \u003ccode\u003epayload\u003c/code\u003e content or claims and any header parameters as desired.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the \u003ccode\u003eSecretKey\u003c/code\u003e or asymmetric \u003ccode\u003ePrivateKey\u003c/code\u003e you want to use to sign the JWT.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFinally, call the \u003ccode\u003ecompact()\u003c/code\u003e method to compact and sign, producing the final jws.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jws = Jwts.builder() // (1)\n\n    .subject(\u0026quot;Bob\u0026quot;)         // (2)\n\n    .signWith(key)          // (3) \u0026lt;---\n\n    .compact();             // (4)\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e() \u003cspan class=\"pl-c\"\u003e// (1)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Bob\"\u003c/span\u003e)         \u003cspan class=\"pl-c\"\u003e// (2)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e)          \u003cspan class=\"pl-c\"\u003e// (3) \u0026lt;---\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();             \u003cspan class=\"pl-c\"\u003e// (4)\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-create-key\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-signing-key\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSigning Key\u003c/h4\u003e\u003ca id=\"user-content-signing-key\" class=\"anchor\" aria-label=\"Permalink: Signing Key\" href=\"#signing-key\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIt is usually recommended to specify the signing key by calling the \u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003esignWith\u003c/code\u003e method and let JJWT\ndetermine the most secure algorithm allowed for the specified key.:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jws = Jwts.builder()\n\n   // ... etc ...\n\n   .signWith(key) // \u0026lt;---\n\n   .compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n   \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n\n   .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---\u003c/span\u003e\n\n   .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example, if you call \u003ccode\u003esignWith\u003c/code\u003e with a \u003ccode\u003eSecretKey\u003c/code\u003e that is 256 bits (32 bytes) long, it is not strong enough for\n\u003ccode\u003eHS384\u003c/code\u003e or \u003ccode\u003eHS512\u003c/code\u003e, so JJWT will automatically sign the JWT using \u003ccode\u003eHS256\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhen using \u003ccode\u003esignWith\u003c/code\u003e JJWT will also automatically set the required \u003ccode\u003ealg\u003c/code\u003e header with the associated algorithm\nidentifier.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSimilarly, if you called \u003ccode\u003esignWith\u003c/code\u003e with an RSA \u003ccode\u003ePrivateKey\u003c/code\u003e that was 4096 bits long, JJWT will use the \u003ccode\u003eRS512\u003c/code\u003e\nalgorithm and automatically set the \u003ccode\u003ealg\u003c/code\u003e header to \u003ccode\u003eRS512\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe same selection logic applies for Elliptic Curve \u003ccode\u003ePrivateKey\u003c/code\u003es.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eYou cannot sign JWTs with \u003ccode\u003ePublicKey\u003c/code\u003es as this is always insecure.\u003c/strong\u003e JJWT will reject any specified\n\u003ccode\u003ePublicKey\u003c/code\u003e for signing with an \u003ccode\u003eInvalidKeyException\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-create-key-secret\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-secretkey-formats\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSecretKey Formats\u003c/h5\u003e\u003ca id=\"user-content-secretkey-formats\" class=\"anchor\" aria-label=\"Permalink: SecretKey Formats\" href=\"#secretkey-formats\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to sign a JWS using HMAC-SHA algorithms, and you have a secret key \u003ccode\u003eString\u003c/code\u003e or\n\u003ca href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--\" rel=\"nofollow\"\u003eencoded byte array\u003c/a\u003e, you will need\nto convert it into a \u003ccode\u003eSecretKey\u003c/code\u003e instance to use as the \u003ccode\u003esignWith\u003c/code\u003e method argument.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf your secret key is:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAn \u003ca href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--\" rel=\"nofollow\"\u003eencoded byte array\u003c/a\u003e:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = Keys.hmacShaKeyFor(encodedKeyBytes);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ehmacShaKeyFor\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eencodedKeyBytes\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eA Base64-encoded string:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = Keys.hmacShaKeyFor(Decoders.BASE64.decode(secretString));\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ehmacShaKeyFor\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eDecoders\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eBASE64\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003edecode\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretString\u003c/span\u003e));\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eA Base64URL-encoded string:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = Keys.hmacShaKeyFor(Decoders.BASE64URL.decode(secretString));\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ehmacShaKeyFor\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eDecoders\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eBASE64URL\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003edecode\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretString\u003c/span\u003e));\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eA raw (non-encoded) string (e.g. a password String):\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Password key = Keys.password(secretString.toCharArray());\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003ePassword\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003epassword\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretString\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoCharArray\u003c/span\u003e());\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIt is almost always incorrect to call any variant of \u003ccode\u003esecretString.getBytes\u003c/code\u003e in any cryptographic context.\u003cbr\u003e\nSafe cryptographic keys are never represented as direct (unencoded) strings.  If you have a password that should\nbe represented as a \u003ccode\u003eKey\u003c/code\u003e for \u003ccode\u003eHMAC-SHA\u003c/code\u003e algorithms, it is \u003cem\u003estrongly\u003c/em\u003e recommended to use a key derivation\nalgorithm to derive a cryptographically-strong \u003ccode\u003eKey\u003c/code\u003e from the password, and never use the password directly.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-create-key-algoverride\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-signaturealgorithm-override\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSignatureAlgorithm Override\u003c/h5\u003e\u003ca id=\"user-content-signaturealgorithm-override\" class=\"anchor\" aria-label=\"Permalink: SignatureAlgorithm Override\" href=\"#signaturealgorithm-override\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn some specific cases, you might want to override JJWT’s default selected signature algorithm for a given key.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example, if you have an RSA \u003ccode\u003ePrivateKey\u003c/code\u003e that is 2048 bits, JJWT would automatically choose the \u003ccode\u003eRS256\u003c/code\u003e algorithm.\nIf you wanted to use \u003ccode\u003eRS384\u003c/code\u003e or \u003ccode\u003eRS512\u003c/code\u003e instead, you could manually specify it with the overloaded \u003ccode\u003esignWith\u003c/code\u003e method\nthat accepts the \u003ccode\u003eSignatureAlgorithm\u003c/code\u003e as an additional argument:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"   .signWith(privateKey, Jwts.SIG.RS512) // \u0026lt;---\n\n   .compact();\"\u003e\u003cpre\u003e   .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivateKey\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRS512\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---\u003c/span\u003e\n\n   .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is allowed because the JWT specification allows any RSA algorithm strength for any RSA key \u0026gt;= 2048 bits.  JJWT just\nprefers \u003ccode\u003eRS512\u003c/code\u003e for keys \u0026gt;= 4096 bits, followed by \u003ccode\u003eRS384\u003c/code\u003e for keys \u0026gt;= 3072 bits and finally \u003ccode\u003eRS256\u003c/code\u003e for keys \u0026gt;= 2048\nbits.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eIn all cases however, regardless of your chosen algorithms, JJWT will assert that the specified key is allowed to be\nused for that algorithm when possible according to the JWT specification requirements.\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-create-compression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jws-compression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWS Compression\u003c/h4\u003e\u003ca id=\"user-content-jws-compression\" class=\"anchor\" aria-label=\"Permalink: JWS Compression\" href=\"#jws-compression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf your JWT payload is large (contains a lot of data), and you are certain that JJWT will also be the same library\nthat reads/parses your JWS, you might want to compress the JWS to reduce its size.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eNot Standard for JWS\u003c/strong\u003e: JJWT supports compression for JWS, but it is not a standard feature for JWS.  The\nJWT RFC specifications standardize this \u003cem\u003eonly\u003c/em\u003e for JWEs, and it is not likely to be supported by other JWT libraries\nfor JWS.  Use JWS compression only if you are certain that JJWT (or another library that supports JWS compression)\nwill be parsing the JWS.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the main \u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e section to see how to compress and decompress JWTs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-read\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-reading-a-jws\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eReading a JWS\u003c/h3\u003e\u003ca id=\"user-content-reading-a-jws\" class=\"anchor\" aria-label=\"Permalink: Reading a JWS\" href=\"#reading-a-jws\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou read (parse) a JWS as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwts.parser()\u003c/code\u003e method to create a \u003ccode\u003eJwtParserBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall either \u003ca href=\"#key-locator\"\u003ekeyLocator\u003c/a\u003e or \u003ccode\u003everifyWith\u003c/code\u003e methods to determine the key used to verify the JWS signature.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003ebuild()\u003c/code\u003e method on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e to return a thread-safe \u003ccode\u003eJwtParser\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFinally, call the \u003ccode\u003eparseSignedClaims(String)\u003c/code\u003e method with your jws \u003ccode\u003eString\u003c/code\u003e, producing the original JWS.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eThe entire call is wrapped in a try/catch block in case parsing or signature validation fails.  We’ll cover\nexceptions and causes for failure later.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jws\u0026lt;Claims\u0026gt; jws;\n\ntry {\n    jws = Jwts.parser()            // (1)\n\n    .keyLocator(keyLocator)        // (2) dynamically lookup verification keys based on each JWS\n    //.verifyWith(key)             //     or a static key used to verify all encountered JWSs\n\n    .build()                       // (3)\n    .parseSignedClaims(jwsString); // (4) or parseSignedContent(jwsString)\n\n    // we can safely trust the JWT\n\ncatch (JwtException ex) {          // (5)\n\n    // we *cannot* use the JWT as intended by its creator\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJws\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eClaims\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e;\n\n\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()            \u003cspan class=\"pl-c\"\u003e// (1)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ekeyLocator\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyLocator\u003c/span\u003e)        \u003cspan class=\"pl-c\"\u003e// (2) dynamically lookup verification keys based on each JWS\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.verifyWith(key)             //     or a static key used to verify all encountered JWSs\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()                       \u003cspan class=\"pl-c\"\u003e// (3)\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwsString\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// (4) or parseSignedContent(jwsString)\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// we can safely trust the JWT\u003c/span\u003e\n\n\u003cspan class=\"pl-en\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003eJwtException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eex\u003c/span\u003e) {          \u003cspan class=\"pl-c\"\u003e// (5)\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// we *cannot* use the JWT as intended by its creator\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003eType-safe JWSs\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf you are expecting a JWS with a Claims \u003ccode\u003epayload\u003c/code\u003e, call the \u003ccode\u003eJwtParser\u003c/code\u003e's \u003ccode\u003eparseSignedClaims\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf you are expecting a JWS with a content \u003ccode\u003epayload\u003c/code\u003e, call the \u003ccode\u003eJwtParser\u003c/code\u003e's \u003ccode\u003eparseSignedContent\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-read-key\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-verification-key\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eVerification Key\u003c/h4\u003e\u003ca id=\"user-content-verification-key\" class=\"anchor\" aria-label=\"Permalink: Verification Key\" href=\"#verification-key\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe most important thing to do when reading a JWS is to specify the key used to verify the JWS’s\ncryptographic signature.  If signature verification fails, the JWT cannot be safely trusted and should be\ndiscarded.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo which key do we use for verification?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the jws was signed with a \u003ccode\u003eSecretKey\u003c/code\u003e, the same \u003ccode\u003eSecretKey\u003c/code\u003e should be specified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e.\u003cbr\u003e\nFor example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .verifyWith(secretKey) // \u0026lt;----\n\n  .build()\n  .parseSignedClaims(jwsString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwsString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the jws was signed with a \u003ccode\u003ePrivateKey\u003c/code\u003e, that key’s corresponding \u003ccode\u003ePublicKey\u003c/code\u003e (not the \u003ccode\u003ePrivateKey\u003c/code\u003e) should be\nspecified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e.  For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .verifyWith(publicKey) // \u0026lt;---- publicKey, not privateKey\n\n  .build()\n  .parseSignedClaims(jwsString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epublicKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- publicKey, not privateKey\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwsString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-read-key-locator\"\u003e\u003c/a\u003e\u003ca name=\"user-content-jws-read-key-resolver\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-verification-key-locator\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eVerification Key Locator\u003c/h4\u003e\u003ca id=\"user-content-verification-key-locator\" class=\"anchor\" aria-label=\"Permalink: Verification Key Locator\" href=\"#verification-key-locator\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut you might have noticed something - what if your application doesn’t use just a single \u003ccode\u003eSecretKey\u003c/code\u003e or \u003ccode\u003eKeyPair\u003c/code\u003e? What\nif JWSs can be created with different \u003ccode\u003eSecretKey\u003c/code\u003es or public/private keys, or a combination of both?  How do you\nknow which key to specify if you can’t inspect the JWT first?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn these cases, you can’t call the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003everifyWith\u003c/code\u003e method with a single key - instead, you’ll need a\nKey Locator.  Please see the \u003ca href=\"#key-locator\"\u003eKey Lookup\u003c/a\u003e section to see how to dynamically obtain different keys when\nparsing JWSs or JWEs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-read-decompression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jws-decompression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWS Decompression\u003c/h4\u003e\u003ca id=\"user-content-jws-decompression\" class=\"anchor\" aria-label=\"Permalink: JWS Decompression\" href=\"#jws-decompression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you used JJWT to compress a JWS and you used a custom compression algorithm, you will need to tell the\n\u003ccode\u003eJwtParserBuilder\u003c/code\u003e how to resolve your \u003ccode\u003eCompressionAlgorithm\u003c/code\u003e to decompress the JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the \u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e section below to see how to decompress JWTs during parsing.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-unencoded\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-unencoded-payload-option\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUnencoded Payload Option\u003c/h3\u003e\u003ca id=\"user-content-unencoded-payload-option\" class=\"anchor\" aria-label=\"Permalink: Unencoded Payload Option\" href=\"#unencoded-payload-option\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn some cases, especially if a JWS payload is large, it could be desirable to \u003cem\u003enot\u003c/em\u003e Base64URL-encode the JWS payload,\nor even exclude the payload from the compact JWS string entirely.  The JWT RFC specifications provide support\nfor these use cases via the\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7797.html\" rel=\"nofollow\"\u003eJSON Web Signature (JWS) Unencoded Payload Option\u003c/a\u003e specification,\nwhich JJWT supports.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis option comes with both benefits and disadvantages:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-benefits\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBenefits\u003c/h4\u003e\u003ca id=\"user-content-benefits\" class=\"anchor\" aria-label=\"Permalink: Benefits\" href=\"#benefits\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWS producer can still create a JWS string to use for payload integrity verification without having to either:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eBase64URL-encode the (potentially very large) payload, saving the time that could take.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eInclude the payload in the compact JWS string at all. Omitting the payload from the JWS compact string\nentirely produces smaller JWSs that can be more efficient to transfer.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-disadvantages\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDisadvantages\u003c/h4\u003e\u003ca id=\"user-content-disadvantages\" class=\"anchor\" aria-label=\"Permalink: Disadvantages\" href=\"#disadvantages\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eYour application, and not JJWT, incurs the responsibility to ensure the payload is not modified during transmission\nso the recipient can verify the JWS signature. For example, by using a sufficiently strong TLS (https) cipher\nsuite as well as any additional care before and after transmission, since\n\u003ca href=\"https://tozny.com/blog/end-to-end-encryption-vs-https/\" rel=\"nofollow\"\u003eTLS does not guarantee end-to-end security\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf you choose to include the unencoded payload in the JWS compact string, your application\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7797.html#section-5.2\" rel=\"nofollow\"\u003eMUST\u003c/a\u003e ensure that the payload does not contain a\nperiod (\u003ccode\u003e.\u003c/code\u003e) character anywhere in the payload.  The JWS recipient will experience parsing errors otherwise.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBefore attempting to use this option, one should be aware of the RFC’s\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7797.html#section-8\" rel=\"nofollow\"\u003esecurity considerations\u003c/a\u003e first.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003eProtected JWS Only\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe RFC specification defines the Unencoded Payload option for use only with JWSs. It may not be used with\nwith unprotected JWTs or encrypted JWEs.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-unencoded-detached\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-detached-payload-example\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDetached Payload Example\u003c/h4\u003e\u003ca id=\"user-content-detached-payload-example\" class=\"anchor\" aria-label=\"Permalink: Detached Payload Example\" href=\"#detached-payload-example\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis example shows creating and parsing a compact JWS using an unencoded payload that is detached, i.e. where the\npayload is not embedded in the compact JWS string at all.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWe need to do three things during creation:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the JWS signing key; it’s a JWS and still needs to be signed.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the raw payload bytes via the \u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003econtent\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIndicate that the payload should \u003cem\u003enot\u003c/em\u003e be Base64Url-encoded using the \u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003eencodePayload(false)\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// create a test key for this example:\nSecretKey testKey = Jwts.SIG.HS512.key().build();\n\nString message = \u0026quot;Hello World. It's a Beautiful Day!\u0026quot;;\nbyte[] content = message.getBytes(StandardCharsets.UTF_8);\n\nString jws = Jwts.builder().signWith(testKey) // #1\n        .content(content)                     // #2\n        .encodePayload(false)                 // #3\n        .compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// create a test key for this example:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e = \u003cspan class=\"pl-s\"\u003e\"Hello World. It's a Beautiful Day!\"\u003c/span\u003e;\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetBytes\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// #1\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003econtent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e)                     \u003cspan class=\"pl-c\"\u003e// #2\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eencodePayload\u003c/span\u003e(\u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e)                 \u003cspan class=\"pl-c\"\u003e// #3\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eTo parse the resulting \u003ccode\u003ejws\u003c/code\u003e string, we need to do two things when creating the \u003ccode\u003eJwtParser\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the signature verification key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the externally-transmitted unencoded payload bytes, required for signature verification.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jws\u0026lt;byte[]\u0026gt; parsed = Jwts.parser().verifyWith(testKey) // 1\n        .build()\n        .parseSignedContent(jws, content);             // 2\n\nassertArrayEquals(content, parsed.getPayload());\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJws\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[]\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// 1\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n        .\u003cspan class=\"pl-en\"\u003eparseSignedContent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e);             \u003cspan class=\"pl-c\"\u003e// 2\u003c/span\u003e\n\n\u003cspan class=\"pl-en\"\u003eassertArrayEquals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e());\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jws-unencoded-nondetached\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-non-detached-payload-example\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eNon-Detached Payload Example\u003c/h4\u003e\u003ca id=\"user-content-non-detached-payload-example\" class=\"anchor\" aria-label=\"Permalink: Non-Detached Payload Example\" href=\"#non-detached-payload-example\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis example shows creating and parsing a compact JWS with what the RFC calls a 'non-detached' unencoded payload, i.e.\na raw string directly embedded as the payload in the compact JWS string.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWe need to do three things during creation:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the JWS signing key; it’s a JWS and still needs to be signed.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the raw payload string via the \u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003econtent\u003c/code\u003e method.  Per\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7797.html#section-5.2\" rel=\"nofollow\"\u003ethe RFC\u003c/a\u003e, the payload string \u003cstrong\u003e\u003cem\u003eMUST NOT contain any\nperiod (\u003ccode\u003e.\u003c/code\u003e) characters\u003c/em\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIndicate that the payload should \u003cem\u003enot\u003c/em\u003e be Base64Url-encoded using the \u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003eencodePayload(false)\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// create a test key for this example:\nSecretKey testKey = Jwts.SIG.HS512.key().build();\n\nString claimsString = \u0026quot;{\\\u0026quot;sub\\\u0026quot;:\\\u0026quot;joe\\\u0026quot;,\\\u0026quot;iss\\\u0026quot;:\\\u0026quot;me\\\u0026quot;}\u0026quot;;\n\nString jws = Jwts.builder().signWith(testKey) // #1\n        .content(claimsString)                // #2\n        .encodePayload(false)                 // #3\n        .compact();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// create a test key for this example:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eclaimsString\u003c/span\u003e = \u003cspan class=\"pl-s\"\u003e\"{\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003esub\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003e:\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003ejoe\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003e,\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003eiss\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003e:\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003eme\u003cspan class=\"pl-cce\"\u003e\\\"\u003c/span\u003e}\"\u003c/span\u003e;\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// #1\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003econtent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eclaimsString\u003c/span\u003e)                \u003cspan class=\"pl-c\"\u003e// #2\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003eencodePayload\u003c/span\u003e(\u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e)                 \u003cspan class=\"pl-c\"\u003e// #3\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you were to print the \u003ccode\u003ejws\u003c/code\u003e string, you’d see something like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eeyJhbGciOiJIUzUxMiIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19.{\"sub\":\"joe\",\"iss\":\"me\"}.wkoxYEd//...etc...\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSee how the \u003ccode\u003eclaimsString\u003c/code\u003e is embedded directly as the center \u003ccode\u003epayload\u003c/code\u003e token instead of a standard Base64URL value?\nThis is why no period (\u003ccode\u003e.\u003c/code\u003e) characters can exist in the payload.  If they did, any standard JWT parser would see more\nthan two periods total, which is required for parsing standard JWSs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eTo parse the resulting \u003ccode\u003ejws\u003c/code\u003e string, we need to do two things when creating the \u003ccode\u003eJwtParser\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSpecify the signature verification key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIndicate that we want to support Unencoded Payload Option JWSs by enabling the \u003ccode\u003eb64\u003c/code\u003e \u003ccode\u003ecrit\u003c/code\u003e header parameter.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jws\u0026lt;Claims\u0026gt; parsed = Jwts.parser().verifyWith(testKey) // 1\n        .critical().add(\u0026quot;b64\u0026quot;).and()                   // 2\n        .build()\n        .parseSignedClaims(jws);\n\nassert \u0026quot;joe\u0026quot;.equals(parsed.getPayload().getSubject());\nassert \u0026quot;me\u0026quot;.equals(parsed.getPayload().getIssuer());\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJws\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eClaims\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// 1\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ecritical\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"b64\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()                   \u003cspan class=\"pl-c\"\u003e// 2\u003c/span\u003e\n        .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n        .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"joe\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetSubject\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"me\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetIssuer\u003c/span\u003e());\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDid you notice we used the \u003ccode\u003e.parseSignedClaims(String)\u003c/code\u003e method instead of \u003ccode\u003e.parseSignedClaims(String, byte[])\u003c/code\u003e? This is\nbecause the non-detached payload is already present and JJWT has what it needs for signature verification.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAdditionally, we needed to specify the \u003ccode\u003eb64\u003c/code\u003e critical value:  because we’re not using the two-argument\n\u003ccode\u003eparseSignedClaims(jws, content)\u003c/code\u003e method, the parser has no way of knowing if you wish to allow or support unencoded\npayloads. Unencoded payloads have additional security considerations as described above, so they are disabled by\nthe parser by default unless you indicate you want to support them by using \u003ccode\u003ecritical().add(\"b64\")\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFinally, even if the payload contains a non-detached String, you could still use the two-argument method using the\npayload String’s UTF-8 bytes instead:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"parsed = Jwts.parser().verifyWith(testKey)\n        .build()\n        .parseSignedClaims(jws, claimsString.getBytes(StandardCharsets.UTF_8)); // \u0026lt;---\"\u003e\u003cpre\u003e\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003etestKey\u003c/span\u003e)\n        .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n        .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eclaimsString\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetBytes\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e)); \u003cspan class=\"pl-c\"\u003e// \u0026lt;---\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-encrypted-jwts\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eEncrypted JWTs\u003c/h2\u003e\u003ca id=\"user-content-encrypted-jwts\" class=\"anchor\" aria-label=\"Permalink: Encrypted JWTs\" href=\"#encrypted-jwts\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specification also provides for the ability to encrypt and decrypt a JWT.  Encrypting a JWT:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eguarantees that no-one other than the intended JWT recipient can see the JWT \u003ccode\u003epayload\u003c/code\u003e (it is confidential), and\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eguarantees that no-one has manipulated or changed the JWT after it was created (its integrity is maintained).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese two properties - confidentiality and integrity - assure us that an encrypted JWT contains a \u003ccode\u003epayload\u003c/code\u003e that\nno-one else can see, \u003cem\u003enor\u003c/em\u003e has anyone changed or altered the data in transit.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eEncryption and confidentiality seem somewhat obvious: if you encrypt a message, it is confidential by the notion that\nrandom 3rd parties cannot make sense of the encrypted message. But some might be surprised to know that \u003cstrong\u003e\u003cem\u003egeneral\nencryption does _not\u003c/em\u003e guarantee that someone hasn’t tampered/altered an encrypted message in transit_\u003c/strong\u003e.  Most of us\nassume that if a message can be decrypted, then the message would be authentic and unchanged - after all, if you can\ndecrypt it, it must not have been tampered with, right? Because if it was changed, decryption would surely fail, right?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eUnfortunately, this is not actually guaranteed in all cryptographic ciphers. There are certain attack vectors where\nit is possible to change an encrypted payload (called 'ciphertext'), and the message recipient is still able to\nsuccessfully decrypt the (modified) payload.  In these cases, the ciphertext integrity was not maintained - a\nmalicious 3rd party could intercept a message and change the payload content, even if they don’t understand what is\ninside the payload, and the message recipient could never know.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eTo combat this, there is a category of encryption algorithms that ensures                                                                                 both confidentiality \u003cem\u003eand\u003c/em\u003e integrity of the\nciphertext data.  These types of algorithms are called\n\u003ca href=\"https://en.wikipedia.org/wiki/Authenticated_encryption\" rel=\"nofollow\"\u003eAuthenticated Encryption\u003c/a\u003e algorithms.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs a result, to ensure JWTs do not suffer from this problem, the JWE RFC specifications require that any encryption\nalgorithm used to encrypt a JWT \u003cem\u003eMUST\u003c/em\u003e be an Authenticated Encryption algorithm.  JWT users can be sufficiently\nconfident their encrypted JWTs maintain the properties of both confidentiality and integrity.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-enc\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwe-encryption-algorithms\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWE Encryption Algorithms\u003c/h3\u003e\u003ca id=\"user-content-jwe-encryption-algorithms\" class=\"anchor\" aria-label=\"Permalink: JWE Encryption Algorithms\" href=\"#jwe-encryption-algorithms\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specification defines 6 standard Authenticated Encryption algorithms used to encrypt a JWT \u003ccode\u003epayload\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eRequired Key Bit Length\u003c/th\u003e\n\u003cth\u003eEncryption Algorithm\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128CBC‑HS256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e256\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3\" rel=\"nofollow\"\u003eAES_128_CBC_HMAC_SHA_256\u003c/a\u003e authenticated encryption algorithm\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192CBC-HS384\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e384\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.4\" rel=\"nofollow\"\u003eAES_192_CBC_HMAC_SHA_384\u003c/a\u003e authenticated encryption algorithm\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256CBC-HS512\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e512\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5\" rel=\"nofollow\"\u003eAES_256_CBC_HMAC_SHA_512\u003c/a\u003e authenticated encryption algorithm\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128GCM\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e128\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES GCM using 128-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192GCM\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e192\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES GCM using 192-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256GCM\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e256\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES GCM using 256-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese are all represented as constants in the \u003ccode\u003eio.jsonwebtoken.Jwts.ENC\u003c/code\u003e registry singleton as\nimplementations of the \u003ccode\u003eio.jsonwebtoken.security.AeadAlgorithm\u003c/code\u003e interface.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs shown in the table above, each algorithm requires a key of sufficient length.  The JWT specification\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3\" rel=\"nofollow\"\u003eRFC 7518, Sections 5.2.3 through 5.3\u003c/a\u003e\n\u003cem\u003erequires\u003c/em\u003e (mandates) that you MUST use keys that are sufficiently strong for a chosen algorithm.  This means that\nJJWT - a specification-compliant library - will also enforce that you use sufficiently strong keys\nfor the algorithms you choose.  If you provide a weak key for a given algorithm, JJWT will reject it and throw an\nexception.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe reason why the JWT specification, and consequently JJWT, mandates key lengths is that the security model of a\nparticular algorithm can completely break down if you don’t adhere to the mandatory key properties of the algorithm,\neffectively having no security at all.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-enc-symmetric\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-symmetric-ciphers\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSymmetric Ciphers\u003c/h4\u003e\u003ca id=\"user-content-symmetric-ciphers\" class=\"anchor\" aria-label=\"Permalink: Symmetric Ciphers\" href=\"#symmetric-ciphers\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou might have noticed something about the above Authenticated Encryption algorithms: they’re all variants of the\nAES algorithm, and AES always uses a symmetric (secret) key to perform encryption and decryption.  That’s kind of\nstrange, isn’t it?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhat about RSA and Elliptic Curve asymmetric key cryptography? And Diffie-Hellman key exchange?  What about\npassword-based key derivation algorithms? Surely any of those could be desirable depending on the use case, no?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYes, they definitely can, and the JWT specifications do support them, albeit indirectly:  those other\nalgorithms \u003cem\u003eare\u003c/em\u003e indeed supported and used, but they aren’t used to encrypt the JWT \u003ccode\u003epayload\u003c/code\u003e directly.  They are\nused to \u003cem\u003eproduce\u003c/em\u003e the actual key used to encrypt the \u003ccode\u003eJWT\u003c/code\u003e payload.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is all done via the JWT specification’s concept of a Key Management Algorithm, covered next.  After we cover that,\nwe’ll show you how to encrypt and parse your own JWTs with the \u003ccode\u003eJwtBuilder\u003c/code\u003e and \u003ccode\u003eJwtParserBuilder\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwe-key-management-algorithms\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWE Key Management Algorithms\u003c/h3\u003e\u003ca id=\"user-content-jwe-key-management-algorithms\" class=\"anchor\" aria-label=\"Permalink: JWE Key Management Algorithms\" href=\"#jwe-key-management-algorithms\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs stated above, all standard JWA Encryption Algorithms are AES-based authenticated encryption algorithms.  So what\nabout RSA and Elliptic Curve cryptography? And password-based key derivation, or Diffie-Hellman exchange?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAll of those are supported as well, but they are not used directly for encryption. They are used to \u003cem\u003eproduce\u003c/em\u003e the\nkey that will be used to directly encrypt the JWT \u003ccode\u003epayload\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThat is, JWT encryption can be thought of as a two-step process, shown in the following pseudocode:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Key algorithmKey = getKeyManagementAlgorithmKey(); // PublicKey, SecretKey, or Password\n\nSecretKey contentEncryptionKey = keyManagementAlgorithm.produceEncryptionKey(algorithmKey); // 1\n\nbyte[] ciphertext = encryptionAlgorithm.encrypt(payload, contentEncryptionKey);             // 2\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003eKey\u003c/span\u003e algorithmKey \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e getKeyManagementAlgorithmKey(); \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e PublicKey, SecretKey, or Password\u003c/span\u003e\n\n\u003cspan class=\"pl-k\"\u003eSecretKey\u003c/span\u003e contentEncryptionKey \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e keyManagementAlgorithm\u003cspan class=\"pl-k\"\u003e.\u003c/span\u003eproduceEncryptionKey(algorithmKey); \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e 1\u003c/span\u003e\n\n\u003cspan class=\"pl-k\"\u003ebyte\u003c/span\u003e[] ciphertext \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e encryptionAlgorithm\u003cspan class=\"pl-k\"\u003e.\u003c/span\u003eencrypt(payload, contentEncryptionKey);             \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e 2\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSteps:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003ealgorithmKey\u003c/code\u003e to produce the actual key that will be used to encrypt the payload.  The JWT specifications\ncall this result the 'Content Encryption Key'.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eTake the resulting Content Encryption Key and use it directly with the Authenticated Encryption algorithm to\nactually encrypt the JWT \u003ccode\u003epayload\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo why the indirection?  Why not just use any \u003ccode\u003ePublicKey\u003c/code\u003e, \u003ccode\u003eSecretKey\u003c/code\u003e or \u003ccode\u003ePassword\u003c/code\u003e to encrypt the \u003ccode\u003epayload\u003c/code\u003e\n\u003cem\u003edirectly\u003c/em\u003e ?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThere are quite a few reasons for this.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAsymmetric key encryption (like RSA and Elliptic Curve) tends to be slow.  Like \u003cem\u003ereally\u003c/em\u003e slow.  Symmetric key\ncipher algorithms in contrast are \u003cem\u003ereally fast\u003c/em\u003e.  This matters a lot in production applications that could be\nhandling a JWT on every HTTP request, which could be thousands per second.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRSA encryption (for example) can only encrypt a relatively small amount of data. A 2048-bit RSA key can only\nencrypt up to a maximum of 245 bytes.  A 4096-bit RSA key can only encrypt up to a maximum of 501 bytes.  There are\nplenty of JWTs that can exceed 245 bytes, and that would make RSA unusable.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003ePasswords usually make for very poor encryption keys - they often have poor entropy, or they themselves are\noften too short to be used directly with algorithms that mandate minimum key lengths to help ensure safety.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor these reasons and more, using one secure algorithm to generate or encrypt a key used for another (very fast) secure\nalgorithm has been proven to be a great way to increase security through many more secure algorithms while\nalso still resulting in very fast and secure output.  This is after all how TLS (for https encryption) works -\ntwo parties can use more complex cryptography (like RSA or Elliptic Curve) to negotiate a small, fast encryption key.\nThis fast encryption key is produced during the 'TLS handshake' and is called the TLS 'session key'.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo the JWT specifications work much in the same way: one key from any number of various algorithm types can be used\nto produce a final symmetric key, and that symmetric key is used to encrypt the JWT \u003ccode\u003epayload\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg-standard\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwe-standard-key-management-algorithms\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWE Standard Key Management Algorithms\u003c/h4\u003e\u003ca id=\"user-content-jwe-standard-key-management-algorithms\" class=\"anchor\" aria-label=\"Permalink: JWE Standard Key Management Algorithms\" href=\"#jwe-standard-key-management-algorithms\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specification defines 17 standard Key Management Algorithms used to produce the JWE\nContent Encryption Key (CEK):\u003c/p\u003e\n\u003c/div\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\n\n\n\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eKey Management Algorithm\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSA1_5\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSAES-PKCS1-v1_5\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSA-OAEP\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSAES OAEP using default parameters\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eRSA-OAEP-256\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eRSAES OAEP using SHA-256 and MGF1 with SHA-256\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES Key Wrap with default initial value using 128-bit key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES Key Wrap with default initial value using 192-bit key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eAES Key Wrap with default initial value using 256-bit key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003edir\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eDirect use of a shared symmetric key as the Content Encryption Key\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eElliptic Curve Diffie-Hellman Ephemeral Static key agreement using Concat KDF\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES+A128KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDH-ES using Concat KDF and CEK wrapped with \"A128KW\"\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES+A192KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDH-ES using Concat KDF and CEK wrapped with \"A192KW\"\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eECDH-ES+A256KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eECDH-ES using Concat KDF and CEK wrapped with \"A256KW\"\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128GCMKW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eKey wrapping with AES GCM using 128-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192GCMKW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eKey wrapping with AES GCM using 192-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256GCMKW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003eKey wrapping with AES GCM using 256-bit key\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePBES2-HS256+A128KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003ePBES2 with HMAC SHA-256 and \"A128KW\" wrapping\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePBES2-HS384+A192KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003ePBES2 with HMAC SHA-384 and \"A192KW\" wrapping\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003e\u003ccode\u003ePBES2‑HS512+A256KW\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp dir=\"auto\"\u003ePBES2 with HMAC SHA-512 and \"A256KW\" wrapping\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e\u003c/sup\u003e\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003csup\u003e\u003cstrong\u003e1\u003c/strong\u003e. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.\u003c/sup\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese are all represented as constants in the \u003ccode\u003eio.jsonwebtoken.Jwts.KEY\u003c/code\u003e registry singleton as\nimplementations of the \u003ccode\u003eio.jsonwebtoken.security.KeyAlgorithm\u003c/code\u003e interface.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBut 17 algorithms are a lot to choose from.  When would you use them?  The sections below describe when you might\nchoose each category of algorithms and how they behave.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg-rsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-rsa-key-encryption\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRSA Key Encryption\u003c/h5\u003e\u003ca id=\"user-content-rsa-key-encryption\" class=\"anchor\" aria-label=\"Permalink: RSA Key Encryption\" href=\"#rsa-key-encryption\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT RSA key management algorithms \u003ccode\u003eRSA1_5\u003c/code\u003e, \u003ccode\u003eRSA-OAEP\u003c/code\u003e, and \u003ccode\u003eRSA-OAEP-256\u003c/code\u003e are used when you want to use the\nJWE recipient’s RSA \u003cem\u003epublic\u003c/em\u003e key during encryption.  This ensures that only the JWE recipient can decrypt\nand read the JWE (using their RSA \u003ccode\u003eprivate\u003c/code\u003e key).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE creation, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate a new secure-random Content Encryption Key (CEK) suitable for the desired \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the JWE payload with the desired encryption algorithm using the new CEK, producing the JWE payload ciphertext.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the CEK itself with the specified RSA key wrap algorithm using the JWE recipient’s RSA public key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEmbed the payload ciphertext and encrypted CEK in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE decryption, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRetrieve the encrypted Content Encryption Key (CEK) embedded in the JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the encrypted CEK with the discovered RSA key unwrap algorithm using the JWE recipient’s RSA private key,\nproducing the decrypted Content Encryption Key (CEK).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the JWE ciphertext payload with the JWE’s identified \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e using the decrypted CEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eRFC 7518 Sections \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.2\" rel=\"nofollow\"\u003e4.2\u003c/a\u003e and\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.3\" rel=\"nofollow\"\u003e4.3\u003c/a\u003e \u003cem\u003erequire\u003c/em\u003e (mandate) that RSA keys \u0026gt;= 2048 bits\nMUST be used with these algorithms. JJWT will throw an exception if it detects weaker keys being used.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg-aes\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-aes-key-encryption\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAES Key Encryption\u003c/h5\u003e\u003ca id=\"user-content-aes-key-encryption\" class=\"anchor\" aria-label=\"Permalink: AES Key Encryption\" href=\"#aes-key-encryption\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT AES key management algorithms \u003ccode\u003eA128KW\u003c/code\u003e, \u003ccode\u003eA192KW\u003c/code\u003e, \u003ccode\u003eA256KW\u003c/code\u003e, \u003ccode\u003eA128GCMKW\u003c/code\u003e, \u003ccode\u003eA192GCMKW\u003c/code\u003e, and \u003ccode\u003eA256GCMKW\u003c/code\u003e are\nused when you have a symmetric secret key, but you don’t want to use that secret key to directly\nencrypt/decrypt the JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eInstead, a new secure-random key is generated each time a JWE is created, and that new/random key is used to directly\nencrypt/decrypt the JWT payload.  The secure-random key is itself encrypted with your symmetric secret key\nusing the AES Wrap algorithm, and the encrypted key is embedded in the resulting JWE.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis allows the JWE to be encrypted with a random short-lived key, reducing material exposure of the potentially\nlonger-lived symmetric secret key.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause these particular algorithms use a symmetric secret key, they are best suited when the JWE creator and\nreceiver are the same, ensuring the secret key does not need to be shared with multiple parties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE creation, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate a new secure-random Content Encryption Key (CEK) suitable for the desired \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the JWE payload with the desired encryption algorithm using the new CEK, producing the JWE payload ciphertext.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the CEK itself with the specified AES key algorithm (either AES Key Wrap or AES with GCM encryption),\nproducing the encrypted CEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEmbed the payload ciphertext and encrypted CEK in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE decryption, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRetrieve the encrypted Content Encryption Key (CEK) embedded in the JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the encrypted CEK with the discovered AES key algorithm using the symmetric secret key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the JWE ciphertext payload with the JWE’s identified \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e using the decrypted CEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe symmetric key used for the AES key algorithms MUST be 128, 192 or 256 bits as required by the specific AES\nkey algorithm.  JJWT will throw an exception if it detects weaker keys than what is required.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg-dir\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-direct-key-encryption\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDirect Key Encryption\u003c/h5\u003e\u003ca id=\"user-content-direct-key-encryption\" class=\"anchor\" aria-label=\"Permalink: Direct Key Encryption\" href=\"#direct-key-encryption\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT \u003ccode\u003edir\u003c/code\u003e (direct) key management algorithm is used when you have a symmetric secret key, and you want to use it\nto directly encrypt the JWT payload.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause this algorithm uses a symmetric secret key, it is best suited when the JWE creator and receiver are the\nsame, ensuring the secret key does not need to be shared with multiple parties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is the simplest key algorithm for direct encryption that does not perform any key encryption.  It is essentially\na 'no op' key algorithm, allowing the shared key to be used to directly encrypt the JWT payload.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE creation, this algorithm:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypts the JWE payload with the desired encryption algorithm directly using the symmetric secret key,\nproducing the JWE payload ciphertext.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEmbeds the payload ciphertext in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNote that because this algorithm does not produce an encrypted key value, an encrypted CEK is \u003cem\u003enot\u003c/em\u003e embedded in the\nresulting JWE.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE decryption, this algorithm decrypts the JWE ciphertext payload with the JWE’s\nidentified \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e directly using the symmetric secret key.  No encrypted CEK is used.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe symmetric secret key MUST be 128, 192 or 256 bits as required by the associated\n\u003ca href=\"#jwe-enc\"\u003eAEAD encryption algorithm\u003c/a\u003e used to encrypt the payload. JJWT will throw an exception if it detects\nweaker keys than what is required.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg-pbes2\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-password-based-key-encryption\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePassword-Based Key Encryption\u003c/h5\u003e\u003ca id=\"user-content-password-based-key-encryption\" class=\"anchor\" aria-label=\"Permalink: Password-Based Key Encryption\" href=\"#password-based-key-encryption\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT password-based key encryption algorithms \u003ccode\u003ePBES2-HS256+A128KW\u003c/code\u003e, \u003ccode\u003ePBES2-HS384+A192KW\u003c/code\u003e, and \u003ccode\u003ePBES2-HS512+A256KW\u003c/code\u003e\nare used when you want to use a password (character array) to encrypt and decrypt a JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, because passwords are usually too weak or problematic to use directly in cryptographic contexts, these\nalgorithms utilize key derivation techniques with work factors (e.g. computation iterations) and secure-random salts\nto produce stronger cryptographic keys suitable for cryptographic operations.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis allows the payload to be encrypted with a random short-lived cryptographically-stronger key, reducing the need to\nexpose the longer-lived (and potentially weaker) password.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause these algorithms use a secret password, they are best suited when the JWE creator and receiver are the\nsame, ensuring the secret password does not need to be shared with multiple parties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE creation, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate a new secure-random Content Encryption Key (CEK) suitable for the desired \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the JWE payload with the desired encryption algorithm using the new CEK, producing the JWE payload ciphertext.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDerive a 'key encryption key' (KEK) with the desired \"PBES2 with HMAC SHA\" algorithm using the password, a suitable\nnumber of computational iterations, and a secure-random salt value.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the generated CEK with the corresponding AES Key Wrap algorithm using the password-derived KEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEmbed the payload ciphertext and encrypted CEK in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003eSecure defaults\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhen using these algorithms, if you do not specify a work factor (i.e. number of computational\niterations), JJWT will automatically use an\n\u003ca href=\"https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2\" rel=\"nofollow\"\u003eOWASP PBKDF2 recommended\u003c/a\u003e\ndefault appropriate for the specified \u003ccode\u003ePBES2\u003c/code\u003e algorithm.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE decryption, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRetrieve the encrypted Content Encryption Key (CEK) embedded in the JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDerive the 'key encryption key' (KEK) with the discovered \"PBES2 with HMAC SHA\" algorithm using the password and the\nnumber of computational iterations and secure-random salt value discovered in the JWE header.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the encrypted CEK with the corresponding AES Key Unwrap algorithm using the password-derived KEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the JWE ciphertext payload with the JWE’s identified \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e using the decrypted CEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-alg-ecdhes\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eElliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)\u003c/h5\u003e\u003ca id=\"user-content-elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es\" class=\"anchor\" aria-label=\"Permalink: Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)\" href=\"#elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT Elliptic Curve Diffie-Hellman Ephemeral Static key agreement algorithms \u003ccode\u003eECDH-ES\u003c/code\u003e, \u003ccode\u003eECDH-ES+A128KW\u003c/code\u003e,\n\u003ccode\u003eECDH-ES+A192KW\u003c/code\u003e, and \u003ccode\u003eECDH-ES+A256KW\u003c/code\u003e are used when you want to use the JWE recipient’s Elliptic Curve \u003cem\u003epublic\u003c/em\u003e key\nduring encryption.  This ensures that only the JWE recipient can decrypt and read the JWE (using their Elliptic Curve\n\u003cem\u003eprivate\u003c/em\u003e key).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE creation, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eObtain the Content Encryption Key (CEK) used to encrypt the JWE payload as follows:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eInspect the JWE recipient’s Elliptic Curve public key and determine its Curve.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate a new secure-random ephemeral Elliptic Curve public/private key pair on this same Curve.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAdd the ephemeral EC public key to the JWE\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.1\" rel=\"nofollow\"\u003eepk header\u003c/a\u003e for inclusion in the final JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eProduce an ECDH shared secret with the ECDH Key Agreement algorithm using the JWE recipient’s EC public key\nand the ephemeral EC private key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDerive a symmetric secret key with the Concat Key Derivation Function\n(\u003ca href=\"https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-56Ar2.pdf\" rel=\"nofollow\"\u003eNIST.800-56A\u003c/a\u003e, Section 5.8.1) using\nthis ECDH shared secret and any provided\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.2\" rel=\"nofollow\"\u003ePartyUInfo\u003c/a\u003e and/or\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.3\" rel=\"nofollow\"\u003ePartyVInfo\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the key algorithm is \u003ccode\u003eECDH-ES\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the Concat KDF-derived symmetric secret key directly as the Content Encryption Key (CEK). No encrypted key\nis created, nor embedded in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eOtherwise, if the key algorithm is \u003ccode\u003eECDH-ES+A128KW\u003c/code\u003e, \u003ccode\u003eECDH-ES+A192KW\u003c/code\u003e, or \u003ccode\u003eECDH-ES+A256KW\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate a new secure-random Content Encryption Key (CEK) suitable for the desired \u003ca href=\"#jwe-enc\"\u003eencryption algorithm\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt this new CEK with the corresponding AES Key Wrap algorithm using the Concat KDF-derived secret key,\nproducing the encrypted CEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEmbed the encrypted CEK in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEncrypt the JWE payload with the desired encryption algorithm using the obtained CEK, producing the JWE payload\nciphertext.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEmbed the payload ciphertext in the resulting JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eDuring JWE decryption, these algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eObtain the Content Encryption Key (CEK) used to decrypt the JWE payload as follows:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRetrieve the required ephemeral Elliptic Curve public key from the JWE’s\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.1\" rel=\"nofollow\"\u003eepk header\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eEnsure the ephemeral EC public key exists on the same curve as the JWE recipient’s EC private key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eProduce the ECDH shared secret with the ECDH Key Agreement algorithm using the JWE recipient’s EC private key\nand the ephemeral EC public key.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDerive a symmetric secret key with the Concat Key Derivation Function\n(\u003ca href=\"https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-56Ar2.pdf\" rel=\"nofollow\"\u003eNIST.800-56A\u003c/a\u003e, Section 5.8.1) using\nthis ECDH shared secret and any\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.2\" rel=\"nofollow\"\u003ePartyUInfo\u003c/a\u003e and/or\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.3\" rel=\"nofollow\"\u003ePartyVInfo\u003c/a\u003e found in the JWE header.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the key algorithm is \u003ccode\u003eECDH-ES\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the Concat KDF-derived secret key directly as the Content Encryption Key (CEK). No encrypted key is used.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eOtherwise, if the key algorithm is \u003ccode\u003eECDH-ES+A128KW\u003c/code\u003e, \u003ccode\u003eECDH-ES+A192KW\u003c/code\u003e, or \u003ccode\u003eECDH-ES+A256KW\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eObtain the encrypted key ciphertext embedded in the JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the encrypted key ciphertext with the associated AES Key Unwrap algorithm using the Concat KDF-derived\nsecret key, producing the unencrypted Content Encryption Key (CEK).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eDecrypt the JWE payload ciphertext with the JWE’s discovered encryption algorithm using the obtained CEK.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-create\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-creating-a-jwe\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCreating a JWE\u003c/h3\u003e\u003ca id=\"user-content-creating-a-jwe\" class=\"anchor\" aria-label=\"Permalink: Creating a JWE\" href=\"#creating-a-jwe\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNow that we know the difference between a JWE Encryption Algorithm and a JWE Key Management Algorithm, how do we use\nthem to encrypt a JWT?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou create an encrypted JWT (called a 'JWE') as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwts.builder()\u003c/code\u003e method to create a \u003ccode\u003eJwtBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall \u003ccode\u003eJwtBuilder\u003c/code\u003e methods to set the \u003ccode\u003epayload\u003c/code\u003e content or claims and any \u003ca href=\"#jws-create-header\"\u003eheader\u003c/a\u003e parameters as desired.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003eencryptWith\u003c/code\u003e method, specifying the Key, Key Algorithm, and Encryption Algorithm you want to use.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFinally, call the \u003ccode\u003ecompact()\u003c/code\u003e method to compact and encrypt, producing the final jwe.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String jwe = Jwts.builder()                              // (1)\n\n    .subject(\u0026quot;Bob\u0026quot;)                                      // (2)\n\n    .encryptWith(key, keyAlgorithm, encryptionAlgorithm) // (3)\n\n    .compact();                                          // (4)\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()                              \u003cspan class=\"pl-c\"\u003e// (1)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Bob\"\u003c/span\u003e)                                      \u003cspan class=\"pl-c\"\u003e// (2)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003eencryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003ekeyAlgorithm\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eencryptionAlgorithm\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// (3)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();                                          \u003cspan class=\"pl-c\"\u003e// (4)\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBefore calling \u003ccode\u003ecompact()\u003c/code\u003e,  you may set any \u003ca href=\"#jws-create-header\"\u003eheader\u003c/a\u003e parameters and \u003ca href=\"#jws-create-claims\"\u003eclaims\u003c/a\u003e\nexactly the same way as described for JWS.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-compression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwe-compression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWE Compression\u003c/h4\u003e\u003ca id=\"user-content-jwe-compression\" class=\"anchor\" aria-label=\"Permalink: JWE Compression\" href=\"#jwe-compression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf your JWT payload or Claims set is large (contains a lot of data), you might want to compress the JWE to reduce\nits size.  Please see the main \u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e section to see how to compress and decompress JWTs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-read\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-reading-a-jwe\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eReading a JWE\u003c/h3\u003e\u003ca id=\"user-content-reading-a-jwe\" class=\"anchor\" aria-label=\"Permalink: Reading a JWE\" href=\"#reading-a-jwe\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou read (parse) a JWE as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwts.parser()\u003c/code\u003e method to create a \u003ccode\u003eJwtParserBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall either \u003ca href=\"#key-locator\"\u003ekeyLocator\u003c/a\u003e or \u003ccode\u003edecryptWith\u003c/code\u003e methods to determine the key used to decrypt the JWE.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003ebuild()\u003c/code\u003e method to create a thread-safe \u003ccode\u003eJwtParser\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eParse the jwe string with the \u003ccode\u003eJwtParser\u003c/code\u003e's \u003ccode\u003eparseEncryptedClaims\u003c/code\u003e or \u003ccode\u003eparseEncryptedContent\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eWrap the entire call is in a try/catch block in case decryption or integrity verification fails.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwe\u0026lt;Claims\u0026gt; jwe;\n\ntry {\n    jwe = Jwts.parser()               // (1)\n\n    .keyLocator(keyLocator)           // (2) dynamically lookup decryption keys based on each JWE\n    //.decryptWith(key)               //     or a static key used to decrypt all encountered JWEs\n\n    .build()                          // (3)\n    .parseEncryptedClaims(jweString); // (4) or parseEncryptedContent(jweString);\n\n    // we can safely trust the JWT\n\ncatch (JwtException ex) {             // (5)\n\n    // we *cannot* use the JWT as intended by its creator\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwe\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eClaims\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e;\n\n\u003cspan class=\"pl-k\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()               \u003cspan class=\"pl-c\"\u003e// (1)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ekeyLocator\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyLocator\u003c/span\u003e)           \u003cspan class=\"pl-c\"\u003e// (2) dynamically lookup decryption keys based on each JWE\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.decryptWith(key)               //     or a static key used to decrypt all encountered JWEs\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()                          \u003cspan class=\"pl-c\"\u003e// (3)\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// (4) or parseEncryptedContent(jweString);\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// we can safely trust the JWT\u003c/span\u003e\n\n\u003cspan class=\"pl-en\"\u003ecatch\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003eJwtException\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eex\u003c/span\u003e) {             \u003cspan class=\"pl-c\"\u003e// (5)\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// we *cannot* use the JWT as intended by its creator\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003eType-safe JWEs\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf you are expecting a JWE with a Claims \u003ccode\u003epayload\u003c/code\u003e, call the \u003ccode\u003eJwtParser\u003c/code\u003e's \u003ccode\u003eparseEncryptedClaims\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf you are expecting a JWE with a content \u003ccode\u003epayload\u003c/code\u003e, call the \u003ccode\u003eJwtParser\u003c/code\u003e's \u003ccode\u003eparseEncryptedContent\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-read-key\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-decryption-key\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDecryption Key\u003c/h4\u003e\u003ca id=\"user-content-decryption-key\" class=\"anchor\" aria-label=\"Permalink: Decryption Key\" href=\"#decryption-key\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe most important thing to do when reading a JWE is to specify the key used during decryption.  If decryption or\nintegrity protection checks fail, the JWT cannot be safely trusted and should be discarded.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo which key do we use for decryption?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the jwe was encrypted \u003cem\u003edirectly\u003c/em\u003e with a \u003ccode\u003eSecretKey\u003c/code\u003e, the same \u003ccode\u003eSecretKey\u003c/code\u003e must be specified on the\n\u003ccode\u003eJwtParserBuilder\u003c/code\u003e. For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .decryptWith(secretKey) // \u0026lt;----\n\n  .build()\n  .parseEncryptedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esecretKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the jwe was encrypted using a key produced by a Password-based key derivation \u003ccode\u003eKeyAlgorithm\u003c/code\u003e, the same\n\u003ccode\u003ePassword\u003c/code\u003e must be specified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e. For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Password password = Keys.password(passwordChars);\n\nJwts.parser()\n\n  .decryptWith(password) // \u0026lt;---- an `io.jsonwebtoken.security.Password` instance\n\n  .build()\n  .parseEncryptedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003ePassword\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epassword\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003epassword\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epasswordChars\u003c/span\u003e);\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epassword\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- an `io.jsonwebtoken.security.Password` instance\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eIf the jwe was encrypted with a key produced by an asymmetric \u003ccode\u003eKeyAlgorithm\u003c/code\u003e, the corresponding \u003ccode\u003ePrivateKey\u003c/code\u003e (not\nthe \u003ccode\u003ePublicKey\u003c/code\u003e) must be specified on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e.  For example:\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n  .decryptWith(privateKey) // \u0026lt;---- a `PrivateKey`, not a `PublicKey`\n\n  .build()\n  .parseSignedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n  .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivateKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;---- a `PrivateKey`, not a `PublicKey`\u003c/span\u003e\n\n  .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n  .\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-key-locator\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-decryption-key-locator\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDecryption Key Locator\u003c/h4\u003e\u003ca id=\"user-content-decryption-key-locator\" class=\"anchor\" aria-label=\"Permalink: Decryption Key Locator\" href=\"#decryption-key-locator\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhat if your application doesn’t use just a single \u003ccode\u003eSecretKey\u003c/code\u003e or \u003ccode\u003eKeyPair\u003c/code\u003e? What\nif JWEs can be created with different \u003ccode\u003eSecretKey\u003c/code\u003es, \u003ccode\u003ePassword\u003c/code\u003es or public/private keys, or a combination of all of\nthem?  How do you know which key to specify if you can’t inspect the JWT first?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn these cases, you can’t call the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003edecryptWith\u003c/code\u003e method with a single key - instead, you’ll need\nto use a Key \u003ccode\u003eLocator\u003c/code\u003e.  Please see the \u003ca href=\"#key-locator\"\u003eKey Lookup\u003c/a\u003e section to see how to dynamically obtain different\nkeys when parsing JWSs or JWEs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-key-pkcs11\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-ecdh-es-decryption-with-pkcs11-privatekeys\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eECDH-ES Decryption with PKCS11 PrivateKeys\u003c/h4\u003e\u003ca id=\"user-content-ecdh-es-decryption-with-pkcs11-privatekeys\" class=\"anchor\" aria-label=\"Permalink: ECDH-ES Decryption with PKCS11 PrivateKeys\" href=\"#ecdh-es-decryption-with-pkcs11-privatekeys\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT \u003ccode\u003eECDH-ES\u003c/code\u003e, \u003ccode\u003eECDH-ES+A128KW\u003c/code\u003e, \u003ccode\u003eECDH-ES+A192KW\u003c/code\u003e, and \u003ccode\u003eECDH-ES+A256KW\u003c/code\u003e key algorithms validate JWE input using\npublic key information, even when using \u003ccode\u003ePrivateKey\u003c/code\u003es to decrypt.  Ordinarily this is automatically performed\nby JJWT when your \u003ccode\u003ePrivateKey\u003c/code\u003e instances implement the\n\u003ca href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/interfaces/ECKey.html\" rel=\"nofollow\"\u003eECKey\u003c/a\u003e or\n\u003ca href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/interfaces/EdECKey.html\" rel=\"nofollow\"\u003eEdECKey\u003c/a\u003e\n(or BouncyCastle equivalent) interfaces, which is the case for most JCA \u003ccode\u003eProvider\u003c/code\u003e implementations.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, if your decryption \u003ccode\u003ePrivateKey\u003c/code\u003es are stored in a Hardware Security Module (HSM) and/or you use the\n\u003ca href=\"https://docs.oracle.com/en/java/javase/17/security/pkcs11-reference-guide1.html#GUID-6DA72F34-6C6A-4F7D-ADBA-5811576A9331\" rel=\"nofollow\"\u003eSunPKCS11 Provider\u003c/a\u003e,\nit is likely that your \u003ccode\u003ePrivateKey\u003c/code\u003e instances \u003cem\u003edo not\u003c/em\u003e implement \u003ccode\u003eECKey\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn these cases, you need to provide both the PKCS11 \u003ccode\u003ePrivateKey\u003c/code\u003e and it’s companion \u003ccode\u003ePublicKey\u003c/code\u003e during decryption\nby using the \u003ccode\u003eKeys.builder\u003c/code\u003e method. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"KeyPair pair = getMyPkcs11KeyPair();\nPrivateKey jwtParserDecryptionKey = Keys.builder(pair.getPrivate())\n    .publicKey(pair.getPublic()) // PublicKey must implement ECKey or EdECKey or BouncyCastle equivalent\n    .build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyPkcs11KeyPair\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwtParserDecryptionKey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e())\n    .\u003cspan class=\"pl-en\"\u003epublicKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// PublicKey must implement ECKey or EdECKey or BouncyCastle equivalent\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou then use the resulting \u003ccode\u003ejwtParserDecryptionKey\u003c/code\u003e (not \u003ccode\u003epair.getPrivate()\u003c/code\u003e) with the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e or as\nthe return value from a custom \u003ca href=\"#key-locator\"\u003eKey Locator\u003c/a\u003e implementation.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"PrivateKey decryptionKey = Keys.builder(pkcs11PrivateKey).publicKey(pkcs11PublicKey).build();\n\nJwts.parser()\n    .decryptWith(decryptionKey) // \u0026lt;----\n    .build()\n    .parseEncryptedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003edecryptionKey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epkcs11PrivateKey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003epublicKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epkcs11PublicKey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003edecryptionKey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eOr as the return value from your key locator:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n    .keyLocator(keyLocator) // your keyLocator.locate(header) would return Keys.builder...\n    .build()\n    .parseEncryptedClaims(jweString);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003ekeyLocator\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekeyLocator\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// your keyLocator.locate(header) would return Keys.builder...\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejweString\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the \u003ca href=\"#key-locator-provider\"\u003eProvider-constrained Keys\u003c/a\u003e section for more information, as well as\ncode examples of how to implement a Key \u003ccode\u003eLocator\u003c/code\u003e using the \u003ccode\u003eKeys.builder\u003c/code\u003e technique.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwe-read-decompression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwe-decompression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWE Decompression\u003c/h4\u003e\u003ca id=\"user-content-jwe-decompression\" class=\"anchor\" aria-label=\"Permalink: JWE Decompression\" href=\"#jwe-decompression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf a JWE is compressed using the \u003ccode\u003eDEF\u003c/code\u003e (\u003ca href=\"https://www.rfc-editor.org/rfc/rfc1951\" rel=\"nofollow\"\u003eDEFLATE\u003c/a\u003e) or \u003ccode\u003eGZIP\u003c/code\u003e\n(\u003ca href=\"https://www.rfc-editor.org/rfc/rfc1952.html\" rel=\"nofollow\"\u003eGZIP\u003c/a\u003e) compression algorithms, it will automatically be decompressed\nafter decryption, and there is nothing you need to configure.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf, however, a custom compression algorithm was used to compress the JWE, you will need to tell the\n\u003ccode\u003eJwtParserBuilder\u003c/code\u003e how to resolve your \u003ccode\u003eCompressionAlgorithm\u003c/code\u003e to decompress the JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see the \u003ca href=\"#compression\"\u003eCompression\u003c/a\u003e section below to see how to decompress JWTs during parsing.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-json-web-keys-jwks\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJSON Web Keys (JWKs)\u003c/h2\u003e\u003ca id=\"user-content-json-web-keys-jwks\" class=\"anchor\" aria-label=\"Permalink: JSON Web Keys (JWKs)\" href=\"#json-web-keys-jwks\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7517.html\" rel=\"nofollow\"\u003eJSON Web Keys\u003c/a\u003e (JWKs) are JSON serializations of cryptographic keys,\nallowing key material to be embedded in JWTs or transmitted between parties in a standard JSON-based text format. They\nare essentially a JSON-based alternative to other text-based key formats, such as the\n\u003ca href=\"https://serverfault.com/a/9717\" rel=\"nofollow\"\u003eDER, PEM and PKCS12\u003c/a\u003e text strings or files commonly used when configuring TLS on web\nservers, for example.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example, an identity web service may expose its RSA or Elliptic Curve Public Keys to 3rd parties in the JWK format.\nA client may then parse the public key JWKs to verify the service’s \u003ca href=\"#jws\"\u003eJWS\u003c/a\u003e tokens, as well as send encrypted\ninformation to the service using \u003ca href=\"#jwe\"\u003eJWE\u003c/a\u003es.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJWKs can be converted to and from standard Java \u003ccode\u003eKey\u003c/code\u003e types as expected using the same builder/parser patterns we’ve\nseen for JWTs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-create\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-create-a-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCreate a JWK\u003c/h3\u003e\u003ca id=\"user-content-create-a-jwk\" class=\"anchor\" aria-label=\"Permalink: Create a JWK\" href=\"#create-a-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou create a JWK as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwks.builder()\u003c/code\u003e method to create a \u003ccode\u003eJwkBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003ekey\u003c/code\u003e method with the Java key you wish to represent as a JWK.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall builder methods to set any additional key parameters or metadata, such as a \u003ccode\u003ekid\u003c/code\u003e (Key ID), X509 Certificates,\netc as desired.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003ebuild()\u003c/code\u003e method to produce the resulting JWK.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = getSecretKey();     // or RSA or EC PublicKey or PrivateKey\nSecretJwk = Jwks.builder().key(key) // (1) and (2)\n\n    .id(\u0026quot;mySecretKeyId\u0026quot;)            // (3)\n    // ... etc ...\n\n    .build();                       // (4)\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetSecretKey\u003c/span\u003e();     \u003cspan class=\"pl-c\"\u003e// or RSA or EC PublicKey or PrivateKey\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003eSecretJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// (1) and (2)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003eid\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"mySecretKeyId\"\u003c/span\u003e)            \u003cspan class=\"pl-c\"\u003e// (3)\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();                       \u003cspan class=\"pl-c\"\u003e// (4)\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwk-from-a-map\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK from a Map\u003c/h4\u003e\u003ca id=\"user-content-jwk-from-a-map\" class=\"anchor\" aria-label=\"Permalink: JWK from a Map\" href=\"#jwk-from-a-map\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you have a \u003ccode\u003eMap\u0026lt;String,?\u0026gt;\u003c/code\u003e of name/value pairs that reflect an existing JWK, you add them and build a type-safe\n\u003ccode\u003eJwk\u003c/code\u003e instance:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Map\u0026lt;String,?\u0026gt; jwkValues = getMyJwkMap();\n\nJwk\u0026lt;?\u0026gt; jwk = Jwks.builder().add(jwkValues).build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eMap\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e,?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwkValues\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyJwkMap\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkValues\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-read\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-read-a-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRead a JWK\u003c/h3\u003e\u003ca id=\"user-content-read-a-jwk\" class=\"anchor\" aria-label=\"Permalink: Read a JWK\" href=\"#read-a-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can read/parse a JWK by building a \u003ccode\u003eJwkParser\u003c/code\u003e and parsing the JWK JSON string with its \u003ccode\u003eparse\u003c/code\u003e method:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String json = getJwkJsonString();\nJwk\u0026lt;?\u0026gt; jwk = Jwks.parser()\n    //.provider(aJcaProvider)     // optional\n    //.deserializer(deserializer) // optional\n    .build()                      // create the parser\n    .parse(json);                 // actually parse the JSON\n\nKey key = jwk.toKey();            // convert to a Java Key instance\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejson\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetJwkJsonString\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    \u003cspan class=\"pl-c\"\u003e//.provider(aJcaProvider)     // optional\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.deserializer(deserializer) // optional\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()                      \u003cspan class=\"pl-c\"\u003e// create the parser\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejson\u003c/span\u003e);                 \u003cspan class=\"pl-c\"\u003e// actually parse the JSON\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e();            \u003cspan class=\"pl-c\"\u003e// convert to a Java Key instance\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs shown above you can specify a custom JCA Provider or \u003ca href=\"#json\"\u003eJSON deserializer\u003c/a\u003e in the same way as the \u003ccode\u003eJwtBuilder\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-private\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-privatekey-jwks\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePrivateKey JWKs\u003c/h3\u003e\u003ca id=\"user-content-privatekey-jwks\" class=\"anchor\" aria-label=\"Permalink: PrivateKey JWKs\" href=\"#privatekey-jwks\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eUnlike Java, the JWA specification requires a private JWKs to contain \u003cem\u003eboth\u003c/em\u003e public key \u003cem\u003eand\u003c/em\u003e private key material\n(see \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-6.2.2\" rel=\"nofollow\"\u003eRFC 7518, Section 6.1.1\u003c/a\u003e and\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-6.3.2\" rel=\"nofollow\"\u003eRFC 7518, Section 6.3.2\u003c/a\u003e).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this sense, a private JWK (represented as a \u003ccode\u003ePrivateJwk\u003c/code\u003e or a subtype, such as \u003ccode\u003eRsaPrivateJwk\u003c/code\u003e, \u003ccode\u003eEcPrivateJwk\u003c/code\u003e, etc)\ncan be thought of more like a Java \u003ccode\u003eKeyPair\u003c/code\u003e instance.  Consequently, when creating a \u003ccode\u003ePrivateJwk\u003c/code\u003e instance,\nthe \u003ccode\u003ePrivateKey\u003c/code\u003e's corresponding \u003ccode\u003ePublicKey\u003c/code\u003e is required.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-private-public\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-private-jwk-publickey\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePrivate JWK \u003ccode\u003ePublicKey\u003c/code\u003e\u003c/h4\u003e\u003ca id=\"user-content-private-jwk-publickey\" class=\"anchor\" aria-label=\"Permalink: Private JWK PublicKey\" href=\"#private-jwk-publickey\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you do not provide a \u003ccode\u003ePublicKey\u003c/code\u003e when creating a \u003ccode\u003ePrivateJwk\u003c/code\u003e, JJWT will automatically derive the \u003ccode\u003ePublicKey\u003c/code\u003e from\nthe \u003ccode\u003ePrivateKey\u003c/code\u003e instance if possible. However, because this can add\nsome computing time, it is typically recommended to provide the \u003ccode\u003ePublicKey\u003c/code\u003e when possible to avoid this extra work.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"RSAPrivateKey rsaPrivateKey = getRSAPrivateKey(); // or ECPrivateKey\n\nRsaPrivateJwk jwk = Jwks.builder().key(rsaPrivateKey)\n\n        //.publicKey(rsaPublicKey)  // optional, but recommended to avoid extra computation work\n\n        .build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eRSAPrivateKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ersaPrivateKey\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetRSAPrivateKey\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// or ECPrivateKey\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eRsaPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ersaPrivateKey\u003c/span\u003e)\n\n        \u003cspan class=\"pl-c\"\u003e//.publicKey(rsaPublicKey)  // optional, but recommended to avoid extra computation work\u003c/span\u003e\n\n        .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-private-keypair\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-private-jwk-from-keypair\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePrivate JWK from KeyPair\u003c/h4\u003e\u003ca id=\"user-content-private-jwk-from-keypair\" class=\"anchor\" aria-label=\"Permalink: Private JWK from KeyPair\" href=\"#private-jwk-from-keypair\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you have a Java \u003ccode\u003eKeyPair\u003c/code\u003e instance, then you have both the public and private key material necessary to create a\n\u003ccode\u003ePrivateJwk\u003c/code\u003e. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"KeyPair rsaKeyPair = getRSAKeyPair();\nRsaPrivateJwk rsaPrivJwk = Jwks.builder().rsaKeyPair(rsaKeyPair).build();\n\nKeyPair ecKeyPair = getECKeyPair();\nEcPrivateJwk ecPrivJwk = Jwks.builder().ecKeyPair(ecKeyPair).build();\n\nKeyPair edEcKeyPair = getEdECKeyPair();\nOctetPrivateJwk edEcPrivJwk = Jwks.builder().octetKeyPair(edEcKeyPair).build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ersaKeyPair\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetRSAKeyPair\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eRsaPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ersaPrivJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ersaKeyPair\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ersaKeyPair\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eecKeyPair\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetECKeyPair\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eEcPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eecPrivJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eecKeyPair\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eecKeyPair\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eedEcKeyPair\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetEdECKeyPair\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eOctetPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eedEcPrivJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eoctetKeyPair\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eedEcKeyPair\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eNote that:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eAn exception will be thrown when calling \u003ccode\u003ersaKeyPair\u003c/code\u003e if the specified \u003ccode\u003eKeyPair\u003c/code\u003e instance does not contain\n\u003ccode\u003eRSAPublicKey\u003c/code\u003e and \u003ccode\u003eRSAPrivateKey\u003c/code\u003e instances.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eSimilarly, an exception will be thrown when calling \u003ccode\u003eecKeyPair\u003c/code\u003e if\nthe \u003ccode\u003eKeyPair\u003c/code\u003e instance does not contain \u003ccode\u003eECPublicKey\u003c/code\u003e and \u003ccode\u003eECPrivateKey\u003c/code\u003e instances.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFinally, an exception will be\nthrown when calling \u003ccode\u003eoctetKeyPair\u003c/code\u003e if the \u003ccode\u003eKeyPair\u003c/code\u003e instance does not contain X25519, X448, Ed25519, or Ed448 keys\n(introduced in JDK 11 and 15 or when using BouncyCastle).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-private-topub\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-private-jwk-public-conversion\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePrivate JWK Public Conversion\u003c/h4\u003e\u003ca id=\"user-content-private-jwk-public-conversion\" class=\"anchor\" aria-label=\"Permalink: Private JWK Public Conversion\" href=\"#private-jwk-public-conversion\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause private JWKs contain public key material, you can always obtain the private JWK’s corresponding public JWK and\nJava \u003ccode\u003ePublicKey\u003c/code\u003e or \u003ccode\u003eKeyPair\u003c/code\u003e.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"RsaPrivateJwk privateJwk = Jwks.builder().key(rsaPrivateKey).build(); // or ecPrivateKey or edEcPrivateKey\n\n// Get the matching public JWK and/or PublicKey:\nRsaPublicJwk pubJwk = privateJwk.toPublicJwk();       // JWK instance\nRSAPublicKey pubKey = pubJwk.toKey();                 // Java PublicKey instance\nKeyPair pair = privateJwk.toKeyPair();                // io.jsonwebtoken.security.KeyPair retains key types\njava.security.KeyPair jdkPair = pair.toJavaKeyPair(); // does not retain pub/private key types\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eRsaPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivateJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ersaPrivateKey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// or ecPrivateKey or edEcPrivateKey\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Get the matching public JWK and/or PublicKey:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eRsaPublicJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eprivateJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoPublicJwk\u003c/span\u003e();       \u003cspan class=\"pl-c\"\u003e// JWK instance\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eRSAPublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e();                 \u003cspan class=\"pl-c\"\u003e// Java PublicKey instance\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eprivateJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKeyPair\u003c/span\u003e();                \u003cspan class=\"pl-c\"\u003e// io.jsonwebtoken.security.KeyPair retains key types\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003ejava\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003esecurity\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejdkPair\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoJavaKeyPair\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// does not retain pub/private key types\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-thumbprint\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwk-thumbprints\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK Thumbprints\u003c/h3\u003e\u003ca id=\"user-content-jwk-thumbprints\" class=\"anchor\" aria-label=\"Permalink: JWK Thumbprints\" href=\"#jwk-thumbprints\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7638.html\" rel=\"nofollow\"\u003eJWK Thumbprint\u003c/a\u003e is a digest (aka hash) of a canonical JSON\nrepresentation of a JWK’s public properties. 'Canonical' in this case means that only RFC-specified values in any JWK\nare used in an exact order thumbprint calculation.  This ensures that anyone can calculate a JWK’s same exact\nthumbprint, regardless of custom parameters or JSON key/value ordering differences in a JWK.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAll \u003ccode\u003eJwk\u003c/code\u003e instances support \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7638.html\" rel=\"nofollow\"\u003eJWK Thumbprint\u003c/a\u003es via the\n\u003ccode\u003ethumbprint()\u003c/code\u003e and \u003ccode\u003ethumbprint(HashAlgorithm)\u003c/code\u003e methods:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"HashAlgorithm hashAlg = Jwks.HASH.SHA256; // or SHA384, SHA512, etc.\n\nJwk\u0026lt;?\u0026gt; jwk = Jwks.builder(). /* ... */ .build();\n\nJwkThumbprint sha256Thumbprint = jwk.thumbprint(); // SHA-256 thumbprint by default\n\nJwkThumbprint anotherThumbprint = jwk.thumbprint(Jwks.HASH.SHA512); // or a specified hash algorithm\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eHashAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ehashAlg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHASH\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSHA256\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e// or SHA384, SHA512, etc.\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e(). \u003cspan class=\"pl-c\"\u003e/* ... */\u003c/span\u003e .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwkThumbprint\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003esha256Thumbprint\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// SHA-256 thumbprint by default\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwkThumbprint\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eanotherThumbprint\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHASH\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSHA512\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or a specified hash algorithm\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe resulting \u003ccode\u003eJwkThumbprint\u003c/code\u003e instance provides some useful methods:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003ejwkThumbprint.toByteArray()\u003c/code\u003e: the thumbprint’s actual digest bytes - i.e. the raw output from the hash algorithm\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003ejwkThumbprint.toString()\u003c/code\u003e: the digest bytes as a Base64URL-encoded string\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003ejwkThumbprint.getHashAlgorithm()\u003c/code\u003e: the specific \u003ccode\u003eHashAlgorithm\u003c/code\u003e used to compute the thumbprint. Many standard IANA\nhash algorithms are available as constants in the \u003ccode\u003eJwks.HASH\u003c/code\u003e utility class.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003ejwkThumbprint.toURI()\u003c/code\u003e: the thumbprint’s canonical URI as defined by the \u003ca href=\"https://www.rfc-editor.org/rfc/rfc9278.html\" rel=\"nofollow\"\u003eJWK Thumbprint URI\u003c/a\u003e specification\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-thumbprint-kid\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwk-thumbprint-as-a-key-id\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK Thumbprint as a Key ID\u003c/h4\u003e\u003ca id=\"user-content-jwk-thumbprint-as-a-key-id\" class=\"anchor\" aria-label=\"Permalink: JWK Thumbprint as a Key ID\" href=\"#jwk-thumbprint-as-a-key-id\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause a thumbprint is an order-guaranteed unique digest of a JWK, JWK thumbprints are often used as convenient\nunique identifiers for a JWK (e.g. the JWK’s \u003ccode\u003ekid\u003c/code\u003e (Key ID) value). These identifiers can be useful when\n\u003ca href=\"#key-locator\"\u003elocating keys\u003c/a\u003e for JWS signature verification or JWE decryption, for example.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String kid = jwk.thumbprint().toString(); // Thumbprint bytes as a Base64URL-encoded string\nKey key = findKey(kid);\nassert jwk.toKey().equals(key);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekid\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// Thumbprint bytes as a Base64URL-encoded string\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003efindKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekid\u003c/span\u003e);\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, because \u003ccode\u003eJwk\u003c/code\u003e instances are immutable, you can’t set the key id after the JWK is created. For example, the\nfollowing is not possible:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String kid = jwk.thumbprint().toString();\njwk.setId(kid) // Jwks are immutable - there is no `setId` method\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekid\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e();\n\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003esetId\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekid\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// Jwks are immutable - there is no `setId` method\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eInstead, you may use the \u003ccode\u003eidFromThumbprint\u003c/code\u003e methods on the \u003ccode\u003eJwkBuilder\u003c/code\u003e when creating a \u003ccode\u003eJwk\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwk\u0026lt;?\u0026gt; jwk = Jwks.builder().key(aKey)\n\n    .idFromThumbprint() // or idFromThumbprint(HashAlgorithm)\n\n    .build();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eaKey\u003c/span\u003e)\n\n    .\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e() \u003cspan class=\"pl-c\"\u003e// or idFromThumbprint(HashAlgorithm)\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eCalling either \u003ccode\u003eidFromThumbprint\u003c/code\u003e method will ensure that calling \u003ccode\u003ejwk.getId()\u003c/code\u003e equals \u003ccode\u003ethumbprint.toString()\u003c/code\u003e\n(which is \u003ccode\u003eEncoders.BASE64URL.encode(thumbprint.toByteArray())\u003c/code\u003e).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-thumbprint-uri\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwk-thumbprint-uri\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK Thumbprint URI\u003c/h4\u003e\u003ca id=\"user-content-jwk-thumbprint-uri\" class=\"anchor\" aria-label=\"Permalink: JWK Thumbprint URI\" href=\"#jwk-thumbprint-uri\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWK’s thumbprint’s canonical URI as defined by the \u003ca href=\"https://www.rfc-editor.org/rfc/rfc9278.html\" rel=\"nofollow\"\u003eJWK Thumbprint URI\u003c/a\u003e\nspecification may be obtained by calling the thumbprint’s \u003ccode\u003etoURI()\u003c/code\u003e method:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"URI canonicalThumbprintURI = jwk.thumbprint().toURI();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eURI\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ecanonicalThumbprintURI\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoURI\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePer the RFC specification, if you call \u003ccode\u003ecanonicalThumbprintURI.toString()\u003c/code\u003e, you would see a string that looks like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"urn:ietf:params:oauth:jwk-thumbprint:HASH_ALG_ID:BASE64URL_DIGEST\"\u003e\u003cpre lang=\"text\" class=\"notranslate\"\u003e\u003ccode\u003eurn:ietf:params:oauth:jwk-thumbprint:HASH_ALG_ID:BASE64URL_DIGEST\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ewhere:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eurn:ietf:params:oauth:jwk-thumbprint:\u003c/code\u003e is the URI scheme+prefix\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHASH_ALG_ID\u003c/code\u003e is the standard identifier used to compute the thumbprint as defined in the\n\u003ca href=\"https://www.iana.org/assignments/named-information/named-information.xhtml\" rel=\"nofollow\"\u003eIANA Named Information Hash Algorithm Registry\u003c/a\u003e.\nThis is the same as \u003ccode\u003ethumbprint.getHashAlgorithm().getId()\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eBASE64URL_DIGEST\u003c/code\u003e is the Base64URL-encoded thumbprint bytes, equal to \u003ccode\u003ejwkThumbprint.toString()\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-security\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwk-security-considerations\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK Security Considerations\u003c/h3\u003e\u003ca id=\"user-content-jwk-security-considerations\" class=\"anchor\" aria-label=\"Permalink: JWK Security Considerations\" href=\"#jwk-security-considerations\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause they contain secret or private key material, \u003ccode\u003eSecretJwk\u003c/code\u003e and \u003ccode\u003ePrivateJwk\u003c/code\u003e (e.g. \u003ccode\u003eRsaPrivateJwk\u003c/code\u003e,\u003cbr\u003e\n\u003ccode\u003eEcPrivateJwk\u003c/code\u003e, etc) instances should be used with great care and never accidentally transmitted to 3rd parties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eEven so, JJWT’s \u003ccode\u003eJwk\u003c/code\u003e implementations will suppress certain values in \u003ccode\u003etoString()\u003c/code\u003e output for safety as described\nnext.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwk-tostring\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-jwk-tostring-safety\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK \u003ccode\u003etoString()\u003c/code\u003e Safety\u003c/h4\u003e\u003ca id=\"user-content-jwk-tostring-safety\" class=\"anchor\" aria-label=\"Permalink: JWK toString() Safety\" href=\"#jwk-tostring-safety\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause it would be incredibly easy to accidentally print key material to \u003ccode\u003eSystem.out.println()\u003c/code\u003e or application\nlogs, all \u003ccode\u003eJwk\u003c/code\u003e implementations will print redacted values instead of actual secret or private key material.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example, consider the following Secret JWK JSON example from\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1\" rel=\"nofollow\"\u003eRFC 7515, Appendix A.1.1\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-json notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n  \u0026quot;kty\u0026quot;: \u0026quot;oct\u0026quot;,\n  \u0026quot;k\u0026quot;: \u0026quot;AyM1SysPpbyDfgZld3umj1qzKObwVMkoqQ-EstJQLr_T-1qS0gZH75aKtMN3Yj0iPS4hcgUuTwjAzZr1Z9CAow\u0026quot;,\n  \u0026quot;kid\u0026quot;: \u0026quot;HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.\u0026quot;\n}\"\u003e\u003cpre\u003e{\n  \u003cspan class=\"pl-ent\"\u003e\"kty\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eoct\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e,\n  \u003cspan class=\"pl-ent\"\u003e\"k\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eAyM1SysPpbyDfgZld3umj1qzKObwVMkoqQ-EstJQLr_T-1qS0gZH75aKtMN3Yj0iPS4hcgUuTwjAzZr1Z9CAow\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e,\n  \u003cspan class=\"pl-ent\"\u003e\"kid\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eHMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003ek\u003c/code\u003e value (\u003ccode\u003eAyAyM1SysPpby...\u003c/code\u003e) reflects secure key material and should never be accidentally\nexposed.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you were to parse this JSON as a \u003ccode\u003eJwk\u003c/code\u003e, calling \u003ccode\u003etoString()\u003c/code\u003e will \u003cem\u003eNOT\u003c/em\u003e print this value.  It will\ninstead print the string literal \u003ccode\u003e\u0026lt;redacted\u0026gt;\u003c/code\u003e for any secret or private key data value.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"String json = getExampleSecretKeyJson();\nJwk\u0026lt;?\u0026gt; jwk = Jwks.parser().build().parse(json);\n\nSystem.out.printn(jwk);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejson\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetExampleSecretKeyJson\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejson\u003c/span\u003e);\n\n\u003cspan class=\"pl-smi\"\u003eSystem\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eout\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eprintn\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis code would print the following string literal to the System console:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{kty=oct, k=\u0026lt;redacted\u0026gt;, kid=HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.}\"\u003e\u003cpre lang=\"text\" class=\"notranslate\"\u003e\u003ccode\u003e{kty=oct, k=\u0026lt;redacted\u0026gt;, kid=HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.}\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is true for all secret or private key members in \u003ccode\u003eSecretJwk\u003c/code\u003e and \u003ccode\u003ePrivateJwk\u003c/code\u003e (e.g. \u003ccode\u003eRsaPrivateJwk\u003c/code\u003e,\n\u003ccode\u003eEcPrivateJwk\u003c/code\u003e, etc) instances.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwkset\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-jwk-sets\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWK Sets\u003c/h2\u003e\u003ca id=\"user-content-jwk-sets\" class=\"anchor\" aria-label=\"Permalink: JWK Sets\" href=\"#jwk-sets\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWK specification specification also defines the concept of a\n\u003ca href=\"https://datatracker.ietf.org/doc/html/rfc7517#section-5\" rel=\"nofollow\"\u003eJWK Set\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cpre\u003eA JWK Set is a JSON object that represents a set of JWKs.  The JSON\nobject MUST have a \"keys\" member, with its value being an array of\nJWKs.\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-text-adblock notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n  \u0026quot;keys\u0026quot;: [jwk1, jwk2, ...]\n}\"\u003e\u003cpre\u003e{\n  \"keys\": [jwk1, jwk2, ...]\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhere \u003ccode\u003ejwk1\u003c/code\u003e, \u003ccode\u003ejwk2\u003c/code\u003e, etc., are each a single \u003ca href=\"#jwk\"\u003eJWK\u003c/a\u003e JSON Object.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWK Set \u003cem\u003emay\u003c/em\u003e have other members that are peers to the \u003ccode\u003ekeys\u003c/code\u003e member, but the JWK specification does not define any\nothers - any such additional members would be custom or unique based on an application’s needs or preferences.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA JWK Set can be useful for conveying multiple keys simultaneously.  For example, an identity web service could expose\nall of its RSA or Elliptic Curve public keys that might be used for various purposes or different algorithms to\n3rd parties or API clients as a single JWK Set JSON Object or document.  An API client can then parse the JWK Set\nto obtain the keys that might be used to verify or decrypt JWTs sent by the web service.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJWK Sets are (mostly) simple collections of JWKs, and they are easily supported by JJWT with parallel builder/parser\nconcepts we’ve seen above.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwkset-create\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-create-a-jwk-set\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCreate a JWK Set\u003c/h3\u003e\u003ca id=\"user-content-create-a-jwk-set\" class=\"anchor\" aria-label=\"Permalink: Create a JWK Set\" href=\"#create-a-jwk-set\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou create a JWK Set as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eJwks.set()\u003c/code\u003e method to create a \u003ccode\u003eJwkSetBuilder\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003eadd(Jwk)\u003c/code\u003e method any number of times to add one or more JWKs to the set.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall builder methods to set any additional JSON members if desired, or the \u003ccode\u003eoperationPolicy(KeyOperationPolicy)\u003c/code\u003e\nbuilder method to control what key operations may be assigned to any given JWK added to the set.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eCall the \u003ccode\u003ebuild()\u003c/code\u003e method to produce the resulting JWK Set.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eFor example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwk\u0026lt;?\u0026gt; jwk = Jwks.builder()/* ... */.build();\nSecretJwk = Jwks.set()              // 1\n    .add(jwk)                       // 2, appends a key\n    //.add(aCollection)             //    append multiple keys\n    //.keys(allJwks)                //    sets/replaces all keys\n    //.add(\u0026quot;aName\u0026quot;, \u0026quot;aValue\u0026quot;)       // 3, optional\n    //.operationPolicy(Jwks.OP      // 3, optional\n    //     .policy()\n    //     /* etc... */\n    //     .build())\n    //.provider(aJcaProvider)       //    optional\n    .build();                       // (4)\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\u003cspan class=\"pl-c\"\u003e/* ... */\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\u003cspan class=\"pl-s1\"\u003eSecretJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eset\u003c/span\u003e()              \u003cspan class=\"pl-c\"\u003e// 1\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e)                       \u003cspan class=\"pl-c\"\u003e// 2, appends a key\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.add(aCollection)             //    append multiple keys\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.keys(allJwks)                //    sets/replaces all keys\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.add(\"aName\", \"aValue\")       // 3, optional\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.operationPolicy(Jwks.OP      // 3, optional\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//     .policy()\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//     /* etc... */\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//     .build())\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.provider(aJcaProvider)       //    optional\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();                       \u003cspan class=\"pl-c\"\u003e// (4)\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs shown, you can optionally configure the \u003ccode\u003e.operationPolicy(KeyOperationPolicy)\u003c/code\u003e method using a\n\u003ccode\u003eJwts.OP.policy()\u003c/code\u003e builder.  A \u003ccode\u003eKeyOperationPolicy\u003c/code\u003e allows you control what operations are allowed for any JWK\nbefore being added to the JWK Set; any JWK that does not match the policy will be rejected and not added to the set.\nJJWT internally defaults to a standard RFC-compliant policy, but you can create a\npolicy to override the default if desired using the \u003ccode\u003eJwks.OP.policy()\u003c/code\u003e builder method.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-jwkset-read\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-read-a-jwk-set\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRead a JWK Set\u003c/h3\u003e\u003ca id=\"user-content-read-a-jwk-set\" class=\"anchor\" aria-label=\"Permalink: Read a JWK Set\" href=\"#read-a-jwk-set\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can read/parse a JWK Set by building a JWK Set \u003ccode\u003eParser\u003c/code\u003e and parsing the JWK Set JSON with one of its various\n\u003ccode\u003eparse\u003c/code\u003e methods:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"JwkSet jwkSet = Jwks.setParser()\n    //.provider(aJcaProvider)      // optional\n    //.deserializer(deserializer)  // optional\n    //.policy(aKeyOperationPolicy) // optional\n    .build()                       // create the parser\n    .parse(json);                  // actually parse JSON String, InputStream, Reader, etc.\n\njwkSet.forEach(jwk -\u0026gt; System.out.println(jwk));\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwkSet\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkSet\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003esetParser\u003c/span\u003e()\n    \u003cspan class=\"pl-c\"\u003e//.provider(aJcaProvider)      // optional\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.deserializer(deserializer)  // optional\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.policy(aKeyOperationPolicy) // optional\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()                       \u003cspan class=\"pl-c\"\u003e// create the parser\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejson\u003c/span\u003e);                  \u003cspan class=\"pl-c\"\u003e// actually parse JSON String, InputStream, Reader, etc.\u003c/span\u003e\n\n\u003cspan class=\"pl-s1\"\u003ejwkSet\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e -\u0026gt; \u003cspan class=\"pl-smi\"\u003eSystem\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eout\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eprintln\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e));\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs shown above, you can specify a custom JCA Provider, \u003ca href=\"#json\"\u003eJSON deserializer\u003c/a\u003e or \u003ccode\u003eKeyOperationPolicy\u003c/code\u003e in the\nsame way as the \u003ccode\u003eJwkSetBuilder\u003c/code\u003e. Any JWK that does not match the default (or configured) policy will be\nrejected. You can create a policy to override the default if desired using the \u003ccode\u003eJwks.OP.policy()\u003c/code\u003e builder method.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-compression\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-compression\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCompression\u003c/h2\u003e\u003ca id=\"user-content-compression\" class=\"anchor\" aria-label=\"Permalink: Compression\" href=\"#compression\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"warning\"\u003e⚠️\u003c/g-emoji\u003eWARNING\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe JWT specification standardizes compression for JWEs (Encrypted JWTs) ONLY, however JJWT supports it for JWS\n(Signed JWTs) as well.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you are positive that a JWS you create with JJWT will \u003cem\u003ealso\u003c/em\u003e be parsed with JJWT,\nyou can use this feature with both JWEs and JWSs, otherwise it is best to only use it for JWEs.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf a JWT’s \u003ccode\u003epayload\u003c/code\u003e is sufficiently large - that is, it is a large content byte array or JSON with a lot of\nname/value pairs (or individual values are very large or verbose) - you can reduce the size of the compact JWT by\ncompressing the payload.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis might be important to you if the resulting JWT is used in a URL for example, since URLs are best kept under\n4096 characters due to browser, user mail agent, or HTTP gateway compatibility issues.  Smaller JWTs also help reduce\nbandwidth utilization, which may or may not be important depending on your application’s volume or needs.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to compress your JWT, you can use the \u003ccode\u003eJwtBuilder\u003c/code\u003e's  \u003ccode\u003ecompressWith(CompressionAlgorithm)\u003c/code\u003e method.  For\nexample:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.builder()\n\n   .compressWith(Jwts.ZIP.DEF) // DEFLATE compression algorithm\n\n   // .. etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n   .\u003cspan class=\"pl-en\"\u003ecompressWith\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eZIP\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eDEF\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// DEFLATE compression algorithm\u003c/span\u003e\n\n   \u003cspan class=\"pl-c\"\u003e// .. etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you use any of the algorithm constants in the \u003ccode\u003eJwts.ZIP\u003c/code\u003e class, that’s it, you’re done.  You don’t have to\ndo anything during parsing or configure the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e for compression - JJWT will automatically decompress\nthe payload as expected.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-compression-custom\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-custom-compression-algorithm\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCustom Compression Algorithm\u003c/h3\u003e\u003ca id=\"user-content-custom-compression-algorithm\" class=\"anchor\" aria-label=\"Permalink: Custom Compression Algorithm\" href=\"#custom-compression-algorithm\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf the default \u003ccode\u003eJwts.ZIP\u003c/code\u003e compression algorithms are not suitable for your needs, you can create your own\n\u003ccode\u003eCompressionAlgorithm\u003c/code\u003e implementation(s).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJust as you would with the default algorithms, you may specify that you want a JWT compressed by calling the\n\u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003ecompressWith\u003c/code\u003e method, supplying your custom implementation instance.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CompressionAlgorithm myAlg = new MyCompressionAlgorithm();\n\nJwts.builder()\n\n   .compressWith(myAlg) // \u0026lt;----\n\n   // .. etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eCompressionAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emyAlg\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eMyCompressionAlgorithm\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n   .\u003cspan class=\"pl-en\"\u003ecompressWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003emyAlg\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n   \u003cspan class=\"pl-c\"\u003e// .. etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhen you call \u003ccode\u003ecompressWith\u003c/code\u003e, the JWT \u003ccode\u003epayload\u003c/code\u003e will be compressed with your algorithm, and the\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc7516.html#section-4.1.3\" rel=\"nofollow\"\u003e\u003ccode\u003ezip\u003c/code\u003e (Compression Algorithm)\u003c/a\u003e\nheader will automatically be set to the value returned by your algorithm’s \u003ccode\u003ealgorithm.getId()\u003c/code\u003e method as\nrequired by the JWT specification.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-compression-custom-locator\"\u003e\u003c/a\u003e\nHowever, the \u003ccode\u003eJwtParser\u003c/code\u003e needs to be aware of this custom algorithm as well, so it can use it while parsing. You do this\nby modifying the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003ezip()\u003c/code\u003e collection.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CompressionAlgorithm myAlg = new MyCompressionAlgorithm();\n\nJwts.parser()\n\n    .zip().add(myAlg).and() // \u0026lt;----\n\n    // .. etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eCompressionAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emyAlg\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eMyCompressionAlgorithm\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ezip\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003emyAlg\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e() \u003cspan class=\"pl-c\"\u003e// \u0026lt;----\u003c/span\u003e\n\n    \u003cspan class=\"pl-c\"\u003e// .. etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis adds additional \u003ccode\u003eCompressionAlgorithm\u003c/code\u003e implementations to the parser’s overall total set of supported compression\nalgorithms (which already includes all of the \u003ccode\u003eJwts.ZIP\u003c/code\u003e algorithms by default).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe parser will then automatically check to see if the JWT \u003ccode\u003ezip\u003c/code\u003e header has been set to see if a compression\nalgorithm has been used to compress the JWT.  If set, the parser will automatically look up your\n\u003ccode\u003eCompressionAlgorithm\u003c/code\u003e by its \u003ccode\u003egetId()\u003c/code\u003e value, and use it to decompress the JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-json\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-json-support\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJSON Support\u003c/h2\u003e\u003ca id=\"user-content-json-support\" class=\"anchor\" aria-label=\"Permalink: JSON Support\" href=\"#json-support\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA \u003ccode\u003eJwtBuilder\u003c/code\u003e will serialize the \u003ccode\u003eHeader\u003c/code\u003e and \u003ccode\u003eClaims\u003c/code\u003e maps (and potentially any Java objects they\ncontain) to JSON with a \u003ccode\u003eSerializer\u0026lt;Map\u0026lt;String, ?\u0026gt;\u0026gt;\u003c/code\u003e instance.  Similarly, a \u003ccode\u003eJwtParser\u003c/code\u003e will\ndeserialize JSON into the \u003ccode\u003eHeader\u003c/code\u003e and \u003ccode\u003eClaims\u003c/code\u003e using a \u003ccode\u003eDeserializer\u0026lt;Map\u0026lt;String, ?\u0026gt;\u0026gt;\u003c/code\u003e instance.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you don’t explicitly configure a \u003ccode\u003eJwtBuilder\u003c/code\u003e's \u003ccode\u003eSerializer\u003c/code\u003e or a \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003eDeserializer\u003c/code\u003e, JJWT will\nautomatically attempt to discover and use the following JSON implementations if found in the runtime classpath.\u003cbr\u003e\nThey are checked in order, and the first one found is used:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eJackson: This will automatically be used if you specify \u003ccode\u003eio.jsonwebtoken:jjwt-jackson\u003c/code\u003e as a project runtime\ndependency.  Jackson supports POJOs as claims with full marshaling/unmarshaling as necessary.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGson: This will automatically be used if you specify \u003ccode\u003eio.jsonwebtoken:jjwt-gson\u003c/code\u003e as a project runtime dependency.\nGson also supports POJOs as claims with full marshaling/unmarshaling as necessary.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eJSON-Java (\u003ccode\u003eorg.json\u003c/code\u003e): This will be used automatically if you specify \u003ccode\u003eio.jsonwebtoken:jjwt-orgjson\u003c/code\u003e as a\nproject runtime dependency.\u003c/p\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eorg.json\u003c/code\u003e APIs are natively enabled in Android environments so this is the recommended JSON processor for\nAndroid applications \u003cem\u003eunless\u003c/em\u003e you want to use POJOs as claims.  The \u003ccode\u003eorg.json\u003c/code\u003e library supports simple\nObject-to-JSON marshaling, but it \u003cem\u003edoes not\u003c/em\u003e support JSON-to-Object unmarshalling.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eIf you want to use POJOs as claim values, use either the \u003ccode\u003eio.jsonwebtoken:jjwt-jackson\u003c/code\u003e or\n\u003ccode\u003eio.jsonwebtoken:jjwt-gson\u003c/code\u003e dependency\u003c/strong\u003e (or implement your own Serializer and Deserializer if desired). \u003cstrong\u003eBut beware\u003c/strong\u003e,\nJackson will force a sizable (\u0026gt; 1 MB) dependency to an Android application thus increasing the app download size for\nmobile users.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-json-custom\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-custom-json-processor\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCustom JSON Processor\u003c/h3\u003e\u003ca id=\"user-content-custom-json-processor\" class=\"anchor\" aria-label=\"Permalink: Custom JSON Processor\" href=\"#custom-json-processor\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you don’t want to use JJWT’s runtime dependency approach, or just want to customize how JSON serialization and\ndeserialization works, you can implement the \u003ccode\u003eSerializer\u003c/code\u003e and \u003ccode\u003eDeserializer\u003c/code\u003e interfaces and specify instances of\nthem on the \u003ccode\u003eJwtBuilder\u003c/code\u003e and \u003ccode\u003eJwtParserBuilder\u003c/code\u003e respectively.  For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhen creating a JWT:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Serializer\u0026lt;Map\u0026lt;String,?\u0026gt;\u0026gt; serializer = getMySerializer(); //implement me\n\nJwts.builder()\n\n    .json(serializer)\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSerializer\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eMap\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e,?\u0026gt;\u0026gt; \u003cspan class=\"pl-s1\"\u003eserializer\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMySerializer\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eserializer\u003c/span\u003e)\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhen reading a JWT:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Deserializer\u0026lt;Map\u0026lt;String,?\u0026gt;\u0026gt; deserializer = getMyDeserializer(); //implement me\n\nJwts.parser()\n\n    .json(deserializer)\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eDeserializer\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eMap\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e,?\u0026gt;\u0026gt; \u003cspan class=\"pl-s1\"\u003edeserializer\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyDeserializer\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003edeserializer\u003c/span\u003e)\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-json-jackson\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jackson-json-processor\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJackson JSON Processor\u003c/h3\u003e\u003ca id=\"user-content-jackson-json-processor\" class=\"anchor\" aria-label=\"Permalink: Jackson JSON Processor\" href=\"#jackson-json-processor\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to use Jackson for JSON processing, just including the \u003ccode\u003eio.jsonwebtoken:jjwt-jackson\u003c/code\u003e dependency as a\nruntime dependency is all that is necessary in most projects, since Gradle and Maven will automatically pull in\nthe necessary Jackson dependencies as well.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAfter including this dependency, JJWT will automatically find the Jackson implementation on the runtime classpath and\nuse it internally for JSON parsing.  There is nothing else you need to do - JJWT will automatically create a new\nJackson ObjectMapper for its needs as required.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, if you have an application-wide Jackson \u003ccode\u003eObjectMapper\u003c/code\u003e (as is typically recommended for most applications),\nyou can configure JJWT to use your own \u003ccode\u003eObjectMapper\u003c/code\u003e instead.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou do this by declaring the \u003ccode\u003eio.jsonwebtoken:jjwt-jackson\u003c/code\u003e dependency with \u003cstrong\u003ecompile\u003c/strong\u003e scope (not runtime\nscope which is the typical JJWT default).  That is:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eMaven\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-text-xml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;jjwt-jackson\u0026lt;/artifactId\u0026gt;\n    \u0026lt;version\u0026gt;0.12.6\u0026lt;/version\u0026gt;\n    \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;!-- Not runtime --\u0026gt;\n\u0026lt;/dependency\u0026gt;\"\u003e\u003cpre\u003e\u0026lt;\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;io.jsonwebtoken\u0026lt;/\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;jjwt-jackson\u0026lt;/\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;0.12.6\u0026lt;/\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt;compile\u0026lt;/\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e\u0026lt;!--\u003c/span\u003e Not runtime \u003cspan class=\"pl-c\"\u003e--\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u0026lt;/\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eGradle or Android\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dependencies {\n    implementation 'io.jsonwebtoken:jjwt-jackson:0.12.6'\n}\"\u003e\u003cpre\u003edependencies {\n    implementation \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-jackson:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAnd then you can specify the \u003ccode\u003eJacksonSerializer\u003c/code\u003e using your own \u003ccode\u003eObjectMapper\u003c/code\u003e on the \u003ccode\u003eJwtBuilder\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ObjectMapper objectMapper = getMyObjectMapper(); //implement me\n\nString jws = Jwts.builder()\n\n    .json(new JacksonSerializer(objectMapper))\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eObjectMapper\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eobjectMapper\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyObjectMapper\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eobjectMapper\u003c/span\u003e))\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eand the \u003ccode\u003eJacksonDeserializer\u003c/code\u003e using your \u003ccode\u003eObjectMapper\u003c/code\u003e on the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ObjectMapper objectMapper = getMyObjectMapper(); //implement me\n\nJwts.parser()\n\n    .json(new JacksonDeserializer(objectMapper))\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eObjectMapper\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eobjectMapper\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyObjectMapper\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonDeserializer\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eobjectMapper\u003c/span\u003e))\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-json-jackson-custom-types\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-parsing-of-custom-claim-types\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eParsing of Custom Claim Types\u003c/h4\u003e\u003ca id=\"user-content-parsing-of-custom-claim-types\" class=\"anchor\" aria-label=\"Permalink: Parsing of Custom Claim Types\" href=\"#parsing-of-custom-claim-types\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBy default, JJWT will only convert simple claim types: String, Date, Long, Integer, Short and Byte.  If you need to\ndeserialize other types you can configure the \u003ccode\u003eJacksonDeserializer\u003c/code\u003e by passing a \u003ccode\u003eMap\u003c/code\u003e of claim names to types in\nthrough a constructor. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"new JacksonDeserializer(Maps.of(\u0026quot;user\u0026quot;, User.class).build())\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonDeserializer\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eMaps\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eof\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"user\"\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eUser\u003c/span\u003e.\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e())\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis would trigger the value in the \u003ccode\u003euser\u003c/code\u003e claim to be deserialized into the custom type of \u003ccode\u003eUser\u003c/code\u003e.  Given the claims\npayload of:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-json notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n    \u0026quot;issuer\u0026quot;: \u0026quot;https://example.com/issuer\u0026quot;,\n    \u0026quot;user\u0026quot;: {\n      \u0026quot;firstName\u0026quot;: \u0026quot;Jill\u0026quot;,\n      \u0026quot;lastName\u0026quot;: \u0026quot;Coder\u0026quot;\n    }\n}\"\u003e\u003cpre\u003e{\n    \u003cspan class=\"pl-ent\"\u003e\"issuer\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003ehttps://example.com/issuer\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e,\n    \u003cspan class=\"pl-ent\"\u003e\"user\"\u003c/span\u003e: {\n      \u003cspan class=\"pl-ent\"\u003e\"firstName\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eJill\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e,\n      \u003cspan class=\"pl-ent\"\u003e\"lastName\"\u003c/span\u003e: \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eCoder\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n    }\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eUser\u003c/code\u003e object could be retrieved from the \u003ccode\u003euser\u003c/code\u003e claim with the following code:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Jwts.parser()\n\n    .json(new JacksonDeserializer(Maps.of(\u0026quot;user\u0026quot;, User.class).build())) // \u0026lt;-----\n\n    .build()\n\n    .parseUnprotectedClaims(aJwtString)\n\n    .getPayload()\n\n    .get(\u0026quot;user\u0026quot;, User.class); // \u0026lt;-----\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonDeserializer\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eMaps\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eof\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"user\"\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eUser\u003c/span\u003e.\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e())) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-----\u003c/span\u003e\n\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eparseUnprotectedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eaJwtString\u003c/span\u003e)\n\n    .\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eget\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"user\"\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eUser\u003c/span\u003e.\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// \u0026lt;-----\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eUsing this constructor is mutually exclusive with the \u003ccode\u003eJacksonDeserializer(ObjectMapper)\u003c/code\u003e constructor\n\u003ca href=\"#json-jackson\"\u003edescribed above\u003c/a\u003e. This is because JJWT configures an \u003ccode\u003eObjectMapper\u003c/code\u003e directly and could have negative\nconsequences for a shared \u003ccode\u003eObjectMapper\u003c/code\u003e instance. This should work for most applications, if you need a more advanced\nparsing options, \u003ca href=\"#json-jackson\"\u003econfigure the mapper directly\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-json-gson\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-gson-json-processor\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eGson JSON Processor\u003c/h3\u003e\u003ca id=\"user-content-gson-json-processor\" class=\"anchor\" aria-label=\"Permalink: Gson JSON Processor\" href=\"#gson-json-processor\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you want to use Gson for JSON processing, just including the \u003ccode\u003eio.jsonwebtoken:jjwt-gson\u003c/code\u003e dependency as a\nruntime dependency is all that is necessary in most projects, since Gradle and Maven will automatically pull in\nthe necessary Gson dependencies as well.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAfter including this dependency, JJWT will automatically find the Gson implementation on the runtime classpath and\nuse it internally for JSON parsing.  There is nothing else you need to do - just declaring the dependency is\nall that is required, no code or config is necessary.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you’re curious, JJWT will automatically create an internal default Gson instance for its own needs as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"new GsonBuilder()\n    .registerTypeHierarchyAdapter(io.jsonwebtoken.lang.Supplier.class, GsonSupplierSerializer.INSTANCE)\n    .disableHtmlEscaping().create();\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eGsonBuilder\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eregisterTypeHierarchyAdapter\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eio\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ejsonwebtoken\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003elang\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003eSupplier\u003c/span\u003e.\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eGsonSupplierSerializer\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eINSTANCE\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003edisableHtmlEscaping\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ecreate\u003c/span\u003e();\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eregisterTypeHierarchyAdapter\u003c/code\u003e builder call is required to serialize JWKs with secret or private values.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eHowever, if you prefer to use a different Gson instance instead of JJWT’s default, you can configure JJWT to use your\nown - just don’t forget to register the necessary JJWT type hierarchy adapter.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou do this by declaring the \u003ccode\u003eio.jsonwebtoken:jjwt-gson\u003c/code\u003e dependency with \u003cstrong\u003ecompile\u003c/strong\u003e scope (not runtime\nscope which is the typical JJWT default).  That is:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eMaven\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-text-xml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;jjwt-gson\u0026lt;/artifactId\u0026gt;\n    \u0026lt;version\u0026gt;0.12.6\u0026lt;/version\u0026gt;\n    \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;!-- Not runtime --\u0026gt;\n\u0026lt;/dependency\u0026gt;\"\u003e\u003cpre\u003e\u0026lt;\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;io.jsonwebtoken\u0026lt;/\u003cspan class=\"pl-ent\"\u003egroupId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;jjwt-gson\u0026lt;/\u003cspan class=\"pl-ent\"\u003eartifactId\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;0.12.6\u0026lt;/\u003cspan class=\"pl-ent\"\u003eversion\u003c/span\u003e\u0026gt;\n    \u0026lt;\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt;compile\u0026lt;/\u003cspan class=\"pl-ent\"\u003escope\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e\u0026lt;!--\u003c/span\u003e Not runtime \u003cspan class=\"pl-c\"\u003e--\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u0026lt;/\u003cspan class=\"pl-ent\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eGradle or Android\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-groovy notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dependencies {\n    implementation 'io.jsonwebtoken:jjwt-gson:0.12.6'\n}\"\u003e\u003cpre\u003edependencies {\n    implementation \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eio.jsonwebtoken:jjwt-gson:0.12.6\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAnd then you can specify the \u003ccode\u003eGsonSerializer\u003c/code\u003e using your own \u003ccode\u003eGson\u003c/code\u003e instance on the \u003ccode\u003eJwtBuilder\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Gson gson = new GsonBuilder()\n    // don't forget this line!:\n    .registerTypeHierarchyAdapter(io.jsonwebtoken.lang.Supplier.class, GsonSupplierSerializer.INSTANCE)\n    .disableHtmlEscaping().create();\n\nString jws = Jwts.builder()\n\n    .json(new GsonSerializer(gson))\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eGson\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003egson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eGsonBuilder\u003c/span\u003e()\n    \u003cspan class=\"pl-c\"\u003e// don't forget this line!:\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eregisterTypeHierarchyAdapter\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eio\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ejsonwebtoken\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003elang\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003eSupplier\u003c/span\u003e.\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eGsonSupplierSerializer\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eINSTANCE\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003edisableHtmlEscaping\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ecreate\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eGsonSerializer\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003egson\u003c/span\u003e))\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eand the \u003ccode\u003eGsonDeserializer\u003c/code\u003e using your \u003ccode\u003eGson\u003c/code\u003e instance on the \u003ccode\u003eJwtParser\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Gson gson = getGson(); //implement me\n\nJwts.parser()\n\n    .json(new GsonDeserializer(gson))\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eGson\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003egson\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetGson\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003ejson\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eGsonDeserializer\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003egson\u003c/span\u003e))\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAgain, as shown above, it is critical to create your \u003ccode\u003eGson\u003c/code\u003e instance using the \u003ccode\u003eGsonBuilder\u003c/code\u003e and include the line:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\".registerTypeHierarchyAdapter(io.jsonwebtoken.lang.Supplier.class, GsonSupplierSerializer.INSTANCE)\"\u003e\u003cpre\u003e.\u003cspan class=\"pl-en\"\u003eregisterTypeHierarchyAdapter\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eio\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ejsonwebtoken\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003elang\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003eSupplier\u003c/span\u003e.\u003cspan class=\"pl-k\"\u003eclass\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eGsonSupplierSerializer\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eINSTANCE\u003c/span\u003e)\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eto ensure JWK serialization works as expected.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-base64\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-base64-support\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBase64 Support\u003c/h2\u003e\u003ca id=\"user-content-base64-support\" class=\"anchor\" aria-label=\"Permalink: Base64 Support\" href=\"#base64-support\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJJWT uses a very fast pure-Java \u003ca href=\"https://tools.ietf.org/html/rfc4648\" rel=\"nofollow\"\u003eBase64\u003c/a\u003e codec for Base64 and\nBase64Url encoding and decoding that is guaranteed to work deterministically in all JDK and Android environments.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eYou can access JJWT’s encoders and decoders using the \u003ccode\u003eio.jsonwebtoken.io.Encoders\u003c/code\u003e and \u003ccode\u003eio.jsonwebtoken.io.Decoders\u003c/code\u003e\nutility classes.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eio.jsonwebtoken.io.Encoders\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eBASE64\u003c/code\u003e is an RFC 4648 \u003ca href=\"https://tools.ietf.org/html/rfc4648#section-4\" rel=\"nofollow\"\u003eBase64\u003c/a\u003e encoder\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eBASE64URL\u003c/code\u003e is an RFC 4648 \u003ca href=\"https://tools.ietf.org/html/rfc4648#section-5\" rel=\"nofollow\"\u003eBase64URL\u003c/a\u003e encoder\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eio.jsonwebtoken.io.Decoders\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eBASE64\u003c/code\u003e is an RFC 4648 \u003ca href=\"https://tools.ietf.org/html/rfc4648#section-4\" rel=\"nofollow\"\u003eBase64\u003c/a\u003e decoder\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eBASE64URL\u003c/code\u003e is an RFC 4648 \u003ca href=\"https://tools.ietf.org/html/rfc4648#section-5\" rel=\"nofollow\"\u003eBase64URL\u003c/a\u003e decoder\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-base64-security\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-understanding-base64-in-security-contexts\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUnderstanding Base64 in Security Contexts\u003c/h3\u003e\u003ca id=\"user-content-understanding-base64-in-security-contexts\" class=\"anchor\" aria-label=\"Permalink: Understanding Base64 in Security Contexts\" href=\"#understanding-base64-in-security-contexts\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAll cryptographic operations, like encryption and message digest calculations, result in binary data - raw byte arrays.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause raw byte arrays cannot be represented natively in JSON, the JWT\nspecifications employ the Base64URL encoding scheme to represent these raw byte values in JSON documents or compound\nstructures like a JWT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis means that the Base64 and Base64URL algorithms take a raw byte array and converts the bytes into a string suitable\nto use in text documents and protocols like HTTP.  These algorithms can also convert these strings back\ninto the original raw byte arrays for decryption or signature verification as necessary.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThat’s nice and convenient, but there are two very important properties of Base64 (and Base64URL) text strings that\nare critical to remember when they are used in security scenarios like with JWTs:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#base64-not-encryption\"\u003eBase64 is not encryption\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#base64-changing-characters\"\u003eChanging Base64 characters\u003c/a\u003e \u003cstrong\u003edoes not automatically invalidate data\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-base64-not-encryption\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-base64-is-not-encryption\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBase64 is not encryption\u003c/h4\u003e\u003ca id=\"user-content-base64-is-not-encryption\" class=\"anchor\" aria-label=\"Permalink: Base64 is not encryption\" href=\"#base64-is-not-encryption\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBase64-encoded text is \u003cem\u003enot\u003c/em\u003e encrypted.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhile a byte array representation can be converted to text with the Base64 algorithms,\nanyone in the world can take Base64-encoded text, decode it with any standard Base64 decoder, and obtain the\nunderlying raw byte array data.  No key or secret is required to decode Base64 text - anyone can do it.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBased on this, when encoding sensitive byte data with Base64 - like a shared or private key - \u003cstrong\u003ethe resulting\nstring is NOT safe to expose publicly\u003c/strong\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eA base64-encoded key is still sensitive information and must be kept as secret and as safe as the original source\nof the bytes (e.g. a Java \u003ccode\u003ePrivateKey\u003c/code\u003e or \u003ccode\u003eSecretKey\u003c/code\u003e instance).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAfter Base64-encoding data into a string, it is possible to then encrypt the string to keep it safe from prying\neyes if desired, but this is different.  Encryption is not encoding.  They are separate concepts.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-base64-changing-characters\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 id=\"user-content-changing-base64-characters\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eChanging Base64 Characters\u003c/h4\u003e\u003ca id=\"user-content-changing-base64-characters\" class=\"anchor\" aria-label=\"Permalink: Changing Base64 Characters\" href=\"#changing-base64-characters\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn an effort to see if signatures or encryption is truly validated correctly, some try to edit a JWT\nstring - particularly the Base64-encoded signature part - to see if the edited string fails security validations.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis conceptually makes sense: change the signature string, you would assume that signature validation would fail.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eBut this doesn’t always work. Changing base64 characters is an invalid test\u003c/em\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eWhy?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause of the way the Base64 algorithm works, there are multiple Base64 strings that can represent the same raw byte\narray.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eGoing into the details of the Base64 algorithm is out of scope for this documentation, but there are many good\nStackoverflow \u003ca href=\"https://stackoverflow.com/questions/33663113/multiple-strings-base64-decoded-to-same-byte-array?noredirect=1\u0026amp;lq=1\" rel=\"nofollow\"\u003eanswers\u003c/a\u003e\nand \u003ca href=\"https://github.com/jwtk/jjwt/issues/211#issuecomment-283076269\" data-hovercard-type=\"issue\" data-hovercard-url=\"/jwtk/jjwt/issues/211/hovercard\"\u003eJJWT issue comments\u003c/a\u003e that explain this in detail.\nHere’s one \u003ca href=\"https://stackoverflow.com/questions/29941270/why-do-base64-decode-produce-same-byte-array-for-different-strings\" rel=\"nofollow\"\u003egood answer\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\u003cg-emoji class=\"g-emoji\" alias=\"bangbang\"\u003e‼️\u003c/g-emoji\u003eIMPORTANT\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eRemember that Base64 encodes each 8 bit entity into 6 bit chars. The resulting string then needs exactly\n11 * 8 / 6 bytes, or 14 2/3 chars. But you can’t write partial characters. Only the first 4 bits (or 2/3 of the\nlast char) are significant. The last two bits are not decoded. Thus all of:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"dGVzdCBzdHJpbmo\ndGVzdCBzdHJpbmp\ndGVzdCBzdHJpbmq\ndGVzdCBzdHJpbmr\"\u003e\u003cpre lang=\"text\" class=\"notranslate\"\u003e\u003ccode\u003edGVzdCBzdHJpbmo\ndGVzdCBzdHJpbmp\ndGVzdCBzdHJpbmq\ndGVzdCBzdHJpbmr\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAll decode to the same 11 bytes (116, 101, 115, 116, 32, 115, 116, 114, 105, 110, 106).\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eAs you can see by the above 4 examples, they all decode to the same exact 11 bytes.  So just changing one or two\ncharacters at the end of a Base64 string may not work and can often result in an invalid test.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-base64-invalid-characters\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch5 id=\"user-content-adding-invalid-characters\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAdding Invalid Characters\u003c/h5\u003e\u003ca id=\"user-content-adding-invalid-characters\" class=\"anchor\" aria-label=\"Permalink: Adding Invalid Characters\" href=\"#adding-invalid-characters\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJJWT’s default Base64/Base64URL decoders automatically ignore illegal Base64 characters located in the beginning and\nend of an encoded string. Therefore, prepending or appending invalid characters like \u003ccode\u003e{\u003c/code\u003e or \u003ccode\u003e]\u003c/code\u003e or similar will also\nnot fail JJWT’s signature checks either.  Why?\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause such edits - whether changing a trailing character or two, or appending invalid characters - do not actually\nchange the \u003cem\u003ereal\u003c/em\u003e signature, which in cryptographic contexts, is always a byte array. Instead, tests like these\nchange a text encoding of the byte array, and as we covered above, they are different things.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eSo JJWT 'cares' more about the real byte array and less about its text encoding because that is what actually matters\nin cryptographic operations.  In this sense, JJWT follows the \u003ca href=\"https://en.wikipedia.org/wiki/Robustness_principle\" rel=\"nofollow\"\u003eRobustness Principle\u003c/a\u003e\nin being \u003cem\u003eslightly\u003c/em\u003e lenient on what is accepted per the rules of Base64, but if anything in the real underlying\nbyte array is changed, then yes, JJWT’s cryptographic assertions will definitely fail.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eTo help understand JJWT’s approach, we have to remember why signatures exist. From our documentation above on\n\u003ca href=\"#jws\"\u003esigning JWTs\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cblockquote\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eguarantees it was created by someone we know (it is authentic), as well as\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eguarantees that no-one has manipulated or changed it after it was created (its integrity is maintained).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/blockquote\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eJust prepending or appending invalid text to try to 'trick' the algorithm doesn’t change the integrity of the\nunderlying claims or signature byte arrays, nor the authenticity of the claims byte array, because those byte\narrays are still obtained intact.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003ePlease see \u003ca href=\"https://github.com/jwtk/jjwt/issues/518\" data-hovercard-type=\"issue\" data-hovercard-url=\"/jwtk/jjwt/issues/518/hovercard\"\u003eJJWT Issue #518\u003c/a\u003e and its referenced issues and links for more\ninformation.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-base64-custom\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-custom-base64\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCustom Base64\u003c/h3\u003e\u003ca id=\"user-content-custom-base64\" class=\"anchor\" aria-label=\"Permalink: Custom Base64\" href=\"#custom-base64\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf for some reason you want to specify your own Base64Url encoder and decoder, you can use the \u003ccode\u003eJwtBuilder\u003c/code\u003e\n\u003ccode\u003eencoder\u003c/code\u003e method to set the encoder:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Encoder\u0026lt;byte[], String\u0026gt; encoder = getMyBase64UrlEncoder(); //implement me\n\nString jws = Jwts.builder()\n\n    .b64Url(encoder)\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eEncoder\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[], \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003eencoder\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyBase64UrlEncoder\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eb64Url\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eencoder\u003c/span\u003e)\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eand the \u003ccode\u003eJwtParserBuilder\u003c/code\u003e's \u003ccode\u003edecoder\u003c/code\u003e method to set the decoder:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Decoder\u0026lt;String, byte[]\u0026gt; decoder = getMyBase64UrlDecoder(); //implement me\n\nJwts.parser()\n\n    .b64Url(decoder)\n\n    // ... etc ...\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eDecoder\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[]\u0026gt; \u003cspan class=\"pl-s1\"\u003edecoder\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003egetMyBase64UrlDecoder\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e//implement me\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n\n    .\u003cspan class=\"pl-en\"\u003eb64Url\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003edecoder\u003c/span\u003e)\n\n    \u003cspan class=\"pl-c\"\u003e// ... etc ...\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-examples\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-examples\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eExamples\u003c/h2\u003e\u003ca id=\"user-content-examples\" class=\"anchor\" aria-label=\"Permalink: Examples\" href=\"#examples\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jws-hs\"\u003eJWS Signed with HMAC\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jws-rsa\"\u003eJWS Signed with RSA\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jws-ecdsa\"\u003eJWS Signed with ECDSA\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jws-eddsa\"\u003eJWS Signed with EdDSA\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwe-dir\"\u003eJWE Encrypted Directly with a SecretKey\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwe-rsa\"\u003eJWE Encrypted with RSA\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwe-aeskw\"\u003eJWE Encrypted with AES Key Wrap\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwe-ecdhes\"\u003eJWE Encrypted with ECDH-ES\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwe-password\"\u003eJWE Encrypted with a Password\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-secret\"\u003eSecretKey JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-rsapub\"\u003eRSA Public JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-rsapriv\"\u003eRSA Private JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-ecpub\"\u003eElliptic Curve Public JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-ecpriv\"\u003eElliptic Curve Private JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-edpub\"\u003eEdwards Elliptic Curve Public JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"#example-jwk-edpriv\"\u003eEdwards Elliptic Curve Private JWK\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jws-hs\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-signed-with-hmac\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Signed with HMAC\u003c/h3\u003e\u003ca id=\"user-content-jwt-signed-with-hmac\" class=\"anchor\" aria-label=\"Permalink: JWT Signed with HMAC\" href=\"#jwt-signed-with-hmac\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to digitally sign a JWT using an \u003ca href=\"https://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow\"\u003eHMAC\u003c/a\u003e\n(hash-based message authentication code).  The JWT specifications define 3 standard HMAC signing algorithms:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS256\u003c/code\u003e: HMAC with SHA-256. This requires a 256-bit (32 byte) \u003ccode\u003eSecretKey\u003c/code\u003e or larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS384\u003c/code\u003e: HMAC with SHA-384. This requires a 384-bit (48 byte) \u003ccode\u003eSecretKey\u003c/code\u003e or larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eHS512\u003c/code\u003e: HMAC with SHA-512. This requires a 512-bit (64 byte) \u003ccode\u003eSecretKey\u003c/code\u003e or larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test key suitable for the desired HMAC-SHA algorithm:\nMacAlgorithm alg = Jwts.SIG.HS512; //or HS384 or HS256\nSecretKey key = alg.key().build();\n\nString message = \u0026quot;Hello World!\u0026quot;;\nbyte[] content = message.getBytes(StandardCharsets.UTF_8);\n\n// Create the compact JWS:\nString jws = Jwts.builder().content(content, \u0026quot;text/plain\u0026quot;).signWith(key, alg).compact();\n\n// Parse the compact JWS:\ncontent = Jwts.parser().verifyWith(key).build().parseSignedContent(jws).getPayload();\n\nassert message.equals(new String(content, StandardCharsets.UTF_8));\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test key suitable for the desired HMAC-SHA algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eMacAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS512\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or HS384 or HS256\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e = \u003cspan class=\"pl-s\"\u003e\"Hello World!\"\u003c/span\u003e;\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetBytes\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\n\u003cspan class=\"pl-c\"\u003e// Create the compact JWS:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003econtent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e, \u003cspan class=\"pl-s\"\u003e\"text/plain\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Parse the compact JWS:\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseSignedContent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e));\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jws-rsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-signed-with-rsa\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Signed with RSA\u003c/h3\u003e\u003ca id=\"user-content-jwt-signed-with-rsa\" class=\"anchor\" aria-label=\"Permalink: JWT Signed with RSA\" href=\"#jwt-signed-with-rsa\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to digitally sign and verify a JWT using RSA cryptography. The JWT specifications\ndefine \u003ca href=\"#jws-alg\"\u003e6 standard RSA signing algorithms\u003c/a\u003e.  All 6 require that \u003ca href=\"#jws-key-rsa\"\u003eRSA keys 2048-bits or larger\u003c/a\u003e\nmust be used.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this example, Bob will sign a JWT using his RSA private key, and Alice can verify it came from Bob using Bob’s RSA\npublic key:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test key suitable for the desired RSA signature algorithm:\nSignatureAlgorithm alg = Jwts.SIG.RS512; //or PS512, RS256, etc...\nKeyPair pair = alg.keyPair().build();\n\n// Bob creates the compact JWS with his RSA private key:\nString jws = Jwts.builder().subject(\u0026quot;Alice\u0026quot;)\n    .signWith(pair.getPrivate(), alg) // \u0026lt;-- Bob's RSA private key\n    .compact();\n\n// Alice receives and verifies the compact JWS came from Bob:\nString subject = Jwts.parser()\n    .verifyWith(pair.getPublic()) // \u0026lt;-- Bob's RSA public key\n    .build().parseSignedClaims(jws).getPayload().getSubject();\n\nassert \u0026quot;Alice\u0026quot;.equals(subject);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test key suitable for the desired RSA signature algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSignatureAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRS512\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or PS512, RS256, etc...\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Bob creates the compact JWS with his RSA private key:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e(), \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Bob's RSA private key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Alice receives and verifies the compact JWS came from Bob:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003esubject\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Bob's RSA public key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetSubject\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esubject\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jws-ecdsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-signed-with-ecdsa\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Signed with ECDSA\u003c/h3\u003e\u003ca id=\"user-content-jwt-signed-with-ecdsa\" class=\"anchor\" aria-label=\"Permalink: JWT Signed with ECDSA\" href=\"#jwt-signed-with-ecdsa\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to digitally sign and verify a JWT using the Elliptic Curve Digital Signature Algorithm.\nThe JWT specifications define \u003ca href=\"#jws-alg\"\u003e3 standard ECDSA signing algorithms\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eES256\u003c/code\u003e: ECDSA using P-256 and SHA-256. This requires an EC Key exactly 256 bits (32 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eES384\u003c/code\u003e: ECDSA using P-384 and SHA-384. This requires an EC Key exactly 384 bits (48 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eES512\u003c/code\u003e: ECDSA using P-521 and SHA-512. This requires an EC Key exactly 521 bits (65 or 66 bytes depending on format) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this example, Bob will sign a JWT using his EC private key, and Alice can verify it came from Bob using Bob’s EC\npublic key:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test key suitable for the desired ECDSA signature algorithm:\nSignatureAlgorithm alg = Jwts.SIG.ES512; //or ES256 or ES384\nKeyPair pair = alg.keyPair().build();\n\n// Bob creates the compact JWS with his EC private key:\nString jws = Jwts.builder().subject(\u0026quot;Alice\u0026quot;)\n    .signWith(pair.getPrivate(), alg) // \u0026lt;-- Bob's EC private key\n    .compact();\n\n// Alice receives and verifies the compact JWS came from Bob:\nString subject = Jwts.parser()\n    .verifyWith(pair.getPublic()) // \u0026lt;-- Bob's EC public key\n    .build().parseSignedClaims(jws).getPayload().getSubject();\n\nassert \u0026quot;Alice\u0026quot;.equals(subject);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test key suitable for the desired ECDSA signature algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSignatureAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eES512\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or ES256 or ES384\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Bob creates the compact JWS with his EC private key:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e(), \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Bob's EC private key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Alice receives and verifies the compact JWS came from Bob:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003esubject\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Bob's EC public key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetSubject\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esubject\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jws-eddsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-signed-with-eddsa\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Signed with EdDSA\u003c/h3\u003e\u003ca id=\"user-content-jwt-signed-with-eddsa\" class=\"anchor\" aria-label=\"Permalink: JWT Signed with EdDSA\" href=\"#jwt-signed-with-eddsa\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to digitally sign and verify a JWT using the\n\u003ca href=\"https://www.rfc-editor.org/rfc/rfc8032\" rel=\"nofollow\"\u003eEdwards Curve Digital Signature Algorithm\u003c/a\u003e using\n\u003ccode\u003eEd25519\u003c/code\u003e or \u003ccode\u003eEd448\u003c/code\u003e keys.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cmarkdown-accessiblity-table\u003e\u003ctable\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003eℹ️ NOTE\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eEd25519\u003c/code\u003e and \u003ccode\u003eEd448\u003c/code\u003e algorithms require JDK 15 or a compatible JCA Provider\n(like BouncyCastle) in the runtime classpath.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIf you are using JDK 14 or earlier and you want to use them, see\nthe \u003ca href=\"#installation\"\u003eInstallation\u003c/a\u003e section to see how to enable BouncyCastle.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\u003c/markdown-accessiblity-table\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eEdDSA\u003c/code\u003e signature algorithm is defined for JWS in \u003ca href=\"https://www.rfc-editor.org/rfc/rfc8037#section-3.1\" rel=\"nofollow\"\u003eRFC 8037, Section 3.1\u003c/a\u003e\nusing keys for two Edwards curves:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eEd25519\u003c/code\u003e: \u003ccode\u003eEdDSA\u003c/code\u003e using curve \u003ccode\u003eEd25519\u003c/code\u003e. \u003ccode\u003eEd25519\u003c/code\u003e algorithm keys must be 255 bits long and produce\nsignatures 512 bits (64 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eEd448\u003c/code\u003e: \u003ccode\u003eEdDSA\u003c/code\u003e using curve \u003ccode\u003eEd448\u003c/code\u003e. \u003ccode\u003eEd448\u003c/code\u003e algorithm keys must be 448 bits long and produce signatures\n912 bits (114 bytes) long.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this example, Bob will sign a JWT using his Edwards Curve private key, and Alice can verify it came from Bob\nusing Bob’s Edwards Curve public key:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test key suitable for the EdDSA signature algorithm using Ed25519 or Ed448 keys:\nCurve curve = Jwks.CRV.Ed25519; //or Ed448\nKeyPair pair = curve.keyPair().build();\n\n// Bob creates the compact JWS with his Edwards Curve private key:\nString jws = Jwts.builder().subject(\u0026quot;Alice\u0026quot;)\n    .signWith(pair.getPrivate(), Jwts.SIG.EdDSA) // \u0026lt;-- Bob's Edwards Curve private key w/ EdDSA\n    .compact();\n\n// Alice receives and verifies the compact JWS came from Bob:\nString subject = Jwts.parser()\n    .verifyWith(pair.getPublic()) // \u0026lt;-- Bob's Edwards Curve public key\n    .build().parseSignedClaims(jws).getPayload().getSubject();\n\nassert \u0026quot;Alice\u0026quot;.equals(subject);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test key suitable for the EdDSA signature algorithm using Ed25519 or Ed448 keys:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eCurve\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ecurve\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eCRV\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eEd25519\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or Ed448\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ecurve\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Bob creates the compact JWS with his Edwards Curve private key:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003esubject\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003esignWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e(), \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eEdDSA\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Bob's Edwards Curve private key w/ EdDSA\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Alice receives and verifies the compact JWS came from Bob:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003esubject\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003everifyWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Bob's Edwards Curve public key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseSignedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejws\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetSubject\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003esubject\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwe-dir\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-encrypted-directly-with-a-secretkey\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Encrypted Directly with a SecretKey\u003c/h3\u003e\u003ca id=\"user-content-jwt-encrypted-directly-with-a-secretkey\" class=\"anchor\" aria-label=\"Permalink: JWT Encrypted Directly with a SecretKey\" href=\"#jwt-encrypted-directly-with-a-secretkey\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to encrypt a JWT \u003ca href=\"#jwe-alg-dir\"\u003edirectly using a symmetric secret key\u003c/a\u003e.  The\nJWT specifications define \u003ca href=\"#jwe-enc\"\u003e6 standard AEAD Encryption algorithms\u003c/a\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128GCM\u003c/code\u003e: AES GCM using a 128-bit (16 byte) \u003ccode\u003eSecretKey\u003c/code\u003e or larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192GCM\u003c/code\u003e: AES GCM using a 192-bit (24 byte) \u003ccode\u003eSecretKey\u003c/code\u003e or larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256GCM\u003c/code\u003e: AES GCM using a 256-bit (32 byte) \u003ccode\u003eSecretKey\u003c/code\u003e or larger.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eA128CBC-HS256\u003c/code\u003e: \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3\" rel=\"nofollow\"\u003eAES_128_CBC_HMAC_SHA_256\u003c/a\u003e using a\n256-bit (32 byte) \u003ccode\u003eSecretKey\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eA192CBC-HS384\u003c/code\u003e: \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.4\" rel=\"nofollow\"\u003eAES_192_CBC_HMAC_SHA_384\u003c/a\u003e using a\n384-bit (48 byte) \u003ccode\u003eSecretKey\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eA256CBC-HS512\u003c/code\u003e: \u003ca href=\"https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5\" rel=\"nofollow\"\u003eAES_256_CBC_HMAC_SHA_512\u003c/a\u003e using a\n512-bit (64 byte) \u003ccode\u003eSecretKey\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe AES GCM (\u003ccode\u003eA128GCM\u003c/code\u003e, \u003ccode\u003eA192GCM\u003c/code\u003e and \u003ccode\u003eA256GCM\u003c/code\u003e) algorithms are strongly recommended - they are faster and more\nefficient than the \u003ccode\u003eA*CBC-HS*\u003c/code\u003e variants, but they do require JDK 8 or later (or JDK 7 + BouncyCastle).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test key suitable for the desired payload encryption algorithm:\n// (A*GCM algorithms are recommended, but require JDK \u0026gt;= 8 or BouncyCastle)\nAeadAlgorithm enc = Jwts.ENC.A256GCM; //or A128GCM, A192GCM, A256CBC-HS512, etc...\nSecretKey key = enc.key().build();\n\nString message = \u0026quot;Live long and prosper.\u0026quot;;\nbyte[] content = message.getBytes(StandardCharsets.UTF_8);\n\n// Create the compact JWE:\nString jwe = Jwts.builder().content(content, \u0026quot;text/plain\u0026quot;).encryptWith(key, enc).compact();\n\n// Parse the compact JWE:\ncontent = Jwts.parser().decryptWith(key).build().parseEncryptedContent(jwe).getPayload();\n\nassert message.equals(new String(content, StandardCharsets.UTF_8));\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test key suitable for the desired payload encryption algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// (A*GCM algorithms are recommended, but require JDK \u0026gt;= 8 or BouncyCastle)\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eAeadAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eENC\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eA256GCM\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or A128GCM, A192GCM, A256CBC-HS512, etc...\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e = \u003cspan class=\"pl-s\"\u003e\"Live long and prosper.\"\u003c/span\u003e;\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetBytes\u003c/span\u003e(\u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\n\u003cspan class=\"pl-c\"\u003e// Create the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003econtent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e, \u003cspan class=\"pl-s\"\u003e\"text/plain\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eencryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Parse the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseEncryptedContent\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003emessage\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003econtent\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e));\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwe-rsa\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-encrypted-with-rsa\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Encrypted with RSA\u003c/h3\u003e\u003ca id=\"user-content-jwt-encrypted-with-rsa\" class=\"anchor\" aria-label=\"Permalink: JWT Encrypted with RSA\" href=\"#jwt-encrypted-with-rsa\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to encrypt and decrypt a JWT using RSA cryptography.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eBecause RSA cannot encrypt much data, RSA is used to encrypt and decrypt a secure-random key, and that generated key\nin turn is used to actually encrypt the payload as described in the \u003ca href=\"/jwtk/jjwt/blob/master/jwe-alg-rsa\"\u003eRSA Key Encryption\u003c/a\u003e section\nabove. As such, RSA Key Algorithms must be paired with an AEAD Encryption Algorithm, as shown below.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this example, Bob will encrypt a JWT using Alice’s RSA public key to ensure only she may read it.  Alice can then\ndecrypt the JWT using her RSA private key:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test KeyPair suitable for the desired RSA key algorithm:\nKeyPair pair = Jwts.SIG.RS512.keyPair().build();\n\n// Choose the key algorithm used encrypt the payload key:\nKeyAlgorithm\u0026lt;PublicKey, PrivateKey\u0026gt; alg = Jwts.KEY.RSA_OAEP_256; //or RSA_OAEP or RSA1_5\n// Choose the Encryption Algorithm to encrypt the payload:\nAeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...\n\n// Bob creates the compact JWE with Alice's RSA public key so only she may read it:\nString jwe = Jwts.builder().audience().add(\u0026quot;Alice\u0026quot;).and()\n    .encryptWith(pair.getPublic(), alg, enc) // \u0026lt;-- Alice's RSA public key\n    .compact();\n\n// Alice receives and decrypts the compact JWE:\nSet\u0026lt;String\u0026gt; audience = Jwts.parser()\n    .decryptWith(pair.getPrivate()) // \u0026lt;-- Alice's RSA private key\n    .build().parseEncryptedClaims(jwe).getPayload().getAudience();\n\nassert audience.contains(\u0026quot;Alice\u0026quot;);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test KeyPair suitable for the desired RSA key algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRS512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Choose the key algorithm used encrypt the payload key:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyAlgorithm\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eKEY\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRSA_OAEP_256\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or RSA_OAEP or RSA1_5\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// Choose the Encryption Algorithm to encrypt the payload:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eAeadAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eENC\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eA256GCM\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or A192GCM, A128GCM, A256CBC-HS512, etc...\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Bob creates the compact JWE with Alice's RSA public key so only she may read it:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eaudience\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eencryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e(), \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Alice's RSA public key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Alice receives and decrypts the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSet\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003eaudience\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Alice's RSA private key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetAudience\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eaudience\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003econtains\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwe-aeskw\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-encrypted-with-aes-key-wrap\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Encrypted with AES Key Wrap\u003c/h3\u003e\u003ca id=\"user-content-jwt-encrypted-with-aes-key-wrap\" class=\"anchor\" aria-label=\"Permalink: JWT Encrypted with AES Key Wrap\" href=\"#jwt-encrypted-with-aes-key-wrap\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to encrypt and decrypt a JWT using AES Key Wrap algorithms.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese algorithms use AES to encrypt and decrypt a secure-random key, and that generated key in turn is used to actually encrypt\nthe payload as described in the \u003ca href=\"/jwtk/jjwt/blob/master/jwe-alg-aes\"\u003eAES Key Encryption\u003c/a\u003e section above. This allows the payload to be\nencrypted with a random short-lived key, reducing material exposure of the potentially longer-lived symmetric secret\nkey.  This approach requires the AES Key Wrap algorithms to be paired with an AEAD content encryption algorithm,\nas shown below.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThe AES GCM Key Wrap algorithms (\u003ccode\u003eA128GCMKW\u003c/code\u003e, \u003ccode\u003eA192GCMKW\u003c/code\u003e and \u003ccode\u003eA256GCMKW\u003c/code\u003e) are preferred - they are faster and more\nefficient than the \u003ccode\u003eA*KW\u003c/code\u003e variants, but they do require JDK 8 or later (or JDK 7 + BouncyCastle).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test SecretKey suitable for the desired AES Key Wrap algorithm:\nSecretKeyAlgorithm alg = Jwts.KEY.A256GCMKW; //or A192GCMKW, A128GCMKW, A256KW, etc...\nSecretKey key = alg.key().build();\n\n// Chooose the Encryption Algorithm used to encrypt the payload:\nAeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...\n\n// Create the compact JWE:\nString jwe = Jwts.builder().issuer(\u0026quot;me\u0026quot;).encryptWith(key, alg, enc).compact();\n\n// Parse the compact JWE:\nString issuer = Jwts.parser().decryptWith(key).build()\n    .parseEncryptedClaims(jwe).getPayload().getIssuer();\n\nassert \u0026quot;me\u0026quot;.equals(issuer);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test SecretKey suitable for the desired AES Key Wrap algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKeyAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eKEY\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eA256GCMKW\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or A192GCMKW, A128GCMKW, A256KW, etc...\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Chooose the Encryption Algorithm used to encrypt the payload:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eAeadAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eENC\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eA256GCM\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or A192GCM, A128GCM, A256CBC-HS512, etc...\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Create the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eissuer\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"me\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eencryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Parse the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eissuer\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetIssuer\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"me\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eissuer\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwe-ecdhes\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-encrypted-with-ecdh-es\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Encrypted with ECDH-ES\u003c/h3\u003e\u003ca id=\"user-content-jwt-encrypted-with-ecdh-es\" class=\"anchor\" aria-label=\"Permalink: JWT Encrypted with ECDH-ES\" href=\"#jwt-encrypted-with-ecdh-es\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to encrypt and decrypt a JWT using Elliptic Curve Diffie-Hellman Ephemeral Static\nKey Agreement (ECDH-ES) algorithms.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese algorithms use ECDH-ES to encrypt and decrypt a secure-random key, and that\ngenerated key in turn is used to actually encrypt the payload as described in the\n\u003ca href=\"/jwtk/jjwt/blob/master/jwe-alg-ecdhes\"\u003eElliptic Curve Diffie-Hellman Ephemeral Static Key Agreement\u003c/a\u003e section above. Because of this, ECDH-ES\nKey Algorithms must be paired with an AEAD Encryption Algorithm, as shown below.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eIn this example, Bob will encrypt a JWT using Alice’s Elliptic Curve public key to ensure only she may read it.\u003cbr\u003e\nAlice can then decrypt the JWT using her Elliptic Curve private key:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Create a test KeyPair suitable for the desired EC key algorithm:\nKeyPair pair = Jwts.SIG.ES512.keyPair().build();\n\n// Choose the key algorithm used encrypt the payload key:\nKeyAlgorithm\u0026lt;PublicKey, PrivateKey\u0026gt; alg = Jwts.KEY.ECDH_ES_A256KW; //ECDH_ES_A192KW, etc...\n// Choose the Encryption Algorithm to encrypt the payload:\nAeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...\n\n// Bob creates the compact JWE with Alice's EC public key so only she may read it:\nString jwe = Jwts.builder().audience().add(\u0026quot;Alice\u0026quot;).and()\n    .encryptWith(pair.getPublic(), alg, enc) // \u0026lt;-- Alice's EC public key\n    .compact();\n\n// Alice receives and decrypts the compact JWE:\nSet\u0026lt;String\u0026gt; audience = Jwts.parser()\n    .decryptWith(pair.getPrivate()) // \u0026lt;-- Alice's EC private key\n    .build().parseEncryptedClaims(jwe).getPayload().getAudience();\n\nassert audience.contains(\u0026quot;Alice\u0026quot;);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// Create a test KeyPair suitable for the desired EC key algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eES512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Choose the key algorithm used encrypt the payload key:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyAlgorithm\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eKEY\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eECDH_ES_A256KW\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//ECDH_ES_A192KW, etc...\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// Choose the Encryption Algorithm to encrypt the payload:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eAeadAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eENC\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eA256GCM\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or A192GCM, A128GCM, A256CBC-HS512, etc...\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Bob creates the compact JWE with Alice's EC public key so only she may read it:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eaudience\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eadd\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eand\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003eencryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e(), \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Alice's EC public key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Alice receives and decrypts the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSet\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003eaudience\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e()\n    .\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e()) \u003cspan class=\"pl-c\"\u003e// \u0026lt;-- Alice's EC private key\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetAudience\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eaudience\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003econtains\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"Alice\"\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwe-password\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-jwt-encrypted-with-a-password\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eJWT Encrypted with a Password\u003c/h3\u003e\u003ca id=\"user-content-jwt-encrypted-with-a-password\" class=\"anchor\" aria-label=\"Permalink: JWT Encrypted with a Password\" href=\"#jwt-encrypted-with-a-password\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis is an example showing how to encrypt and decrypt a JWT using Password-based key-derivation algorithms.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThese algorithms use a password to securely derive a random key, and that derived random key in turn is used to actually\nencrypt the payload as described in the \u003ca href=\"/jwtk/jjwt/blob/master/jwe-alg-pbes2\"\u003ePassword-based Key Encryption\u003c/a\u003e section above. This allows\nthe payload to be encrypted with a random short-lived cryptographically-stronger key, reducing the need to\nexpose the longer-lived (and potentially weaker) password.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis approach requires the Password-based Key Wrap algorithms to be paired with an AEAD content encryption algorithm,\nas shown below.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"//DO NOT use this example password in a real app, it is well-known to password crackers:\nString pw = \u0026quot;correct horse battery staple\u0026quot;;\nPassword password = Keys.password(pw.toCharArray());\n\n// Choose the desired PBES2 key derivation algorithm:\nKeyAlgorithm\u0026lt;Password, Password\u0026gt; alg = Jwts.KEY.PBES2_HS512_A256KW; //or PBES2_HS384_A192KW or PBES2_HS256_A128KW\n\n// Optionally choose the number of PBES2 computational iterations to use to derive the key.\n// This is optional - if you do not specify a value, JJWT will automatically choose a value\n// based on your chosen PBES2 algorithm and OWASP PBKDF2 recommendations here:\n// https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2\n//\n// If you do specify a value, ensure the iterations are large enough for your desired alg\n//int pbkdf2Iterations = 120000; //for HS512. Needs to be much higher for smaller hash algs.\n\n// Choose the Encryption Algorithm used to encrypt the payload:\nAeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...\n\n// Create the compact JWE:\nString jwe = Jwts.builder().issuer(\u0026quot;me\u0026quot;)\n    // Optional work factor is specified in the header:\n    //.header().pbes2Count(pbkdf2Iterations)).and()\n    .encryptWith(password, alg, enc)\n    .compact();\n\n// Parse the compact JWE:\nString issuer = Jwts.parser().decryptWith(password)\n    .build().parseEncryptedClaims(jwe).getPayload().getIssuer();\n\nassert \u0026quot;me\u0026quot;.equals(issuer);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e//DO NOT use this example password in a real app, it is well-known to password crackers:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epw\u003c/span\u003e = \u003cspan class=\"pl-s\"\u003e\"correct horse battery staple\"\u003c/span\u003e;\n\u003cspan class=\"pl-smi\"\u003ePassword\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epassword\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eKeys\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003epassword\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epw\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoCharArray\u003c/span\u003e());\n\n\u003cspan class=\"pl-c\"\u003e// Choose the desired PBES2 key derivation algorithm:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eKeyAlgorithm\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ePassword\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003ePassword\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eKEY\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003ePBES2_HS512_A256KW\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or PBES2_HS384_A192KW or PBES2_HS256_A128KW\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Optionally choose the number of PBES2 computational iterations to use to derive the key.\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// This is optional - if you do not specify a value, JJWT will automatically choose a value\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// based on your chosen PBES2 algorithm and OWASP PBKDF2 recommendations here:\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e// If you do specify a value, ensure the iterations are large enough for your desired alg\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e//int pbkdf2Iterations = 120000; //for HS512. Needs to be much higher for smaller hash algs.\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Choose the Encryption Algorithm used to encrypt the payload:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eAeadAlgorithm\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eENC\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eA256GCM\u003c/span\u003e; \u003cspan class=\"pl-c\"\u003e//or A192GCM, A128GCM, A256CBC-HS512, etc...\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e// Create the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eissuer\u003c/span\u003e(\u003cspan class=\"pl-s\"\u003e\"me\"\u003c/span\u003e)\n    \u003cspan class=\"pl-c\"\u003e// Optional work factor is specified in the header:\u003c/span\u003e\n    \u003cspan class=\"pl-c\"\u003e//.header().pbes2Count(pbkdf2Iterations)).and()\u003c/span\u003e\n    .\u003cspan class=\"pl-en\"\u003eencryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epassword\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003ealg\u003c/span\u003e, \u003cspan class=\"pl-s1\"\u003eenc\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003ecompact\u003c/span\u003e();\n\n\u003cspan class=\"pl-c\"\u003e// Parse the compact JWE:\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eissuer\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003edecryptWith\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epassword\u003c/span\u003e)\n    .\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparseEncryptedClaims\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwe\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003egetPayload\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetIssuer\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\"me\"\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eissuer\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-secret\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-secretkey-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSecretKey JWK\u003c/h3\u003e\u003ca id=\"user-content-secretkey-jwk\" class=\"anchor\" aria-label=\"Permalink: SecretKey JWK\" href=\"#secretkey-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing a secret JWK:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SecretKey key = Jwts.SIG.HS512.key().build(); // or HS384 or HS256\nSecretJwk jwk = Jwks.builder().key(key).idFromThumbprint().build();\n\nassert jwk.getId().equals(jwk.thumbprint().toString());\nassert key.equals(jwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof SecretJwk;\nassert jwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eHS512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// or HS384 or HS256\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eSecretJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eSecretJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-rsapub\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-rsa-public-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRSA Public JWK\u003c/h3\u003e\u003ca id=\"user-content-rsa-public-jwk\" class=\"anchor\" aria-label=\"Permalink: RSA Public JWK\" href=\"#rsa-public-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing an RSA Public JWK:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"RSAPublicKey key = (RSAPublicKey)Jwts.SIG.RS512.keyPair().build().getPublic();\nRsaPublicJwk jwk = Jwks.builder().key(key).idFromThumbprint().build();\n\nassert jwk.getId().equals(jwk.thumbprint().toString());\nassert key.equals(jwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof RsaPublicJwk;\nassert jwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eRSAPublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = (\u003cspan class=\"pl-smi\"\u003eRSAPublicKey\u003c/span\u003e)\u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRS512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eRsaPublicJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eRsaPublicJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-rsapriv\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-rsa-private-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRSA Private JWK\u003c/h3\u003e\u003ca id=\"user-content-rsa-private-jwk\" class=\"anchor\" aria-label=\"Permalink: RSA Private JWK\" href=\"#rsa-private-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing an RSA Private JWK:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"KeyPair pair = Jwts.SIG.RS512.keyPair().build();\nRSAPublicKey pubKey = (RSAPublicKey) pair.getPublic();\nRSAPrivateKey privKey = (RSAPrivateKey) pair.getPrivate();\n\nRsaPrivateJwk privJwk = Jwks.builder().key(privKey).idFromThumbprint().build();\nRsaPublicJwk pubJwk = privJwk.toPublicJwk();\n\nassert privJwk.getId().equals(privJwk.thumbprint().toString());\nassert pubJwk.getId().equals(pubJwk.thumbprint().toString());\nassert privKey.equals(privJwk.toKey());\nassert pubKey.equals(pubJwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(privJwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof RsaPrivateJwk;\nassert privJwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eRS512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eRSAPublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e = (\u003cspan class=\"pl-smi\"\u003eRSAPublicKey\u003c/span\u003e) \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eRSAPrivateKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e = (\u003cspan class=\"pl-smi\"\u003eRSAPrivateKey\u003c/span\u003e) \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eRsaPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eRsaPublicJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoPublicJwk\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eRsaPrivateJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-ecpub\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-elliptic-curve-public-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eElliptic Curve Public JWK\u003c/h3\u003e\u003ca id=\"user-content-elliptic-curve-public-jwk\" class=\"anchor\" aria-label=\"Permalink: Elliptic Curve Public JWK\" href=\"#elliptic-curve-public-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing an Elliptic Curve Public JWK:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ECPublicKey key = (ECPublicKey) Jwts.SIG.ES512.keyPair().build().getPublic();\nEcPublicJwk jwk = Jwks.builder().key(key).idFromThumbprint().build();\n\nassert jwk.getId().equals(jwk.thumbprint().toString());\nassert key.equals(jwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof EcPublicJwk;\nassert jwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eECPublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = (\u003cspan class=\"pl-smi\"\u003eECPublicKey\u003c/span\u003e) \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eES512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eEcPublicJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eEcPublicJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-ecpriv\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-elliptic-curve-private-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eElliptic Curve Private JWK\u003c/h3\u003e\u003ca id=\"user-content-elliptic-curve-private-jwk\" class=\"anchor\" aria-label=\"Permalink: Elliptic Curve Private JWK\" href=\"#elliptic-curve-private-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing an Elliptic Curve Private JWK:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"KeyPair pair = Jwts.SIG.ES512.keyPair().build();\nECPublicKey pubKey = (ECPublicKey) pair.getPublic();\nECPrivateKey privKey = (ECPrivateKey) pair.getPrivate();\n\nEcPrivateJwk privJwk = Jwks.builder().key(privKey).idFromThumbprint().build();\nEcPublicJwk pubJwk = privJwk.toPublicJwk();\n\nassert privJwk.getId().equals(privJwk.thumbprint().toString());\nassert pubJwk.getId().equals(pubJwk.thumbprint().toString());\nassert privKey.equals(privJwk.toKey());\nassert pubKey.equals(pubJwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(privJwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof EcPrivateJwk;\nassert privJwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwts\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eSIG\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eES512\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eECPublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e = (\u003cspan class=\"pl-smi\"\u003eECPublicKey\u003c/span\u003e) \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eECPrivateKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e = (\u003cspan class=\"pl-smi\"\u003eECPrivateKey\u003c/span\u003e) \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eEcPrivateJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ekey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eEcPublicJwk\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoPublicJwk\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eEcPrivateJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-edpub\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-edwards-elliptic-curve-public-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eEdwards Elliptic Curve Public JWK\u003c/h3\u003e\u003ca id=\"user-content-edwards-elliptic-curve-public-jwk\" class=\"anchor\" aria-label=\"Permalink: Edwards Elliptic Curve Public JWK\" href=\"#edwards-elliptic-curve-public-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing an Edwards Elliptic Curve (Ed25519, Ed448, X25519, X448) Public JWK\n(the JWT \u003ca href=\"https://www.rfc-editor.org/rfc/rfc8037\" rel=\"nofollow\"\u003eRFC 8037\u003c/a\u003e specification calls these \u003ccode\u003eOctet\u003c/code\u003e keys, hence the\n\u003ccode\u003eOctetPublicJwk\u003c/code\u003e interface names):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"PublicKey key = Jwks.CRV.Ed25519.keyPair().build().getPublic(); // or Ed448, X25519, X448\nOctetPublicJwk\u0026lt;PublicKey\u0026gt; jwk = builder().octetKey(key).idFromThumbprint().build();\n\nassert jwk.getId().equals(jwk.thumbprint().toString());\nassert key.equals(jwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof OctetPublicJwk;\nassert jwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eCRV\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eEd25519\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// or Ed448, X25519, X448\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eOctetPublicJwk\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eoctetKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eOctetPublicJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-example-jwk-edpriv\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 id=\"user-content-edwards-elliptic-curve-private-jwk\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eEdwards Elliptic Curve Private JWK\u003c/h3\u003e\u003ca id=\"user-content-edwards-elliptic-curve-private-jwk\" class=\"anchor\" aria-label=\"Permalink: Edwards Elliptic Curve Private JWK\" href=\"#edwards-elliptic-curve-private-jwk\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eExample creating and parsing an Edwards Elliptic Curve (Ed25519, Ed448, X25519, X448) Private JWK\n(the JWT \u003ca href=\"https://www.rfc-editor.org/rfc/rfc8037\" rel=\"nofollow\"\u003eRFC 8037\u003c/a\u003e specification calls these \u003ccode\u003eOctet\u003c/code\u003e keys, hence the\n\u003ccode\u003eOctetPrivateJwk\u003c/code\u003e and \u003ccode\u003eOctetPublicJwk\u003c/code\u003e interface names):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"KeyPair pair = Jwks.CRV.Ed448.keyPair().build(); // or Ed25519, X25519, X448\nPublicKey pubKey = pair.getPublic();\nPrivateKey privKey = pair.getPrivate();\n\nOctetPrivateJwk\u0026lt;PrivateKey, PublicKey\u0026gt; privJwk = builder().octetKey(privKey).idFromThumbprint().build();\nOctetPublicJwk\u0026lt;PublicKey\u0026gt; pubJwk = privJwk.toPublicJwk();\n\nassert privJwk.getId().equals(privJwk.thumbprint().toString());\nassert pubJwk.getId().equals(pubJwk.thumbprint().toString());\nassert privKey.equals(privJwk.toKey());\nassert pubKey.equals(pubJwk.toKey());\n\nbyte[] utf8Bytes = new JacksonSerializer().serialize(privJwk); // or GsonSerializer(), etc\nString jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);\nJwk\u0026lt;?\u0026gt; parsed = Jwks.parser().build().parse(jwkJson);\n\nassert parsed instanceof OctetPrivateJwk;\nassert privJwk.equals(parsed);\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003eKeyPair\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eCRV\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003eEd448\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ekeyPair\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e(); \u003cspan class=\"pl-c\"\u003e// or Ed25519, X25519, X448\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPublic\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003epair\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetPrivate\u003c/span\u003e();\n\n\u003cspan class=\"pl-smi\"\u003eOctetPrivateJwk\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ePrivateKey\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e = \u003cspan class=\"pl-en\"\u003ebuilder\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eoctetKey\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e).\u003cspan class=\"pl-en\"\u003eidFromThumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e();\n\u003cspan class=\"pl-smi\"\u003eOctetPublicJwk\u003c/span\u003e\u0026lt;\u003cspan class=\"pl-smi\"\u003ePublicKey\u003c/span\u003e\u0026gt; \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e = \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoPublicJwk\u003c/span\u003e();\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003egetId\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003ethumbprint\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003etoString\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivKey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003epubKey\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003epubJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003etoKey\u003c/span\u003e());\n\n\u003cspan class=\"pl-smi\"\u003ebyte\u003c/span\u003e[] \u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eJacksonSerializer\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eserialize\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e); \u003cspan class=\"pl-c\"\u003e// or GsonSerializer(), etc\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e = \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eString\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eutf8Bytes\u003c/span\u003e, \u003cspan class=\"pl-smi\"\u003eStandardCharsets\u003c/span\u003e.\u003cspan class=\"pl-c1\"\u003eUTF_8\u003c/span\u003e);\n\u003cspan class=\"pl-smi\"\u003eJwk\u003c/span\u003e\u0026lt;?\u0026gt; \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e = \u003cspan class=\"pl-smi\"\u003eJwks\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eparser\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003ebuild\u003c/span\u003e().\u003cspan class=\"pl-en\"\u003eparse\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003ejwkJson\u003c/span\u003e);\n\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eOctetPrivateJwk\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003eassert\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eprivJwk\u003c/span\u003e.\u003cspan class=\"pl-en\"\u003eequals\u003c/span\u003e(\u003cspan class=\"pl-s1\"\u003eparsed\u003c/span\u003e);\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-learn-more\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eLearn More\u003c/h2\u003e\u003ca id=\"user-content-learn-more\" class=\"anchor\" aria-label=\"Permalink: Learn More\" href=\"#learn-more\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://web.archive.org/web/20230427122653/https://stormpath.com/blog/jjwt-how-it-works-why\" rel=\"nofollow\"\u003eJSON Web Token for Java and Android\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://web.archive.org/web/20230426235608/https://stormpath.com/blog/jwt-java-create-verify\" rel=\"nofollow\"\u003eHow to Create and Verify JWTs in Java\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://web.archive.org/web/20230428094039/https://stormpath.com/blog/where-to-store-your-jwts-cookies-vs-html5-web-storage\" rel=\"nofollow\"\u003eWhere to Store Your JWTs - Cookies vs HTML5 Web Storage\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://web.archive.org/web/20230428184004/https://stormpath.com/blog/jwt-the-right-way\" rel=\"nofollow\"\u003eUse JWT the Right Way!\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://web.archive.org/web/20230427151310/https://stormpath.com/blog/token-auth-for-java\" rel=\"nofollow\"\u003eToken Authentication for Java Applications\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"/jwtk/jjwt/blob/master/CHANGELOG.adoc\"\u003eJJWT Changelog\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-author\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAuthor\u003c/h2\u003e\u003ca id=\"user-content-author\" class=\"anchor\" aria-label=\"Permalink: Author\" href=\"#author\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eMaintained by Les Hazlewood \u0026amp; the extended Java community ❤️\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-license\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 id=\"user-content-license\" tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eLicense\u003c/h2\u003e\u003ca id=\"user-content-license\" class=\"anchor\" aria-label=\"Permalink: License\" href=\"#license\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cdiv dir=\"auto\"\u003e\n\u003cp dir=\"auto\"\u003eThis project is open-source via the \u003ca href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\"\u003eApache 2.0 License\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/article\u003e","loaded":true,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":[{"level":1,"text":"Java JWT: JSON Web Token for Java and Android","anchor":"java-jwt-json-web-token-for-java-and-android","htmlText":"Java JWT: JSON Web Token for Java and Android"},{"level":2,"text":"Table of Contents","anchor":"table-of-contents","htmlText":"Table of Contents"},{"level":2,"text":"Features","anchor":"features","htmlText":"Features"},{"level":3,"text":"Currently Unsupported Features","anchor":"currently-unsupported-features","htmlText":"Currently Unsupported Features"},{"level":2,"text":"Community","anchor":"community","htmlText":"Community"},{"level":3,"text":"Getting Help","anchor":"getting-help","htmlText":"Getting Help"},{"level":4,"text":"Questions","anchor":"questions","htmlText":"Questions"},{"level":4,"text":"Bugs, Feature Requests, Ideas and General Discussions","anchor":"bugs-feature-requests-ideas-and-general-discussions","htmlText":"Bugs, Feature Requests, Ideas and General Discussions"},{"level":3,"text":"Contributing","anchor":"contributing","htmlText":"Contributing"},{"level":4,"text":"Pull Requests","anchor":"pull-requests","htmlText":"Pull Requests"},{"level":4,"text":"Help Wanted","anchor":"help-wanted","htmlText":"Help Wanted"},{"level":2,"text":"What is a JSON Web Token?","anchor":"what-is-a-json-web-token","htmlText":"What is a JSON Web Token?"},{"level":3,"text":"JWT Example","anchor":"jwt-example","htmlText":"JWT Example"},{"level":3,"text":"JWS Example","anchor":"jws-example","htmlText":"JWS Example"},{"level":3,"text":"JWE Example","anchor":"jwe-example","htmlText":"JWE Example"},{"level":2,"text":"Installation","anchor":"installation","htmlText":"Installation"},{"level":3,"text":"JDK Projects","anchor":"jdk-projects","htmlText":"JDK Projects"},{"level":4,"text":"Maven","anchor":"maven","htmlText":"Maven"},{"level":4,"text":"Gradle","anchor":"gradle","htmlText":"Gradle"},{"level":3,"text":"Android Projects","anchor":"android-projects","htmlText":"Android Projects"},{"level":4,"text":"Dependencies","anchor":"dependencies","htmlText":"Dependencies"},{"level":4,"text":"Proguard","anchor":"proguard","htmlText":"Proguard"},{"level":4,"text":"Bouncy Castle","anchor":"bouncy-castle","htmlText":"Bouncy Castle"},{"level":3,"text":"Understanding JJWT Dependencies","anchor":"understanding-jjwt-dependencies","htmlText":"Understanding JJWT Dependencies"},{"level":2,"text":"Quickstart","anchor":"quickstart","htmlText":"Quickstart"},{"level":2,"text":"Creating a JWT","anchor":"creating-a-jwt","htmlText":"Creating a JWT"},{"level":3,"text":"JWT Header","anchor":"jwt-header","htmlText":"JWT Header"},{"level":4,"text":"JwtBuilder Header","anchor":"jwtbuilder-header","htmlText":"JwtBuilder Header"},{"level":5,"text":"Custom Header Parameters","anchor":"custom-header-parameters","htmlText":"Custom Header Parameters"},{"level":5,"text":"Header Parameter Map","anchor":"header-parameter-map","htmlText":"Header Parameter Map"},{"level":4,"text":"Jwts HeaderBuilder","anchor":"jwts-headerbuilder","htmlText":"Jwts HeaderBuilder"},{"level":3,"text":"JWT Payload","anchor":"jwt-payload","htmlText":"JWT Payload"},{"level":4,"text":"Arbitrary Content","anchor":"arbitrary-content","htmlText":"Arbitrary Content"},{"level":4,"text":"JWT Claims","anchor":"jwt-claims","htmlText":"JWT Claims"},{"level":5,"text":"Standard Claims","anchor":"standard-claims","htmlText":"Standard Claims"},{"level":5,"text":"Custom Claims","anchor":"custom-claims","htmlText":"Custom Claims"},{"level":5,"text":"Claims Map","anchor":"claims-map","htmlText":"Claims Map"},{"level":3,"text":"JWT Compression","anchor":"jwt-compression","htmlText":"JWT Compression"},{"level":2,"text":"Reading a JWT","anchor":"reading-a-jwt","htmlText":"Reading a JWT"},{"level":3,"text":"Constant Parsing Key","anchor":"constant-parsing-key","htmlText":"Constant Parsing Key"},{"level":4,"text":"Multiple Keys?","anchor":"multiple-keys","htmlText":"Multiple Keys?"},{"level":3,"text":"Dynamic Key Lookup","anchor":"dynamic-key-lookup","htmlText":"Dynamic Key Lookup"},{"level":4,"text":"Key Locator","anchor":"key-locator","htmlText":"Key Locator"},{"level":4,"text":"Key Locator Strategy","anchor":"key-locator-strategy","htmlText":"Key Locator Strategy"},{"level":4,"text":"Key Locator Return Values","anchor":"key-locator-return-values","htmlText":"Key Locator Return Values"},{"level":4,"text":"Provider-constrained Keys","anchor":"provider-constrained-keys","htmlText":"Provider-constrained Keys"},{"level":3,"text":"Claim Assertions","anchor":"claim-assertions","htmlText":"Claim Assertions"},{"level":3,"text":"Accounting for Clock Skew","anchor":"accounting-for-clock-skew","htmlText":"Accounting for Clock Skew"},{"level":4,"text":"Custom Clock Support","anchor":"custom-clock-support","htmlText":"Custom Clock Support"},{"level":3,"text":"JWT Decompression","anchor":"jwt-decompression","htmlText":"JWT Decompression"},{"level":2,"text":"Signed JWTs","anchor":"signed-jwts","htmlText":"Signed JWTs"},{"level":3,"text":"Standard Signature Algorithms","anchor":"standard-signature-algorithms","htmlText":"Standard Signature Algorithms"},{"level":3,"text":"Signature Algorithms Keys","anchor":"signature-algorithms-keys","htmlText":"Signature Algorithms Keys"},{"level":4,"text":"HMAC-SHA","anchor":"hmac-sha","htmlText":"HMAC-SHA"},{"level":4,"text":"RSA","anchor":"rsa","htmlText":"RSA"},{"level":4,"text":"Elliptic Curve","anchor":"elliptic-curve","htmlText":"Elliptic Curve"},{"level":4,"text":"Edwards Curve","anchor":"edwards-curve","htmlText":"Edwards Curve"},{"level":4,"text":"Creating Safe Keys","anchor":"creating-safe-keys","htmlText":"Creating Safe Keys"},{"level":5,"text":"Secret Keys","anchor":"secret-keys","htmlText":"Secret Keys"},{"level":5,"text":"Asymmetric Keys","anchor":"asymmetric-keys","htmlText":"Asymmetric Keys"},{"level":3,"text":"Creating a JWS","anchor":"creating-a-jws","htmlText":"Creating a JWS"},{"level":4,"text":"Signing Key","anchor":"signing-key","htmlText":"Signing Key"},{"level":5,"text":"SecretKey Formats","anchor":"secretkey-formats","htmlText":"SecretKey Formats"},{"level":5,"text":"SignatureAlgorithm Override","anchor":"signaturealgorithm-override","htmlText":"SignatureAlgorithm Override"},{"level":4,"text":"JWS Compression","anchor":"jws-compression","htmlText":"JWS Compression"},{"level":3,"text":"Reading a JWS","anchor":"reading-a-jws","htmlText":"Reading a JWS"},{"level":4,"text":"Verification Key","anchor":"verification-key","htmlText":"Verification Key"},{"level":4,"text":"Verification Key Locator","anchor":"verification-key-locator","htmlText":"Verification Key Locator"},{"level":4,"text":"JWS Decompression","anchor":"jws-decompression","htmlText":"JWS Decompression"},{"level":3,"text":"Unencoded Payload Option","anchor":"unencoded-payload-option","htmlText":"Unencoded Payload Option"},{"level":4,"text":"Benefits","anchor":"benefits","htmlText":"Benefits"},{"level":4,"text":"Disadvantages","anchor":"disadvantages","htmlText":"Disadvantages"},{"level":4,"text":"Detached Payload Example","anchor":"detached-payload-example","htmlText":"Detached Payload Example"},{"level":4,"text":"Non-Detached Payload Example","anchor":"non-detached-payload-example","htmlText":"Non-Detached Payload Example"},{"level":2,"text":"Encrypted JWTs","anchor":"encrypted-jwts","htmlText":"Encrypted JWTs"},{"level":3,"text":"JWE Encryption Algorithms","anchor":"jwe-encryption-algorithms","htmlText":"JWE Encryption Algorithms"},{"level":4,"text":"Symmetric Ciphers","anchor":"symmetric-ciphers","htmlText":"Symmetric Ciphers"},{"level":3,"text":"JWE Key Management Algorithms","anchor":"jwe-key-management-algorithms","htmlText":"JWE Key Management Algorithms"},{"level":4,"text":"JWE Standard Key Management Algorithms","anchor":"jwe-standard-key-management-algorithms","htmlText":"JWE Standard Key Management Algorithms"},{"level":5,"text":"RSA Key Encryption","anchor":"rsa-key-encryption","htmlText":"RSA Key Encryption"},{"level":5,"text":"AES Key Encryption","anchor":"aes-key-encryption","htmlText":"AES Key Encryption"},{"level":5,"text":"Direct Key Encryption","anchor":"direct-key-encryption","htmlText":"Direct Key Encryption"},{"level":5,"text":"Password-Based Key Encryption","anchor":"password-based-key-encryption","htmlText":"Password-Based Key Encryption"},{"level":5,"text":"Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)","anchor":"elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es","htmlText":"Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)"},{"level":3,"text":"Creating a JWE","anchor":"creating-a-jwe","htmlText":"Creating a JWE"},{"level":4,"text":"JWE Compression","anchor":"jwe-compression","htmlText":"JWE Compression"},{"level":3,"text":"Reading a JWE","anchor":"reading-a-jwe","htmlText":"Reading a JWE"},{"level":4,"text":"Decryption Key","anchor":"decryption-key","htmlText":"Decryption Key"},{"level":4,"text":"Decryption Key Locator","anchor":"decryption-key-locator","htmlText":"Decryption Key Locator"},{"level":4,"text":"ECDH-ES Decryption with PKCS11 PrivateKeys","anchor":"ecdh-es-decryption-with-pkcs11-privatekeys","htmlText":"ECDH-ES Decryption with PKCS11 PrivateKeys"},{"level":4,"text":"JWE Decompression","anchor":"jwe-decompression","htmlText":"JWE Decompression"},{"level":2,"text":"JSON Web Keys (JWKs)","anchor":"json-web-keys-jwks","htmlText":"JSON Web Keys (JWKs)"},{"level":3,"text":"Create a JWK","anchor":"create-a-jwk","htmlText":"Create a JWK"},{"level":4,"text":"JWK from a Map","anchor":"jwk-from-a-map","htmlText":"JWK from a Map"},{"level":3,"text":"Read a JWK","anchor":"read-a-jwk","htmlText":"Read a JWK"},{"level":3,"text":"PrivateKey JWKs","anchor":"privatekey-jwks","htmlText":"PrivateKey JWKs"},{"level":4,"text":"Private JWK PublicKey","anchor":"private-jwk-publickey","htmlText":"Private JWK PublicKey"},{"level":4,"text":"Private JWK from KeyPair","anchor":"private-jwk-from-keypair","htmlText":"Private JWK from KeyPair"},{"level":4,"text":"Private JWK Public Conversion","anchor":"private-jwk-public-conversion","htmlText":"Private JWK Public Conversion"},{"level":3,"text":"JWK Thumbprints","anchor":"jwk-thumbprints","htmlText":"JWK Thumbprints"},{"level":4,"text":"JWK Thumbprint as a Key ID","anchor":"jwk-thumbprint-as-a-key-id","htmlText":"JWK Thumbprint as a Key ID"},{"level":4,"text":"JWK Thumbprint URI","anchor":"jwk-thumbprint-uri","htmlText":"JWK Thumbprint URI"},{"level":3,"text":"JWK Security Considerations","anchor":"jwk-security-considerations","htmlText":"JWK Security Considerations"},{"level":4,"text":"JWK toString() Safety","anchor":"jwk-tostring-safety","htmlText":"JWK toString() Safety"},{"level":2,"text":"JWK Sets","anchor":"jwk-sets","htmlText":"JWK Sets"},{"level":3,"text":"Create a JWK Set","anchor":"create-a-jwk-set","htmlText":"Create a JWK Set"},{"level":3,"text":"Read a JWK Set","anchor":"read-a-jwk-set","htmlText":"Read a JWK Set"},{"level":2,"text":"Compression","anchor":"compression","htmlText":"Compression"},{"level":3,"text":"Custom Compression Algorithm","anchor":"custom-compression-algorithm","htmlText":"Custom Compression Algorithm"},{"level":2,"text":"JSON Support","anchor":"json-support","htmlText":"JSON Support"},{"level":3,"text":"Custom JSON Processor","anchor":"custom-json-processor","htmlText":"Custom JSON Processor"},{"level":3,"text":"Jackson JSON Processor","anchor":"jackson-json-processor","htmlText":"Jackson JSON Processor"},{"level":4,"text":"Parsing of Custom Claim Types","anchor":"parsing-of-custom-claim-types","htmlText":"Parsing of Custom Claim Types"},{"level":3,"text":"Gson JSON Processor","anchor":"gson-json-processor","htmlText":"Gson JSON Processor"},{"level":2,"text":"Base64 Support","anchor":"base64-support","htmlText":"Base64 Support"},{"level":3,"text":"Understanding Base64 in Security Contexts","anchor":"understanding-base64-in-security-contexts","htmlText":"Understanding Base64 in Security Contexts"},{"level":4,"text":"Base64 is not encryption","anchor":"base64-is-not-encryption","htmlText":"Base64 is not encryption"},{"level":4,"text":"Changing Base64 Characters","anchor":"changing-base64-characters","htmlText":"Changing Base64 Characters"},{"level":5,"text":"Adding Invalid Characters","anchor":"adding-invalid-characters","htmlText":"Adding Invalid Characters"},{"level":3,"text":"Custom Base64","anchor":"custom-base64","htmlText":"Custom Base64"},{"level":2,"text":"Examples","anchor":"examples","htmlText":"Examples"},{"level":3,"text":"JWT Signed with HMAC","anchor":"jwt-signed-with-hmac","htmlText":"JWT Signed with HMAC"},{"level":3,"text":"JWT Signed with RSA","anchor":"jwt-signed-with-rsa","htmlText":"JWT Signed with RSA"},{"level":3,"text":"JWT Signed with ECDSA","anchor":"jwt-signed-with-ecdsa","htmlText":"JWT Signed with ECDSA"},{"level":3,"text":"JWT Signed with EdDSA","anchor":"jwt-signed-with-eddsa","htmlText":"JWT Signed with EdDSA"},{"level":3,"text":"JWT Encrypted Directly with a SecretKey","anchor":"jwt-encrypted-directly-with-a-secretkey","htmlText":"JWT Encrypted Directly with a SecretKey"},{"level":3,"text":"JWT Encrypted with RSA","anchor":"jwt-encrypted-with-rsa","htmlText":"JWT Encrypted with RSA"},{"level":3,"text":"JWT Encrypted with AES Key Wrap","anchor":"jwt-encrypted-with-aes-key-wrap","htmlText":"JWT Encrypted with AES Key Wrap"},{"level":3,"text":"JWT Encrypted with ECDH-ES","anchor":"jwt-encrypted-with-ecdh-es","htmlText":"JWT Encrypted with ECDH-ES"},{"level":3,"text":"JWT Encrypted with a Password","anchor":"jwt-encrypted-with-a-password","htmlText":"JWT Encrypted with a Password"},{"level":3,"text":"SecretKey JWK","anchor":"secretkey-jwk","htmlText":"SecretKey JWK"},{"level":3,"text":"RSA Public JWK","anchor":"rsa-public-jwk","htmlText":"RSA Public JWK"},{"level":3,"text":"RSA Private JWK","anchor":"rsa-private-jwk","htmlText":"RSA Private JWK"},{"level":3,"text":"Elliptic Curve Public JWK","anchor":"elliptic-curve-public-jwk","htmlText":"Elliptic Curve Public JWK"},{"level":3,"text":"Elliptic Curve Private JWK","anchor":"elliptic-curve-private-jwk","htmlText":"Elliptic Curve Private JWK"},{"level":3,"text":"Edwards Elliptic Curve Public JWK","anchor":"edwards-elliptic-curve-public-jwk","htmlText":"Edwards Elliptic Curve Public JWK"},{"level":3,"text":"Edwards Elliptic Curve Private JWK","anchor":"edwards-elliptic-curve-private-jwk","htmlText":"Edwards Elliptic Curve Private JWK"},{"level":2,"text":"Learn More","anchor":"learn-more","htmlText":"Learn More"},{"level":2,"text":"Author","anchor":"author","htmlText":"Author"},{"level":2,"text":"License","anchor":"license","htmlText":"License"}],"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt"}},{"displayName":"LICENSE","repoName":"jjwt","refName":"master","path":"LICENSE","preferredFileType":"license","tabName":"License","richText":null,"loaded":false,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":null,"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt"}},{"displayName":"SECURITY.md","repoName":"jjwt","refName":"master","path":"SECURITY.md","preferredFileType":"security","tabName":"Security","richText":null,"loaded":false,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":null,"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt"}}],"overviewFilesProcessingTime":0}},"appPayload":{"helpUrl":"https://docs.github.com","findFileWorkerPath":"/assets-cdn/worker/find-file-worker-9f8a877aa99f.js","findInFileWorkerPath":"/assets-cdn/worker/find-in-file-worker-eb3d353f90ce.js","githubDevUrl":null,"enabled_features":{"copilot_workspace":null,"code_nav_ui_events":false,"overview_shared_code_dropdown_button":false,"react_blob_overlay":false,"copilot_conversational_ux_embedding_update":false,"copilot_smell_icebreaker_ux":true,"accessible_code_button":true}}}}</script>
  <div data-target="react-partial.reactRoot"><style data-styled="true" data-styled-version="5.3.11">.iVEunk{margin-top:16px;margin-bottom:16px;}/*!sc*/
.jzuOtQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.bGojzy{margin-bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:16px;}/*!sc*/
.iNSVHo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:16px;padding-top:8px;}/*!sc*/
.bVgnfw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:8px;}/*!sc*/
@media screen and (max-width:320px){.bVgnfw{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}}/*!sc*/
.CEgMp{position:relative;}/*!sc*/
@media screen and (max-width:380px){.CEgMp .ref-selector-button-text-container{max-width:80px;}}/*!sc*/
@media screen and (max-width:320px){.CEgMp{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.CEgMp .overview-ref-selector{width:100%;}.CEgMp .overview-ref-selector > span{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.CEgMp .overview-ref-selector > span > span[data-component="text"]{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}}/*!sc*/
.gMOVLe[data-size="medium"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-width:0;}/*!sc*/
.gMOVLe[data-size="medium"] svg{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/
.gMOVLe[data-size="medium"] > span{width:inherit;}/*!sc*/
.gUkoLg{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
.bZBlpz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}/*!sc*/
.lhTYNA{margin-right:4px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/
.ffLUq{font-size:14px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}/*!sc*/
.fLXEGX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (max-width:1079px){.fLXEGX{display:none;}}/*!sc*/
.lmSMZJ[data-size="medium"]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));padding-left:4px;padding-right:4px;}/*!sc*/
.lmSMZJ[data-size="medium"] span[data-component="leadingVisual"]{margin-right:4px !important;}/*!sc*/
.dqfxud{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (min-width:1080px){.dqfxud{display:none;}}/*!sc*/
@media screen and (max-width:543px){.dqfxud{display:none;}}/*!sc*/
.fGwBZA[data-size="medium"][data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/
.jxTzTd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:8px;gap:8px;}/*!sc*/
.gqqBXN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;}/*!sc*/
@media screen and (max-width:543px){.gqqBXN{display:none;}}/*!sc*/
.dzXgxt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (max-width:1011px){.dzXgxt{display:none;}}/*!sc*/
.iWFGlI{margin-left:8px;margin-right:8px;margin:0;}/*!sc*/
.YUPas{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (min-width:1012px){.YUPas{display:none;}}/*!sc*/
.izFOf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
@media screen and (min-width:544px){.izFOf{display:none;}}/*!sc*/
.vIPPs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:16px;}/*!sc*/
.fdROMU{width:100%;border-collapse:separate;border-spacing:0;border:1px solid;border-color:var(--borderColor-default,var(--color-border-default,#d0d7de));border-radius:6px;table-layout:fixed;overflow:unset;}/*!sc*/
.jGKpsv{height:0px;line-height:0px;}/*!sc*/
.jGKpsv tr{height:0px;font-size:0px;}/*!sc*/
.jdgHnn{padding:16px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));font-size:12px;text-align:left;height:40px;}/*!sc*/
.jdgHnn th{padding-left:16px;background-color:var(--bgColor-muted,var(--color-canvas-subtle,#f6f8fa));}/*!sc*/
.bQivRW{width:100%;border-top-left-radius:6px;}/*!sc*/
@media screen and (min-width:544px){.bQivRW{display:none;}}/*!sc*/
.ldkMIO{width:40%;border-top-left-radius:6px;}/*!sc*/
@media screen and (max-width:543px){.ldkMIO{display:none;}}/*!sc*/
.jMbWeI{text-align:right;padding-right:16px;width:136px;border-top-right-radius:6px;}/*!sc*/
.gpqjiB{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));font-size:12px;height:40px;}/*!sc*/
.dzCJzi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;min-width:273px;padding:8px;}/*!sc*/
@media screen and (min-width:544px){.dzCJzi{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}}/*!sc*/
.eNCcrz{text-align:center;vertical-align:center;height:40px;border-top:1px solid;border-color:var(--borderColor-default,var(--color-border-default,#d0d7de));}/*!sc*/
.bHTcCe{border-top:1px solid var(--borderColor-default,var(--color-border-default));cursor:pointer;}/*!sc*/
.csrIcr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;gap:16px;}/*!sc*/
.bUQNHB{border:1px solid;border-color:var(--borderColor-default,var(--color-border-default,#d0d7de));border-radius:6px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}/*!sc*/
@media screen and (max-width:543px){.bUQNHB{margin-left:-16px;margin-right:-16px;max-width:calc(100% + 32px);}}/*!sc*/
@media screen and (min-width:544px){.bUQNHB{max-width:100%;}}/*!sc*/
.jPdcfu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:1px solid;border-bottom-color:var(--borderColor-default,var(--color-border-default,#d0d7de));-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-right:8px;position:-webkit-sticky;position:sticky;top:0;background-color:var(--bgColor-default,var(--color-canvas-default,#ffffff));z-index:1;border-top-left-radius:6px;border-top-right-radius:6px;}/*!sc*/
.hUCRAk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.cwoBXV[data-size="medium"]{color:var(--fgColor-muted,var(--color-fg-subtle,#6e7781));padding-left:8px;padding-right:8px;}/*!sc*/
.QkQOb{padding:32px;overflow:auto;}/*!sc*/
data-styled.g1[id="Box-sc-g0xbh4-0"]{content:"iVEunk,jzuOtQ,bGojzy,iNSVHo,bVgnfw,CEgMp,gMOVLe,gUkoLg,bZBlpz,lhTYNA,ffLUq,fLXEGX,lmSMZJ,dqfxud,fGwBZA,jxTzTd,gqqBXN,dzXgxt,iWFGlI,YUPas,izFOf,vIPPs,fdROMU,jGKpsv,jdgHnn,bQivRW,ldkMIO,jMbWeI,gpqjiB,dzCJzi,eNCcrz,bHTcCe,csrIcr,bUQNHB,jPdcfu,hUCRAk,cwoBXV,QkQOb,"}/*!sc*/
.eMMFM{min-width:0;}/*!sc*/
.eMMFM:where([data-size='small']){font-size:var(--text-body-size-small,0.75rem);line-height:var(--text-body-lineHeight-small,1.6666);}/*!sc*/
.eMMFM:where([data-size='medium']){font-size:var(--text-body-size-medium,0.875rem);line-height:var(--text-body-lineHeight-medium,1.4285);}/*!sc*/
.eMMFM:where([data-size='large']){font-size:var(--text-body-size-large,1rem);line-height:var(--text-body-lineHeight-large,1.5);}/*!sc*/
.eMMFM:where([data-weight='light']){font-weight:var(--base-text-weight-light,300);}/*!sc*/
.eMMFM:where([data-weight='normal']){font-weight:var(--base-text-weight-normal,400);}/*!sc*/
.eMMFM:where([data-weight='medium']){font-weight:var(--base-text-weight-medium,500);}/*!sc*/
.eMMFM:where([data-weight='semibold']){font-weight:var(--base-text-weight-semibold,600);}/*!sc*/
data-styled.g3[id="Text__StyledText-sc-17v1xeu-0"]{content:"eMMFM,"}/*!sc*/
.brGdpi{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}/*!sc*/
data-styled.g4[id="_VisuallyHidden__VisuallyHidden-sc-11jhm7a-0"]{content:"brGdpi,"}/*!sc*/
.jkNcAv{border:0;font-size:inherit;font-family:inherit;background-color:transparent;-webkit-appearance:none;color:inherit;width:100%;}/*!sc*/
.jkNcAv:focus{outline:0;}/*!sc*/
data-styled.g14[id="UnstyledTextInput__ToggledUnstyledTextInput-sc-14ypya-0"]{content:"jkNcAv,"}/*!sc*/
.hLzFvi{font-size:14px;line-height:var(--base-size-20);color:var(--fgColor-default,var(--color-fg-default,#1F2328));vertical-align:middle;background-color:var(--bgColor-default,var(--color-canvas-default,#ffffff));border:1px solid var(--control-borderColor-rest,var(--borderColor-default,var(--color-border-default,#d0d7de)));border-radius:6px;outline:none;box-shadow:var(--shadow-inset,var(--color-primer-shadow-inset,inset 0 1px 0 rgba(208,215,222,0.2)));display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;min-height:var(--base-size-32);overflow:hidden;--inner-action-size:var(--base-size-24);}/*!sc*/
.hLzFvi input,.hLzFvi textarea{cursor:text;}/*!sc*/
.hLzFvi select{cursor:pointer;}/*!sc*/
.hLzFvi input::-webkit-input-placeholder,.hLzFvi textarea::-webkit-input-placeholder,.hLzFvi select::-webkit-input-placeholder{color:var(---control-fgColor-placeholder,var(--fgColor-muted,var(--color-fg-muted,#656d76)));}/*!sc*/
.hLzFvi input::-moz-placeholder,.hLzFvi textarea::-moz-placeholder,.hLzFvi select::-moz-placeholder{color:var(---control-fgColor-placeholder,var(--fgColor-muted,var(--color-fg-muted,#656d76)));}/*!sc*/
.hLzFvi input:-ms-input-placeholder,.hLzFvi textarea:-ms-input-placeholder,.hLzFvi select:-ms-input-placeholder{color:var(---control-fgColor-placeholder,var(--fgColor-muted,var(--color-fg-muted,#656d76)));}/*!sc*/
.hLzFvi input::placeholder,.hLzFvi textarea::placeholder,.hLzFvi select::placeholder{color:var(---control-fgColor-placeholder,var(--fgColor-muted,var(--color-fg-muted,#656d76)));}/*!sc*/
.hLzFvi:where([data-trailing-action][data-focused]),.hLzFvi:where(:not([data-trailing-action]):focus-within){border-color:var(--fgColor-accent,var(--color-accent-fg,#0969da));outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-1px;}/*!sc*/
.hLzFvi > textarea{padding:var(--base-size-12);}/*!sc*/
.hLzFvi:where([data-contrast]){background-color:var(--bgColor-inset,var(--color-canvas-inset,#f6f8fa));}/*!sc*/
.hLzFvi:where([data-disabled]){color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));background-color:var(--control-bgColor-disabled,var(--color-input-disabled-bg,rgba(175,184,193,0.2)));box-shadow:none;border-color:var(--control-borderColor-disabled,var(--borderColor-default,var(--color-border-default,#d0d7de)));}/*!sc*/
.hLzFvi:where([data-disabled]) input,.hLzFvi:where([data-disabled]) textarea,.hLzFvi:where([data-disabled]) select{cursor:not-allowed;}/*!sc*/
.hLzFvi:where([data-monospace]){font-family:var(--fontStack-monospace,SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace);}/*!sc*/
.hLzFvi:where([data-validation='error']){border-color:var(--borderColor-danger-emphasis,var(--color-danger-emphasis,#cf222e));}/*!sc*/
.hLzFvi:where([data-validation='error']):where([data-trailing-action][data-focused]),.hLzFvi:where([data-validation='error']):where(:not([data-trailing-action])):focus-within{border-color:var(--fgColor-accent,var(--color-accent-fg,#0969da));outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-1px;}/*!sc*/
.hLzFvi:where([data-validation='success']){border-color:var(--bgColor-success-emphasis,var(--color-success-emphasis,#1f883d));}/*!sc*/
.hLzFvi:where([data-block]){width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;}/*!sc*/
@media (min-width:768px){.hLzFvi{font-size:var(--text-body-size-medium);}}/*!sc*/
.hLzFvi:where([data-size='small']){--inner-action-size:var(--base-size-20);min-height:var(--base-size-28);padding-top:3px;padding-right:var(--base-size-8);padding-bottom:3px;padding-left:var(--base-size-8);font-size:var(--text-body-size-small);line-height:var(--base-size-20);}/*!sc*/
.hLzFvi:where([data-size='large']){--inner-action-size:var(--base-size-28);height:var(--base-size-40);padding-top:10px;padding-right:var(--base-size-8);padding-bottom:10px;padding-left:var(--base-size-8);}/*!sc*/
.hLzFvi:where([data-variant='small']){min-height:28px;padding-top:3px;padding-right:var(--base-size-8);padding-bottom:3px;padding-left:var(--base-size-8);font-size:(--text-body-size-small);line-height:var(--base-size-20);}/*!sc*/
.hLzFvi:where([data-variant='large']){padding-top:10px;padding-right:var(--base-size-8);padding-bottom:10px;padding-left:var(--base-size-8);font-size:var(--text-title-size-medium);}/*!sc*/
.hLzFvi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-width:160px;}/*!sc*/
data-styled.g15[id="TextInputWrapper__StyledTextInputBaseWrapper-sc-1mqhpbi-0"]{content:"hLzFvi,"}/*!sc*/
.iHYdQq{background-repeat:no-repeat;background-position:right 8px center;padding-right:0;padding-left:0;}/*!sc*/
.iHYdQq > :not(:last-child){margin-right:8px;}/*!sc*/
.iHYdQq .TextInput-icon,.iHYdQq .TextInput-action{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}/*!sc*/
.iHYdQq > input,.iHYdQq > select{padding-right:0;padding-left:0;}/*!sc*/
.iHYdQq:where([data-leading-visual]){padding-left:var(--base-size-12);}/*!sc*/
.iHYdQq:where([data-trailing-visual]:not([data-trailing-action])){padding-right:var(--base-size-12);}/*!sc*/
.iHYdQq:where(:not([data-leading-visual])) > input,.iHYdQq:where(:not([data-leading-visual])) > select{padding-left:var(--base-size-12);}/*!sc*/
.iHYdQq:where(:not([data-trailing-visual]):not([data-trailing-action])) > input,.iHYdQq:where(:not([data-trailing-visual]):not([data-trailing-action])) > select{padding-right:var(--base-size-12);}/*!sc*/
.iHYdQq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-width:160px;}/*!sc*/
data-styled.g16[id="TextInputWrapper__StyledTextInputWrapper-sc-1mqhpbi-1"]{content:"iHYdQq,"}/*!sc*/
.hWlpPn{position:relative;display:inline-block;}/*!sc*/
.hWlpPn::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";-webkit-font-smoothing:subpixel-antialiased;color:var(--tooltip-fgColor,var(--fgColor-onEmphasis,var(--color-fg-on-emphasis,#ffffff)));text-align:center;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(aria-label);background:var(--tooltip-bgColor,var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f)));border-radius:6px;opacity:0;}/*!sc*/
@-webkit-keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}/*!sc*/
@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}/*!sc*/
.hWlpPn:hover::after,.hWlpPn:active::after,.hWlpPn:focus::after,.hWlpPn:focus-within::after{display:inline-block;-webkit-text-decoration:none;text-decoration:none;-webkit-animation-name:tooltip-appear;animation-name:tooltip-appear;-webkit-animation-duration:0.1s;animation-duration:0.1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-delay:0s;animation-delay:0s;}/*!sc*/
.hWlpPn.tooltipped-no-delay:hover::after,.hWlpPn.tooltipped-no-delay:active::after,.hWlpPn.tooltipped-no-delay:focus::after,.hWlpPn.tooltipped-no-delay:focus-within::after{-webkit-animation-delay:0s;animation-delay:0s;}/*!sc*/
.hWlpPn.tooltipped-multiline:hover::after,.hWlpPn.tooltipped-multiline:active::after,.hWlpPn.tooltipped-multiline:focus::after,.hWlpPn.tooltipped-multiline:focus-within::after{display:table-cell;}/*!sc*/
.hWlpPn.tooltipped-s::after,.hWlpPn.tooltipped-se::after,.hWlpPn.tooltipped-sw::after{top:100%;right:50%;margin-top:6px;}/*!sc*/
.hWlpPn.tooltipped-se::after{right:auto;left:50%;margin-left:-16px;}/*!sc*/
.hWlpPn.tooltipped-sw::after{margin-right:-16px;}/*!sc*/
.hWlpPn.tooltipped-n::after,.hWlpPn.tooltipped-ne::after,.hWlpPn.tooltipped-nw::after{right:50%;bottom:100%;margin-bottom:6px;}/*!sc*/
.hWlpPn.tooltipped-ne::after{right:auto;left:50%;margin-left:-16px;}/*!sc*/
.hWlpPn.tooltipped-nw::after{margin-right:-16px;}/*!sc*/
.hWlpPn.tooltipped-s::after,.hWlpPn.tooltipped-n::after{-webkit-transform:translateX(50%);-ms-transform:translateX(50%);transform:translateX(50%);}/*!sc*/
.hWlpPn.tooltipped-w::after{right:100%;bottom:50%;margin-right:6px;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);}/*!sc*/
.hWlpPn.tooltipped-e::after{bottom:50%;left:100%;margin-left:6px;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);}/*!sc*/
.hWlpPn.tooltipped-multiline::after{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:250px;word-wrap:break-word;white-space:pre-line;border-collapse:separate;}/*!sc*/
.hWlpPn.tooltipped-multiline.tooltipped-s::after,.hWlpPn.tooltipped-multiline.tooltipped-n::after{right:auto;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}/*!sc*/
.hWlpPn.tooltipped-multiline.tooltipped-w::after,.hWlpPn.tooltipped-multiline.tooltipped-e::after{right:100%;}/*!sc*/
.hWlpPn.tooltipped-align-right-2::after{right:0;margin-right:0;}/*!sc*/
.hWlpPn.tooltipped-align-left-2::after{left:0;margin-left:0;}/*!sc*/
data-styled.g18[id="Tooltip__TooltipBase-sc-17tf59c-0"]{content:"hWlpPn,"}/*!sc*/
.liVpTx{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap;max-width:125px;}/*!sc*/
data-styled.g20[id="Truncate__StyledTruncate-sc-23o1d2-0"]{content:"liVpTx,"}/*!sc*/
.eBevHz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-inline:var(--stack-padding-normal,16px);-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:var(--control-xlarge-size,48px);box-shadow:inset 0px -1px var(--borderColor-muted,var(--borderColor-muted,var(--color-border-muted,hsla(210,18%,87%,1))));-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border-bottom:none;max-width:100%;padding-left:8px;padding-right:8px;}/*!sc*/
data-styled.g97[id="UnderlineTabbedInterface__StyledComponentUnderlineWrapper-sc-4ilrg0-0"]{content:"eBevHz,"}/*!sc*/
.ehEdWC{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;white-space:nowrap;padding:0;margin:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;position:relative;}/*!sc*/
data-styled.g98[id="UnderlineTabbedInterface__StyledComponentUnderlineItemList-sc-4ilrg0-1"]{content:"ehEdWC,"}/*!sc*/
.beOdPj{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;cursor:pointer;font:inherit;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:var(--fgColor-default,var(--color-fg-default,#1F2328));text-align:center;-webkit-text-decoration:none;text-decoration:none;line-height:var(--text-body-lineHeight-medium,1.4285);border-radius:var(--borderRadius-medium,6px);font-size:var(--text-body-size-medium,14px);padding-inline:var(--control-medium-paddingInline-condensed,8px);padding-block:var(--control-medium-paddingBlock,6px);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (hover:hover){.beOdPj:hover{background-color:var(--bgColor-neutral-muted,var(--bgColor-neutral-muted,var(--color-neutral-subtle,rgba(234,238,242,0.5))));-webkit-transition:background 0.12s ease-out;transition:background 0.12s ease-out;-webkit-text-decoration:none;text-decoration:none;}}/*!sc*/
.beOdPj:focus:{outline:2px solid transparent;box-shadow:inset 0 0 0 2px var(--fgColor-accent,var(--fgColor-accent,var(--color-accent-fg,#0969da)));}/*!sc*/
.beOdPj:focus::not(:focus-visible){box-shadow:none;}/*!sc*/
.beOdPj:focus-visible{outline:2px solid transparent;box-shadow:inset 0 0 0 2px var(--fgColor-accent,var(--fgColor-accent,var(--color-accent-fg,#0969da)));}/*!sc*/
.beOdPj [data-content]::before{content:attr(data-content);display:block;height:0;font-weight:var(--base-text-weight-semibold,500);visibility:hidden;white-space:nowrap;}/*!sc*/
.beOdPj [data-component='icon']{color:var(--fgColor-muted,var(--fgColor-muted,var(--color-fg-muted,#656d76)));-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin-inline-end:var(--control-medium-gap,8px);}/*!sc*/
.beOdPj [data-component='counter']{margin-inline-start:var(--control-medium-gap,8px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.beOdPj::after{position:absolute;right:50%;bottom:calc(50% - calc(var(--control-xlarge-size,48px) / 2 + 1px));width:100%;height:2px;content:'';background-color:transparent;border-radius:0;-webkit-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);transform:translate(50%,-50%);}/*!sc*/
.beOdPj[aria-current]:not([aria-current='false']) [data-component='text'],.beOdPj[aria-selected='true'] [data-component='text']{font-weight:var(--base-text-weight-semibold,500);}/*!sc*/
.beOdPj[aria-current]:not([aria-current='false'])::after,.beOdPj[aria-selected='true']::after{background-color:var(--underlineNav-borderColor-active,var(--color-primer-border-active,#fd8c73));}/*!sc*/
@media (forced-colors:active){.beOdPj[aria-current]:not([aria-current='false'])::after,.beOdPj[aria-selected='true']::after{background-color:LinkText;}}/*!sc*/
data-styled.g99[id="UnderlineTabbedInterface__StyledUnderlineItem-sc-4ilrg0-2"]{content:"beOdPj,"}/*!sc*/
</style> <!-- --> <!-- --> <div class="Box-sc-g0xbh4-0 iVEunk"><div class="Box-sc-g0xbh4-0 jzuOtQ"><div class="Box-sc-g0xbh4-0 bGojzy"></div></div><div class="Box-sc-g0xbh4-0 iNSVHo"><div class="Box-sc-g0xbh4-0 bVgnfw"><div class="Box-sc-g0xbh4-0 CEgMp"><button type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-label="master branch" data-testid="anchor-button" class="Box-sc-g0xbh4-0 gMOVLe prc-Button-ButtonBase-c50BI overview-ref-selector width-full" data-loading="false" data-size="medium" data-variant="default" aria-describedby="branch-picker-repos-header-ref-selector-loading-announcement" id="branch-picker-repos-header-ref-selector"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x"><div class="Box-sc-g0xbh4-0 bZBlpz"><div class="Box-sc-g0xbh4-0 lhTYNA"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></div><div class="Box-sc-g0xbh4-0 ffLUq ref-selector-button-text-container"><span class="Text__StyledText-sc-17v1xeu-0 eMMFM"> <!-- -->master</span></div></div></span><span data-component="trailingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></span></span></button><button hidden="" data-hotkey-scope="read-only-cursor-text-area"></button></div><div class="Box-sc-g0xbh4-0 fLXEGX"><a style="--button-color:fg.muted" type="button" href="/jwtk/jjwt/branches" class="Box-sc-g0xbh4-0 lmSMZJ prc-Button-ButtonBase-c50BI" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rclab:-loading-announcement"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Branches</span></span></a><a style="--button-color:fg.muted" type="button" href="/jwtk/jjwt/tags" class="Box-sc-g0xbh4-0 lmSMZJ prc-Button-ButtonBase-c50BI" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rklab:-loading-announcement"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Tags</span></span></a></div><div class="Box-sc-g0xbh4-0 dqfxud"><a style="--button-color:fg.muted" type="button" aria-label="Go to Branches page" href="/jwtk/jjwt/branches" class="Box-sc-g0xbh4-0 fGwBZA prc-Button-ButtonBase-c50BI" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="invisible" aria-describedby=":Relab:-loading-announcement"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></a><a style="--button-color:fg.muted" type="button" aria-label="Go to Tags page" href="/jwtk/jjwt/tags" class="Box-sc-g0xbh4-0 fGwBZA prc-Button-ButtonBase-c50BI" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="invisible" aria-describedby=":Rmlab:-loading-announcement"><svg aria-hidden="true" focusable="false" class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path></svg></a></div></div><div class="Box-sc-g0xbh4-0 jxTzTd"><div class="Box-sc-g0xbh4-0 gqqBXN"><div class="Box-sc-g0xbh4-0 dzXgxt"><!--$--><div class="Box-sc-g0xbh4-0 iWFGlI"><span class="TextInputWrapper__StyledTextInputBaseWrapper-sc-1mqhpbi-0 hLzFvi TextInputWrapper__StyledTextInputWrapper-sc-1mqhpbi-1 iHYdQq TextInput-wrapper" data-leading-visual="true" data-trailing-visual="true" aria-busy="false"><span class="TextInput-icon" id=":R2j5ab:" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-search" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path></svg></span><input type="text" aria-label="Go to file" role="combobox" aria-controls="file-results-list" aria-expanded="false" aria-haspopup="dialog" autoCorrect="off" spellcheck="false" placeholder="Go to file" aria-describedby=":R2j5ab: :R2j5abH1:" data-component="input" class="UnstyledTextInput__ToggledUnstyledTextInput-sc-14ypya-0 jkNcAv" value=""/><span class="TextInput-icon" id=":R2j5abH1:" aria-hidden="true"></span></span></div><!--/$--></div><div class="Box-sc-g0xbh4-0 YUPas"><button type="button" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":Rr5ab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x">Go to file</span></span></button></div><div class="react-directory-add-file-icon"></div><div class="react-directory-remove-file-icon"></div></div><button type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-size="medium" data-variant="primary" aria-describedby=":R55ab:-loading-announcement" id=":R55ab:"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="hide-sm" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Code</span><span data-component="trailingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></span></span></button><div class="Box-sc-g0xbh4-0 izFOf"><button data-component="IconButton" type="button" aria-label="Open more actions menu" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":R75ab:-loading-announcement" id=":R75ab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button></div></div></div><div class="Box-sc-g0xbh4-0 vIPPs"><div data-hpc="true"><button hidden="" data-testid="focus-next-element-button" data-hotkey="j"></button><button hidden="" data-testid="focus-previous-element-button" data-hotkey="k"></button><h2 class="sr-only prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading" id="folders-and-files">Folders and files</h2><table aria-labelledby="folders-and-files" class="Box-sc-g0xbh4-0 fdROMU"><thead class="Box-sc-g0xbh4-0 jGKpsv"><tr class="Box-sc-g0xbh4-0 jdgHnn"><th colSpan="2" class="Box-sc-g0xbh4-0 bQivRW"><span class="text-bold">Name</span></th><th colSpan="1" class="Box-sc-g0xbh4-0 ldkMIO"><span class="text-bold">Name</span></th><th class="hide-sm"><div title="Last commit message" class="Truncate__StyledTruncate-sc-23o1d2-0 liVpTx width-fit"><span class="text-bold">Last commit message</span></div></th><th colSpan="1" class="Box-sc-g0xbh4-0 jMbWeI"><div title="Last commit date" class="Truncate__StyledTruncate-sc-23o1d2-0 liVpTx width-fit"><span class="text-bold">Last commit date</span></div></th></tr></thead><tbody><tr class="Box-sc-g0xbh4-0 gpqjiB"><td colSpan="3" class="bgColor-muted p-1 rounded-top-2"><div class="Box-sc-g0xbh4-0 dzCJzi"><h2 class="sr-only prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">Latest commit</h2><div style="width:120px" class="Skeleton Skeleton--text" data-testid="loading"> </div><div class="d-flex flex-shrink-0 gap-2"><div data-testid="latest-commit-details" class="d-none d-sm-flex flex-items-center"></div><div class="d-flex gap-2"><h2 class="sr-only prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">History</h2><a href="/jwtk/jjwt/commits/master/" class="prc-Button-ButtonBase-c50BI d-none d-lg-flex LinkButton-module__code-view-link-button--xvCGA flex-items-center fgColor-default" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":Raqj8pab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-history" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x"><span class="fgColor-default">596 Commits</span></span></span></a><div class="d-sm-none"></div><div class="d-flex d-lg-none"><span role="tooltip" aria-label="596 Commits" id="history-icon-button-tooltip" class="Tooltip__TooltipBase-sc-17tf59c-0 hWlpPn tooltipped-n"><a href="/jwtk/jjwt/commits/master/" class="prc-Button-ButtonBase-c50BI LinkButton-module__code-view-link-button--xvCGA flex-items-center fgColor-default" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":R1iqj8pab:-loading-announcement history-icon-button-tooltip"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-history" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path></svg></span></span></a></span></div></div></div></div></td></tr><tr class="react-directory-row undefined" id="folder-row-0"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".github" aria-label=".github, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/.github">.github</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".github" aria-label=".github, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/.github">.github</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-1"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="This path skips through empty directories" aria-label=".mvn/wrapper, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/.mvn/wrapper"><span class="react-directory-default-color" data-testid="path-name-segment">.mvn/</span><span class="" data-testid="path-name-segment">wrapper</span></a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="This path skips through empty directories" aria-label=".mvn/wrapper, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/.mvn/wrapper"><span class="react-directory-default-color" data-testid="path-name-segment">.mvn/</span><span class="" data-testid="path-name-segment">wrapper</span></a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-2"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="api" aria-label="api, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/api">api</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="api" aria-label="api, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/api">api</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-3"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="bom" aria-label="bom, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/bom">bom</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="bom" aria-label="bom, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/bom">bom</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-4"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="extensions" aria-label="extensions, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/extensions">extensions</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="extensions" aria-label="extensions, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/extensions">extensions</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-5"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="impl" aria-label="impl, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/impl">impl</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="impl" aria-label="impl, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/impl">impl</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-6"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="This path skips through empty directories" aria-label="src/license, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/src/license"><span class="react-directory-default-color" data-testid="path-name-segment">src/</span><span class="" data-testid="path-name-segment">license</span></a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="This path skips through empty directories" aria-label="src/license, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/src/license"><span class="react-directory-default-color" data-testid="path-name-segment">src/</span><span class="" data-testid="path-name-segment">license</span></a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-7"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="tdjar" aria-label="tdjar, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/tdjar">tdjar</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="tdjar" aria-label="tdjar, (Directory)" class="Link--primary" href="/jwtk/jjwt/tree/master/tdjar">tdjar</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-8"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitignore" aria-label=".gitignore, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/.gitignore">.gitignore</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitignore" aria-label=".gitignore, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/.gitignore">.gitignore</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row undefined" id="folder-row-9"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="CHANGELOG.md" aria-label="CHANGELOG.md, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/CHANGELOG.md">CHANGELOG.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="CHANGELOG.md" aria-label="CHANGELOG.md, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/CHANGELOG.md">CHANGELOG.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-10"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="LICENSE" aria-label="LICENSE, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/LICENSE">LICENSE</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="LICENSE" aria-label="LICENSE, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/LICENSE">LICENSE</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-11"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="NOTICE.md" aria-label="NOTICE.md, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/NOTICE.md">NOTICE.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="NOTICE.md" aria-label="NOTICE.md, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/NOTICE.md">NOTICE.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-12"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="README.adoc" aria-label="README.adoc, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/README.adoc">README.adoc</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="README.adoc" aria-label="README.adoc, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/README.adoc">README.adoc</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-13"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="SECURITY.md" aria-label="SECURITY.md, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/SECURITY.md">SECURITY.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="SECURITY.md" aria-label="SECURITY.md, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/SECURITY.md">SECURITY.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-14"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="mvnw" aria-label="mvnw, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/mvnw">mvnw</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="mvnw" aria-label="mvnw, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/mvnw">mvnw</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-15"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="mvnw.cmd" aria-label="mvnw.cmd, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/mvnw.cmd">mvnw.cmd</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="mvnw.cmd" aria-label="mvnw.cmd, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/mvnw.cmd">mvnw.cmd</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-16"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="pom.xml" aria-label="pom.xml, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/pom.xml">pom.xml</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="pom.xml" aria-label="pom.xml, (File)" class="Link--primary" href="/jwtk/jjwt/blob/master/pom.xml">pom.xml</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"> </div></td><td><div class="Skeleton Skeleton--text"> </div></td></tr><tr class="Box-sc-g0xbh4-0 eNCcrz show-for-mobile" data-testid="view-all-files-row"><td colSpan="3" class="Box-sc-g0xbh4-0 bHTcCe"><div><button class="prc-Link-Link-85e08">View all files</button></div></td></tr></tbody></table></div><div class="Box-sc-g0xbh4-0 csrIcr"><div class="Box-sc-g0xbh4-0 bUQNHB"><div itemscope="" itemType="https://schema.org/abstract" class="Box-sc-g0xbh4-0 jPdcfu"><h2 class="_VisuallyHidden__VisuallyHidden-sc-11jhm7a-0 brGdpi">Repository files navigation</h2><nav class="UnderlineTabbedInterface__StyledComponentUnderlineWrapper-sc-4ilrg0-0 eBevHz" aria-label="Repository files"><ul role="list" class="UnderlineTabbedInterface__StyledComponentUnderlineItemList-sc-4ilrg0-1 ehEdWC"><li class="Box-sc-g0xbh4-0 hUCRAk"><a href="#" aria-current="page" class="UnderlineTabbedInterface__StyledUnderlineItem-sc-4ilrg0-2 beOdPj"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-book" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path></svg></span><span data-component="text" data-content="README">README</span></a></li><li class="Box-sc-g0xbh4-0 hUCRAk"><a href="#" class="UnderlineTabbedInterface__StyledUnderlineItem-sc-4ilrg0-2 beOdPj"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-law" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path></svg></span><span data-component="text" data-content="License">License</span></a></li><li class="Box-sc-g0xbh4-0 hUCRAk"><a href="#" class="UnderlineTabbedInterface__StyledUnderlineItem-sc-4ilrg0-2 beOdPj"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-law" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path></svg></span><span data-component="text" data-content="Security">Security</span></a></li></ul></nav><button style="--button-color:fg.subtle" type="button" aria-label="Outline" aria-haspopup="true" aria-expanded="false" tabindex="0" class="Box-sc-g0xbh4-0 cwoBXV prc-Button-ButtonBase-c50BI" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rr9ab:-loading-announcement" id=":Rr9ab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-list-unordered" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg></button></div><div class="Box-sc-g0xbh4-0 QkQOb js-snippet-clipboard-copy-unpositioned undefined" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Java JWT: JSON Web Token for Java and Android</h1><a id="user-content-java-jwt-json-web-token-for-java-and-android" class="anchor" aria-label="Permalink: Java JWT: JSON Web Token for Java and Android" href="#java-jwt-json-web-token-for-java-and-android"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div id="user-content-preamble" dir="auto">
<div dir="auto">
<div dir="auto">
<p dir="auto"><span><a href="https://github.com/jwtk/jjwt/actions/workflows/ci.yml?query=branch%3Amaster"><img src="https://github.com/jwtk/jjwt/actions/workflows/ci.yml/badge.svg?branch=master" alt="Build Status" style="max-width: 100%;"></a></span>
<span><a href="https://coveralls.io/github/jwtk/jjwt?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/f8d5c75a7f6620fe9ec85adefb50b779aa905848b2a283e481da6f945e99c91b/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6a77746b2f6a6a77742f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/jwtk/jjwt/badge.svg?branch=master" style="max-width: 100%;"></a></span>
<span><a href="https://snyk-widget.herokuapp.com/badge/mvn/io.jsonwebtoken/jjwt-root/badge.svg" rel="nofollow"><img src="https://camo.githubusercontent.com/954cacfc115283e7267c067b01b830625e26e17e2682474d9815ac028200e88b/68747470733a2f2f736e796b2d7769646765742e6865726f6b756170702e636f6d2f62616467652f6d766e2f696f2e6a736f6e776562746f6b656e2f6a6a77742d726f6f742f62616467652e737667" alt="Vuln score" data-canonical-src="https://snyk-widget.herokuapp.com/badge/mvn/io.jsonwebtoken/jjwt-root/badge.svg" style="max-width: 100%;"></a></span>
<span><a href="https://snyk.io/test/github/jwtk/jjwt/badge.svg" rel="nofollow"><img src="https://camo.githubusercontent.com/e0f21494969a612e8d3dd63d80afee02ced84ff8450bccf936c7679b2dba1e84/68747470733a2f2f736e796b2e696f2f746573742f6769746875622f6a77746b2f6a6a77742f62616467652e737667" alt="Known Vulns" data-canonical-src="https://snyk.io/test/github/jwtk/jjwt/badge.svg" style="max-width: 100%;"></a></span></p>
</div>
<div dir="auto">
<p dir="auto">JJWT aims to be the easiest to use and understand library for creating and verifying JSON Web Tokens (JWTs) and
JSON Web Keys (JWKs) on the JVM and Android.</p>
</div>
<div dir="auto">
<p dir="auto">JJWT is a pure Java implementation based exclusively on the
<a href="https://datatracker.ietf.org/wg/jose/documents/" rel="nofollow">JOSE Working Group</a> RFC specifications:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><a href="https://tools.ietf.org/html/rfc7519" rel="nofollow">RFC 7519: JSON Web Token (JWT)</a></p>
</li>
<li>
<p dir="auto"><a href="https://tools.ietf.org/html/rfc7515" rel="nofollow">RFC 7515: JSON Web Signature (JWS)</a></p>
</li>
<li>
<p dir="auto"><a href="https://tools.ietf.org/html/rfc7516" rel="nofollow">RFC 7516: JSON Web Encryption (JWE)</a></p>
</li>
<li>
<p dir="auto"><a href="https://tools.ietf.org/html/rfc7517" rel="nofollow">RFC 7517: JSON Web Key (JWK)</a></p>
</li>
<li>
<p dir="auto"><a href="https://tools.ietf.org/html/rfc7518" rel="nofollow">RFC 7518: JSON Web Algorithms (JWA)</a></p>
</li>
<li>
<p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7638.html" rel="nofollow">RFC 7638: JSON Web Key Thumbprint</a></p>
</li>
<li>
<p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc9278.html" rel="nofollow">RFC 9278: JSON Web Key Thumbprint URI</a></p>
</li>
<li>
<p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7797.html" rel="nofollow">RFC 7797: JWS Unencoded Payload Option</a></p>
</li>
<li>
<p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc8037" rel="nofollow">RFC 8037: Edwards Curve algorithms and JWKs</a></p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">It was created by <a href="https://github.com/lhazlewood">Les Hazlewood</a>
and is supported and maintained by a <a href="https://github.com/jwtk/jjwt/graphs/contributors">community</a> of contributors.</p>
</div>
<div dir="auto">
<p dir="auto">JJWT is open source under the terms of the <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache 2.0 License</a>.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-table-of-contents" tabindex="-1" class="heading-element" dir="auto">Table of Contents</h2><a id="user-content-table-of-contents" class="anchor" aria-label="Permalink: Table of Contents" href="#table-of-contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<hr>
<div id="user-content-toc" dir="auto">
<div id="user-content-toctitle" dir="auto"></div>
<ul dir="auto">
<li><a href="#features">Features</a>
<ul dir="auto">
<li><a href="#currently-unsupported-features">Currently Unsupported Features</a></li>
</ul>
</li>
<li><a href="#community">Community</a>
<ul dir="auto">
<li><a href="#getting-help">Getting Help</a>
<ul dir="auto">
<li><a href="#questions">Questions</a></li>
<li><a href="#bugs-feature-requests-ideas-and-general-discussions">Bugs, Feature Requests, Ideas and General Discussions</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a>
<ul dir="auto">
<li><a href="#pull-requests">Pull Requests</a></li>
<li><a href="#help-wanted">Help Wanted</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#what-is-a-json-web-token">What is a JSON Web Token?</a>
<ul dir="auto">
<li><a href="#jwt-example">JWT Example</a></li>
<li><a href="#jws-example">JWS Example</a></li>
<li><a href="#jwe-example">JWE Example</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a>
<ul dir="auto">
<li><a href="#jdk-projects">JDK Projects</a>
<ul dir="auto">
<li><a href="#maven">Maven</a></li>
<li><a href="#gradle">Gradle</a></li>
</ul>
</li>
<li><a href="#android-projects">Android Projects</a>
<ul dir="auto">
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#proguard">Proguard</a></li>
<li><a href="#bouncy-castle">Bouncy Castle</a></li>
</ul>
</li>
<li><a href="#understanding-jjwt-dependencies">Understanding JJWT Dependencies</a></li>
</ul>
</li>
<li><a href="#quickstart">Quickstart</a></li>
<li><a href="#creating-a-jwt">Creating a JWT</a>
<ul dir="auto">
<li><a href="#jwt-header">JWT Header</a>
<ul dir="auto">
<li><a href="#jwtbuilder-header">JwtBuilder Header</a>
<ul dir="auto">
<li><a href="#custom-header-parameters">Custom Header Parameters</a></li>
<li><a href="#header-parameter-map">Header Parameter Map</a></li>
</ul>
</li>
<li><a href="#jwts-headerbuilder">Jwts HeaderBuilder</a></li>
</ul>
</li>
<li><a href="#jwt-payload">JWT Payload</a>
<ul dir="auto">
<li><a href="#arbitrary-content">Arbitrary Content</a></li>
<li><a href="#jwt-claims">JWT Claims</a>
<ul dir="auto">
<li><a href="#standard-claims">Standard Claims</a></li>
<li><a href="#custom-claims">Custom Claims</a></li>
<li><a href="#claims-map">Claims Map</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#jwt-compression">JWT Compression</a></li>
</ul>
</li>
<li><a href="#reading-a-jwt">Reading a JWT</a>
<ul dir="auto">
<li><a href="#constant-parsing-key">Constant Parsing Key</a>
<ul dir="auto">
<li><a href="#multiple-keys">Multiple Keys?</a></li>
</ul>
</li>
<li><a href="#dynamic-key-lookup">Dynamic Key Lookup</a>
<ul dir="auto">
<li><a href="#key-locator">Key Locator</a></li>
<li><a href="#key-locator-strategy">Key Locator Strategy</a></li>
<li><a href="#key-locator-return-values">Key Locator Return Values</a></li>
<li><a href="#provider-constrained-keys">Provider-constrained Keys</a></li>
</ul>
</li>
<li><a href="#claim-assertions">Claim Assertions</a></li>
<li><a href="#accounting-for-clock-skew">Accounting for Clock Skew</a>
<ul dir="auto">
<li><a href="#custom-clock-support">Custom Clock Support</a></li>
</ul>
</li>
<li><a href="#jwt-decompression">JWT Decompression</a></li>
</ul>
</li>
<li><a href="#signed-jwts">Signed JWTs</a>
<ul dir="auto">
<li><a href="#standard-signature-algorithms">Standard Signature Algorithms</a></li>
<li><a href="#signature-algorithms-keys">Signature Algorithms Keys</a>
<ul dir="auto">
<li><a href="#hmac-sha">HMAC-SHA</a></li>
<li><a href="#rsa">RSA</a></li>
<li><a href="#elliptic-curve">Elliptic Curve</a></li>
<li><a href="#edwards-curve">Edwards Curve</a></li>
<li><a href="#creating-safe-keys">Creating Safe Keys</a>
<ul dir="auto">
<li><a href="#secret-keys">Secret Keys</a></li>
<li><a href="#asymmetric-keys">Asymmetric Keys</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#creating-a-jws">Creating a JWS</a>
<ul dir="auto">
<li><a href="#signing-key">Signing Key</a>
<ul dir="auto">
<li><a href="#secretkey-formats">SecretKey Formats</a></li>
<li><a href="#signaturealgorithm-override">SignatureAlgorithm Override</a></li>
</ul>
</li>
<li><a href="#jws-compression">JWS Compression</a></li>
</ul>
</li>
<li><a href="#reading-a-jws">Reading a JWS</a>
<ul dir="auto">
<li><a href="#verification-key">Verification Key</a></li>
<li><a href="#verification-key-locator">Verification Key Locator</a></li>
<li><a href="#jws-decompression">JWS Decompression</a></li>
</ul>
</li>
<li><a href="#unencoded-payload-option">Unencoded Payload Option</a>
<ul dir="auto">
<li><a href="#benefits">Benefits</a></li>
<li><a href="#disadvantages">Disadvantages</a></li>
<li><a href="#detached-payload-example">Detached Payload Example</a></li>
<li><a href="#non-detached-payload-example">Non-Detached Payload Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#encrypted-jwts">Encrypted JWTs</a>
<ul dir="auto">
<li><a href="#jwe-encryption-algorithms">JWE Encryption Algorithms</a>
<ul dir="auto">
<li><a href="#symmetric-ciphers">Symmetric Ciphers</a></li>
</ul>
</li>
<li><a href="#jwe-key-management-algorithms">JWE Key Management Algorithms</a>
<ul dir="auto">
<li><a href="#jwe-standard-key-management-algorithms">JWE Standard Key Management Algorithms</a>
<ul dir="auto">
<li><a href="#rsa-key-encryption">RSA Key Encryption</a></li>
<li><a href="#aes-key-encryption">AES Key Encryption</a></li>
<li><a href="#direct-key-encryption">Direct Key Encryption</a></li>
<li><a href="#password-based-key-encryption">Password-Based Key Encryption</a></li>
<li><a href="#elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es">Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#creating-a-jwe">Creating a JWE</a>
<ul dir="auto">
<li><a href="#jwe-compression">JWE Compression</a></li>
</ul>
</li>
<li><a href="#reading-a-jwe">Reading a JWE</a>
<ul dir="auto">
<li><a href="#decryption-key">Decryption Key</a></li>
<li><a href="#decryption-key-locator">Decryption Key Locator</a></li>
<li><a href="#ecdh-es-decryption-with-pkcs11-privatekeys">ECDH-ES Decryption with PKCS11 PrivateKeys</a></li>
<li><a href="#jwe-decompression">JWE Decompression</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#json-web-keys-jwks">JSON Web Keys (JWKs)</a>
<ul dir="auto">
<li><a href="#create-a-jwk">Create a JWK</a>
<ul dir="auto">
<li><a href="#jwk-from-a-map">JWK from a Map</a></li>
</ul>
</li>
<li><a href="#read-a-jwk">Read a JWK</a></li>
<li><a href="#privatekey-jwks">PrivateKey JWKs</a>
<ul dir="auto">
<li><a href="#private-jwk-publickey">Private JWK <code>PublicKey</code></a></li>
<li><a href="#private-jwk-from-keypair">Private JWK from KeyPair</a></li>
<li><a href="#private-jwk-public-conversion">Private JWK Public Conversion</a></li>
</ul>
</li>
<li><a href="#jwk-thumbprints">JWK Thumbprints</a>
<ul dir="auto">
<li><a href="#jwk-thumbprint-as-a-key-id">JWK Thumbprint as a Key ID</a></li>
<li><a href="#jwk-thumbprint-uri">JWK Thumbprint URI</a></li>
</ul>
</li>
<li><a href="#jwk-security-considerations">JWK Security Considerations</a>
<ul dir="auto">
<li><a href="#jwk-tostring-safety">JWK <code>toString()</code> Safety</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#jwk-sets">JWK Sets</a>
<ul dir="auto">
<li><a href="#create-a-jwk-set">Create a JWK Set</a></li>
<li><a href="#read-a-jwk-set">Read a JWK Set</a></li>
</ul>
</li>
<li><a href="#compression">Compression</a>
<ul dir="auto">
<li><a href="#custom-compression-algorithm">Custom Compression Algorithm</a></li>
</ul>
</li>
<li><a href="#json-support">JSON Support</a>
<ul dir="auto">
<li><a href="#custom-json-processor">Custom JSON Processor</a></li>
<li><a href="#jackson-json-processor">Jackson JSON Processor</a>
<ul dir="auto">
<li><a href="#parsing-of-custom-claim-types">Parsing of Custom Claim Types</a></li>
</ul>
</li>
<li><a href="#gson-json-processor">Gson JSON Processor</a></li>
</ul>
</li>
<li><a href="#base64-support">Base64 Support</a>
<ul dir="auto">
<li><a href="#understanding-base64-in-security-contexts">Understanding Base64 in Security Contexts</a>
<ul dir="auto">
<li><a href="#base64-is-not-encryption">Base64 is not encryption</a></li>
<li><a href="#changing-base64-characters">Changing Base64 Characters</a>
<ul dir="auto">
<li><a href="#adding-invalid-characters">Adding Invalid Characters</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#custom-base64">Custom Base64</a></li>
</ul>
</li>
<li><a href="#examples">Examples</a>
<ul dir="auto">
<li><a href="#jwt-signed-with-hmac">JWT Signed with HMAC</a></li>
<li><a href="#jwt-signed-with-rsa">JWT Signed with RSA</a></li>
<li><a href="#jwt-signed-with-ecdsa">JWT Signed with ECDSA</a></li>
<li><a href="#jwt-signed-with-eddsa">JWT Signed with EdDSA</a></li>
<li><a href="#jwt-encrypted-directly-with-a-secretkey">JWT Encrypted Directly with a SecretKey</a></li>
<li><a href="#jwt-encrypted-with-rsa">JWT Encrypted with RSA</a></li>
<li><a href="#jwt-encrypted-with-aes-key-wrap">JWT Encrypted with AES Key Wrap</a></li>
<li><a href="#jwt-encrypted-with-ecdh-es">JWT Encrypted with ECDH-ES</a></li>
<li><a href="#jwt-encrypted-with-a-password">JWT Encrypted with a Password</a></li>
<li><a href="#secretkey-jwk">SecretKey JWK</a></li>
<li><a href="#rsa-public-jwk">RSA Public JWK</a></li>
<li><a href="#rsa-private-jwk">RSA Private JWK</a></li>
<li><a href="#elliptic-curve-public-jwk">Elliptic Curve Public JWK</a></li>
<li><a href="#elliptic-curve-private-jwk">Elliptic Curve Private JWK</a></li>
<li><a href="#edwards-elliptic-curve-public-jwk">Edwards Elliptic Curve Public JWK</a></li>
<li><a href="#edwards-elliptic-curve-private-jwk">Edwards Elliptic Curve Private JWK</a></li>
</ul>
</li>
<li><a href="#learn-more">Learn More</a></li>
<li><a href="#author">Author</a></li>
<li><a href="#license">License</a></li>
</ul>
</div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-features"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-features" tabindex="-1" class="heading-element" dir="auto">Features</h2><a id="user-content-features" class="anchor" aria-label="Permalink: Features" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Fully functional on all Java 7+ JDKs and Android</p>
</li>
<li>
<p dir="auto">Automatic security best practices and assertions</p>
</li>
<li>
<p dir="auto">Easy to learn and read API</p>
</li>
<li>
<p dir="auto">Convenient and readable <a href="http://en.wikipedia.org/wiki/Fluent_interface" rel="nofollow">fluent</a> interfaces, great for IDE
auto-completion to write code quickly</p>
</li>
<li>
<p dir="auto">Fully RFC specification compliant on all implemented functionality, tested against RFC-specified test vectors</p>
</li>
<li>
<p dir="auto">Stable implementation with almost 1,700 tests and enforced 100% test code coverage.  Every single method, statement
and conditional branch variant in the entire codebase is tested and required to pass on every build.</p>
</li>
<li>
<p dir="auto">Creating, parsing and verifying digitally signed compact JWTs (aka JWSs) with all standard JWS algorithms:</p>
<markdown-accessiblity-table><table>




<thead>
<tr>
<th>Identifier</th>
<th>Signature Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><code>HS256</code></p></td>
<td><p dir="auto">HMAC using SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>HS384</code></p></td>
<td><p dir="auto">HMAC using SHA-384</p></td>
</tr>
<tr>
<td><p dir="auto"><code>HS512</code></p></td>
<td><p dir="auto">HMAC using SHA-512</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ES256</code></p></td>
<td><p dir="auto">ECDSA using P-256 and SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ES384</code></p></td>
<td><p dir="auto">ECDSA using P-384 and SHA-384</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ES512</code></p></td>
<td><p dir="auto">ECDSA using P-521 and SHA-512</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RS256</code></p></td>
<td><p dir="auto">RSASSA-PKCS-v1_5 using SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RS384</code></p></td>
<td><p dir="auto">RSASSA-PKCS-v1_5 using SHA-384</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RS512</code></p></td>
<td><p dir="auto">RSASSA-PKCS-v1_5 using SHA-512</p></td>
</tr>
<tr>
<td><p dir="auto"><code>PS256</code></p></td>
<td><p dir="auto">RSASSA-PSS using SHA-256 and MGF1 with SHA-256<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PS384</code></p></td>
<td><p dir="auto">RSASSA-PSS using SHA-384 and MGF1 with SHA-384<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PS512</code></p></td>
<td><p dir="auto">RSASSA-PSS using SHA-512 and MGF1 with SHA-512<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>EdDSA</code></p></td>
<td><p dir="auto">Edwards-curve Digital Signature Algorithm<sup><strong>2</strong></sup></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1.</strong> Requires Java 11 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
<div dir="auto">
<p dir="auto"><sup><strong>2</strong>. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
</li>
<li>
<p dir="auto">Creating, parsing and decrypting encrypted compact JWTs (aka JWEs) with all standard JWE encryption algorithms:</p>
<markdown-accessiblity-table><table>




<thead>
<tr>
<th>Identifier</th>
<th>Encryption Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><code>A128CBC‑HS256</code></p></td>
<td><p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3" rel="nofollow">AES_128_CBC_HMAC_SHA_256</a> authenticated encryption algorithm</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192CBC-HS384</code></p></td>
<td><p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.4" rel="nofollow">AES_192_CBC_HMAC_SHA_384</a> authenticated encryption algorithm</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256CBC-HS512</code></p></td>
<td><p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5" rel="nofollow">AES_256_CBC_HMAC_SHA_512</a> authenticated encryption algorithm</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A128GCM</code></p></td>
<td><p dir="auto">AES GCM using 128-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192GCM</code></p></td>
<td><p dir="auto">AES GCM using 192-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256GCM</code></p></td>
<td><p dir="auto">AES GCM using 256-bit key<sup><strong>1</strong></sup></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1</strong>. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
</li>
<li>
<p dir="auto">All Key Management Algorithms for obtaining JWE encryption and decryption keys:</p>
<markdown-accessiblity-table><table>




<thead>
<tr>
<th>Identifier</th>
<th>Key Management Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><code>RSA1_5</code></p></td>
<td><p dir="auto">RSAES-PKCS1-v1_5</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RSA-OAEP</code></p></td>
<td><p dir="auto">RSAES OAEP using default parameters</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RSA-OAEP-256</code></p></td>
<td><p dir="auto">RSAES OAEP using SHA-256 and MGF1 with SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A128KW</code></p></td>
<td><p dir="auto">AES Key Wrap with default initial value using 128-bit key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192KW</code></p></td>
<td><p dir="auto">AES Key Wrap with default initial value using 192-bit key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256KW</code></p></td>
<td><p dir="auto">AES Key Wrap with default initial value using 256-bit key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>dir</code></p></td>
<td><p dir="auto">Direct use of a shared symmetric key as the CEK</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES</code></p></td>
<td><p dir="auto">Elliptic Curve Diffie-Hellman Ephemeral Static key agreement using Concat KDF</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES+A128KW</code></p></td>
<td><p dir="auto">ECDH-ES using Concat KDF and CEK wrapped with "A128KW"</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES+A192KW</code></p></td>
<td><p dir="auto">ECDH-ES using Concat KDF and CEK wrapped with "A192KW"</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES+A256KW</code></p></td>
<td><p dir="auto">ECDH-ES using Concat KDF and CEK wrapped with "A256KW"</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A128GCMKW</code></p></td>
<td><p dir="auto">Key wrapping with AES GCM using 128-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192GCMKW</code></p></td>
<td><p dir="auto">Key wrapping with AES GCM using 192-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256GCMKW</code></p></td>
<td><p dir="auto">Key wrapping with AES GCM using 256-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PBES2-HS256+A128KW</code></p></td>
<td><p dir="auto">PBES2 with HMAC SHA-256 and "A128KW" wrapping<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PBES2-HS384+A192KW</code></p></td>
<td><p dir="auto">PBES2 with HMAC SHA-384 and "A192KW" wrapping<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PBES2‑HS512+A256KW</code></p></td>
<td><p dir="auto">PBES2 with HMAC SHA-512 and "A256KW" wrapping<sup><strong>1</strong></sup></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1</strong>. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
</li>
<li>
<p dir="auto">Creating, parsing and verifying JSON Web Keys (JWKs) in all standard JWA key formats using native Java <code>Key</code> types:</p>
<markdown-accessiblity-table><table>





<thead>
<tr>
<th>JWK Key Format</th>
<th>Java <code>Key</code> Type</th>
<th>JJWT <code>Jwk</code> Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto">Symmetric Key</p></td>
<td><p dir="auto"><code>SecretKey</code></p></td>
<td><p dir="auto"><code>SecretJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">Elliptic Curve Public Key</p></td>
<td><p dir="auto"><code>ECPublicKey</code></p></td>
<td><p dir="auto"><code>EcPublicJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">Elliptic Curve Private Key</p></td>
<td><p dir="auto"><code>ECPrivateKey</code></p></td>
<td><p dir="auto"><code>EcPrivateJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">RSA Public Key</p></td>
<td><p dir="auto"><code>RSAPublicKey</code></p></td>
<td><p dir="auto"><code>RsaPublicJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">RSA Private Key</p></td>
<td><p dir="auto"><code>RSAPrivateKey</code></p></td>
<td><p dir="auto"><code>RsaPrivateJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">XDH Private Key</p></td>
<td><p dir="auto"><code>XECPublicKey</code><sup><strong>1</strong></sup></p></td>
<td><p dir="auto"><code>OctetPublicJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">XDH Private Key</p></td>
<td><p dir="auto"><code>XECPrivateKey</code><sup><strong>1</strong></sup></p></td>
<td><p dir="auto"><code>OctetPrivateJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">EdDSA Public Key</p></td>
<td><p dir="auto"><code>EdECPublicKey</code><sup><strong>2</strong></sup></p></td>
<td><p dir="auto"><code>OctetPublicJwk</code></p></td>
</tr>
<tr>
<td><p dir="auto">EdDSA Private Key</p></td>
<td><p dir="auto"><code>EdECPublicKey</code><sup><strong>2</strong></sup></p></td>
<td><p dir="auto"><code>OctetPrivateJwk</code></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1</strong>. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
<div dir="auto">
<p dir="auto"><sup><strong>2</strong>. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
</li>
<li>
<p dir="auto">Convenience enhancements beyond the specification such as</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Payload compression for any large JWT, not just JWEs</p>
</li>
<li>
<p dir="auto">Claims assertions (requiring specific values)</p>
</li>
<li>
<p dir="auto">Claim POJO marshaling and unmarshalling when using a compatible JSON parser (e.g. Jackson)</p>
</li>
<li>
<p dir="auto">Secure Key generation based on desired JWA algorithms</p>
</li>
<li>
<p dir="auto">and more…​</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-features-unsupported"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-currently-unsupported-features" tabindex="-1" class="heading-element" dir="auto">Currently Unsupported Features</h3><a id="user-content-currently-unsupported-features" class="anchor" aria-label="Permalink: Currently Unsupported Features" href="#currently-unsupported-features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><a href="https://tools.ietf.org/html/rfc7515#section-7.2" rel="nofollow">Non-compact</a> serialization and parsing.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">This feature may be implemented in a future release.  Community contributions are welcome!</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-community"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-community" tabindex="-1" class="heading-element" dir="auto">Community</h2><a id="user-content-community" class="anchor" aria-label="Permalink: Community" href="#community"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto"><a name="user-content-help"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-getting-help" tabindex="-1" class="heading-element" dir="auto">Getting Help</h3><a id="user-content-getting-help" class="anchor" aria-label="Permalink: Getting Help" href="#getting-help"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you have trouble using JJWT, please first read the documentation on this page before asking questions.  We try
very hard to ensure JJWT’s documentation is robust, categorized with a table of contents, and up to date for each
release.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-help-questions"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-questions" tabindex="-1" class="heading-element" dir="auto">Questions</h4><a id="user-content-questions" class="anchor" aria-label="Permalink: Questions" href="#questions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If the documentation or the API JavaDoc isn’t sufficient, and you either have usability questions or are confused
about something, please <a href="https://github.com/jwtk/jjwt/discussions/new?category=q-a">ask your question here</a>. However:</p>
</div>
<div dir="auto">
<p dir="auto"><strong>Please do not create a GitHub issue to ask a question.</strong></p>
</div>
<div dir="auto">
<p dir="auto">We use GitHub Issues to track actionable work that requires changes to JJWT’s design and/or codebase.  If you have a
usability question, instead please
<a href="https://github.com/jwtk/jjwt/discussions/new?category=q-a">ask your question here</a>, and we can convert that to an
issue if necessary.</p>
</div>
<div dir="auto">
<p dir="auto"><strong>If a GitHub Issue is created that does not represent actionable work for JJWT’s codebase, it will be promptly
closed.</strong></p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-help-issues"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-bugs-feature-requests-ideas-and-general-discussions" tabindex="-1" class="heading-element" dir="auto">Bugs, Feature Requests, Ideas and General Discussions</h4><a id="user-content-bugs-feature-requests-ideas-and-general-discussions" class="anchor" aria-label="Permalink: Bugs, Feature Requests, Ideas and General Discussions" href="#bugs-feature-requests-ideas-and-general-discussions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you do not have a usability question and believe you have a legitimate bug or feature request,
please <a href="https://github.com/jwtk/jjwt/discussions">discuss it here</a> <strong><em>FIRST</em></strong>. Please do a quick search first to
see if an existing discussion related to yours exist already and join that existing discussion if necesary.</p>
</div>
<div dir="auto">
<p dir="auto">If you feel like you’d like to help fix a bug or implement the new feature yourself, please read the Contributing
section next before starting any work.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-contributing"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-contributing" tabindex="-1" class="heading-element" dir="auto">Contributing</h3><a id="user-content-contributing" class="anchor" aria-label="Permalink: Contributing" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto"><a name="user-content-contributing-pull-requests"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-pull-requests" tabindex="-1" class="heading-element" dir="auto">Pull Requests</h4><a id="user-content-pull-requests" class="anchor" aria-label="Permalink: Pull Requests" href="#pull-requests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Simple Pull Requests that fix anything other than JJWT core code (documentation, JavaDoc, typos, test cases, etc) are
always appreciated and have a high likelihood of being merged quickly. Please send them!</p>
</div>
<div dir="auto">
<p dir="auto">However, if you want or feel the need to change JJWT’s functionality or core code, please do not issue a pull request
without <a href="https://github.com/jwtk/jjwt/discussions">starting a new JJWT discussion</a> and discussing your desired
changes <strong>first</strong>, <em>before you start working on it</em>.</p>
</div>
<div dir="auto">
<p dir="auto">It would be a shame to reject your earnest and genuinely-appreciated pull request if it might not align with the
project’s goals, design expectations or planned functionality.  We’ve sadly had to reject large PRs in the past because
they were out of sync with project or design expectations - all because the PR author didn’t first check in with
the team first before working on a solution.</p>
</div>
<div dir="auto">
<p dir="auto">So, please <a href="https://github.com/jwtk/jjwt/discussions">create a new JJWT discussion</a> first to discuss, and then we
can see easily convert the discussion to an issue and then see if (or how) a PR is warranted.  Thank you!</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-contributing-help-wanted"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-help-wanted" tabindex="-1" class="heading-element" dir="auto">Help Wanted</h4><a id="user-content-help-wanted" class="anchor" aria-label="Permalink: Help Wanted" href="#help-wanted"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you would like to help, but don’t know where to start, please visit the
<a href="https://github.com/jwtk/jjwt/labels/help%20wanted">Help Wanted Issues</a> page and pick any of the
ones there, and we’ll be happy to discuss and answer questions in the issue comments.</p>
</div>
<div dir="auto">
<p dir="auto">If any of those don’t appeal to you, no worries! Any help you would like to offer would be
appreciated based on the above caveats concerning <a href="#contributing-pull-requests">contributing pull requests</a>. Feel free
to <a href="https://github.com/jwtk/jjwt/discussions">discuss or ask questions first</a> if you’re not sure. :)</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-overview"></a></p>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-what-is-a-json-web-token" tabindex="-1" class="heading-element" dir="auto">What is a JSON Web Token?</h2><a id="user-content-what-is-a-json-web-token" class="anchor" aria-label="Permalink: What is a JSON Web Token?" href="#what-is-a-json-web-token"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">JSON Web Token (JWT) is a <em>general-purpose</em> text-based messaging format for transmitting information in a
compact and secure way.  Contrary to popular belief, JWT is not just useful for sending and receiving identity tokens
on the web - even if that is the most common use case.  JWTs can be used as messages for <em>any</em> type of data.</p>
</div>
<div dir="auto">
<p dir="auto">A JWT in its simplest form contains two parts:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">The primary data within the JWT, called the <code>payload</code>, and</p>
</li>
<li>
<p dir="auto">A JSON <code>Object</code> with name/value pairs that represent metadata about the <code>payload</code> and the
message itself, called the <code>header</code>.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">A JWT <code>payload</code> can be absolutely anything at all - anything that can be represented as a byte array, such as Strings,
images, documents, etc.</p>
</div>
<div dir="auto">
<p dir="auto">But because a JWT <code>header</code> is a JSON <code>Object</code>, it would make sense that a JWT <code>payload</code> could also be a JSON
<code>Object</code> as well. In many cases, developers like the <code>payload</code> to be JSON that
represents data about a user or computer or similar identity concept. When used this way, the <code>payload</code> is called a
JSON <code>Claims</code> object, and each name/value pair within that object is called a <code>claim</code> - each piece of information
within 'claims' something about an identity.</p>
</div>
<div dir="auto">
<p dir="auto">And while it is useful to 'claim' something about an identity, really anyone can do that. What’s important is that you
<em>trust</em> the claims by verifying they come from a person or computer you trust.</p>
</div>
<div dir="auto">
<p dir="auto">A nice feature of JWTs is that they can be secured in various ways. A JWT can be cryptographically signed (making it
what we call a <a href="https://tools.ietf.org/html/rfc7515" rel="nofollow">JWS</a>) or encrypted (making it a
<a href="https://tools.ietf.org/html/rfc7516" rel="nofollow">JWE</a>).  This adds a powerful layer of verifiability to the JWT - a
JWS or JWE recipient can have a high degree of confidence it comes from someone they trust
by verifying a signature or decrypting it. It is this feature of verifiability that makes JWT a good choice
for sending and receiving secure information, like identity claims.</p>
</div>
<div dir="auto">
<p dir="auto">Finally, JSON with whitespace for human readability is nice, but it doesn’t make for a very efficient message
format.  Therefore, JWTs can be <em>compacted</em> (and even compressed) to a minimal representation - basically
Base64URL-encoded strings - so they can be transmitted around the web more efficiently, such as in HTTP headers or URLs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-overview-example-jwt"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-example" tabindex="-1" class="heading-element" dir="auto">JWT Example</h3><a id="user-content-jwt-example" class="anchor" aria-label="Permalink: JWT Example" href="#jwt-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Once you have a <code>payload</code> and <code>header</code>, how are they compacted for web transmission, and what does the final JWT
actually look like? Let’s walk through a simplified version of the process with some pseudocode:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Assume we have a JWT with a JSON <code>header</code> and a simple text message payload:</p>
<div dir="auto">
<p dir="auto"><strong>header</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<pre>{
  "alg": "none"
}</pre>
</div>
</div>
<div dir="auto">
<p dir="auto"><strong>payload</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<pre>The true sign of intelligence is not knowledge but imagination.</pre>
</div>
</div>
</li>
<li>
<p dir="auto">Remove all unnecessary whitespace in the JSON:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String header = '{&quot;alg&quot;:&quot;none&quot;}'
String payload = 'The true sign of intelligence is not knowledge but imagination.'"><pre><span class="pl-k">String</span> header <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>{"alg":"none"}<span class="pl-pds">'</span></span>
<span class="pl-k">String</span> payload <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>The true sign of intelligence is not knowledge but imagination.<span class="pl-pds">'</span></span></pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">Get the UTF-8 bytes and Base64URL-encode each:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String encodedHeader = base64URLEncode( header.getBytes(&quot;UTF-8&quot;) )
String encodedPayload = base64URLEncode( payload.getBytes(&quot;UTF-8&quot;) )"><pre><span class="pl-k">String</span> encodedHeader <span class="pl-k">=</span> base64URLEncode( header<span class="pl-k">.</span>getBytes(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>) )
<span class="pl-k">String</span> encodedPayload <span class="pl-k">=</span> base64URLEncode( payload<span class="pl-k">.</span>getBytes(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>) )</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">Join the encoded header and claims with period ('.') characters:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String compact = encodedHeader + '.' + encodedPayload + '.'"><pre><span class="pl-k">String</span> compact <span class="pl-k">=</span> encodedHeader <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>.<span class="pl-pds">'</span></span> <span class="pl-k">+</span> encodedPayload <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>.<span class="pl-pds">'</span></span></pre></div>
</div>
</div>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">The final concatenated <code>compact</code> JWT String looks like this:</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>eyJhbGciOiJub25lIn0.VGhlIHRydWUgc2lnbiBvZiBpbnRlbGxpZ2VuY2UgaXMgbm90IGtub3dsZWRnZSBidXQgaW1hZ2luYXRpb24u.</pre>
</div>
</div>
<div dir="auto">
<p dir="auto">This is called an 'unprotected' JWT because no security was involved - no digital signatures or encryption to
'protect' the JWT to ensure it cannot be changed by 3rd parties.</p>
</div>
<div dir="auto">
<p dir="auto">If we wanted to digitally sign the compact form so that we could at least guarantee that no-one changes the data
without us detecting it, we’d have to perform a few more steps, shown next.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-overview-example-jws"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jws-example" tabindex="-1" class="heading-element" dir="auto">JWS Example</h3><a id="user-content-jws-example" class="anchor" aria-label="Permalink: JWS Example" href="#jws-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Instead of a plain text payload, the next example will use probably the most common type of payload - a JSON claims
<code>Object</code> containing information about a particular identity.  We’ll also digitally sign the JWT to ensure it
cannot be changed by a 3rd party without us knowing.</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Assume we have a JSON <code>header</code> and a claims <code>payload</code>:</p>
<div dir="auto">
<p dir="auto"><strong>header</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-json notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="{
  &quot;alg&quot;: &quot;HS256&quot;
}"><pre>{
  <span class="pl-ent">"alg"</span>: <span class="pl-s"><span class="pl-pds">"</span>HS256<span class="pl-pds">"</span></span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><strong>payload</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-json notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="{
  &quot;sub&quot;: &quot;Joe&quot;
}"><pre>{
  <span class="pl-ent">"sub"</span>: <span class="pl-s"><span class="pl-pds">"</span>Joe<span class="pl-pds">"</span></span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">In this case, the <code>header</code> indicates that the <code>HS256</code> (HMAC using SHA-256) algorithm will be used to cryptographically sign
the JWT. Also, the <code>payload</code> JSON object has a single claim, <code>sub</code> with value <code>Joe</code>.</p>
</div>
<div dir="auto">
<p dir="auto">There are a number of standard claims, called <a href="https://tools.ietf.org/html/rfc7519#section-4.1" rel="nofollow">Registered Claims</a>,
in the specification and <code>sub</code> (for 'Subject') is one of them.</p>
</div>
</li>
<li>
<p dir="auto">Remove all unnecessary whitespace in both JSON objects:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String header = '{&quot;alg&quot;:&quot;HS256&quot;}'
String claims = '{&quot;sub&quot;:&quot;Joe&quot;}'"><pre><span class="pl-k">String</span> header <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>{"alg":"HS256"}<span class="pl-pds">'</span></span>
<span class="pl-k">String</span> claims <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>{"sub":"Joe"}<span class="pl-pds">'</span></span></pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">Get their UTF-8 bytes and Base64URL-encode each:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String encodedHeader = base64URLEncode( header.getBytes(&quot;UTF-8&quot;) )
String encodedClaims = base64URLEncode( claims.getBytes(&quot;UTF-8&quot;) )"><pre><span class="pl-k">String</span> encodedHeader <span class="pl-k">=</span> base64URLEncode( header<span class="pl-k">.</span>getBytes(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>) )
<span class="pl-k">String</span> encodedClaims <span class="pl-k">=</span> base64URLEncode( claims<span class="pl-k">.</span>getBytes(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>) )</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">Concatenate the encoded header and claims with a period character '.' delimiter:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String concatenated = encodedHeader + '.' + encodedClaims"><pre><span class="pl-k">String</span> concatenated <span class="pl-k">=</span> encodedHeader <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>.<span class="pl-pds">'</span></span> <span class="pl-k">+</span> encodedClaims</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">Use a sufficiently-strong cryptographic secret or private key, along with a signing algorithm of your choice
(we’ll use HMAC-SHA-256 here), and sign the concatenated string:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content=" SecretKey key = getMySecretKey()
 byte[] signature = hmacSha256( concatenated, key )"><pre> <span class="pl-k">SecretKey</span> key <span class="pl-k">=</span> getMySecretKey()
 <span class="pl-k">byte</span>[] signature <span class="pl-k">=</span> hmacSha256( concatenated, key )</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">Because signatures are always byte arrays, Base64URL-encode the signature and join it to the <code>concatenated</code> string
with a period character '.' delimiter:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String compact = concatenated + '.' + base64URLEncode( signature )"><pre><span class="pl-k">String</span> compact <span class="pl-k">=</span> concatenated <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>.<span class="pl-pds">'</span></span> <span class="pl-k">+</span> base64URLEncode( signature )</pre></div>
</div>
</div>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">And there you have it, the final <code>compact</code> String looks like this:</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKb2UifQ.1KP0SsvENi7Uz1oQc07aXTL7kpQG5jBNIybqr60AlD4</pre>
</div>
</div>
<div dir="auto">
<p dir="auto">This is called a 'JWS' - short for <em>signed</em> JWT.</p>
</div>
<div dir="auto">
<p dir="auto">Of course, no one would want to do this manually in code, and worse, if you get anything wrong, you could introduce
serious security problems and weaknesses.  As a result, JJWT was created to handle all of this for you: JJWT completely
automates both the creation of JWSs and the parsing and verification of JWSs for you.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-overview-example-jwe"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwe-example" tabindex="-1" class="heading-element" dir="auto">JWE Example</h3><a id="user-content-jwe-example" class="anchor" aria-label="Permalink: JWE Example" href="#jwe-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">So far we have seen an unprotected JWT and a cryptographically signed JWT (called a 'JWS').  One of the things
that is inherent to both of these two is that all the information within them can be seen by anyone - all the data in
both the header and the payload is publicly visible.  JWS just ensures the data hasn’t been changed by anyone -
it doesn’t prevent anyone from seeing it.  Many times, this is just fine because the data within them is not
sensitive information.</p>
</div>
<div dir="auto">
<p dir="auto">But what if you needed to represent information in a JWT that <em>is</em> considered sensitive information - maybe someone’s
postal address or social security number or bank account number?</p>
</div>
<div dir="auto">
<p dir="auto">In these cases, we’d want a fully-encrypted JWT, called a 'JWE' for short.  A JWE uses cryptography to ensure that the
payload remains fully encrypted <em>and</em> authenticated so unauthorized parties cannot see data within, nor change the data
without being detected.  Specifically, the JWE specification requires that
<a href="https://en.wikipedia.org/wiki/Authenticated_encryption#Authenticated_encryption_with_associated_data_(AEAD)" rel="nofollow">Authenticated Encryption with Associated Data</a>
algorithms are used to fully encrypt and protect data.</p>
</div>
<div dir="auto">
<p dir="auto">A full overview of AEAD algorithms are out of scope for this documentation, but here’s an example of a final compact
JWE that utilizes these algorithms (line breaks are for readability only):</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>eyJhbGciOiJBMTI4S1ciLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0.
6KB707dM9YTIgHtLvtgWQ8mKwboJW3of9locizkDTHzBC2IlrT1oOQ.
AxY8DCtDaGlsbGljb3RoZQ.
KDlTtXchhZTGufMYmOYGS4HffxPSUrfmqCHXaI9wOGY.
U0m_YmjN04DJvceFICbCVQ</pre>
</div>
</div>
<div dir="auto">
<p dir="auto">Next we’ll cover how to install JJWT in your project, and then we’ll see how to use JJWT’s nice fluent API instead
of risky string manipulation to quickly and safely build JWTs, JWSs, and JWEs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-installation" tabindex="-1" class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">Use your favorite Maven-compatible build tool to pull the dependencies from Maven Central.</p>
</div>
<div dir="auto">
<p dir="auto">The dependencies could differ slightly if you are working with a <a href="#install-jdk">JDK project</a> or an
<a href="#install-android">Android project</a>.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-jdk"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jdk-projects" tabindex="-1" class="heading-element" dir="auto">JDK Projects</h3><a id="user-content-jdk-projects" class="anchor" aria-label="Permalink: JDK Projects" href="#jdk-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you’re building a (non-Android) JDK project, you will want to define the following dependencies:</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-jdk-maven"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-maven" tabindex="-1" class="heading-element" dir="auto">Maven</h4><a id="user-content-maven" class="anchor" aria-label="Permalink: Maven" href="#maven"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-text-xml notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="&lt;dependency&gt;
    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
    &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;
    &lt;version&gt;0.12.6&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
    &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;
    &lt;version&gt;0.12.6&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;
    &lt;version&gt;0.12.6&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
&lt;!-- Uncomment this next dependency if you are using:
     - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.
     - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.
     - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.
     It is unnecessary for these algorithms on JDK 15 or later.
&lt;dependency&gt;
    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;
    &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt; or bcprov-jdk15to18 on JDK 7
    &lt;version&gt;1.76&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
--&gt;"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;io.jsonwebtoken&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;jjwt-api&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;0.12.6&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;
&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;io.jsonwebtoken&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;jjwt-impl&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;0.12.6&lt;/<span class="pl-ent">version</span>&gt;
    &lt;<span class="pl-ent">scope</span>&gt;runtime&lt;/<span class="pl-ent">scope</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;
&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;io.jsonwebtoken&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;jjwt-jackson&lt;/<span class="pl-ent">artifactId</span>&gt; <span class="pl-c"><span class="pl-c">&lt;!--</span> or jjwt-gson if Gson is preferred <span class="pl-c">--&gt;</span></span>
    &lt;<span class="pl-ent">version</span>&gt;0.12.6&lt;/<span class="pl-ent">version</span>&gt;
    &lt;<span class="pl-ent">scope</span>&gt;runtime&lt;/<span class="pl-ent">scope</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> Uncomment this next dependency if you are using:</span>
<span class="pl-c">     - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.</span>
<span class="pl-c">     - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.</span>
<span class="pl-c">     - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.</span>
<span class="pl-c">     It is unnecessary for these algorithms on JDK 15 or later.</span>
<span class="pl-c">&lt;dependency&gt;</span>
<span class="pl-c">    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;</span>
<span class="pl-c">    &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt; or bcprov-jdk15to18 on JDK 7</span>
<span class="pl-c">    &lt;version&gt;1.76&lt;/version&gt;</span>
<span class="pl-c">    &lt;scope&gt;runtime&lt;/scope&gt;</span>
<span class="pl-c">&lt;/dependency&gt;</span>
<span class="pl-c"><span class="pl-c">--&gt;</span></span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-jdk-gradle"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-gradle" tabindex="-1" class="heading-element" dir="auto">Gradle</h4><a id="user-content-gradle" class="anchor" aria-label="Permalink: Gradle" href="#gradle"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dependencies {
    implementation 'io.jsonwebtoken:jjwt-api:0.12.6'
    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.6'
    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.6' // or 'io.jsonwebtoken:jjwt-gson:0.12.6' for gson
    /*
      Uncomment this next dependency if you are using:
       - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.
       - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.
       - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.
      It is unnecessary for these algorithms on JDK 15 or later.
    */
    // runtimeOnly 'org.bouncycastle:bcprov-jdk18on:1.76' // or bcprov-jdk15to18 on JDK 7
}"><pre>dependencies {
    implementation <span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-api:0.12.6<span class="pl-pds">'</span></span>
    runtimeOnly <span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-impl:0.12.6<span class="pl-pds">'</span></span>
    runtimeOnly <span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-jackson:0.12.6<span class="pl-pds">'</span></span> <span class="pl-c"><span class="pl-c">//</span> or 'io.jsonwebtoken:jjwt-gson:0.12.6' for gson</span>
    <span class="pl-c"><span class="pl-c">/*</span></span>
<span class="pl-c">      Uncomment this next dependency if you are using:</span>
<span class="pl-c">       - JDK 10 or earlier, and you want to use RSASSA-PSS (PS256, PS384, PS512) signature algorithms.</span>
<span class="pl-c">       - JDK 10 or earlier, and you want to use EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.</span>
<span class="pl-c">       - JDK 14 or earlier, and you want to use EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.</span>
<span class="pl-c">      It is unnecessary for these algorithms on JDK 15 or later.</span>
<span class="pl-c">    <span class="pl-c">*/</span></span>
    <span class="pl-c"><span class="pl-c">//</span> runtimeOnly 'org.bouncycastle:bcprov-jdk18on:1.76' // or bcprov-jdk15to18 on JDK 7</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-android"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-android-projects" tabindex="-1" class="heading-element" dir="auto">Android Projects</h3><a id="user-content-android-projects" class="anchor" aria-label="Permalink: Android Projects" href="#android-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Android projects will want to define the following dependencies and Proguard exclusions, and optional
BouncyCastle <code>Provider</code>:</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-android-dependencies"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-dependencies" tabindex="-1" class="heading-element" dir="auto">Dependencies</h4><a id="user-content-dependencies" class="anchor" aria-label="Permalink: Dependencies" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Add the dependencies to your project:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dependencies {
    api('io.jsonwebtoken:jjwt-api:0.12.6')
    runtimeOnly('io.jsonwebtoken:jjwt-impl:0.12.6')
    runtimeOnly('io.jsonwebtoken:jjwt-orgjson:0.12.6') {
        exclude(group: 'org.json', module: 'json') //provided by Android natively
    }
    /*
      Uncomment this next dependency if you want to use:
       - RSASSA-PSS (PS256, PS384, PS512) signature algorithms.
       - EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.
       - EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.
      ** AND ALSO ensure you enable the BouncyCastle provider as shown below **
    */
    //implementation('org.bouncycastle:bcprov-jdk18on:1.76') // or bcprov-jdk15to18 for JDK 7
}"><pre>dependencies {
    api(<span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-api:0.12.6<span class="pl-pds">'</span></span>)
    runtimeOnly(<span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-impl:0.12.6<span class="pl-pds">'</span></span>)
    runtimeOnly(<span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-orgjson:0.12.6<span class="pl-pds">'</span></span>) {
        exclude(<span class="pl-c1">group</span>: <span class="pl-s"><span class="pl-pds">'</span>org.json<span class="pl-pds">'</span></span>, <span class="pl-c1">module</span>: <span class="pl-s"><span class="pl-pds">'</span>json<span class="pl-pds">'</span></span>) <span class="pl-c"><span class="pl-c">//</span>provided by Android natively</span>
    }
    <span class="pl-c"><span class="pl-c">/*</span></span>
<span class="pl-c">      Uncomment this next dependency if you want to use:</span>
<span class="pl-c">       - RSASSA-PSS (PS256, PS384, PS512) signature algorithms.</span>
<span class="pl-c">       - EdECDH (X25519 or X448) Elliptic Curve Diffie-Hellman encryption.</span>
<span class="pl-c">       - EdDSA (Ed25519 or Ed448) Elliptic Curve signature algorithms.</span>
<span class="pl-c">      ** AND ALSO ensure you enable the BouncyCastle provider as shown below **</span>
<span class="pl-c">    <span class="pl-c">*/</span></span>
    <span class="pl-c"><span class="pl-c">//</span>implementation('org.bouncycastle:bcprov-jdk18on:1.76') // or bcprov-jdk15to18 for JDK 7</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-android-proguard"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-proguard" tabindex="-1" class="heading-element" dir="auto">Proguard</h4><a id="user-content-proguard" class="anchor" aria-label="Permalink: Proguard" href="#proguard"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You can use the following <a href="https://developer.android.com/studio/build/shrink-code" rel="nofollow">Android Proguard</a> exclusion rules:</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>-keepattributes InnerClasses

-keep class io.jsonwebtoken.** { *; }
-keepnames class io.jsonwebtoken.* { *; }
-keepnames interface io.jsonwebtoken.* { *; }

-keep class org.bouncycastle.** { *; }
-keepnames class org.bouncycastle.** { *; }
-dontwarn org.bouncycastle.**</pre>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-android-bc"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-bouncy-castle" tabindex="-1" class="heading-element" dir="auto">Bouncy Castle</h4><a id="user-content-bouncy-castle" class="anchor" aria-label="Permalink: Bouncy Castle" href="#bouncy-castle"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to use JWT RSASSA-PSS algorithms (i.e. <code>PS256</code>, <code>PS384</code>, and <code>PS512</code>), EdECDH (<code>X25512</code> or <code>X448</code>)
Elliptic Curve Diffie-Hellman encryption, EdDSA (<code>Ed25519</code> or <code>Ed448</code>) signature algorithms, or you just want to
ensure your Android application is running an updated version of BouncyCastle, you will need to:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Uncomment the BouncyCastle dependency as commented above in the <a href="#install-android-dependencies">dependencies</a> section.</p>
</li>
<li>
<p dir="auto">Replace the legacy Android custom <code>BC</code> provider with the updated one.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">Provider registration needs to be done <em>early</em> in the application’s lifecycle, preferably in your application’s
main <code>Activity</code> class as a static initialization block.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-kotlin notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="class MainActivity : AppCompatActivity() {

    companion object {
        init {
            Security.removeProvider(&quot;BC&quot;) //remove old/legacy Android-provided BC provider
            Security.addProvider(BouncyCastleProvider()) // add 'real'/correct BC provider
        }
    }

    // ... etc ...
}"><pre><span class="pl-k">class</span> <span class="pl-en">MainActivity</span> : <span class="pl-en">AppCompatActivity</span>() {

    <span class="pl-k">companion</span> <span class="pl-k">object</span> {
        <span class="pl-en">init</span> {
            <span class="pl-en">Security</span>.removeProvider(<span class="pl-s"><span class="pl-pds">"</span>BC<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span>remove old/legacy Android-provided BC provider</span>
            <span class="pl-en">Security</span>.addProvider(<span class="pl-en">BouncyCastleProvider</span>()) <span class="pl-c"><span class="pl-c">//</span> add 'real'/correct BC provider</span>
        }
    }

    <span class="pl-c"><span class="pl-c">//</span> ... etc ...</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-install-understandingdependencies"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-understanding-jjwt-dependencies" tabindex="-1" class="heading-element" dir="auto">Understanding JJWT Dependencies</h3><a id="user-content-understanding-jjwt-dependencies" class="anchor" aria-label="Permalink: Understanding JJWT Dependencies" href="#understanding-jjwt-dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Notice the above JJWT dependency declarations all have only one compile-time dependency and the rest are declared as
<em>runtime</em> dependencies.</p>
</div>
<div dir="auto">
<p dir="auto">This is because JJWT is designed so you only depend on the APIs that are explicitly designed for you to use in
your applications and all other internal implementation details - that can change without warning - are relegated to
runtime-only dependencies.  This is an extremely important point if you want to ensure stable JJWT usage and
upgrades over time:</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto">JJWT guarantees semantic versioning compatibility for all of its artifacts <em>except</em> the <code>jjwt-impl</code> .jar.  No such
guarantee is made for the <code>jjwt-impl</code> .jar and internal changes in that .jar can happen at any time.  Never add the
<code>jjwt-impl</code> .jar to your project with <code>compile</code> scope - always declare it with <code>runtime</code> scope.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">This is done to benefit you: great care goes into curating the <code>jjwt-api</code> .jar and ensuring it contains what you need
and remains backwards compatible as much as is possible so you can depend on that safely with compile scope.  The
runtime <code>jjwt-impl</code> .jar strategy affords the JJWT developers the flexibility to change the internal packages and
implementations whenever and however necessary.  This helps us implement features, fix bugs, and ship new releases to
you more quickly and efficiently.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-quickstart"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-quickstart" tabindex="-1" class="heading-element" dir="auto">Quickstart</h2><a id="user-content-quickstart" class="anchor" aria-label="Permalink: Quickstart" href="#quickstart"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">Most complexity is hidden behind a convenient and readable builder-based
<a href="http://en.wikipedia.org/wiki/Fluent_interface" rel="nofollow">fluent interface</a>, great for relying on IDE auto-completion to write
code quickly.  Here’s an example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.security.Keys;
import java.security.Key;

// We need a signing key, so we'll create one just for this example. Usually
// the key would be read from your application configuration instead.
SecretKey key = Jwts.SIG.HS256.key().build();

String jws = Jwts.builder().subject(&quot;Joe&quot;).signWith(key).compact();"><pre><span class="pl-k">import</span> <span class="pl-s1">io</span>.<span class="pl-s1">jsonwebtoken</span>.<span class="pl-s1">Jwts</span>;
<span class="pl-k">import</span> <span class="pl-s1">io</span>.<span class="pl-s1">jsonwebtoken</span>.<span class="pl-s1">security</span>.<span class="pl-s1">Keys</span>;
<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">security</span>.<span class="pl-s1">Key</span>;

<span class="pl-c">// We need a signing key, so we'll create one just for this example. Usually</span>
<span class="pl-c">// the key would be read from your application configuration instead.</span>
<span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS256</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>();

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">subject</span>(<span class="pl-s">"Joe"</span>).<span class="pl-en">signWith</span>(<span class="pl-s1">key</span>).<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">How easy was that!?</p>
</div>
<div dir="auto">
<p dir="auto">In this case, we are:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto"><em>building</em> a JWT that will have the
<a href="https://tools.ietf.org/html/rfc7519#section-4.1" rel="nofollow">registered claim</a> <code>sub</code> (Subject) set to <code>Joe</code>. We are then</p>
</li>
<li>
<p dir="auto"><em>signing</em> the JWT using a key suitable for the HMAC-SHA-256 algorithm.  Finally, we are</p>
</li>
<li>
<p dir="auto"><em>compacting</em> it into its final <code>String</code> form.  A signed JWT is called a 'JWS'.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">The resultant <code>jws</code> String looks like this:</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKb2UifQ.1KP0SsvENi7Uz1oQc07aXTL7kpQG5jBNIybqr60AlD4</pre>
</div>
</div>
<div dir="auto">
<p dir="auto">Now let’s verify the JWT (you should always discard JWTs that don’t match an expected signature):</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="assert Jwts.parser().verifyWith(key).build().parseSignedClaims(jws).getPayload().getSubject().equals(&quot;Joe&quot;);"><pre><span class="pl-k">assert</span> <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">verifyWith</span>(<span class="pl-s1">key</span>).<span class="pl-en">build</span>().<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jws</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getSubject</span>().<span class="pl-en">equals</span>(<span class="pl-s">"Joe"</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">There are two things going on here. The <code>key</code> from before is being used to verify the signature of the JWT. If it
fails to verify the JWT, a <code>SignatureException</code> (which extends <code>JwtException</code>) is thrown. Assuming the JWT is
verified, we parse the claims and assert that that subject is set to <code>Joe</code>.  You have to love code one-liners
that pack a punch!</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>Type-safe JWTs:</strong> To get a type-safe <code>Claims</code> JWT result, call the <code>parseSignedClaims</code> method (since there are many
similar methods available). You will get an <code>UnsupportedJwtException</code> if you parse your JWT with wrong method.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">But what if parsing or signature validation failed?  You can catch <code>JwtException</code> and react accordingly:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="try {

    Jwts.parser().verifyWith(key).build().parseSignedClaims(compactJws);

    //OK, we can trust this JWT

} catch (JwtException e) {

    //don't trust the JWT!
}"><pre><span class="pl-k">try</span> {

    <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">verifyWith</span>(<span class="pl-s1">key</span>).<span class="pl-en">build</span>().<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">compactJws</span>);

    <span class="pl-c">//OK, we can trust this JWT</span>

} <span class="pl-k">catch</span> (<span class="pl-smi">JwtException</span> <span class="pl-s1">e</span>) {

    <span class="pl-c">//don't trust the JWT!</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Now that we’ve had a quickstart 'taste' of how to create and parse JWTs, let’s cover JJWT’s API in-depth.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-create"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-creating-a-jwt" tabindex="-1" class="heading-element" dir="auto">Creating a JWT</h2><a id="user-content-creating-a-jwt" class="anchor" aria-label="Permalink: Creating a JWT" href="#creating-a-jwt"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">You create a JWT as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwts.builder()</code> method to create a <code>JwtBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Optionally set any <a href="#jwt-header"><code>header</code> parameters</a> as desired.</p>
</li>
<li>
<p dir="auto">Call builder methods to set the payload <a href="#jwt-content">content</a> or <a href="#jwt-claims">claims</a>.</p>
</li>
<li>
<p dir="auto">Optionally call <code>signWith</code> or <code>encryptWith</code> methods if you want to digitally sign or encrypt the JWT.</p>
</li>
<li>
<p dir="auto">Call the <code>compact()</code> method to produce the resulting compact JWT string.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jwt = Jwts.builder()                     // (1)

    .header()                                   // (2) optional
        .keyId(&quot;aKeyId&quot;)
        .and()

    .subject(&quot;Bob&quot;)                             // (3) JSON Claims, or
    //.content(aByteArray, &quot;text/plain&quot;)        //     any byte[] content, with media type

    .signWith(signingKey)                       // (4) if signing, or
    //.encryptWith(key, keyAlg, encryptionAlg)  //     if encrypting

    .compact();                                 // (5)"><pre><span class="pl-smi">String</span> <span class="pl-s1">jwt</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()                     <span class="pl-c">// (1)</span>

    .<span class="pl-en">header</span>()                                   <span class="pl-c">// (2) optional</span>
        .<span class="pl-en">keyId</span>(<span class="pl-s">"aKeyId"</span>)
        .<span class="pl-en">and</span>()

    .<span class="pl-en">subject</span>(<span class="pl-s">"Bob"</span>)                             <span class="pl-c">// (3) JSON Claims, or</span>
    <span class="pl-c">//.content(aByteArray, "text/plain")        //     any byte[] content, with media type</span>

    .<span class="pl-en">signWith</span>(<span class="pl-s1">signingKey</span>)                       <span class="pl-c">// (4) if signing, or</span>
    <span class="pl-c">//.encryptWith(key, keyAlg, encryptionAlg)  //     if encrypting</span>

    .<span class="pl-en">compact</span>();                                 <span class="pl-c">// (5)</span></pre></div>
</div>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">The JWT <code>payload</code> may be either <code>byte[]</code> content (via <code>content</code>) <em>or</em> JSON Claims
(such as <code>subject</code>, <code>claims</code>, etc), but not both.</p>
</li>
<li>
<p dir="auto">Either digital signatures (<code>signWith</code>) or encryption (<code>encryptWith</code>) may be used, but not both.</p>
</li>
</ul>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>Unprotected JWTs</strong>: If you do not use the <code>signWith</code> or <code>encryptWith</code> builder methods, <strong>an Unprotected JWT will be
created, which offers no security protection at all</strong>.  If you need security protection, consider either
<a href="#jws">digitally signing</a> or <a href="#jwe">encrypting</a> the JWT before calling the <code>compact()</code> builder method.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-header"></a><a name="user-content-jws-create-header"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-header" tabindex="-1" class="heading-element" dir="auto">JWT Header</h3><a id="user-content-jwt-header" class="anchor" aria-label="Permalink: JWT Header" href="#jwt-header"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">A JWT header is a JSON <code>Object</code> that provides metadata about the contents, format, and any cryptographic operations
relevant to the JWT <code>payload</code>.  JJWT provides a number of ways of setting the entire header and/or multiple individual
header parameters (name/value pairs).</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-header-builder"></a><a name="user-content-jws-create-header-instance"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwtbuilder-header" tabindex="-1" class="heading-element" dir="auto">JwtBuilder Header</h4><a id="user-content-jwtbuilder-header" class="anchor" aria-label="Permalink: JwtBuilder Header" href="#jwtbuilder-header"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The easiest and recommended way to set one or more JWT header parameters (name/value pairs) is to use the
<code>JwtBuilder</code>'s <code>header()</code> builder as desired, and then call its <code>and()</code> method to return back
to the <code>JwtBuilder</code> for further configuration. For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jwt = Jwts.builder()

    .header()                        // &lt;----
        .keyId(&quot;aKeyId&quot;)
        .x509Url(aUri)
        .add(&quot;someName&quot;, anyValue)
        .add(mapValues)
        // ... etc ...
        .and()                      // go back to the JwtBuilder

    .subject(&quot;Joe&quot;)                 // resume JwtBuilder calls...
    // ... etc ...
    .compact();"><pre><span class="pl-smi">String</span> <span class="pl-s1">jwt</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">header</span>()                        <span class="pl-c">// &lt;----</span>
        .<span class="pl-en">keyId</span>(<span class="pl-s">"aKeyId"</span>)
        .<span class="pl-en">x509Url</span>(<span class="pl-s1">aUri</span>)
        .<span class="pl-en">add</span>(<span class="pl-s">"someName"</span>, <span class="pl-s1">anyValue</span>)
        .<span class="pl-en">add</span>(<span class="pl-s1">mapValues</span>)
        <span class="pl-c">// ... etc ...</span>
        .<span class="pl-en">and</span>()                      <span class="pl-c">// go back to the JwtBuilder</span>

    .<span class="pl-en">subject</span>(<span class="pl-s">"Joe"</span>)                 <span class="pl-c">// resume JwtBuilder calls...</span>
    <span class="pl-c">// ... etc ...</span>
    .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>JwtBuilder</code> <code>header()</code> builder also supports automatically calculating X.509 thumbprints and other builder-style benefits that
a simple property getter/setter object would not do.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>Automatic Headers</strong>: You do not need to set the <code>alg</code>, <code>enc</code> or <code>zip</code> headers - JJWT will always set them
automatically as needed.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-header-params"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-custom-header-parameters" tabindex="-1" class="heading-element" dir="auto">Custom Header Parameters</h5><a id="user-content-custom-header-parameters" class="anchor" aria-label="Permalink: Custom Header Parameters" href="#custom-header-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">In addition to type-safe builder methods for standard header parameters, <code>JwtBuilder.header()</code> can also support
arbitrary name/value pairs via the <code>add</code> method:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.builder()

    .header()
        .add(&quot;aHeaderName&quot;, aValue)
        // ... etc ...
        .and() // return to the JwtBuilder

// ... etc ..."><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">header</span>()
        .<span class="pl-en">add</span>(<span class="pl-s">"aHeaderName"</span>, <span class="pl-s1">aValue</span>)
        <span class="pl-c">// ... etc ...</span>
        .<span class="pl-en">and</span>() <span class="pl-c">// return to the JwtBuilder</span>

<span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-header-map"></a><a name="user-content-jws-create-header-map"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-header-parameter-map" tabindex="-1" class="heading-element" dir="auto">Header Parameter Map</h5><a id="user-content-header-parameter-map" class="anchor" aria-label="Permalink: Header Parameter Map" href="#header-parameter-map"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The <code>add</code> method is also overloaded to support multiple parameters in a <code>Map</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.builder()

    .header()
        .add(multipleHeaderParamsMap)
        // ... etc ...
        .and() // return to the JwtBuilder

// ... etc ..."><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">header</span>()
        .<span class="pl-en">add</span>(<span class="pl-s1">multipleHeaderParamsMap</span>)
        <span class="pl-c">// ... etc ...</span>
        .<span class="pl-en">and</span>() <span class="pl-c">// return to the JwtBuilder</span>

<span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwts-headerbuilder" tabindex="-1" class="heading-element" dir="auto">Jwts HeaderBuilder</h4><a id="user-content-jwts-headerbuilder" class="anchor" aria-label="Permalink: Jwts HeaderBuilder" href="#jwts-headerbuilder"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Using <code>Jwts.builder().header()</code> shown above is the preferred way to modify a header when using the <code>JwtBuilder</code>.</p>
</div>
<div dir="auto">
<p dir="auto">However, if you would like to create a 'standalone' <code>Header</code> outside of the context of using the <code>JwtBuilder</code>, you
can use <code>Jwts.header()</code> instead to return an independent <code>Header</code> builder.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Header header = Jwts.header()

        .keyId(&quot;aKeyId&quot;)
        .x509Url(aUri)
        .add(&quot;someName&quot;, anyValue)
        .add(mapValues)
        // ... etc ...

        .build()  // &lt;---- not 'and()'"><pre><span class="pl-smi">Header</span> <span class="pl-s1">header</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">header</span>()

        .<span class="pl-en">keyId</span>(<span class="pl-s">"aKeyId"</span>)
        .<span class="pl-en">x509Url</span>(<span class="pl-s1">aUri</span>)
        .<span class="pl-en">add</span>(<span class="pl-s">"someName"</span>, <span class="pl-s1">anyValue</span>)
        .<span class="pl-en">add</span>(<span class="pl-s1">mapValues</span>)
        <span class="pl-c">// ... etc ...</span>

        .<span class="pl-en">build</span>()  <span class="pl-c">// &lt;---- not 'and()'</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">There are only two differences between <code>Jwts.header()</code> and <code>Jwts.builder().header()</code>:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto"><code>Jwts.header()</code> builds a 'detached' <code>Header</code> that is not associated with any particular JWT, whereas
<code>Jwts.builder().header()</code> always modifies the header of the immediate JWT being constructed by its parent
<code>JwtBuilder</code>.</p>
</li>
<li>
<p dir="auto"><code>Jwts.header()</code> has a <code>build()</code> method to produce an explicit <code>Header</code> instance and
<code>Jwts.builder().header()</code> does not (it has an <code>and()</code> method instead) because its parent <code>JwtBuilder</code> will implicitly
create the header instance when necessary.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">A standalone header might be useful if you want to aggregate common header parameters in a single 'template'
instance so you don’t have to repeat them for each <code>JwtBuilder</code> usage.  Then this 'template' <code>Header</code> can be used to
populate <code>JwtBuilder</code> usages by just appending it to the <code>JwtBuilder</code> header, for example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// perhaps somewhere in application configuration:
Header commonHeaders = Jwts.header()
    .issuer(&quot;My Company&quot;)
    // ... etc ...
    .build();

// --------------------------------

// somewhere else during actual Jwt construction:
String jwt = Jwts.builder()

    .header()
        .add(commonHeaders)                   // &lt;----
        .add(&quot;specificHeader&quot;, specificValue) // jwt-specific headers...
        .and()

    .subject(&quot;whatever&quot;)
    // ... etc ...
    .compact();"><pre><span class="pl-c">// perhaps somewhere in application configuration:</span>
<span class="pl-smi">Header</span> <span class="pl-s1">commonHeaders</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">header</span>()
    .<span class="pl-en">issuer</span>(<span class="pl-s">"My Company"</span>)
    <span class="pl-c">// ... etc ...</span>
    .<span class="pl-en">build</span>();

<span class="pl-c">// --------------------------------</span>

<span class="pl-c">// somewhere else during actual Jwt construction:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwt</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">header</span>()
        .<span class="pl-en">add</span>(<span class="pl-s1">commonHeaders</span>)                   <span class="pl-c">// &lt;----</span>
        .<span class="pl-en">add</span>(<span class="pl-s">"specificHeader"</span>, <span class="pl-s1">specificValue</span>) <span class="pl-c">// jwt-specific headers...</span>
        .<span class="pl-en">and</span>()

    .<span class="pl-en">subject</span>(<span class="pl-s">"whatever"</span>)
    <span class="pl-c">// ... etc ...</span>
    .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-payload"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-payload" tabindex="-1" class="heading-element" dir="auto">JWT Payload</h3><a id="user-content-jwt-payload" class="anchor" aria-label="Permalink: JWT Payload" href="#jwt-payload"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">A JWT <code>payload</code> can be anything at all - anything that can be represented as a byte array, such as text, images,
documents, and more.  But since a JWT <code>header</code> is always JSON, it makes sense that the <code>payload</code> could also be JSON,
especially for representing identity claims.</p>
</div>
<div dir="auto">
<p dir="auto">As a result, the <code>JwtBuilder</code> supports two distinct payload options:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>content</code> if you would like the payload to be arbitrary byte array content, or</p>
</li>
<li>
<p dir="auto"><code>claims</code> (and supporting helper methods) if you would like the payload to be a JSON Claims <code>Object</code>.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">Either option may be used, but not both. Using both will cause <code>compact()</code> to throw an exception.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-content"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-arbitrary-content" tabindex="-1" class="heading-element" dir="auto">Arbitrary Content</h4><a id="user-content-arbitrary-content" class="anchor" aria-label="Permalink: Arbitrary Content" href="#arbitrary-content"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You can set the JWT payload to be any arbitrary byte array content by using the <code>JwtBuilder</code> <code>content</code> method.
For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="byte[] content = &quot;Hello World&quot;.getBytes(StandardCharsets.UTF_8);

String jwt = Jwts.builder()

    .content(content, &quot;text/plain&quot;) // &lt;---

    // ... etc ...

    .build();"><pre><span class="pl-smi">byte</span>[] <span class="pl-s1">content</span> = <span class="pl-s">"Hello World"</span>.<span class="pl-en">getBytes</span>(<span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);

<span class="pl-smi">String</span> <span class="pl-s1">jwt</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">content</span>(<span class="pl-s1">content</span>, <span class="pl-s">"text/plain"</span>) <span class="pl-c">// &lt;---</span>

    <span class="pl-c">// ... etc ...</span>

    .<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Notice this particular example of <code>content</code> uses the two-argument convenience variant:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">The first argument is the actual byte content to set as the JWT payload</p>
</li>
<li>
<p dir="auto">The second argument is a String identifier of an IANA Media Type.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">The second argument will cause the <code>JwtBuilder</code> to automatically set the <code>cty</code> (Content Type) header according to the
JWT specification’s <a href="https://www.rfc-editor.org/rfc/rfc7515.html#section-4.1.10" rel="nofollow">recommended compact format</a>.</p>
</div>
<div dir="auto">
<p dir="auto">This two-argument variant is typically recommended over the single-argument <code>content(byte[])</code> method because it
guarantees the JWT recipient can inspect the <code>cty</code> header to determine how to convert the <code>payload</code> byte array into
a final form that the application can use.</p>
</div>
<div dir="auto">
<p dir="auto">Without setting the <code>cty</code> header, the JWT recipient <em>must</em> know via out-of-band (external) information how to process
the byte array, which is usually less convenient and always requires code changes if the content format ever changes.
For these reasons, it is strongly recommended to use the two-argument <code>content</code> method variant.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-claims"></a><a name="user-content-jws-create-claims"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwt-claims" tabindex="-1" class="heading-element" dir="auto">JWT Claims</h4><a id="user-content-jwt-claims" class="anchor" aria-label="Permalink: JWT Claims" href="#jwt-claims"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Instead of a content byte array, a JWT payload may contain assertions or claims for a JWT recipient. In
this case, the payload is a <code>Claims</code> JSON <code>Object</code>, and JJWT supports claims creation with type-safe
builder methods.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-claims-standard"></a><a name="user-content-jws-create-claims-standard"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-standard-claims" tabindex="-1" class="heading-element" dir="auto">Standard Claims</h5><a id="user-content-standard-claims" class="anchor" aria-label="Permalink: Standard Claims" href="#standard-claims"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The <code>JwtBuilder</code> provides convenient builder methods for standard registered Claim names defined in the JWT
specification.  They are:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>issuer</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.1" rel="nofollow"><code>iss</code> (Issuer) Claim</a></p>
</li>
<li>
<p dir="auto"><code>subject</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.2" rel="nofollow"><code>sub</code> (Subject) Claim</a></p>
</li>
<li>
<p dir="auto"><code>audience</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.3" rel="nofollow"><code>aud</code> (Audience) Claim</a></p>
</li>
<li>
<p dir="auto"><code>expiration</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.4" rel="nofollow"><code>exp</code> (Expiration Time) Claim</a></p>
</li>
<li>
<p dir="auto"><code>notBefore</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.5" rel="nofollow"><code>nbf</code> (Not Before) Claim</a></p>
</li>
<li>
<p dir="auto"><code>issuedAt</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.6" rel="nofollow"><code>iat</code> (Issued At) Claim</a></p>
</li>
<li>
<p dir="auto"><code>id</code>: sets the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.7" rel="nofollow"><code>jti</code> (JWT ID) Claim</a></p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jws = Jwts.builder()

    .issuer(&quot;me&quot;)
    .subject(&quot;Bob&quot;)
    .audience().add(&quot;you&quot;).and()
    .expiration(expiration) //a java.util.Date
    .notBefore(notBefore) //a java.util.Date
    .issuedAt(new Date()) // for example, now
    .id(UUID.randomUUID().toString()) //just an example id

    /// ... etc ..."><pre><span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">issuer</span>(<span class="pl-s">"me"</span>)
    .<span class="pl-en">subject</span>(<span class="pl-s">"Bob"</span>)
    .<span class="pl-en">audience</span>().<span class="pl-en">add</span>(<span class="pl-s">"you"</span>).<span class="pl-en">and</span>()
    .<span class="pl-en">expiration</span>(<span class="pl-s1">expiration</span>) <span class="pl-c">//a java.util.Date</span>
    .<span class="pl-en">notBefore</span>(<span class="pl-s1">notBefore</span>) <span class="pl-c">//a java.util.Date</span>
    .<span class="pl-en">issuedAt</span>(<span class="pl-k">new</span> <span class="pl-smi">Date</span>()) <span class="pl-c">// for example, now</span>
    .<span class="pl-en">id</span>(<span class="pl-c1">UUID</span>.<span class="pl-en">randomUUID</span>().<span class="pl-en">toString</span>()) <span class="pl-c">//just an example id</span>

    <span class="pl-c">/// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-claims-custom"></a><a name="user-content-jws-create-claims-custom"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-custom-claims" tabindex="-1" class="heading-element" dir="auto">Custom Claims</h5><a id="user-content-custom-claims" class="anchor" aria-label="Permalink: Custom Claims" href="#custom-claims"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you need to set one or more custom claims that don’t match the standard setter method claims shown above, you
can simply call the <code>JwtBuilder</code> <code>claim</code> method one or more times as needed:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jws = Jwts.builder()

    .claim(&quot;hello&quot;, &quot;world&quot;)

    // ... etc ..."><pre><span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">claim</span>(<span class="pl-s">"hello"</span>, <span class="pl-s">"world"</span>)

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Each time <code>claim</code> is called, it simply appends the key-value pair to an internal <code>Claims</code> builder, potentially
overwriting any existing identically-named key/value pair.</p>
</div>
<div dir="auto">
<p dir="auto">Obviously, you do not need to call <code>claim</code> for any <a href="#jws-create-claims-standard">standard claim name</a>, and it is
recommended instead to call the standard respective type-safe named builder method as this enhances readability.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-create-claims-instance"></a>
<a name="user-content-jwt-claims-instance"></a>
<a name="user-content-jwt-claims-map"></a><a name="user-content-jws-create-claims-map"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-claims-map" tabindex="-1" class="heading-element" dir="auto">Claims Map</h5><a id="user-content-claims-map" class="anchor" aria-label="Permalink: Claims Map" href="#claims-map"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to add multiple claims at once, you can use <code>JwtBuilder</code> <code>claims(Map)</code> method:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Map&lt;String,?&gt; claims = getMyClaimsMap(); //implement me

String jws = Jwts.builder()

    .claims(claims)

    // ... etc ..."><pre><span class="pl-smi">Map</span>&lt;<span class="pl-smi">String</span>,?&gt; <span class="pl-s1">claims</span> = <span class="pl-en">getMyClaimsMap</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">claims</span>(<span class="pl-s1">claims</span>)

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-compression"></a><a name="user-content-jws-create-compression"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-compression" tabindex="-1" class="heading-element" dir="auto">JWT Compression</h3><a id="user-content-jwt-compression" class="anchor" aria-label="Permalink: JWT Compression" href="#jwt-compression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If your JWT payload is large (contains a lot of data), you might want to compress the JWT to reduce its size.  Note
that this is <em>not</em> a standard feature for all JWTs - only JWEs - and is not likely to be supported by other JWT
libraries for non-JWE tokens.  JJWT supports compression for both JWSs and JWEs, however.</p>
</div>
<div dir="auto">
<p dir="auto">Please see the main <a href="#compression">Compression</a> section to see how to compress and decompress JWTs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-read"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-reading-a-jwt" tabindex="-1" class="heading-element" dir="auto">Reading a JWT</h2><a id="user-content-reading-a-jwt" class="anchor" aria-label="Permalink: Reading a JWT" href="#reading-a-jwt"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">You read (parse) a JWT as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwts.parser()</code> method to create a <code>JwtParserBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Optionally call <code>keyLocator</code>, <code>verifyWith</code> or <code>decryptWith</code> methods if you expect to parse <a href="#jws">signed</a> or <a href="#jwe">encrypted</a> JWTs.</p>
</li>
<li>
<p dir="auto">Call the <code>build()</code> method on the <code>JwtParserBuilder</code> to create and return a thread-safe <code>JwtParser</code>.</p>
</li>
<li>
<p dir="auto">Call one of the various <code>parse*</code> methods with your compact JWT string, depending on the type of JWT you expect.</p>
</li>
<li>
<p dir="auto">Wrap the <code>parse*</code> call in a try/catch block in case parsing, signature verification, or decryption fails.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwt&lt;?,?&gt; jwt;

try {
    jwt = Jwts.parser()     // (1)

    .keyLocator(keyLocator) // (2) dynamically locate signing or encryption keys
    //.verifyWith(key)      //     or a constant key used to verify all signed JWTs
    //.decryptWith(key)     //     or a constant key used to decrypt all encrypted JWTs

    .build()                // (3)

    .parse(compact);        // (4) or parseSignedClaims, parseEncryptedClaims, parseSignedContent, etc

    // we can safely trust the JWT

catch (JwtException ex) {   // (5)

    // we *cannot* use the JWT as intended by its creator
}"><pre><span class="pl-smi">Jwt</span>&lt;?,?&gt; <span class="pl-s1">jwt</span>;

<span class="pl-k">try</span> {
    <span class="pl-s1">jwt</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()     <span class="pl-c">// (1)</span>

    .<span class="pl-en">keyLocator</span>(<span class="pl-s1">keyLocator</span>) <span class="pl-c">// (2) dynamically locate signing or encryption keys</span>
    <span class="pl-c">//.verifyWith(key)      //     or a constant key used to verify all signed JWTs</span>
    <span class="pl-c">//.decryptWith(key)     //     or a constant key used to decrypt all encrypted JWTs</span>

    .<span class="pl-en">build</span>()                <span class="pl-c">// (3)</span>

    .<span class="pl-en">parse</span>(<span class="pl-s1">compact</span>);        <span class="pl-c">// (4) or parseSignedClaims, parseEncryptedClaims, parseSignedContent, etc</span>

    <span class="pl-c">// we can safely trust the JWT</span>

<span class="pl-en">catch</span> (<span class="pl-smi">JwtException</span> <span class="pl-s1">ex</span>) {   <span class="pl-c">// (5)</span>

    <span class="pl-c">// we *cannot* use the JWT as intended by its creator</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>Type-safe JWTs:</strong> If you are certain your parser will only ever encounter a specific kind of JWT (for example, you only
ever use signed JWTs with <code>Claims</code> payloads, or encrypted JWTs with <code>byte[]</code> content payloads, etc), you can call the
associated type-safe <code>parseSignedClaims</code>, <code>parseEncryptedClaims</code>, (etc) method variant instead of the generic <code>parse</code> method.</p>
</div>
<div dir="auto">
<p dir="auto">These <code>parse*</code> methods will return the type-safe JWT you are expecting, for example, a <code>Jws&lt;Claims&gt;</code> or <code>Jwe&lt;byte[]&gt;</code>
instead of a generic <code>Jwt&lt;?,?&gt;</code> instance.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-read-key"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-constant-parsing-key" tabindex="-1" class="heading-element" dir="auto">Constant Parsing Key</h3><a id="user-content-constant-parsing-key" class="anchor" aria-label="Permalink: Constant Parsing Key" href="#constant-parsing-key"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If the JWT parsed is a JWS or JWE, a key will be necessary to verify the signature or decrypt it.  If a JWS and
signature verification fails, or if a JWE and decryption fails, the JWT cannot be safely trusted and should be
discarded.</p>
</div>
<div dir="auto">
<p dir="auto">So which key do we use?</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">If parsing a JWS and the JWS was signed with a <code>SecretKey</code>, the same <code>SecretKey</code> should be specified on the
<code>JwtParserBuilder</code>.  For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .verifyWith(secretKey) // &lt;----

  .build()
  .parseSignedClaims(jwsString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">verifyWith</span>(<span class="pl-s1">secretKey</span>) <span class="pl-c">// &lt;----</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jwsString</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">If parsing a JWS and the JWS was signed with a <code>PrivateKey</code>, that key’s corresponding <code>PublicKey</code> (not the
<code>PrivateKey</code>) should be specified on the <code>JwtParserBuilder</code>.  For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .verifyWith(publicKey) // &lt;---- publicKey, not privateKey

  .build()
  .parseSignedClaims(jwsString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">verifyWith</span>(<span class="pl-s1">publicKey</span>) <span class="pl-c">// &lt;---- publicKey, not privateKey</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jwsString</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">If parsing a JWE and the JWE was encrypted with direct encryption using a <code>SecretKey</code>, the same <code>SecretKey</code> should be
specified on the <code>JwtParserBuilder</code>. For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .decryptWith(secretKey) // &lt;---- or a Password from Keys.password(charArray)

  .build()
  .parseEncryptedClaims(jweString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">decryptWith</span>(<span class="pl-s1">secretKey</span>) <span class="pl-c">// &lt;---- or a Password from Keys.password(charArray)</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">If parsing a JWE and the JWE was encrypted with a key algorithm using with a <code>PublicKey</code>, that key’s corresponding
<code>PrivateKey</code> (not the <code>PublicKey</code>) should be specified on the <code>JwtParserBuilder</code>.  For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .decryptWith(privateKey) // &lt;---- privateKey, not publicKey

  .build()
  .parseEncryptedClaims(jweString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">decryptWith</span>(<span class="pl-s1">privateKey</span>) <span class="pl-c">// &lt;---- privateKey, not publicKey</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
</li>
</ul>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-multiple-keys" tabindex="-1" class="heading-element" dir="auto">Multiple Keys?</h4><a id="user-content-multiple-keys" class="anchor" aria-label="Permalink: Multiple Keys?" href="#multiple-keys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">But you might have noticed something - what if your application doesn’t use just a single <code>SecretKey</code> or <code>KeyPair</code>? What
if JWSs and JWEs can be created with different <code>SecretKey</code>s or public/private keys, or a combination of both?  How do
you know which key to specify if you don’t inspect the JWT first?</p>
</div>
<div dir="auto">
<p dir="auto">In these cases, you can’t call the <code>JwtParserBuilder</code>'s <code>verifyWith</code> or <code>decryptWith</code> methods with a single key -
instead, you’ll need to configure a parsing Key Locator, discussed next.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-key-locator"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-dynamic-key-lookup" tabindex="-1" class="heading-element" dir="auto">Dynamic Key Lookup</h3><a id="user-content-dynamic-key-lookup" class="anchor" aria-label="Permalink: Dynamic Key Lookup" href="#dynamic-key-lookup"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">It is common in many applications to receive JWTs that can be encrypted or signed by different cryptographic keys.  For
example, maybe a JWT created to assert a specific user identity uses a Key specific to that exact user. Or perhaps JWTs
specific to a particular customer all use that customer’s Key.  Or maybe your application creates JWTs that are
encrypted with a key specific to your application for your own use (e.g. a user session token).</p>
</div>
<div dir="auto">
<p dir="auto">In all of these and similar scenarios, you won’t know which key was used to sign or encrypt a JWT until the JWT is
received, at parse time, so you can’t 'hard code' any verification or decryption key using the <code>JwtParserBuilder</code>'s
<code>verifyWith</code> or <code>decryptWith</code> methods.  Those are only to be used when the same key is used to verify or decrypt
<em>all</em> JWSs or JWEs, which won’t work for dynamically signed or encrypted JWTs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-key-locator-custom"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-key-locator" tabindex="-1" class="heading-element" dir="auto">Key Locator</h4><a id="user-content-key-locator" class="anchor" aria-label="Permalink: Key Locator" href="#key-locator"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you need to support dynamic key lookup when encountering JWTs, you’ll need to implement
the <code>Locator&lt;Key&gt;</code> interface and specify an instance on the <code>JwtParserBuilder</code> via the <code>keyLocator</code> method. For
example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Locator&lt;Key&gt; keyLocator = getMyKeyLocator();

Jwts.parser()

    .keyLocator(keyLocator) // &lt;----

    .build()
    // ... etc ..."><pre><span class="pl-smi">Locator</span>&lt;<span class="pl-smi">Key</span>&gt; <span class="pl-s1">keyLocator</span> = <span class="pl-en">getMyKeyLocator</span>();

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">keyLocator</span>(<span class="pl-s1">keyLocator</span>) <span class="pl-c">// &lt;----</span>

    .<span class="pl-en">build</span>()
    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">A <code>Locator&lt;Key&gt;</code> is used to lookup <em>both</em> JWS signature verification keys <em>and</em> JWE decryption keys.  You need to
determine which key to return based on information in the JWT <code>header</code>, for example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="public class MyKeyLocator extends LocatorAdapter&lt;Key&gt; {

    @Override
    public Key locate(ProtectedHeader&lt;?&gt; header) { // a JwsHeader or JweHeader
        // implement me
    }
}"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">MyKeyLocator</span> <span class="pl-k">extends</span> <span class="pl-smi">LocatorAdapter</span>&lt;<span class="pl-smi">Key</span>&gt; {

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">Key</span> <span class="pl-en">locate</span>(<span class="pl-smi">ProtectedHeader</span>&lt;?&gt; <span class="pl-s1">header</span>) { <span class="pl-c">// a JwsHeader or JweHeader</span>
        <span class="pl-c">// implement me</span>
    }
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>JwtParser</code> will invoke the <code>locate</code> method after parsing the JWT <code>header</code>, but <em>before parsing the <code>payload</code>,
or verifying any JWS signature or decrypting any JWE ciphertext</em>. This allows you to inspect the <code>header</code> argument
for any information that can help you look up the <code>Key</code> to use for verifying <em>that specific jwt</em>.  This is very
powerful for applications with more complex security models that might use different keys at different times or for
different users or customers.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-key-locator-strategy"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-key-locator-strategy" tabindex="-1" class="heading-element" dir="auto">Key Locator Strategy</h4><a id="user-content-key-locator-strategy" class="anchor" aria-label="Permalink: Key Locator Strategy" href="#key-locator-strategy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">What data might you inspect to determine how to lookup a signature verification or decryption key?</p>
</div>
<div dir="auto">
<p dir="auto">The JWT specifications' preferred approach is to set a <code>kid</code> (Key ID) header value when the JWT is being created,
for example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Key key = getSigningKey(); // or getEncryptionKey() for JWE

String keyId = getKeyId(key); //any mechanism you have to associate a key with an ID is fine

String jws = Jwts.builder()

    .header().keyId(keyId).and()               // &lt;--- add `kid` header

    .signWith(key)                             // for JWS
    //.encryptWith(key, keyAlg, encryptionAlg) // for JWE
    .compact();"><pre><span class="pl-smi">Key</span> <span class="pl-s1">key</span> = <span class="pl-en">getSigningKey</span>(); <span class="pl-c">// or getEncryptionKey() for JWE</span>

<span class="pl-smi">String</span> <span class="pl-s1">keyId</span> = <span class="pl-en">getKeyId</span>(<span class="pl-s1">key</span>); <span class="pl-c">//any mechanism you have to associate a key with an ID is fine</span>

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">header</span>().<span class="pl-en">keyId</span>(<span class="pl-s1">keyId</span>).<span class="pl-en">and</span>()               <span class="pl-c">// &lt;--- add `kid` header</span>

    .<span class="pl-en">signWith</span>(<span class="pl-s1">key</span>)                             <span class="pl-c">// for JWS</span>
    <span class="pl-c">//.encryptWith(key, keyAlg, encryptionAlg) // for JWE</span>
    .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Then during parsing, your <code>Locator&lt;Key&gt;</code> implementation can inspect the <code>header</code> to get the <code>kid</code> value and then use it
to look up the verification or decryption key from somewhere, like a database, keystore or Hardware Security Module
(HSM).  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="public class MyKeyLocator extends LocatorAdapter&lt;Key&gt; {

    @Override
    public Key locate(ProtectedHeader&lt;?&gt; header) { // both JwsHeader and JweHeader extend ProtectedHeader

        //inspect the header, lookup and return the verification key
        String keyId = header.getKeyId(); //or any other parameter that you need to inspect

        Key key = lookupKey(keyId); //implement me

        return key;
    }
}"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">MyKeyLocator</span> <span class="pl-k">extends</span> <span class="pl-smi">LocatorAdapter</span>&lt;<span class="pl-smi">Key</span>&gt; {

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">Key</span> <span class="pl-en">locate</span>(<span class="pl-smi">ProtectedHeader</span>&lt;?&gt; <span class="pl-s1">header</span>) { <span class="pl-c">// both JwsHeader and JweHeader extend ProtectedHeader</span>

        <span class="pl-c">//inspect the header, lookup and return the verification key</span>
        <span class="pl-smi">String</span> <span class="pl-s1">keyId</span> = <span class="pl-s1">header</span>.<span class="pl-en">getKeyId</span>(); <span class="pl-c">//or any other parameter that you need to inspect</span>

        <span class="pl-smi">Key</span> <span class="pl-s1">key</span> = <span class="pl-en">lookupKey</span>(<span class="pl-s1">keyId</span>); <span class="pl-c">//implement me</span>

        <span class="pl-k">return</span> <span class="pl-s1">key</span>;
    }
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Note that inspecting the <code>header.getKeyId()</code> is just the most common approach to look up a key - you could inspect any
number of header parameters to determine how to lookup the verification or decryption key.  It is all based on how
the JWT was created.</p>
</div>
<div dir="auto">
<p dir="auto">If you extend <code>LocatorAdapter&lt;Key&gt;</code> as shown above, but for some reason have different lookup strategies for
signature verification keys versus decryption keys, you can forego overriding the <code>locate(ProtectedHeader&lt;?&gt;)</code> method
in favor of two respective <code>locate(JwsHeader)</code> and <code>locate(JweHeader)</code> methods:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="public class MyKeyLocator extends LocatorAdapter&lt;Key&gt; {

    @Override
    public Key locate(JwsHeader header) {
        String keyId = header.getKeyId(); //or any other parameter that you need to inspect
        return lookupSignatureVerificationKey(keyId); //implement me
    }

    @Override
    public Key locate(JweHeader header) {
        String keyId = header.getKeyId(); //or any other parameter// that you need to inspect
        return lookupDecryptionKey(keyId); //implement me
    }
}"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">MyKeyLocator</span> <span class="pl-k">extends</span> <span class="pl-smi">LocatorAdapter</span>&lt;<span class="pl-smi">Key</span>&gt; {

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">Key</span> <span class="pl-en">locate</span>(<span class="pl-smi">JwsHeader</span> <span class="pl-s1">header</span>) {
        <span class="pl-smi">String</span> <span class="pl-s1">keyId</span> = <span class="pl-s1">header</span>.<span class="pl-en">getKeyId</span>(); <span class="pl-c">//or any other parameter that you need to inspect</span>
        <span class="pl-k">return</span> <span class="pl-en">lookupSignatureVerificationKey</span>(<span class="pl-s1">keyId</span>); <span class="pl-c">//implement me</span>
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">Key</span> <span class="pl-en">locate</span>(<span class="pl-smi">JweHeader</span> <span class="pl-s1">header</span>) {
        <span class="pl-smi">String</span> <span class="pl-s1">keyId</span> = <span class="pl-s1">header</span>.<span class="pl-en">getKeyId</span>(); <span class="pl-c">//or any other parameter// that you need to inspect</span>
        <span class="pl-k">return</span> <span class="pl-en">lookupDecryptionKey</span>(<span class="pl-s1">keyId</span>); <span class="pl-c">//implement me</span>
    }
}</pre></div>
</div>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>Simpler Lookup</strong>: If possible, try to keep the key lookup strategy the same between JWSs and JWEs (i.e. using
only <code>locate(ProtectedHeader&lt;?&gt;)</code>), preferably using only
the <code>kid</code> (Key ID) header value or perhaps a public key thumbprint.  You will find the implementation is much
simpler and easier to maintain over time, and also creates smaller headers for compact transmission.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-key-locator-retvals"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-key-locator-return-values" tabindex="-1" class="heading-element" dir="auto">Key Locator Return Values</h4><a id="user-content-key-locator-return-values" class="anchor" aria-label="Permalink: Key Locator Return Values" href="#key-locator-return-values"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Regardless of which implementation strategy you choose, remember to return the appropriate type of key depending
on the type of JWS or JWE algorithm used.  That is:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">For JWS:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">For HMAC-based signature algorithms, the returned verification key should be a <code>SecretKey</code>, and,</p>
</li>
<li>
<p dir="auto">For asymmetric signature algorithms, the returned verification key should be a <code>PublicKey</code> (not a <code>PrivateKey</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p dir="auto">For JWE:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">For JWE direct encryption, the returned decryption key should be a <code>SecretKey</code>.</p>
</li>
<li>
<p dir="auto">For password-based key derivation algorithms, the returned decryption key should be a
<code>io.jsonwebtoken.security.Password</code>.  You can create a <code>Password</code> instance by calling
<code>Keys.password(char[] passwordCharacters)</code>.</p>
</li>
<li>
<p dir="auto">For asymmetric key management algorithms, the returned decryption key should be a <code>PrivateKey</code> (not a <code>PublicKey</code>).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-key-locator-provider"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-provider-constrained-keys" tabindex="-1" class="heading-element" dir="auto">Provider-constrained Keys</h4><a id="user-content-provider-constrained-keys" class="anchor" aria-label="Permalink: Provider-constrained Keys" href="#provider-constrained-keys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If any verification or decryption key returned from a Key <code>Locator</code> must be used with a specific security <code>Provider</code>
(such as for PKCS11 or Hardware Security Module (HSM) keys), you must make that <code>Provider</code> available for JWT parsing
in one of 3 ways, listed in order of recommendation and simplicity:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto"><a href="https://docs.oracle.com/en/java/javase/17/security/howtoimplaprovider.html#GUID-831AA25F-F702-442D-A2E4-8DA6DEA16F33" rel="nofollow">Configure the Provider in the JVM</a>,
either by modifying the <code>java.security</code> file or by registering the <code>Provider</code> dynamically via
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/Security.html#addProvider(java.security.Provider)" rel="nofollow">Security.addProvider(Provider)</a>.
This is the recommended approach so you do not need to modify code anywhere that may need to parse JWTs.</p>
</li>
<li>
<p dir="auto">Set the <code>Provider</code> as the parser default by calling <code>JwtParserBuilder#provider(Provider)</code>.  This will
ensure the provider is used by default with <em>all</em> located keys unless overridden by a key-specific Provider. This
is only recommended when you are confident that all JWTs encountered by the parser instance will use keys
attributed to the same <code>Provider</code>, unless overridden by a specific key.</p>
</li>
<li>
<p dir="auto">Associate the <code>Provider</code> with a specific key using <code>Keys.builder</code> so it is used for that key only.  This option is
useful if some located keys require a specific provider, while other located keys can assume a default provider. For
example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="public Key locate(Header&lt;?&gt; header) {

    PrivateKey /* or SecretKey */ key = findKey(header); // implement me

    Provider keySpecificProvider = findKeyProvider(key); // implement me
    if (keySpecificProvider != null) {
        // Ensure the key-specific provider (e.g. for PKCS11 or HSM) will be used
        // during decryption with the KeyAlgorithm in the JWE 'alg' header
        return Keys.builder(key).provider(keySpecificProvider).build();
    }

    // otherwise default provider is fine:
    return key;
}"><pre><span class="pl-k">public</span> <span class="pl-smi">Key</span> <span class="pl-en">locate</span>(<span class="pl-smi">Header</span>&lt;?&gt; <span class="pl-s1">header</span>) {

    <span class="pl-smi">PrivateKey</span> <span class="pl-c">/* or SecretKey */</span> <span class="pl-s1">key</span> = <span class="pl-en">findKey</span>(<span class="pl-s1">header</span>); <span class="pl-c">// implement me</span>

    <span class="pl-smi">Provider</span> <span class="pl-s1">keySpecificProvider</span> = <span class="pl-en">findKeyProvider</span>(<span class="pl-s1">key</span>); <span class="pl-c">// implement me</span>
    <span class="pl-k">if</span> (<span class="pl-s1">keySpecificProvider</span> != <span class="pl-c1">null</span>) {
        <span class="pl-c">// Ensure the key-specific provider (e.g. for PKCS11 or HSM) will be used</span>
        <span class="pl-c">// during decryption with the KeyAlgorithm in the JWE 'alg' header</span>
        <span class="pl-k">return</span> <span class="pl-smi">Keys</span>.<span class="pl-en">builder</span>(<span class="pl-s1">key</span>).<span class="pl-en">provider</span>(<span class="pl-s1">keySpecificProvider</span>).<span class="pl-en">build</span>();
    }

    <span class="pl-c">// otherwise default provider is fine:</span>
    <span class="pl-k">return</span> <span class="pl-s1">key</span>;
}</pre></div>
</div>
</div>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-read-claims"></a><a name="user-content-jws-read-claims"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-claim-assertions" tabindex="-1" class="heading-element" dir="auto">Claim Assertions</h3><a id="user-content-claim-assertions" class="anchor" aria-label="Permalink: Claim Assertions" href="#claim-assertions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You can enforce that the JWT you are parsing conforms to expectations that you require and are important for your
application.</p>
</div>
<div dir="auto">
<p dir="auto">For example, let’s say that you require that the JWT you are parsing has a specific <code>sub</code> (subject) value,
otherwise you may not trust the token.  You can do that by using one of the various <code>require</code>* methods on the
<code>JwtParserBuilder</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="try {
    Jwts.parser().requireSubject(&quot;jsmith&quot;)/* etc... */.build().parse(s);
} catch (InvalidClaimException ice) {
    // the sub claim was missing or did not have a 'jsmith' value
}"><pre><span class="pl-k">try</span> {
    <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">requireSubject</span>(<span class="pl-s">"jsmith"</span>)<span class="pl-c">/* etc... */</span>.<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">s</span>);
} <span class="pl-k">catch</span> (<span class="pl-smi">InvalidClaimException</span> <span class="pl-s1">ice</span>) {
    <span class="pl-c">// the sub claim was missing or did not have a 'jsmith' value</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">If it is important to react to a missing vs an incorrect value, instead of catching <code>InvalidClaimException</code>,
you can catch either <code>MissingClaimException</code> or <code>IncorrectClaimException</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="try {
    Jwts.parser().requireSubject(&quot;jsmith&quot;)/* etc... */.build().parse(s);
} catch(MissingClaimException mce) {
    // the parsed JWT did not have the sub claim
} catch(IncorrectClaimException ice) {
    // the parsed JWT had a sub claim, but its value was not equal to 'jsmith'
}"><pre><span class="pl-k">try</span> {
    <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">requireSubject</span>(<span class="pl-s">"jsmith"</span>)<span class="pl-c">/* etc... */</span>.<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">s</span>);
} <span class="pl-k">catch</span>(<span class="pl-smi">MissingClaimException</span> <span class="pl-s1">mce</span>) {
    <span class="pl-c">// the parsed JWT did not have the sub claim</span>
} <span class="pl-k">catch</span>(<span class="pl-smi">IncorrectClaimException</span> <span class="pl-s1">ice</span>) {
    <span class="pl-c">// the parsed JWT had a sub claim, but its value was not equal to 'jsmith'</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">You can also require custom claims by using the <code>require(claimName, requiredValue)</code> method - for example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="try {
    Jwts.parser().require(&quot;myClaim&quot;, &quot;myRequiredValue&quot;)/* etc... */.build().parse(s);
} catch(InvalidClaimException ice) {
    // the 'myClaim' claim was missing or did not have a 'myRequiredValue' value
}"><pre><span class="pl-k">try</span> {
    <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">require</span>(<span class="pl-s">"myClaim"</span>, <span class="pl-s">"myRequiredValue"</span>)<span class="pl-c">/* etc... */</span>.<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">s</span>);
} <span class="pl-k">catch</span>(<span class="pl-smi">InvalidClaimException</span> <span class="pl-s1">ice</span>) {
    <span class="pl-c">// the 'myClaim' claim was missing or did not have a 'myRequiredValue' value</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">(or, again, you could catch either <code>MissingClaimException</code> or <code>IncorrectClaimException</code> instead).</p>
</div>
<div dir="auto">
<p dir="auto">Please see the <code>JwtParserBuilder</code> class and/or JavaDoc for a full list of the various <code>require</code>* methods you may use
for claims assertions.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-read-clock"></a><a name="user-content-jws-read-clock"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-accounting-for-clock-skew" tabindex="-1" class="heading-element" dir="auto">Accounting for Clock Skew</h3><a id="user-content-accounting-for-clock-skew" class="anchor" aria-label="Permalink: Accounting for Clock Skew" href="#accounting-for-clock-skew"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">When parsing a JWT, you might find that <code>exp</code> or <code>nbf</code> claim assertions fail (throw exceptions) because the clock on
the parsing machine is not perfectly in sync with the clock on the machine that created the JWT.  This can cause
obvious problems since <code>exp</code> and <code>nbf</code> are time-based assertions, and clock times need to be reliably in sync for shared
assertions.</p>
</div>
<div dir="auto">
<p dir="auto">You can account for these differences (usually no more than a few minutes) when parsing using the <code>JwtParserBuilder</code>'s
<code>clockSkewSeconds</code>. For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="long seconds = 3 * 60; //3 minutes

Jwts.parser()

    .clockSkewSeconds(seconds) // &lt;----

    // ... etc ...
    .build()
    .parse(jwt);"><pre><span class="pl-smi">long</span> <span class="pl-s1">seconds</span> = <span class="pl-c1">3</span> * <span class="pl-c1">60</span>; <span class="pl-c">//3 minutes</span>

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">clockSkewSeconds</span>(<span class="pl-s1">seconds</span>) <span class="pl-c">// &lt;----</span>

    <span class="pl-c">// ... etc ...</span>
    .<span class="pl-en">build</span>()
    .<span class="pl-en">parse</span>(<span class="pl-s1">jwt</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This ensures that minor clock differences between the machines can be ignored. Two or three minutes should be more than
enough; it would be fairly strange if a production machine’s clock was more than 5 minutes difference from most
atomic clocks around the world.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-read-clock-custom"></a><a name="user-content-jws-read-clock-custom"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-custom-clock-support" tabindex="-1" class="heading-element" dir="auto">Custom Clock Support</h4><a id="user-content-custom-clock-support" class="anchor" aria-label="Permalink: Custom Clock Support" href="#custom-clock-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If the above <code>clockSkewSeconds</code> isn’t sufficient for your needs, the timestamps created
during parsing for timestamp comparisons can be obtained via a custom time source.  Call the <code>JwtParserBuilder</code>'s
<code>clock</code> method with an implementation of the <code>io.jsonwebtoken.Clock</code> interface.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Clock clock = new MyClock();

Jwts.parser().clock(myClock) //... etc ..."><pre><span class="pl-smi">Clock</span> <span class="pl-s1">clock</span> = <span class="pl-k">new</span> <span class="pl-smi">MyClock</span>();

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">clock</span>(<span class="pl-s1">myClock</span>) <span class="pl-c">//... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>JwtParser</code>'s default <code>Clock</code> implementation simply returns <code>new Date()</code> to reflect the time when parsing occurs,
as most would expect.  However, supplying your own clock could be useful, especially when writing test cases to
guarantee deterministic behavior.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwt-read-decompression"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-decompression" tabindex="-1" class="heading-element" dir="auto">JWT Decompression</h3><a id="user-content-jwt-decompression" class="anchor" aria-label="Permalink: JWT Decompression" href="#jwt-decompression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you used JJWT to compress a JWT and you used a custom compression algorithm, you will need to tell the
<code>JwtParserBuilder</code> how to resolve your <code>CompressionAlgorithm</code> to decompress the JWT.</p>
</div>
<div dir="auto">
<p dir="auto">Please see the <a href="#compression">Compression</a> section below to see how to decompress JWTs during parsing.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-signed-jwts" tabindex="-1" class="heading-element" dir="auto">Signed JWTs</h2><a id="user-content-signed-jwts" class="anchor" aria-label="Permalink: Signed JWTs" href="#signed-jwts"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">The JWT specification provides for the ability to
<a href="https://en.wikipedia.org/wiki/Digital_signature" rel="nofollow">cryptographically <em>sign</em></a> a JWT.  Signing a JWT:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">guarantees the JWT was created by someone we know (it is authentic) as well as</p>
</li>
<li>
<p dir="auto">guarantees that no-one has manipulated or changed the JWT after it was created (its integrity is maintained).</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">These two properties - authenticity and integrity - assure us that a JWT contains information we can trust.  If a
JWT fails authenticity or integrity checks, we should always reject that JWT because we can’t trust it.</p>
</div>
<div dir="auto">
<p dir="auto">But before we dig in to showing you how to create a JWS using JJWT, let’s briefly discuss Signature Algorithms and
Keys, specifically as they relate to the JWT specifications.  Understanding them is critical to being able to create a
JWS properly.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-alg"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-standard-signature-algorithms" tabindex="-1" class="heading-element" dir="auto">Standard Signature Algorithms</h3><a id="user-content-standard-signature-algorithms" class="anchor" aria-label="Permalink: Standard Signature Algorithms" href="#standard-signature-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT specifications identify 13 standard signature algorithms - 3 secret key algorithms and 10 asymmetric
key algorithms:</p>
</div>
<markdown-accessiblity-table><table>




<thead>
<tr>
<th>Identifier</th>
<th>Signature Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><code>HS256</code></p></td>
<td><p dir="auto">HMAC using SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>HS384</code></p></td>
<td><p dir="auto">HMAC using SHA-384</p></td>
</tr>
<tr>
<td><p dir="auto"><code>HS512</code></p></td>
<td><p dir="auto">HMAC using SHA-512</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ES256</code></p></td>
<td><p dir="auto">ECDSA using P-256 and SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ES384</code></p></td>
<td><p dir="auto">ECDSA using P-384 and SHA-384</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ES512</code></p></td>
<td><p dir="auto">ECDSA using P-521 and SHA-512</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RS256</code></p></td>
<td><p dir="auto">RSASSA-PKCS-v1_5 using SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RS384</code></p></td>
<td><p dir="auto">RSASSA-PKCS-v1_5 using SHA-384</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RS512</code></p></td>
<td><p dir="auto">RSASSA-PKCS-v1_5 using SHA-512</p></td>
</tr>
<tr>
<td><p dir="auto"><code>PS256</code></p></td>
<td><p dir="auto">RSASSA-PSS using SHA-256 and MGF1 with SHA-256<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PS384</code></p></td>
<td><p dir="auto">RSASSA-PSS using SHA-384 and MGF1 with SHA-384<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PS512</code></p></td>
<td><p dir="auto">RSASSA-PSS using SHA-512 and MGF1 with SHA-512<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>EdDSA</code></p></td>
<td><p dir="auto">Edwards-Curve Digital Signature Algorithm (EdDSA)<sup><strong>2</strong></sup></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1</strong>. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
<div dir="auto">
<p dir="auto"><sup><strong>2</strong>. Requires Java 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
<div dir="auto">
<p dir="auto">These are all represented as constants in the <code>io.jsonwebtoken.Jwts.SIG</code> registry class.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-signature-algorithms-keys" tabindex="-1" class="heading-element" dir="auto">Signature Algorithms Keys</h3><a id="user-content-signature-algorithms-keys" class="anchor" aria-label="Permalink: Signature Algorithms Keys" href="#signature-algorithms-keys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">What’s really important about the above standard signature algorithms - other than their security properties - is that
the JWT specification <a href="https://tools.ietf.org/html/rfc7518#section-3" rel="nofollow">RFC 7518, Sections 3.2 through 3.5</a>
<em>requires</em> (mandates) that you MUST use keys that are sufficiently strong for a chosen algorithm.</p>
</div>
<div dir="auto">
<p dir="auto">This means that JJWT - a specification-compliant library - will also enforce that you use sufficiently strong keys
for the algorithms you choose.  If you provide a weak key for a given algorithm, JJWT will reject it and throw an
exception.</p>
</div>
<div dir="auto">
<p dir="auto">This is not because we want to make your life difficult, we promise! The reason why the JWT specification, and
consequently JJWT, mandates key lengths is that the security model of a particular algorithm can completely break
down if you don’t adhere to the mandatory key properties of the algorithm, effectively having no security at all.  No
one wants completely insecure JWTs, right?  Right!</p>
</div>
<div dir="auto">
<p dir="auto">So what are the key strength requirements?</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-hmacsha"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-hmac-sha" tabindex="-1" class="heading-element" dir="auto">HMAC-SHA</h4><a id="user-content-hmac-sha" class="anchor" aria-label="Permalink: HMAC-SHA" href="#hmac-sha"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">JWT HMAC-SHA signature algorithms <code>HS256</code>, <code>HS384</code>, and <code>HS512</code> require a secret key that is <em>at least</em> as many bits as
the algorithm’s signature (digest) length per <a href="https://tools.ietf.org/html/rfc7518#section-3.2" rel="nofollow">RFC 7512 Section 3.2</a>.
This means:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>HS256</code> is HMAC-SHA-256, and that produces digests that are 256 bits (32 bytes) long, so <code>HS256</code> <em>requires</em> that you
use a secret key that is at least 32 bytes long.</p>
</li>
<li>
<p dir="auto"><code>HS384</code> is HMAC-SHA-384, and that produces digests that are 384 bits (48 bytes) long, so <code>HS384</code> <em>requires</em> that you
use a secret key that is at least 48 bytes long.</p>
</li>
<li>
<p dir="auto"><code>HS512</code> is HMAC-SHA-512, and that produces digests that are 512 bits (64 bytes) long, so <code>HS512</code> <em>requires</em> that you
use a secret key that is at least 64 bytes long.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-rsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-rsa" tabindex="-1" class="heading-element" dir="auto">RSA</h4><a id="user-content-rsa" class="anchor" aria-label="Permalink: RSA" href="#rsa"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">JWT RSA signature algorithms <code>RS256</code>, <code>RS384</code>, <code>RS512</code>, <code>PS256</code>, <code>PS384</code> and <code>PS512</code> all require a minimum key length
(aka an RSA modulus bit length) of <code>2048</code> bits per RFC 7512 Sections
<a href="https://tools.ietf.org/html/rfc7518#section-3.3" rel="nofollow">3.3</a> and <a href="https://tools.ietf.org/html/rfc7518#section-3.5" rel="nofollow">3.5</a>.
Anything smaller than this (such as 1024 bits) will be rejected with an <code>WeakKeyException</code>.</p>
</div>
<div dir="auto">
<p dir="auto">That said, in keeping with best practices and increasing key lengths for security longevity, JJWT
recommends that you use:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">at least 2048 bit keys with <code>RS256</code> and <code>PS256</code></p>
</li>
<li>
<p dir="auto">at least 3072 bit keys with <code>RS384</code> and <code>PS384</code></p>
</li>
<li>
<p dir="auto">at least 4096 bit keys with <code>RS512</code> and <code>PS512</code></p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">These are only JJWT suggestions and not requirements. JJWT only enforces JWT specification requirements and
for any RSA key, the requirement is the RSA key (modulus) length in bits MUST be &gt;= 2048 bits.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-ecdsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-elliptic-curve" tabindex="-1" class="heading-element" dir="auto">Elliptic Curve</h4><a id="user-content-elliptic-curve" class="anchor" aria-label="Permalink: Elliptic Curve" href="#elliptic-curve"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">JWT Elliptic Curve signature algorithms <code>ES256</code>, <code>ES384</code>, and <code>ES512</code> all require a key length
(aka an Elliptic Curve order bit length) equal to the algorithm signature’s individual
<code>R</code> and <code>S</code> components per <a href="https://tools.ietf.org/html/rfc7518#section-3.4" rel="nofollow">RFC 7512 Section 3.4</a>.  This means:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>ES256</code> requires that you use a private key that is exactly 256 bits (32 bytes) long.</p>
</li>
<li>
<p dir="auto"><code>ES384</code> requires that you use a private key that is exactly 384 bits (48 bytes) long.</p>
</li>
<li>
<p dir="auto"><code>ES512</code> requires that you use a private key that is exactly 521 bits (65 or 66 bytes) long (depending on format).</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-eddsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-edwards-curve" tabindex="-1" class="heading-element" dir="auto">Edwards Curve</h4><a id="user-content-edwards-curve" class="anchor" aria-label="Permalink: Edwards Curve" href="#edwards-curve"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT Edwards Curve signature algorithm <code>EdDSA</code> supports two sizes of private and public <code>EdECKey</code>s (these types
were introduced in Java 15):</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>Ed25519</code> algorithm keys must be 256 bits (32 bytes) long and produce signatures 512 bits (64 bytes) long.</p>
</li>
<li>
<p dir="auto"><code>Ed448</code> algorithm keys must be 456 bits (57 bytes) long and produce signatures 912 bits (114 bytes) long.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-create"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-creating-safe-keys" tabindex="-1" class="heading-element" dir="auto">Creating Safe Keys</h4><a id="user-content-creating-safe-keys" class="anchor" aria-label="Permalink: Creating Safe Keys" href="#creating-safe-keys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you don’t want to think about bit length requirements or just want to make your life easier, JJWT has
provided convenient builder classes that can generate sufficiently secure keys for any given
JWT signature algorithm you might want to use.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-create-secret"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-secret-keys" tabindex="-1" class="heading-element" dir="auto">Secret Keys</h5><a id="user-content-secret-keys" class="anchor" aria-label="Permalink: Secret Keys" href="#secret-keys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to generate a sufficiently strong <code>SecretKey</code> for use with the JWT HMAC-SHA algorithms, use the respective
algorithm’s <code>key()</code> builder method:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = Jwts.SIG.HS256.key().build(); //or HS384.key() or HS512.key()"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS256</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>(); <span class="pl-c">//or HS384.key() or HS512.key()</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Under the hood, JJWT uses the JCA default provider’s <code>KeyGenerator</code> to create a secure-random key with the correct
minimum length for the given algorithm.</p>
</div>
<div dir="auto">
<p dir="auto">If you want to specify a specific JCA <code>Provider</code> or <code>SecureRandom</code> to use during key generation, you may specify those
as builder arguments. For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = Jwts.SIG.HS256.key().provider(aProvider).random(aSecureRandom).build();"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS256</span>.<span class="pl-en">key</span>().<span class="pl-en">provider</span>(<span class="pl-s1">aProvider</span>).<span class="pl-en">random</span>(<span class="pl-s1">aSecureRandom</span>).<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">If you need to save this new <code>SecretKey</code>, you can Base64 (or Base64URL) encode it:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String secretString = Encoders.BASE64.encode(key.getEncoded());"><pre><span class="pl-smi">String</span> <span class="pl-s1">secretString</span> = <span class="pl-smi">Encoders</span>.<span class="pl-c1">BASE64</span>.<span class="pl-en">encode</span>(<span class="pl-s1">key</span>.<span class="pl-en">getEncoded</span>());</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Ensure you save the resulting <code>secretString</code> somewhere safe -
<a href="#base64-not-encryption">Base64-encoding is not encryption</a>, so it’s still considered sensitive information. You can
further encrypt it, etc, before saving to disk (for example).</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-key-create-asym"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-asymmetric-keys" tabindex="-1" class="heading-element" dir="auto">Asymmetric Keys</h5><a id="user-content-asymmetric-keys" class="anchor" aria-label="Permalink: Asymmetric Keys" href="#asymmetric-keys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to generate sufficiently strong Elliptic Curve or RSA asymmetric key pairs for use with JWT ECDSA or RSA
algorithms, use an algorithm’s respective <code>keyPair()</code> builder method:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="KeyPair keyPair = Jwts.SIG.RS256.keyPair().build(); //or RS384, RS512, PS256, etc..."><pre><span class="pl-smi">KeyPair</span> <span class="pl-s1">keyPair</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">RS256</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>(); <span class="pl-c">//or RS384, RS512, PS256, etc...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Once you’ve generated a <code>KeyPair</code>, you can use the private key (<code>keyPair.getPrivate()</code>) to create a JWS and the
public key (<code>keyPair.getPublic()</code>) to parse/verify a JWS.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><strong>The <code>PS256</code>, <code>PS384</code>, and <code>PS512</code> algorithms require JDK 11 or a compatible JCA Provider
(like BouncyCastle) in the runtime classpath.</strong></p>
</li>
<li>
<p dir="auto"><strong>The <code>EdDSA</code> algorithms requires JDK 15 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</strong></p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">If you want to use either set of algorithms, and you are on an earlier JDK that does not support them,
see the <a href="#installation">Installation</a> section to see how to enable BouncyCastle.  All other algorithms are
natively supported by the JDK.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-create"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-creating-a-jws" tabindex="-1" class="heading-element" dir="auto">Creating a JWS</h3><a id="user-content-creating-a-jws" class="anchor" aria-label="Permalink: Creating a JWS" href="#creating-a-jws"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You create a JWS as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwts.builder()</code> method to create a <code>JwtBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Call <code>JwtBuilder</code> methods to set the <code>payload</code> content or claims and any header parameters as desired.</p>
</li>
<li>
<p dir="auto">Specify the <code>SecretKey</code> or asymmetric <code>PrivateKey</code> you want to use to sign the JWT.</p>
</li>
<li>
<p dir="auto">Finally, call the <code>compact()</code> method to compact and sign, producing the final jws.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jws = Jwts.builder() // (1)

    .subject(&quot;Bob&quot;)         // (2)

    .signWith(key)          // (3) &lt;---

    .compact();             // (4)"><pre><span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>() <span class="pl-c">// (1)</span>

    .<span class="pl-en">subject</span>(<span class="pl-s">"Bob"</span>)         <span class="pl-c">// (2)</span>

    .<span class="pl-en">signWith</span>(<span class="pl-s1">key</span>)          <span class="pl-c">// (3) &lt;---</span>

    .<span class="pl-en">compact</span>();             <span class="pl-c">// (4)</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-create-key"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-signing-key" tabindex="-1" class="heading-element" dir="auto">Signing Key</h4><a id="user-content-signing-key" class="anchor" aria-label="Permalink: Signing Key" href="#signing-key"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">It is usually recommended to specify the signing key by calling the <code>JwtBuilder</code>'s <code>signWith</code> method and let JJWT
determine the most secure algorithm allowed for the specified key.:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jws = Jwts.builder()

   // ... etc ...

   .signWith(key) // &lt;---

   .compact();"><pre><span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

   <span class="pl-c">// ... etc ...</span>

   .<span class="pl-en">signWith</span>(<span class="pl-s1">key</span>) <span class="pl-c">// &lt;---</span>

   .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">For example, if you call <code>signWith</code> with a <code>SecretKey</code> that is 256 bits (32 bytes) long, it is not strong enough for
<code>HS384</code> or <code>HS512</code>, so JJWT will automatically sign the JWT using <code>HS256</code>.</p>
</div>
<div dir="auto">
<p dir="auto">When using <code>signWith</code> JJWT will also automatically set the required <code>alg</code> header with the associated algorithm
identifier.</p>
</div>
<div dir="auto">
<p dir="auto">Similarly, if you called <code>signWith</code> with an RSA <code>PrivateKey</code> that was 4096 bits long, JJWT will use the <code>RS512</code>
algorithm and automatically set the <code>alg</code> header to <code>RS512</code>.</p>
</div>
<div dir="auto">
<p dir="auto">The same selection logic applies for Elliptic Curve <code>PrivateKey</code>s.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>You cannot sign JWTs with <code>PublicKey</code>s as this is always insecure.</strong> JJWT will reject any specified
<code>PublicKey</code> for signing with an <code>InvalidKeyException</code>.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-create-key-secret"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-secretkey-formats" tabindex="-1" class="heading-element" dir="auto">SecretKey Formats</h5><a id="user-content-secretkey-formats" class="anchor" aria-label="Permalink: SecretKey Formats" href="#secretkey-formats"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to sign a JWS using HMAC-SHA algorithms, and you have a secret key <code>String</code> or
<a href="https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--" rel="nofollow">encoded byte array</a>, you will need
to convert it into a <code>SecretKey</code> instance to use as the <code>signWith</code> method argument.</p>
</div>
<div dir="auto">
<p dir="auto">If your secret key is:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">An <a href="https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--" rel="nofollow">encoded byte array</a>:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = Keys.hmacShaKeyFor(encodedKeyBytes);"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">hmacShaKeyFor</span>(<span class="pl-s1">encodedKeyBytes</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">A Base64-encoded string:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = Keys.hmacShaKeyFor(Decoders.BASE64.decode(secretString));"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">hmacShaKeyFor</span>(<span class="pl-smi">Decoders</span>.<span class="pl-c1">BASE64</span>.<span class="pl-en">decode</span>(<span class="pl-s1">secretString</span>));</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">A Base64URL-encoded string:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = Keys.hmacShaKeyFor(Decoders.BASE64URL.decode(secretString));"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">hmacShaKeyFor</span>(<span class="pl-smi">Decoders</span>.<span class="pl-c1">BASE64URL</span>.<span class="pl-en">decode</span>(<span class="pl-s1">secretString</span>));</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">A raw (non-encoded) string (e.g. a password String):</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Password key = Keys.password(secretString.toCharArray());"><pre><span class="pl-smi">Password</span> <span class="pl-s1">key</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">password</span>(<span class="pl-s1">secretString</span>.<span class="pl-en">toCharArray</span>());</pre></div>
</div>
</div>
</li>
</ul>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto">It is almost always incorrect to call any variant of <code>secretString.getBytes</code> in any cryptographic context.<br>
Safe cryptographic keys are never represented as direct (unencoded) strings.  If you have a password that should
be represented as a <code>Key</code> for <code>HMAC-SHA</code> algorithms, it is <em>strongly</em> recommended to use a key derivation
algorithm to derive a cryptographically-strong <code>Key</code> from the password, and never use the password directly.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-create-key-algoverride"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-signaturealgorithm-override" tabindex="-1" class="heading-element" dir="auto">SignatureAlgorithm Override</h5><a id="user-content-signaturealgorithm-override" class="anchor" aria-label="Permalink: SignatureAlgorithm Override" href="#signaturealgorithm-override"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">In some specific cases, you might want to override JJWT’s default selected signature algorithm for a given key.</p>
</div>
<div dir="auto">
<p dir="auto">For example, if you have an RSA <code>PrivateKey</code> that is 2048 bits, JJWT would automatically choose the <code>RS256</code> algorithm.
If you wanted to use <code>RS384</code> or <code>RS512</code> instead, you could manually specify it with the overloaded <code>signWith</code> method
that accepts the <code>SignatureAlgorithm</code> as an additional argument:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="   .signWith(privateKey, Jwts.SIG.RS512) // &lt;---

   .compact();"><pre>   .<span class="pl-en">signWith</span>(<span class="pl-s1">privateKey</span>, <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">RS512</span>) <span class="pl-c">// &lt;---</span>

   .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This is allowed because the JWT specification allows any RSA algorithm strength for any RSA key &gt;= 2048 bits.  JJWT just
prefers <code>RS512</code> for keys &gt;= 4096 bits, followed by <code>RS384</code> for keys &gt;= 3072 bits and finally <code>RS256</code> for keys &gt;= 2048
bits.</p>
</div>
<div dir="auto">
<p dir="auto"><strong>In all cases however, regardless of your chosen algorithms, JJWT will assert that the specified key is allowed to be
used for that algorithm when possible according to the JWT specification requirements.</strong></p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-create-compression"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jws-compression" tabindex="-1" class="heading-element" dir="auto">JWS Compression</h4><a id="user-content-jws-compression" class="anchor" aria-label="Permalink: JWS Compression" href="#jws-compression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If your JWT payload is large (contains a lot of data), and you are certain that JJWT will also be the same library
that reads/parses your JWS, you might want to compress the JWS to reduce its size.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><strong>Not Standard for JWS</strong>: JJWT supports compression for JWS, but it is not a standard feature for JWS.  The
JWT RFC specifications standardize this <em>only</em> for JWEs, and it is not likely to be supported by other JWT libraries
for JWS.  Use JWS compression only if you are certain that JJWT (or another library that supports JWS compression)
will be parsing the JWS.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">Please see the main <a href="#compression">Compression</a> section to see how to compress and decompress JWTs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-read"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-reading-a-jws" tabindex="-1" class="heading-element" dir="auto">Reading a JWS</h3><a id="user-content-reading-a-jws" class="anchor" aria-label="Permalink: Reading a JWS" href="#reading-a-jws"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You read (parse) a JWS as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwts.parser()</code> method to create a <code>JwtParserBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Call either <a href="#key-locator">keyLocator</a> or <code>verifyWith</code> methods to determine the key used to verify the JWS signature.</p>
</li>
<li>
<p dir="auto">Call the <code>build()</code> method on the <code>JwtParserBuilder</code> to return a thread-safe <code>JwtParser</code>.</p>
</li>
<li>
<p dir="auto">Finally, call the <code>parseSignedClaims(String)</code> method with your jws <code>String</code>, producing the original JWS.</p>
</li>
<li>
<p dir="auto">The entire call is wrapped in a try/catch block in case parsing or signature validation fails.  We’ll cover
exceptions and causes for failure later.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jws&lt;Claims&gt; jws;

try {
    jws = Jwts.parser()            // (1)

    .keyLocator(keyLocator)        // (2) dynamically lookup verification keys based on each JWS
    //.verifyWith(key)             //     or a static key used to verify all encountered JWSs

    .build()                       // (3)
    .parseSignedClaims(jwsString); // (4) or parseSignedContent(jwsString)

    // we can safely trust the JWT

catch (JwtException ex) {          // (5)

    // we *cannot* use the JWT as intended by its creator
}"><pre><span class="pl-smi">Jws</span>&lt;<span class="pl-smi">Claims</span>&gt; <span class="pl-s1">jws</span>;

<span class="pl-k">try</span> {
    <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()            <span class="pl-c">// (1)</span>

    .<span class="pl-en">keyLocator</span>(<span class="pl-s1">keyLocator</span>)        <span class="pl-c">// (2) dynamically lookup verification keys based on each JWS</span>
    <span class="pl-c">//.verifyWith(key)             //     or a static key used to verify all encountered JWSs</span>

    .<span class="pl-en">build</span>()                       <span class="pl-c">// (3)</span>
    .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jwsString</span>); <span class="pl-c">// (4) or parseSignedContent(jwsString)</span>

    <span class="pl-c">// we can safely trust the JWT</span>

<span class="pl-en">catch</span> (<span class="pl-smi">JwtException</span> <span class="pl-s1">ex</span>) {          <span class="pl-c">// (5)</span>

    <span class="pl-c">// we *cannot* use the JWT as intended by its creator</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<div dir="auto">Type-safe JWSs</div>
<ul dir="auto">
<li>
<p dir="auto">If you are expecting a JWS with a Claims <code>payload</code>, call the <code>JwtParser</code>'s <code>parseSignedClaims</code> method.</p>
</li>
<li>
<p dir="auto">If you are expecting a JWS with a content <code>payload</code>, call the <code>JwtParser</code>'s <code>parseSignedContent</code> method.</p>
</li>
</ul>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-read-key"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-verification-key" tabindex="-1" class="heading-element" dir="auto">Verification Key</h4><a id="user-content-verification-key" class="anchor" aria-label="Permalink: Verification Key" href="#verification-key"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The most important thing to do when reading a JWS is to specify the key used to verify the JWS’s
cryptographic signature.  If signature verification fails, the JWT cannot be safely trusted and should be
discarded.</p>
</div>
<div dir="auto">
<p dir="auto">So which key do we use for verification?</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">If the jws was signed with a <code>SecretKey</code>, the same <code>SecretKey</code> should be specified on the <code>JwtParserBuilder</code>.<br>
For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .verifyWith(secretKey) // &lt;----

  .build()
  .parseSignedClaims(jwsString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">verifyWith</span>(<span class="pl-s1">secretKey</span>) <span class="pl-c">// &lt;----</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jwsString</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">If the jws was signed with a <code>PrivateKey</code>, that key’s corresponding <code>PublicKey</code> (not the <code>PrivateKey</code>) should be
specified on the <code>JwtParserBuilder</code>.  For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .verifyWith(publicKey) // &lt;---- publicKey, not privateKey

  .build()
  .parseSignedClaims(jwsString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">verifyWith</span>(<span class="pl-s1">publicKey</span>) <span class="pl-c">// &lt;---- publicKey, not privateKey</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jwsString</span>);</pre></div>
</div>
</div>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-read-key-locator"></a><a name="user-content-jws-read-key-resolver"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-verification-key-locator" tabindex="-1" class="heading-element" dir="auto">Verification Key Locator</h4><a id="user-content-verification-key-locator" class="anchor" aria-label="Permalink: Verification Key Locator" href="#verification-key-locator"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">But you might have noticed something - what if your application doesn’t use just a single <code>SecretKey</code> or <code>KeyPair</code>? What
if JWSs can be created with different <code>SecretKey</code>s or public/private keys, or a combination of both?  How do you
know which key to specify if you can’t inspect the JWT first?</p>
</div>
<div dir="auto">
<p dir="auto">In these cases, you can’t call the <code>JwtParserBuilder</code>'s <code>verifyWith</code> method with a single key - instead, you’ll need a
Key Locator.  Please see the <a href="#key-locator">Key Lookup</a> section to see how to dynamically obtain different keys when
parsing JWSs or JWEs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-read-decompression"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jws-decompression" tabindex="-1" class="heading-element" dir="auto">JWS Decompression</h4><a id="user-content-jws-decompression" class="anchor" aria-label="Permalink: JWS Decompression" href="#jws-decompression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you used JJWT to compress a JWS and you used a custom compression algorithm, you will need to tell the
<code>JwtParserBuilder</code> how to resolve your <code>CompressionAlgorithm</code> to decompress the JWT.</p>
</div>
<div dir="auto">
<p dir="auto">Please see the <a href="#compression">Compression</a> section below to see how to decompress JWTs during parsing.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-unencoded"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-unencoded-payload-option" tabindex="-1" class="heading-element" dir="auto">Unencoded Payload Option</h3><a id="user-content-unencoded-payload-option" class="anchor" aria-label="Permalink: Unencoded Payload Option" href="#unencoded-payload-option"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">In some cases, especially if a JWS payload is large, it could be desirable to <em>not</em> Base64URL-encode the JWS payload,
or even exclude the payload from the compact JWS string entirely.  The JWT RFC specifications provide support
for these use cases via the
<a href="https://www.rfc-editor.org/rfc/rfc7797.html" rel="nofollow">JSON Web Signature (JWS) Unencoded Payload Option</a> specification,
which JJWT supports.</p>
</div>
<div dir="auto">
<p dir="auto">This option comes with both benefits and disadvantages:</p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-benefits" tabindex="-1" class="heading-element" dir="auto">Benefits</h4><a id="user-content-benefits" class="anchor" aria-label="Permalink: Benefits" href="#benefits"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">A JWS producer can still create a JWS string to use for payload integrity verification without having to either:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Base64URL-encode the (potentially very large) payload, saving the time that could take.</p>
</li>
<li>
<p dir="auto">Include the payload in the compact JWS string at all. Omitting the payload from the JWS compact string
entirely produces smaller JWSs that can be more efficient to transfer.</p>
</li>
</ol>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-disadvantages" tabindex="-1" class="heading-element" dir="auto">Disadvantages</h4><a id="user-content-disadvantages" class="anchor" aria-label="Permalink: Disadvantages" href="#disadvantages"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Your application, and not JJWT, incurs the responsibility to ensure the payload is not modified during transmission
so the recipient can verify the JWS signature. For example, by using a sufficiently strong TLS (https) cipher
suite as well as any additional care before and after transmission, since
<a href="https://tozny.com/blog/end-to-end-encryption-vs-https/" rel="nofollow">TLS does not guarantee end-to-end security</a>.</p>
</li>
<li>
<p dir="auto">If you choose to include the unencoded payload in the JWS compact string, your application
<a href="https://www.rfc-editor.org/rfc/rfc7797.html#section-5.2" rel="nofollow">MUST</a> ensure that the payload does not contain a
period (<code>.</code>) character anywhere in the payload.  The JWS recipient will experience parsing errors otherwise.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">Before attempting to use this option, one should be aware of the RFC’s
<a href="https://www.rfc-editor.org/rfc/rfc7797.html#section-8" rel="nofollow">security considerations</a> first.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<div dir="auto">Protected JWS Only</div>
<p dir="auto">The RFC specification defines the Unencoded Payload option for use only with JWSs. It may not be used with
with unprotected JWTs or encrypted JWEs.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-unencoded-detached"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-detached-payload-example" tabindex="-1" class="heading-element" dir="auto">Detached Payload Example</h4><a id="user-content-detached-payload-example" class="anchor" aria-label="Permalink: Detached Payload Example" href="#detached-payload-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This example shows creating and parsing a compact JWS using an unencoded payload that is detached, i.e. where the
payload is not embedded in the compact JWS string at all.</p>
</div>
<div dir="auto">
<p dir="auto">We need to do three things during creation:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Specify the JWS signing key; it’s a JWS and still needs to be signed.</p>
</li>
<li>
<p dir="auto">Specify the raw payload bytes via the <code>JwtBuilder</code>'s <code>content</code> method.</p>
</li>
<li>
<p dir="auto">Indicate that the payload should <em>not</em> be Base64Url-encoded using the <code>JwtBuilder</code>'s <code>encodePayload(false)</code> method.</p>
</li>
</ol>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// create a test key for this example:
SecretKey testKey = Jwts.SIG.HS512.key().build();

String message = &quot;Hello World. It's a Beautiful Day!&quot;;
byte[] content = message.getBytes(StandardCharsets.UTF_8);

String jws = Jwts.builder().signWith(testKey) // #1
        .content(content)                     // #2
        .encodePayload(false)                 // #3
        .compact();"><pre><span class="pl-c">// create a test key for this example:</span>
<span class="pl-smi">SecretKey</span> <span class="pl-s1">testKey</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS512</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>();

<span class="pl-smi">String</span> <span class="pl-s1">message</span> = <span class="pl-s">"Hello World. It's a Beautiful Day!"</span>;
<span class="pl-smi">byte</span>[] <span class="pl-s1">content</span> = <span class="pl-s1">message</span>.<span class="pl-en">getBytes</span>(<span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">signWith</span>(<span class="pl-s1">testKey</span>) <span class="pl-c">// #1</span>
        .<span class="pl-en">content</span>(<span class="pl-s1">content</span>)                     <span class="pl-c">// #2</span>
        .<span class="pl-en">encodePayload</span>(<span class="pl-c1">false</span>)                 <span class="pl-c">// #3</span>
        .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">To parse the resulting <code>jws</code> string, we need to do two things when creating the <code>JwtParser</code>:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Specify the signature verification key.</p>
</li>
<li>
<p dir="auto">Specify the externally-transmitted unencoded payload bytes, required for signature verification.</p>
</li>
</ol>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jws&lt;byte[]&gt; parsed = Jwts.parser().verifyWith(testKey) // 1
        .build()
        .parseSignedContent(jws, content);             // 2

assertArrayEquals(content, parsed.getPayload());"><pre><span class="pl-smi">Jws</span>&lt;<span class="pl-smi">byte</span>[]&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">verifyWith</span>(<span class="pl-s1">testKey</span>) <span class="pl-c">// 1</span>
        .<span class="pl-en">build</span>()
        .<span class="pl-en">parseSignedContent</span>(<span class="pl-s1">jws</span>, <span class="pl-s1">content</span>);             <span class="pl-c">// 2</span>

<span class="pl-en">assertArrayEquals</span>(<span class="pl-s1">content</span>, <span class="pl-s1">parsed</span>.<span class="pl-en">getPayload</span>());</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jws-unencoded-nondetached"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-non-detached-payload-example" tabindex="-1" class="heading-element" dir="auto">Non-Detached Payload Example</h4><a id="user-content-non-detached-payload-example" class="anchor" aria-label="Permalink: Non-Detached Payload Example" href="#non-detached-payload-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This example shows creating and parsing a compact JWS with what the RFC calls a 'non-detached' unencoded payload, i.e.
a raw string directly embedded as the payload in the compact JWS string.</p>
</div>
<div dir="auto">
<p dir="auto">We need to do three things during creation:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Specify the JWS signing key; it’s a JWS and still needs to be signed.</p>
</li>
<li>
<p dir="auto">Specify the raw payload string via the <code>JwtBuilder</code>'s <code>content</code> method.  Per
<a href="https://www.rfc-editor.org/rfc/rfc7797.html#section-5.2" rel="nofollow">the RFC</a>, the payload string <strong><em>MUST NOT contain any
period (<code>.</code>) characters</em></strong>.</p>
</li>
<li>
<p dir="auto">Indicate that the payload should <em>not</em> be Base64Url-encoded using the <code>JwtBuilder</code>'s <code>encodePayload(false)</code> method.</p>
</li>
</ol>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// create a test key for this example:
SecretKey testKey = Jwts.SIG.HS512.key().build();

String claimsString = &quot;{\&quot;sub\&quot;:\&quot;joe\&quot;,\&quot;iss\&quot;:\&quot;me\&quot;}&quot;;

String jws = Jwts.builder().signWith(testKey) // #1
        .content(claimsString)                // #2
        .encodePayload(false)                 // #3
        .compact();"><pre><span class="pl-c">// create a test key for this example:</span>
<span class="pl-smi">SecretKey</span> <span class="pl-s1">testKey</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS512</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>();

<span class="pl-smi">String</span> <span class="pl-s1">claimsString</span> = <span class="pl-s">"{<span class="pl-cce">\"</span>sub<span class="pl-cce">\"</span>:<span class="pl-cce">\"</span>joe<span class="pl-cce">\"</span>,<span class="pl-cce">\"</span>iss<span class="pl-cce">\"</span>:<span class="pl-cce">\"</span>me<span class="pl-cce">\"</span>}"</span>;

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">signWith</span>(<span class="pl-s1">testKey</span>) <span class="pl-c">// #1</span>
        .<span class="pl-en">content</span>(<span class="pl-s1">claimsString</span>)                <span class="pl-c">// #2</span>
        .<span class="pl-en">encodePayload</span>(<span class="pl-c1">false</span>)                 <span class="pl-c">// #3</span>
        .<span class="pl-en">compact</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">If you were to print the <code>jws</code> string, you’d see something like this:</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>eyJhbGciOiJIUzUxMiIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19.{"sub":"joe","iss":"me"}.wkoxYEd//...etc...</pre>
</div>
</div>
<div dir="auto">
<p dir="auto">See how the <code>claimsString</code> is embedded directly as the center <code>payload</code> token instead of a standard Base64URL value?
This is why no period (<code>.</code>) characters can exist in the payload.  If they did, any standard JWT parser would see more
than two periods total, which is required for parsing standard JWSs.</p>
</div>
<div dir="auto">
<p dir="auto">To parse the resulting <code>jws</code> string, we need to do two things when creating the <code>JwtParser</code>:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Specify the signature verification key.</p>
</li>
<li>
<p dir="auto">Indicate that we want to support Unencoded Payload Option JWSs by enabling the <code>b64</code> <code>crit</code> header parameter.</p>
</li>
</ol>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jws&lt;Claims&gt; parsed = Jwts.parser().verifyWith(testKey) // 1
        .critical().add(&quot;b64&quot;).and()                   // 2
        .build()
        .parseSignedClaims(jws);

assert &quot;joe&quot;.equals(parsed.getPayload().getSubject());
assert &quot;me&quot;.equals(parsed.getPayload().getIssuer());"><pre><span class="pl-smi">Jws</span>&lt;<span class="pl-smi">Claims</span>&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">verifyWith</span>(<span class="pl-s1">testKey</span>) <span class="pl-c">// 1</span>
        .<span class="pl-en">critical</span>().<span class="pl-en">add</span>(<span class="pl-s">"b64"</span>).<span class="pl-en">and</span>()                   <span class="pl-c">// 2</span>
        .<span class="pl-en">build</span>()
        .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jws</span>);

<span class="pl-k">assert</span> <span class="pl-s">"joe"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>.<span class="pl-en">getPayload</span>().<span class="pl-en">getSubject</span>());
<span class="pl-k">assert</span> <span class="pl-s">"me"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>.<span class="pl-en">getPayload</span>().<span class="pl-en">getIssuer</span>());</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Did you notice we used the <code>.parseSignedClaims(String)</code> method instead of <code>.parseSignedClaims(String, byte[])</code>? This is
because the non-detached payload is already present and JJWT has what it needs for signature verification.</p>
</div>
<div dir="auto">
<p dir="auto">Additionally, we needed to specify the <code>b64</code> critical value:  because we’re not using the two-argument
<code>parseSignedClaims(jws, content)</code> method, the parser has no way of knowing if you wish to allow or support unencoded
payloads. Unencoded payloads have additional security considerations as described above, so they are disabled by
the parser by default unless you indicate you want to support them by using <code>critical().add("b64")</code>.</p>
</div>
<div dir="auto">
<p dir="auto">Finally, even if the payload contains a non-detached String, you could still use the two-argument method using the
payload String’s UTF-8 bytes instead:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="parsed = Jwts.parser().verifyWith(testKey)
        .build()
        .parseSignedClaims(jws, claimsString.getBytes(StandardCharsets.UTF_8)); // &lt;---"><pre><span class="pl-s1">parsed</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">verifyWith</span>(<span class="pl-s1">testKey</span>)
        .<span class="pl-en">build</span>()
        .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jws</span>, <span class="pl-s1">claimsString</span>.<span class="pl-en">getBytes</span>(<span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>)); <span class="pl-c">// &lt;---</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe"></a></p>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-encrypted-jwts" tabindex="-1" class="heading-element" dir="auto">Encrypted JWTs</h2><a id="user-content-encrypted-jwts" class="anchor" aria-label="Permalink: Encrypted JWTs" href="#encrypted-jwts"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">The JWT specification also provides for the ability to encrypt and decrypt a JWT.  Encrypting a JWT:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">guarantees that no-one other than the intended JWT recipient can see the JWT <code>payload</code> (it is confidential), and</p>
</li>
<li>
<p dir="auto">guarantees that no-one has manipulated or changed the JWT after it was created (its integrity is maintained).</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">These two properties - confidentiality and integrity - assure us that an encrypted JWT contains a <code>payload</code> that
no-one else can see, <em>nor</em> has anyone changed or altered the data in transit.</p>
</div>
<div dir="auto">
<p dir="auto">Encryption and confidentiality seem somewhat obvious: if you encrypt a message, it is confidential by the notion that
random 3rd parties cannot make sense of the encrypted message. But some might be surprised to know that <strong><em>general
encryption does _not</em> guarantee that someone hasn’t tampered/altered an encrypted message in transit_</strong>.  Most of us
assume that if a message can be decrypted, then the message would be authentic and unchanged - after all, if you can
decrypt it, it must not have been tampered with, right? Because if it was changed, decryption would surely fail, right?</p>
</div>
<div dir="auto">
<p dir="auto">Unfortunately, this is not actually guaranteed in all cryptographic ciphers. There are certain attack vectors where
it is possible to change an encrypted payload (called 'ciphertext'), and the message recipient is still able to
successfully decrypt the (modified) payload.  In these cases, the ciphertext integrity was not maintained - a
malicious 3rd party could intercept a message and change the payload content, even if they don’t understand what is
inside the payload, and the message recipient could never know.</p>
</div>
<div dir="auto">
<p dir="auto">To combat this, there is a category of encryption algorithms that ensures                                                                                 both confidentiality <em>and</em> integrity of the
ciphertext data.  These types of algorithms are called
<a href="https://en.wikipedia.org/wiki/Authenticated_encryption" rel="nofollow">Authenticated Encryption</a> algorithms.</p>
</div>
<div dir="auto">
<p dir="auto">As a result, to ensure JWTs do not suffer from this problem, the JWE RFC specifications require that any encryption
algorithm used to encrypt a JWT <em>MUST</em> be an Authenticated Encryption algorithm.  JWT users can be sufficiently
confident their encrypted JWTs maintain the properties of both confidentiality and integrity.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-enc"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwe-encryption-algorithms" tabindex="-1" class="heading-element" dir="auto">JWE Encryption Algorithms</h3><a id="user-content-jwe-encryption-algorithms" class="anchor" aria-label="Permalink: JWE Encryption Algorithms" href="#jwe-encryption-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT specification defines 6 standard Authenticated Encryption algorithms used to encrypt a JWT <code>payload</code>:</p>
</div>
<markdown-accessiblity-table><table>





<thead>
<tr>
<th>Identifier</th>
<th>Required Key Bit Length</th>
<th>Encryption Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><code>A128CBC‑HS256</code></p></td>
<td><p dir="auto">256</p></td>
<td><p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3" rel="nofollow">AES_128_CBC_HMAC_SHA_256</a> authenticated encryption algorithm</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192CBC-HS384</code></p></td>
<td><p dir="auto">384</p></td>
<td><p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.4" rel="nofollow">AES_192_CBC_HMAC_SHA_384</a> authenticated encryption algorithm</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256CBC-HS512</code></p></td>
<td><p dir="auto">512</p></td>
<td><p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5" rel="nofollow">AES_256_CBC_HMAC_SHA_512</a> authenticated encryption algorithm</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A128GCM</code></p></td>
<td><p dir="auto">128</p></td>
<td><p dir="auto">AES GCM using 128-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192GCM</code></p></td>
<td><p dir="auto">192</p></td>
<td><p dir="auto">AES GCM using 192-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256GCM</code></p></td>
<td><p dir="auto">256</p></td>
<td><p dir="auto">AES GCM using 256-bit key<sup><strong>1</strong></sup></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1</strong>. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
<div dir="auto">
<p dir="auto">These are all represented as constants in the <code>io.jsonwebtoken.Jwts.ENC</code> registry singleton as
implementations of the <code>io.jsonwebtoken.security.AeadAlgorithm</code> interface.</p>
</div>
<div dir="auto">
<p dir="auto">As shown in the table above, each algorithm requires a key of sufficient length.  The JWT specification
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3" rel="nofollow">RFC 7518, Sections 5.2.3 through 5.3</a>
<em>requires</em> (mandates) that you MUST use keys that are sufficiently strong for a chosen algorithm.  This means that
JJWT - a specification-compliant library - will also enforce that you use sufficiently strong keys
for the algorithms you choose.  If you provide a weak key for a given algorithm, JJWT will reject it and throw an
exception.</p>
</div>
<div dir="auto">
<p dir="auto">The reason why the JWT specification, and consequently JJWT, mandates key lengths is that the security model of a
particular algorithm can completely break down if you don’t adhere to the mandatory key properties of the algorithm,
effectively having no security at all.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-enc-symmetric"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-symmetric-ciphers" tabindex="-1" class="heading-element" dir="auto">Symmetric Ciphers</h4><a id="user-content-symmetric-ciphers" class="anchor" aria-label="Permalink: Symmetric Ciphers" href="#symmetric-ciphers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You might have noticed something about the above Authenticated Encryption algorithms: they’re all variants of the
AES algorithm, and AES always uses a symmetric (secret) key to perform encryption and decryption.  That’s kind of
strange, isn’t it?</p>
</div>
<div dir="auto">
<p dir="auto">What about RSA and Elliptic Curve asymmetric key cryptography? And Diffie-Hellman key exchange?  What about
password-based key derivation algorithms? Surely any of those could be desirable depending on the use case, no?</p>
</div>
<div dir="auto">
<p dir="auto">Yes, they definitely can, and the JWT specifications do support them, albeit indirectly:  those other
algorithms <em>are</em> indeed supported and used, but they aren’t used to encrypt the JWT <code>payload</code> directly.  They are
used to <em>produce</em> the actual key used to encrypt the <code>JWT</code> payload.</p>
</div>
<div dir="auto">
<p dir="auto">This is all done via the JWT specification’s concept of a Key Management Algorithm, covered next.  After we cover that,
we’ll show you how to encrypt and parse your own JWTs with the <code>JwtBuilder</code> and <code>JwtParserBuilder</code>.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwe-key-management-algorithms" tabindex="-1" class="heading-element" dir="auto">JWE Key Management Algorithms</h3><a id="user-content-jwe-key-management-algorithms" class="anchor" aria-label="Permalink: JWE Key Management Algorithms" href="#jwe-key-management-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">As stated above, all standard JWA Encryption Algorithms are AES-based authenticated encryption algorithms.  So what
about RSA and Elliptic Curve cryptography? And password-based key derivation, or Diffie-Hellman exchange?</p>
</div>
<div dir="auto">
<p dir="auto">All of those are supported as well, but they are not used directly for encryption. They are used to <em>produce</em> the
key that will be used to directly encrypt the JWT <code>payload</code>.</p>
</div>
<div dir="auto">
<p dir="auto">That is, JWT encryption can be thought of as a two-step process, shown in the following pseudocode:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Key algorithmKey = getKeyManagementAlgorithmKey(); // PublicKey, SecretKey, or Password

SecretKey contentEncryptionKey = keyManagementAlgorithm.produceEncryptionKey(algorithmKey); // 1

byte[] ciphertext = encryptionAlgorithm.encrypt(payload, contentEncryptionKey);             // 2"><pre><span class="pl-k">Key</span> algorithmKey <span class="pl-k">=</span> getKeyManagementAlgorithmKey(); <span class="pl-c"><span class="pl-c">//</span> PublicKey, SecretKey, or Password</span>

<span class="pl-k">SecretKey</span> contentEncryptionKey <span class="pl-k">=</span> keyManagementAlgorithm<span class="pl-k">.</span>produceEncryptionKey(algorithmKey); <span class="pl-c"><span class="pl-c">//</span> 1</span>

<span class="pl-k">byte</span>[] ciphertext <span class="pl-k">=</span> encryptionAlgorithm<span class="pl-k">.</span>encrypt(payload, contentEncryptionKey);             <span class="pl-c"><span class="pl-c">//</span> 2</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Steps:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>algorithmKey</code> to produce the actual key that will be used to encrypt the payload.  The JWT specifications
call this result the 'Content Encryption Key'.</p>
</li>
<li>
<p dir="auto">Take the resulting Content Encryption Key and use it directly with the Authenticated Encryption algorithm to
actually encrypt the JWT <code>payload</code>.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">So why the indirection?  Why not just use any <code>PublicKey</code>, <code>SecretKey</code> or <code>Password</code> to encrypt the <code>payload</code>
<em>directly</em> ?</p>
</div>
<div dir="auto">
<p dir="auto">There are quite a few reasons for this.</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Asymmetric key encryption (like RSA and Elliptic Curve) tends to be slow.  Like <em>really</em> slow.  Symmetric key
cipher algorithms in contrast are <em>really fast</em>.  This matters a lot in production applications that could be
handling a JWT on every HTTP request, which could be thousands per second.</p>
</li>
<li>
<p dir="auto">RSA encryption (for example) can only encrypt a relatively small amount of data. A 2048-bit RSA key can only
encrypt up to a maximum of 245 bytes.  A 4096-bit RSA key can only encrypt up to a maximum of 501 bytes.  There are
plenty of JWTs that can exceed 245 bytes, and that would make RSA unusable.</p>
</li>
<li>
<p dir="auto">Passwords usually make for very poor encryption keys - they often have poor entropy, or they themselves are
often too short to be used directly with algorithms that mandate minimum key lengths to help ensure safety.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For these reasons and more, using one secure algorithm to generate or encrypt a key used for another (very fast) secure
algorithm has been proven to be a great way to increase security through many more secure algorithms while
also still resulting in very fast and secure output.  This is after all how TLS (for https encryption) works -
two parties can use more complex cryptography (like RSA or Elliptic Curve) to negotiate a small, fast encryption key.
This fast encryption key is produced during the 'TLS handshake' and is called the TLS 'session key'.</p>
</div>
<div dir="auto">
<p dir="auto">So the JWT specifications work much in the same way: one key from any number of various algorithm types can be used
to produce a final symmetric key, and that symmetric key is used to encrypt the JWT <code>payload</code>.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg-standard"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwe-standard-key-management-algorithms" tabindex="-1" class="heading-element" dir="auto">JWE Standard Key Management Algorithms</h4><a id="user-content-jwe-standard-key-management-algorithms" class="anchor" aria-label="Permalink: JWE Standard Key Management Algorithms" href="#jwe-standard-key-management-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT specification defines 17 standard Key Management Algorithms used to produce the JWE
Content Encryption Key (CEK):</p>
</div>
<markdown-accessiblity-table><table>




<thead>
<tr>
<th>Identifier</th>
<th>Key Management Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><p dir="auto"><code>RSA1_5</code></p></td>
<td><p dir="auto">RSAES-PKCS1-v1_5</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RSA-OAEP</code></p></td>
<td><p dir="auto">RSAES OAEP using default parameters</p></td>
</tr>
<tr>
<td><p dir="auto"><code>RSA-OAEP-256</code></p></td>
<td><p dir="auto">RSAES OAEP using SHA-256 and MGF1 with SHA-256</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A128KW</code></p></td>
<td><p dir="auto">AES Key Wrap with default initial value using 128-bit key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192KW</code></p></td>
<td><p dir="auto">AES Key Wrap with default initial value using 192-bit key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256KW</code></p></td>
<td><p dir="auto">AES Key Wrap with default initial value using 256-bit key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>dir</code></p></td>
<td><p dir="auto">Direct use of a shared symmetric key as the Content Encryption Key</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES</code></p></td>
<td><p dir="auto">Elliptic Curve Diffie-Hellman Ephemeral Static key agreement using Concat KDF</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES+A128KW</code></p></td>
<td><p dir="auto">ECDH-ES using Concat KDF and CEK wrapped with "A128KW"</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES+A192KW</code></p></td>
<td><p dir="auto">ECDH-ES using Concat KDF and CEK wrapped with "A192KW"</p></td>
</tr>
<tr>
<td><p dir="auto"><code>ECDH-ES+A256KW</code></p></td>
<td><p dir="auto">ECDH-ES using Concat KDF and CEK wrapped with "A256KW"</p></td>
</tr>
<tr>
<td><p dir="auto"><code>A128GCMKW</code></p></td>
<td><p dir="auto">Key wrapping with AES GCM using 128-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A192GCMKW</code></p></td>
<td><p dir="auto">Key wrapping with AES GCM using 192-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>A256GCMKW</code></p></td>
<td><p dir="auto">Key wrapping with AES GCM using 256-bit key<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PBES2-HS256+A128KW</code></p></td>
<td><p dir="auto">PBES2 with HMAC SHA-256 and "A128KW" wrapping<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PBES2-HS384+A192KW</code></p></td>
<td><p dir="auto">PBES2 with HMAC SHA-384 and "A192KW" wrapping<sup><strong>1</strong></sup></p></td>
</tr>
<tr>
<td><p dir="auto"><code>PBES2‑HS512+A256KW</code></p></td>
<td><p dir="auto">PBES2 with HMAC SHA-512 and "A256KW" wrapping<sup><strong>1</strong></sup></p></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto">
<p dir="auto"><sup><strong>1</strong>. Requires Java 8 or a compatible JCA Provider (like BouncyCastle) in the runtime classpath.</sup></p>
</div>
<div dir="auto">
<p dir="auto">These are all represented as constants in the <code>io.jsonwebtoken.Jwts.KEY</code> registry singleton as
implementations of the <code>io.jsonwebtoken.security.KeyAlgorithm</code> interface.</p>
</div>
<div dir="auto">
<p dir="auto">But 17 algorithms are a lot to choose from.  When would you use them?  The sections below describe when you might
choose each category of algorithms and how they behave.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg-rsa"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-rsa-key-encryption" tabindex="-1" class="heading-element" dir="auto">RSA Key Encryption</h5><a id="user-content-rsa-key-encryption" class="anchor" aria-label="Permalink: RSA Key Encryption" href="#rsa-key-encryption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT RSA key management algorithms <code>RSA1_5</code>, <code>RSA-OAEP</code>, and <code>RSA-OAEP-256</code> are used when you want to use the
JWE recipient’s RSA <em>public</em> key during encryption.  This ensures that only the JWE recipient can decrypt
and read the JWE (using their RSA <code>private</code> key).</p>
</div>
<div dir="auto">
<p dir="auto">During JWE creation, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Generate a new secure-random Content Encryption Key (CEK) suitable for the desired <a href="#jwe-enc">encryption algorithm</a>.</p>
</li>
<li>
<p dir="auto">Encrypt the JWE payload with the desired encryption algorithm using the new CEK, producing the JWE payload ciphertext.</p>
</li>
<li>
<p dir="auto">Encrypt the CEK itself with the specified RSA key wrap algorithm using the JWE recipient’s RSA public key.</p>
</li>
<li>
<p dir="auto">Embed the payload ciphertext and encrypted CEK in the resulting JWE.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">During JWE decryption, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Retrieve the encrypted Content Encryption Key (CEK) embedded in the JWE.</p>
</li>
<li>
<p dir="auto">Decrypt the encrypted CEK with the discovered RSA key unwrap algorithm using the JWE recipient’s RSA private key,
producing the decrypted Content Encryption Key (CEK).</p>
</li>
<li>
<p dir="auto">Decrypt the JWE ciphertext payload with the JWE’s identified <a href="#jwe-enc">encryption algorithm</a> using the decrypted CEK.</p>
</li>
</ul>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto">RFC 7518 Sections <a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.2" rel="nofollow">4.2</a> and
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.3" rel="nofollow">4.3</a> <em>require</em> (mandate) that RSA keys &gt;= 2048 bits
MUST be used with these algorithms. JJWT will throw an exception if it detects weaker keys being used.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg-aes"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-aes-key-encryption" tabindex="-1" class="heading-element" dir="auto">AES Key Encryption</h5><a id="user-content-aes-key-encryption" class="anchor" aria-label="Permalink: AES Key Encryption" href="#aes-key-encryption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT AES key management algorithms <code>A128KW</code>, <code>A192KW</code>, <code>A256KW</code>, <code>A128GCMKW</code>, <code>A192GCMKW</code>, and <code>A256GCMKW</code> are
used when you have a symmetric secret key, but you don’t want to use that secret key to directly
encrypt/decrypt the JWT.</p>
</div>
<div dir="auto">
<p dir="auto">Instead, a new secure-random key is generated each time a JWE is created, and that new/random key is used to directly
encrypt/decrypt the JWT payload.  The secure-random key is itself encrypted with your symmetric secret key
using the AES Wrap algorithm, and the encrypted key is embedded in the resulting JWE.</p>
</div>
<div dir="auto">
<p dir="auto">This allows the JWE to be encrypted with a random short-lived key, reducing material exposure of the potentially
longer-lived symmetric secret key.</p>
</div>
<div dir="auto">
<p dir="auto">Because these particular algorithms use a symmetric secret key, they are best suited when the JWE creator and
receiver are the same, ensuring the secret key does not need to be shared with multiple parties.</p>
</div>
<div dir="auto">
<p dir="auto">During JWE creation, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Generate a new secure-random Content Encryption Key (CEK) suitable for the desired <a href="#jwe-enc">encryption algorithm</a>.</p>
</li>
<li>
<p dir="auto">Encrypt the JWE payload with the desired encryption algorithm using the new CEK, producing the JWE payload ciphertext.</p>
</li>
<li>
<p dir="auto">Encrypt the CEK itself with the specified AES key algorithm (either AES Key Wrap or AES with GCM encryption),
producing the encrypted CEK.</p>
</li>
<li>
<p dir="auto">Embed the payload ciphertext and encrypted CEK in the resulting JWE.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">During JWE decryption, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Retrieve the encrypted Content Encryption Key (CEK) embedded in the JWE.</p>
</li>
<li>
<p dir="auto">Decrypt the encrypted CEK with the discovered AES key algorithm using the symmetric secret key.</p>
</li>
<li>
<p dir="auto">Decrypt the JWE ciphertext payload with the JWE’s identified <a href="#jwe-enc">encryption algorithm</a> using the decrypted CEK.</p>
</li>
</ul>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto">The symmetric key used for the AES key algorithms MUST be 128, 192 or 256 bits as required by the specific AES
key algorithm.  JJWT will throw an exception if it detects weaker keys than what is required.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg-dir"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-direct-key-encryption" tabindex="-1" class="heading-element" dir="auto">Direct Key Encryption</h5><a id="user-content-direct-key-encryption" class="anchor" aria-label="Permalink: Direct Key Encryption" href="#direct-key-encryption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT <code>dir</code> (direct) key management algorithm is used when you have a symmetric secret key, and you want to use it
to directly encrypt the JWT payload.</p>
</div>
<div dir="auto">
<p dir="auto">Because this algorithm uses a symmetric secret key, it is best suited when the JWE creator and receiver are the
same, ensuring the secret key does not need to be shared with multiple parties.</p>
</div>
<div dir="auto">
<p dir="auto">This is the simplest key algorithm for direct encryption that does not perform any key encryption.  It is essentially
a 'no op' key algorithm, allowing the shared key to be used to directly encrypt the JWT payload.</p>
</div>
<div dir="auto">
<p dir="auto">During JWE creation, this algorithm:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Encrypts the JWE payload with the desired encryption algorithm directly using the symmetric secret key,
producing the JWE payload ciphertext.</p>
</li>
<li>
<p dir="auto">Embeds the payload ciphertext in the resulting JWE.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">Note that because this algorithm does not produce an encrypted key value, an encrypted CEK is <em>not</em> embedded in the
resulting JWE.</p>
</div>
<div dir="auto">
<p dir="auto">During JWE decryption, this algorithm decrypts the JWE ciphertext payload with the JWE’s
identified <a href="#jwe-enc">encryption algorithm</a> directly using the symmetric secret key.  No encrypted CEK is used.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto">The symmetric secret key MUST be 128, 192 or 256 bits as required by the associated
<a href="#jwe-enc">AEAD encryption algorithm</a> used to encrypt the payload. JJWT will throw an exception if it detects
weaker keys than what is required.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg-pbes2"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-password-based-key-encryption" tabindex="-1" class="heading-element" dir="auto">Password-Based Key Encryption</h5><a id="user-content-password-based-key-encryption" class="anchor" aria-label="Permalink: Password-Based Key Encryption" href="#password-based-key-encryption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT password-based key encryption algorithms <code>PBES2-HS256+A128KW</code>, <code>PBES2-HS384+A192KW</code>, and <code>PBES2-HS512+A256KW</code>
are used when you want to use a password (character array) to encrypt and decrypt a JWT.</p>
</div>
<div dir="auto">
<p dir="auto">However, because passwords are usually too weak or problematic to use directly in cryptographic contexts, these
algorithms utilize key derivation techniques with work factors (e.g. computation iterations) and secure-random salts
to produce stronger cryptographic keys suitable for cryptographic operations.</p>
</div>
<div dir="auto">
<p dir="auto">This allows the payload to be encrypted with a random short-lived cryptographically-stronger key, reducing the need to
expose the longer-lived (and potentially weaker) password.</p>
</div>
<div dir="auto">
<p dir="auto">Because these algorithms use a secret password, they are best suited when the JWE creator and receiver are the
same, ensuring the secret password does not need to be shared with multiple parties.</p>
</div>
<div dir="auto">
<p dir="auto">During JWE creation, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Generate a new secure-random Content Encryption Key (CEK) suitable for the desired <a href="#jwe-enc">encryption algorithm</a>.</p>
</li>
<li>
<p dir="auto">Encrypt the JWE payload with the desired encryption algorithm using the new CEK, producing the JWE payload ciphertext.</p>
</li>
<li>
<p dir="auto">Derive a 'key encryption key' (KEK) with the desired "PBES2 with HMAC SHA" algorithm using the password, a suitable
number of computational iterations, and a secure-random salt value.</p>
</li>
<li>
<p dir="auto">Encrypt the generated CEK with the corresponding AES Key Wrap algorithm using the password-derived KEK.</p>
</li>
<li>
<p dir="auto">Embed the payload ciphertext and encrypted CEK in the resulting JWE.</p>
</li>
</ul>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<div dir="auto">Secure defaults</div>
<p dir="auto">When using these algorithms, if you do not specify a work factor (i.e. number of computational
iterations), JJWT will automatically use an
<a href="https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2" rel="nofollow">OWASP PBKDF2 recommended</a>
default appropriate for the specified <code>PBES2</code> algorithm.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">During JWE decryption, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Retrieve the encrypted Content Encryption Key (CEK) embedded in the JWE.</p>
</li>
<li>
<p dir="auto">Derive the 'key encryption key' (KEK) with the discovered "PBES2 with HMAC SHA" algorithm using the password and the
number of computational iterations and secure-random salt value discovered in the JWE header.</p>
</li>
<li>
<p dir="auto">Decrypt the encrypted CEK with the corresponding AES Key Unwrap algorithm using the password-derived KEK.</p>
</li>
<li>
<p dir="auto">Decrypt the JWE ciphertext payload with the JWE’s identified <a href="#jwe-enc">encryption algorithm</a> using the decrypted CEK.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-alg-ecdhes"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es" tabindex="-1" class="heading-element" dir="auto">Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)</h5><a id="user-content-elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es" class="anchor" aria-label="Permalink: Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement (ECDH-ES)" href="#elliptic-curve-diffie-hellman-ephemeral-static-key-agreement-ecdh-es"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT Elliptic Curve Diffie-Hellman Ephemeral Static key agreement algorithms <code>ECDH-ES</code>, <code>ECDH-ES+A128KW</code>,
<code>ECDH-ES+A192KW</code>, and <code>ECDH-ES+A256KW</code> are used when you want to use the JWE recipient’s Elliptic Curve <em>public</em> key
during encryption.  This ensures that only the JWE recipient can decrypt and read the JWE (using their Elliptic Curve
<em>private</em> key).</p>
</div>
<div dir="auto">
<p dir="auto">During JWE creation, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Obtain the Content Encryption Key (CEK) used to encrypt the JWE payload as follows:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Inspect the JWE recipient’s Elliptic Curve public key and determine its Curve.</p>
</li>
<li>
<p dir="auto">Generate a new secure-random ephemeral Elliptic Curve public/private key pair on this same Curve.</p>
</li>
<li>
<p dir="auto">Add the ephemeral EC public key to the JWE
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.1" rel="nofollow">epk header</a> for inclusion in the final JWE.</p>
</li>
<li>
<p dir="auto">Produce an ECDH shared secret with the ECDH Key Agreement algorithm using the JWE recipient’s EC public key
and the ephemeral EC private key.</p>
</li>
<li>
<p dir="auto">Derive a symmetric secret key with the Concat Key Derivation Function
(<a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-56Ar2.pdf" rel="nofollow">NIST.800-56A</a>, Section 5.8.1) using
this ECDH shared secret and any provided
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.2" rel="nofollow">PartyUInfo</a> and/or
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.3" rel="nofollow">PartyVInfo</a>.</p>
</li>
<li>
<p dir="auto">If the key algorithm is <code>ECDH-ES</code>:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Use the Concat KDF-derived symmetric secret key directly as the Content Encryption Key (CEK). No encrypted key
is created, nor embedded in the resulting JWE.</p>
</li>
</ul>
</div>
</li>
<li>
<p dir="auto">Otherwise, if the key algorithm is <code>ECDH-ES+A128KW</code>, <code>ECDH-ES+A192KW</code>, or <code>ECDH-ES+A256KW</code>:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Generate a new secure-random Content Encryption Key (CEK) suitable for the desired <a href="#jwe-enc">encryption algorithm</a>.</p>
</li>
<li>
<p dir="auto">Encrypt this new CEK with the corresponding AES Key Wrap algorithm using the Concat KDF-derived secret key,
producing the encrypted CEK.</p>
</li>
<li>
<p dir="auto">Embed the encrypted CEK in the resulting JWE.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p dir="auto">Encrypt the JWE payload with the desired encryption algorithm using the obtained CEK, producing the JWE payload
ciphertext.</p>
</li>
<li>
<p dir="auto">Embed the payload ciphertext in the resulting JWE.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">During JWE decryption, these algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Obtain the Content Encryption Key (CEK) used to decrypt the JWE payload as follows:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Retrieve the required ephemeral Elliptic Curve public key from the JWE’s
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.1" rel="nofollow">epk header</a>.</p>
</li>
<li>
<p dir="auto">Ensure the ephemeral EC public key exists on the same curve as the JWE recipient’s EC private key.</p>
</li>
<li>
<p dir="auto">Produce the ECDH shared secret with the ECDH Key Agreement algorithm using the JWE recipient’s EC private key
and the ephemeral EC public key.</p>
</li>
<li>
<p dir="auto">Derive a symmetric secret key with the Concat Key Derivation Function
(<a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-56Ar2.pdf" rel="nofollow">NIST.800-56A</a>, Section 5.8.1) using
this ECDH shared secret and any
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.2" rel="nofollow">PartyUInfo</a> and/or
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-4.6.1.3" rel="nofollow">PartyVInfo</a> found in the JWE header.</p>
</li>
<li>
<p dir="auto">If the key algorithm is <code>ECDH-ES</code>:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Use the Concat KDF-derived secret key directly as the Content Encryption Key (CEK). No encrypted key is used.</p>
</li>
</ul>
</div>
</li>
<li>
<p dir="auto">Otherwise, if the key algorithm is <code>ECDH-ES+A128KW</code>, <code>ECDH-ES+A192KW</code>, or <code>ECDH-ES+A256KW</code>:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Obtain the encrypted key ciphertext embedded in the JWE.</p>
</li>
<li>
<p dir="auto">Decrypt the encrypted key ciphertext with the associated AES Key Unwrap algorithm using the Concat KDF-derived
secret key, producing the unencrypted Content Encryption Key (CEK).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p dir="auto">Decrypt the JWE payload ciphertext with the JWE’s discovered encryption algorithm using the obtained CEK.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-create"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-creating-a-jwe" tabindex="-1" class="heading-element" dir="auto">Creating a JWE</h3><a id="user-content-creating-a-jwe" class="anchor" aria-label="Permalink: Creating a JWE" href="#creating-a-jwe"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Now that we know the difference between a JWE Encryption Algorithm and a JWE Key Management Algorithm, how do we use
them to encrypt a JWT?</p>
</div>
<div dir="auto">
<p dir="auto">You create an encrypted JWT (called a 'JWE') as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwts.builder()</code> method to create a <code>JwtBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Call <code>JwtBuilder</code> methods to set the <code>payload</code> content or claims and any <a href="#jws-create-header">header</a> parameters as desired.</p>
</li>
<li>
<p dir="auto">Call the <code>encryptWith</code> method, specifying the Key, Key Algorithm, and Encryption Algorithm you want to use.</p>
</li>
<li>
<p dir="auto">Finally, call the <code>compact()</code> method to compact and encrypt, producing the final jwe.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String jwe = Jwts.builder()                              // (1)

    .subject(&quot;Bob&quot;)                                      // (2)

    .encryptWith(key, keyAlgorithm, encryptionAlgorithm) // (3)

    .compact();                                          // (4)"><pre><span class="pl-smi">String</span> <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()                              <span class="pl-c">// (1)</span>

    .<span class="pl-en">subject</span>(<span class="pl-s">"Bob"</span>)                                      <span class="pl-c">// (2)</span>

    .<span class="pl-en">encryptWith</span>(<span class="pl-s1">key</span>, <span class="pl-s1">keyAlgorithm</span>, <span class="pl-s1">encryptionAlgorithm</span>) <span class="pl-c">// (3)</span>

    .<span class="pl-en">compact</span>();                                          <span class="pl-c">// (4)</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Before calling <code>compact()</code>,  you may set any <a href="#jws-create-header">header</a> parameters and <a href="#jws-create-claims">claims</a>
exactly the same way as described for JWS.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-compression"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwe-compression" tabindex="-1" class="heading-element" dir="auto">JWE Compression</h4><a id="user-content-jwe-compression" class="anchor" aria-label="Permalink: JWE Compression" href="#jwe-compression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If your JWT payload or Claims set is large (contains a lot of data), you might want to compress the JWE to reduce
its size.  Please see the main <a href="#compression">Compression</a> section to see how to compress and decompress JWTs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-read"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-reading-a-jwe" tabindex="-1" class="heading-element" dir="auto">Reading a JWE</h3><a id="user-content-reading-a-jwe" class="anchor" aria-label="Permalink: Reading a JWE" href="#reading-a-jwe"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You read (parse) a JWE as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwts.parser()</code> method to create a <code>JwtParserBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Call either <a href="#key-locator">keyLocator</a> or <code>decryptWith</code> methods to determine the key used to decrypt the JWE.</p>
</li>
<li>
<p dir="auto">Call the <code>JwtParserBuilder</code>'s <code>build()</code> method to create a thread-safe <code>JwtParser</code>.</p>
</li>
<li>
<p dir="auto">Parse the jwe string with the <code>JwtParser</code>'s <code>parseEncryptedClaims</code> or <code>parseEncryptedContent</code> method.</p>
</li>
<li>
<p dir="auto">Wrap the entire call is in a try/catch block in case decryption or integrity verification fails.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwe&lt;Claims&gt; jwe;

try {
    jwe = Jwts.parser()               // (1)

    .keyLocator(keyLocator)           // (2) dynamically lookup decryption keys based on each JWE
    //.decryptWith(key)               //     or a static key used to decrypt all encountered JWEs

    .build()                          // (3)
    .parseEncryptedClaims(jweString); // (4) or parseEncryptedContent(jweString);

    // we can safely trust the JWT

catch (JwtException ex) {             // (5)

    // we *cannot* use the JWT as intended by its creator
}"><pre><span class="pl-smi">Jwe</span>&lt;<span class="pl-smi">Claims</span>&gt; <span class="pl-s1">jwe</span>;

<span class="pl-k">try</span> {
    <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()               <span class="pl-c">// (1)</span>

    .<span class="pl-en">keyLocator</span>(<span class="pl-s1">keyLocator</span>)           <span class="pl-c">// (2) dynamically lookup decryption keys based on each JWE</span>
    <span class="pl-c">//.decryptWith(key)               //     or a static key used to decrypt all encountered JWEs</span>

    .<span class="pl-en">build</span>()                          <span class="pl-c">// (3)</span>
    .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>); <span class="pl-c">// (4) or parseEncryptedContent(jweString);</span>

    <span class="pl-c">// we can safely trust the JWT</span>

<span class="pl-en">catch</span> (<span class="pl-smi">JwtException</span> <span class="pl-s1">ex</span>) {             <span class="pl-c">// (5)</span>

    <span class="pl-c">// we *cannot* use the JWT as intended by its creator</span>
}</pre></div>
</div>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<div dir="auto">Type-safe JWEs</div>
<ul dir="auto">
<li>
<p dir="auto">If you are expecting a JWE with a Claims <code>payload</code>, call the <code>JwtParser</code>'s <code>parseEncryptedClaims</code> method.</p>
</li>
<li>
<p dir="auto">If you are expecting a JWE with a content <code>payload</code>, call the <code>JwtParser</code>'s <code>parseEncryptedContent</code> method.</p>
</li>
</ul>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-read-key"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-decryption-key" tabindex="-1" class="heading-element" dir="auto">Decryption Key</h4><a id="user-content-decryption-key" class="anchor" aria-label="Permalink: Decryption Key" href="#decryption-key"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The most important thing to do when reading a JWE is to specify the key used during decryption.  If decryption or
integrity protection checks fail, the JWT cannot be safely trusted and should be discarded.</p>
</div>
<div dir="auto">
<p dir="auto">So which key do we use for decryption?</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">If the jwe was encrypted <em>directly</em> with a <code>SecretKey</code>, the same <code>SecretKey</code> must be specified on the
<code>JwtParserBuilder</code>. For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .decryptWith(secretKey) // &lt;----

  .build()
  .parseEncryptedClaims(jweString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">decryptWith</span>(<span class="pl-s1">secretKey</span>) <span class="pl-c">// &lt;----</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">If the jwe was encrypted using a key produced by a Password-based key derivation <code>KeyAlgorithm</code>, the same
<code>Password</code> must be specified on the <code>JwtParserBuilder</code>. For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Password password = Keys.password(passwordChars);

Jwts.parser()

  .decryptWith(password) // &lt;---- an `io.jsonwebtoken.security.Password` instance

  .build()
  .parseEncryptedClaims(jweString);"><pre><span class="pl-smi">Password</span> <span class="pl-s1">password</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">password</span>(<span class="pl-s1">passwordChars</span>);

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">decryptWith</span>(<span class="pl-s1">password</span>) <span class="pl-c">// &lt;---- an `io.jsonwebtoken.security.Password` instance</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
</li>
<li>
<p dir="auto">If the jwe was encrypted with a key produced by an asymmetric <code>KeyAlgorithm</code>, the corresponding <code>PrivateKey</code> (not
the <code>PublicKey</code>) must be specified on the <code>JwtParserBuilder</code>.  For example:</p>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

  .decryptWith(privateKey) // &lt;---- a `PrivateKey`, not a `PublicKey`

  .build()
  .parseSignedClaims(jweString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

  .<span class="pl-en">decryptWith</span>(<span class="pl-s1">privateKey</span>) <span class="pl-c">// &lt;---- a `PrivateKey`, not a `PublicKey`</span>

  .<span class="pl-en">build</span>()
  .<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-key-locator"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-decryption-key-locator" tabindex="-1" class="heading-element" dir="auto">Decryption Key Locator</h4><a id="user-content-decryption-key-locator" class="anchor" aria-label="Permalink: Decryption Key Locator" href="#decryption-key-locator"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">What if your application doesn’t use just a single <code>SecretKey</code> or <code>KeyPair</code>? What
if JWEs can be created with different <code>SecretKey</code>s, <code>Password</code>s or public/private keys, or a combination of all of
them?  How do you know which key to specify if you can’t inspect the JWT first?</p>
</div>
<div dir="auto">
<p dir="auto">In these cases, you can’t call the <code>JwtParserBuilder</code>'s <code>decryptWith</code> method with a single key - instead, you’ll need
to use a Key <code>Locator</code>.  Please see the <a href="#key-locator">Key Lookup</a> section to see how to dynamically obtain different
keys when parsing JWSs or JWEs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-key-pkcs11"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-ecdh-es-decryption-with-pkcs11-privatekeys" tabindex="-1" class="heading-element" dir="auto">ECDH-ES Decryption with PKCS11 PrivateKeys</h4><a id="user-content-ecdh-es-decryption-with-pkcs11-privatekeys" class="anchor" aria-label="Permalink: ECDH-ES Decryption with PKCS11 PrivateKeys" href="#ecdh-es-decryption-with-pkcs11-privatekeys"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">The JWT <code>ECDH-ES</code>, <code>ECDH-ES+A128KW</code>, <code>ECDH-ES+A192KW</code>, and <code>ECDH-ES+A256KW</code> key algorithms validate JWE input using
public key information, even when using <code>PrivateKey</code>s to decrypt.  Ordinarily this is automatically performed
by JJWT when your <code>PrivateKey</code> instances implement the
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/interfaces/ECKey.html" rel="nofollow">ECKey</a> or
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/interfaces/EdECKey.html" rel="nofollow">EdECKey</a>
(or BouncyCastle equivalent) interfaces, which is the case for most JCA <code>Provider</code> implementations.</p>
</div>
<div dir="auto">
<p dir="auto">However, if your decryption <code>PrivateKey</code>s are stored in a Hardware Security Module (HSM) and/or you use the
<a href="https://docs.oracle.com/en/java/javase/17/security/pkcs11-reference-guide1.html#GUID-6DA72F34-6C6A-4F7D-ADBA-5811576A9331" rel="nofollow">SunPKCS11 Provider</a>,
it is likely that your <code>PrivateKey</code> instances <em>do not</em> implement <code>ECKey</code>.</p>
</div>
<div dir="auto">
<p dir="auto">In these cases, you need to provide both the PKCS11 <code>PrivateKey</code> and it’s companion <code>PublicKey</code> during decryption
by using the <code>Keys.builder</code> method. For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="KeyPair pair = getMyPkcs11KeyPair();
PrivateKey jwtParserDecryptionKey = Keys.builder(pair.getPrivate())
    .publicKey(pair.getPublic()) // PublicKey must implement ECKey or EdECKey or BouncyCastle equivalent
    .build();"><pre><span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-en">getMyPkcs11KeyPair</span>();
<span class="pl-smi">PrivateKey</span> <span class="pl-s1">jwtParserDecryptionKey</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">builder</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>())
    .<span class="pl-en">publicKey</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>()) <span class="pl-c">// PublicKey must implement ECKey or EdECKey or BouncyCastle equivalent</span>
    .<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">You then use the resulting <code>jwtParserDecryptionKey</code> (not <code>pair.getPrivate()</code>) with the <code>JwtParserBuilder</code> or as
the return value from a custom <a href="#key-locator">Key Locator</a> implementation.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="PrivateKey decryptionKey = Keys.builder(pkcs11PrivateKey).publicKey(pkcs11PublicKey).build();

Jwts.parser()
    .decryptWith(decryptionKey) // &lt;----
    .build()
    .parseEncryptedClaims(jweString);"><pre><span class="pl-smi">PrivateKey</span> <span class="pl-s1">decryptionKey</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">builder</span>(<span class="pl-s1">pkcs11PrivateKey</span>).<span class="pl-en">publicKey</span>(<span class="pl-s1">pkcs11PublicKey</span>).<span class="pl-en">build</span>();

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">decryptWith</span>(<span class="pl-s1">decryptionKey</span>) <span class="pl-c">// &lt;----</span>
    .<span class="pl-en">build</span>()
    .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Or as the return value from your key locator:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()
    .keyLocator(keyLocator) // your keyLocator.locate(header) would return Keys.builder...
    .build()
    .parseEncryptedClaims(jweString);"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">keyLocator</span>(<span class="pl-s1">keyLocator</span>) <span class="pl-c">// your keyLocator.locate(header) would return Keys.builder...</span>
    .<span class="pl-en">build</span>()
    .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jweString</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Please see the <a href="#key-locator-provider">Provider-constrained Keys</a> section for more information, as well as
code examples of how to implement a Key <code>Locator</code> using the <code>Keys.builder</code> technique.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwe-read-decompression"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwe-decompression" tabindex="-1" class="heading-element" dir="auto">JWE Decompression</h4><a id="user-content-jwe-decompression" class="anchor" aria-label="Permalink: JWE Decompression" href="#jwe-decompression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If a JWE is compressed using the <code>DEF</code> (<a href="https://www.rfc-editor.org/rfc/rfc1951" rel="nofollow">DEFLATE</a>) or <code>GZIP</code>
(<a href="https://www.rfc-editor.org/rfc/rfc1952.html" rel="nofollow">GZIP</a>) compression algorithms, it will automatically be decompressed
after decryption, and there is nothing you need to configure.</p>
</div>
<div dir="auto">
<p dir="auto">If, however, a custom compression algorithm was used to compress the JWE, you will need to tell the
<code>JwtParserBuilder</code> how to resolve your <code>CompressionAlgorithm</code> to decompress the JWT.</p>
</div>
<div dir="auto">
<p dir="auto">Please see the <a href="#compression">Compression</a> section below to see how to decompress JWTs during parsing.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk"></a></p>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-json-web-keys-jwks" tabindex="-1" class="heading-element" dir="auto">JSON Web Keys (JWKs)</h2><a id="user-content-json-web-keys-jwks" class="anchor" aria-label="Permalink: JSON Web Keys (JWKs)" href="#json-web-keys-jwks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc7517.html" rel="nofollow">JSON Web Keys</a> (JWKs) are JSON serializations of cryptographic keys,
allowing key material to be embedded in JWTs or transmitted between parties in a standard JSON-based text format. They
are essentially a JSON-based alternative to other text-based key formats, such as the
<a href="https://serverfault.com/a/9717" rel="nofollow">DER, PEM and PKCS12</a> text strings or files commonly used when configuring TLS on web
servers, for example.</p>
</div>
<div dir="auto">
<p dir="auto">For example, an identity web service may expose its RSA or Elliptic Curve Public Keys to 3rd parties in the JWK format.
A client may then parse the public key JWKs to verify the service’s <a href="#jws">JWS</a> tokens, as well as send encrypted
information to the service using <a href="#jwe">JWE</a>s.</p>
</div>
<div dir="auto">
<p dir="auto">JWKs can be converted to and from standard Java <code>Key</code> types as expected using the same builder/parser patterns we’ve
seen for JWTs.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-create"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-create-a-jwk" tabindex="-1" class="heading-element" dir="auto">Create a JWK</h3><a id="user-content-create-a-jwk" class="anchor" aria-label="Permalink: Create a JWK" href="#create-a-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You create a JWK as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwks.builder()</code> method to create a <code>JwkBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Call the <code>key</code> method with the Java key you wish to represent as a JWK.</p>
</li>
<li>
<p dir="auto">Call builder methods to set any additional key parameters or metadata, such as a <code>kid</code> (Key ID), X509 Certificates,
etc as desired.</p>
</li>
<li>
<p dir="auto">Call the <code>build()</code> method to produce the resulting JWK.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = getSecretKey();     // or RSA or EC PublicKey or PrivateKey
SecretJwk = Jwks.builder().key(key) // (1) and (2)

    .id(&quot;mySecretKeyId&quot;)            // (3)
    // ... etc ...

    .build();                       // (4)"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-en">getSecretKey</span>();     <span class="pl-c">// or RSA or EC PublicKey or PrivateKey</span>
<span class="pl-s1">SecretJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">key</span>) <span class="pl-c">// (1) and (2)</span>

    .<span class="pl-en">id</span>(<span class="pl-s">"mySecretKeyId"</span>)            <span class="pl-c">// (3)</span>
    <span class="pl-c">// ... etc ...</span>

    .<span class="pl-en">build</span>();                       <span class="pl-c">// (4)</span></pre></div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwk-from-a-map" tabindex="-1" class="heading-element" dir="auto">JWK from a Map</h4><a id="user-content-jwk-from-a-map" class="anchor" aria-label="Permalink: JWK from a Map" href="#jwk-from-a-map"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you have a <code>Map&lt;String,?&gt;</code> of name/value pairs that reflect an existing JWK, you add them and build a type-safe
<code>Jwk</code> instance:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Map&lt;String,?&gt; jwkValues = getMyJwkMap();

Jwk&lt;?&gt; jwk = Jwks.builder().add(jwkValues).build();"><pre><span class="pl-smi">Map</span>&lt;<span class="pl-smi">String</span>,?&gt; <span class="pl-s1">jwkValues</span> = <span class="pl-en">getMyJwkMap</span>();

<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">add</span>(<span class="pl-s1">jwkValues</span>).<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-read"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-read-a-jwk" tabindex="-1" class="heading-element" dir="auto">Read a JWK</h3><a id="user-content-read-a-jwk" class="anchor" aria-label="Permalink: Read a JWK" href="#read-a-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You can read/parse a JWK by building a <code>JwkParser</code> and parsing the JWK JSON string with its <code>parse</code> method:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String json = getJwkJsonString();
Jwk&lt;?&gt; jwk = Jwks.parser()
    //.provider(aJcaProvider)     // optional
    //.deserializer(deserializer) // optional
    .build()                      // create the parser
    .parse(json);                 // actually parse the JSON

Key key = jwk.toKey();            // convert to a Java Key instance"><pre><span class="pl-smi">String</span> <span class="pl-s1">json</span> = <span class="pl-en">getJwkJsonString</span>();
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>()
    <span class="pl-c">//.provider(aJcaProvider)     // optional</span>
    <span class="pl-c">//.deserializer(deserializer) // optional</span>
    .<span class="pl-en">build</span>()                      <span class="pl-c">// create the parser</span>
    .<span class="pl-en">parse</span>(<span class="pl-s1">json</span>);                 <span class="pl-c">// actually parse the JSON</span>

<span class="pl-smi">Key</span> <span class="pl-s1">key</span> = <span class="pl-s1">jwk</span>.<span class="pl-en">toKey</span>();            <span class="pl-c">// convert to a Java Key instance</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">As shown above you can specify a custom JCA Provider or <a href="#json">JSON deserializer</a> in the same way as the <code>JwtBuilder</code>.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-private"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-privatekey-jwks" tabindex="-1" class="heading-element" dir="auto">PrivateKey JWKs</h3><a id="user-content-privatekey-jwks" class="anchor" aria-label="Permalink: PrivateKey JWKs" href="#privatekey-jwks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Unlike Java, the JWA specification requires a private JWKs to contain <em>both</em> public key <em>and</em> private key material
(see <a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-6.2.2" rel="nofollow">RFC 7518, Section 6.1.1</a> and
<a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-6.3.2" rel="nofollow">RFC 7518, Section 6.3.2</a>).</p>
</div>
<div dir="auto">
<p dir="auto">In this sense, a private JWK (represented as a <code>PrivateJwk</code> or a subtype, such as <code>RsaPrivateJwk</code>, <code>EcPrivateJwk</code>, etc)
can be thought of more like a Java <code>KeyPair</code> instance.  Consequently, when creating a <code>PrivateJwk</code> instance,
the <code>PrivateKey</code>'s corresponding <code>PublicKey</code> is required.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-private-public"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-private-jwk-publickey" tabindex="-1" class="heading-element" dir="auto">Private JWK <code>PublicKey</code></h4><a id="user-content-private-jwk-publickey" class="anchor" aria-label="Permalink: Private JWK PublicKey" href="#private-jwk-publickey"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you do not provide a <code>PublicKey</code> when creating a <code>PrivateJwk</code>, JJWT will automatically derive the <code>PublicKey</code> from
the <code>PrivateKey</code> instance if possible. However, because this can add
some computing time, it is typically recommended to provide the <code>PublicKey</code> when possible to avoid this extra work.</p>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="RSAPrivateKey rsaPrivateKey = getRSAPrivateKey(); // or ECPrivateKey

RsaPrivateJwk jwk = Jwks.builder().key(rsaPrivateKey)

        //.publicKey(rsaPublicKey)  // optional, but recommended to avoid extra computation work

        .build();"><pre><span class="pl-smi">RSAPrivateKey</span> <span class="pl-s1">rsaPrivateKey</span> = <span class="pl-en">getRSAPrivateKey</span>(); <span class="pl-c">// or ECPrivateKey</span>

<span class="pl-smi">RsaPrivateJwk</span> <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">rsaPrivateKey</span>)

        <span class="pl-c">//.publicKey(rsaPublicKey)  // optional, but recommended to avoid extra computation work</span>

        .<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-private-keypair"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-private-jwk-from-keypair" tabindex="-1" class="heading-element" dir="auto">Private JWK from KeyPair</h4><a id="user-content-private-jwk-from-keypair" class="anchor" aria-label="Permalink: Private JWK from KeyPair" href="#private-jwk-from-keypair"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you have a Java <code>KeyPair</code> instance, then you have both the public and private key material necessary to create a
<code>PrivateJwk</code>. For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="KeyPair rsaKeyPair = getRSAKeyPair();
RsaPrivateJwk rsaPrivJwk = Jwks.builder().rsaKeyPair(rsaKeyPair).build();

KeyPair ecKeyPair = getECKeyPair();
EcPrivateJwk ecPrivJwk = Jwks.builder().ecKeyPair(ecKeyPair).build();

KeyPair edEcKeyPair = getEdECKeyPair();
OctetPrivateJwk edEcPrivJwk = Jwks.builder().octetKeyPair(edEcKeyPair).build();"><pre><span class="pl-smi">KeyPair</span> <span class="pl-s1">rsaKeyPair</span> = <span class="pl-en">getRSAKeyPair</span>();
<span class="pl-smi">RsaPrivateJwk</span> <span class="pl-s1">rsaPrivJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">rsaKeyPair</span>(<span class="pl-s1">rsaKeyPair</span>).<span class="pl-en">build</span>();

<span class="pl-smi">KeyPair</span> <span class="pl-s1">ecKeyPair</span> = <span class="pl-en">getECKeyPair</span>();
<span class="pl-smi">EcPrivateJwk</span> <span class="pl-s1">ecPrivJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">ecKeyPair</span>(<span class="pl-s1">ecKeyPair</span>).<span class="pl-en">build</span>();

<span class="pl-smi">KeyPair</span> <span class="pl-s1">edEcKeyPair</span> = <span class="pl-en">getEdECKeyPair</span>();
<span class="pl-smi">OctetPrivateJwk</span> <span class="pl-s1">edEcPrivJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">octetKeyPair</span>(<span class="pl-s1">edEcKeyPair</span>).<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Note that:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">An exception will be thrown when calling <code>rsaKeyPair</code> if the specified <code>KeyPair</code> instance does not contain
<code>RSAPublicKey</code> and <code>RSAPrivateKey</code> instances.</p>
</li>
<li>
<p dir="auto">Similarly, an exception will be thrown when calling <code>ecKeyPair</code> if
the <code>KeyPair</code> instance does not contain <code>ECPublicKey</code> and <code>ECPrivateKey</code> instances.</p>
</li>
<li>
<p dir="auto">Finally, an exception will be
thrown when calling <code>octetKeyPair</code> if the <code>KeyPair</code> instance does not contain X25519, X448, Ed25519, or Ed448 keys
(introduced in JDK 11 and 15 or when using BouncyCastle).</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-private-topub"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-private-jwk-public-conversion" tabindex="-1" class="heading-element" dir="auto">Private JWK Public Conversion</h4><a id="user-content-private-jwk-public-conversion" class="anchor" aria-label="Permalink: Private JWK Public Conversion" href="#private-jwk-public-conversion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Because private JWKs contain public key material, you can always obtain the private JWK’s corresponding public JWK and
Java <code>PublicKey</code> or <code>KeyPair</code>.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="RsaPrivateJwk privateJwk = Jwks.builder().key(rsaPrivateKey).build(); // or ecPrivateKey or edEcPrivateKey

// Get the matching public JWK and/or PublicKey:
RsaPublicJwk pubJwk = privateJwk.toPublicJwk();       // JWK instance
RSAPublicKey pubKey = pubJwk.toKey();                 // Java PublicKey instance
KeyPair pair = privateJwk.toKeyPair();                // io.jsonwebtoken.security.KeyPair retains key types
java.security.KeyPair jdkPair = pair.toJavaKeyPair(); // does not retain pub/private key types"><pre><span class="pl-smi">RsaPrivateJwk</span> <span class="pl-s1">privateJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">rsaPrivateKey</span>).<span class="pl-en">build</span>(); <span class="pl-c">// or ecPrivateKey or edEcPrivateKey</span>

<span class="pl-c">// Get the matching public JWK and/or PublicKey:</span>
<span class="pl-smi">RsaPublicJwk</span> <span class="pl-s1">pubJwk</span> = <span class="pl-s1">privateJwk</span>.<span class="pl-en">toPublicJwk</span>();       <span class="pl-c">// JWK instance</span>
<span class="pl-smi">RSAPublicKey</span> <span class="pl-s1">pubKey</span> = <span class="pl-s1">pubJwk</span>.<span class="pl-en">toKey</span>();                 <span class="pl-c">// Java PublicKey instance</span>
<span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-s1">privateJwk</span>.<span class="pl-en">toKeyPair</span>();                <span class="pl-c">// io.jsonwebtoken.security.KeyPair retains key types</span>
<span class="pl-smi">java</span>.<span class="pl-smi">security</span>.<span class="pl-smi">KeyPair</span> <span class="pl-s1">jdkPair</span> = <span class="pl-s1">pair</span>.<span class="pl-en">toJavaKeyPair</span>(); <span class="pl-c">// does not retain pub/private key types</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-thumbprint"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwk-thumbprints" tabindex="-1" class="heading-element" dir="auto">JWK Thumbprints</h3><a id="user-content-jwk-thumbprints" class="anchor" aria-label="Permalink: JWK Thumbprints" href="#jwk-thumbprints"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">A <a href="https://www.rfc-editor.org/rfc/rfc7638.html" rel="nofollow">JWK Thumbprint</a> is a digest (aka hash) of a canonical JSON
representation of a JWK’s public properties. 'Canonical' in this case means that only RFC-specified values in any JWK
are used in an exact order thumbprint calculation.  This ensures that anyone can calculate a JWK’s same exact
thumbprint, regardless of custom parameters or JSON key/value ordering differences in a JWK.</p>
</div>
<div dir="auto">
<p dir="auto">All <code>Jwk</code> instances support <a href="https://www.rfc-editor.org/rfc/rfc7638.html" rel="nofollow">JWK Thumbprint</a>s via the
<code>thumbprint()</code> and <code>thumbprint(HashAlgorithm)</code> methods:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="HashAlgorithm hashAlg = Jwks.HASH.SHA256; // or SHA384, SHA512, etc.

Jwk&lt;?&gt; jwk = Jwks.builder(). /* ... */ .build();

JwkThumbprint sha256Thumbprint = jwk.thumbprint(); // SHA-256 thumbprint by default

JwkThumbprint anotherThumbprint = jwk.thumbprint(Jwks.HASH.SHA512); // or a specified hash algorithm"><pre><span class="pl-smi">HashAlgorithm</span> <span class="pl-s1">hashAlg</span> = <span class="pl-smi">Jwks</span>.<span class="pl-c1">HASH</span>.<span class="pl-c1">SHA256</span>; <span class="pl-c">// or SHA384, SHA512, etc.</span>

<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>(). <span class="pl-c">/* ... */</span> .<span class="pl-en">build</span>();

<span class="pl-smi">JwkThumbprint</span> <span class="pl-s1">sha256Thumbprint</span> = <span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>(); <span class="pl-c">// SHA-256 thumbprint by default</span>

<span class="pl-smi">JwkThumbprint</span> <span class="pl-s1">anotherThumbprint</span> = <span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>(<span class="pl-smi">Jwks</span>.<span class="pl-c1">HASH</span>.<span class="pl-c1">SHA512</span>); <span class="pl-c">// or a specified hash algorithm</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The resulting <code>JwkThumbprint</code> instance provides some useful methods:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>jwkThumbprint.toByteArray()</code>: the thumbprint’s actual digest bytes - i.e. the raw output from the hash algorithm</p>
</li>
<li>
<p dir="auto"><code>jwkThumbprint.toString()</code>: the digest bytes as a Base64URL-encoded string</p>
</li>
<li>
<p dir="auto"><code>jwkThumbprint.getHashAlgorithm()</code>: the specific <code>HashAlgorithm</code> used to compute the thumbprint. Many standard IANA
hash algorithms are available as constants in the <code>Jwks.HASH</code> utility class.</p>
</li>
<li>
<p dir="auto"><code>jwkThumbprint.toURI()</code>: the thumbprint’s canonical URI as defined by the <a href="https://www.rfc-editor.org/rfc/rfc9278.html" rel="nofollow">JWK Thumbprint URI</a> specification</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-thumbprint-kid"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwk-thumbprint-as-a-key-id" tabindex="-1" class="heading-element" dir="auto">JWK Thumbprint as a Key ID</h4><a id="user-content-jwk-thumbprint-as-a-key-id" class="anchor" aria-label="Permalink: JWK Thumbprint as a Key ID" href="#jwk-thumbprint-as-a-key-id"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Because a thumbprint is an order-guaranteed unique digest of a JWK, JWK thumbprints are often used as convenient
unique identifiers for a JWK (e.g. the JWK’s <code>kid</code> (Key ID) value). These identifiers can be useful when
<a href="#key-locator">locating keys</a> for JWS signature verification or JWE decryption, for example.</p>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String kid = jwk.thumbprint().toString(); // Thumbprint bytes as a Base64URL-encoded string
Key key = findKey(kid);
assert jwk.toKey().equals(key);"><pre><span class="pl-smi">String</span> <span class="pl-s1">kid</span> = <span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>(); <span class="pl-c">// Thumbprint bytes as a Base64URL-encoded string</span>
<span class="pl-smi">Key</span> <span class="pl-s1">key</span> = <span class="pl-en">findKey</span>(<span class="pl-s1">kid</span>);
<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">toKey</span>().<span class="pl-en">equals</span>(<span class="pl-s1">key</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">However, because <code>Jwk</code> instances are immutable, you can’t set the key id after the JWK is created. For example, the
following is not possible:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String kid = jwk.thumbprint().toString();
jwk.setId(kid) // Jwks are immutable - there is no `setId` method"><pre><span class="pl-smi">String</span> <span class="pl-s1">kid</span> = <span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>();
<span class="pl-s1">jwk</span>.<span class="pl-en">setId</span>(<span class="pl-s1">kid</span>) <span class="pl-c">// Jwks are immutable - there is no `setId` method</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Instead, you may use the <code>idFromThumbprint</code> methods on the <code>JwkBuilder</code> when creating a <code>Jwk</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwk&lt;?&gt; jwk = Jwks.builder().key(aKey)

    .idFromThumbprint() // or idFromThumbprint(HashAlgorithm)

    .build();"><pre><span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">aKey</span>)

    .<span class="pl-en">idFromThumbprint</span>() <span class="pl-c">// or idFromThumbprint(HashAlgorithm)</span>

    .<span class="pl-en">build</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Calling either <code>idFromThumbprint</code> method will ensure that calling <code>jwk.getId()</code> equals <code>thumbprint.toString()</code>
(which is <code>Encoders.BASE64URL.encode(thumbprint.toByteArray())</code>).</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-thumbprint-uri"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwk-thumbprint-uri" tabindex="-1" class="heading-element" dir="auto">JWK Thumbprint URI</h4><a id="user-content-jwk-thumbprint-uri" class="anchor" aria-label="Permalink: JWK Thumbprint URI" href="#jwk-thumbprint-uri"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">A JWK’s thumbprint’s canonical URI as defined by the <a href="https://www.rfc-editor.org/rfc/rfc9278.html" rel="nofollow">JWK Thumbprint URI</a>
specification may be obtained by calling the thumbprint’s <code>toURI()</code> method:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="URI canonicalThumbprintURI = jwk.thumbprint().toURI();"><pre><span class="pl-smi">URI</span> <span class="pl-s1">canonicalThumbprintURI</span> = <span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toURI</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Per the RFC specification, if you call <code>canonicalThumbprintURI.toString()</code>, you would see a string that looks like this:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="urn:ietf:params:oauth:jwk-thumbprint:HASH_ALG_ID:BASE64URL_DIGEST"><pre lang="text" class="notranslate"><code>urn:ietf:params:oauth:jwk-thumbprint:HASH_ALG_ID:BASE64URL_DIGEST</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">where:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>urn:ietf:params:oauth:jwk-thumbprint:</code> is the URI scheme+prefix</p>
</li>
<li>
<p dir="auto"><code>HASH_ALG_ID</code> is the standard identifier used to compute the thumbprint as defined in the
<a href="https://www.iana.org/assignments/named-information/named-information.xhtml" rel="nofollow">IANA Named Information Hash Algorithm Registry</a>.
This is the same as <code>thumbprint.getHashAlgorithm().getId()</code>.</p>
</li>
<li>
<p dir="auto"><code>BASE64URL_DIGEST</code> is the Base64URL-encoded thumbprint bytes, equal to <code>jwkThumbprint.toString()</code>.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-security"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwk-security-considerations" tabindex="-1" class="heading-element" dir="auto">JWK Security Considerations</h3><a id="user-content-jwk-security-considerations" class="anchor" aria-label="Permalink: JWK Security Considerations" href="#jwk-security-considerations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Because they contain secret or private key material, <code>SecretJwk</code> and <code>PrivateJwk</code> (e.g. <code>RsaPrivateJwk</code>,<br>
<code>EcPrivateJwk</code>, etc) instances should be used with great care and never accidentally transmitted to 3rd parties.</p>
</div>
<div dir="auto">
<p dir="auto">Even so, JJWT’s <code>Jwk</code> implementations will suppress certain values in <code>toString()</code> output for safety as described
next.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwk-tostring"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-jwk-tostring-safety" tabindex="-1" class="heading-element" dir="auto">JWK <code>toString()</code> Safety</h4><a id="user-content-jwk-tostring-safety" class="anchor" aria-label="Permalink: JWK toString() Safety" href="#jwk-tostring-safety"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Because it would be incredibly easy to accidentally print key material to <code>System.out.println()</code> or application
logs, all <code>Jwk</code> implementations will print redacted values instead of actual secret or private key material.</p>
</div>
<div dir="auto">
<p dir="auto">For example, consider the following Secret JWK JSON example from
<a href="https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1" rel="nofollow">RFC 7515, Appendix A.1.1</a>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-json notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="{
  &quot;kty&quot;: &quot;oct&quot;,
  &quot;k&quot;: &quot;AyM1SysPpbyDfgZld3umj1qzKObwVMkoqQ-EstJQLr_T-1qS0gZH75aKtMN3Yj0iPS4hcgUuTwjAzZr1Z9CAow&quot;,
  &quot;kid&quot;: &quot;HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.&quot;
}"><pre>{
  <span class="pl-ent">"kty"</span>: <span class="pl-s"><span class="pl-pds">"</span>oct<span class="pl-pds">"</span></span>,
  <span class="pl-ent">"k"</span>: <span class="pl-s"><span class="pl-pds">"</span>AyM1SysPpbyDfgZld3umj1qzKObwVMkoqQ-EstJQLr_T-1qS0gZH75aKtMN3Yj0iPS4hcgUuTwjAzZr1Z9CAow<span class="pl-pds">"</span></span>,
  <span class="pl-ent">"kid"</span>: <span class="pl-s"><span class="pl-pds">"</span>HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.<span class="pl-pds">"</span></span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>k</code> value (<code>AyAyM1SysPpby...</code>) reflects secure key material and should never be accidentally
exposed.</p>
</div>
<div dir="auto">
<p dir="auto">If you were to parse this JSON as a <code>Jwk</code>, calling <code>toString()</code> will <em>NOT</em> print this value.  It will
instead print the string literal <code>&lt;redacted&gt;</code> for any secret or private key data value.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="String json = getExampleSecretKeyJson();
Jwk&lt;?&gt; jwk = Jwks.parser().build().parse(json);

System.out.printn(jwk);"><pre><span class="pl-smi">String</span> <span class="pl-s1">json</span> = <span class="pl-en">getExampleSecretKeyJson</span>();
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">json</span>);

<span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">printn</span>(<span class="pl-s1">jwk</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This code would print the following string literal to the System console:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="{kty=oct, k=&lt;redacted&gt;, kid=HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.}"><pre lang="text" class="notranslate"><code>{kty=oct, k=&lt;redacted&gt;, kid=HMAC key used in https://www.rfc-editor.org/rfc/rfc7515#appendix-A.1.1 example.}</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This is true for all secret or private key members in <code>SecretJwk</code> and <code>PrivateJwk</code> (e.g. <code>RsaPrivateJwk</code>,
<code>EcPrivateJwk</code>, etc) instances.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwkset"></a></p>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-jwk-sets" tabindex="-1" class="heading-element" dir="auto">JWK Sets</h2><a id="user-content-jwk-sets" class="anchor" aria-label="Permalink: JWK Sets" href="#jwk-sets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">The JWK specification specification also defines the concept of a
<a href="https://datatracker.ietf.org/doc/html/rfc7517#section-5" rel="nofollow">JWK Set</a>:</p>
</div>
<div dir="auto">
<div dir="auto">
<pre>A JWK Set is a JSON object that represents a set of JWKs.  The JSON
object MUST have a "keys" member, with its value being an array of
JWKs.</pre>
</div>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-text-adblock notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="{
  &quot;keys&quot;: [jwk1, jwk2, ...]
}"><pre>{
  "keys": [jwk1, jwk2, ...]
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Where <code>jwk1</code>, <code>jwk2</code>, etc., are each a single <a href="#jwk">JWK</a> JSON Object.</p>
</div>
<div dir="auto">
<p dir="auto">A JWK Set <em>may</em> have other members that are peers to the <code>keys</code> member, but the JWK specification does not define any
others - any such additional members would be custom or unique based on an application’s needs or preferences.</p>
</div>
<div dir="auto">
<p dir="auto">A JWK Set can be useful for conveying multiple keys simultaneously.  For example, an identity web service could expose
all of its RSA or Elliptic Curve public keys that might be used for various purposes or different algorithms to
3rd parties or API clients as a single JWK Set JSON Object or document.  An API client can then parse the JWK Set
to obtain the keys that might be used to verify or decrypt JWTs sent by the web service.</p>
</div>
<div dir="auto">
<p dir="auto">JWK Sets are (mostly) simple collections of JWKs, and they are easily supported by JJWT with parallel builder/parser
concepts we’ve seen above.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwkset-create"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-create-a-jwk-set" tabindex="-1" class="heading-element" dir="auto">Create a JWK Set</h3><a id="user-content-create-a-jwk-set" class="anchor" aria-label="Permalink: Create a JWK Set" href="#create-a-jwk-set"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You create a JWK Set as follows:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Use the <code>Jwks.set()</code> method to create a <code>JwkSetBuilder</code> instance.</p>
</li>
<li>
<p dir="auto">Call the <code>add(Jwk)</code> method any number of times to add one or more JWKs to the set.</p>
</li>
<li>
<p dir="auto">Call builder methods to set any additional JSON members if desired, or the <code>operationPolicy(KeyOperationPolicy)</code>
builder method to control what key operations may be assigned to any given JWK added to the set.</p>
</li>
<li>
<p dir="auto">Call the <code>build()</code> method to produce the resulting JWK Set.</p>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto">For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwk&lt;?&gt; jwk = Jwks.builder()/* ... */.build();
SecretJwk = Jwks.set()              // 1
    .add(jwk)                       // 2, appends a key
    //.add(aCollection)             //    append multiple keys
    //.keys(allJwks)                //    sets/replaces all keys
    //.add(&quot;aName&quot;, &quot;aValue&quot;)       // 3, optional
    //.operationPolicy(Jwks.OP      // 3, optional
    //     .policy()
    //     /* etc... */
    //     .build())
    //.provider(aJcaProvider)       //    optional
    .build();                       // (4)"><pre><span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>()<span class="pl-c">/* ... */</span>.<span class="pl-en">build</span>();
<span class="pl-s1">SecretJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">set</span>()              <span class="pl-c">// 1</span>
    .<span class="pl-en">add</span>(<span class="pl-s1">jwk</span>)                       <span class="pl-c">// 2, appends a key</span>
    <span class="pl-c">//.add(aCollection)             //    append multiple keys</span>
    <span class="pl-c">//.keys(allJwks)                //    sets/replaces all keys</span>
    <span class="pl-c">//.add("aName", "aValue")       // 3, optional</span>
    <span class="pl-c">//.operationPolicy(Jwks.OP      // 3, optional</span>
    <span class="pl-c">//     .policy()</span>
    <span class="pl-c">//     /* etc... */</span>
    <span class="pl-c">//     .build())</span>
    <span class="pl-c">//.provider(aJcaProvider)       //    optional</span>
    .<span class="pl-en">build</span>();                       <span class="pl-c">// (4)</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">As shown, you can optionally configure the <code>.operationPolicy(KeyOperationPolicy)</code> method using a
<code>Jwts.OP.policy()</code> builder.  A <code>KeyOperationPolicy</code> allows you control what operations are allowed for any JWK
before being added to the JWK Set; any JWK that does not match the policy will be rejected and not added to the set.
JJWT internally defaults to a standard RFC-compliant policy, but you can create a
policy to override the default if desired using the <code>Jwks.OP.policy()</code> builder method.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-jwkset-read"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-read-a-jwk-set" tabindex="-1" class="heading-element" dir="auto">Read a JWK Set</h3><a id="user-content-read-a-jwk-set" class="anchor" aria-label="Permalink: Read a JWK Set" href="#read-a-jwk-set"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">You can read/parse a JWK Set by building a JWK Set <code>Parser</code> and parsing the JWK Set JSON with one of its various
<code>parse</code> methods:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="JwkSet jwkSet = Jwks.setParser()
    //.provider(aJcaProvider)      // optional
    //.deserializer(deserializer)  // optional
    //.policy(aKeyOperationPolicy) // optional
    .build()                       // create the parser
    .parse(json);                  // actually parse JSON String, InputStream, Reader, etc.

jwkSet.forEach(jwk -&gt; System.out.println(jwk));"><pre><span class="pl-smi">JwkSet</span> <span class="pl-s1">jwkSet</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">setParser</span>()
    <span class="pl-c">//.provider(aJcaProvider)      // optional</span>
    <span class="pl-c">//.deserializer(deserializer)  // optional</span>
    <span class="pl-c">//.policy(aKeyOperationPolicy) // optional</span>
    .<span class="pl-en">build</span>()                       <span class="pl-c">// create the parser</span>
    .<span class="pl-en">parse</span>(<span class="pl-s1">json</span>);                  <span class="pl-c">// actually parse JSON String, InputStream, Reader, etc.</span>

<span class="pl-s1">jwkSet</span>.<span class="pl-en">forEach</span>(<span class="pl-s1">jwk</span> -&gt; <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">jwk</span>));</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">As shown above, you can specify a custom JCA Provider, <a href="#json">JSON deserializer</a> or <code>KeyOperationPolicy</code> in the
same way as the <code>JwkSetBuilder</code>. Any JWK that does not match the default (or configured) policy will be
rejected. You can create a policy to override the default if desired using the <code>Jwks.OP.policy()</code> builder method.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-compression"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-compression" tabindex="-1" class="heading-element" dir="auto">Compression</h2><a id="user-content-compression" class="anchor" aria-label="Permalink: Compression" href="#compression"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="warning">⚠️</g-emoji>WARNING</div>
</td>
<td>
<div dir="auto">
<p dir="auto">The JWT specification standardizes compression for JWEs (Encrypted JWTs) ONLY, however JJWT supports it for JWS
(Signed JWTs) as well.</p>
</div>
<div dir="auto">
<p dir="auto">If you are positive that a JWS you create with JJWT will <em>also</em> be parsed with JJWT,
you can use this feature with both JWEs and JWSs, otherwise it is best to only use it for JWEs.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">If a JWT’s <code>payload</code> is sufficiently large - that is, it is a large content byte array or JSON with a lot of
name/value pairs (or individual values are very large or verbose) - you can reduce the size of the compact JWT by
compressing the payload.</p>
</div>
<div dir="auto">
<p dir="auto">This might be important to you if the resulting JWT is used in a URL for example, since URLs are best kept under
4096 characters due to browser, user mail agent, or HTTP gateway compatibility issues.  Smaller JWTs also help reduce
bandwidth utilization, which may or may not be important depending on your application’s volume or needs.</p>
</div>
<div dir="auto">
<p dir="auto">If you want to compress your JWT, you can use the <code>JwtBuilder</code>'s  <code>compressWith(CompressionAlgorithm)</code> method.  For
example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.builder()

   .compressWith(Jwts.ZIP.DEF) // DEFLATE compression algorithm

   // .. etc ..."><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

   .<span class="pl-en">compressWith</span>(<span class="pl-smi">Jwts</span>.<span class="pl-c1">ZIP</span>.<span class="pl-c1">DEF</span>) <span class="pl-c">// DEFLATE compression algorithm</span>

   <span class="pl-c">// .. etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">If you use any of the algorithm constants in the <code>Jwts.ZIP</code> class, that’s it, you’re done.  You don’t have to
do anything during parsing or configure the <code>JwtParserBuilder</code> for compression - JJWT will automatically decompress
the payload as expected.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-compression-custom"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-custom-compression-algorithm" tabindex="-1" class="heading-element" dir="auto">Custom Compression Algorithm</h3><a id="user-content-custom-compression-algorithm" class="anchor" aria-label="Permalink: Custom Compression Algorithm" href="#custom-compression-algorithm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If the default <code>Jwts.ZIP</code> compression algorithms are not suitable for your needs, you can create your own
<code>CompressionAlgorithm</code> implementation(s).</p>
</div>
<div dir="auto">
<p dir="auto">Just as you would with the default algorithms, you may specify that you want a JWT compressed by calling the
<code>JwtBuilder</code>'s <code>compressWith</code> method, supplying your custom implementation instance.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="CompressionAlgorithm myAlg = new MyCompressionAlgorithm();

Jwts.builder()

   .compressWith(myAlg) // &lt;----

   // .. etc ..."><pre><span class="pl-smi">CompressionAlgorithm</span> <span class="pl-s1">myAlg</span> = <span class="pl-k">new</span> <span class="pl-smi">MyCompressionAlgorithm</span>();

<span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

   .<span class="pl-en">compressWith</span>(<span class="pl-s1">myAlg</span>) <span class="pl-c">// &lt;----</span>

   <span class="pl-c">// .. etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">When you call <code>compressWith</code>, the JWT <code>payload</code> will be compressed with your algorithm, and the
<a href="https://www.rfc-editor.org/rfc/rfc7516.html#section-4.1.3" rel="nofollow"><code>zip</code> (Compression Algorithm)</a>
header will automatically be set to the value returned by your algorithm’s <code>algorithm.getId()</code> method as
required by the JWT specification.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-compression-custom-locator"></a>
However, the <code>JwtParser</code> needs to be aware of this custom algorithm as well, so it can use it while parsing. You do this
by modifying the <code>JwtParserBuilder</code>'s <code>zip()</code> collection.  For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="CompressionAlgorithm myAlg = new MyCompressionAlgorithm();

Jwts.parser()

    .zip().add(myAlg).and() // &lt;----

    // .. etc ..."><pre><span class="pl-smi">CompressionAlgorithm</span> <span class="pl-s1">myAlg</span> = <span class="pl-k">new</span> <span class="pl-smi">MyCompressionAlgorithm</span>();

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">zip</span>().<span class="pl-en">add</span>(<span class="pl-s1">myAlg</span>).<span class="pl-en">and</span>() <span class="pl-c">// &lt;----</span>

    <span class="pl-c">// .. etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This adds additional <code>CompressionAlgorithm</code> implementations to the parser’s overall total set of supported compression
algorithms (which already includes all of the <code>Jwts.ZIP</code> algorithms by default).</p>
</div>
<div dir="auto">
<p dir="auto">The parser will then automatically check to see if the JWT <code>zip</code> header has been set to see if a compression
algorithm has been used to compress the JWT.  If set, the parser will automatically look up your
<code>CompressionAlgorithm</code> by its <code>getId()</code> value, and use it to decompress the JWT.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-json"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-json-support" tabindex="-1" class="heading-element" dir="auto">JSON Support</h2><a id="user-content-json-support" class="anchor" aria-label="Permalink: JSON Support" href="#json-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">A <code>JwtBuilder</code> will serialize the <code>Header</code> and <code>Claims</code> maps (and potentially any Java objects they
contain) to JSON with a <code>Serializer&lt;Map&lt;String, ?&gt;&gt;</code> instance.  Similarly, a <code>JwtParser</code> will
deserialize JSON into the <code>Header</code> and <code>Claims</code> using a <code>Deserializer&lt;Map&lt;String, ?&gt;&gt;</code> instance.</p>
</div>
<div dir="auto">
<p dir="auto">If you don’t explicitly configure a <code>JwtBuilder</code>'s <code>Serializer</code> or a <code>JwtParserBuilder</code>'s <code>Deserializer</code>, JJWT will
automatically attempt to discover and use the following JSON implementations if found in the runtime classpath.<br>
They are checked in order, and the first one found is used:</p>
</div>
<div dir="auto">
<ol dir="auto">
<li>
<p dir="auto">Jackson: This will automatically be used if you specify <code>io.jsonwebtoken:jjwt-jackson</code> as a project runtime
dependency.  Jackson supports POJOs as claims with full marshaling/unmarshaling as necessary.</p>
</li>
<li>
<p dir="auto">Gson: This will automatically be used if you specify <code>io.jsonwebtoken:jjwt-gson</code> as a project runtime dependency.
Gson also supports POJOs as claims with full marshaling/unmarshaling as necessary.</p>
</li>
<li>
<p dir="auto">JSON-Java (<code>org.json</code>): This will be used automatically if you specify <code>io.jsonwebtoken:jjwt-orgjson</code> as a
project runtime dependency.</p>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto"><code>org.json</code> APIs are natively enabled in Android environments so this is the recommended JSON processor for
Android applications <em>unless</em> you want to use POJOs as claims.  The <code>org.json</code> library supports simple
Object-to-JSON marshaling, but it <em>does not</em> support JSON-to-Object unmarshalling.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
</li>
</ol>
</div>
<div dir="auto">
<p dir="auto"><strong>If you want to use POJOs as claim values, use either the <code>io.jsonwebtoken:jjwt-jackson</code> or
<code>io.jsonwebtoken:jjwt-gson</code> dependency</strong> (or implement your own Serializer and Deserializer if desired). <strong>But beware</strong>,
Jackson will force a sizable (&gt; 1 MB) dependency to an Android application thus increasing the app download size for
mobile users.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-json-custom"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-custom-json-processor" tabindex="-1" class="heading-element" dir="auto">Custom JSON Processor</h3><a id="user-content-custom-json-processor" class="anchor" aria-label="Permalink: Custom JSON Processor" href="#custom-json-processor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you don’t want to use JJWT’s runtime dependency approach, or just want to customize how JSON serialization and
deserialization works, you can implement the <code>Serializer</code> and <code>Deserializer</code> interfaces and specify instances of
them on the <code>JwtBuilder</code> and <code>JwtParserBuilder</code> respectively.  For example:</p>
</div>
<div dir="auto">
<p dir="auto">When creating a JWT:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Serializer&lt;Map&lt;String,?&gt;&gt; serializer = getMySerializer(); //implement me

Jwts.builder()

    .json(serializer)

    // ... etc ..."><pre><span class="pl-smi">Serializer</span>&lt;<span class="pl-smi">Map</span>&lt;<span class="pl-smi">String</span>,?&gt;&gt; <span class="pl-s1">serializer</span> = <span class="pl-en">getMySerializer</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">json</span>(<span class="pl-s1">serializer</span>)

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">When reading a JWT:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Deserializer&lt;Map&lt;String,?&gt;&gt; deserializer = getMyDeserializer(); //implement me

Jwts.parser()

    .json(deserializer)

    // ... etc ..."><pre><span class="pl-smi">Deserializer</span>&lt;<span class="pl-smi">Map</span>&lt;<span class="pl-smi">String</span>,?&gt;&gt; <span class="pl-s1">deserializer</span> = <span class="pl-en">getMyDeserializer</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">json</span>(<span class="pl-s1">deserializer</span>)

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-json-jackson"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jackson-json-processor" tabindex="-1" class="heading-element" dir="auto">Jackson JSON Processor</h3><a id="user-content-jackson-json-processor" class="anchor" aria-label="Permalink: Jackson JSON Processor" href="#jackson-json-processor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to use Jackson for JSON processing, just including the <code>io.jsonwebtoken:jjwt-jackson</code> dependency as a
runtime dependency is all that is necessary in most projects, since Gradle and Maven will automatically pull in
the necessary Jackson dependencies as well.</p>
</div>
<div dir="auto">
<p dir="auto">After including this dependency, JJWT will automatically find the Jackson implementation on the runtime classpath and
use it internally for JSON parsing.  There is nothing else you need to do - JJWT will automatically create a new
Jackson ObjectMapper for its needs as required.</p>
</div>
<div dir="auto">
<p dir="auto">However, if you have an application-wide Jackson <code>ObjectMapper</code> (as is typically recommended for most applications),
you can configure JJWT to use your own <code>ObjectMapper</code> instead.</p>
</div>
<div dir="auto">
<p dir="auto">You do this by declaring the <code>io.jsonwebtoken:jjwt-jackson</code> dependency with <strong>compile</strong> scope (not runtime
scope which is the typical JJWT default).  That is:</p>
</div>
<div dir="auto">
<p dir="auto"><strong>Maven</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-text-xml notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="&lt;dependency&gt;
    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;
    &lt;version&gt;0.12.6&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt; &lt;!-- Not runtime --&gt;
&lt;/dependency&gt;"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;io.jsonwebtoken&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;jjwt-jackson&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;0.12.6&lt;/<span class="pl-ent">version</span>&gt;
    &lt;<span class="pl-ent">scope</span>&gt;compile&lt;/<span class="pl-ent">scope</span>&gt; <span class="pl-c"><span class="pl-c">&lt;!--</span> Not runtime <span class="pl-c">--&gt;</span></span>
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><strong>Gradle or Android</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dependencies {
    implementation 'io.jsonwebtoken:jjwt-jackson:0.12.6'
}"><pre>dependencies {
    implementation <span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-jackson:0.12.6<span class="pl-pds">'</span></span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">And then you can specify the <code>JacksonSerializer</code> using your own <code>ObjectMapper</code> on the <code>JwtBuilder</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="ObjectMapper objectMapper = getMyObjectMapper(); //implement me

String jws = Jwts.builder()

    .json(new JacksonSerializer(objectMapper))

    // ... etc ..."><pre><span class="pl-smi">ObjectMapper</span> <span class="pl-s1">objectMapper</span> = <span class="pl-en">getMyObjectMapper</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">json</span>(<span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>(<span class="pl-s1">objectMapper</span>))

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">and the <code>JacksonDeserializer</code> using your <code>ObjectMapper</code> on the <code>JwtParserBuilder</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="ObjectMapper objectMapper = getMyObjectMapper(); //implement me

Jwts.parser()

    .json(new JacksonDeserializer(objectMapper))

    // ... etc ..."><pre><span class="pl-smi">ObjectMapper</span> <span class="pl-s1">objectMapper</span> = <span class="pl-en">getMyObjectMapper</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">json</span>(<span class="pl-k">new</span> <span class="pl-smi">JacksonDeserializer</span>(<span class="pl-s1">objectMapper</span>))

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-json-jackson-custom-types"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-parsing-of-custom-claim-types" tabindex="-1" class="heading-element" dir="auto">Parsing of Custom Claim Types</h4><a id="user-content-parsing-of-custom-claim-types" class="anchor" aria-label="Permalink: Parsing of Custom Claim Types" href="#parsing-of-custom-claim-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">By default, JJWT will only convert simple claim types: String, Date, Long, Integer, Short and Byte.  If you need to
deserialize other types you can configure the <code>JacksonDeserializer</code> by passing a <code>Map</code> of claim names to types in
through a constructor. For example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="new JacksonDeserializer(Maps.of(&quot;user&quot;, User.class).build())"><pre><span class="pl-k">new</span> <span class="pl-smi">JacksonDeserializer</span>(<span class="pl-smi">Maps</span>.<span class="pl-en">of</span>(<span class="pl-s">"user"</span>, <span class="pl-smi">User</span>.<span class="pl-k">class</span>).<span class="pl-en">build</span>())</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">This would trigger the value in the <code>user</code> claim to be deserialized into the custom type of <code>User</code>.  Given the claims
payload of:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-json notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="{
    &quot;issuer&quot;: &quot;https://example.com/issuer&quot;,
    &quot;user&quot;: {
      &quot;firstName&quot;: &quot;Jill&quot;,
      &quot;lastName&quot;: &quot;Coder&quot;
    }
}"><pre>{
    <span class="pl-ent">"issuer"</span>: <span class="pl-s"><span class="pl-pds">"</span>https://example.com/issuer<span class="pl-pds">"</span></span>,
    <span class="pl-ent">"user"</span>: {
      <span class="pl-ent">"firstName"</span>: <span class="pl-s"><span class="pl-pds">"</span>Jill<span class="pl-pds">"</span></span>,
      <span class="pl-ent">"lastName"</span>: <span class="pl-s"><span class="pl-pds">"</span>Coder<span class="pl-pds">"</span></span>
    }
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>User</code> object could be retrieved from the <code>user</code> claim with the following code:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Jwts.parser()

    .json(new JacksonDeserializer(Maps.of(&quot;user&quot;, User.class).build())) // &lt;-----

    .build()

    .parseUnprotectedClaims(aJwtString)

    .getPayload()

    .get(&quot;user&quot;, User.class); // &lt;-----"><pre><span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">json</span>(<span class="pl-k">new</span> <span class="pl-smi">JacksonDeserializer</span>(<span class="pl-smi">Maps</span>.<span class="pl-en">of</span>(<span class="pl-s">"user"</span>, <span class="pl-smi">User</span>.<span class="pl-k">class</span>).<span class="pl-en">build</span>())) <span class="pl-c">// &lt;-----</span>

    .<span class="pl-en">build</span>()

    .<span class="pl-en">parseUnprotectedClaims</span>(<span class="pl-s1">aJwtString</span>)

    .<span class="pl-en">getPayload</span>()

    .<span class="pl-en">get</span>(<span class="pl-s">"user"</span>, <span class="pl-smi">User</span>.<span class="pl-k">class</span>); <span class="pl-c">// &lt;-----</span></pre></div>
</div>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto">Using this constructor is mutually exclusive with the <code>JacksonDeserializer(ObjectMapper)</code> constructor
<a href="#json-jackson">described above</a>. This is because JJWT configures an <code>ObjectMapper</code> directly and could have negative
consequences for a shared <code>ObjectMapper</code> instance. This should work for most applications, if you need a more advanced
parsing options, <a href="#json-jackson">configure the mapper directly</a>.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-json-gson"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-gson-json-processor" tabindex="-1" class="heading-element" dir="auto">Gson JSON Processor</h3><a id="user-content-gson-json-processor" class="anchor" aria-label="Permalink: Gson JSON Processor" href="#gson-json-processor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If you want to use Gson for JSON processing, just including the <code>io.jsonwebtoken:jjwt-gson</code> dependency as a
runtime dependency is all that is necessary in most projects, since Gradle and Maven will automatically pull in
the necessary Gson dependencies as well.</p>
</div>
<div dir="auto">
<p dir="auto">After including this dependency, JJWT will automatically find the Gson implementation on the runtime classpath and
use it internally for JSON parsing.  There is nothing else you need to do - just declaring the dependency is
all that is required, no code or config is necessary.</p>
</div>
<div dir="auto">
<p dir="auto">If you’re curious, JJWT will automatically create an internal default Gson instance for its own needs as follows:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="new GsonBuilder()
    .registerTypeHierarchyAdapter(io.jsonwebtoken.lang.Supplier.class, GsonSupplierSerializer.INSTANCE)
    .disableHtmlEscaping().create();"><pre><span class="pl-k">new</span> <span class="pl-smi">GsonBuilder</span>()
    .<span class="pl-en">registerTypeHierarchyAdapter</span>(<span class="pl-smi">io</span>.<span class="pl-smi">jsonwebtoken</span>.<span class="pl-smi">lang</span>.<span class="pl-smi">Supplier</span>.<span class="pl-k">class</span>, <span class="pl-smi">GsonSupplierSerializer</span>.<span class="pl-c1">INSTANCE</span>)
    .<span class="pl-en">disableHtmlEscaping</span>().<span class="pl-en">create</span>();</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">The <code>registerTypeHierarchyAdapter</code> builder call is required to serialize JWKs with secret or private values.</p>
</div>
<div dir="auto">
<p dir="auto">However, if you prefer to use a different Gson instance instead of JJWT’s default, you can configure JJWT to use your
own - just don’t forget to register the necessary JJWT type hierarchy adapter.</p>
</div>
<div dir="auto">
<p dir="auto">You do this by declaring the <code>io.jsonwebtoken:jjwt-gson</code> dependency with <strong>compile</strong> scope (not runtime
scope which is the typical JJWT default).  That is:</p>
</div>
<div dir="auto">
<p dir="auto"><strong>Maven</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-text-xml notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="&lt;dependency&gt;
    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
    &lt;artifactId&gt;jjwt-gson&lt;/artifactId&gt;
    &lt;version&gt;0.12.6&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt; &lt;!-- Not runtime --&gt;
&lt;/dependency&gt;"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;io.jsonwebtoken&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;jjwt-gson&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;0.12.6&lt;/<span class="pl-ent">version</span>&gt;
    &lt;<span class="pl-ent">scope</span>&gt;compile&lt;/<span class="pl-ent">scope</span>&gt; <span class="pl-c"><span class="pl-c">&lt;!--</span> Not runtime <span class="pl-c">--&gt;</span></span>
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><strong>Gradle or Android</strong></p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-groovy notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dependencies {
    implementation 'io.jsonwebtoken:jjwt-gson:0.12.6'
}"><pre>dependencies {
    implementation <span class="pl-s"><span class="pl-pds">'</span>io.jsonwebtoken:jjwt-gson:0.12.6<span class="pl-pds">'</span></span>
}</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">And then you can specify the <code>GsonSerializer</code> using your own <code>Gson</code> instance on the <code>JwtBuilder</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Gson gson = new GsonBuilder()
    // don't forget this line!:
    .registerTypeHierarchyAdapter(io.jsonwebtoken.lang.Supplier.class, GsonSupplierSerializer.INSTANCE)
    .disableHtmlEscaping().create();

String jws = Jwts.builder()

    .json(new GsonSerializer(gson))

    // ... etc ..."><pre><span class="pl-smi">Gson</span> <span class="pl-s1">gson</span> = <span class="pl-k">new</span> <span class="pl-smi">GsonBuilder</span>()
    <span class="pl-c">// don't forget this line!:</span>
    .<span class="pl-en">registerTypeHierarchyAdapter</span>(<span class="pl-smi">io</span>.<span class="pl-smi">jsonwebtoken</span>.<span class="pl-smi">lang</span>.<span class="pl-smi">Supplier</span>.<span class="pl-k">class</span>, <span class="pl-smi">GsonSupplierSerializer</span>.<span class="pl-c1">INSTANCE</span>)
    .<span class="pl-en">disableHtmlEscaping</span>().<span class="pl-en">create</span>();

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">json</span>(<span class="pl-k">new</span> <span class="pl-smi">GsonSerializer</span>(<span class="pl-s1">gson</span>))

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">and the <code>GsonDeserializer</code> using your <code>Gson</code> instance on the <code>JwtParser</code>:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Gson gson = getGson(); //implement me

Jwts.parser()

    .json(new GsonDeserializer(gson))

    // ... etc ..."><pre><span class="pl-smi">Gson</span> <span class="pl-s1">gson</span> = <span class="pl-en">getGson</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">json</span>(<span class="pl-k">new</span> <span class="pl-smi">GsonDeserializer</span>(<span class="pl-s1">gson</span>))

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">Again, as shown above, it is critical to create your <code>Gson</code> instance using the <code>GsonBuilder</code> and include the line:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content=".registerTypeHierarchyAdapter(io.jsonwebtoken.lang.Supplier.class, GsonSupplierSerializer.INSTANCE)"><pre>.<span class="pl-en">registerTypeHierarchyAdapter</span>(<span class="pl-smi">io</span>.<span class="pl-smi">jsonwebtoken</span>.<span class="pl-smi">lang</span>.<span class="pl-smi">Supplier</span>.<span class="pl-k">class</span>, <span class="pl-smi">GsonSupplierSerializer</span>.<span class="pl-c1">INSTANCE</span>)</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">to ensure JWK serialization works as expected.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-base64"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-base64-support" tabindex="-1" class="heading-element" dir="auto">Base64 Support</h2><a id="user-content-base64-support" class="anchor" aria-label="Permalink: Base64 Support" href="#base64-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">JJWT uses a very fast pure-Java <a href="https://tools.ietf.org/html/rfc4648" rel="nofollow">Base64</a> codec for Base64 and
Base64Url encoding and decoding that is guaranteed to work deterministically in all JDK and Android environments.</p>
</div>
<div dir="auto">
<p dir="auto">You can access JJWT’s encoders and decoders using the <code>io.jsonwebtoken.io.Encoders</code> and <code>io.jsonwebtoken.io.Decoders</code>
utility classes.</p>
</div>
<div dir="auto">
<p dir="auto"><code>io.jsonwebtoken.io.Encoders</code>:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>BASE64</code> is an RFC 4648 <a href="https://tools.ietf.org/html/rfc4648#section-4" rel="nofollow">Base64</a> encoder</p>
</li>
<li>
<p dir="auto"><code>BASE64URL</code> is an RFC 4648 <a href="https://tools.ietf.org/html/rfc4648#section-5" rel="nofollow">Base64URL</a> encoder</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><code>io.jsonwebtoken.io.Decoders</code>:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>BASE64</code> is an RFC 4648 <a href="https://tools.ietf.org/html/rfc4648#section-4" rel="nofollow">Base64</a> decoder</p>
</li>
<li>
<p dir="auto"><code>BASE64URL</code> is an RFC 4648 <a href="https://tools.ietf.org/html/rfc4648#section-5" rel="nofollow">Base64URL</a> decoder</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-base64-security"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-understanding-base64-in-security-contexts" tabindex="-1" class="heading-element" dir="auto">Understanding Base64 in Security Contexts</h3><a id="user-content-understanding-base64-in-security-contexts" class="anchor" aria-label="Permalink: Understanding Base64 in Security Contexts" href="#understanding-base64-in-security-contexts"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">All cryptographic operations, like encryption and message digest calculations, result in binary data - raw byte arrays.</p>
</div>
<div dir="auto">
<p dir="auto">Because raw byte arrays cannot be represented natively in JSON, the JWT
specifications employ the Base64URL encoding scheme to represent these raw byte values in JSON documents or compound
structures like a JWT.</p>
</div>
<div dir="auto">
<p dir="auto">This means that the Base64 and Base64URL algorithms take a raw byte array and converts the bytes into a string suitable
to use in text documents and protocols like HTTP.  These algorithms can also convert these strings back
into the original raw byte arrays for decryption or signature verification as necessary.</p>
</div>
<div dir="auto">
<p dir="auto">That’s nice and convenient, but there are two very important properties of Base64 (and Base64URL) text strings that
are critical to remember when they are used in security scenarios like with JWTs:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><a href="#base64-not-encryption">Base64 is not encryption</a></p>
</li>
<li>
<p dir="auto"><a href="#base64-changing-characters">Changing Base64 characters</a> <strong>does not automatically invalidate data</strong>.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-base64-not-encryption"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-base64-is-not-encryption" tabindex="-1" class="heading-element" dir="auto">Base64 is not encryption</h4><a id="user-content-base64-is-not-encryption" class="anchor" aria-label="Permalink: Base64 is not encryption" href="#base64-is-not-encryption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Base64-encoded text is <em>not</em> encrypted.</p>
</div>
<div dir="auto">
<p dir="auto">While a byte array representation can be converted to text with the Base64 algorithms,
anyone in the world can take Base64-encoded text, decode it with any standard Base64 decoder, and obtain the
underlying raw byte array data.  No key or secret is required to decode Base64 text - anyone can do it.</p>
</div>
<div dir="auto">
<p dir="auto">Based on this, when encoding sensitive byte data with Base64 - like a shared or private key - <strong>the resulting
string is NOT safe to expose publicly</strong>.</p>
</div>
<div dir="auto">
<p dir="auto">A base64-encoded key is still sensitive information and must be kept as secret and as safe as the original source
of the bytes (e.g. a Java <code>PrivateKey</code> or <code>SecretKey</code> instance).</p>
</div>
<div dir="auto">
<p dir="auto">After Base64-encoding data into a string, it is possible to then encrypt the string to keep it safe from prying
eyes if desired, but this is different.  Encryption is not encoding.  They are separate concepts.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-base64-changing-characters"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h4 id="user-content-changing-base64-characters" tabindex="-1" class="heading-element" dir="auto">Changing Base64 Characters</h4><a id="user-content-changing-base64-characters" class="anchor" aria-label="Permalink: Changing Base64 Characters" href="#changing-base64-characters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">In an effort to see if signatures or encryption is truly validated correctly, some try to edit a JWT
string - particularly the Base64-encoded signature part - to see if the edited string fails security validations.</p>
</div>
<div dir="auto">
<p dir="auto">This conceptually makes sense: change the signature string, you would assume that signature validation would fail.</p>
</div>
<div dir="auto">
<p dir="auto"><em>But this doesn’t always work. Changing base64 characters is an invalid test</em>.</p>
</div>
<div dir="auto">
<p dir="auto">Why?</p>
</div>
<div dir="auto">
<p dir="auto">Because of the way the Base64 algorithm works, there are multiple Base64 strings that can represent the same raw byte
array.</p>
</div>
<div dir="auto">
<p dir="auto">Going into the details of the Base64 algorithm is out of scope for this documentation, but there are many good
Stackoverflow <a href="https://stackoverflow.com/questions/33663113/multiple-strings-base64-decoded-to-same-byte-array?noredirect=1&amp;lq=1" rel="nofollow">answers</a>
and <a href="https://github.com/jwtk/jjwt/issues/211#issuecomment-283076269" data-hovercard-type="issue" data-hovercard-url="/jwtk/jjwt/issues/211/hovercard">JJWT issue comments</a> that explain this in detail.
Here’s one <a href="https://stackoverflow.com/questions/29941270/why-do-base64-decode-produce-same-byte-array-for-different-strings" rel="nofollow">good answer</a>:</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto"><g-emoji class="g-emoji" alias="bangbang">‼️</g-emoji>IMPORTANT</div>
</td>
<td>
<div dir="auto">
<p dir="auto">Remember that Base64 encodes each 8 bit entity into 6 bit chars. The resulting string then needs exactly
11 * 8 / 6 bytes, or 14 2/3 chars. But you can’t write partial characters. Only the first 4 bits (or 2/3 of the
last char) are significant. The last two bits are not decoded. Thus all of:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="dGVzdCBzdHJpbmo
dGVzdCBzdHJpbmp
dGVzdCBzdHJpbmq
dGVzdCBzdHJpbmr"><pre lang="text" class="notranslate"><code>dGVzdCBzdHJpbmo
dGVzdCBzdHJpbmp
dGVzdCBzdHJpbmq
dGVzdCBzdHJpbmr</code></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">All decode to the same 11 bytes (116, 101, 115, 116, 32, 115, 116, 114, 105, 110, 106).</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">As you can see by the above 4 examples, they all decode to the same exact 11 bytes.  So just changing one or two
characters at the end of a Base64 string may not work and can often result in an invalid test.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-base64-invalid-characters"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h5 id="user-content-adding-invalid-characters" tabindex="-1" class="heading-element" dir="auto">Adding Invalid Characters</h5><a id="user-content-adding-invalid-characters" class="anchor" aria-label="Permalink: Adding Invalid Characters" href="#adding-invalid-characters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">JJWT’s default Base64/Base64URL decoders automatically ignore illegal Base64 characters located in the beginning and
end of an encoded string. Therefore, prepending or appending invalid characters like <code>{</code> or <code>]</code> or similar will also
not fail JJWT’s signature checks either.  Why?</p>
</div>
<div dir="auto">
<p dir="auto">Because such edits - whether changing a trailing character or two, or appending invalid characters - do not actually
change the <em>real</em> signature, which in cryptographic contexts, is always a byte array. Instead, tests like these
change a text encoding of the byte array, and as we covered above, they are different things.</p>
</div>
<div dir="auto">
<p dir="auto">So JJWT 'cares' more about the real byte array and less about its text encoding because that is what actually matters
in cryptographic operations.  In this sense, JJWT follows the <a href="https://en.wikipedia.org/wiki/Robustness_principle" rel="nofollow">Robustness Principle</a>
in being <em>slightly</em> lenient on what is accepted per the rules of Base64, but if anything in the real underlying
byte array is changed, then yes, JJWT’s cryptographic assertions will definitely fail.</p>
</div>
<div dir="auto">
<p dir="auto">To help understand JJWT’s approach, we have to remember why signatures exist. From our documentation above on
<a href="#jws">signing JWTs</a>:</p>
</div>
<div dir="auto">
<blockquote>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">guarantees it was created by someone we know (it is authentic), as well as</p>
</li>
<li>
<p dir="auto">guarantees that no-one has manipulated or changed it after it was created (its integrity is maintained).</p>
</li>
</ul>
</div>
</blockquote>
</div>
<div dir="auto">
<p dir="auto">Just prepending or appending invalid text to try to 'trick' the algorithm doesn’t change the integrity of the
underlying claims or signature byte arrays, nor the authenticity of the claims byte array, because those byte
arrays are still obtained intact.</p>
</div>
<div dir="auto">
<p dir="auto">Please see <a href="https://github.com/jwtk/jjwt/issues/518" data-hovercard-type="issue" data-hovercard-url="/jwtk/jjwt/issues/518/hovercard">JJWT Issue #518</a> and its referenced issues and links for more
information.</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-base64-custom"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-custom-base64" tabindex="-1" class="heading-element" dir="auto">Custom Base64</h3><a id="user-content-custom-base64" class="anchor" aria-label="Permalink: Custom Base64" href="#custom-base64"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">If for some reason you want to specify your own Base64Url encoder and decoder, you can use the <code>JwtBuilder</code>
<code>encoder</code> method to set the encoder:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Encoder&lt;byte[], String&gt; encoder = getMyBase64UrlEncoder(); //implement me

String jws = Jwts.builder()

    .b64Url(encoder)

    // ... etc ..."><pre><span class="pl-smi">Encoder</span>&lt;<span class="pl-smi">byte</span>[], <span class="pl-smi">String</span>&gt; <span class="pl-s1">encoder</span> = <span class="pl-en">getMyBase64UrlEncoder</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>()

    .<span class="pl-en">b64Url</span>(<span class="pl-s1">encoder</span>)

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto">and the <code>JwtParserBuilder</code>'s <code>decoder</code> method to set the decoder:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Decoder&lt;String, byte[]&gt; decoder = getMyBase64UrlDecoder(); //implement me

Jwts.parser()

    .b64Url(decoder)

    // ... etc ..."><pre><span class="pl-smi">Decoder</span>&lt;<span class="pl-smi">String</span>, <span class="pl-smi">byte</span>[]&gt; <span class="pl-s1">decoder</span> = <span class="pl-en">getMyBase64UrlDecoder</span>(); <span class="pl-c">//implement me</span>

<span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()

    .<span class="pl-en">b64Url</span>(<span class="pl-s1">decoder</span>)

    <span class="pl-c">// ... etc ...</span></pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-examples"></a></p>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-examples" tabindex="-1" class="heading-element" dir="auto">Examples</h2><a id="user-content-examples" class="anchor" aria-label="Permalink: Examples" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><a href="#example-jws-hs">JWS Signed with HMAC</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jws-rsa">JWS Signed with RSA</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jws-ecdsa">JWS Signed with ECDSA</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jws-eddsa">JWS Signed with EdDSA</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwe-dir">JWE Encrypted Directly with a SecretKey</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwe-rsa">JWE Encrypted with RSA</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwe-aeskw">JWE Encrypted with AES Key Wrap</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwe-ecdhes">JWE Encrypted with ECDH-ES</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwe-password">JWE Encrypted with a Password</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-secret">SecretKey JWK</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-rsapub">RSA Public JWK</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-rsapriv">RSA Private JWK</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-ecpub">Elliptic Curve Public JWK</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-ecpriv">Elliptic Curve Private JWK</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-edpub">Edwards Elliptic Curve Public JWK</a></p>
</li>
<li>
<p dir="auto"><a href="#example-jwk-edpriv">Edwards Elliptic Curve Private JWK</a></p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jws-hs"></a></p>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-signed-with-hmac" tabindex="-1" class="heading-element" dir="auto">JWT Signed with HMAC</h3><a id="user-content-jwt-signed-with-hmac" class="anchor" aria-label="Permalink: JWT Signed with HMAC" href="#jwt-signed-with-hmac"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to digitally sign a JWT using an <a href="https://en.wikipedia.org/wiki/HMAC" rel="nofollow">HMAC</a>
(hash-based message authentication code).  The JWT specifications define 3 standard HMAC signing algorithms:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>HS256</code>: HMAC with SHA-256. This requires a 256-bit (32 byte) <code>SecretKey</code> or larger.</p>
</li>
<li>
<p dir="auto"><code>HS384</code>: HMAC with SHA-384. This requires a 384-bit (48 byte) <code>SecretKey</code> or larger.</p>
</li>
<li>
<p dir="auto"><code>HS512</code>: HMAC with SHA-512. This requires a 512-bit (64 byte) <code>SecretKey</code> or larger.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">Example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test key suitable for the desired HMAC-SHA algorithm:
MacAlgorithm alg = Jwts.SIG.HS512; //or HS384 or HS256
SecretKey key = alg.key().build();

String message = &quot;Hello World!&quot;;
byte[] content = message.getBytes(StandardCharsets.UTF_8);

// Create the compact JWS:
String jws = Jwts.builder().content(content, &quot;text/plain&quot;).signWith(key, alg).compact();

// Parse the compact JWS:
content = Jwts.parser().verifyWith(key).build().parseSignedContent(jws).getPayload();

assert message.equals(new String(content, StandardCharsets.UTF_8));"><pre><span class="pl-c">// Create a test key suitable for the desired HMAC-SHA algorithm:</span>
<span class="pl-smi">MacAlgorithm</span> <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS512</span>; <span class="pl-c">//or HS384 or HS256</span>
<span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-s1">alg</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>();

<span class="pl-smi">String</span> <span class="pl-s1">message</span> = <span class="pl-s">"Hello World!"</span>;
<span class="pl-smi">byte</span>[] <span class="pl-s1">content</span> = <span class="pl-s1">message</span>.<span class="pl-en">getBytes</span>(<span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);

<span class="pl-c">// Create the compact JWS:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">content</span>(<span class="pl-s1">content</span>, <span class="pl-s">"text/plain"</span>).<span class="pl-en">signWith</span>(<span class="pl-s1">key</span>, <span class="pl-s1">alg</span>).<span class="pl-en">compact</span>();

<span class="pl-c">// Parse the compact JWS:</span>
<span class="pl-s1">content</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">verifyWith</span>(<span class="pl-s1">key</span>).<span class="pl-en">build</span>().<span class="pl-en">parseSignedContent</span>(<span class="pl-s1">jws</span>).<span class="pl-en">getPayload</span>();

<span class="pl-k">assert</span> <span class="pl-s1">message</span>.<span class="pl-en">equals</span>(<span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">content</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>));</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jws-rsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-signed-with-rsa" tabindex="-1" class="heading-element" dir="auto">JWT Signed with RSA</h3><a id="user-content-jwt-signed-with-rsa" class="anchor" aria-label="Permalink: JWT Signed with RSA" href="#jwt-signed-with-rsa"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to digitally sign and verify a JWT using RSA cryptography. The JWT specifications
define <a href="#jws-alg">6 standard RSA signing algorithms</a>.  All 6 require that <a href="#jws-key-rsa">RSA keys 2048-bits or larger</a>
must be used.</p>
</div>
<div dir="auto">
<p dir="auto">In this example, Bob will sign a JWT using his RSA private key, and Alice can verify it came from Bob using Bob’s RSA
public key:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test key suitable for the desired RSA signature algorithm:
SignatureAlgorithm alg = Jwts.SIG.RS512; //or PS512, RS256, etc...
KeyPair pair = alg.keyPair().build();

// Bob creates the compact JWS with his RSA private key:
String jws = Jwts.builder().subject(&quot;Alice&quot;)
    .signWith(pair.getPrivate(), alg) // &lt;-- Bob's RSA private key
    .compact();

// Alice receives and verifies the compact JWS came from Bob:
String subject = Jwts.parser()
    .verifyWith(pair.getPublic()) // &lt;-- Bob's RSA public key
    .build().parseSignedClaims(jws).getPayload().getSubject();

assert &quot;Alice&quot;.equals(subject);"><pre><span class="pl-c">// Create a test key suitable for the desired RSA signature algorithm:</span>
<span class="pl-smi">SignatureAlgorithm</span> <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">RS512</span>; <span class="pl-c">//or PS512, RS256, etc...</span>
<span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-s1">alg</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();

<span class="pl-c">// Bob creates the compact JWS with his RSA private key:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">subject</span>(<span class="pl-s">"Alice"</span>)
    .<span class="pl-en">signWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>(), <span class="pl-s1">alg</span>) <span class="pl-c">// &lt;-- Bob's RSA private key</span>
    .<span class="pl-en">compact</span>();

<span class="pl-c">// Alice receives and verifies the compact JWS came from Bob:</span>
<span class="pl-smi">String</span> <span class="pl-s1">subject</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">verifyWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>()) <span class="pl-c">// &lt;-- Bob's RSA public key</span>
    .<span class="pl-en">build</span>().<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jws</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getSubject</span>();

<span class="pl-k">assert</span> <span class="pl-s">"Alice"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">subject</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jws-ecdsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-signed-with-ecdsa" tabindex="-1" class="heading-element" dir="auto">JWT Signed with ECDSA</h3><a id="user-content-jwt-signed-with-ecdsa" class="anchor" aria-label="Permalink: JWT Signed with ECDSA" href="#jwt-signed-with-ecdsa"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to digitally sign and verify a JWT using the Elliptic Curve Digital Signature Algorithm.
The JWT specifications define <a href="#jws-alg">3 standard ECDSA signing algorithms</a>:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>ES256</code>: ECDSA using P-256 and SHA-256. This requires an EC Key exactly 256 bits (32 bytes) long.</p>
</li>
<li>
<p dir="auto"><code>ES384</code>: ECDSA using P-384 and SHA-384. This requires an EC Key exactly 384 bits (48 bytes) long.</p>
</li>
<li>
<p dir="auto"><code>ES512</code>: ECDSA using P-521 and SHA-512. This requires an EC Key exactly 521 bits (65 or 66 bytes depending on format) long.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">In this example, Bob will sign a JWT using his EC private key, and Alice can verify it came from Bob using Bob’s EC
public key:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test key suitable for the desired ECDSA signature algorithm:
SignatureAlgorithm alg = Jwts.SIG.ES512; //or ES256 or ES384
KeyPair pair = alg.keyPair().build();

// Bob creates the compact JWS with his EC private key:
String jws = Jwts.builder().subject(&quot;Alice&quot;)
    .signWith(pair.getPrivate(), alg) // &lt;-- Bob's EC private key
    .compact();

// Alice receives and verifies the compact JWS came from Bob:
String subject = Jwts.parser()
    .verifyWith(pair.getPublic()) // &lt;-- Bob's EC public key
    .build().parseSignedClaims(jws).getPayload().getSubject();

assert &quot;Alice&quot;.equals(subject);"><pre><span class="pl-c">// Create a test key suitable for the desired ECDSA signature algorithm:</span>
<span class="pl-smi">SignatureAlgorithm</span> <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">ES512</span>; <span class="pl-c">//or ES256 or ES384</span>
<span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-s1">alg</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();

<span class="pl-c">// Bob creates the compact JWS with his EC private key:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">subject</span>(<span class="pl-s">"Alice"</span>)
    .<span class="pl-en">signWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>(), <span class="pl-s1">alg</span>) <span class="pl-c">// &lt;-- Bob's EC private key</span>
    .<span class="pl-en">compact</span>();

<span class="pl-c">// Alice receives and verifies the compact JWS came from Bob:</span>
<span class="pl-smi">String</span> <span class="pl-s1">subject</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">verifyWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>()) <span class="pl-c">// &lt;-- Bob's EC public key</span>
    .<span class="pl-en">build</span>().<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jws</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getSubject</span>();

<span class="pl-k">assert</span> <span class="pl-s">"Alice"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">subject</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jws-eddsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-signed-with-eddsa" tabindex="-1" class="heading-element" dir="auto">JWT Signed with EdDSA</h3><a id="user-content-jwt-signed-with-eddsa" class="anchor" aria-label="Permalink: JWT Signed with EdDSA" href="#jwt-signed-with-eddsa"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to digitally sign and verify a JWT using the
<a href="https://www.rfc-editor.org/rfc/rfc8032" rel="nofollow">Edwards Curve Digital Signature Algorithm</a> using
<code>Ed25519</code> or <code>Ed448</code> keys.</p>
</div>
<div dir="auto">
<markdown-accessiblity-table><table>
<tbody><tr>
<td>
<div dir="auto">ℹ️ NOTE</div>
</td>
<td>
<div dir="auto">
<p dir="auto">The <code>Ed25519</code> and <code>Ed448</code> algorithms require JDK 15 or a compatible JCA Provider
(like BouncyCastle) in the runtime classpath.</p>
</div>
<div dir="auto">
<p dir="auto">If you are using JDK 14 or earlier and you want to use them, see
the <a href="#installation">Installation</a> section to see how to enable BouncyCastle.</p>
</div>
</td>
</tr>
</tbody></table></markdown-accessiblity-table>
</div>
<div dir="auto">
<p dir="auto">The <code>EdDSA</code> signature algorithm is defined for JWS in <a href="https://www.rfc-editor.org/rfc/rfc8037#section-3.1" rel="nofollow">RFC 8037, Section 3.1</a>
using keys for two Edwards curves:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>Ed25519</code>: <code>EdDSA</code> using curve <code>Ed25519</code>. <code>Ed25519</code> algorithm keys must be 255 bits long and produce
signatures 512 bits (64 bytes) long.</p>
</li>
<li>
<p dir="auto"><code>Ed448</code>: <code>EdDSA</code> using curve <code>Ed448</code>. <code>Ed448</code> algorithm keys must be 448 bits long and produce signatures
912 bits (114 bytes) long.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">In this example, Bob will sign a JWT using his Edwards Curve private key, and Alice can verify it came from Bob
using Bob’s Edwards Curve public key:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test key suitable for the EdDSA signature algorithm using Ed25519 or Ed448 keys:
Curve curve = Jwks.CRV.Ed25519; //or Ed448
KeyPair pair = curve.keyPair().build();

// Bob creates the compact JWS with his Edwards Curve private key:
String jws = Jwts.builder().subject(&quot;Alice&quot;)
    .signWith(pair.getPrivate(), Jwts.SIG.EdDSA) // &lt;-- Bob's Edwards Curve private key w/ EdDSA
    .compact();

// Alice receives and verifies the compact JWS came from Bob:
String subject = Jwts.parser()
    .verifyWith(pair.getPublic()) // &lt;-- Bob's Edwards Curve public key
    .build().parseSignedClaims(jws).getPayload().getSubject();

assert &quot;Alice&quot;.equals(subject);"><pre><span class="pl-c">// Create a test key suitable for the EdDSA signature algorithm using Ed25519 or Ed448 keys:</span>
<span class="pl-smi">Curve</span> <span class="pl-s1">curve</span> = <span class="pl-smi">Jwks</span>.<span class="pl-c1">CRV</span>.<span class="pl-s1">Ed25519</span>; <span class="pl-c">//or Ed448</span>
<span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-s1">curve</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();

<span class="pl-c">// Bob creates the compact JWS with his Edwards Curve private key:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jws</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">subject</span>(<span class="pl-s">"Alice"</span>)
    .<span class="pl-en">signWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>(), <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-s1">EdDSA</span>) <span class="pl-c">// &lt;-- Bob's Edwards Curve private key w/ EdDSA</span>
    .<span class="pl-en">compact</span>();

<span class="pl-c">// Alice receives and verifies the compact JWS came from Bob:</span>
<span class="pl-smi">String</span> <span class="pl-s1">subject</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">verifyWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>()) <span class="pl-c">// &lt;-- Bob's Edwards Curve public key</span>
    .<span class="pl-en">build</span>().<span class="pl-en">parseSignedClaims</span>(<span class="pl-s1">jws</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getSubject</span>();

<span class="pl-k">assert</span> <span class="pl-s">"Alice"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">subject</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwe-dir"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-encrypted-directly-with-a-secretkey" tabindex="-1" class="heading-element" dir="auto">JWT Encrypted Directly with a SecretKey</h3><a id="user-content-jwt-encrypted-directly-with-a-secretkey" class="anchor" aria-label="Permalink: JWT Encrypted Directly with a SecretKey" href="#jwt-encrypted-directly-with-a-secretkey"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to encrypt a JWT <a href="#jwe-alg-dir">directly using a symmetric secret key</a>.  The
JWT specifications define <a href="#jwe-enc">6 standard AEAD Encryption algorithms</a>:</p>
</div>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><code>A128GCM</code>: AES GCM using a 128-bit (16 byte) <code>SecretKey</code> or larger.</p>
</li>
<li>
<p dir="auto"><code>A192GCM</code>: AES GCM using a 192-bit (24 byte) <code>SecretKey</code> or larger.</p>
</li>
<li>
<p dir="auto"><code>A256GCM</code>: AES GCM using a 256-bit (32 byte) <code>SecretKey</code> or larger.</p>
</li>
<li>
<p dir="auto"><code>A128CBC-HS256</code>: <a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.3" rel="nofollow">AES_128_CBC_HMAC_SHA_256</a> using a
256-bit (32 byte) <code>SecretKey</code>.</p>
</li>
<li>
<p dir="auto"><code>A192CBC-HS384</code>: <a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.4" rel="nofollow">AES_192_CBC_HMAC_SHA_384</a> using a
384-bit (48 byte) <code>SecretKey</code>.</p>
</li>
<li>
<p dir="auto"><code>A256CBC-HS512</code>: <a href="https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5" rel="nofollow">AES_256_CBC_HMAC_SHA_512</a> using a
512-bit (64 byte) <code>SecretKey</code>.</p>
</li>
</ul>
</div>
<div dir="auto">
<p dir="auto">The AES GCM (<code>A128GCM</code>, <code>A192GCM</code> and <code>A256GCM</code>) algorithms are strongly recommended - they are faster and more
efficient than the <code>A*CBC-HS*</code> variants, but they do require JDK 8 or later (or JDK 7 + BouncyCastle).</p>
</div>
<div dir="auto">
<p dir="auto">Example:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test key suitable for the desired payload encryption algorithm:
// (A*GCM algorithms are recommended, but require JDK &gt;= 8 or BouncyCastle)
AeadAlgorithm enc = Jwts.ENC.A256GCM; //or A128GCM, A192GCM, A256CBC-HS512, etc...
SecretKey key = enc.key().build();

String message = &quot;Live long and prosper.&quot;;
byte[] content = message.getBytes(StandardCharsets.UTF_8);

// Create the compact JWE:
String jwe = Jwts.builder().content(content, &quot;text/plain&quot;).encryptWith(key, enc).compact();

// Parse the compact JWE:
content = Jwts.parser().decryptWith(key).build().parseEncryptedContent(jwe).getPayload();

assert message.equals(new String(content, StandardCharsets.UTF_8));"><pre><span class="pl-c">// Create a test key suitable for the desired payload encryption algorithm:</span>
<span class="pl-c">// (A*GCM algorithms are recommended, but require JDK &gt;= 8 or BouncyCastle)</span>
<span class="pl-smi">AeadAlgorithm</span> <span class="pl-s1">enc</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">ENC</span>.<span class="pl-c1">A256GCM</span>; <span class="pl-c">//or A128GCM, A192GCM, A256CBC-HS512, etc...</span>
<span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-s1">enc</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>();

<span class="pl-smi">String</span> <span class="pl-s1">message</span> = <span class="pl-s">"Live long and prosper."</span>;
<span class="pl-smi">byte</span>[] <span class="pl-s1">content</span> = <span class="pl-s1">message</span>.<span class="pl-en">getBytes</span>(<span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);

<span class="pl-c">// Create the compact JWE:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">content</span>(<span class="pl-s1">content</span>, <span class="pl-s">"text/plain"</span>).<span class="pl-en">encryptWith</span>(<span class="pl-s1">key</span>, <span class="pl-s1">enc</span>).<span class="pl-en">compact</span>();

<span class="pl-c">// Parse the compact JWE:</span>
<span class="pl-s1">content</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">decryptWith</span>(<span class="pl-s1">key</span>).<span class="pl-en">build</span>().<span class="pl-en">parseEncryptedContent</span>(<span class="pl-s1">jwe</span>).<span class="pl-en">getPayload</span>();

<span class="pl-k">assert</span> <span class="pl-s1">message</span>.<span class="pl-en">equals</span>(<span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">content</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>));</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwe-rsa"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-encrypted-with-rsa" tabindex="-1" class="heading-element" dir="auto">JWT Encrypted with RSA</h3><a id="user-content-jwt-encrypted-with-rsa" class="anchor" aria-label="Permalink: JWT Encrypted with RSA" href="#jwt-encrypted-with-rsa"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to encrypt and decrypt a JWT using RSA cryptography.</p>
</div>
<div dir="auto">
<p dir="auto">Because RSA cannot encrypt much data, RSA is used to encrypt and decrypt a secure-random key, and that generated key
in turn is used to actually encrypt the payload as described in the <a href="/jwtk/jjwt/blob/master/jwe-alg-rsa">RSA Key Encryption</a> section
above. As such, RSA Key Algorithms must be paired with an AEAD Encryption Algorithm, as shown below.</p>
</div>
<div dir="auto">
<p dir="auto">In this example, Bob will encrypt a JWT using Alice’s RSA public key to ensure only she may read it.  Alice can then
decrypt the JWT using her RSA private key:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test KeyPair suitable for the desired RSA key algorithm:
KeyPair pair = Jwts.SIG.RS512.keyPair().build();

// Choose the key algorithm used encrypt the payload key:
KeyAlgorithm&lt;PublicKey, PrivateKey&gt; alg = Jwts.KEY.RSA_OAEP_256; //or RSA_OAEP or RSA1_5
// Choose the Encryption Algorithm to encrypt the payload:
AeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...

// Bob creates the compact JWE with Alice's RSA public key so only she may read it:
String jwe = Jwts.builder().audience().add(&quot;Alice&quot;).and()
    .encryptWith(pair.getPublic(), alg, enc) // &lt;-- Alice's RSA public key
    .compact();

// Alice receives and decrypts the compact JWE:
Set&lt;String&gt; audience = Jwts.parser()
    .decryptWith(pair.getPrivate()) // &lt;-- Alice's RSA private key
    .build().parseEncryptedClaims(jwe).getPayload().getAudience();

assert audience.contains(&quot;Alice&quot;);"><pre><span class="pl-c">// Create a test KeyPair suitable for the desired RSA key algorithm:</span>
<span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">RS512</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();

<span class="pl-c">// Choose the key algorithm used encrypt the payload key:</span>
<span class="pl-smi">KeyAlgorithm</span>&lt;<span class="pl-smi">PublicKey</span>, <span class="pl-smi">PrivateKey</span>&gt; <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">KEY</span>.<span class="pl-c1">RSA_OAEP_256</span>; <span class="pl-c">//or RSA_OAEP or RSA1_5</span>
<span class="pl-c">// Choose the Encryption Algorithm to encrypt the payload:</span>
<span class="pl-smi">AeadAlgorithm</span> <span class="pl-s1">enc</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">ENC</span>.<span class="pl-c1">A256GCM</span>; <span class="pl-c">//or A192GCM, A128GCM, A256CBC-HS512, etc...</span>

<span class="pl-c">// Bob creates the compact JWE with Alice's RSA public key so only she may read it:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">audience</span>().<span class="pl-en">add</span>(<span class="pl-s">"Alice"</span>).<span class="pl-en">and</span>()
    .<span class="pl-en">encryptWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>(), <span class="pl-s1">alg</span>, <span class="pl-s1">enc</span>) <span class="pl-c">// &lt;-- Alice's RSA public key</span>
    .<span class="pl-en">compact</span>();

<span class="pl-c">// Alice receives and decrypts the compact JWE:</span>
<span class="pl-smi">Set</span>&lt;<span class="pl-smi">String</span>&gt; <span class="pl-s1">audience</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">decryptWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>()) <span class="pl-c">// &lt;-- Alice's RSA private key</span>
    .<span class="pl-en">build</span>().<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jwe</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getAudience</span>();

<span class="pl-k">assert</span> <span class="pl-s1">audience</span>.<span class="pl-en">contains</span>(<span class="pl-s">"Alice"</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwe-aeskw"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-encrypted-with-aes-key-wrap" tabindex="-1" class="heading-element" dir="auto">JWT Encrypted with AES Key Wrap</h3><a id="user-content-jwt-encrypted-with-aes-key-wrap" class="anchor" aria-label="Permalink: JWT Encrypted with AES Key Wrap" href="#jwt-encrypted-with-aes-key-wrap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to encrypt and decrypt a JWT using AES Key Wrap algorithms.</p>
</div>
<div dir="auto">
<p dir="auto">These algorithms use AES to encrypt and decrypt a secure-random key, and that generated key in turn is used to actually encrypt
the payload as described in the <a href="/jwtk/jjwt/blob/master/jwe-alg-aes">AES Key Encryption</a> section above. This allows the payload to be
encrypted with a random short-lived key, reducing material exposure of the potentially longer-lived symmetric secret
key.  This approach requires the AES Key Wrap algorithms to be paired with an AEAD content encryption algorithm,
as shown below.</p>
</div>
<div dir="auto">
<p dir="auto">The AES GCM Key Wrap algorithms (<code>A128GCMKW</code>, <code>A192GCMKW</code> and <code>A256GCMKW</code>) are preferred - they are faster and more
efficient than the <code>A*KW</code> variants, but they do require JDK 8 or later (or JDK 7 + BouncyCastle).</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test SecretKey suitable for the desired AES Key Wrap algorithm:
SecretKeyAlgorithm alg = Jwts.KEY.A256GCMKW; //or A192GCMKW, A128GCMKW, A256KW, etc...
SecretKey key = alg.key().build();

// Chooose the Encryption Algorithm used to encrypt the payload:
AeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...

// Create the compact JWE:
String jwe = Jwts.builder().issuer(&quot;me&quot;).encryptWith(key, alg, enc).compact();

// Parse the compact JWE:
String issuer = Jwts.parser().decryptWith(key).build()
    .parseEncryptedClaims(jwe).getPayload().getIssuer();

assert &quot;me&quot;.equals(issuer);"><pre><span class="pl-c">// Create a test SecretKey suitable for the desired AES Key Wrap algorithm:</span>
<span class="pl-smi">SecretKeyAlgorithm</span> <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">KEY</span>.<span class="pl-c1">A256GCMKW</span>; <span class="pl-c">//or A192GCMKW, A128GCMKW, A256KW, etc...</span>
<span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-s1">alg</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>();

<span class="pl-c">// Chooose the Encryption Algorithm used to encrypt the payload:</span>
<span class="pl-smi">AeadAlgorithm</span> <span class="pl-s1">enc</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">ENC</span>.<span class="pl-c1">A256GCM</span>; <span class="pl-c">//or A192GCM, A128GCM, A256CBC-HS512, etc...</span>

<span class="pl-c">// Create the compact JWE:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">issuer</span>(<span class="pl-s">"me"</span>).<span class="pl-en">encryptWith</span>(<span class="pl-s1">key</span>, <span class="pl-s1">alg</span>, <span class="pl-s1">enc</span>).<span class="pl-en">compact</span>();

<span class="pl-c">// Parse the compact JWE:</span>
<span class="pl-smi">String</span> <span class="pl-s1">issuer</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">decryptWith</span>(<span class="pl-s1">key</span>).<span class="pl-en">build</span>()
    .<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jwe</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getIssuer</span>();

<span class="pl-k">assert</span> <span class="pl-s">"me"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">issuer</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwe-ecdhes"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-encrypted-with-ecdh-es" tabindex="-1" class="heading-element" dir="auto">JWT Encrypted with ECDH-ES</h3><a id="user-content-jwt-encrypted-with-ecdh-es" class="anchor" aria-label="Permalink: JWT Encrypted with ECDH-ES" href="#jwt-encrypted-with-ecdh-es"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to encrypt and decrypt a JWT using Elliptic Curve Diffie-Hellman Ephemeral Static
Key Agreement (ECDH-ES) algorithms.</p>
</div>
<div dir="auto">
<p dir="auto">These algorithms use ECDH-ES to encrypt and decrypt a secure-random key, and that
generated key in turn is used to actually encrypt the payload as described in the
<a href="/jwtk/jjwt/blob/master/jwe-alg-ecdhes">Elliptic Curve Diffie-Hellman Ephemeral Static Key Agreement</a> section above. Because of this, ECDH-ES
Key Algorithms must be paired with an AEAD Encryption Algorithm, as shown below.</p>
</div>
<div dir="auto">
<p dir="auto">In this example, Bob will encrypt a JWT using Alice’s Elliptic Curve public key to ensure only she may read it.<br>
Alice can then decrypt the JWT using her Elliptic Curve private key:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// Create a test KeyPair suitable for the desired EC key algorithm:
KeyPair pair = Jwts.SIG.ES512.keyPair().build();

// Choose the key algorithm used encrypt the payload key:
KeyAlgorithm&lt;PublicKey, PrivateKey&gt; alg = Jwts.KEY.ECDH_ES_A256KW; //ECDH_ES_A192KW, etc...
// Choose the Encryption Algorithm to encrypt the payload:
AeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...

// Bob creates the compact JWE with Alice's EC public key so only she may read it:
String jwe = Jwts.builder().audience().add(&quot;Alice&quot;).and()
    .encryptWith(pair.getPublic(), alg, enc) // &lt;-- Alice's EC public key
    .compact();

// Alice receives and decrypts the compact JWE:
Set&lt;String&gt; audience = Jwts.parser()
    .decryptWith(pair.getPrivate()) // &lt;-- Alice's EC private key
    .build().parseEncryptedClaims(jwe).getPayload().getAudience();

assert audience.contains(&quot;Alice&quot;);"><pre><span class="pl-c">// Create a test KeyPair suitable for the desired EC key algorithm:</span>
<span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">ES512</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();

<span class="pl-c">// Choose the key algorithm used encrypt the payload key:</span>
<span class="pl-smi">KeyAlgorithm</span>&lt;<span class="pl-smi">PublicKey</span>, <span class="pl-smi">PrivateKey</span>&gt; <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">KEY</span>.<span class="pl-c1">ECDH_ES_A256KW</span>; <span class="pl-c">//ECDH_ES_A192KW, etc...</span>
<span class="pl-c">// Choose the Encryption Algorithm to encrypt the payload:</span>
<span class="pl-smi">AeadAlgorithm</span> <span class="pl-s1">enc</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">ENC</span>.<span class="pl-c1">A256GCM</span>; <span class="pl-c">//or A192GCM, A128GCM, A256CBC-HS512, etc...</span>

<span class="pl-c">// Bob creates the compact JWE with Alice's EC public key so only she may read it:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">audience</span>().<span class="pl-en">add</span>(<span class="pl-s">"Alice"</span>).<span class="pl-en">and</span>()
    .<span class="pl-en">encryptWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>(), <span class="pl-s1">alg</span>, <span class="pl-s1">enc</span>) <span class="pl-c">// &lt;-- Alice's EC public key</span>
    .<span class="pl-en">compact</span>();

<span class="pl-c">// Alice receives and decrypts the compact JWE:</span>
<span class="pl-smi">Set</span>&lt;<span class="pl-smi">String</span>&gt; <span class="pl-s1">audience</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>()
    .<span class="pl-en">decryptWith</span>(<span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>()) <span class="pl-c">// &lt;-- Alice's EC private key</span>
    .<span class="pl-en">build</span>().<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jwe</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getAudience</span>();

<span class="pl-k">assert</span> <span class="pl-s1">audience</span>.<span class="pl-en">contains</span>(<span class="pl-s">"Alice"</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwe-password"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-jwt-encrypted-with-a-password" tabindex="-1" class="heading-element" dir="auto">JWT Encrypted with a Password</h3><a id="user-content-jwt-encrypted-with-a-password" class="anchor" aria-label="Permalink: JWT Encrypted with a Password" href="#jwt-encrypted-with-a-password"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">This is an example showing how to encrypt and decrypt a JWT using Password-based key-derivation algorithms.</p>
</div>
<div dir="auto">
<p dir="auto">These algorithms use a password to securely derive a random key, and that derived random key in turn is used to actually
encrypt the payload as described in the <a href="/jwtk/jjwt/blob/master/jwe-alg-pbes2">Password-based Key Encryption</a> section above. This allows
the payload to be encrypted with a random short-lived cryptographically-stronger key, reducing the need to
expose the longer-lived (and potentially weaker) password.</p>
</div>
<div dir="auto">
<p dir="auto">This approach requires the Password-based Key Wrap algorithms to be paired with an AEAD content encryption algorithm,
as shown below.</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="//DO NOT use this example password in a real app, it is well-known to password crackers:
String pw = &quot;correct horse battery staple&quot;;
Password password = Keys.password(pw.toCharArray());

// Choose the desired PBES2 key derivation algorithm:
KeyAlgorithm&lt;Password, Password&gt; alg = Jwts.KEY.PBES2_HS512_A256KW; //or PBES2_HS384_A192KW or PBES2_HS256_A128KW

// Optionally choose the number of PBES2 computational iterations to use to derive the key.
// This is optional - if you do not specify a value, JJWT will automatically choose a value
// based on your chosen PBES2 algorithm and OWASP PBKDF2 recommendations here:
// https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2
//
// If you do specify a value, ensure the iterations are large enough for your desired alg
//int pbkdf2Iterations = 120000; //for HS512. Needs to be much higher for smaller hash algs.

// Choose the Encryption Algorithm used to encrypt the payload:
AeadAlgorithm enc = Jwts.ENC.A256GCM; //or A192GCM, A128GCM, A256CBC-HS512, etc...

// Create the compact JWE:
String jwe = Jwts.builder().issuer(&quot;me&quot;)
    // Optional work factor is specified in the header:
    //.header().pbes2Count(pbkdf2Iterations)).and()
    .encryptWith(password, alg, enc)
    .compact();

// Parse the compact JWE:
String issuer = Jwts.parser().decryptWith(password)
    .build().parseEncryptedClaims(jwe).getPayload().getIssuer();

assert &quot;me&quot;.equals(issuer);"><pre><span class="pl-c">//DO NOT use this example password in a real app, it is well-known to password crackers:</span>
<span class="pl-smi">String</span> <span class="pl-s1">pw</span> = <span class="pl-s">"correct horse battery staple"</span>;
<span class="pl-smi">Password</span> <span class="pl-s1">password</span> = <span class="pl-smi">Keys</span>.<span class="pl-en">password</span>(<span class="pl-s1">pw</span>.<span class="pl-en">toCharArray</span>());

<span class="pl-c">// Choose the desired PBES2 key derivation algorithm:</span>
<span class="pl-smi">KeyAlgorithm</span>&lt;<span class="pl-smi">Password</span>, <span class="pl-smi">Password</span>&gt; <span class="pl-s1">alg</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">KEY</span>.<span class="pl-c1">PBES2_HS512_A256KW</span>; <span class="pl-c">//or PBES2_HS384_A192KW or PBES2_HS256_A128KW</span>

<span class="pl-c">// Optionally choose the number of PBES2 computational iterations to use to derive the key.</span>
<span class="pl-c">// This is optional - if you do not specify a value, JJWT will automatically choose a value</span>
<span class="pl-c">// based on your chosen PBES2 algorithm and OWASP PBKDF2 recommendations here:</span>
<span class="pl-c">// https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html#pbkdf2</span>
<span class="pl-c">//</span>
<span class="pl-c">// If you do specify a value, ensure the iterations are large enough for your desired alg</span>
<span class="pl-c">//int pbkdf2Iterations = 120000; //for HS512. Needs to be much higher for smaller hash algs.</span>

<span class="pl-c">// Choose the Encryption Algorithm used to encrypt the payload:</span>
<span class="pl-smi">AeadAlgorithm</span> <span class="pl-s1">enc</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">ENC</span>.<span class="pl-c1">A256GCM</span>; <span class="pl-c">//or A192GCM, A128GCM, A256CBC-HS512, etc...</span>

<span class="pl-c">// Create the compact JWE:</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwe</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">builder</span>().<span class="pl-en">issuer</span>(<span class="pl-s">"me"</span>)
    <span class="pl-c">// Optional work factor is specified in the header:</span>
    <span class="pl-c">//.header().pbes2Count(pbkdf2Iterations)).and()</span>
    .<span class="pl-en">encryptWith</span>(<span class="pl-s1">password</span>, <span class="pl-s1">alg</span>, <span class="pl-s1">enc</span>)
    .<span class="pl-en">compact</span>();

<span class="pl-c">// Parse the compact JWE:</span>
<span class="pl-smi">String</span> <span class="pl-s1">issuer</span> = <span class="pl-smi">Jwts</span>.<span class="pl-en">parser</span>().<span class="pl-en">decryptWith</span>(<span class="pl-s1">password</span>)
    .<span class="pl-en">build</span>().<span class="pl-en">parseEncryptedClaims</span>(<span class="pl-s1">jwe</span>).<span class="pl-en">getPayload</span>().<span class="pl-en">getIssuer</span>();

<span class="pl-k">assert</span> <span class="pl-s">"me"</span>.<span class="pl-en">equals</span>(<span class="pl-s1">issuer</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-secret"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-secretkey-jwk" tabindex="-1" class="heading-element" dir="auto">SecretKey JWK</h3><a id="user-content-secretkey-jwk" class="anchor" aria-label="Permalink: SecretKey JWK" href="#secretkey-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing a secret JWK:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="SecretKey key = Jwts.SIG.HS512.key().build(); // or HS384 or HS256
SecretJwk jwk = Jwks.builder().key(key).idFromThumbprint().build();

assert jwk.getId().equals(jwk.thumbprint().toString());
assert key.equals(jwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof SecretJwk;
assert jwk.equals(parsed);"><pre><span class="pl-smi">SecretKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">HS512</span>.<span class="pl-en">key</span>().<span class="pl-en">build</span>(); <span class="pl-c">// or HS384 or HS256</span>
<span class="pl-smi">SecretJwk</span> <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">key</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();

<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">key</span>.<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">jwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">SecretJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-rsapub"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-rsa-public-jwk" tabindex="-1" class="heading-element" dir="auto">RSA Public JWK</h3><a id="user-content-rsa-public-jwk" class="anchor" aria-label="Permalink: RSA Public JWK" href="#rsa-public-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing an RSA Public JWK:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="RSAPublicKey key = (RSAPublicKey)Jwts.SIG.RS512.keyPair().build().getPublic();
RsaPublicJwk jwk = Jwks.builder().key(key).idFromThumbprint().build();

assert jwk.getId().equals(jwk.thumbprint().toString());
assert key.equals(jwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof RsaPublicJwk;
assert jwk.equals(parsed);"><pre><span class="pl-smi">RSAPublicKey</span> <span class="pl-s1">key</span> = (<span class="pl-smi">RSAPublicKey</span>)<span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">RS512</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>().<span class="pl-en">getPublic</span>();
<span class="pl-smi">RsaPublicJwk</span> <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">key</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();

<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">key</span>.<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">jwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">RsaPublicJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-rsapriv"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-rsa-private-jwk" tabindex="-1" class="heading-element" dir="auto">RSA Private JWK</h3><a id="user-content-rsa-private-jwk" class="anchor" aria-label="Permalink: RSA Private JWK" href="#rsa-private-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing an RSA Private JWK:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="KeyPair pair = Jwts.SIG.RS512.keyPair().build();
RSAPublicKey pubKey = (RSAPublicKey) pair.getPublic();
RSAPrivateKey privKey = (RSAPrivateKey) pair.getPrivate();

RsaPrivateJwk privJwk = Jwks.builder().key(privKey).idFromThumbprint().build();
RsaPublicJwk pubJwk = privJwk.toPublicJwk();

assert privJwk.getId().equals(privJwk.thumbprint().toString());
assert pubJwk.getId().equals(pubJwk.thumbprint().toString());
assert privKey.equals(privJwk.toKey());
assert pubKey.equals(pubJwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(privJwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof RsaPrivateJwk;
assert privJwk.equals(parsed);"><pre><span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">RS512</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();
<span class="pl-smi">RSAPublicKey</span> <span class="pl-s1">pubKey</span> = (<span class="pl-smi">RSAPublicKey</span>) <span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>();
<span class="pl-smi">RSAPrivateKey</span> <span class="pl-s1">privKey</span> = (<span class="pl-smi">RSAPrivateKey</span>) <span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>();

<span class="pl-smi">RsaPrivateJwk</span> <span class="pl-s1">privJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">privKey</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();
<span class="pl-smi">RsaPublicJwk</span> <span class="pl-s1">pubJwk</span> = <span class="pl-s1">privJwk</span>.<span class="pl-en">toPublicJwk</span>();

<span class="pl-k">assert</span> <span class="pl-s1">privJwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">privJwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">pubJwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">pubJwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">privKey</span>.<span class="pl-en">equals</span>(<span class="pl-s1">privJwk</span>.<span class="pl-en">toKey</span>());
<span class="pl-k">assert</span> <span class="pl-s1">pubKey</span>.<span class="pl-en">equals</span>(<span class="pl-s1">pubJwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">privJwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">RsaPrivateJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">privJwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-ecpub"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-elliptic-curve-public-jwk" tabindex="-1" class="heading-element" dir="auto">Elliptic Curve Public JWK</h3><a id="user-content-elliptic-curve-public-jwk" class="anchor" aria-label="Permalink: Elliptic Curve Public JWK" href="#elliptic-curve-public-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing an Elliptic Curve Public JWK:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="ECPublicKey key = (ECPublicKey) Jwts.SIG.ES512.keyPair().build().getPublic();
EcPublicJwk jwk = Jwks.builder().key(key).idFromThumbprint().build();

assert jwk.getId().equals(jwk.thumbprint().toString());
assert key.equals(jwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof EcPublicJwk;
assert jwk.equals(parsed);"><pre><span class="pl-smi">ECPublicKey</span> <span class="pl-s1">key</span> = (<span class="pl-smi">ECPublicKey</span>) <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">ES512</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>().<span class="pl-en">getPublic</span>();
<span class="pl-smi">EcPublicJwk</span> <span class="pl-s1">jwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">key</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();

<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">key</span>.<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">jwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">EcPublicJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-ecpriv"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-elliptic-curve-private-jwk" tabindex="-1" class="heading-element" dir="auto">Elliptic Curve Private JWK</h3><a id="user-content-elliptic-curve-private-jwk" class="anchor" aria-label="Permalink: Elliptic Curve Private JWK" href="#elliptic-curve-private-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing an Elliptic Curve Private JWK:</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="KeyPair pair = Jwts.SIG.ES512.keyPair().build();
ECPublicKey pubKey = (ECPublicKey) pair.getPublic();
ECPrivateKey privKey = (ECPrivateKey) pair.getPrivate();

EcPrivateJwk privJwk = Jwks.builder().key(privKey).idFromThumbprint().build();
EcPublicJwk pubJwk = privJwk.toPublicJwk();

assert privJwk.getId().equals(privJwk.thumbprint().toString());
assert pubJwk.getId().equals(pubJwk.thumbprint().toString());
assert privKey.equals(privJwk.toKey());
assert pubKey.equals(pubJwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(privJwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof EcPrivateJwk;
assert privJwk.equals(parsed);"><pre><span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-smi">Jwts</span>.<span class="pl-c1">SIG</span>.<span class="pl-c1">ES512</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>();
<span class="pl-smi">ECPublicKey</span> <span class="pl-s1">pubKey</span> = (<span class="pl-smi">ECPublicKey</span>) <span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>();
<span class="pl-smi">ECPrivateKey</span> <span class="pl-s1">privKey</span> = (<span class="pl-smi">ECPrivateKey</span>) <span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>();

<span class="pl-smi">EcPrivateJwk</span> <span class="pl-s1">privJwk</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">builder</span>().<span class="pl-en">key</span>(<span class="pl-s1">privKey</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();
<span class="pl-smi">EcPublicJwk</span> <span class="pl-s1">pubJwk</span> = <span class="pl-s1">privJwk</span>.<span class="pl-en">toPublicJwk</span>();

<span class="pl-k">assert</span> <span class="pl-s1">privJwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">privJwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">pubJwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">pubJwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">privKey</span>.<span class="pl-en">equals</span>(<span class="pl-s1">privJwk</span>.<span class="pl-en">toKey</span>());
<span class="pl-k">assert</span> <span class="pl-s1">pubKey</span>.<span class="pl-en">equals</span>(<span class="pl-s1">pubJwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">privJwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">EcPrivateJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">privJwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-edpub"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-edwards-elliptic-curve-public-jwk" tabindex="-1" class="heading-element" dir="auto">Edwards Elliptic Curve Public JWK</h3><a id="user-content-edwards-elliptic-curve-public-jwk" class="anchor" aria-label="Permalink: Edwards Elliptic Curve Public JWK" href="#edwards-elliptic-curve-public-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing an Edwards Elliptic Curve (Ed25519, Ed448, X25519, X448) Public JWK
(the JWT <a href="https://www.rfc-editor.org/rfc/rfc8037" rel="nofollow">RFC 8037</a> specification calls these <code>Octet</code> keys, hence the
<code>OctetPublicJwk</code> interface names):</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="PublicKey key = Jwks.CRV.Ed25519.keyPair().build().getPublic(); // or Ed448, X25519, X448
OctetPublicJwk&lt;PublicKey&gt; jwk = builder().octetKey(key).idFromThumbprint().build();

assert jwk.getId().equals(jwk.thumbprint().toString());
assert key.equals(jwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(jwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof OctetPublicJwk;
assert jwk.equals(parsed);"><pre><span class="pl-smi">PublicKey</span> <span class="pl-s1">key</span> = <span class="pl-smi">Jwks</span>.<span class="pl-c1">CRV</span>.<span class="pl-s1">Ed25519</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>().<span class="pl-en">getPublic</span>(); <span class="pl-c">// or Ed448, X25519, X448</span>
<span class="pl-smi">OctetPublicJwk</span>&lt;<span class="pl-smi">PublicKey</span>&gt; <span class="pl-s1">jwk</span> = <span class="pl-en">builder</span>().<span class="pl-en">octetKey</span>(<span class="pl-s1">key</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();

<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">key</span>.<span class="pl-en">equals</span>(<span class="pl-s1">jwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">jwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">OctetPublicJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">jwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-example-jwk-edpriv"></a></p>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h3 id="user-content-edwards-elliptic-curve-private-jwk" tabindex="-1" class="heading-element" dir="auto">Edwards Elliptic Curve Private JWK</h3><a id="user-content-edwards-elliptic-curve-private-jwk" class="anchor" aria-label="Permalink: Edwards Elliptic Curve Private JWK" href="#edwards-elliptic-curve-private-jwk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<p dir="auto">Example creating and parsing an Edwards Elliptic Curve (Ed25519, Ed448, X25519, X448) Private JWK
(the JWT <a href="https://www.rfc-editor.org/rfc/rfc8037" rel="nofollow">RFC 8037</a> specification calls these <code>Octet</code> keys, hence the
<code>OctetPrivateJwk</code> and <code>OctetPublicJwk</code> interface names):</p>
</div>
<div dir="auto">
<div dir="auto">
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="KeyPair pair = Jwks.CRV.Ed448.keyPair().build(); // or Ed25519, X25519, X448
PublicKey pubKey = pair.getPublic();
PrivateKey privKey = pair.getPrivate();

OctetPrivateJwk&lt;PrivateKey, PublicKey&gt; privJwk = builder().octetKey(privKey).idFromThumbprint().build();
OctetPublicJwk&lt;PublicKey&gt; pubJwk = privJwk.toPublicJwk();

assert privJwk.getId().equals(privJwk.thumbprint().toString());
assert pubJwk.getId().equals(pubJwk.thumbprint().toString());
assert privKey.equals(privJwk.toKey());
assert pubKey.equals(pubJwk.toKey());

byte[] utf8Bytes = new JacksonSerializer().serialize(privJwk); // or GsonSerializer(), etc
String jwkJson = new String(utf8Bytes, StandardCharsets.UTF_8);
Jwk&lt;?&gt; parsed = Jwks.parser().build().parse(jwkJson);

assert parsed instanceof OctetPrivateJwk;
assert privJwk.equals(parsed);"><pre><span class="pl-smi">KeyPair</span> <span class="pl-s1">pair</span> = <span class="pl-smi">Jwks</span>.<span class="pl-c1">CRV</span>.<span class="pl-s1">Ed448</span>.<span class="pl-en">keyPair</span>().<span class="pl-en">build</span>(); <span class="pl-c">// or Ed25519, X25519, X448</span>
<span class="pl-smi">PublicKey</span> <span class="pl-s1">pubKey</span> = <span class="pl-s1">pair</span>.<span class="pl-en">getPublic</span>();
<span class="pl-smi">PrivateKey</span> <span class="pl-s1">privKey</span> = <span class="pl-s1">pair</span>.<span class="pl-en">getPrivate</span>();

<span class="pl-smi">OctetPrivateJwk</span>&lt;<span class="pl-smi">PrivateKey</span>, <span class="pl-smi">PublicKey</span>&gt; <span class="pl-s1">privJwk</span> = <span class="pl-en">builder</span>().<span class="pl-en">octetKey</span>(<span class="pl-s1">privKey</span>).<span class="pl-en">idFromThumbprint</span>().<span class="pl-en">build</span>();
<span class="pl-smi">OctetPublicJwk</span>&lt;<span class="pl-smi">PublicKey</span>&gt; <span class="pl-s1">pubJwk</span> = <span class="pl-s1">privJwk</span>.<span class="pl-en">toPublicJwk</span>();

<span class="pl-k">assert</span> <span class="pl-s1">privJwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">privJwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">pubJwk</span>.<span class="pl-en">getId</span>().<span class="pl-en">equals</span>(<span class="pl-s1">pubJwk</span>.<span class="pl-en">thumbprint</span>().<span class="pl-en">toString</span>());
<span class="pl-k">assert</span> <span class="pl-s1">privKey</span>.<span class="pl-en">equals</span>(<span class="pl-s1">privJwk</span>.<span class="pl-en">toKey</span>());
<span class="pl-k">assert</span> <span class="pl-s1">pubKey</span>.<span class="pl-en">equals</span>(<span class="pl-s1">pubJwk</span>.<span class="pl-en">toKey</span>());

<span class="pl-smi">byte</span>[] <span class="pl-s1">utf8Bytes</span> = <span class="pl-k">new</span> <span class="pl-smi">JacksonSerializer</span>().<span class="pl-en">serialize</span>(<span class="pl-s1">privJwk</span>); <span class="pl-c">// or GsonSerializer(), etc</span>
<span class="pl-smi">String</span> <span class="pl-s1">jwkJson</span> = <span class="pl-k">new</span> <span class="pl-smi">String</span>(<span class="pl-s1">utf8Bytes</span>, <span class="pl-smi">StandardCharsets</span>.<span class="pl-c1">UTF_8</span>);
<span class="pl-smi">Jwk</span>&lt;?&gt; <span class="pl-s1">parsed</span> = <span class="pl-smi">Jwks</span>.<span class="pl-en">parser</span>().<span class="pl-en">build</span>().<span class="pl-en">parse</span>(<span class="pl-s1">jwkJson</span>);

<span class="pl-k">assert</span> <span class="pl-s1">parsed</span> <span class="pl-k">instanceof</span> <span class="pl-smi">OctetPrivateJwk</span>;
<span class="pl-k">assert</span> <span class="pl-s1">privJwk</span>.<span class="pl-en">equals</span>(<span class="pl-s1">parsed</span>);</pre></div>
</div>
</div>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-learn-more" tabindex="-1" class="heading-element" dir="auto">Learn More</h2><a id="user-content-learn-more" class="anchor" aria-label="Permalink: Learn More" href="#learn-more"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto"><a href="https://web.archive.org/web/20230427122653/https://stormpath.com/blog/jjwt-how-it-works-why" rel="nofollow">JSON Web Token for Java and Android</a></p>
</li>
<li>
<p dir="auto"><a href="https://web.archive.org/web/20230426235608/https://stormpath.com/blog/jwt-java-create-verify" rel="nofollow">How to Create and Verify JWTs in Java</a></p>
</li>
<li>
<p dir="auto"><a href="https://web.archive.org/web/20230428094039/https://stormpath.com/blog/where-to-store-your-jwts-cookies-vs-html5-web-storage" rel="nofollow">Where to Store Your JWTs - Cookies vs HTML5 Web Storage</a></p>
</li>
<li>
<p dir="auto"><a href="https://web.archive.org/web/20230428184004/https://stormpath.com/blog/jwt-the-right-way" rel="nofollow">Use JWT the Right Way!</a></p>
</li>
<li>
<p dir="auto"><a href="https://web.archive.org/web/20230427151310/https://stormpath.com/blog/token-auth-for-java" rel="nofollow">Token Authentication for Java Applications</a></p>
</li>
<li>
<p dir="auto"><a href="/jwtk/jjwt/blob/master/CHANGELOG.adoc">JJWT Changelog</a></p>
</li>
</ul>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-author" tabindex="-1" class="heading-element" dir="auto">Author</h2><a id="user-content-author" class="anchor" aria-label="Permalink: Author" href="#author"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">Maintained by Les Hazlewood &amp; the extended Java community ❤️</p>
</div>
<div dir="auto">
<p dir="auto"><a name="user-content-license"></a></p>
</div>
</div>
</div>
<div dir="auto">
<div class="markdown-heading" dir="auto"><h2 id="user-content-license" tabindex="-1" class="heading-element" dir="auto">License</h2><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto">
<div dir="auto">
<p dir="auto">This project is open-source via the <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache 2.0 License</a>.</p>
</div>
</div>
</div></article></div></div></div></div></div> <!-- --> <!-- --> <script type="application/json" id="__PRIMER_DATA_:R0:__">{"resolvedServerColorMode":"day"}</script></div>
</react-partial>

      <input type="hidden" data-csrf="true" value="CEa89atrjTZGChecUTjCXxFvwYZLSUYs+yqLif9wr5X+9ZIH8CFOZptgmaFImkMoBvRkVraZJO+k6F9G17TupA==" />
</div>
  <div data-view-component="true" class="Layout-sidebar">      

      <div class="BorderGrid about-margin" data-pjax>
        <div class="BorderGrid-row">
          <div class="BorderGrid-cell">
            <div class="hide-sm hide-md">
  <h2 class="mb-3 h4">About</h2>

      <p class="f4 my-3">
        Java JWT: JSON Web Token for Java and Android
      </p>

    <h3 class="sr-only">Topics</h3>
    <div class="my-3">
        <div class="f6">
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:java" href="/topics/java" title="Topic: java" data-view-component="true" class="topic-tag topic-tag-link">
  java
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:json" href="/topics/json" title="Topic: json" data-view-component="true" class="topic-tag topic-tag-link">
  json
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt" href="/topics/jwt" title="Topic: jwt" data-view-component="true" class="topic-tag topic-tag-link">
  jwt
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jackson" href="/topics/jackson" title="Topic: jackson" data-view-component="true" class="topic-tag topic-tag-link">
  jackson
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-claims" href="/topics/jwt-claims" title="Topic: jwt-claims" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-claims
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-tokens" href="/topics/jwt-tokens" title="Topic: jwt-tokens" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-tokens
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-token" href="/topics/jwt-token" title="Topic: jwt-token" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-token
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwk" href="/topics/jwk" title="Topic: jwk" data-view-component="true" class="topic-tag topic-tag-link">
  jwk
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwe" href="/topics/jwe" title="Topic: jwe" data-view-component="true" class="topic-tag topic-tag-link">
  jwe
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jws" href="/topics/jws" title="Topic: jws" data-view-component="true" class="topic-tag topic-tag-link">
  jws
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-bearer-tokens" href="/topics/jwt-bearer-tokens" title="Topic: jwt-bearer-tokens" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-bearer-tokens
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-authentication" href="/topics/jwt-authentication" title="Topic: jwt-authentication" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-authentication
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-server" href="/topics/jwt-server" title="Topic: jwt-server" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-server
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwt-auth" href="/topics/jwt-auth" title="Topic: jwt-auth" data-view-component="true" class="topic-tag topic-tag-link">
  jwt-auth
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:hacktoberfest" href="/topics/hacktoberfest" title="Topic: hacktoberfest" data-view-component="true" class="topic-tag topic-tag-link">
  hacktoberfest
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwkset" href="/topics/jwkset" title="Topic: jwkset" data-view-component="true" class="topic-tag topic-tag-link">
  jwkset
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:java-jwt" href="/topics/java-jwt" title="Topic: java-jwt" data-view-component="true" class="topic-tag topic-tag-link">
  java-jwt
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jjwt" href="/topics/jjwt" title="Topic: jjwt" data-view-component="true" class="topic-tag topic-tag-link">
  jjwt
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwk-thumbprint" href="/topics/jwk-thumbprint" title="Topic: jwk-thumbprint" data-view-component="true" class="topic-tag topic-tag-link">
  jwk-thumbprint
</a>
        <a data-ga-click="Topic, repository page" data-octo-click="topic_click" data-octo-dimensions="topic:jwk-thumbprint-uri" href="/topics/jwk-thumbprint-uri" title="Topic: jwk-thumbprint-uri" data-view-component="true" class="topic-tag topic-tag-link">
  jwk-thumbprint-uri
</a>
  </div>

    </div>

    <h3 class="sr-only">Resources</h3>
    <div class="mt-2">
      <a class="Link--muted" data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:readme&quot;}" href="#readme-ov-file">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book mr-2">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
        Readme
</a>    </div>

  
    <h3 class="sr-only">License</h3>
  <div class="mt-2">
    <a href="#Apache-2.0-1-ov-file"
      class="Link--muted"
      
      data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:license&quot;}"
    >
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-law mr-2">
    <path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path>
</svg>
     Apache-2.0 license
    </a>
  </div>



    <h3 class="sr-only">Security policy</h3>
    <div class="mt-2">
      <a href="#security-ov-file"
        class="Link--muted"
        
        data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:security policy&quot;}"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-law mr-2">
    <path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path>
</svg>
        Security policy
      </a>
    </div>

  <include-fragment  src="/jwtk/jjwt/hovercards/citation/sidebar_partial?tree_name=master">
  </include-fragment>

  <div class="mt-2">
    <a href="/jwtk/jjwt/activity" data-view-component="true" class="Link Link--muted"><svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pulse mr-2">
    <path d="M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z"></path>
</svg>
      <span class="color-fg-muted">Activity</span></a>  </div>

    <div class="mt-2">
      <a href="/jwtk/jjwt/custom-properties" data-view-component="true" class="Link Link--muted"><svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-note mr-2">
    <path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1 0-1.5Z"></path>
</svg>
        <span class="color-fg-muted">Custom properties</span></a>    </div>

  <h3 class="sr-only">Stars</h3>
  <div class="mt-2">
    <a href="/jwtk/jjwt/stargazers" data-view-component="true" class="Link Link--muted"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star mr-2">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
      <strong>10.4k</strong>
      stars</a>  </div>

  <h3 class="sr-only">Watchers</h3>
  <div class="mt-2">
    <a href="/jwtk/jjwt/watchers" data-view-component="true" class="Link Link--muted"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-eye mr-2">
    <path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.83.88 9.576.43 8.898a1.62 1.62 0 0 1 0-1.798c.45-.677 1.367-1.931 2.637-3.022C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.473 0 2.825-.742 3.955-1.715 1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5c-1.473 0-2.825.742-3.955 1.715-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"></path>
</svg>
      <strong>276</strong>
      watching</a>  </div>

  <h3 class="sr-only">Forks</h3>
  <div class="mt-2">
    <a href="/jwtk/jjwt/forks" data-view-component="true" class="Link Link--muted"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-2">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
      <strong>1.3k</strong>
      forks</a>  </div>

    <div class="mt-2">
      <a class="Link--muted" href="/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fjwtk%2Fjjwt&amp;report=jwtk+%28user%29">
          Report repository
</a>    </div>
</div>

          </div>
        </div>

        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                <h2 class="h4 mb-3" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame">
  <a href="/jwtk/jjwt/releases" data-view-component="true" class="Link--primary no-underline Link">Releases
      <span title="7" data-view-component="true" class="Counter">7</span></a></h2>

  <a class="Link--primary d-flex no-underline" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/jwtk/jjwt/releases/tag/0.12.6">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag flex-shrink-0 mt-1 color-fg-success">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
    <div class="ml-2 min-width-0">
      <div class="d-flex">
        <span class="css-truncate css-truncate-target text-bold mr-2" style="max-width: none;">0.12.6</span>
        <span title="Label: Latest" data-view-component="true" class="Label Label--success flex-shrink-0">
          Latest
</span>      </div>
      <div class="text-small color-fg-muted"><relative-time datetime="2024-06-21T20:24:59Z" class="no-wrap">Jun 21, 2024</relative-time></div>
    </div>
</a>    <div data-view-component="true" class="mt-3">
      <a text="small" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/jwtk/jjwt/releases" data-view-component="true" class="Link">+ 6 releases</a></div>
              </div>
            </div>

        
        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                
  <h2 class="h4 mb-3">
  <a href="/orgs/jwtk/packages?repo_name=jjwt" data-view-component="true" class="Link--primary no-underline Link d-flex flex-items-center">Packages
      <span title="0" hidden="hidden" data-view-component="true" class="Counter ml-1">0</span></a></h2>


      <div class="text-small color-fg-muted" >
        No packages published <br>
      </div>



              </div>
            </div>

        
            <div class="BorderGrid-row" hidden>
              <div class="BorderGrid-cell">
                <include-fragment src="/jwtk/jjwt/used_by_list" accept="text/fragment+html">
</include-fragment>
              </div>
            </div>

        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                <h2 class="h4 mb-3">
  <a href="/jwtk/jjwt/graphs/contributors" data-view-component="true" class="Link--primary no-underline Link d-flex flex-items-center">Contributors
      <span title="60" data-view-component="true" class="Counter ml-1">60</span></a></h2>


    <include-fragment src="/jwtk/jjwt/contributors_list?count=60&amp;current_repository=jjwt&amp;items_to_show=14" aria-busy="true" aria-label="Loading contributors">
      <ul class="list-style-none d-flex flex-wrap mb-n2">
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
      </ul>
</include-fragment>

  <div data-view-component="true" class="mt-3">
    <a text="small" href="/jwtk/jjwt/graphs/contributors" data-view-component="true" class="Link--inTextBlock Link">+ 46 contributors</a></div>
              </div>
            </div>

        
        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                <h2 class="h4 mb-3">Languages</h2>
<div class="mb-2">
  <span data-view-component="true" class="Progress">
    <span style="background-color:#b07219 !important;;width: 61.0%;" itemprop="keywords" aria-label="Java 61.0" data-view-component="true" class="Progress-item color-bg-success-emphasis"></span>
    <span style="background-color:#4298b8 !important;;width: 38.6%;" itemprop="keywords" aria-label="Groovy 38.6" data-view-component="true" class="Progress-item color-bg-success-emphasis"></span>
    <span style="background-color:#89e051 !important;;width: 0.4%;" itemprop="keywords" aria-label="Shell 0.4" data-view-component="true" class="Progress-item color-bg-success-emphasis"></span>
</span></div>
<ul class="list-style-none">
    <li class="d-inline">
        <a class="d-inline-flex flex-items-center flex-nowrap Link--secondary no-underline text-small mr-3" href="/jwtk/jjwt/search?l=java"  data-ga-click="Repository, language stats search click, location:repo overview">
          <svg style="color:#b07219;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill mr-2">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
          <span class="color-fg-default text-bold mr-1">Java</span>
          <span>61.0%</span>
        </a>
    </li>
    <li class="d-inline">
        <a class="d-inline-flex flex-items-center flex-nowrap Link--secondary no-underline text-small mr-3" href="/jwtk/jjwt/search?l=groovy"  data-ga-click="Repository, language stats search click, location:repo overview">
          <svg style="color:#4298b8;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill mr-2">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
          <span class="color-fg-default text-bold mr-1">Groovy</span>
          <span>38.6%</span>
        </a>
    </li>
    <li class="d-inline">
        <a class="d-inline-flex flex-items-center flex-nowrap Link--secondary no-underline text-small mr-3" href="/jwtk/jjwt/search?l=shell"  data-ga-click="Repository, language stats search click, location:repo overview">
          <svg style="color:#89e051;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill mr-2">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
          <span class="color-fg-default text-bold mr-1">Shell</span>
          <span>0.4%</span>
        </a>
    </li>
</ul>

              </div>
            </div>

              </div>
</div>
  
</div></div>

  </div>


  </div>

</turbo-frame>


    </main>
  </div>

  </div>

          <footer class="footer pt-8 pb-6 f6 color-fg-muted p-responsive" role="contentinfo" >
  <h2 class='sr-only'>Footer</h2>

  


  <div class="d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap">
    <div class="d-flex flex-items-center flex-shrink-0 mx-2">
      <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-2" href="https://github.com">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
</a>
      <span>
        &copy; 2025 GitHub,&nbsp;Inc.
      </span>
    </div>

    <nav aria-label="Footer">
      <h3 class="sr-only" id="sr-footer-heading">Footer navigation</h3>

      <ul class="list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0" aria-labelledby="sr-footer-heading">

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link--secondary Link">Terms</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link--secondary Link">Privacy</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security" data-view-component="true" class="Link--secondary Link">Security</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}" href="https://www.githubstatus.com/" data-view-component="true" class="Link--secondary Link">Status</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}" href="https://docs.github.com/" data-view-component="true" class="Link--secondary Link">Docs</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}" href="https://support.github.com?tags=dotcom-footer" data-view-component="true" class="Link--secondary Link">Contact</a>
          </li>

          <li class="mx-2" >
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;cookies&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;cookies_link_subfooter_footer&quot;}"
    >
      Manage cookies
    </button>
  </cookie-consent-link>
</li>

<li class="mx-2">
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;dont_share_info&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;dont_share_info_link_subfooter_footer&quot;}"
    >
      Do not share my personal information
    </button>
  </cookie-consent-link>
</li>

      </ul>
    </nav>
  </div>
</footer>




    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999" data-initial-cookie-consent-allowed="" data-cookie-consent-required="true"></ghcc-consent>


  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>




    </div>

    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true" ></div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  </body>
</html>

