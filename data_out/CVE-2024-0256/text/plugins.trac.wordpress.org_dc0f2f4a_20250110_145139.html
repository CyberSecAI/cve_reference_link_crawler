

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3029599%2Fstarbox)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3029008/starbox "Changeset 3029008 for starbox")
* [Next Change](/changeset/3090963/starbox "Changeset 3090963 for starbox") →

---

# Changeset [3029599](/changeset/3029599 "Show full changeset") for [starbox](/browser/starbox?rev=3029599 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
01/31/2024 03:57:10 PM
([11 months](/timeline?from=2024-01-31T15%3A57%3A10Z&precision=second "See timeline at 01/31/2024 03:57:10 PM") ago)

Author:
cifi
Message:

Update security in Starbox for User Profile

Update field sanitizer on Author Box BIO

Location:
[starbox/trunk](/browser/starbox/trunk?rev=3029599)
Files:

5 edited

* [classes/Tools.php](/browser/starbox/trunk/classes/Tools.php?rev=3029599 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [models/Frontend.php](/browser/starbox/trunk/models/Frontend.php?rev=3029599 "Show entry in browser")
  (modified)
  ([8 diffs](#file1 "Show differences"))
* [readme.txt](/browser/starbox/trunk/readme.txt?rev=3029599 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [starbox.php](/browser/starbox/trunk/starbox.php?rev=3029599 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [themes/admin/UserSettings.php](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599 "Show entry in browser")
  (modified)
  ([9 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [starbox/trunk/classes/Tools.php](/changeset/3029599/starbox/trunk/classes/Tools.php "Show the changeset 3029599 restricted to starbox/trunk/classes/Tools.php")

  | [r2964031](/browser/starbox/trunk/classes/Tools.php?rev=2964031#L171 "Show revision 2964031 of this file in browser") | [r3029599](/browser/starbox/trunk/classes/Tools.php?rev=3029599#L171 "Show revision 3029599 of this file in browser") |  |
  | --- | --- | --- |
  | 171 | 171 |  |
  | 172 | 172 | /\*\* |
  |  | 173 | \* Clear the field string |
  |  | 174 | \* |
  |  | 175 | \* @param  $value |
  |  | 176 | \* @return mixed|null|string|string[] |
  |  | 177 | \*/ |
  |  | 178 | public static function sanitizeField($value) |
  |  | 179 | { |
  |  | 180 |  |
  |  | 181 | if(is\_array($value)){ |
  |  | 182 | return array\_map(array('ABH\_Classes\_Tools', 'sanitizeField'), $value); |
  |  | 183 | } |
  |  | 184 |  |
  |  | 185 | if (is\_string($value) && $value <> '') { |
  |  | 186 |  |
  |  | 187 | $search = array( |
  |  | 188 | "'<!--(.\*?)-->'is", |
  |  | 189 | "'<script[^>]\*?>.\*?<\/script>'si", // strip out javascript |
  |  | 190 | "'<style[^>]\*?>.\*?<\/style>'si", // strip out styles |
  |  | 191 | "'<form.\*?<\/form>'si", |
  |  | 192 | "'<iframe.\*?<\/iframe>'si", |
  |  | 193 | "'&lt;!--(.\*?)--&gt;'is", |
  |  | 194 | "'&lt;script&gt;.\*?&lt;\/script&gt;'si", // strip out javascript |
  |  | 195 | "'&lt;style&gt;.\*?&lt;\/style&gt;'si", // strip out styles |
  |  | 196 | ); |
  |  | 197 | $value = preg\_replace($search, "", $value); |
  |  | 198 |  |
  |  | 199 | $search = array( |
  |  | 200 | "/&nbsp;/si", |
  |  | 201 | "/\s{2,}/", |
  |  | 202 | ); |
  |  | 203 | $value = preg\_replace($search, " ", $value); |
  |  | 204 |  |
  |  | 205 | //more sanitization |
  |  | 206 | $value = wp\_strip\_all\_tags($value); |
  |  | 207 | $value = ent2ncr($value); |
  |  | 208 | $value = trim($value); |
  |  | 209 |  |
  |  | 210 | $value = ABH\_Classes\_Tools::i18n($value); |
  |  | 211 |  |
  |  | 212 | } |
  |  | 213 |  |
  |  | 214 | return $value; |
  |  | 215 | } |
  |  | 216 |  |
  |  | 217 |  |
  |  | 218 | /\*\* |
  | 173 | 219 | \* Get a value from $\_POST / $\_GET |
  | 174 | 220 | \* if unavailable, take a default value |
  | […](/browser/starbox/trunk/classes/Tools.php?rev=2964031#L183) | […](/browser/starbox/trunk/classes/Tools.php?rev=3029599#L229) |  |
  | 183 | 229 | } |
  | 184 | 230 |  |
  | 185 |  | $ret = sanitize\_text\_field((isset($\_POST[$key]) ? $\_POST[$key] : $defaultValue)); |
  |  | 231 | $ret = (isset($\_POST[$key]) ? $\_POST[$key] : $defaultValue); |
  |  | 232 | $ret = ABH\_Classes\_Tools::sanitizeField($ret); |
  | 186 | 233 |  |
  | 187 | 234 | return wp\_unslash($ret); |
* ## [starbox/trunk/models/Frontend.php](/changeset/3029599/starbox/trunk/models/Frontend.php "Show the changeset 3029599 restricted to starbox/trunk/models/Frontend.php")

  | [r2964031](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L62 "Show revision 2964031 of this file in browser") | [r3029599](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L62 "Show revision 3029599 of this file in browser") |  |
  | --- | --- | --- |
  | 62 | 62 |  |
  | 63 | 63 | $content .= ' |
  | 64 |  | <div class="abh\_box abh\_box\_' . $this->position . ' abh\_box\_' . ~~$this->details['abh\_theme']~~ . '"> |
  |  | 64 | <div class="abh\_box abh\_box\_' . $this->position . ' abh\_box\_' . esc\_attr($this->details['abh\_theme']) . '"> |
  | 65 | 65 | <ul class="abh\_tabs"> |
  | 66 |  | <li class="abh\_about abh\_active"><a href="#abh\_about">' . \_\_('About', \_ABH\_PLUGIN\_NAME\_) . '</a></li> |
  | 67 |  | <li class="abh\_posts"><a href="#abh\_posts">' . \_\_('Latest Posts', \_ABH\_PLUGIN\_NAME\_) . '</a></li> |
  |  | 66 | <li class="abh\_about abh\_active"><a href="#abh\_about">' . esc\_html\_\_('About', \_ABH\_PLUGIN\_NAME\_) . '</a></li> |
  |  | 67 | <li class="abh\_posts"><a href="#abh\_posts">' . esc\_html\_\_('Latest Posts', \_ABH\_PLUGIN\_NAME\_) . '</a></li> |
  | 68 | 68 | </ul> |
  | 69 | 69 | <div class="abh\_tab\_content">' . |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L84) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L84) |  |
  | 84 | 84 | public function getProfileImage() { |
  | 85 | 85 | if (isset($this->details['abh\_gravatar']) && $this->details['abh\_gravatar'] <> '' && file\_exists(\_ABH\_GRAVATAR\_DIR\_ . $this->details['abh\_gravatar'])) { |
  | 86 |  | $image =  '<img src="' . \_ABH\_GRAVATAR\_URL\_ . $this->details['abh\_gravatar'] . '" class="photo" width="' . ABH\_IMAGESIZE . '" alt="' . ~~$this->author->display\_name~~ . '" />'; |
  |  | 86 | $image =  '<img src="' . \_ABH\_GRAVATAR\_URL\_ . $this->details['abh\_gravatar'] . '" class="photo" width="' . ABH\_IMAGESIZE . '" alt="' . esc\_attr($this->author->display\_name) . '" />'; |
  | 87 | 87 | } else { |
  | 88 |  | $image =  get\_avatar($this->author->ID, ABH\_IMAGESIZE, '', ~~$this->author->display\_name~~); |
  |  | 88 | $image =  get\_avatar($this->author->ID, ABH\_IMAGESIZE, '', esc\_attr($this->author->display\_name)); |
  | 89 | 89 | } |
  | 90 | 90 |  |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L121) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L121) |  |
  | 121 | 121 | if (ABH\_AUTHORLINK) { |
  | 122 | 122 | if ($this->author->user\_url) { |
  | 123 |  | $content .= '<a href = "' . ~~$this->author->user\_url . '" class="url" target = "\_blank" title = "' . $this->author->display\_name~~ . '" ' . $nofollow . ' > ' . $this->getProfileImage() . '</a > '; |
  |  | 123 | $content .= '<a href = "' . esc\_url($this->author->user\_url) . '" class="url" target = "\_blank" title = "' . esc\_attr($this->author->display\_name) . '" ' . $nofollow . ' > ' . $this->getProfileImage() . '</a > '; |
  | 124 | 124 | } else { |
  | 125 |  | $content .= '<a href = "' . get\_author\_posts\_url($this->author->ID) . '" class="url" title = "' . ~~$this->author->display\_name~~ . '" > ' . $this->getProfileImage() . '</a > '; |
  |  | 125 | $content .= '<a href = "' . get\_author\_posts\_url($this->author->ID) . '" class="url" title = "' . esc\_attr($this->author->display\_name) . '" > ' . $this->getProfileImage() . '</a > '; |
  | 126 | 126 | } |
  | 127 | 127 | } else { |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L131) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L131) |  |
  | 131 | 131 | <div class="abh\_social"> ' . $this->getSocial($this->single) . '</div> |
  | 132 | 132 | <div class="abh\_text"> |
  | 133 |  | <div class="abh\_name fn name" ' . (($this->single) ? 'itemprop="name"' : '') . ' ' . ((ABH\_Classes\_Tools::getOption('abh\_titlefontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_titlefontsize') . ' !important;"' : '') . '>' . (ABH\_AUTHORLINK ? (($this->author->user\_url) ? '<a href="' . ~~$this->author->user\_url . '" class="url" target="\_blank" ' . $nofollow . '>' . $this->author->display\_name . '</a>' : '<a href="' . get\_author\_posts\_url($this->author->ID) . '" class="url">' . $this->author->display\_name . '</a>') : $this->author->display\_name~~) . '</div> |
  | 134 |  | <div class="abh\_job" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . (($this->details['abh\_title'] <> '' && $this->details['abh\_company'] <> '') ? '<span class="title" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . ~~$this->details['abh\_title'] . '</span> ' . \_\_('at', \_ABH\_PLUGIN\_NAME\_) . ' <span class="org" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . (($this->details['abh\_company\_url'] <> '') ? sprintf('<a href="%s" target="\_blank">%s</a>', $this->details['abh\_company\_url'], $this->details['abh\_company']) : $this->details['abh\_company']~~) . '</span>' : '') . '</div> |
  |  | 133 | <div class="abh\_name fn name" ' . (($this->single) ? 'itemprop="name"' : '') . ' ' . ((ABH\_Classes\_Tools::getOption('abh\_titlefontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_titlefontsize') . ' !important;"' : '') . '>' . (ABH\_AUTHORLINK ? (($this->author->user\_url) ? '<a href="' . esc\_url($this->author->user\_url) . '" class="url" target="\_blank" ' . $nofollow . '>' . esc\_html($this->author->display\_name) . '</a>' : '<a href="' . get\_author\_posts\_url($this->author->ID) . '" class="url">' . esc\_html($this->author->display\_name) . '</a>') : esc\_html($this->author->display\_name)) . '</div> |
  |  | 134 | <div class="abh\_job" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . (($this->details['abh\_title'] <> '' && $this->details['abh\_company'] <> '') ? '<span class="title" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . esc\_html($this->details['abh\_title']) . '</span> ' . \_\_('at', \_ABH\_PLUGIN\_NAME\_) . ' <span class="org" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . (($this->details['abh\_company\_url'] <> '') ? sprintf('<a href="%s" target="\_blank">%s</a>', esc\_url($this->details['abh\_company\_url']), esc\_attr($this->details['abh\_company'])) : esc\_attr($this->details['abh\_company'])) . '</span>' : '') . '</div> |
  | 135 | 135 | <div class="description note abh\_description" ' . (($this->single) ? 'itemprop="description"' : '') . ' ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_descfontsize') . ' !important;"' : '') . '>' . ((isset($this->details['abh\_extra\_description']) && $this->details['abh\_extra\_description'] <> '') ? nl2br($this->details['abh\_extra\_description']) : nl2br($this->author->user\_description)) . '</div> |
  | 136 | 136 | </div> |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L165) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L165) |  |
  | 165 | 165 | <section class="abh\_posts\_tab abh\_tab" > |
  | 166 | 166 | <div class="abh\_image"> |
  | 167 |  | ' . (ABH\_AUTHORLINK ? (($this->author->user\_url) ? '<a href="' . ~~$this->author->user\_url . '" class="url" target="\_blank" title="' . $this->author->display\_name . '" ' . $nofollow . '>' . $this->getProfileImage() . '</a>' : '<a href="' . get\_author\_posts\_url($this->author->ID) . '" class="url" title="' . $this->author->display\_name~~ . '">' . $this->getProfileImage() . '</a>') : $this->getProfileImage()) . ' |
  |  | 167 | ' . (ABH\_AUTHORLINK ? (($this->author->user\_url) ? '<a href="' . esc\_url($this->author->user\_url) . '" class="url" target="\_blank" title="' . esc\_attr($this->author->display\_name) . '" ' . $nofollow . '>' . $this->getProfileImage() . '</a>' : '<a href="' . get\_author\_posts\_url($this->author->ID) . '" class="url" title="' . esc\_attr($this->author->display\_name) . '">' . $this->getProfileImage() . '</a>') : $this->getProfileImage()) . ' |
  | 168 | 168 | </div> |
  | 169 | 169 | <div class="abh\_social"> ' . $this->getSocial() . '</div> |
  | 170 | 170 | <div class="abh\_text"> |
  | 171 |  | <div class="abh\_name" ' . ((ABH\_Classes\_Tools::getOption('abh\_titlefontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_titlefontsize') . ' !important;"' : '') . '>' . sprintf(\_\_('Latest posts by %s', \_ABH\_PLUGIN\_NAME\_), ~~$this->author->display\_name~~) . ' <span class="abh\_allposts">' . (ABH\_AUTHORLINK ? '(<a href="' . get\_author\_posts\_url($this->author->ID) . '">' . \_\_('see all', \_ABH\_PLUGIN\_NAME\_) . '</a>)' : '') . '</span></div> |
  |  | 171 | <div class="abh\_name" ' . ((ABH\_Classes\_Tools::getOption('abh\_titlefontsize') <> 'default') ? 'style="font-size:' . ABH\_Classes\_Tools::getOption('abh\_titlefontsize') . ' !important;"' : '') . '>' . sprintf(\_\_('Latest posts by %s', \_ABH\_PLUGIN\_NAME\_), esc\_attr($this->author->display\_name)) . ' <span class="abh\_allposts">' . (ABH\_AUTHORLINK ? '(<a href="' . get\_author\_posts\_url($this->author->ID) . '">' . \_\_('see all', \_ABH\_PLUGIN\_NAME\_) . '</a>)' : '') . '</span></div> |
  | 172 | 172 | <div class="abh\_description note" >' . $this->getLatestPosts() . '</div> |
  | 173 | 173 | </div> |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L204) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L204) |  |
  | 204 | 204 | if (isset($this->details['abh\_facebook']) && $this->details['abh\_facebook'] <> '') { |
  | 205 | 205 | $count++; |
  | 206 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_facebook'], 'http') === false) ? 'http://facebook.com/' : '') . ~~$this->details['abh\_facebook']~~ . '" title="' . \_\_('Facebook', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_facebook" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 206 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_facebook'], 'http') === false) ? 'http://facebook.com/' : '') . esc\_attr($this->details['abh\_facebook']) . '" title="' . \_\_('Facebook', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_facebook" target="\_blank" ' . $nofollow . '></a>'; |
  | 207 | 207 | } |
  | 208 | 208 | if (isset($this->details['abh\_twitter']) && $this->details['abh\_twitter'] <> '') { |
  | 209 | 209 | $count++; |
  | 210 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_twitter'], 'http') === false) ? 'http://twitter.com/' : '') . ~~$this->details['abh\_twitter']~~ . '" title="' . \_\_('Twitter', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_twitter" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 210 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_twitter'], 'http') === false) ? 'http://twitter.com/' : '') . esc\_attr($this->details['abh\_twitter']) . '" title="' . \_\_('Twitter', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_twitter" target="\_blank" ' . $nofollow . '></a>'; |
  | 211 | 211 | } |
  | 212 | 212 | if (isset($this->details['abh\_linkedin']) && $this->details['abh\_linkedin'] <> '') { |
  | 213 | 213 | $count++; |
  | 214 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_linkedin'], 'http') === false) ? 'http://www.linkedin.com/in/' : '') . ~~$this->details['abh\_linkedin']~~ . '" title="' . \_\_('LinkedIn', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_linkedin" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 214 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_linkedin'], 'http') === false) ? 'http://www.linkedin.com/in/' : '') . esc\_attr($this->details['abh\_linkedin']) . '" title="' . \_\_('LinkedIn', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_linkedin" target="\_blank" ' . $nofollow . '></a>'; |
  | 215 | 215 | } |
  | 216 | 216 | if (isset($this->details['abh\_instagram']) && $this->details['abh\_instagram'] <> '') { |
  | 217 | 217 | $count++; |
  | 218 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_instagram'], 'http') === false) ? 'http://instagram.com/' : '') . ~~$this->details['abh\_instagram']~~ . '" title="' . \_\_('Instagram', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_instagram" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 218 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_instagram'], 'http') === false) ? 'http://instagram.com/' : '') . esc\_attr($this->details['abh\_instagram']) . '" title="' . \_\_('Instagram', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_instagram" target="\_blank" ' . $nofollow . '></a>'; |
  | 219 | 219 | } |
  | 220 | 220 | if (isset($this->details['abh\_flickr']) && $this->details['abh\_flickr'] <> '') { |
  | 221 | 221 | $count++; |
  | 222 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_flickr'], 'http') === false) ? 'http://www.flickr.com/photos/' : '') . ~~$this->details['abh\_flickr']~~ . '" title="' . \_\_('Flickr', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_flickr" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 222 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_flickr'], 'http') === false) ? 'http://www.flickr.com/photos/' : '') . esc\_attr($this->details['abh\_flickr']) . '" title="' . \_\_('Flickr', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_flickr" target="\_blank" ' . $nofollow . '></a>'; |
  | 223 | 223 | } |
  | 224 | 224 | if (isset($this->details['abh\_pinterest']) && $this->details['abh\_pinterest'] <> '') { |
  | 225 | 225 | $count++; |
  | 226 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_pinterest'], 'http') === false) ? 'http://pinterest.com/' : '') . ~~$this->details['abh\_pinterest']~~ . '" title="' . \_\_('Pinterest', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_pinterest" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 226 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_pinterest'], 'http') === false) ? 'http://pinterest.com/' : '') . esc\_attr($this->details['abh\_pinterest']) . '" title="' . \_\_('Pinterest', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_pinterest" target="\_blank" ' . $nofollow . '></a>'; |
  | 227 | 227 | } |
  | 228 | 228 | if (isset($this->details['abh\_tumblr']) && $this->details['abh\_tumblr'] <> '') { |
  | 229 | 229 | $count++; |
  | 230 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_tumblr'], 'http') === false) ? 'http://' . ~~$this->details['abh\_tumblr'] . '.tumblr.com/' : $this->details['abh\_tumblr']~~) . '" title="' . \_\_('Tumblr', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_tumblr" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 230 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_tumblr'], 'http') === false) ? 'http://' . esc\_attr($this->details['abh\_tumblr']) . '.tumblr.com/' : esc\_attr($this->details['abh\_tumblr'])) . '" title="' . \_\_('Tumblr', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_tumblr" target="\_blank" ' . $nofollow . '></a>'; |
  | 231 | 231 | } |
  | 232 | 232 | if (isset($this->details['abh\_youtube']) && $this->details['abh\_youtube'] <> '') { |
  | 233 | 233 | $count++; |
  | 234 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_youtube'], 'http') === false) ? 'http://www.youtube.com/user/' : '') . ~~$this->details['abh\_youtube']~~ . '" title="' . \_\_('YouTube', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_youtube" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 234 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_youtube'], 'http') === false) ? 'http://www.youtube.com/user/' : '') . esc\_attr($this->details['abh\_youtube']) . '" title="' . \_\_('YouTube', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_youtube" target="\_blank" ' . $nofollow . '></a>'; |
  | 235 | 235 | } |
  | 236 | 236 | if (isset($this->details['abh\_vimeo']) && $this->details['abh\_vimeo'] <> '') { |
  | 237 | 237 | $count++; |
  | 238 |  | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_vimeo'], 'http') === false) ? 'http://vimeo.com/' : '') . ~~$this->details['abh\_vimeo']~~ . '" title="' . \_\_('Vimeo', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_vimeo" target="\_blank" ' . $nofollow . '></a>'; |
  |  | 238 | $content .= '<a ' . (($itemprop) ? 'itemprop="sameAs"' : '') . ' href="' . ((strpos($this->details['abh\_vimeo'], 'http') === false) ? 'http://vimeo.com/' : '') . esc\_attr($this->details['abh\_vimeo']) . '" title="' . \_\_('Vimeo', \_ABH\_PLUGIN\_NAME\_) . '" class="abh\_vimeo" target="\_blank" ' . $nofollow . '></a>'; |
  | 239 | 239 | } |
  | 240 | 240 |  |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L251) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L251) |  |
  | 251 | 251 |  |
  | 252 | 252 | if ($count > 0 && isset($this->details['abh\_socialtext']) && $this->details['abh\_socialtext'] <> '') |
  | 253 |  | $content = '<div style="clear: both; font-size:12px; font-weight:normal; width: 85px; margin: 0 0 2px auto; line-height: 20px;">' . ~~$this->details['abh\_socialtext']~~ . '</div>' . $content; |
  |  | 253 | $content = '<div style="clear: both; font-size:12px; font-weight:normal; width: 85px; margin: 0 0 2px auto; line-height: 20px;">' . esc\_html($this->details['abh\_socialtext']) . '</div>' . $content; |
  | 254 | 254 |  |
  | 255 | 255 | return $content; |
  | […](/browser/starbox/trunk/models/Frontend.php?rev=2964031#L287) | […](/browser/starbox/trunk/models/Frontend.php?rev=3029599#L287) |  |
  | 287 | 287 | if (!$found) |
  | 288 | 288 | continue; |
  | 289 |  | ~~//echo '<pre>' . print\_r($category, true) . '</pre>';~~ |
  | 290 | 289 | } |
  | 291 | 290 |  |
* ## [starbox/trunk/readme.txt](/changeset/3029599/starbox/trunk/readme.txt "Show the changeset 3029599 restricted to starbox/trunk/readme.txt")

  | [r3028775](/browser/starbox/trunk/readme.txt?rev=3028775#L104 "Show revision 3028775 of this file in browser") | [r3029599](/browser/starbox/trunk/readme.txt?rev=3029599#L104 "Show revision 3029599 of this file in browser") |  |
  | --- | --- | --- |
  | 104 | 104 |  |
  | 105 | 105 | == Changelog == |
  | 106 |  | = 3.~~4.9~~ = |
  |  | 106 | = 3.5.0 = |
  | 107 | 107 | \* Update security on User setting |
  | 108 | 108 | \* Fixed Small Bugs |
* ## [starbox/trunk/starbox.php](/changeset/3029599/starbox/trunk/starbox.php "Show the changeset 3029599 restricted to starbox/trunk/starbox.php")

  | [r3028851](/browser/starbox/trunk/starbox.php?rev=3028851#L8 "Show revision 3028851 of this file in browser") | [r3029599](/browser/starbox/trunk/starbox.php?rev=3029599#L8 "Show revision 3029599 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \*  Author: Squirrly UK |
  | 9 | 9 | \*  Description: Starbox is the Author Box for Humans. Professional Themes to choose from, HTML5, Social Media Profiles, Google Authorship |
  | 10 |  | \*  Version: 3.~~4.9~~ |
  |  | 10 | \*  Version: 3.5.0 |
  | 11 | 11 | \*  Author URI: https://www.squirrly.co/wordpress-seo-by-squirrly |
  | 12 | 12 | \*  License:     GPLv2 or later |
  | […](/browser/starbox/trunk/starbox.php?rev=3028851#L27) | […](/browser/starbox/trunk/starbox.php?rev=3029599#L27) |  |
  | 27 | 27 |  |
  | 28 | 28 | /\* SET THE CURRENT VERSION ABOVE AND BELOW \*/ |
  | 29 |  | define('ABH\_VERSION', '3.~~4.9~~'); |
  |  | 29 | define('ABH\_VERSION', '3.5.0'); |
  | 30 | 30 |  |
  | 31 | 31 | if (!defined('ABHP\_VERSION')) { |
* ## [starbox/trunk/themes/admin/UserSettings.php](/changeset/3029599/starbox/trunk/themes/admin/UserSettings.php "Show the changeset 3029599 restricted to starbox/trunk/themes/admin/UserSettings.php")

  | [r2964031](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L1 "Show revision 2964031 of this file in browser") | [r3029599](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L1 "Show revision 3029599 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php defined('ABSPATH') || die('Cheatin\' uh?'); ?> |
  |  | 1 | <?php defined('ABSPATH') || die('Cheatin\' uh?'); if(!isset($view)) return;?> |
  | 2 | 2 | <div id="abh\_settings" > |
  | 3 | 3 | <a id="abh\_settings"></a> |
  | 4 |  | <div id="abh\_settings\_title" ><?php ~~\_e~~('Starbox Settings for this Author', \_ABH\_PLUGIN\_NAME\_); ?></div> |
  |  | 4 | <div id="abh\_settings\_title" ><?php echo esc\_html\_\_('Starbox Settings for this Author', \_ABH\_PLUGIN\_NAME\_); ?></div> |
  | 5 | 5 | <div id="abh\_settings\_body"> |
  | 6 | 6 | <div id="abh\_settings\_left" > |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L9) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L9) |  |
  | 9 | 9 | <div class="abh\_switch"> |
  | 10 | 10 | <input id="abh\_use\_on" type="radio" class="abh\_switch-input" name="abh\_use"  value="1" <?php echo (($view->author['abh\_use'] == 1) ? "checked" : '') ?> /> |
  | 11 |  | <label for="abh\_use\_on" class="abh\_switch-label abh\_switch-label-off"><?php ~~\_e~~('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 11 | <label for="abh\_use\_on" class="abh\_switch-label abh\_switch-label-off"><?php echo esc\_html\_\_('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 12 | 12 | <input id="abh\_use\_off" type="radio" class="abh\_switch-input" name="abh\_use" value="0" <?php echo ((!$view->author['abh\_use'] == 1) ? "checked" : '') ?> /> |
  | 13 |  | <label for="abh\_use\_off" class="abh\_switch-label abh\_switch-label-on"><?php ~~\_e~~('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 13 | <label for="abh\_use\_off" class="abh\_switch-label abh\_switch-label-on"><?php echo esc\_html\_\_('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 14 | 14 | <span class="abh\_switch-selection"></span> |
  | 15 | 15 | </div> |
  | 16 |  | <span><?php ~~\_e~~('Show the StarBox for this author', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 16 | <span><?php echo esc\_html\_\_('Show the StarBox for this author', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 17 | 17 | </div> |
  | 18 | 18 |  |
  | 19 | 19 | </fieldset> |
  | 20 | 20 | <fieldset> |
  | 21 |  | <legend><?php ~~\_e~~('Change the Profile Image', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  |  | 21 | <legend><?php echo esc\_html\_\_('Change the Profile Image', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  | 22 | 22 | <div class="abh\_gravatar"> |
  | 23 | 23 | <p> |
  | 24 |  | <?php ~~\_e~~('File types: JPG, JPEG, GIF and PNG. Ideal image size is: 80x80', \_ABH\_PLUGIN\_NAME\_); ?> |
  |  | 24 | <?php echo esc\_html\_\_('File types: JPG, JPEG, GIF and PNG. Ideal image size is: 80x80', \_ABH\_PLUGIN\_NAME\_); ?> |
  | 25 | 25 | </p> |
  | 26 |  | <p><span class="sq\_settings\_info"><?php echo ((defined('ABH\_MESSAGE\_FAVICON')) ? ~~ABH\_MESSAGE\_FAVICON~~ : '') ?></span></p> |
  |  | 26 | <p><span class="sq\_settings\_info"><?php echo ((defined('ABH\_MESSAGE\_FAVICON')) ? esc\_attr(ABH\_MESSAGE\_FAVICON) : '') ?></span></p> |
  | 27 | 27 | <div> |
  | 28 | 28 | <?php if (isset($view->author['abh\_gravatar']) && $view->author['abh\_gravatar'] <> '' && file\_exists(\_ABH\_GRAVATAR\_DIR\_ . $view->author['abh\_gravatar'])) { ?> |
  | 29 |  | <img src="<?php echo ~~\_ABH\_GRAVATAR\_URL\_ . $view->author['abh\_gravatar'] . '?' . time() ?>" width="<?php echo ABH\_IMAGESIZE~~?>" class="photo" /> |
  |  | 29 | <img src="<?php echo esc\_url(\_ABH\_GRAVATAR\_URL\_) . esc\_attr($view->author['abh\_gravatar']) . '?' . esc\_attr(time()) ?>" width="<?php echo esc\_attr(ABH\_IMAGESIZE)?>" class="photo" /> |
  | 30 | 30 | <?php |
  | 31 | 31 | } else { |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L36) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L36) |  |
  | 36 | 36 | <div class="abh\_upload"> |
  | 37 | 37 | <input type="file" name="abh\_gravatar" autocomplete="off" /> |
  | 38 |  | <input type="submit"  id="abh\_gravatar\_update" name="abh\_update" value="<?php ~~\_e~~('Upload', \_ABH\_PLUGIN\_NAME\_) ?>" /> |
  | 39 |  | <div class="abh\_upload\_reset"><label for="abh\_resetgravatar"><?php ~~\_e~~('Reset the uploaded image', \_ABH\_PLUGIN\_NAME\_); ?></label><input name="abh\_resetgravatar" type="checkbox" value="1" /></div> |
  | 40 |  | <span class="abh\_settings\_info"><?php echo sprintf(\_\_('You can also set your image on %shttps://en.gravatar.com/%s for your email address', \_ABH\_PLUGIN\_NAME\_), '<a href="https://en.gravatar.com/" target="\_blank">', '</a>'); ?></span> |
  |  | 38 | <input type="submit"  id="abh\_gravatar\_update" name="abh\_update" value="<?php echo esc\_attr\_\_('Upload', \_ABH\_PLUGIN\_NAME\_) ?>" /> |
  |  | 39 | <div class="abh\_upload\_reset"><label for="abh\_resetgravatar"><?php echo esc\_html\_\_('Reset the uploaded image', \_ABH\_PLUGIN\_NAME\_); ?></label><input name="abh\_resetgravatar" type="checkbox" value="1" /></div> |
  |  | 40 | <span class="abh\_settings\_info"><?php echo sprintf(esc\_attr\_\_('You can also set your image on %shttps://en.gravatar.com/%s for your email address', \_ABH\_PLUGIN\_NAME\_), '<a href="https://en.gravatar.com/" target="\_blank">', '</a>'); ?></span> |
  | 41 | 41 | </div> |
  | 42 | 42 | </div> |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L45) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L45) |  |
  | 45 | 45 | </fieldset> |
  | 46 | 46 | <fieldset> |
  | 47 |  | <legend><?php ~~\_e~~('Theme settings:', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  |  | 47 | <legend><?php echo esc\_html\_\_('Theme settings:', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  | 48 | 48 | <div class="abh\_option\_content"> |
  | 49 | 49 | <div class="abh\_select"> |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L55) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L55) |  |
  | 55 | 55 | $position = 'default'; |
  | 56 | 56 | ?> |
  | 57 |  | <option value="default" <?php echo (($position == 'default') ? 'selected="selected"' : '') ?>><?php ~~\_e~~('Default', \_ABH\_PLUGIN\_NAME\_); ?></option> |
  | 58 |  | <option value="up" <?php echo (($position == 'up') ? 'selected="selected"' : '') ?>><?php ~~\_e~~('Up', \_ABH\_PLUGIN\_NAME\_); ?></option> |
  | 59 |  | <option value="down" <?php echo (($position == 'down') ? 'selected="selected"' : '') ?>><?php ~~\_e~~('Down', \_ABH\_PLUGIN\_NAME\_); ?></option> |
  |  | 57 | <option value="default" <?php echo (($position == 'default') ? 'selected="selected"' : '') ?>><?php echo esc\_html\_\_('Default', \_ABH\_PLUGIN\_NAME\_); ?></option> |
  |  | 58 | <option value="up" <?php echo (($position == 'up') ? 'selected="selected"' : '') ?>><?php echo esc\_html\_\_('Up', \_ABH\_PLUGIN\_NAME\_); ?></option> |
  |  | 59 | <option value="down" <?php echo (($position == 'down') ? 'selected="selected"' : '') ?>><?php echo esc\_html\_\_('Down', \_ABH\_PLUGIN\_NAME\_); ?></option> |
  | 60 | 60 | </select> |
  | 61 | 61 | </div> |
  | 62 |  | <span><?php ~~\_e~~('The Author Box position', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 62 | <span><?php echo esc\_html\_\_('The Author Box position', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 63 | 63 | </div> |
  | 64 | 64 |  |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L74) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L74) |  |
  | 74 | 74 |  |
  | 75 | 75 | foreach ($view->themes as $name) { |
  | 76 |  | echo '<option value="' . ~~$name . '" ' . (($theme == $name) ? 'selected="selected"' : '') . ' >' . ucfirst($name~~) . '</option>'; |
  |  | 76 | echo '<option value="' . esc\_attr($name) . '" ' . (($theme == $name) ? 'selected="selected"' : '') . ' >' . esc\_html(ucfirst($name)) . '</option>'; |
  | 77 | 77 | } |
  | 78 | 78 | ?> |
  | 79 | 79 | </select> |
  | 80 | 80 | </div> |
  | 81 |  | <span><?php ~~\_e~~('This Author\'s theme', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 81 | <span><?php echo esc\_html\_\_('This Author\'s theme', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 82 | 82 |  |
  | 83 | 83 | </div> |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L88) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L88) |  |
  | 88 | 88 | <?php |
  | 89 | 89 | foreach (ABH\_Classes\_Tools::getOption('abh\_titlefontsizes') as $name) { |
  | 90 |  | echo '<option value="' . ~~$name . '" ' . ((ABH\_Classes\_Tools::getOption('abh\_titlefontsize') == $name) ? 'selected="selected"' : '') . ' >' . $name~~ . '</option>'; |
  |  | 90 | echo '<option value="' . esc\_attr($name) . '" ' . ((ABH\_Classes\_Tools::getOption('abh\_titlefontsize') == $name) ? 'selected="selected"' : '') . ' >' . esc\_html($name) . '</option>'; |
  | 91 | 91 | } |
  | 92 | 92 | ?> |
  | 93 | 93 | </select> |
  | 94 | 94 | </div> |
  | 95 |  | <span><?php ~~\_e~~('Choose the size of the name', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 95 | <span><?php echo esc\_html\_\_('Choose the size of the name', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 96 | 96 |  |
  | 97 | 97 | <div class="abh\_select">&nbsp; |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L99) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L99) |  |
  | 99 | 99 | <?php |
  | 100 | 100 | foreach (ABH\_Classes\_Tools::getOption('abh\_descfontsizes') as $name) { |
  | 101 |  | echo '<option value="' . ~~$name . '" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') == $name) ? 'selected="selected"' : '') . ' >' . $name~~ . '</option>'; |
  |  | 101 | echo '<option value="' . esc\_attr($name) . '" ' . ((ABH\_Classes\_Tools::getOption('abh\_descfontsize') == $name) ? 'selected="selected"' : '') . ' >' . esc\_html($name) . '</option>'; |
  | 102 | 102 | } |
  | 103 | 103 | ?> |
  | 104 | 104 | </select> |
  | 105 | 105 | </div> |
  | 106 |  | <span><?php ~~\_e~~('Choose the size of the description', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 106 | <span><?php echo esc\_html\_\_('Choose the size of the description', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 107 | 107 | </div> |
  | 108 | 108 |  |
  | 109 |  | <div id="abh\_box\_preview\_title"><?php ~~\_e~~('Preview mode (change the theme)', \_ABH\_PLUGIN\_NAME\_); ?></div> |
  |  | 109 | <div id="abh\_box\_preview\_title"><?php echo esc\_html\_\_('Preview mode (change the theme)', \_ABH\_PLUGIN\_NAME\_); ?></div> |
  | 110 | 110 | <div id="abh\_box\_preview"><?php |
  | 111 | 111 | if ($theme == 'default') |
  | 112 | 112 | $theme = ABH\_Classes\_Tools::getOption('abh\_theme'); |
  | 113 | 113 | if (file\_exists((\_ABH\_ALL\_THEMES\_DIR\_ . $theme . '/js/frontend.js'))) |
  | 114 |  | echo '<script type="text/javascript" src="' . ~~\_ABH\_ALL\_THEMES\_URL\_ . $theme . '/js/frontend.js?ver=' . ABH\_VERSION~~ . '"></script>'; |
  | 115 |  | echo '<link rel="stylesheet"  href="' . ~~\_ABH\_ALL\_THEMES\_URL\_ . $theme . '/css/frontend.css?ver=' . ABH\_VERSION~~ . '" type="text/css" media="all" />'; |
  |  | 114 | echo '<script type="text/javascript" src="' . esc\_url(\_ABH\_ALL\_THEMES\_URL\_ . $theme . '/js/frontend.js?ver=' . ABH\_VERSION) . '"></script>'; |
  |  | 115 | echo '<link rel="stylesheet"  href="' . esc\_url(\_ABH\_ALL\_THEMES\_URL\_ . $theme . '/css/frontend.css?ver=' . ABH\_VERSION) . '" type="text/css" media="all" />'; |
  | 116 | 116 |  |
  | 117 | 117 | echo ABH\_Classes\_ObjController::getController('ABH\_Controllers\_Frontend')->showBox($view->user->ID); |
  | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=2964031#L119) | […](/browser/starbox/trunk/themes/admin/UserSettings.php?rev=3029599#L119) |  |
  | 119 | 119 | </fieldset> |
  | 120 | 120 | <fieldset> |
  | 121 |  | <legend><?php ~~\_e~~('Job settings:', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  |  | 121 | <legend><?php echo esc\_html\_\_('Job settings:', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  | 122 | 122 | <div> |
  | 123 |  | <p><span><?php ~~\_e('Job Title:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_title" value="<?php echo $view->author['abh\_title']~~; ?>" size="30" /></p> |
  | 124 |  | <p><span><?php ~~\_e('Company:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_company" value="<?php echo $view->author['abh\_company']~~; ?>" size="30" /></p> |
  | 125 |  | <p><span><?php ~~\_e('Company URL:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_company\_url" value="<?php echo $view->author['abh\_company\_url']~~; ?>" size="30" /></p> |
  |  | 123 | <p><span><?php echo esc\_html\_\_('Job Title:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_title" value="<?php echo esc\_attr($view->author['abh\_title']); ?>" size="30" /></p> |
  |  | 124 | <p><span><?php echo esc\_html\_\_('Company:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_company" value="<?php echo esc\_attr($view->author['abh\_company']); ?>" size="30" /></p> |
  |  | 125 | <p><span><?php echo esc\_html\_\_('Company URL:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_company\_url" value="<?php echo esc\_url($view->author['abh\_company\_url']); ?>" size="30" /></p> |
  | 126 | 126 | <p class="abh\_description\_author"></p> |
  | 127 |  | <p class="abh\_show\_extra\_description" <?php echo (($view->author['abh\_extra\_description'] == '') ? '' : 'style="display: none"'); ?>><?php ~~\_e~~('add custom author bio >>', \_ABH\_PLUGIN\_NAME\_); ?></p> |
  |  | 127 | <p class="abh\_show\_extra\_description" <?php echo (($view->author['abh\_extra\_description'] == '') ? '' : 'style="display: none"'); ?>><?php echo esc\_html\_\_('add custom author bio >>', \_ABH\_PLUGIN\_NAME\_); ?></p> |
  | 128 | 128 | <p class="abh\_extra\_description" <?php echo (($view->author['abh\_extra\_description'] <> '') ? '' : 'style="display: none"'); ?>> |
  | 129 |  | <span> </span><span style="font-size:12px; font-weight: normal; margin-left: 15px; font-style: italic;"><?php ~~\_e~~('By adding text here, you will replace the above description with this one', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 129 | <span> </span><span style="font-size:12px; font-weight: normal; margin-left: 15px; font-style: italic;"><?php echo esc\_html\_\_('By adding text here, you will replace the above description with this one', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 130 | 130 | <br style="clear:both;" /> |
  | 131 |  | <span><?php ~~\_e('Author BIO:', \_ABH\_PLUGIN\_NAME\_); ?></span> <textarea id="abh\_extra\_description" name="abh\_extra\_description"  ><?php echo $view->author['abh\_extra\_description']~~; ?></textarea> |
  |  | 131 | <span><?php echo esc\_html\_\_('Author BIO:', \_ABH\_PLUGIN\_NAME\_); ?></span> <textarea id="abh\_extra\_description" name="abh\_extra\_description"  ><?php echo esc\_html($view->author['abh\_extra\_description']); ?></textarea> |
  | 132 | 132 | <br style="clear:both;" /> |
  | 133 |  | <span> </span><a href="javascript:void(0);" onclick="jQuery('#abh\_extra\_description').val('')" style="font-size:12px; font-weight: normal; margin-left: 15px;"><?php ~~\_e~~('Clear the custom description and show the default description', \_ABH\_PLUGIN\_NAME\_); ?></a> |
  |  | 133 | <span> </span><a href="javascript:void(0);" onclick="jQuery('#abh\_extra\_description').val('')" style="font-size:12px; font-weight: normal; margin-left: 15px;"><?php echo esc\_html\_\_('Clear the custom description and show the default description', \_ABH\_PLUGIN\_NAME\_); ?></a> |
  | 134 | 134 | </p> |
  | 135 | 135 | </div> |
  | 136 | 136 | </fieldset> |
  | 137 | 137 | <fieldset > |
  | 138 |  | <legend><?php ~~\_e~~('Social settings:', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  |  | 138 | <legend><?php echo esc\_html\_\_('Social settings:', \_ABH\_PLUGIN\_NAME\_); ?></legend> |
  | 139 | 139 |  |
  | 140 | 140 | <div id="abh\_option\_social" > |
  | 141 | 141 | <p class="abh\_social\_text" style="height:30px; line-height: 30px;"> |
  | 142 |  | <span><?php ~~\_e~~('Social text (12 chars):', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 143 |  | <span ><input name="abh\_socialtext" value="<?php echo ~~$view->author['abh\_socialtext']~~; ?>" size="30" maxlength="12" style="min-width: 100px; width: 100px;" /></span> |
  | 144 |  | <span style="font-size:12px; font-weight: normal; font-style: italic; margin-left: 5px;"><?php ~~\_e~~('eq. "Follow me"', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 142 | <span><?php echo esc\_html\_\_('Social text (12 chars):', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 143 | <span ><input name="abh\_socialtext" value="<?php echo esc\_attr($view->author['abh\_socialtext']); ?>" size="30" maxlength="12" style="min-width: 100px; width: 100px;" /></span> |
  |  | 144 | <span style="font-size:12px; font-weight: normal; font-style: italic; margin-left: 5px;"><?php echo esc\_html\_\_('eq. "Follow me"', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 145 | 145 | </p> |
  | 146 |  | <p><span class="abh\_social\_settings abh\_twitter"></span><span><?php ~~\_e('Twitter:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_twitter" value="<?php echo $view->author['abh\_twitter']~~; ?>" size="30" /></p> |
  | 147 |  | <p><span class="abh\_social\_settings abh\_facebook"></span><span><?php ~~\_e('Facebook:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_facebook" value="<?php echo $view->author['abh\_facebook']~~; ?>" size="30" /></p> |
  | 148 |  | <p style="font-size: 18px; color: red;"><?php echo sprintf(\_\_('Need more Socials Links and High Priority support? Visit %sStarbox PRO%s', \_ABH\_PLUGIN\_NAME\_), '<a href="http://starbox.squirrly.co/product/starbox-the-author-box-for-humans/" target="\_blank">', '</a>'); ?></p> |
  |  | 146 | <p><span class="abh\_social\_settings abh\_twitter"></span><span><?php echo esc\_html\_\_('Twitter:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_twitter" value="<?php echo esc\_attr($view->author['abh\_twitter']); ?>" size="30" /></p> |
  |  | 147 | <p><span class="abh\_social\_settings abh\_facebook"></span><span><?php echo esc\_html\_\_('Facebook:', \_ABH\_PLUGIN\_NAME\_); ?></span> <input type="text" name="abh\_facebook" value="<?php echo esc\_attr($view->author['abh\_facebook']); ?>" size="30" /></p> |
  |  | 148 | <p style="font-size: 18px; color: red;"><?php echo sprintf(esc\_html\_\_('Need more Socials Links and High Priority support? Visit %sStarbox PRO%s', \_ABH\_PLUGIN\_NAME\_), '<a href="http://starbox.squirrly.co/product/starbox-the-author-box-for-humans/" target="\_blank">', '</a>'); ?></p> |
  | 149 | 149 | <div class="abh\_option\_content"> |
  | 150 | 150 | <div class="abh\_switch"> |
  | 151 | 151 | <input id="abh\_nofollow\_social\_on" type="radio" class="abh\_switch-input" name="abh\_nofollow\_social"  value="1" <?php echo ((!$view->author['abh\_nofollow\_social'] == 0) ? "checked" : '') ?> /> |
  | 152 |  | <label for="abh\_nofollow\_social\_on" class="abh\_switch-label abh\_switch-label-off"><?php ~~\_e~~('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 152 | <label for="abh\_nofollow\_social\_on" class="abh\_switch-label abh\_switch-label-off"><?php echo esc\_html\_\_('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 153 | 153 | <input id="abh\_nofollow\_social\_off" type="radio" class="abh\_switch-input" name="abh\_nofollow\_social" value="0" <?php echo (($view->author['abh\_nofollow\_social'] == 0) ? "checked" : '') ?> /> |
  | 154 |  | <label for="abh\_nofollow\_social\_off" class="abh\_switch-label abh\_switch-label-on"><?php ~~\_e~~('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 154 | <label for="abh\_nofollow\_social\_off" class="abh\_switch-label abh\_switch-label-on"><?php echo esc\_html\_\_('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 155 | 155 | <span class="abh\_switch-selection"></span> |
  | 156 | 156 | </div> |
  | 157 |  | <span><?php ~~\_e~~('Add rel="nofollow" to Social links and user URL', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 157 | <span><?php echo esc\_html\_\_('Add rel="nofollow" to Social links and user URL', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 158 | 158 | </div> |
  | 159 | 159 | <div class="abh\_option\_content"> |
  | 160 | 160 | <div class="abh\_switch"> |
  | 161 | 161 | <input id="abh\_noopener\_social\_on" type="radio" class="abh\_switch-input" name="abh\_noopener\_social"  value="1" <?php echo ((!$view->author['abh\_noopener\_social'] == 0) ? "checked" : '') ?> /> |
  | 162 |  | <label for="abh\_noopener\_social\_on" class="abh\_switch-label abh\_switch-label-off"><?php ~~\_e~~('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 162 | <label for="abh\_noopener\_social\_on" class="abh\_switch-label abh\_switch-label-off"><?php echo esc\_html\_\_('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 163 | 163 | <input id="abh\_noopener\_social\_off" type="radio" class="abh\_switch-input" name="abh\_noopener\_social" value="0" <?php echo (($view->author['abh\_noopener\_social'] == 0) ? "checked" : '') ?> /> |
  | 164 |  | <label for="abh\_noopener\_social\_off" class="abh\_switch-label abh\_switch-label-on"><?php ~~\_e~~('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 164 | <label for="abh\_noopener\_social\_off" class="abh\_switch-label abh\_switch-label-on"><?php echo esc\_html\_\_('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 165 | 165 | <span class="abh\_switch-selection"></span> |
  | 166 | 166 | </div> |
  | 167 |  | <span><?php ~~\_e~~('Add rel="noopener" to Social links and user URL', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 167 | <span><?php echo esc\_html\_\_('Add rel="noopener" to Social links and user URL', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 168 | 168 | </div> |
  | 169 | 169 | <div class="abh\_option\_content"> |
  | 170 | 170 | <div class="abh\_switch"> |
  | 171 | 171 | <input id="abh\_noreferrer\_social\_on" type="radio" class="abh\_switch-input" name="abh\_noreferrer\_social"  value="1" <?php echo ((!$view->author['abh\_noreferrer\_social'] == 0) ? "checked" : '') ?> /> |
  | 172 |  | <label for="abh\_noreferrer\_social\_on" class="abh\_switch-label abh\_switch-label-off"><?php ~~\_e~~('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 172 | <label for="abh\_noreferrer\_social\_on" class="abh\_switch-label abh\_switch-label-off"><?php echo esc\_html\_\_('Yes', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 173 | 173 | <input id="abh\_noreferrer\_social\_off" type="radio" class="abh\_switch-input" name="abh\_noreferrer\_social" value="0" <?php echo (($view->author['abh\_noreferrer\_social'] == 0) ? "checked" : '') ?> /> |
  | 174 |  | <label for="abh\_noreferrer\_social\_off" class="abh\_switch-label abh\_switch-label-on"><?php ~~\_e~~('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  |  | 174 | <label for="abh\_noreferrer\_social\_off" class="abh\_switch-label abh\_switch-label-on"><?php echo esc\_html\_\_('No', \_ABH\_PLUGIN\_NAME\_); ?></label> |
  | 175 | 175 | <span class="abh\_switch-selection"></span> |
  | 176 | 176 | </div> |
  | 177 |  | <span><?php ~~\_e~~('Add rel="noreferrer" to Social links and user URL', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  |  | 177 | <span><?php echo esc\_html\_\_('Add rel="noreferrer" to Social links and user URL', \_ABH\_PLUGIN\_NAME\_); ?></span> |
  | 178 | 178 | </div> |
  | 179 | 179 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3029599)
* [Zip Archive](?format=zip&new=3029599)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

