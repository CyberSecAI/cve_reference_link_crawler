=== Content from www.openwall.com_0460c17d_20250108_123025.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2022/04/22/7) [[next>]](2) [[thread-next>]](../../../2022/05/09/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <a388a13c-2f49-a36d-668a-633583013717@apache.org>
Date: Tue, 26 Apr 2022 08:44:41 +0000
From: Jan Lehnardt <jan@...che.org>
To: oss-security@...ts.openwall.com
Subject: CVE-2022-24706: Apache CouchDB: Remote Code Execution
 Vulnerability in Packaging

Severity: critical

Description:

An attacker can access an improperly secured default installation without
authenticating and gain admin privileges.

1. CouchDB opens a random network port, bound to all available interfaces
   in anticipation of clustered operation and/or runtime introspection. A
   utility process called `epmd` advertises that random port to the network.
   `epmd` itself listens on a fixed port.
2. CouchDB packaging previously chose a default `cookie` value for single-node
   as well as clustered installations. That cookie authenticates any
   communication between Erlang nodes.

The CouchDB documentation[1] has always made recommendations for properly
securing an installation, but not all users follow the advice.

We recommend a firewall in front of all CouchDB installations. The full
CouchDB api is available on registered port `5984` and this is the only
port that needs to be exposed for a single-node install. Installations
that do not expose the separate distribution port to external access are
not vulnerable.

[1]: <https://docs.couchdb.org/en/stable/setup/cluster.html>

Mitigation:

CouchDB 3.2.2 and onwards will refuse to start with the former default
Erlang cookie value of `monster`. Installations that upgrade to this
versions are forced to choose a different value.

In addition, all binary packages have been updated to bind `epmd` as
well as the CouchDB distribution port to `127.0.0.1` and/or `::1`
respectively.

Credit:

The Apache CouchDB Team would like to thank Alex Vandiver <alexmv@...ip.com> for the report of this issue.

References:

<https://lists.apache.org/thread/w24wo0h8nlctfps65txvk0oc5hdcnv00>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_505147d2_20250108_123026.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](../../../2022/05/10/1) [[<thread-prev]](3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <347664F1-79BA-433D-BF04-1D015A074C84@apache.org>
Date: Mon, 9 May 2022 12:36:58 +0200
From: Jan Lehnardt <jan@...che.org>
To: Archange <archange@...ivis.me>
Cc: oss-security@...ts.openwall.com,
 Security CouchDB <security@...chdb.apache.org>
Subject: Re: CVE-2022-24706: Apache CouchDB: Remote Code
 Execution Vulnerability in Packaging

> On 9. May 2022, at 11:46, Archange <archange@...ivis.me> wrote:
>
> Le 09/05/2022 à 13:41, Jan Lehnardt a écrit :
>> Hi Bruno,
>>
>> first of all, thanks for maintaining CouchDB for Arch. Secondly, for any security related questions, please do not hesitate to contact security@...chdb.apache.org instead of any one of the team individually, as we can’t know if any of is available at all times (vacations and whatnot :)
>
> Sure, you should put this address in copy when posting to oss-security then, so you would be sure people reply to that one too. ;)

This is automated by ASF infrastructure, I sadly have no say over this. But maybe we can a footer with the address next time :)

>
>> As for your questions, see this PR to our packaging infrastructure for how we handle this on Debian and Centos/Rocky: <https://github.com/apache/couchdb-pkg/pull/92/files>
>
> Thanks, so you use a default env file to set the variable and allow people to easily change it in the case of a clustered setup. Will do so as well then!
>

Perfect, thanks!
Jan
—

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from medium.com_82a33062_20250108_123027.html ===
[Open in app](https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fb1e9173a4bcd&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderUser&source=---top_nav_layout_nav----------------------------------)

Sign up

[Sign in](/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40_sadshade%2Fcouchdb-erlang-and-cookies-rce-on-default-settings-b1e9173a4bcd&source=post_page---top_nav_layout_nav-----------------------global_nav-----------)

[Write](/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---top_nav_layout_nav-----------------------new_post_topnav-----------)

Sign up

[Sign in](/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40_sadshade%2Fcouchdb-erlang-and-cookies-rce-on-default-settings-b1e9173a4bcd&source=post_page---top_nav_layout_nav-----------------------global_nav-----------)

![](https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png)
# CouchDB, Erlang and cookies — RCE on default settings

[![Konstantin Burov](https://miro.medium.com/v2/resize:fill:88:88/2*acf68pemKtYyddOB-7nwdg.jpeg)](/%40_sadshade?source=post_page---byline--b1e9173a4bcd--------------------------------)

[Konstantin Burov](/%40_sadshade?source=post_page---byline--b1e9173a4bcd--------------------------------)

·

[Follow](/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc6ba332e183f&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40_sadshade%2Fcouchdb-erlang-and-cookies-rce-on-default-settings-b1e9173a4bcd&user=Konstantin+Burov&userId=c6ba332e183f&source=post_page-c6ba332e183f--byline--b1e9173a4bcd---------------------post_header-----------)

4 min read·Apr 18, 2022

--

Listen

Share

![]()

In this short write-up, I want to share how to get RCE on a system with CouchDB installed on most installations on a local network or external network that are not behind a firewall. For reference, in Shodan there were about one and a half thousand of them.

**TL;DR:** At the end of the article there are links and methods of operation.

## Intro

Apache CouchDB is an open-source document-oriented NoSQL database, implemented in [Erlang](https://en.wikipedia.org/wiki/Erlang_%28programming_language%29) ([Wiki](https://en.wikipedia.org/wiki/Apache_CouchDB)).

![]()

CouchDB instances in EPMD’s answer on shodan.io

I found out about the existence of CouchDB not so long ago, during the preparation of a security product of a South Korean company (spoiler — I found a lot of interesting things, preparing an article now). At first I thought that the developers did not know the software from which they assembled their “product” to protect other companies from cybersecurity threats, but it turned out that this is a common problem.

Like any program written in Erlang, CouchDB has built-in support for distributed computing (clustering). The cluster nodes communicate using the [Erlang/OTP Distribution Protocol](https://www.erlang.org/doc/apps/erts/erl_dist_protocol.html), which provides for the possibility of executing [OS](https://www.erlang.org/doc/man/os.html#cmd-1) commands request:

![]()

Of course, to connect you need to know the secret phrase — “cookie” in Erlang terminology. This phrase is stored either in the `.erlang.cookie` file or in `vm.args` in the directory with the program. In the case of CouchDB, this is the file `/opt/couchdb/etc/vm.args`

The CouchDB installer leaves the default cookie value even when installed in Standalone mode — *monster*.

![]()

It would seem that it’s okay, take it and change this “password” by default, but the problem is that the administrator may not be aware of this functionality. After all, the information that you need to change the cookie is only in the manual on the site in the section with cluster settings:

![]()

And this is not my speculation — from one and a half thousand hosts on shodan.io during a random check, I did not stumble upon CouchDB, whose administrator saw this warning. Moreover, the creators of the “security” product I wrote about above are also among them.

In other words, if you stumble upon a CouchDB host on your own or a customer’s network, it is likely to be vulnerable.

## Enumeration

In order to connect to an Erlang host, you need to know the node’s dynamic port. Erlang Port Mapper Daemon is responsible for its detection. You can ask daemon for information about the nodes in several ways.

By sending three bytes directly to the *tcp/4369* daemon port:

`echo -n -e “\x00\x01\x6e” | nc -vn <IP> 4369`

![]()

Or using the nmap scanner:

`nmap -sV -Pn -n -T4 -p 4369 --script epmd-info <IP>`

![]()
## Exploitation

To connect, you need access to the EPMD TCP port (*tcp/4369*) and to the port of the node itself, which is usually chosen at random.

There are several ways for your choice:

* Metasploit [module](https://www.rapid7.com/db/modules/exploit/multi/misc/erlang_cookie_rce/) “erlang\_cookie\_rce”;
* Several scripts available in [Google](https://www.google.com/search?q=erlang+cookie+rce);
* My python script at <https://github.com/sadshade/erlang-otp-rce>.

Based on the [1F98D](https://www.exploit-db.com/exploits/49418)’s script , I added an automatic request for information from EPMD:

![]()

By the way, using the standard Erlang `erl` emulator to connect to CouchDB will not work, since you need to specify the node name in the format `name@host.fqdn`, and it is `couchdb@127.0.0.1` by default. Probably the developers of CouchDB considered this a reliable way to protect.

# Remediation

You can just upgrade to 3.2.2 or fix it manualy. Fixing this problem is quite simple, you need to replace the default cookie with something else in the file `/opt/couchdb/etc/vm.args`

This one-liner, run as superuser, should do all the work:

```
COOKIE=$(tr -dc 'a-zA-Z0-9' < /dev/urandom | head -c32);\ sed -i "s/-setcookie\ monster/-setcookie\ ${COOKIE}/g"\ /opt/couchdb/etc/vm.args
```

Then you need to restart the CouchDB daemon.

# *Summary*

I hope this article will be useful and help someone improve the security of their systems, and someone to take another flag. The ChouchDB team took care of the current installations and released the fix 3.2.2 version. When updating, the installer will require a cookie to be changed.

![]()

Additional links for information on the topic:

* [Distributed Erlang System](https://www.erlang.org/doc/reference_manual/distributed.html)
* [Erlang Port Mapper Daemon Cookie RCE — Metasploit](https://www.infosecmatter.com/metasploit-module-library/?mm=exploit%2Fmulti%2Fmisc%2Ferlang_cookie_rce)
* [4369 — Pentesting Erlang Port Mapper Daemon (epmd)](https://book.hacktricks.xyz/pentesting/4369-pentesting-erlang-port-mapper-daemon-epmd)
* [Erlang distribution RCE and a cookie bruteforcer](https://insinuator.net/2017/10/erlang-distribution-rce-and-a-cookie-bruteforcer/)
* <https://www.exploit-db.com/exploits/50914>
* [CVE-2022–24706](https://nvd.nist.gov/vuln/detail/CVE-2022-24706)

*Originally published by me at* [*https://habr.com*](https://habr.com/ru/post/661195/) *on April 18, 2022.*

[Pentesting](/tag/pentesting?source=post_page-----b1e9173a4bcd--------------------------------)[Couchdb](/tag/couchdb?source=post_page-----b1e9173a4bcd--------------------------------)[Vulnerability](/tag/vulnerability?source=post_page-----b1e9173a4bcd--------------------------------)[Exploit](/tag/exploit?source=post_page-----b1e9173a4bcd--------------------------------)

--

--

[![Konstantin Burov](https://miro.medium.com/v2/resize:fill:96:96/2*acf68pemKtYyddOB-7nwdg.jpeg)](/%40_sadshade?source=post_page---post_author_info--b1e9173a4bcd--------------------------------)[![Konstantin Burov](https://miro.medium.com/v2/resize:fill:128:128/2*acf68pemKtYyddOB-7nwdg.jpeg)](/%40_sadshade?source=post_page---post_author_info--b1e9173a4bcd--------------------------------)Follow[## Written by Konstantin Burov](/%40_sadshade?source=post_page---post_author_info--b1e9173a4bcd--------------------------------)[22 Followers](/%40_sadshade/followers?source=post_page---post_author_info--b1e9173a4bcd--------------------------------)·[5 Following](/%40_sadshade/following?source=post_page---post_author_info--b1e9173a4bcd--------------------------------)

PenTester, Information Security Engineer, <https://linkedin.com/in/burovlkdn>

Follow
## No responses yet

[Help](https://help.medium.com/hc/en-us?source=post_page-----b1e9173a4bcd--------------------------------)[Status](https://medium.statuspage.io/?source=post_page-----b1e9173a4bcd--------------------------------)[About](/about?autoplay=1&source=post_page-----b1e9173a4bcd--------------------------------)[Careers](/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----b1e9173a4bcd--------------------------------)[Press](pressinquiries%40medium.com?source=post_page-----b1e9173a4bcd--------------------------------)[Blog](https://blog.medium.com/?source=post_page-----b1e9173a4bcd--------------------------------)[Privacy](https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----b1e9173a4bcd--------------------------------)[Terms](https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----b1e9173a4bcd--------------------------------)[Text to speech](https://speechify.com/medium?source=post_page-----b1e9173a4bcd--------------------------------)[Teams](/business?source=post_page-----b1e9173a4bcd--------------------------------)



=== Content from www.openwall.com_f72f68f9_20250108_123025.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2022/05/05/3) [[next>]](2) [[<thread-prev]](../../../2022/04/26/1) [[thread-next>]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <62df0f69-5768-80ea-9dbf-f3e1c6f1e69c@activis.me>
Date: Mon, 9 May 2022 12:54:56 +0400
From: Archange <archange@...ivis.me>
To: oss-security@...ts.openwall.com, Jan Lehnardt <jan@...che.org>
Subject: Re: CVE-2022-24706: Apache CouchDB: Remote Code
 Execution Vulnerability in Packaging

Hi,

Le 26/04/2022 à 12:44, Jan Lehnardt a écrit :
> […]
>
> In addition, all binary packages have been updated to bind `epmd` as
> well as the CouchDB distribution port to `127.0.0.1` and/or `::1`
> respectively.
>
> Credit:
>
> The Apache CouchDB Team would like to thank Alex Vandiver <alexmv@...ip.com> for the report of this issue.
>
> References:
>
> <https://lists.apache.org/thread/w24wo0h8nlctfps65txvk0oc5hdcnv00>

Regarding epmd, how is this achieved in the binary packages? Because on
Arch at least, setting `ERL_EPMD_ADDRESS=127.0.0.1` as stated in
<https://github.com/apache/couchdb/issues/999#issuecomment-345068280> is
still required. Should Arch make that a default in the systemd service
file? For now this has just been a recommandation for single node
security since 2017
(<https://wiki.archlinux.org/title/CouchDB#Single_node_setup_&_Security>),
but I can make it the default (the second part of the wiki advice being
now an upstream default, I think it would make some sense).

Regards,
Bruno/Archange (Arch maintainer for CouchDB)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from packetstormsecurity.com_a4a89c74_20250108_123024.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

 [About](/help/view/4) |
[Terms](/tos/) |
[Copyright](/help/view/7) |
[Privacy](/help/view/6) |
[BlueSky](https://bsky.app/profile/packetstorm.bsky.social) |
[X](https://x.com/packet_storm) |
[Mastodon](https://infosec.exchange/%40packet_storm/)



=== Content from lists.apache.org_3b887099_20250108_123027.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from www.openwall.com_c6a4c041_20250108_123025.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[<thread-prev]](1) [[thread-next>]](3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <063FB760-CBFF-4669-9BDD-49B9D1CD56DD@apache.org>
Date: Mon, 9 May 2022 11:41:13 +0200
From: Jan Lehnardt <jan@...che.org>
To: Archange <archange@...ivis.me>
Cc: oss-security@...ts.openwall.com,
 Security CouchDB <security@...chdb.apache.org>
Subject: Re: CVE-2022-24706: Apache CouchDB: Remote Code
 Execution Vulnerability in Packaging

Hi Bruno,

first of all, thanks for maintaining CouchDB for Arch. Secondly, for any security related questions, please do not hesitate to contact security@...chdb.apache.org instead of any one of the team individually, as we can’t know if any of is available at all times (vacations and whatnot :)

As for your questions, see this PR to our packaging infrastructure for how we handle this on Debian and Centos/Rocky: <https://github.com/apache/couchdb-pkg/pull/92/files>

Best
Jan
—

> On 9. May 2022, at 10:54, Archange <archange@...ivis.me> wrote:
>
> Hi,
>
> Le 26/04/2022 à 12:44, Jan Lehnardt a écrit :
>> […]
>>
>> In addition, all binary packages have been updated to bind `epmd` as
>> well as the CouchDB distribution port to `127.0.0.1` and/or `::1`
>> respectively.
>>
>> Credit:
>>
>> The Apache CouchDB Team would like to thank Alex Vandiver <alexmv@...ip.com> for the report of this issue.
>>
>> References:
>>
>> <https://lists.apache.org/thread/w24wo0h8nlctfps65txvk0oc5hdcnv00>
>
> Regarding epmd, how is this achieved in the binary packages? Because on Arch at least, setting `ERL_EPMD_ADDRESS=127.0.0.1` as stated in <https://github.com/apache/couchdb/issues/999#issuecomment-345068280> is still required. Should Arch make that a default in the systemd service file? For now this has just been a recommandation for single node security since 2017 (<https://wiki.archlinux.org/title/CouchDB#Single_node_setup_&_Security>), but I can make it the default (the second part of the wiki advice being now an upstream default, I think it would make some sense).
>
> Regards,
> Bruno/Archange (Arch maintainer for CouchDB)
>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from packetstormsecurity.com_a450a574_20250108_123025.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

 [About](/help/view/4) |
[Terms](/tos/) |
[Copyright](/help/view/7) |
[Privacy](/help/view/6) |
[BlueSky](https://bsky.app/profile/packetstorm.bsky.social) |
[X](https://x.com/packet_storm) |
[Mastodon](https://infosec.exchange/%40packet_storm/)



=== Content from www.openwall.com_beea3084_20250108_123026.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](2) [[thread-next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <76ef068a-c6d3-109d-6e70-84007151f487@activis.me>
Date: Mon, 9 May 2022 13:46:00 +0400
From: Archange <archange@...ivis.me>
To: Jan Lehnardt <jan@...che.org>
Cc: oss-security@...ts.openwall.com,
 Security CouchDB <security@...chdb.apache.org>
Subject: Re: CVE-2022-24706: Apache CouchDB: Remote Code
 Execution Vulnerability in Packaging

Le 09/05/2022 à 13:41, Jan Lehnardt a écrit :
> Hi Bruno,
>
> first of all, thanks for maintaining CouchDB for Arch. Secondly, for any security related questions, please do not hesitate to contact security@...chdb.apache.org instead of any one of the team individually, as we can’t know if any of is available at all times (vacations and whatnot :)

Sure, you should put this address in copy when posting to oss-security
then, so you would be sure people reply to that one too. ;)

> As for your questions, see this PR to our packaging infrastructure for how we handle this on Debian and Centos/Rocky: <https://github.com/apache/couchdb-pkg/pull/92/files>

Thanks, so you use a default env file to set the variable and allow
people to easily change it in the case of a clustered setup. Will do so
as well then!

Regards,
Bruno

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).


