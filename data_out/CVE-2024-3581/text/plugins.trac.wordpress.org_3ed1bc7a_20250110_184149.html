

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3070919%2540maxgalleria%252Ftrunk%26old%3D3059014%2540maxgalleria%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3059014/maxgalleria/trunk?old=3070919&old_path=%2Fmaxgalleria%2Ftrunk)

---

# Changes in [maxgalleria/trunk](/browser/maxgalleria/trunk?rev=3070919 "Show entry in browser") [[3059014:3070919]](/log/maxgalleria/trunk?rev=3070919&stop_rev=3059014 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[maxgalleria/trunk](/browser/maxgalleria/trunk?rev=3070919)
Files:

3 edited

* [maxgalleria-image-gallery.php](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=3070919 "Show entry in browser")
  (modified)
  ([3 diffs](#file0 "Show differences"))
* [maxgalleria.php](/browser/maxgalleria/trunk/maxgalleria.php?rev=3070919 "Show entry in browser")
  (modified)
  ([3 diffs](#file1 "Show differences"))
* [readme.txt](/browser/maxgalleria/trunk/readme.txt?rev=3070919 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [maxgalleria/trunk/maxgalleria-image-gallery.php](/changeset/3070919/maxgalleria/trunk/maxgalleria-image-gallery.php?old=2725313&old_path=maxgalleria%2Ftrunk%2Fmaxgalleria-image-gallery.php "Show the [3059014:3070919] differences restricted to maxgalleria/trunk/maxgalleria-image-gallery.php")

  | [r3059014](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=2725313#L94 "Show revision 3059014 of this file in browser") | [r3070919](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=3070919#L94 "Show revision 3070919 of this file in browser") |  |
  | --- | --- | --- |
  | 94 | 94 |  |
  | 95 | 95 | public function add\_media\_library\_images\_to\_gallery() { |
  | 96 |  |  |
  |  | 96 |  |
  |  | 97 | if (!current\_user\_can('upload\_files')) { |
  |  | 98 | exit(esc\_html\_\_('You do not have permission to upload files.', 'maxgalleria')); |
  |  | 99 | } |
  |  | 100 |  |
  | 97 | 101 | if ( !wp\_verify\_nonce( $\_POST['nonce'], MG\_META\_NONCE)) { |
  | 98 | 102 | exit(esc\_html\_\_('missing nonce!','maxgalleria')); |
  | […](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=2725313#L884) | […](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=3070919#L888) |  |
  | 884 | 888 |  |
  | 885 | 889 | /\*\* This action is documented in wp-includes/post.php \*/ |
  | 886 |  | do\_action( 'delete\_post', $post\_id ); |
  |  | 890 | //$post = get\_post($post\_id); |
  |  | 891 | //if(!is\_null($post) ) { |
  |  | 892 | //  do\_action( 'delete\_post', $post\_id, $post); |
  |  | 893 | //} |
  | 887 | 894 | $result = $wpdb->delete( $wpdb->posts, array( 'ID' => $post\_id ) ); |
  | 888 | 895 | if ( ! $result ) { |
  | […](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=2725313#L890) | […](/browser/maxgalleria/trunk/maxgalleria-image-gallery.php?rev=3070919#L897) |  |
  | 890 | 897 | } |
  | 891 | 898 | /\*\* This action is documented in wp-includes/post.php \*/ |
  | 892 |  | do\_action( 'deleted\_post', $post\_id ); |
  |  | 899 |  |
  |  | 900 | // check if the post still exists |
  |  | 901 | //$post = get\_post($post\_id); |
  |  | 902 | //if(!is\_null($post) ) { |
  |  | 903 | //  do\_action('deleted\_post', $post\_id, $post); |
  |  | 904 | //} |
  | 893 | 905 |  |
  | 894 | 906 | clean\_post\_cache( $post ); |
* ## [maxgalleria/trunk/maxgalleria.php](/changeset/3070919/maxgalleria/trunk/maxgalleria.php?old=3059014&old_path=maxgalleria%2Ftrunk%2Fmaxgalleria.php "Show the [3059014:3070919] differences restricted to maxgalleria/trunk/maxgalleria.php")

  | [r3059014](/browser/maxgalleria/trunk/maxgalleria.php?rev=3059014#L4 "Show revision 3059014 of this file in browser") | [r3070919](/browser/maxgalleria/trunk/maxgalleria.php?rev=3070919#L4 "Show revision 3070919 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: http://maxgalleria.com |
  | 5 | 5 | Description: The gallery platform for WordPress. |
  | 6 |  | Version: 6.4.~~2~~ |
  |  | 6 | Version: 6.4.3 |
  | 7 | 7 | Author: Max Foundry |
  | 8 | 8 | Author URI: http://maxfoundry.com |
  | […](/browser/maxgalleria/trunk/maxgalleria.php?rev=3059014#L603) | […](/browser/maxgalleria/trunk/maxgalleria.php?rev=3070919#L603) |  |
  | 603 | 603 | public function set\_global\_constants() { |
  | 604 | 604 | define('MAXGALLERIA\_VERSION\_KEY', 'maxgalleria\_version'); |
  | 605 |  | define('MAXGALLERIA\_VERSION\_NUM', '6.4.~~2~~'); |
  |  | 605 | define('MAXGALLERIA\_VERSION\_NUM', '6.4.3'); |
  | 606 | 606 | define('MAXGALLERIA\_PLUGIN\_NAME', trim(dirname(plugin\_basename(\_\_FILE\_\_)), '/')); |
  | 607 | 607 | define('MAXGALLERIA\_PLUGIN\_DIR', WP\_PLUGIN\_DIR . '/' . MAXGALLERIA\_PLUGIN\_NAME); |
  | […](/browser/maxgalleria/trunk/maxgalleria.php?rev=3059014#L1912) | […](/browser/maxgalleria/trunk/maxgalleria.php?rev=3070919#L1912) |  |
  | 1912 | 1912 | } |
  | 1913 | 1913 |  |
  | 1914 |  | ~~error\_log("remove\_double\_slash $protocol . $str");~~ |
  | 1915 |  |  |
  | 1916 | 1914 | return $protocol . $str; |
  | 1917 | 1915 | } |
* ## [maxgalleria/trunk/readme.txt](/changeset/3070919/maxgalleria/trunk/readme.txt?old=3059014&old_path=maxgalleria%2Ftrunk%2Freadme.txt "Show the [3059014:3070919] differences restricted to maxgalleria/trunk/readme.txt")

  | [r3059014](/browser/maxgalleria/trunk/readme.txt?rev=3059014#L3 "Show revision 3059014 of this file in browser") | [r3070919](/browser/maxgalleria/trunk/readme.txt?rev=3070919#L3 "Show revision 3070919 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Tags: gallery plugin, gallery plugin, best responsive gallery, slick slider |
  | 4 | 4 | Requires at least: 3.9 |
  | 5 |  | Tested up to: 6.5 |
  | 6 |  | Stable tag: 6.4.~~2~~ |
  |  | 5 | Tested up to: 6.5.2 |
  |  | 6 | Stable tag: 6.4.3 |
  | 7 | 7 | License: GPLv2 or later |
  | 8 | 8 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/maxgalleria/trunk/readme.txt?rev=3059014#L176) | […](/browser/maxgalleria/trunk/readme.txt?rev=3070919#L176) |  |
  | 176 | 176 |  |
  | 177 | 177 | == Changelog == |
  |  | 178 | = 6.4.3 = |
  |  | 179 | \* Added code to check permissions of users uploading gallery files |
  |  | 180 | \* Removed code conflicting with the font editor |
  |  | 181 |  |
  | 178 | 182 | = 6.4.2 = |
  | 179 | 183 | \* Added support for AVIF images |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3070919&old=3059014&new_path=%2Fmaxgalleria%2Ftrunk&old_path=%2Fmaxgalleria%2Ftrunk)
* [Zip Archive](?format=zip&new=3070919&old=3059014&new_path=%2Fmaxgalleria%2Ftrunk&old_path=%2Fmaxgalleria%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

