=== Content from api.slack.com_e5802e21_20250111_141044.html ===
[Docs](/docs)[Tutorials](/tutorials)[Developer Program](/developer-program)[Your apps](/apps)[Slack Platform](/docs)[Samples & templates](/samples)[Developer sandboxes](/docs/developer-sandbox)

---

[Workflow automations](/automation/)[Quickstart: Start a workflow](/automation/quickstart)Workflow apps[Samples & templates](/automation/samples)[Create or remove an app](/automation/create)[App manifest](/automation/manifest)Functions[Function types](/automation/functions/overview)[Slack functions](/automation/functions)[Connector functions](/automation/connectors)[Custom functions for workflow apps](/automation/functions/custom)[Custom steps for Bolt apps](/automation/functions/custom-bolt)[Custom function access](/automation/functions/access)[Using Slack API methods](/automation/apicalls)[External authentication](/automation/external-auth)[Workflows](/automation/workflows)Triggers[Starting workflows with triggers](/automation/triggers)[Link triggers](/automation/triggers/link)[Scheduled triggers](/automation/triggers/scheduled)[Event triggers](/automation/triggers/event)[Webhook triggers](/automation/triggers/webhook)[Trigger management](/automation/triggers/manage)Datastores[Create and interact with a datastore](/automation/datastores)[Add items to a datastore](/automation/datastores-add)[Retrieve items from a datastore](/automation/datastores-retrieve)[Delete items from a datastore](/automation/datastores-delete)Data types[Message metadata events](/automation/metadata-events)[Slack types](/automation/types)[Custom types](/automation/types/custom)[Team collaboration](/automation/collaborate)Interactivity[Interactivity overview](/automation/interactivity)[Creating a form](/automation/forms)[Creating an interactive message](/automation/interactive-messages)[Creating an interactive modal](/automation/interactive-modals)Testing and deploying apps[Local development](/automation/run)[Deploy to Slack](/automation/deploy)[Permissions control for Admins](/automation/admin)[Security](/automation/security)[Governing Slack Connect invites](/automation/governing-slack-connect-invites)Guided Tutorials[Announcement Bot](/tutorials/tracks/announcement-bot)[Request Time Off](/tutorials/tracks/building-approval-workflows)[Welcome Bot](/tutorials/tracks/create-bot-to-welcome-users)[GitHub Issue](/tutorials/tracks/create-github-issues-in-workflows)[Virtual Running Buddies](/tutorials/tracks/create-social-app)[Give Kudos](/tutorials/tracks/give-kudos)[Hello World](/tutorials/tracks/hello-world)[Create a custom step for Workflow Builder: Deno SDK](/tutorials/tracks/wfb-function)[Create a custom step for Workflow Builder: existing Bolt app](/tutorials/tracks/bolt-custom-function-existing)[Create a custom step for Workflow Builder: new Bolt app](/tutorials/tracks/bolt-custom-function)[Give us feedback](/automation/survey)Slack CLI[Install or uninstall the Slack CLI for Mac and Linux](/automation/cli/install-mac-linux)[Install or uninstall the Slack CLI for Windows](/automation/cli/install-windows)[Authorize the Slack CLI](/automation/cli/authorization)[Commands](/automation/cli/commands)[Command quick reference](/automation/cli/quick-reference)[Environment variables](/automation/environment-variables)[Logging](/automation/logging)CI/CD[CI/CD overview and setup](/automation/cli/CI-CD-setup)[Slack CLI Deployment using GitHub Actions](/automation/cli/CI-CD-tutorial)[Using Slack CLI on Enterprise Grid](/automation/cli/enterprise)[Error troubleshooting](/automation/cli/errors)Workflow Builder[Overview](/workflows)[Pre-built workflows](https://slack.com/slack-tips/workflow-builder-examples)[Custom steps dynamic options](/automation/runonslack/custom-steps-dynamic-options)Legacy steps from apps[Legacy steps from apps](/legacy/workflows/steps)[Legacy steps from apps FAQ](/legacy/workflows/steps/faq)[Workflow Powerups](https://github.com/slackapi/workflow-powerups)[Configuration views](/reference/workflows/configuration-view)[workflow\_step](/reference/workflows/workflow_step)[workflow\_step\_edit](/reference/workflows/workflow_step_edit)[workflow\_step\_execute](/events/workflow_step_execute)[workflow\_published](/events/workflow_published)[workflow\_unpublished](/events/workflow_unpublished)[workflow\_deleted](/events/workflow_deleted)[workflow\_step\_deleted](/events/workflow_step_deleted)

---

[Slack apps](/start/apps/)[Quickstart: Send a message](/quickstart)Authentication[Overview](/authentication)[Installing with OAuth](/authentication/oauth-v2)[Token rotation](/authentication/rotation)[Verifying requests](/authentication/verifying-requests-from-slack)[Security best practices](/authentication/best-practices)[Authorize with Postman](/authentication/postman)Sign in with Slack[Sign in with Slack setup](/authentication/sign-in-with-slack)[Sign in with Slack links](/authentication/sign-in-with-slack-links)[Sign in with Slack links using Auth0](/authentication/configuring-siwsl)Legacy app migration[Differences between classic apps and Slack apps](/authentication/quickstart)[Migration guide](/authentication/migration)Agents & Assistants[Usage guide](/docs/apps/ai)[Best practices](/docs/apps/ai-best-practices)Messaging[Send or schedule a message](/messaging/sending)[Retrieve a message](/messaging/retrieving)[Edit or delete a message](/messaging/modifying)Message composition[Add interactivity](/messaging/interactivity)[Working with files](/messaging/files)Working with metadata[Overview](/metadata/using)[Designing metadata schema](/reference/metadata)[Metadata events](/events?query=metadata)[Using incoming webhooks](/messaging/webhooks)[Unfurling links in messages](/reference/messaging/link-unfurling)[Upgrading to blocks](/messaging/attachments-to-blocks)Interactivity[Handling user interaction](/interactivity/handling)[Shortcuts](/interactivity/shortcuts)[Slash commands](/interactivity/slash-commands)App distribution[Distributing Slack apps](/distribution)[Hosting Slack apps](/distribution/hosting)[Onboarding users](/distribution/onboarding)Slack Marketplace[Overview](/slack-marketplace)[Slack Marketplace review guide](/slack-marketplace/review-guide)[Slack Marketplace guidelines](/slack-marketplace/guidelines)[Using Slack Marketplace](/slack-marketplace/using)[Slack Marketplace checklist](/reference/slack-apps/slack-marketplace-checklist)Apps for Admins[Overview](/admins)Workspace management[Managing users](/admins/workspaces)[Managing channels](/admins/channels)[Managing app approvals](/admins/approvals)[Managing workflow permissions and approvals](/admins/workflow-permissions)[Manging invite requests](/admins/inviting)Legal Holds API[Overview](/enterprise/legal-holds)[Reference](/enterprise/legal-holds/reference)Audit Logs API[Monitoring audit events](/admins/audit-logs)[Monitoring anomaly events](/admins/audit-logs-anomaly)[Endpoints and actions](/admins/audit-logs-call)SCIM API[Provisioning with SCIM](/admins/scim)[Provisioning with SCIM 2.0](/admins/scim2)Legacy[Overview](/legacy)Legacy authentication[Legacy: V1 OAuth 2.0](/legacy/oauth)[Legacy: OAuth Scopes](/legacy/oauth-scopes)[Legacy: Sign in with Slack](/legacy/sign-in-with-slack)Legacy messaging[Legacy: Messaging overview](/legacy/outmoded-messaging)[Legacy: interactive messages](/legacy/interactive-messages)[Legacy: Interactive field guide](/legacy/interactive-message-field-guide)[Legacy: Message buttons](/legacy/message-buttons)[Legacy: Message menus](/legacy/message-menus)[Legacy: Secondary attachments](/reference/messaging/attachments)[Legacy bots](/legacy/enabling-bot-users)[Legacy dialogs](/legacy/dialogs)Legacy custom integrations[Legacy custom integrations migration](/legacy/custom-integrations)[Legacy custom integrations bot users](/legacy/custom-integrations/bot-users)[Legacy custom integrations incoming webhooks](/legacy/custom-integrations/messaging/webhooks)[Legacy custom integrations outgoing webhooks](/legacy/custom-integrations/outgoing-webhooks)[Legacy custom integations slash commands](/legacy/custom-integrations/slash-commands)[Legacy custom integrations tokens](/legacy/custom-integrations/legacy-tokens)[Legacy Steps from Apps](/legacy/workflows/steps)[Legacy Steps from Apps FAQ](/legacy/workflows/steps/faq)[Legacy Steps from Apps migration guide](/legacy/workflows/steps/migration)[Legacy RTM API](/legacy/rtm)

---

[Platform concepts](/concepts)APIs[Overview](/apis)Web API[Overview](/web)[Pagination](/apis/pagination)[Rate limits](/apis/rate-limits)[Conversations API](/apis/conversations-api)[Calls API](/apis/calls)[Presence & status](/apis/presence-and-status)Events API[Events API](/apis/events-api)[HTTP vs Socket Mode](/apis/event-delivery)[HTTP Request URLs](/apis/http)[Socket Mode](/apis/socket-mode)Slack Connect[Understanding Slack Connect](/apis/channels-between-orgs)[Slack Connect Spaces](/apis/slack-connect-spaces)[Using Slack Connect API methods](/apis/connect)[Slack Connect API reference](/apis/connect-reference)[Slack Status API](/apis/slack-status)[App design](/design)[App manifests](/concepts/manifests)Block Kit[Overview](/block-kit)[Building with Block Kit](/block-kit/building)[Designing with Block Kit](/block-kit/designing)[Block Kit Builder](/tools/block-kit-builder)Reference[Overview](/reference/block-kit)[Blocks](/reference/block-kit/blocks)[Block elements & interactive components](/reference/block-kit/block-elements)[Composition objects](/reference/block-kit/composition-objects)[Block actions payloads](/reference/interaction-payloads/block-actions?ref=bk)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion?ref=bk)[Formatting rich text](/tutorials/tracks/rich-text-tutorial)Bolt Frameworks[Overview](/bolt)[Bolt for Java ↗](https://tools.slack.dev/java-slack-sdk/guides/bolt-basics/)[Bolt for JavaScript ↗](https://tools.slack.dev/bolt-js)[Bolt for Python ↗](https://tools.slack.dev/bolt-python)Deno Slack SDK[Install Deno](/automation/deno/install)[Develop with Deno](/automation/deno/develop)[TypeScript overview](/automation/deno/typescript)Enterprise Grid[Overview](/enterprise)[Single-workspace apps](/enterprise/developing)[Organization-ready apps](/enterprise/org-ready-apps)[Migrating to organization-ready apps](/enterprise/migration)[Testing Enterprise Grid apps](/enterprise/testing)[Invocation & interactivity](/interactivity)[Run on Slack Infrastructure](/concepts/rosi)Surfaces[Overview](/surfaces)[Messages](/surfaces/messages)[Modals](/surfaces/modals)[App Home](/surfaces/app-home)[Canvases](/surfaces/canvases)More[Formatting text for surfaces](/reference/surfaces/formatting)[Defining views](/reference/surfaces/views)[Upgrading dialogs to modals](/block-kit/dialogs-to-modals)[Deep linking into Slack](/reference/deep-linking)[Tokens](/concepts/token-types)[Workflow steps](/concepts/workflow-steps)

---

Reference[Events](/events)[Methods](/methods)Object types[Channel object](/types/channel)[Conversation object](/types/conversation)[Event object](/types/event)[File object](/types/file)[Group object](/types/group)[IM object](/types/im)[MPIM object](/types/mpim)[User object](/types/user)[Usergroup object](/types/usergroup)[Scopes](/scopes)[Slack functions](/reference/functions)[Connector functions](/automation/connectors)[Slack app manifests](/reference/manifests)Interaction payloads[Overview](/reference/interaction-payloads)[Shortcuts payloads](/reference/interaction-payloads/shortcuts)[Block actions payloads](/reference/interaction-payloads/block-actions)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion)[View interaction payloads](/reference/interaction-payloads/views)

---

Translated content[🇯🇵 日本語版ページ](/lang/ja-jp)

---

[Gov Slack](/gov-slack)Stay updated[Developer changelog](/changelog)[Developer blog](https://slack.com/blog/developers)[@SlackAPI](https://twitter.com/slackapi)Resources[Get support](/support)[Partner with us](https://slack.com/partners)[Slack Fund](https://slack.com/developers/fund)[FAQ](/faq)[Developer beta](/developer-beta)[API Terms of Service](https://slack.com/terms-of-service/api)Community[Community Forums](https://trailhead.salesforce.com/trailblazercommunity)[Groups and events](/groups-and-events)[Slack Engineering](/engineering)[Community code of conduct](/community/code-of-conduct)[Slack Platform](/docs)[Samples & templates](/samples)[Developer sandboxes](/docs/developer-sandbox)

---

[Workflow automations](/automation/)[Quickstart: Start a workflow](/automation/quickstart)Workflow apps[Samples & templates](/automation/samples)[Create or remove an app](/automation/create)[App manifest](/automation/manifest)Functions[Function types](/automation/functions/overview)[Slack functions](/automation/functions)[Connector functions](/automation/connectors)[Custom functions for workflow apps](/automation/functions/custom)[Custom steps for Bolt apps](/automation/functions/custom-bolt)[Custom function access](/automation/functions/access)[Using Slack API methods](/automation/apicalls)[External authentication](/automation/external-auth)[Workflows](/automation/workflows)Triggers[Starting workflows with triggers](/automation/triggers)[Link triggers](/automation/triggers/link)[Scheduled triggers](/automation/triggers/scheduled)[Event triggers](/automation/triggers/event)[Webhook triggers](/automation/triggers/webhook)[Trigger management](/automation/triggers/manage)Datastores[Create and interact with a datastore](/automation/datastores)[Add items to a datastore](/automation/datastores-add)[Retrieve items from a datastore](/automation/datastores-retrieve)[Delete items from a datastore](/automation/datastores-delete)Data types[Message metadata events](/automation/metadata-events)[Slack types](/automation/types)[Custom types](/automation/types/custom)[Team collaboration](/automation/collaborate)Interactivity[Interactivity overview](/automation/interactivity)[Creating a form](/automation/forms)[Creating an interactive message](/automation/interactive-messages)[Creating an interactive modal](/automation/interactive-modals)Testing and deploying apps[Local development](/automation/run)[Deploy to Slack](/automation/deploy)[Permissions control for Admins](/automation/admin)[Security](/automation/security)[Governing Slack Connect invites](/automation/governing-slack-connect-invites)Guided Tutorials[Announcement Bot](/tutorials/tracks/announcement-bot)[Request Time Off](/tutorials/tracks/building-approval-workflows)[Welcome Bot](/tutorials/tracks/create-bot-to-welcome-users)[GitHub Issue](/tutorials/tracks/create-github-issues-in-workflows)[Virtual Running Buddies](/tutorials/tracks/create-social-app)[Give Kudos](/tutorials/tracks/give-kudos)[Hello World](/tutorials/tracks/hello-world)[Create a custom step for Workflow Builder: Deno SDK](/tutorials/tracks/wfb-function)[Create a custom step for Workflow Builder: existing Bolt app](/tutorials/tracks/bolt-custom-function-existing)[Create a custom step for Workflow Builder: new Bolt app](/tutorials/tracks/bolt-custom-function)[Give us feedback](/automation/survey)Slack CLI[Install or uninstall the Slack CLI for Mac and Linux](/automation/cli/install-mac-linux)[Install or uninstall the Slack CLI for Windows](/automation/cli/install-windows)[Authorize the Slack CLI](/automation/cli/authorization)[Commands](/automation/cli/commands)[Command quick reference](/automation/cli/quick-reference)[Environment variables](/automation/environment-variables)[Logging](/automation/logging)CI/CD[CI/CD overview and setup](/automation/cli/CI-CD-setup)[Slack CLI Deployment using GitHub Actions](/automation/cli/CI-CD-tutorial)[Using Slack CLI on Enterprise Grid](/automation/cli/enterprise)[Error troubleshooting](/automation/cli/errors)Workflow Builder[Overview](/workflows)[Pre-built workflows](https://slack.com/slack-tips/workflow-builder-examples)[Custom steps dynamic options](/automation/runonslack/custom-steps-dynamic-options)Legacy steps from apps[Legacy steps from apps](/legacy/workflows/steps)[Legacy steps from apps FAQ](/legacy/workflows/steps/faq)[Workflow Powerups](https://github.com/slackapi/workflow-powerups)[Configuration views](/reference/workflows/configuration-view)[workflow\_step](/reference/workflows/workflow_step)[workflow\_step\_edit](/reference/workflows/workflow_step_edit)[workflow\_step\_execute](/events/workflow_step_execute)[workflow\_published](/events/workflow_published)[workflow\_unpublished](/events/workflow_unpublished)[workflow\_deleted](/events/workflow_deleted)[workflow\_step\_deleted](/events/workflow_step_deleted)

---

[Slack apps](/start/apps/)[Quickstart: Send a message](/quickstart)Authentication[Overview](/authentication)[Installing with OAuth](/authentication/oauth-v2)[Token rotation](/authentication/rotation)[Verifying requests](/authentication/verifying-requests-from-slack)[Security best practices](/authentication/best-practices)[Authorize with Postman](/authentication/postman)Sign in with Slack[Sign in with Slack setup](/authentication/sign-in-with-slack)[Sign in with Slack links](/authentication/sign-in-with-slack-links)[Sign in with Slack links using Auth0](/authentication/configuring-siwsl)Legacy app migration[Differences between classic apps and Slack apps](/authentication/quickstart)[Migration guide](/authentication/migration)Agents & Assistants[Usage guide](/docs/apps/ai)[Best practices](/docs/apps/ai-best-practices)Messaging[Send or schedule a message](/messaging/sending)[Retrieve a message](/messaging/retrieving)[Edit or delete a message](/messaging/modifying)Message composition[Add interactivity](/messaging/interactivity)[Working with files](/messaging/files)Working with metadata[Overview](/metadata/using)[Designing metadata schema](/reference/metadata)[Metadata events](/events?query=metadata)[Using incoming webhooks](/messaging/webhooks)[Unfurling links in messages](/reference/messaging/link-unfurling)[Upgrading to blocks](/messaging/attachments-to-blocks)Interactivity[Handling user interaction](/interactivity/handling)[Shortcuts](/interactivity/shortcuts)[Slash commands](/interactivity/slash-commands)App distribution[Distributing Slack apps](/distribution)[Hosting Slack apps](/distribution/hosting)[Onboarding users](/distribution/onboarding)Slack Marketplace[Overview](/slack-marketplace)[Slack Marketplace review guide](/slack-marketplace/review-guide)[Slack Marketplace guidelines](/slack-marketplace/guidelines)[Using Slack Marketplace](/slack-marketplace/using)[Slack Marketplace checklist](/reference/slack-apps/slack-marketplace-checklist)Apps for Admins[Overview](/admins)Workspace management[Managing users](/admins/workspaces)[Managing channels](/admins/channels)[Managing app approvals](/admins/approvals)[Managing workflow permissions and approvals](/admins/workflow-permissions)[Manging invite requests](/admins/inviting)Legal Holds API[Overview](/enterprise/legal-holds)[Reference](/enterprise/legal-holds/reference)Audit Logs API[Monitoring audit events](/admins/audit-logs)[Monitoring anomaly events](/admins/audit-logs-anomaly)[Endpoints and actions](/admins/audit-logs-call)SCIM API[Provisioning with SCIM](/admins/scim)[Provisioning with SCIM 2.0](/admins/scim2)Legacy[Overview](/legacy)Legacy authentication[Legacy: V1 OAuth 2.0](/legacy/oauth)[Legacy: OAuth Scopes](/legacy/oauth-scopes)[Legacy: Sign in with Slack](/legacy/sign-in-with-slack)Legacy messaging[Legacy: Messaging overview](/legacy/outmoded-messaging)[Legacy: interactive messages](/legacy/interactive-messages)[Legacy: Interactive field guide](/legacy/interactive-message-field-guide)[Legacy: Message buttons](/legacy/message-buttons)[Legacy: Message menus](/legacy/message-menus)[Legacy: Secondary attachments](/reference/messaging/attachments)[Legacy bots](/legacy/enabling-bot-users)[Legacy dialogs](/legacy/dialogs)Legacy custom integrations[Legacy custom integrations migration](/legacy/custom-integrations)[Legacy custom integrations bot users](/legacy/custom-integrations/bot-users)[Legacy custom integrations incoming webhooks](/legacy/custom-integrations/messaging/webhooks)[Legacy custom integrations outgoing webhooks](/legacy/custom-integrations/outgoing-webhooks)[Legacy custom integations slash commands](/legacy/custom-integrations/slash-commands)[Legacy custom integrations tokens](/legacy/custom-integrations/legacy-tokens)[Legacy Steps from Apps](/legacy/workflows/steps)[Legacy Steps from Apps FAQ](/legacy/workflows/steps/faq)[Legacy Steps from Apps migration guide](/legacy/workflows/steps/migration)[Legacy RTM API](/legacy/rtm)

---

[Platform concepts](/concepts)APIs[Overview](/apis)Web API[Overview](/web)[Pagination](/apis/pagination)[Rate limits](/apis/rate-limits)[Conversations API](/apis/conversations-api)[Calls API](/apis/calls)[Presence & status](/apis/presence-and-status)Events API[Events API](/apis/events-api)[HTTP vs Socket Mode](/apis/event-delivery)[HTTP Request URLs](/apis/http)[Socket Mode](/apis/socket-mode)Slack Connect[Understanding Slack Connect](/apis/channels-between-orgs)[Slack Connect Spaces](/apis/slack-connect-spaces)[Using Slack Connect API methods](/apis/connect)[Slack Connect API reference](/apis/connect-reference)[Slack Status API](/apis/slack-status)[App design](/design)[App manifests](/concepts/manifests)Block Kit[Overview](/block-kit)[Building with Block Kit](/block-kit/building)[Designing with Block Kit](/block-kit/designing)[Block Kit Builder](/tools/block-kit-builder)Reference[Overview](/reference/block-kit)[Blocks](/reference/block-kit/blocks)[Block elements & interactive components](/reference/block-kit/block-elements)[Composition objects](/reference/block-kit/composition-objects)[Block actions payloads](/reference/interaction-payloads/block-actions?ref=bk)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion?ref=bk)[Formatting rich text](/tutorials/tracks/rich-text-tutorial)Bolt Frameworks[Overview](/bolt)[Bolt for Java ↗](https://tools.slack.dev/java-slack-sdk/guides/bolt-basics/)[Bolt for JavaScript ↗](https://tools.slack.dev/bolt-js)[Bolt for Python ↗](https://tools.slack.dev/bolt-python)Deno Slack SDK[Install Deno](/automation/deno/install)[Develop with Deno](/automation/deno/develop)[TypeScript overview](/automation/deno/typescript)Enterprise Grid[Overview](/enterprise)[Single-workspace apps](/enterprise/developing)[Organization-ready apps](/enterprise/org-ready-apps)[Migrating to organization-ready apps](/enterprise/migration)[Testing Enterprise Grid apps](/enterprise/testing)[Invocation & interactivity](/interactivity)[Run on Slack Infrastructure](/concepts/rosi)Surfaces[Overview](/surfaces)[Messages](/surfaces/messages)[Modals](/surfaces/modals)[App Home](/surfaces/app-home)[Canvases](/surfaces/canvases)More[Formatting text for surfaces](/reference/surfaces/formatting)[Defining views](/reference/surfaces/views)[Upgrading dialogs to modals](/block-kit/dialogs-to-modals)[Deep linking into Slack](/reference/deep-linking)[Tokens](/concepts/token-types)[Workflow steps](/concepts/workflow-steps)

---

Reference[Events](/events)[Methods](/methods)Object types[Channel object](/types/channel)[Conversation object](/types/conversation)[Event object](/types/event)[File object](/types/file)[Group object](/types/group)[IM object](/types/im)[MPIM object](/types/mpim)[User object](/types/user)[Usergroup object](/types/usergroup)[Scopes](/scopes)[Slack functions](/reference/functions)[Connector functions](/automation/connectors)[Slack app manifests](/reference/manifests)Interaction payloads[Overview](/reference/interaction-payloads)[Shortcuts payloads](/reference/interaction-payloads/shortcuts)[Block actions payloads](/reference/interaction-payloads/block-actions)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion)[View interaction payloads](/reference/interaction-payloads/views)

---

Translated content[🇯🇵 日本語版ページ](/lang/ja-jp)

---

[Gov Slack](/gov-slack)Stay updated[Developer changelog](/changelog)[Developer blog](https://slack.com/blog/developers)[@SlackAPI](https://twitter.com/slackapi)Resources[Get support](/support)[Partner with us](https://slack.com/partners)[Slack Fund](https://slack.com/developers/fund)[FAQ](/faq)[Developer beta](/developer-beta)[API Terms of Service](https://slack.com/terms-of-service/api)Community[Community Forums](https://trailhead.salesforce.com/trailblazercommunity)[Groups and events](/groups-and-events)[Slack Engineering](/engineering)[Community code of conduct](/community/code-of-conduct)
# Verifying requests from Slack

Slack signs its requests using a secret unique to your app.

With the help of signed secrets, your app can more confidently verify whether requests from Slack are authentic. The signing process is the cooler, younger sibling of verification tokens.

## Understanding HTTP requests from Slack

Slack uses HTTP requests to notify your app that something has happened. If you're subscribed to the [Events API](/events-api), your app might receive a request when a reacji has been added to a message. If you're the proud owner of a [slash command](/slash-commands), your app'll be notified when someone uses your command. You might even be notified that your app has been given new resources and permissions.

An HTTP request contains:

* a request line: GET /slackapi/interactive-message-action-response
* a series of headers, like Content-type: application/json; charset=utf-8
* a blank line
* a UTF-8 encoded message body, like userID=1234&someField=5678

When Slack sends your app a request, your app must check to make sure it's authentic. You do this by computing a signature.

## Understanding signed secrets

Slack creates a unique string for your app and shares it with you. Verify requests from Slack with confidence by verifying signatures using your signing secret.

On each HTTP request that Slack sends, Slack adds an `X-Slack-Signature` HTTP header (or `x-slack-signature` — **header names are meant to be case-insensitive, so the letter case should not be assumed**).

The signature is created by hashing the request body with the SHA-256 function, and combining it with an [HMAC](https://en.wikipedia.org/wiki/HMAC) signing secret. The resulting signature is unique to each request and doesn't contain any secret information, keeping your app secure.

Signing secrets replace the old [verification tokens](/events-api#url_verification). Good news: the new signature is used *exactly the same way* as the deprecated verification token. It's just computed more securely.

Some SDKs perform signature verification automatically, accessible via a drop-in replacement of your signing secret for your old verification token. See the [SDK support](#sdk_support) section for more detail.

Request signing follows this pattern:

* Your app receives a request from Slack.
* Your app computes a signature based on the request.
* You make sure the signature *you've* computed matches the signature *on the request*.

Let's go over the recipe for this signature dish.

## Validating a request

Ingredients required:

* 1 HTTP request from Slack
* 1 signing secret
* 1 programming language of your choice

**Note:** This pseudocode example walks through validating a request. Nearly all modern programming languages can perform equivalent calculations with HMAC SHA256. [Here's the library for Node, for example.](https://nodejs.org/api/crypto.html#crypto_crypto_createhmac_algorithm_key_options)

**1. Grab your Slack [Signing Secret](#signing_secrets_admin_page), available in the app admin panel under Basic Info.**

In this example, the **Signing Secret** is `8f742231b10e8888abcd99yyyzzz85a5`. (You don't need to convert the **Signing Secret** to binary. Treat it as a standard UTF-8 string.) While you're at it, extract the raw request body from the request.

```
slack_signing_secret = 'MY_SLACK_SIGNING_SECRET' // Set this as an environment variable
>>> 8f742231b10e8888abcd99yyyzzz85a5
request_body = request.body()
>>> token=xyzz0WbapA4vBCDEFasx0q6G&team_id=T1DC2JH3J&team_domain=testteamnow&channel_id=G8PSS9T3V&channel_name=foobar&user_id=U2CERLKJA&user_name=roadrunner&command=%2Fwebhook-collect&text=&response_url=https%3A%2F%2Fhooks.slack.com%2Fcommands%2FT1DC2JH3J%2F397700885554%2F96rGlfmibIGlgcZRskXaIFfN&trigger_id=398738663015.47445629121.803a0bc887a14d10d2c447fce8b6703c

```

**Use the raw request body, without headers, before it has been deserialized from JSON or other forms.**

For example, in Python's Flask, use `request.get_data()` before accessing any other methods on the request in order to get the raw request payload, without performing JSON deserialization.

**2. Extract the timestamp header from the request.**

In our example the timestamp header is `1531420618`.

The signature depends on the timestamp to protect against replay attacks. While you're extracting the timestamp, check to make sure that the request occurred recently. In this example, we verify that the timestamp does not differ from local time by more than five minutes.

```
timestamp = request.headers['X-Slack-Request-Timestamp']
>>> 1531420618
if absolute_value(time.time() - timestamp) > 60 * 5:
    # The request timestamp is more than five minutes from local time.
    # It could be a replay attack, so let's ignore it.
    return

```

**3. Concatenate the version number, the timestamp, and the request body together, using a colon (`:`) as a delimiter.**

In this example, we have the following values:

* version number: `v0`
* timestamp: `1531420618`
* request body: `token=xyzz...`

The resulting example basestring is (`'v0:1531420618:token=xyzz...`).

```
sig_basestring = 'v0:' + timestamp + ':' + request_body
>>> 'v0:1531420618:token=xyzz0WbapA4vBCDEFasx0q6G&team_id=T1DC2JH3J&team_domain=testteamnow&channel_id=G8PSS9T3V&channel_name=foobar&user_id=U2CERLKJA&user_name=roadrunner&command=%2Fwebhook-collect&text=&response_url=https%3A%2F%2Fhooks.slack.com%2Fcommands%2FT1DC2JH3J%2F397700885554%2F96rGlfmibIGlgcZRskXaIFfN&trigger_id=398738663015.47445629121.803a0bc887a14d10d2c447fce8b6703c'

```

**4. Hash the resulting string, using the signing secret as a key, and taking the hex digest of the hash.**

In this example, we compute a hex digest of `a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503`.

The full signature is formed by prefixing the hex digest with `v0=`, to make `'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'`.

```
my_signature = 'v0=' + hmac.compute_hash_sha256(
slack_signing_secret,
sig_basestring
).hexdigest()
>>> 'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'

```

**5. Compare the resulting signature to the header on the request.**

For best practice, use an hmac `compare` function instead of directly comparing the signatures for equality.

```
slack_signature = request.headers['x-slack-signature']
>>> 'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'
if hmac.compare(my_signature, slack_signature):
    # hooray, the request came from Slack!
    deal_with_request(request)

```
## App management updates

For a while, you'll see two secrets side-by-side in the app management panel:

![Admin page with signing secret and verification token](https://a.slack-edge.com/80588/img/api/signing_secrets_admin_page.png)

One secret is the new **Signing Secret**, and one is the deprecated verification token. **We strongly recommend you *only* use the Signing Secret from now on.**

## Regenerating secrets

Regenerate your secret using the "Regenerate" button next to the **Signing Secret** in the [admin panel](/apps).

## SDK support

These Slack SDKs, among others, currently support signing secrets:

* [Built-in support in Bolt for JavaScript](https://github.com/slackapi/bolt-js/blob/main/src/receivers/verify-request.ts)
* [Built-in support in Bolt for Python](https://github.com/slackapi/bolt-python/tree/main/slack_bolt/middleware/request_verification)
* [Built-in support in Bolt for Java](https://github.com/slackapi/java-slack-sdk/blob/main/bolt/src/main/java/com/slack/api/bolt/middleware/builtin/RequestVerification.java)

In each package, using a signed secret is no different than using the old verification token. Set your **Signing Secret** as an environment variable: `export SLACK_SIGNING_SECRET=abc123`. Then, initialize the package with the secret.

For example, a Node app that uses interactive messages would create a message listener using the following single line of code:

```
// Create the adapter using the app's signing secret, read from env
const interactions = createMessageAdapter(process.env.SLACK_SIGNING_SECRET);

```

A Node app that uses the Events API would initialize a listener for events using the following code:

```
const slackEvents = createSlackEventAdapter(process.env.SLACK_SIGNING_SECRET);

```

A Python app that uses the Events API would initialize a listener for events using the following code:

```
SLACK_SIGNING_SECRET = os.environ["SLACK_SIGNING_SECRET"]
slack_events = SlackEventAdapter(SLACK_SIGNING_SECRET, "/slack/events")

```

You can also examine the open-source [BotKit](https://github.com/howdyai/botkit/blob/main/packages/botbuilder-adapter-slack/src/slack_adapter.ts) to see an implementation of Slack signature verification in the wild.

## Verification token deprecation

We'll continue allowing apps to use verification tokens for now. However, we will retire them completely in the future. We strongly recommend switching to request signing as soon as possible.

## Types of requests that support signed secrets

* [Slash commands](/slash-commands)
* [Events API](/events-api)
* [Interactive messages](/interactive-messages)
* [Actions](/actions)
* [Message buttons](/docs/message-buttons)
* [Message menus](/docs/message-menus)
* [Legacy outgoing webhooks](/custom-integrations/outgoing-webhooks)

## Using mutual TLS

Requests from Slack also support authentication through [**Mutual TLS**](https://en.wikipedia.org/wiki/Mutual_authentication).

Mutual TLS has the same goal as request signing: it allows your app to verify that an outgoing HTTP request is authentic. Mutual TLS *differs* from request signing in where and how it occurs. Instead of verifying request signatures in your application code, you configure your TLS-terminating server to authenticate client certificates from Slack.

Here's the Mutual TLS process in more detail:

**1. Configure your TLS-terminating server to request client certificates.**

Your TLS-terminating server should be configured to accept client certificates under *any* [DigiCert root CA certificate](https://www.digicert.com/kb/digicert-root-certificates.htm#roots).

Slack's client certificate may not be signed directly by a root CA certificate, but requests from Slack will include any intermediate CA certificates necessary for verification.

**2. Extract either of the following fields in the certificate:**

* `Subject Alternative Name`: `DNS:platform-tls-client.slack.com`. By [RFC 6125](https://tools.ietf.org/html/rfc6125), this is the recommended field to extract.
* `Subject Common Name`: `platform-tls-client.slack.com`.

**3. Inject the extracted domain into a header, and forward the request to your application server.**

Here's an example header you might add to the request: `X-Client-Certificate-SAN: platform-tls-client.slack.com`. Whatever you choose to call your header, check to make sure this header hasn't *already* been added to the request. Your upstream application server **must know** that the header was added by your TLS-terminating server as part of the Mutual TLS process.

**4. In your application server, check the header and verify that its value matches the expected domain, `platform-tls-client.slack.com`.**

Do not accept header values with any other domain name, including other subdomains of slack.com.

Recommended reading

* [Installing with OAuth](/authentication/oauth-v2)
## On this page

[Understanding HTTP requests from Slack](#http-requests)[Understanding signed secrets](#about)[Validating a request](#validating-a-request)[App management updates](#app-management-updates)[Regenerating secrets](#regenerating)[SDK support](#SDK-support)[Verification token deprecation](#deprecation)[Types of requests that support signed secrets](#types_of_events)[Using mutual TLS](#mutual-tls)Next steps

* [Token types](/concepts/token-types)
[Status](https://slack-status.com)[Policy](/developer-policy)[Terms](https://slack.com/intl/en-gb/terms-of-service/api-updated)[Your Privacy Choices](https://www.salesforce.com/form/other/privacy-request/ "Your Privacy Choices")Cookie Preferences

Subscribe to our [developer changelog](/changelog)

Connect with our [platform community](https://slackcommunity.com/?utm_medium=referral&utm_source=apislack&utm_campaign=api_site_footer)

Need help? [Contact developer support](/support)



=== Content from github.com_258a1719_20250111_141052.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fblob%2F17d2b87e39ccd57e11da4deed62971ff306253d1%2Fsrc%2Fsentry%2Fconf%2Fserver.py)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fblob%2F17d2b87e39ccd57e11da4deed62971ff306253d1%2Fsrc%2Fsentry%2Fconf%2Fserver.py)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=getsentry%2Fsentry)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getsentry](/getsentry)
/
**[sentry](/getsentry/sentry)**
Public

* [Notifications](/login?return_to=%2Fgetsentry%2Fsentry) You must be signed in to change notification settings
* [Fork
  4.2k](/login?return_to=%2Fgetsentry%2Fsentry)
* [Star
   39.6k](/login?return_to=%2Fgetsentry%2Fsentry)

* [Code](/getsentry/sentry)
* [Issues
  2k](/getsentry/sentry/issues)
* [Pull requests
  206](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects
  0](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

Additional navigation options

* [Code](/getsentry/sentry)
* [Issues](/getsentry/sentry/issues)
* [Pull requests](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

## Files

 17d2b87
## Breadcrumbs

1. [sentry](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1)
2. /[src](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1/src)
3. /[sentry](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry)
4. /[conf](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf)
/
# server.py

Copy path Blame  Blame
## Latest commit

## History

[History](/getsentry/sentry/commits/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py)4013 lines (3613 loc) · 159 KB 17d2b87
## Breadcrumbs

1. [sentry](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1)
2. /[src](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1/src)
3. /[sentry](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry)
4. /[conf](/getsentry/sentry/tree/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf)
/
# server.py

Top
## File metadata and controls

* Code
* Blame

4013 lines (3613 loc) · 159 KB[Raw](https://github.com/getsentry/sentry/raw/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000"""These settings act as the default (base) settings for the Sentry-provided web-server"""
from \_\_future\_\_ import annotations
import osimport os.pathimport platformimport reimport socketimport sysimport tempfilefrom collections.abc import Callable, Mapping, MutableSequencefrom datetime import datetime, timedeltafrom typing import Any, Final, Union, overloadfrom urllib.parse import urlparse
import sentryfrom sentry.conf.api\_pagination\_allowlist\_do\_not\_modify import ( SENTRY\_API\_PAGINATION\_ALLOWLIST\_DO\_NOT\_MODIFY,)from sentry.conf.types.kafka\_definition import ConsumerDefinitionfrom sentry.conf.types.logging\_config import LoggingConfigfrom sentry.conf.types.role\_dict import RoleDictfrom sentry.conf.types.sdk\_config import ServerSdkConfigfrom sentry.utils import json # NOQA (used in getsentry config)from sentry.utils.celery import crontab\_with\_minute\_jitterfrom sentry.utils.types import Type, type\_from\_value
def gettext\_noop(s: str) -> str: return s
socket.setdefaulttimeout(5)
\_EnvTypes = Union[str, float, int, list, dict]
@overloaddef env(key: str) -> str: ...
@overloaddef env(key: str, default: \_EnvTypes, type: Type | None = None) -> \_EnvTypes: ...
def env( key: str, default: str | \_EnvTypes = "", type: Type | None = None,) -> \_EnvTypes: """ Extract an environment variable for use in configuration
 :param key: The environment variable to be extracted. :param default: The value to be returned if `key` is not found. :param type: The type of the returned object (defaults to the type of `default`). Type parsers must come from sentry.utils.types and not python stdlib. :return: The environment variable if it exists, else `default`. """
 # First check an internal cache, so we can `pop` multiple times # without actually losing the value. try: rv = \_env\_cache[key] except KeyError: if "SENTRY\_RUNNING\_UWSGI" in os.environ: # We do this so when the process forks off into uwsgi # we want to actually be popping off values. This is so that # at runtime, the variables aren't actually available. fn: Callable[[str], str] = os.environ.pop else: fn = os.environ.\_\_getitem\_\_
 try: rv = fn(key) \_env\_cache[key] = rv except KeyError: rv = default
 if type is None: type = type\_from\_value(default)
 return type(rv)
\_env\_cache: dict[str, object] = {}
ENVIRONMENT = os.environ.get("SENTRY\_ENVIRONMENT", "production")
NO\_SPOTLIGHT = os.environ.get("NO\_SPOTLIGHT", False)
IS\_DEV = ENVIRONMENT == "development"
DEBUG = IS\_DEV# override the settings dumped in the debug viewDEFAULT\_EXCEPTION\_REPORTER\_FILTER = ( "sentry.debug.utils.exception\_reporter\_filter.NoSettingsExceptionReporterFilter")
ENFORCE\_PAGINATION = True if DEBUG else False
ADMINS = ()
# Hosts that are considered in the same network (including VPNs).INTERNAL\_IPS = ()
# List of IP subnets which should not be accessibleSENTRY\_DISALLOWED\_IPS = ()
# When resolving DNS for external sources (source map fetching, webhooks, etc),# ensure that domains are fully resolved first to avoid poking internal# search domains.SENTRY\_ENSURE\_FQDN = False
# XXX [!!]: When adding a new key here BE SURE to configure it in getsentry, as# it can not be `default`. The default cluster in sentry.io# production is NOT a true redis cluster and WILL error in prod.SENTRY\_DYNAMIC\_SAMPLING\_RULES\_REDIS\_CLUSTER = "default"SENTRY\_INCIDENT\_RULES\_REDIS\_CLUSTER = "default"SENTRY\_RATE\_LIMIT\_REDIS\_CLUSTER = "default"SENTRY\_RULE\_TASK\_REDIS\_CLUSTER = "default"SENTRY\_TRANSACTION\_NAMES\_REDIS\_CLUSTER = "default"SENTRY\_WEBHOOK\_LOG\_REDIS\_CLUSTER = "default"SENTRY\_ARTIFACT\_BUNDLES\_INDEXING\_REDIS\_CLUSTER = "default"SENTRY\_INTEGRATION\_ERROR\_LOG\_REDIS\_CLUSTER = "default"SENTRY\_DEBUG\_FILES\_REDIS\_CLUSTER = "default"SENTRY\_MONITORS\_REDIS\_CLUSTER = "default"SENTRY\_STATISTICAL\_DETECTORS\_REDIS\_CLUSTER = "default"SENTRY\_METRIC\_META\_REDIS\_CLUSTER = "default"SENTRY\_ESCALATION\_THRESHOLDS\_REDIS\_CLUSTER = "default"SENTRY\_SPAN\_BUFFER\_CLUSTER = "default"SENTRY\_ASSEMBLE\_CLUSTER = "default"
# Hosts that are allowed to use system token authentication.# http://en.wikipedia.org/wiki/Reserved\_IP\_addressesINTERNAL\_SYSTEM\_IPS = ( "0.0.0.0/8", "10.0.0.0/8", "100.64.0.0/10", "127.0.0.0/8", "169.254.0.0/16", "172.16.0.0/12", "192.0.0.0/29", "192.0.2.0/24", "192.88.99.0/24", "192.168.0.0/16", "198.18.0.0/15", "198.51.100.0/24", "224.0.0.0/4", "240.0.0.0/4", "255.255.255.255/32",)
MANAGERS = ADMINS
APPEND\_SLASH = True
PROJECT\_ROOT = os.path.normpath(os.path.join(os.path.dirname(\_\_file\_\_), os.pardir))
CONF\_DIR = os.path.abspath(os.path.dirname(\_\_file\_\_))
# XXX(dcramer): handle case when we've installed from source vs just running# this straight out of the repositoryif "site-packages" in \_\_file\_\_: NODE\_MODULES\_ROOT = os.path.join(PROJECT\_ROOT, "node\_modules")else: NODE\_MODULES\_ROOT = os.path.join(PROJECT\_ROOT, os.pardir, os.pardir, "node\_modules")
NODE\_MODULES\_ROOT = os.path.normpath(NODE\_MODULES\_ROOT)
DEVSERVICES\_CONFIG\_DIR = os.path.normpath( os.path.join(PROJECT\_ROOT, os.pardir, os.pardir, "config"))
SENTRY\_DISTRIBUTED\_CLICKHOUSE\_TABLES = False
RELAY\_CONFIG\_DIR = os.path.join(DEVSERVICES\_CONFIG\_DIR, "relay")
SYMBOLICATOR\_CONFIG\_DIR = os.path.join(DEVSERVICES\_CONFIG\_DIR, "symbolicator")
# XXX(epurkhiser): The generated chartucterie config.js file will be stored# here. This directory may not exist until that file is generated.CHARTCUTERIE\_CONFIG\_DIR = os.path.join(DEVSERVICES\_CONFIG\_DIR, "chartcuterie")
sys.path.insert(0, os.path.normpath(os.path.join(PROJECT\_ROOT, os.pardir)))
DATABASES = { "default": { "ENGINE": "sentry.db.postgres", "NAME": "sentry", "USER": "postgres", "PASSWORD": "", "HOST": "127.0.0.1", "PORT": "", "AUTOCOMMIT": True, "ATOMIC\_REQUESTS": False, }}
if "DATABASE\_URL" in os.environ: url = urlparse(os.environ["DATABASE\_URL"])
 # Update with environment configuration. DATABASES["default"].update( { "NAME": url.path[1:], "USER": url.username, "PASSWORD": url.password, "HOST": url.hostname, "PORT": url.port, } )
# This should always be UTC.TIME\_ZONE = "UTC"
# Language code for this installation. All choices can be found here:# http://www.i18nguy.com/unicode/language-identifiers.htmlLANGUAGE\_CODE = "en-us"
LANGUAGES: tuple[tuple[str, str], ...] = ( ("af", gettext\_noop("Afrikaans")), ("ar", gettext\_noop("Arabic")), ("az", gettext\_noop("Azerbaijani")), ("bg", gettext\_noop("Bulgarian")), ("be", gettext\_noop("Belarusian")), ("bn", gettext\_noop("Bengali")), ("br", gettext\_noop("Breton")), ("bs", gettext\_noop("Bosnian")), ("ca", gettext\_noop("Catalan")), ("cs", gettext\_noop("Czech")), ("cy", gettext\_noop("Welsh")), ("da", gettext\_noop("Danish")), ("de", gettext\_noop("German")), ("el", gettext\_noop("Greek")), ("en", gettext\_noop("English")), ("eo", gettext\_noop("Esperanto")), ("es", gettext\_noop("Spanish")), ("et", gettext\_noop("Estonian")), ("eu", gettext\_noop("Basque")), ("fa", gettext\_noop("Persian")), ("fi", gettext\_noop("Finnish")), ("fr", gettext\_noop("French")), ("ga", gettext\_noop("Irish")), ("gl", gettext\_noop("Galician")), ("he", gettext\_noop("Hebrew")), ("hi", gettext\_noop("Hindi")), ("hr", gettext\_noop("Croatian")), ("hu", gettext\_noop("Hungarian")), ("ia", gettext\_noop("Interlingua")), ("id", gettext\_noop("Indonesian")), ("is", gettext\_noop("Icelandic")), ("it", gettext\_noop("Italian")), ("ja", gettext\_noop("Japanese")), ("ka", gettext\_noop("Georgian")), ("kk", gettext\_noop("Kazakh")), ("km", gettext\_noop("Khmer")), ("kn", gettext\_noop("Kannada")), ("ko", gettext\_noop("Korean")), ("lb", gettext\_noop("Luxembourgish")), ("lt", gettext\_noop("Lithuanian")), ("lv", gettext\_noop("Latvian")), ("mk", gettext\_noop("Macedonian")), ("ml", gettext\_noop("Malayalam")), ("mn", gettext\_noop("Mongolian")), ("my", gettext\_noop("Burmese")), ("nb", gettext\_noop("Norwegian Bokmal")), ("ne", gettext\_noop("Nepali")), ("nl", gettext\_noop("Dutch")), ("nn", gettext\_noop("Norwegian Nynorsk")), ("os", gettext\_noop("Ossetic")), ("pa", gettext\_noop("Punjabi")), ("pl", gettext\_noop("Polish")), ("pt", gettext\_noop("Portuguese")), ("pt-br", gettext\_noop("Brazilian Portuguese")), ("ro", gettext\_noop("Romanian")), ("ru", gettext\_noop("Russian")), ("sk", gettext\_noop("Slovak")), ("sl", gettext\_noop("Slovenian")), ("sq", gettext\_noop("Albanian")), ("sr", gettext\_noop("Serbian")), ("sv-se", gettext\_noop("Swedish")), ("sw", gettext\_noop("Swahili")), ("ta", gettext\_noop("Tamil")), ("te", gettext\_noop("Telugu")), ("th", gettext\_noop("Thai")), ("tr", gettext\_noop("Turkish")), ("tt", gettext\_noop("Tatar")), ("udm", gettext\_noop("Udmurt")), ("uk", gettext\_noop("Ukrainian")), ("ur", gettext\_noop("Urdu")), ("vi", gettext\_noop("Vietnamese")), ("zh-cn", gettext\_noop("Simplified Chinese")), ("zh-tw", gettext\_noop("Traditional Chinese")),)
from .locale import CATALOGS
LANGUAGES = tuple((code, name) for code, name in LANGUAGES if code in CATALOGS)
SUPPORTED\_LANGUAGES = frozenset(CATALOGS)
SITE\_ID = 1
# If you set this to False, Django will make some optimizations so as not# to load the internationalization machinery.USE\_I18N = True
USE\_TZ = True
# CAVEAT: If you're adding a middleware that modifies a response's content,# and appears before CommonMiddleware, you must either reorder your middleware# so that responses aren't modified after Content-Length is set, or have the# response modifying middleware reset the Content-Length header.# This is because CommonMiddleware Sets the Content-Length header for non-streaming responses.MIDDLEWARE: tuple[str, ...] = ( "csp.middleware.CSPMiddleware", "sentry.middleware.health.HealthCheck", "sentry.middleware.security.SecurityHeadersMiddleware", "sentry.middleware.env.SentryEnvMiddleware", "sentry.middleware.proxy.SetRemoteAddrFromForwardedFor", "sentry.middleware.stats.RequestTimingMiddleware", "sentry.middleware.access\_log.access\_log\_middleware", "sentry.middleware.stats.ResponseCodeMiddleware", "sentry.middleware.subdomain.SubdomainMiddleware", "django.middleware.common.CommonMiddleware", "django.contrib.sessions.middleware.SessionMiddleware", "django.middleware.csrf.CsrfViewMiddleware", "sentry.middleware.auth.AuthenticationMiddleware", "sentry.middleware.integrations.IntegrationControlMiddleware", "sentry.middleware.api\_gateway.ApiGatewayMiddleware", "sentry.middleware.customer\_domain.CustomerDomainMiddleware", "sentry.middleware.sudo.SudoMiddleware", "sentry.middleware.superuser.SuperuserMiddleware", "sentry.middleware.staff.StaffMiddleware", "sentry.middleware.locale.SentryLocaleMiddleware", "sentry.middleware.ratelimit.RatelimitMiddleware", "django.contrib.messages.middleware.MessageMiddleware",)
ROOT\_URLCONF = "sentry.conf.urls"
# TODO(joshuarli): Django 1.10 introduced this option, which restricts the size of a# request body. We have some middleware in sentry.middleware.proxy that sets the# Content Length to max uint32 in certain cases related to minidump.# Once relay's fully rolled out, that can be deleted.# Until then, the safest and easiest thing to do is to disable this check# to leave things the way they were with Django <1.9.DATA\_UPLOAD\_MAX\_MEMORY\_SIZE = None
TEMPLATES = [ { "BACKEND": "django.template.backends.django.DjangoTemplates", "DIRS": [os.path.join(PROJECT\_ROOT, "templates")], "APP\_DIRS": True, "OPTIONS": { "context\_processors": [ "django.contrib.auth.context\_processors.auth", "django.contrib.messages.context\_processors.messages", "django.template.context\_processors.csrf", "django.template.context\_processors.request", ] }, }]
SENTRY\_OUTBOX\_MODELS: Mapping[str, list[str]] = { "CONTROL": ["sentry.ControlOutbox"], "REGION": ["sentry.RegionOutbox"],}
# Do not modify reordering# The applications listed first in INSTALLED\_APPS have precedenceINSTALLED\_APPS: tuple[str, ...] = ( "django.contrib.auth", "django.contrib.contenttypes", "django.contrib.messages", "django.contrib.sessions", "django.contrib.sites", "drf\_spectacular", "crispy\_forms", "rest\_framework", "sentry", "sentry.analytics", "sentry.incidents.apps.Config", "sentry.discover", "sentry.analytics.events", "sentry.nodestore", "sentry.monitors", "sentry.replays", "sentry.release\_health", "sentry.search", "sentry.sentry\_metrics.indexer.postgres.apps.Config", "sentry.snuba", "sentry.lang.java.apps.Config", "sentry.lang.javascript.apps.Config", "sentry.plugins.sentry\_interface\_types.apps.Config", "sentry.plugins.sentry\_urls.apps.Config", "sentry.plugins.sentry\_useragents.apps.Config", "sentry.plugins.sentry\_webhooks.apps.Config", "social\_auth", "sudo", "sentry.eventstream", "sentry.auth.providers.google.apps.Config", "sentry.auth.providers.fly.apps.Config", "django.contrib.staticfiles", "sentry.issues.apps.Config", "sentry.feedback", "sentry.hybridcloud",)
# Silence internal hints from Django's system checksSILENCED\_SYSTEM\_CHECKS = ( # Django recommends to use OneToOneField over ForeignKey(unique=True) # however this changes application behavior in ways that break association # loading "fields.W342", # We have a "catch-all" react\_page\_view that we only want to match on URLs # ending with a `/` to allow APPEND\_SLASHES to kick in for the ones lacking # the trailing slash. This confuses the warning as the regex is `/$` which # looks like it starts with a slash but it doesn't. "urls.W002", # Our own AuthenticationMiddleware suffices as a replacement for # django.contrib.auth.middleware.AuthenticationMiddleware; both add the # authenticated user to the HttpRequest which is what's needed here. "admin.E408", # This is fixed in Django@7c08f26bf0439c1ed593b51b51ad847f7e262bc1. # It's not our problem; refer to Django issue 32260. "urls.E007",)
CSP\_INCLUDE\_NONCE\_IN = [ "script-src",]
CSP\_DEFAULT\_SRC = [ "'none'",]CSP\_SCRIPT\_SRC = [ "'self'", "'unsafe-inline'", "'report-sample'",]CSP\_FONT\_SRC = [ "'self'", "data:",]CSP\_CONNECT\_SRC = [ "'self'", "\*.algolia.net", "\*.algolianet.com", "\*.algolia.io",]CSP\_FRAME\_ANCESTORS = [ "'none'",]CSP\_OBJECT\_SRC = [ "'none'",]CSP\_WORKER\_SRC = [ "'none'",]CSP\_BASE\_URI = [ "'none'",]CSP\_STYLE\_SRC = [ "'unsafe-inline'", "\*", # required for replays]CSP\_IMG\_SRC = [ "blob:", "data:", "\*", # required for replays]CSP\_MEDIA\_SRC = [ "\*", # required for replays]
if ENVIRONMENT == "development": CSP\_SCRIPT\_SRC += [ "'unsafe-eval'", ] CSP\_CONNECT\_SRC += [ "ws://127.0.0.1:8000", "http://localhost:8969/stream", "webpack-internal:", ]
# Before enforcing Content Security Policy, we recommend creating a separate# Sentry project and collecting CSP violations in report only mode:# https://docs.sentry.io/product/security-policy-reporting/
# Point this parameter to your Sentry installation:# CSP\_REPORT\_URI = "https://example.com/api/{PROJECT\_ID}/security/?sentry\_key={SENTRY\_KEY}"
# To enforce CSP (block violated resources), update the following parameter to FalseCSP\_REPORT\_ONLY = True
STATIC\_ROOT = os.path.realpath(os.path.join(PROJECT\_ROOT, "static"))STATIC\_URL = "/\_static/{version}/"# webpack assets live at a different URL that is unversioned# as we configure webpack to include file content based hash in the filenameSTATIC\_FRONTEND\_APP\_URL = "/\_static/dist/"
# The webpack output directorySTATICFILES\_DIRS = [ os.path.join(STATIC\_ROOT, "sentry", "dist"),]
# various middleware will use this to identify resources which should not access# cookiesANONYMOUS\_STATIC\_PREFIXES = ( "/\_static/", "/avatar/", "/organization-avatar/", "/team-avatar/", "/project-avatar/", "/js-sdk-loader/",)
STATICFILES\_FINDERS = ( "django.contrib.staticfiles.finders.FileSystemFinder", "django.contrib.staticfiles.finders.AppDirectoriesFinder",)
ASSET\_VERSION = 0
# setup a default media root to somewhere uselessMEDIA\_ROOT = "/tmp/sentry-files"MEDIA\_URL = "\_media/"
LOCALE\_PATHS = (os.path.join(PROJECT\_ROOT, "locale"),)
CSRF\_FAILURE\_VIEW = "sentry.web.frontend.csrf\_failure.view"CSRF\_COOKIE\_NAME = "sc"
# Auth configuration
from django.urls import reverse\_lazy
LOGIN\_REDIRECT\_URL = reverse\_lazy("sentry-login-redirect")LOGIN\_URL = reverse\_lazy("sentry-login")
AUTHENTICATION\_BACKENDS = ( "sentry.utils.auth.EmailAuthBackend", # The following authentication backends are used by social auth only. # We don't use them for user authentication. "social\_auth.backends.asana.AsanaBackend", "social\_auth.backends.github.GithubBackend", "social\_auth.backends.bitbucket.BitbucketBackend", "social\_auth.backends.visualstudio.VisualStudioBackend",)
AUTH\_PASSWORD\_VALIDATORS: list[dict[str, Any]] = [ {"NAME": "django.contrib.auth.password\_validation.UserAttributeSimilarityValidator"}, { "NAME": "django.contrib.auth.password\_validation.MinimumLengthValidator", "OPTIONS": {"min\_length": 8}, }, { "NAME": "sentry.auth.password\_validation.MaximumLengthValidator", "OPTIONS": {"max\_length": 256}, }, { "NAME": "django.contrib.auth.password\_validation.CommonPasswordValidator", }, { "NAME": "django.contrib.auth.password\_validation.NumericPasswordValidator", }, { "NAME": "sentry.auth.password\_validation.PwnedPasswordsValidator", "OPTIONS": {"threshold": 20}, },]
SOCIAL\_AUTH\_USER\_MODEL = AUTH\_USER\_MODEL = "sentry.User"
SESSION\_ENGINE = "django.contrib.sessions.backends.signed\_cookies"SESSION\_COOKIE\_NAME = "sentrysid"
# setting SESSION\_COOKIE\_SAMESITE to None below for now because# Django's default in 2.1 now `Lax`.# this breaks certain IDP flows where we need cookies sent to us on a redirected POST# request, and `Lax` doesnt permit this.# See here: https://docs.djangoproject.com/en/2.1/ref/settings/#session-cookie-samesiteSESSION\_COOKIE\_SAMESITE = None
BITBUCKET\_CONSUMER\_KEY = ""BITBUCKET\_CONSUMER\_SECRET = ""
ASANA\_CLIENT\_ID = ""ASANA\_CLIENT\_SECRET = ""
VISUALSTUDIO\_APP\_ID = ""VISUALSTUDIO\_APP\_SECRET = ""VISUALSTUDIO\_CLIENT\_SECRET = ""VISUALSTUDIO\_SCOPES = ["vso.work\_write", "vso.project", "vso.code", "vso.release"]
SOCIAL\_AUTH\_PIPELINE = ( "social\_auth.backends.pipeline.user.get\_username", "social\_auth.backends.pipeline.social.social\_auth\_user", "social\_auth.backends.pipeline.associate.associate\_by\_email", "social\_auth.backends.pipeline.misc.save\_status\_to\_session", "social\_auth.backends.pipeline.social.associate\_user", "social\_auth.backends.pipeline.social.load\_extra\_data", "social\_auth.backends.pipeline.user.update\_user\_details", "social\_auth.backends.pipeline.misc.save\_status\_to\_session",)SOCIAL\_AUTH\_REVOKE\_TOKENS\_ON\_DISCONNECT = TrueSOCIAL\_AUTH\_LOGIN\_REDIRECT\_URL = "/account/settings/identities/"SOCIAL\_AUTH\_ASSOCIATE\_ERROR\_URL = SOCIAL\_AUTH\_LOGIN\_REDIRECT\_URL
INITIAL\_CUSTOM\_USER\_MIGRATION = "0108\_fix\_user"
# Auth engines and the settings required for them to be listedAUTH\_PROVIDERS = { "github": ("GITHUB\_APP\_ID", "GITHUB\_API\_SECRET"), "bitbucket": ("BITBUCKET\_CONSUMER\_KEY", "BITBUCKET\_CONSUMER\_SECRET"), "asana": ("ASANA\_CLIENT\_ID", "ASANA\_CLIENT\_SECRET"), "visualstudio": ( "VISUALSTUDIO\_APP\_ID", "VISUALSTUDIO\_APP\_SECRET", "VISUALSTUDIO\_CLIENT\_SECRET", ),}
AUTH\_PROVIDER\_LABELS = { "github": "GitHub", "bitbucket": "Bitbucket", "asana": "Asana", "visualstudio": "Visual Studio",}
import random
def SOCIAL\_AUTH\_DEFAULT\_USERNAME() -> str: return random.choice(["Darth Vader", "Obi-Wan Kenobi", "R2-D2", "C-3PO", "Yoda"])
SOCIAL\_AUTH\_PROTECTED\_USER\_FIELDS = ["email"]SOCIAL\_AUTH\_FORCE\_POST\_DISCONNECT = True
# Hybrid cloud multi-silo configuration #
# Defined by `sentry devserver` to enable siloed local developmentSILO\_DEVSERVER = os.environ.get("SENTRY\_SILO\_DEVSERVER", False)
# Which silo this instance runs as (CONTROL|REGION|MONOLITH|None) are the expected valuesSILO\_MODE = os.environ.get("SENTRY\_SILO\_MODE", None)
# If this instance is a region silo, which region is it running in?SENTRY\_REGION = os.environ.get("SENTRY\_REGION", None)
# Returns the customer single tenant ID.CUSTOMER\_ID = os.environ.get("CUSTOMER\_ID", None)
# List of the available regions, or a JSON string# that is parsed.SENTRY\_REGION\_CONFIG: Any = ()
# Shared secret used to sign cross-region RPC requests.RPC\_SHARED\_SECRET: list[str] | None = None
# Timeout for RPC requests between regionsRPC\_TIMEOUT = 5.0
# Shared secret used to sign cross-region RPC requests with the seer microservice.SEER\_RPC\_SHARED\_SECRET: list[str] | None = None
# The protocol, host and port for control silo# Usecases include sending requests to the Integration Proxy Endpoint and RPC requests.SENTRY\_CONTROL\_ADDRESS: str | None = os.environ.get("SENTRY\_CONTROL\_ADDRESS", None)
# Fallback region name for monolith deployments# This region name is also used by the ApiGateway to proxy org-less region# requests.SENTRY\_MONOLITH\_REGION: str = "--monolith--"
# The key used for generating or verifying the HMAC signature for Integration Proxy Endpoint requests.SENTRY\_SUBNET\_SECRET = os.environ.get("SENTRY\_SUBNET\_SECRET", None)
# Queue configurationfrom kombu import Exchange, Queue
BROKER\_URL = "redis://127.0.0.1:6379"BROKER\_TRANSPORT\_OPTIONS: dict[str, int] = {}
# Ensure workers run async by default# in Development you might want them to run in-process# though it would cause timeouts/recursions in some casesCELERY\_ALWAYS\_EAGER = False
# Complain about bad use of pickle. See sentry.celery.SentryTask.apply\_async for how# this works.CELERY\_COMPLAIN\_ABOUT\_BAD\_USE\_OF\_PICKLE = False
# We use the old task protocol because during benchmarking we noticed that it's faster# than the new protocol. If we ever need to bump this it should be fine, there were no# compatibility issues, just need to run benchmarks and do some tests to make sure# things run ok.CELERY\_TASK\_PROTOCOL = 1CELERY\_EAGER\_PROPAGATES\_EXCEPTIONS = TrueCELERY\_IGNORE\_RESULT = TrueCELERY\_SEND\_EVENTS = FalseCELERY\_RESULT\_BACKEND = NoneCELERY\_TASK\_RESULT\_EXPIRES = 1CELERY\_DISABLE\_RATE\_LIMITS = TrueCELERY\_DEFAULT\_QUEUE = "default"CELERY\_DEFAULT\_EXCHANGE = "default"CELERY\_DEFAULT\_EXCHANGE\_TYPE = "direct"CELERY\_DEFAULT\_ROUTING\_KEY = "default"CELERY\_CREATE\_MISSING\_QUEUES = TrueCELERY\_REDIRECT\_STDOUTS = FalseCELERYD\_HIJACK\_ROOT\_LOGGER = FalseCELERY\_TASK\_SERIALIZER = "pickle"CELERY\_RESULT\_SERIALIZER = "pickle"CELERY\_ACCEPT\_CONTENT = {"pickle"}CELERY\_IMPORTS = ( "sentry.data\_export.tasks", "sentry.discover.tasks", "sentry.hybridcloud.tasks.deliver\_webhooks", "sentry.incidents.tasks", "sentry.snuba.tasks", "sentry.replays.tasks", "sentry.monitors.tasks.clock\_pulse", "sentry.monitors.tasks.detect\_broken\_monitor\_envs", "sentry.tasks.app\_store\_connect", "sentry.tasks.assemble", "sentry.tasks.auth", "sentry.tasks.auto\_remove\_inbox", "sentry.tasks.auto\_resolve\_issues", "sentry.tasks.backfill\_outboxes", "sentry.tasks.beacon", "sentry.tasks.check\_auth", "sentry.tasks.check\_new\_issue\_threshold\_met", "sentry.tasks.clear\_expired\_snoozes", "sentry.tasks.clear\_expired\_rulesnoozes", "sentry.tasks.codeowners.code\_owners\_auto\_sync", "sentry.tasks.codeowners.update\_code\_owners\_schema", "sentry.tasks.collect\_project\_platforms", "sentry.tasks.commits", "sentry.tasks.commit\_context", "sentry.tasks.deletion", "sentry.tasks.deletion.scheduled", "sentry.tasks.deletion.groups", "sentry.tasks.deletion.hybrid\_cloud", "sentry.tasks.deliver\_from\_outbox", "sentry.tasks.digests", "sentry.tasks.email", "sentry.tasks.files", "sentry.tasks.groupowner", "sentry.tasks.integrations", "sentry.tasks.low\_priority\_symbolication", "sentry.tasks.merge", "sentry.tasks.options", "sentry.tasks.ping", "sentry.tasks.post\_process", "sentry.tasks.process\_buffer", "sentry.tasks.relay", "sentry.tasks.release\_registry", "sentry.tasks.relocation", "sentry.tasks.summaries.weekly\_reports", "sentry.tasks.summaries.daily\_summary", "sentry.tasks.reprocessing", "sentry.tasks.reprocessing2", "sentry.tasks.sentry\_apps", "sentry.tasks.servicehooks", "sentry.tasks.store", "sentry.tasks.symbolication", "sentry.tasks.unmerge", "sentry.tasks.update\_user\_reports", "sentry.tasks.user\_report", "sentry.profiles.task", "sentry.release\_health.tasks", "sentry.dynamic\_sampling.tasks.boost\_low\_volume\_projects", "sentry.dynamic\_sampling.tasks.boost\_low\_volume\_transactions", "sentry.dynamic\_sampling.tasks.recalibrate\_orgs", "sentry.dynamic\_sampling.tasks.sliding\_window\_org", "sentry.dynamic\_sampling.tasks.utils", "sentry.dynamic\_sampling.tasks.custom\_rule\_notifications", "sentry.tasks.derive\_code\_mappings", "sentry.ingest.transaction\_clusterer.tasks", "sentry.tasks.auto\_enable\_codecov", "sentry.tasks.weekly\_escalating\_forecast", "sentry.tasks.auto\_ongoing\_issues", "sentry.tasks.check\_am2\_compatibility", "sentry.dynamic\_sampling.tasks.collect\_orgs", "sentry.tasks.statistical\_detectors", "sentry.debug\_files.tasks", "sentry.tasks.on\_demand\_metrics", "sentry.middleware.integrations.tasks", "sentry.replays.usecases.ingest.issue\_creation", "sentry.integrations.slack.tasks",)
default\_exchange = Exchange("default", type="direct")control\_exchange = default\_exchange
if SILO\_DEVSERVER: control\_exchange = Exchange("control", type="direct")
CELERY\_QUEUES\_CONTROL = [ Queue("app\_platform.control", routing\_key="app\_platform.control", exchange=control\_exchange), Queue("auth.control", routing\_key="auth.control", exchange=control\_exchange), Queue("cleanup.control", routing\_key="cleanup.control", exchange=control\_exchange), Queue("email.control", routing\_key="email.control", exchange=control\_exchange), Queue("integrations.control", routing\_key="integrations.control", exchange=control\_exchange), Queue("files.delete.control", routing\_key="files.delete.control", exchange=control\_exchange), Queue( "hybrid\_cloud.control\_repair", routing\_key="hybrid\_cloud.control\_repair", exchange=control\_exchange, ), Queue("options.control", routing\_key="options.control", exchange=control\_exchange), Queue("outbox.control", routing\_key="outbox.control", exchange=control\_exchange), Queue("webhook.control", routing\_key="webhook.control", exchange=control\_exchange),]
CELERY\_ISSUE\_STATES\_QUEUE = Queue( "auto\_transition\_issue\_states", routing\_key="auto\_transition\_issue\_states")
CELERY\_QUEUES\_REGION = [ Queue("activity.notify", routing\_key="activity.notify"), Queue("auth", routing\_key="auth"), Queue("alerts", routing\_key="alerts"), Queue("app\_platform", routing\_key="app\_platform"), Queue("appstoreconnect", routing\_key="sentry.tasks.app\_store\_connect.#"), Queue("assemble", routing\_key="assemble"), Queue("buffers.process\_pending", routing\_key="buffers.process\_pending"), Queue("buffers.process\_pending\_batch", routing\_key="buffers.process\_pending\_batch"), Queue("buffers.incr", routing\_key="buffers.incr"), Queue("cleanup", routing\_key="cleanup"), Queue("code\_owners", routing\_key="code\_owners"), Queue("commits", routing\_key="commits"), Queue("data\_export", routing\_key="data\_export"), Queue("default", routing\_key="default"), Queue("delayed\_rules", routing\_key="delayed\_rules"), Queue("digests.delivery", routing\_key="digests.delivery"), Queue("digests.scheduling", routing\_key="digests.scheduling"), Queue("email", routing\_key="email"), Queue("email.inbound", routing\_key="email.inbound"), Queue("events.preprocess\_event", routing\_key="events.preprocess\_event"), Queue("events.process\_event", routing\_key="events.process\_event"), Queue("events.process\_event\_proguard", routing\_key="events.process\_event\_proguard"), Queue("events.reprocess\_events", routing\_key="events.reprocess\_events"), Queue( "events.reprocessing.preprocess\_event", routing\_key="events.reprocessing.preprocess\_event" ), Queue("events.reprocessing.process\_event", routing\_key="events.reprocessing.process\_event"), Queue( "events.reprocessing.symbolicate\_event", routing\_key="events.reprocessing.symbolicate\_event" ), Queue( "events.reprocessing.symbolicate\_event\_low\_priority", routing\_key="events.reprocessing.symbolicate\_event\_low\_priority", ), Queue("events.save\_event", routing\_key="events.save\_event"), Queue("events.save\_event\_highcpu", routing\_key="events.save\_event\_highcpu"), Queue("events.save\_event\_transaction", routing\_key="events.save\_event\_transaction"), Queue("events.save\_event\_attachments", routing\_key="events.save\_event\_attachments"), Queue("events.symbolicate\_event", routing\_key="events.symbolicate\_event"), Queue( "events.symbolicate\_event\_low\_priority", routing\_key="events.symbolicate\_event\_low\_priority" ), Queue("events.symbolicate\_js\_event", routing\_key="events.symbolicate\_js\_event"), Queue( "events.symbolicate\_js\_event\_low\_priority", routing\_key="events.symbolicate\_js\_event\_low\_priority", ), Queue("files.copy", routing\_key="files.copy"), Queue("files.delete", routing\_key="files.delete"), Queue( "group\_owners.process\_suspect\_commits", routing\_key="group\_owners.process\_suspect\_commits" ), Queue("group\_owners.process\_commit\_context", routing\_key="group\_owners.process\_commit\_context"), Queue("integrations", routing\_key="integrations"), Queue( "releasemonitor", routing\_key="releasemonitor", ), Queue( "dynamicsampling", routing\_key="dynamicsampling", ), Queue("incidents", routing\_key="incidents"), Queue("incident\_snapshots", routing\_key="incident\_snapshots"), Queue("incidents", routing\_key="incidents"), Queue("merge", routing\_key="merge"), Queue("notifications", routing\_key="notifications"), Queue("options", routing\_key="options"), Queue("outbox", routing\_key="outbox"), Queue("post\_process\_errors", routing\_key="post\_process\_errors"), Queue("post\_process\_issue\_platform", routing\_key="post\_process\_issue\_platform"), Queue("post\_process\_transactions", routing\_key="post\_process\_transactions"), Queue("relay\_config", routing\_key="relay\_config"), Queue("relay\_config\_bulk", routing\_key="relay\_config\_bulk"), Queue("reports.deliver", routing\_key="reports.deliver"), Queue("reports.prepare", routing\_key="reports.prepare"), Queue("search", routing\_key="search"), Queue("sentry\_metrics.indexer", routing\_key="sentry\_metrics.indexer"), Queue("similarity.index", routing\_key="similarity.index"), Queue("sleep", routing\_key="sleep"), Queue("stats", routing\_key="stats"), Queue("subscriptions", routing\_key="subscriptions"), Queue( "symbolications.compute\_low\_priority\_projects", routing\_key="symbolications.compute\_low\_priority\_projects", ), Queue("unmerge", routing\_key="unmerge"), Queue("update", routing\_key="update"), Queue("profiles.process", routing\_key="profiles.process"), Queue("replays.ingest\_replay", routing\_key="replays.ingest\_replay"), Queue("replays.delete\_replay", routing\_key="replays.delete\_replay"), Queue("counters-0", routing\_key="counters-0"), Queue("triggers-0", routing\_key="triggers-0"), Queue("derive\_code\_mappings", routing\_key="derive\_code\_mappings"), Queue("transactions.name\_clusterer", routing\_key="transactions.name\_clusterer"), Queue("auto\_enable\_codecov", routing\_key="auto\_enable\_codecov"), Queue("weekly\_escalating\_forecast", routing\_key="weekly\_escalating\_forecast"), Queue("relocation", routing\_key="relocation"), Queue("performance.statistical\_detector", routing\_key="performance.statistical\_detector"), Queue("profiling.statistical\_detector", routing\_key="profiling.statistical\_detector"), CELERY\_ISSUE\_STATES\_QUEUE, Queue("nudge.invite\_missing\_org\_members", routing\_key="invite\_missing\_org\_members"), Queue("auto\_resolve\_issues", routing\_key="auto\_resolve\_issues"), Queue("on\_demand\_metrics", routing\_key="on\_demand\_metrics"), Queue("check\_new\_issue\_threshold\_met", routing\_key="check\_new\_issue\_threshold\_met"), Queue("integrations\_slack\_activity\_notify", routing\_key="integrations\_slack\_activity\_notify"),]
from celery.schedules import crontab
# Only tasks that work with users/integrations and shared subsystems# are run in control silo.CELERYBEAT\_SCHEDULE\_CONTROL = { "check-auth": { "task": "sentry.tasks.check\_auth", # Run every 1 minute "schedule": crontab(minute="\*/1"), "options": {"expires": 60, "queue": "auth.control"}, }, "sync-options-control": { "task": "sentry.tasks.options.sync\_options\_control", # Run every 10 seconds "schedule": timedelta(seconds=10), "options": {"expires": 10, "queue": "options.control"}, }, "deliver-from-outbox-control": { "task": "sentry.tasks.enqueue\_outbox\_jobs\_control", # Run every 10 seconds to keep consistency times low "schedule": timedelta(seconds=10), "options": {"expires": 60, "queue": "outbox.control"}, }, "schedule-deletions-control": { "task": "sentry.tasks.deletion.run\_scheduled\_deletions\_control", # Run every 15 minutes "schedule": crontab(minute="\*/15"), "options": {"expires": 60 \* 25, "queue": "cleanup.control"}, }, "reattempt-deletions-control": { "task": "sentry.tasks.deletion.reattempt\_deletions\_control", # 03:00 PDT, 07:00 EDT, 10:00 UTC "schedule": crontab(hour="10", minute="0"), "options": {"expires": 60 \* 25, "queue": "cleanup.control"}, }, "schedule-hybrid-cloud-foreign-key-jobs-control": { "task": "sentry.tasks.deletion.hybrid\_cloud.schedule\_hybrid\_cloud\_foreign\_key\_jobs\_control", # Run every 15 minutes "schedule": crontab(minute="\*/15"), "options": {"queue": "cleanup.control"}, }, "schedule-vsts-integration-subscription-check": { "task": "sentry.tasks.integrations.kickoff\_vsts\_subscription\_check", # Run every 6 hours "schedule": crontab\_with\_minute\_jitter(hour="\*/6"), "options": {"expires": 60 \* 25, "queue": "integrations.control"}, }, "deliver-webhooks-control": { "task": "sentry.hybridcloud.tasks.deliver\_webhooks.schedule\_webhook\_delivery", # Run every 10 seconds as integration webhooks are delivered by this task "schedule": timedelta(seconds=10), "options": {"expires": 60, "queue": "webhook.control"}, },}
# Most tasks run in the regionsCELERYBEAT\_SCHEDULE\_REGION = { "send-beacon": { "task": "sentry.tasks.send\_beacon",[View remainder of file in raw view](https://github.com/getsentry/sentry/raw/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from api.slack.com_8c14b37d_20250111_141044.html ===
[Docs](/docs)[Tutorials](/tutorials)[Developer Program](/developer-program)[Your apps](/apps)[Slack Platform](/docs)[Samples & templates](/samples)[Developer sandboxes](/docs/developer-sandbox)

---

[Workflow automations](/automation/)[Quickstart: Start a workflow](/automation/quickstart)Workflow apps[Samples & templates](/automation/samples)[Create or remove an app](/automation/create)[App manifest](/automation/manifest)Functions[Function types](/automation/functions/overview)[Slack functions](/automation/functions)[Connector functions](/automation/connectors)[Custom functions for workflow apps](/automation/functions/custom)[Custom steps for Bolt apps](/automation/functions/custom-bolt)[Custom function access](/automation/functions/access)[Using Slack API methods](/automation/apicalls)[External authentication](/automation/external-auth)[Workflows](/automation/workflows)Triggers[Starting workflows with triggers](/automation/triggers)[Link triggers](/automation/triggers/link)[Scheduled triggers](/automation/triggers/scheduled)[Event triggers](/automation/triggers/event)[Webhook triggers](/automation/triggers/webhook)[Trigger management](/automation/triggers/manage)Datastores[Create and interact with a datastore](/automation/datastores)[Add items to a datastore](/automation/datastores-add)[Retrieve items from a datastore](/automation/datastores-retrieve)[Delete items from a datastore](/automation/datastores-delete)Data types[Message metadata events](/automation/metadata-events)[Slack types](/automation/types)[Custom types](/automation/types/custom)[Team collaboration](/automation/collaborate)Interactivity[Interactivity overview](/automation/interactivity)[Creating a form](/automation/forms)[Creating an interactive message](/automation/interactive-messages)[Creating an interactive modal](/automation/interactive-modals)Testing and deploying apps[Local development](/automation/run)[Deploy to Slack](/automation/deploy)[Permissions control for Admins](/automation/admin)[Security](/automation/security)[Governing Slack Connect invites](/automation/governing-slack-connect-invites)Guided Tutorials[Announcement Bot](/tutorials/tracks/announcement-bot)[Request Time Off](/tutorials/tracks/building-approval-workflows)[Welcome Bot](/tutorials/tracks/create-bot-to-welcome-users)[GitHub Issue](/tutorials/tracks/create-github-issues-in-workflows)[Virtual Running Buddies](/tutorials/tracks/create-social-app)[Give Kudos](/tutorials/tracks/give-kudos)[Hello World](/tutorials/tracks/hello-world)[Create a custom step for Workflow Builder: Deno SDK](/tutorials/tracks/wfb-function)[Create a custom step for Workflow Builder: existing Bolt app](/tutorials/tracks/bolt-custom-function-existing)[Create a custom step for Workflow Builder: new Bolt app](/tutorials/tracks/bolt-custom-function)[Give us feedback](/automation/survey)Slack CLI[Install or uninstall the Slack CLI for Mac and Linux](/automation/cli/install-mac-linux)[Install or uninstall the Slack CLI for Windows](/automation/cli/install-windows)[Authorize the Slack CLI](/automation/cli/authorization)[Commands](/automation/cli/commands)[Command quick reference](/automation/cli/quick-reference)[Environment variables](/automation/environment-variables)[Logging](/automation/logging)CI/CD[CI/CD overview and setup](/automation/cli/CI-CD-setup)[Slack CLI Deployment using GitHub Actions](/automation/cli/CI-CD-tutorial)[Using Slack CLI on Enterprise Grid](/automation/cli/enterprise)[Error troubleshooting](/automation/cli/errors)Workflow Builder[Overview](/workflows)[Pre-built workflows](https://slack.com/slack-tips/workflow-builder-examples)[Custom steps dynamic options](/automation/runonslack/custom-steps-dynamic-options)Legacy steps from apps[Legacy steps from apps](/legacy/workflows/steps)[Legacy steps from apps FAQ](/legacy/workflows/steps/faq)[Workflow Powerups](https://github.com/slackapi/workflow-powerups)[Configuration views](/reference/workflows/configuration-view)[workflow\_step](/reference/workflows/workflow_step)[workflow\_step\_edit](/reference/workflows/workflow_step_edit)[workflow\_step\_execute](/events/workflow_step_execute)[workflow\_published](/events/workflow_published)[workflow\_unpublished](/events/workflow_unpublished)[workflow\_deleted](/events/workflow_deleted)[workflow\_step\_deleted](/events/workflow_step_deleted)

---

[Slack apps](/start/apps/)[Quickstart: Send a message](/quickstart)Authentication[Overview](/authentication)[Installing with OAuth](/authentication/oauth-v2)[Token rotation](/authentication/rotation)[Verifying requests](/authentication/verifying-requests-from-slack)[Security best practices](/authentication/best-practices)[Authorize with Postman](/authentication/postman)Sign in with Slack[Sign in with Slack setup](/authentication/sign-in-with-slack)[Sign in with Slack links](/authentication/sign-in-with-slack-links)[Sign in with Slack links using Auth0](/authentication/configuring-siwsl)Legacy app migration[Differences between classic apps and Slack apps](/authentication/quickstart)[Migration guide](/authentication/migration)Agents & Assistants[Usage guide](/docs/apps/ai)[Best practices](/docs/apps/ai-best-practices)Messaging[Send or schedule a message](/messaging/sending)[Retrieve a message](/messaging/retrieving)[Edit or delete a message](/messaging/modifying)Message composition[Add interactivity](/messaging/interactivity)[Working with files](/messaging/files)Working with metadata[Overview](/metadata/using)[Designing metadata schema](/reference/metadata)[Metadata events](/events?query=metadata)[Using incoming webhooks](/messaging/webhooks)[Unfurling links in messages](/reference/messaging/link-unfurling)[Upgrading to blocks](/messaging/attachments-to-blocks)Interactivity[Handling user interaction](/interactivity/handling)[Shortcuts](/interactivity/shortcuts)[Slash commands](/interactivity/slash-commands)App distribution[Distributing Slack apps](/distribution)[Hosting Slack apps](/distribution/hosting)[Onboarding users](/distribution/onboarding)Slack Marketplace[Overview](/slack-marketplace)[Slack Marketplace review guide](/slack-marketplace/review-guide)[Slack Marketplace guidelines](/slack-marketplace/guidelines)[Using Slack Marketplace](/slack-marketplace/using)[Slack Marketplace checklist](/reference/slack-apps/slack-marketplace-checklist)Apps for Admins[Overview](/admins)Workspace management[Managing users](/admins/workspaces)[Managing channels](/admins/channels)[Managing app approvals](/admins/approvals)[Managing workflow permissions and approvals](/admins/workflow-permissions)[Manging invite requests](/admins/inviting)Legal Holds API[Overview](/enterprise/legal-holds)[Reference](/enterprise/legal-holds/reference)Audit Logs API[Monitoring audit events](/admins/audit-logs)[Monitoring anomaly events](/admins/audit-logs-anomaly)[Endpoints and actions](/admins/audit-logs-call)SCIM API[Provisioning with SCIM](/admins/scim)[Provisioning with SCIM 2.0](/admins/scim2)Legacy[Overview](/legacy)Legacy authentication[Legacy: V1 OAuth 2.0](/legacy/oauth)[Legacy: OAuth Scopes](/legacy/oauth-scopes)[Legacy: Sign in with Slack](/legacy/sign-in-with-slack)Legacy messaging[Legacy: Messaging overview](/legacy/outmoded-messaging)[Legacy: interactive messages](/legacy/interactive-messages)[Legacy: Interactive field guide](/legacy/interactive-message-field-guide)[Legacy: Message buttons](/legacy/message-buttons)[Legacy: Message menus](/legacy/message-menus)[Legacy: Secondary attachments](/reference/messaging/attachments)[Legacy bots](/legacy/enabling-bot-users)[Legacy dialogs](/legacy/dialogs)Legacy custom integrations[Legacy custom integrations migration](/legacy/custom-integrations)[Legacy custom integrations bot users](/legacy/custom-integrations/bot-users)[Legacy custom integrations incoming webhooks](/legacy/custom-integrations/messaging/webhooks)[Legacy custom integrations outgoing webhooks](/legacy/custom-integrations/outgoing-webhooks)[Legacy custom integations slash commands](/legacy/custom-integrations/slash-commands)[Legacy custom integrations tokens](/legacy/custom-integrations/legacy-tokens)[Legacy Steps from Apps](/legacy/workflows/steps)[Legacy Steps from Apps FAQ](/legacy/workflows/steps/faq)[Legacy Steps from Apps migration guide](/legacy/workflows/steps/migration)[Legacy RTM API](/legacy/rtm)

---

[Platform concepts](/concepts)APIs[Overview](/apis)Web API[Overview](/web)[Pagination](/apis/pagination)[Rate limits](/apis/rate-limits)[Conversations API](/apis/conversations-api)[Calls API](/apis/calls)[Presence & status](/apis/presence-and-status)Events API[Events API](/apis/events-api)[HTTP vs Socket Mode](/apis/event-delivery)[HTTP Request URLs](/apis/http)[Socket Mode](/apis/socket-mode)Slack Connect[Understanding Slack Connect](/apis/channels-between-orgs)[Slack Connect Spaces](/apis/slack-connect-spaces)[Using Slack Connect API methods](/apis/connect)[Slack Connect API reference](/apis/connect-reference)[Slack Status API](/apis/slack-status)[App design](/design)[App manifests](/concepts/manifests)Block Kit[Overview](/block-kit)[Building with Block Kit](/block-kit/building)[Designing with Block Kit](/block-kit/designing)[Block Kit Builder](/tools/block-kit-builder)Reference[Overview](/reference/block-kit)[Blocks](/reference/block-kit/blocks)[Block elements & interactive components](/reference/block-kit/block-elements)[Composition objects](/reference/block-kit/composition-objects)[Block actions payloads](/reference/interaction-payloads/block-actions?ref=bk)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion?ref=bk)[Formatting rich text](/tutorials/tracks/rich-text-tutorial)Bolt Frameworks[Overview](/bolt)[Bolt for Java ↗](https://tools.slack.dev/java-slack-sdk/guides/bolt-basics/)[Bolt for JavaScript ↗](https://tools.slack.dev/bolt-js)[Bolt for Python ↗](https://tools.slack.dev/bolt-python)Deno Slack SDK[Install Deno](/automation/deno/install)[Develop with Deno](/automation/deno/develop)[TypeScript overview](/automation/deno/typescript)Enterprise Grid[Overview](/enterprise)[Single-workspace apps](/enterprise/developing)[Organization-ready apps](/enterprise/org-ready-apps)[Migrating to organization-ready apps](/enterprise/migration)[Testing Enterprise Grid apps](/enterprise/testing)[Invocation & interactivity](/interactivity)[Run on Slack Infrastructure](/concepts/rosi)Surfaces[Overview](/surfaces)[Messages](/surfaces/messages)[Modals](/surfaces/modals)[App Home](/surfaces/app-home)[Canvases](/surfaces/canvases)More[Formatting text for surfaces](/reference/surfaces/formatting)[Defining views](/reference/surfaces/views)[Upgrading dialogs to modals](/block-kit/dialogs-to-modals)[Deep linking into Slack](/reference/deep-linking)[Tokens](/concepts/token-types)[Workflow steps](/concepts/workflow-steps)

---

Reference[Events](/events)[Methods](/methods)Object types[Channel object](/types/channel)[Conversation object](/types/conversation)[Event object](/types/event)[File object](/types/file)[Group object](/types/group)[IM object](/types/im)[MPIM object](/types/mpim)[User object](/types/user)[Usergroup object](/types/usergroup)[Scopes](/scopes)[Slack functions](/reference/functions)[Connector functions](/automation/connectors)[Slack app manifests](/reference/manifests)Interaction payloads[Overview](/reference/interaction-payloads)[Shortcuts payloads](/reference/interaction-payloads/shortcuts)[Block actions payloads](/reference/interaction-payloads/block-actions)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion)[View interaction payloads](/reference/interaction-payloads/views)

---

Translated content[🇯🇵 日本語版ページ](/lang/ja-jp)

---

[Gov Slack](/gov-slack)Stay updated[Developer changelog](/changelog)[Developer blog](https://slack.com/blog/developers)[@SlackAPI](https://twitter.com/slackapi)Resources[Get support](/support)[Partner with us](https://slack.com/partners)[Slack Fund](https://slack.com/developers/fund)[FAQ](/faq)[Developer beta](/developer-beta)[API Terms of Service](https://slack.com/terms-of-service/api)Community[Community Forums](https://trailhead.salesforce.com/trailblazercommunity)[Groups and events](/groups-and-events)[Slack Engineering](/engineering)[Community code of conduct](/community/code-of-conduct)[Slack Platform](/docs)[Samples & templates](/samples)[Developer sandboxes](/docs/developer-sandbox)

---

[Workflow automations](/automation/)[Quickstart: Start a workflow](/automation/quickstart)Workflow apps[Samples & templates](/automation/samples)[Create or remove an app](/automation/create)[App manifest](/automation/manifest)Functions[Function types](/automation/functions/overview)[Slack functions](/automation/functions)[Connector functions](/automation/connectors)[Custom functions for workflow apps](/automation/functions/custom)[Custom steps for Bolt apps](/automation/functions/custom-bolt)[Custom function access](/automation/functions/access)[Using Slack API methods](/automation/apicalls)[External authentication](/automation/external-auth)[Workflows](/automation/workflows)Triggers[Starting workflows with triggers](/automation/triggers)[Link triggers](/automation/triggers/link)[Scheduled triggers](/automation/triggers/scheduled)[Event triggers](/automation/triggers/event)[Webhook triggers](/automation/triggers/webhook)[Trigger management](/automation/triggers/manage)Datastores[Create and interact with a datastore](/automation/datastores)[Add items to a datastore](/automation/datastores-add)[Retrieve items from a datastore](/automation/datastores-retrieve)[Delete items from a datastore](/automation/datastores-delete)Data types[Message metadata events](/automation/metadata-events)[Slack types](/automation/types)[Custom types](/automation/types/custom)[Team collaboration](/automation/collaborate)Interactivity[Interactivity overview](/automation/interactivity)[Creating a form](/automation/forms)[Creating an interactive message](/automation/interactive-messages)[Creating an interactive modal](/automation/interactive-modals)Testing and deploying apps[Local development](/automation/run)[Deploy to Slack](/automation/deploy)[Permissions control for Admins](/automation/admin)[Security](/automation/security)[Governing Slack Connect invites](/automation/governing-slack-connect-invites)Guided Tutorials[Announcement Bot](/tutorials/tracks/announcement-bot)[Request Time Off](/tutorials/tracks/building-approval-workflows)[Welcome Bot](/tutorials/tracks/create-bot-to-welcome-users)[GitHub Issue](/tutorials/tracks/create-github-issues-in-workflows)[Virtual Running Buddies](/tutorials/tracks/create-social-app)[Give Kudos](/tutorials/tracks/give-kudos)[Hello World](/tutorials/tracks/hello-world)[Create a custom step for Workflow Builder: Deno SDK](/tutorials/tracks/wfb-function)[Create a custom step for Workflow Builder: existing Bolt app](/tutorials/tracks/bolt-custom-function-existing)[Create a custom step for Workflow Builder: new Bolt app](/tutorials/tracks/bolt-custom-function)[Give us feedback](/automation/survey)Slack CLI[Install or uninstall the Slack CLI for Mac and Linux](/automation/cli/install-mac-linux)[Install or uninstall the Slack CLI for Windows](/automation/cli/install-windows)[Authorize the Slack CLI](/automation/cli/authorization)[Commands](/automation/cli/commands)[Command quick reference](/automation/cli/quick-reference)[Environment variables](/automation/environment-variables)[Logging](/automation/logging)CI/CD[CI/CD overview and setup](/automation/cli/CI-CD-setup)[Slack CLI Deployment using GitHub Actions](/automation/cli/CI-CD-tutorial)[Using Slack CLI on Enterprise Grid](/automation/cli/enterprise)[Error troubleshooting](/automation/cli/errors)Workflow Builder[Overview](/workflows)[Pre-built workflows](https://slack.com/slack-tips/workflow-builder-examples)[Custom steps dynamic options](/automation/runonslack/custom-steps-dynamic-options)Legacy steps from apps[Legacy steps from apps](/legacy/workflows/steps)[Legacy steps from apps FAQ](/legacy/workflows/steps/faq)[Workflow Powerups](https://github.com/slackapi/workflow-powerups)[Configuration views](/reference/workflows/configuration-view)[workflow\_step](/reference/workflows/workflow_step)[workflow\_step\_edit](/reference/workflows/workflow_step_edit)[workflow\_step\_execute](/events/workflow_step_execute)[workflow\_published](/events/workflow_published)[workflow\_unpublished](/events/workflow_unpublished)[workflow\_deleted](/events/workflow_deleted)[workflow\_step\_deleted](/events/workflow_step_deleted)

---

[Slack apps](/start/apps/)[Quickstart: Send a message](/quickstart)Authentication[Overview](/authentication)[Installing with OAuth](/authentication/oauth-v2)[Token rotation](/authentication/rotation)[Verifying requests](/authentication/verifying-requests-from-slack)[Security best practices](/authentication/best-practices)[Authorize with Postman](/authentication/postman)Sign in with Slack[Sign in with Slack setup](/authentication/sign-in-with-slack)[Sign in with Slack links](/authentication/sign-in-with-slack-links)[Sign in with Slack links using Auth0](/authentication/configuring-siwsl)Legacy app migration[Differences between classic apps and Slack apps](/authentication/quickstart)[Migration guide](/authentication/migration)Agents & Assistants[Usage guide](/docs/apps/ai)[Best practices](/docs/apps/ai-best-practices)Messaging[Send or schedule a message](/messaging/sending)[Retrieve a message](/messaging/retrieving)[Edit or delete a message](/messaging/modifying)Message composition[Add interactivity](/messaging/interactivity)[Working with files](/messaging/files)Working with metadata[Overview](/metadata/using)[Designing metadata schema](/reference/metadata)[Metadata events](/events?query=metadata)[Using incoming webhooks](/messaging/webhooks)[Unfurling links in messages](/reference/messaging/link-unfurling)[Upgrading to blocks](/messaging/attachments-to-blocks)Interactivity[Handling user interaction](/interactivity/handling)[Shortcuts](/interactivity/shortcuts)[Slash commands](/interactivity/slash-commands)App distribution[Distributing Slack apps](/distribution)[Hosting Slack apps](/distribution/hosting)[Onboarding users](/distribution/onboarding)Slack Marketplace[Overview](/slack-marketplace)[Slack Marketplace review guide](/slack-marketplace/review-guide)[Slack Marketplace guidelines](/slack-marketplace/guidelines)[Using Slack Marketplace](/slack-marketplace/using)[Slack Marketplace checklist](/reference/slack-apps/slack-marketplace-checklist)Apps for Admins[Overview](/admins)Workspace management[Managing users](/admins/workspaces)[Managing channels](/admins/channels)[Managing app approvals](/admins/approvals)[Managing workflow permissions and approvals](/admins/workflow-permissions)[Manging invite requests](/admins/inviting)Legal Holds API[Overview](/enterprise/legal-holds)[Reference](/enterprise/legal-holds/reference)Audit Logs API[Monitoring audit events](/admins/audit-logs)[Monitoring anomaly events](/admins/audit-logs-anomaly)[Endpoints and actions](/admins/audit-logs-call)SCIM API[Provisioning with SCIM](/admins/scim)[Provisioning with SCIM 2.0](/admins/scim2)Legacy[Overview](/legacy)Legacy authentication[Legacy: V1 OAuth 2.0](/legacy/oauth)[Legacy: OAuth Scopes](/legacy/oauth-scopes)[Legacy: Sign in with Slack](/legacy/sign-in-with-slack)Legacy messaging[Legacy: Messaging overview](/legacy/outmoded-messaging)[Legacy: interactive messages](/legacy/interactive-messages)[Legacy: Interactive field guide](/legacy/interactive-message-field-guide)[Legacy: Message buttons](/legacy/message-buttons)[Legacy: Message menus](/legacy/message-menus)[Legacy: Secondary attachments](/reference/messaging/attachments)[Legacy bots](/legacy/enabling-bot-users)[Legacy dialogs](/legacy/dialogs)Legacy custom integrations[Legacy custom integrations migration](/legacy/custom-integrations)[Legacy custom integrations bot users](/legacy/custom-integrations/bot-users)[Legacy custom integrations incoming webhooks](/legacy/custom-integrations/messaging/webhooks)[Legacy custom integrations outgoing webhooks](/legacy/custom-integrations/outgoing-webhooks)[Legacy custom integations slash commands](/legacy/custom-integrations/slash-commands)[Legacy custom integrations tokens](/legacy/custom-integrations/legacy-tokens)[Legacy Steps from Apps](/legacy/workflows/steps)[Legacy Steps from Apps FAQ](/legacy/workflows/steps/faq)[Legacy Steps from Apps migration guide](/legacy/workflows/steps/migration)[Legacy RTM API](/legacy/rtm)

---

[Platform concepts](/concepts)APIs[Overview](/apis)Web API[Overview](/web)[Pagination](/apis/pagination)[Rate limits](/apis/rate-limits)[Conversations API](/apis/conversations-api)[Calls API](/apis/calls)[Presence & status](/apis/presence-and-status)Events API[Events API](/apis/events-api)[HTTP vs Socket Mode](/apis/event-delivery)[HTTP Request URLs](/apis/http)[Socket Mode](/apis/socket-mode)Slack Connect[Understanding Slack Connect](/apis/channels-between-orgs)[Slack Connect Spaces](/apis/slack-connect-spaces)[Using Slack Connect API methods](/apis/connect)[Slack Connect API reference](/apis/connect-reference)[Slack Status API](/apis/slack-status)[App design](/design)[App manifests](/concepts/manifests)Block Kit[Overview](/block-kit)[Building with Block Kit](/block-kit/building)[Designing with Block Kit](/block-kit/designing)[Block Kit Builder](/tools/block-kit-builder)Reference[Overview](/reference/block-kit)[Blocks](/reference/block-kit/blocks)[Block elements & interactive components](/reference/block-kit/block-elements)[Composition objects](/reference/block-kit/composition-objects)[Block actions payloads](/reference/interaction-payloads/block-actions?ref=bk)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion?ref=bk)[Formatting rich text](/tutorials/tracks/rich-text-tutorial)Bolt Frameworks[Overview](/bolt)[Bolt for Java ↗](https://tools.slack.dev/java-slack-sdk/guides/bolt-basics/)[Bolt for JavaScript ↗](https://tools.slack.dev/bolt-js)[Bolt for Python ↗](https://tools.slack.dev/bolt-python)Deno Slack SDK[Install Deno](/automation/deno/install)[Develop with Deno](/automation/deno/develop)[TypeScript overview](/automation/deno/typescript)Enterprise Grid[Overview](/enterprise)[Single-workspace apps](/enterprise/developing)[Organization-ready apps](/enterprise/org-ready-apps)[Migrating to organization-ready apps](/enterprise/migration)[Testing Enterprise Grid apps](/enterprise/testing)[Invocation & interactivity](/interactivity)[Run on Slack Infrastructure](/concepts/rosi)Surfaces[Overview](/surfaces)[Messages](/surfaces/messages)[Modals](/surfaces/modals)[App Home](/surfaces/app-home)[Canvases](/surfaces/canvases)More[Formatting text for surfaces](/reference/surfaces/formatting)[Defining views](/reference/surfaces/views)[Upgrading dialogs to modals](/block-kit/dialogs-to-modals)[Deep linking into Slack](/reference/deep-linking)[Tokens](/concepts/token-types)[Workflow steps](/concepts/workflow-steps)

---

Reference[Events](/events)[Methods](/methods)Object types[Channel object](/types/channel)[Conversation object](/types/conversation)[Event object](/types/event)[File object](/types/file)[Group object](/types/group)[IM object](/types/im)[MPIM object](/types/mpim)[User object](/types/user)[Usergroup object](/types/usergroup)[Scopes](/scopes)[Slack functions](/reference/functions)[Connector functions](/automation/connectors)[Slack app manifests](/reference/manifests)Interaction payloads[Overview](/reference/interaction-payloads)[Shortcuts payloads](/reference/interaction-payloads/shortcuts)[Block actions payloads](/reference/interaction-payloads/block-actions)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion)[View interaction payloads](/reference/interaction-payloads/views)

---

Translated content[🇯🇵 日本語版ページ](/lang/ja-jp)

---

[Gov Slack](/gov-slack)Stay updated[Developer changelog](/changelog)[Developer blog](https://slack.com/blog/developers)[@SlackAPI](https://twitter.com/slackapi)Resources[Get support](/support)[Partner with us](https://slack.com/partners)[Slack Fund](https://slack.com/developers/fund)[FAQ](/faq)[Developer beta](/developer-beta)[API Terms of Service](https://slack.com/terms-of-service/api)Community[Community Forums](https://trailhead.salesforce.com/trailblazercommunity)[Groups and events](/groups-and-events)[Slack Engineering](/engineering)[Community code of conduct](/community/code-of-conduct)
# Verifying requests from Slack

Slack signs its requests using a secret unique to your app.

With the help of signed secrets, your app can more confidently verify whether requests from Slack are authentic. The signing process is the cooler, younger sibling of verification tokens.

## Understanding HTTP requests from Slack

Slack uses HTTP requests to notify your app that something has happened. If you're subscribed to the [Events API](/events-api), your app might receive a request when a reacji has been added to a message. If you're the proud owner of a [slash command](/slash-commands), your app'll be notified when someone uses your command. You might even be notified that your app has been given new resources and permissions.

An HTTP request contains:

* a request line: GET /slackapi/interactive-message-action-response
* a series of headers, like Content-type: application/json; charset=utf-8
* a blank line
* a UTF-8 encoded message body, like userID=1234&someField=5678

When Slack sends your app a request, your app must check to make sure it's authentic. You do this by computing a signature.

## Understanding signed secrets

Slack creates a unique string for your app and shares it with you. Verify requests from Slack with confidence by verifying signatures using your signing secret.

On each HTTP request that Slack sends, Slack adds an `X-Slack-Signature` HTTP header (or `x-slack-signature` — **header names are meant to be case-insensitive, so the letter case should not be assumed**).

The signature is created by hashing the request body with the SHA-256 function, and combining it with an [HMAC](https://en.wikipedia.org/wiki/HMAC) signing secret. The resulting signature is unique to each request and doesn't contain any secret information, keeping your app secure.

Signing secrets replace the old [verification tokens](/events-api#url_verification). Good news: the new signature is used *exactly the same way* as the deprecated verification token. It's just computed more securely.

Some SDKs perform signature verification automatically, accessible via a drop-in replacement of your signing secret for your old verification token. See the [SDK support](#sdk_support) section for more detail.

Request signing follows this pattern:

* Your app receives a request from Slack.
* Your app computes a signature based on the request.
* You make sure the signature *you've* computed matches the signature *on the request*.

Let's go over the recipe for this signature dish.

## Validating a request

Ingredients required:

* 1 HTTP request from Slack
* 1 signing secret
* 1 programming language of your choice

**Note:** This pseudocode example walks through validating a request. Nearly all modern programming languages can perform equivalent calculations with HMAC SHA256. [Here's the library for Node, for example.](https://nodejs.org/api/crypto.html#crypto_crypto_createhmac_algorithm_key_options)

**1. Grab your Slack [Signing Secret](#signing_secrets_admin_page), available in the app admin panel under Basic Info.**

In this example, the **Signing Secret** is `8f742231b10e8888abcd99yyyzzz85a5`. (You don't need to convert the **Signing Secret** to binary. Treat it as a standard UTF-8 string.) While you're at it, extract the raw request body from the request.

```
slack_signing_secret = 'MY_SLACK_SIGNING_SECRET' // Set this as an environment variable
>>> 8f742231b10e8888abcd99yyyzzz85a5
request_body = request.body()
>>> token=xyzz0WbapA4vBCDEFasx0q6G&team_id=T1DC2JH3J&team_domain=testteamnow&channel_id=G8PSS9T3V&channel_name=foobar&user_id=U2CERLKJA&user_name=roadrunner&command=%2Fwebhook-collect&text=&response_url=https%3A%2F%2Fhooks.slack.com%2Fcommands%2FT1DC2JH3J%2F397700885554%2F96rGlfmibIGlgcZRskXaIFfN&trigger_id=398738663015.47445629121.803a0bc887a14d10d2c447fce8b6703c

```

**Use the raw request body, without headers, before it has been deserialized from JSON or other forms.**

For example, in Python's Flask, use `request.get_data()` before accessing any other methods on the request in order to get the raw request payload, without performing JSON deserialization.

**2. Extract the timestamp header from the request.**

In our example the timestamp header is `1531420618`.

The signature depends on the timestamp to protect against replay attacks. While you're extracting the timestamp, check to make sure that the request occurred recently. In this example, we verify that the timestamp does not differ from local time by more than five minutes.

```
timestamp = request.headers['X-Slack-Request-Timestamp']
>>> 1531420618
if absolute_value(time.time() - timestamp) > 60 * 5:
    # The request timestamp is more than five minutes from local time.
    # It could be a replay attack, so let's ignore it.
    return

```

**3. Concatenate the version number, the timestamp, and the request body together, using a colon (`:`) as a delimiter.**

In this example, we have the following values:

* version number: `v0`
* timestamp: `1531420618`
* request body: `token=xyzz...`

The resulting example basestring is (`'v0:1531420618:token=xyzz...`).

```
sig_basestring = 'v0:' + timestamp + ':' + request_body
>>> 'v0:1531420618:token=xyzz0WbapA4vBCDEFasx0q6G&team_id=T1DC2JH3J&team_domain=testteamnow&channel_id=G8PSS9T3V&channel_name=foobar&user_id=U2CERLKJA&user_name=roadrunner&command=%2Fwebhook-collect&text=&response_url=https%3A%2F%2Fhooks.slack.com%2Fcommands%2FT1DC2JH3J%2F397700885554%2F96rGlfmibIGlgcZRskXaIFfN&trigger_id=398738663015.47445629121.803a0bc887a14d10d2c447fce8b6703c'

```

**4. Hash the resulting string, using the signing secret as a key, and taking the hex digest of the hash.**

In this example, we compute a hex digest of `a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503`.

The full signature is formed by prefixing the hex digest with `v0=`, to make `'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'`.

```
my_signature = 'v0=' + hmac.compute_hash_sha256(
slack_signing_secret,
sig_basestring
).hexdigest()
>>> 'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'

```

**5. Compare the resulting signature to the header on the request.**

For best practice, use an hmac `compare` function instead of directly comparing the signatures for equality.

```
slack_signature = request.headers['x-slack-signature']
>>> 'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'
if hmac.compare(my_signature, slack_signature):
    # hooray, the request came from Slack!
    deal_with_request(request)

```
## App management updates

For a while, you'll see two secrets side-by-side in the app management panel:

![Admin page with signing secret and verification token](https://a.slack-edge.com/80588/img/api/signing_secrets_admin_page.png)

One secret is the new **Signing Secret**, and one is the deprecated verification token. **We strongly recommend you *only* use the Signing Secret from now on.**

## Regenerating secrets

Regenerate your secret using the "Regenerate" button next to the **Signing Secret** in the [admin panel](/apps).

## SDK support

These Slack SDKs, among others, currently support signing secrets:

* [Built-in support in Bolt for JavaScript](https://github.com/slackapi/bolt-js/blob/main/src/receivers/verify-request.ts)
* [Built-in support in Bolt for Python](https://github.com/slackapi/bolt-python/tree/main/slack_bolt/middleware/request_verification)
* [Built-in support in Bolt for Java](https://github.com/slackapi/java-slack-sdk/blob/main/bolt/src/main/java/com/slack/api/bolt/middleware/builtin/RequestVerification.java)

In each package, using a signed secret is no different than using the old verification token. Set your **Signing Secret** as an environment variable: `export SLACK_SIGNING_SECRET=abc123`. Then, initialize the package with the secret.

For example, a Node app that uses interactive messages would create a message listener using the following single line of code:

```
// Create the adapter using the app's signing secret, read from env
const interactions = createMessageAdapter(process.env.SLACK_SIGNING_SECRET);

```

A Node app that uses the Events API would initialize a listener for events using the following code:

```
const slackEvents = createSlackEventAdapter(process.env.SLACK_SIGNING_SECRET);

```

A Python app that uses the Events API would initialize a listener for events using the following code:

```
SLACK_SIGNING_SECRET = os.environ["SLACK_SIGNING_SECRET"]
slack_events = SlackEventAdapter(SLACK_SIGNING_SECRET, "/slack/events")

```

You can also examine the open-source [BotKit](https://github.com/howdyai/botkit/blob/main/packages/botbuilder-adapter-slack/src/slack_adapter.ts) to see an implementation of Slack signature verification in the wild.

## Verification token deprecation

We'll continue allowing apps to use verification tokens for now. However, we will retire them completely in the future. We strongly recommend switching to request signing as soon as possible.

## Types of requests that support signed secrets

* [Slash commands](/slash-commands)
* [Events API](/events-api)
* [Interactive messages](/interactive-messages)
* [Actions](/actions)
* [Message buttons](/docs/message-buttons)
* [Message menus](/docs/message-menus)
* [Legacy outgoing webhooks](/custom-integrations/outgoing-webhooks)

## Using mutual TLS

Requests from Slack also support authentication through [**Mutual TLS**](https://en.wikipedia.org/wiki/Mutual_authentication).

Mutual TLS has the same goal as request signing: it allows your app to verify that an outgoing HTTP request is authentic. Mutual TLS *differs* from request signing in where and how it occurs. Instead of verifying request signatures in your application code, you configure your TLS-terminating server to authenticate client certificates from Slack.

Here's the Mutual TLS process in more detail:

**1. Configure your TLS-terminating server to request client certificates.**

Your TLS-terminating server should be configured to accept client certificates under *any* [DigiCert root CA certificate](https://www.digicert.com/kb/digicert-root-certificates.htm#roots).

Slack's client certificate may not be signed directly by a root CA certificate, but requests from Slack will include any intermediate CA certificates necessary for verification.

**2. Extract either of the following fields in the certificate:**

* `Subject Alternative Name`: `DNS:platform-tls-client.slack.com`. By [RFC 6125](https://tools.ietf.org/html/rfc6125), this is the recommended field to extract.
* `Subject Common Name`: `platform-tls-client.slack.com`.

**3. Inject the extracted domain into a header, and forward the request to your application server.**

Here's an example header you might add to the request: `X-Client-Certificate-SAN: platform-tls-client.slack.com`. Whatever you choose to call your header, check to make sure this header hasn't *already* been added to the request. Your upstream application server **must know** that the header was added by your TLS-terminating server as part of the Mutual TLS process.

**4. In your application server, check the header and verify that its value matches the expected domain, `platform-tls-client.slack.com`.**

Do not accept header values with any other domain name, including other subdomains of slack.com.

Recommended reading

* [Installing with OAuth](/authentication/oauth-v2)
## On this page

[Understanding HTTP requests from Slack](#http-requests)[Understanding signed secrets](#about)[Validating a request](#validating-a-request)[App management updates](#app-management-updates)[Regenerating secrets](#regenerating)[SDK support](#SDK-support)[Verification token deprecation](#deprecation)[Types of requests that support signed secrets](#types_of_events)[Using mutual TLS](#mutual-tls)Next steps

* [Token types](/concepts/token-types)
[Status](https://slack-status.com)[Policy](/developer-policy)[Terms](https://slack.com/intl/en-gb/terms-of-service/api-updated)[Your Privacy Choices](https://www.salesforce.com/form/other/privacy-request/ "Your Privacy Choices")Cookie Preferences

Subscribe to our [developer changelog](/changelog)

Connect with our [platform community](https://slackcommunity.com/?utm_medium=referral&utm_source=apislack&utm_campaign=api_site_footer)

Need help? [Contact developer support](/support)



=== Content from github.com_a612905f_20250111_141054.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fsecurity%2Fadvisories%2FGHSA-c2g2-gx4j-rj3j)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fsecurity%2Fadvisories%2FGHSA-c2g2-gx4j-rj3j)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=getsentry%2Fsentry)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getsentry](/getsentry)
/
**[sentry](/getsentry/sentry)**
Public

* [Notifications](/login?return_to=%2Fgetsentry%2Fsentry) You must be signed in to change notification settings
* [Fork
  4.2k](/login?return_to=%2Fgetsentry%2Fsentry)
* [Star
   39.6k](/login?return_to=%2Fgetsentry%2Fsentry)

* [Code](/getsentry/sentry)
* [Issues
  2k](/getsentry/sentry/issues)
* [Pull requests
  206](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects
  0](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

Additional navigation options

* [Code](/getsentry/sentry)
* [Issues](/getsentry/sentry/issues)
* [Pull requests](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

# Slack integration leaks deprecated verification token in logs

Low

[mdtro](/mdtro)
published
GHSA-c2g2-gx4j-rj3j
May 31, 2024

## Package

pip

sentry
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

>=24.3.0,<24.5.0

## Patched versions

24.5.0

## Description

### Impact

Sentry's Slack integration incorrectly records the incoming request body in logs. This request data can contain sensitive information, including the [deprecated Slack verification token](https://api.slack.com/authentication/verifying-requests-from-slack#deprecation). With this verification token, it is possible under specific configurations, an attacker can forge requests and act as the Slack integration.

The request body is leaked in log entries matching `event == "slack.*" && name == "sentry.integrations.slack" && request_data == *`. The deprecated slack verification token, will be found in the `request_data.token` key.

Example event:

```
{
    "name": "sentry.integrations.slack",
    "level": "info",
    "event": "slack.event.message",  # This could be any of the `slack.*` events
    "request_data": {
      # Other keys are omitted for brevity
      "token": "<MyDeprecatedSlackVerificationToken>",
    }
}
```
### Patches

* **SaaS users** do not need to take any action.
* **Self-hosted users** should upgrade to version 24.5.0 or higher, [rotate their Slack verification token](https://api.slack.com/authentication/verifying-requests-from-slack#regenerating), and [use the Slack Signing Secret instead of the verification token](https://develop.sentry.dev/integrations/slack/).
  + If you are only using the `slack.signing-secret` in your self-hosted configuration, then the legacy verification token is not used to verify the webhook payload. It is ignored.

> ⚠️ Sentry's support for validating Slack requests via the legacy verification token will be deprecated in version 24.7.0.

### Workarounds

#### Option 1

Set the `slack.signing-secret` instead of `slack.verification-token`. The [signing secret](https://api.slack.com/authentication/verifying-requests-from-slack#app-management-updates) is Slack's recommended way of authenticating webhooks.

By having `slack.singing-secret` set, Sentry self-hosted will no longer use the verification token for authentication of the webhooks, regardless of whether `slack.verification-token` is set or not.

#### Option 2

The deprecated Slack verification token is leaked in log levels of `INFO` and `ERROR` in the Slack integration. If the self-hosted instance is unable to be upgraded or re-configured to use the `slack.signing-secret`, the logging configuration can be adjusted to not generate logs from the integration. The [default logging configuration can be found in `src/sentry/conf/server.py`](https://github.com/getsentry/sentry/blob/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py#L1307). **Services should be restarted once the configuration change is saved.**

Below you'll find an example of the configuration adjustments necessary to remove the Slack integration logs:

```
# src/sentry/conf/server.py

...

LOGGING: LoggingConfig = {
    ...
    handlers: {
        # the line below already exists in the default configuration
        "null": {"class": "logging.NullHandler"},
        ...
    },
    "loggers": {
        "sentry.integrations.slack": {
            "handlers": ["null"],  # route logs to null handler
            "level": "CRITICAL",  # prevent generation of logs a lower levels (ex. ERROR and INFO)
        },
        ...
    },
}
```
### References

* [#70508](https://github.com/getsentry/sentry/pull/70508)
* [Sentry Slack Integration Documentation for Self-Hosted users](https://develop.sentry.dev/integrations/slack/)
* [Documentation on Slack Signing Secrets](https://api.slack.com/authentication/verifying-requests-from-slack#app-management-updates)
* [Slack Deprecation for Verification Tokens](https://api.slack.com/authentication/verifying-requests-from-slack#deprecation)

### Severity

Low

### CVE ID

CVE-2024-35196

### Weaknesses

[CWE-532](/advisories?query=cwe%3A532)

### Credits

* [![@asottile](https://avatars.githubusercontent.com/u/1810591?s=40&v=4)](/asottile)
  [asottile](/asottile)
  Finder
* [![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&v=4)](/asottile-sentry)
  [asottile-sentry](/asottile-sentry)
  Remediation developer

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from api.slack.com_9fb73898_20250111_141045.html ===
[Docs](/docs)[Tutorials](/tutorials)[Developer Program](/developer-program)[Your apps](/apps)[Slack Platform](/docs)[Samples & templates](/samples)[Developer sandboxes](/docs/developer-sandbox)

---

[Workflow automations](/automation/)[Quickstart: Start a workflow](/automation/quickstart)Workflow apps[Samples & templates](/automation/samples)[Create or remove an app](/automation/create)[App manifest](/automation/manifest)Functions[Function types](/automation/functions/overview)[Slack functions](/automation/functions)[Connector functions](/automation/connectors)[Custom functions for workflow apps](/automation/functions/custom)[Custom steps for Bolt apps](/automation/functions/custom-bolt)[Custom function access](/automation/functions/access)[Using Slack API methods](/automation/apicalls)[External authentication](/automation/external-auth)[Workflows](/automation/workflows)Triggers[Starting workflows with triggers](/automation/triggers)[Link triggers](/automation/triggers/link)[Scheduled triggers](/automation/triggers/scheduled)[Event triggers](/automation/triggers/event)[Webhook triggers](/automation/triggers/webhook)[Trigger management](/automation/triggers/manage)Datastores[Create and interact with a datastore](/automation/datastores)[Add items to a datastore](/automation/datastores-add)[Retrieve items from a datastore](/automation/datastores-retrieve)[Delete items from a datastore](/automation/datastores-delete)Data types[Message metadata events](/automation/metadata-events)[Slack types](/automation/types)[Custom types](/automation/types/custom)[Team collaboration](/automation/collaborate)Interactivity[Interactivity overview](/automation/interactivity)[Creating a form](/automation/forms)[Creating an interactive message](/automation/interactive-messages)[Creating an interactive modal](/automation/interactive-modals)Testing and deploying apps[Local development](/automation/run)[Deploy to Slack](/automation/deploy)[Permissions control for Admins](/automation/admin)[Security](/automation/security)[Governing Slack Connect invites](/automation/governing-slack-connect-invites)Guided Tutorials[Announcement Bot](/tutorials/tracks/announcement-bot)[Request Time Off](/tutorials/tracks/building-approval-workflows)[Welcome Bot](/tutorials/tracks/create-bot-to-welcome-users)[GitHub Issue](/tutorials/tracks/create-github-issues-in-workflows)[Virtual Running Buddies](/tutorials/tracks/create-social-app)[Give Kudos](/tutorials/tracks/give-kudos)[Hello World](/tutorials/tracks/hello-world)[Create a custom step for Workflow Builder: Deno SDK](/tutorials/tracks/wfb-function)[Create a custom step for Workflow Builder: existing Bolt app](/tutorials/tracks/bolt-custom-function-existing)[Create a custom step for Workflow Builder: new Bolt app](/tutorials/tracks/bolt-custom-function)[Give us feedback](/automation/survey)Slack CLI[Install or uninstall the Slack CLI for Mac and Linux](/automation/cli/install-mac-linux)[Install or uninstall the Slack CLI for Windows](/automation/cli/install-windows)[Authorize the Slack CLI](/automation/cli/authorization)[Commands](/automation/cli/commands)[Command quick reference](/automation/cli/quick-reference)[Environment variables](/automation/environment-variables)[Logging](/automation/logging)CI/CD[CI/CD overview and setup](/automation/cli/CI-CD-setup)[Slack CLI Deployment using GitHub Actions](/automation/cli/CI-CD-tutorial)[Using Slack CLI on Enterprise Grid](/automation/cli/enterprise)[Error troubleshooting](/automation/cli/errors)Workflow Builder[Overview](/workflows)[Pre-built workflows](https://slack.com/slack-tips/workflow-builder-examples)[Custom steps dynamic options](/automation/runonslack/custom-steps-dynamic-options)Legacy steps from apps[Legacy steps from apps](/legacy/workflows/steps)[Legacy steps from apps FAQ](/legacy/workflows/steps/faq)[Workflow Powerups](https://github.com/slackapi/workflow-powerups)[Configuration views](/reference/workflows/configuration-view)[workflow\_step](/reference/workflows/workflow_step)[workflow\_step\_edit](/reference/workflows/workflow_step_edit)[workflow\_step\_execute](/events/workflow_step_execute)[workflow\_published](/events/workflow_published)[workflow\_unpublished](/events/workflow_unpublished)[workflow\_deleted](/events/workflow_deleted)[workflow\_step\_deleted](/events/workflow_step_deleted)

---

[Slack apps](/start/apps/)[Quickstart: Send a message](/quickstart)Authentication[Overview](/authentication)[Installing with OAuth](/authentication/oauth-v2)[Token rotation](/authentication/rotation)[Verifying requests](/authentication/verifying-requests-from-slack)[Security best practices](/authentication/best-practices)[Authorize with Postman](/authentication/postman)Sign in with Slack[Sign in with Slack setup](/authentication/sign-in-with-slack)[Sign in with Slack links](/authentication/sign-in-with-slack-links)[Sign in with Slack links using Auth0](/authentication/configuring-siwsl)Legacy app migration[Differences between classic apps and Slack apps](/authentication/quickstart)[Migration guide](/authentication/migration)Agents & Assistants[Usage guide](/docs/apps/ai)[Best practices](/docs/apps/ai-best-practices)Messaging[Send or schedule a message](/messaging/sending)[Retrieve a message](/messaging/retrieving)[Edit or delete a message](/messaging/modifying)Message composition[Add interactivity](/messaging/interactivity)[Working with files](/messaging/files)Working with metadata[Overview](/metadata/using)[Designing metadata schema](/reference/metadata)[Metadata events](/events?query=metadata)[Using incoming webhooks](/messaging/webhooks)[Unfurling links in messages](/reference/messaging/link-unfurling)[Upgrading to blocks](/messaging/attachments-to-blocks)Interactivity[Handling user interaction](/interactivity/handling)[Shortcuts](/interactivity/shortcuts)[Slash commands](/interactivity/slash-commands)App distribution[Distributing Slack apps](/distribution)[Hosting Slack apps](/distribution/hosting)[Onboarding users](/distribution/onboarding)Slack Marketplace[Overview](/slack-marketplace)[Slack Marketplace review guide](/slack-marketplace/review-guide)[Slack Marketplace guidelines](/slack-marketplace/guidelines)[Using Slack Marketplace](/slack-marketplace/using)[Slack Marketplace checklist](/reference/slack-apps/slack-marketplace-checklist)Apps for Admins[Overview](/admins)Workspace management[Managing users](/admins/workspaces)[Managing channels](/admins/channels)[Managing app approvals](/admins/approvals)[Managing workflow permissions and approvals](/admins/workflow-permissions)[Manging invite requests](/admins/inviting)Legal Holds API[Overview](/enterprise/legal-holds)[Reference](/enterprise/legal-holds/reference)Audit Logs API[Monitoring audit events](/admins/audit-logs)[Monitoring anomaly events](/admins/audit-logs-anomaly)[Endpoints and actions](/admins/audit-logs-call)SCIM API[Provisioning with SCIM](/admins/scim)[Provisioning with SCIM 2.0](/admins/scim2)Legacy[Overview](/legacy)Legacy authentication[Legacy: V1 OAuth 2.0](/legacy/oauth)[Legacy: OAuth Scopes](/legacy/oauth-scopes)[Legacy: Sign in with Slack](/legacy/sign-in-with-slack)Legacy messaging[Legacy: Messaging overview](/legacy/outmoded-messaging)[Legacy: interactive messages](/legacy/interactive-messages)[Legacy: Interactive field guide](/legacy/interactive-message-field-guide)[Legacy: Message buttons](/legacy/message-buttons)[Legacy: Message menus](/legacy/message-menus)[Legacy: Secondary attachments](/reference/messaging/attachments)[Legacy bots](/legacy/enabling-bot-users)[Legacy dialogs](/legacy/dialogs)Legacy custom integrations[Legacy custom integrations migration](/legacy/custom-integrations)[Legacy custom integrations bot users](/legacy/custom-integrations/bot-users)[Legacy custom integrations incoming webhooks](/legacy/custom-integrations/messaging/webhooks)[Legacy custom integrations outgoing webhooks](/legacy/custom-integrations/outgoing-webhooks)[Legacy custom integations slash commands](/legacy/custom-integrations/slash-commands)[Legacy custom integrations tokens](/legacy/custom-integrations/legacy-tokens)[Legacy Steps from Apps](/legacy/workflows/steps)[Legacy Steps from Apps FAQ](/legacy/workflows/steps/faq)[Legacy Steps from Apps migration guide](/legacy/workflows/steps/migration)[Legacy RTM API](/legacy/rtm)

---

[Platform concepts](/concepts)APIs[Overview](/apis)Web API[Overview](/web)[Pagination](/apis/pagination)[Rate limits](/apis/rate-limits)[Conversations API](/apis/conversations-api)[Calls API](/apis/calls)[Presence & status](/apis/presence-and-status)Events API[Events API](/apis/events-api)[HTTP vs Socket Mode](/apis/event-delivery)[HTTP Request URLs](/apis/http)[Socket Mode](/apis/socket-mode)Slack Connect[Understanding Slack Connect](/apis/channels-between-orgs)[Slack Connect Spaces](/apis/slack-connect-spaces)[Using Slack Connect API methods](/apis/connect)[Slack Connect API reference](/apis/connect-reference)[Slack Status API](/apis/slack-status)[App design](/design)[App manifests](/concepts/manifests)Block Kit[Overview](/block-kit)[Building with Block Kit](/block-kit/building)[Designing with Block Kit](/block-kit/designing)[Block Kit Builder](/tools/block-kit-builder)Reference[Overview](/reference/block-kit)[Blocks](/reference/block-kit/blocks)[Block elements & interactive components](/reference/block-kit/block-elements)[Composition objects](/reference/block-kit/composition-objects)[Block actions payloads](/reference/interaction-payloads/block-actions?ref=bk)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion?ref=bk)[Formatting rich text](/tutorials/tracks/rich-text-tutorial)Bolt Frameworks[Overview](/bolt)[Bolt for Java ↗](https://tools.slack.dev/java-slack-sdk/guides/bolt-basics/)[Bolt for JavaScript ↗](https://tools.slack.dev/bolt-js)[Bolt for Python ↗](https://tools.slack.dev/bolt-python)Deno Slack SDK[Install Deno](/automation/deno/install)[Develop with Deno](/automation/deno/develop)[TypeScript overview](/automation/deno/typescript)Enterprise Grid[Overview](/enterprise)[Single-workspace apps](/enterprise/developing)[Organization-ready apps](/enterprise/org-ready-apps)[Migrating to organization-ready apps](/enterprise/migration)[Testing Enterprise Grid apps](/enterprise/testing)[Invocation & interactivity](/interactivity)[Run on Slack Infrastructure](/concepts/rosi)Surfaces[Overview](/surfaces)[Messages](/surfaces/messages)[Modals](/surfaces/modals)[App Home](/surfaces/app-home)[Canvases](/surfaces/canvases)More[Formatting text for surfaces](/reference/surfaces/formatting)[Defining views](/reference/surfaces/views)[Upgrading dialogs to modals](/block-kit/dialogs-to-modals)[Deep linking into Slack](/reference/deep-linking)[Tokens](/concepts/token-types)[Workflow steps](/concepts/workflow-steps)

---

Reference[Events](/events)[Methods](/methods)Object types[Channel object](/types/channel)[Conversation object](/types/conversation)[Event object](/types/event)[File object](/types/file)[Group object](/types/group)[IM object](/types/im)[MPIM object](/types/mpim)[User object](/types/user)[Usergroup object](/types/usergroup)[Scopes](/scopes)[Slack functions](/reference/functions)[Connector functions](/automation/connectors)[Slack app manifests](/reference/manifests)Interaction payloads[Overview](/reference/interaction-payloads)[Shortcuts payloads](/reference/interaction-payloads/shortcuts)[Block actions payloads](/reference/interaction-payloads/block-actions)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion)[View interaction payloads](/reference/interaction-payloads/views)

---

Translated content[🇯🇵 日本語版ページ](/lang/ja-jp)

---

[Gov Slack](/gov-slack)Stay updated[Developer changelog](/changelog)[Developer blog](https://slack.com/blog/developers)[@SlackAPI](https://twitter.com/slackapi)Resources[Get support](/support)[Partner with us](https://slack.com/partners)[Slack Fund](https://slack.com/developers/fund)[FAQ](/faq)[Developer beta](/developer-beta)[API Terms of Service](https://slack.com/terms-of-service/api)Community[Community Forums](https://trailhead.salesforce.com/trailblazercommunity)[Groups and events](/groups-and-events)[Slack Engineering](/engineering)[Community code of conduct](/community/code-of-conduct)[Slack Platform](/docs)[Samples & templates](/samples)[Developer sandboxes](/docs/developer-sandbox)

---

[Workflow automations](/automation/)[Quickstart: Start a workflow](/automation/quickstart)Workflow apps[Samples & templates](/automation/samples)[Create or remove an app](/automation/create)[App manifest](/automation/manifest)Functions[Function types](/automation/functions/overview)[Slack functions](/automation/functions)[Connector functions](/automation/connectors)[Custom functions for workflow apps](/automation/functions/custom)[Custom steps for Bolt apps](/automation/functions/custom-bolt)[Custom function access](/automation/functions/access)[Using Slack API methods](/automation/apicalls)[External authentication](/automation/external-auth)[Workflows](/automation/workflows)Triggers[Starting workflows with triggers](/automation/triggers)[Link triggers](/automation/triggers/link)[Scheduled triggers](/automation/triggers/scheduled)[Event triggers](/automation/triggers/event)[Webhook triggers](/automation/triggers/webhook)[Trigger management](/automation/triggers/manage)Datastores[Create and interact with a datastore](/automation/datastores)[Add items to a datastore](/automation/datastores-add)[Retrieve items from a datastore](/automation/datastores-retrieve)[Delete items from a datastore](/automation/datastores-delete)Data types[Message metadata events](/automation/metadata-events)[Slack types](/automation/types)[Custom types](/automation/types/custom)[Team collaboration](/automation/collaborate)Interactivity[Interactivity overview](/automation/interactivity)[Creating a form](/automation/forms)[Creating an interactive message](/automation/interactive-messages)[Creating an interactive modal](/automation/interactive-modals)Testing and deploying apps[Local development](/automation/run)[Deploy to Slack](/automation/deploy)[Permissions control for Admins](/automation/admin)[Security](/automation/security)[Governing Slack Connect invites](/automation/governing-slack-connect-invites)Guided Tutorials[Announcement Bot](/tutorials/tracks/announcement-bot)[Request Time Off](/tutorials/tracks/building-approval-workflows)[Welcome Bot](/tutorials/tracks/create-bot-to-welcome-users)[GitHub Issue](/tutorials/tracks/create-github-issues-in-workflows)[Virtual Running Buddies](/tutorials/tracks/create-social-app)[Give Kudos](/tutorials/tracks/give-kudos)[Hello World](/tutorials/tracks/hello-world)[Create a custom step for Workflow Builder: Deno SDK](/tutorials/tracks/wfb-function)[Create a custom step for Workflow Builder: existing Bolt app](/tutorials/tracks/bolt-custom-function-existing)[Create a custom step for Workflow Builder: new Bolt app](/tutorials/tracks/bolt-custom-function)[Give us feedback](/automation/survey)Slack CLI[Install or uninstall the Slack CLI for Mac and Linux](/automation/cli/install-mac-linux)[Install or uninstall the Slack CLI for Windows](/automation/cli/install-windows)[Authorize the Slack CLI](/automation/cli/authorization)[Commands](/automation/cli/commands)[Command quick reference](/automation/cli/quick-reference)[Environment variables](/automation/environment-variables)[Logging](/automation/logging)CI/CD[CI/CD overview and setup](/automation/cli/CI-CD-setup)[Slack CLI Deployment using GitHub Actions](/automation/cli/CI-CD-tutorial)[Using Slack CLI on Enterprise Grid](/automation/cli/enterprise)[Error troubleshooting](/automation/cli/errors)Workflow Builder[Overview](/workflows)[Pre-built workflows](https://slack.com/slack-tips/workflow-builder-examples)[Custom steps dynamic options](/automation/runonslack/custom-steps-dynamic-options)Legacy steps from apps[Legacy steps from apps](/legacy/workflows/steps)[Legacy steps from apps FAQ](/legacy/workflows/steps/faq)[Workflow Powerups](https://github.com/slackapi/workflow-powerups)[Configuration views](/reference/workflows/configuration-view)[workflow\_step](/reference/workflows/workflow_step)[workflow\_step\_edit](/reference/workflows/workflow_step_edit)[workflow\_step\_execute](/events/workflow_step_execute)[workflow\_published](/events/workflow_published)[workflow\_unpublished](/events/workflow_unpublished)[workflow\_deleted](/events/workflow_deleted)[workflow\_step\_deleted](/events/workflow_step_deleted)

---

[Slack apps](/start/apps/)[Quickstart: Send a message](/quickstart)Authentication[Overview](/authentication)[Installing with OAuth](/authentication/oauth-v2)[Token rotation](/authentication/rotation)[Verifying requests](/authentication/verifying-requests-from-slack)[Security best practices](/authentication/best-practices)[Authorize with Postman](/authentication/postman)Sign in with Slack[Sign in with Slack setup](/authentication/sign-in-with-slack)[Sign in with Slack links](/authentication/sign-in-with-slack-links)[Sign in with Slack links using Auth0](/authentication/configuring-siwsl)Legacy app migration[Differences between classic apps and Slack apps](/authentication/quickstart)[Migration guide](/authentication/migration)Agents & Assistants[Usage guide](/docs/apps/ai)[Best practices](/docs/apps/ai-best-practices)Messaging[Send or schedule a message](/messaging/sending)[Retrieve a message](/messaging/retrieving)[Edit or delete a message](/messaging/modifying)Message composition[Add interactivity](/messaging/interactivity)[Working with files](/messaging/files)Working with metadata[Overview](/metadata/using)[Designing metadata schema](/reference/metadata)[Metadata events](/events?query=metadata)[Using incoming webhooks](/messaging/webhooks)[Unfurling links in messages](/reference/messaging/link-unfurling)[Upgrading to blocks](/messaging/attachments-to-blocks)Interactivity[Handling user interaction](/interactivity/handling)[Shortcuts](/interactivity/shortcuts)[Slash commands](/interactivity/slash-commands)App distribution[Distributing Slack apps](/distribution)[Hosting Slack apps](/distribution/hosting)[Onboarding users](/distribution/onboarding)Slack Marketplace[Overview](/slack-marketplace)[Slack Marketplace review guide](/slack-marketplace/review-guide)[Slack Marketplace guidelines](/slack-marketplace/guidelines)[Using Slack Marketplace](/slack-marketplace/using)[Slack Marketplace checklist](/reference/slack-apps/slack-marketplace-checklist)Apps for Admins[Overview](/admins)Workspace management[Managing users](/admins/workspaces)[Managing channels](/admins/channels)[Managing app approvals](/admins/approvals)[Managing workflow permissions and approvals](/admins/workflow-permissions)[Manging invite requests](/admins/inviting)Legal Holds API[Overview](/enterprise/legal-holds)[Reference](/enterprise/legal-holds/reference)Audit Logs API[Monitoring audit events](/admins/audit-logs)[Monitoring anomaly events](/admins/audit-logs-anomaly)[Endpoints and actions](/admins/audit-logs-call)SCIM API[Provisioning with SCIM](/admins/scim)[Provisioning with SCIM 2.0](/admins/scim2)Legacy[Overview](/legacy)Legacy authentication[Legacy: V1 OAuth 2.0](/legacy/oauth)[Legacy: OAuth Scopes](/legacy/oauth-scopes)[Legacy: Sign in with Slack](/legacy/sign-in-with-slack)Legacy messaging[Legacy: Messaging overview](/legacy/outmoded-messaging)[Legacy: interactive messages](/legacy/interactive-messages)[Legacy: Interactive field guide](/legacy/interactive-message-field-guide)[Legacy: Message buttons](/legacy/message-buttons)[Legacy: Message menus](/legacy/message-menus)[Legacy: Secondary attachments](/reference/messaging/attachments)[Legacy bots](/legacy/enabling-bot-users)[Legacy dialogs](/legacy/dialogs)Legacy custom integrations[Legacy custom integrations migration](/legacy/custom-integrations)[Legacy custom integrations bot users](/legacy/custom-integrations/bot-users)[Legacy custom integrations incoming webhooks](/legacy/custom-integrations/messaging/webhooks)[Legacy custom integrations outgoing webhooks](/legacy/custom-integrations/outgoing-webhooks)[Legacy custom integations slash commands](/legacy/custom-integrations/slash-commands)[Legacy custom integrations tokens](/legacy/custom-integrations/legacy-tokens)[Legacy Steps from Apps](/legacy/workflows/steps)[Legacy Steps from Apps FAQ](/legacy/workflows/steps/faq)[Legacy Steps from Apps migration guide](/legacy/workflows/steps/migration)[Legacy RTM API](/legacy/rtm)

---

[Platform concepts](/concepts)APIs[Overview](/apis)Web API[Overview](/web)[Pagination](/apis/pagination)[Rate limits](/apis/rate-limits)[Conversations API](/apis/conversations-api)[Calls API](/apis/calls)[Presence & status](/apis/presence-and-status)Events API[Events API](/apis/events-api)[HTTP vs Socket Mode](/apis/event-delivery)[HTTP Request URLs](/apis/http)[Socket Mode](/apis/socket-mode)Slack Connect[Understanding Slack Connect](/apis/channels-between-orgs)[Slack Connect Spaces](/apis/slack-connect-spaces)[Using Slack Connect API methods](/apis/connect)[Slack Connect API reference](/apis/connect-reference)[Slack Status API](/apis/slack-status)[App design](/design)[App manifests](/concepts/manifests)Block Kit[Overview](/block-kit)[Building with Block Kit](/block-kit/building)[Designing with Block Kit](/block-kit/designing)[Block Kit Builder](/tools/block-kit-builder)Reference[Overview](/reference/block-kit)[Blocks](/reference/block-kit/blocks)[Block elements & interactive components](/reference/block-kit/block-elements)[Composition objects](/reference/block-kit/composition-objects)[Block actions payloads](/reference/interaction-payloads/block-actions?ref=bk)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion?ref=bk)[Formatting rich text](/tutorials/tracks/rich-text-tutorial)Bolt Frameworks[Overview](/bolt)[Bolt for Java ↗](https://tools.slack.dev/java-slack-sdk/guides/bolt-basics/)[Bolt for JavaScript ↗](https://tools.slack.dev/bolt-js)[Bolt for Python ↗](https://tools.slack.dev/bolt-python)Deno Slack SDK[Install Deno](/automation/deno/install)[Develop with Deno](/automation/deno/develop)[TypeScript overview](/automation/deno/typescript)Enterprise Grid[Overview](/enterprise)[Single-workspace apps](/enterprise/developing)[Organization-ready apps](/enterprise/org-ready-apps)[Migrating to organization-ready apps](/enterprise/migration)[Testing Enterprise Grid apps](/enterprise/testing)[Invocation & interactivity](/interactivity)[Run on Slack Infrastructure](/concepts/rosi)Surfaces[Overview](/surfaces)[Messages](/surfaces/messages)[Modals](/surfaces/modals)[App Home](/surfaces/app-home)[Canvases](/surfaces/canvases)More[Formatting text for surfaces](/reference/surfaces/formatting)[Defining views](/reference/surfaces/views)[Upgrading dialogs to modals](/block-kit/dialogs-to-modals)[Deep linking into Slack](/reference/deep-linking)[Tokens](/concepts/token-types)[Workflow steps](/concepts/workflow-steps)

---

Reference[Events](/events)[Methods](/methods)Object types[Channel object](/types/channel)[Conversation object](/types/conversation)[Event object](/types/event)[File object](/types/file)[Group object](/types/group)[IM object](/types/im)[MPIM object](/types/mpim)[User object](/types/user)[Usergroup object](/types/usergroup)[Scopes](/scopes)[Slack functions](/reference/functions)[Connector functions](/automation/connectors)[Slack app manifests](/reference/manifests)Interaction payloads[Overview](/reference/interaction-payloads)[Shortcuts payloads](/reference/interaction-payloads/shortcuts)[Block actions payloads](/reference/interaction-payloads/block-actions)[Block suggestion payloads](/reference/interaction-payloads/block-suggestion)[View interaction payloads](/reference/interaction-payloads/views)

---

Translated content[🇯🇵 日本語版ページ](/lang/ja-jp)

---

[Gov Slack](/gov-slack)Stay updated[Developer changelog](/changelog)[Developer blog](https://slack.com/blog/developers)[@SlackAPI](https://twitter.com/slackapi)Resources[Get support](/support)[Partner with us](https://slack.com/partners)[Slack Fund](https://slack.com/developers/fund)[FAQ](/faq)[Developer beta](/developer-beta)[API Terms of Service](https://slack.com/terms-of-service/api)Community[Community Forums](https://trailhead.salesforce.com/trailblazercommunity)[Groups and events](/groups-and-events)[Slack Engineering](/engineering)[Community code of conduct](/community/code-of-conduct)
# Verifying requests from Slack

Slack signs its requests using a secret unique to your app.

With the help of signed secrets, your app can more confidently verify whether requests from Slack are authentic. The signing process is the cooler, younger sibling of verification tokens.

## Understanding HTTP requests from Slack

Slack uses HTTP requests to notify your app that something has happened. If you're subscribed to the [Events API](/events-api), your app might receive a request when a reacji has been added to a message. If you're the proud owner of a [slash command](/slash-commands), your app'll be notified when someone uses your command. You might even be notified that your app has been given new resources and permissions.

An HTTP request contains:

* a request line: GET /slackapi/interactive-message-action-response
* a series of headers, like Content-type: application/json; charset=utf-8
* a blank line
* a UTF-8 encoded message body, like userID=1234&someField=5678

When Slack sends your app a request, your app must check to make sure it's authentic. You do this by computing a signature.

## Understanding signed secrets

Slack creates a unique string for your app and shares it with you. Verify requests from Slack with confidence by verifying signatures using your signing secret.

On each HTTP request that Slack sends, Slack adds an `X-Slack-Signature` HTTP header (or `x-slack-signature` — **header names are meant to be case-insensitive, so the letter case should not be assumed**).

The signature is created by hashing the request body with the SHA-256 function, and combining it with an [HMAC](https://en.wikipedia.org/wiki/HMAC) signing secret. The resulting signature is unique to each request and doesn't contain any secret information, keeping your app secure.

Signing secrets replace the old [verification tokens](/events-api#url_verification). Good news: the new signature is used *exactly the same way* as the deprecated verification token. It's just computed more securely.

Some SDKs perform signature verification automatically, accessible via a drop-in replacement of your signing secret for your old verification token. See the [SDK support](#sdk_support) section for more detail.

Request signing follows this pattern:

* Your app receives a request from Slack.
* Your app computes a signature based on the request.
* You make sure the signature *you've* computed matches the signature *on the request*.

Let's go over the recipe for this signature dish.

## Validating a request

Ingredients required:

* 1 HTTP request from Slack
* 1 signing secret
* 1 programming language of your choice

**Note:** This pseudocode example walks through validating a request. Nearly all modern programming languages can perform equivalent calculations with HMAC SHA256. [Here's the library for Node, for example.](https://nodejs.org/api/crypto.html#crypto_crypto_createhmac_algorithm_key_options)

**1. Grab your Slack [Signing Secret](#signing_secrets_admin_page), available in the app admin panel under Basic Info.**

In this example, the **Signing Secret** is `8f742231b10e8888abcd99yyyzzz85a5`. (You don't need to convert the **Signing Secret** to binary. Treat it as a standard UTF-8 string.) While you're at it, extract the raw request body from the request.

```
slack_signing_secret = 'MY_SLACK_SIGNING_SECRET' // Set this as an environment variable
>>> 8f742231b10e8888abcd99yyyzzz85a5
request_body = request.body()
>>> token=xyzz0WbapA4vBCDEFasx0q6G&team_id=T1DC2JH3J&team_domain=testteamnow&channel_id=G8PSS9T3V&channel_name=foobar&user_id=U2CERLKJA&user_name=roadrunner&command=%2Fwebhook-collect&text=&response_url=https%3A%2F%2Fhooks.slack.com%2Fcommands%2FT1DC2JH3J%2F397700885554%2F96rGlfmibIGlgcZRskXaIFfN&trigger_id=398738663015.47445629121.803a0bc887a14d10d2c447fce8b6703c

```

**Use the raw request body, without headers, before it has been deserialized from JSON or other forms.**

For example, in Python's Flask, use `request.get_data()` before accessing any other methods on the request in order to get the raw request payload, without performing JSON deserialization.

**2. Extract the timestamp header from the request.**

In our example the timestamp header is `1531420618`.

The signature depends on the timestamp to protect against replay attacks. While you're extracting the timestamp, check to make sure that the request occurred recently. In this example, we verify that the timestamp does not differ from local time by more than five minutes.

```
timestamp = request.headers['X-Slack-Request-Timestamp']
>>> 1531420618
if absolute_value(time.time() - timestamp) > 60 * 5:
    # The request timestamp is more than five minutes from local time.
    # It could be a replay attack, so let's ignore it.
    return

```

**3. Concatenate the version number, the timestamp, and the request body together, using a colon (`:`) as a delimiter.**

In this example, we have the following values:

* version number: `v0`
* timestamp: `1531420618`
* request body: `token=xyzz...`

The resulting example basestring is (`'v0:1531420618:token=xyzz...`).

```
sig_basestring = 'v0:' + timestamp + ':' + request_body
>>> 'v0:1531420618:token=xyzz0WbapA4vBCDEFasx0q6G&team_id=T1DC2JH3J&team_domain=testteamnow&channel_id=G8PSS9T3V&channel_name=foobar&user_id=U2CERLKJA&user_name=roadrunner&command=%2Fwebhook-collect&text=&response_url=https%3A%2F%2Fhooks.slack.com%2Fcommands%2FT1DC2JH3J%2F397700885554%2F96rGlfmibIGlgcZRskXaIFfN&trigger_id=398738663015.47445629121.803a0bc887a14d10d2c447fce8b6703c'

```

**4. Hash the resulting string, using the signing secret as a key, and taking the hex digest of the hash.**

In this example, we compute a hex digest of `a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503`.

The full signature is formed by prefixing the hex digest with `v0=`, to make `'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'`.

```
my_signature = 'v0=' + hmac.compute_hash_sha256(
slack_signing_secret,
sig_basestring
).hexdigest()
>>> 'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'

```

**5. Compare the resulting signature to the header on the request.**

For best practice, use an hmac `compare` function instead of directly comparing the signatures for equality.

```
slack_signature = request.headers['x-slack-signature']
>>> 'v0=a2114d57b48eac39b9ad189dd8316235a7b4a8d21a10bd27519666489c69b503'
if hmac.compare(my_signature, slack_signature):
    # hooray, the request came from Slack!
    deal_with_request(request)

```
## App management updates

For a while, you'll see two secrets side-by-side in the app management panel:

![Admin page with signing secret and verification token](https://a.slack-edge.com/80588/img/api/signing_secrets_admin_page.png)

One secret is the new **Signing Secret**, and one is the deprecated verification token. **We strongly recommend you *only* use the Signing Secret from now on.**

## Regenerating secrets

Regenerate your secret using the "Regenerate" button next to the **Signing Secret** in the [admin panel](/apps).

## SDK support

These Slack SDKs, among others, currently support signing secrets:

* [Built-in support in Bolt for JavaScript](https://github.com/slackapi/bolt-js/blob/main/src/receivers/verify-request.ts)
* [Built-in support in Bolt for Python](https://github.com/slackapi/bolt-python/tree/main/slack_bolt/middleware/request_verification)
* [Built-in support in Bolt for Java](https://github.com/slackapi/java-slack-sdk/blob/main/bolt/src/main/java/com/slack/api/bolt/middleware/builtin/RequestVerification.java)

In each package, using a signed secret is no different than using the old verification token. Set your **Signing Secret** as an environment variable: `export SLACK_SIGNING_SECRET=abc123`. Then, initialize the package with the secret.

For example, a Node app that uses interactive messages would create a message listener using the following single line of code:

```
// Create the adapter using the app's signing secret, read from env
const interactions = createMessageAdapter(process.env.SLACK_SIGNING_SECRET);

```

A Node app that uses the Events API would initialize a listener for events using the following code:

```
const slackEvents = createSlackEventAdapter(process.env.SLACK_SIGNING_SECRET);

```

A Python app that uses the Events API would initialize a listener for events using the following code:

```
SLACK_SIGNING_SECRET = os.environ["SLACK_SIGNING_SECRET"]
slack_events = SlackEventAdapter(SLACK_SIGNING_SECRET, "/slack/events")

```

You can also examine the open-source [BotKit](https://github.com/howdyai/botkit/blob/main/packages/botbuilder-adapter-slack/src/slack_adapter.ts) to see an implementation of Slack signature verification in the wild.

## Verification token deprecation

We'll continue allowing apps to use verification tokens for now. However, we will retire them completely in the future. We strongly recommend switching to request signing as soon as possible.

## Types of requests that support signed secrets

* [Slash commands](/slash-commands)
* [Events API](/events-api)
* [Interactive messages](/interactive-messages)
* [Actions](/actions)
* [Message buttons](/docs/message-buttons)
* [Message menus](/docs/message-menus)
* [Legacy outgoing webhooks](/custom-integrations/outgoing-webhooks)

## Using mutual TLS

Requests from Slack also support authentication through [**Mutual TLS**](https://en.wikipedia.org/wiki/Mutual_authentication).

Mutual TLS has the same goal as request signing: it allows your app to verify that an outgoing HTTP request is authentic. Mutual TLS *differs* from request signing in where and how it occurs. Instead of verifying request signatures in your application code, you configure your TLS-terminating server to authenticate client certificates from Slack.

Here's the Mutual TLS process in more detail:

**1. Configure your TLS-terminating server to request client certificates.**

Your TLS-terminating server should be configured to accept client certificates under *any* [DigiCert root CA certificate](https://www.digicert.com/kb/digicert-root-certificates.htm#roots).

Slack's client certificate may not be signed directly by a root CA certificate, but requests from Slack will include any intermediate CA certificates necessary for verification.

**2. Extract either of the following fields in the certificate:**

* `Subject Alternative Name`: `DNS:platform-tls-client.slack.com`. By [RFC 6125](https://tools.ietf.org/html/rfc6125), this is the recommended field to extract.
* `Subject Common Name`: `platform-tls-client.slack.com`.

**3. Inject the extracted domain into a header, and forward the request to your application server.**

Here's an example header you might add to the request: `X-Client-Certificate-SAN: platform-tls-client.slack.com`. Whatever you choose to call your header, check to make sure this header hasn't *already* been added to the request. Your upstream application server **must know** that the header was added by your TLS-terminating server as part of the Mutual TLS process.

**4. In your application server, check the header and verify that its value matches the expected domain, `platform-tls-client.slack.com`.**

Do not accept header values with any other domain name, including other subdomains of slack.com.

Recommended reading

* [Installing with OAuth](/authentication/oauth-v2)
## On this page

[Understanding HTTP requests from Slack](#http-requests)[Understanding signed secrets](#about)[Validating a request](#validating-a-request)[App management updates](#app-management-updates)[Regenerating secrets](#regenerating)[SDK support](#SDK-support)[Verification token deprecation](#deprecation)[Types of requests that support signed secrets](#types_of_events)[Using mutual TLS](#mutual-tls)Next steps

* [Token types](/concepts/token-types)
[Status](https://slack-status.com)[Policy](/developer-policy)[Terms](https://slack.com/intl/en-gb/terms-of-service/api-updated)[Your Privacy Choices](https://www.salesforce.com/form/other/privacy-request/ "Your Privacy Choices")Cookie Preferences

Subscribe to our [developer changelog](/changelog)

Connect with our [platform community](https://slackcommunity.com/?utm_medium=referral&utm_source=apislack&utm_campaign=api_site_footer)

Need help? [Contact developer support](/support)



=== Content from github.com_4e1e7348_20250111_141053.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F70508)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F70508)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=getsentry%2Fsentry)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getsentry](/getsentry)
/
**[sentry](/getsentry/sentry)**
Public

* [Notifications](/login?return_to=%2Fgetsentry%2Fsentry) You must be signed in to change notification settings
* [Fork
  4.2k](/login?return_to=%2Fgetsentry%2Fsentry)
* [Star
   39.6k](/login?return_to=%2Fgetsentry%2Fsentry)

* [Code](/getsentry/sentry)
* [Issues
  2k](/getsentry/sentry/issues)
* [Pull requests
  206](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects
  0](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

Additional navigation options

* [Code](/getsentry/sentry)
* [Issues](/getsentry/sentry/issues)
* [Pull requests](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgetsentry%2Fsentry%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgetsentry%2Fsentry%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# ref: remove logging the slack request body #70508

 Merged

[asottile-sentry](/asottile-sentry)
merged 1 commit into
[master](/getsentry/sentry/tree/master "getsentry/sentry:master")
from
[asottile-dont-log-tokens-plz](/getsentry/sentry/tree/asottile-dont-log-tokens-plz "getsentry/sentry:asottile-dont-log-tokens-plz")

May 8, 2024

 Merged

# [ref: remove logging the slack request body](#top) #70508

[asottile-sentry](/asottile-sentry)
merged 1 commit into
[master](/getsentry/sentry/tree/master "getsentry/sentry:master")
from
[asottile-dont-log-tokens-plz](/getsentry/sentry/tree/asottile-dont-log-tokens-plz "getsentry/sentry:asottile-dont-log-tokens-plz")

May 8, 2024

[Conversation
1](/getsentry/sentry/pull/70508)
[Commits
1](/getsentry/sentry/pull/70508/commits)
[Checks
48](/getsentry/sentry/pull/70508/checks)
[Files changed](/getsentry/sentry/pull/70508/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=60&v=4)](/asottile-sentry)

Copy link

Member

### @asottile-sentry **[asottile-sentry](/asottile-sentry)** commented [May 8, 2024](#issue-2285897066)

 *No description provided.*

Sorry, something went wrong.

All reactions

 [![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&u=fc25b6665cdf06e510898da3a3ff279cc6b96080&v=4)](/asottile-sentry)
[asottile-sentry](/asottile-sentry)
requested a review
from a team
[May 8, 2024 15:37](#event-12745891340)

 [![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&u=fc25b6665cdf06e510898da3a3ff279cc6b96080&v=4)](/asottile-sentry)
[asottile-sentry](/asottile-sentry)
requested a review
from a team
as a [code owner](/getsentry/sentry/blob/50b4ed390b1cbf6570b843f3f3ae7672d8924276/.github/CODEOWNERS#L313)
[May 8, 2024 15:37](#event-12745891461)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
the
[Scope: Backend](/getsentry/sentry/labels/Scope%3A%20Backend)
Automatically applied to PRs that change backend components
label
[May 8, 2024](#event-12745894650)

[![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&u=fc25b6665cdf06e510898da3a3ff279cc6b96080&v=4)](/asottile-sentry)
[asottile-sentry](/asottile-sentry)
enabled auto-merge (squash)
[May 8, 2024 15:37](#event-12745894779)

[![mdtro](https://avatars.githubusercontent.com/u/20070360?s=60&v=4)](/mdtro)

**[mdtro](/mdtro)**
approved these changes
[May 8, 2024](#pullrequestreview-2046023029)

 [View reviewed changes](/getsentry/sentry/pull/70508/files)

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-nlzca0fgn.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-nlzca0fgn.sentry.dev)
[May 8, 2024 15:39](#event-12745919318)
[View deployment](https://sentry-nlzca0fgn.sentry.dev)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)
[![Codecov](https://avatars.githubusercontent.com/in/254?s=40&u=c392dd7c2afc51fe2347d4296afa8494ac05772e&v=4)](https://github.com/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [May 8, 2024](#issuecomment-2100927547) • edited Loading

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://app.codecov.io/gh/getsentry/sentry/pull/70508?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) Report All modified and coverable lines are covered by tests ✅  Project coverage is 80.00%. Comparing base [(`eb4de59`)](https://app.codecov.io/gh/getsentry/sentry/commit/eb4de59175e6c7604e3f3bdf3ddbac75181df6a4?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) to head [(`b34812a`)](https://app.codecov.io/gh/getsentry/sentry/pull/70508?dropdown=coverage&src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry). Report is 16 commits behind head on master. Additional details and impacted files ``` @@            Coverage Diff             @@ ##           master   #70508      +/-   ## ========================================== - Coverage   80.00%   80.00%   -0.01%      ==========================================   Files        6492     6492                 Lines      289975   289999      +24        Branches    49956    49966      +10      ========================================== + Hits       232004   232018      +14      - Misses      57560    57570      +10        Partials      411      411               ```  | [Files](https://app.codecov.io/gh/getsentry/sentry/pull/70508?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) | Coverage Δ |  | | --- | --- | --- | | [src/sentry/integrations/slack/requests/base.py](https://app.codecov.io/gh/getsentry/sentry/pull/70508?src=pr&el=tree&filepath=src%2Fsentry%2Fintegrations%2Fslack%2Frequests%2Fbase.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry#diff-c3JjL3NlbnRyeS9pbnRlZ3JhdGlvbnMvc2xhY2svcmVxdWVzdHMvYmFzZS5weQ==) | `94.67% <ø> (-0.04%)` | ⬇️ |   ... and [12 files with indirect coverage changes](https://app.codecov.io/gh/getsentry/sentry/pull/70508/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) |

All reactions

Sorry, something went wrong.

[![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&v=4)](/asottile-sentry)

`[ref: remove logging the slack request body](/getsentry/sentry/pull/70508/commits/b34812a5db2d081350151a62b702bfe029f31285 "ref: remove logging the slack request body")`

`[b34812a](/getsentry/sentry/pull/70508/commits/b34812a5db2d081350151a62b702bfe029f31285)`

 [![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&u=fc25b6665cdf06e510898da3a3ff279cc6b96080&v=4)](/asottile-sentry)
[asottile-sentry](/asottile-sentry)
[force-pushed](/getsentry/sentry/compare/c92ff4ac0e7852ced828984d7706014309d0a677..b34812a5db2d081350151a62b702bfe029f31285)
the
asottile-dont-log-tokens-plz

branch
from
[`c92ff4a`](/getsentry/sentry/commit/c92ff4ac0e7852ced828984d7706014309d0a677) to
[`b34812a`](/getsentry/sentry/commit/b34812a5db2d081350151a62b702bfe029f31285)  [Compare](/getsentry/sentry/compare/c92ff4ac0e7852ced828984d7706014309d0a677..b34812a5db2d081350151a62b702bfe029f31285)
[May 8, 2024 17:10](#event-12746922867)

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-dx2ka7ie3.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-dx2ka7ie3.sentry.dev)
[May 8, 2024 17:13](#event-12746947712)
[View deployment](https://sentry-dx2ka7ie3.sentry.dev)

 Hide details
View details

[![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&u=fc25b6665cdf06e510898da3a3ff279cc6b96080&v=4)](/asottile-sentry)
[asottile-sentry](/asottile-sentry)
merged commit [`a736720`](/getsentry/sentry/commit/a736720b4ea97a24855ab1c0ca4d4dc5d05a55ca)
into
master

[May 8, 2024](https://github.com/getsentry/sentry/pull/70508#event-12747321036)
49 checks passed

 [![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=40&u=fc25b6665cdf06e510898da3a3ff279cc6b96080&v=4)](/asottile-sentry)
[asottile-sentry](/asottile-sentry)
deleted the
asottile-dont-log-tokens-plz

branch
[May 8, 2024 17:48](#event-12747321241)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
locked and limited conversation to collaborators
[May 24, 2024](#event-12916481166)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F70508).

Reviewers

[![@mdtro](https://avatars.githubusercontent.com/u/20070360?s=40&v=4)](/mdtro) [mdtro](/mdtro)

mdtro approved these changes

Assignees

No one assigned

Labels

[Scope: Backend](/getsentry/sentry/labels/Scope%3A%20Backend)
Automatically applied to PRs that change backend components

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@asottile-sentry](https://avatars.githubusercontent.com/u/103459774?s=52&v=4)](/asottile-sentry) [![@mdtro](https://avatars.githubusercontent.com/u/20070360?s=52&v=4)](/mdtro)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from develop.sentry.dev_461cfc1c_20250111_141051.html ===
[![Sentry's logo](/_next/static/media/sentry-logo-dark.fc8e1eeb.svg)Docs](/ "Sentry error monitoring")`⌘K`orAsk AI[Changelog](https://sentry.io/changelog/)[Sandbox](https://try.sentry-demo.com/demo/start/)[Go to Sentry](https://sentry.io/)[Get Started](https://sentry.io/signup/)Menu

* [###### Getting Started](/getting-started/)
* [###### Engineering Practices](/engineering-practices/)
* [###### Application Architecture](/application-architecture/)
* [###### Development Infrastructure](/development-infrastructure/)
* [###### Backend](/backend/)
* [###### Frontend](/frontend/)
* [###### Services](/services/)
* [###### Integrations](/integrations/)
  + [Azure DevOps](/integrations/azuredevops/)
  + [Bitbucket](/integrations/bitbucket/)
  + [Discord](/integrations/discord/)
  + [GitHub](/integrations/github/)
  + [GitLab](/integrations/gitlab/)
  + [Heroku](/integrations/heroku/)
  + [Jira](/integrations/jira/)
  + [Jira Server](/integrations/jira-server/)
  + [Microsoft Teams](/integrations/msteams/)
  + [PagerDuty](/integrations/pagerduty/)
  + [Slack](/integrations/slack/)
  + [Vercel](/integrations/vercel/)
* [###### Ingestion](/ingestion/)
* [###### SDKs](/sdk/)
* [###### Self-Hosted Sentry](/self-hosted/)

---

* [Code of Conduct](https://open.sentry.io/code-of-conduct/)
* [User Documentation](https://docs.sentry.io)

* [Home](/)
* [Integrations](/integrations/)
* [Slack Integration](/integrations/slack/)

# Slack Integration

##

## [Create a Slack App](#create-a-slack-app)

To use Sentry’s Slack integration you’ll need to create a Slack app. Navigate to [Your Apps](https://api.slack.com/apps/) and click **Create New App**.

[![Create](/_next/image/?url=%2Fmdx-images%2Fcreate-465GXV3O.png%23591x491&w=1200&q=75)](/mdx-images/create-465GXV3O.png)

After naming your app and connecting your workspace, navigate to **Basic Information**. Here you’ll find your Client ID, Client Secret, and Verification token that lets your app access the Slack API.

Here’s where you’ll connect your self-hosted Sentry instance to your newly created Slack app.

Copy your Client ID, Client Secret, and Signing Secret and paste them into `~/.sentry/config.yml` or `~/.sentry/sentry.conf.py`.

YAMLCopied
```
slack.client-id: <client id>
slack.client-secret: <client secret>
slack.signing-secret: <signing secret>

```

If you're a Sentry employee, you can set the `slack.client-id` and `slack.client-secret` in `devlocal.py` inside `getsentry` instead.

**NOTE**: If you're doing local Sentry development, you should usse ngrok and install the Slack integration from the ngrok subdomain or it will fail to install. Refer to [Developing with Ngrok](https://develop.sentry.dev/development-infrastructure/ngrok/) for more information.

After you update the `config.yml`, `sentry.conf.py`, or `devlocal.py` you need to restart your Sentry server to continue configuring the Slack app.

##### Note (for self-hosted users)

After changing configuration files, re-run the `./install.sh` script, to rebuild and restart the containers. See the [configuration section](/self-hosted/#configuration) for more information.

Now that you’ve created your app and updated your Sentry config, you can navigate to **Interactivity & Shortcuts** under **Features**.

Toggle on **Interactivity**.

Now you’ll be able to enter your **Request URL** (this is the location of your self-hosted Sentry) and **Options Load URL**:

BashCopied
```
Request URL: {YOUR_DOMAIN}/extensions/slack/action/
Options Load URL: {YOUR_DOMAIN}/extensions/slack/options-load/

```

Navigate to **OAuth & Permissions** to configure the Redirect URLs.

[![OAuth](/_next/image/?url=%2Fmdx-images%2Foauth-2MDZGAUO.png%23502x499&w=1080&q=75)](/mdx-images/oauth-2MDZGAUO.png)

Click **Add a new Redirect URL**, enter the URL, and click **Add**. Set the URL to:

BashCopied
```
{YOUR_DOMAIN}/extensions/slack/setup/

```

Click **Save URLs**.

On the same page under **Scopes** you'll need to add **Bot Scopes** and **User Scopes**.

Add the following scopes to **Bot Scopes**:

* `channels:read`
* `chat:write`
* `chat:write.customize`
* `chat:write.public`
* `commands`
* `groups:read`
* `im:history`
* `im:read`
* `links:read`
* `links:write`
* `team:read`
* `users:read`

Add the following scopes to **User Scopes**:

* `links:read`
* `users:read`
* `users:read.email`

You have the option to set 'Restrict API Token Usage' on this page if you want to limit use of your app’s OAuth tokens to a list of IP addresses and ranges you provide.

Navigate to **Event Subscriptions** and toggle “On”. Here you will enter another Request URL: `{YOUR_DOMAIN}/extensions/slack/event/`

You’ll see “Verified” when you’ve entered the correct URL.

[![Events](/_next/image/?url=%2Fmdx-images%2Fevents-HMOXLAHS.png%23735x265&w=1920&q=75)](/mdx-images/events-HMOXLAHS.png)

When you enter the 'Request URL', Slack tries to verify it. The request will fail if you didn’t configure the client keys/secret and restart Sentry to ensure those config changes were picked up. If it fails to validate, first make sure your Sentry instance is running and Slack can talk to it (Slack [doesn’t have an IP range](https://twitter.com/slackapi/status/567110311476350976?lang=en)).

Still on the **Event Subscription** page, go to **Subscribe to bot events** and add the following bot user events:

* `link_shared`
* `message.im`

and next go to **Subscribe to events on behalf of users** and add the following event:

* `link_shared`

Lastly, still on that page, go to **App Unfurl Domains**, click **Add Domain** to enter your domain and click Done.

At the bottom of the page, click **Save Changes**.

Navigate to **App Home**, under **Features**. Here is where you can edit your bot's display name (this is the name that will be displayed when alerts are triggered).

[![Bot](/_next/image/?url=%2Fmdx-images%2Fbot-KL2J5DMS.png%23562x434&w=1200&q=75)](/mdx-images/bot-KL2J5DMS.png)

If you plan on having Slack alerts sent to specific users (`@person`) in addition to channels, toggle on the **Messages Tab** under **Show Tabs** in the **App Home** page.

Navigate to **Slash Commands** under **Features**. Click **Create New Command** and enter the following values:

| Setting | Value |
| --- | --- |
| Command | `/{yourname}-sentry` |
| Request URL | `{YOUR_DOMAIN}/extensions/slack/commands/` |

##### Note

When creating the slash command, don’t use `/sentry`. Do something like `/{your_name}-sentry`. If multiple apps are installed with the same slash command, the most recently installed one takes over.

At the bottom of the page, click **Save**.

Now you can use Slack with Sentry! See our [documentation on installing and configuring the Slack integration for your projects](https://docs.sentry.io/product/integrations/notification-incidents/slack/) to take advantage of multi-channel Alert routing.

[PreviousPagerDuty Integration](/integrations/pagerduty)[NextVercel Integration](/integrations/vercel)**Help improve this content**
Our documentation is open source and available on GitHub. Your contributions are welcome, whether fixing a typo (drat!) or suggesting an update ("yeah, this would be better").[How to contribute](https://docs.sentry.io/contributing/)   |  [Edit this page](https://github.com/getsentry/sentry-docs/edit/master/develop-docs/integrations/slack/index.mdx)   |  [Create a docs issue](https://github.com/getsentry/sentry-docs/issues/new/choose)   |  [Get support](https://sentry.zendesk.com/hc/en-us/)


