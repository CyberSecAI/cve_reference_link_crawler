=== Content from plugins.trac.wordpress.org_53c119cf_20250111_181144.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3030425%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.2%2Fpagebuilder%2Finc%2FadminAjaxContents.php%3Fold%3D3025105%26old_path%3Daccelerated-mobile-pages%252Ftags%252F1.0.93.1%252Fpagebuilder%252Finc%252FadminAjaxContents.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3025105/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php?old=3030425&old_path=%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.2%2Fpagebuilder%2Finc%2FadminAjaxContents.php)

---

# Changes from [accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php?rev=3025105 "Show entry in browser") at [r3025105](/changeset/3025105 "Show full changeset") to [accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php](/browser/accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php?rev=3030425 "Show entry in browser") at [r3030425](/changeset/3030425 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php](/browser/accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php?rev=3030425 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php](/changeset/3030425/accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php?old=3025105&old_path=accelerated-mobile-pages%2Ftags%2F1.0.93.1%2Fpagebuilder%2Finc%2FadminAjaxContents.php "Show the [3025105:3030425] differences restricted to accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php")

  | [r3025105](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php?rev=3025105#L127 "Show revision 3025105 of this file in browser") | [r3030425](/browser/accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php?rev=3030425#L127 "Show revision 3030425 of this file in browser") |  |
  | --- | --- | --- |
  | 127 | 127 | add\_action( 'wp\_ajax\_amppb\_remove\_saved\_layout\_data', 'amppb\_remove\_saved\_layout\_data'); |
  | 128 | 128 | function amppb\_remove\_saved\_layout\_data(){ |
  |  | 129 |  |
  |  | 130 | $layoutid = intval($\_POST['layoutid']); |
  |  | 131 |  |
  |  | 132 | // Exit if the user does not have proper permissions |
  |  | 133 | if ( !current\_user\_can( 'delete\_post', $layoutid ) ) { |
  |  | 134 | echo json\_encode(array("status"=>300,"message"=>'User not have authority')); |
  |  | 135 | die; |
  |  | 136 | } |
  |  | 137 |  |
  | 129 | 138 | check\_ajax\_referer( 'verify\_pb', 'verify\_nonce' ); |
  | 130 | 139 | $users = wp\_get\_current\_user(); |
  | 131 | 140 | $roles = $users->roles; |
  | 132 | 141 | if(in\_array("administrator", $roles) || in\_array("editor", $roles)||in\_array("author", $roles)|| in\_array("contributor", $roles)){ |
  | 133 |  | ~~$layoutid = intval($\_POST['layoutid']);~~ |
  | 134 | 142 | $is\_delete = wp\_delete\_post($layoutid); |
  | 135 | 143 | $allPostLayout = array(); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3030425&old=3025105&new_path=%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.2%2Fpagebuilder%2Finc%2FadminAjaxContents.php&old_path=%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.1%2Fpagebuilder%2Finc%2FadminAjaxContents.php)
* [Zip Archive](?format=zip&new=3030425&old=3025105&new_path=%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.2%2Fpagebuilder%2Finc%2FadminAjaxContents.php&old_path=%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.1%2Fpagebuilder%2Finc%2FadminAjaxContents.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_e852a85a_20250111_181143.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Faccelerated-mobile-pages%2Ftags%2F1.0.93.1%2Fpagebuilder%2Finc%2FadminAjaxContents.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php)

---

# [source:](/browser?order=name "Go to repository root") [accelerated-mobile-pages](/browser/accelerated-mobile-pages?order=name "View accelerated-mobile-pages")/[tags](/browser/accelerated-mobile-pages/tags?order=name "View tags")/[1.0.93.1](/browser/accelerated-mobile-pages/tags/1.0.93.1?order=name "View 1.0.93.1")/[pagebuilder](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder?order=name "View pagebuilder")/[inc](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc?order=name "View inc")/[adminAjaxContents.php](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php?order=name "View adminAjaxContents.php")

View diff against:

View revision:

| [Last change](/changeset/3025105/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php "View differences") on this file was [3025105](/changeset/3025105/ "View changeset 3025105"), checked in by ahmedkaludi, [12 months ago](/timeline?from=2024-01-22T12%3A13%3A02Z&precision=second "See timeline at 01/22/2024 12:13:02 PM") |
| --- |
| 1.0.93.1 (22nd January 2024)  * Fixed : CSS syntax error in the 'style amp-custom tag #5564 |
| **File size:** 10.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | // Exit if accessed directly. |
| [3](#L3) | if ( ! defined( 'ABSPATH' ) ) exit; |
| [4](#L4) |  |
| [5](#L5) | add\_action('wp\_ajax\_amppb\_color\_picker','amppb\_color\_picker'); |
| [6](#L6) | function amppb\_color\_picker(){ |
| [7](#L7) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [8](#L8) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [9](#L9) | die; |
| [10](#L10) | } |
| [11](#L11) | // Exit if the user does not have proper permissions |
| [12](#L12) | if(! current\_user\_can( 'editor' ) ) { |
| [13](#L13) | return ; |
| [14](#L14) | } |
| [15](#L15) | wp\_enqueue\_style( 'wp-color-picker' ); |
| [16](#L16) | echo '<input type="text" value="#bada55" class="color-field"/><script>$(\'.color-field\').wpColorPicker()</script>'; |
| [17](#L17) | } |
| [18](#L18) |  |
| [19](#L19) | add\_action('wp\_ajax\_amppb\_textEditor', 'amppb\_textEditor'); |
| [20](#L20) | function amppb\_textEditor(){ |
| [21](#L21) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [22](#L22) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [23](#L23) | die; |
| [24](#L24) | } |
| [25](#L25) | // Exit if the user does not have proper permissions |
| [26](#L26) | if(! current\_user\_can( 'editor' ) ) { |
| [27](#L27) | return ; |
| [28](#L28) | } |
| [29](#L29) | echo wp\_editor( '', 'My\_TextAreaID\_22',      $settings = array( 'tinymce'=>true, 'textarea\_name'=>'name77', 'wpautop' =>false,   'media\_buttons' => true ,   'teeny' => false, 'quicktags'=>true, )   );    exit; |
| [30](#L30) | } |
| [31](#L31) |  |
| [32](#L32) | add\_action("wp\_ajax\_enable\_amp\_pagebuilder", "enable\_amp\_pagebuilder"); |
| [33](#L33) | function enable\_amp\_pagebuilder(){ |
| [34](#L34) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [35](#L35) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [36](#L36) | die; |
| [37](#L37) | } |
| [38](#L38) | // Exit if the user does not have proper permissions |
| [39](#L39) | // check user permissions |
| [40](#L40) | if ( ! current\_user\_can('edit\_posts') && ! current\_user\_can('edit\_pages') ) { |
| [41](#L41) | echo json\_encode(array("status"=>300,"message"=>'User do not have access')); |
| [42](#L42) | die; |
| [43](#L43) | } |
| [44](#L44) | if(isset($\_POST['postId'])){ |
| [45](#L45) | $postId = intval($\_POST['postId']); |
| [46](#L46) | }else{ |
| [47](#L47) | echo json\_encode(array('status'=>"500", 'Message'=>"post id not found")); |
| [48](#L48) | } |
| [49](#L49) | if(isset($postId) && get\_post\_meta($postId,'use\_ampforwp\_page\_builder', true)!=='yes' && current\_user\_can('edit\_posts')){ |
| [50](#L50) | update\_post\_meta($postId, 'use\_ampforwp\_page\_builder','yes'); |
| [51](#L51) | echo json\_encode(array('status'=>200, 'Message'=>"Pagebuilder Started successfully")); |
| [52](#L52) | }else{ |
| [53](#L53) | echo json\_encode(array('status'=>200, 'Message'=>"Pagebuilder Started successfully")); |
| [54](#L54) | } |
| [55](#L55) | exit; |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | add\_action( 'wp\_ajax\_amppb\_export\_layout\_data', 'amppb\_export\_layout\_data'); |
| [59](#L59) | function amppb\_export\_layout\_data(){ |
| [60](#L60) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [61](#L61) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [62](#L62) | die; |
| [63](#L63) | } |
| [64](#L64) | // Exit if the user does not have proper permissions |
| [65](#L65) | if ( ! current\_user\_can('edit\_posts') && ! current\_user\_can('edit\_pages') ) { |
| [66](#L66) | echo json\_encode(array("status"=>300,"message"=>'User do not have access')); |
| [67](#L67) | die; |
| [68](#L68) | } |
| [69](#L69) | header( 'content-type: application/json' ); |
| [70](#L70) | header( 'Content-Disposition: attachment; filename=layout-' . date( 'dmY' ) . '.json' ); |
| [71](#L71) |  |
| [72](#L72) | if ( function\_exists('sanitize\_textarea\_field') ) { |
| [73](#L73) | $export\_data = sanitize\_textarea\_field(wp\_unslash( $\_POST['export\_layout\_data'] )); |
| [74](#L74) | } |
| [75](#L75) | else{ |
| [76](#L76) | $unsan\_export\_data = wp\_unslash( $\_POST['export\_layout\_data'] ); |
| [77](#L77) | $export\_data = implode( "\n", array\_map( 'sanitize\_text\_field', explode( "\n", $unsan\_export\_data ) )); |
| [78](#L78) | } |
| [79](#L79) | echo $export\_data; // escaped above |
| [80](#L80) |  |
| [81](#L81) | wp\_die(); |
| [82](#L82) | } |
| [83](#L83) | add\_action( 'wp\_ajax\_amppb\_save\_layout\_data', 'amppb\_save\_layout\_data'); |
| [84](#L84) | function amppb\_save\_layout\_data(){ |
| [85](#L85) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [86](#L86) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [87](#L87) | die; |
| [88](#L88) | } |
| [89](#L89) | // Exit if the user does not have proper permissions |
| [90](#L90) | if ( ! current\_user\_can('edit\_posts') && ! current\_user\_can('edit\_pages') ) { |
| [91](#L91) | echo json\_encode(array("status"=>300,"message"=>'User not have authority')); |
| [92](#L92) | die; |
| [93](#L93) | } |
| [94](#L94) | $layoutname = sanitize\_text\_field($\_POST['layoutname']); |
| [95](#L95) | $layoutdata = wp\_slash($\_POST['layoutdata']); |
| [96](#L96) | $postarr = array( |
| [97](#L97) | 'post\_title'   =>$layoutname, |
| [98](#L98) | 'post\_content' =>$layoutdata, |
| [99](#L99) | 'post\_author'  => 1, |
| [100](#L100) | 'post\_status'  =>'publish', |
| [101](#L101) | 'post\_type'    =>'amppb\_layout' |
| [102](#L102) | ); |
| [103](#L103) | wp\_insert\_post( $postarr ); |
| [104](#L104) |  |
| [105](#L105) |  |
| [106](#L106) | $allPostLayout = array(); |
| [107](#L107) | $args = array( |
| [108](#L108) | 'posts\_per\_page'   => 200, |
| [109](#L109) | 'orderby'          => 'date', |
| [110](#L110) | 'order'            => 'DESC', |
| [111](#L111) | 'post\_type'        => 'amppb\_layout', |
| [112](#L112) | 'post\_status'      => 'publish' |
| [113](#L113) | ); |
| [114](#L114) | $posts\_array = get\_posts( $args ); |
| [115](#L115) | if(count($posts\_array)>0){ |
| [116](#L116) | foreach ($posts\_array as $key => $layoutData) { |
| [117](#L117) | $allPostLayout[] = array('post\_title'=>$layoutData->post\_title, |
| [118](#L118) | 'post\_id'=>$layoutData->ID, |
| [119](#L119) | 'post\_content'=>$layoutData->post\_content, |
| [120](#L120) | ); |
| [121](#L121) | } |
| [122](#L122) | } |
| [123](#L123) | echo json\_encode(array("status"=>200, "data"=>$allPostLayout)); |
| [124](#L124) | exit; |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) | add\_action( 'wp\_ajax\_amppb\_remove\_saved\_layout\_data', 'amppb\_remove\_saved\_layout\_data'); |
| [128](#L128) | function amppb\_remove\_saved\_layout\_data(){ |
| [129](#L129) | check\_ajax\_referer( 'verify\_pb', 'verify\_nonce' ); |
| [130](#L130) | $users = wp\_get\_current\_user(); |
| [131](#L131) | $roles = $users->roles; |
| [132](#L132) | if(in\_array("administrator", $roles) || in\_array("editor", $roles)||in\_array("author", $roles)|| in\_array("contributor", $roles)){ |
| [133](#L133) | $layoutid = intval($\_POST['layoutid']); |
| [134](#L134) | $is\_delete = wp\_delete\_post($layoutid); |
| [135](#L135) | $allPostLayout = array(); |
| [136](#L136) | $args = array( |
| [137](#L137) | 'posts\_per\_page'   => 200, |
| [138](#L138) | 'orderby'          => 'date', |
| [139](#L139) | 'order'            => 'DESC', |
| [140](#L140) | 'post\_type'        => 'amppb\_layout', |
| [141](#L141) | 'post\_status'      => 'publish' |
| [142](#L142) | ); |
| [143](#L143) | $posts\_array = get\_posts( $args ); |
| [144](#L144) | if(count($posts\_array)>0){ |
| [145](#L145) | foreach ($posts\_array as $key => $layoutData) { |
| [146](#L146) | $allPostLayout[] = array('post\_title'=>$layoutData->post\_title, |
| [147](#L147) | 'post\_id'=>$layoutData->ID, |
| [148](#L148) | 'post\_content'=>$layoutData->post\_content, |
| [149](#L149) | ); |
| [150](#L150) | } |
| [151](#L151) | } |
| [152](#L152) | if ( $is\_delete ) { |
| [153](#L153) | echo json\_encode(array("status"=>200,"data"=>$allPostLayout)); |
| [154](#L154) | exit; |
| [155](#L155) | } |
| [156](#L156) | else{ |
| [157](#L157) | echo json\_encode(array("status"=>404,"data"=>$allPostLayout)); |
| [158](#L158) | exit; |
| [159](#L159) | } |
| [160](#L160) | }else{ |
| [161](#L161) | echo json\_encode(array("status"=>403,"data"=>array())); |
| [162](#L162) | exit; |
| [163](#L163) | } |
| [164](#L164) | } |
| [165](#L165) |  |
| [166](#L166) | // Ajax action to refresh the user image |
| [167](#L167) | add\_action( 'wp\_ajax\_ampforwp\_get\_image', 'ampforwp\_get\_image'); |
| [168](#L168) | function ampforwp\_get\_image() { |
| [169](#L169) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [170](#L170) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [171](#L171) | die; |
| [172](#L172) | } |
| [173](#L173) | if ( ! current\_user\_can('edit\_posts') && ! current\_user\_can('edit\_pages') ) { |
| [174](#L174) | echo json\_encode(array("status"=>300,"message"=>'User not have authority')); |
| [175](#L175) | die; |
| [176](#L176) | } |
| [177](#L177) | $get\_id = intval($\_GET['id']); |
| [178](#L178) | if(isset($get\_id)){ |
| [179](#L179) | if(strpos($get\_id,",") !== false){ |
| [180](#L180) | $get\_ids = explode(",", $get\_id); |
| [181](#L181) |  |
| [182](#L182) | if(count($get\_ids)>0){ |
| [183](#L183) | foreach($get\_ids as $id){ |
| [184](#L184) | $image = wp\_get\_attachment\_image( $id, 'full', false, array( 'id' => 'ampforwp-preview-image' ) ); |
| [185](#L185) | $image\_src = wp\_get\_attachment\_image\_src($id, 'full', false); |
| [186](#L186) | $data[] = array( |
| [187](#L187) | 'image'    => $image, |
| [188](#L188) | 'detail'           => $image\_src |
| [189](#L189) | ); |
| [190](#L190) |  |
| [191](#L191) | } |
| [192](#L192) | } |
| [193](#L193) | }else{ |
| [194](#L194) | $id = intval($\_GET['id']); |
| [195](#L195) | $image = wp\_get\_attachment\_image( $id, 'full', false, array( 'id' => 'ampforwp-preview-image' ) ); |
| [196](#L196) | $image\_src = ampforwp\_get\_attachment\_id($id,'thumbnail'); |
| [197](#L197) | $image\_src\_full = ampforwp\_get\_attachment\_id($id,'full'); |
| [198](#L198) | $svg = pathinfo($image\_src\_full[0], PATHINFO\_EXTENSION) == 'svg' ? true : false; |
| [199](#L199) | if ( $svg ) { |
| [200](#L200) | $image\_src\_full[1] = 50; |
| [201](#L201) | $image\_src\_full[2] = 50; |
| [202](#L202) | } |
| [203](#L203) | $data = array( |
| [204](#L204) | 'image'    => $image, |
| [205](#L205) | 'detail'   => $image\_src, |
| [206](#L206) | 'front\_image'=> $image\_src\_full, |
| [207](#L207) | ); |
| [208](#L208) | } |
| [209](#L209) | wp\_send\_json\_success( $data ); |
| [210](#L210) | exit; |
| [211](#L211) | } else { |
| [212](#L212) | wp\_send\_json\_error(); |
| [213](#L213) | exit; |
| [214](#L214) | } |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) |  |
| [218](#L218) | add\_action( 'wp\_ajax\_ampforwp\_icons\_list\_format', 'ampforwp\_icons\_list\_format'); |
| [219](#L219) | function ampforwp\_icons\_list\_format(){ |
| [220](#L220) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [221](#L221) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [222](#L222) | die; |
| [223](#L223) | } |
| [224](#L224) | if ( ! current\_user\_can('edit\_posts') && ! current\_user\_can('edit\_pages') ) { |
| [225](#L225) | echo json\_encode(array("status"=>300,"message"=>'User not have authority')); |
| [226](#L226) | die; |
| [227](#L227) | } |
| [228](#L228) | $amp\_icons\_css\_array = include AMPFORWP\_PLUGIN\_DIR .'includes/icons/amp-icons.php'; |
| [229](#L229) |  |
| [230](#L230) | foreach ($amp\_icons\_css\_array as $key=>$value ) { |
| [231](#L231) | $amp\_icons\_list[] = array('name'=>$key); |
| [232](#L232) | } |
| [233](#L233) | echo json\_encode(array('success'=>true,'data'=>$amp\_icons\_list)); |
| [234](#L234) | exit; |
| [235](#L235) | } |
| [236](#L236) | add\_action( 'wp\_ajax\_ampforwp\_pb\_taxonomy', 'ampforwp\_pb\_taxonomy'); |
| [237](#L237) | function ampforwp\_pb\_taxonomy(){ |
| [238](#L238) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [239](#L239) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [240](#L240) | die; |
| [241](#L241) | } |
| [242](#L242) | $taxs = array(); |
| [243](#L243) | $post = ''; |
| [244](#L244) | $post = sanitize\_text\_field($\_POST['selected\_val']); |
| [245](#L245) | $taxs = get\_object\_taxonomies( $post ); |
| [246](#L246) | $return = array(); |
| [247](#L247) | if(!empty($taxs)){ |
| [248](#L248) | foreach ($taxs as $taxonomy) { |
| [249](#L249) | $taxonomies = get\_taxonomy( $taxonomy ); |
| [250](#L250) | $return[esc\_attr($taxonomies->name)] = esc\_html($taxonomies->labels->singular\_name); |
| [251](#L251) | } |
| [252](#L252) | } |
| [253](#L253) | $return['recent\_option']= 'Recent Posts'; |
| [254](#L254) | echo json\_encode(array('success'=>true,'data'=>$return)); |
| [255](#L255) | exit; |
| [256](#L256) |  |
| [257](#L257) | } |
| [258](#L258) | add\_action( 'wp\_ajax\_ampforwp\_pb\_cats', 'ampforwp\_pb\_cats'); |
| [259](#L259) | function ampforwp\_pb\_cats(){ |
| [260](#L260) | if(!wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [261](#L261) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [262](#L262) | die; |
| [263](#L263) | } |
| [264](#L264) | $cats = array(); |
| [265](#L265) | $taxonomy = ''; |
| [266](#L266) | $taxonomy = sanitize\_text\_field($\_POST['selected\_val']); |
| [267](#L267) | $terms = get\_terms( $taxonomy, array( |
| [268](#L268) | 'orderby' => 'name', |
| [269](#L269) | 'order'   => 'ASC', |
| [270](#L270) | 'number'  => 500 |
| [271](#L271) | ) ); |
| [272](#L272) | $return = array(); |
| [273](#L273) | if ( ! empty( $terms ) && ! is\_wp\_error( $terms ) ){ |
| [274](#L274) | foreach ($terms as $key => $value) { |
| [275](#L275) | $return[$value->term\_id] = $value->name; |
| [276](#L276) | } |
| [277](#L277) | } |
| [278](#L278) | $return['recent\_option']= 'Recent Posts'; |
| [279](#L279) | echo json\_encode(array('success'=>true,'data'=>$return)); |
| [280](#L280) | exit; |
| [281](#L281) | } |
| [282](#L282) |  |
| [283](#L283) | add\_action( 'wp\_ajax\_ampforwp\_dynaminc\_css', 'ampforwp\_dynaminc\_css' ); |
| [284](#L284) | add\_action( 'wp\_ajax\_nopriv\_ampforwp\_dynaminc\_css', 'ampforwp\_dynaminc\_css' ); |
| [285](#L285) |  |
| [286](#L286) | function ampforwp\_dynaminc\_css() { |
| [287](#L287) | if(!isset($\_REQUEST['verify\_nonce']) || !wp\_verify\_nonce( $\_REQUEST['verify\_nonce'], 'verify\_pb' ) ) { |
| [288](#L288) | echo json\_encode(array("status"=>300,"message"=>'Request not valid')); |
| [289](#L289) | die; |
| [290](#L290) | } |
| [291](#L291) | if(!is\_admin()){ |
| [292](#L292) | echo json\_encode(array("status"=>300,"message"=>'user not valid')); |
| [293](#L293) | die; |
| [294](#L294) | } |
| [295](#L295) | $amp\_icons\_css\_array = include AMPFORWP\_PLUGIN\_DIR .'includes/icons/amp-icons.php'; |
| [296](#L296) | header("Content-type: text/css; charset: UTF-8"); |
| [297](#L297) | foreach ($amp\_icons\_css\_array as $key=>$value ) { |
| [298](#L298) | echo  $value; |
| [299](#L299) | } |
| [300](#L300) | exit; |
| [301](#L301) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php?format=txt)
* [Original Format](/export/3220802/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_99679efb_20250111_181145.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

AMP for WP – Accelerated Mobile Pages

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Faccelerated-mobile-pages&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Faccelerated-mobile-pages&locale=en_US)

Search plugins

![](https://ps.w.org/accelerated-mobile-pages/assets/banner-772x250.png?rev=1776918)
![](https://ps.w.org/accelerated-mobile-pages/assets/icon-256x256.png?rev=1693616)
# AMP for WP – Accelerated Mobile Pages

By [Ahmed Kaludi, Mohammed Kaludi](https://ampforwp.com/)

[Download](https://downloads.wordpress.org/plugin/accelerated-mobile-pages.1.1.2.zip)

* [Details](https://wordpress.org/plugins/accelerated-mobile-pages/#description)
* [Reviews](https://wordpress.org/plugins/accelerated-mobile-pages/#reviews)
* [Installation](https://wordpress.org/plugins/accelerated-mobile-pages/#installation)
* [Development](https://wordpress.org/plugins/accelerated-mobile-pages/#developers)

[Support](https://wordpress.org/support/plugin/accelerated-mobile-pages/)

## Description

AMP for WP automatically adds Accelerated Mobile Pages (Google AMP Project) functionality to your WordPress site. AMP makes your website faster for Mobile visitors.

[What’s New in this Version?](https://ampforwp.com/new/) | [Priority Support](https://ampforwp.com/priority-support/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin) | [View Demo](https://ampforwp.com/demo/) | [Screenshots](https://wordpress.org/plugins/accelerated-mobile-pages/screenshots/) | [Community](https://ampforwp.com/help-center/)

**Extensions**

Some useful extensions to extend AMP features, check [AMP Adsense Support](https://ampforwp.com/advanced-amp-ads/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin), [Contact Form 7 Support](https://ampforwp.com/contact-form-7/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin), [Email Opt-in Support](https://ampforwp.com/opt-in-forms/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin) and [Call To Action Support](https://ampforwp.com/call-to-action/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin). To view more, go to our [Extensions page](https://ampforwp.com/extensions/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin).

**Support**

We try our best to provide support on WordPress.org forums. However, We have a special [community support](https://ampforwp.com/help-center/) where you can ask us questions and get help about your AMP related questions. Delivering a good user experience means a lot to us and so we try our best to reply each and every question that gets asked.

**Bug Reports**

Bug reports for AMP for WP are [welcomed on GitHub](https://github.com/ahmedkaludi/Accelerated-Mobile-Pages). Please note GitHub is *not* a support forum, and issues that aren’t properly qualified as bugs will be closed.

#### Features:

* NEW – Gutenberg Support
* NEW – Divi and Elementor Support [More Info](https://ampforwp.com/amp-pagebuilder-compatibility/)
* NEW – GDPR Compliance
* NEW – Google PageSpeed Optimization with SSR (Server Side Rendering)
* NEW – CSS Optimization (Tree Shaking) – This will automatically remove all the unused CSS from your AMP pages
* NEW – Google Font API and Local Fonts Support For All Designs
* Out of the box compatibility for Yoast SEO, All in One Seo, Rank Math, Genesis, SEOPress, Bridge Qode SEO, The SEO Framework, SmartCrawl and Squrilly SEO Plugin.
* Introducing Page Builder 3.0 for AMP! [Learn More & Video](https://ampforwp.com/tutorials/article/amp-page-builder-installation/)
* New Default Theme for AMP called Swift
* 3 Pre-built AMP Layouts for Business websites and landing pages
* OneSignal and TruePush Push Notifications integration
* Advanced WooCommerce Support [More Info](https://ampforwp.com/woocommerce/)
* AMP Plugins Manager – Which allows you to disable a specific plugin functionality only in the AMP version
* Structured Data Options
* Page Break / NextPage (Pagination) Support
* Contact Form 7 Support [More Info](https://ampforwp.com/contact-form-7/)
* Graviry Form Support [More Info](https://ampforwp.com/gravity-forms/)
* Caldera Form Support [More Info](https://ampforwp.com/caldera-forms-for-amp/)
* Ninja Form Support [More Info](https://ampforwp.com/ninja-forms/)
* Facebook Comments Support
* Github Gist Support
* Email Opt-in Subscription form support in AMP added
* Call to Action boxes and notification bars
* 9 Advertisement sizes – 2 More AD slots added recently
* Comments Forms in AMP.
* Native AMP Search functionality.
* Design 3 [Watch the Video Overview](https://www.youtube.com/watch?v=ub1pwskt3Rc)
* Disqus Comments Support
* Vuukle Comments Support
* Spot.IM Comments Support
* Google Tag Manager Support
* Page, Category & Tags Support Added
* Custom AMP Editor – Which allows you to override your Content that you had written in Post or page, so you can add the different content just for AMP.
* Mobile Redirection – More than 50% of your traffic is from mobile and you aren’t doing anything to improve their user experience, which means you are falling behind on SEO and it can result in lower SERPS. Lightning fast mobile version means faster User experience means more engagement which directly results in the lower bounce rate.
* Custom Post Type Support
* Custom Taxonomies Support
* Star Ratings
* Drag & Drop Page builder Added
* 4 Designs for AMP
* AMP WooCommerce Support
* Switch on/off Support for Pages & Posts on AMP
* Translation Panel & RTL
* Internal AMP linking – You can browse AMP pages internally
* Related posts below the post
* Recent Comments list
* Automatically integrate AMP to your website.
* Google Adsense (AMP-AD) Support with 6 different Ad slots across the layout! The First Plugin to have this capability.
* Built in MGID Ads Support with 6 different ad slots.
* Google Analytics Support.
* User Friendly Theme Options Panel.
* Unlimited Color Scheme.
* Image Logo Upload.
* Supports Posts and Pages and other custom post types.
* Proper rel canonical tags which means that Google know the original page.
* Overlay Navigation Menu bar.
* Social Sharing in the Single.
* Sexy Design.
* Separate WordPress Menu for AMP version.
* Page builder & Shortcodes Compatibility.
* Carousel support for Gallery.
* Better Image stretching and resizing.
* Youtube Video Embed Support.
* Vine Embed Support.
* Twitter oembed Support.
* Instagram Embed Support.
* Facebook Video Embed Support.
* RTL Support
* Custom AMP FrontPage
* Notifications
* Alexa Metrics, Chartbeat, Hi-stats, Yandex Metrika, Piwik, Segment.com, StatCounter, Effective Measure and comScore Builtin Support
* Incontent & DoubleClick Support
* Great Support & Active Development.
* Widgets & WooCommerce
* Breadcrumb Support added
* Facebook Instant Articles Support Added
* AMP Installation Wizard that makes it easy to setup for new users.
* Category base remover support
* Tag base remover support
* Addthis Sharing Support
* Infinite Scroll Support
* Photo Gallery by 10Web Support
* 12 New Social Media Integrations added (Reddit, Tumblr, Telegram, Digg, StumbleUpon, Wechat, Viber, Hatena Bookmarks, Pocket, Yummly, MeWe, Flipboard)
* AMP Theme Framework Core Support Added. You can now create AMP templates of your own in just minutes. **[More](https://ampforwp.com/amp-theme-framework/)**
* NEW – Make AMP & Non-AMP Same with just one click!
* NEW – Allows you to use AMP as primary website!

**[JOIN CHAT GROUP COMMUNITY](https://ampforwp.com/community/)**: Purpose of this group is to get proper suggestions and feedback from plugin users and the community so that we can make the plugin even better.

#### Getting Started:

**[1. User Documentation:](https://ampforwp.com/help/)** The AMP for WordPress plugin is easy to setup but we have some tutorials and guides prepared for you which will help you dive deep with the plugin.

**[2. Developer Docs:](https://ampforwp.com/tutorials/article-categories/developer-documentation/)** We have created special documentations for developers and semi technical users who are willing to modify the plugin according to their own needs.

**[3. Support:](https://ampforwp.com/help-center/)** We try our best to provide support on WordPress.org forums. However, We have a special community support where you can ask us questions and get help about your AMP related questions. Delivering a good user experience means a lot to us and so we try our best to reply each and every question that gets asked.

**[4. Premium Support:](https://ampforwp.com/priority-support/#utm_source=wp_org&utm_medium=description-tab-pro-box&utm_campaign=AMP%20Plugin)** We will personally take care that your website’s AMP version is perfectly validated. We will make sure that your AMP version gets approved and indexed by Google Webmaster Tools properly and we will even keep an eye on AMP updates from Google and implement them into your website.

### Credits

Some code used in this plugin was forked from ‘AMP for WordPress’ plugin https://wordpress.org/plugins/amp/ – License URI: http://www.gnu.org/licenses/gpl-2.0.html.

Mobile & Tablet detection library used https://github.com/serbanghita/Mobile-Detect – License URI: https://github.com/serbanghita/Mobile-Detect/blob/master/LICENSE.txt

PHP CSS Parser library used https://github.com/sabberworm/PHP-CSS-Parser – License URI: https://github.com/sabberworm/PHP-CSS-Parser#license (PHP-CSS-Parser is freely distributable under the terms of an MIT-style license.)

AMP Optimizer library used https://github.com/ampproject/amp-toolbox/tree/main/packages/optimizer – License URI: https://github.com/ampproject/amp-toolbox#license (AMP Toolbox is made by the AMP Project, and is licensed under the Apache License, Version 2.0.)

GA4 Code used from https://github.com/analytics-debugger/google-analytics-4-for-amp – License URI: https://github.com/analytics-debugger/google-analytics-4-for-amp/blob/main/LICENSE

## Screenshots

* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-1.png?rev=1923339)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-1.png?rev=1923339)

  AMP Homepage
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-2.png?rev=1923339)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-2.png?rev=1923339)

  AMP Single Post
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-3.png?rev=1923339)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-3.png?rev=1923339)

  Post Navigation in Single
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-4.png?rev=1923339)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-4.png?rev=1923339)

  Sticky Social sharing icons
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-5.png?rev=1923339)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-5.png?rev=1923339)

  Overlay Navigation menu sidebar.
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-6.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-6.png?rev=1923338)

  Page builder of the Single article. You can drag and drop any element.
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-7.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-7.png?rev=1923338)

  Single post of Design One
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-8.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-8.png?rev=1923338)

  GTMetrix Performance Report
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-9.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-9.png?rev=1923338)

  Google PageSpeed Insight report for AMP
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-10.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-10.png?rev=1923338)

  Homepage of Design One
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-11.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-11.png?rev=1923338)

  Pingdom Speed Report for AMP
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-12.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-12.png?rev=1923338)
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-13.png?rev=1923338)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-13.png?rev=1923338)
* [![](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-14.png?rev=1923343)](https://ps.w.org/accelerated-mobile-pages/assets/screenshot-14.png?rev=1923343)

## Installation

**[Visit Help area for the Documentation:](https://ampforwp.com/help/)**

**[Visit Help area for the Documentation:](https://ampforwp.com/help/)**

## FAQ

### Can I add analytics?

Yes, you easily can. In fact, we have support for 12 Analytics companies. Including Google Analytics, Facebook Pixel, StatCounter, QuantCast, Chartbeat, comScore to list a few. Also, we have Google Tag Manager (GTM) support as well.

### Can I add Ads in my AMP pages?

Yes, you can. We have 6 ad placement slots that are built in and strategically placed to get maximum views. Also, we have [an extension](https://ampforwp.com/advanced-amp-ads/) from which you can insert ads between the content, will get more ad slots and also add custom banners to all the available slots.

### Can I extend/Change the AMP design, so it suits my needs?

Yes, you easily can. We have created this plugin in such a way that it can easily be extended. Check out our [AMP Theme Framework](https://ampforwp.com/tutorials/article/getting-started-amp-framework/)

### Do you have any prebuilt designs?

Yes, we have AMP themes section where we have free and paid designs available. We also update it regularly. You can check it out our [AMP Themes](https://ampforwp.com/themes)

### I’m a developer and I want to add custom functionality for a client, can I do that?

Yes, of course. This plugin is very developer friendly, we have lots of hooks and filters that you can use to extend and customize according to the requirements. Also, we have [developer documentation](https://ampforwp.com/tutorials/article-categories/developer-documentation/) which we update regularly.

### How do I report bugs and suggest new features?

You can report the bugs [here](https://github.com/ahmedkaludi/Accelerated-Mobile-Pages/issues)

### Will you Add New features to my request?

Yes, Absolutely! We would suggest you send your feature request by creating an issue in [Github](https://github.com/ahmedkaludi/Accelerated-Mobile-Pages/issues/new/) . It helps us organize the feedback easily.

### How do I get in touch?

You can contact us from [here](https://ampforwp.com/contact/)

## Reviews

![](https://secure.gravatar.com/avatar/72e37385176d210a8ad41562f18ca43d2f980201df630d0b5942f97fd2cad8c2?s=60&d=retro&r=g)
### [Dit is een goede plug-in](https://wordpress.org/support/topic/dit-is-een-goede-plug-in/)

[chutchawalernesto24](https://profiles.wordpress.org/chutchawalernesto24/ "Posts by chutchawalernesto24")
November 26, 2024

<font \_mstmutation=”1″></font>

![](https://secure.gravatar.com/avatar/d7a952c01ecf9912323f8443eeafd58da342805dc199b123ffec4b92cf11fcb2?s=60&d=retro&r=g)
### [Very good Product. Very good loading speed.](https://wordpress.org/support/topic/very-good-product-very-good-loading-speed/)

[Karsten Grzyl](https://profiles.wordpress.org/karstengrzyl/ "Posts by Karsten Grzyl")
October 21, 2024
1 reply

<font style=”vertical-align: inherit;”><font style=”vertical-align: inherit;”>Sehr gutes Produkt, ein wunderbares Plugin mit ansprechendem Design. Die Ladegeschwindigkeit meiner Website wird mit AMP für WP verbessert. Es gibt ein Problem. Meine AMP-Beiträge enden mit dem Satz „Dienst ist nicht mehr verfügbar.“ Beheben Sie dieses Problem, aber schnell.</font></font>

![](https://secure.gravatar.com/avatar/125aff7d54165a5ae0ca7ee0fd38abe5aeab5b86df152fb9dde1987051bd7f49?s=60&d=retro&r=g)
### [Me encanta esta aplicación](https://wordpress.org/support/topic/me-encanta-esta-aplicacion-2/)

[mplanet5](https://profiles.wordpress.org/mplanet5/ "Posts by mplanet5")
September 30, 2024

5 estrellas

![](https://secure.gravatar.com/avatar/a7fbcf42965b5bfaf13a6c8cfb7938b57ba7b24acd0001e0c077bb5dbc4e8210?s=60&d=retro&r=g)
### [AMP Menu Encoding Issue After v1.0.95](https://wordpress.org/support/topic/amp-menu-encoding-issue-after-v1-0-95/)

[Barry](https://profiles.wordpress.org/riceooks/ "Posts by Barry")
September 9, 2024
1 reply

After version v1.0.95, the AMP menu is all garbled.Reverting to v1.0.95 is the only way for it to work correctly.
It seems that a while has passed, and it still hasn’t been fixed.

![](https://secure.gravatar.com/avatar/5c6ec0f1037ab84ebd04daa0567d26f7686472aac5b2f660d850e7408c90a98e?s=60&d=retro&r=g)
### [Bad customer service plus AMP is a dead hype.](https://wordpress.org/support/topic/bad-customer-service-plus-amp-is-a-dead-hype/)

[gethairuk](https://profiles.wordpress.org/gethairuk/ "Posts by gethairuk")
August 29, 2024

We’ve used their plugins for some time but stopped because, in our view, AMP is no longer relevant. We believe Google may also abandon it soon.
The developers don’t send reminder emails before your renewal is due, and they refuse to issue a refund even if you inform them you no longer want to use their product on the day of renewal.
Avoid doing business with companies that have poor business ethics; they will likely let you down when you need their support.

![](https://secure.gravatar.com/avatar/a34f769de7d2323efc569af01652bb0d27ebc33ef364c5974ca47523c18b9063?s=60&d=retro&r=g)
### [AMP](https://wordpress.org/support/topic/amp-91/)

[silencesuzuka49](https://profiles.wordpress.org/silencesuzuka49/ "Posts by silencesuzuka49")
August 6, 2024

AMP

[Read all 1,309 reviews](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/)
## Contributors & Developers

“AMP for WP – Accelerated Mobile Pages” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/8614604219714cbe1ac9a046dec08efefdb6a095b3d33fcb37519e6faeec2d86?s=32&d=mm&r=g) [Mohammed Kaludi](https://profiles.wordpress.org/mohammed_kaludi/)
* ![](https://secure.gravatar.com/avatar/fb1fe8257a74ce5169d1b333021470a18a22d4d20128a70c2ddfede53b2ae804?s=32&d=mm&r=g) [Ahmed Kaludi](https://profiles.wordpress.org/ahmedkaludi/)
* ![](https://secure.gravatar.com/avatar/218b7a709dc1f0b8bd70c9519ae273f15039494e0c4ea52ad3bb00f54211cd34?s=32&d=mm&r=g) [ampforwp](https://profiles.wordpress.org/ampforwp/)

“AMP for WP – Accelerated Mobile Pages” has been translated into 7 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/accelerated-mobile-pages/contributors) for their contributions.

[Translate “AMP for WP – Accelerated Mobile Pages” into your language.](https://translate.wordpress.org/projects/wp-plugins/accelerated-mobile-pages)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/accelerated-mobile-pages/), check out the [SVN repository](https://plugins.svn.wordpress.org/accelerated-mobile-pages/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/accelerated-mobile-pages/) by [RSS](https://plugins.trac.wordpress.org/log/accelerated-mobile-pages/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 1.1.2 (03 December 2024)

* New: Jetpack related post not showing on AMP #5575
* New: Add a new feature to add Whatsapp Group links to Floating Buttons for AMP #5649
* New: Need to added the Subtitle feature in Post/pages in AMP #5665
* Fixed: Security issue reported by “Wordfence” #5662
* Fixed: AMP Pixel URL Issue After Recent Plugin Update 1.1.1 #5663
* Fixed: Function \_load\_textdomain\_just\_in\_time was called incorrectly #5664

#### 1.1.1 (12 November 2024)

* New : Manual post selection in infinite scroll #5651
* Fixed: Version 1.0.99.1 causing Tag issue. #5650
* Fixed: Errors in debug.log, PHP Deprecated: trim(): Passing null to parameter #5652
* Fixed: GA-4 Analytic not working on infinite scroll post #5656
* Fixed: The Last Modified date appears broken in the AMP version #5659
* Fixed: Feature images are not loading in homepage due to conflict with JNews theme lazyload #5655
* Fixed: Afterpay Gateway for WooCommerce plugin is causing issue in Amp Validator #5643
* Fixed: FV Gravatar Cache plugin conflicts with AMP. #5611
* Fixed: Php error on user end. #5642
* Fixed: The author image added by the “Simple User Avatar plugin” is not showing in the AMP. #5606
* Fixed: Cron reschedule event error for hook #5595
* Fixed: PHP Deprecated: error with AMP #5621
* Test: Test with WordPress version 6.7 #5657
* Improvement : Few improvements required #5630

#### 1.0.99.2 (23 October 2024)

* Fixed: Cross-Site Request Forgery discovered by David Gallagher ( Wordfence )

#### 1.0.99.1 (24 September 2024)

* Fixed: The tag <? is disallowed error in 1.0.99 WITH MENU #5646

#### 1.0.99 (23 September 2024)

* Fixed: Conflict issue with Infinite Scroll option. #5638
* Fixed: Some language characters breaking in amp footer #5627 , #5639 , #5620
* Fixed: Code Improvement #5630

#### 1.0.98 (9th August 2024)

* Fixed: PHP errors and warnings #5617,#5624,#5619,#5628,#5629,#5626
* Fixed: Disqus comments are not showing on the AMP. #5353

#### 1.0.97 (22nd July 2024)

* Fixed: Stored Cross-Site Scripting via SVG File Upload (Reported by Wordfence)
* Fixed: Contributor+ Broken Access Control discovered by Rafie Muhammad (Patchstack)
* Fixed: PHP Deprecated: error with AMP #5621
* Fixed: Disqus comments are not showing on the AMP. #5353
* Fixed: Warning in query monitor, “Array to String Conversion” #5610
* Tested: WordPress version 6.6 #5618

#### 1.0.96.1 (1st July 2024)

* Fixed: Update Twitter Icon as X in author box #5609
* Fixed: AMP footer Menu showing as text for some users

#### 1.0.96 (28th June 2024)

* Fixed: Featured image caption is not working #5574
* Fixed: PHP deprecated error (PHP 8.2) #5587
* Fixed: PHP warning message displayed on the user’s end. #5594
* Fixed: Publisher desk “Dismiss” button is not working. #5591
* Fixed: PHP error on the user end. #5605
* Fixed: Undefined property: stdClass::$inContentPlacementMethod #5607
* Fixed: While using the News12Paper theme and tagDiv Composer plugin, there is an issue with the AMP menu (user-end issue). #5608
* Fixed: Change Twitter as X #5609
* Fixed: Amazon auto links are not working on AMP #5583

#### 1.0.95 (7th May 2024)

* Fixed: rtrim(): Argument #1 ($string) must be of type string, WP\_Error given #5588
* Fixed: Issue persist due to recent update with poll maker plugin #5585
* Fixed: PHP Warning: Attempt to read property “ID” on null #5589
* Test: Test with new version of wordpress i.e. 6.5v #5581
* Fixed: Validation issues in images when using Pencil builder #5592

#### 1.0.94 (3rd April 2024)

* New: Added Shortcode so that user can show or hide some content in AMP. #5474
* Improvements: Code improvement part 2 #5567
* Fixed: Warning appears related to author-box #5577
* Fixed: The excerpt is not showing inside the em tag in AMP, and the font is not working. #5487
* Fixed: Issue with a cookie banner (GDPR) #5561

#### 1.0.93.2 (1st February 2024)

* Fixed: Video docking not working in AMP Newspaper theme #5566
* Fixed: Video not loading on Amp if video set in Soledad theme Video Embed. #5571
* Fixed: Authenticated(Contributor+) Arbitrary Post Deletion Vulnerability (Reported by Wordfence)

#### 1.0.93.1 (22nd January 2024)

* Fixed : CSS syntax error in the ‘style amp-custom tag #5564

#### 1.0.93 (19th January 2024)

* New: Compatibility with the plugin WP No Base Permalink #5541
* New: An option of “AMP Alternative Menu—Below the Header” when Theme Design is set on Three #5545
* New: An option to add the “View NON-AMP version” link in the hamburger menu #5466
* New: An option where, users can add the single-post design to pages #5482
* Fixed: Code Improvement #5550
* Fixed: Change Twitter icon everywhere #5551
* Fixed: Amp backend design conflict with Vani Theme #5552
* Fixed: Debug warning #5554
* Fixed: Slider Revolution images not showing on AMP #5555
* Fixed: Dual-feature image is visible in the Design Three theme #5556
* Fixed: CRITICAL Uncaught TypeError – ‘property\_exists()’ Critical Issue” #5557

#### 1.0.92.1 (16th December 2023)

* Fixed: Cross-Site Scripting issue on shortcode [amp-gist] for contributer+ access (Reported by Wordfence)

#### 1.0.92 (18th November 2023)

* New: Compatibility with Publytics.net #5477
* Fixed: Add a filter to modify unused CSS #5478
* Fixed: Local Fonts option not working properly. #5506
* Fixed: Autoload is termed as yes in wp\_options. #5523
* Fixed: Deprecated error in query monitor #5527
* Fixed: PHP Fatal error appears in AMP #5539
* Fixed: CSS issue with 1.0.91 Version #5540
* Fixed: Invalid Layout Issue in AMP HTML Tag for Missing ‘height’ Attribute. #5542
* Fixed: Getting blank screen on amp pages #5546
* Fixed: Images from Slider revolution plugin not visible in AMP #5548

#### 1.0.91.1 (20th October 2023)

* Fixed: Version 1.0.91 breaks Swift Theme #5537

#### 1.0.91 (16th October 2023)

* New: Compatibility with webpushr notification #5517
* Fixed: Jetpack Stats are not showing in the AMP. #5495
* Fixed: Double curly brackets parsed from {{}} to %7B%7B%7D%7D in src attribute in amp-iframe component #5522
* Fixed: Amp Validation Error in New update #5528
* Fixed: A warning (Warning: Undefined property: WP\_Post\_Type::$taxonomy) is appearing on the AMP version #5532
* Fixed: The author link and date not showing properly on the homepage #5533
* Fixed: AAWP Images not loading if WebP Express is active #5535

#### 1.0.90 (26th September 2023)

* New: An option to configure the number of posts appearing on Homepage & Category page #5503
* Fixed: PHP notice on style.php #5514
* Fixed: Star rating are broken, showing numbers instead of stars #5516
* Fixed: Validation error from recent AMP update version 1.0.88.1 #5518
* Fixed: Fatal error in setting panel #5521

#### 1.0.89 (14th September 2023)

* New: Piwik Pro Analytics #5510
* New: compatibility with EmbedPress #5486
* Fixed: Conflict WP-Bakery page builder with AMP #5417
* Fixed: Warning in error log #5504
* Fixed: Uncaught ValueError: DOMDocument::loadHTML(): Argument #1 ($source) must not be empty #5512
* Fixed: Header Font Size Offset Changing After Update 1.0.86 #5496
* Fixed: Various deprecated warning in PHP 8.2+ related to dynamic property creation #5515
* Fixed: Added post data variables in GTM advanced code #5498

#### 1.0.88.1 (24nd August 2023)

* Fixed: AMP for WP Update Causes Dashboard Notices and Warnings #5508
* Fixed: Breadcrumb icon broken of design 3 #5509

Full changelog available  [at changelog.txt](https://plugins.svn.wordpress.org/accelerated-mobile-pages/trunk/changelog.txt)

## Meta

* Version **1.1.2**
* Last updated **1 month ago**
* Active installations **100,000+**
* WordPress version **3.0 or higher**
* Tested up to **6.7.1**
* Languages
  See all 8

  Close

  [Dutch](https://nl.wordpress.org/plugins/accelerated-mobile-pages/), [English (US)](https://wordpress.org/plugins/accelerated-mobile-pages/), [Spanish (Chile)](https://cl.wordpress.org/plugins/accelerated-mobile-pages/), [Spanish (Colombia)](https://es-co.wordpress.org/plugins/accelerated-mobile-pages/), [Spanish (Ecuador)](https://es-ec.wordpress.org/plugins/accelerated-mobile-pages/), [Spanish (Mexico)](https://es-mx.wordpress.org/plugins/accelerated-mobile-pages/), [Spanish (Spain)](https://es.wordpress.org/plugins/accelerated-mobile-pages/), and [Spanish (Venezuela)](https://ve.wordpress.org/plugins/accelerated-mobile-pages/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/accelerated-mobile-pages)
* Tags [accelerated mobile pages](https://wordpress.org/plugins/tags/accelerated-mobile-pages/)[amp](https://wordpress.org/plugins/tags/amp/)[google amp](https://wordpress.org/plugins/tags/google-amp/)[mobile](https://wordpress.org/plugins/tags/mobile/)[seo](https://wordpress.org/plugins/tags/seo/)
* [Advanced View](https://wordpress.org/plugins/accelerated-mobile-pages/advanced/)

## Ratings

4.4 out of 5 stars.

* [1044 5-star reviews
  5 stars

  1044](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/?filter=5)
* [46 4-star reviews
  4 stars

  46](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/?filter=4)
* [24 3-star reviews
  3 stars

  24](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/?filter=3)
* [26 2-star reviews
  2 stars

  26](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/?filter=2)
* [169 1-star reviews
  1 star

  169](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/accelerated-mobile-pages/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/8614604219714cbe1ac9a046dec08efefdb6a095b3d33fcb37519e6faeec2d86?s=32&d=mm&r=g) [Mohammed Kaludi](https://profiles.wordpress.org/mohammed_kaludi/)
* ![](https://secure.gravatar.com/avatar/fb1fe8257a74ce5169d1b333021470a18a22d4d20128a70c2ddfede53b2ae804?s=32&d=mm&r=g) [Ahmed Kaludi](https://profiles.wordpress.org/ahmedkaludi/)
* ![](https://secure.gravatar.com/avatar/218b7a709dc1f0b8bd70c9519ae273f15039494e0c4ea52ad3bb00f54211cd34?s=32&d=mm&r=g) [ampforwp](https://profiles.wordpress.org/ampforwp/)
## Support

Issues resolved in last two months:

4 out of 9

[View support forum](https://wordpress.org/support/plugin/accelerated-mobile-pages/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://www.paypal.me/Kaludi/25)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_3303f090_20250111_181146.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# AMP for WP <= 1.0.93.1 - Authenticated(Contributor+) Arbitrary Post Deletion via amppb\_remove\_saved\_layout\_data

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   AMP for WP <= 1.0.93.1 - Authenticated(Contributor+) Arbitrary Post Deletion via amppb\_remove\_saved\_layout\_data

6.5

**Improper Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H)

| CVE | [CVE-2024-1043](https://www.cve.org/CVERecord?id=CVE-2024-1043) |
| --- | --- |
| CVSS | 6.5 (Medium) |
| Publicly Published | February 6, 2024 |
| Last Updated | July 31, 2024 |
| Researcher | [Sean Murphy](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/sean-murphy) |

### Description

The AMP for WP – Accelerated Mobile Pages plugin for WordPress is vulnerable to unauthorized loss of data due to a missing capability check on the 'amppb\_remove\_saved\_layout\_data' function in all versions up to, and including, 1.0.93.1. This makes it possible for authenticated attackers, with contributor access and above, to delete arbitrary posts on the site.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/accelerated-mobile-pages/tags/1.0.93.1/pagebuilder/inc/adminAjaxContents.php#L134)
* [wordpress.org](https://wordpress.org/plugins/accelerated-mobile-pages/)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3030425/accelerated-mobile-pages/tags/1.0.93.2/pagebuilder/inc/adminAjaxContents.php?old=3025105&old_path=accelerated-mobile-pages%2Ftags%2F1.0.93.1%2Fpagebuilder%2Finc%2FadminAjaxContents.php)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Faccelerated-mobile-pages%2Famp-for-wp-10931-authenticatedcontributor-arbitrary-post-deletion-via-amppb-remove-saved-layout-data&t=AMP%20for%20WP%20%3C%3D%201.0.93.1%20-%20Authenticated%28Contributor%2B%29%20Arbitrary%20Post%20Deletion%20via%20amppb_remove_saved_layout_data "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Faccelerated-mobile-pages%2Famp-for-wp-10931-authenticatedcontributor-arbitrary-post-deletion-via-amppb-remove-saved-layout-data&text=AMP%20for%20WP%20%3C%3D%201.0.93.1%20-%20Authenticated%28Contributor%2B%29%20Arbitrary%20Post%20Deletion%20via%20amppb_remove_saved_layout_data "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Faccelerated-mobile-pages%2Famp-for-wp-10931-authenticatedcontributor-arbitrary-post-deletion-via-amppb-remove-saved-layout-data "LinkedIn")
Email

## Vulnerability Details for AMP for WP – Accelerated Mobile Pages

#### [AMP for WP – Accelerated Mobile Pages](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/accelerated-mobile-pages)

| Software Type | Plugin |
| --- | --- |
| Software Slug | accelerated-mobile-pages [(view on wordpress.org)](https://wordpress.org/plugins/accelerated-mobile-pages) |
| Patched? | Yes |
| Remediation | Update to version 1.0.93.2, or a newer patched version |
| Affected Version | * <= 1.0.93.1 |
| Patched Version | * 1.0.93.2 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


