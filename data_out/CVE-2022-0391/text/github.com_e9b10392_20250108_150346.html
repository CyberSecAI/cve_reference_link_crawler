
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython%2Fcpython%2Fpull%2F25595)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython%2Fcpython%2Fpull%2F25595)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=python%2Fcpython)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[python](/python)
/
**[cpython](/python/cpython)**
Public

* [Notifications](/login?return_to=%2Fpython%2Fcpython) You must be signed in to change notification settings
* [Fork
  30.8k](/login?return_to=%2Fpython%2Fcpython)
* [Star
   64.6k](/login?return_to=%2Fpython%2Fcpython)

* [Code](/python/cpython)
* [Issues
  5k+](/python/cpython/issues)
* [Pull requests
  1.7k](/python/cpython/pulls)
* [Actions](/python/cpython/actions)
* [Projects
  28](/python/cpython/projects)
* [Security](/python/cpython/security)
* [Insights](/python/cpython/pulse)

Additional navigation options

* [Code](/python/cpython)
* [Issues](/python/cpython/issues)
* [Pull requests](/python/cpython/pulls)
* [Actions](/python/cpython/actions)
* [Projects](/python/cpython/projects)
* [Security](/python/cpython/security)
* [Insights](/python/cpython/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpython%2Fcpython%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpython%2Fcpython%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# bpo-43882 - urllib.parse should sanitize urls containing ASCII newline and tabs. #25595

 Merged

[orsenthil](/orsenthil)
merged 10 commits into
[python:master](/python/cpython/tree/master "python/cpython:master")
from
orsenthil:issue43882

Apr 29, 2021

 Merged

# [bpo-43882 - urllib.parse should sanitize urls containing ASCII newline and tabs.](#top) #25595

[orsenthil](/orsenthil)
merged 10 commits into
[python:master](/python/cpython/tree/master "python/cpython:master")
from
orsenthil:issue43882

Apr 29, 2021

[Conversation
27](/python/cpython/pull/25595)
[Commits
10](/python/cpython/pull/25595/commits)
[Checks
0](/python/cpython/pull/25595/checks)
[Files changed](/python/cpython/pull/25595/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![orsenthil](https://avatars.githubusercontent.com/u/332330?s=60&v=4)](/orsenthil)

Copy link

Member

### @orsenthil **[orsenthil](/orsenthil)** commented [Apr 25, 2021](#issue-867030163) • edited Loading

[bpo-43882](https://bugs.python.org/issue43882): Strip ascii newline and tabs from the url input, following WHATWG specification

Presence newline or tab characters in URL allowed attackers to write scripts in URL, hijack the web-server.

Following the controlling specification for URLs defined by WHATWG urllib.parse strips ASCII newline and tabs from the url, preventing such attacks.

<https://bugs.python.org/issue43882>

Sorry, something went wrong.

All reactions

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil)

`[issue43882 - urllib.parse should sanitize urls containing ASCII newli…](/python/cpython/pull/25595/commits/60c9b553f29a9854e244ea21e412d7928bd57bcb "issue43882 - urllib.parse should sanitize urls containing ASCII newline and tabs.")`
 …

`[60c9b55](/python/cpython/pull/25595/commits/60c9b553f29a9854e244ea21e412d7928bd57bcb)`

```
…ne and tabs.
```

[![@the-knights-who-say-ni](https://avatars.githubusercontent.com/u/18121554?s=40&u=7f27f578976be995d20742716898b8de1a340824&v=4)](/the-knights-who-say-ni)
[the-knights-who-say-ni](/the-knights-who-say-ni)
added
the
[CLA signed](/python/cpython/labels/CLA%20signed)
label
[Apr 25, 2021](#event-4641264768)

[![@bedevere-bot](https://avatars.githubusercontent.com/u/28579281?s=40&u=63eee11d3b5474c37a942e04a41607f58b3b0c3d&v=4)](/bedevere-bot)
[bedevere-bot](/bedevere-bot)
added
the
[awaiting core review](/python/cpython/labels/awaiting%20core%20review)
label
[Apr 25, 2021](#event-4641264810)

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&u=759332cc8c926eadff213e77d6625be5ad1d557e&v=4)](/orsenthil)
[orsenthil](/orsenthil)
changed the title
~~issue43882 - urllib.parse should sanitize urls containing ASCII newline and tabs.~~
bpo-43882 - urllib.parse should sanitize urls containing ASCII newline and tabs.
[Apr 25, 2021](#event-4641265161)

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&u=759332cc8c926eadff213e77d6625be5ad1d557e&v=4)](/orsenthil)
[orsenthil](/orsenthil)
self-assigned this
[Apr 25, 2021](#event-4641270944)

 [![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&u=759332cc8c926eadff213e77d6625be5ad1d557e&v=4)](/orsenthil)
[orsenthil](/orsenthil)
requested review from
[tirkarthi](/tirkarthi),
[vstinner](/vstinner) and
[serhiy-storchaka](/serhiy-storchaka)
[April 25, 2021 14:55](#event-4641271308)

[![gpshead](https://avatars.githubusercontent.com/u/68491?s=60&v=4)](/gpshead)

**[gpshead](/gpshead)**
requested changes
[Apr 28, 2021](#pullrequestreview-646670884)

 [View reviewed changes](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb)

Copy link

Member

### @gpshead **[gpshead](/gpshead)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Some code suggestions made.

Sorry, something went wrong.

All reactions

[Lib/test/test\_urlparse.py](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb#diff-bb89d64e7413a637b421609f9a4f532c294037171c3f0150479930acf30425fa)
Outdated

Show resolved

Hide resolved

[Lib/urllib/parse.py](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873e)
Outdated

Show resolved

Hide resolved

[Doc/library/urllib.parse.rst](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb#diff-f97a457691dcc7fd019d5f47ddea5cd6166b5b6efffc3d9a04e04455eb2deeba)
Outdated

Show resolved

Hide resolved

[Doc/library/urllib.parse.rst](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb#diff-f97a457691dcc7fd019d5f47ddea5cd6166b5b6efffc3d9a04e04455eb2deeba)
Outdated

Show resolved

Hide resolved

[![@bedevere-bot](https://avatars.githubusercontent.com/u/28579281?s=40&u=63eee11d3b5474c37a942e04a41607f58b3b0c3d&v=4)](/bedevere-bot)
[bedevere-bot](/bedevere-bot)
removed
the
[awaiting core review](/python/cpython/labels/awaiting%20core%20review)
label
[Apr 28, 2021](#event-4654955066)

[![@bedevere-bot](https://avatars.githubusercontent.com/u/28579281?s=80&u=63eee11d3b5474c37a942e04a41607f58b3b0c3d&v=4)](/bedevere-bot)

Copy link

### **[bedevere-bot](/bedevere-bot)** commented [Apr 28, 2021](#issuecomment-828218313)

| When you're done making the requested changes, leave the comment: `I have made the requested changes; please review again`. |
| --- |

All reactions

Sorry, something went wrong.

[![@bedevere-bot](https://avatars.githubusercontent.com/u/28579281?s=40&u=63eee11d3b5474c37a942e04a41607f58b3b0c3d&v=4)](/bedevere-bot)
[bedevere-bot](/bedevere-bot)
added
the
[awaiting changes](/python/cpython/labels/awaiting%20changes)
label
[Apr 28, 2021](#event-4654955100)

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)
[gpshead](/gpshead)
added
[type-bug](/python/cpython/labels/type-bug)
An unexpected behavior, bug, or error
[type-security](/python/cpython/labels/type-security)
A security issue
labels
[Apr 28, 2021](#event-4654957620)

[![tirkarthi](https://avatars.githubusercontent.com/u/3972343?s=60&v=4)](/tirkarthi)

**[tirkarthi](/tirkarthi)**
reviewed
[Apr 28, 2021](#pullrequestreview-647122723)

 [View reviewed changes](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb)

[Lib/urllib/parse.py](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873e)
Outdated

Show resolved

Hide resolved

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil)

`[Address Code Review Comments.](/python/cpython/pull/25595/commits/ee779d61c8f70f4fd68847f9820cf25e06306f94 "Address Code Review Comments.")`

`[ee779d6](/python/cpython/pull/25595/commits/ee779d61c8f70f4fd68847f9820cf25e06306f94)`

 [![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&u=759332cc8c926eadff213e77d6625be5ad1d557e&v=4)](/orsenthil)
[orsenthil](/orsenthil)
requested review from
[gpshead](/gpshead) and
[tirkarthi](/tirkarthi)
[April 28, 2021 15:01](#event-4657469860)

 [orsenthil](/orsenthil)
and others
added 2 commits
[April 28, 2021 08:04](#commits-pushed-e81f32f)

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil)

`[Give link to specification. Reference in WG page in Seealso links.](/python/cpython/pull/25595/commits/e81f32f8bd211ef626eb89d10a92bb0ebbe48770 "Give link to specification. Reference in WG page in Seealso links.")`

`[e81f32f](/python/cpython/pull/25595/commits/e81f32f8bd211ef626eb89d10a92bb0ebbe48770)`

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)

`[Wording cleanup and ReST editing for NEWS.](/python/cpython/pull/25595/commits/ae07b8f2ed2cb9ffbbb5b9587b3b8e7167aada88 "Wording cleanup and ReST editing for NEWS.")`

`[ae07b8f](/python/cpython/pull/25595/commits/ae07b8f2ed2cb9ffbbb5b9587b3b8e7167aada88)`

[![gpshead](https://avatars.githubusercontent.com/u/68491?s=60&v=4)](/gpshead)

**[gpshead](/gpshead)**
approved these changes
[Apr 29, 2021](#pullrequestreview-647774074)

 [View reviewed changes](/python/cpython/pull/25595/files/ae07b8f2ed2cb9ffbbb5b9587b3b8e7167aada88)

[![@bedevere-bot](https://avatars.githubusercontent.com/u/28579281?s=40&u=63eee11d3b5474c37a942e04a41607f58b3b0c3d&v=4)](/bedevere-bot)
[bedevere-bot](/bedevere-bot)
added
[awaiting merge](/python/cpython/labels/awaiting%20merge)
and removed
[awaiting changes](/python/cpython/labels/awaiting%20changes)
labels
[Apr 29, 2021](#event-4660085225)

[![serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=60&v=4)](/serhiy-storchaka)

**[serhiy-storchaka](/serhiy-storchaka)**
reviewed
[Apr 29, 2021](#pullrequestreview-647972505)

 [View reviewed changes](/python/cpython/pull/25595/files/ee779d61c8f70f4fd68847f9820cf25e06306f94)

[Doc/library/urllib.parse.rst](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb..ee779d61c8f70f4fd68847f9820cf25e06306f94#diff-f97a457691dcc7fd019d5f47ddea5cd6166b5b6efffc3d9a04e04455eb2deeba)
Outdated

Show resolved

Hide resolved

[Misc/NEWS.d/next/Security/2021-04-25-07-46-37.bpo-43882.Jpwx85.rst](/python/cpython/pull/25595/files/ae07b8f2ed2cb9ffbbb5b9587b3b8e7167aada88#diff-30b82135818d8f17b02b01743ab13f0e80a47f0b5677b9e89634c6eaab110d3b)
Outdated

Show resolved

Hide resolved

[Doc/library/urllib.parse.rst](/python/cpython/pull/25595/files/ae07b8f2ed2cb9ffbbb5b9587b3b8e7167aada88#diff-f97a457691dcc7fd019d5f47ddea5cd6166b5b6efffc3d9a04e04455eb2deeba)
Outdated

Show resolved

Hide resolved

[![serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=60&v=4)](/serhiy-storchaka)

**[serhiy-storchaka](/serhiy-storchaka)**
reviewed
[Apr 29, 2021](#pullrequestreview-648001184)

 [View reviewed changes](/python/cpython/pull/25595/files/ee779d61c8f70f4fd68847f9820cf25e06306f94)

[Lib/urllib/parse.py](/python/cpython/pull/25595/files/60c9b553f29a9854e244ea21e412d7928bd57bcb..ee779d61c8f70f4fd68847f9820cf25e06306f94#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873e)

Show resolved

Hide resolved

 [orsenthil](/orsenthil)
and others
added 5 commits
[April 29, 2021 03:17](#commits-pushed-908e744)

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&v=4)](/serhiy-storchaka)

`[Update Doc/library/urllib.parse.rst](/python/cpython/pull/25595/commits/908e744a28a2275df39ba6a1402090bf07494ef8 "Update Doc/library/urllib.parse.rst

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
 …

`[908e744](/python/cpython/pull/25595/commits/908e744a28a2275df39ba6a1402090bf07494ef8)`

```
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&v=4)](/serhiy-storchaka)

`[Update Misc/NEWS.d/next/Security/2021-04-25-07-46-37.](/python/cpython/pull/25595/commits/5f61b9ebf885be41ed19fe605bdc8c5bb599eb9e "Update Misc/NEWS.d/next/Security/2021-04-25-07-46-37.bpo-43882.Jpwx85.rst

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")[bpo-43882](https://bugs.python.org/issue?@action=redirect&bpo=43882)[.Jpwx85…](/python/cpython/pull/25595/commits/5f61b9ebf885be41ed19fe605bdc8c5bb599eb9e "Update Misc/NEWS.d/next/Security/2021-04-25-07-46-37.bpo-43882.Jpwx85.rst

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
 …

`[5f61b9e](/python/cpython/pull/25595/commits/5f61b9ebf885be41ed19fe605bdc8c5bb599eb9e)`

```
….rst

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&v=4)](/serhiy-storchaka)

`[Update Doc/library/urllib.parse.rst](/python/cpython/pull/25595/commits/4afcf42c94b96d164e03f1e0fd0bbf35bbdd0f67 "Update Doc/library/urllib.parse.rst

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
 …

`[4afcf42](/python/cpython/pull/25595/commits/4afcf42c94b96d164e03f1e0fd0bbf35bbdd0f67)`

```
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil)

`[Merge branch 'master' into issue43882](/python/cpython/pull/25595/commits/0885afff337e05e1c8e33a831a5d806d030ab8ae "Merge branch 'master' into issue43882")`

`[0885aff](/python/cpython/pull/25595/commits/0885afff337e05e1c8e33a831a5d806d030ab8ae)`

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil)

`[Merge branch 'issue43882' of github.com:orsenthil/cpython into issue4…](/python/cpython/pull/25595/commits/1150995b7466aafc9171f78d634d289e3d7c9661 "Merge branch 'issue43882' of github.com:orsenthil/cpython into issue43882")`
 …

`[1150995](/python/cpython/pull/25595/commits/1150995b7466aafc9171f78d634d289e3d7c9661)`

```
…3882
```

51 hidden items

Load more…

[![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)
[stratakis](/stratakis)
mentioned this pull request
[May 24, 2023](#ref-pullrequest-1724736474)

[[3.7] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (GH-104575) (GH-104592) (#104593)
#104896](/python/cpython/pull/104896)
 Merged

[ngie-eign](/ngie-eign)
added a commit
to ngie-eign/cpython
that referenced
this pull request
[May 25, 2023](#ref-commit-8ac91e7)
[![@ngie-eign](https://avatars.githubusercontent.com/u/1574099?s=40&u=98892051851f6174ebf249e0aa8c2327a88ec1ad&v=4)](/ngie-eign) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)

`[[3.8]](/ngie-eign/cpython/commit/8ac91e797dd234a18d6fb212a86cdcf0e9ad5476 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit`

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>") [pythongh-102153](https://github.com/python/cpython/issues/102153)[: Start stripping C0 control and space chars in …](/ngie-eign/cpython/commit/8ac91e797dd234a18d6fb212a86cdcf0e9ad5476 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit`

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>")`
…

`[8ac91e7](/ngie-eign/cpython/commit/8ac91e797dd234a18d6fb212a86cdcf0e9ad5476)`

```
…`urlsplit`

[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>
```

[![@ngie-eign](https://avatars.githubusercontent.com/u/1574099?s=40&u=98892051851f6174ebf249e0aa8c2327a88ec1ad&v=4)](/ngie-eign)
[ngie-eign](/ngie-eign)
mentioned this pull request
[May 25, 2023](#ref-pullrequest-1725047329)

[[3.8] gh-102153: Start stripping C0 control and space chars in `urlsp…
#104918](/python/cpython/pull/104918)
 Closed

[ngie-eign](/ngie-eign)
added a commit
to ngie-eign/cpython
that referenced
this pull request
[May 25, 2023](#ref-commit-9048acb)
[![@ngie-eign](https://avatars.githubusercontent.com/u/1574099?s=40&u=98892051851f6174ebf249e0aa8c2327a88ec1ad&v=4)](/ngie-eign) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)

`[[3.8]](/ngie-eign/cpython/commit/9048acb5bb48488dbbe5167b5b3169df39a08b09 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit`

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>") [pythongh-102153](https://github.com/python/cpython/issues/102153)[: Start stripping C0 control and space chars in …](/ngie-eign/cpython/commit/9048acb5bb48488dbbe5167b5b3169df39a08b09 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit`

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>")`
…

`[9048acb](/ngie-eign/cpython/commit/9048acb5bb48488dbbe5167b5b3169df39a08b09)`

```
…`urlsplit`

[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>
```

[ngie-eign](/ngie-eign)
added a commit
to ngie-eign/cpython
that referenced
this pull request
[May 25, 2023](#ref-commit-737be53)
[![@ngie-eign](https://avatars.githubusercontent.com/u/1574099?s=40&u=98892051851f6174ebf249e0aa8c2327a88ec1ad&v=4)](/ngie-eign) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)

`[[3.8]](/ngie-eign/cpython/commit/737be53ea3da71ccee9180f922eb05097be66322 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit`

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>") [pythongh-102153](https://github.com/python/cpython/issues/102153)[: Start stripping C0 control and space chars in …](/ngie-eign/cpython/commit/737be53ea3da71ccee9180f922eb05097be66322 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit`

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>")`
…

`[737be53](/ngie-eign/cpython/commit/737be53ea3da71ccee9180f922eb05097be66322)`

```
…`urlsplit`

[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Enji Cooper <yaneurabeya@gmail.com>
```

[frenzymadness](/frenzymadness)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[May 25, 2023](#ref-commit-f330120)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@frenzymadness](https://avatars.githubusercontent.com/u/5688939?s=40&v=4)](/frenzymadness)

`[00399:](/fedora-python/cpython/commit/f33012061791d541a29be80f99a8b0f673b731b6 "00399: gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (#104575)

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

---------

(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [pythongh-102153](https://github.com/python/cpython/issues/102153)[: Start stripping C0 control and space chars in…](/fedora-python/cpython/commit/f33012061791d541a29be80f99a8b0f673b731b6 "00399: gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (#104575)

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

---------

(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>")`
…

`[f330120](/fedora-python/cpython/commit/f33012061791d541a29be80f99a8b0f673b731b6)`

```
… `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508)) ([python#104575](https://github.com/python/cpython/pull/104575))

* [pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

---------

(cherry picked from commit [2f630e1](https://github.com/fedora-python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[May 26, 2023](#ref-commit-6eaa1d0)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/fedora-python/cpython/commit/6eaa1d053a95eeb0939c092cefbca93ad7cc3374 "00399: CVE-2023-24329

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

---------

(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[6eaa1d0](/fedora-python/cpython/commit/6eaa1d053a95eeb0939c092cefbca93ad7cc3374)`

```
* [pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

---------

(cherry picked from commit [2f630e1](https://github.com/fedora-python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[May 26, 2023](#ref-commit-ac6281c)
[![@frenzymadness](https://avatars.githubusercontent.com/u/5688939?s=40&u=0612ccdf7151f383ab84f1c4ddb9e7bb3e92b6bd&v=4)](/frenzymadness) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399-](/fedora-python/cpython/commit/ac6281c3b92d49cceef797f3385f54933fc9e115 "00399-cve-2023-24329.patch

00399 #

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported to Python 2 from Python 3.12.

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Lumir Balhar <lbalhar@redhat.com>")[cve-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")[.patch](/fedora-python/cpython/commit/ac6281c3b92d49cceef797f3385f54933fc9e115 "00399-cve-2023-24329.patch

00399 #

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported to Python 2 from Python 3.12.

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Lumir Balhar <lbalhar@redhat.com>")`
…

`[ac6281c](/fedora-python/cpython/commit/ac6281c3b92d49cceef797f3385f54933fc9e115)`

```
00399 #

* [pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported to Python 2 from Python 3.12.

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Lumir Balhar <lbalhar@redhat.com>
```

[stratakis](/stratakis)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[May 30, 2023](#ref-commit-86b70e7)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/fedora-python/cpython/commit/86b70e777efdcf8947481671a1a252b0c67fdab2 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[86b70e7](/fedora-python/cpython/commit/86b70e777efdcf8947481671a1a252b0c67fdab2)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

(cherry picked from commit [d7f8a5f](https://github.com/fedora-python/cpython/commit/d7f8a5fe07b0ff3a419ccec434cc405b21a5a304))
(cherry picked from commit [2f630e1](https://github.com/fedora-python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))
(cherry picked from commit [610cc0a](https://github.com/fedora-python/cpython/commit/610cc0ab1b760b2abaac92bd256b96191c46b941))
(cherry picked from commit [f48a96a](https://github.com/fedora-python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[frenzymadness](/frenzymadness)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[May 30, 2023](#ref-commit-7abba7f)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@frenzymadness](https://avatars.githubusercontent.com/u/5688939?s=40&v=4)](/frenzymadness)

`[00399:](/fedora-python/cpython/commit/7abba7fcf0e1240d77c32cd8b1f6b80b7c5ddad3 "00399: CVE-2023-24329

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

---------

(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[7abba7f](/fedora-python/cpython/commit/7abba7fcf0e1240d77c32cd8b1f6b80b7c5ddad3)`

```
* [pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

---------

(cherry picked from commit [2f630e1](https://github.com/fedora-python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[May 30, 2023](#ref-commit-de5dd7f)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/fedora-python/cpython/commit/de5dd7f86cc5467eedd7d2465fedfa9d983b2eff "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

---------

(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[de5dd7f](/fedora-python/cpython/commit/de5dd7f86cc5467eedd7d2465fedfa9d983b2eff)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

---------

(cherry picked from commit [2f630e1](https://github.com/fedora-python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))
(cherry picked from commit [610cc0a](https://github.com/fedora-python/cpython/commit/610cc0ab1b760b2abaac92bd256b96191c46b941))

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[ned-deily](/ned-deily)
pushed a commit
that referenced
this pull request
[Jun 5, 2023](#ref-commit-d28bafa)
[![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis) [![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington)
[![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)

`[[3.7]](/python/cpython/commit/d28bafa2d3e424b6fdcfd7ae7cde8e71d7177369 "[3.7] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-104896)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [gh-102153](https://github.com/python/cpython/issues/102153)[: Start stripping C0 control and space chars in `urlsp…](/python/cpython/commit/d28bafa2d3e424b6fdcfd7ae7cde8e71d7177369 "[3.7] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-104896)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>")`
…

`[d28bafa](/python/cpython/commit/d28bafa2d3e424b6fdcfd7ae7cde8e71d7177369)`

```
…lit` ([GH-104896](https://github.com/python/cpython/pull/104896))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [GH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

(cherry picked from commit [d7f8a5f](https://github.com/python/cpython/commit/d7f8a5fe07b0ff3a419ccec434cc405b21a5a304))
(cherry picked from commit [2f630e1](https://github.com/python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))
(cherry picked from commit [610cc0a](https://github.com/python/cpython/commit/610cc0ab1b760b2abaac92bd256b96191c46b941))
(cherry picked from commit [f48a96a](https://github.com/python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[ambv](/ambv)
pushed a commit
that referenced
this pull request
[Jun 5, 2023](#ref-commit-9c2ff15)
[![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis) [![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington)
[![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)

`[[3.8]](/python/cpython/commit/9c2ff15b9aa9f20c2340ad69cbf2300528db9a44 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (GH-104575) (GH-104592) (#104593) (#104895)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [gh-102153](https://github.com/python/cpython/issues/102153)[: Start stripping C0 control and space chars in `urlsp…](/python/cpython/commit/9c2ff15b9aa9f20c2340ad69cbf2300528db9a44 "[3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (GH-104575) (GH-104592) (#104593) (#104895)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>")`
…

`[9c2ff15](/python/cpython/commit/9c2ff15b9aa9f20c2340ad69cbf2300528db9a44)`

```
…lit` ([GH-102508](https://github.com/python/cpython/pull/102508)) ([GH-104575](https://github.com/python/cpython/pull/104575)) ([GH-104592](https://github.com/python/cpython/pull/104592)) ([#104593](https://github.com/python/cpython/pull/104593)) ([#104895](https://github.com/python/cpython/pull/104895))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [GH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

(cherry picked from commit [d7f8a5f](https://github.com/python/cpython/commit/d7f8a5fe07b0ff3a419ccec434cc405b21a5a304))
(cherry picked from commit [2f630e1](https://github.com/python/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))
(cherry picked from commit [610cc0a](https://github.com/python/cpython/commit/610cc0ab1b760b2abaac92bd256b96191c46b941))
(cherry picked from commit [f48a96a](https://github.com/python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[encukou](/encukou)
added a commit
to encukou/cpython
that referenced
this pull request
[Jun 7, 2023](#ref-commit-bb97e80)
[![@encukou](https://avatars.githubusercontent.com/u/302922?s=40&u=7f95514f77f2141670224b63de2bec2c9d7d514f&v=4)](/encukou)

`[00399:](/encukou/cpython/commit/bb97e800938b81f8a678d4ac3901f21bd4d322ef "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)
`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.
This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).
Backported from Python 3.12") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[bb97e80](/encukou/cpython/commit/bb97e800938b81f8a678d4ac3901f21bd4d322ef)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))
`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).
This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).
Backported from Python 3.12
```

[![@ERosendo](https://avatars.githubusercontent.com/u/55959657?s=40&v=4)](/ERosendo)
[ERosendo](/ERosendo)
mentioned this pull request
[Jun 21, 2023](#ref-pullrequest-1736675547)

[feat(user): Adds logic to handle authentication.
freelawproject/bigcases2#258](/freelawproject/bigcases2/pull/258)
 Merged

[carlosroman](/carlosroman)
added a commit
to DataDog/cpython
that referenced
this pull request
[Jun 22, 2023](#ref-commit-e0a363f)
[![@carlosroman](https://avatars.githubusercontent.com/u/717815?s=40&u=2560eeff82acc8d308d88a0961c265d6fc5fe012&v=4)](/carlosroman) [![@ambv](https://avatars.githubusercontent.com/u/55281?s=40&u=e9e2a4147de2bb9a92dc0b865daf89bbfa666428&v=4)](/ambv)
[![@benjaminp](https://avatars.githubusercontent.com/u/219470?s=40&v=4)](/benjaminp) [![@ned-deily](https://avatars.githubusercontent.com/u/5833005?s=40&u=ced74489e7860ea51ecfac9c8119e72037aed495&v=4)](/ned-deily) [![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@thunder-007](https://avatars.githubusercontent.com/u/75431678?s=40&u=156a9229e06cb73dd1d6f132b69cc7e11adee2e1&v=4)](/thunder-007) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@ucodery](https://avatars.githubusercontent.com/u/28751151?s=40&u=e8b431d25786101a1f633c5b27cdfb561b20bc47&v=4)](/ucodery) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk) [![@zooba](https://avatars.githubusercontent.com/u/1693688?s=40&v=4)](/zooba) [![@OTheDev](https://avatars.githubusercontent.com/u/116417456?s=40&u=63e883277c76e706b81a2d9d36e15529722cf20a&v=4)](/OTheDev) [![@merwok](https://avatars.githubusercontent.com/u/635179?s=40&u=4bd26a095e7e8fe9efd67dc1793e8a5255309d90&v=4)](/merwok) [![@arhadthedev](https://avatars.githubusercontent.com/u/4881073?s=40&u=02f1effcd378b0b5b57a7d3fae8ae55b5f0b0012&v=4)](/arhadthedev) [![@corona10](https://avatars.githubusercontent.com/u/5110323?s=40&u=592b2096bca800e8d89f49d95ebae042750e1a47&v=4)](/corona10) [![@Blind4Basics](https://avatars.githubusercontent.com/u/32236948?s=40&u=ee111c3ce195429cfa03b229239acbc7f9311f00&v=4)](/Blind4Basics) [![@CAM-Gerlach](https://avatars.githubusercontent.com/u/17051931?s=40&u=2b0ff804096a88eb8753547cf5170971fcb5859d&v=4)](/CAM-Gerlach) [![@pradyunsg](https://avatars.githubusercontent.com/u/3275593?s=40&u=d7420c0afcb0cc27040cfd806940a84c55e15133&v=4)](/pradyunsg) [![@encukou](https://avatars.githubusercontent.com/u/302922?s=40&u=7f95514f77f2141670224b63de2bec2c9d7d514f&v=4)](/encukou) [![@samcarroll42](https://avatars.githubusercontent.com/u/70000253?s=40&v=4)](/samcarroll42) [![@ethanfurman](https://avatars.githubusercontent.com/u/7659890?s=40&v=4)](/ethanfurman) [![@JelleZijlstra](https://avatars.githubusercontent.com/u/906600?s=40&u=76694abe83255d3b572212e2cf21bad971fabd2c&v=4)](/JelleZijlstra) [![@gaogaotiantian](https://avatars.githubusercontent.com/u/13121107?s=40&v=4)](/gaogaotiantian) [![@iritkatriel](https://avatars.githubusercontent.com/u/1055913?s=40&u=bd7f6cd5d9c24d45c154019042cdc3e9db610e36&v=4)](/iritkatriel) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)

`[Upgrade to 3.8.17 (](/DataDog/cpython/commit/e0a363f8e63052caf4e901d999ee1646b5acf161 "Upgrade to 3.8.17 (#26)

* Post 3.8.16

* [3.8] Update copyright years to 2023. (gh-100852)

* [3.8] Update copyright years to 2023. (gh-100848).
(cherry picked from commit 11f99323c2ae0ec428c370a335695e3d8d4afc1d)

Co-authored-by: Benjamin Peterson <benjamin@python.org>

* Update additional copyright years to 2023.

Co-authored-by: Ned Deily <nad@python.org>

* [3.8] Update copyright year in README (GH-100863) (GH-100867)

(cherry picked from commit 30a6cc418a60fccb91ba574b552203425e594c47)

Co-authored-by: Ned Deily <nad@python.org>
Co-authored-by: HARSHA VARDHAN <75431678+Thunder-007@users.noreply.github.com>

* [3.8] Correct CVE-2020-10735 documentation (GH-100306) (#100698)

(cherry picked from commit 1cf3d78c92eb07dc09d15cc2e773b0b1b9436825)
(cherry picked from commit 88fe8d701af3316c8869ea18ea1c7acec6f68c04)

Co-authored-by: Jeremy Paige <ucodery@gmail.com>
Co-authored-by: Gregory P. Smith <greg@krypto.org>

* [3.8] Bump Azure Pipelines to ubuntu-22.04 (GH-101089) (#101215)

(cherry picked from commit c22a55c8b4f142ff679880ec954691d5920b7845)

Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>

* [3.8] gh-100180: Update Windows installer to OpenSSL 1.1.1s (GH-100903) (#101258)

* gh-101422: (docs) TarFile default errorlevel argument is 1, not 0 (GH-101424)

(cherry picked from commit ea232716d3de1675478db3a302629ba43194c967)

Co-authored-by: Owain Davies <116417456+OTheDev@users.noreply.github.com>

* [3.8] gh-95778: add doc missing in some places (GH-100627) (#101630)

(cherry picked from commit 46521826cb1883e29e4640f94089dd92c57efc5b)

* [3.8] gh-101283: Improved fallback logic for subprocess with shell=True on Windows (GH-101286) (#101710)

Co-authored-by: Oleg Iarygin <oleg@arhadthedev.net>
Co-authored-by: Steve Dower <steve.dower@microsoft.com>

* [3.8] gh-101981: Fix Ubuntu SSL tests with OpenSSL (3.1.0-beta1) CI i… (#102095)

[3.8] gh-101981: Fix Ubuntu SSL tests with OpenSSL (3.1.0-beta1) CI issue (gh-102079)

* [3.8] GH-102306 Avoid GHA CI macOS test_posix failure by using the appropriate macOS SDK (GH-102307)

[3.8] Avoid GHA CI macOS test_posix failure by using the appropriate macOS SDK.

* [3.8] gh-101726: Update the OpenSSL version to 1.1.1t (GH-101727) (GH-101752)

Fixes CVE-2023-0286 (High) and a couple of Medium security issues.
https://www.openssl.org/news/secadv/20230207.txt

Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Ned Deily <nad@python.org>

* [3.8] gh-102627: Replace address pointing toward malicious web page (GH-102630) (GH-102667)

(cherry picked from commit 61479d46848bc7a7f9b571b0b09c4a4b4436d839)

Co-authored-by: Blind4Basics <32236948+Blind4Basics@users.noreply.github.com>
Co-authored-by: C.A.M. Gerlach <CAM.Gerlach@Gerlach.CAM>
Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>

* [3.8] gh-101997: Update bundled pip version to 23.0.1 (GH-101998). (#102244)

(cherry picked from commit 89d9ff0f48c51a85920c7372a7df4a2204e32ea5)

* [3.8] gh-102950: Implement PEP 706 – Filter for tarfile.extractall (GH-102953) (#104548)

Backport of c8c3956d905e019101038b018129a4c90c9c9b8f

* [3.8] gh-99889: Fix directory traversal security flaw in uu.decode() (GH-104096) (#104332)

(cherry picked from commit 0aeda297931820436a50b78f4f7f0597274b5df4)

Co-authored-by: Sam Carroll <70000253+samcarroll42@users.noreply.github.com>

* [3.8] gh-104049: do not expose on-disk location from SimpleHTTPRequestHandler (GH-104067) (#104121)

Do not expose the local server's on-disk location from `SimpleHTTPRequestHandler` when generating a directory index. (unnecessary information disclosure)

(cherry picked from commit c7c3a60c88de61a79ded9fdaf6bc6a29da4efb9a)

Co-authored-by: Ethan Furman <ethan@stoneleaf.us>
Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Jelle Zijlstra <jelle.zijlstra@gmail.com>

* [3.8] gh-103935: Use `io.open_code()` when executing code in trace and profile modules (GH-103947) (#103954)

Co-authored-by: Tian Gao <gaogaotiantian@hotmail.com>

* [3.8] gh-68966: fix versionchanged in docs (GH-105299)

* [3.8] Update GitHub CI workflow for macOS. (GH-105302)

* [3.8] gh-105184: document that marshal functions can fail and need to be checked with PyErr_Occurred (GH-105185) (#105222)

(cherry picked from commit ee26ca13a129da8cf549409d0a1b2e892ff2b4ec)

Co-authored-by: Irit Katriel <1055913+iritkatriel@users.noreply.github.com>

* [3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (GH-104575) (GH-104592) (#104593) (#104895)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>

* [3.8] gh-103142: Upgrade binary builds and CI to OpenSSL 1.1.1u (GH-105174) (GH-105200) (GH-105205) (#105370)

Upgrade builds to OpenSSL 1.1.1u.

Also updates _ssl_data_111.h from OpenSSL 1.1.1u, _ssl_data_300.h from 3.0.9.

Manual edits to the _ssl_data_300.h file prevent it from removing any
existing definitions in case those exist in some peoples builds and were
important (avoiding regressions during backporting).

(cherry picked from commit ede89af)
(cherry picked from commit e15de14c16ce98e773c31607bd70ee911e4ac073)

Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Ned Deily <nad@python.org>

* Python 3.8.17

* Post 3.8.17

* Updated CI to build 3.8.17

---------

Co-authored-by: Łukasz Langa <lukasz@langa.pl>
Co-authored-by: Benjamin Peterson <benjamin@python.org>
Co-authored-by: Ned Deily <nad@python.org>
Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: HARSHA VARDHAN <75431678+Thunder-007@users.noreply.github.com>
Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Jeremy Paige <ucodery@gmail.com>
Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>
Co-authored-by: Steve Dower <steve.dower@python.org>
Co-authored-by: Owain Davies <116417456+OTheDev@users.noreply.github.com>
Co-authored-by: Éric <earaujo@caravan.coop>
Co-authored-by: Oleg Iarygin <oleg@arhadthedev.net>
Co-authored-by: Steve Dower <steve.dower@microsoft.com>
Co-authored-by: Dong-hee Na <donghee.na@python.org>
Co-authored-by: Blind4Basics <32236948+Blind4Basics@users.noreply.github.com>
Co-authored-by: C.A.M. Gerlach <CAM.Gerlach@Gerlach.CAM>
Co-authored-by: Pradyun Gedam <pradyunsg@gmail.com>
Co-authored-by: Petr Viktorin <encukou@gmail.com>
Co-authored-by: Sam Carroll <70000253+samcarroll42@users.noreply.github.com>
Co-authored-by: Ethan Furman <ethan@stoneleaf.us>
Co-authored-by: Jelle Zijlstra <jelle.zijlstra@gmail.com>
Co-authored-by: Tian Gao <gaogaotiantian@hotmail.com>
Co-authored-by: Irit Katriel <1055913+iritkatriel@users.noreply.github.com>
Co-authored-by: stratakis <cstratak@redhat.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>")[#26](https://github.com/DataDog/cpython/pull/26)[)](/DataDog/cpython/commit/e0a363f8e63052caf4e901d999ee1646b5acf161 "Upgrade to 3.8.17 (#26)

* Post 3.8.16

* [3.8] Update copyright years to 2023. (gh-100852)

* [3.8] Update copyright years to 2023. (gh-100848).
(cherry picked from commit 11f99323c2ae0ec428c370a335695e3d8d4afc1d)

Co-authored-by: Benjamin Peterson <benjamin@python.org>

* Update additional copyright years to 2023.

Co-authored-by: Ned Deily <nad@python.org>

* [3.8] Update copyright year in README (GH-100863) (GH-100867)

(cherry picked from commit 30a6cc418a60fccb91ba574b552203425e594c47)

Co-authored-by: Ned Deily <nad@python.org>
Co-authored-by: HARSHA VARDHAN <75431678+Thunder-007@users.noreply.github.com>

* [3.8] Correct CVE-2020-10735 documentation (GH-100306) (#100698)

(cherry picked from commit 1cf3d78c92eb07dc09d15cc2e773b0b1b9436825)
(cherry picked from commit 88fe8d701af3316c8869ea18ea1c7acec6f68c04)

Co-authored-by: Jeremy Paige <ucodery@gmail.com>
Co-authored-by: Gregory P. Smith <greg@krypto.org>

* [3.8] Bump Azure Pipelines to ubuntu-22.04 (GH-101089) (#101215)

(cherry picked from commit c22a55c8b4f142ff679880ec954691d5920b7845)

Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>

* [3.8] gh-100180: Update Windows installer to OpenSSL 1.1.1s (GH-100903) (#101258)

* gh-101422: (docs) TarFile default errorlevel argument is 1, not 0 (GH-101424)

(cherry picked from commit ea232716d3de1675478db3a302629ba43194c967)

Co-authored-by: Owain Davies <116417456+OTheDev@users.noreply.github.com>

* [3.8] gh-95778: add doc missing in some places (GH-100627) (#101630)

(cherry picked from commit 46521826cb1883e29e4640f94089dd92c57efc5b)

* [3.8] gh-101283: Improved fallback logic for subprocess with shell=True on Windows (GH-101286) (#101710)

Co-authored-by: Oleg Iarygin <oleg@arhadthedev.net>
Co-authored-by: Steve Dower <steve.dower@microsoft.com>

* [3.8] gh-101981: Fix Ubuntu SSL tests with OpenSSL (3.1.0-beta1) CI i… (#102095)

[3.8] gh-101981: Fix Ubuntu SSL tests with OpenSSL (3.1.0-beta1) CI issue (gh-102079)

* [3.8] GH-102306 Avoid GHA CI macOS test_posix failure by using the appropriate macOS SDK (GH-102307)

[3.8] Avoid GHA CI macOS test_posix failure by using the appropriate macOS SDK.

* [3.8] gh-101726: Update the OpenSSL version to 1.1.1t (GH-101727) (GH-101752)

Fixes CVE-2023-0286 (High) and a couple of Medium security issues.
https://www.openssl.org/news/secadv/20230207.txt

Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Ned Deily <nad@python.org>

* [3.8] gh-102627: Replace address pointing toward malicious web page (GH-102630) (GH-102667)

(cherry picked from commit 61479d46848bc7a7f9b571b0b09c4a4b4436d839)

Co-authored-by: Blind4Basics <32236948+Blind4Basics@users.noreply.github.com>
Co-authored-by: C.A.M. Gerlach <CAM.Gerlach@Gerlach.CAM>
Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>

* [3.8] gh-101997: Update bundled pip version to 23.0.1 (GH-101998). (#102244)

(cherry picked from commit 89d9ff0f48c51a85920c7372a7df4a2204e32ea5)

* [3.8] gh-102950: Implement PEP 706 – Filter for tarfile.extractall (GH-102953) (#104548)

Backport of c8c3956d905e019101038b018129a4c90c9c9b8f

* [3.8] gh-99889: Fix directory traversal security flaw in uu.decode() (GH-104096) (#104332)

(cherry picked from commit 0aeda297931820436a50b78f4f7f0597274b5df4)

Co-authored-by: Sam Carroll <70000253+samcarroll42@users.noreply.github.com>

* [3.8] gh-104049: do not expose on-disk location from SimpleHTTPRequestHandler (GH-104067) (#104121)

Do not expose the local server's on-disk location from `SimpleHTTPRequestHandler` when generating a directory index. (unnecessary information disclosure)

(cherry picked from commit c7c3a60c88de61a79ded9fdaf6bc6a29da4efb9a)

Co-authored-by: Ethan Furman <ethan@stoneleaf.us>
Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Jelle Zijlstra <jelle.zijlstra@gmail.com>

* [3.8] gh-103935: Use `io.open_code()` when executing code in trace and profile modules (GH-103947) (#103954)

Co-authored-by: Tian Gao <gaogaotiantian@hotmail.com>

* [3.8] gh-68966: fix versionchanged in docs (GH-105299)

* [3.8] Update GitHub CI workflow for macOS. (GH-105302)

* [3.8] gh-105184: document that marshal functions can fail and need to be checked with PyErr_Occurred (GH-105185) (#105222)

(cherry picked from commit ee26ca13a129da8cf549409d0a1b2e892ff2b4ec)

Co-authored-by: Irit Katriel <1055913+iritkatriel@users.noreply.github.com>

* [3.8] gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508) (GH-104575) (GH-104592) (#104593) (#104895)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

(cherry picked from commit d7f8a5fe07b0ff3a419ccec434cc405b21a5a304)
(cherry picked from commit 2f630e1ce18ad2e07428296532a68b11dc66ad10)
(cherry picked from commit 610cc0ab1b760b2abaac92bd256b96191c46b941)
(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>

* [3.8] gh-103142: Upgrade binary builds and CI to OpenSSL 1.1.1u (GH-105174) (GH-105200) (GH-105205) (#105370)

Upgrade builds to OpenSSL 1.1.1u.

Also updates _ssl_data_111.h from OpenSSL 1.1.1u, _ssl_data_300.h from 3.0.9.

Manual edits to the _ssl_data_300.h file prevent it from removing any
existing definitions in case those exist in some peoples builds and were
important (avoiding regressions during backporting).

(cherry picked from commit ede89af)
(cherry picked from commit e15de14c16ce98e773c31607bd70ee911e4ac073)

Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Ned Deily <nad@python.org>

* Python 3.8.17

* Post 3.8.17

* Updated CI to build 3.8.17

---------

Co-authored-by: Łukasz Langa <lukasz@langa.pl>
Co-authored-by: Benjamin Peterson <benjamin@python.org>
Co-authored-by: Ned Deily <nad@python.org>
Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: HARSHA VARDHAN <75431678+Thunder-007@users.noreply.github.com>
Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Jeremy Paige <ucodery@gmail.com>
Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>
Co-authored-by: Steve Dower <steve.dower@python.org>
Co-authored-by: Owain Davies <116417456+OTheDev@users.noreply.github.com>
Co-authored-by: Éric <earaujo@caravan.coop>
Co-authored-by: Oleg Iarygin <oleg@arhadthedev.net>
Co-authored-by: Steve Dower <steve.dower@microsoft.com>
Co-authored-by: Dong-hee Na <donghee.na@python.org>
Co-authored-by: Blind4Basics <32236948+Blind4Basics@users.noreply.github.com>
Co-authored-by: C.A.M. Gerlach <CAM.Gerlach@Gerlach.CAM>
Co-authored-by: Pradyun Gedam <pradyunsg@gmail.com>
Co-authored-by: Petr Viktorin <encukou@gmail.com>
Co-authored-by: Sam Carroll <70000253+samcarroll42@users.noreply.github.com>
Co-authored-by: Ethan Furman <ethan@stoneleaf.us>
Co-authored-by: Jelle Zijlstra <jelle.zijlstra@gmail.com>
Co-authored-by: Tian Gao <gaogaotiantian@hotmail.com>
Co-authored-by: Irit Katriel <1055913+iritkatriel@users.noreply.github.com>
Co-authored-by: stratakis <cstratak@redhat.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>")`
…

`[e0a363f](/DataDog/cpython/commit/e0a363f8e63052caf4e901d999ee1646b5acf161)`

```
* Post 3.8.16

* [3.8] Update copyright years to 2023. ([pythongh-100852](https://github.com/python/cpython/pull/100852))

* [3.8] Update copyright years to 2023. ([pythongh-100848](https://github.com/python/cpython/pull/100848)).
(cherry picked from commit [11f9932](https://github.com/DataDog/cpython/commit/11f99323c2ae0ec428c370a335695e3d8d4afc1d))

Co-authored-by: Benjamin Peterson <benjamin@python.org>

* Update additional copyright years to 2023.

Co-authored-by: Ned Deily <nad@python.org>

* [3.8] Update copyright year in README ([pythonGH-100863](https://github.com/python/cpython/pull/100863)) ([pythonGH-100867](https://github.com/python/cpython/pull/100867))

(cherry picked from commit [30a6cc4](https://github.com/DataDog/cpython/commit/30a6cc418a60fccb91ba574b552203425e594c47))

Co-authored-by: Ned Deily <nad@python.org>
Co-authored-by: HARSHA VARDHAN <75431678+Thunder-007@users.noreply.github.com>

* [3.8] Correct [CVE-2020-10735](https://github.com/advisories/GHSA-6jr7-xr67-mgxw "CVE-2020-10735") documentation ([pythonGH-100306](https://github.com/python/cpython/pull/100306)) ([python#100698](https://github.com/python/cpython/pull/100698))

(cherry picked from commit [1cf3d78](https://github.com/DataDog/cpython/commit/1cf3d78c92eb07dc09d15cc2e773b0b1b9436825))
(cherry picked from commit [88fe8d7](https://github.com/DataDog/cpython/commit/88fe8d701af3316c8869ea18ea1c7acec6f68c04))

Co-authored-by: Jeremy Paige <ucodery@gmail.com>
Co-authored-by: Gregory P. Smith <greg@krypto.org>

* [3.8] Bump Azure Pipelines to ubuntu-22.04 ([pythonGH-101089](https://github.com/python/cpython/pull/101089)) ([python#101215](https://github.com/python/cpython/pull/101215))

(cherry picked from commit [c22a55c](https://github.com/DataDog/cpython/commit/c22a55c8b4f142ff679880ec954691d5920b7845))

Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>

* [3.8] [pythongh-100180](https://github.com/python/cpython/issues/100180): Update Windows installer to OpenSSL 1.1.1s ([pythonGH-100903](https://github.com/python/cpython/pull/100903)) ([python#101258](https://github.com/python/cpython/pull/101258))

* [pythongh-101422](https://github.com/python/cpython/issues/101422): (docs) TarFile default errorlevel argument is 1, not 0 ([pythonGH-101424](https://github.com/python/cpython/pull/101424))

(cherry picked from commit [ea23271](https://github.com/DataDog/cpython/commit/ea232716d3de1675478db3a302629ba43194c967))

Co-authored-by: Owain Davies <116417456+OTheDev@users.noreply.github.com>

* [3.8] [pythongh-95778](https://github.com/python/cpython/issues/95778): add doc missing in some places ([pythonGH-100627](https://github.com/python/cpython/pull/100627)) ([python#101630](https://github.com/python/cpython/pull/101630))

(cherry picked from commit [4652182](https://github.com/DataDog/cpython/commit/46521826cb1883e29e4640f94089dd92c57efc5b))

* [3.8] [pythongh-101283](https://github.com/python/cpython/issues/101283): Improved fallback logic for subprocess with shell=True on Windows ([pythonGH-101286](https://github.com/python/cpython/pull/101286)) ([python#101710](https://github.com/python/cpython/pull/101710))

Co-authored-by: Oleg Iarygin <oleg@arhadthedev.net>
Co-authored-by: Steve Dower <steve.dower@microsoft.com>

* [3.8] [pythongh-101981](https://github.com/python/cpython/issues/101981): Fix Ubuntu SSL tests with OpenSSL (3.1.0-beta1) CI i… ([python#102095](https://github.com/python/cpython/pull/102095))

[3.8] [pythongh-101981](https://github.com/python/cpython/issues/101981): Fix Ubuntu SSL tests with OpenSSL (3.1.0-beta1) CI issue ([pythongh-102079](https://github.com/python/cpython/pull/102079))

* [3.8] [pythonGH-102306](https://github.com/python/cpython/issues/102306) Avoid GHA CI macOS test_posix failure by using the appropriate macOS SDK ([pythonGH-102307](https://github.com/python/cpython/pull/102307))

[3.8] Avoid GHA CI macOS test_posix failure by using the appropriate macOS SDK.

* [3.8] [pythongh-101726](https://github.com/python/cpython/issues/101726): Update the OpenSSL version to 1.1.1t ([pythonGH-101727](https://github.com/python/cpython/pull/101727)) ([pythonGH-101752](https://github.com/python/cpython/pull/101752))

Fixes [CVE-2023-0286](https://github.com/advisories/GHSA-x4qr-2fvf-3mr5 "CVE-2023-0286") (High) and a couple of Medium security issues.
<https://www.openssl.org/news/secadv/20230207.txt>

Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Ned Deily <nad@python.org>

* [3.8] [pythongh-102627](https://github.com/python/cpython/issues/102627): Replace address pointing toward malicious web page ([pythonGH-102630](https://github.com/python/cpython/pull/102630)) ([pythonGH-102667](https://github.com/python/cpython/pull/102667))

(cherry picked from commit [61479d4](https://github.com/DataDog/cpython/commit/61479d46848bc7a7f9b571b0b09c4a4b4436d839))

Co-authored-by: Blind4Basics <32236948+Blind4Basics@users.noreply.github.com>
Co-authored-by: C.A.M. Gerlach <CAM.Gerlach@Gerlach.CAM>
Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>

* [3.8] [pythongh-101997](https://github.com/python/cpython/issues/101997): Update bundled pip version to 23.0.1 ([pythonGH-101998](https://github.com/python/cpython/pull/101998)). ([python#102244](https://github.com/python/cpython/pull/102244))

(cherry picked from commit [89d9ff0](https://github.com/DataDog/cpython/commit/89d9ff0f48c51a85920c7372a7df4a2204e32ea5))

* [3.8] [pythongh-102950](https://github.com/python/cpython/issues/102950): Implement PEP 706 – Filter for tarfile.extractall ([pythonGH-102953](https://github.com/python/cpython/pull/102953)) ([python#104548](https://github.com/python/cpython/pull/104548))

Backport of [c8c3956](https://github.com/DataDog/cpython/commit/c8c3956d905e019101038b018129a4c90c9c9b8f)

* [3.8] [pythongh-99889](https://github.com/python/cpython/issues/99889): Fix directory traversal security flaw in uu.decode() ([pythonGH-104096](https://github.com/python/cpython/pull/104096)) ([python#104332](https://github.com/python/cpython/pull/104332))

(cherry picked from commit [0aeda29](https://github.com/DataDog/cpython/commit/0aeda297931820436a50b78f4f7f0597274b5df4))

Co-authored-by: Sam Carroll <70000253+samcarroll42@users.noreply.github.com>

* [3.8] [pythongh-104049](https://github.com/python/cpython/issues/104049): do not expose on-disk location from SimpleHTTPRequestHandler ([pythonGH-104067](https://github.com/python/cpython/pull/104067)) ([python#104121](https://github.com/python/cpython/pull/104121))

Do not expose the local server's on-disk location from `SimpleHTTPRequestHandler` when generating a directory index. (unnecessary information disclosure)

(cherry picked from commit [c7c3a60](https://github.com/DataDog/cpython/commit/c7c3a60c88de61a79ded9fdaf6bc6a29da4efb9a))

Co-authored-by: Ethan Furman <ethan@stoneleaf.us>
Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Jelle Zijlstra <jelle.zijlstra@gmail.com>

* [3.8] [pythongh-103935](https://github.com/python/cpython/issues/103935): Use `io.open_code()` when executing code in trace and profile modules ([pythonGH-103947](https://github.com/python/cpython/pull/103947)) ([python#103954](https://github.com/python/cpython/pull/103954))

Co-authored-by: Tian Gao <gaogaotiantian@hotmail.com>

* [3.8] [pythongh-68966](https://github.com/python/cpython/issues/68966): fix versionchanged in docs ([pythonGH-105299](https://github.com/python/cpython/pull/105299))

* [3.8] Update GitHub CI workflow for macOS. ([pythonGH-105302](https://github.com/python/cpython/pull/105302))

* [3.8] [pythongh-105184](https://github.com/python/cpython/issues/105184): document that marshal functions can fail and need to be checked with PyErr_Occurred ([pythonGH-105185](https://github.com/python/cpython/pull/105185)) ([python#105222](https://github.com/python/cpython/pull/105222))

(cherry picked from commit [ee26ca1](https://github.com/DataDog/cpython/commit/ee26ca13a129da8cf549409d0a1b2e892ff2b4ec))

Co-authored-by: Irit Katriel <1055913+iritkatriel@users.noreply.github.com>

* [3.8] [pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508)) ([pythonGH-104575](https://github.com/python/cpython/pull/104575)) ([pythonGH-104592](https://github.com/python/cpython/pull/104592)) ([python#104593](https://github.com/python/cpython/pull/104593)) ([python#104895](https://github.com/python/cpython/pull/104895))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

I simplified the docs by eliding the state of the world explanatory
paragraph in this security release only backport.  (people will see
that in the mainline /3/ docs)

(cherry picked from commit [d7f8a5f](https://github.com/DataDog/cpython/commit/d7f8a5fe07b0ff3a419ccec434cc405b21a5a304))
(cherry picked from commit [2f630e1](https://github.com/DataDog/cpython/commit/2f630e1ce18ad2e07428296532a68b11dc66ad10))
(cherry picked from commit [610cc0a](https://github.com/DataDog/cpython/commit/610cc0ab1b760b2abaac92bd256b96191c46b941))
(cherry picked from commit [f48a96a](https://github.com/DataDog/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>

* [3.8] [pythongh-103142](https://github.com/python/cpython/issues/103142): Upgrade binary builds and CI to OpenSSL 1.1.1u ([pythonGH-105174](https://github.com/python/cpython/pull/105174)) ([pythonGH-105200](https://github.com/python/cpython/pull/105200)) ([pythonGH-105205](https://github.com/python/cpython/pull/105205)) ([python#105370](https://github.com/python/cpython/pull/105370))

Upgrade builds to OpenSSL 1.1.1u.

Also updates _ssl_data_111.h from OpenSSL 1.1.1u, _ssl_data_300.h from 3.0.9.

Manual edits to the _ssl_data_300.h file prevent it from removing any
existing definitions in case those exist in some peoples builds and were
important (avoiding regressions during backporting).

(cherry picked from commit [ede89af](https://github.com/DataDog/cpython/commit/ede89af605b1c0442353435ad22195c16274f65d))
(cherry picked from commit [e15de14](https://github.com/DataDog/cpython/commit/e15de14c16ce98e773c31607bd70ee911e4ac073))

Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Ned Deily <nad@python.org>

* Python 3.8.17

* Post 3.8.17

* Updated CI to build 3.8.17

---------

Co-authored-by: Łukasz Langa <lukasz@langa.pl>
Co-authored-by: Benjamin Peterson <benjamin@python.org>
Co-authored-by: Ned Deily <nad@python.org>
Co-authored-by: Miss Islington (bot) <31488909+miss-islington@users.noreply.github.com>
Co-authored-by: HARSHA VARDHAN <75431678+Thunder-007@users.noreply.github.com>
Co-authored-by: Gregory P. Smith <greg@krypto.org>
Co-authored-by: Jeremy Paige <ucodery@gmail.com>
Co-authored-by: Hugo van Kemenade <hugovk@users.noreply.github.com>
Co-authored-by: Steve Dower <steve.dower@python.org>
Co-authored-by: Owain Davies <116417456+OTheDev@users.noreply.github.com>
Co-authored-by: Éric <earaujo@caravan.coop>
Co-authored-by: Oleg Iarygin <oleg@arhadthedev.net>
Co-authored-by: Steve Dower <steve.dower@microsoft.com>
Co-authored-by: Dong-hee Na <donghee.na@python.org>
Co-authored-by: Blind4Basics <32236948+Blind4Basics@users.noreply.github.com>
Co-authored-by: C.A.M. Gerlach <CAM.Gerlach@Gerlach.CAM>
Co-authored-by: Pradyun Gedam <pradyunsg@gmail.com>
Co-authored-by: Petr Viktorin <encukou@gmail.com>
Co-authored-by: Sam Carroll <70000253+samcarroll42@users.noreply.github.com>
Co-authored-by: Ethan Furman <ethan@stoneleaf.us>
Co-authored-by: Jelle Zijlstra <jelle.zijlstra@gmail.com>
Co-authored-by: Tian Gao <gaogaotiantian@hotmail.com>
Co-authored-by: Irit Katriel <1055913+iritkatriel@users.noreply.github.com>
Co-authored-by: stratakis <cstratak@redhat.com>
Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
```

[hroncok](/hroncok)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[Oct 6, 2023](#ref-commit-582b28b)
[![@frenzymadness](https://avatars.githubusercontent.com/u/5688939?s=40&u=0612ccdf7151f383ab84f1c4ddb9e7bb3e92b6bd&v=4)](/frenzymadness) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@hroncok](https://avatars.githubusercontent.com/u/2401856?s=40&v=4)](/hroncok)

`[00399-](/fedora-python/cpython/commit/582b28b32c9921b30fed62a7de1b70e5526b69f5 "00399-cve-2023-24329.patch

00399 #

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported to Python 2 from Python 3.12.

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Lumir Balhar <lbalhar@redhat.com>")[cve-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")[.patch](/fedora-python/cpython/commit/582b28b32c9921b30fed62a7de1b70e5526b69f5 "00399-cve-2023-24329.patch

00399 #

* gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported to Python 2 from Python 3.12.

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Lumir Balhar <lbalhar@redhat.com>")`
…

`[582b28b](/fedora-python/cpython/commit/582b28b32c9921b30fed62a7de1b70e5526b69f5)`

```
00399 #

* [pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported to Python 2 from Python 3.12.

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
Co-authored-by: Lumir Balhar <lbalhar@redhat.com>
```

[hroncok](/hroncok)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[Nov 28, 2023](#ref-commit-394f45f)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@hroncok](https://avatars.githubusercontent.com/u/2401856?s=40&v=4)](/hroncok)

`[00399:](/fedora-python/cpython/commit/394f45f2d7b4235833171f518c297da211e7ea81 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[394f45f](/fedora-python/cpython/commit/394f45f2d7b4235833171f518c297da211e7ea81)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/fedora-python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Feb 22, 2024](#ref-commit-421b8bf)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/421b8bf09adc55837b7bbffb6dda9323d76c5612 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[421b8bf](/stratakis/cpython/commit/421b8bf09adc55837b7bbffb6dda9323d76c5612)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Feb 27, 2024](#ref-commit-4c5f976)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/4c5f976af47578285408a280ddece1870d29c515 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[4c5f976](/stratakis/cpython/commit/4c5f976af47578285408a280ddece1870d29c515)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[hroncok](/hroncok)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[Mar 7, 2024](#ref-commit-5e561bb)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@hroncok](https://avatars.githubusercontent.com/u/2401856?s=40&v=4)](/hroncok)

`[00399:](/fedora-python/cpython/commit/5e561bbd1e660b38895d6eedfa23f4b74cfa9a0f "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[5e561bb](/fedora-python/cpython/commit/5e561bbd1e660b38895d6eedfa23f4b74cfa9a0f)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/fedora-python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 11, 2024](#ref-commit-ee0a83c)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/ee0a83ce5d70b13b1ddd45812a540d9ec21ed799 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[ee0a83c](/stratakis/cpython/commit/ee0a83ce5d70b13b1ddd45812a540d9ec21ed799)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 11, 2024](#ref-commit-0553a38)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/0553a38abc7201e2118c6493f75ab94cb47f31f0 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[0553a38](/stratakis/cpython/commit/0553a38abc7201e2118c6493f75ab94cb47f31f0)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 20, 2024](#ref-commit-4b56e54)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/4b56e54bf4222096c99dd2f985f091d154deb27b "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[4b56e54](/stratakis/cpython/commit/4b56e54bf4222096c99dd2f985f091d154deb27b)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 20, 2024](#ref-commit-62c95c7)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/62c95c77721c8b1aaae46736187ca3a01c8ac142 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[62c95c7](/stratakis/cpython/commit/62c95c77721c8b1aaae46736187ca3a01c8ac142)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 20, 2024](#ref-commit-4322ca4)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/4322ca446ae1c72ca70fe04ef34253a727a5a6d3 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[4322ca4](/stratakis/cpython/commit/4322ca446ae1c72ca70fe04ef34253a727a5a6d3)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 20, 2024](#ref-commit-8d38b3b)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/8d38b3bba0d4a8727ec062f52ba75cc6363b8199 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[8d38b3b](/stratakis/cpython/commit/8d38b3bba0d4a8727ec062f52ba75cc6363b8199)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[stratakis](/stratakis)
pushed a commit
to stratakis/cpython
that referenced
this pull request
[Mar 25, 2024](#ref-commit-f720eab)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@stratakis](https://avatars.githubusercontent.com/u/14812606?s=40&v=4)](/stratakis)

`[00399:](/stratakis/cpython/commit/f720eabc0212968abe79f6edb8262f56487b238f "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[f720eab](/stratakis/cpython/commit/f720eabc0212968abe79f6edb8262f56487b238f)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/stratakis/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[hroncok](/hroncok)
pushed a commit
to fedora-python/cpython
that referenced
this pull request
[Mar 26, 2024](#ref-commit-f305882)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@hroncok](https://avatars.githubusercontent.com/u/2401856?s=40&v=4)](/hroncok)

`[00399:](/fedora-python/cpython/commit/f30588204de8a8dd96153f78e9dc59af9fa1e883 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[f305882](/fedora-python/cpython/commit/f30588204de8a8dd96153f78e9dc59af9fa1e883)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/fedora-python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[mcepl](/mcepl)
pushed a commit
to openSUSE-Python/cpython
that referenced
this pull request
[Apr 2, 2024](#ref-commit-db0789f)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@illia-v](https://avatars.githubusercontent.com/u/17710133?s=40&u=86e279bcb4f15d8a29e8d5679a56285c4b70ae50&v=4)](/illia-v)
[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [![@mcepl](https://avatars.githubusercontent.com/u/198999?s=40&v=4)](/mcepl)

`[00399:](/openSUSE-Python/cpython/commit/db0789f75af3fdf9d85090474c97cda3d34563b8 "00399: CVE-2023-24329

gh-102153: Start stripping C0 control and space chars in `urlsplit` (GH-102508)

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit GH-25595.

This adds more sanitizing to respect the \"Remove any leading C0 control or space from input\" [rule](https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input.) in response to [CVE-2023-24329](https://nvd.nist.gov/vuln/detail/CVE-2023-24329).

Backported from Python 3.12

(cherry picked from commit f48a96a28012d28ae37a2f4587a780a5eb779946)

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>") [CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")`
…

`[db0789f](/openSUSE-Python/cpython/commit/db0789f75af3fdf9d85090474c97cda3d34563b8)`

```
[pythongh-102153](https://github.com/python/cpython/issues/102153): Start stripping C0 control and space chars in `urlsplit` ([pythonGH-102508](https://github.com/python/cpython/pull/102508))

`urllib.parse.urlsplit` has already been respecting the WHATWG spec a bit [pythonGH-25595](https://github.com/python/cpython/pull/25595).

This adds more sanitizing to respect the "Remove any leading C0 control or space from input" [rule]([https://url.spec.whatwg.org/GH-url-parsing:~:text=Remove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input](https://url.spec.whatwg.org/GH-url-parsing%3A~%3Atext%3DRemove%20any%20leading%20and%20trailing%20C0%20control%20or%20space%20from%20input).) in response to [[CVE-2023-24329](https://github.com/advisories/GHSA-r32r-rqw2-wv5m "CVE-2023-24329")](<https://nvd.nist.gov/vuln/detail/CVE-2023-24329>).

Backported from Python 3.12

(cherry picked from commit [f48a96a](https://github.com/openSUSE-Python/cpython/commit/f48a96a28012d28ae37a2f4587a780a5eb779946))

Co-authored-by: Illia Volochii <illia.volochii@gmail.com>
Co-authored-by: Gregory P. Smith [Google] <greg@krypto.org>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython%2Fcpython%2Fpull%2F25595)

Reviewers

[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&v=4)](/serhiy-storchaka) [serhiy-storchaka](/serhiy-storchaka)

serhiy-storchaka left review comments

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead) [gpshead](/gpshead)

gpshead approved these changes

[![@vstinner](https://avatars.githubusercontent.com/u/194129?s=40&v=4)](/vstinner) [vstinner](/vstinner)

 Awaiting requested review from vstinner

[![@tirkarthi](https://avatars.githubusercontent.com/u/3972343?s=40&v=4)](/tirkarthi) [tirkarthi](/tirkarthi)

 Awaiting requested review from tirkarthi

Assignees

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=40&v=4)](/orsenthil) [orsenthil](/orsenthil)

Labels

[type-bug](/python/cpython/labels/type-bug)
An unexpected behavior, bug, or error
[type-security](/python/cpython/labels/type-security)
A security issue

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

7 participants

[![@orsenthil](https://avatars.githubusercontent.com/u/332330?s=52&v=4)](/orsenthil) [![@bedevere-bot](https://avatars.githubusercontent.com/u/28579281?s=52&v=4)](/bedevere-bot) [![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=52&v=4)](/miss-islington) [![@gpshead](https://avatars.githubusercontent.com/u/68491?s=52&v=4)](/gpshead) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=52&v=4)](/serhiy-storchaka) [![@tirkarthi](https://avatars.githubusercontent.com/u/3972343?s=52&v=4)](/tirkarthi) [![@the-knights-who-say-ni](https://avatars.githubusercontent.com/u/18121554?s=52&v=4)](/the-knights-who-say-ni)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

