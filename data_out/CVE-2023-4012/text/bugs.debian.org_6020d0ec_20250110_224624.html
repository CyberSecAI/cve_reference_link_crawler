
# Debian Bug report logs - #1038422 ntpsec: ntpd segmentation fault in libcrypto.so[7f6d3ecc5000+278000]

[![version graph](version.cgi?package=ntpsec;absolute=0;collapse=1;height=2;fixed=ntpsec%2F1.2.2%2Bdfsg1-2;fixed=ntpsec%2F1.2.2%2Bdfsg1-1%2Bdeb12u1;found=ntpsec%2F1.2.2%2Bdfsg1-1;width=2)](version.cgi?found=ntpsec%2F1.2.2%2Bdfsg1-1;fixed=ntpsec%2F1.2.2%2Bdfsg1-2;fixed=ntpsec%2F1.2.2%2Bdfsg1-1%2Bdeb12u1;absolute=0;collapse=1;package=ntpsec;info=1)

Package:
[ntpsec](pkgreport.cgi?package=ntpsec);
Maintainer for [ntpsec](pkgreport.cgi?package=ntpsec) is [Richard Laager <rlaager@debian.org>](pkgreport.cgi?maint=rlaager%40debian.org); Source for [ntpsec](pkgreport.cgi?package=ntpsec) is [src:ntpsec](pkgreport.cgi?src=ntpsec) ([PTS](https://tracker.debian.org/pkg/ntpsec), [buildd](https://buildd.debian.org/ntpsec), [popcon](https://qa.debian.org/popcon.php?package=ntpsec)).

Reported by: ["R.L. Nicholas" <forest.owlet@riseup.net>](pkgreport.cgi?submitter=forest.owlet%40riseup.net)

Date: Sun, 18 Jun 2023 02:27:02 UTC

Severity: *grave*

Tags: security

Found in version ntpsec/1.2.2+dfsg1-1

Fixed in versions ntpsec/1.2.2+dfsg1-2, ntpsec/1.2.2+dfsg1-1+deb12u1

**Done:** Richard Laager <rlaager@debian.org>

Bug is archived. No further changes may be made.

Forwarded to <https://gitlab.com/NTPsec/ntpsec/-/issues/794>

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=1038422;mbox=yes), [status mbox](bugreport.cgi?bug=1038422;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=1038422;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, forest.owlet@riseup.net, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Sun, 18 Jun 2023 02:27:04 GMT) ([full text](bugreport.cgi?bug=1038422;msg=2), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `"R.L. Nicholas" <forest.owlet@riseup.net>`:

New Bug report received and forwarded. Copy sent to `forest.owlet@riseup.net, Richard Laager <rlaager@debian.org>`.
(Sun, 18 Jun 2023 02:27:04 GMT) ([full text](bugreport.cgi?bug=1038422;msg=4), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=5), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=forest.owlet%40riseup.net)
From: "R.L. Nicholas" <forest.owlet@riseup.net>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: ntpsec: ntpd segmentation fault in libcrypto.so[7f6d3ecc5000+278000]
Date: Sun, 18 Jun 2023 02:24:22 +0000
```
Package: ntpsec
Version: 1.2.2+dfsg1-1
Severity: grave
Justification: renders package unusable
X-Debbugs-Cc: forest.owlet@riseup.net

Dear Maintainer,

I updated the Debian release from bullseye to bookworm.  With that update
the ntp package (ntpd 4.2.8p15) was replaced by ntpsec.  The ntpsec version
of ntpd starts as expected, but randomly crashes in a few hours.  It reports
the following information to the kern.log file:
2023-06-17T01:12:52.873519+00:00 karita kernel: [258683.650167] ntpd[23269]: segfault at 10 ip 00007f6d3ece0ab3 sp 00007ffc9c364830 error 4 in libcrypto.so.3[7f6d3ecc5000+278000] likely on CPU 1 (core 0, socket 1)
2023-06-17T01:12:52.873554+00:00 karita kernel: [258683.650185] Code: 1f 84 00 00 00 00 00 48 83 ec 08 48 c7 c0 ff ff ff ff 48 85 ff 0f 84 63 04 00 00 48 85 d2 0f 84 5a 04 00 00 41 ba 00 08 00 10 <0f> 10 07 0f 57 e4 44 23 15 e4 fa 39 00 48 8d 42 10 81 fe 00 01 00

Obviously, once the software crashes it stops functioning.

-- System Information:
Debian Release: 12.0
  APT prefers stable-security
  APT policy: (500, 'stable-security'), (500, 'stable')
Architecture: amd64 (x86_64)

Kernel: Linux 6.1.0-9-amd64 (SMP w/2 CPU threads; PREEMPT)
Locale: LANG=en_GB.UTF-8, LC_CTYPE=en_GB.UTF-8 (charmap=UTF-8), LANGUAGE=en_GB:en
Shell: /bin/sh linked to /usr/bin/dash
Init: systemd (via /run/systemd/system)
LSM: AppArmor: enabled

Versions of packages ntpsec depends on:
ii  adduser                    3.134
ii  init-system-helpers        1.65.2
ii  libbsd0                    0.11.7-2
ii  libc6                      2.36-9
ii  libcap2                    1:2.66-4
ii  libssl3                    3.0.9-1
ii  lsb-base                   11.6
ii  netbase                    6.4
ii  python3                    3.11.2-1+b1
ii  python3-ntp                1.2.2+dfsg1-1
ii  sysvinit-utils [lsb-base]  3.06-4
ii  tzdata                     2023c-5

Versions of packages ntpsec recommends:
ii  cron [cron-daemon]  3.0pl1-162
ii  systemd             252.6-1

Versions of packages ntpsec suggests:
ii  apparmor       3.0.8-3
pn  certbot        <none>
pn  ntpsec-doc     <none>
pn  ntpsec-ntpviz  <none>

-- no debconf information

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Mon, 26 Jun 2023 14:54:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=7), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `Matt Selsky <selsky@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Mon, 26 Jun 2023 14:54:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=9), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=10), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=selsky%40gmail.com)
From: Matt Selsky <selsky@gmail.com>
To: 1038422@bugs.debian.org
Date: Mon, 26 Jun 2023 10:50:21 -0400
```
[[Message part 1](bugreport.cgi?att=0;bug=1038422;msg=10) (text/plain, inline)]
```
```
Hi,

Can you please share your ntp.conf or if there's a particular server that
seems to cause this segfault so that we can try to reproduce it?

Thanks,
-Matt

```
```
[[Message part 2](bugreport.cgi?att=1;bug=1038422;msg=10) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Mon, 26 Jun 2023 19:27:05 GMT) ([full text](bugreport.cgi?bug=1038422;msg=12), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=12), [link](#11)).

---

**Acknowledgement sent**
to `Richard Laager <rlaager@wiktel.com>`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Mon, 26 Jun 2023 19:27:05 GMT) ([full text](bugreport.cgi?bug=1038422;msg=14), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=15), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=rlaager%40wiktel.com)
From: Richard Laager <rlaager@wiktel.com>
To: "R.L. Nicholas" <forest.owlet@riseup.net>
Cc: 1038422@bugs.debian.org
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Mon, 26 Jun 2023 14:17:33 -0500
```
I'm not sure if you saw this, as he didn't send it directly to you, but
Matt Selsky asked:

> Can you please share your ntp.conf or if there's a particular server
> that seems to cause this segfault so that we can try to reproduce it?

Also, can you get a stack trace? There are some instructions in the
Debian wiki:
<https://wiki.debian.org/HowToGetABacktrace>

--
Richard

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Wed, 28 Jun 2023 02:42:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=17), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=17), [link](#16)).

---

**Acknowledgement sent**
to `Richard Laager <rlaager@wiktel.com>`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Wed, 28 Jun 2023 02:42:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=19), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=19), [link](#18)).

---

[Message #20](#20) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=20), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=20), reply):

![](/cgi-bin/libravatar.cgi?email=rlaager%40wiktel.com)
From: Richard Laager <rlaager@wiktel.com>
To: 1038422@bugs.debian.org
Cc: "R.L. Nicholas" <forest.owlet@riseup.net>
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Tue, 27 Jun 2023 21:39:17 -0500
```
The original submitter replied off the tracker (probably by accident).
I'll summarize here.

The ntp.conf he included is the stock ntp.conf.

He indicated he will try to get a backtrace.

--
Richard

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Thu, 29 Jun 2023 01:18:03 GMT) ([full text](bugreport.cgi?bug=1038422;msg=22), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=22), [link](#21)).

---

**Acknowledgement sent**
to `forest.owlet@riseup.net`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Thu, 29 Jun 2023 01:18:03 GMT) ([full text](bugreport.cgi?bug=1038422;msg=24), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=24), [link](#23)).

---

[Message #25](#25) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=25), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=25), reply):

![](/cgi-bin/libravatar.cgi?email=forest.owlet%40riseup.net)
From: forest.owlet@riseup.net
To: Richard Laager <rlaager@wiktel.com>
Cc: 1038422@bugs.debian.org
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Thu, 29 Jun 2023 01:14:39 +0000
```
On 2023-06-28 02:39, Richard Laager wrote:
> The original submitter replied off the tracker (probably by accident). I'll summarize here.
>
> The ntp.conf he included is the stock ntp.conf.
>
> He indicated he will try to get a backtrace.

I'm trying to setup ntpsec to get a backtrace.  I installed the
ntpsec-dbgsym package, but I'm not sure that I did it correctly.
Shouldn't the output from this file command include the text "no
stripped".

root@karita:/home/root# file /usr/sbin/ntpd
/usr/sbin/ntpd: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV),
dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2,
BuildID[sha1]=8bc6f9398efb6b8c446b2d719831f5738d563c84, for GNU/Linux
3.2.0, stripped
root@karita:/home/root#

Regards,

Roy

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Thu, 29 Jun 2023 02:06:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=27), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=27), [link](#26)).

---

**Acknowledgement sent**
to `Richard Laager <rlaager@wiktel.com>`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Thu, 29 Jun 2023 02:06:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=29), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=29), [link](#28)).

---

[Message #30](#30) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=30), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=30), reply):

![](/cgi-bin/libravatar.cgi?email=rlaager%40wiktel.com)
From: Richard Laager <rlaager@wiktel.com>
To: forest.owlet@riseup.net
Cc: 1038422@bugs.debian.org
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Wed, 28 Jun 2023 21:03:08 -0500
```
On 2023-06-28 20:14, forest.owlet@riseup.net wrote:
> On 2023-06-28 02:39, Richard Laager wrote:
>> The original submitter replied off the tracker (probably by accident). I'll summarize here.
>>
>> The ntp.conf he included is the stock ntp.conf.
>>
>> He indicated he will try to get a backtrace.
>
> I'm trying to setup ntpsec to get a backtrace.  I installed the
> ntpsec-dbgsym package, but I'm not sure that I did it correctly.
> Shouldn't the output from this file command include the text "no
> stripped".

I don't think it should change that. I think the debug symbols end up
somewhere else.

--
Richard

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Fri, 30 Jun 2023 04:03:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=32), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=32), [link](#31)).

---

**Acknowledgement sent**
to `forest.owlet@riseup.net`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Fri, 30 Jun 2023 04:03:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=34), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=34), [link](#33)).

---

[Message #35](#35) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=35), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=35), reply):

![](/cgi-bin/libravatar.cgi?email=forest.owlet%40riseup.net)
From: forest.owlet@riseup.net
To: 1038422 <1038422@bugs.debian.org>
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Fri, 30 Jun 2023 03:59:01 +0000
```
Hi,

Here's a backtrace from the latest ntpsec coredump.

root@karita:/var/lib/systemd/coredump# export
DEBUGINFOD_URLS="<https://debuginfod.debian.net>"
root@karita:/var/lib/systemd/coredump# coredumpctl debug
                  PID: 61726 (ntpd)
           UID: 110 (ntpsec)
           GID: 117 (ntpsec)
        Signal: 11 (SEGV)
     Timestamp: Fri 2023-06-30 02:33:27 UTC (59min ago)
  Command Line: /usr/sbin/ntpd -p /run/ntpd.pid -c /etc/ntpsec/ntp.conf
-g -N -u ntpsec:ntpsec
    Executable: /usr/sbin/ntpd
 Control Group: /system.slice/ntpsec.service
          Unit: ntpsec.service
         Slice: system.slice
       Boot ID: 0e943a6b0cfe4fdd9e032c3d91c9d58d
    Machine ID: 0e50b80b858599a4a8aa8383662e5bb4
      Hostname: karita
       Storage:
/var/lib/systemd/coredump/core.ntpd.110.0e943a6b0cfe4fdd9e032c3d91c9d58d.61726.1688092407000000.zst
(present)
  Size on Disk: 775.6K
       Message: Process 61726 (ntpd) of user 110 dumped core.

                Module libnss_systemd.so.2 from deb
systemd-252.6-1.amd64
                Stack trace of thread 61726:
                #0  0x00007f280d4e0ab3 aesni_set_encrypt_key
(libcrypto.so.3 + 0xe0ab3)
                #1  0x00007f280d6f3d45 cipher_hw_aesni_initkey
(libcrypto.so.3 + 0x2f3d45)
                #2  0x00007f280d7397fb cipher_generic_init_internal
(libcrypto.so.3 + 0x3397fb)
                #3  0x00007f280d7398cb ossl_cipher_generic_einit
(libcrypto.so.3 + 0x3398cb)
                #4  0x00007f280d60993b EVP_CipherInit_ex (libcrypto.so.3
+ 0x20993b)
                #5  0x0000560b2e1246f3 AES_SIV_Init (ntpd + 0x4c6f3)
                #6  0x0000560b2e1255df AES_SIV_Decrypt (ntpd + 0x4d5df)
                #7  0x0000560b2e10f40d nts_unpack_cookie (ntpd +
0x3740d)
                #8  0x0000560b2e10f85b extens_server_recv (ntpd +
0x3785b)
                #9  0x0000560b2e0f78ce receive (ntpd + 0x1f8ce)
                #10 0x0000560b2e0ed8ea read_network_packet (ntpd +
0x158ea)
                #11 0x0000560b2e0ef3cf input_handler (ntpd + 0x173cf)
                #12 0x0000560b2e0e819f mainloop (ntpd + 0x1019f)
                #13 0x00007f280d16718a __libc_start_call_main (libc.so.6
+ 0x2718a)
                #14 0x00007f280d167245 __libc_start_main_impl (libc.so.6
+ 0x27245)
                #15 0x0000560b2e0e84e1 _start (ntpd + 0x104e1)
                ELF object binary architecture: AMD x86-64

GNU gdb (Debian 13.1-3) 13.1
Copyright (C) 2023 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later
<<http://gnu.org/licenses/gpl.html>>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<<https://www.gnu.org/software/gdb/bugs/>>.
Find the GDB manual and other documentation resources online at:
    <<http://www.gnu.org/software/gdb/documentation/>>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from /usr/sbin/ntpd...
Reading symbols from
/usr/lib/debug/.build-id/8b/c6f9398efb6b8c446b2d719831f5738d563c84.debug...
[New LWP 61726]

This GDB supports auto-downloading debuginfo from the following URLs:
  <<https://debuginfod.debian.net>>
Enable debuginfod for this session? (y or [n]) y
Debuginfod has been enabled.
To make this setting permanent, add 'set debuginfod enabled on' to
.gdbinit.
Downloading separate debug info for
/lib/x86_64-linux-gnu/libnss_systemd.so.2
Downloading separate debug info for /lib/x86_64-linux-gnu/libgcc_s.so.1
Downloading separate debug info for system-supplied DSO at
0x7ffc94772000
[Thread debugging using libthread_db enabled]
Using host libthread_db library
"/lib/x86_64-linux-gnu/libthread_db.so.1".
Core was generated by `/usr/sbin/ntpd -p /run/ntpd.pid -c
/etc/ntpsec/ntp.conf -g -N -u ntpsec:ntpsec'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  aesni_set_encrypt_key () at crypto/aes/aesni-x86_64.s:4104
Download failed: Invalid argument.  Continuing without source file
./build_shared/crypto/aes/aesni-x86_64.s.
4104    crypto/aes/aesni-x86_64.s: No such file or directory.
(gdb) bt
#0  aesni_set_encrypt_key () at crypto/aes/aesni-x86_64.s:4104
#1  0x00007f280d6f3d45 in cipher_hw_aesni_initkey (dat=0x560b2f082b50,
    key=<optimized out>, keylen=<optimized out>)
    at ../providers/implementations/ciphers/cipher_aes_hw_aesni.inc:37
#2  0x00007f280d7397fb in cipher_generic_init_internal
(ctx=0x560b2f082b50,
    key=0x10 <error: Cannot access memory at address 0x10>, keylen=16,
iv=0x0,
    ivlen=0, params=0x0, enc=1)
    at ../providers/implementations/ciphers/ciphercommon.c:218
#3  0x00007f280d7398cb in ossl_cipher_generic_einit (vctx=<optimized
out>,
    key=<optimized out>, keylen=<optimized out>, iv=<optimized out>,
    ivlen=<optimized out>, params=<optimized out>)
    at ../providers/implementations/ciphers/ciphercommon.c:228
#4  0x00007f280d60993b in EVP_CipherInit_ex (ctx=<optimized out>,
    cipher=<optimized out>, impl=impl@entry=0x0, key=<optimized out>,
    iv=iv@entry=0x0, enc=enc@entry=1) at ../crypto/evp/evp_enc.c:412
#5  0x00007f280d60995b in EVP_EncryptInit_ex (ctx=<optimized out>,
    cipher=<optimized out>, impl=impl@entry=0x0, key=<optimized out>,
    iv=iv@entry=0x0) at ../crypto/evp/evp_enc.c:450
#6  0x0000560b2e1246f3 in AES_SIV_Init (ctx=ctx@entry=0x560b2f01e5b0,
    key=key@entry=0x0, key_len=<optimized out>)
    at ../../libaes_siv/aes_siv.c:329
#7  0x0000560b2e1255df in AES_SIV_Decrypt (ctx=0x560b2f01e5b0,
    out=out@entry=0x7ffc94695850 "\001",
out_len=out_len@entry=0x7ffc94695848,
    key=key@entry=0x0, key_len=<optimized out>,
    nonce=nonce@entry=0x560b2ef65364
"t\347CoA\av\236TA\022\200xge\270r\302\027\020\234\215\262\210\rv\324wtM벧\264\230pC\356@4:\336g",
nonce_len=16,
    ciphertext=0x560b2ef65374
"r\302\027\020\234\215\262\210\rv\324wtM벧\264\230pC\356@4:\336g",
ciphertext_len=80, ad=0x560b2ef65360 "", ad_len=20)
    at ../../libaes_siv/aes_siv.c:582
#8  0x0000560b2e10f40d in nts_unpack_cookie (cookie=0x560b2ef65360 "",
    cookielen=100, aead=aead@entry=0x7ffc94695962,
    c2s=c2s@entry=0x560b2ef663e8 "", s2c=s2c@entry=0x560b2ef66428 "",
    keylen=keylen@entry=0x560b2ef663e4) at ../../ntpd/nts_cookie.c:428
#9  0x0000560b2e10f85b in extens_server_recv (
    ntspacket=ntspacket@entry=0x560b2ef66394,
    pkt=pkt@entry=0x560b2ef65308 "#", lng=<optimized out>)
    at ../../ntpd/nts_extens.c:182
#10 0x0000560b2e0f78ce in receive (rbufp=rbufp@entry=0x560b2ef652c0)
    at ../../ntpd/ntp_proto.c:800
#11 0x0000560b2e0ed8ea in read_network_packet (fd=fd@entry=19,
    itf=itf@entry=0x560b2ef6de60) at ../../ntpd/ntp_io.c:2243
#12 0x0000560b2e0ef3cf in input_handler (fds=0x7ffc94696bf0)
    at ../../ntpd/ntp_io.c:2373
#13 io_handler () at ../../ntpd/ntp_io.c:2280
#14 0x0000560b2e0e819f in mainloop () at ../../ntpd/ntpd.c:940
#15 main (argc=9, argv=<optimized out>) at ../../ntpd/ntpd.c:881
(gdb)

```

---

**Set Bug forwarded-to-address to '<https://gitlab.com/NTPsec/ntpsec/-/issues/794>'.**
Request was from `Richard Laager <rlaager@debian.org>`
to `control@bugs.debian.org`.
(Sat, 22 Jul 2023 20:24:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=37), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=37), [link](#36)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Sun, 23 Jul 2023 05:15:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=39), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=39), [link](#38)).

---

**Acknowledgement sent**
to `Richard Laager <rlaager@wiktel.com>`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Sun, 23 Jul 2023 05:15:03 GMT) ([full text](bugreport.cgi?bug=1038422;msg=41), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=41), [link](#40)).

---

[Message #42](#42) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=42), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=42), reply):

![](/cgi-bin/libravatar.cgi?email=rlaager%40wiktel.com)
From: Richard Laager <rlaager@wiktel.com>
To: forest.owlet@riseup.net
Cc: 1038422@bugs.debian.org
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Sun, 23 Jul 2023 00:11:37 -0500
```
Some questions from upstream, with my commentary added...

> How busy is this sustem? Is it just a simple client or also a server? If server, how busy?
>
> From the stack trace, the server side is trying to decode a NTS cookie. Is this box setup as a NTS server? That needs a certificate and key so it takes more than just upgrading from bullseye to bookworm.

It's not, right? We previously established that this is using the stock
ntp.conf?

> What are the chances that a valid NTP request with NTS arrived at this system? ntpq -c ntsinfo will show counters.

It would be good if you could check this. But if an NTS request is
crashing ntpd, you might never see non-zero counters.

> The log file from starting up might be helpful.
--
Richard

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Sun, 23 Jul 2023 18:00:03 GMT) ([full text](bugreport.cgi?bug=1038422;msg=44), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=44), [link](#43)).

---

**Acknowledgement sent**
to `Richard Laager <rlaager@wiktel.com>`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Sun, 23 Jul 2023 18:00:03 GMT) ([full text](bugreport.cgi?bug=1038422;msg=46), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=46), [link](#45)).

---

[Message #47](#47) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=47), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=47), reply):

![](/cgi-bin/libravatar.cgi?email=rlaager%40wiktel.com)
From: Richard Laager <rlaager@wiktel.com>
To: forest.owlet@riseup.net
Cc: 1038422@bugs.debian.org
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Sun, 23 Jul 2023 12:56:48 -0500
```
Is this reproducible for you? If you have experience with building from
source, upstream has proposed the following patch. Otherwise, I could
build a test package for you.

diff --git a/ntpd/nts_cookie.c b/ntpd/nts_cookie.c
index 166d0230f..a73955fb7 100644
--- a/ntpd/nts_cookie.c
+++ b/ntpd/nts_cookie.c
@@ -382,6 +382,9 @@ bool nts_unpack_cookie(uint8_t cookie, int cookielen,

 	if (NULL == cookie_ctx)
 		return false;	/* We aren't initialized yet. */
+
+	if (0 == nts_nKeys)
+		return false;	/* No cookies.	We are not an NTS server. */

 	/* We may get garbage from the net */
 	if (cookielen > NTS_MAX_COOKIELEN)
 		return false;
--
Richard

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Richard Laager <rlaager@debian.org>`:

`Bug#1038422`; Package `ntpsec`.
(Fri, 28 Jul 2023 09:00:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=49), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=49), [link](#48)).

---

**Acknowledgement sent**
to `forest.owlet@riseup.net`:

Extra info received and forwarded to list. Copy sent to `Richard Laager <rlaager@debian.org>`.
(Fri, 28 Jul 2023 09:00:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=51), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=51), [link](#50)).

---

[Message #52](#52) received at 1038422@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=52), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=52), reply):

![](/cgi-bin/libravatar.cgi?email=forest.owlet%40riseup.net)
From: forest.owlet@riseup.net
To: Richard Laager <rlaager@wiktel.com>
Cc: 1038422@bugs.debian.org
Subject: Re: Bug#1038422: ntpsec: ntpd segmentation fault in
libcrypto.so[7f6d3ecc5000+278000]
Date: Fri, 28 Jul 2023 08:56:50 +0000
```
Hi Richard,

I'm sorry for my tardy response.  I just returned from holiday.

On 2023-07-23 05:11, Richard Laager wrote:
> Some questions from upstream, with my commentary added...
>
>> How busy is this sustem? Is it just a simple client or also a server? If server, how busy?
This is a server and participates in the NTP Pool project, so the NTPsec
process is fairly busy.  From the logs the server is handling about 1.5
to 1.7 million NTP requests per hour.

>>
>> From the stack trace, the server side is trying to decode a NTS cookie. Is this box setup as a NTS server? That needs a certificate and key so it takes more than just upgrading from bullseye to bookworm.
>
> It's not, right? We previously established that this is using the stock ntp.conf?
>
No, it is not configured as an NTS server.

>> What are the chances that a valid NTP request with NTS arrived at this system? ntpq -c ntsinfo will show counters.
>
I'd say the chances are fairly high that an invalid NTP request with NTS
has arrived.  But the counters are all zero.
cyclone@karita:~$ ntpq -c ntsinfo
NTS client sends:                       0
NTS client recvs good:                  0
NTS client recvs w error:               0
NTS server recvs good:                  0
NTS server recvs w error:               0
NTS server sends:                       0
NTS make cookies:                       0
NTS decode cookies:                     0
NTS decode cookies old:                 0
NTS decode cookies old2:                0
NTS decode cookies older:               0
NTS decode cookies too old:             0
NTS decode cookies error:               0
NTS KE client probes good:              0
NTS KE client probes bad:               0
NTS KE serves good:                     0
NTS KE serves bad:                      0
cyclone@karita:~$

> It would be good if you could check this. But if an NTS request is crashing ntpd, you might never see non-zero counters.
>
>> The log file from starting up might be helpful.

Here's the syslog entries from the most recent restart.  I took the
liberty of scrubbing the high portions of the IP addresses.

2023-07-28T06:58:39.890236+00:00 karita ntpd[30320]: INIT: ntpd
ntpsec-1.2.2: Starting
2023-07-28T06:58:39.891073+00:00 karita ntpd[30320]: INIT: Command line:
/usr/sbin/ntpd -p /run/ntpd.pid -c /etc/ntpsec/ntp.conf -g -N -u
ntpsec:ntpsec
2023-07-28T06:58:39.891132+00:00 karita ntp-systemd-wrapper[30320]:
2023-07-28T06:58:39 ntpd[30320]: INIT: ntpd ntpsec-1.2.2: Starting
2023-07-28T06:58:39.892382+00:00 karita ntp-systemd-wrapper[30320]:
2023-07-28T06:58:39 ntpd[30320]: INIT: Command line: /usr/sbin/ntpd -p
/run/ntpd.pid -c /etc/ntpsec/ntp.conf -g -N -u ntpsec:ntpsec
2023-07-28T06:58:39.892502+00:00 karita systemd[1]: Started
ntpsec.service - Network Time Service.
2023-07-28T06:58:39.894804+00:00 karita ntpd[30322]: INIT: precision =
0.060 usec (-24)
2023-07-28T06:58:39.895396+00:00 karita ntpd[30322]: INIT: successfully
locked into RAM
2023-07-28T06:58:39.899405+00:00 karita ntpd[30322]: CONFIG: readconfig:
parsing file: /etc/ntpsec/ntp.conf
2023-07-28T06:58:39.899544+00:00 karita ntpd[30322]: CONFIG: restrict
nopeer ignored
2023-07-28T06:58:39.900054+00:00 karita ntpd[30322]: CLOCK: leapsecond
file ('/usr/share/zoneinfo/leap-seconds.list'): good hash signature
2023-07-28T06:58:39.900121+00:00 karita ntpd[30322]: CLOCK: leapsecond
file ('/usr/share/zoneinfo/leap-seconds.list'): loaded,
expire=2023-12-28T00:00Z last=2017-01-01T00:00Z ofs=37
2023-07-28T06:58:39.900198+00:00 karita ntpd[30322]: INIT: Using
SO_TIMESTAMPNS(ns)
2023-07-28T06:58:39.900262+00:00 karita ntpd[30322]: IO: Listen and drop
on 0 v6wildcard [::]:123
2023-07-28T06:58:39.900367+00:00 karita ntpd[30322]: IO: Listen and drop
on 1 v4wildcard 0.0.0.0:123
2023-07-28T06:58:39.900518+00:00 karita ntpd[30322]: IO: Listen normally
on 2 lo 127.0.0.1:123
2023-07-28T06:58:39.900589+00:00 karita ntpd[30322]: IO: Listen normally
on 3 eth0 xxx.yyy.zzz.201:123
2023-07-28T06:58:39.900662+00:00 karita ntpd[30322]: IO: Listen normally
on 4 lo [::1]:123
2023-07-28T06:58:39.900913+00:00 karita ntpd[30322]: IO: Listen normally
on 5 eth0 [xxxx:yyyy:zzzz::5ce7]:123
2023-07-28T06:58:39.901000+00:00 karita ntpd[30322]: IO: Listen normally
on 6 eth0 [fe80::xxxx:yyyy:zzzz:dfe%2]:123
2023-07-28T06:58:39.901065+00:00 karita ntpd[30322]: IO: Listening on
routing socket on fd #23 for interface updates
2023-07-28T06:58:39.912520+00:00 karita ntpd[30322]: INIT: MRU 10922
entries, 13 hash bits, 65536 bytes
2023-07-28T06:58:39.912607+00:00 karita ntpd[30322]: INIT: Built with
OpenSSL 3.0.7 1 Nov 2022, 30000070
2023-07-28T06:58:39.912652+00:00 karita ntpd[30322]: INIT: Running with
OpenSSL 3.0.9 30 May 2023, 30000090
2023-07-28T06:58:39.912976+00:00 karita ntpd[30322]: NTSc: Using system
default root certificates.
2023-07-28T06:58:42.938515+00:00 karita ntpd[30322]: DNS: dns_probe:
0.debian.pool.ntp.org, cast_flags:8, flags:101
2023-07-28T06:58:42.957881+00:00 karita ntpd[30322]: DNS: dns_check:
processing 0.debian.pool.ntp.org, 8, 101
2023-07-28T06:58:42.957983+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.102
2023-07-28T06:58:42.958470+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.1
2023-07-28T06:58:42.958528+00:00 karita ntpd[30322]: DNS: Pool taking:
207.192.69.118
2023-07-28T06:58:42.958751+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.39
2023-07-28T06:58:42.959218+00:00 karita ntpd[30322]: DNS:
dns_take_status: 0.debian.pool.ntp.org=>good, 8
2023-07-28T06:58:43.936935+00:00 karita ntpd[30322]: DNS: dns_probe:
1.debian.pool.ntp.org, cast_flags:8, flags:101
2023-07-28T06:58:44.017455+00:00 karita ntpd[30322]: DNS: dns_check:
processing 1.debian.pool.ntp.org, 8, 101
2023-07-28T06:58:44.017588+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.36
2023-07-28T06:58:44.018108+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.97
2023-07-28T06:58:44.018161+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.245
2023-07-28T06:58:44.018476+00:00 karita ntpd[30322]: DNS: Pool taking:
xxx.yyy.zzz.244
2023-07-28T06:58:44.018556+00:00 karita ntpd[30322]: DNS:
dns_take_status: 1.debian.pool.ntp.org=>good, 8
2023-07-28T06:58:44.937671+00:00 karita ntpd[30322]: DNS: dns_probe:
2.debian.pool.ntp.org, cast_flags:8, flags:101
2023-07-28T06:58:44.959584+00:00 karita ntpd[30322]: DNS: dns_check:
processing 2.debian.pool.ntp.org, 8, 101
2023-07-28T06:58:44.959815+00:00 karita ntpd[30322]: DNS: Pool taking:
xxxx:yyyy:zzzz::53
2023-07-28T06:58:44.959947+00:00 karita ntpd[30322]: DNS: Pool taking:
xxxx:yyyy:zzzz::1000

Thank you,

Roy

```

---

**Added tag(s) security and pending.**
Request was from `Richard Laager <rlaager@debian.org>`
to `control@bugs.debian.org`.
(Sat, 29 Jul 2023 21:06:02 GMT) ([full text](bugreport.cgi?bug=1038422;msg=54), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=54), [link](#53)).

---

**Reply sent**
to `Richard Laager <rlaager@debian.org>`:

You have taken responsibility.
(Sun, 30 Jul 2023 21:03:11 GMT) ([full text](bugreport.cgi?bug=1038422;msg=56), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=56), [link](#55)).

---

**Notification sent**
to `"R.L. Nicholas" <forest.owlet@riseup.net>`:

Bug acknowledged by developer.
(Sun, 30 Jul 2023 21:03:12 GMT) ([full text](bugreport.cgi?bug=1038422;msg=58), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=58), [link](#57)).

---

[Message #59](#59) received at 1038422-close@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=59), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=59), reply):

![](/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org)
From: Debian FTP Masters <ftpmaster@ftp-master.debian.org>
To: 1038422-close@bugs.debian.org
Subject: Bug#1038422: fixed in ntpsec 1.2.2+dfsg1-2
Date: Sun, 30 Jul 2023 20:58:31 +0000
```
Source: ntpsec
Source-Version: 1.2.2+dfsg1-2
Done: Richard Laager <rlaager@debian.org>

We believe that the bug you reported is fixed in the latest version of
ntpsec, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 1038422@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Richard Laager <rlaager@debian.org> (supplier of updated ntpsec package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sun, 30 Jul 2023 14:04:02 -0500
Source: ntpsec
Architecture: source
Version: 1.2.2+dfsg1-2
Distribution: unstable
Urgency: high
Maintainer: Richard Laager <rlaager@debian.org>
Changed-By: Richard Laager <rlaager@debian.org>
Closes: [1036443](bugreport.cgi?bug=1036443) [1038422](bugreport.cgi?bug=1038422) [1038876](bugreport.cgi?bug=1038876) [1040354](bugreport.cgi?bug=1040354) [1040355](bugreport.cgi?bug=1040355)
Changes:
 ntpsec (1.2.2+dfsg1-2) unstable; urgency=high
 .
   * copyright: Update libjsmn comment
   * copyright: Add minor details from upstream
   * Drop dependency on lsb-base
   * Fix file cleanup (Closes: [1036443](bugreport.cgi?bug=1036443), [1040354](bugreport.cgi?bug=1040354), [1040355](bugreport.cgi?bug=1040355))
   * Backport fix to restore blank lines in ntpq (Closes: [1038876](bugreport.cgi?bug=1038876))
   * apparmor: leap-seconds.list doesn't need "w"
     Thanks to Hal Murray
   * Fix IGNORE_DHCP comments.
     Thanks to Hal Murray
   * Fix cookie crash.
     Thanks to Hal Murray (Closes: [1038422](bugreport.cgi?bug=1038422))
Checksums-Sha1:
 3a62113d24d7071f3d3b0dda93ffcf17b0922b9b 2593 ntpsec_1.2.2+dfsg1-2.dsc
 8584303f5ff0e9ea6405aa18b4654a288300bf78 58724 ntpsec_1.2.2+dfsg1-2.debian.tar.xz
 2e08a367e45c2c97a896ca4d61ed31c8f3a3a896 8928 ntpsec_1.2.2+dfsg1-2_source.buildinfo
Checksums-Sha256:
 dc5ca584765fedcd1b79cc7afcae8fa9fb0892c72448f166e444192c2a8eef10 2593 ntpsec_1.2.2+dfsg1-2.dsc
 9fc9fe41689d65a4ee15f7918ca30c359b82db3839771c830df96f3880f06f19 58724 ntpsec_1.2.2+dfsg1-2.debian.tar.xz
 06152eb59f58d9afc6e3048e1de8a8c3622cdc110bf32cd763d6d40031a1a624 8928 ntpsec_1.2.2+dfsg1-2_source.buildinfo
Files:
 d6800648ab164d7e9124bbb248468901 2593 net optional ntpsec_1.2.2+dfsg1-2.dsc
 3eb1974cbef0d90e736c747d44335fb1 58724 net optional ntpsec_1.2.2+dfsg1-2.debian.tar.xz
 f775b12b593c1f274a60205903ad59f1 8928 net optional ntpsec_1.2.2+dfsg1-2_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE1Ot9lOeOTujs4H+U+HlhmcBFhs4FAmTGtd4ACgkQ+HlhmcBF
hs46Aw//Qp4j8ieM2ayRlccsrai2cqUapqgCKquaOIFKP8xomAS4jQDa0VsTwqtb
t8sux1JUYqMY/GS+uTPiLabE9mjNR6TP5fbeY642qlcsR+Iwr5h7fOj0kcolXaRd
bRwQjPdRdd0bQ9gIVgMMORJOzy1vajcyzzuScfBF2+FCCEdlXtLKYsWsGnU61pwJ
gbYp6RI6hSfM9dvfvxxBuDMXBKxsfklGkJIU574qGhWkVyHXXljLz113lY+LimwW
n4QoTPfZfadxNMyUv6qOiB2tjDbtd6D7BjF6URDs/YpBEyE7YLhDqXMv6MMCwPZI
Zoy04ZjljCie3l4YCENui8dAIxVShllXjUkR4IJZmTK5l65cDShbGeM2LVN5twuL
TudrRyRgQDuRhqXoxIR4pF9GtHehmW0D9LK5Xv1BDqtDn9jJhXjhlcORy3pGZFDc
6WrWcRqsugwozz9dHIBKVVrHe4OR3w5HM3yexOMWw9//dJbLTAV3KM3Kei/KjoQO
jbXS+cwCdPKvpmI++ehORN1C4HTZe/AJRl2sASy/Vz4ROBS5SzUz0GAg9bO5n6gv
UYdZ//KWs/QzB3apzS6h39LvAfoQ0eBijQv+r7IBX7AGXHXHHTeUQiGi5zNWc5zJ
uoZ/bYHgQzbvjHZnieVfFH7bNKtHVh1BSmNSQZEl6VBST4acjMI=
=QG4v
-----END PGP SIGNATURE-----

```

---

**Reply sent**
to `Richard Laager <rlaager@debian.org>`:

You have taken responsibility.
(Sat, 05 Aug 2023 22:06:05 GMT) ([full text](bugreport.cgi?bug=1038422;msg=61), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=61), [link](#60)).

---

**Notification sent**
to `"R.L. Nicholas" <forest.owlet@riseup.net>`:

Bug acknowledged by developer.
(Sat, 05 Aug 2023 22:06:05 GMT) ([full text](bugreport.cgi?bug=1038422;msg=63), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=63), [link](#62)).

---

[Message #64](#64) received at 1038422-close@bugs.debian.org ([full text](bugreport.cgi?bug=1038422;msg=64), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=64), reply):

![](/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org)
From: Debian FTP Masters <ftpmaster@ftp-master.debian.org>
To: 1038422-close@bugs.debian.org
Subject: Bug#1038422: fixed in ntpsec 1.2.2+dfsg1-1+deb12u1
Date: Sat, 05 Aug 2023 22:04:02 +0000
```
Source: ntpsec
Source-Version: 1.2.2+dfsg1-1+deb12u1
Done: Richard Laager <rlaager@debian.org>

We believe that the bug you reported is fixed in the latest version of
ntpsec, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 1038422@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Richard Laager <rlaager@debian.org> (supplier of updated ntpsec package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sat, 29 Jul 2023 15:52:36 -0500
Source: ntpsec
Architecture: source
Version: 1.2.2+dfsg1-1+deb12u1
Distribution: bookworm-security
Urgency: high
Maintainer: Richard Laager <rlaager@debian.org>
Changed-By: Richard Laager <rlaager@debian.org>
Closes: [1038422](bugreport.cgi?bug=1038422)
Changes:
 ntpsec (1.2.2+dfsg1-1+deb12u1) bookworm-security; urgency=high
 .
   * Fix cookie crash.
     Thanks to Hal Murray (Closes: [1038422](bugreport.cgi?bug=1038422))
Checksums-Sha1:
 d9293079d6c8901204d874fbd4ec20f34dd0dfab 2654 ntpsec_1.2.2+dfsg1-1+deb12u1.dsc
 bc8d5a18dcebc470360a640df530849f7d58461e 2317956 ntpsec_1.2.2+dfsg1.orig.tar.xz
 112aba0694f9dec70723acafdee171efc020c41f 57944 ntpsec_1.2.2+dfsg1-1+deb12u1.debian.tar.xz
 7e5f76bbb55dd14cd01fa78d16cc74006a28abd3 8781 ntpsec_1.2.2+dfsg1-1+deb12u1_source.buildinfo
Checksums-Sha256:
 27e51bc1203b1dfc945bf7f3298840709e1731984a078461b5a8e58cde917b91 2654 ntpsec_1.2.2+dfsg1-1+deb12u1.dsc
 53e527e3d04d551d41af2d359c2715c2de5f5bfa2a695d4ec1a811b3e9137f63 2317956 ntpsec_1.2.2+dfsg1.orig.tar.xz
 4f3ffb5ce6d93a257ffe4c145ea781b946772ca8394f85e924b830488c1323d2 57944 ntpsec_1.2.2+dfsg1-1+deb12u1.debian.tar.xz
 83c5f1c46cc8fb49dc67798a36564f92209ce2fcea69ef2870280603bc82d487 8781 ntpsec_1.2.2+dfsg1-1+deb12u1_source.buildinfo
Files:
 8878d9a4a4cf1e627575a31f6c2a4d96 2654 net optional ntpsec_1.2.2+dfsg1-1+deb12u1.dsc
 2787c8145e6ba35c52967d020b38ade0 2317956 net optional ntpsec_1.2.2+dfsg1.orig.tar.xz
 973b3bf34c39a1f765cae1b0a18a6a68 57944 net optional ntpsec_1.2.2+dfsg1-1+deb12u1.debian.tar.xz
 d7cbc4d682cc2300ffac5dba7ac4f713 8781 net optional ntpsec_1.2.2+dfsg1-1+deb12u1_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQJHBAEBCgAxFiEE1Ot9lOeOTujs4H+U+HlhmcBFhs4FAmTGs0ITHHJsYWFnZXJA
ZGViaWFuLm9yZwAKCRD4eWGZwEWGzuWzEACn7hybVFBN1fyQ4NJkCRBNi+bFJJwA
CrZfr0NMRcKesCWCc2c81I0QBHTj9eJ3ai/XlnGA/FLppLuKoaVz4ts1aqADFhDj
fr9EMjst70zMrDslvdOsMA6e/ZFI0S7jfTe+S1+SzzPl2nZ6C8/5rwyFc2ebioHX
Nna2kKBodiQYHh3vCQWFsS9EB+63o5st3RBj3bJJhnyHL6oEGR6ijYrOuBXQVVaa
b29hJhaNx9rdZi/yQHfnIp4tuOFhamkvEq4AiQV/jjsNr1/GDcW8FJh4d/Mh3AwX
cSgp4C3EasOySPV8FZ9xtxPxAPq+qF56V/VOkll1KnfGOcl5T/W3nXp83g3pwSpy
o+My4+/SDfrlrRPqZx/mJF7jRFGKLWVpaCGKMZWDpiXnx9UVt8NZ6b+SAkwNsV+3
e8zIaACdKlmUHC6LIde6WdN+CO1dSBViEUCzQAsLqsJ1fkg+KATDbNshe8uS/XEN
VJSV5EwGdWiTFgu88B7kfNr9RTJn4PHiZ7JSPiiimdp8oc5U3TPmhqlrY5XhLx6d
Y+k78qj+IJxSIQBNQWadHywUkuNYo0WYzr8kvhfBQk22jsDQh7vo4Kv0WxRkB2lT
n2bYW2SImKiCfAsZLQoI+iZsMcOaRv47jxk3Ctd/D4uAfVDQQnXwrP4M5mw4Lf+Y
qSLOHdvqBNn/3w==
=cG1o
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 08 Oct 2023 07:26:04 GMT) ([full text](bugreport.cgi?bug=1038422;msg=66), [mbox](bugreport.cgi?bug=1038422;mbox=yes;msg=66), [link](#65)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=1038422).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 10 22:46:24 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.

