

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3142479)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3142478 "Changeset 3142478")
* [Next Changeset](/changeset/3142480 "Changeset 3142480") →

---

# Changeset 3142479

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/27/2024 08:42:00 PM
([5 months](/timeline?from=2024-08-27T20%3A42%3A00Z&precision=second "See timeline at 08/27/2024 08:42:00 PM") ago)

Author:
mbis
Message:

2.4.4.1 version released

Location:
[permalink-manager](/browser/permalink-manager?rev=3142479)
Files:

35 added
9 edited

* [tags/2.4.4.1](/browser/permalink-manager/tags/2.4.4.1?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/LICENSE.txt](/browser/permalink-manager/tags/2.4.4.1/LICENSE.txt?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/README.txt](/browser/permalink-manager/tags/2.4.4.1/README.txt?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes](/browser/permalink-manager/tags/2.4.4.1/includes?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core](/browser/permalink-manager/tags/2.4.4.1/includes/core?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-actions.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-actions.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-admin-functions.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-admin-functions.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-core-functions.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-core-functions.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-debug.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-debug.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-gutenberg.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-gutenberg.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-helper-functions.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-helper-functions.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-uri-functions-post.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-uri-functions-post.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/core/permalink-manager-uri-functions.php](/browser/permalink-manager/tags/2.4.4.1/includes/core/permalink-manager-uri-functions.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/integrations](/browser/permalink-manager/tags/2.4.4.1/includes/integrations?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/integrations/permalink-manager-language-plugins.php](/browser/permalink-manager/tags/2.4.4.1/includes/integrations/permalink-manager-language-plugins.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/integrations/permalink-manager-seo-plugins.php](/browser/permalink-manager/tags/2.4.4.1/includes/integrations/permalink-manager-seo-plugins.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/integrations/permalink-manager-third-parties.php](/browser/permalink-manager/tags/2.4.4.1/includes/integrations/permalink-manager-third-parties.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/integrations/permalink-manager-woocommerce.php](/browser/permalink-manager/tags/2.4.4.1/includes/integrations/permalink-manager-woocommerce.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views](/browser/permalink-manager/tags/2.4.4.1/includes/views?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-debug.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-debug.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-permastructs.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-permastructs.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-settings.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-settings.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-tools.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-tools.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-ui-elements.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-ui-elements.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-uri-editor-post.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-uri-editor-post.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/includes/views/permalink-manager-uri-editor.php](/browser/permalink-manager/tags/2.4.4.1/includes/views/permalink-manager-uri-editor.php?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/languages](/browser/permalink-manager/tags/2.4.4.1/languages?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/languages/permalink-manager.pot](/browser/permalink-manager/tags/2.4.4.1/languages/permalink-manager.pot?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/out](/browser/permalink-manager/tags/2.4.4.1/out?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/out/permalink-manager-admin.css](/browser/permalink-manager/tags/2.4.4.1/out/permalink-manager-admin.css?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/out/permalink-manager-admin.js](/browser/permalink-manager/tags/2.4.4.1/out/permalink-manager-admin.js?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/out/permalink-manager-gutenberg.js](/browser/permalink-manager/tags/2.4.4.1/out/permalink-manager-gutenberg.js?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/out/permalink-manager-plugins.css](/browser/permalink-manager/tags/2.4.4.1/out/permalink-manager-plugins.css?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/out/permalink-manager-plugins.js](/browser/permalink-manager/tags/2.4.4.1/out/permalink-manager-plugins.js?rev=3142479 "Show entry in browser")
  (added)
* [tags/2.4.4.1/permalink-manager.php](/browser/permalink-manager/tags/2.4.4.1/permalink-manager.php?rev=3142479 "Show entry in browser")
  (added)
* [trunk/README.txt](/browser/permalink-manager/trunk/README.txt?rev=3142479 "Show entry in browser")
  (modified)
  ([2 diffs](#file35 "Show differences"))
* [trunk/includes/core/permalink-manager-core-functions.php](/browser/permalink-manager/trunk/includes/core/permalink-manager-core-functions.php?rev=3142479 "Show entry in browser")
  (modified)
  ([2 diffs](#file36 "Show differences"))
* [trunk/includes/core/permalink-manager-debug.php](/browser/permalink-manager/trunk/includes/core/permalink-manager-debug.php?rev=3142479 "Show entry in browser")
  (modified)
  ([2 diffs](#file37 "Show differences"))
* [trunk/includes/core/permalink-manager-helper-functions.php](/browser/permalink-manager/trunk/includes/core/permalink-manager-helper-functions.php?rev=3142479 "Show entry in browser")
  (modified)
  ([1 diff](#file38 "Show differences"))
* [trunk/includes/core/permalink-manager-uri-functions-post.php](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3142479 "Show entry in browser")
  (modified)
  ([3 diffs](#file39 "Show differences"))
* [trunk/includes/integrations/permalink-manager-third-parties.php](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3142479 "Show entry in browser")
  (modified)
  ([5 diffs](#file40 "Show differences"))
* [trunk/includes/views/permalink-manager-settings.php](/browser/permalink-manager/trunk/includes/views/permalink-manager-settings.php?rev=3142479 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [trunk/languages/permalink-manager.pot](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479 "Show entry in browser")
  (modified)
  ([10 diffs](#file42 "Show differences"))
* [trunk/permalink-manager.php](/browser/permalink-manager/trunk/permalink-manager.php?rev=3142479 "Show entry in browser")
  (modified)
  ([4 diffs](#file43 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [permalink-manager/trunk/README.txt](/changeset/3142479/permalink-manager/trunk/README.txt "Show the changeset 3142479 restricted to permalink-manager/trunk/README.txt")

  | [r3124505](/browser/permalink-manager/trunk/README.txt?rev=3124505#L7 "Show revision 3124505 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/README.txt?rev=3142479#L7 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Requires at least: 4.4.0 |
  | 8 | 8 | Requires PHP: 5.4 |
  | 9 |  | Tested up to: 6.~~6.0~~ |
  | 10 |  | Stable tag: 2.4.4 |
  |  | 9 | Tested up to: 6.7 |
  |  | 10 | Stable tag: 2.4.4.1 |
  | 11 | 11 |  |
  | 12 | 12 | Permalink Manager improves the built-in permalink settings and allows you to change the URLs of native and custom post types and taxonomies as needed. |
  | […](/browser/permalink-manager/trunk/README.txt?rev=3124505#L99) | […](/browser/permalink-manager/trunk/README.txt?rev=3142479#L99) |  |
  | 99 | 99 |  |
  | 100 | 100 | == Changelog == |
  |  | 101 |  |
  |  | 102 | = 2.4.4.1 (August 28, 2024) = |
  |  | 103 | \* Fix - Fixed the deprecated warning for The SEO Framework plugin |
  |  | 104 | \* Fix - Fixed taxonomies' custom permalink import feature for WP All Import in Permalink Manager Lite |
  |  | 105 | \* Dev - With the new "Debug Mode" options field, debug data visibility may be toggled |
  |  | 106 | \* Dev - Code adjustments for WPForo integration |
  |  | 107 | \* Dev - Minor code improvements |
  | 101 | 108 |  |
  | 102 | 109 | = 2.4.4 (July 24, 2024) = |
* ## [permalink-manager/trunk/includes/core/permalink-manager-core-functions.php](/changeset/3142479/permalink-manager/trunk/includes/core/permalink-manager-core-functions.php "Show the changeset 3142479 restricted to permalink-manager/trunk/includes/core/permalink-manager-core-functions.php")

  | [r3124505](/browser/permalink-manager/trunk/includes/core/permalink-manager-core-functions.php?rev=3124505#L868 "Show revision 3124505 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/includes/core/permalink-manager-core-functions.php?rev=3142479#L868 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 868 | 868 | $wp\_query->query\_vars['do\_not\_redirect'] = 0; |
  | 869 | 869 |  |
  | 870 |  | ~~// Append query string~~ |
  | 871 |  | ~~$correct\_permalink = ( ! empty( $query\_string ) ) ? sprintf( "%s?%s", strtok( $correct\_permalink, "?" ), $query\_string ) : $correct\_permalink;~~ |
  | 872 |  |  |
  | 873 | 870 | // Adjust trailing slashes |
  | 874 | 871 | $correct\_permalink = self::control\_trailing\_slashes( $correct\_permalink ); |
  | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-core-functions.php?rev=3124505#L877) | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-core-functions.php?rev=3142479#L874) |  |
  | 877 | 874 | $rel\_old\_uri = wp\_make\_link\_relative( $old\_uri\_abs ); |
  | 878 | 875 | $rel\_new\_uri = wp\_make\_link\_relative( $correct\_permalink ); |
  |  | 876 |  |
  |  | 877 | // Append query string |
  |  | 878 | $correct\_permalink = ( ! empty( $query\_string ) ) ? sprintf( "%s?%s", strtok( $correct\_permalink, "?" ), $query\_string ) : $correct\_permalink; |
  | 879 | 879 |  |
  | 880 | 880 | if ( $redirect\_type === 'www\_redirect' || $rel\_old\_uri !== $rel\_new\_uri ) { |
* ## [permalink-manager/trunk/includes/core/permalink-manager-debug.php](/changeset/3142479/permalink-manager/trunk/includes/core/permalink-manager-debug.php "Show the changeset 3142479 restricted to permalink-manager/trunk/includes/core/permalink-manager-debug.php")

  | [r3019190](/browser/permalink-manager/trunk/includes/core/permalink-manager-debug.php?rev=3019190#L14 "Show revision 3019190 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/includes/core/permalink-manager-debug.php?rev=3142479#L14 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | \*/ |
  | 15 | 15 | public function debug\_data() { |
  | 16 |  | add\_filter( 'permalink\_manager\_filter\_query', array( $this, 'debug\_query' ), 9, 5 ); |
  | 17 |  | add\_filter( 'permalink\_manager\_filter\_redirect', array( $this, 'debug\_redirect' ), 9, 3 ); |
  | 18 |  | add\_filter( 'wp\_redirect', array( $this, 'debug\_wp\_redirect' ), 9, 2 ); |
  |  | 16 | global $permalink\_manager\_options; |
  |  | 17 |  |
  |  | 18 | if ( ! empty( $permalink\_manager\_options["general"]["debug\_mode"] ) ) { |
  |  | 19 | add\_filter( 'permalink\_manager\_filter\_query', array( $this, 'debug\_query' ), 9, 5 ); |
  |  | 20 | add\_filter( 'permalink\_manager\_filter\_redirect', array( $this, 'debug\_redirect' ), 9, 3 ); |
  |  | 21 | add\_filter( 'wp\_redirect', array( $this, 'debug\_wp\_redirect' ), 9, 2 ); |
  |  | 22 | } |
  | 19 | 23 |  |
  | 20 | 24 | self::debug\_custom\_fields(); |
  | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-debug.php?rev=3019190#L69) | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-debug.php?rev=3142479#L73) |  |
  | 69 | 73 | \*/ |
  | 70 | 74 | public function debug\_redirect( $correct\_permalink, $redirect\_type, $queried\_object ) { |
  | 71 |  | ~~global $wp\_query;~~ |
  | 72 |  |  |
  | 73 | 75 | if ( isset( $\_REQUEST['debug\_redirect'] ) ) { |
  | 74 |  | $debug\_info['query\_vars']     = $wp\_query->query\_vars; |
  | 75 |  | $debug\_info['redirect\_url']   = ( ! empty( $correct\_permalink ) ) ? $correct\_permalink : '-'; |
  | 76 |  | $debug\_info['redirect\_type']  = ( ! empty( $redirect\_type ) ) ? $redirect\_type : "-"; |
  | 77 |  | $debug\_info['queried\_object'] = ( ! empty( $queried\_object ) ) ? $queried\_object : "-"; |
  |  | 76 | $debug\_info['redirect\_url']  = ( ! empty( $correct\_permalink ) ) ? $correct\_permalink : '-'; |
  |  | 77 | $debug\_info['redirect\_type'] = ( ! empty( $redirect\_type ) ) ? $redirect\_type : "-"; |
  | 78 | 78 |  |
  | 79 | 79 | self::display\_debug\_data( $debug\_info ); |
* ## [permalink-manager/trunk/includes/core/permalink-manager-helper-functions.php](/changeset/3142479/permalink-manager/trunk/includes/core/permalink-manager-helper-functions.php "Show the changeset 3142479 restricted to permalink-manager/trunk/includes/core/permalink-manager-helper-functions.php")

  | [r3032155](/browser/permalink-manager/trunk/includes/core/permalink-manager-helper-functions.php?rev=3032155#L59 "Show revision 3032155 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/includes/core/permalink-manager-helper-functions.php?rev=3142479#L59 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 59 | 59 | $primary\_term = ( is\_numeric( $yoast\_primary\_term\_id ) ) ? get\_term( $yoast\_primary\_term\_id, $taxonomy ) : ''; |
  | 60 | 60 | } // B. The SEO Framework |
  | 61 |  | else if ( function\_exists( 'the\_seo\_framework' ) ) { |
  | 62 |  | $primary\_term = the\_seo\_framework()->get\_primary\_term( $post\_id, $taxonomy ); |
  |  | 61 | else if ( function\_exists( 'the\_seo\_framework' ) || function\_exists( 'tsf' ) ) { |
  |  | 62 | $primary\_term = ( function\_exists( 'tsf' ) ) ? tsf()->data()->plugin()->post()->get\_primary\_term( $post\_id, $taxonomy ) : the\_seo\_framework()->get\_primary\_term( $post\_id, $taxonomy ); |
  | 63 | 63 | } // C. RankMath |
  | 64 | 64 | else if ( class\_exists( 'RankMath' ) ) { |
* ## [permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php](/changeset/3142479/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php "Show the changeset 3142479 restricted to permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php")

  | [r3087717](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3087717#L69 "Show revision 3087717 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3142479#L69 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 69 | 69 |  |
  | 70 | 70 | // Do not run when metaboxes are loaded with Gutenberg |
  | 71 |  | if ( ! empty( $\_REQUEST['meta-box-loader'] ) && empty( $\_POST['custom\_uri'] ) ) { |
  |  | 71 | /\* if ( ! empty( $\_REQUEST['meta-box-loader'] ) && empty( $\_POST['custom\_uri'] ) ) { |
  | 72 | 72 | return $permalink; |
  | 73 |  | } |
  |  | 73 | }\*/ |
  | 74 | 74 |  |
  | 75 | 75 | // Do not filter if $permalink\_manager\_ignore\_permalink\_filters global is set |
  | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3087717#L598) | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3142479#L598) |  |
  | 598 | 598 | $native\_uri  = self::get\_default\_post\_uri( $this\_post, true ); |
  | 599 | 599 | $default\_uri = ( $is\_draft ) ? '' : self::get\_default\_post\_uri( $this\_post ); |
  | 600 |  | $old\_uri     = Permalink\_Manager\_URI\_Functions::get\_single\_uri( $~~id~~, false, true ); |
  |  | 600 | $old\_uri     = Permalink\_Manager\_URI\_Functions::get\_single\_uri( $this\_post, false, true ); |
  | 601 | 601 |  |
  | 602 | 602 | // Process new values - empty entries will be treated as default values |
  | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3087717#L659) | […](/browser/permalink-manager/trunk/includes/core/permalink-manager-uri-functions-post.php?rev=3142479#L659) |  |
  | 659 | 659 | if ( $autosave || empty( $post->post\_status ) ) { |
  | 660 | 660 | $sample\_permalink\_uri = self::get\_default\_post\_uri( $id ); |
  | 661 |  | } // C. Display custom URI ~~if set~~ |
  |  | 661 | } // C. Display custom URI (if set) or default custom URI |
  | 662 | 662 | else { |
  | 663 |  | $sample\_permalink\_uri = Permalink\_Manager\_URI\_Functions::get\_single\_uri( $post, true ); |
  |  | 663 | $sample\_permalink\_uri = Permalink\_Manager\_URI\_Functions::get\_single\_uri( $post, false, false ); |
  |  | 664 | } |
  |  | 665 |  |
  |  | 666 | if ( empty( $sample\_permalink\_uri ) && $post->post\_type !== 'attachment' ) { |
  |  | 667 | return $html; |
  | 664 | 668 | } |
  | 665 | 669 |  |
* ## [permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php](/changeset/3142479/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php "Show the changeset 3142479 restricted to permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php")

  | [r3124505](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3124505#L112 "Show revision 3124505 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3142479#L112 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 112 | 112 | add\_filter( 'request', array( $this, 'googlesitekit\_fix\_request' ), 10, 1 ); |
  | 113 | 113 | } |
  |  | 114 |  |
  |  | 115 | // WPForo |
  |  | 116 | if ( class\_exists( 'wpforo\wpforo' ) ) { |
  |  | 117 | add\_filter( 'permalink\_manager\_filter\_query', array( $this, 'wpforo\_adjust\_query' ), 5, 6 ); |
  |  | 118 | } |
  | 114 | 119 | } |
  | 115 | 120 |  |
  | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3124505#L180) | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3142479#L185) |  |
  | 180 | 185 | // LearnPress |
  | 181 | 186 | if ( ! empty( $query\_vars['view'] ) && ! empty( $query\_vars['page\_id'] ) ) { |
  | 182 |  | ~~$wp\_query->query\_vars['do\_not\_redirect'] = 1;~~ |
  | 183 |  | ~~}~~ |
  | 184 |  | ~~}~~ |
  | 185 |  |  |
  | 186 |  | ~~// WPForo~~ |
  | 187 |  | ~~if ( defined( 'WPFORO\_VERSION' ) ) {~~ |
  | 188 |  | ~~$forum\_page\_id = get\_option( 'wpforo\_pageid' );~~ |
  | 189 |  |  |
  | 190 |  | ~~if ( ! empty( $forum\_page\_id ) && ! empty( $post->ID ) && $forum\_page\_id == $post->ID ) {~~ |
  | 191 | 187 | $wp\_query->query\_vars['do\_not\_redirect'] = 1; |
  | 192 | 188 | } |
  | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3124505#L384) | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3142479#L380) |  |
  | 384 | 380 | if ( $content\_type !== 'taxonomies' && Permalink\_Manager\_Helper\_Functions::is\_post\_type\_disabled( $content\_type ) ) { |
  | 385 | 381 | return; |
  |  | 382 | } else if ( $content\_type == 'taxonomies' && ( ! class\_exists( 'Permalink\_Manager\_URI\_Functions\_Tax' ) || empty( $current\_values['taxonomy\_type'] ) || Permalink\_Manager\_Helper\_Functions::is\_taxonomy\_disabled( $current\_values['taxonomy\_type'] ) ) ) { |
  |  | 383 | return; |
  | 386 | 384 | } |
  | 387 | 385 |  |
  | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3124505#L511) | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3142479#L509) |  |
  | 511 | 509 | if ( $importData['post\_type'] == 'taxonomies' ) { |
  | 512 | 510 | $is\_term = true; |
  |  | 511 |  |
  |  | 512 | if ( ! class\_exists( 'Permalink\_Manager\_URI\_Functions\_Tax' ) ) { |
  |  | 513 | return; |
  |  | 514 | } |
  | 513 | 515 | } else if ( Permalink\_Manager\_Helper\_Functions::is\_post\_type\_disabled( $importData['post\_type'] ) ) { |
  | 514 | 516 | return; |
  | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3124505#L1136) | […](/browser/permalink-manager/trunk/includes/integrations/permalink-manager-third-parties.php?rev=3142479#L1138) |  |
  | 1136 | 1138 | } |
  | 1137 | 1139 |  |
  |  | 1140 | /\*\* |
  |  | 1141 | \* Adjust the query if WPForo page is detected |
  |  | 1142 | \* |
  |  | 1143 | \* @param array $query The query object. |
  |  | 1144 | \* @param array $old\_query The original query array. |
  |  | 1145 | \* @param array $uri\_parts An array of the URI parts. |
  |  | 1146 | \* @param array $pm\_query |
  |  | 1147 | \* @param string $content\_type |
  |  | 1148 | \* @param null|WP\_Post|WP\_Term $element\_object |
  |  | 1149 | \* |
  |  | 1150 | \* @return array |
  |  | 1151 | \*/ |
  |  | 1152 | function wpforo\_adjust\_query( $query, $old\_query, $uri\_parts, $pm\_query, $content\_type, $element\_object ) { |
  |  | 1153 | if ( ! function\_exists( 'wpforo\_get\_option' ) || ! function\_exists( 'WPF' ) ) { |
  |  | 1154 | return $query; |
  |  | 1155 | } |
  |  | 1156 |  |
  |  | 1157 | $boards = WPF()->board->get\_boards\_pageids(); |
  |  | 1158 | $boards[] = wpforo\_get\_option( 'wpforo\_pageid2', 0 ); |
  |  | 1159 |  |
  |  | 1160 | if ( ! empty( $element\_object->ID ) ) { |
  |  | 1161 | $detected\_page\_id = $element\_object->ID; |
  |  | 1162 | } else if ( ! empty( $old\_query['page\_id'] ) ) { |
  |  | 1163 | $detected\_page\_id = $old\_query['page\_id']; |
  |  | 1164 | } |
  |  | 1165 |  |
  |  | 1166 | if ( ! empty( $boards ) && ! empty( $detected\_page\_id ) && in\_array( $detected\_page\_id, $boards ) ) { |
  |  | 1167 | $query['do\_not\_redirect'] = 1; |
  |  | 1168 | } |
  |  | 1169 |  |
  |  | 1170 | return $query; |
  |  | 1171 | } |
  |  | 1172 |  |
  | 1138 | 1173 | } |
* ## [permalink-manager/trunk/includes/views/permalink-manager-settings.php](/changeset/3142479/permalink-manager/trunk/includes/views/permalink-manager-settings.php "Show the changeset 3142479 restricted to permalink-manager/trunk/includes/views/permalink-manager-settings.php")

  | [r3124505](/browser/permalink-manager/trunk/includes/views/permalink-manager-settings.php?rev=3124505#L270 "Show revision 3124505 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/includes/views/permalink-manager-settings.php?rev=3142479#L270 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 270 | 270 | 'label'       => \_\_( 'Automatically fix broken URIs', 'permalink-manager' ), |
  | 271 | 271 | 'description' => sprintf( '%s', \_\_( 'Enable this option if you would like to automatically remove redundant permalinks & duplicated redirects during page load.', 'permalink-manager' ) ) |
  |  | 272 | ), |
  |  | 273 | 'debug\_mode'       => array( |
  |  | 274 | 'type'        => 'single\_checkbox', |
  |  | 275 | 'label'       => \_\_( 'Debug mode', 'permalink-manager' ), |
  |  | 276 | 'description' => sprintf( '%s', \_\_( 'This option activates permalink detection and redirect debug functions. To access them add "<em>?debug\_url=1</em>" and "<em>?debug\_redirect=1</em>" to the checked URLs.', 'permalink-manager' ) ) |
  | 272 | 277 | ) |
  | 273 | 278 | ) |
* ## [permalink-manager/trunk/languages/permalink-manager.pot](/changeset/3142479/permalink-manager/trunk/languages/permalink-manager.pot "Show the changeset 3142479 restricted to permalink-manager/trunk/languages/permalink-manager.pot")

  | [r3124505](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L4 "Show revision 3124505 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L4 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | "Project-Id-Version: PACKAGE VERSION\n" |
  | 5 | 5 | "Report-Msgid-Bugs-To: \n" |
  | 6 |  | "POT-Creation-Date: 2024-0~~7-23 21:06~~+0000\n" |
  |  | 6 | "POT-Creation-Date: 2024-08-27 19:59+0000\n" |
  | 7 | 7 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 8 | 8 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L21) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L21) |  |
  | 21 | 21 | msgstr "" |
  | 22 | 22 |  |
  | 23 |  | #: includes/integrations/permalink-manager-third-parties.php:32~~4~~ |
  |  | 23 | #: includes/integrations/permalink-manager-third-parties.php:320 |
  | 24 | 24 | msgid "\"Custom Permalinks\" URIs were imported!" |
  | 25 | 25 | msgstr "" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L304) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L304) |  |
  | 304 | 304 | #: includes/views/permalink-manager-ui-elements.php:840 |
  | 305 | 305 | #: includes/views/permalink-manager-uri-editor-post.php:63 |
  | 306 |  | #: includes/core/permalink-manager-uri-functions-post.php:71~~4~~ |
  |  | 306 | #: includes/core/permalink-manager-uri-functions-post.php:718 |
  | 307 | 307 | #: includes/core/permalink-manager-uri-functions-tax.php:536 |
  | 308 | 308 | msgid "Custom permalink" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L337) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L337) |  |
  | 337 | 337 | msgstr "" |
  | 338 | 338 |  |
  | 339 |  | #: includes/integrations/permalink-manager-third-parties.php:39~~7~~ |
  |  | 339 | #: includes/integrations/permalink-manager-third-parties.php:395 |
  | 340 | 340 | #: includes/integrations/permalink-manager-woocommerce.php:232 |
  | 341 | 341 | #: includes/views/permalink-manager-tools.php:90 |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L364) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L364) |  |
  | 364 | 364 | msgstr "" |
  | 365 | 365 |  |
  |  | 366 | #: includes/views/permalink-manager-settings.php:275 |
  |  | 367 | msgid "Debug mode" |
  |  | 368 | msgstr "" |
  |  | 369 |  |
  | 366 | 370 | #: includes/views/permalink-manager-settings.php:246 |
  | 367 | 371 | msgid "" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L615) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L619) |  |
  | 615 | 619 | msgstr "" |
  | 616 | 620 |  |
  | 617 |  | #: includes/integrations/permalink-manager-third-parties.php:39~~8~~ |
  |  | 621 | #: includes/integrations/permalink-manager-third-parties.php:396 |
  | 618 | 622 | #, php-format |
  | 619 | 623 | msgid "" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L851) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L855) |  |
  | 851 | 855 | msgstr "" |
  | 852 | 856 |  |
  | 853 |  | #: includes/integrations/permalink-manager-third-parties.php:32~~7~~ |
  |  | 857 | #: includes/integrations/permalink-manager-third-parties.php:323 |
  | 854 | 858 | msgid "No \"Custom Permalinks\" URIs were imported!" |
  | 855 | 859 | msgstr "" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L917) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L921) |  |
  | 917 | 921 | msgstr "" |
  | 918 | 922 |  |
  | 919 |  | #: includes/integrations/permalink-manager-third-parties.php:39~~3~~ |
  | 920 |  | #: includes/integrations/permalink-manager-third-parties.php:62~~2~~ |
  |  | 923 | #: includes/integrations/permalink-manager-third-parties.php:391 |
  |  | 924 | #: includes/integrations/permalink-manager-third-parties.php:624 |
  | 921 | 925 | #: includes/views/permalink-manager-ui-elements.php:706 |
  | 922 | 926 | #: includes/views/permalink-manager-ui-elements.php:711 |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L1184) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L1188) |  |
  | 1184 | 1188 | msgstr "" |
  | 1185 | 1189 |  |
  | 1186 |  | #: includes/views/permalink-manager-settings.php:2~~77~~ |
  |  | 1190 | #: includes/views/permalink-manager-settings.php:282 |
  | 1187 | 1191 | msgid "Save settings" |
  | 1188 | 1192 | msgstr "" |
  | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3124505#L1392) | […](/browser/permalink-manager/trunk/languages/permalink-manager.pot?rev=3142479#L1396) |  |
  | 1392 | 1396 | msgstr "" |
  | 1393 | 1397 |  |
  |  | 1398 | #: includes/views/permalink-manager-settings.php:276 |
  |  | 1399 | msgid "" |
  |  | 1400 | "This option activates permalink detection and redirect debug functions. To " |
  |  | 1401 | "access them add \"<em>?debug\_url=1</em>\" and \"<em>?debug\_redirect=1</em>\" " |
  |  | 1402 | "to the checked URLs." |
  |  | 1403 | msgstr "" |
  |  | 1404 |  |
  | 1394 | 1405 | #: includes/views/permalink-manager-settings.php:64 |
  | 1395 | 1406 | msgid "" |
* ## [permalink-manager/trunk/permalink-manager.php](/changeset/3142479/permalink-manager/trunk/permalink-manager.php "Show the changeset 3142479 restricted to permalink-manager/trunk/permalink-manager.php")

  | [r3124505](/browser/permalink-manager/trunk/permalink-manager.php?rev=3124505#L5 "Show revision 3124505 of this file in browser") | [r3142479](/browser/permalink-manager/trunk/permalink-manager.php?rev=3142479#L5 "Show revision 3142479 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Plugin URI:        https://permalinkmanager.pro?utm\_source=plugin |
  | 6 | 6 | \* Description:       Advanced plugin that allows to set up custom permalinks (bulk editors included), slugs and permastructures (WooCommerce compatible). |
  | 7 |  | \* Version:           2.4.4 |
  |  | 7 | \* Version:           2.4.4.1 |
  | 8 | 8 | \* Author:            Maciej Bis |
  | 9 | 9 | \* Author URI:        http://maciejbis.net/ |
  | […](/browser/permalink-manager/trunk/permalink-manager.php?rev=3124505#L13) | […](/browser/permalink-manager/trunk/permalink-manager.php?rev=3142479#L13) |  |
  | 13 | 13 | \* Domain Path:       /languages |
  | 14 | 14 | \* WC requires at least: 3.0.0 |
  | 15 |  | \* WC tested up to:      9.~~1.2~~ |
  |  | 15 | \* WC tested up to:      9.2.3 |
  | 16 | 16 | \*/ |
  | 17 | 17 |  |
  | […](/browser/permalink-manager/trunk/permalink-manager.php?rev=3124505#L26) | […](/browser/permalink-manager/trunk/permalink-manager.php?rev=3142479#L26) |  |
  | 26 | 26 | define( 'PERMALINK\_MANAGER\_PLUGIN\_NAME', 'Permalink Manager' ); |
  | 27 | 27 | define( 'PERMALINK\_MANAGER\_PLUGIN\_SLUG', 'permalink-manager' ); |
  | 28 |  | define( 'PERMALINK\_MANAGER\_VERSION', '2.4.4' ); |
  |  | 28 | define( 'PERMALINK\_MANAGER\_VERSION', '2.4.4.1' ); |
  | 29 | 29 | define( 'PERMALINK\_MANAGER\_FILE', \_\_FILE\_\_ ); |
  | 30 | 30 | define( 'PERMALINK\_MANAGER\_DIR', untrailingslashit( dirname( \_\_FILE\_\_ ) ) ); |
  | […](/browser/permalink-manager/trunk/permalink-manager.php?rev=3124505#L200) | […](/browser/permalink-manager/trunk/permalink-manager.php?rev=3142479#L200) |  |
  | 200 | 200 | 'partial\_disable\_strict'    => 1, |
  | 201 | 201 | 'ignore\_drafts'             => 1, |
  | 202 |  | 'edit\_uris\_cap'             => 'publish\_posts' |
  |  | 202 | 'edit\_uris\_cap'             => 'publish\_posts', |
  |  | 203 | 'debug\_mode'                => 0 |
  | 203 | 204 | ), |
  | 204 | 205 | 'licence'        => array() |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3142479)
* [Zip Archive](?format=zip&new=3142479)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

