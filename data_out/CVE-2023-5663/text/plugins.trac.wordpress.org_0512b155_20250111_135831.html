

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2987837%2Fnews-announcement-scroll)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2818952/news-announcement-scroll "Changeset 2818952 for news-announcement-scroll")
* [Next Change](/changeset/2987838/news-announcement-scroll "Changeset 2987838 for news-announcement-scroll") →

---

# Changeset [2987837](/changeset/2987837 "Show full changeset") for [news-announcement-scroll](/browser/news-announcement-scroll?rev=2987837 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/02/2023 06:49:06 AM
([15 months](/timeline?from=2023-11-02T06%3A49%3A06Z&precision=second "See timeline at 11/02/2023 06:49:06 AM") ago)

Author:
storeapps
Message:

Preparing for 9.1.0 release

Location:
[news-announcement-scroll/trunk](/browser/news-announcement-scroll/trunk?rev=2987837)
Files:

7 edited

* [gAnnounce/gAnnounce.php](/browser/news-announcement-scroll/trunk/gAnnounce/gAnnounce.php?rev=2987837 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [languages/news-announcement-scroll.pot](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837 "Show entry in browser")
  (modified)
  ([8 diffs](#file1 "Show differences"))
* [news-announcement-scroll.php](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2987837 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))
* [pages/content-management-add.php](/browser/news-announcement-scroll/trunk/pages/content-management-add.php?rev=2987837 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [pages/content-management-edit.php](/browser/news-announcement-scroll/trunk/pages/content-management-edit.php?rev=2987837 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [pages/content-setting.php](/browser/news-announcement-scroll/trunk/pages/content-setting.php?rev=2987837 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [readme.txt](/browser/news-announcement-scroll/trunk/readme.txt?rev=2987837 "Show entry in browser")
  (modified)
  ([3 diffs](#file6 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [news-announcement-scroll/trunk/gAnnounce/gAnnounce.php](/changeset/2987837/news-announcement-scroll/trunk/gAnnounce/gAnnounce.php "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/gAnnounce/gAnnounce.php")

  | [r2818951](/browser/news-announcement-scroll/trunk/gAnnounce/gAnnounce.php?rev=2818951#L10 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/gAnnounce/gAnnounce.php?rev=2987837#L10 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 |  |
  | 11 | 11 | $gNewsAnnouncementtype = get\_option( 'gNewsAnnouncementtype' ); |
  | 12 |  | $sSql                  = 'SELECT \* from ' . WP\_G\_NEWS\_ANNOUNCEMENT . " where gNews\_status='Yes'"; |
  | 13 |  | $sSql                  = $sSql . " and (`gNews\_date` <= NOW() or `gNews\_date` = '0000-00-00')"; |
  | 14 |  | $sSql                  = $sSql . " and (`gNews\_expiration` >= NOW() or `gNews\_expiration` = '0000-00-00')"; |
  |  | 12 | $gNewsAnnouncementtype = ! empty( $gNewsAnnouncementtype ) ? esc\_sql( $gNewsAnnouncementtype ) : ''; |
  |  | 13 | $gNewsAnnouncementorder = get\_option( 'gNewsAnnouncementorder' ); |
  | 15 | 14 |  |
  | 16 |  | if ( $gNewsAnnouncementtype != '' ) { |
  | 17 |  | $sSql = $sSql . " and gNews\_type='" . $gNewsAnnouncementtype . "'"; |
  | 18 |  | } |
  | 19 |  |  |
  | 20 |  | if ( get\_option( 'gNewsAnnouncementorder' ) == '1' ) { |
  | 21 |  | $sSql = $sSql . ' ORDER BY rand( )'; |
  | 22 |  | } else { |
  | 23 |  | $sSql = $sSql . ' ORDER BY gNews\_order'; |
  | 24 |  | } |
  |  | 15 | $sSql = $wpdb->prepare( |
  |  | 16 | "SELECT \* FROM " . WP\_G\_NEWS\_ANNOUNCEMENT . " |
  |  | 17 | WHERE gNews\_status = %s |
  |  | 18 | AND (`gNews\_date` <= NOW() OR `gNews\_date` = %s) |
  |  | 19 | AND (`gNews\_expiration` >= NOW() OR `gNews\_expiration` = %s) |
  |  | 20 | " . ($gNewsAnnouncementtype ? "AND `gNews\_type` = '{$gNewsAnnouncementtype}'" : '') . " |
  |  | 21 | ORDER BY " . ('1' == $gNewsAnnouncementorder ? 'RAND()' : 'gNews\_order'), |
  |  | 22 | 'Yes', |
  |  | 23 | '0000-00-00', |
  |  | 24 | '0000-00-00' |
  |  | 25 | ); |
  | 25 | 26 |  |
  | 26 | 27 | $data = $wpdb->get\_results( $sSql ); |
* ## [news-announcement-scroll/trunk/languages/news-announcement-scroll.pot](/changeset/2987837/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/languages/news-announcement-scroll.pot")

  | [r2818951](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L1 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L1 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | # Copyright (C) 202~~2~~ StoreApps |
  | 2 |  | # This file is distributed under the ~~same license as the News Announcement Scroll plugin~~. |
  |  | 1 | # Copyright (C) 2023 StoreApps |
  |  | 2 | # This file is distributed under the GNU General Public License v3.0. |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: News Announcement Scroll 9.~~0~~.0\n" |
  |  | 5 | "Project-Id-Version: News Announcement Scroll 9.1.0\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/news-announcement-scroll\n" |
  | 7 | 7 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L10) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L10) |  |
  | 10 | 10 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 11 | 11 | "Content-Transfer-Encoding: 8bit\n" |
  | 12 |  | "POT-Creation-Date: 202~~2-11-16T17:41:31~~+05:30\n" |
  |  | 12 | "POT-Creation-Date: 2023-11-02T11:58:50+05:30\n" |
  | 13 | 13 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 14 |  | "X-Generator: WP-CLI 2.~~1.0~~\n" |
  |  | 14 | "X-Generator: WP-CLI 2.7.1\n" |
  | 15 | 15 | "X-Domain: news-announcement-scroll\n" |
  | 16 | 16 |  |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L43) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L43) |  |
  | 43 | 43 | msgstr "" |
  | 44 | 44 |  |
  |  | 45 | #: news-announcement-scroll.php:328 |
  |  | 46 | msgid "View News Announcement Scroll Settings" |
  |  | 47 | msgstr "" |
  |  | 48 |  |
  |  | 49 | #: news-announcement-scroll.php:328 |
  |  | 50 | msgid "Settings" |
  |  | 51 | msgstr "" |
  |  | 52 |  |
  | 45 | 53 | #: news-announcement-scroll.php:329 |
  | 46 |  | msgid "~~View News Announcement Scroll Settings~~" |
  |  | 54 | msgid "Documentation" |
  | 47 | 55 | msgstr "" |
  | 48 | 56 |  |
  | 49 | 57 | #: news-announcement-scroll.php:329 |
  | 50 |  | ~~msgid "Settings"~~ |
  | 51 |  | ~~msgstr ""~~ |
  | 52 |  |  |
  | 53 |  | ~~#: news-announcement-scroll.php:330~~ |
  | 54 |  | ~~msgid "Documentation"~~ |
  | 55 |  | ~~msgstr ""~~ |
  | 56 |  |  |
  | 57 |  | ~~#: news-announcement-scroll.php:330~~ |
  | 58 | 58 | msgid "Docs" |
  | 59 | 59 | msgstr "" |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L94) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L94) |  |
  | 94 | 94 | #: pages/content-management-edit.php:117 |
  | 95 | 95 | #: pages/content-management-show.php:63 |
  | 96 |  | #: pages/content-setting.php:1~~4~~ |
  |  | 96 | #: pages/content-setting.php:13 |
  | 97 | 97 | msgid "Widget Settings" |
  | 98 | 98 | msgstr "" |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L101) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L101) |  |
  | 101 | 101 | #: pages/content-management-edit.php:118 |
  | 102 | 102 | #: pages/content-management-show.php:64 |
  | 103 |  | #: pages/content-setting.php:1~~6~~ |
  |  | 103 | #: pages/content-setting.php:15 |
  | 104 | 104 | msgid "Help" |
  | 105 | 105 | msgstr "" |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L140) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L140) |  |
  | 140 | 140 | msgstr "" |
  | 141 | 141 |  |
  | 142 |  | #: pages/content-management-add.php:15~~4~~ |
  |  | 142 | #: pages/content-management-add.php:152 |
  | 143 | 143 | #: pages/content-management-edit.php:181 |
  | 144 | 144 | msgid "This is to group the news. Select your news group." |
  | 145 | 145 | msgstr "" |
  | 146 | 146 |  |
  | 147 |  | #: pages/content-management-add.php:15~~6~~ |
  |  | 147 | #: pages/content-management-add.php:154 |
  | 148 | 148 | #: pages/content-management-edit.php:183 |
  | 149 | 149 | #: pages/content-management-show.php:87 |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L152) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L152) |  |
  | 152 | 152 | msgstr "" |
  | 153 | 153 |  |
  | 154 |  | #: pages/content-management-add.php:15~~8~~ |
  |  | 154 | #: pages/content-management-add.php:156 |
  | 155 | 155 | #: pages/content-management-edit.php:185 |
  | 156 | 156 | msgid "Please enter the news publish date in this format YYYY-MM-DD." |
  | 157 | 157 | msgstr "" |
  | 158 | 158 |  |
  | 159 |  | #: pages/content-management-add.php:1~~60~~ |
  |  | 159 | #: pages/content-management-add.php:158 |
  | 160 | 160 | #: pages/content-management-edit.php:187 |
  | 161 | 161 | msgid "Expiration date" |
  | 162 | 162 | msgstr "" |
  | 163 | 163 |  |
  | 164 |  | #: pages/content-management-add.php:16~~2~~ |
  |  | 164 | #: pages/content-management-add.php:160 |
  | 165 | 165 | msgid "Please enter the expiration date in this format YYYY-MM-DD <br /> 9999-12-30 : Is equal to no expire." |
  | 166 | 166 | msgstr "" |
  | 167 | 167 |  |
  | 168 |  | #: pages/content-management-add.php:167 |
  |  | 168 | #: pages/content-management-add.php:165 |
  |  | 169 | #: pages/content-setting.php:252 |
  |  | 170 | msgid "Save" |
  |  | 171 | msgstr "" |
  |  | 172 |  |
  |  | 173 | #: pages/content-management-add.php:166 |
  |  | 174 | #: pages/content-management-edit.php:195 |
  | 169 | 175 | #: pages/content-setting.php:253 |
  | 170 |  | ~~msgid "Save"~~ |
  | 171 |  | ~~msgstr ""~~ |
  | 172 |  |  |
  | 173 |  | ~~#: pages/content-management-add.php:168~~ |
  | 174 |  | ~~#: pages/content-management-edit.php:195~~ |
  | 175 |  | ~~#: pages/content-setting.php:254~~ |
  | 176 | 176 | msgid "Cancel" |
  | 177 | 177 | msgstr "" |
  | 178 | 178 |  |
  | 179 |  | #: pages/content-management-edit.php:2~~4~~ |
  |  | 179 | #: pages/content-management-edit.php:26 |
  | 180 | 180 | #: pages/content-management-show.php:29 |
  | 181 | 181 | msgid "Oops, selected details doesnt exist." |
  | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2818951#L268) | […](/browser/news-announcement-scroll/trunk/languages/news-announcement-scroll.pot?rev=2987837#L268) |  |
  | 268 | 268 | msgstr "" |
  | 269 | 269 |  |
  | 270 |  | #: pages/content-setting.php:1~~5~~ |
  |  | 270 | #: pages/content-setting.php:14 |
  | 271 | 271 | msgid "Add New News" |
  | 272 | 272 | msgstr "" |
  | 273 | 273 |  |
  | 274 |  | #: pages/content-setting.php:7~~1~~ |
  |  | 274 | #: pages/content-setting.php:70 |
  | 275 | 275 | msgid "Details successfully updated." |
  | 276 | 276 | msgstr "" |
  | 277 | 277 |  |
  | 278 |  | #: pages/content-setting.php:~~80~~ |
  |  | 278 | #: pages/content-setting.php:79 |
  | 279 | 279 | msgid "Title" |
  | 280 | 280 | msgstr "" |
  | 281 | 281 |  |
  | 282 |  | #: pages/content-setting.php:8~~2~~ |
  |  | 282 | #: pages/content-setting.php:81 |
  | 283 | 283 | msgid "This title is only for widget." |
  | 284 | 284 | msgstr "" |
  | 285 | 285 |  |
  | 286 |  | #: pages/content-setting.php:8~~4~~ |
  | 287 |  | #: pages/content-setting.php:12~~1~~ |
  |  | 286 | #: pages/content-setting.php:83 |
  |  | 287 | #: pages/content-setting.php:120 |
  | 288 | 288 | msgid "Text alignment" |
  | 289 | 289 | msgstr "" |
  | 290 | 290 |  |
  | 291 |  | #: pages/content-setting.php:11~~1~~ |
  |  | 291 | #: pages/content-setting.php:110 |
  | 292 | 292 | msgid "Horizontal alignment of the news." |
  | 293 | 293 | msgstr "" |
  | 294 | 294 |  |
  | 295 |  | #: pages/content-setting.php:11~~3~~ |
  |  | 295 | #: pages/content-setting.php:112 |
  | 296 | 296 | msgid "Width" |
  | 297 | 297 | msgstr "" |
  | 298 | 298 |  |
  | 299 |  | #: pages/content-setting.php:11~~5~~ |
  |  | 299 | #: pages/content-setting.php:114 |
  | 300 | 300 | msgid "Enter widget width, only number" |
  | 301 | 301 | msgstr "" |
  | 302 | 302 |  |
  | 303 |  | #: pages/content-setting.php:11~~7~~ |
  |  | 303 | #: pages/content-setting.php:116 |
  | 304 | 304 | msgid "Font family" |
  | 305 | 305 | msgstr "" |
  | 306 | 306 |  |
  | 307 |  | #: pages/content-setting.php:11~~9~~ |
  |  | 307 | #: pages/content-setting.php:118 |
  | 308 | 308 | msgid "Enter news font family name, Example: verdana, arial, sans-serif" |
  | 309 | 309 | msgstr "" |
  | 310 | 310 |  |
  | 311 |  | #: pages/content-setting.php:14~~2~~ |
  |  | 311 | #: pages/content-setting.php:141 |
  | 312 | 312 | msgid "Vertical alignment of the news." |
  | 313 | 313 | msgstr "" |
  | 314 | 314 |  |
  | 315 |  | #: pages/content-setting.php:14~~4~~ |
  |  | 315 | #: pages/content-setting.php:143 |
  | 316 | 316 | msgid "Height" |
  | 317 | 317 | msgstr "" |
  | 318 | 318 |  |
  | 319 |  | #: pages/content-setting.php:14~~6~~ |
  |  | 319 | #: pages/content-setting.php:145 |
  | 320 | 320 | msgid "Enter widget height, only number" |
  | 321 | 321 | msgstr "" |
  | 322 | 322 |  |
  | 323 |  | #: pages/content-setting.php:14~~8~~ |
  |  | 323 | #: pages/content-setting.php:147 |
  | 324 | 324 | msgid "Announcement display order" |
  | 325 | 325 | msgstr "" |
  | 326 | 326 |  |
  | 327 |  | #: pages/content-setting.php:16~~3~~ |
  |  | 327 | #: pages/content-setting.php:162 |
  | 328 | 328 | msgid "Display order: It means display as per order option. Random order: It means random order." |
  | 329 | 329 | msgstr "" |
  | 330 | 330 |  |
  | 331 |  | #: pages/content-setting.php:16~~7~~ |
  |  | 331 | #: pages/content-setting.php:166 |
  | 332 | 332 | msgid "Font size" |
  | 333 | 333 | msgstr "" |
  | 334 | 334 |  |
  | 335 |  | #: pages/content-setting.php:16~~9~~ |
  |  | 335 | #: pages/content-setting.php:168 |
  | 336 | 336 | msgid "News font size, Example: 13px." |
  | 337 | 337 | msgstr "" |
  | 338 | 338 |  |
  | 339 |  | #: pages/content-setting.php:17~~1~~ |
  |  | 339 | #: pages/content-setting.php:170 |
  | 340 | 340 | msgid "Font color" |
  | 341 | 341 | msgstr "" |
  | 342 | 342 |  |
  | 343 |  | #: pages/content-setting.php:17~~3~~ |
  |  | 343 | #: pages/content-setting.php:172 |
  | 344 | 344 | msgid "News font color, Example: #000000." |
  | 345 | 345 | msgstr "" |
  | 346 | 346 |  |
  | 347 |  | #: pages/content-setting.php:17~~5~~ |
  |  | 347 | #: pages/content-setting.php:174 |
  | 348 | 348 | msgid "Slide direction" |
  | 349 | 349 | msgstr "" |
  | 350 | 350 |  |
  | 351 |  | #: pages/content-setting.php:1~~90~~ |
  |  | 351 | #: pages/content-setting.php:189 |
  | 352 | 352 | msgid "Select your slide direction" |
  | 353 | 353 | msgstr "" |
  | 354 | 354 |  |
  | 355 |  | #: pages/content-setting.php:19~~2~~ |
  |  | 355 | #: pages/content-setting.php:191 |
  | 356 | 356 | msgid "Font weight" |
  | 357 | 357 | msgstr "" |
  | 358 | 358 |  |
  | 359 |  | #: pages/content-setting.php:20~~7~~ |
  |  | 359 | #: pages/content-setting.php:206 |
  | 360 | 360 | msgid "Select font weight." |
  | 361 | 361 | msgstr "" |
  | 362 | 362 |  |
  | 363 |  | #: pages/content-setting.php:20~~9~~ |
  |  | 363 | #: pages/content-setting.php:208 |
  | 364 | 364 | msgid "No announcement text" |
  | 365 | 365 | msgstr "" |
  | 366 | 366 |  |
  | 367 |  | #: pages/content-setting.php:21~~1~~ |
  |  | 367 | #: pages/content-setting.php:210 |
  | 368 | 368 | msgid "Text to show if no news/announcement available in the database." |
  | 369 | 369 | msgstr "" |
  | 370 | 370 |  |
  | 371 |  | #: pages/content-setting.php:21~~3~~ |
  |  | 371 | #: pages/content-setting.php:212 |
  | 372 | 372 | msgid "Slide timeout" |
  | 373 | 373 | msgstr "" |
  | 374 | 374 |  |
  | 375 |  | #: pages/content-setting.php:21~~5~~ |
  |  | 375 | #: pages/content-setting.php:214 |
  | 376 | 376 | msgid "1000 = 1 second." |
  | 377 | 377 | msgstr "" |
  | 378 | 378 |  |
  | 379 |  | #: pages/content-setting.php:21~~7~~ |
  |  | 379 | #: pages/content-setting.php:216 |
  | 380 | 380 | msgid "News Group" |
  | 381 | 381 | msgstr "" |
  | 382 | 382 |  |
  | 383 |  | #: pages/content-setting.php:24~~8~~ |
  |  | 383 | #: pages/content-setting.php:247 |
  | 384 | 384 | msgid "Select your news group to display (This option is available in add/edit news page)." |
  | 385 | 385 | msgstr "" |
* ## [news-announcement-scroll/trunk/news-announcement-scroll.php](/changeset/2987837/news-announcement-scroll/trunk/news-announcement-scroll.php "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/news-announcement-scroll.php")

  | [r2818951](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2818951#L4 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2987837#L4 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://www.storeapps.org/product/news-announcement-scroll/ |
  | 5 | 5 | \* Description: A simple vertical scroll news widget for your WordPress website. Easy to use & no coding knowledge required. |
  | 6 |  | \* Version: 9.~~0~~.0 |
  |  | 6 | \* Version: 9.1.0 |
  | 7 | 7 | \* Author: StoreApps |
  | 8 | 8 | \* Author URI: https://www.storeapps.org/ |
  | […](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2818951#L15) | […](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2987837#L15) |  |
  | 15 | 15 | \* License: GNU General Public License v3.0 |
  | 16 | 16 | \* License URI: http://www.gnu.org/licenses/gpl-3.0.html |
  | 17 |  | \* Copyright (c) 2015-202~~2~~ StoreApps. All rights reserved. |
  |  | 17 | \* Copyright (c) 2015-2023 StoreApps. All rights reserved. |
  | 18 | 18 | \*/ |
  | 19 | 19 |  |
  | […](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2818951#L243) | […](/browser/news-announcement-scroll/trunk/news-announcement-scroll.php?rev=2987837#L243) |  |
  | 243 | 243 | } |
  | 244 | 244 |  |
  | 245 |  | $gNewsAnnouncementtype = $atts['group']; |
  | 246 |  |  |
  | 247 |  | $sSql = 'SELECT \* from ' . WP\_G\_NEWS\_ANNOUNCEMENT . " where gNews\_status='YES'"; |
  | 248 |  | $sSql = $sSql . " and (`gNews\_date` <= NOW() or `gNews\_date` = '0000-00-00')"; |
  | 249 |  | $sSql = $sSql . " and (`gNews\_expiration` >= NOW() or `gNews\_expiration` = '0000-00-00')"; |
  | 250 |  |  |
  | 251 |  | if ( $gNewsAnnouncementtype != '' ) { |
  | 252 |  | $sSql = $sSql . " and gNews\_type='" . $gNewsAnnouncementtype . "'"; |
  | 253 |  | } |
  | 254 |  |  |
  | 255 |  | if ( get\_option( 'gNewsAnnouncementorder' ) == '1' ) { |
  | 256 |  | $sSql = $sSql . ' ORDER BY rand()'; |
  | 257 |  | } else { |
  | 258 |  | $sSql = $sSql . ' ORDER BY gNews\_order'; |
  | 259 |  | } |
  | 260 |  |  |
  | 261 |  | $data = $wpdb->get\_results( $sSql ); |
  |  | 245 | $gNewsAnnouncementtype = ! empty( $atts['group'] ) ? esc\_sql( $atts['group'] ) : ''; |
  |  | 246 | $gNewsAnnouncementorder = get\_option( 'gNewsAnnouncementorder' ); |
  |  | 247 |  |
  |  | 248 | $sSql = $wpdb->prepare( |
  |  | 249 | "SELECT \* FROM " . WP\_G\_NEWS\_ANNOUNCEMENT . " |
  |  | 250 | WHERE gNews\_status = %s |
  |  | 251 | AND (`gNews\_date` <= NOW() OR `gNews\_date` = %s) |
  |  | 252 | AND (`gNews\_expiration` >= NOW() OR `gNews\_expiration` = %s) |
  |  | 253 | " . ($gNewsAnnouncementtype ? "AND `gNews\_type` = '{$gNewsAnnouncementtype}'" : '') . " |
  |  | 254 | ORDER BY " . ('1' == $gNewsAnnouncementorder ? 'RAND()' : 'gNews\_order'), |
  |  | 255 | 'Yes', |
  |  | 256 | '0000-00-00', |
  |  | 257 | '0000-00-00' |
  |  | 258 | ); |
  |  | 259 |  |
  |  | 260 | $data = $wpdb->get\_results($sSql); |
  | 262 | 261 |  |
  | 263 | 262 | $nas = $nas . '<script language="JavaScript" type="text/javascript">'; |
* ## [news-announcement-scroll/trunk/pages/content-management-add.php](/changeset/2987837/news-announcement-scroll/trunk/pages/content-management-add.php "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/pages/content-management-add.php")

  | [r2818951](/browser/news-announcement-scroll/trunk/pages/content-management-add.php?rev=2818951#L124 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/pages/content-management-add.php?rev=2987837#L124 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 124 | 124 | <select name="gNews\_type" id="gNews\_type"> |
  | 125 | 125 | <?php |
  | 126 |  | $sSql             = ~~'SELECT distinct(gNews\_type) as gNews\_type FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` order by gNews\_type'~~; |
  |  | 126 | $sSql             = $wpdb->prepare( 'SELECT DISTINCT(gNews\_type) as gNews\_type FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` WHERE 1 = %s ORDER BY gNews\_type', 1 ); |
  | 127 | 127 | $myDistinctData   = array(); |
  | 128 | 128 | $arrDistinctDatas = array(); |
  | […](/browser/news-announcement-scroll/trunk/pages/content-management-add.php?rev=2818951#L136) | […](/browser/news-announcement-scroll/trunk/pages/content-management-add.php?rev=2987837#L136) |  |
  | 136 | 136 |  |
  | 137 | 137 | for ( $j = $i; $j < $i + 5; $j++ ) { |
  | 138 |  |  |
  | 139 | 138 | $arrDistinctData[ $j ]['gNews\_type'] = 'GROUP' . $j; |
  | 140 | 139 | } |
  | 141 | 140 |  |
  | 142 |  | $arrDistinctData[ $j + 1 ]['gNews\_type'] = 'WIDGET'; |
  | 143 |  | $arrDistinctData[ $j + 2 ]['gNews\_type'] = 'SAMPLE'; |
  | 144 |  | $arrDistinctDatas                        = array\_unique( $arrDistinctData, SORT\_REGULAR ); |
  |  | 141 | $arrDistinctData[ $j + 1 ]['gNews\_type'] = 'WIDGET'; |
  |  | 142 | $arrDistinctData[ $j + 2 ]['gNews\_type'] = 'SAMPLE'; |
  |  | 143 | $arrDistinctDatas                        = array\_unique( $arrDistinctData, SORT\_REGULAR ); |
  | 145 | 144 |  |
  | 146 | 145 | foreach ( $arrDistinctDatas as $arrDistinct ) { |
  | 147 |  |  |
  | 148 | 146 | ?> |
  | 149 |  | <option value='<?php echo $arrDistinct['gNews\_type']; ?>'><?php echo $arrDistinct['gNews\_type']; ?></option> |
  | 150 |  | <?php |
  |  | 147 | <option value='<?php echo $arrDistinct['gNews\_type']; ?>'><?php echo $arrDistinct['gNews\_type']; ?></option> |
  |  | 148 | <?php |
  | 151 | 149 | } |
  | 152 | 150 | ?> |
* ## [news-announcement-scroll/trunk/pages/content-management-edit.php](/changeset/2987837/news-announcement-scroll/trunk/pages/content-management-edit.php "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/pages/content-management-edit.php")

  | [r2818951](/browser/news-announcement-scroll/trunk/pages/content-management-edit.php?rev=2818951#L32 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/pages/content-management-edit.php?rev=2987837#L32 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 |  |
  | 33 | 33 | $sSql = $wpdb->prepare( |
  | 34 |  | ' |
  | 35 |  | SELECT \* |
  |  | 34 | 'SELECT \* |
  | 36 | 35 | FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` |
  | 37 | 36 | WHERE `gNews\_id` = %d |
  | 38 |  | LIMIT 1 |
  | 39 |  | ', |
  |  | 37 | LIMIT 1', |
  | 40 | 38 | array( $did ) |
  | 41 | 39 | ); |
  | […](/browser/news-announcement-scroll/trunk/pages/content-management-edit.php?rev=2818951#L154) | […](/browser/news-announcement-scroll/trunk/pages/content-management-edit.php?rev=2987837#L152) |  |
  | 154 | 152 | <select name="gNews\_type" id="gNews\_type"> |
  | 155 | 153 | <?php |
  | 156 |  | $sSql             = ~~'SELECT distinct(gNews\_type) as gNews\_type FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` order by gNews\_type'~~; |
  |  | 154 | $sSql             = $wpdb->prepare( 'SELECT DISTINCT(gNews\_type) as gNews\_type FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` WHERE 1 = %s ORDER BY gNews\_type', 1 ); |
  | 157 | 155 | $myDistinctData   = array(); |
  | 158 | 156 | $arrDistinctDatas = array(); |
* ## [news-announcement-scroll/trunk/pages/content-setting.php](/changeset/2987837/news-announcement-scroll/trunk/pages/content-setting.php "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/pages/content-setting.php")

  | [r2818951](/browser/news-announcement-scroll/trunk/pages/content-setting.php?rev=2818951#L218 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/pages/content-setting.php?rev=2987837#L218 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 218 | 218 | <?php |
  | 219 | 219 | $selected         = ''; |
  | 220 |  | $sSql             = ~~'SELECT distinct(gNews\_type) as gNews\_type FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` order by gNews\_type'~~; |
  |  | 220 | $sSql             = $wpdb->prepare( 'SELECT DISTINCT(gNews\_type) as gNews\_type FROM `' . WP\_G\_NEWS\_ANNOUNCEMENT . '` WHERE 1 = %s ORDER BY gNews\_type', 1 ); |
  | 221 | 221 | $myDistinctData   = array(); |
  | 222 | 222 | $arrDistinctDatas = array(); |
* ## [news-announcement-scroll/trunk/readme.txt](/changeset/2987837/news-announcement-scroll/trunk/readme.txt "Show the changeset 2987837 restricted to news-announcement-scroll/trunk/readme.txt")

  | [r2818951](/browser/news-announcement-scroll/trunk/readme.txt?rev=2818951#L7 "Show revision 2818951 of this file in browser") | [r2987837](/browser/news-announcement-scroll/trunk/readme.txt?rev=2987837#L7 "Show revision 2987837 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Tested up to: 5.5.3 |
  | 8 | 8 | Requires PHP: 5.6.0 |
  | 9 |  | Stable tag: 9.~~0~~.0 |
  |  | 9 | Stable tag: 9.1.0 |
  | 10 | 10 | License: GPLv3 |
  | 11 | 11 |  |
  | […](/browser/news-announcement-scroll/trunk/readme.txt?rev=2818951#L150) | […](/browser/news-announcement-scroll/trunk/readme.txt?rev=2987837#L150) |  |
  | 150 | 150 | == Changelog == |
  | 151 | 151 |  |
  |  | 152 | = 9.1.0 (02-11-2023) = |
  |  | 153 |  |
  |  | 154 | \* New: Strengthen security [Thanks to: Wordfence] |
  |  | 155 | \* Update: POT file |
  |  | 156 |  |
  | 152 | 157 | = 9.0.0 (16-11-2022) = |
  | 153 | 158 |  |
  | […](/browser/news-announcement-scroll/trunk/readme.txt?rev=2818951#L232) | […](/browser/news-announcement-scroll/trunk/readme.txt?rev=2987837#L237) |  |
  | 232 | 237 | == Upgrade Notice == |
  | 233 | 238 |  |
  |  | 239 | = 9.1.0 (02-11-2023) = |
  |  | 240 |  |
  |  | 241 | \* New: Strengthen security [Thanks to: Wordfence] |
  |  | 242 | \* Update: POT file |
  |  | 243 |  |
  | 234 | 244 | = 9.0.0 (16-11-2022) = |
  | 235 | 245 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2987837)
* [Zip Archive](?format=zip&new=2987837)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

