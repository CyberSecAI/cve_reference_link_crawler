=== Content from github.com_29337d4b_20250111_132227.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwasm3%2Fwasm3%2Fissues%2F485)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwasm3%2Fwasm3%2Fissues%2F485)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=wasm3%2Fwasm3)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[wasm3](/wasm3)
/
**[wasm3](/wasm3/wasm3)**
Public

* [Notifications](/login?return_to=%2Fwasm3%2Fwasm3) You must be signed in to change notification settings
* [Fork
  474](/login?return_to=%2Fwasm3%2Fwasm3)
* [Star
   7.4k](/login?return_to=%2Fwasm3%2Fwasm3)

* [Code](/wasm3/wasm3)
* [Issues
  57](/wasm3/wasm3/issues)
* [Pull requests
  22](/wasm3/wasm3/pulls)
* [Actions](/wasm3/wasm3/actions)
* [Security](/wasm3/wasm3/security)
* [Insights](/wasm3/wasm3/pulse)

Additional navigation options

* [Code](/wasm3/wasm3)
* [Issues](/wasm3/wasm3/issues)
* [Pull requests](/wasm3/wasm3/pulls)
* [Actions](/wasm3/wasm3/actions)
* [Security](/wasm3/wasm3/security)
* [Insights](/wasm3/wasm3/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fwasm3%2Fwasm3%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fwasm3%2Fwasm3%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [Security] Heap Buffer Overflow on "DeallocateSlot" Function #485

Closed

[mobsceneZ](/mobsceneZ) opened this issue
Apr 22, 2024
· 0 comments
 · May be fixed by [#508](https://github.com/wasm3/wasm3/pull/508)

Closed

# [[Security] Heap Buffer Overflow on "DeallocateSlot" Function](#top) #485

[mobsceneZ](/mobsceneZ) opened this issue
Apr 22, 2024
· 0 comments
 · May be fixed by [#508](https://github.com/wasm3/wasm3/pull/508)

Labels
[wasm-validation](/wasm3/wasm3/labels/wasm-validation)

## Comments

[![@mobsceneZ](https://avatars.githubusercontent.com/u/33396195?s=80&u=16da8eec31e2dfc55508efb722f6d46202e70336&v=4)](/mobsceneZ)

Copy link

### **[mobsceneZ](/mobsceneZ)** commented [Apr 22, 2024](#issue-2256615320)

| Environment ``` OS               : Linux 5.15.146.1-microsoft-standard-WSL2 #1 SMP Thu Jan 11 04:09:03 UTC 2024 x86_64 x86_64 x86_64 GNU/Linux Commit           : 139076a98b8321b67f850a844f558b5e91b5ac83 Version          : 0.5.0 Clang Verison    : 13.0.0 Build            : mkdir -p build && cd build && export CC="clang" CXX="clang++" CFLAGS="-fsanitize=address -g" CXXFLAGS="-fsanitize=address -g" && cmake .. && make -j8 Affected Tool    : wasm3 Enabled Features : None Impact           : Heap Buffer Overflow Command          : wasm3/build/wasm3 --func main poc.wasm Validation       : Invalid **(therefore possibly related to incomplete validation in wasm3)** ``` Proof of Concept [wasm3-poc-24.zip](https://github.com/wasm3/wasm3/files/15063983/wasm3-poc-24.zip) Stack Trace Provide By AddressSanitizer ``` ================================================================= ==16190==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x626000007b28 at pc 0x00000052c750 bp 0x7ffe4c78f090 sp 0x7ffe4c78f088 READ of size 1 at 0x626000007b28 thread T0     #0 0x52c74f in DeallocateSlot /home/lain/wasm3/source/m3_compile.c:422:9     #1 0x52c74f in Pop /home/lain/wasm3/source/m3_compile.c:602:13     #2 0x52c74f in PopType /home/lain/wasm3/source/m3_compile.c:620:1     #3 0x52c74f in CompileBlock /home/lain/wasm3/source/m3_compile.c:2699:1     #4 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #5 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #6 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #7 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #8 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #9 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #10 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #11 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #12 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #13 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #14 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #15 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #16 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #17 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #18 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #19 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #20 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #21 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #22 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #23 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #24 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #25 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #26 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #27 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #28 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #29 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #30 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #31 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #32 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #33 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #34 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #35 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #36 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #37 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #38 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #39 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #40 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #41 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #42 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #43 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #44 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #45 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #46 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #47 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #48 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #49 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #50 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #51 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #52 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #53 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #54 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #55 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #56 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #57 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #58 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #59 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #60 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #61 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #62 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #63 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #64 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #65 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #66 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #67 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #68 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #69 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #70 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #71 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #72 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #73 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #74 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #75 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #76 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #77 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #78 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #79 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #80 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #81 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #82 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #83 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #84 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #85 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #86 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #87 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #88 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #89 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #90 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #91 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #92 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #93 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #94 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #95 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #96 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #97 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #98 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #99 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #100 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #101 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #102 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #103 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #104 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #105 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #106 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #107 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #108 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #109 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #110 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #111 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #112 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #113 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #114 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #115 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #116 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #117 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #118 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #119 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #120 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #121 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #122 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #123 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #124 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #125 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #126 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #127 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #128 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #129 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #130 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #131 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #132 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #133 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #134 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #135 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #136 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #137 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #138 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #139 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #140 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #141 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #142 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #143 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #144 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #145 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #146 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #147 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #148 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #149 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #150 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #151 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #152 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #153 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #154 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #155 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #156 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #157 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #158 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #159 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #160 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #161 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #162 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #163 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #164 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #165 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #166 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #167 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #168 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #169 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #170 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #171 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #172 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #173 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #174 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #175 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #176 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #177 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #178 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #179 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #180 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #181 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #182 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #183 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #184 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #185 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #186 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #187 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #188 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #189 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #190 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #191 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #192 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #193 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #194 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #195 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #196 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #197 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #198 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #199 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #200 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #201 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #202 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #203 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #204 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #205 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #206 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #207 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #208 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #209 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #210 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #211 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #212 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #213 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #214 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #215 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #216 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #217 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #218 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #219 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #220 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #221 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #222 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #223 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #224 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #225 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #226 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #227 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #228 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #229 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #230 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #231 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #232 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #233 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #234 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #235 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #236 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #237 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #238 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #239 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #240 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #241 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #242 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #243 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #244 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #245 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #246 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #247 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #248 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #249 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1     #250 0x5098e8 in Compile_LoopOrBlock /home/lain/wasm3/source/m3_compile.c:1893:1     #251 0x529595 in CompileBlockStatements /home/lain/wasm3/source/m3_compile.c:2605:1     #252 0x52bbf5 in CompileBlock /home/lain/wasm3/source/m3_compile.c:2742:1  Address 0x626000007b28 is a wild pointer inside of access range of size 0x000000000001. SUMMARY: AddressSanitizer: heap-buffer-overflow /home/lain/wasm3/source/m3_compile.c:422:9 in DeallocateSlot Shadow bytes around the buggy address:   0x0c4c7fff8f10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa =>0x0c4c7fff8f60: fa fa fa fa fa[fa]fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f70: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8f90: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8fa0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8fb0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07   Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb ==16190==ABORTING ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@vshymanskyy](https://avatars.githubusercontent.com/u/1506708?s=40&u=03ac130af6ece3d92329b1a690ae65343128fdf8&v=4)](/vshymanskyy)
[vshymanskyy](/vshymanskyy)
added
the
[wasm-validation](/wasm3/wasm3/labels/wasm-validation)
label
[Aug 2, 2024](#event-13747501826)

[![@vshymanskyy](https://avatars.githubusercontent.com/u/1506708?s=40&u=03ac130af6ece3d92329b1a690ae65343128fdf8&v=4)](/vshymanskyy)
[vshymanskyy](/vshymanskyy)
closed this as [completed](/wasm3/wasm3/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Aug 2, 2024](#event-13747502080)

[![@cla7aye15I4nd](https://avatars.githubusercontent.com/u/17133261?s=40&v=4)](/cla7aye15I4nd)
[cla7aye15I4nd](/cla7aye15I4nd)
mentioned this issue
[Sep 8, 2024](#ref-pullrequest-2512468769)

[Fix Heap Buffer Overflow on "DeallocateSlot" Function
#508](/wasm3/wasm3/pull/508)
 Open

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fwasm3%2Fwasm3%2Fissues%2F485)

Assignees

No one assigned

Labels

[wasm-validation](/wasm3/wasm3/labels/wasm-validation)

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Fix Heap Buffer Overflow on "DeallocateSlot" Function](/wasm3/wasm3/pull/508)
 [cla7aye15I4nd/wasm3](/cla7aye15I4nd/wasm3)

2 participants

[![@vshymanskyy](https://avatars.githubusercontent.com/u/1506708?s=52&v=4)](/vshymanskyy) [![@mobsceneZ](https://avatars.githubusercontent.com/u/33396195?s=52&v=4)](/mobsceneZ)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


