

* [About](/about)
* [Sponsor](/about/sponsors)
* [grep::cpan](https://grep.metacpan.org/)
* [Recent](/recent)
* [FAQ](/about/faq)
* [Tools](/tools)
* [API](https://fastapi.metacpan.org/)

* + [Identities](/account/identities)
  + [Profile](/account/profile)
  + [Favorites](/account/favorite/list)
  + Logout
* + [GitHub](/login/github)
  + [Twitter](/login/twitter)
  + [Google](/login/google)

* 04 Apr 2021 21:03:12 UTC
* Distribution: [Net-CIDR-Lite](/dist/Net-CIDR-Lite)
* Module version: 0.22
* [Source](/dist/Net-CIDR-Lite/source/Lite.pm)
  ([raw](/dist/Net-CIDR-Lite/source/Lite.pm?raw=1))
* [Browse](/dist/Net-CIDR-Lite/source)
  ([raw](/dist/Net-CIDR-Lite/source?raw=1))
* [Changes](/dist/Net-CIDR-Lite/changes)
* [How to Contribute](/dist/Net-CIDR-Lite/contribute)
* [Issues](https://rt.cpan.org/Public/Dist/Display.html?Name=Net-CIDR-Lite)
  (4)
* [Testers](http://matrix.cpantesters.org/?dist=Net-CIDR-Lite+0.22 "Matrix")
  ([1839](https://www.cpantesters.org/distro/N/Net-CIDR-Lite.html?oncpan=1&distmat=1&version=0.22&grade=2) / [0](https://www.cpantesters.org/distro/N/Net-CIDR-Lite.html?oncpan=1&distmat=1&version=0.22&grade=3) / [0](https://www.cpantesters.org/distro/N/Net-CIDR-Lite.html?oncpan=1&distmat=1&version=0.22&grade=4))
* [Kwalitee](http://cpants.cpanauthors.org/release/STIGTSP/Net-CIDR-Lite-0.22)
* Bus factor: 0
* [85.20% Coverage](http://cpancover.com/latest/Net-CIDR-Lite-0.22/index.html)
* License: unknown
* Activity
* ![](/dist/Net-CIDR-Lite/activity.svg?res=month)
  24 month
* Tools
* [Download (10.57KB)](https://cpan.metacpan.org/authors/id/S/ST/STIGTSP/Net-CIDR-Lite-0.22.tar.gz)
* [MetaCPAN Explorer](https://explorer.metacpan.org/?url=%2Fmodule%2FSTIGTSP%2FNet-CIDR-Lite-0.22%2FLite.pm)
* [Permissions](/dist/Net-CIDR-Lite/permissions)
* [Subscribe to distribution](/dist/Net-CIDR-Lite/releases.rss)
* Install Instructions
* Jump to version
  0.22
  (STIGTSP on 2021-04-04)
  0.21
  (DOUGW on 2010-03-26)
  0.20
  (DOUGW on 2006-02-14)
  '
  0.19
  (DOUGW on 2006-01-30)
  0.18
  (DOUGW on 2005-05-21)
  0.17
  (DOUGW on 2005-05-18)
  0.16
  (DOUGW on 2005-05-18)
  0.15
  (DOUGW on 2003-04-16)
  0.14
  (DOUGW on 2002-07-15)
  0.13
  (DOUGW on 2002-07-15)
  0.12
  (DOUGW on 2002-07-15)
  0.11
  (DOUGW on 2002-04-16)
  0.10
  (DOUGW on 2001-11-27)
  0.09
  (DOUGW on 2001-11-27)
  0.08
  (DOUGW on 2001-11-26)
  0.07
  (DOUGW on 2001-10-31)
  0.06
  (DOUGW on 2001-10-31)
  0.05
  (DOUGW on 2001-10-25)
  0.04
  (DOUGW on 2001-10-24)
  0.03
  (DOUGW on 2001-10-24)
  0.02
  (DOUGW on 2001-10-23)
* Diff with version
  0.22
  (STIGTSP on 2021-04-04)
  0.21
  (DOUGW on 2010-03-26)
  0.20
  (DOUGW on 2006-02-14)
  '
  0.19
  (DOUGW on 2006-01-30)
  0.18
  (DOUGW on 2005-05-21)
  0.17
  (DOUGW on 2005-05-18)
  0.16
  (DOUGW on 2005-05-18)
  0.15
  (DOUGW on 2003-04-16)
  0.14
  (DOUGW on 2002-07-15)
  0.13
  (DOUGW on 2002-07-15)
  0.12
  (DOUGW on 2002-07-15)
  0.11
  (DOUGW on 2002-04-16)
  0.10
  (DOUGW on 2001-11-27)
  0.09
  (DOUGW on 2001-11-27)
  0.08
  (DOUGW on 2001-11-26)
  0.07
  (DOUGW on 2001-10-31)
  0.06
  (DOUGW on 2001-10-31)
  0.05
  (DOUGW on 2001-10-25)
  0.04
  (DOUGW on 2001-10-24)
  0.03
  (DOUGW on 2001-10-24)
  0.02
  (DOUGW on 2001-10-23)
* + Dependencies
  + *unknown*
  + ---
  + [Reverse dependencies](/module/Net%3A%3ACIDR%3A%3ALite/requires)
  + [CPAN Testers List](http://deps.cpantesters.org/?module=Net%3A%3ACIDR%3A%3ALite)
  + [Dependency graph](https://cpandeps.grinnz.com/?dist=Net-CIDR-Lite)
* Permalinks
* [This version](/release/STIGTSP/Net-CIDR-Lite-0.22/view/Lite.pm)
* [Latest version](/pod/Net%3A%3ACIDR%3A%3ALite)
* ++ed by:
  [![HOUSTON](https://www.gravatar.com/avatar/8a7fc78696cc68640d9287ca4ca65693?d=identicon&s=20 "HOUSTON")](/author/HOUSTON)
  [![PERLBOY](https://www.gravatar.com/avatar/8553a87a00c8d2efcd77fb16e6eb73c9?d=identicon&s=20 "PERLBOY")](/author/PERLBOY)
  [![SREZIC](https://www.gravatar.com/avatar/5fa5a4e5ffdf883a1fcb1840c915d485?d=identicon&s=20 "SREZIC")](/author/SREZIC)
  [![CURTIS](https://www.gravatar.com/avatar/04d129ebd1821b5c3e2c56783fb38b3a?d=identicon&s=20 "CURTIS")](/author/CURTIS)
  [![RORYRJB](https://www.gravatar.com/avatar/a0e1cae3abdc11be9fdc1ca0509f77c3?d=identicon&s=20 "RORYRJB")](/author/RORYRJB)

  [6 PAUSE users](/dist/Net-CIDR-Lite/plussers)

  2 non-PAUSE users
* and 1 contributors
  + [![](https://www.gravatar.com/avatar/6a3d7506a5557bdaec8f889cfa71f196?d=identicon&s=20)](/author/DOUGW)

[Stig Palmquist](/author/STIGTSP)

 /

0.22
(STIGTSP on 2021-04-04)
0.21
(DOUGW on 2010-03-26)
0.20
(DOUGW on 2006-02-14)
'
0.19
(DOUGW on 2006-01-30)
0.18
(DOUGW on 2005-05-21)
0.17
(DOUGW on 2005-05-18)
0.16
(DOUGW on 2005-05-18)
0.15
(DOUGW on 2003-04-16)
0.14
(DOUGW on 2002-07-15)
0.13
(DOUGW on 2002-07-15)
0.12
(DOUGW on 2002-07-15)
0.11
(DOUGW on 2002-04-16)
0.10
(DOUGW on 2001-11-27)
0.09
(DOUGW on 2001-11-27)
0.08
(DOUGW on 2001-11-26)
0.07
(DOUGW on 2001-10-31)
0.06
(DOUGW on 2001-10-31)
0.05
(DOUGW on 2001-10-25)
0.04
(DOUGW on 2001-10-24)
0.03
(DOUGW on 2001-10-24)
0.02
(DOUGW on 2001-10-23)

[Net-CIDR-Lite-0.22](/dist/Net-CIDR-Lite)

 River stage two
• 23 direct dependents
• 35 total dependents

8 ++

8 ++

/ Net::CIDR::Lite

**Contents**

* [NAME](#NAME)
* [SYNOPSIS](#SYNOPSIS)
* [DESCRIPTION](#DESCRIPTION)
* [METHODS](#METHODS)
* [CAVEATS](#CAVEATS)
* [AUTHOR](#AUTHOR)
* [MAINTAINER](#MAINTAINER)
* [COPYRIGHT](#COPYRIGHT)
* [SEE ALSO](#SEE-ALSO)

# NAME

Net::CIDR::Lite - Perl extension for merging IPv4 or IPv6 CIDR addresses

# SYNOPSIS

```
use Net::CIDR::Lite;

my $cidr = Net::CIDR::Lite->new;
$cidr->add($cidr_address);
@cidr_list = $cidr->list;
@ip_ranges = $cidr->list_range;
```
# DESCRIPTION

Faster alternative to Net::CIDR when merging a large number of CIDR address ranges. Works for IPv4 and IPv6 addresses.

# METHODS

new()
```
$cidr = Net::CIDR::Lite->new
$cidr = Net::CIDR::Lite->new(@args)
```

Creates an object to represent a list of CIDR address ranges. No particular format is set yet; once an add method is called with a IPv4 or IPv6 format, only that format may be added for this cidr object. Any arguments supplied are passed to add\_any() (see below).

add()
```
$cidr->add($cidr_address)
```

Adds a CIDR address range to the list.

add\_range()
```
$cidr->add_range($ip_range)
```

Adds a hyphenated IP address range to the list.

add\_cidr()
```
$cidr1->add_cidr($cidr2)
```

Adds address ranges from one object to another object.

add\_ip()
```
$cidr->add_ip($ip_address)
```

Adds a single IP address to the list.

add\_any()
```
$cidr->add_any($cidr_or_range_or_address);
```

Determines format of range or single ip address and calls add(), add\_range(), add\_cidr(), or add\_ip() as appropriate.

$cidr->clean()
```
$cidr->clean;
```

If you are going to call the list method more than once on the same data, then for optimal performance, you can call this to purge null nodes in overlapping ranges from the list. Boundary nodes in contiguous ranges are automatically purged during add(). Only useful when ranges overlap or when contiguous ranges are added out of order.

$cidr->list()
```
@cidr_list = $cidr->list;
$list_ref  = $cidr->list;
```

Returns a list of the merged CIDR addresses. Returns an array if called in list context, an array reference if not.

$cidr->list\_range()
```
@cidr_list = $cidr->list_range;
$list_ref  = $cidr->list_range;
```

Returns a list of the merged addresses, but in hyphenated range format. Returns an array if called in list context, an array reference if not.

$cidr->list\_short\_range()
```
@cidr_list = $cidr->list_short_range;
$list_ref  = $cidr->list_short_range;
```

Returns a list of the C subnet merged addresses, in short hyphenated range format. Returns an array if called in list context, an array reference if not.

Example:

```
1.1.1.1-2
1.1.1.5-7
1.1.1.254-255
1.1.2.0-2
1.1.3.5
1.1.3.7
```

$cidr->find()
```
$found = $cidr->find($ip);
```

Returns true if the ip address is found in the CIDR range. False if not. Not extremely efficient, is O(n\*log(n)) to sort the ranges in the cidr object O(n) to search through the ranges in the cidr object. The sort is cached on the first call and used in subsequent calls, but if more addresses are added to the cidr object, prep\_find() must be called on the cidr object.

$cidr->bin\_find()

Same as find(), but forces a binary search. See also prep\_find.

$cidr->prep\_find()
```
$cidr->prep_find($num);
```

Caches the result of sorting the ip addresses. Implicitly called on the first find call, but must be explicitly called if more addresses are added to the cidr object. find() will do a binary search if the number of ranges is greater than or equal to $num (default 20);

$cidr->spanner()
```
$spanner = $cidr1->spanner($label1, $cidr2, $label2, ...);
```

Creates a spanner object to find out if multiple ip addresses are within multiple labeled address ranges. May also be called as (with or without any arguments):

```
Net::CIDR::Lite::Span->new($cidr1, $label1, $cidr2, $label2, ...);
```

$spanner->add()
```
$spanner->add($cidr1, $label1, $cidr2, $label2,...);
```

Adds labeled address ranges to the spanner object. The 'address range' may be a Net::CIDR::Lite object, a single CIDR address range, a single hyphenated IP address range, or a single IP address.

$spanner->find()
```
$href = $spanner->find(@ip_addresses);
```

Look up which range(s) ip addresses are in, and return a lookup table of the results, with the keys being the ip addresses, and the value a hash reference of which address ranges the ip address is in.

$spanner->bin\_find()

Same as find(), but forces a binary search. See also prep\_find.

$spanner->prep\_find()
```
$spanner->prep_find($num);
```

Called implicitly the first time $spanner->find(..) is called, must be called again if more cidr objects are added to the spanner object. Will do a binary search if ratio of the number of ip addresses to the number of ranges is less than $num percent (default 4).

$spanner->clean()
```
$clean_address = $spanner->clean($ip_address);
```

Validates and returns a cleaned up version of an ip address (which is what you will find as the key in the result from the $spanner->find(..), not necessarily what the original argument looked like). E.g. removes unnecessary leading zeros, removes null blocks from IPv6 addresses, etc.

# CAVEATS

Garbage in/garbage out. This module does do validation, but maybe not enough to suit your needs.

# AUTHOR

Douglas Wilson, <dougw@cpan.org> w/numerous hints and ideas borrowed from Tye McQueen.

# MAINTAINER

Stig Palmquist <stig@stig.io>

# COPYRIGHT

```
This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.
```
# SEE ALSO

[Net::CIDR](/pod/Net%3A%3ACIDR).

×
#### Module Install Instructions

To install Net::CIDR::Lite, copy and paste the appropriate command in to your terminal.

[cpanm](/dist/App-cpanminus/view/bin/cpanm)

```
cpanm Net::CIDR::Lite
```

[CPAN shell](/pod/CPAN)

```
perl -MCPAN -e shell
install Net::CIDR::Lite
```

For more information on module installation, please visit [the detailed CPAN module installation guide](https://www.cpan.org/modules/INSTALL.html).

Close

[![MetaCPAN](/static/images/metacpan-logo.svg)](/)

[About](/about)

[Sponsor](/about/sponsors)

[grep::cpan](https://grep.metacpan.org)

[Recent](/recent)

[FAQ](/about/faq)

[Tools](/tools)

[API](https://fastapi.metacpan.org/)

[Perl.org](https://www.perl.org/)

[![Bytemark logo](/static/images/sponsors/bytemark_logo.svg)](https://www.bytemark.co.uk/)
[![liquidweb logo](/static/images/sponsors/liquidweb_logo.png)](https://www.liquidweb.com/)
[![Deriv logo](/static/images/sponsors/deriv.svg)](https://deriv.com/careers/)
[![Geocode logo](/static/images/sponsors/geocodelogo.svg)](https://geocode.xyz)
[![Fastly logo](/static/images/sponsors/fastly_logo.svg)](https://www.fastly.com/)
[![OpenCage logo](/static/images/sponsors/open-cage.svg)](https://opencagedata.com)

[![Elastic logo](/static/images/sponsors/elastic.svg)](https://www.elastic.co/)

[![Route4Me logo](/static/images/sponsors/route4me.png)](https://route4me.com/)

×
#### Keyboard Shortcuts

|  | Global |
| --- | --- |
| `s` | Focus search bar |
| `?` | Bring up this help dialog |

|  | GitHub |
| --- | --- |
| `g` `p` | Go to pull requests |
| `g` `i` | go to github issues (only if github is preferred repository) |

|  | POD |
| --- | --- |
| `g` `a` | Go to author |
| `g` `c` | Go to changes |
| `g` `i` | Go to issues |
| `g` `d` | Go to dist |
| `g` `r` | Go to repository/SCM |
| `g` `s` | Go to source |
| `g` `b` | Go to file browse |

|  | Search terms |
| --- | --- |
| *module:* (e.g. [module:Plugin](/search?q=module%3APlugin)) |
| *distribution:* (e.g. [distribution:Dancer auth](/search?q=distribution%3ADancer+auth)) |
| *author:* (e.g. [author:SONGMU Redis](/search?q=author%3ASONGMU+Redis)) |
| *version:* (e.g. [version:1.00](/search?q=version%3A1.00)) |

