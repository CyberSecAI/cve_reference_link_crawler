

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-rss-aggregator%2Ftrunk%2Fincludes%2Fadmin-help.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/wp-rss-aggregator/trunk/includes/admin-help.php?rev=2621306 "Revision 2621306")
* Next Revision →
* [Blame](/browser/wp-rss-aggregator/trunk/includes/admin-help.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-rss-aggregator/trunk/includes/admin-help.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-rss-aggregator](/browser/wp-rss-aggregator?order=name "View wp-rss-aggregator")/[trunk](/browser/wp-rss-aggregator/trunk?order=name "View trunk")/[includes](/browser/wp-rss-aggregator/trunk/includes?order=name "View includes")/[admin-help.php](/browser/wp-rss-aggregator/trunk/includes/admin-help.php?order=name "View admin-help.php")

View diff against:

View revision:

| [Last change](/changeset/3168468/wp-rss-aggregator/trunk/includes/admin-help.php "View differences") on this file was [3168468](/changeset/3168468/ "View changeset 3168468"), checked in by omidakhavan, [3 months ago](/timeline?from=2024-10-14T10%3A28%3A32Z&precision=second "See timeline at 10/14/2024 10:28:32 AM") |
| --- |
| Trunk v4.23.13 |
| **File size:** 42.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | use Aventura\Wprss\Core\Licensing\License\Status as License\_Status; |
| [4](#L4) |  |
| [5](#L5) | /\*\* |
| [6](#L6) | \* Checks if the HS becaon is enabled or not. |
| [7](#L7) | \* |
| [8](#L8) | \* @since 4.12.1 |
| [9](#L9) | \* |
| [10](#L10) | \* @return bool True if enabled, false if not. |
| [11](#L11) | \*/ |
| [12](#L12) | function wprss\_is\_help\_beacon\_enabled() { |
| [13](#L13) | return (int) get\_option('wprss\_hs\_beacon\_enabled', 1) === 1; |
| [14](#L14) | } |
| [15](#L15) |  |
| [16](#L16) | /\*\* |
| [17](#L17) | \* Build the Help page |
| [18](#L18) | \* |
| [19](#L19) | \* @since 4.2 |
| [20](#L20) | \*/ |
| [21](#L21) | function wprss\_help\_page\_display() { |
| [22](#L22) | ?> |
| [23](#L23) |  |
| [24](#L24) | <div class="wrap"> |
| [25](#L25) | <h2><?php \_e( 'Help & Support', 'wprss' ); ?></h2> |
| [26](#L26) | <?php do\_action('wpra/help\_page/after\_title') ?> |
| [27](#L27) | <h3><?php \_e( 'Knowledge Base', 'wprss' ) ?></h3> |
| [28](#L28) | <?php |
| [29](#L29) | printf( |
| [30](#L30) | wpautop( |
| [31](#L31) | \_\_( 'In the <a href="%s">WP RSS Aggregator knowledge base</a> you will find comprehensive details and tutorials on how to use the core plugin and all the add-ons. |
| [32](#L32) |  |
| [33](#L33) | There are also some videos to help you make a quick start to setting up and enjoying this plugin.', |
| [34](#L34) | 'wprss' |
| [35](#L35) | ) |
| [36](#L36) | ), |
| [37](#L37) | esc\_attr('https://kb.wprssaggregator.com/') |
| [38](#L38) | ); |
| [39](#L39) | ?> |
| [40](#L40) | <h3><?php \_e( 'Frequently Asked Questions (FAQ)', 'wprss' ) ?></h3> |
| [41](#L41) | <?php |
| [42](#L42) | printf( |
| [43](#L43) | wpautop( |
| [44](#L44) | \_\_( |
| [45](#L45) | 'If after going through the knowledge base you still have questions, please take a look at the <a href="%s">FAQ section</a>. We set this up purposely to answer the most commonly asked questions from our users.', |
| [46](#L46) | 'wprss' |
| [47](#L47) | ) |
| [48](#L48) | ), |
| [49](#L49) | esc\_attr('https://kb.wprssaggregator.com/category/359-faqs') |
| [50](#L50) | ) |
| [51](#L51) | ?> |
| [52](#L52) |  |
| [53](#L53) | <?php |
| [54](#L54) | if ( wprss\_licensing\_get\_manager()->licenseWithStatusExists( License\_Status::VALID ) ) { |
| [55](#L55) | wprss\_premium\_help\_display(); |
| [56](#L56) | } else { |
| [57](#L57) | wprss\_free\_help\_display(); |
| [58](#L58) | } |
| [59](#L59) | ?> |
| [60](#L60) | <h3><?= \_\_('Built-in Help Beacon', 'wprss') ?></h3> |
| [61](#L61) | <form method="POST"> |
| [62](#L62) | <p> |
| [63](#L63) | <?= \_\_('The help beacon is an interactive button that appears on the bottom-right section of WP RSS Aggregator admin pages.', 'wprss'); ?> |
| [64](#L64) | <?= \_\_('It provides access to our extensive knowledge base where you can find the answers to the most commonly asked questions.', 'wprss'); ?> |
| [65](#L65) | </p> |
| [66](#L66) | <p> |
| [67](#L67) | <?= \_\_('The beacon only works on WP RSS Aggregator admin pages and does not track your mouse clicks and/or keyboard input.', 'wprss'); ?> |
| [68](#L68) | </p> |
| [69](#L69) |  |
| [70](#L70) | <?php if (wprss\_is\_help\_beacon\_enabled()): ?> |
| [71](#L71) | <p><?= \_\_('The support beacon is currently <b>enabled</b>.', 'wprss'); ?></p> |
| [72](#L72) | <button type="submit" name="wprss\_hs\_beacon\_enabled" value="0" class="button button-secondary"> |
| [73](#L73) | <?= \_\_('Disable support beacon', 'wprss'); ?> |
| [74](#L74) | </button> |
| [75](#L75) | <?php else: ?> |
| [76](#L76) | <p> |
| [77](#L77) | <?= \_\_('By enabling the help beacon, you are consenting to this data collection.', 'wprss'); ?> |
| [78](#L78) | </p> |
| [79](#L79) | <button type="submit" name="wprss\_hs\_beacon\_enabled" value="1" class="button button-primary"> |
| [80](#L80) | <?= \_\_('Enable support beacon', 'wprss'); ?> |
| [81](#L81) | </button> |
| [82](#L82) | <?php endif; ?> |
| [83](#L83) |  |
| [84](#L84) | <?php wp\_nonce\_field('wprss\_hs\_beacon\_enabled'); ?> |
| [85](#L85) | </form> |
| [86](#L86) | </div> |
| [87](#L87) | <?php |
| [88](#L88) | do\_action('wpra/help\_page/bottom'); |
| [89](#L89) | } |
| [90](#L90) |  |
| [91](#L91) | // Handler to update the HS beacon enabled option |
| [92](#L92) | add\_action('init', function () { |
| [93](#L93) | if (!is\_admin()) { |
| [94](#L94) | return; |
| [95](#L95) | } |
| [96](#L96) |  |
| [97](#L97) | $enabled = filter\_input(INPUT\_POST, 'wprss\_hs\_beacon\_enabled', FILTER\_VALIDATE\_INT); |
| [98](#L98) |  |
| [99](#L99) | if ($enabled !== null) { |
| [100](#L100) | check\_admin\_referer('wprss\_hs\_beacon\_enabled'); |
| [101](#L101) | update\_option('wprss\_hs\_beacon\_enabled', $enabled); |
| [102](#L102) | } |
| [103](#L103) | }); |
| [104](#L104) |  |
| [105](#L105) | /\*\* |
| [106](#L106) | \* Print the premium help section, linking to the contact us page on the site. |
| [107](#L107) | \* |
| [108](#L108) | \* @since 4.11.3 |
| [109](#L109) | \*/ |
| [110](#L110) | function wprss\_premium\_help\_display() { |
| [111](#L111) | printf('<h3>%s</h3>', \_\_('Premium Support', 'wprss')); |
| [112](#L112) | printf( |
| [113](#L113) | \_\_( |
| [114](#L114) | 'Contact us <a href="%s" target="%s=">here</a> for pre-sales and premium support.', |
| [115](#L115) | 'wprss' |
| [116](#L116) | ), |
| [117](#L117) | esc\_attr("https://www.wprssaggregator.com/contact/"), |
| [118](#L118) | esc\_attr("wpra-premium-contact-us-form") |
| [119](#L119) | ); |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | /\*\* |
| [123](#L123) | \* Print the premium help section with inline support form. |
| [124](#L124) | \* |
| [125](#L125) | \* (Currently unused) |
| [126](#L126) | \* |
| [127](#L127) | \* @since 4.7 |
| [128](#L128) | \*/ |
| [129](#L129) | function wprss\_premium\_help\_support\_form() { |
| [130](#L130) | // Addon and license object, both detected in the below algorithm that searches for a |
| [131](#L131) | // premium addon that is activated with a valid license |
| [132](#L132) | $addon = null; |
| [133](#L133) | $license = null; |
| [134](#L134) | // Get license statuses option |
| [135](#L135) | $statuses = get\_option( 'wprss\_settings\_license\_statuses', array() ); |
| [136](#L136) | // Iterate all statuses |
| [137](#L137) | foreach ( $statuses as $\_key => $\_value ) { |
| [138](#L138) | // If not a license status key, continue to next |
| [139](#L139) | $\_keyPos = strpos($\_key, '\_license\_status'); |
| [140](#L140) | if ( $\_keyPos === FALSE ) { |
| [141](#L141) | continue; |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | // If the status is not valid, continue to next |
| [145](#L145) | if ($\_value !== 'valid') { |
| [146](#L146) | continue; |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | // Get the addon ID |
| [150](#L150) | $\_addonId = substr( $\_key, 0, $\_keyPos ); |
| [151](#L151) | // Get the license |
| [152](#L152) | $\_license = wprss\_licensing\_get\_manager()->checkLicense( $\_addonId, 'ALL' ); |
| [153](#L153) | // If the license is not null |
| [154](#L154) | if ($\_license !== null) { |
| [155](#L155) | // Save its details |
| [156](#L156) | $addon = $\_addonId; |
| [157](#L157) | $license = $\_license; |
| [158](#L158) | // And stop iterating |
| [159](#L159) | break; |
| [160](#L160) | } |
| [161](#L161) | } |
| [162](#L162) |  |
| [163](#L163) | // If we didn't find an add-on with a valid license, show the free help text. |
| [164](#L164) | if ( $addon === null || $license === null ) { |
| [165](#L165) | wprss\_free\_help\_display(); |
| [166](#L166) | return; |
| [167](#L167) | } |
| [168](#L168) |  |
| [169](#L169) | // Get the full license info so we can prefill the name and email |
| [170](#L170) | $customer\_name = is\_object($license) ? esc\_attr($license->customer\_name) : ''; |
| [171](#L171) | $customer\_email = is\_object($license) ? esc\_attr($license->customer\_email) : ''; |
| [172](#L172) |  |
| [173](#L173) | echo '<h3>' . \_\_('Email Support', 'wprss') . '</h3>'; |
| [174](#L174) | echo wpautop(\_\_("If you still can't find an answer to your query after reading the documentation and going through the FAQ, just fill out the support request form below. We'll be happy to help you out.", 'wprss')); |
| [175](#L175) |  |
| [176](#L176) | ?> |
| [177](#L177) |  |
| [178](#L178) | <form method="post"> |
| [179](#L179) | <table> |
| [180](#L180) | <tr> |
| [181](#L181) | <td><strong><?= \_\_('From: ', 'wprss'); ?></strong></td> |
| [182](#L182) | <td> |
| [183](#L183) | <input |
| [184](#L184) | type='text' |
| [185](#L185) | name='support-name' |
| [186](#L186) | value="<?= $customer\_name ?>" |
| [187](#L187) | placeholder='<?= \_\_('Name', 'wprss'); ?>' |
| [188](#L188) | style='width:100%;' |
| [189](#L189) | /> |
| [190](#L190) | </td> |
| [191](#L191) | <td> |
| [192](#L192) | <input |
| [193](#L193) | type='text' |
| [194](#L194) | name='support-email' |
| [195](#L195) | value="<?= $customer\_email ?>" |
| [196](#L196) | placeholder='<?= \_\_('Email', 'wprss'); ?>' |
| [197](#L197) | style='width:100%;' |
| [198](#L198) | /> |
| [199](#L199) | </td> |
| [200](#L200) | </tr> |
| [201](#L201) | <tr> |
| [202](#L202) | <td colspan="3" style="text-align:right;"> |
| [203](#L203) | <small><?php \_e('Replies will be sent to this email address.'); ?></small> |
| [204](#L204) | </td> |
| [205](#L205) | </tr> |
| [206](#L206) | <tr> |
| [207](#L207) | <td colspan="3"> |
| [208](#L208) | <input |
| [209](#L209) | type='text' |
| [210](#L210) | name='support-subject' |
| [211](#L211) | placeholder='<?= \_\_('Subject', 'wprss'); ?>' |
| [212](#L212) | style='width:100%;'> |
| [213](#L213) | </td> |
| [214](#L214) | </tr> |
| [215](#L215) | <tr> |
| [216](#L216) | <td colspan="3"> |
| [217](#L217) | <textarea |
| [218](#L218) | name='support-message' |
| [219](#L219) | rows='10' |
| [220](#L220) | cols='80' |
| [221](#L221) | placeholder='<?= \_\_('Message', 'wprss'); ?>'></textarea> |
| [222](#L222) | </td> |
| [223](#L223) | </tr> |
| [224](#L224) | <tr> |
| [225](#L225) | <td colspan="3"> |
| [226](#L226) | <strong><?= \_\_('Attachments', 'wprss') ?>: </strong> |
| [227](#L227) | </td> |
| [228](#L228) | </tr> |
| [229](#L229) | <tr> |
| [230](#L230) | <td colspan="3"><input type='checkbox' name='support-include-log' value='checked' checked> |
| [231](#L231) | <?= \_\_('WP RSS Aggregator log file', 'wprss') ?> |
| [232](#L232) | </td> |
| [233](#L233) | </tr> |
| [234](#L234) | <tr> |
| [235](#L235) | <td colspan="3"><input type='checkbox' name='support-include-sys' value='checked' checked> |
| [236](#L236) | <?= \_\_('WordPress debugging information', 'wprss'); ?> |
| [237](#L237) | </td> |
| [238](#L238) | </tr> |
| [239](#L239) | </table> |
| [240](#L240) | </form> |
| [241](#L241) |  |
| [242](#L242) | <div style='line-height:2.3em; margin-top:10px;'> |
| [243](#L243) | <button id='send-message-btn' class='button button-primary'> |
| [244](#L244) | <?= \_\_('Send Message', 'wprss'); ?> |
| [245](#L245) | </button> |
| [246](#L246) | <div id='support-error'></div> |
| [247](#L247) | </div> |
| [248](#L248) |  |
| [249](#L249) | <?php |
| [250](#L250) | } |
| [251](#L251) |  |
| [252](#L252) | /\*\* |
| [253](#L253) | \* Print the free help section with link to forums. |
| [254](#L254) | \* |
| [255](#L255) | \* @since 4.7 |
| [256](#L256) | \*/ |
| [257](#L257) | function wprss\_free\_help\_display() { |
| [258](#L258) | echo '<h3>' . \_\_( 'Support Forums', 'wprss' ) . '</h3>'; |
| [259](#L259) | printf( |
| [260](#L260) | wpautop( |
| [261](#L261) | \_\_( 'Users of the free version of WP RSS Aggregator can ask questions on the <a href="%s">support forum</a>.', 'wprss' ) |
| [262](#L262) | ), |
| [263](#L263) | 'https://wordpress.org/support/plugin/wp-rss-aggregator' |
| [264](#L264) | ); |
| [265](#L265) | } |
| [266](#L266) |  |
| [267](#L267) |  |
| [268](#L268) | add\_action( 'wp\_ajax\_wprss\_ajax\_send\_premium\_support', 'wprss\_ajax\_send\_premium\_support' ); |
| [269](#L269) | /\*\* |
| [270](#L270) | \* Handles the AJAX request to send the support form. Returns a JSON status. |
| [271](#L271) | \* |
| [272](#L272) | \* @since 4.7 |
| [273](#L273) | \*/ |
| [274](#L274) | function wprss\_ajax\_send\_premium\_support() { |
| [275](#L275) | \_deprecated\_function( \_\_FUNCTION\_\_, '4.23.13' ); |
| [276](#L276) | echo json\_encode('deprecated'); |
| [277](#L277) | die(); |
| [278](#L278) | } |
| [279](#L279) |  |
| [280](#L280) |  |
| [281](#L281) | /\*\* |
| [282](#L282) | \* Ensures that all support form fields have been filled out. Returns TRUE |
| [283](#L283) | \* |
| [284](#L284) | \* @since 4.7 |
| [285](#L285) | \* @return FALSE when all fields are valid, or a string containing an error they aren't. |
| [286](#L286) | \*/ |
| [287](#L287) | function wprss\_validate\_support\_request() { |
| [288](#L288) | $fields = [ |
| [289](#L289) | 'support-name', |
| [290](#L290) | 'support-email', |
| [291](#L291) | 'support-subject', |
| [292](#L292) | 'support-message' |
| [293](#L293) | ]; |
| [294](#L294) |  |
| [295](#L295) | // Ensure that each required field is present and filled out. |
| [296](#L296) | foreach ($fields as $field) { |
| [297](#L297) | $value = filter\_input(INPUT\_GET, $field); |
| [298](#L298) | if (empty($value)) { |
| [299](#L299) | $fieldName = explode('-', $field)[1]; |
| [300](#L300) | $fieldName = ucfirst($fieldName); |
| [301](#L301) |  |
| [302](#L302) | return sprintf( |
| [303](#L303) | \_\_('Please fill out all the fields in the form, including the <strong>%s</strong> field.', 'wprss'), |
| [304](#L304) | $fieldName |
| [305](#L305) | ); |
| [306](#L306) | } |
| [307](#L307) | } |
| [308](#L308) |  |
| [309](#L309) | // Ensure the email is of a valid format. |
| [310](#L310) | $email = filter\_input(INPUT\_GET, 'support-email'); |
| [311](#L311) | if (!is\_email($email)) { |
| [312](#L312) | return \_\_('Please enter a valid email address.', 'wprss'); |
| [313](#L313) | } |
| [314](#L314) |  |
| [315](#L315) | return false; |
| [316](#L316) | } |
| [317](#L317) |  |
| [318](#L318) |  |
| [319](#L319) | /\*\* |
| [320](#L320) | \* Creates and returns the support request email's message body. |
| [321](#L321) | \* |
| [322](#L322) | \* @since 4.7 |
| [323](#L323) | \*/ |
| [324](#L324) | function wprss\_create\_support\_message() { |
| [325](#L325) | // Get the WP RSS Aggregator log. |
| [326](#L326) | $log = 'Customer did not send log'; |
| [327](#L327) | if ($\_GET['support-include-log'] === 'true') { |
| [328](#L328) | $log = wprss\_get\_log(); |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | // Get the system information. |
| [332](#L332) | $sys\_info = 'Customer did not send system information'; |
| [333](#L333) | if ($\_GET['support-include-sys'] === 'true') { |
| [334](#L334) | ob\_start(); |
| [335](#L335) | wprss\_print\_system\_info(); |
| [336](#L336) | $sys\_info = ob\_get\_contents(); |
| [337](#L337) | ob\_end\_clean(); |
| [338](#L338) | } |
| [339](#L339) |  |
| [340](#L340) | // Get the license keys. |
| [341](#L341) | $keys = json\_encode(get\_option('wprss\_settings\_license\_keys', []), JSON\_PRETTY\_PRINT); |
| [342](#L342) |  |
| [343](#L343) | // Get the message they entered. |
| [344](#L344) | $message  = sanitize\_text\_field($\_GET['support-message']); |
| [345](#L345) |  |
| [346](#L346) | // Remove any generated system data that may be present from previous form submission attempts. |
| [347](#L347) | $idx = strpos($message, "----------------------------------------------"); |
| [348](#L348) | if ($idx !== FALSE) { |
| [349](#L349) | $message  = substr($message, 0, $idx); |
| [350](#L350) | } |
| [351](#L351) |  |
| [352](#L352) | // Append the generated system data. |
| [353](#L353) | $message .= "\n\n----------------------------------------------\n"; |
| [354](#L354) | $message .= "\nLicense Information:\n" . $keys; |
| [355](#L355) | $message .= "\n\n\nError Log:\n" . $log; |
| [356](#L356) | $message .= "\n\n\nSystem Information:\n" . $sys\_info . "\n"; |
| [357](#L357) |  |
| [358](#L358) | return apply\_filters('wprss\_support\_message', $message); |
| [359](#L359) | } |
| [360](#L360) |  |
| [361](#L361) |  |
| [362](#L362) | /\*\* |
| [363](#L363) | \* Creates and returns the support request email's headers. |
| [364](#L364) | \* |
| [365](#L365) | \* @since 4.7 |
| [366](#L366) | \*/ |
| [367](#L367) | function wprss\_create\_support\_headers() { |
| [368](#L368) | $headers  = "From: no-reply@wprssaggregator.com\r\n"; |
| [369](#L369) | $headers .= "Reply-to: " . sanitize\_text\_field($\_GET['support-name']) . " <" . sanitize\_email($\_GET['support-email']) . ">\r\n"; |
| [370](#L370) |  |
| [371](#L371) | return apply\_filters('wprss\_support\_headers', $headers); |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) |  |
| [375](#L375) | /\*\* |
| [376](#L376) | \* Encapsulates features for providing inline help in the admin interface. |
| [377](#L377) | \* |
| [378](#L378) | \* The following filters are introduced: |
| [379](#L379) | \* |
| [380](#L380) | \* - `wprss\_help\_default\_options` - The default options to be extended. |
| [381](#L381) | \* |
| [382](#L382) | \*      1.      The array of options |
| [383](#L383) | \* |
| [384](#L384) | \* - `wprss\_help\_template\_path` - The path of template retrieved by WPRSS\_Help::get\_template(). |
| [385](#L385) | \* |
| [386](#L386) | \*      1. The path to the template. |
| [387](#L387) | \*  2. The array of variables passed. |
| [388](#L388) | \* |
| [389](#L389) | \* - `wprss\_help\_template\_vars` - The variables for the template, received by WPRSS\_Help::get\_template(). |
| [390](#L390) | \* |
| [391](#L391) | \*      1. The variables array. |
| [392](#L392) | \*      2. The path to the template, filtered by `wprss\_help\_template\_path`. |
| [393](#L393) | \* |
| [394](#L394) | \* - `wprss\_help\_tooltip\_options` - Options that are in effect when adding tooltips with WPRSS\_Help::add\_tooltip(). |
| [395](#L395) | \* - `wprss\_help\_tooltip\_handle\_html\_options` - Options that are in effect when retrieving tooltip handle HTML with WPRSS\_Help::wprss\_help\_tooltip\_handle\_html\_options. |
| [396](#L396) | \* |
| [397](#L397) | \* |
| [398](#L398) | \* Also, the following options are available: |
| [399](#L399) | \* |
| [400](#L400) | \* - `tooltip\_id\_prefix` - The HTML element ID prefix that will be used for tooltips. |
| [401](#L401) | \* - `tooltip\_handle\_text` - The text that will appear inside the handle HTML elements. |
| [402](#L402) | \* - `tooltip\_handle\_class` - The CSS class that will be assigned to tooltip handles. |
| [403](#L403) | \* - `tooltip\_content\_class` - The CSS class that will be assigned to tooltip content HTML elements. |
| [404](#L404) | \* - `enqueue\_tooltip\_content` - Whether or not content is to be enqueued, instead of being output directly. |
| [405](#L405) | \* |
| [406](#L406) | \*      1. The absolute path to the core plugin directory |
| [407](#L407) | \*/ |
| [408](#L408) | class WPRSS\_Help { |
| [409](#L409) | static $\_instance; |
| [410](#L410) |  |
| [411](#L411) | protected $\_options; |
| [412](#L412) |  |
| [413](#L413) | protected $\_enqueued\_tooltip\_content = []; |
| [414](#L414) |  |
| [415](#L415) | protected $\_tooltips = []; |
| [416](#L416) |  |
| [417](#L417) | const OPTION\_NAME = 'wprss\_settings\_help'; |
| [418](#L418) | const CODE\_PREFIX = 'wprss\_help\_'; |
| [419](#L419) | const OVERRIDE\_DEFAULT\_PREFIX = '!'; |
| [420](#L420) | const HASHING\_DELIMETER = '|'; |
| [421](#L421) | const OPTIONS\_FILTER\_SUFFIX = '\_options'; |
| [422](#L422) | const TOOLTIP\_DATA\_KEY\_ID = 'id'; |
| [423](#L423) | const TOOLTIP\_DATA\_KEY\_TEXT = 'text'; |
| [424](#L424) | const TOOLTIP\_DATA\_KEY\_OPTIONS = 'options'; |
| [425](#L425) |  |
| [426](#L426) | /\*\* |
| [427](#L427) | \* Retrieve the singleton instance |
| [428](#L428) | \* |
| [429](#L429) | \* @return WPRSS\_Help |
| [430](#L430) | \*/ |
| [431](#L431) | public static function get\_instance() |
| [432](#L432) | { |
| [433](#L433) | if (is\_null(self::$\_instance)) { |
| [434](#L434) | $class\_name = \_\_CLASS\_\_; // Late static bindings not allowed |
| [435](#L435) | self::$\_instance = new $class\_name(); |
| [436](#L436) | } |
| [437](#L437) |  |
| [438](#L438) | return self::$\_instance; |
| [439](#L439) | } |
| [440](#L440) |  |
| [441](#L441) | /\*\* |
| [442](#L442) | \* @since 4.10 |
| [443](#L443) | \*/ |
| [444](#L444) | public static function init() |
| [445](#L445) | { |
| [446](#L446) | if (static::get\_instance()->\_isEnqueueScripts()) { |
| [447](#L447) | add\_action('admin\_enqueue\_scripts', [self::get\_instance(), '\_admin\_enqueue\_scripts']); |
| [448](#L448) | add\_action('admin\_footer', [self::get\_instance(), '\_admin\_footer']); |
| [449](#L449) | } |
| [450](#L450) | } |
| [451](#L451) |  |
| [452](#L452) | /\*\* |
| [453](#L453) | \* Determines if the admin scripts should get enqueued. |
| [454](#L454) | \* |
| [455](#L455) | \* @since 4.10 |
| [456](#L456) | \* |
| [457](#L457) | \* @return bool True if admin scripts should be enqueued; false otherwise. |
| [458](#L458) | \*/ |
| [459](#L459) | protected function \_isEnqueueScripts() |
| [460](#L460) | { |
| [461](#L461) | return $this->\_isWprssPage(); |
| [462](#L462) | } |
| [463](#L463) |  |
| [464](#L464) | /\*\* |
| [465](#L465) | \* Determines if the current page is related to WPRSS. |
| [466](#L466) | \* |
| [467](#L467) | \* @since 4.10 |
| [468](#L468) | \* |
| [469](#L469) | \* @return bool True if the current page is related to WPRSS; false otherwise. |
| [470](#L470) | \*/ |
| [471](#L471) | protected function \_isWprssPage() |
| [472](#L472) | { |
| [473](#L473) | return wprss\_is\_wprss\_page(); |
| [474](#L474) | } |
| [475](#L475) |  |
| [476](#L476) |  |
| [477](#L477) | /\*\* |
| [478](#L478) | \* Filters used: |
| [479](#L479) | \* |
| [480](#L480) | \* - `wprss\_help\_default\_options` |
| [481](#L481) | \* |
| [482](#L482) | \* @param array $options Options that will overwrite defaults. |
| [483](#L483) | \*/ |
| [484](#L484) | public function \_\_construct( $options = array() ) { |
| [485](#L485) | $defaults = apply\_filters( 'wprss\_help\_default\_options', array( |
| [486](#L486) | 'tooltip\_id\_prefix'                         => 'wprss-tooltip-', |
| [487](#L487) | 'tooltip\_handle\_text'                       => '', |
| [488](#L488) | 'tooltip\_handle\_class'                      => 'wprss-tooltip-handle', // Used in logic to identify handle elements |
| [489](#L489) | 'tooltip\_handle\_class\_extra'        => 'fa fa-question-circle', // Not used in logic |
| [490](#L490) | 'tooltip\_content\_class'                     => 'wprss-tooltip-content', |
| [491](#L491) | 'tooltip\_class'                                     => 'wprss-ui-tooltip', // Overrides default jQuery UI class |
| [492](#L492) | 'is\_enqueue\_tooltip\_content'        => '0', |
| [493](#L493) | 'tooltip\_handle\_template'           => '%1$s/help-tooltip-handle.php', |
| [494](#L494) | 'tooltip\_content\_template'          => '%1$s/help-tooltip-content.php', |
| [495](#L495) | 'admin\_footer\_js\_template'          => '%1$s/help-footer-js.php', |
| [496](#L496) | 'tooltip\_not\_found\_handle\_html'     => '', |
| [497](#L497) | 'text\_domain'                                       => 'wprss' |
| [498](#L498) | )); |
| [499](#L499) | $db\_options = $this->get\_options\_db(); |
| [500](#L500) | $this->\_set\_options( $this->array\_merge\_recursive\_distinct( $db\_options, $defaults ) ); |
| [501](#L501) |  |
| [502](#L502) | $this->\_construct(); |
| [503](#L503) | } |
| [504](#L504) |  |
| [505](#L505) |  |
| [506](#L506) | /\*\* |
| [507](#L507) | \* Used for parameter-less extension of constructor logic |
| [508](#L508) | \*/ |
| [509](#L509) | protected function \_construct() { |
| [510](#L510) |  |
| [511](#L511) | } |
| [512](#L512) |  |
| [513](#L513) |  |
| [514](#L514) | /\*\* |
| [515](#L515) | \* Return an option value, or the whole array of internal options. |
| [516](#L516) | \* These options are a product of the defaults, the database, and anything |
| [517](#L517) | \* set later on, applied on top of each other and overwriting in that order. |
| [518](#L518) | \* |
| [519](#L519) | \* @param null|string $key The key of the option to return. |
| [520](#L520) | \* @param null|mixed $default What to return if options with the specified key not found. |
| [521](#L521) | \* @return array|mixed|null The option value, or an array of options. |
| [522](#L522) | \*/ |
| [523](#L523) | public function get\_options($key = null, $default = null) |
| [524](#L524) | { |
| [525](#L525) | $options = $this->\_options; |
| [526](#L526) |  |
| [527](#L527) | if (is\_null($key)) { |
| [528](#L528) | return $options; |
| [529](#L529) | } |
| [530](#L530) |  |
| [531](#L531) | if (is\_array($key)) { |
| [532](#L532) | return $this->array\_merge\_recursive\_distinct($options, $key); |
| [533](#L533) | } |
| [534](#L534) |  |
| [535](#L535) | return isset($options[$key]) ? $options[$key] : $default; |
| [536](#L536) | } |
| [537](#L537) |  |
| [538](#L538) | /\*\* |
| [539](#L539) | \* Set the value of an internal option or options. |
| [540](#L540) | \* Existing options will be overwritten. New options will be added. |
| [541](#L541) | \* Database options will not be modified. |
| [542](#L542) | \* |
| [543](#L543) | \* @param string|array $key The key of the option to set, or an array of options. |
| [544](#L544) | \* @param null|mixed $value The value of the option to set. |
| [545](#L545) | \* |
| [546](#L546) | \* @return WPRSS\_Help This instance. |
| [547](#L547) | \*/ |
| [548](#L548) | public function set\_options($key, $value = null) |
| [549](#L549) | { |
| [550](#L550) | if (is\_array($key)) { |
| [551](#L551) | foreach ($key as $\_key => $\_value) { |
| [552](#L552) | $this->\_set\_options($\_key, $\_value); |
| [553](#L553) | } |
| [554](#L554) |  |
| [555](#L555) | return $this; |
| [556](#L556) | } |
| [557](#L557) |  |
| [558](#L558) | $this->\_set\_options($key, $value); |
| [559](#L559) | } |
| [560](#L560) |  |
| [561](#L561) | /\*\* |
| [562](#L562) | \* Set an option value, or all options. |
| [563](#L563) | \* In latter case completely overrides the whole options array. |
| [564](#L564) | \* |
| [565](#L565) | \* @param string|array $key The key of the option to set, or the whole options array. |
| [566](#L566) | \* @param null|mixed $value Value of the option to set. |
| [567](#L567) | \* |
| [568](#L568) | \* @return WPRSS\_Help This instance. |
| [569](#L569) | \*/ |
| [570](#L570) | protected function \_set\_options($key, $value = null) |
| [571](#L571) | { |
| [572](#L572) | if (is\_array($key)) { |
| [573](#L573) | $this->\_options = $key; |
| [574](#L574) | return $this; |
| [575](#L575) | } |
| [576](#L576) |  |
| [577](#L577) | $this->\_options[$key] = $value; |
| [578](#L578) | return $this; |
| [579](#L579) | } |
| [580](#L580) |  |
| [581](#L581) |  |
| [582](#L582) | /\*\* |
| [583](#L583) | \* Returns a WPRSS\_Help option or options from the database. |
| [584](#L584) | \* |
| [585](#L585) | \* @param string $key The key of the option to return. |
| [586](#L586) | \* @param null|mixed $default What to return if option identified by $key is not found. |
| [587](#L587) | \* @return null|array|mixed The options or option value. |
| [588](#L588) | \*/ |
| [589](#L589) | public function get\_options\_db($key = null, $default = null) |
| [590](#L590) | { |
| [591](#L591) | $options = (array) get\_option(self::OPTION\_NAME, []); |
| [592](#L592) |  |
| [593](#L593) | if (is\_null($key)) { |
| [594](#L594) | return $options; |
| [595](#L595) | } |
| [596](#L596) |  |
| [597](#L597) | return isset($options[$key]) ? $options[$key] : $default; |
| [598](#L598) | } |
| [599](#L599) |  |
| [600](#L600) | /\*\* |
| [601](#L601) | \* Get content of a template. |
| [602](#L602) | \* |
| [603](#L603) | \* Filters used |
| [604](#L604) | \* |
| [605](#L605) | \* - `wprss\_help\_template\_path` |
| [606](#L606) | \* - `wprss\_help\_template\_vars` |
| [607](#L607) | \* |
| [608](#L608) | \* @param string $path Full path to the template |
| [609](#L609) | \* @param array $vars This will be passed to the template |
| [610](#L610) | \*/ |
| [611](#L611) | public function get\_template($path, $vars = []) |
| [612](#L612) | { |
| [613](#L613) | $vars = (array) $vars; |
| [614](#L614) |  |
| [615](#L615) | // Entry points |
| [616](#L616) | $path = apply\_filters('wprss\_help\_template\_path', $path, $vars); |
| [617](#L617) | $vars = apply\_filters('wprss\_help\_template\_vars', $vars, $path); |
| [618](#L618) |  |
| [619](#L619) | ob\_start(); |
| [620](#L620) | include($path); |
| [621](#L621) | $content = ob\_get\_contents(); |
| [622](#L622) | ob\_end\_clean(); |
| [623](#L623) |  |
| [624](#L624) | return $content; |
| [625](#L625) | } |
| [626](#L626) |  |
| [627](#L627) | /\*\* |
| [628](#L628) | \* This is called during the `admin\_enqueue\_scripts` action, and will |
| [629](#L629) | \* enqueue scripts needed for the backend. |
| [630](#L630) | \* |
| [631](#L631) | \* Filters used: |
| [632](#L632) | \* |
| [633](#L633) | \* - `wprss\_help\_admin\_scripts` |
| [634](#L634) | \* |
| [635](#L635) | \* @return WPRSS\_Help This instance. |
| [636](#L636) | \*/ |
| [637](#L637) | public function \_admin\_enqueue\_scripts() |
| [638](#L638) | { |
| [639](#L639) | if (!wprss\_is\_wprss\_page()) { |
| [640](#L640) | return $this; |
| [641](#L641) | } |
| [642](#L642) |  |
| [643](#L643) | $scripts = $this->apply\_filters('admin\_scripts', [ |
| [644](#L644) | 'jquery-ui-tooltip' => [], |
| [645](#L645) | ]); |
| [646](#L646) |  |
| [647](#L647) | foreach ($scripts as $\_handle => $\_args) { |
| [648](#L648) | // Allows numeric array with handles as values |
| [649](#L649) | if (is\_numeric($\_handle)) { |
| [650](#L650) | $\_handle = $\_args; |
| [651](#L651) | } |
| [652](#L652) |  |
| [653](#L653) | // Allows specifying null as value to simply enqueue handle |
| [654](#L654) | if (empty($\_args)) { |
| [655](#L655) | $\_args = []; |
| [656](#L656) | } |
| [657](#L657) |  |
| [658](#L658) | array\_unshift($\_args, $\_handle); |
| [659](#L659) | call\_user\_func\_array('wp\_enqueue\_script', $\_args); |
| [660](#L660) | } |
| [661](#L661) |  |
| [662](#L662) | return $this; |
| [663](#L663) | } |
| [664](#L664) |  |
| [665](#L665) | public function \_admin\_footer() |
| [666](#L666) | { |
| [667](#L667) | $html = $this->get\_enqueued\_tooltip\_content\_html() . "\n" . $this->get\_admin\_footer\_js\_html(); |
| [668](#L668) |  |
| [669](#L669) | // This should not be escaped! |
| [670](#L670) | echo $this->apply\_filters('admin\_footer', $html); |
| [671](#L671) | } |
| [672](#L672) |  |
| [673](#L673) | public function is\_overrides\_default\_prefix($string) |
| [674](#L674) | { |
| [675](#L675) | return strpos($string, self::OVERRIDE\_DEFAULT\_PREFIX) === 0; |
| [676](#L676) | } |
| [677](#L677) |  |
| [678](#L678) | /\*\* |
| [679](#L679) | \* Hashes all the given values into a single hash. |
| [680](#L680) | \* Accepts an infinite number of parameters, all of which will be first |
| [681](#L681) | \* glued together by a separator, then hashed. |
| [682](#L682) | \* Non-scalar values will be serialized. |
| [683](#L683) | \* |
| [684](#L684) | \* @param mixed $value The value to hash. |
| [685](#L685) | \* @param mixed $argN Other values to hash. |
| [686](#L686) | \* |
| [687](#L687) | \* @return string The hash. |
| [688](#L688) | \*/ |
| [689](#L689) | public function get\_hash($value) |
| [690](#L690) | { |
| [691](#L691) | $args = func\_get\_args(); |
| [692](#L692) | $glue = self::HASHING\_DELIMETER; |
| [693](#L693) |  |
| [694](#L694) | $blob = ''; |
| [695](#L695) | foreach ($args as $\_arg) { |
| [696](#L696) | $blob .= is\_scalar($\_arg) ? $\_arg : serialize($\_arg); |
| [697](#L697) | $blob .= $glue; |
| [698](#L698) | } |
| [699](#L699) |  |
| [700](#L700) | $blob = substr($blob, 0, -1); |
| [701](#L701) |  |
| [702](#L702) | return sha1($blob); |
| [703](#L703) | } |
| [704](#L704) |  |
| [705](#L705) | /\*\* |
| [706](#L706) | \* Get the class code prefix, or the specified prefixed with it. |
| [707](#L707) | \* |
| [708](#L708) | \* @param string $string A string to prefix. |
| [709](#L709) | \* |
| [710](#L710) | \* @return string The code prefix or the prefixed string. |
| [711](#L711) | \*/ |
| [712](#L712) | public function get\_code\_prefix($string = '') |
| [713](#L713) | { |
| [714](#L714) | return self::CODE\_PREFIX . (string) $string; |
| [715](#L715) | } |
| [716](#L716) |  |
| [717](#L717) | /\*\* |
| [718](#L718) | \* Optionally prefix a string with the class code prefix, unless it |
| [719](#L719) | \* contains the "!" character in the very beginning, in which case it will |
| [720](#L720) | \* simply be removed. |
| [721](#L721) | \* |
| [722](#L722) | \* @param string $string The string to consider for prefixing. |
| [723](#L723) | \* |
| [724](#L724) | \* @return string The prefixed or clean string. |
| [725](#L725) | \*/ |
| [726](#L726) | public function prefix($string) |
| [727](#L727) | { |
| [728](#L728) | return $this->is\_overrides\_default\_prefix($string) |
| [729](#L729) | ? substr($string, 1) |
| [730](#L730) | : $this->get\_code\_prefix($string); |
| [731](#L731) | } |
| [732](#L732) |  |
| [733](#L733) | /\*\* |
| [734](#L734) | \* Applies filters, but prefixes the filter name with 'wprss\_help\_', |
| [735](#L735) | \* unless '!' is specified as the first character of the filter. |
| [736](#L736) | \* |
| [737](#L737) | \* @param string $filter\_name Name or "tag" of the filter. |
| [738](#L738) | \* @param mixed $subject The value to apply filters to. |
| [739](#L739) | \* @param mixed $argN ,.. Additional filter arguments |
| [740](#L740) | \* |
| [741](#L741) | \* @return mixed Result of filtering |
| [742](#L742) | \*/ |
| [743](#L743) | public function apply\_filters($filter\_name, $subject, $argN = null) |
| [744](#L744) | { |
| [745](#L745) | $args = func\_get\_args(); |
| [746](#L746) | $args[0] = $this->prefix($filter\_name); |
| [747](#L747) |  |
| [748](#L748) | return call\_user\_func\_array('apply\_filters', $args); |
| [749](#L749) | } |
| [750](#L750) |  |
| [751](#L751) | /\*\* |
| [752](#L752) | \* Applies a filters with the specified name to the options that were |
| [753](#L753) | \* applied on top of defaults. |
| [754](#L754) | \* The name will be prefixed with the class prefix 'wprss\_help\_', and |
| [755](#L755) | \* suffixed with '\_options'. |
| [756](#L756) | \* |
| [757](#L757) | \* @param string $filter\_name Name of the filter to apply to the options |
| [758](#L758) | \* @param array $options The options to filter |
| [759](#L759) | \* @param mixed $filter\_argN ,.. Other filter arguments to be passed to filter |
| [760](#L760) | \*/ |
| [761](#L761) | public function apply\_options\_filters($filter\_name, $options = [], $filter\_argN = null) |
| [762](#L762) | { |
| [763](#L763) | $args = func\_get\_args(); |
| [764](#L764) |  |
| [765](#L765) | // Adding suffix to filter name |
| [766](#L766) | $args[0] = $filter\_name . self::OPTIONS\_FILTER\_SUFFIX; |
| [767](#L767) |  |
| [768](#L768) | // Applying default options |
| [769](#L769) | $args[1] = $this->get\_options($options); |
| [770](#L770) |  |
| [771](#L771) | // Entry point. Order of args is already correct. |
| [772](#L772) | return call\_user\_func\_array([$this, 'apply\_filters'], $args); |
| [773](#L773) | } |
| [774](#L774) |  |
| [775](#L775) | /\*\* |
| [776](#L776) | \* Parses the tooltip handle template path for placeholders. |
| [777](#L777) | \* |
| [778](#L778) | \* Filters used: |
| [779](#L779) | \* |
| [780](#L780) | \* - `wprss\_help\_admin\_footer\_js\_html\_template` |
| [781](#L781) | \* |
| [782](#L782) | \* @param null|string $path Optional path to parse and retrieve. Default: value of the 'admin\_footer\_js\_template' |
| [783](#L783) | \*     option. |
| [784](#L784) | \* |
| [785](#L785) | \* @return string Path to the template. |
| [786](#L786) | \*/ |
| [787](#L787) | public function get\_admin\_footer\_js\_html\_template($path = null) |
| [788](#L788) | { |
| [789](#L789) | // Default is from options |
| [790](#L790) | if (is\_null($path)) { |
| [791](#L791) | $path = $this->get\_options('admin\_footer\_js\_template'); |
| [792](#L792) | } |
| [793](#L793) |  |
| [794](#L794) | // Entry point |
| [795](#L795) | $path = $this->apply\_filters('admin\_footer\_js\_html\_template', $path); |
| [796](#L796) |  |
| [797](#L797) | return $this->parse\_path($path); |
| [798](#L798) | } |
| [799](#L799) |  |
| [800](#L800) | /\*\* |
| [801](#L801) | \* Get the HTML of the JavaScript for the footer in Admin Panel. |
| [802](#L802) | \* |
| [803](#L803) | \* Filters used: |
| [804](#L804) | \* |
| [805](#L805) | \* - `wprss\_help\_admin\_footer\_js\_html` |
| [806](#L806) | \* |
| [807](#L807) | \* @param array $options Any additional options to be used with defaults. |
| [808](#L808) | \* |
| [809](#L809) | \* @return string The HTML. |
| [810](#L810) | \*/ |
| [811](#L811) | public function get\_admin\_footer\_js\_html($options = []) |
| [812](#L812) | { |
| [813](#L813) | $options = $this->apply\_options\_filters('admin\_footer\_js\_html', $options); |
| [814](#L814) |  |
| [815](#L815) | $templatePath = $this->get\_admin\_footer\_js\_html\_template($options['admin\_footer\_js\_template']); |
| [816](#L816) |  |
| [817](#L817) | return $this->get\_template($templatePath, $options); |
| [818](#L818) | } |
| [819](#L819) |  |
| [820](#L820) | /\*\* |
| [821](#L821) | \* Parses the tooltip handle template path for placeholders. |
| [822](#L822) | \* |
| [823](#L823) | \* Filters used: |
| [824](#L824) | \* |
| [825](#L825) | \* - `wprss\_help\_tooltip\_handle\_html\_template` |
| [826](#L826) | \* |
| [827](#L827) | \* @param null|string $path Optional path to parse and retrieve. Default: value of the 'tooltip\_handle\_template' |
| [828](#L828) | \*     option. |
| [829](#L829) | \* |
| [830](#L830) | \* @return string Path to the template. |
| [831](#L831) | \*/ |
| [832](#L832) | public function get\_tooltip\_handle\_html\_template($path = null) |
| [833](#L833) | { |
| [834](#L834) | // Default is from options |
| [835](#L835) | if (is\_null($path)) { |
| [836](#L836) | $path = $this->get\_options('tooltip\_handle\_template'); |
| [837](#L837) | } |
| [838](#L838) |  |
| [839](#L839) | // Entry point |
| [840](#L840) | $path = $this->apply\_filters('tooltip\_handle\_html\_template', $path); |
| [841](#L841) |  |
| [842](#L842) | return $this->parse\_path($path); |
| [843](#L843) | } |
| [844](#L844) |  |
| [845](#L845) | /\*\* |
| [846](#L846) | \* Get the HTML of the tooltip handle. |
| [847](#L847) | \* |
| [848](#L848) | \* Filters used: |
| [849](#L849) | \* |
| [850](#L850) | \* - `wprss\_help\_tooltip\_handle\_html\_options` |
| [851](#L851) | \* |
| [852](#L852) | \* @param string $text Content of the tooltip text. |
| [853](#L853) | \* @param string $id ID of the tooltip. |
| [854](#L854) | \* @param array $options Any additional options to be used with defaults. |
| [855](#L855) | \* |
| [856](#L856) | \* @return string The HTML. |
| [857](#L857) | \*/ |
| [858](#L858) | public function get\_tooltip\_handle\_html($text, $id, $options = []) |
| [859](#L859) | { |
| [860](#L860) | $options = $this->apply\_options\_filters('tooltip\_handle\_html', $options, $text, $id); |
| [861](#L861) |  |
| [862](#L862) | // Add template variables |
| [863](#L863) | $options['tooltip\_id'] = $id; |
| [864](#L864) | $options['tooltip\_text'] = $text; |
| [865](#L865) |  |
| [866](#L866) | $templatePath = $this->get\_tooltip\_handle\_html\_template($options['tooltip\_handle\_template']); |
| [867](#L867) |  |
| [868](#L868) | return $this->get\_template($templatePath, $options); |
| [869](#L869) | } |
| [870](#L870) |  |
| [871](#L871) | /\*\* |
| [872](#L872) | \* Parses the tooltip content template path for placeholders. |
| [873](#L873) | \* |
| [874](#L874) | \* Filters used: |
| [875](#L875) | \* |
| [876](#L876) | \* - `wprss\_help\_tooltip\_content\_html\_template` |
| [877](#L877) | \* |
| [878](#L878) | \* @param null|string $path Optional path to parse and retrieve. Default: value of the 'tooltip\_handle\_template' |
| [879](#L879) | \*     option. |
| [880](#L880) | \* |
| [881](#L881) | \* @return string Path to the template. |
| [882](#L882) | \*/ |
| [883](#L883) | public function get\_tooltip\_content\_html\_template($path = null) |
| [884](#L884) | { |
| [885](#L885) | // Default is from options |
| [886](#L886) | if (is\_null($path)) { |
| [887](#L887) | $path = $this->get\_options('tooltip\_content\_template'); |
| [888](#L888) | } |
| [889](#L889) |  |
| [890](#L890) | // Entry point |
| [891](#L891) | $path = $this->apply\_filters('tooltip\_content\_html\_template', $path); |
| [892](#L892) |  |
| [893](#L893) | return $this->parse\_path($path); |
| [894](#L894) | } |
| [895](#L895) |  |
| [896](#L896) | /\*\* |
| [897](#L897) | \* Get the HTML of the tooltip content. |
| [898](#L898) | \* |
| [899](#L899) | \* Filters used: |
| [900](#L900) | \* |
| [901](#L901) | \* - `wprss\_help\_tooltip\_content\_html\_options` |
| [902](#L902) | \* |
| [903](#L903) | \* @param string $text Content of the tooltip text. |
| [904](#L904) | \* @param string $id ID of the tooltip. |
| [905](#L905) | \* @param array $options Any additional options to be used with defaults. |
| [906](#L906) | \* |
| [907](#L907) | \* @return string The HTML. |
| [908](#L908) | \*/ |
| [909](#L909) | public function get\_tooltip\_content\_html($text, $id, $options = []) |
| [910](#L910) | { |
| [911](#L911) | $options = $this->apply\_options\_filters('tooltip\_content\_html', $options, $text, $id); |
| [912](#L912) |  |
| [913](#L913) | // Add template variables |
| [914](#L914) | $options['tooltip\_id'] = $id; |
| [915](#L915) | $options['tooltip\_text'] = $text; |
| [916](#L916) |  |
| [917](#L917) | $templatePath = $this->get\_tooltip\_content\_html\_template($options['tooltip\_content\_template']); |
| [918](#L918) |  |
| [919](#L919) | return $this->get\_template($templatePath, $options); |
| [920](#L920) | } |
| [921](#L921) |  |
| [922](#L922) | /\*\* |
| [923](#L923) | \* Add tooltip and get tooltip HTML. |
| [924](#L924) | \* If $text is null, just get the HTML of tooltip with specified ID. |
| [925](#L925) | \* The `is\_enqueue\_tooltip\_content` option determines whether to enqueue |
| [926](#L926) | \* the content, instead of outputting it after the handle. |
| [927](#L927) | \* |
| [928](#L928) | \* @param string $id ID for this tooltip |
| [929](#L929) | \* @param string|null $text Text of this tooltip. If null, tooltip will not be added, but only retrieved. |
| [930](#L930) | \* @param array|bool $options The options for this operation, or a boolean indicating whether or not content is to be enqueued |
| [931](#L931) | \* @return string The tooltip handle and, optionally, content. |
| [932](#L932) | \*/ |
| [933](#L933) | public function tooltip($id, $text = null, $options = []) |
| [934](#L934) | { |
| [935](#L935) | $this->add\_tooltip($id, $text, $options); |
| [936](#L936) | return $this->do\_tooltip($id); |
| [937](#L937) | } |
| [938](#L938) |  |
| [939](#L939) | /\*\* |
| [940](#L940) | \* Add tooltips in a batch, with optionally prefixed ID. |
| [941](#L941) | \* |
| [942](#L942) | \* @param array $tooltips An array where key is tooltip ID and value is tooltip text. |
| [943](#L943) | \* @param string $prefix A prefix to add to all tooltip IDs. |
| [944](#L944) | \* @param array $options Arra of options for all the tooltips to add. |
| [945](#L945) | \* |
| [946](#L946) | \* @return \WPRSS\_Help |
| [947](#L947) | \*/ |
| [948](#L948) | public function add\_tooltips($tooltips, $prefix = null, $options = []) |
| [949](#L949) | { |
| [950](#L950) | $prefix = (string) $prefix; |
| [951](#L951) | if (!is\_array($options)) $options = []; |
| [952](#L952) |  |
| [953](#L953) | foreach ($tooltips as $\_id => $\_text) { |
| [954](#L954) | $this->add\_tooltip($prefix . $\_id, $\_text, $options); |
| [955](#L955) | } |
| [956](#L956) |  |
| [957](#L957) | return $this; |
| [958](#L958) | } |
| [959](#L959) |  |
| [960](#L960) | /\*\* |
| [961](#L961) | \* Add a tooltip for later display. |
| [962](#L962) | \* Text and options will be replaced by existing text and options, if they |
| [963](#L963) | \* are empty, and a tooltip with the same ID is already registered. |
| [964](#L964) | \* |
| [965](#L965) | \* @param string $id The ID of this tooltip |
| [966](#L966) | \* @param string $text Text for this tooltip |
| [967](#L967) | \* @param array $options Options for this tooltip. |
| [968](#L968) | \* |
| [969](#L969) | \* @return WPRSS\_Help This instance. |
| [970](#L970) | \*/ |
| [971](#L971) | public function add\_tooltip($id, $text = null, $options = []) |
| [972](#L972) | { |
| [973](#L973) | if ($tooltip = $this->get\_tooltip($id)) { |
| [974](#L974) | if (is\_null($text)) { |
| [975](#L975) | $text = isset($tooltip[self::TOOLTIP\_DATA\_KEY\_TEXT]) |
| [976](#L976) | ? $tooltip[self::TOOLTIP\_DATA\_KEY\_TEXT] |
| [977](#L977) | : $text; |
| [978](#L978) | } |
| [979](#L979) |  |
| [980](#L980) | if (empty($options)) { |
| [981](#L981) | $options = isset($tooltip[self::TOOLTIP\_DATA\_KEY\_OPTIONS]) |
| [982](#L982) | ? $tooltip[self::TOOLTIP\_DATA\_KEY\_OPTIONS] |
| [983](#L983) | : $options; |
| [984](#L984) | } |
| [985](#L985) | } |
| [986](#L986) |  |
| [987](#L987) | $this->set\_tooltip($id, $text, $options); |
| [988](#L988) |  |
| [989](#L989) | return $this; |
| [990](#L990) | } |
| [991](#L991) |  |
| [992](#L992) | /\*\* |
| [993](#L993) | \* Set a tooltip, existing or not. |
| [994](#L994) | \* |
| [995](#L995) | \* @param string $id The ID of this tooltip |
| [996](#L996) | \* @param string $text Text for this tooltip |
| [997](#L997) | \* @param array $options Options for this tooltip. |
| [998](#L998) | \* |
| [999](#L999) | \* @return WPRSS\_Help This instance. |
| [1000](#L1000) | \*/ |
| [1001](#L1001) | public function set\_tooltip($id, $text = null, $options = []) |
| [1002](#L1002) | { |
| [1003](#L1003) | $this->\_tooltips[$id] = [ |
| [1004](#L1004) | self::TOOLTIP\_DATA\_KEY\_ID => $id, |
| [1005](#L1005) | self::TOOLTIP\_DATA\_KEY\_TEXT => $text, |
| [1006](#L1006) | self::TOOLTIP\_DATA\_KEY\_OPTIONS => $options, |
| [1007](#L1007) | ]; |
| [1008](#L1008) |  |
| [1009](#L1009) | return $this; |
| [1010](#L1010) | } |
| [1011](#L1011) |  |
| [1012](#L1012) | /\*\* |
| [1013](#L1013) | \* Retrieve one tooltip, or an array containing all tooltips. |
| [1014](#L1014) | \* |
| [1015](#L1015) | \* @param string|null $id The ID of the tooltip to retrieve. |
| [1016](#L1016) | \* @param mixed|null $default What to return if tooltip with specified ID not found. |
| [1017](#L1017) | \* |
| [1018](#L1018) | \* @return array An array that contains the following indexes: 'id', 'text', 'options'. See {@link add\_tooltip()} |
| [1019](#L1019) | \*     for details. |
| [1020](#L1020) | \*/ |
| [1021](#L1021) | public function get\_tooltip($id = null, $default = null) |
| [1022](#L1022) | { |
| [1023](#L1023) | if (is\_null($id)) { |
| [1024](#L1024) | return $this->\_tooltips; |
| [1025](#L1025) | } |
| [1026](#L1026) |  |
| [1027](#L1027) | return $this->has\_tooltip($id) |
| [1028](#L1028) | ? $this->\_tooltips[$id] |
| [1029](#L1029) | : $default; |
| [1030](#L1030) | } |
| [1031](#L1031) |  |
| [1032](#L1032) | /\*\* |
| [1033](#L1033) | \* Check whether a tooltip with the specified ID exists. |
| [1034](#L1034) | \* |
| [1035](#L1035) | \* @param string $id ID of the tooltip to check for. |
| [1036](#L1036) | \* |
| [1037](#L1037) | \* @return boolean True if a tooltip with the specified ID exists; false otherwise. |
| [1038](#L1038) | \*/ |
| [1039](#L1039) | public function has\_tooltip($id) |
| [1040](#L1040) | { |
| [1041](#L1041) | return isset($this->\_tooltips[$id]); |
| [1042](#L1042) | } |
| [1043](#L1043) |  |
| [1044](#L1044) | /\*\* |
| [1045](#L1045) | \* Get registered tooltip HTML. |
| [1046](#L1046) | \* |
| [1047](#L1047) | \* Filters used: |
| [1048](#L1048) | \* |
| [1049](#L1049) | \*  - `wprss\_help\_tooltip\_options` - Filters options used for tooltip |
| [1050](#L1050) | \* |
| [1051](#L1051) | \* @param string $id ID for this tooltip |
| [1052](#L1052) | \* @param string $text Text of this tooltip |
| [1053](#L1053) | \* @param array|bool $options The options for this operation, or a boolean indicating whether or not content is to |
| [1054](#L1054) | \*     be enqueued |
| [1055](#L1055) | \* |
| [1056](#L1056) | \* @return string The tooltip handle and, optionally, content. |
| [1057](#L1057) | \*/ |
| [1058](#L1058) | public function do\_tooltip($id) |
| [1059](#L1059) | { |
| [1060](#L1060) | $options = $this->get\_options(); |
| [1061](#L1061) | $tooltip = $this->get\_tooltip($id); |
| [1062](#L1062) |  |
| [1063](#L1063) | $text = !empty($tooltip[self::TOOLTIP\_DATA\_KEY\_TEXT]) |
| [1064](#L1064) | ? $tooltip[self::TOOLTIP\_DATA\_KEY\_TEXT] |
| [1065](#L1065) | : null; |
| [1066](#L1066) |  |
| [1067](#L1067) | if (!$tooltip || empty($text)) { |
| [1068](#L1068) | return isset($options['tooltip\_not\_found\_handle\_html']) |
| [1069](#L1069) | ? $options['tooltip\_not\_found\_handle\_html'] |
| [1070](#L1070) | : null; |
| [1071](#L1071) | } |
| [1072](#L1072) |  |
| [1073](#L1073) | $options = isset($tooltip[self::TOOLTIP\_DATA\_KEY\_OPTIONS]) |
| [1074](#L1074) | ? $tooltip[self::TOOLTIP\_DATA\_KEY\_OPTIONS] |
| [1075](#L1075) | : null; |
| [1076](#L1076) |  |
| [1077](#L1077) | if (!is\_array($options)) { |
| [1078](#L1078) | $options = ['is\_enqueue\_tooltip\_content' => $options]; |
| [1079](#L1079) | } |
| [1080](#L1080) |  |
| [1081](#L1081) | // Entry point |
| [1082](#L1082) | $options = $this->apply\_options\_filters('tooltip', $options, $id, $text); |
| [1083](#L1083) |  |
| [1084](#L1084) | // Get handle HTML |
| [1085](#L1085) | $output = $this->get\_tooltip\_handle\_html($text, $id, $options); |
| [1086](#L1086) |  |
| [1087](#L1087) | if ($this->evaluate\_boolean($options['is\_enqueue\_tooltip\_content'])) { |
| [1088](#L1088) | $this->enqueue\_tooltip\_content($text, $id, $options); |
| [1089](#L1089) | } else { |
| [1090](#L1090) | $output .= $this->get\_tooltip\_content\_html($text, $id, $options); |
| [1091](#L1091) | } |
| [1092](#L1092) |  |
| [1093](#L1093) | return $output; |
| [1094](#L1094) | } |
| [1095](#L1095) |  |
| [1096](#L1096) | /\*\* |
| [1097](#L1097) | \* Enqueue tooltip content to be displayed in another part of the page. |
| [1098](#L1098) | \* |
| [1099](#L1099) | \* @param string $text The text of the tooltip content to enqueue. |
| [1100](#L1100) | \* @param string $id ID of the tooltip, the content of which to enqueue. |
| [1101](#L1101) | \* @param array $options This tooltip's options. |
| [1102](#L1102) | \* |
| [1103](#L1103) | \* @return \WP\_Error|\WPRSS\_Help This instance, or error if enqueue method is invalid. |
| [1104](#L1104) | \*/ |
| [1105](#L1105) | public function enqueue\_tooltip\_content($text, $id, $options = []) |
| [1106](#L1106) | { |
| [1107](#L1107) | $queue\_method = $this->apply\_filters('enqueue\_tooltip\_content\_method', [$this, '\_enqueue\_tooltip\_content'], |
| [1108](#L1108) | $options, $id, $text); |
| [1109](#L1109) |  |
| [1110](#L1110) | // "Error handling" WP style |
| [1111](#L1111) | if (!is\_callable($queue\_method)) { |
| [1112](#L1112) | $code = $this->prefix('invalid\_queue\_method'); |
| [1113](#L1113) | $msg = \_\_('Could not enqueue tooltip content: the queue method is not a valid callable.', 'wprss'); |
| [1114](#L1114) |  |
| [1115](#L1115) | return new WP\_Error($code, $msg, [ |
| [1116](#L1116) | 'queue\_method' => $queue\_method, |
| [1117](#L1117) | 'text' => $text, |
| [1118](#L1118) | 'id' => $id, |
| [1119](#L1119) | 'options' => $options, |
| [1120](#L1120) | ]); |
| [1121](#L1121) | } |
| [1122](#L1122) |  |
| [1123](#L1123) | call\_user\_func\_array($queue\_method, [$text, $id, $options]); |
| [1124](#L1124) |  |
| [1125](#L1125) | return $this; |
| [1126](#L1126) | } |
| [1127](#L1127) |  |
| [1128](#L1128) | public function \_enqueue\_tooltip\_content($text, $id, $options = []) |
| [1129](#L1129) | { |
| [1130](#L1130) | $hash = $this->get\_hash($text, $id, $options); |
| [1131](#L1131) | $this->\_enqueued\_tooltip\_content[$hash] = [ |
| [1132](#L1132) | self::TOOLTIP\_DATA\_KEY\_TEXT => $text, |
| [1133](#L1133) | self::TOOLTIP\_DATA\_KEY\_ID => $id, |
| [1134](#L1134) | self::TOOLTIP\_DATA\_KEY\_OPTIONS => $options, |
| [1135](#L1135) | ]; |
| [1136](#L1136) |  |
| [1137](#L1137) | return $this; |
| [1138](#L1138) | } |
| [1139](#L1139) |  |
| [1140](#L1140) | public function get\_enqueued\_tooltip\_content() |
| [1141](#L1141) | { |
| [1142](#L1142) | return $this->\_enqueued\_tooltip\_content; |
| [1143](#L1143) | } |
| [1144](#L1144) |  |
| [1145](#L1145) | public function get\_enqueued\_tooltip\_content\_html() |
| [1146](#L1146) | { |
| [1147](#L1147) | $output = ''; |
| [1148](#L1148) | foreach ($this->get\_enqueued\_tooltip\_content() as $\_vars) { |
| [1149](#L1149) | $options = is\_array($\_vars[self::TOOLTIP\_DATA\_KEY\_OPTIONS]) |
| [1150](#L1150) | ? $\_vars[self::TOOLTIP\_DATA\_KEY\_OPTIONS] |
| [1151](#L1151) | : []; |
| [1152](#L1152) |  |
| [1153](#L1153) | $output = $this->get\_tooltip\_content\_html( |
| [1154](#L1154) | $\_vars[self::TOOLTIP\_DATA\_KEY\_ID], |
| [1155](#L1155) | $\_vars[self::TOOLTIP\_DATA\_KEY\_ID], |
| [1156](#L1156) | $options |
| [1157](#L1157) | ); |
| [1158](#L1158) | } |
| [1159](#L1159) |  |
| [1160](#L1160) | // This should not be escaped! |
| [1161](#L1161) | echo $output; |
| [1162](#L1162) | } |
| [1163](#L1163) |  |
| [1164](#L1164) | /\*\* |
| [1165](#L1165) | \* Check whether or not the given value is false. |
| [1166](#L1166) | \* False values are all {@link empty()} values, and also strings 'false' and 'no'. |
| [1167](#L1167) | \* |
| [1168](#L1168) | \* @param mixed $value The value to check. |
| [1169](#L1169) | \* @return boolean Whether or not the value is considered to be false. |
| [1170](#L1170) | \*/ |
| [1171](#L1171) | public function evaluate\_boolean( $value ) { |
| [1172](#L1172) | return filter\_var($value, FILTER\_VALIDATE\_BOOLEAN); |
| [1173](#L1173) | } |
| [1174](#L1174) |  |
| [1175](#L1175) | /\*\* |
| [1176](#L1176) | \* Merge two arrays in an intuitive way. |
| [1177](#L1177) | \* Input arrays remain unchanged. |
| [1178](#L1178) | \* |
| [1179](#L1179) | \* @see http://php.net/manual/en/function.array-merge-recursive.php#92195 |
| [1180](#L1180) | \* |
| [1181](#L1181) | \* @param array $array1 The array to merge. |
| [1182](#L1182) | \* @param array $array2 The array to merge into. |
| [1183](#L1183) | \* |
| [1184](#L1184) | \* @return array The merged array. |
| [1185](#L1185) | \*/ |
| [1186](#L1186) | public function array\_merge\_recursive\_distinct(array &$array1, array &$array2) |
| [1187](#L1187) | { |
| [1188](#L1188) | $merged = $array1; |
| [1189](#L1189) |  |
| [1190](#L1190) | foreach ($array2 as $key => &$value) { |
| [1191](#L1191) | if (is\_array($value) && isset($merged[$key]) && is\_array($merged[$key])) { |
| [1192](#L1192) | $merged[$key] = $this->array\_merge\_recursive\_distinct($merged[$key], $value); |
| [1193](#L1193) | } else { |
| [1194](#L1194) | $merged[$key] = $value; |
| [1195](#L1195) | } |
| [1196](#L1196) | } |
| [1197](#L1197) |  |
| [1198](#L1198) | return $merged; |
| [1199](#L1199) | } |
| [1200](#L1200) |  |
| [1201](#L1201) | /\*\* |
| [1202](#L1202) | \* Converts an array to a numeric array. |
| [1203](#L1203) | \* If $map is empty, assumes that the array keys are already in order. |
| [1204](#L1204) | \* If $map is a number, assumes it's the amount of elements to return. |
| [1205](#L1205) | \* If $map is an array, assumes it is the map of intended numeric indexes to their value in the input array. |
| [1206](#L1206) | \* |
| [1207](#L1207) | \* @param array $array The array to convert to a numeric array |
| [1208](#L1208) | \* @param false|null|array $map The map of the array indexes, or number of array elements to slice, or nothing. |
| [1209](#L1209) | \* |
| [1210](#L1210) | \* @return array The resulting numeric array. |
| [1211](#L1211) | \*/ |
| [1212](#L1212) | public function array\_to\_numeric($array, $map = null) |
| [1213](#L1213) | { |
| [1214](#L1214) | $result = []; |
| [1215](#L1215) |  |
| [1216](#L1216) | // If map is not an array, assume it's an indicator |
| [1217](#L1217) | if (!is\_array($map)) { |
| [1218](#L1218) | $array = array\_values($array); |
| [1219](#L1219) | } |
| [1220](#L1220) |  |
| [1221](#L1221) | // If map is empty, assume keys are in order |
| [1222](#L1222) | if (empty($map)) { |
| [1223](#L1223) | return $array; |
| [1224](#L1224) | } |
| [1225](#L1225) |  |
| [1226](#L1226) | // If map is a number, assume it's the amount of elements to return |
| [1227](#L1227) | if (is\_numeric($map)) { |
| [1228](#L1228) | $map = intval($map); |
| [1229](#L1229) | return array\_slice($array, 0, $map); |
| [1230](#L1230) | } |
| [1231](#L1231) |  |
| [1232](#L1232) | foreach ($map as $\_idx => $\_key) { |
| [1233](#L1233) | $result[$\_idx] = $array[$\_key]; |
| [1234](#L1234) | } |
| [1235](#L1235) |  |
| [1236](#L1236) | return $result; |
| [1237](#L1237) | } |
| [1238](#L1238) |  |
| [1239](#L1239) | /\*\* |
| [1240](#L1240) | \* Parses the template and replaces placeholders with their values. |
| [1241](#L1241) | \* This function uses {@see sprintf()} to format the template string using |
| [1242](#L1242) | \* the values provided in $data. |
| [1243](#L1243) | \* It is also possible for $data to be an associative array of key-value pairs. |
| [1244](#L1244) | \* To achieve the same result, a map can be provided, mapping data keys to |
| [1245](#L1245) | \* their placeholder positions. |
| [1246](#L1246) | \* If no map is provided, |
| [1247](#L1247) | \* |
| [1248](#L1248) | \* @param string $string The template string. |
| [1249](#L1249) | \* @param array $data The key-value pairs of template data. |
| [1250](#L1250) | \* @param false|null|array $map {@see array\_to\_numeric()} The template value map. |
| [1251](#L1251) | \* |
| [1252](#L1252) | \* @return string The parsed and modified template. |
| [1253](#L1253) | \*/ |
| [1254](#L1254) | public function parse\_template($string, $data, $map = null) |
| [1255](#L1255) | { |
| [1256](#L1256) | $data = $this->array\_to\_numeric($data, $map); |
| [1257](#L1257) | array\_unshift($data, $string); |
| [1258](#L1258) | return call\_user\_func\_array('sprintf', $data); |
| [1259](#L1259) | } |
| [1260](#L1260) |  |
| [1261](#L1261) | /\*\* |
| [1262](#L1262) | \* Parses a path template specifically with WPRSS\_Help path placeholders. |
| [1263](#L1263) | \* |
| [1264](#L1264) | \* Filters used (in order): |
| [1265](#L1265) | \* |
| [1266](#L1266) | \*  1. `parse\_path\_data\_default`; |
| [1267](#L1267) | \*  2. `parse\_path\_data`; |
| [1268](#L1268) | \*  3. `parse\_path\_map`; |
| [1269](#L1269) | \*  4. `parse\_path\_path`. |
| [1270](#L1270) | \* |
| [1271](#L1271) | \* @see WPRSS\_Help::parse\_template() |
| [1272](#L1272) | \* |
| [1273](#L1273) | \* @param string $path The path to parse. |
| [1274](#L1274) | \* @param null|array $data Any additional data. Will be merged with defaults. |
| [1275](#L1275) | \* @param null|array $map The map for parsing. |
| [1276](#L1276) | \* |
| [1277](#L1277) | \* @return string The path with placeholders replaced |
| [1278](#L1278) | \*/ |
| [1279](#L1279) | public function parse\_path($path, $data = null, $map = null) |
| [1280](#L1280) | { |
| [1281](#L1281) | if (is\_null($data)) { |
| [1282](#L1282) | $data = []; |
| [1283](#L1283) | } |
| [1284](#L1284) |  |
| [1285](#L1285) | $defaults = $this->apply\_filters('parse\_path\_data\_default', [ |
| [1286](#L1286) | 'wprss\_templates\_dir' => wprss\_get\_templates\_dir(), |
| [1287](#L1287) | ]); |
| [1288](#L1288) | $data = $this->array\_merge\_recursive\_distinct($data, $defaults); |
| [1289](#L1289) | $data = $this->apply\_filters('parse\_path\_data', $data, $path, $map); |
| [1290](#L1290) | $map = $this->apply\_filters('parse\_path\_map', $map, $data, $path); |
| [1291](#L1291) | $path = $this->apply\_filters('parse\_path\_path', $path, $data, $map); |
| [1292](#L1292) |  |
| [1293](#L1293) | return $this->parse\_template($path, $data, $map); |
| [1294](#L1294) | } |
| [1295](#L1295) | } |
| [1296](#L1296) |  |
| [1297](#L1297) | WPRSS\_Help::init(); |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-rss-aggregator/trunk/includes/admin-help.php?format=txt)
* [Original Format](/export/3220202/wp-rss-aggregator/trunk/includes/admin-help.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

