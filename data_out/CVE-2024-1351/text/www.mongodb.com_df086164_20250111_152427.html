[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyjf3vea2hg34taa-horizontal_default_slate_blue.svg?auto=format%252Ccompress)](https://www.mongodb.com)

* ProductsPlatform[![atlas_product_family](https://webimages.mongodb.com/_com_assets/icons/atlas_product_family.svg)AtlasBuild on a developer data platform](https://www.mongodb.com/atlas)Platform Services[![atlas_database](https://webimages.mongodb.com/_com_assets/icons/atlas_database.svg)DatabaseDeploy a multi-cloud database](https://www.mongodb.com/products/platform/atlas-database)[![atlas_search](https://webimages.mongodb.com/_com_assets/icons/atlas_search.svg)SearchDeliver engaging search experiences](https://www.mongodb.com/products/platform/atlas-search)[![mdb_vector_search](https://webimages.mongodb.com/_com_assets/icons/mdb_vector_search.svg)Vector SearchDesign intelligent apps with gen AI](https://www.mongodb.com/products/platform/atlas-vector-search)[![atlas_stream_processing](https://webimages.mongodb.com/_com_assets/icons/atlas_stream_processing.svg)Stream ProcessingUnify data in motion and data at rest](https://www.mongodb.com/products/platform/atlas-stream-processing)Self Managed[![enterprise_advanced_product family](https://webimages.mongodb.com/_com_assets/icons/enterprise_advanced_product family.svg)Enterprise AdvancedRun and manage MongoDB yourself](https://www.mongodb.com/products/self-managed/enterprise-advanced)[![community_edition_product_family](https://webimages.mongodb.com/_com_assets/icons/community_edition_product_family.svg)Community EditionDevelop locally with MongoDB](https://www.mongodb.com/products/self-managed/community-edition)Tools[![mdb_compass](https://webimages.mongodb.com/_com_assets/icons/mdb_compass.svg)CompassWork with MongoDB data in a GUI](https://www.mongodb.com/products/tools/compass)[![atlas_integration](https://webimages.mongodb.com/_com_assets/icons/atlas_integration.svg)IntegrationsIntegrations with third-party services](https://cloud.mongodb.com/ecosystem/?filter=integration)[![mdb_migrator](https://webimages.mongodb.com/_com_assets/icons/mdb_migrator.svg)Relational MigratorMigrate to MongoDB with confidence](https://www.mongodb.com/products/tools/relational-migrator)[View All ProductsExplore our full developer suitearrow-right](https://www.mongodb.com/products)Build with MongoDB AtlasGet started for free in minutes[Sign Up](https://www.mongodb.com/cloud/atlas/register)Test Enterprise AdvancedDevelop with MongoDB on-premises[Download](https://www.mongodb.com/try/download/enterprise)Try Community EditionExplore the latest version of MongoDB[Download](https://www.mongodb.com/try/download/community)
* ResourcesDocumentation[Atlas DocumentationGet started using Atlas](https://www.mongodb.com/docs/atlas/)[Server DocumentationLearn to use MongoDB](https://www.mongodb.com/docs/manual/)[Start With GuidesGet step-by-step guidance for key tasks](https://www.mongodb.com/docs/guides/) [Tools and ConnectorsLearn how to connect to MongoDB](https://www.mongodb.com/docs/tools-and-connectors/)[MongoDB DriversUse drivers and libraries for MongoDB](https://www.mongodb.com/docs/drivers/)[Resources HubGet help building the next big thing with MongoDBarrow-right](https://www.mongodb.com/resources)Connect[![atlas_product_family](https://webimages.mongodb.com/_com_assets/icons/atlas_product_family.svg)Developer CenterExplore a wide range of developer resources](https://www.mongodb.com/developer/)[![general_events_ask_the_experts](https://webimages.mongodb.com/_com_assets/icons/general_events_ask_the_experts.svg)CommunityJoin a global community of developers](https://www.mongodb.com/community/)[![general_content_tutorial](https://webimages.mongodb.com/_com_assets/icons/general_content_tutorial.svg)Courses and CertificationLearn for free from MongoDB](https://learn.mongodb.com/)[![general_events_session](https://webimages.mongodb.com/_com_assets/icons/general_events_session.svg)Events and WebinarsFind an event or webinar near you](https://www.mongodb.com/events)
* SolutionsUse cases[Artificial Intelligence](https://www.mongodb.com/solutions/use-cases/artificial-intelligence)[Edge Computing](https://www.mongodb.com/use-cases/atlas-for-the-edge)[Internet of Things](https://www.mongodb.com/solutions/use-cases/internet-of-things)[Mobile](https://www.mongodb.com/solutions/use-cases/mobile)[Payments](https://www.mongodb.com/solutions/use-cases/payments)[Serverless Development](https://www.mongodb.com/solutions/use-cases/serverless)Industries[Financial Services](https://www.mongodb.com/solutions/industries/financial-services)[Telecommunications](https://www.mongodb.com/solutions/industries/telecommunications)[Healthcare](https://www.mongodb.com/solutions/industries/healthcare)[Retail](https://www.mongodb.com/solutions/industries/retail)[Public Sector](https://www.mongodb.com/solutions/industries/public-sector)[Manufacturing](https://www.mongodb.com/solutions/industries/manufacturing)[Solutions LibraryOrganized and tailored solutions to kick-start projectsarrow-right](https://www.mongodb.com/solutions/solutions-library)Developer Data PlatformAccelerate innovation at scale[Learn morearrow-right](https://www.mongodb.com/solutions/developer-data-platform)Startups and AI InnovatorsFor world-changing ideas and AI pioneers[Learn morearrow-right](https://www.mongodb.com/solutions/startups)Customer Case StudiesHear directly from our users[See Storiesarrow-right](https://www.mongodb.com/library/customer-case-studies)
* Company[CareersStart your next adventure](https://www.mongodb.com/company/careers)[BlogRead articles and announcements](https://www.mongodb.com/blog)[NewsroomRead press releases and news stories](https://www.mongodb.com/company/newsroom)[PartnersLearn about our partner ecosystem](https://www.mongodb.com/company/partners)[LeadershipMeet our executive team](https://www.mongodb.com/company/leadership)[CompanyLearn more about who we are](https://www.mongodb.com/company)Contact UsReach out to MongoDB[Letâs chatarrow-right](https://www.mongodb.com/company/contact)InvestorsVisit our investor portal[Learn morearrow-right](https://investors.mongodb.com/)
* [Pricing](https://www.mongodb.com/pricing)

![Language Selector Icon](https://webimages.mongodb.com/_com_assets/cms/lvz91dv3bugodsyau-language-selector-globe.svg?auto=format%252Ccompress)Eng[Support](https://www.mongodb.com/services/support)[Sign In](https://account.mongodb.com/account/login)[Try Free](https://www.mongodb.com/cloud/atlas/register)menu-vertical[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyjf3vea2hg34taa-horizontal_default_slate_blue.svg?auto=format%252Ccompress)](https://www.mongodb.com)[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyj3d95v5vbmm2f4-horizontal_white.svg?auto=format%252Ccompress)](https://www.mongodb.com)

* ProductsPlatform[![atlas_product_family](https://webimages.mongodb.com/_com_assets/icons/atlas_product_family_inverse.svg)AtlasBuild on a developer data platform](https://www.mongodb.com/atlas)Platform Services[![atlas_database](https://webimages.mongodb.com/_com_assets/icons/atlas_database_inverse.svg)DatabaseDeploy a multi-cloud database](https://www.mongodb.com/products/platform/atlas-database)[![atlas_search](https://webimages.mongodb.com/_com_assets/icons/atlas_search_inverse.svg)SearchDeliver engaging search experiences](https://www.mongodb.com/products/platform/atlas-search)[![mdb_vector_search](https://webimages.mongodb.com/_com_assets/icons/mdb_vector_search_inverse.svg)Vector SearchDesign intelligent apps with gen AI](https://www.mongodb.com/products/platform/atlas-vector-search)[![atlas_stream_processing](https://webimages.mongodb.com/_com_assets/icons/atlas_stream_processing_inverse.svg)Stream ProcessingUnify data in motion and data at rest](https://www.mongodb.com/products/platform/atlas-stream-processing)Self Managed[![enterprise_advanced_product family](https://webimages.mongodb.com/_com_assets/icons/enterprise_advanced_product family_inverse.svg)Enterprise AdvancedRun and manage MongoDB yourself](https://www.mongodb.com/products/self-managed/enterprise-advanced)[![community_edition_product_family](https://webimages.mongodb.com/_com_assets/icons/community_edition_product_family_inverse.svg)Community EditionDevelop locally with MongoDB](https://www.mongodb.com/products/self-managed/community-edition)Tools[![mdb_compass](https://webimages.mongodb.com/_com_assets/icons/mdb_compass_inverse.svg)CompassWork with MongoDB data in a GUI](https://www.mongodb.com/products/tools/compass)[![atlas_integration](https://webimages.mongodb.com/_com_assets/icons/atlas_integration_inverse.svg)IntegrationsIntegrations with third-party services](https://cloud.mongodb.com/ecosystem/?filter=integration)[![mdb_migrator](https://webimages.mongodb.com/_com_assets/icons/mdb_migrator_inverse.svg)Relational MigratorMigrate to MongoDB with confidence](https://www.mongodb.com/products/tools/relational-migrator)[View All ProductsExplore our full developer suitearrow-right](https://www.mongodb.com/products)Build with MongoDB AtlasGet started for free in minutes[Sign Up](https://www.mongodb.com/cloud/atlas/register)Test Enterprise AdvancedDevelop with MongoDB on-premises[Download](https://www.mongodb.com/try/download/enterprise)Try Community EditionExplore the latest version of MongoDB[Download](https://www.mongodb.com/try/download/community)
* ResourcesDocumentation[Atlas DocumentationGet started using Atlas](https://www.mongodb.com/docs/atlas/)[Server DocumentationLearn to use MongoDB](https://www.mongodb.com/docs/manual/)[Start With GuidesGet step-by-step guidance for key tasks](https://www.mongodb.com/docs/guides/) [Tools and ConnectorsLearn how to connect to MongoDB](https://www.mongodb.com/docs/tools-and-connectors/)[MongoDB DriversUse drivers and libraries for MongoDB](https://www.mongodb.com/docs/drivers/)[Resources HubGet help building the next big thing with MongoDBarrow-right](https://www.mongodb.com/resources)Connect[![atlas_product_family](https://webimages.mongodb.com/_com_assets/icons/atlas_product_family_inverse.svg)Developer CenterExplore a wide range of developer resources](https://www.mongodb.com/developer/)[![general_events_ask_the_experts](https://webimages.mongodb.com/_com_assets/icons/general_events_ask_the_experts_inverse.svg)CommunityJoin a global community of developers](https://www.mongodb.com/community/)[![general_content_tutorial](https://webimages.mongodb.com/_com_assets/icons/general_content_tutorial_inverse.svg)Courses and CertificationLearn for free from MongoDB](https://learn.mongodb.com/)[![general_events_session](https://webimages.mongodb.com/_com_assets/icons/general_events_session_inverse.svg)Events and WebinarsFind an event or webinar near you](https://www.mongodb.com/events)
* SolutionsUse cases[Artificial Intelligence](https://www.mongodb.com/solutions/use-cases/artificial-intelligence)[Edge Computing](https://www.mongodb.com/use-cases/atlas-for-the-edge)[Internet of Things](https://www.mongodb.com/solutions/use-cases/internet-of-things)[Mobile](https://www.mongodb.com/solutions/use-cases/mobile)[Payments](https://www.mongodb.com/solutions/use-cases/payments)[Serverless Development](https://www.mongodb.com/solutions/use-cases/serverless)Industries[Financial Services](https://www.mongodb.com/solutions/industries/financial-services)[Telecommunications](https://www.mongodb.com/solutions/industries/telecommunications)[Healthcare](https://www.mongodb.com/solutions/industries/healthcare)[Retail](https://www.mongodb.com/solutions/industries/retail)[Public Sector](https://www.mongodb.com/solutions/industries/public-sector)[Manufacturing](https://www.mongodb.com/solutions/industries/manufacturing)[Solutions LibraryOrganized and tailored solutions to kick-start projectsarrow-right](https://www.mongodb.com/solutions/solutions-library)Developer Data PlatformAccelerate innovation at scale[Learn morearrow-right](https://www.mongodb.com/solutions/developer-data-platform)Startups and AI InnovatorsFor world-changing ideas and AI pioneers[Learn morearrow-right](https://www.mongodb.com/solutions/startups)Customer Case StudiesHear directly from our users[See Storiesarrow-right](https://www.mongodb.com/library/customer-case-studies)
* Company[CareersStart your next adventure](https://www.mongodb.com/company/careers)[BlogRead articles and announcements](https://www.mongodb.com/blog)[NewsroomRead press releases and news stories](https://www.mongodb.com/company/newsroom)[PartnersLearn about our partner ecosystem](https://www.mongodb.com/company/partners)[LeadershipMeet our executive team](https://www.mongodb.com/company/leadership)[CompanyLearn more about who we are](https://www.mongodb.com/company)Contact UsReach out to MongoDB[Letâs chatarrow-right](https://www.mongodb.com/company/contact)InvestorsVisit our investor portal[Learn morearrow-right](https://investors.mongodb.com/)
* [Pricing](https://www.mongodb.com/pricing)

![Language Selector Icon](https://webimages.mongodb.com/_com_assets/cms/lzsle5raf6v32fw36-language-selector-globe-dark-mode.svg?auto=format%252Ccompress)Eng[Support](https://www.mongodb.com/services/support)[Sign In](https://account.mongodb.com/account/login)[Try Free](https://www.mongodb.com/cloud/atlas/register)menu-vertical[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyj3d95v5vbmm2f4-horizontal_white.svg?auto=format%252Ccompress)](https://www.mongodb.com)

* [Docs Home](https://www.mongodb.com/docs/)

---

* [MongoDB Manual](/docs/v5.0/)
5.0* [Introduction](/docs/v5.0/introduction/)
* [CRUD Operations](/docs/v5.0/crud/)
* [Aggregation Operations](/docs/v5.0/aggregation/)
* [Indexes](/docs/v5.0/indexes/)
* [Atlas Search](https://www.mongodb.com/docs/atlas/atlas-search/?tck=docs_server_toc)
* [Atlas Vector Search](https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-overview/?tck=docs_server_toc)
* [Time Series](/docs/v5.0/core/timeseries-collections/)
* [Change Streams](/docs/v5.0/changeStreams/)
* [Transactions](/docs/v5.0/core/transactions/)
* Data Modeling
* [Replication](/docs/v5.0/replication/)
* [Sharding](/docs/v5.0/sharding/)
* [Storage](/docs/v5.0/storage/)
* [Administration](/docs/v5.0/administration/)
* [Security](/docs/v5.0/security/)
* [Self-Managed Deployments](/docs/v5.0/self-managed-deployments/)
* FAQ
* Reference
* [Release Notes](/docs/v5.0/release-notes/)
* [5.0](/docs/v5.0/release-notes/5.0/)
* [Compatibility Changes](/docs/v5.0/release-notes/5.0-compatibility/)
* Upgrade 4.4 to 5.0
* [Downgrade 5.0 to 4.4](/docs/v5.0/release-notes/5.0-downgrade/)
* [Changelog](/docs/v5.0/release-notes/5.0-changelog/)
* [Versioning](/docs/v5.0/reference/versioning/)
* [Technical Support](/docs/v5.0/support/)

Docs MenuAsk MongoDB AIRate This Page[Docs Home](https://www.mongodb.com/docs/) / [MongoDB Manual](/docs/v5.0/) / [Release Notes](/docs/v5.0/release-notes/)
# Release Notes for MongoDB 5.0

On this page

* [Patch Releases](#patch-releases)
* [Time Series Collections](#time-series-collections)
* [Aggregation](#aggregation)
* [Auditing](#auditing)
* [Capped Collections](#capped-collections)
* [Change Streams](#change-streams)
* [Indexes](#indexes)
* [Removed Commands](#removed-commands)
* [Replica Sets](#replica-sets)
* [Security](#security)
* [Sharded Clusters](#sharded-clusters)
* [Shell Changes](#shell-changes)
* [Snapshots](#snapshots)
* [Transactions](#transactions)
* [Naming Changes](#naming-changes)
* [General Changes](#general-changes)
* [Performance Considerations](#performance-considerations)
* [Platform Support](#platform-support)
* [Changes Affecting Compatibility](#changes-affecting-compatibility)
* [Upgrade Procedures](#upgrade-procedures)
* [Downgrade Consideration](#downgrade-consideration)
* [Download](#download)
* [Known Issues](#known-issues)
* [Report an Issue](#report-an-issue)
MongoDB 5.0 is end of life as of October 2024. This version of the documentation is no longer
supported. To upgrade your 5.0 deployment, see the [MongoDB 6.0 upgrade procedures](https://www.mongodb.com/docs/manual/release-notes/6.0/#upgrade-procedures).
## Note

MongoDB 5.0 Released July 13, 2021

## Patch Releases

## Warning

### **Past Release Limitations**

The Critical Advisories below affect some prior MongoDB versions. If your
deployment depends on features impacted by a Critical Advisory, upgrade to
the latest available patch release.

| Issue | Affected Versions |
| --- | --- |
| [WT-7984](https://jira.mongodb.org/browse/WT-7984) | 5.0.0 - 5.0.2 |
| [WT-7995](https://jira.mongodb.org/browse/WT-7995) | 5.0.0 - 5.0.2 |
| [WT-10461](https://jira.mongodb.org/browse/WT-10461) | 5.0.0 - 5.0.14 (ARM64 or POWER system architectures) |
| [WT-10551](https://jira.mongodb.org/browse/WT-10551) | 5.0.2 - 5.0.17 (Incremental backups on Ops Manager or Cloud Manager clusters) |
| [SERVER-58936](https://jira.mongodb.org/browse/SERVER-58936) | 5.0.0 - 5.0.1 |
| [SERVER-60176](https://jira.mongodb.org/browse/SERVER-60176) | 5.0.0 - 5.0.21 |
| [SERVER-68511](https://jira.mongodb.org/browse/SERVER-68511) | 5.0.0 - 5.0.10 |
| [SERVER-77506](https://jira.mongodb.org/browse/SERVER-77506) | 5.0.0 - 5.0.23 |
| [SERVER-80203](https://jira.mongodb.org/browse/SERVER-80203) | 5.0.6 - 5.0.21 (Time Series collections sharded by metaField embedded objects) |
| [SERVER-82353](https://jira.mongodb.org/browse/SERVER-82353) | 5.0.0 - 5.0.24 |
| [SERVER-86622](https://jira.mongodb.org/browse/SERVER-86622) | 5.0.0 - 5.0.25 |

### 5.0.30 - Oct 24, 2024

## Important

### **Improper neutralization of null bytes may lead to buffer over-reads in MongoDB Server**

In MongoDB 5.0 prior to 5.0.30, an authorized user may trigger crashes or
receive the contents of buffer over-reads of Server memory by
issuing specially crafted requests that construct malformed BSON
in the MongoDB Server.

This issue affects MongoDB Server versions:

* 5.0.0 - 5.0.29
* 6.0.0 - 6.0.18
* 7.0.0 - 7.0.14
* 8.0.0 - 8.0.2

* [SERVER-96419](https://jira.mongodb.org/browse/SERVER-96419) Improper neutralization of null bytes may lead
  to buffer over-reads in MongoDB Server
* [All JIRA issues closed in 5.0.30](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.30)
* [5.0.30 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.30-changelog)

### 5.0.29 - Sep 30, 2024

## Important

### **Fix for CSFLE and Queryable Encryption self-lookup may send values in subpipelines as plaintext instead of ciphertext**

Due to CVE-2024-8013, in MongoDB 5.0 prior to 5.0.28, a bug in query analysis of
certain complex self-referential [`$lookup`](/docs/v5.0/reference/operator/aggregation/lookup/#mongodb-pipeline-pipe.-lookup) subpipelines
may result in literal values in expressions for encrypted fields
being sent to the server malformed.

Should this occur, no documents are returned or written.
This issue affects the `mongocryptd` binary and `mongo_crypt_v1`
shared library in the following MongoDB Server versions:

* 7.3.0 - 7.3.3
* 7.0.0 - 7.0.11
* 6.0.0 - 6.0.16
* 5.0.0 - 5.0.28

**CVSS Score**: 2.2

**CWE**: CWE-319: Cleartext Transmission of Sensitive Information

* [SERVER-96254](https://jira.mongodb.org/browse/SERVER-96254) CSFLE and Queryable Encryption self-lookup may
  fail to encrypt values in subpipelines
* [SERVER-59831](https://jira.mongodb.org/browse/SERVER-59831) WTUniqueIndex::\_insert expects
  secondaries to pass in dupsAllowed=true
* [SERVER-76777](https://jira.mongodb.org/browse/SERVER-76777) Deadlock between index build external
  abort and self abort
* [SERVER-88750](https://jira.mongodb.org/browse/SERVER-88750) Add "bypassEmptyTsReplacement" param to
  insert, update, findAndModify, and bulkWrite
* [SERVER-91223](https://jira.mongodb.org/browse/SERVER-91223) $log gives incorrect calculation with Decimal128
* [WT-8771](https://jira.mongodb.org/browse/WT-8771) Checkpoint cleanup to dirty obsolete page
  with overflow items
* [All JIRA issues closed in 5.0.29](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.29)
* [5.0.29 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.29-changelog)

### 5.0.28 - Jul 15, 2024

* [SERVER-63198](https://jira.mongodb.org/browse/SERVER-63198) Prevent shutdown command from hanging
* [SERVER-90747](https://jira.mongodb.org/browse/SERVER-90747) Handle $elemMatch with empty path in plan enumerator
  correctly
* [SERVER-91362](https://jira.mongodb.org/browse/SERVER-91362) Performance: Do not copy JS "scope" object if a cached
  JsExecution exists
* [SERVER-91562](https://jira.mongodb.org/browse/SERVER-91562) [5.0] IndexDescriptor::compareIndexOptions treats no
  unique/sparse as not identical to unique:false/sparse:false
* [WT-10807](https://jira.mongodb.org/browse/WT-10807) Skip in-memory deleted pages as part of the tree walk
* [All JIRA issues closed in 5.0.28](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.28)
* [5.0.28 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.28-changelog)

### 5.0.27 - Jun 04, 2024

* [SERVER-78556](https://jira.mongodb.org/browse/SERVER-78556) Return default of internalInsertMaxBatchSize to 64
* [SERVER-79637](https://jira.mongodb.org/browse/SERVER-79637) Incorrect query results in $lookup with TS foreign
  collection using a correlated predicate
* [SERVER-80363](https://jira.mongodb.org/browse/SERVER-80363) server default writeConcern is not honored when wtimeout
  is set
* [SERVER-86474](https://jira.mongodb.org/browse/SERVER-86474) $\_internalApplyOplogUpdate with $set: { foo: Timestamp(0, 0) }
  is not replicated correctly
* [SERVER-86648](https://jira.mongodb.org/browse/SERVER-86648) Resumable index build sorter files are not fsynced on shutdown
* [All JIRA issues closed in 5.0.27](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.27)
* [5.0.27 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.27-changelog)

### 5.0.26 - Mar 26, 2024

* [SERVER-68128](https://jira.mongodb.org/browse/SERVER-68128) Exceptions thrown while generating command response lead
  to network error
* [SERVER-72703](https://jira.mongodb.org/browse/SERVER-72703) Downgrade $out's db lock to MODE\_IX
* [SERVER-83602](https://jira.mongodb.org/browse/SERVER-83602) $or -> $in MatchExpression rewrite should not generate
  $or directly nested in another $or
* [SERVER-86717](https://jira.mongodb.org/browse/SERVER-86717) Resharding should validate user provided zone range
  doesn't include $-prefixed fields.
* [WT-11062](https://jira.mongodb.org/browse/WT-11062) Safe free the ref addr to allow concurrent access
* [All JIRA issues closed in 5.0.26](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.26)
* [5.0.26 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.26-changelog)

### 5.0.25 - Feb 28, 2024

## Important

### **Fix for MongoDB Server may allow successful untrusted connection**

Due to CVE-2024-1351, in MongoDB 5.0 prior to 5.0.25, under certain
configurations of [`--tlsCAFile`](/docs/v5.0/reference/program/mongod/#std-option-mongod.--tlsCAFile) and
[`CAFile`](/docs/v5.0/reference/configuration-options/#mongodb-setting-net.tls.CAFile), MongoDB Server may skip peer certificate
validation which may result in untrusted connections to succeed.

This may effectively reduce the security guarantees provided by TLS
and open connections that should have been closed due to failing
certificate validation. This issue affects the following MongoDB
Server versions:

* 7.0.0 - 7.0.5
* 6.0.0 - 6.0.13
* 5.0.0 - 5.0.24
* 4.4.0 - 4.4.28

**CVSS Score**: 8.8

**CWE**: CWE-295: Improper Certificate Validation

* [SERVER-64444](https://jira.mongodb.org/browse/SERVER-64444) listIndexes fails on invalid pre-5.0 index spec
  after upgrade
* [SERVER-82353](https://jira.mongodb.org/browse/SERVER-82353) Multi-document transactions can miss documents
  when movePrimary runs concurrently
* [SERVER-83564](https://jira.mongodb.org/browse/SERVER-83564) Make sure the process field is indexed in
  config.locks
* [SERVER-85419](https://jira.mongodb.org/browse/SERVER-85419) Balancer pollutes logs in case no suitable
  recipient is found during draining
* [WT-10017](https://jira.mongodb.org/browse/WT-10017) Remove the unstable historical versions at the
  end of rollback to stable
* [All JIRA issues closed in 5.0.25](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.25)
* [5.0.25 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.25-changelog)

### 5.0.24 - Jan 18, 2024

* [SERVER-50792](https://jira.mongodb.org/browse/SERVER-50792) Return more useful errors when a shard key index can't
  be found for shardCollection/refineCollectionShardKey
* [SERVER-77506](https://jira.mongodb.org/browse/SERVER-77506) Sharded multi-document transactions can mismatch data
  and ShardVersion
* [SERVER-81878](https://jira.mongodb.org/browse/SERVER-81878) startupRecoveryForRestore may not play nicely with
  collection drop applied during startup recovery
* [SERVER-83091](https://jira.mongodb.org/browse/SERVER-83091) $or query can trigger an infinite loop during plan
  enumeration
* [WT-7929](https://jira.mongodb.org/browse/WT-7929) Investigate a solution to avoid FTDC stalls during checkpoint
* [All JIRA issues closed in 5.0.24](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.24)
* [5.0.24 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.24-changelog)

### 5.0.23 - Nov 27, 2023

* [SERVER-78108](https://jira.mongodb.org/browse/SERVER-78108) POS interface should expose its shutdown state
* [SERVER-78115](https://jira.mongodb.org/browse/SERVER-78115) Shard primaries must commit a majority write before
  using new routing information from the config server
* [SERVER-83150](https://jira.mongodb.org/browse/SERVER-83150) Document::shred() does not copy document metadata
* [WT-11564](https://jira.mongodb.org/browse/WT-11564) Fix RTS to read the newest transaction value only when it
  exists in the checkpoint
* [WT-11602](https://jira.mongodb.org/browse/WT-11602) Hide expected eviction failures from the application and
  don't rollback in case of errors
* [All JIRA issues closed in 5.0.23](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.23)
* [5.0.23 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.23-changelog)

### 5.0.22 - Oct 26, 2023

* [SERVER-68548](https://jira.mongodb.org/browse/SERVER-68548) MongoDB Shell version 4.4.15 logging asio message despite
  --quiet flag
* [SERVER-80021](https://jira.mongodb.org/browse/SERVER-80021) Make $convert round-trip correctly between double and string
* [SERVER-80703](https://jira.mongodb.org/browse/SERVER-80703) Avoid traversing routing table in MigrationDestinationManager
* [SERVER-81106](https://jira.mongodb.org/browse/SERVER-81106) Recipient shard doesn't wait for the collection version
  to be locally persisted before starting the cloning phase
* [WT-11064](https://jira.mongodb.org/browse/WT-11064) Skip globally visible tombstones as part of update obsolete check
* [All JIRA issues closed in 5.0.22](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.22)
* [5.0.22 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.22-changelog)

### 5.0.21 - Sep 12, 2023

* [SERVER-60466](https://jira.mongodb.org/browse/SERVER-60466) Support drivers gossiping signed $clusterTimes to
  replica set --shardsvrs before addShard is run
* [SERVER-71627](https://jira.mongodb.org/browse/SERVER-71627) Refreshed cached collection route info will severely
  block all client request when a cluster with 1 million chunks
* [SERVER-78813](https://jira.mongodb.org/browse/SERVER-78813) Commit point propagation fails indefinitely with exhaust
  cursors with null lastCommitted optime
* [WT-10759](https://jira.mongodb.org/browse/WT-10759) Do not retry to force evict history store pages during
  reconciliation
* [WT-11051](https://jira.mongodb.org/browse/WT-11051) Fix newest start durable timestamp comparison in aggregate
  timestamp validation
* [All JIRA issues closed in 5.0.21](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.21)
* [5.0.21 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.21-changelog)

### 5.0.20 - Aug 14, 2023

* [SERVER-74954](https://jira.mongodb.org/browse/SERVER-74954) Incorrect result when contained $or rewrites $elemMatch
  extra condition
* [SERVER-78813](https://jira.mongodb.org/browse/SERVER-78813) Commit point propagation fails indefinitely with
  exhaust cursors with null lastCommitted optime
* [SERVER-79136](https://jira.mongodb.org/browse/SERVER-79136) Incorrect query result of $match + $group on metaField
  over time-series
* [WT-10449](https://jira.mongodb.org/browse/WT-10449) Do not save update chain when there are no updates to be
  written to the history store
* [WT-11031](https://jira.mongodb.org/browse/WT-11031) Fix RTS to skip tables with no time window information in
  the checkpoint
* [All JIRA issues closed in 5.0.20](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.20)
* [5.0.20 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.20-changelog)

### 5.0.19 - Jul 13, 2023

* [SERVER-71985](https://jira.mongodb.org/browse/SERVER-71985) Automatically retry time series insert on DuplicateKey
  error
* [SERVER-74551](https://jira.mongodb.org/browse/SERVER-74551) WriteConflictException unnecessarily logged as warning
  during findAndModify after upgrade to mongo 5.0
* [SERVER-77018](https://jira.mongodb.org/browse/SERVER-77018) Deadlock between dbStats and 2 index builds
* [SERVER-78126](https://jira.mongodb.org/browse/SERVER-78126) For specific kinds of input, mongo::Value() always
  hashes to the same result on big-endian platforms
* [WT-10253](https://jira.mongodb.org/browse/WT-10253) Run session dhandle sweep and session cursor sweep more
  often
* [All JIRA issues closed in 5.0.19](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.19)
* [5.0.19 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.19-changelog)

### 5.0.18 - May 18, 2023

Issues fixed:

* [SERVER-48196](https://jira.mongodb.org/browse/SERVER-48196) Upgrade the timelib to the latest to update the built-in timezone files to the latest
* [SERVER-54150](https://jira.mongodb.org/browse/SERVER-54150) Recovery from a stable checkpoint should fassert on oplog application failures
* [SERVER-57056](https://jira.mongodb.org/browse/SERVER-57056) Syslog severity set incorrectly for INFO messages
* [SERVER-72686](https://jira.mongodb.org/browse/SERVER-72686) Add support for $collStats agg stage on timeseries collection
* [WT-10551](https://jira.mongodb.org/browse/WT-10551) Incremental backup may omit modified blocks
* [All JIRA issues closed in 5.0.18](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.18)
* [5.0.18 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.18-changelog)

### 5.0.17 - Apr 27, 2023

Issues fixed:

* [SERVER-73229](https://jira.mongodb.org/browse/SERVER-73229) Logical sessions cache refresh ignores write errors
  from updating session document, leading to cursors being killed early
* [SERVER-74647](https://jira.mongodb.org/browse/SERVER-74647) Resharding state machine creation should be retried
  after interruption
* [SERVER-75261](https://jira.mongodb.org/browse/SERVER-75261) "listCollections" command fails with
  BSONObjectTooLarge error
* [SERVER-75431](https://jira.mongodb.org/browse/SERVER-75431) Get rid or fix best effort check for primary db
  on rename path in sharded clusters
* [SERVER-76098](https://jira.mongodb.org/browse/SERVER-76098) Allow queries with $search and non-simple collations
* [All JIRA issues closed in 5.0.17](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.17)
* [5.0.17 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.17-changelog)

### 5.0.16 - Apr 10, 2023

Issues fixed:

* [SERVER-61909](https://jira.mongodb.org/browse/SERVER-61909) Hang inserting or deleting document with large
  number of index entries
* [SERVER-73822](https://jira.mongodb.org/browse/SERVER-73822) Time-series $group rewrite ignores certain
  accumulators
* [SERVER-74345](https://jira.mongodb.org/browse/SERVER-74345) mongodb-org-server 4.4.19, 5.0.15, 6.0.5 not
  starting after upgrading from older version (Debian, RPM Packages)
* [SERVER-74501](https://jira.mongodb.org/browse/SERVER-74501) Fix MigrationBatchFetcher/Inserter completion
  reliance to not spawn an extra cleanup thread
* [SERVER-75205](https://jira.mongodb.org/browse/SERVER-75205) Deadlock between stepdown and restoring locks
  after yielding when all read tickets exhausted
* [All JIRA issues closed in 5.0.16](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.16)
* [5.0.16 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.16-changelog)

### 5.0.15 - Feb 27, 2023

Issues fixed:

* [SERVER-54900](https://jira.mongodb.org/browse/SERVER-54900) Blocking networking calls can delay sync-source resolution indefinitely
* [SERVER-72416](https://jira.mongodb.org/browse/SERVER-72416) The find and findAndModify projection code does not honor the collection level collation
* [SERVER-71759](https://jira.mongodb.org/browse/SERVER-71759) dataSize command doesn't yield
* [SERVER-72222](https://jira.mongodb.org/browse/SERVER-72222) MapReduce with single reduce optimization fails when merging results in sharded cluster
* [WT-9268](https://jira.mongodb.org/browse/WT-9268) Delay deletion of the history store record to reconciliation
* [All JIRA issues closed in 5.0.15](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.15)
* [5.0.15 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.15-changelog)

### 5.0.14 - Nov 21, 2022

Issues fixed:

* [SERVER-68477](https://jira.mongodb.org/browse/SERVER-68477) Improve NaN-handling for expireAfterSeconds TTL
  index parameter
* [SERVER-66289](https://jira.mongodb.org/browse/SERVER-66289) $out incorrectly throws BSONObj size error on
  v5.0.8
* [SERVER-61185](https://jira.mongodb.org/browse/SERVER-61185) Use prefix\_search for unique index lookup
* [SERVER-68115](https://jira.mongodb.org/browse/SERVER-68115) Bug fix for "elemMatchRootLength > 0" invariant
  trigger
* [SERVER-68139](https://jira.mongodb.org/browse/SERVER-68139) Resharding command fails if the projection sort
  is bigger than 100MB
* [All JIRA issues closed in 5.0.14](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.14)
* [5.0.14 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.14-changelog)

### 5.0.13 - Sep 29, 2022

Issues fixed:

* [SERVER-69611](https://jira.mongodb.org/browse/SERVER-69611) Set the -ffp-contract=off compiler option by
  default
* [SERVER-69220](https://jira.mongodb.org/browse/SERVER-69220) refineCollectionShardKey permits toggling
  current shard key fields between range-based and hashed, leading to
  data inconsistency
* [SERVER-67650](https://jira.mongodb.org/browse/SERVER-67650) Resharding recipient can return
  remainingOperationTimeEstimatedSecs=0 when the oplog applier hasn't
  caught up with the oplog fetcher
* [SERVER-68094](https://jira.mongodb.org/browse/SERVER-68094) Resharding with custom generated \_id fails with
  projection error
* [WT-9870](https://jira.mongodb.org/browse/WT-9870) Fix updating pinned timestamp whenever oldest
  timestamp is updated during recovery
* [All JIRA issues closed in 5.0.13](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.13)
* [5.0.13 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.13-changelog)

### 5.0.12 - Sep 05, 2022

Issues fixed:

* [SERVER-68925](https://jira.mongodb.org/browse/SERVER-68925) Reintroduce check table logging settings at
  startup (revert [SERVER-43664)](https://jira.mongodb.org/browse/SERVER-43664)
* [SERVER-63852](https://jira.mongodb.org/browse/SERVER-63852) getThreadName() should not crash
* [SERVER-60958](https://jira.mongodb.org/browse/SERVER-60958) Avoid server hang in chunk migration when
  step-down event occurs
* [SERVER-65382](https://jira.mongodb.org/browse/SERVER-65382) AutoSplitVector should not use clientReadable to
  reorder shard key fields
* [SERVER-63843](https://jira.mongodb.org/browse/SERVER-63843) Don't allow recursive doLog in synchronous
  signal handlers
* [All JIRA issues closed in 5.0.12](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.12)
* [5.0.12 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.12-changelog)

### 5.0.11 - Aug 19, 2022

Issues fixed:

* [SERVER-68511](https://jira.mongodb.org/browse/SERVER-68511) MovePrimary update of `config.databases` entry
  must use dotted fields notation
* [SERVER-61321](https://jira.mongodb.org/browse/SERVER-61321) Improve handling of large/NaN values for text
  index version
* [SERVER-60607](https://jira.mongodb.org/browse/SERVER-60607) Improve handling of large/NaN values for geo
  index version
* [SERVER-68628](https://jira.mongodb.org/browse/SERVER-68628) Retrying a failed resharding operation after a
  primary failover can lead to server crash or lost writes
* [SERVER-68522](https://jira.mongodb.org/browse/SERVER-68522) Prevent 5.0 binary from starting in fCV 4.4 with
  misconfigured TTL index
* [WT-9500](https://jira.mongodb.org/browse/WT-9500) Fix RTS to use cell time window instead of key/value
  timestamps of HS update
* [All JIRA issues closed in 5.0.11](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.11)
* [5.0.11 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.11-changelog)

### 5.0.10 - Jul 29, 2022

Issues fixed:

* [SERVER-66418](https://jira.mongodb.org/browse/SERVER-66418) Bad projection created during dependency
  analysis due to string order assumption
* [SERVER-65821](https://jira.mongodb.org/browse/SERVER-65821) Deadlock during setFCV when there are prepared
  transactions that have not persisted commit/abort decision
* [SERVER-65131](https://jira.mongodb.org/browse/SERVER-65131) Disable opportunistic read targeting (except for
  hedged reads)
* [SERVER-63971](https://jira.mongodb.org/browse/SERVER-63971) Change server parameter to default to
  read-your-writes behavior after 2PC transaction
* [SERVER-66433](https://jira.mongodb.org/browse/SERVER-66433) Backport deadline waiting for overlapping range
  deletion to finish to pre-v5.1 versions
* [All JIRA issues closed in 5.0.10](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.10)
* [5.0.10 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.10-changelog)

### 5.0.9 - May 31, 2022

Issues fixed:

* [SERVER-65636](https://jira.mongodb.org/browse/SERVER-65636) Remove limits on number of LDAP connections
  per host
* [SERVER-65137](https://jira.mongodb.org/browse/SERVER-65137) Detect namespace changes when refreshing
  Collection after yielding
* [SERVER-64822](https://jira.mongodb.org/browse/SERVER-64822) Sharding an empty collection releases the
  critical section too early
* [SERVER-62175](https://jira.mongodb.org/browse/SERVER-62175) Mongos fails to attach RetryableWrite Error
  Label For Command Interrupted In \_parseCommand
* [WT-9096](https://jira.mongodb.org/browse/WT-9096) Fix search near returning wrong key/value sometimes
  when key doesn't exist
* [All JIRA issues closed in 5.0.9](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.9)
* [5.0.9 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.9-changelog)

### 5.0.8 - Apr 25, 2022

Issues fixed:

* [SERVER-63531](https://jira.mongodb.org/browse/SERVER-63531) commitQuorum incorrectly includes
  buildIndexes:false nodes and error message incorrectly says that only
  voting nodes are eligible
* [SERVER-63387](https://jira.mongodb.org/browse/SERVER-63387) 1 StreamingCursor should return backup blocks in
  the order they were retrieved from the WiredTiger backup cursor
* [SERVER-62229](https://jira.mongodb.org/browse/SERVER-62229) Fix invariant when applying index build entries
  while recoverFromOplogAsStandalone=true
* [SERVER-61879](https://jira.mongodb.org/browse/SERVER-61879) Refreshes to recover migrations must never join
  ongoing refreshes
* [WT-8924](https://jira.mongodb.org/browse/WT-8924) Don't check against on disk time window if there is
  an insert list when checking for conflicts in row-store
* [All JIRA issues closed in 5.0.8](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.8)
* [5.0.8 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.8-changelog)

### 5.0.7 - Apr 11, 2022

Issues fixed:

* [SERVER-64517](https://jira.mongodb.org/browse/SERVER-64517) RecoverableCriticalSection is not properly
  recovered on startup
* [SERVER-64403](https://jira.mongodb.org/browse/SERVER-64403) Find queries with SORT\_MERGE collation-encode
  the missing sort attribute
* [SERVER-63742](https://jira.mongodb.org/browse/SERVER-63742) Default topology time in shard can lead to
  infinite refresh in shard registry
* [SERVER-60412](https://jira.mongodb.org/browse/SERVER-60412) Host memory limit check does not honor cgroups
  v2
* [WT-7922](https://jira.mongodb.org/browse/WT-7922) Handle missing WiredTiger version file
* [All JIRA issues closed in 5.0.7](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.7)
* [5.0.7 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.7-changelog)

### 5.0.6 - Jan 31, 2022

Issues fixed:

* [WT-8395](https://jira.mongodb.org/browse/WT-8395) Inconsistent data after upgrade from 4.4.3 and 4.4.4 to 4.4.8+ and 5.0.2+
* [SERVER-62245](https://jira.mongodb.org/browse/SERVER-62245) MigrationRecovery must not assume that only one migration needs to be recovered
* [SERVER-61427](https://jira.mongodb.org/browse/SERVER-61427) Unique index builds can cause a loss of availability during commit due to checking many false duplicates
* [SERVER-61194](https://jira.mongodb.org/browse/SERVER-61194) Prevent time-series bucket OID reuse with coarse granularity
* [SERVER-60310](https://jira.mongodb.org/browse/SERVER-60310) OCSP response validation should not consider statuses of irrelevant certificates
* [All JIRA issues closed in 5.0.6](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.6)
* [5.0.6 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.6-changelog)

### 5.0.5 - Dec 6, 2021

Issues fixed:

* [SERVER-61483](https://jira.mongodb.org/browse/SERVER-61483) Resharding coordinator fails to recover abort
  decision on step-up, attempts to commit operation as success, leading
  to data inconsistency
* [SERVER-59858](https://jira.mongodb.org/browse/SERVER-59858) Add observability for tasks scheduled on the
  reactor thread
* [SERVER-51329](https://jira.mongodb.org/browse/SERVER-51329) Unexpected non-retryable error when shutting
  down a mongos server
* [WT-8163](https://jira.mongodb.org/browse/WT-8163) Consider more eviction scenarios to give up
  checkpoint-cleanup
* [WT-7912](https://jira.mongodb.org/browse/WT-7912) Fix prefix search near optimisation to handle
  scenarios where the key range is split across pages.
* [All JIRA issues closed in 5.0.5](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.5)
* [5.0.5 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.5-changelog)

### 5.0.4 - Nov 15, 2021

Issues fixed:

* [SERVER-60326](https://jira.mongodb.org/browse/SERVER-60326) Windows Server fails to start when X509
  certificate has empty subject name
* [SERVER-59876](https://jira.mongodb.org/browse/SERVER-59876) Large delays in returning from libcrypto.so
  while establishing egress connections
* [SERVER-59456](https://jira.mongodb.org/browse/SERVER-59456) Start the LDAPReaper threadpool
* [SERVER-59226](https://jira.mongodb.org/browse/SERVER-59226) Deadlock when stepping down with a profile
  session marked as uninterruptible
* [SERVER-59074](https://jira.mongodb.org/browse/SERVER-59074) Do not acquire storage tickets just to set/wait
  on oplog visibility
* [All JIRA issues closed in 5.0.4](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.4)
* [5.0.4 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.4-changelog)

### 5.0.3 - Sep 21, 2021

Issues fixed:

* [SERVER-57667](https://jira.mongodb.org/browse/SERVER-57667): Improve processing speed for resharding's
  collection cloning pipeline
* [SERVER-57630](https://jira.mongodb.org/browse/SERVER-57630): Enable SSL\_OP\_NO\_RENEGOTIATION on Ubuntu 18.04
  when running against OpenSSL 1.1.1
* [WT-8005](https://jira.mongodb.org/browse/WT-8005): Fix a prepare commit bug that could leave the
  history store entry unresolved
* [WT-7995](https://jira.mongodb.org/browse/WT-7995): Fix the global visibility that it cannot go beyond
  checkpoint visibility
* [WT-7984](https://jira.mongodb.org/browse/WT-7984): Fix a bug that could cause a checkpoint to omit a
  page of data
* [All JIRA issues closed in 5.0.3](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2CTOOLS%2CWT)%20AND%20resolution%3D%27Fixed%27%20and%20fixversion%3D%275.0.3%27)
* [5.0.3 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.3-changelog)

### 5.0.2 - Aug 4, 2021

Issues fixed:

* [SERVER-58936](https://jira.mongodb.org/browse/SERVER-58936): Unique index constraints may not be enforced
* [SERVER-57756](https://jira.mongodb.org/browse/SERVER-57756): Race between concurrent stepdowns and applying
  transaction oplog entry
* [SERVER-54729](https://jira.mongodb.org/browse/SERVER-54729): MongoDB Enterprise Debian/Ubuntu packages
  should depend on libsasl2-modules and libsasl2-modules-gssapi-mit
* [SERVER-47372](https://jira.mongodb.org/browse/SERVER-47372): config.cache collections can remain even after
  collection has been dropped
* [WT-6729](https://jira.mongodb.org/browse/WT-6729): Quiesce eviction prior running rollback to stable's
  active transaction check
* [All JIRA issues closed in 5.0.2](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2CTOOLS%2CWT)%20AND%20resolution%3D%27Fixed%27%20and%20fixversion%3D%275.0.2%27)
* [5.0.2 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.2-changelog)

### 5.0.1 - Jul 22, 2021

Issues fixed:

* [SERVER-58489](https://jira.mongodb.org/browse/SERVER-58489): Collection creation stuck in an infinite
  writeConflictRetry loop when having a duplicate name as a view
* [SERVER-58171](https://jira.mongodb.org/browse/SERVER-58171): Changing time-series granularity does not
  update view definition
* [All JIRA issues closed in 5.0.1](https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2CTOOLS%2CWT)%20AND%20resolution%3D%27Fixed%27%20and%20fixversion%3D%275.0.1%27)
* [5.0.1 Changelog](/docs/v5.0/release-notes/5.0-changelog/#std-label-5.0.1-changelog)
### 5.0.0 - Jul 13, 2021

The rest of this page provides the 5.0.0 release notes:

## Time Series Collections

MongoDB 5.0 introduces [time series collections](/docs/v5.0/core/timeseries-collections/#std-label-manual-timeseries-collection) which efficiently store sequences of
measurements over a period of time. Compared to normal collections,
storing time series data in time series collections improves query
efficiency and reduces disk usage for your data and indexes.

## Aggregation

### New Aggregation Operators

MongoDB 5.0 introduces the following aggregation operators:

| Operator | Description |
| --- | --- |
| [`$count`](/docs/v5.0/reference/operator/aggregation/count-accumulator/#mongodb-group-grp.-count) | [`$count (aggregation accumulator)`](/docs/v5.0/reference/operator/aggregation/count-accumulator/#mongodb-group-grp.-count) provides a count of all documents when used in the existing pipeline [`$group (aggregation)`](/docs/v5.0/reference/operator/aggregation/group/#mongodb-pipeline-pipe.-group) stage and the new MongoDB 5.0 [`$setWindowFields`](/docs/v5.0/reference/operator/aggregation/setWindowFields/#mongodb-pipeline-pipe.-setWindowFields) stage.  The [`$count (aggregation accumulator)`](/docs/v5.0/reference/operator/aggregation/count-accumulator/#mongodb-group-grp.-count) is distinct from the [`$count (aggregation)`](/docs/v5.0/reference/operator/aggregation/count/#mongodb-pipeline-pipe.-count) pipeline stage. |
| [`$dateAdd`](/docs/v5.0/reference/operator/aggregation/dateAdd/#mongodb-expression-exp.-dateAdd) | Increments a [Date](/docs/v5.0/reference/method/Date/) object by a specified number of time units. |
| [`$dateDiff`](/docs/v5.0/reference/operator/aggregation/dateDiff/#mongodb-expression-exp.-dateDiff) | Returns the difference between two dates. |
| [`$dateSubtract`](/docs/v5.0/reference/operator/aggregation/dateSubtract/#mongodb-expression-exp.-dateSubtract) | Decrements a [Date](/docs/v5.0/reference/method/Date/) object by a specified number of time units. |
| [`$dateTrunc`](/docs/v5.0/reference/operator/aggregation/dateTrunc/#mongodb-expression-exp.-dateTrunc) | Truncates a date. |
| [`$getField`](/docs/v5.0/reference/operator/aggregation/getField/#mongodb-expression-exp.-getField) | Returns the value of a specified field from a document. You can use [`$getField`](/docs/v5.0/reference/operator/aggregation/getField/#mongodb-expression-exp.-getField) to retrieve the value of fields with names that contain periods (`.`) or start with dollar signs (`$`). |
| [`$rand`](/docs/v5.0/reference/operator/aggregation/rand/#mongodb-expression-exp.-rand) | The [`$rand`](/docs/v5.0/reference/operator/aggregation/rand/#mongodb-expression-exp.-rand) method generates a random float value between 0 and 1 each time it is called. The new [`$sampleRate`](/docs/v5.0/reference/operator/aggregation/sampleRate/#mongodb-expression-exp.-sampleRate) operator is based on `$rand`. |
| [`$sampleRate`](/docs/v5.0/reference/operator/aggregation/sampleRate/#mongodb-expression-exp.-sampleRate) | Adds the [`$sampleRate`](/docs/v5.0/reference/operator/aggregation/sampleRate/#mongodb-expression-exp.-sampleRate) method to probabilistically select documents from a pipeline at a given rate. |
| [`$setField`](/docs/v5.0/reference/operator/aggregation/setField/#mongodb-expression-exp.-setField) | Adds, updates, or removes a specified field in a document. You can use [`$setField`](/docs/v5.0/reference/operator/aggregation/setField/#mongodb-expression-exp.-setField) to add, update, or remove fields with names that contain periods (`.`) or start with dollar signs (`$`). |
| [`$unsetField`](/docs/v5.0/reference/operator/aggregation/unsetField/#mongodb-expression-exp.-unsetField) | Removes a specified field in a document. An alias for [`$setField`](/docs/v5.0/reference/operator/aggregation/setField/#mongodb-expression-exp.-setField) to remove fields with names that contain periods (`.`) or that start with dollar signs (`$`). |

### Window Operators

MongoDB 5.0 introduces the [`$setWindowFields`](/docs/v5.0/reference/operator/aggregation/setWindowFields/#mongodb-pipeline-pipe.-setWindowFields) pipeline stage,
allowing you to perform operations on a specified span of documents in a
collection, known as a *window*. The operation returns the results based
on the chosen [window operator.](/docs/v5.0/reference/operator/aggregation/setWindowFields/#std-label-setWindowFields-window-operators)

For example, you can use the [`$setWindowFields`](/docs/v5.0/reference/operator/aggregation/setWindowFields/#mongodb-pipeline-pipe.-setWindowFields) stage to
output the:

* Difference in sales between two documents in a collection.
* Sales rankings.
* Cumulative sales totals.
* Analysis of complex time series information without exporting the
  data to an external database.
### General Aggregation Improvements

#### `$expr` Operator: Comparison Operators Use Indexes

Starting in MongoDB 5.0, the [`$eq`](/docs/v5.0/reference/operator/aggregation/eq/#mongodb-expression-exp.-eq), [`$lt`](/docs/v5.0/reference/operator/aggregation/lt/#mongodb-expression-exp.-lt),
[`$lte`](/docs/v5.0/reference/operator/aggregation/lte/#mongodb-expression-exp.-lte), [`$gt`](/docs/v5.0/reference/operator/aggregation/gt/#mongodb-expression-exp.-gt), and [`$gte`](/docs/v5.0/reference/operator/aggregation/gte/#mongodb-expression-exp.-gte) operators
placed in an [`$expr`](/docs/v5.0/reference/operator/query/expr/#mongodb-query-op.-expr) operator can use indexes to improve performance.

#### `$ifNull` Expression Accepts Multiple Input Expressions

Starting in MongoDB 5.0, you can specify multiple input expressions for
the [`$ifNull`](/docs/v5.0/reference/operator/aggregation/ifNull/#mongodb-expression-exp.-ifNull) expression before returning a replacement
expression.

#### `let` Option for Aggregation

Starting in MongoDB 5.0, the [`aggregate`](/docs/v5.0/reference/command/aggregate/#mongodb-dbcommand-dbcmd.aggregate) command and
[`db.collection.aggregate()`](/docs/v5.0/reference/method/db.collection.aggregate/#mongodb-method-db.collection.aggregate) helper method have a `let` option
to specify a list of variables that can be used elsewhere in the
aggregation pipeline. This allows you to improve command readability by
separating the variables from the query text.

#### `$lookup` Stage: Concise Correlated Subqueries

Starting in MongoDB 5.0, an aggregation pipeline [`$lookup`](/docs/v5.0/reference/operator/aggregation/lookup/#mongodb-pipeline-pipe.-lookup)
stage supports [concise correlated subqueries](/docs/v5.0/reference/operator/aggregation/lookup/#std-label-lookup-syntax-concise-correlated-subquery) that improve joins between
collections.

#### `$lookup` Stage: Uncorrelated Subqueries

Starting in MongoDB 5.0, for an uncorrelated subquery in a
[`$lookup`](/docs/v5.0/reference/operator/aggregation/lookup/#mongodb-pipeline-pipe.-lookup) pipeline stage containing a [`$sample`](/docs/v5.0/reference/operator/aggregation/sample/#mongodb-pipeline-pipe.-sample)
stage, the [`$sampleRate`](/docs/v5.0/reference/operator/aggregation/sampleRate/#mongodb-expression-exp.-sampleRate) operator, or the
[`$rand`](/docs/v5.0/reference/operator/aggregation/rand/#mongodb-expression-exp.-rand) operator, the subquery is always run again if
repeated. Previously, depending on the subquery output size, either the
subquery output was cached or the subquery was run again.

See [Perform an Uncorrelated Subquery with `$lookup`.](/docs/v5.0/reference/operator/aggregation/lookup/#std-label-lookup-uncorrelated-subquery)

#### `$sort` Stage: Performance Improvements

Starting in MongoDB 5.0, the [query optimizer](/docs/v5.0/reference/glossary/#std-term-query-optimizer) pushes down the results of
a [`$project`](/docs/v5.0/reference/operator/aggregation/project/#mongodb-pipeline-pipe.-project) stage into the [`$sort`](/docs/v5.0/reference/operator/aggregation/sort/#mongodb-pipeline-pipe.-sort) stage. As a result,
`$sort` operations can require less RAM when used with the `project` stage
and avoid `Sort exceeded memory limit` errors.

#### Aggregation Metrics

| Metric | Description |
| --- | --- |
| [`metrics.operatorCounters.match`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.operatorCounters.match) | A document which indicates how often [match expressions](/docs/v5.0/reference/operator/query/#std-label-query-projection-operators-top) ran. |

## Auditing

### Runtime Audit Filter Configuration

MongoDB 5.0 adds the ability to [configure auditing filters](/docs/v5.0/tutorial/configure-audit-filters/#std-label-configure-audit-filters-at-runtime) at runtime.

| Operator | Description |
| --- | --- |
| [`auditConfigPollingFrequencySecs`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.auditConfigPollingFrequencySecs) | Defines the polling interval for checking audit configuration |
| [`getAuditConfig`](/docs/v5.0/reference/command/getAuditConfig/#mongodb-dbcommand-dbcmd.getAuditConfig) | Retrieves audit configurations from [`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) and [`mongos`.](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos) |
| [`setAuditConfig`](/docs/v5.0/reference/command/setAuditConfig/#mongodb-dbcommand-dbcmd.setAuditConfig) | Sets new audit configurations for [`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) and [`mongos`](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos) instances at runtime. |

### General Auditing Updates

Starting in MongoDB 5.0:

* [System event auditing](/docs/v5.0/reference/audit-message/#std-label-audit-message-format) has:

  + An additional [uuid](/docs/v5.0/reference/audit-message/#std-label-audit-message-uuid) field and other
    [audit message](/docs/v5.0/reference/audit-message/#std-label-audit-message-format) enhancements.
  + New audit message types: [clientMetadata](/docs/v5.0/reference/audit-message/#std-label-audit-message-clientMetadata), [directAuthMutation](/docs/v5.0/reference/audit-message/#std-label-audit-message-directAuthMutation), [logout](/docs/v5.0/reference/audit-message/#std-label-audit-message-logout), and [startup.](/docs/v5.0/reference/audit-message/#std-label-audit-message-startup)
  + Additional information and logging scenarios for these existing
    audit message types: [authCheck](/docs/v5.0/reference/audit-message/#std-label-audit-message-authCheck),
    [authenticate](/docs/v5.0/reference/audit-message/#std-label-audit-message-authenticate),
    [createCollection](/docs/v5.0/reference/audit-message/#std-label-audit-message-createCollection),
    [createIndex](/docs/v5.0/reference/audit-message/#std-label-audit-message-createIndex), and
    [dropCollection.](/docs/v5.0/reference/audit-message/#std-label-audit-message-dropCollection)
* DDL operations auditing on [secondaries](/docs/v5.0/reference/glossary/#std-term-secondary) has
  changes. See [Audit Events and Filter.](/docs/v5.0/core/auditing/#std-label-auditing-audit-events-and-filter)

## Capped Collections

### Capped Collection Deletes Are Replicated to Secondaries

Starting in MongoDB 5.0, the [implicit delete operations](/docs/v5.0/core/capped-collections/#std-label-capped_collections_remove_documents) for [replica set](/docs/v5.0/replication/#std-label-replication) [capped collections](/docs/v5.0/reference/glossary/#std-term-capped-collection) are
processed by the primary and replicated to the [secondary members.](/docs/v5.0/core/replica-set-secondary/#std-label-replica-set-secondary-members-ref)

### Explicit Deletes Allowed on Capped Collections

Starting in MongoDB 5.0.7, you can delete documents from [capped
collections](/docs/v5.0/core/capped-collections/#std-label-manual-capped-collection) using [delete methods.](/docs/v5.0/reference/delete-methods/#std-label-delete-additional-methods)

## Change Streams

### Change Events Output

Starting in MongoDB 5.0, [Change Events](/docs/v5.0/reference/change-events/#std-label-change-events)
contain the field `updateDescription.truncatedArrays` to record array
truncations.

## Indexes

### Partial Indexes Behavior Change

Starting in MongoDB 5.0, multiple
[partial indexes](/docs/v5.0/core/index-partial/)
can be created using the same [key pattern](/docs/v5.0/reference/method/db.collection.createIndexes/#std-label-key_patterns) as long
as the [partialFilterExpression](/docs/v5.0/reference/method/db.collection.createIndexes/#std-label-partialFilterExpression)
fields do not express equivalent filters.

In earlier versions of MongoDB, creating multiple
[partial indexes](/docs/v5.0/core/index-partial/) is not allowed when
using the same key pattern with different
[partialFilterExpressions.](/docs/v5.0/reference/method/db.collection.createIndexes/#std-label-partialFilterExpression)

### Unique Sparse Index Behavior Change

Starting in MongoDB 5.0, [unique sparse](/docs/v5.0/core/index-sparse/#std-label-sparse-unique-index)
and [unique non-sparse](/docs/v5.0/indexes/#std-label-unique-index) indexes with the same
[key pattern](/docs/v5.0/reference/method/db.collection.createIndexes/#std-label-key_patterns) can exist on a single collection.

See [unique sparse index creation](/docs/v5.0/core/index-sparse/#std-label-sparse-and-non-sparse_example)

### Cannot Drop `Ready` Indexes During In-Progress Index Builds

The [`db.collection.dropIndexes()`](/docs/v5.0/reference/method/db.collection.dropIndexes/#mongodb-method-db.collection.dropIndexes) command cannot drop
[ready indexes](/docs/v5.0/core/index-creation/#std-label-index-build-process-ready)
if there are any in-progress index builds.

* In versions 4.4.0-4.4.4 of MongoDB, this logic was not true
  due to a bug.
### Foreground Validation May Fix Multikey Metadata Inconsistencies

When run on a MongoDB deployment,
[`db.collection.validate()`](/docs/v5.0/reference/method/db.collection.validate/#mongodb-method-db.collection.validate) attempts to fix
[multikey metadata inconsistencies](/docs/v5.0/reference/method/db.collection.validate/#std-label-validate-standalone-inconsistencies)
of standalone deployments.

### Removal of `geoHaystack` Index and the `geoSearch` Command

MongoDB 5.0 removes the deprecated [geoHaystack](/docs/v5.0/core/geohaystack/) index and [`geoSearch`](/docs/v5.0/reference/command/geoSearch/#mongodb-dbcommand-dbcmd.geoSearch) command. Use a
[2d index](/docs/v5.0/core/2d/) with [`$geoNear`](/docs/v5.0/reference/operator/aggregation/geoNear/#mongodb-pipeline-pipe.-geoNear) or one of the
supported [geospatial query operators](/docs/v5.0/reference/operator/query-geospatial/#std-label-geospatial-query-selectors)
instead.

Upgrading your MongoDB instance to 5.0 and setting
[featureCompatibilityVersion](/docs/v5.0/reference/command/setFeatureCompatibilityVersion/#std-label-view-fcv) to `5.0` will delete any
pre-existing [geoHaystack](/docs/v5.0/core/geohaystack/) indexes.

### New Error Messages

The [`db.collection.createIndex()`](/docs/v5.0/reference/method/db.collection.createIndex/#mongodb-method-db.collection.createIndex) and [`db.collection.createIndexes()`](/docs/v5.0/reference/method/db.collection.createIndexes/#mongodb-method-db.collection.createIndexes)
operations have new error messages when options are specified incorrectly.

### Interrupted Index Builds

If a node in a replica set is cleanly shutdown or rolls back during an
index build, the index build progress is now
[saved to disk](/docs/v5.0/core/index-creation/#std-label-index-operations-build-failure). When the server
restarts, index creation resumes from the saved position.

### `reIndex` Behavior Change

Starting in MongoDB 5.0, the [`reIndex`](/docs/v5.0/reference/command/reIndex/#mongodb-dbcommand-dbcmd.reIndex) command and the
[`db.collection.reIndex()`](/docs/v5.0/reference/method/db.collection.reIndex/#mongodb-method-db.collection.reIndex) shell method may only be run on
[standalone](/docs/v5.0/reference/glossary/#std-term-standalone) instances.

## Removed Commands

Starting in MongoDB 5.0, these database commands and
[`mongo`](/docs/v5.0/reference/program/mongo/#mongodb-binary-bin.mongo) shell helper methods are removed:

| Removed Command | Alternative |
| --- | --- |
| [`db.collection.ensureIndex()`](/docs/v5.0/reference/method/db.collection.ensureIndex/#mongodb-method-db.collection.ensureIndex) | [`db.collection.createIndex()`](/docs/v5.0/reference/method/db.collection.createIndex/#mongodb-method-db.collection.createIndex) |
| [`db.resetError()`](/docs/v5.0/reference/method/db.resetError/#mongodb-method-db.resetError) | Not available |
| [`resetError`](/docs/v5.0/reference/command/resetError/#mongodb-dbcommand-dbcmd.resetError) | Not available |
| [`shardConnPoolStats`](/docs/v5.0/reference/command/shardConnPoolStats/#mongodb-dbcommand-dbcmd.shardConnPoolStats) | [`connPoolStats`](/docs/v5.0/reference/command/connPoolStats/#mongodb-dbcommand-dbcmd.connPoolStats) |
| [`unsetSharding`](/docs/v5.0/reference/command/unsetSharding/#mongodb-dbcommand-dbcmd.unsetSharding) | Not available |
| [`geoSearch`](/docs/v5.0/reference/command/geoSearch/#mongodb-dbcommand-dbcmd.geoSearch) | [`$geoNear`](/docs/v5.0/reference/operator/aggregation/geoNear/#mongodb-pipeline-pipe.-geoNear) or one of the supported [geospatial query operators](/docs/v5.0/reference/operator/query-geospatial/#std-label-geospatial-query-selectors) |

## Replica Sets

### Non-transactional Reads on `config.transactions`

Starting in MongoDB 5.0, non-transaction reads are not allowed on
the [`config.transactions`](/docs/v5.0/reference/config-database/#mongodb-data-config.transactions) collection with the following
read concerns and options:

* [`"snapshot"`](/docs/v5.0/reference/read-concern-snapshot/#mongodb-readconcern-readconcern.-snapshot-)
* [`"majority"`](/docs/v5.0/reference/read-concern-majority/#mongodb-readconcern-readconcern.-majority-) and the
  [afterClusterTime](/docs/v5.0/reference/read-concern/#std-label-afterClusterTime) option is set
* When using a [MongoDB Driver](https://www.mongodb.com/docs/drivers/)
  and [`"majority"`](/docs/v5.0/reference/read-concern-majority/#mongodb-readconcern-readconcern.-majority-)
  within a [causally consistent session](/docs/v5.0/core/read-isolation-consistency-recency/#std-label-sessions)
### `hello` Command

Starting in MongoDB 5.0, the
[`hello`](/docs/v5.0/reference/command/hello/#mongodb-dbcommand-dbcmd.hello) command and the [`db.hello()`](/docs/v5.0/reference/method/db.hello/#mongodb-method-db.hello) method were
introduced as replacements for the `isMaster` command
and the `db.isMaster()` method. The new topology metric
[`connections.exhaustHello`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.connections.exhaustHello) tracks this in
[`connections`.](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.connections)

### Quiesce Period

Starting in MongoDB 5.0, [`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) and [`mongos`](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos)
enter a [quiesce period](/docs/v5.0/reference/command/shutdown/#std-label-shutdown-cmd-quiesce-period) to allow any
ongoing database operations to complete before shutting down.

### Limit Removed for `members[n]._id` Values

Starting in MongoDB 5.0, the [`members[n]._id`](/docs/v5.0/reference/replica-configuration/#mongodb-rsconf-rsconf.members-n-._id) field may be any
integer value greater than or equal to `0`. Previously, this value was
limited to an integer between `0` and `255` inclusive.

### `enableMajorityReadConcern` Is Not Configurable

Starting in MongoDB 5.0,
[`enableMajorityReadConcern`](/docs/v5.0/reference/configuration-options/#mongodb-setting-replication.enableMajorityReadConcern) and
[`--enableMajorityReadConcern`](/docs/v5.0/reference/program/mongod/#std-option-mongod.--enableMajorityReadConcern) cannot be changed
and are always set to `true` due to storage engine improvements.

In earlier versions of MongoDB,
[`enableMajorityReadConcern`](/docs/v5.0/reference/configuration-options/#mongodb-setting-replication.enableMajorityReadConcern) and
[`--enableMajorityReadConcern`](/docs/v5.0/reference/program/mongod/#std-option-mongod.--enableMajorityReadConcern) are configurable and can be set
to `false` to prevent storage cache pressure from immobilizing a
deployment with a three-member primary-secondary-arbiter (PSA)
architecture.

If you are using a three-member primary-secondary-arbiter (PSA)
architecture, consider the following:

* The write concern [`"majority"`](/docs/v5.0/reference/write-concern/#mongodb-writeconcern-writeconcern.-majority-) can cause
  performance issues if a secondary is unavailable or lagging. For
  advice on how to mitigate these issues, see
  [Mitigate Performance Issues with a Self-Managed PSA Replica Set.](/docs/v5.0/tutorial/mitigate-psa-performance-issues/#std-label-performance-issues-psa)
* If you are using a global default [`"majority"`](/docs/v5.0/reference/read-concern-majority/#mongodb-readconcern-readconcern.-majority-)
  and the write concern is less than the size of the majority,
  your queries may return stale (not fully replicated) data.
### Enhanced Thread Pool Timeout Control

Starting in MongoDB 5.0, you can use the new
[`replWriterMinThreadCount`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.replWriterMinThreadCount) server parameter to
allow idle threads above this minimum to be closed.
When [`replWriterMinThreadCount`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.replWriterMinThreadCount) is
configured with a value less than [`replWriterThreadCount`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.replWriterThreadCount),
idle threads above [`replWriterMinThreadCount`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.replWriterMinThreadCount) are timed out.

### Reconfiguring PSA Replica Sets

When reconfiguring primary-secondary-arbiter (PSA) replica sets or
changing to a PSA architecture, it is now in some cases required to
perform the reconfiguration in a two-step change. MongoDB 5.0 introduces
the [`rs.reconfigForPSASet()`](/docs/v5.0/reference/method/rs.reconfigForPSASet/#mongodb-method-rs.reconfigForPSASet) method which performs both steps.
If you cannot use the helper method, follow the procedure in
[Modify a Self-Managed PSA Replica Set Safely.](/docs/v5.0/tutorial/modify-psa-replica-set-safely/#std-label-modify-psa-replica-set-safely)

### Limit Sync Source Re-evaluations

[`maxNumSyncSourceChangesPerHour`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.maxNumSyncSourceChangesPerHour) determines how many sync
source changes can happen per hour before the node temporarily stops
re-evaluating a sync source. This parameter will not prevent a node
from starting to sync from another node if it doesn't have a sync
source.

### `enableOverrideClusterChainingSetting` Server Parameter

Starting in MongoDB 5.0.2, you can set the new
[`enableOverrideClusterChainingSetting`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.enableOverrideClusterChainingSetting) server parameter to
`true` to allow [secondary](/docs/v5.0/reference/glossary/#std-term-secondary) members to replicate data from other
secondary members even if [`settings.chainingAllowed`](/docs/v5.0/reference/replica-configuration/#mongodb-rsconf-rsconf.settings.chainingAllowed) is
`false`.

### storeFindAndModifyImagesInSideCollection Parameter

Starting in MongoDB 5.0, the
[`storeFindAndModifyImagesInSideCollection`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.storeFindAndModifyImagesInSideCollection) parameter
determines whether the temporary documents required for [retryable](/docs/v5.0/core/retryable-writes/#std-label-retryable-writes) [`findAndModify`](/docs/v5.0/reference/command/findAndModify/#mongodb-dbcommand-dbcmd.findAndModify) commands are stored in
the *side* collection (`config.image_collection`).

## Security

### Support for Online Certificate Rotation

Starting in MongoDB 5.0, you may now rotate the following TLS
certificates on demand without first needing to stop your running
[`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) or [`mongos`](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos) instance:

* [`TLS Certificates`](/docs/v5.0/reference/configuration-options/#mongodb-setting-net.tls.certificateKeyFile)
* [`CRL (Certificate Revocation List) files`](/docs/v5.0/reference/configuration-options/#mongodb-setting-net.tls.CRLFile)
  (on Linux and Windows platforms)
* [`CA (Certificate Authority) files`](/docs/v5.0/reference/configuration-options/#mongodb-setting-net.tls.CAFile)

To rotate these certificates, replace the certificate files on your
filesystem with updated versions, then use the
[`rotateCertificates`](/docs/v5.0/reference/command/rotateCertificates/#mongodb-dbcommand-dbcmd.rotateCertificates) command or the
[`db.rotateCertificates()`](/docs/v5.0/reference/method/db.rotateCertificates/#mongodb-method-db.rotateCertificates) shell method to trigger certificate
rotation.

Rotating certificates in this manner does not require downtime, and does
not drop any active remote connections.

See [Online Certificate Rotation](/docs/v5.0/tutorial/configure-ssl/#std-label-certificate-rotation) for full details.

### Support for Configuring TLS 1.3 Cipher Suites

MongoDB 5.0 introduces the [`opensslCipherSuiteConfig`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.opensslCipherSuiteConfig)
parameter to enable configuration of the supported cipher suites OpenSSL
should permit when using TLS 1.3 encryption.

### TLS Connection X509 Certificate Startup Warning

Starting in MongoDB 5.0, [`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) and [`mongos`](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos) now
issue a startup warning when their certificates do not include a
[Subject Alternative Name](/docs/v5.0/reference/glossary/#std-term-Subject-Alternative-Name) attribute.

The following platforms do not support common name validation:

* iOS 13 and higher
* MacOS 10.15 and higher
* Go 1.15 and higher

Clients using these platforms will not
[authenticate](/docs/v5.0/tutorial/configure-x509-client-authentication/#std-label-x509-client-authentication) to
MongoDB servers which use X.509 certificate whose hostnames are
[specified by CommonName attributes.](/docs/v5.0/reference/program/mongod/#std-label-KMIP-subject-alternative-name-CN)

### ApplyOps Privilege Action

MongoDB 5.0 introduces the [`applyOps`](/docs/v5.0/reference/privilege-actions/#mongodb-authaction-applyOps)
privilege action which is inherited by [`dbAdminAnyDatabase`.](/docs/v5.0/reference/built-in-roles/#mongodb-authrole-dbAdminAnyDatabase)

The [`applyOps`](/docs/v5.0/reference/privilege-actions/#mongodb-authaction-applyOps) action permits users to run the
[`applyOps`](/docs/v5.0/reference/command/applyOps/#mongodb-dbcommand-dbcmd.applyOps) database command.

## Sharded Clusters

### Resharding

The ideal shard key allows MongoDB to distribute documents evenly
throughout the cluster while facilitating common query patterns. A
suboptimal shard key can lead to performance or scaling issues due to
uneven data distribution. Starting in MongoDB 5.0, you can use the
[`reshardCollection`](/docs/v5.0/reference/command/reshardCollection/#mongodb-dbcommand-dbcmd.reshardCollection) command to [change the shard key](/docs/v5.0/core/sharding-change-a-shard-key/#std-label-change-a-shard-key) for a collection to change the distribution of
your data across your cluster.

### `currentOp` Reports Ongoing Resharding Operations

Starting in MongoDB 5.0, the [`$currentOp`](/docs/v5.0/reference/operator/aggregation/currentOp/#mongodb-pipeline-pipe.-currentOp) aggregation stage
(and the [`currentOp`](/docs/v5.0/reference/command/currentOp/#mongodb-dbcommand-dbcmd.currentOp) command and [`db.currentOp()`](/docs/v5.0/reference/method/db.currentOp/#mongodb-method-db.currentOp)
shell method) include additional information about the status of ongoing
resharding operations for the resharding coordinator and the
donor and recipient shards.

### `db.currentOp` Method Now Uses Aggregation Stage in `mongosh`

Starting in MongoDB 5.0, the [`$currentOp`](/docs/v5.0/reference/operator/aggregation/currentOp/#mongodb-pipeline-pipe.-currentOp) aggregation
stage is used when running the helper method [`db.currentOp()`](/docs/v5.0/reference/method/db.currentOp/#mongodb-method-db.currentOp)
with [`mongosh`.](https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh)

### `mongos` / `mongod` Connection Pool

Starting in MongoDB 5.0,
MongoDB adds the parameter option `"automatic"` as the new default for
the [`ShardingTaskExecutorPoolReplicaSetMatching`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.ShardingTaskExecutorPoolReplicaSetMatching). When set
for a [`mongos`](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos), the instance follows the behavior specified
for the `"matchPrimaryNode"` option. When set for a
[`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod), the instance follows the behavior specified for
the `"disabled"` option.

### `renameCollection` Compatible with Sharded Collections

Starting in MongoDB 5.0, you can use the [`renameCollection`](/docs/v5.0/reference/command/renameCollection/#mongodb-dbcommand-dbcmd.renameCollection)
command to change the name of a sharded collection.

When renaming a sharded or unsharded collection in a sharded cluster,
the source and target collections are exclusively locked on every shard.
Subsequent operations on the source and target collections must wait
until the rename operation completes.

### `movePrimary` Error Message For Writes During Operation

Starting in MongoDB 5.0, when using the [`movePrimary`](/docs/v5.0/reference/command/movePrimary/#mongodb-dbcommand-dbcmd.movePrimary) command
to remove a shard from a [sharded cluster](/docs/v5.0/sharding/#std-label-sharded-cluster),
writes to the original shard will generate an error message.

### Split and Merge Chunk Changelogs Show Owning Shard

Starting in MongoDB 5.0, documents in the [`config.changelog`](/docs/v5.0/reference/config-database/#mongodb-data-config.changelog)
collection for
[split](https://www.mongodb.com/docs/manual/tutorial/split-chunks-in-sharded-cluster/) and
[merge](https://www.mongodb.com/docs/manual/tutorial/merge-chunks-in-sharded-cluster/) operations
contain an `owningShard` field. The `owningShard` field shows the
`shardId` of the shard that owns the chunks that were split or
merged.

The `owningShard` field helps identify shards where split or merge
operations frequently occur.

### `maxCatchUpPercentageBeforeBlockingWrites` Server Parameter

Starting in MongoDB 5.0, you can set the
[`maxCatchUpPercentageBeforeBlockingWrites`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.maxCatchUpPercentageBeforeBlockingWrites) to specify the
maximum allowed percentage of data not yet migrated
during a [`moveChunk`](/docs/v5.0/reference/command/moveChunk/#mongodb-dbcommand-dbcmd.moveChunk) operation when compared to the
total size (in MBs) of the chunk being transferred.

This parameter can affect the behavior of:

* [`moveChunk`](/docs/v5.0/reference/command/moveChunk/#mongodb-dbcommand-dbcmd.moveChunk) commands that are run manually.
* Load balancer functionality, which automatically runs multiple
  [`moveChunk`](/docs/v5.0/reference/command/moveChunk/#mongodb-dbcommand-dbcmd.moveChunk) commands to evenly distribute chunks across
  shards. See [Sharded Cluster Balancer.](/docs/v5.0/core/sharding-balancer-administration/#std-label-sharding-balancing)

## Shell Changes

### New MongoDB Shell: `mongosh`

The `mongo` shell has been deprecated in MongoDB v5.0. The
replacement shell is [`mongosh`](https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh). The legacy `mongo` shell
will be removed in a future release.

Shell packaging also changes in MongoDB v5.0. Refer to the
[installation instructions](https://www.mongodb.com/docs/mongodb-shell/install/) for further details.

### Shell Support for GCP and Azure KMS Providers

Starting in MongoDB 5.0, the Google Cloud Platform KMS and Azure Key Vault
are supported in both [`mongosh`](https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh) and the legacy `mongo` shell as
[Key Management Service (KMS)](/docs/v5.0/core/security-client-side-encryption-key-management/#std-label-field-level-encryption-kms)
providers for [Client-Side Field Level Encryption.](/docs/v5.0/core/security-client-side-encryption/)

Using a KMS, you can centrally and securely store Customer Master Keys
(CMKs), which are used to encrypt and decrypt data encryption keys as
part of the [client-side field level encryption workflow.](/docs/v5.0/core/security-client-side-encryption/#std-label-csfle-encryption-components)

In addition, a configured KMS allows for the use of
[Automatic Field Decryption](/docs/v5.0/core/security-client-side-encryption/#std-label-field-level-encryption-automatic-decryption) of data fields when
used with MongoDB Enterprise.

Instructions are available for both shells:

* [Configure a KMS provider using mongosh](https://www.mongodb.com/docs/mongodb-shell/field-level-encryption/)
* [Configure a KMS provider using the legacy mongo shell](/docs/v5.0/core/security-client-side-encryption-key-management/)

## Snapshots

### Extended Support for Read Concern `"snapshot"`

Starting in MongoDB 5.0, read concern [`"snapshot"`](/docs/v5.0/reference/read-concern-snapshot/#mongodb-readconcern-readconcern.-snapshot-) is
supported for some read operations outside of multi-document
transactions on primaries and secondaries. See
[Perform Long-Running Snapshot Queries.](/docs/v5.0/tutorial/long-running-queries/#std-label-tutorial-long-running-queries)

### `minSnapshotHistoryWindowInSeconds` Server Parameter

Starting in MongoDB 5.0, you can use the
[`minSnapshotHistoryWindowInSeconds`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.minSnapshotHistoryWindowInSeconds) parameter to control how
long WiredTiger keeps the snapshot history.

## Transactions

### `coordinateCommitReturnImmediatelyAfterPersistingDecision` Parameter

The server parameter
[`coordinateCommitReturnImmediatelyAfterPersistingDecision`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.coordinateCommitReturnImmediatelyAfterPersistingDecision)
controls when transaction commit decisions are returned to the client.

The parameter was introduced in MongDB 5.0 with a default value of
`true`. In MongoDB 5.0.10 the default value changes to `false`.

When `coordinateCommitReturnImmediatelyAfterPersistingDecision` is
`false`, the [shard](/docs/v5.0/core/sharded-cluster-shards/#std-label-shards-concepts) transaction coordinator
waits for all members to acknowledge a [multi-document transaction](/docs/v5.0/core/transactions/#std-label-transactions-atomicity) commit before returning the commit decision to
the client.

## Naming Changes

Starting in February 2022, the "Versioned API" terminology was
changed to "Stable API". All concepts and features remain the same
with this naming change.

## General Changes

### `serverStatus` Output Change

Starting in MongoDB 5.0.7, [`serverStatus`](/docs/v5.0/reference/command/serverStatus/#mongodb-dbcommand-dbcmd.serverStatus) includes
[`connections.loadBalanced`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.connections.loadBalanced) which reports the
number of incoming connections received through a load balancer.

### Execution Plan Statistics for Query with `$lookup` Pipeline Stage

MongoDB 5.0 adds [execution plan statistics](/docs/v5.0/reference/explain-results/#std-label-explain-results-lookup) for queries that use a [`$lookup`](/docs/v5.0/reference/operator/aggregation/lookup/#mongodb-pipeline-pipe.-lookup)
pipeline stage.

### Improved Handling of (`$`) and (`.`) in Field Names

MongoDB 5.0 adds [improved support](/docs/v5.0/core/dot-dollar-considerations/#std-label-crud-concepts-dot-dollar-considerations) for field names that are
(`$`) prefixed or that contain (`.`) characters. The validation
rules for storing data have been updated to make it easier to work with
data sources that use these characters.

### Cluster Wide Default Write Concern

Starting in MongoDB 5.0, once the Cluster Wide Write Concern (CWWC)
is set via the [`setDefaultRWConcern`](/docs/v5.0/reference/command/setDefaultRWConcern/#mongodb-dbcommand-dbcmd.setDefaultRWConcern) command the write
concern cannot be unset.

### Implicit Default Write Concern

Starting in MongoDB 5.0, the implicit default
[write concern](/docs/v5.0/reference/write-concern/#std-label-write-concern) is
[`w: majority`](/docs/v5.0/reference/write-concern/#mongodb-writeconcern-writeconcern.-majority-). However, special
considerations are made for deployments containing
[arbiters:](/docs/v5.0/core/replica-set-arbiter/#std-label-replica-set-arbiter-configuration)

* The voting majority of a replica set is 1 plus half the number of
  voting members, rounded down. If the number of data-bearing voting
  members is not greater than the voting majority, the default write
  concern is `{ w: 1 }`.
* In all other scenarios, the default write concern is `{ w:
  "majority" }`.
* For a [sharded cluster](/docs/v5.0/sharding/#std-label-sharding-sharded-cluster), the default
  write concern is always retrieved from the [config server](/docs/v5.0/core/sharded-cluster-config-servers/#std-label-sharding-config-server). Since the config server must have zero
  arbiters, the implicit default write concern for a sharded cluster
  is always `"majority"`. Even if a shard is in a
  Primary-Secondary-Arbiter topology, it still has a default write
  concern of `"majority"`.
  Starting in MongoDB 5.1, this configuration is disallowed if the
  cluster-wide write concern is not set.

Specifically, MongoDB uses the following formula to determine the
default write concern:

```

| if [ (#arbiters > 0) AND (#non-arbiters <= majority(#voting-nodes)) ] |
| --- |
| defaultWriteConcern = { w: 1 } |
| else |
| defaultWriteConcern = { w: "majority" } |

```

For example, consider the following deployments and their respective
default write concerns:

| Non-Arbiters | Arbiters | Voting Nodes | Majority of Voting Nodes | Implicit Default Write Concern |
| --- | --- | --- | --- | --- |
| 2 | 1 | 3 | 2 | `{ w: 1 }` |
| 4 | 1 | 5 | 3 | `{ w: "majority" }` |

* In the first example:

  + There are 2 non-arbiters and 1 arbiter for a total of 3 voting
    nodes.
  + The majority of voting nodes (1 plus half of 3, rounded
    down) is 2.
  + The number of non-arbiters (2) is equal to
    the majority of voting nodes (2), resulting in an implicit write
    concern of `{ w: 1 }`.
* In the second example:

  + There are 4 non-arbiters and 1 arbiter for a total of 5
    voting nodes.
  + The majority of voting nodes (1 plus half of 5, rounded
    down) is 3.
  + The number of non-arbiters (4) is greater than the majority
    of voting nodes (3), resulting in an implicit write concern of
    `{ w: "majority" }`.

The [`{ w: "majority" }`](/docs/v5.0/reference/write-concern/#mongodb-writeconcern-writeconcern.-majority-) default
[write concern](/docs/v5.0/reference/write-concern/) provides a stronger
durability guarantee in the event of an election, or if replica set
members become unavailable.

### `mongosShutdownTimeoutMillisForSignaledShutdown` Parameter

Starting in MongoDB 5.0, the new parameter
[`mongosShutdownTimeoutMillisForSignaledShutdown`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.mongosShutdownTimeoutMillisForSignaledShutdown) specifies
the time in milliseconds to wait for any ongoing database operations to
complete before initiating a shutdown of [`mongos`.](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos)

### Configurable `zstd` Compression Level

MongoDB 5.0 introduces the
[`zstdCompressionLevel`](/docs/v5.0/reference/configuration-options/#mongodb-setting-storage.wiredTiger.engineConfig.zstdCompressionLevel)
configuration file option which allows for configurable compression
levels when
[`blockCompressor`](/docs/v5.0/reference/configuration-options/#mongodb-setting-storage.wiredTiger.collectionConfig.blockCompressor) is set
to `zstd`.

### Lock-Free Read Operations

Starting in MongoDB 5.0, the following read operations are not blocked
when another operation holds an exclusive (X) write lock on the
collection:

* [`find`](/docs/v5.0/reference/command/find/#mongodb-dbcommand-dbcmd.find)
* [`count`](/docs/v5.0/reference/command/count/#mongodb-dbcommand-dbcmd.count)
* [`distinct`](/docs/v5.0/reference/command/distinct/#mongodb-dbcommand-dbcmd.distinct)
* [`aggregate`](/docs/v5.0/reference/command/aggregate/#mongodb-dbcommand-dbcmd.aggregate)
* [`mapReduce`](/docs/v5.0/reference/command/mapReduce/#mongodb-dbcommand-dbcmd.mapReduce)
* [`listCollections`](/docs/v5.0/reference/command/listCollections/#mongodb-dbcommand-dbcmd.listCollections)
* [`listIndexes`](/docs/v5.0/reference/command/listIndexes/#mongodb-dbcommand-dbcmd.listIndexes)

When writing to a collection, [`mapReduce`](/docs/v5.0/reference/command/mapReduce/#mongodb-dbcommand-dbcmd.mapReduce) and
[`aggregate`](/docs/v5.0/reference/command/aggregate/#mongodb-dbcommand-dbcmd.aggregate) hold an intent exclusive (IX) lock. Therefore, if
an exclusive X lock is already held on a collection,
[`mapReduce`](/docs/v5.0/reference/command/mapReduce/#mongodb-dbcommand-dbcmd.mapReduce) and [`aggregate`](/docs/v5.0/reference/command/aggregate/#mongodb-dbcommand-dbcmd.aggregate) write operations are
blocked.

### Schema Validation Failures Explained

MongoDB 5.0 adds detailed explanations when a document fails
[schema validation.](/docs/v5.0/core/schema-validation/#std-label-schema-validation-overview)

### Repair Option in `validate` Command

Starting in MongoDB 5.0, the [`validate`](/docs/v5.0/reference/command/validate/#mongodb-dbcommand-dbcmd.validate) command and
[`db.collection.validate()`](/docs/v5.0/reference/method/db.collection.validate/#mongodb-method-db.collection.validate) helper method have a new [repair](/docs/v5.0/reference/command/validate/#std-label-cmd-validate-repair) option for repairing a collection that has
inconsistencies.

The [`validate`](/docs/v5.0/reference/command/validate/#mongodb-dbcommand-dbcmd.validate) command and [`db.collection.validate()`](/docs/v5.0/reference/method/db.collection.validate/#mongodb-method-db.collection.validate)
helper method also return a new [`repaired`](/docs/v5.0/reference/command/validate/#mongodb-data-validate.repaired) boolean value
that is `true` if the collection was repaired.

### `validate` Command Reports Document Schema Violations

Starting in MongoDB 5.0, [`validate`](/docs/v5.0/reference/command/validate/#mongodb-dbcommand-dbcmd.validate) and
[`db.collection.validate()`](/docs/v5.0/reference/method/db.collection.validate/#mongodb-method-db.collection.validate) validates documents
in a collection. The commands report if any
[schema validation rules](/docs/v5.0/core/schema-validation/#std-label-schema-validation-document) are
violated.

### Repair Option in `mongod`

Starting in MongoDB 5.0, the [`--repair`](/docs/v5.0/reference/program/mongod/#std-option-mongod.--repair) option
for [`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) validates the collections to find any
inconsistencies and fixes them if possible, which avoids rebuilding the
indexes. See the [`--repair`](/docs/v5.0/reference/program/mongod/#std-option-mongod.--repair) option for usage
and limitations.

### `corruptRecords` Field in Validation Output

Starting in MongoDB 5.0, the [`validate`](/docs/v5.0/reference/command/validate/#mongodb-dbcommand-dbcmd.validate) command and
[`db.collection.validate()`](/docs/v5.0/reference/method/db.collection.validate/#mongodb-method-db.collection.validate) helper method return a new
[`corruptRecords`](/docs/v5.0/reference/command/validate/#mongodb-data-validate.corruptRecords) field that contains an array of
`RecordId` values for corrupt documents.

### `maxValidateMemoryUsageMB` Server Parameter

Starting in MongoDB 5.0, the [`setParameter`](/docs/v5.0/reference/command/setParameter/#mongodb-dbcommand-dbcmd.setParameter)
command has a new [`maxValidateMemoryUsageMB`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.maxValidateMemoryUsageMB) parameter, which
sets the maximum memory usage for the [`validate`](/docs/v5.0/reference/command/validate/#mongodb-dbcommand-dbcmd.validate) command.

### `findChunksOnConfigTimeoutMS` Server Parameter

Starting in MongoDB 5.0, you can use the
[`findChunksOnConfigTimeoutMS`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.findChunksOnConfigTimeoutMS) parameter to change the timeout
for find operations on [`chunks`.](/docs/v5.0/reference/config-database/#mongodb-data-config.chunks)

### Database Profiler `filter` Option

Starting in MongoDB 5.0, you can set a `filter` option for the
[database profiler](/docs/v5.0/tutorial/manage-the-database-profiler/#std-label-database-profiler) to determine which
operations are profiled and logged. You can use the `filter`
expression in place of the `slowms` and `sampleRate` profiler
options.

See:

* [Database Profiler](/docs/v5.0/tutorial/manage-the-database-profiler/#std-label-database-profiler)
* [`db.setProfilingLevel()`](/docs/v5.0/reference/method/db.setProfilingLevel/#mongodb-method-db.setProfilingLevel)
* [`profile`](/docs/v5.0/reference/command/profile/#mongodb-dbcommand-dbcmd.profile)
### Log Changes to Database Profiler Settings

Starting in MongoDB 5.0, changes made to the [database profiler](/docs/v5.0/tutorial/manage-the-database-profiler/#std-label-database-profiler) `level`, `slowms`, `sampleRate`, or
`filter` using the [`profile`](/docs/v5.0/reference/command/profile/#mongodb-dbcommand-dbcmd.profile) command or
[`db.setProfilingLevel()`](/docs/v5.0/reference/method/db.setProfilingLevel/#mongodb-method-db.setProfilingLevel) wrapper method are recorded in the
[`log file`.](/docs/v5.0/reference/program/mongod/#std-option-mongod.--logpath)

### Independent Log Rotation for Server and Audit Logs

Starting in MongoDB 5.0, when [auditing](/docs/v5.0/core/auditing/) is
enabled, you may now rotate the server and audit logs
independently using the [`logRotate`](/docs/v5.0/reference/command/logRotate/#mongodb-dbcommand-dbcmd.logRotate) command.
Previously, [`logRotate`](/docs/v5.0/reference/command/logRotate/#mongodb-dbcommand-dbcmd.logRotate) would rotate the two logs together.

### `remote` Field in Slow Operation Logs

Starting in MongoDB 5.0, [slow operation](/docs/v5.0/tutorial/manage-the-database-profiler/#std-label-database-profiling-specify-slowms-threshold) log messages include a
`remote` field specifying client IP address.

### `remoteOpWaitMillis` Log Field

Starting in MongoDB 5.0, you can use the [remoteOpWaitMillis](/docs/v5.0/reference/log-messages/#std-label-log-messages-remoteOpWaitMillis) log field to obtain the wait time for
results from [shards.](/docs/v5.0/reference/glossary/#std-term-shard)

### `resolvedViews` Log Field for Slow Queries on Views

Starting in MongoDB 5.0, [log messages for slow queries](/docs/v5.0/reference/log-messages/#std-label-log-message-slow-ops) on [views](/docs/v5.0/reference/log-messages/#std-label-log-message-view-example)
include a `resolvedViews` field that contains the view details.

### Define Variables Using the `let` Option

Starting in MongoDB 5.0, the following commands have a `let` option to
define a list of variables. This allows you to improve command
readability by separating the variables from the query text.

* [`find`](/docs/v5.0/reference/command/find/#mongodb-dbcommand-dbcmd.find) command
* [`findAndModify`](/docs/v5.0/reference/command/findAndModify/#mongodb-dbcommand-dbcmd.findAndModify) command and corresponding
  [`db.collection.findAndModify()`](/docs/v5.0/reference/method/db.collection.findAndModify/#mongodb-method-db.collection.findAndModify) shell helper
* [`update`](/docs/v5.0/reference/command/update/#mongodb-dbcommand-dbcmd.update) command and corresponding
  [`db.collection.update()`](/docs/v5.0/reference/method/db.collection.update/#mongodb-method-db.collection.update) shell helper
* [`delete`](/docs/v5.0/reference/command/delete/#mongodb-dbcommand-dbcmd.delete) command
* [`db.collection.remove()`](/docs/v5.0/reference/method/db.collection.remove/#mongodb-method-db.collection.remove) shell helper

The [`update`](/docs/v5.0/reference/command/update/#mongodb-dbcommand-dbcmd.update) command also has a `c` field to define a list
of variables.

### Support for Username to LDAP DN Mapping by Default

Starting in MongoDB 5.0, the [`userToDNMapping`](/docs/v5.0/reference/configuration-options/#mongodb-setting-security.ldap.userToDNMapping)
configuration file option and the [`--ldapUserToDNMapping`](/docs/v5.0/reference/program/mongod/#std-option-mongod.--ldapUserToDNMapping) command line option for
[`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) / [`mongos`](/docs/v5.0/reference/program/mongos/#mongodb-binary-bin.mongos) and [`mongoldap`](/docs/v5.0/reference/program/mongoldap/#std-program-mongoldap)
now map the authenticated username as the LDAP DN by default if an
empty mapping document (i.e. an empty string or empty array) is
specified to the option. Previously, providing an empty mapping document
would cause mapping to fail.

### Additional `dbStats` Free Space Statistics

Starting in MongoDB 5.0, the [`dbStats`](/docs/v5.0/reference/command/dbStats/#mongodb-dbcommand-dbcmd.dbStats) command outputs these
additional statistics:

* Free space allocated to collections ([`freeStorageSize`)](/docs/v5.0/reference/command/dbStats/#mongodb-data-dbStats.freeStorageSize)
* Free space allocated to indexes
  ([`indexFreeStorageSize`)](/docs/v5.0/reference/command/dbStats/#mongodb-data-dbStats.indexFreeStorageSize)
* Total free space allocated to collections and indexes
  ([`totalFreeStorageSize`)](/docs/v5.0/reference/command/dbStats/#mongodb-data-dbStats.totalFreeStorageSize)
### `serverStatus` Output Change

[`serverStatus`](/docs/v5.0/reference/command/serverStatus/#mongodb-dbcommand-dbcmd.serverStatus) includes the following new fields in its
output:

Aggregation Metrics

* [`metrics.commands.update.pipeline`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.commands.update.pipeline)
* [`metrics.commands.update.arrayFilters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.commands.update.arrayFilters)
* [`metrics.commands.findAndModify.pipeline`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.commands.findAndModify.pipeline)
* [`metrics.commands.findAndModify.arrayFilters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.commands.findAndModify.arrayFilters)
* [`metrics.dotsAndDollarsFields`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.dotsAndDollarsFields)
* [`metrics.operatorCounters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.operatorCounters)
API Version Metrics

* [`metrics.apiVersions`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.apiVersions)
Replication Metrics

* [`metrics.repl.reconfig.numAutoReconfigsForRemovalOfNewlyAddedFields`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.repl.reconfig.numAutoReconfigsForRemovalOfNewlyAddedFields)
Read Concern Counters

* [`readConcernCounters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.readConcernCounters), which reports on the
  [read concern level](/docs/v5.0/reference/read-concern/#std-label-read-concern-levels) specified by query
  operations ([`readConcernCounters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.readConcernCounters) replaces
  [`opReadConcernCounters`)](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.opReadConcernCounters)
* [`readConcernCounters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.readConcernCounters) now has the following new
  fields:

  + `readConcernCounters.nonTransactionOps.noneInfo`
  + `readConcernCounters.transactionOps.noneInfo`
Write Concern Counters

* [`opWriteConcernCounters`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.opWriteConcernCounters) now has the following new
  fields:

  + `opWriteConcernCounters.insert.noneInfo`
  + `opWriteConcernCounters.update.noneInfo`
  + `opWriteConcernCounters.delete.noneInfo`
Number of Threaded Connections

* [`connections.threaded`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.connections.threaded), which reports the number of
  incoming connections from clients that are assigned to threads that
  service client requests
Resharding Statistics

* [`shardingStatistics.resharding`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.shardingStatistics.resharding), which reports
  statistics about resharding operations
Service Executor Metrics

* [`network.serviceExecutors`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.network.serviceExecutors), which reports on the
  service executors that run operations for client requests
Cursor Metrics

* [`metrics.cursor.moreThanOneBatch`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.cursor.moreThanOneBatch), which reports the
  total number of cursors that have returned more than one batch
  (additional batches are retrieved using the [`getMore`](/docs/v5.0/reference/command/getMore/#mongodb-dbcommand-dbcmd.getMore)
  command)
* [`metrics.cursor.totalOpened`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.cursor.totalOpened), which reports the total
  number of cursors that have been opened
Security Counter

* [`security.authentication.saslSupportedMechsReceived`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.security.authentication.saslSupportedMechsReceived),
  which reports the number of times a [`hello`](/docs/v5.0/reference/command/hello/#mongodb-dbcommand-dbcmd.hello) request
  includes a valid [`hello.saslSupportedMechs`](/docs/v5.0/reference/command/hello/#mongodb-data-hello.saslSupportedMechs) field.
Repl

* [`repl`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.repl) now includes a
  [`primaryOnlyServices`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.repl.primaryOnlyServices) document that
  contains additional information about services that only run on
  replica set primaries.
Change Stream Metrics

* [`metrics.changeStreams`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.changeStreams)
* [`metrics.changeStreams.largeEventsFailed`](/docs/v5.0/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.metrics.changeStreams.largeEventsFailed)
### Plan Cache Debug Info Size Limit

Starting in MongoDB 5.0, the
[plan cache](/docs/v5.0/core/query-plans/) will save full `plan cache`
entries only if the cumulative size of the `plan caches` for all
collections is lower than 0.5 GB. When the cumulative size of the
`plan caches` for all collections exceeds this threshold, additional
`plan cache` entries are stored without certain debug information.

The estimated size in bytes of a `plan cache` entry is available in
the output of [`$planCacheStats`.](/docs/v5.0/reference/operator/aggregation/planCacheStats/#mongodb-pipeline-pipe.-planCacheStats)

### Closure of Inactive Cursors Opened Within a Session

Starting in MongoDB 5.0, cursors created within a
[client session](/docs/v5.0/core/read-isolation-consistency-recency/) close
when the corresponding [server session](/docs/v5.0/reference/server-sessions/)
ends with the [`killSessions`](/docs/v5.0/reference/command/killSessions/#mongodb-dbcommand-dbcmd.killSessions) command, if the session times
out, or if the client has exhausted the cursor.
See [Iterate a Cursor in `mongosh`.](/docs/v5.0/tutorial/iterate-a-cursor/#std-label-read-operations-cursors)

### New `validateDBMetadata` Command

MongoDB 5.0 adds the [`validateDBMetadata`](/docs/v5.0/reference/command/validateDBMetadata/#mongodb-dbcommand-dbcmd.validateDBMetadata) command. The
[`validateDBMetadata`](/docs/v5.0/reference/command/validateDBMetadata/#mongodb-dbcommand-dbcmd.validateDBMetadata) command checks that the stored metadata
of a database or a collection is valid within a particular API version.

## Performance Considerations

### Implicit Default Write Concern

MongoDB 5.0 changes the default [write concern](/docs/v5.0/reference/write-concern/#std-label-write-concern) to
[`{ w: "majority" }`](/docs/v5.0/reference/write-concern/#mongodb-writeconcern-writeconcern.-majority-). The new default write concern
might impact performance since MongoDB acknowledges writes only after a
[calculated majority](/docs/v5.0/reference/write-concern/#std-label-calculating-majority-count) of replica set
members have executed and persisted the write to disk.

If your application relies on performance-sensitive writes, you can
override the default write concern at the cost of data durability guarantees.
To override this setting, you can:

* Set the write concern at the individual operation level for
  performance-critical writes. For more information, see your
  [driver documentation.](https://www.mongodb.com/docs/drivers/)
* Use the [`setDefaultRWConcern`](/docs/v5.0/reference/command/setDefaultRWConcern/#mongodb-dbcommand-dbcmd.setDefaultRWConcern) command to explicitly set the default
  write concern.

## Warning

If write operations use [`{ w: 1 }`](/docs/v5.0/reference/write-concern/#mongodb-writeconcern-writeconcern.-number-) write concern,
the rollback directory may exclude writes submitted after an
[oplog hole](/docs/v5.0/reference/glossary/#std-term-oplog-hole) if the primary restarts before the write operation
completes.

### `local` Default Read Concern

Starting in MongoDB 5.0, [`"local"`](/docs/v5.0/reference/read-concern-local/#mongodb-readconcern-readconcern.-local-) is the default read
concern level for read operations against the primary and secondaries.

This may introduce a significant latency increase for count queries that
use a filter and for [covered queries.](/docs/v5.0/core/query-optimization/#std-label-covered-queries)

You can opt out of this behavior by setting the cluster-wide
[read concern](/docs/v5.0/reference/read-concern/#std-label-read-concern) with
[`setDefaultRWConcern`.](/docs/v5.0/reference/command/setDefaultRWConcern/#mongodb-dbcommand-dbcmd.setDefaultRWConcern)

### Snapshot History Retention

MongoDB 5.0 increases the default value of
[`minSnapshotHistoryWindowInSeconds`](/docs/v5.0/reference/parameters/#mongodb-parameter-param.minSnapshotHistoryWindowInSeconds) to `300`, which might
negatively impact performance. If you aren't using read concern
[`"snapshot"`](/docs/v5.0/reference/read-concern-snapshot/#mongodb-readconcern-readconcern.-snapshot-), you can reduce the value of the
`minSnapshotHistoryWindowInSeconds` parameter to `5` on all
[`mongod`](/docs/v5.0/reference/program/mongod/#mongodb-binary-bin.mongod) instances. For more information, see
[Snapshot History Retention.](/docs/v5.0/core/wiredtiger/#std-label-storage-snapshot-history)

## Note

If you are running a sharded cluster, do not change
`minSnapshotHistoryWindowInSeconds` on [config servers.](/docs/v5.0/core/sharded-cluster-config-servers/#std-label-sharding-config-server)

## Platform Support

### Minimum Microarchitecture

MongoDB 5.0 introduces the following minimum microarchitecture
requirements:

| CPU | Minimum Supported Microarchitecture |
| --- | --- |
| Intel `x86_64` | MongoDB 5.0 requires one of:   * Intel *Sandy Bridge* or later Core processor, or * Intel *Tiger Lake* or later Celeron or Pentium processor. |
| AMD `x86_64` | MongoDB 5.0 requires AMD *Bulldozer* or later. |
| ARM `arm64` | MongoDB 5.0 requires *ARMv8.2-A* or later. |

MongoDB v5.0 is not supported on `x86_64` or `arm64` platforms that
do not meet these minimum microarchitecture requirements.

See [x86\_64 Platform Support](/docs/v5.0/administration/production-notes/#std-label-prod-notes-supported-platforms-x86_64) for more information.

### Removed Platforms

MongoDB 5.0 removes support for the following platforms:

* **macOS 10.13**
* **RHEL 7 / CentOS 7 / Oracle 7** on the
  [PPC64LE](/docs/v5.0/administration/production-notes/#std-label-prod-notes-supported-platforms-PPC64LE) architecture
* **SLES 12** on the [s390x](/docs/v5.0/administration/production-notes/#std-label-prod-notes-supported-platforms-s390x)
  architecture
* **Ubuntu 18.04** on the
  [PPC64LE](/docs/v5.0/administration/production-notes/#std-label-prod-notes-supported-platforms-PPC64LE) and
  [s390x](/docs/v5.0/administration/production-notes/#std-label-prod-notes-supported-platforms-s390x) architectures
* Starting in MongoDB 5.0.6, Community Edition **RHEL -72-s390x**

See [Platform Support](/docs/v5.0/administration/production-notes/#std-label-prod-notes-supported-platforms) for the full list of platforms
and architectures supported in MongoDB 5.0.

## Changes Affecting Compatibility

Some changes can affect compatibility and may require user actions. For
a detailed list of compatibility changes, see
[Compatibility Changes in MongoDB 5.0.](/docs/v5.0/release-notes/5.0-compatibility/)

## Upgrade Procedures

## Important

### **Feature Compatibility Version**

To upgrade to MongoDB 5.0 from a 4.4 deployment, the 4.4 deployment
must have `featureCompatibilityVersion` set to `4.4`. To check
the version:

```

| db.adminCommand( { getParameter: 1, featureCompatibilityVersion: 1 } ) |
| --- |

```

To upgrade to MongoDB 5.0, refer to the upgrade instructions specific to
your MongoDB deployment:

* [Upgrade a Standalone to 5.0](/docs/v5.0/release-notes/5.0-upgrade-standalone/)
* [Upgrade a Replica Set to 5.0](/docs/v5.0/release-notes/5.0-upgrade-replica-set/)
* [Upgrade a Sharded Cluster to 5.0](/docs/v5.0/release-notes/5.0-upgrade-sharded-cluster/)

If you need guidance on upgrading to 5.0, [MongoDB professional services](https://www.mongodb.com/products/consulting?tck=docs_server) offer
major version upgrade support to help ensure a smooth transition
without interruption to your MongoDB application.

## Downgrade Consideration

MongoDB only supports single-version downgrades. You cannot downgrade to a
release that is multiple versions behind your current release.

For example, you may downgrade a 5.0-series to a 4.4-series deployment.
However, further downgrading that 4.4-series deployment to a 4.2-series
deployment is not supported.

## Download

To download MongoDB 5.0, go to the [MongoDB Download Center](https://www.mongodb.com/try/download?tck=docs_server).

## Tip

### **See also:**

* [All Third Party License Notices](https://github.com/mongodb/mongo/blob/v4.4/distsrc/THIRD-PARTY-NOTICES).
## Known Issues

| In Version | Issues | Status |
| --- | --- | --- |
| 5.0.0 | [SERVER-58171](https://jira.mongodb.org/browse/SERVER-58171): A Time Series collection's `granularity` parameter cannot be modified after the collection is created. | Fixed in 5.0.1 |
| 5.0.0 | [SERVER-58392](https://jira.mongodb.org/browse/SERVER-58392): An ongoing resharding operation may prevent a backup or restore operation from succeeding. | Unresolved |

## Report an Issue

To report an issue, see
<https://github.com/mongodb/mongo/wiki/Submit-Bug-Reports> for
instructions on how to file a JIRA ticket for the MongoDB server or one
of the related projects.

[Back

Release Notes](/docs/v5.0/release-notes/ "Previous Section")[Next

Compatibility Changes](/docs/v5.0/release-notes/5.0-compatibility/ "Next Section")

On this page

* [Patch Releases](#patch-releases)
* [Time Series Collections](#time-series-collections)
* [Aggregation](#aggregation)
* [Auditing](#auditing)
* [Capped Collections](#capped-collections)
* [Change Streams](#change-streams)
* [Indexes](#indexes)
* [Removed Commands](#removed-commands)
* [Replica Sets](#replica-sets)
* [Security](#security)
* [Sharded Clusters](#sharded-clusters)
* [Shell Changes](#shell-changes)
* [Snapshots](#snapshots)
* [Transactions](#transactions)
* [Naming Changes](#naming-changes)
* [General Changes](#general-changes)
* [Performance Considerations](#performance-considerations)
* [Platform Support](#platform-support)
* [Changes Affecting Compatibility](#changes-affecting-compatibility)
* [Upgrade Procedures](#upgrade-procedures)
* [Downgrade Consideration](#downgrade-consideration)
* [Download](#download)
* [Known Issues](#known-issues)
* [Report an Issue](#report-an-issue)

