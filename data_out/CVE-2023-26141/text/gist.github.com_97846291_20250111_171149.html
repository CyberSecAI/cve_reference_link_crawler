
[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@keeganparr1](https://avatars.githubusercontent.com/u/11513262?s=64&v=4)](/keeganparr1)

# [keeganparr1](/keeganparr1)/**[SidekiqDoS.txt](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a)** Secret

Last active
September 15, 2023 07:53

Show Gist options

* [Download ZIP](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a/archive/484bc2072ebe64e1f88d4439d94141485377ab01.zip)

* [Star
  (1)
  1](/login?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a)You must be signed in to star a gist
* [Fork
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a.js&quot;&gt;&lt;/script&gt;
* Save keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a to your computer and use it in GitHub Desktop.

[Code](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a)
[Revisions
6](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a/revisions)
[Stars
1](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a/stargazers)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a.js&quot;&gt;&lt;/script&gt;

Save keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a to your computer and use it in GitHub Desktop.

[Download ZIP](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a/archive/484bc2072ebe64e1f88d4439d94141485377ab01.zip)

Sidekiq DoS

 [Raw](/keeganparr1/1dffd3c017339b7ed5371ed3d81e6b2a/raw/484bc2072ebe64e1f88d4439d94141485377ab01/SidekiqDoS.txt)

[**SidekiqDoS.txt**](#file-sidekiqdos-txt)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

|  | When testing Sidekiq version 6.5.8 and reviewing the code for the current main release on their Github, the same functionality exists, which should indicate the newest version is vulnerable as well. |
| --- | --- |
|  |  |
|  | In the version 6.x of their codebase the vulnerability is on line 6 of https://github.com/sidekiq/sidekiq/blob/6-x/web/assets/javascripts/dashboard.js: |
|  | var timeInterval = parseInt(localStorage.sidekiqTimeInterval) || 5000; |
|  |  |
|  | If you look at the latest release in MAIN on line 60 in https://github.com/sidekiq/sidekiq/blob/main/web/assets/javascripts/dashboard-charts.js the localStorage.sidekiqTimeInterval is parsed using parseInt and set as the delay: |
|  | this.delay = parseInt(localStorage.sidekiqTimeInterval) || 5000; |
|  | this.startPolling(); |
|  | document.addEventListener("interval:update", this.handleUpdate.bind(this)); |
|  |  |
|  | This is then used on line 68 to set the polling interval: |
|  | this.\_interval = setInterval(this.poll.bind(this), this.delay); |
|  |  |
|  | When inserting values such as 1 here it correlates to 1000 polling requests a second (by default if nothing is set it is set to a value of 5000 which is 5000 milliseconds/5 seconds). The localstorage value sidekiqTimeInterval is not sanitized user input which causes a Denial of Service if a value such as "1", is used. The heavy traffic from the polling makes the site unusable and can potentially bring the site and server down. |
|  |  |
|  | The front end HTML input type="range" code for the app sets maximum and minimum values, but the local storage value being used doesn't get validated in the back end code to prevent abuse. For example, see line 18 https://github.com/sidekiq/sidekiq/blob/main/web/views/dashboard.erb: |
|  | <input id="sldr" type="range" min="2000" max="20000" step="1000" value="5000"/> |
|  |  |
|  | The "attacking" POC payload entered into the local storage value is "1". This is entered by loading the main/default Sidekiq page dashboard, opening developer tools in the browser, going to Memory-->Local Storage and changing the only local storage value there is to "1". Reload/refresh the page and then the site tries to load and freezes uncontrollably because of the 1000 polling requests a second |
|  |  |
|  | This vulnerability impacts the availability of the entire site using Sidekiq. The value that is not sanitized user input is in local storage, not the cookie. If cross-site scripting is found anywhere in the application an attacker can run JavaScript to pull or insert values in the local storage value, causing the Denial of Service. In my testing, I'm seeing at minimum hundreds/thousands of requests per second. |
|  |  |
|  | This specific instance of Sidekiq is running on an enterprise grade server that can take thousands of requests a second. Also, I'm not entirely sure what would happen if multiple users that had access to the dashboard performed the POC payload in the localstorage value. My guess is the attack would be amplified by 1000 requests a second per user. |

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2Fkeeganparr1%2F1dffd3c017339b7ed5371ed3d81e6b2a)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

