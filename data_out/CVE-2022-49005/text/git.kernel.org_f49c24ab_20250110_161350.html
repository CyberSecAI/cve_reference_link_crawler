

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=698813ba8c580efb356ace8dbf55f61dac6063a8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=698813ba8c580efb356ace8dbf55f61dac6063a8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=698813ba8c580efb356ace8dbf55f61dac6063a8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=698813ba8c580efb356ace8dbf55f61dac6063a8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mark Brown <broonie@kernel.org> | 2022-05-11 14:41:36 +0100 |
| --- | --- | --- |
| committer | Mark Brown <broonie@kernel.org> | 2022-05-12 11:41:21 +0100 |
| commit | [698813ba8c580efb356ace8dbf55f61dac6063a8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=698813ba8c580efb356ace8dbf55f61dac6063a8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=698813ba8c580efb356ace8dbf55f61dac6063a8)) | |
| tree | [53ec341920244209927d096bfc918ee949d529a4](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=698813ba8c580efb356ace8dbf55f61dac6063a8) | |
| parent | [b776c4a4618ec1b5219d494c423dc142f23c4e8f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b776c4a4618ec1b5219d494c423dc142f23c4e8f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=698813ba8c580efb356ace8dbf55f61dac6063a8&id2=b776c4a4618ec1b5219d494c423dc142f23c4e8f)) | |
| download | [linux-698813ba8c580efb356ace8dbf55f61dac6063a8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-698813ba8c580efb356ace8dbf55f61dac6063a8.tar.gz) | |

ASoC: ops: Fix bounds check for \_sx controlsFor \_sx controls the semantics of the max field is not the usual one, max
is the number of steps rather than the maximum value. This means that our
check in snd\_soc\_put\_volsw\_sx() needs to just check against the maximum
value.
Fixes: 4f1e50d6a9cf9c1b ("ASoC: ops: Reject out of bounds values in snd\_soc\_put\_volsw\_sx()")
Signed-off-by: Mark Brown <broonie@kernel.org>
Link: [https://lore.kernel.org/r/20220511134137.169575-1-broonie@kernel.org](https://lore.kernel.org/r/20220511134137.169575-1-broonie%40kernel.org)
Signed-off-by: Mark Brown <broonie@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=698813ba8c580efb356ace8dbf55f61dac6063a8)

| -rw-r--r-- | [sound/soc/soc-ops.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/soc/soc-ops.c?id=698813ba8c580efb356ace8dbf55f61dac6063a8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/sound/soc/soc-ops.c b/sound/soc/soc-ops.cindex e693070f51fe81..1ac7e2ce31a185 100644--- a/[sound/soc/soc-ops.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/soc/soc-ops.c?id=b776c4a4618ec1b5219d494c423dc142f23c4e8f)+++ b/[sound/soc/soc-ops.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/soc/soc-ops.c?id=698813ba8c580efb356ace8dbf55f61dac6063a8)@@ -435,7 +435,7 @@ int snd\_soc\_put\_volsw\_sx(struct snd\_kcontrol \*kcontrol, val = ucontrol->value.integer.value[0]; if (mc->platform\_max && val > mc->platform\_max) return -EINVAL;- if (val > max - min)+ if (val > max) return -EINVAL; val\_mask = mask << shift; val = (val + min) & mask; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 16:12:28 +0000

