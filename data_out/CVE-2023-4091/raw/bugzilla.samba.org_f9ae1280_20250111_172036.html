<!DOCTYPE html>
<html lang="en">
  <head>
    <title>15439 &ndash; (CVE-2023-4091) [SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

<link href="data/assets/58b166b1ac0982d90f5ab070758ea274.css" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "15439 – (CVE-2023-4091) [SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions",
                             "show_bug.cgi?id=15439" );
        document.title = "15439 – (CVE-2023-4091) [SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "15439 – (CVE-2023-4091) [SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="data/assets/daf5e0fb6826e6a35280e622913f0c4a.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="The Samba-Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="favicon.ico">
  </head>

  <body 
        class="bugzilla-samba-org
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Samba_4.1_and_newer
                 bz_component_File_services
                 bz_bug_15439 yui-skin-sam">

  <div id="header"><div style="background-image:url(/images/blueHeaderSimple.png);
 background-repeat:repeat-x;
 background-size: contain;
 height:24px;
 border-radius: 38px 10px;
">
</div>

    <div id="titles">
      <span id="title">The Samba-Bugzilla &ndash; Bug&nbsp;15439</span>

        <span id="subtitle" class="subheader">[SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions</span>

        <span id="information" class="header_addl_info">Last modified: 2023-10-20 09:16:08 UTC</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_top">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=15439&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=15439" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        type="email" placeholder="Email Address">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="1736616035-Ek2XxMQA07PSo0carniF6hHXEw9RXIOnqdrqFck9Ujc">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>


  <li id="forgot_container_top">
    <span class="separator">| </span>
    <a id="forgot_link_top" href="show_bug.cgi?id=15439&amp;GoAheadAndLogIn=1#forgot"
       onclick="return show_forgot_form('_top')">Forgot Password</a>
    <form action="token.cgi" method="post" id="forgot_form_top"
          class="mini_forgot bz_default_hidden">
      <label for="login_top">Login:</label>
      <input name="loginname" size="20" id="login_top" required
          type="email" placeholder="Your Email Address">
      <input id="forgot_button_top" value="Reset Password" type="submit">
      <input type="hidden" name="a" value="reqpw">
      <input type="hidden" id="token_top" name="token"
             value="1736616035-pbM4hml_3RalChVOnSjuSrIHOHbGQ5zz6pmROOxCJYk">
      <a href="#" onclick="return hide_forgot_form('_top')">[x]</a>
    </form>
  </li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2023-10-20 09:16:08">
  <input type="hidden" name="id" value="15439">
  <input type="hidden" name="token" value="1736616035-L_NE6hm_o07BWbA17QLoM9usNWQz6iYtfaRy-o_sjj4">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=15439"><b>Bug&nbsp;15439</b></a> <span id="summary_container" class="bz_default_hidden">
        (<span id="alias_nonedit_display">CVE-2023-4091</span>)
      - <span id="short_desc_nonedit_display">[SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[SECURITY] CVE-2023-4091: Client can truncate file with read-only permissions' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>CVE-2023-4091
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Samba 4.1 and newer

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Samba 4.1 and newer"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >File services

  (<a href="buglist.cgi?component=File%20services&amp;product=Samba%204.1%20and%20newer&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>
<td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">All
        All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P5
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=15439#vote_15439">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th><td>---
  </td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'samba-qa\x40samba.org',
        'samba-qa\x40samba.org');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>


    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED"
   href="show_bug.cgi?id=15483">15483</a> 
  </td>
  </tr>

    <tr>
      <th>&nbsp;</th>

      <td id="show_dependency_tree_or_graph">
        Show dependency <a href="showdependencytree.cgi?id=15439&amp;hide_resolved=1">tree</a>

          /&nbsp;<a href="showdependencygraph.cgi?id=15439">graph</a>
      </td>
    </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2023-08-01 13:42 UTC by <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2023-10-20 09:16 UTC
      (<a href="show_activity.cgi?id=15439">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>6 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="diana.della.rocchetta">diana.della.rocchetta</option>
                <option value="jra">jra</option>
                <option value="metze">metze</option>
                <option value="Muskaan.kalra">Muskaan.kalra</option>
                <option value="scabrero">scabrero</option>
                <option value="snagasubramanian">snagasubramanian</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=18018"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Possible patch for master</span></b></a>

          <span class="bz_attach_extra_info">
              (8.36 KB,
                patch)

            <br>
            <a href="#attach_18018"
               title="Go to the comment associated with the attachment">2023-08-01 13:43 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
                  <span title="Ralph Böhme">slow</span>:
                ci-passed+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18018&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=18021"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Advisory v1</span></b></a>

          <span class="bz_attach_extra_info">
              (2.29 KB,
                text/plain)

            <br>
            <a href="#attach_18021"
               title="Go to the comment associated with the attachment">2023-08-03 09:39 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review-
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18021&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=18069"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Advisory v2</span></b></a>

          <span class="bz_attach_extra_info">
              (2.66 KB,
                text/plain)

            <br>
            <a href="#attach_18069"
               title="Go to the comment associated with the attachment">2023-08-25 14:37 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=18069&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=18070"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Advisory v3</span></b></a>

          <span class="bz_attach_extra_info">
              (2.71 KB,
                text/plain)

            <br>
            <a href="#attach_18070"
               title="Go to the comment associated with the attachment">2023-08-25 14:40 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18070&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=18129"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch for master</span></b></a>

          <span class="bz_attach_extra_info">
              (5.16 KB,
                patch)

            <br>
            <a href="#attach_18129"
               title="Go to the comment associated with the attachment">2023-09-28 17:26 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Stefan Metzmacher">metze</span>:
                review-
                <br>
                  <span title="Ralph Böhme">slow</span>:
                ci-passed+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18129&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=18130"
               title="View the content of the attachment">
          <b>Patch for 4.19</b></a>

          <span class="bz_attach_extra_info">
              (7.57 KB,
                patch)

            <br>
            <a href="#attach_18130"
               title="Go to the comment associated with the attachment">2023-09-28 17:26 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
                  <span title="Stefan Metzmacher">metze</span>:
                review+
                <br>
                  <span title="Ralph Böhme">slow</span>:
                ci-passed+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18130&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=18131"
               title="View the content of the attachment">
          <b>Patch for 4.18</b></a>

          <span class="bz_attach_extra_info">
              (7.57 KB,
                patch)

            <br>
            <a href="#attach_18131"
               title="Go to the comment associated with the attachment">2023-09-28 17:27 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
                  <span title="Stefan Metzmacher">metze</span>:
                review+
                <br>
                  <span title="Ralph Böhme">slow</span>:
                ci-passed+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18131&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=18132"
               title="View the content of the attachment">
          <b>Patch for 4.17</b></a>

          <span class="bz_attach_extra_info">
              (7.57 KB,
                patch)

            <br>
            <a href="#attach_18132"
               title="Go to the comment associated with the attachment">2023-09-28 17:28 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
                  <span title="Ralph Böhme">slow</span>:
                ci-passed+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18132&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_text_plain">
        <td>
            <a href="attachment.cgi?id=18146"
               title="View the content of the attachment">
          <b>Advisory v4 with correct version numbers</b></a>

          <span class="bz_attach_extra_info">
              (2.72 KB,
                text/plain)

            <br>
            <a href="#attach_18146"
               title="Go to the comment associated with the attachment">2023-09-29 08:38 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18146&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=18149"
               title="View the content of the attachment">
          <b>Patch for master</b></a>

          <span class="bz_attach_extra_info">
              (7.57 KB,
                patch)

            <br>
            <a href="#attach_18149"
               title="Go to the comment associated with the attachment">2023-10-02 09:05 UTC</a>,

            <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Ralph Böhme">slow</span>:
                review?
                
                    (<span title="Stefan Metzmacher">metze</span>)<br>
                  <span title="Jeremy Allison">jra</span>:
                review+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=18149&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (5)
            <a id="view_all" href="attachment.cgi?bugid=15439&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=15439&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=15439&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        replytext = prefix;


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 13:42:10 UTC
        </span>

      </div>




<pre class="bz_comment_text">Opening a file with read-only filesystem permission with FILE_OVERWRITE[_IF] disposition, inccorrectly truncates the file due to a missing check for read-only access.

Have patch, need bugnumber.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 13:43:22 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=18018" name="attach_18018" title="Possible patch for master">attachment 18018</a> <a href="attachment.cgi?id=18018&amp;action=edit" title="Possible patch for master">[details]</a></span>
Possible patch for master</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 14:09:49 UTC
        </span>

      </div>




<pre class="bz_comment_text">I guess this warrants a CVE...

CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N (6.5)</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 14:22:50 UTC
        </span>

      </div>




<pre class="bz_comment_text">Oh, forgot, the only affected systems will be the ones where the effective SD != filesystem SD, eg when using vfs_acl_xattr with acl_xattr:ignore system acls = yes.

&quot;Normally&quot;, the filesystem and kernel will enforce the read-only from the filesystem as when we map FILE_OVERWRITE[_IF] to O_TRUNC we also change the access mode to O_RDWR which will be failed by the kernel/filesystem.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeremy Allison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 15:50:31 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Ralph Böhme from <a href="show_bug.cgi?id=15439#c3">comment #3</a>)

That makes it much less dangerous, correct ? Still a CVE but maybe not a 6.5 ?</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 16:50:14 UTC
        </span>

      </div>




<pre class="bz_comment_text">Well, I know at least two OEMs that ship this config, so I guess for them it's quite bad. CVE wise, I guess this might change Attack Complexity (AC) from low to high:

CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:N/I:H/A:N (5.3)</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 16:52:41 UTC
        </span>

      </div>




<pre class="bz_comment_text">I'm not really sure how to apply Attack Complexity (AC), maybe it's till &quot;low&quot;:

<a href="https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N">https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N</a></pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Bartlett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-01 19:50:11 UTC
        </span>

      </div>




<pre class="bz_comment_text"><a href="https://www.first.org/cvss/user-guide">https://www.first.org/cvss/user-guide</a> has this in the guidance in the changes for 3.1, which we use:

2.3.3. Assume Vulnerable Configurations

...If a specific configuration is required for an attack to succeed, the vulnerable component should be scored assuming it is in that configuration, providing it is a reasonable configuration....

I would say that acl_xattr:ignore system acls = yes, given is is widely deployed, is a reasonable (even if less safe) configuration.  

Attack complexity is not how to capture the administrators choice of configuration in any case, it is for the difference between 'just works' and 'difficult timing attack' or 'requires network interception'.</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-02 06:36:40 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Andrew Bartlett from <a href="show_bug.cgi?id=15439#c7">comment #7</a>)
Oh, thanks a lot Andrew, that is very helpful! :)

So it's a 6.5:

<a href="https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N">https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N</a></pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-03 09:39:23 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=18021" name="attach_18021" title="Advisory v1">attachment 18021</a> <a href="attachment.cgi?id=18021&amp;action=edit" title="Advisory v1">[details]</a></span>
Advisory v1</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeremy Allison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-03 16:41:25 UTC
        </span>

      </div>




<pre class="bz_comment_text">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=18021" name="attach_18021" title="Advisory v1">attachment 18021</a> <a href="attachment.cgi?id=18021&amp;action=edit" title="Advisory v1">[details]</a></span>
Advisory v1

This section:

&quot;When opening the system file handle, Samba internally opens
the file in read/write mode as that is required by POSIX
when passing O_TRUNC. Therefor most default Samba configurations
are not affected by this security vulnerability.&quot;

is confusing (i.e. I don't understand it).

Can you explicitly say what the file permissions on the disk are, and why opening for O_RDWR makes it not a problem when &quot;acl_xattr:ignore system acls = yes&quot; please ?</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-04 16:24:51 UTC
        </span>

      </div>




<pre class="bz_comment_text">Ok, what about this:

===========
Description
===========

SMB allows opening files for read-only and truncating the
opened files by specifying an OVERWRITE create
disposition. This operation requires write access to the
file, but Samba incorrectly checks the requested read-only
permission on the files ACL, instead of the required
read/write permission.

When accessing a file in Samba, there are two place where
permissions are evaluated and enforced:

1. The kernel enforces permissions for the system open() call

2. Samba's own permission checks based on reading the file's
ACL via Samba's VFS and checking the requested access againt
this ACL.

It's up to the configured VFS modules where the ACL is read
from and written to, in the default case, filesystem
POSIX-draft ACLs are converted to NT ACLs, the format used
internally in Samba. Samba supports a variety of VFS modules
to support filesystem with their own ACL implementations,
like GPFS and ZFS, and it has a module &quot;acl_xattr&quot; where the
ACL is stored in an filesystem extended attribute as well as
in filesystem POSIX-draft ACLs, using a best effort
translation of NT ACLs to POSIX-draft ACLs.

This translation sacrifices NT ACL compatibility in certain
corner cases, but the module supports an optional mode that
can be enabled by setting &quot;acl_xattr:ignore system acls =
yes&quot;. In this mode directories and files, when created, will
be assigned 0777 and 0666 permissions respectively. This
effectively bypasses permissions checks by the kernel,
making Samba's own user-space permission checks the only
place where permissions are enforced.

Now, when processing a client request to open a file
read-only with OVERWRITE disposition, Samba opens the file
via the VFS with SMB_VFS_OPENAT() in read/write mode as that
is required by POSIX when using O_TRUNC. Therefor most
default Samba configurations are not affected by this
security vulnerability as the effective filesystem
permissions are enforced by the kernel and filesystem
driver. If the file only allows read-only access for the
user, the open for read/write access will fail with EACCES.

Affected Samba configurations are the ones where somehow
kernel file-system permission checks are bypassed, relying
on Samba's own permission enforcement, because this check is
done against the client request read-only access, and not
the implicit read-write one.

The widely used Samba VFS module &quot;acl_xattr&quot; when configured
with the module configuration parameter &quot;acl_xattr:ignore
system acls = yes&quot; is the only upstream Samba module that
allows this behavior and is the only known attack vector.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeremy Allison</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-04 21:39:45 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Ralph Böhme from <a href="show_bug.cgi?id=15439#c11">comment #11</a>)

Probably a bit *too* verbose (sorry :-), Goldilocks and the 3 bears and all that :-). How about:

------------------------------------------------------
The SMB protocol allows opening files where the client requests
read-only access, but then implicitly truncating the opened file
if the client specifies a separate OVERWRITE create disposition.

This operation requires write access to the file, and in the
default Samba configuration the operating system kernel will
deny access to open a read-only file for read/write (which the
truncate operation requires).

However, when Samba has been configured to ignore kernel file
system permissions, Samba will truncate a file when the underlying
operating system kernel would deny the operation.

Affected Samba configurations are the ones where kernel file-system
permission checks are bypassed, relying on Samba's own permission enforcement.
The error is that this check is done against the client request for read-only
access, and not the implicitly requested read-write (for truncate) one.

The widely used Samba VFS module &quot;acl_xattr&quot; when configured
with the module configuration parameter &quot;acl_xattr:ignore
system acls = yes&quot; is the only upstream Samba module that
allows this behavior and is the only known method of reproducing
this security flaw.

If (as is the default) the module configuration parameter
&quot;acl_xattr:ignore system acls=no&quot;, then the Samba server is not
vulnerable to this attack.
------------------------------------------------------</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sri</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-10 14:57:58 UTC
        </span>

      </div>




<pre class="bz_comment_text">Hello Ralph/Jeremy,

A couple of questions about this fix:

What is the plan for this security patch being announced publicly?
Are there plans to make a patch available for 4.17?

Thanks,
Sri</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Bartlett</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-10 20:35:21 UTC
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Sri from <a href="show_bug.cgi?id=15439#c13">comment #13</a>)
Samba 4.17 is still under security support so an official security release (and patch) will be made.</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-25 14:37:51 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=18069" name="attach_18069" title="Advisory v2">attachment 18069</a> <a href="attachment.cgi?id=18069&amp;action=edit" title="Advisory v2">[details]</a></span>
Advisory v2

Thanks, much better. I knew you could help me trim my version! :)</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-08-25 14:40:42 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=18070" name="attach_18070" title="Advisory v3">attachment 18070</a> <a href="attachment.cgi?id=18070&amp;action=edit" title="Advisory v3">[details]</a></span>
Advisory v3

Creditting original reporter, otherwise unchanged...</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-09-28 17:26:00 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=18129" name="attach_18129" title="Patch for master">attachment 18129</a> <a href="attachment.cgi?id=18129&amp;action=edit" title="Patch for master">[details]</a></span>
Patch for master

Unchanged patch, added CVE number and my signed-off-by.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-09-28 17:26:49 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=18130" name="attach_18130" title="Patch for 4.19">attachment 18130</a> <a href="attachment.cgi?id=18130&amp;action=edit" title="Patch for 4.19">[details]</a></span>
Patch for 4.19</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-09-28 17:27:50 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=18131" name="attach_18131" title="Patch for 4.18">attachment 18131</a> <a href="attachment.cgi?id=18131&amp;action=edit" title="Patch for 4.18">[details]</a></span>
Patch for 4.18</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-09-28 17:28:25 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=18132" name="attach_18132" title="Patch for 4.17">attachment 18132</a> <a href="attachment.cgi?id=18132&amp;action=edit" title="Patch for 4.17">[details]</a></span>
Patch for 4.17</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-09-29 08:38:18 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=18146" name="attach_18146" title="Advisory v4 with correct version numbers">attachment 18146</a> <a href="attachment.cgi?id=18146&amp;action=edit" title="Advisory v4 with correct version numbers">[details]</a></span>
Advisory v4 with correct version numbers</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jule Anger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-02 07:20:39 UTC
        </span>

      </div>




<pre class="bz_comment_text">Opening security bugs to vendors. Release date is currently proposed to be October 10.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Metzmacher</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-02 08:03:42 UTC
        </span>

      </div>




<pre class="bz_comment_text">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=18129" name="attach_18129" title="Patch for master">attachment 18129</a> <a href="attachment.cgi?id=18129&amp;action=edit" title="Patch for master">[details]</a></span>
Patch for master

You most likely used the wrong commit hash for git format-patch --stdout -2</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralph Böhme</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-02 09:05:14 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=18149" name="attach_18149" title="Patch for master">attachment 18149</a> <a href="attachment.cgi?id=18149&amp;action=edit" title="Patch for master">[details]</a></span>
Patch for master

metze, Thanks for spotting this!</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jule Anger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 14:40:05 UTC
        </span>

      </div>




<pre class="bz_comment_text">Removing vendor CC (so that any public comments don't need to be broadcast so widely) and opening these bugs to the public.
If you wish to continue to be informed about any changes here please CC individually.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 14:45:59 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-17-stable:

45051934ffa479b25193f409a0c0fe7740f2415d
347d55084b76f53f752e9aae9e84a9f775cbec9d</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 14:47:23 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-18-stable:

ae5c0e1914a92a4cc73f37ff18a266b7d39d5b42
53c9e1c9d3b660837d4517cfe0f3da2f0744660b</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 14:48:17 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-19-stable:

2ff6cbcd3accaf7953de9fe0a05d0c2176af6b3c
6b6495c7125540f5bacc27ef76440340cf0fd58e</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:01:37 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-17-stable:

b08a60160e6ab8d982d31844bcbf7ab67ff3a8de
8b26f634372f11edcbea33dfd68a3d57889dfcc5</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:07:28 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-19-stable:

2761477b76c2eafd0c851dfdff998e730e433c4c
9cd1ad18af07098588163c0b5b69408e4002a7aa</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:08:36 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-18-stable:

bfe8e10bf3b5dafecd0b19ef8ea163327f73a531
3c432b144690353b7c86daf38612a2e19eb82084</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:18:14 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-17-test:

45051934ffa479b25193f409a0c0fe7740f2415d
347d55084b76f53f752e9aae9e84a9f775cbec9d
b08a60160e6ab8d982d31844bcbf7ab67ff3a8de
8b26f634372f11edcbea33dfd68a3d57889dfcc5</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:28:45 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-18-test:

ae5c0e1914a92a4cc73f37ff18a266b7d39d5b42
53c9e1c9d3b660837d4517cfe0f3da2f0744660b
bfe8e10bf3b5dafecd0b19ef8ea163327f73a531
3c432b144690353b7c86daf38612a2e19eb82084</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:48:28 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba master:

b1fd65694185c26f1e196d84ee8756300e631bd5
b70f4f8681ca1b0818d42f600fd8bbdd74c29346</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-10 15:59:44 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba v4-19-test:

2ff6cbcd3accaf7953de9fe0a05d0c2176af6b3c
6b6495c7125540f5bacc27ef76440340cf0fd58e
2761477b76c2eafd0c851dfdff998e730e433c4c
9cd1ad18af07098588163c0b5b69408e4002a7aa</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Samba QA Contact</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-11 12:53:03 UTC
        </span>

      </div>




<pre class="bz_comment_text">This bug was referenced in samba master:

94462dfabf0c14586c00a8161f125b2bd4d18ee1</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=15439#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jule Anger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2023-10-20 09:16:08 UTC
        </span>

      </div>




<pre class="bz_comment_text">Pushed to all branches.
Closing out bug report.
Thanks!</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=15439">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=15439">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=15439">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_bottom">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=15439&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=15439" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        type="email" placeholder="Email Address">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="1736616036-B2M3id8_QisU1HuyCQJOiYFvn5H7U4-Vo0Ie14-nkeo">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>


  <li id="forgot_container_bottom">
    <span class="separator">| </span>
    <a id="forgot_link_bottom" href="show_bug.cgi?id=15439&amp;GoAheadAndLogIn=1#forgot"
       onclick="return show_forgot_form('_bottom')">Forgot Password</a>
    <form action="token.cgi" method="post" id="forgot_form_bottom"
          class="mini_forgot bz_default_hidden">
      <label for="login_bottom">Login:</label>
      <input name="loginname" size="20" id="login_bottom" required
          type="email" placeholder="Your Email Address">
      <input id="forgot_button_bottom" value="Reset Password" type="submit">
      <input type="hidden" name="a" value="reqpw">
      <input type="hidden" id="token_bottom" name="token"
             value="1736616036-WmKluS0OZLaYaYkAqKClIHjp9zNaAr8dxhaQyKIPceA">
      <a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
    </form>
  </li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>