
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-threadx%2Fusbx%2Fblob%2Fmaster%2Fcommon%2Fusbx_host_classes%2Fsrc%2Fux_host_class_cdc_ecm_mac_address_get.c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-threadx%2Fusbx%2Fblob%2Fmaster%2Fcommon%2Fusbx_host_classes%2Fsrc%2Fux_host_class_cdc_ecm_mac_address_get.c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=eclipse-threadx%2Fusbx)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[eclipse-threadx](/eclipse-threadx)
/
**[usbx](/eclipse-threadx/usbx)**
Public

* [Notifications](/login?return_to=%2Feclipse-threadx%2Fusbx) You must be signed in to change notification settings
* [Fork
  95](/login?return_to=%2Feclipse-threadx%2Fusbx)
* [Star
   164](/login?return_to=%2Feclipse-threadx%2Fusbx)

* [Code](/eclipse-threadx/usbx)
* [Issues
  51](/eclipse-threadx/usbx/issues)
* [Pull requests
  6](/eclipse-threadx/usbx/pulls)
* [Discussions](/eclipse-threadx/usbx/discussions)
* [Actions](/eclipse-threadx/usbx/actions)
* [Security](/eclipse-threadx/usbx/security)
* [Insights](/eclipse-threadx/usbx/pulse)

Additional navigation options

* [Code](/eclipse-threadx/usbx)
* [Issues](/eclipse-threadx/usbx/issues)
* [Pull requests](/eclipse-threadx/usbx/pulls)
* [Discussions](/eclipse-threadx/usbx/discussions)
* [Actions](/eclipse-threadx/usbx/actions)
* [Security](/eclipse-threadx/usbx/security)
* [Insights](/eclipse-threadx/usbx/pulse)

## Files

 master
## Breadcrumbs

1. [usbx](/eclipse-threadx/usbx/tree/master)
2. /[common](/eclipse-threadx/usbx/tree/master/common)
3. /[usbx\_host\_classes](/eclipse-threadx/usbx/tree/master/common/usbx_host_classes)
4. /[src](/eclipse-threadx/usbx/tree/master/common/usbx_host_classes/src)
/
# ux\_host\_class\_cdc\_ecm\_mac\_address\_get.c

 Blame  Blame
## Latest commit

## History

[History](/eclipse-threadx/usbx/commits/master/common/usbx_host_classes/src/ux_host_class_cdc_ecm_mac_address_get.c)354 lines (278 loc) · 19.4 KB master
## Breadcrumbs

1. [usbx](/eclipse-threadx/usbx/tree/master)
2. /[common](/eclipse-threadx/usbx/tree/master/common)
3. /[usbx\_host\_classes](/eclipse-threadx/usbx/tree/master/common/usbx_host_classes)
4. /[src](/eclipse-threadx/usbx/tree/master/common/usbx_host_classes/src)
/
# ux\_host\_class\_cdc\_ecm\_mac\_address\_get.c

Top
## File metadata and controls

* Code
* Blame

354 lines (278 loc) · 19.4 KB[Raw](https://github.com/eclipse-threadx/usbx/raw/refs/heads/master/common/usbx_host_classes/src/ux_host_class_cdc_ecm_mac_address_get.c)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354/\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* \* Copyright (c) 2024 Microsoft Corporation  \*  \* This program and the accompanying materials are made available under the \* terms of the MIT License which is available at \* https://opensource.org/licenses/MIT. \*  \* SPDX-License-Identifier: MIT \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/
/\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*//\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*//\*\* \*/ /\*\* USBX Component \*/ /\*\* \*//\*\* CDC ECM Class \*//\*\* \*//\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*//\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/
/\* Include necessary system files. \*/
#define UX\_SOURCE\_CODE
#include "ux\_api.h"#include "ux\_host\_class\_cdc\_ecm.h"#include "ux\_host\_stack.h"
/\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ /\* \*/ /\* FUNCTION RELEASE \*/ /\* \*/ /\* \_ux\_host\_class\_cdc\_ecm\_mac\_address\_get PORTABLE C \*/ /\* 6.2.0 \*//\* AUTHOR \*//\* \*//\* Chaoqiong Xiao, Microsoft Corporation \*//\* \*//\* DESCRIPTION \*//\* \*/ /\* This function calls the USBX stack to retrieve the MAC address from \*//\* the configuration descriptor. \*/ /\* \*/ /\* INPUT \*/ /\* \*/ /\* cdc\_ecm Pointer to cdc\_ecm class \*/ /\* \*/ /\* OUTPUT \*/ /\* \*/ /\* Completion Status \*/ /\* \*/ /\* CALLS \*/ /\* \*/ /\* \_ux\_host\_stack\_transfer\_request Transfer request \*//\* \_ux\_utility\_memory\_allocate Allocate memory \*//\* \_ux\_utility\_memory\_free Free memory \*//\* \_ux\_utility\_descriptor\_parse Parse descriptors \*//\* \*/ /\* CALLED BY \*/ /\* \*/ /\* \_ux\_host\_class\_cdc\_ecm\_activate CDC ECM class activate \*/ /\* \*/ /\* RELEASE HISTORY \*/ /\* \*/ /\* DATE NAME DESCRIPTION \*/ /\* \*/ /\* 05-19-2020 Chaoqiong Xiao Initial Version 6.0 \*//\* 09-30-2020 Chaoqiong Xiao Modified comment(s), \*//\* resulting in version 6.1 \*//\* 07-29-2022 Chaoqiong Xiao Modified comment(s), \*//\* checked MAC string length, \*//\* resulting in version 6.1.12 \*//\* 10-31-2022 Chaoqiong Xiao Modified comment(s), \*//\* checked descriptor length, \*//\* resulting in version 6.2.0 \*//\* \*//\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/UINT \_ux\_host\_class\_cdc\_ecm\_mac\_address\_get(UX\_HOST\_CLASS\_CDC\_ECM \*cdc\_ecm){
UINT status;UX\_ENDPOINT \*control\_endpoint;UX\_TRANSFER \*transfer\_request;UX\_CONFIGURATION\_DESCRIPTOR configuration\_descriptor;UCHAR \*descriptor;UCHAR \*start\_descriptor = UX\_NULL;ULONG configuration\_index;ULONG total\_configuration\_length;UINT descriptor\_length;UINT descriptor\_type; UINT descriptor\_subtype; UX\_HOST\_CLASS\_ECM\_INTERFACE\_DESCRIPTOR ecm\_interface\_descriptor; UCHAR \*mac\_address\_string;ULONG string\_index;ULONG string\_length;UCHAR element\_content;UCHAR element\_hexa\_upper;UCHAR element\_hexa\_lower;
 /\* We now need to retrieve the MAC address of the node which is embedded in the ECM descriptor. We will parse the entire configuration descriptor of the device and look for the ECM Ethernet Networking Functional Descriptor. \*/  configuration\_index = (ULONG)cdc\_ecm -> ux\_host\_class\_cdc\_ecm\_interface\_data -> ux\_interface\_configuration -> ux\_configuration\_descriptor.bConfigurationValue -1;  /\* We need to get the default control endpoint transfer request pointer. \*/ control\_endpoint = &cdc\_ecm -> ux\_host\_class\_cdc\_ecm\_device -> ux\_device\_control\_endpoint; transfer\_request = &control\_endpoint -> ux\_endpoint\_transfer\_request;  /\* Need to allocate memory for the descriptor. Since we do not know the size of the  descriptor, we first read the first bytes. \*/ descriptor = \_ux\_utility\_memory\_allocate(UX\_SAFE\_ALIGN, UX\_CACHE\_SAFE\_MEMORY, UX\_CONFIGURATION\_DESCRIPTOR\_LENGTH); if (descriptor == UX\_NULL) return(UX\_MEMORY\_INSUFFICIENT);  /\* Memorize the descriptor start address. \*/ start\_descriptor = descriptor;  /\* Create a transfer request for the GET\_DESCRIPTOR request. \*/ transfer\_request -> ux\_transfer\_request\_data\_pointer = descriptor; transfer\_request -> ux\_transfer\_request\_requested\_length = UX\_CONFIGURATION\_DESCRIPTOR\_LENGTH; transfer\_request -> ux\_transfer\_request\_function = UX\_GET\_DESCRIPTOR; transfer\_request -> ux\_transfer\_request\_type = UX\_REQUEST\_IN | UX\_REQUEST\_TYPE\_STANDARD | UX\_REQUEST\_TARGET\_DEVICE; transfer\_request -> ux\_transfer\_request\_value = (UX\_CONFIGURATION\_DESCRIPTOR\_ITEM << 8) | configuration\_index; transfer\_request -> ux\_transfer\_request\_index = 0;
 /\* Send request to HCD layer. \*/ status = \_ux\_host\_stack\_transfer\_request(transfer\_request);  /\* Check for correct transfer and entire descriptor returned. \*/ if ((status == UX\_SUCCESS) && (transfer\_request -> ux\_transfer\_request\_actual\_length == UX\_CONFIGURATION\_DESCRIPTOR\_LENGTH)) {  /\* Parse the descriptor so that we can read the total length. \*/ \_ux\_utility\_descriptor\_parse(descriptor, \_ux\_system\_configuration\_descriptor\_structure, UX\_CONFIGURATION\_DESCRIPTOR\_ENTRIES, (UCHAR \*) &configuration\_descriptor);  /\* We don't need this descriptor now. \*/ \_ux\_utility\_memory\_free(descriptor);  /\* Reallocate the memory necessary for the reading the entire descriptor. \*/ total\_configuration\_length = configuration\_descriptor.wTotalLength; descriptor = \_ux\_utility\_memory\_allocate(UX\_SAFE\_ALIGN, UX\_CACHE\_SAFE\_MEMORY, total\_configuration\_length); if (descriptor == UX\_NULL) return(UX\_MEMORY\_INSUFFICIENT);  /\* Save this descriptor address. \*/ start\_descriptor = descriptor;  /\* Read the descriptor again with the correct length this time. \*/  transfer\_request -> ux\_transfer\_request\_requested\_length = total\_configuration\_length;  /\* Since the address of the descriptor may have changed, reprogram it. \*/ transfer\_request -> ux\_transfer\_request\_data\_pointer = descriptor;  /\* Send request to HCD layer. \*/ status = \_ux\_host\_stack\_transfer\_request(transfer\_request);  /\* Check for correct transfer and entire descriptor returned. \*/ if ((status == UX\_SUCCESS) && (transfer\_request -> ux\_transfer\_request\_actual\_length == configuration\_descriptor.wTotalLength)) {  /\* The ECM descriptor is embedded within the configuration descriptor. We parse the  entire descriptor to locate the ECM functional descriptor portion. \*/ while (total\_configuration\_length) {  /\* Gather the length and type of the descriptor. \*/ descriptor\_length = \*descriptor; descriptor\_type = \*(descriptor + 1); descriptor\_subtype = \*(descriptor + 2);
 /\* Descriptor length validation. \*/ if (descriptor\_length < 3 || descriptor\_length > total\_configuration\_length) {
 /\* Error trap. \*/ \_ux\_system\_error\_handler(UX\_SYSTEM\_LEVEL\_THREAD, UX\_SYSTEM\_CONTEXT\_CLASS, UX\_DESCRIPTOR\_CORRUPTED);
 /\* Free descriptor memory. \*/ \_ux\_utility\_memory\_free(start\_descriptor);
 /\* Return error. \*/ return(UX\_DESCRIPTOR\_CORRUPTED); }  /\* Check the type for an interface descriptor and the subtype for a ECM functional descriptor. \*/ if ((descriptor\_type == UX\_HOST\_CLASS\_CDC\_ECM\_CS\_INTERFACE) && (descriptor\_subtype == UX\_HOST\_CLASS\_CDC\_ECM\_FUNCTIONAL\_DESCRIPTOR)) {  /\* Parse the interface descriptor and make it machine independent. \*/ \_ux\_utility\_descriptor\_parse(descriptor, \_ux\_system\_ecm\_interface\_descriptor\_structure, UX\_HOST\_CLASS\_CDC\_ECM\_INTERFACE\_DESCRIPTOR\_ENTRIES, (UCHAR \*) &ecm\_interface\_descriptor);   /\* Release the memory. \*/ \_ux\_utility\_memory\_free(start\_descriptor);  /\* We now have the ECM functional descriptor in memory. We can retrieve the index of the iMACAddress which we need for NetX. \*/
 /\* Allocate memory for the MAC address. \*/ mac\_address\_string = \_ux\_utility\_memory\_allocate(UX\_SAFE\_ALIGN, UX\_CACHE\_SAFE\_MEMORY, UX\_HOST\_CLASS\_CDC\_ECM\_MAC\_ADDRESS\_STRING\_LENGTH);  /\* Check memory allocation. \*/ if (mac\_address\_string == UX\_NULL) return(UX\_MEMORY\_INSUFFICIENT);  /\* Create a transfer request for the GET\_DESCRIPTOR request. \*/ transfer\_request -> ux\_transfer\_request\_data\_pointer = mac\_address\_string; transfer\_request -> ux\_transfer\_request\_requested\_length = UX\_HOST\_CLASS\_CDC\_ECM\_MAC\_ADDRESS\_STRING\_LENGTH; transfer\_request -> ux\_transfer\_request\_function = UX\_GET\_DESCRIPTOR; transfer\_request -> ux\_transfer\_request\_type = UX\_REQUEST\_IN | UX\_REQUEST\_TYPE\_STANDARD | UX\_REQUEST\_TARGET\_DEVICE; transfer\_request -> ux\_transfer\_request\_value = (UX\_STRING\_DESCRIPTOR\_ITEM << 8) | ecm\_interface\_descriptor.iMACAddress; transfer\_request -> ux\_transfer\_request\_index = 0x0409;  /\* Send request to HCD layer. \*/ status = \_ux\_host\_stack\_transfer\_request(transfer\_request);  /\* Check for correct transfer. \*/ if (status == UX\_SUCCESS) {
 /\* Translate from Unicode to string. Length is in the first byte followed type. We must take away 2 from it and divide by 2 to find the right ascii length. \*/ string\_length = (ULONG) \*mac\_address\_string;
 /\* Check the length of the MAC address Unicode string (length or 1B + type of 1B + string or 12\*2B). \*/ if (string\_length != 26) {
 /\* Error trap. \*/ \_ux\_system\_error\_handler(UX\_SYSTEM\_LEVEL\_THREAD, UX\_SYSTEM\_CONTEXT\_CLASS, UX\_DESCRIPTOR\_CORRUPTED);
 /\* Return error. \*/ status = UX\_DESCRIPTOR\_CORRUPTED; } else {  /\* No error in length, decode the string. \*/ string\_length -=2; string\_length = string\_length / 2;  /\* Now we have a string of 12 hex ASCII digits to be translated into 6 hex digit bytes.  and copy into the node ID. \*/ for (string\_index = 0; string\_index < string\_length; string\_index++) {  /\* Get the upper element from the ASCII string. \*/ element\_content = \*(mac\_address\_string + (string\_index \* 2) + 2);  /\* We have a valid element content. Turn it into a hex decimal value. Note that only hex digits are allowed. \*/ if (element\_content <= '9')  /\* We have a digit. \*/ element\_hexa\_upper = (UCHAR)(element\_content - '0');  else {  /\* We have a 'A' to 'F' or 'a' to 'f' value. \*/ if (element\_content >= 'a')   /\* We have a 'a' to 'f' char. \*/ element\_hexa\_upper = (UCHAR)(element\_content - 'a' + 10);  else   /\* We have a 'A' to 'F' char. \*/ element\_hexa\_upper = (UCHAR)(element\_content - 'A' + 10);  }  /\* Get the lower element from the ASCII string. \*/ element\_content = \*(mac\_address\_string + ((string\_index + 1) \* 2) + 2);  /\* We have a valid element content. Turn it into a hexa decimal value. Note that only hex digits are allowed. \*/ if (element\_content <= '9')  /\* We have a digit. \*/ element\_hexa\_lower = (UCHAR)(element\_content - '0');  else {  /\* We have a 'A' to 'F' or 'a' to 'f' value. \*/ if (element\_content >= 'a')  /\* We have a 'a' to 'f' char. \*/ element\_hexa\_lower = (UCHAR)(element\_content - 'a' + 10);  else   /\* We have a 'A' to 'F' char. \*/ element\_hexa\_lower = (UCHAR)(element\_content - 'A' + 10);  }   /\* Assemble the byte from the 2 nibbles and store it into the node\_id. \*/ \*(cdc\_ecm -> ux\_host\_class\_cdc\_ecm\_node\_id + string\_index / 2) = (UCHAR)(element\_hexa\_upper << 4 | element\_hexa\_lower);  /\* Skip the lower nibble. \*/ string\_index ++;  }  /\* Operation was successful ! \*/ status = UX\_SUCCESS; } }  else {
 /\* We have a bad MAC address string. Do not proceed. \*/ status = UX\_ERROR; }
 /\* Free the MAC address string. \*/ \_ux\_utility\_memory\_free(mac\_address\_string);
 /\* Return completion status. \*/ return(status); } else {
 /\* Jump to the next descriptor if we have not reached the end. \*/ descriptor += descriptor\_length;  /\* And adjust the length left to parse in the descriptor. \*/ total\_configuration\_length -= descriptor\_length; } } }  }  /\* Error trap. \*/ \_ux\_system\_error\_handler(UX\_SYSTEM\_LEVEL\_THREAD, UX\_SYSTEM\_CONTEXT\_CLASS, UX\_DESCRIPTOR\_CORRUPTED);
 /\* If trace is enabled, insert this event into the trace buffer. \*/ UX\_TRACE\_IN\_LINE\_INSERT(UX\_TRACE\_ERROR, UX\_DESCRIPTOR\_CORRUPTED, &configuration\_descriptor, 0, 0, UX\_TRACE\_ERRORS, 0, 0)
 /\* Release the memory. \*/ \_ux\_utility\_memory\_free(start\_descriptor);
 /\* Return an error. \*/ return(UX\_DESCRIPTOR\_CORRUPTED); }

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

