[## SFTP Gateway Support](/)[### 3.0](/versions)

* [SFTP Gateway 3.x (AWS)](/docs/sftp-gateway-3.0/getting-started-with-sftp-gateway-3.0)
* [3.x (Azure)](/docs/sftp-gateway-azure-3.0/azure-getting-started-with-sftp-gateway-3.0)
* [3.x (GCP)](/docs/sftp-gateway-gcp-3.0/getting-started-with-sftp-gateway-gcp)
* [3.x (Alibaba)](/docs/sftp-gateway-alibaba-3.0/getting-started-with-sftp-gateway-alibaba)
* [Contact Support](/contact-support.html)
## *âº*Security

### Getting Started

* [Getting Started with SFTP Gateway 3.x](/docs/sftp-gateway-gcp-3.0/getting-started-with-sftp-gateway-gcp)
* [First Launch Experience](/docs/sftp-gateway-gcp-3.0/gcp-first-launch-experience)
* [Configure a Service Account](/docs/sftp-gateway-gcp-3.0/gcp-service-account-key)
* [Google Cloud Connections](/docs/sftp-gateway-gcp-3.0/gcp-cloud-connections)
* [Admin Web Interface Overview](/docs/sftp-gateway-gcp-3.0/gcp-admin-web-interface-overview)
* [Folders in SFTP Gateway](/docs/sftp-gateway-gcp-3.0/gcp-folders)
* [Add and Configure Users Using UI](/docs/sftp-gateway-gcp-3.0/gcp-add-and-configure-users-using-ui)
* [Configure System Settings Using UI](/docs/sftp-gateway-gcp-3.0/gcp-configure-system-settings-using-ui)
* [Connect Through an SFTP Client](/docs/sftp-gateway-gcp-3.0/gcp-connect-through-sftp-client)
* [Connecting Through FileZilla](/docs/sftp-gateway-gcp-3.0/gcp-connect-through-filezilla)
* [Connecting Through WinSCP](/docs/sftp-gateway-gcp-3.0/gcp-connect-through-winscp)
* [Connecting via Cmdline (Mac / Linux)](/docs/sftp-gateway-gcp-3.0/gcp-connect-through-mac-cmdline)
* [Finding Files in Cloud Storage](/docs/sftp-gateway-gcp-3.0/gcp-finding-files-in-cloud-storage)
### General Info

* [Pricing in SFTP Gateway](/docs/sftp-gateway-gcp-3.0/gcp-price)
* [Diagnostics screen](/docs/sftp-gateway-gcp-3.0/gcp-diagnostics-screen)
* [Support Overview](/docs/sftp-gateway-gcp-3.0/gcp-support-options)
* [Release Notes](/docs/sftp-gateway-gcp-3.0/gcp-release-notes)
* [Firewall Inbound Rules](/docs/sftp-gateway-gcp-3.0/gcp-instance-ports)
* [How to SSH into SFTP Gateway](/docs/sftp-gateway-gcp-3.0/gcp-ssh)
* [Status of files after user deletion](/docs/sftp-gateway-gcp-3.0/gcp-status-of-files-after-user-deletion)
* [Testing the Cloud Connection](/docs/sftp-gateway-gcp-3.0/gcp-test-cloud-connection)
* [Checking your SFTP Gateway version](/docs/sftp-gateway-gcp-3.0/gcp-check-version-number)
### Security

* [Encryption Algorithms](/docs/sftp-gateway-gcp-3.0/gcp-encryption-algorithms)
* [Security Notes](/docs/sftp-gateway-gcp-3.0/gcp-security-notes)
* [Security Level Configuration](/docs/sftp-gateway-gcp-3.0/gcp-security-level-configuration)
* [Override SFTP password policy](/docs/sftp-gateway-gcp-3.0/gcp-sftp-password-policy)
* [One-time admin password](/docs/sftp-gateway-gcp-3.0/gcp-one-time-password)
* [Brute Force Protection](/docs/sftp-gateway-gcp-3.0/gcp-brute-force)
* [Log4j RCE](/docs/sftp-gateway-gcp-3.0/gcp-log4j)
* [Spring4shell CVE](/docs/sftp-gateway-gcp-3.0/gcp-spring4shell)
* [MOVEit Vulnerability](/docs/sftp-gateway-gcp-3.0/gcp-moveit)
* [Kernel CVE](/docs/sftp-gateway-gcp-3.0/gcp-kernel-cve)
* [Java Deserialization RCE](/docs/sftp-gateway-gcp-3.0/gcp-java-deserialization-rce)
* [Passive SSH Key Compromise (RSA)](/docs/sftp-gateway-gcp-3.0/gcp-passive-ssh-key-rsa)
* [CVE-2023-48795](/docs/sftp-gateway-gcp-3.0/gcp-cve-2023-48795)
* [CVE-2024-6387 regreSSHion](/docs/sftp-gateway-gcp-3.0/gcp-cve-2024-6387)
### Configuration

* [Creating a High Availability deployment on Google Cloud](/docs/sftp-gateway-gcp-3.0/gcp-ha)
* [Configuring VM Memory Settings](/docs/sftp-gateway-gcp-3.0/gcp-memory-settings)
* [Terraform Template](/docs/sftp-gateway-gcp-3.0/gcp-terraform)
* [Changing the Default SFTP Port](/docs/sftp-gateway-gcp-3.0/gcp-change-sftp-port)
* [Changing the Default SSH Port](/docs/sftp-gateway-gcp-3.0/gcp-change-ssh-port)
* [Setting up Instance Identity for SFTP Gateway](/docs/sftp-gateway-gcp-3.0/gcp-instance-identity)
* [Google Cloud Authentication with the Web Admin UI](/docs/sftp-gateway-gcp-3.0/gcp-oidc)
* [How to point an SFTP user to a specific Cloud Storage location](/docs/sftp-gateway-gcp-3.0/gcp-specific-storage-location)
* [Sharing With External Vendors](/docs/sftp-gateway-gcp-3.0/gcp-sharing-with-external-vendors)
* [Multiple SSH keys](/docs/sftp-gateway-gcp-3.0/gcp-multiple-ssh-keys)
* [Removing the SFTP login banner](/docs/sftp-gateway-gcp-3.0/gcp-banner-removal)
* [Group Folder Scenario](/docs/sftp-gateway-gcp-3.0/gcp-group-cloud-connection)
* [Transfer files between Multiple Cloud Connections](/docs/sftp-gateway-gcp-3.0/gcp-multi-cloud-transfers)
* [IP Allowlist](/docs/sftp-gateway-gcp-3.0/gcp-ip-whitelisting)
* [Creating a Static IP Address](/docs/sftp-gateway-gcp-3.0/gcp-create-static-ip)
### Troubleshooting

* [Logging](/docs/sftp-gateway-gcp-3.0/gcp-logging)
* [Common Issues](/docs/sftp-gateway-gcp-3.0/gcp-common-issues)
* [Known Issues](/docs/sftp-gateway-gcp-3.0/gcp-known-issues)
* [Basic Authentication Error](/docs/sftp-gateway-gcp-3.0/gcp-basic-auth)
* [Web Admin Password Reset](/docs/sftp-gateway-gcp-3.0/gcp-admin-password-reset)
* [Logging in with a Non-existent-user](/docs/sftp-gateway-gcp-3.0/gcp-non-existent-user)
* [Logging in with no Cloud Connection](/docs/sftp-gateway-gcp-3.0/gcp-non-existent-cloud-connection)
* [WinSCP: Error decoding SFTP packet](/docs/sftp-gateway-gcp-3.0/gcp-error-decoding-sftp-packet)
* [Disabling the IP Ban Feature](/docs/sftp-gateway-gcp-3.0/gcp-disable-ip-banning)
* [Liquibase Lock Error](/docs/sftp-gateway-gcp-3.0/gcp-liquibaselock-error)
* [File spillage issue](/docs/sftp-gateway-gcp-3.0/gcp-criss-cross-explanation)
* [Licensing error for v3.2.1](/docs/sftp-gateway-gcp-3.0/gcp-licensing-error)
* [Unable to Delete SFTP User](/docs/sftp-gateway-gcp-3.0/gcp-delete-user-workaround)
* [Google Marketplace deployment troubleshooting](/docs/sftp-gateway-gcp-3.0/gcp-marketplace-troubleshooting)
* [Subfolder Error](/docs/sftp-gateway-gcp-3.0/gcp-inherited-subfolder-error)
* [Retention Policy Issue](/docs/sftp-gateway-gcp-3.0/gcp-retention-policy)
* [Cyberduck Incompatibility](/docs/sftp-gateway-gcp-3.0/gcp-cyberduck-error)
* [No Mutual Signature Supported](/docs/sftp-gateway-gcp-3.0/gcp-no-mutual-signature)
* [Workday RSA Fingerprint](/docs/sftp-gateway-gcp-3.0/gcp-workday-rsa-fingerprint)
* [Enabling the Cloud Runtime API](/docs/sftp-gateway-gcp-3.0/gcp-cloud-runtime-api)
* [Linux User Password Expiration](/docs/sftp-gateway-gcp-3.0/gcp-reset-password-ssh)
### SSL

* [Install SSL Certificate (GoDaddy)](/docs/sftp-gateway-gcp-3.0/gcp-godaddy-ssl)
* [Lets Encrypt](/docs/sftp-gateway-gcp-3.0/gcp-lets-encrypt)
### API

* [API documentation](/docs/sftp-gateway-gcp-3.0/gcp-API)
* [Create-user bash script](/docs/sftp-gateway-gcp-3.0/gcp-create-user-script)
* [List-users bash script](/docs/sftp-gateway-gcp-3.0/gcp-list-user-script)
* [Delete-user bash script](/docs/sftp-gateway-gcp-3.0/gcp-delete-user-script)
* [List-Connections bash script](/docs/sftp-gateway-gcp-3.0/gcp-list-connections-script)
### Backup, Migration, and Update

* [Version 3.x Upgrade Process](/docs/sftp-gateway-gcp-3.0/gcp-upgrade)
* [Running the In-Place Upgrade Script](/docs/sftp-gateway-gcp-3.0/gcp-in-place-upgrade-script)
* [Backup & Recovery, or Upgrade](/docs/sftp-gateway-gcp-3.0/gcp-vm-recovery)
* [Exporting a backup file for troubleshooting](/docs/sftp-gateway-gcp-3.0/gcp-scrub-backup)
* [Automated Backup for SFTP Gateway](/docs/sftp-gateway-gcp-3.0/gcp-automated-backup)
* [HA Upgrade Process](/docs/sftp-gateway-gcp-3.0/gcp-ha-upgrade-process)
### Shared Hosting Plan

* [Getting Started with the Single User Plan](/docs/sftp-gateway-gcp-3.0/gcp-saas-getting-started)
* [Using your own Cloud Storage Bucket](/docs/sftp-gateway-gcp-3.0/gcp-saas-custom-bucket)
* [Creating Additional Users](/docs/sftp-gateway-gcp-3.0/gcp-saas-add-users)
* [Adding a Payment Method](/docs/sftp-gateway-gcp-3.0/gcp-saas-add-payment-method)
# Java Deserialization RCE

## Overview

A security advisory [CVE-2016-1000027](https://nvd.nist.gov/vuln/detail/CVE-2016-1000027) applies to recent versions of [SFTP Gateway](https://thorntech.com/sftp-gateway/). A vulnerability in a dependency library exposes a way to perform remote code execution (RCE) against the web admin portal of SFTP Gateway.

We recommend that you take the following actions below.

## Check your version of SFTP Gateway

This vulnerability only affects the following SFTP Gateway versions:

* v3.4.0
* v3.4.1
* v3.4.2
* v3.4.3

You can check the version of SFTP Gateway by scrolling to the footer of the web admin portal.

Alternatively, you can SSH into the VM and list the files in `/opt/sftpgw/` which show the version in the file names.

## Restrict port 443 to sysadmin IP addresses only

The web admin portal of SFTP Gateway should already be locked down to sysadmin IP addresses only, if configured according to our guidelines.

Take some time now to verify your network ingress rules on port 443, and make sure it is **NOT** open to the world. For example, remove any rules for HTTPS 443 that allow the range `0.0.0.0/0`.

Also, update your existing port 443 rules to remove any stale entries.

## Perform an in-place upgrade to version 3.4.4

The easiest way to upgrade would be to use our [in-place upgrade script](/docs/sftp-gateway-gcp-3.0/gcp-in-place-upgrade-script).

**Note**: you must already be on SFTP Gateway version 3 in order to perform an in-place upgrade.

## Migrate to version 3.4.4

The safest way to perform an upgrade is to perform a [migration](/docs/sftp-gateway-gcp-3.0/gcp-upgrade).

This entails exporting a backup of your existing server, and importing the backup into a new instance of v3.4.4. Finally, perform an IP or DNS cutover to the new server.

## Contact Support

If you run into any issues, you can reach out to us via email at support@thorntech.com.

[â Previous](/docs/sftp-gateway-gcp-3.0/gcp-kernel-cve)[Next â](/docs/sftp-gateway-gcp-3.0/gcp-passive-ssh-key-rsa)

* [Overview](#overview)
* [Check your version of SFTP Gateway](#check-your-version-of-sftp-gateway)
* [Restrict port 443 to sysadmin IP addresses only](#restrict-port-443-to-sysadmin-ip-addresses-only)
* [Perform an in-place upgrade to version 3.4.4](#perform-an-in-place-upgrade-to-version-344)
* [Migrate to version 3.4.4](#migrate-to-version-344)
* [Contact Support](#contact-support)
[![SFTP Gateway Support](/img/thorntech-t-white-logo.png)](/)
##### Products

[SFTP Gateway](/sftp-gateway)[StorageLink](/storagelink)
##### Community

[LinkedIn](https://www.linkedin.com/company/thorn-technologies-llc/) [YouTube](https://www.youtube.com/channel/UCTin6nob3CGnmZn7-sokHcA)[Twitter](https://twitter.com/thorntech)
##### More

[Thorn Technologies LLC](https://www.thorntech.com/)[Blog](https://www.thorntech.com/blog/)[Support Options](https://www.thorntech.com/products/support/)Copyright Â© 2024 Thorn Technologies