=== Content from plugins.trac.wordpress.org_1aecc655_20250111_065420.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fblockmeister%2Ftags%2F3.1.10%2Fincludes%2FPattern_Builder%2FAdmin%2FBlockMeister_Pattern_List_Table.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php)

---

# [source:](/browser?order=name "Go to repository root") [blockmeister](/browser/blockmeister?order=name "View blockmeister")/[tags](/browser/blockmeister/tags?order=name "View tags")/[3.1.10](/browser/blockmeister/tags/3.1.10?order=name "View 3.1.10")/[includes](/browser/blockmeister/tags/3.1.10/includes?order=name "View includes")/[Pattern\_Builder](/browser/blockmeister/tags/3.1.10/includes/Pattern_Builder?order=name "View Pattern_Builder")/[Admin](/browser/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin?order=name "View Admin")/[BlockMeister\_Pattern\_List\_Table.php](/browser/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php?order=name "View BlockMeister_Pattern_List_Table.php")

View diff against:

View revision:

| [Last change](/changeset/2934123/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php "View differences") on this file was [2934123](/changeset/2934123/ "View changeset 2934123"), checked in by blockmeister, [19 months ago](/timeline?from=2023-07-04T22%3A19%3A59Z&precision=second "See timeline at 07/04/2023 10:19:59 PM") |
| --- |
| 3.1.10 |
| **File size:** 44.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | namespace ProDevign\BlockMeister\Pattern\_Builder\Admin; |
| [4](#L4) |  |
| [5](#L5) | use  ProDevign\BlockMeister\BlockMeister ; |
| [6](#L6) | use  ProDevign\BlockMeister\Context ; |
| [7](#L7) | use  ProDevign\BlockMeister\JSON\_File\_Uploader ; |
| [8](#L8) | use  ProDevign\BlockMeister\Pattern\_Builder\BlockMeister\_Pattern\_Category\_Taxonomy ; |
| [9](#L9) | use  ProDevign\BlockMeister\Pattern\_Builder\Pattern\_Builder ; |
| [10](#L10) | use  ProDevign\BlockMeister\Utils ; |
| [11](#L11) | use  WP\_Error ; |
| [12](#L12) | use function  ProDevign\BlockMeister\blockmeister\_license ; |
| [13](#L13) | class BlockMeister\_Pattern\_List\_Table |
| [14](#L14) | { |
| [15](#L15) | /\*\* |
| [16](#L16) | \* @const float |
| [17](#L17) | \*/ |
| [18](#L18) | const  PREVIEW\_SCALE\_FACTOR = 0.32 ; |
| [19](#L19) | /\*\* |
| [20](#L20) | \* Holds regular registered patterns and post based patterns with \*any\* status |
| [21](#L21) | \* (see Custom\_Block\_Pattern\_Registry::register\_custom\_block\_patterns() where post status is set to any for list table use) |
| [22](#L22) | \* |
| [23](#L23) | \* @var array |
| [24](#L24) | \*/ |
| [25](#L25) | private  $registered\_block\_patterns = array() ; |
| [26](#L26) | public function \_\_construct() |
| [27](#L27) | { |
| [28](#L28) | } |
| [29](#L29) |  |
| [30](#L30) | public function init() |
| [31](#L31) | { |
| [32](#L32) | if ( !Context::is\_blockmeister\_pattern\_list\_table() ) { |
| [33](#L33) | return; |
| [34](#L34) | } |
| [35](#L35) | if ( isset( $\_REQUEST['action'] ) ) { |
| [36](#L36) |  |
| [37](#L37) | if ( $is\_not\_bulk\_action = !isset( $\_REQUEST['post'] ) ) { |
| [38](#L38) | add\_filter( 'upload\_mimes', function ( $allowed\_mime\_types ) { |
| [39](#L39) | $allowed\_mime\_types['json'] = "application/json"; |
| [40](#L40) | return $allowed\_mime\_types; |
| [41](#L41) | } ); |
| [42](#L42) | add\_action( 'admin\_init', [ $this, 'handle\_action\_request' ], 1100 ); |
| [43](#L43) | } |
| [44](#L44) |  |
| [45](#L45) | } |
| [46](#L46) |  |
| [47](#L47) | if ( isset( $\_REQUEST['post\_type'] ) && $\_REQUEST['post\_type'] === Pattern\_Builder::POST\_TYPE ) { |
| [48](#L48) | add\_action( 'admin\_notices', [ $this, 'show\_admin\_notice\_for\_action\_request\_result' ] ); |
| [49](#L49) | add\_action( 'current\_screen', function () { |
| [50](#L50) | $this->registered\_block\_patterns = \WP\_Block\_Patterns\_Registry::get\_instance()->get\_all\_registered(); |
| [51](#L51) | }, 15 ); |
| [52](#L52) | // needs a lower priority then used in Block\_Pattern\_Registry::init (=10) |
| [53](#L53) | add\_action( 'restrict\_manage\_posts', [ $this, 'category\_filter' ] ); |
| [54](#L54) | add\_filter( 'manage\_blockmeister\_pattern\_posts\_columns', [ $this, 'customize\_blockmeister\_pattern\_posts\_columns' ] ); |
| [55](#L55) | add\_filter( |
| [56](#L56) | 'posts\_results', |
| [57](#L57) | [ $this, 'filter\_table\_list\_rows\_on\_category' ], |
| [58](#L58) | 10, |
| [59](#L59) | 2 |
| [60](#L60) | ); |
| [61](#L61) | add\_action( |
| [62](#L62) | 'manage\_blockmeister\_pattern\_posts\_custom\_column', |
| [63](#L63) | [ $this, 'render\_custom\_columns' ], |
| [64](#L64) | 10, |
| [65](#L65) | 3 |
| [66](#L66) | ); |
| [67](#L67) | add\_filter( |
| [68](#L68) | 'post\_date\_column\_status', |
| [69](#L69) | [ $this, 'override\_status\_in\_date\_column' ], |
| [70](#L70) | 10, |
| [71](#L71) | 2 |
| [72](#L72) | ); |
| [73](#L73) | add\_filter( |
| [74](#L74) | 'post\_row\_actions', |
| [75](#L75) | [ $this, 'add\_and\_remove\_row\_actions' ], |
| [76](#L76) | 10, |
| [77](#L77) | 2 |
| [78](#L78) | ); |
| [79](#L79) | add\_filter( |
| [80](#L80) | 'post\_class', |
| [81](#L81) | [ $this, 'assign\_status\_and\_virtual\_post\_classes' ], |
| [82](#L82) | 10, |
| [83](#L83) | 3 |
| [84](#L84) | ); |
| [85](#L85) | add\_action( 'admin\_head-edit.php', [ $this, 'add\_style' ] ); |
| [86](#L86) | add\_action( 'admin\_head-edit.php', [ $this, 'add\_script' ] ); |
| [87](#L87) | add\_action( 'admin\_init', [ $this, 'filter\_out\_negative\_post\_ids\_on\_bulk\_trash\_request' ] ); |
| [88](#L88) | add\_filter( 'bulk\_actions-edit-blockmeister\_pattern', [ $this, 'add\_and\_remove\_bulk\_actions' ] ); |
| [89](#L89) | add\_filter( |
| [90](#L90) | 'handle\_bulk\_actions-edit-blockmeister\_pattern', |
| [91](#L91) | [ $this, 'handle\_bulk\_actions' ], |
| [92](#L92) | 10, |
| [93](#L93) | 3 |
| [94](#L94) | ); |
| [95](#L95) | add\_filter( |
| [96](#L96) | 'bulk\_post\_updated\_messages', |
| [97](#L97) | [ $this, 'filter\_bulk\_action\_result\_messages' ], |
| [98](#L98) | 10, |
| [99](#L99) | 2 |
| [100](#L100) | ); |
| [101](#L101) | add\_filter( 'disable\_months\_dropdown', '\_\_return\_true' ); |
| [102](#L102) | add\_filter( 'edit\_blockmeister\_pattern\_per\_page', function () { |
| [103](#L103) | return 998; |
| [104](#L104) | } ); |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | } |
| [108](#L108) |  |
| [109](#L109) | /\*\* |
| [110](#L110) | \* Adds the block pattern category filter to the table nav area |
| [111](#L111) | \*/ |
| [112](#L112) | public function category\_filter() |
| [113](#L113) | { |
| [114](#L114) | global  $typenow ; |
| [115](#L115) |  |
| [116](#L116) | if ( $typenow === 'blockmeister\_pattern' ) { |
| [117](#L117) | $bpc\_taxonomy = get\_taxonomy( BlockMeister\_Pattern\_Category\_Taxonomy::TAXONOMY\_NAME ); |
| [118](#L118) | wp\_dropdown\_categories( [ |
| [119](#L119) | 'show\_option\_all' => $bpc\_taxonomy->labels->all\_items, |
| [120](#L120) | 'taxonomy'        => BlockMeister\_Pattern\_Category\_Taxonomy::TAXONOMY\_NAME, |
| [121](#L121) | 'name'            => 'category', |
| [122](#L122) | 'orderby'         => 'name', |
| [123](#L123) | 'value\_field'     => 'slug', |
| [124](#L124) | 'selected'        => ( isset( $\_GET['category'] ) ? $\_GET['category'] : 0 ), |
| [125](#L125) | 'show\_count'      => false, |
| [126](#L126) | 'hide\_empty'      => false, |
| [127](#L127) | ] ); |
| [128](#L128) | } |
| [129](#L129) |  |
| [130](#L130) | } |
| [131](#L131) |  |
| [132](#L132) | /\*\* |
| [133](#L133) | \* Remove non-custom block patterns on bulk trash requests |
| [134](#L134) | \*/ |
| [135](#L135) | public function filter\_out\_negative\_post\_ids\_on\_bulk\_trash\_request() |
| [136](#L136) | { |
| [137](#L137) | $is\_bulk\_trash\_request = isset( $\_GET['action'] ) && $\_GET['action'] === 'trash' && isset( $\_GET['post\_type'] ) && $\_GET['post\_type'] === Pattern\_Builder::POST\_TYPE && isset( $\_GET['post'] ); |
| [138](#L138) |  |
| [139](#L139) | if ( $is\_bulk\_trash\_request ) { |
| [140](#L140) | foreach ( $\_GET['post'] as $index => $post\_id ) { |
| [141](#L141) |  |
| [142](#L142) | if ( $post\_id <= 0 ) { |
| [143](#L143) | $x = 1; |
| [144](#L144) | //array\_splice($\_GET['post'], $index, 1); |
| [145](#L145) | unset( $\_GET['post'][$index] ); |
| [146](#L146) | } |
| [147](#L147) |  |
| [148](#L148) | } |
| [149](#L149) | $\_REQUEST['post'] = $\_GET['post']; |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | } |
| [153](#L153) |  |
| [154](#L154) | private function get\_count\_all() |
| [155](#L155) | { |
| [156](#L156) | return sizeof( $this->registered\_block\_patterns ); |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | private function get\_count\_inactive() |
| [160](#L160) | { |
| [161](#L161) | $inactive\_patterns = get\_option( 'blockmeister\_inactive\_patterns', [] ); |
| [162](#L162) | $count = 0; |
| [163](#L163) | foreach ( $this->registered\_block\_patterns as $registered\_block\_pattern ) { |
| [164](#L164) | if ( $is\_pattern\_inactive = in\_array( $registered\_block\_pattern['name'], $inactive\_patterns, true ) ) { |
| [165](#L165) | $count++; |
| [166](#L166) | } |
| [167](#L167) | } |
| [168](#L168) | return $count; |
| [169](#L169) | } |
| [170](#L170) |  |
| [171](#L171) | /\*\* |
| [172](#L172) | \* Helper to create links to edit.php with params. |
| [173](#L173) | \* |
| [174](#L174) | \* @param string[] $args Associative array of URL parameters for the link. |
| [175](#L175) | \* @param string $label Link text. |
| [176](#L176) | \* @param string $class Optional. Class attribute. Default empty string. |
| [177](#L177) | \* |
| [178](#L178) | \* @return string The formatted link string. |
| [179](#L179) | \* |
| [180](#L180) | \*/ |
| [181](#L181) | private function get\_edit\_link( $args, $label, $class = '' ) |
| [182](#L182) | { |
| [183](#L183) | $url = add\_query\_arg( $args, 'edit.php' ); |
| [184](#L184) | $class\_html = ''; |
| [185](#L185) | $aria\_current = ''; |
| [186](#L186) |  |
| [187](#L187) | if ( !empty($class) ) { |
| [188](#L188) | $class\_html = sprintf( ' class="%s"', esc\_attr( $class ) ); |
| [189](#L189) | if ( 'current' === $class ) { |
| [190](#L190) | $aria\_current = ' aria-current="page"'; |
| [191](#L191) | } |
| [192](#L192) | } |
| [193](#L193) |  |
| [194](#L194) | return sprintf( |
| [195](#L195) | '<a href="%s"%s%s>%s</a>', |
| [196](#L196) | esc\_url( $url ), |
| [197](#L197) | $class\_html, |
| [198](#L198) | $aria\_current, |
| [199](#L199) | $label |
| [200](#L200) | ); |
| [201](#L201) | } |
| [202](#L202) |  |
| [203](#L203) | /\*\* |
| [204](#L204) | \* Filters the list of available list table views. |
| [205](#L205) | \* By default WP generates filters (and counts), like: All (9) | Published (6) | Trashed (1) | ... |
| [206](#L206) | \* |
| [207](#L207) | \* @param string[] $views An array of available list table views. |
| [208](#L208) | \* |
| [209](#L209) | \* @return string[] |
| [210](#L210) | \*/ |
| [211](#L211) | public function customize\_table\_view\_links\_filtered\_on\_category( array $views ) |
| [212](#L212) | { |
| [213](#L213) | $count\_filtered\_category = $this->get\_count\_inactive(); |
| [214](#L214) | $views['test'] = 'test'; |
| [215](#L215) | //              $extra\_views = [ |
| [216](#L216) | // |
| [217](#L217) | //                      'active' => $this->get\_edit\_link( |
| [218](#L218) | //                              [ 'post\_type' => 'blockmeister\_pattern', 'filter' => 'active' ], |
| [219](#L219) | //                              esc\_html\_\_( 'Active', 'blockmeister' ) . " <span class='count'>($count\_active)</span>", |
| [220](#L220) | //                              isset( $\_GET['filter'] ) && $\_GET['filter'] === 'active' ? 'current' : '' |
| [221](#L221) | //                      ), |
| [222](#L222) | // |
| [223](#L223) | //                      'inactive' => $this->get\_edit\_link( |
| [224](#L224) | //                              [ 'post\_type' => 'blockmeister\_pattern', 'filter' => 'inactive' ], |
| [225](#L225) | //                              esc\_html\_\_( 'Inactive', 'blockmeister' ) . " <span class='count'>($count\_inactive)</span>", |
| [226](#L226) | //                              isset( $\_GET['filter'] ) && $\_GET['filter'] === 'inactive' ? 'current' : '' |
| [227](#L227) | //                      ), |
| [228](#L228) | // |
| [229](#L229) | //              ]; |
| [230](#L230) | // |
| [231](#L231) | //              $views\_part\_a = array\_splice( $views, 0, 1 ); |
| [232](#L232) | //              $views        = array\_merge( $views\_part\_a, $extra\_views, $views ); |
| [233](#L233) | return $views; |
| [234](#L234) | } |
| [235](#L235) |  |
| [236](#L236) | /\*\* |
| [237](#L237) | \* Filters the status text of the post. |
| [238](#L238) | \* If this is a pseudo post (registered pattern) then override the status. |
| [239](#L239) | \* |
| [240](#L240) | \* @param string $status The status text. |
| [241](#L241) | \* @param \WP\_Post $post Post object. |
| [242](#L242) | \* |
| [243](#L243) | \* @return string |
| [244](#L244) | \*/ |
| [245](#L245) | public function override\_status\_in\_date\_column( $status, $post ) |
| [246](#L246) | { |
| [247](#L247) | if ( $post->ID <= 0 ) { |
| [248](#L248) | return esc\_html\_\_( 'Registered', 'blockmeister' ); |
| [249](#L249) | } |
| [250](#L250) | return $status; |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | /\*\* |
| [254](#L254) | \* Shows notices related to row actions. |
| [255](#L255) | \* |
| [256](#L256) | \* Note: bulk actions are handled by core functions in edit.php (and this::filter\_bulk\_action\_result\_messages) |
| [257](#L257) | \*/ |
| [258](#L258) | public function show\_admin\_notice\_for\_action\_request\_result() |
| [259](#L259) | { |
| [260](#L260) | if ( !isset( $\_GET['status'] ) || !isset( $\_GET['notice'] ) ) { |
| [261](#L261) | return; |
| [262](#L262) | } |
| [263](#L263) | echo  "<div class='notice notice-" . sanitize\_html\_class( $\_GET['status'], 'success' ) . " is-dismissible'>" ; |
| [264](#L264) | echo  "  <p>" . esc\_html( wp\_unslash( $\_GET['notice'] ) ) . "</p>" ; |
| [265](#L265) | echo  "</div>" ; |
| [266](#L266) | } |
| [267](#L267) |  |
| [268](#L268) | public function add\_script() |
| [269](#L269) | { |
| [270](#L270) |  |
| [271](#L271) | if ( $inject\_import\_elements = current\_user\_can( 'publish\_blockmeister\_patterns' ) && current\_user\_can( 'import' ) ) { |
| [272](#L272) | $submit\_to = add\_query\_arg( [ |
| [273](#L273) | 'post\_status' => ( isset( $\_GET['post\_status'] ) ? $\_GET['post\_status'] : false ), |
| [274](#L274) | 'filter'      => ( isset( $\_GET['filter'] ) ? $\_GET['filter'] : false ), |
| [275](#L275) | ], self\_admin\_url( "edit.php?post\_type=blockmeister\_pattern" ) ); |
| [276](#L276) | $file\_uploader = new JSON\_File\_Uploader( $submit\_to ); |
| [277](#L277) | $file\_uploader->init( true ); |
| [278](#L278) | $file\_uploader\_html = $file\_uploader->get\_html(); |
| [279](#L279) | $import\_label = \_\_( 'Import', 'blockmeister' ); |
| [280](#L280) | } |
| [281](#L281) |  |
| [282](#L282) | ?> |
| [283](#L283) | <script id="blockmeister-pattern-list-table-script"> |
| [284](#L284) |  |
| [285](#L285) | jQuery(document).ready(function ($) { |
| [286](#L286) |  |
| [287](#L287) | <?php |
| [288](#L288) |  |
| [289](#L289) | if ( $inject\_import\_elements ) { |
| [290](#L290) | ?> |
| [291](#L291) |  |
| [292](#L292) | // inject import button |
| [293](#L293) | var importButton = $('.wp-heading-inline + .page-title-action').after(` |
| [294](#L294) | <a href="#" id="import-button" class="page-title-action"><?php |
| [295](#L295) | echo  esc\_html( $import\_label ) ; |
| [296](#L296) | ?></a> |
| [297](#L297) | `); |
| [298](#L298) |  |
| [299](#L299) | // inject upload form |
| [300](#L300) | var uploadForm = $('#import-button').after(` |
| [301](#L301) | <?php |
| [302](#L302) | echo  $file\_uploader\_html ; |
| [303](#L303) | ?> |
| [304](#L304) | `); |
| [305](#L305) |  |
| [306](#L306) | $('#import-button').on('click', function (e) { |
| [307](#L307) | $('form.imports').slideToggle(200); |
| [308](#L308) | e.preventDefault(); |
| [309](#L309) | }); |
| [310](#L310) |  |
| [311](#L311) | <?php |
| [312](#L312) | } |
| [313](#L313) |  |
| [314](#L314) | ?> |
| [315](#L315) |  |
| [316](#L316) | // remove links from title of registered patterns (so no actual post) |
| [317](#L317) | $('table.wp-list-table tr.virtual-post a.row-title').contents().unwrap(); |
| [318](#L318) |  |
| [319](#L319) | }); |
| [320](#L320) | </script> |
| [321](#L321) | <?php |
| [322](#L322) | } |
| [323](#L323) |  |
| [324](#L324) | public function add\_style() |
| [325](#L325) | { |
| [326](#L326) | global  $post\_type ; |
| [327](#L327) | if ( 'blockmeister\_pattern' !== $post\_type ) { |
| [328](#L328) | return; |
| [329](#L329) | } |
| [330](#L330) | ?> |
| [331](#L331) | <style id="blockmeister-pattern-list-table-style"> |
| [332](#L332) | .search-box, .tablenav-pages, .screen-options { /\* <-- screen-options = pagination section !!! \*/ |
| [333](#L333) | display: none; |
| [334](#L334) | } |
| [335](#L335) |  |
| [336](#L336) | table.wp-list-table { |
| [337](#L337) | table-layout: auto; |
| [338](#L338) | } |
| [339](#L339) |  |
| [340](#L340) | </style> |
| [341](#L341) | <?php |
| [342](#L342) | } |
| [343](#L343) |  |
| [344](#L344) | /\*\* |
| [345](#L345) | \* Filters the list of CSS class names for the current pattern and adds either |
| [346](#L346) | \* active or inactive class AND virtual-post class if applicable |
| [347](#L347) | \* |
| [348](#L348) | \* @param string[] $classes An array of post class names. |
| [349](#L349) | \* @param string[] $class An array of additional class names added to the post. |
| [350](#L350) | \* @param int $post\_id The post ID. |
| [351](#L351) | \* |
| [352](#L352) | \* @return string[] The update $classes array |
| [353](#L353) | \*/ |
| [354](#L354) | public function assign\_status\_and\_virtual\_post\_classes( array $classes, array $class, $post\_id ) |
| [355](#L355) | { |
| [356](#L356) | // status class: |
| [357](#L357) | $pattern\_name = $this->get\_pattern\_name( $post\_id ); |
| [358](#L358) | // check if pattern\_name is active or not and add respective class |
| [359](#L359) | $inactive\_patterns = get\_option( 'blockmeister\_inactive\_patterns', [] ); |
| [360](#L360) | $is\_pattern\_inactive = in\_array( $pattern\_name, $inactive\_patterns, true ); |
| [361](#L361) | $classes[] = ( $is\_pattern\_inactive ? 'inactive' : 'active' ); |
| [362](#L362) | // virtual post class |
| [363](#L363) | if ( $post\_id < 0 ) { |
| [364](#L364) | $classes[] = 'virtual-post'; |
| [365](#L365) | } |
| [366](#L366) | return $classes; |
| [367](#L367) | } |
| [368](#L368) |  |
| [369](#L369) | /\*\* |
| [370](#L370) | \* Looks up and returns the pattern name associated with the given post. |
| [371](#L371) | \* Note: drafts are by default unnamed, so we generate a name for those. |
| [372](#L372) | \* |
| [373](#L373) | \* @param int|object $post If the id <= 0 then this is pointing to a pseudo post, i.e. a registered pattern added as a post. |
| [374](#L374) | \* |
| [375](#L375) | \* @return mixed|string |
| [376](#L376) | \*/ |
| [377](#L377) | private function get\_pattern\_name( $post ) |
| [378](#L378) | { |
| [379](#L379) | $is\_post\_object = is\_object( $post ); |
| [380](#L380) | $post\_id = ( $is\_post\_object ? $post->ID : (int) $post ); |
| [381](#L381) | $is\_registered\_block\_pattern = $post\_id <= 0; |
| [382](#L382) | if ( $is\_registered\_block\_pattern ) { |
| [383](#L383) | return $this->registered\_block\_patterns[-$post\_id]['name']; |
| [384](#L384) | } |
| [385](#L385) | if ( !$is\_post\_object ) { |
| [386](#L386) | $post = get\_post( $post\_id ); |
| [387](#L387) | } |
| [388](#L388) | // for drafts, we need to generate a name (wp leaves names empty while posts are in draft state) |
| [389](#L389) | $post\_name = ( $post->post\_status === 'draft' ? 'draft-' . $post\_id : $post->post\_name ); |
| [390](#L390) | $pattern\_name = BlockMeister::get\_default\_block\_namespace() . '/' . $post\_name; |
| [391](#L391) | return $pattern\_name; |
| [392](#L392) | } |
| [393](#L393) |  |
| [394](#L394) | /\*\* |
| [395](#L395) | \* By default, WordPress will place the Categories column after the Author column. |
| [396](#L396) | \* With this filter we reverse that. |
| [397](#L397) | \* |
| [398](#L398) | \* @param $columns |
| [399](#L399) | \* |
| [400](#L400) | \* @return array The reordered columns |
| [401](#L401) | \*/ |
| [402](#L402) | public function customize\_blockmeister\_pattern\_posts\_columns( $columns ) |
| [403](#L403) | { |
| [404](#L404) | $author\_column\_label = $columns['author']; |
| [405](#L405) | // reuse later, so no need to translate |
| [406](#L406) | unset( $columns['taxonomy-pattern\_category'] ); |
| [407](#L407) | unset( $columns['taxonomy-pattern\_keyword'] ); |
| [408](#L408) | unset( $columns['author'] ); |
| [409](#L409) | $columns\_ordered = []; |
| [410](#L410) | foreach ( $columns as $key => $title ) { |
| [411](#L411) |  |
| [412](#L412) | if ( $key == 'date' ) { |
| [413](#L413) | // Put the custom columns before the Author column |
| [414](#L414) | //$columns\_ordered['pattern\_enabled']    = esc\_html\_\_( 'Enabled', 'blockmeister' ); |
| [415](#L415) | $columns\_ordered['pattern\_categories'] = esc\_html\_\_( 'Categories', 'blockmeister' ); |
| [416](#L416) | $columns\_ordered['pattern\_keywords'] = esc\_html\_\_( 'Keywords', 'blockmeister' ); |
| [417](#L417) | $columns\_ordered['pattern\_author'] = $author\_column\_label; |
| [418](#L418) | } |
| [419](#L419) |  |
| [420](#L420) | $columns\_ordered[$key] = $title; |
| [421](#L421) | } |
| [422](#L422) | return $columns\_ordered; |
| [423](#L423) | } |
| [424](#L424) |  |
| [425](#L425) | /\*\* |
| [426](#L426) | \* Echoes the content of the custom column per given post\_id. |
| [427](#L427) | \* Fires for each custom column of list table. |
| [428](#L428) | \* |
| [429](#L429) | \* @param string $column\_name The name of the column to display. |
| [430](#L430) | \* @param int $post\_id The current post ID. |
| [431](#L431) | \* |
| [432](#L432) | \*/ |
| [433](#L433) | public function render\_custom\_columns( $column\_name, $post\_id ) |
| [434](#L434) | { |
| [435](#L435) | $registered\_block\_pattern = null; |
| [436](#L436) | if ( $is\_registered\_block\_pattern = $post\_id <= 0 ) { |
| [437](#L437) | $registered\_block\_pattern = $this->registered\_block\_patterns[-$post\_id]; |
| [438](#L438) | } |
| [439](#L439) | // don't render a hidden column: |
| [440](#L440) | $hidden\_columns = get\_hidden\_columns( 'edit-blockmeister\_pattern' ); |
| [441](#L441) | if ( in\_array( $column\_name, $hidden\_columns ) ) { |
| [442](#L442) | return; |
| [443](#L443) | } |
| [444](#L444) | switch ( $column\_name ) { |
| [445](#L445) | case "pattern\_categories": |
| [446](#L446) | $this->render\_pattern\_categories\_column( $post\_id, $is\_registered\_block\_pattern, $registered\_block\_pattern ); |
| [447](#L447) | break; |
| [448](#L448) | case "pattern\_keywords": |
| [449](#L449) | $this->render\_pattern\_keywords\_column( $post\_id, $is\_registered\_block\_pattern, $registered\_block\_pattern ); |
| [450](#L450) | break; |
| [451](#L451) | case "pattern\_author": |
| [452](#L452) | $this->render\_pattern\_author\_column( $post\_id, $is\_registered\_block\_pattern, $registered\_block\_pattern ); |
| [453](#L453) | break; |
| [454](#L454) | default: |
| [455](#L455) | $this->render\_unknown\_column( $post\_id, $is\_registered\_block\_pattern, $column\_name ); |
| [456](#L456) | } |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | private function render\_pattern\_categories\_column( $post\_id, $is\_registered\_block\_pattern, $registered\_block\_pattern ) |
| [460](#L460) | { |
| [461](#L461) | $categories = ''; |
| [462](#L462) | $base\_list\_table\_url = get\_admin\_url() . 'edit.php?post\_type=blockmeister\_pattern&filter\_action=Filter&category='; |
| [463](#L463) |  |
| [464](#L464) | if ( $is\_registered\_block\_pattern ) { |
| [465](#L465) | // get data from registered block pattern |
| [466](#L466) | $category\_registry = \WP\_Block\_Pattern\_Categories\_Registry::get\_instance(); |
| [467](#L467) | $pattern\_categories = ( isset( $registered\_block\_pattern['categories'] ) ? $registered\_block\_pattern['categories'] : [] ); |
| [468](#L468) | foreach ( $pattern\_categories as $category\_name ) { |
| [469](#L469) |  |
| [470](#L470) | if ( $registered\_categories = $category\_registry->get\_registered( $category\_name ) ) { |
| [471](#L471) | $category\_list\_table\_url = $base\_list\_table\_url . esc\_html( $registered\_categories['name'] ); |
| [472](#L472) | $category\_link = '<a href="' . $category\_list\_table\_url . '">' . esc\_html( $registered\_categories['label'] ) . '</a>'; |
| [473](#L473) | $categories .= (( $categories !== '' ? ', ' : '' )) . $category\_link; |
| [474](#L474) | } |
| [475](#L475) |  |
| [476](#L476) | } |
| [477](#L477) | } else { |
| [478](#L478) | // custom block pattern |
| [479](#L479) | $object\_terms = wp\_get\_object\_terms( $post\_id, 'pattern\_category' ); |
| [480](#L480) | foreach ( $object\_terms as $object\_term ) { |
| [481](#L481) | $category\_list\_table\_url = $base\_list\_table\_url . esc\_html( $object\_term->slug ); |
| [482](#L482) | $category\_link = '<a href="' . $category\_list\_table\_url . '">' . esc\_html( $object\_term->name ) . '</a>'; |
| [483](#L483) | $categories .= (( $categories !== '' ? ', ' : '' )) . $category\_link; |
| [484](#L484) | } |
| [485](#L485) | } |
| [486](#L486) |  |
| [487](#L487) | $categories = ( $categories !== '' ? $categories : '—' ); |
| [488](#L488) | echo  $categories ; |
| [489](#L489) | } |
| [490](#L490) |  |
| [491](#L491) | private function render\_pattern\_keywords\_column( $post\_id, $is\_registered\_block\_pattern, $registered\_block\_pattern ) |
| [492](#L492) | { |
| [493](#L493) | $keywords = ''; |
| [494](#L494) |  |
| [495](#L495) | if ( $is\_registered\_block\_pattern ) { |
| [496](#L496) | $pattern\_keywords = ( isset( $registered\_block\_pattern['keywords'] ) ? $registered\_block\_pattern['keywords'] : [] ); |
| [497](#L497) | foreach ( $pattern\_keywords as $keyword\_name ) { |
| [498](#L498) | //$registered\_keywords = $category\_registry->get\_registered( $keyword\_name ); |
| [499](#L499) | $keywords .= (( $keywords !== '' ? ', ' : '' )) . $keyword\_name; |
| [500](#L500) | } |
| [501](#L501) | } else { |
| [502](#L502) | $object\_terms = wp\_get\_object\_terms( $post\_id, 'pattern\_keyword' ); |
| [503](#L503) | foreach ( $object\_terms as $object\_term ) { |
| [504](#L504) | $keywords .= (( $keywords !== '' ? ', ' : '' )) . $object\_term->name; |
| [505](#L505) | } |
| [506](#L506) | } |
| [507](#L507) |  |
| [508](#L508) | $keywords = ( $keywords !== '' ? $keywords : '—' ); |
| [509](#L509) | echo  esc\_html( $keywords ) ; |
| [510](#L510) | } |
| [511](#L511) |  |
| [512](#L512) | private function render\_pattern\_author\_column( $post\_id, $is\_registered\_block\_pattern, $registered\_block\_pattern ) |
| [513](#L513) | { |
| [514](#L514) |  |
| [515](#L515) | if ( $is\_registered\_block\_pattern ) { |
| [516](#L516) | $name\_parts = explode( '/', $registered\_block\_pattern['name'] ); |
| [517](#L517) | // remote loaded core patterns are not namespaced, so we give those a default of 'pattern directory'! |
| [518](#L518) | $namespace = ( sizeof( $name\_parts ) > 1 ? $name\_parts[0] : 'pattern directory' ); |
| [519](#L519) | echo  ucfirst( esc\_html( $namespace ) ) ; |
| [520](#L520) | } else { |
| [521](#L521) | $post = get\_post( $post\_id ); |
| [522](#L522) | $author\_id = $post->post\_author; |
| [523](#L523) | $author = get\_the\_author\_meta( 'display\_name', $author\_id ); |
| [524](#L524) | echo  esc\_html( $author ) ; |
| [525](#L525) | } |
| [526](#L526) |  |
| [527](#L527) | } |
| [528](#L528) |  |
| [529](#L529) | /\*\* |
| [530](#L530) | \* We only allow rendering of custom column content for custom patterns. |
| [531](#L531) | \* This allows e.g. translation plugins to add a translations column. |
| [532](#L532) | \* |
| [533](#L533) | \* @param $post\_id |
| [534](#L534) | \* @param $is\_registered\_block\_pattern |
| [535](#L535) | \* @param $column\_name |
| [536](#L536) | \*/ |
| [537](#L537) | private function render\_unknown\_column( $post\_id, $is\_registered\_block\_pattern, $column\_name ) |
| [538](#L538) | { |
| [539](#L539) | if ( $is\_registered\_block\_pattern ) { |
| [540](#L540) | echo  "<span class='not-applicable'>—</span><style>tr#post-{$post\_id} > td.column-{$column\_name} \*:not(.not-applicable) { display: none}</style>" ; |
| [541](#L541) | } |
| [542](#L542) | } |
| [543](#L543) |  |
| [544](#L544) | /\*\* |
| [545](#L545) | \* Filters the action links displayed for each term in the blockmeister\_pattern list table. |
| [546](#L546) | \* |
| [547](#L547) | \* @param string[] $actions An array of row action links. |
| [548](#L548) | \* @param \WP\_Post $post The post object. |
| [549](#L549) | \* |
| [550](#L550) | \* @return array|string[] |
| [551](#L551) | \*/ |
| [552](#L552) | public function add\_and\_remove\_row\_actions( $actions, $post ) |
| [553](#L553) | { |
| [554](#L554) | $is\_registered\_block\_pattern = $post->ID <= 0; |
| [555](#L555) | // Remove default row actions for pseudo (registered) posts |
| [556](#L556) |  |
| [557](#L557) | if ( $is\_registered\_block\_pattern ) { |
| [558](#L558) | $actions = []; |
| [559](#L559) | } else { |
| [560](#L560) | unset( $actions['view'] ); |
| [561](#L561) | //unset( $actions ['preview'] ); |
| [562](#L562) | } |
| [563](#L563) |  |
| [564](#L564) | // Remove 'quick edit' - because of bug which hides preview on opening quick edit |
| [565](#L565) | unset( $actions['inline hide-if-no-js'] ); |
| [566](#L566) | // Add Activate or Deactivate row action |
| [567](#L567) |  |
| [568](#L568) | if ( current\_user\_can( 'publish\_blockmeister\_patterns' ) ) { |
| [569](#L569) | // add activate/deactivate row action: |
| [570](#L570) | //$pattern\_name = $is\_registered\_block\_pattern ? $post->post\_name : BlockMeister::get\_default\_block\_namespace() . '/' . $post->post\_name; |
| [571](#L571) | $pattern\_name = $this->get\_pattern\_name( $post ); |
| [572](#L572) |  |
| [573](#L573) | if ( Utils::is\_pattern\_active( $pattern\_name ) ) { |
| [574](#L574) | $action = 'deactivate'; |
| [575](#L575) | /\* translators: %s: Pattern name. \*/ |
| [576](#L576) | $aria\_label = sprintf( esc\_html\_x( 'Deactivate %s', 'pattern' ), $pattern\_name ); |
| [577](#L577) | $label = \_\_( 'Deactivate', 'blockmeister' ); |
| [578](#L578) | } else { |
| [579](#L579) | // pattern is inactive |
| [580](#L580) | $action = 'activate'; |
| [581](#L581) | /\* translators: %s: Pattern name. \*/ |
| [582](#L582) | $aria\_label = sprintf( esc\_html\_x( 'Activate %s', 'pattern' ), $pattern\_name ); |
| [583](#L583) | $label = \_\_( 'Activate', 'blockmeister' ); |
| [584](#L584) | } |
| [585](#L585) |  |
| [586](#L586) | $action\_url = add\_query\_arg( [ |
| [587](#L587) | 'pattern' => urlencode( $pattern\_name ), |
| [588](#L588) | 'action'  => $action, |
| [589](#L589) | ] ); |
| [590](#L590) | $action\_url = remove\_query\_arg( [ 'notice', 'status' ], $action\_url ); |
| [591](#L591) | $actions[$action] = sprintf( |
| [592](#L592) | '<a href="%s" id="%s-%s" aria-label="%s">%s</a>', |
| [593](#L593) | wp\_nonce\_url( $action\_url, $action, 'bm\_nonce' ), |
| [594](#L594) | $action, |
| [595](#L595) | esc\_attr( $pattern\_name ), |
| [596](#L596) | esc\_attr( $aria\_label ), |
| [597](#L597) | esc\_html( $label ) |
| [598](#L598) | ); |
| [599](#L599) | } |
| [600](#L600) |  |
| [601](#L601) | return $actions; |
| [602](#L602) | } |
| [603](#L603) |  |
| [604](#L604) | /\*\* |
| [605](#L605) | \* Creates and returns a json string, containing all pattern data AND |
| [606](#L606) | \* keywords and categories. All terms will contain their definition data |
| [607](#L607) | \* in order to create the term on the import site when the term is missing. |
| [608](#L608) | \*/ |
| [609](#L609) | private function get\_registered\_pattern\_for\_export\_json( $pattern\_name ) |
| [610](#L610) | { |
| [611](#L611) | $patterns\_registry = \WP\_Block\_Patterns\_Registry::get\_instance(); |
| [612](#L612) | $registered\_pattern = $patterns\_registry->get\_registered( $pattern\_name ); |
| [613](#L613) | $registered\_pattern['\_\_file'] = "blockmeister\_pattern"; |
| [614](#L614) |  |
| [615](#L615) | if ( isset( $registered\_pattern['categories'] ) ) { |
| [616](#L616) | // add category registration data |
| [617](#L617) | $category\_registry = \WP\_Block\_Pattern\_Categories\_Registry::get\_instance(); |
| [618](#L618) | foreach ( $registered\_pattern['categories'] as $index => $category ) { |
| [619](#L619) | $category\_term = $category\_registry->get\_registered( $category ); |
| [620](#L620) | $registered\_pattern['categories'][$index] = $category\_term; |
| [621](#L621) | } |
| [622](#L622) | } |
| [623](#L623) |  |
| [624](#L624) | return wp\_json\_encode( $registered\_pattern ); |
| [625](#L625) | } |
| [626](#L626) |  |
| [627](#L627) | /\*\* |
| [628](#L628) | \* Filters the pattern list table bulk actions drop-down. |
| [629](#L629) | \* |
| [630](#L630) | \* The dynamic portion of the hook name, `$this->screen->id`, refers |
| [631](#L631) | \* to the ID of the current screen, usually a string. |
| [632](#L632) | \* |
| [633](#L633) | \* @param string[] $actions An array of the available bulk actions. |
| [634](#L634) | \* |
| [635](#L635) | \* @return string[] |
| [636](#L636) | \*/ |
| [637](#L637) | public function add\_and\_remove\_bulk\_actions( $actions ) |
| [638](#L638) | { |
| [639](#L639) | $filter = ( isset( $\_GET['filter'] ) ? $\_GET['filter'] : false ); |
| [640](#L640) | if ( !$filter || 'active' !== $filter ) { |
| [641](#L641) | $actions['activate'] = esc\_html\_\_( 'Activate', 'blockmeister' ); |
| [642](#L642) | } |
| [643](#L643) | if ( !$filter || 'inactive' !== $filter ) { |
| [644](#L644) | $actions['deactivate'] = esc\_html\_\_( 'Deactivate', 'blockmeister' ); |
| [645](#L645) | } |
| [646](#L646) | unset( $actions['edit'] ); |
| [647](#L647) | return $actions; |
| [648](#L648) | } |
| [649](#L649) |  |
| [650](#L650) | /\*\* |
| [651](#L651) | \* Handles row actions and form upload actions |
| [652](#L652) | \* |
| [653](#L653) | \* Security: |
| [654](#L654) | \* - Checks user intend (admin referer) |
| [655](#L655) | \* - action handlers it calls will check required capbilites |
| [656](#L656) | \*/ |
| [657](#L657) | public function handle\_action\_request() |
| [658](#L658) | { |
| [659](#L659) | global  $pagenow ; |
| [660](#L660) | $handled\_actions = [ |
| [661](#L661) | 'activate', |
| [662](#L662) | 'deactivate', |
| [663](#L663) | 'clone', |
| [664](#L664) | 'trash', |
| [665](#L665) | 'import' |
| [666](#L666) | ]; |
| [667](#L667) | // other actions will be handled by WP |
| [668](#L668) | $action = ( isset( $\_REQUEST['action'] ) ? $\_REQUEST['action'] : false ); |
| [669](#L669) | if ( 'edit.php' !== $pagenow || !isset( $\_GET['post\_type'] ) || 'blockmeister\_pattern' !== $\_GET['post\_type'] || $action === false || !in\_array( $action, $handled\_actions ) ) { |
| [670](#L670) | return; |
| [671](#L671) | } |
| [672](#L672) | $num = false; |
| [673](#L673) |  |
| [674](#L674) | if ( check\_admin\_referer( $action, 'bm\_nonce' ) ) { |
| [675](#L675) | $post\_status\_query\_arg = ( isset( $\_GET['post\_status'] ) ? $\_GET['post\_status'] : false ); |
| [676](#L676) | $filter\_query\_arg = ( isset( $\_GET['filter'] ) ? $\_GET['filter'] : false ); |
| [677](#L677) | $filter\_action\_query\_arg = ( isset( $\_GET['filter\_action'] ) ? $\_GET['filter\_action'] : false ); |
| [678](#L678) | $filter\_category\_query\_arg = ( isset( $\_GET['category'] ) ? $\_GET['category'] : false ); |
| [679](#L679) | $pattern = ( isset( $\_GET['pattern'] ) ? $\_GET['pattern'] : false ); |
| [680](#L680) | switch ( $action ) { |
| [681](#L681) | case 'activate': |
| [682](#L682) | $notice = $this->activate\_pattern( $pattern ); |
| [683](#L683) | break; |
| [684](#L684) | case 'deactivate': |
| [685](#L685) | $notice = $this->deactivate\_pattern( $pattern ); |
| [686](#L686) | break; |
| [687](#L687) | case 'clone': |
| [688](#L688) | $notice = $this->clone\_pattern\_\_premium\_only( $pattern ); |
| [689](#L689) | break; |
| [690](#L690) | case 'import': |
| [691](#L691) | $num = count( $\_FILES['file'] ); |
| [692](#L692) | $notice = $this->import\_patterns(); |
| [693](#L693) | break; |
| [694](#L694) | default: |
| [695](#L695) | $notice = new WP\_Error( 'unknown-action', \_\_( 'Unknown action', 'blockmeister' ) ); |
| [696](#L696) | } |
| [697](#L697) | $query\_args = [ |
| [698](#L698) | 'notice'        => urlencode( ( is\_wp\_error( $notice ) ? $notice->get\_error\_message() : $notice ) ), |
| [699](#L699) | 'status'        => ( is\_wp\_error( $notice ) ? 'error' : 'success' ), |
| [700](#L700) | 'post\_status'   => $post\_status\_query\_arg, |
| [701](#L701) | 'filter'        => $filter\_query\_arg, |
| [702](#L702) | 'filter\_action' => $filter\_action\_query\_arg, |
| [703](#L703) | 'category'      => $filter\_category\_query\_arg, |
| [704](#L704) | ]; |
| [705](#L705) | if ( $pattern ) { |
| [706](#L706) | $query\_args['pattern'] = $pattern; |
| [707](#L707) | } |
| [708](#L708) | if ( $num ) { |
| [709](#L709) | $query\_args['num'] = $num; |
| [710](#L710) | } |
| [711](#L711) | $\_SERVER['REQUEST\_URI'] = remove\_query\_arg( array( |
| [712](#L712) | 'locked', |
| [713](#L713) | 'skipped', |
| [714](#L714) | 'updated', |
| [715](#L715) | 'deleted', |
| [716](#L716) | 'trashed', |
| [717](#L717) | 'untrashed', |
| [718](#L718) | 'activated', |
| [719](#L719) | 'deactivated' |
| [720](#L720) | ), $\_SERVER['REQUEST\_URI'] ); |
| [721](#L721) | $redirect\_to = add\_query\_arg( $query\_args, self\_admin\_url( "edit.php?post\_type=blockmeister\_pattern" ) ); |
| [722](#L722) | wp\_redirect( $redirect\_to ); |
| [723](#L723) | // will be sanitized by wp\_sanitize\_redirect |
| [724](#L724) | exit; |
| [725](#L725) | } |
| [726](#L726) |  |
| [727](#L727) | } |
| [728](#L728) |  |
| [729](#L729) | public function activate\_pattern( $pattern\_name ) |
| [730](#L730) | { |
| [731](#L731) |  |
| [732](#L732) | if ( current\_user\_can( 'publish\_blockmeister\_patterns' ) && $pattern\_name !== false ) { |
| [733](#L733) | $inactive\_patterns = get\_option( 'blockmeister\_inactive\_patterns', [] ); |
| [734](#L734) |  |
| [735](#L735) | if ( in\_array( $pattern\_name, $inactive\_patterns, true ) ) { |
| [736](#L736) | $index = array\_search( $pattern\_name, $inactive\_patterns, true ); |
| [737](#L737) | unset( $inactive\_patterns[$index] ); |
| [738](#L738) | } |
| [739](#L739) |  |
| [740](#L740) | $pattern = $this->get\_registered\_pattern( $pattern\_name ); |
| [741](#L741) | /\* translators: placeholder will be replaced by the name of the pattern that was activated \*/ |
| [742](#L742) | $notice = wp\_sprintf( \_\_( "Pattern '%s' has been activated.", 'blockmeister' ), $pattern['title'] ); |
| [743](#L743) | sort( $inactive\_patterns ); |
| [744](#L744) | update\_option( 'blockmeister\_inactive\_patterns', $inactive\_patterns ); |
| [745](#L745) | } else { |
| [746](#L746) | $notice = new WP\_Error( 'activate-not-allowed', \_\_( 'You have insufficient rights to activate patterns.', 'blockmeister' ) ); |
| [747](#L747) | } |
| [748](#L748) |  |
| [749](#L749) | return $notice; |
| [750](#L750) | } |
| [751](#L751) |  |
| [752](#L752) | /\*\* |
| [753](#L753) | \* @param string $pattern\_name Pattern name including namespace |
| [754](#L754) | \* |
| [755](#L755) | \* @return array|null |
| [756](#L756) | \*/ |
| [757](#L757) | private function get\_registered\_pattern( $pattern\_name ) |
| [758](#L758) | { |
| [759](#L759) | $patterns\_registry = \WP\_Block\_Patterns\_Registry::get\_instance(); |
| [760](#L760) | return $registered\_pattern = $patterns\_registry->get\_registered( $pattern\_name ); |
| [761](#L761) | } |
| [762](#L762) |  |
| [763](#L763) | public function deactivate\_pattern( $pattern\_name ) |
| [764](#L764) | { |
| [765](#L765) |  |
| [766](#L766) | if ( current\_user\_can( 'publish\_blockmeister\_patterns' ) && $pattern\_name !== false ) { |
| [767](#L767) | $inactive\_patterns = get\_option( 'blockmeister\_inactive\_patterns', [] ); |
| [768](#L768) | if ( !in\_array( $pattern\_name, $inactive\_patterns, true ) ) { |
| [769](#L769) | $inactive\_patterns[] = $pattern\_name; |
| [770](#L770) | } |
| [771](#L771) | $pattern = $this->get\_registered\_pattern( $pattern\_name ); |
| [772](#L772) | /\* translators: placeholder will be replaced by the name of the pattern that was deactivated \*/ |
| [773](#L773) | $notice = wp\_sprintf( \_\_( "Pattern '%s' has been deactivated.", 'blockmeister' ), $pattern['title'] ); |
| [774](#L774) | sort( $inactive\_patterns ); |
| [775](#L775) | update\_option( 'blockmeister\_inactive\_patterns', $inactive\_patterns ); |
| [776](#L776) | } else { |
| [777](#L777) | $notice = new WP\_Error( 'deactivate-not-allowed', \_\_( 'You have insufficient rights to deactivate patterns.', 'blockmeister' ) ); |
| [778](#L778) | } |
| [779](#L779) |  |
| [780](#L780) | return $notice; |
| [781](#L781) | } |
| [782](#L782) |  |
| [783](#L783) | /\*\* |
| [784](#L784) | \* If current user is allowed to and the uploaded file is 'sane' |
| [785](#L785) | \* it will be inserted as a blockmeister\_pattern post. |
| [786](#L786) | \* |
| [787](#L787) | \* @return array|string|WP\_Error |
| [788](#L788) | \*/ |
| [789](#L789) | private function import\_patterns() |
| [790](#L790) | { |
| [791](#L791) |  |
| [792](#L792) | if ( current\_user\_can( 'publish\_blockmeister\_patterns' ) && current\_user\_can( 'import' ) ) { |
| [793](#L793) | if ( !isset( $\_FILES['file'] ) ) { |
| [794](#L794) | return new WP\_Error( 'no-upload', esc\_html\_\_( 'There where no files uploaded to import.', 'blockmeister' ) ); |
| [795](#L795) | } |
| [796](#L796) | // rearrange $\_FILES['file'] (for easier use) |
| [797](#L797) | $files = []; |
| [798](#L798) | foreach ( $\_FILES['file'] as $key => $all ) { |
| [799](#L799) | foreach ( $all as $i => $val ) { |
| [800](#L800) | $files[$i][$key] = $val; |
| [801](#L801) | } |
| [802](#L802) | } |
| [803](#L803) | // decode, check format, save imported file(s) data: |
| [804](#L804) | foreach ( $files as $file ) { |
| [805](#L805) | $decoded = JSON\_File\_Uploader::decode\_json\_file( $file ); |
| [806](#L806) |  |
| [807](#L807) | if ( is\_wp\_error( $decoded ) ) { |
| [808](#L808) | return $decoded; |
| [809](#L809) | // = WP\_Error |
| [810](#L810) | } else { |
| [811](#L811) | $pattern\_import\_data = $this->check\_pattern\_import\_data\_format( $decoded ); |
| [812](#L812) |  |
| [813](#L813) | if ( is\_wp\_error( $pattern\_import\_data ) ) { |
| [814](#L814) | return $pattern\_import\_data; |
| [815](#L815) | // = WP\_Error |
| [816](#L816) | } else { |
| [817](#L817) | $this->insert\_imported\_pattern\_as\_post( $pattern\_import\_data ); |
| [818](#L818) | } |
| [819](#L819) |  |
| [820](#L820) | } |
| [821](#L821) |  |
| [822](#L822) | } |
| [823](#L823) |  |
| [824](#L824) | if ( count( $files ) === 1 ) { |
| [825](#L825) | /\* translators: placeholder will be replaced by the name of the pattern \*/ |
| [826](#L826) | $notice = wp\_sprintf( \_\_( "Pattern '%s' has been imported.", 'blockmeister' ), $pattern\_import\_data['title'] ); |
| [827](#L827) | } else { |
| [828](#L828) | /\* translators: placeholder will be replaced by the number of the patterns that were imported \*/ |
| [829](#L829) | $notice = wp\_sprintf( \_\_( "%d patterns imported.", 'blockmeister' ), count( $files ) ); |
| [830](#L830) | } |
| [831](#L831) |  |
| [832](#L832) | } else { |
| [833](#L833) | $notice = new WP\_Error( 'no-permission', \_\_( 'You have insufficient rights to import patterns.', 'blockmeister' ) ); |
| [834](#L834) | } |
| [835](#L835) |  |
| [836](#L836) | return $notice; |
| [837](#L837) | } |
| [838](#L838) |  |
| [839](#L839) | /\*\* |
| [840](#L840) | \* Checks data format |
| [841](#L841) | \* Users can import blockmeister\_pattern data or core reusable (exported) data. |
| [842](#L842) | \* |
| [843](#L843) | \* @param $pattern\_import\_data |
| [844](#L844) | \* |
| [845](#L845) | \* @return WP\_Error|array The import data (as associative array) or WP\_Error when data format is invalid. The data is safe to store in the DB. |
| [846](#L846) | \*/ |
| [847](#L847) | private function check\_pattern\_import\_data\_format( $pattern\_import\_data ) |
| [848](#L848) | { |
| [849](#L849) | $required\_keys = [ '\_\_file', 'title', 'content' ]; |
| [850](#L850) | $invalid\_json\_error = new WP\_Error( 'invalid-json-format', \_\_( 'Invalid data format.', 'blockmeister' ) ); |
| [851](#L851) | // check if required keys exist (else return WP Error: invalid format): |
| [852](#L852) | foreach ( $required\_keys as $required\_key ) { |
| [853](#L853) | if ( !isset( $pattern\_import\_data[$required\_key] ) ) { |
| [854](#L854) | return $invalid\_json\_error; |
| [855](#L855) | } |
| [856](#L856) | } |
| [857](#L857) | // check supported file formats (currently blockmeister pattern export files and core reusable block export files) |
| [858](#L858) | $supported\_file\_formats = [ 'blockmeister\_pattern', 'wp\_block' ]; |
| [859](#L859) | if ( !in\_array( $pattern\_import\_data['\_\_file'], $supported\_file\_formats ) ) { |
| [860](#L860) | return $invalid\_json\_error; |
| [861](#L861) | } |
| [862](#L862) | return $pattern\_import\_data; |
| [863](#L863) | // = not sanitized at this point! |
| [864](#L864) | } |
| [865](#L865) |  |
| [866](#L866) | /\*\* |
| [867](#L867) | \* Inserts the imported data as blockmeister\_pattern post. |
| [868](#L868) | \* Missing pattern\_category terms will be inserted to. |
| [869](#L869) | \* |
| [870](#L870) | \* Security notes: |
| [871](#L871) | \* - uses wp\_insert\_post and wp\_insert\_term, which take care of data sanitization. |
| [872](#L872) | \* - caller should take care of checking user intend and capability check before calling this method |
| [873](#L873) | \*   and take care of any action specific checks/sanitization (e.g. of custom post meta data), if applicable. |
| [874](#L874) | \* |
| [875](#L875) | \* @param $pattern\_import\_data |
| [876](#L876) | \* |
| [877](#L877) | \* @return int|WP\_Error |
| [878](#L878) | \*/ |
| [879](#L879) | private function insert\_imported\_pattern\_as\_post( $pattern\_import\_data ) |
| [880](#L880) | { |
| [881](#L881) | $insert\_post\_args = [ |
| [882](#L882) | 'post\_title'     => $pattern\_import\_data['title'] . ' (' . esc\_html\_\_( 'import', 'blockmeister' ) . ')', |
| [883](#L883) | 'post\_status'    => 'draft', |
| [884](#L884) | 'comment\_status' => 'closed', |
| [885](#L885) | 'ping\_status'    => 'closed', |
| [886](#L886) | 'post\_content'   => wp\_slash( $pattern\_import\_data['content'] ), |
| [887](#L887) | 'post\_excerpt'   => ( isset( $pattern\_import\_data['description'] ) ? wp\_slash( $pattern\_import\_data['description'] ) : '' ), |
| [888](#L888) | 'post\_type'      => 'blockmeister\_pattern', |
| [889](#L889) | ]; |
| [890](#L890) | // add the clone post |
| [891](#L891) | $new\_post\_id = wp\_insert\_post( $insert\_post\_args ); |
| [892](#L892) | // newly cloned post will automatically get the default category assigned, we need to undo that: |
| [893](#L893) | wp\_remove\_object\_terms( $new\_post\_id, 'default', 'pattern\_category' ); |
| [894](#L894) | // set categories (note: is a hierarchical taxonomy) |
| [895](#L895) | if ( isset( $pattern\_import\_data['categories'] ) ) { |
| [896](#L896) | foreach ( $pattern\_import\_data['categories'] as $category\_term ) { |
| [897](#L897) | // if category doesn't exist, add it: |
| [898](#L898) | $ids = term\_exists( $category\_term['name'], 'pattern\_category' ); |
| [899](#L899) | if ( !$ids ) { |
| [900](#L900) | $ids = wp\_insert\_term( $category\_term['label'], 'pattern\_category', [ |
| [901](#L901) | 'slug' => $category\_term['name'], |
| [902](#L902) | ] ); |
| [903](#L903) | } |
| [904](#L904) | if ( $ids ) { |
| [905](#L905) | $affected\_term\_taxonomy\_ids = wp\_set\_post\_terms( |
| [906](#L906) | $new\_post\_id, |
| [907](#L907) | [ $ids['term\_id'] ], |
| [908](#L908) | 'pattern\_category', |
| [909](#L909) | true |
| [910](#L910) | ); |
| [911](#L911) | } |
| [912](#L912) | } |
| [913](#L913) | } |
| [914](#L914) | // set keywords |
| [915](#L915) | if ( isset( $pattern\_import\_data['keywords'] ) ) { |
| [916](#L916) | $affected\_term\_taxonomy\_ids = wp\_set\_post\_terms( |
| [917](#L917) | $new\_post\_id, |
| [918](#L918) | $pattern\_import\_data['keywords'], |
| [919](#L919) | 'pattern\_keyword', |
| [920](#L920) | true |
| [921](#L921) | ); |
| [922](#L922) | } |
| [923](#L923) | // set meta |
| [924](#L924) | if ( isset( $pattern\_import\_data['viewportWidth'] ) ) { |
| [925](#L925) | update\_post\_meta( $new\_post\_id, '\_bm\_viewport\_width', (int) $pattern\_import\_data['viewportWidth'] ); |
| [926](#L926) | } |
| [927](#L927) | return $new\_post\_id; |
| [928](#L928) | } |
| [929](#L929) |  |
| [930](#L930) | /\*\* |
| [931](#L931) | \* Fires when a custom bulk action should be handled. |
| [932](#L932) | \* |
| [933](#L933) | \* The redirect link should be modified with success or failure feedback |
| [934](#L934) | \* from the action to be used to display feedback to the user. |
| [935](#L935) | \* |
| [936](#L936) | \* Note: this is a callback called by edit.php for custom bulk actions. |
| [937](#L937) | \*       Before it is called edit.php checks user intend via check\_admin\_referer(bulk-posts) |
| [938](#L938) | \* |
| [939](#L939) | \* @param string $redirectURL The redirect URL. |
| [940](#L940) | \* @param string $doaction The action being taken. |
| [941](#L941) | \* @param array $pattern\_post\_ids The (pseudo) post ids of patterns to take the action on. |
| [942](#L942) | \* |
| [943](#L943) | \* @return string The redirect URL. |
| [944](#L944) | \*/ |
| [945](#L945) | public function handle\_bulk\_actions( $redirectURL, $doaction, $pattern\_post\_ids ) |
| [946](#L946) | { |
| [947](#L947) | $num\_successful = 0; |
| [948](#L948) | foreach ( $pattern\_post\_ids as $pattern\_post\_id ) { |
| [949](#L949) | $pattern\_name = $this->get\_pattern\_name( $pattern\_post\_id ); |
| [950](#L950) | $action\_method = "{$doaction}\_pattern"; |
| [951](#L951) | switch ( $doaction ) { |
| [952](#L952) | case "activate": |
| [953](#L953) | $success\_status = \_\_( 'activated' ); |
| [954](#L954) | // use core translation |
| [955](#L955) | break; |
| [956](#L956) | case "deactivate": |
| [957](#L957) | $success\_status = \_\_( 'deactivated' ); |
| [958](#L958) | // use core translation |
| [959](#L959) | break; |
| [960](#L960) | case 'trash\_custom': |
| [961](#L961) | $success\_status = \_\_( 'trashed' ); |
| [962](#L962) | // use core translation |
| [963](#L963) | break; |
| [964](#L964) | } |
| [965](#L965) | // do action + add to count how many where successful |
| [966](#L966) | $notice = $this->{$action\_method}( $pattern\_name ); |
| [967](#L967) | $num\_successful += ( !is\_wp\_error( $notice ) ? 1 : 0 ); |
| [968](#L968) | } |
| [969](#L969) | // note: unfortunately it seems impossible to filter bulk\_counts array, therefore we re-use the core status 'updated' |
| [970](#L970) | $redirectURL = add\_query\_arg( [ |
| [971](#L971) | 'updated'       => $num\_successful, |
| [972](#L972) | $success\_status => $num\_successful, |
| [973](#L973) | ], $redirectURL ); |
| [974](#L974) | //$redirect\_to            = add\_query\_arg( $query\_args, $redirectURL ); |
| [975](#L975) | return $redirectURL; |
| [976](#L976) | } |
| [977](#L977) |  |
| [978](#L978) | /\*\* |
| [979](#L979) | \* Filters the action updated messages. |
| [980](#L980) | \* By default, custom post types use the messages for the 'post' post type. |
| [981](#L981) | \* With this callback we change that to 'pattern'. |
| [982](#L982) | \* |
| [983](#L983) | \* @param array[] $bulk\_messages Arrays of messages, each keyed by the corresponding post type. Messages are |
| [984](#L984) | \*                               keyed with 'updated', 'locked', 'deleted', 'trashed', and 'untrashed'. |
| [985](#L985) | \* @param int[] $bulk\_counts Array of item counts for each message, used to build internationalized strings. |
| [986](#L986) | \* |
| [987](#L987) | \* @return array[] The update messages. |
| [988](#L988) | \*/ |
| [989](#L989) | public function filter\_bulk\_action\_result\_messages( $bulk\_messages, $bulk\_counts ) |
| [990](#L990) | { |
| [991](#L991) |  |
| [992](#L992) | if ( isset( $\_GET['post\_type'] ) && $\_GET['post\_type'] === 'blockmeister\_pattern' ) { |
| [993](#L993) | $bulk\_counts['activated'] = ( isset( $\_REQUEST['activated'] ) ? absint( $\_REQUEST['activated'] ) : 0 ); |
| [994](#L994) | $bulk\_counts['deactivated'] = ( isset( $\_REQUEST['deactivated'] ) ? absint( $\_REQUEST['deactivated'] ) : 0 ); |
| [995](#L995) | $bulk\_messages['post'] = [ |
| [996](#L996) | 'updated'   => \_n( '%s pattern updated.', '%s patterns updated.', $bulk\_counts['updated'] ), |
| [997](#L997) | 'locked'    => ( 1 === $bulk\_counts['locked'] ? \_\_( '1 pattern not updated, somebody is editing it.' ) : \_n( '%s pattern not updated, somebody is editing it.', '%s patterns not updated, somebody is editing them.', $bulk\_counts['locked'] ) ), |
| [998](#L998) | 'deleted'   => \_n( '%s pattern permanently deleted.', '%s patterns permanently deleted.', $bulk\_counts['deleted'] ), |
| [999](#L999) | 'trashed'   => \_n( '%s pattern moved to the Trash.', '%s patterns moved to the Trash.', $bulk\_counts['trashed'] ), |
| [1000](#L1000) | 'untrashed' => \_n( '%s pattern restored from the Trash.', '%s patterns restored from the Trash.', $bulk\_counts['untrashed'] ), |
| [1001](#L1001) | ]; |
| [1002](#L1002) | // note: edit.php has no filter to add custom keys to its $block\_counts, |
| [1003](#L1003) | //       therefore we re-use 'updated' key which we override if applicable: |
| [1004](#L1004) |  |
| [1005](#L1005) | if ( isset( $\_REQUEST['activated'] ) ) { |
| [1006](#L1006) | /\* translators: %s: Number of patterns. \*/ |
| [1007](#L1007) | $bulk\_messages['post']['updated'] = \_n( '%s pattern activated.', '%s patterns activated.', $bulk\_counts['activated'] ); |
| [1008](#L1008) | } elseif ( isset( $\_REQUEST['deactivated'] ) ) { |
| [1009](#L1009) | /\* translators: %s: Number of patterns. \*/ |
| [1010](#L1010) | $bulk\_messages['post']['updated'] = \_n( '%s pattern deactivated.', '%s patterns deactivated.', $bulk\_counts['deactivated'] ); |
| [1011](#L1011) | } |
| [1012](#L1012) |  |
| [1013](#L1013) | } |
| [1014](#L1014) |  |
| [1015](#L1015) | return $bulk\_messages; |
| [1016](#L1016) | } |
| [1017](#L1017) |  |
| [1018](#L1018) | /\*\* |
| [1019](#L1019) | \* Filters on category on the raw post results array, prior to status checks. |
| [1020](#L1020) | \* If there is a filter arg then we remove post based on filtered state them from the post results. |
| [1021](#L1021) | \* This is to make sure the table list only shows patterns that apply to the custom filter. |
| [1022](#L1022) | \* Handles only our custom filters: active, inactive, |
| [1023](#L1023) | \* |
| [1024](#L1024) | \* @param \WP\_Post[] $posts Array of post objects. |
| [1025](#L1025) | \* @param \WP\_Query $wp\_query The WP\_Query instance (passed by reference). |
| [1026](#L1026) | \* |
| [1027](#L1027) | \* @return \WP\_Post[] |
| [1028](#L1028) | \* |
| [1029](#L1029) | \*/ |
| [1030](#L1030) | public function filter\_table\_list\_rows\_on\_category( $posts, $wp\_query ) |
| [1031](#L1031) | { |
| [1032](#L1032) | // if no applicable filter then do nothing but return the posts as is |
| [1033](#L1033) | if ( $wp\_query->query['post\_type'] !== 'blockmeister\_pattern' || !isset( $\_GET['filter\_action'] ) || !isset( $\_GET['category'] ) || $\_GET['category'] === '0' ) { |
| [1034](#L1034) | return $posts; |
| [1035](#L1035) | } |
| [1036](#L1036) | $category\_filter = $\_GET['category']; |
| [1037](#L1037) | $filtered\_posts = []; |
| [1038](#L1038) | foreach ( $posts as $post ) { |
| [1039](#L1039) | $pattern\_name = $this->get\_pattern\_name( $post ); |
| [1040](#L1040) | $registered\_block\_pattern = $this->get\_registered\_pattern( $pattern\_name ); |
| [1041](#L1041) | $pattern\_categories = ( isset( $registered\_block\_pattern['categories'] ) ? $registered\_block\_pattern['categories'] : [] ); |
| [1042](#L1042) | if ( in\_array( $category\_filter, $pattern\_categories, true ) ) { |
| [1043](#L1043) | $filtered\_posts[] = $post; |
| [1044](#L1044) | } |
| [1045](#L1045) | } |
| [1046](#L1046) | return $filtered\_posts; |
| [1047](#L1047) | } |
| [1048](#L1048) |  |
| [1049](#L1049) | private function sort\_posts( $posts, $order, $orderByColumn ) |
| [1050](#L1050) | { |
| [1051](#L1051) | switch ( $orderByColumn ) { |
| [1052](#L1052) | case 'date': |
| [1053](#L1053) | $orderBy = [ |
| [1054](#L1054) | 'post\_date'  => $order, |
| [1055](#L1055) | 'post\_title' => 'ASC', |
| [1056](#L1056) | ]; |
| [1057](#L1057) | break; |
| [1058](#L1058) | case 'title': |
| [1059](#L1059) | default: |
| [1060](#L1060) | $orderBy = 'post\_title'; |
| [1061](#L1061) | break; |
| [1062](#L1062) | } |
| [1063](#L1063) | $posts = wp\_list\_sort( $posts, $orderBy, $order ); |
| [1064](#L1064) | return $posts; |
| [1065](#L1065) | } |
| [1066](#L1066) |  |
| [1067](#L1067) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php?format=txt)
* [Original Format](/export/3220594/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ca955992_20250111_065409.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fblockmeister%2Ftags%2F3.1.10%2Fincludes%2FJSON_File_Uploader.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php)

---

# [source:](/browser?order=name "Go to repository root") [blockmeister](/browser/blockmeister?order=name "View blockmeister")/[tags](/browser/blockmeister/tags?order=name "View tags")/[3.1.10](/browser/blockmeister/tags/3.1.10?order=name "View 3.1.10")/[includes](/browser/blockmeister/tags/3.1.10/includes?order=name "View includes")/[JSON\_File\_Uploader.php](/browser/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php?order=name "View JSON_File_Uploader.php")

View diff against:

View revision:

| [Last change](/changeset/2934123/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php "View differences") on this file was [2934123](/changeset/2934123/ "View changeset 2934123"), checked in by blockmeister, [19 months ago](/timeline?from=2023-07-04T22%3A19%3A59Z&precision=second "See timeline at 07/04/2023 10:19:59 PM") |
| --- |
| 3.1.10 |
| **File size:** 7.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) |  |
| [4](#L4) | namespace ProDevign\BlockMeister; |
| [5](#L5) |  |
| [6](#L6) | use WP\_Error; |
| [7](#L7) |  |
| [8](#L8) | /\*\* |
| [9](#L9) | \* Class File\_Uploader |
| [10](#L10) | \*/ |
| [11](#L11) | class JSON\_File\_Uploader { |
| [12](#L12) |  |
| [13](#L13) | private $target\_url; |
| [14](#L14) |  |
| [15](#L15) | /\*\* |
| [16](#L16) | \* File\_Uploader constructor. |
| [17](#L17) | \* |
| [18](#L18) | \* @param string $target\_url The target URL to which the form will be submitted. |
| [19](#L19) | \*/ |
| [20](#L20) | public function \_\_construct( $target\_url ) { |
| [21](#L21) | $this->target\_url = $target\_url; |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) |  |
| [25](#L25) | public function init( $enqueue\_direct = false ) { |
| [26](#L26) | add\_action( 'admin\_footer', [ $this, 'add\_style' ] ); |
| [27](#L27) | add\_action( 'admin\_footer', [ $this, 'add\_script' ] ); |
| [28](#L28) | } |
| [29](#L29) |  |
| [30](#L30) |  |
| [31](#L31) | public function get\_html() { |
| [32](#L32) | $drop\_instruction = esc\_html\_\_('Drop files to upload','blockmeister' ); |
| [33](#L33) | $select\_instruction = esc\_html\_\_( 'Select Files', 'blockmeister' ); |
| [34](#L34) | $close\_text = esc\_html\_\_( 'Close uploader', 'blockmeister' ); |
| [35](#L35) | $action = 'import'; |
| [36](#L36) | $nonce\_field = wp\_nonce\_field( $action, 'bm\_nonce' ); |
| [37](#L37) |  |
| [38](#L38) | $import\_disclaimer = '<strong>'  . esc\_html\_\_( 'Keep your site safe!', 'blockmeister' ) . '</strong><br />' . |
| [39](#L39) | esc\_html\_\_( 'Only import patterns you downloaded from trusted sources or manually validate the pattern code before importing.', 'blockmeister' ); |
| [40](#L40) |  |
| [41](#L41) | return $html = <<<FORM |
| [42](#L42) | <form method="POST" enctype="multipart/form-data" action="{$this->target\_url}" class="imports"> |
| [43](#L43) | <p><sup></sup>{$import\_disclaimer}</p> |
| [44](#L44) | <div id="spinner-wrapper"> |
| [45](#L45) | <img src="/wp-includes/images/spinner.gif" class="loading"> |
| [46](#L46) | </div> |
| [47](#L47) | <div id="upload-ui-wrapper"> |
| [48](#L48) | <button id="close-form" class="dashicons dashicons-no"><span class="screen-reader-text">{$close\_text}</span></button> |
| [49](#L49) | <div class="upload-ui"> |
| [50](#L50) | <h2 class="upload-instructions drop-instructions">{$drop\_instruction}</h2> |
| [51](#L51) | <p class="upload-instructions drop-instructions">or</p> |
| [52](#L52) | <button type="button" class="browser button button-hero">{$select\_instruction}</button> |
| [53](#L53) | </div> |
| [54](#L54) | <input id="files" name="file[]" type="file" accept="application/json" multiple /> |
| [55](#L55) | <input name="action" type="hidden" value="{$action}"> |
| [56](#L56) | {$nonce\_field} |
| [57](#L57) | </div> |
| [58](#L58) | </form> |
| [59](#L59) | FORM; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | /\*\* |
| [64](#L64) | \* Does the same checks as is done by \_wp\_handle\_upload, but doesn't move (save) the file on to the server. |
| [65](#L65) | \* Note: the return decoded json object/array needs yet to be sanitized for your particular application |
| [66](#L66) | \* |
| [67](#L67) | \* @param string[] $file Reference to a single element of `$\_FILES`. |
| [68](#L68) | \*                       Call the function once for each uploaded file. |
| [69](#L69) | \* @param bool $assoc When TRUE, JSON objects will be returned as associative arrays; |
| [70](#L70) | \*                    When FALSE, JSON objects will be returned as objects;\* |
| [71](#L71) | \*                    Default TRUE |
| [72](#L72) | \* |
| [73](#L73) | \* |
| [74](#L74) | \* @return mixed|WP\_Error |
| [75](#L75) | \*/ |
| [76](#L76) | public static function decode\_json\_file( $file, $assoc = true ) { |
| [77](#L77) |  |
| [78](#L78) | // test if upload failed $file['error'] will be set |
| [79](#L79) | if ( isset( $file['error'] ) && $file['error'] > 0 ) { |
| [80](#L80) | return new WP\_Error( 'upload-failed', esc\_html( $file['error'] ) ); |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) | // test if file was uploaded via HTTP\_POST (otherwise assume malicious intent) |
| [84](#L84) | if ( !is\_uploaded\_file( $file['tmp\_name']) ) { |
| [85](#L85) | wp\_die('😞','',400); |
| [86](#L86) | } |
| [87](#L87) |  |
| [88](#L88) | // test file is not empty |
| [89](#L89) | $test\_file\_size = filesize( $file['tmp\_name'] ); |
| [90](#L90) | if ( $test\_file\_size === 0 ) { |
| [91](#L91) | return new  WP\_Error( 'file-empty', esc\_html\_\_( 'Uploaded file is empty.', 'blockmeister' ) ); |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | // test json extension |
| [95](#L95) | $wp\_filetype     = wp\_check\_filetype( $file['name'], ['json'=>'application/json'] ); |
| [96](#L96) | $ext             = empty( $wp\_filetype['ext'] ) ? '' : $wp\_filetype['ext']; |
| [97](#L97) | $type            = empty( $wp\_filetype['type'] ) ? '' : $wp\_filetype['type']; |
| [98](#L98) |  |
| [99](#L99) | if ( $wp\_filetype['ext'] !== 'json' ) { |
| [100](#L100) | return new WP\_Error( 'no-json-file-extension', esc\_html\_\_( 'Imported file has invalid file extension.','blockmeister' ) ); |
| [101](#L101) | } |
| [102](#L102) |  |
| [103](#L103) | // test if file contains a json string |
| [104](#L104) | $file\_content = file\_get\_contents( $file['tmp\_name'] ); |
| [105](#L105) | $json\_decoded = json\_decode( $file\_content, $assoc ); |
| [106](#L106) | if ( json\_last\_error() !== JSON\_ERROR\_NONE && is\_object( $json\_decoded ) ) { |
| [107](#L107) | return new WP\_Error( 'invalid-json', json\_last\_error\_msg() ); |
| [108](#L108) | } |
| [109](#L109) |  |
| [110](#L110) | // all checks passed, return (not-sanitized) decoded JSON (object/array) |
| [111](#L111) | return $json\_decoded; |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | public function add\_style() { |
| [116](#L116) |  |
| [117](#L117) | ?> |
| [118](#L118) | <style id="blockmeister-json-file-uploader-style"> |
| [119](#L119) | form.imports { |
| [120](#L120) | position: relative; |
| [121](#L121) | width: calc(100%-12px); |
| [122](#L122) | display: none; |
| [123](#L123) | border: 4px dashed #b4b9be; |
| [124](#L124) | text-align: center; |
| [125](#L125) | margin: 12px 2px; |
| [126](#L126) | } |
| [127](#L127) |  |
| [128](#L128) | form.imports > #spinner-wrapper { |
| [129](#L129) | position: absolute; |
| [130](#L130) | display: flex; |
| [131](#L131) | justify-content: center; |
| [132](#L132) | align-items: center; |
| [133](#L133) | height: 100%; |
| [134](#L134) | width: 100%; |
| [135](#L135) | opacity: 0; |
| [136](#L136) | } |
| [137](#L137) |  |
| [138](#L138) | form.imports > #spinner-wrapper > img.loading { |
| [139](#L139) | opacity: 0.7; |
| [140](#L140) | width: auto; |
| [141](#L141) | transition: opacity 400ms ease-in-out; |
| [142](#L142) | position: absolute; |
| [143](#L143) | z-index: 1; |
| [144](#L144) | padding: 4px; |
| [145](#L145) | } |
| [146](#L146) |  |
| [147](#L147) | form.imports > #upload-ui-wrapper { |
| [148](#L148) | transition: opacity 200ms ease-in-out; |
| [149](#L149) | } |
| [150](#L150) |  |
| [151](#L151) | form.imports button#close-form { |
| [152](#L152) | background-color: transparent; |
| [153](#L153) | font-size: 2em; |
| [154](#L154) | color: grey; |
| [155](#L155) | border: 0; |
| [156](#L156) | cursor: pointer; |
| [157](#L157) | height: 48px; |
| [158](#L158) | outline: 0; |
| [159](#L159) | padding: 0; |
| [160](#L160) | position: absolute; |
| [161](#L161) | right: 2px; |
| [162](#L162) | text-align: center; |
| [163](#L163) | top: 2px; |
| [164](#L164) | width: 48px; |
| [165](#L165) | z-index: 10; |
| [166](#L166) | transition: transform .2s ease-in-out; |
| [167](#L167) | } |
| [168](#L168) |  |
| [169](#L169) | form.imports button#close-form:hover { |
| [170](#L170) | transform:rotate(90deg); |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | form.imports .upload-ui { |
| [174](#L174) | margin: 2em 0; |
| [175](#L175) | } |
| [176](#L176) |  |
| [177](#L177) | form.imports h2 { |
| [178](#L178) | font-size: 20px; |
| [179](#L179) | line-height: 1.4; |
| [180](#L180) | font-weight: 400; |
| [181](#L181) | margin: 0; |
| [182](#L182) | } |
| [183](#L183) |  |
| [184](#L184) | form.imports button.button-hero { |
| [185](#L185) | pointer-events: none; |
| [186](#L186) | display: inline-block; |
| [187](#L187) | position: relative; |
| [188](#L188) | z-index: 1; |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | form.imports input[type=file] { |
| [192](#L192) | position: absolute; |
| [193](#L193) | left: 0; |
| [194](#L194) | top: 0; |
| [195](#L195) | width: 100%; |
| [196](#L196) | height: 100%; |
| [197](#L197) | outline: 0; |
| [198](#L198) | opacity: 0; |
| [199](#L199) | } |
| [200](#L200) | </style> |
| [201](#L201) | <?php |
| [202](#L202) |  |
| [203](#L203) | } |
| [204](#L204) |  |
| [205](#L205) | public function add\_script() { |
| [206](#L206) | ?> |
| [207](#L207) | <script id="blockmeister-json-file-uploader-script"> |
| [208](#L208) | jQuery(document).ready(function ($) { |
| [209](#L209) |  |
| [210](#L210) | $('button#close-form').on('click', function (e) { |
| [211](#L211) | $('form.imports').slideToggle(200); |
| [212](#L212) | e.preventDefault(); |
| [213](#L213) | }); |
| [214](#L214) |  |
| [215](#L215) | $('form.imports input#files').on('change', function (e){ |
| [216](#L216) | $('form.imports > #spinner-wrapper').css('opacity',1); |
| [217](#L217) | $('form.imports > #upload-ui-wrapper').css('opacity',0); |
| [218](#L218) | $('form.imports').submit(); |
| [219](#L219) | }); |
| [220](#L220) |  |
| [221](#L221) | }); |
| [222](#L222) | </script> |
| [223](#L223) | <?php |
| [224](#L224) | } |
| [225](#L225) |  |
| [226](#L226) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php?format=txt)
* [Original Format](/export/3220594/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_c79157c6_20250111_065423.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fblockmeister%2Ftags%2F3.1.11%2Fincludes%2FJSON_File_Uploader.php%3Frev%3D3165925)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← Previous Revision
* [Latest Revision](/browser/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php)
* Next Revision →
* [Blame](/browser/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php?annotate=blame&rev=3165925 "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php?rev=3165925)

---

# [source:](/browser?rev=3165925&order=name "Go to repository root") [blockmeister](/browser/blockmeister?rev=3165925&order=name "View blockmeister")/[tags](/browser/blockmeister/tags?rev=3165925&order=name "View tags")/[3.1.11](/browser/blockmeister/tags/3.1.11?rev=3165925&order=name "View 3.1.11")/[includes](/browser/blockmeister/tags/3.1.11/includes?rev=3165925&order=name "View includes")/[JSON\_File\_Uploader.php](/browser/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php?rev=3165925&order=name "View JSON_File_Uploader.php") @ [3165925](/changeset/3165925/ "View changeset 3165925")

View diff against:

View revision:

| [Last change](/changeset/3165925/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php "View differences") on this file since 3165925 was [3165925](/changeset/3165925/ "View changeset 3165925"), checked in by blockmeister, [3 months ago](/timeline?from=2024-10-09T15%3A53%3A45Z&precision=second "See timeline at 10/09/2024 03:53:45 PM") |
| --- |
| 3.1.11 release |
| **File size:** 7.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) |  |
| [4](#L4) | namespace ProDevign\BlockMeister; |
| [5](#L5) |  |
| [6](#L6) | use WP\_Error; |
| [7](#L7) |  |
| [8](#L8) | /\*\* |
| [9](#L9) | \* Class File\_Uploader |
| [10](#L10) | \*/ |
| [11](#L11) | class JSON\_File\_Uploader { |
| [12](#L12) |  |
| [13](#L13) | private $target\_url; |
| [14](#L14) |  |
| [15](#L15) | /\*\* |
| [16](#L16) | \* File\_Uploader constructor. |
| [17](#L17) | \* |
| [18](#L18) | \* @param string $target\_url The target URL to which the form will be submitted. |
| [19](#L19) | \*/ |
| [20](#L20) | public function \_\_construct( $target\_url ) { |
| [21](#L21) | $this->target\_url = $target\_url; |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) |  |
| [25](#L25) | public function init( $enqueue\_direct = false ) { |
| [26](#L26) | add\_action( 'admin\_footer', [ $this, 'add\_style' ] ); |
| [27](#L27) | add\_action( 'admin\_footer', [ $this, 'add\_script' ] ); |
| [28](#L28) | } |
| [29](#L29) |  |
| [30](#L30) |  |
| [31](#L31) | public function get\_html() { |
| [32](#L32) | $action\_url = esc\_url( $this->target\_url ); |
| [33](#L33) | $drop\_instruction = esc\_html\_\_('Drop files to upload','blockmeister' ); |
| [34](#L34) | $select\_instruction = esc\_html\_\_( 'Select Files', 'blockmeister' ); |
| [35](#L35) | $close\_text = esc\_html\_\_( 'Close uploader', 'blockmeister' ); |
| [36](#L36) | $action = 'import'; |
| [37](#L37) | $nonce\_field = wp\_nonce\_field( $action, 'bm\_nonce' ); |
| [38](#L38) |  |
| [39](#L39) | $import\_disclaimer = '<strong>'  . esc\_html\_\_( 'Keep your site safe!', 'blockmeister' ) . '</strong><br />' . |
| [40](#L40) | esc\_html\_\_( 'Only import patterns you downloaded from trusted sources or manually validate the pattern code before importing.', 'blockmeister' ); |
| [41](#L41) |  |
| [42](#L42) | return $html = <<<FORM |
| [43](#L43) | <form method="POST" enctype="multipart/form-data" action="{$action\_url}" class="imports"> |
| [44](#L44) | <p><sup></sup>{$import\_disclaimer}</p> |
| [45](#L45) | <div id="spinner-wrapper"> |
| [46](#L46) | <img src="/wp-includes/images/spinner.gif" class="loading"> |
| [47](#L47) | </div> |
| [48](#L48) | <div id="upload-ui-wrapper"> |
| [49](#L49) | <button id="close-form" class="dashicons dashicons-no"><span class="screen-reader-text">{$close\_text}</span></button> |
| [50](#L50) | <div class="upload-ui"> |
| [51](#L51) | <h2 class="upload-instructions drop-instructions">{$drop\_instruction}</h2> |
| [52](#L52) | <p class="upload-instructions drop-instructions">or</p> |
| [53](#L53) | <button type="button" class="browser button button-hero">{$select\_instruction}</button> |
| [54](#L54) | </div> |
| [55](#L55) | <input id="files" name="file[]" type="file" accept="application/json" multiple /> |
| [56](#L56) | <input name="action" type="hidden" value="{$action}"> |
| [57](#L57) | {$nonce\_field} |
| [58](#L58) | </div> |
| [59](#L59) | </form> |
| [60](#L60) | FORM; |
| [61](#L61) |  |
| [62](#L62) | } |
| [63](#L63) |  |
| [64](#L64) | /\*\* |
| [65](#L65) | \* Does the same checks as is done by \_wp\_handle\_upload, but doesn't move (save) the file on to the server. |
| [66](#L66) | \* Note: the return decoded json object/array needs yet to be sanitized for your particular application |
| [67](#L67) | \* |
| [68](#L68) | \* @param string[] $file Reference to a single element of `$\_FILES`. |
| [69](#L69) | \*                       Call the function once for each uploaded file. |
| [70](#L70) | \* @param bool $assoc When TRUE, JSON objects will be returned as associative arrays; |
| [71](#L71) | \*                    When FALSE, JSON objects will be returned as objects;\* |
| [72](#L72) | \*                    Default TRUE |
| [73](#L73) | \* |
| [74](#L74) | \* |
| [75](#L75) | \* @return mixed|WP\_Error |
| [76](#L76) | \*/ |
| [77](#L77) | public static function decode\_json\_file( $file, $assoc = true ) { |
| [78](#L78) |  |
| [79](#L79) | // test if upload failed $file['error'] will be set |
| [80](#L80) | if ( isset( $file['error'] ) && $file['error'] > 0 ) { |
| [81](#L81) | return new WP\_Error( 'upload-failed', esc\_html( $file['error'] ) ); |
| [82](#L82) | } |
| [83](#L83) |  |
| [84](#L84) | // test if file was uploaded via HTTP\_POST (otherwise assume malicious intent) |
| [85](#L85) | if ( !is\_uploaded\_file( $file['tmp\_name']) ) { |
| [86](#L86) | wp\_die('😞','',400); |
| [87](#L87) | } |
| [88](#L88) |  |
| [89](#L89) | // test file is not empty |
| [90](#L90) | $test\_file\_size = filesize( $file['tmp\_name'] ); |
| [91](#L91) | if ( $test\_file\_size === 0 ) { |
| [92](#L92) | return new  WP\_Error( 'file-empty', esc\_html\_\_( 'Uploaded file is empty.', 'blockmeister' ) ); |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | // test json extension |
| [96](#L96) | $wp\_filetype     = wp\_check\_filetype( $file['name'], ['json'=>'application/json'] ); |
| [97](#L97) | $ext             = empty( $wp\_filetype['ext'] ) ? '' : $wp\_filetype['ext']; |
| [98](#L98) | $type            = empty( $wp\_filetype['type'] ) ? '' : $wp\_filetype['type']; |
| [99](#L99) |  |
| [100](#L100) | if ( $wp\_filetype['ext'] !== 'json' ) { |
| [101](#L101) | return new WP\_Error( 'no-json-file-extension', esc\_html\_\_( 'Imported file has invalid file extension.','blockmeister' ) ); |
| [102](#L102) | } |
| [103](#L103) |  |
| [104](#L104) | // test if file contains a json string |
| [105](#L105) | $file\_content = file\_get\_contents( $file['tmp\_name'] ); |
| [106](#L106) | $json\_decoded = json\_decode( $file\_content, $assoc ); |
| [107](#L107) | if ( json\_last\_error() !== JSON\_ERROR\_NONE && is\_object( $json\_decoded ) ) { |
| [108](#L108) | return new WP\_Error( 'invalid-json', json\_last\_error\_msg() ); |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | // all checks passed, return (not-sanitized) decoded JSON (object/array) |
| [112](#L112) | return $json\_decoded; |
| [113](#L113) |  |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | public function add\_style() { |
| [117](#L117) |  |
| [118](#L118) | ?> |
| [119](#L119) | <style id="blockmeister-json-file-uploader-style"> |
| [120](#L120) | form.imports { |
| [121](#L121) | position: relative; |
| [122](#L122) | width: calc(100%-12px); |
| [123](#L123) | display: none; |
| [124](#L124) | border: 4px dashed #b4b9be; |
| [125](#L125) | text-align: center; |
| [126](#L126) | margin: 12px 2px; |
| [127](#L127) | } |
| [128](#L128) |  |
| [129](#L129) | form.imports > #spinner-wrapper { |
| [130](#L130) | position: absolute; |
| [131](#L131) | display: flex; |
| [132](#L132) | justify-content: center; |
| [133](#L133) | align-items: center; |
| [134](#L134) | height: 100%; |
| [135](#L135) | width: 100%; |
| [136](#L136) | opacity: 0; |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | form.imports > #spinner-wrapper > img.loading { |
| [140](#L140) | opacity: 0.7; |
| [141](#L141) | width: auto; |
| [142](#L142) | transition: opacity 400ms ease-in-out; |
| [143](#L143) | position: absolute; |
| [144](#L144) | z-index: 1; |
| [145](#L145) | padding: 4px; |
| [146](#L146) | } |
| [147](#L147) |  |
| [148](#L148) | form.imports > #upload-ui-wrapper { |
| [149](#L149) | transition: opacity 200ms ease-in-out; |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | form.imports button#close-form { |
| [153](#L153) | background-color: transparent; |
| [154](#L154) | font-size: 2em; |
| [155](#L155) | color: grey; |
| [156](#L156) | border: 0; |
| [157](#L157) | cursor: pointer; |
| [158](#L158) | height: 48px; |
| [159](#L159) | outline: 0; |
| [160](#L160) | padding: 0; |
| [161](#L161) | position: absolute; |
| [162](#L162) | right: 2px; |
| [163](#L163) | text-align: center; |
| [164](#L164) | top: 2px; |
| [165](#L165) | width: 48px; |
| [166](#L166) | z-index: 10; |
| [167](#L167) | transition: transform .2s ease-in-out; |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | form.imports button#close-form:hover { |
| [171](#L171) | transform:rotate(90deg); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | form.imports .upload-ui { |
| [175](#L175) | margin: 2em 0; |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | form.imports h2 { |
| [179](#L179) | font-size: 20px; |
| [180](#L180) | line-height: 1.4; |
| [181](#L181) | font-weight: 400; |
| [182](#L182) | margin: 0; |
| [183](#L183) | } |
| [184](#L184) |  |
| [185](#L185) | form.imports button.button-hero { |
| [186](#L186) | pointer-events: none; |
| [187](#L187) | display: inline-block; |
| [188](#L188) | position: relative; |
| [189](#L189) | z-index: 1; |
| [190](#L190) | } |
| [191](#L191) |  |
| [192](#L192) | form.imports input[type=file] { |
| [193](#L193) | position: absolute; |
| [194](#L194) | left: 0; |
| [195](#L195) | top: 0; |
| [196](#L196) | width: 100%; |
| [197](#L197) | height: 100%; |
| [198](#L198) | outline: 0; |
| [199](#L199) | opacity: 0; |
| [200](#L200) | } |
| [201](#L201) | </style> |
| [202](#L202) | <?php |
| [203](#L203) |  |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | public function add\_script() { |
| [207](#L207) | ?> |
| [208](#L208) | <script id="blockmeister-json-file-uploader-script"> |
| [209](#L209) | jQuery(document).ready(function ($) { |
| [210](#L210) |  |
| [211](#L211) | $('button#close-form').on('click', function (e) { |
| [212](#L212) | $('form.imports').slideToggle(200); |
| [213](#L213) | e.preventDefault(); |
| [214](#L214) | }); |
| [215](#L215) |  |
| [216](#L216) | $('form.imports input#files').on('change', function (e){ |
| [217](#L217) | $('form.imports > #spinner-wrapper').css('opacity',1); |
| [218](#L218) | $('form.imports > #upload-ui-wrapper').css('opacity',0); |
| [219](#L219) | $('form.imports').submit(); |
| [220](#L220) | }); |
| [221](#L221) |  |
| [222](#L222) | }); |
| [223](#L223) | </script> |
| [224](#L224) | <?php |
| [225](#L225) | } |
| [226](#L226) |  |
| [227](#L227) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php?rev=3165925&format=txt)
* [Original Format](/export/3165925/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_3694f11e_20250111_065425.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# BlockMeister – Block Pattern Builder <= 3.1.10 - Reflected Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   BlockMeister – Block Pattern Builder <= 3.1.10 - Reflected Cross-Site Scripting

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-9616](https://www.cve.org/CVERecord?id=CVE-2024-9616) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | October 10, 2024 |
| Last Updated | October 11, 2024 |
| Researcher | [vgo0](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/dale-mavers) |

### Description

The BlockMeister – Block Pattern Builder plugin for WordPress is vulnerable to Reflected Cross-Site Scripting due to the use of add\_query\_arg without appropriate escaping on the URL in all versions up to, and including, 3.1.10. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/blockmeister/tags/3.1.10/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php#L272)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/blockmeister/tags/3.1.10/includes/JSON_File_Uploader.php#L31)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3165925%40blockmeister&new=3165925%40blockmeister&sfp_email=&sfph_mail=)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php?rev=3165925#L31)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fblockmeister%2Fblockmeister-block-pattern-builder-3110-reflected-cross-site-scripting&t=BlockMeister%20%E2%80%93%20Block%20Pattern%20Builder%20%3C%3D%203.1.10%20-%20Reflected%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fblockmeister%2Fblockmeister-block-pattern-builder-3110-reflected-cross-site-scripting&text=BlockMeister%20%E2%80%93%20Block%20Pattern%20Builder%20%3C%3D%203.1.10%20-%20Reflected%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fblockmeister%2Fblockmeister-block-pattern-builder-3110-reflected-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for BlockMeister – Block Pattern Builder

#### [BlockMeister – Block Pattern Builder](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/blockmeister)

| Software Type | Plugin |
| --- | --- |
| Software Slug | blockmeister [(view on wordpress.org)](https://wordpress.org/plugins/blockmeister) |
| Patched? | Yes |
| Remediation | Update to version 3.1.11, or a newer patched version |
| Affected Version | * <= 3.1.10 |
| Patched Version | * 3.1.11 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_582be54e_20250111_065424.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3165925%2540blockmeister%26old%3D3165925%2540blockmeister)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3116465/blockmeister "Changeset 3116465 for blockmeister")
* [Next Change](/changeset/3165935/blockmeister "Changeset 3165935 for blockmeister") →

---

# Changeset [3165925](/changeset/3165925 "Show full changeset") for [blockmeister](/browser/blockmeister?rev=3165925 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/09/2024 03:53:45 PM
([3 months](/timeline?from=2024-10-09T15%3A53%3A45Z&precision=second "See timeline at 10/09/2024 03:53:45 PM") ago)

Author:
blockmeister
Message:

3.1.11 release

Location:
[blockmeister](/browser/blockmeister?rev=3165925)
Files:

250 added
1 edited

* [tags/3.1.11](/browser/blockmeister/tags/3.1.11?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/blockmeister.php](/browser/blockmeister/tags/3.1.11/blockmeister.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/build](/browser/blockmeister/tags/3.1.11/build?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/build/pattern-builder](/browser/blockmeister/tags/3.1.11/build/pattern-builder?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/build/pattern-builder/pattern-builder.asset.php](/browser/blockmeister/tags/3.1.11/build/pattern-builder/pattern-builder.asset.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/build/pattern-builder/pattern-builder.css](/browser/blockmeister/tags/3.1.11/build/pattern-builder/pattern-builder.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/build/pattern-builder/pattern-builder.js](/browser/blockmeister/tags/3.1.11/build/pattern-builder/pattern-builder.js?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius](/browser/blockmeister/tags/3.1.11/freemius?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/LICENSE.txt](/browser/blockmeister/tags/3.1.11/freemius/LICENSE.txt?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets](/browser/blockmeister/tags/3.1.11/freemius/assets?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css](/browser/blockmeister/tags/3.1.11/freemius/assets/css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/account.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/account.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/add-ons.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/add-ons.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/affiliation.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/affiliation.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/checkout.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/checkout.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/clone-resolution.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/clone-resolution.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/common.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/common.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/connect.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/connect.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/debug.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/debug.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/dialog-boxes.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/dialog-boxes.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/gdpr-optin-notice.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/gdpr-optin-notice.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/index.php](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/optout.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/optout.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/admin/plugins.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/admin/plugins.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/customizer.css](/browser/blockmeister/tags/3.1.11/freemius/assets/css/customizer.css?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/css/index.php](/browser/blockmeister/tags/3.1.11/freemius/assets/css/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/img](/browser/blockmeister/tags/3.1.11/freemius/assets/img?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/img/index.php](/browser/blockmeister/tags/3.1.11/freemius/assets/img/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/img/plugin-icon.png](/browser/blockmeister/tags/3.1.11/freemius/assets/img/plugin-icon.png?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/img/theme-icon.png](/browser/blockmeister/tags/3.1.11/freemius/assets/img/theme-icon.png?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/index.php](/browser/blockmeister/tags/3.1.11/freemius/assets/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/js](/browser/blockmeister/tags/3.1.11/freemius/assets/js?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/js/index.php](/browser/blockmeister/tags/3.1.11/freemius/assets/js/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/js/nojquery.ba-postmessage.js](/browser/blockmeister/tags/3.1.11/freemius/assets/js/nojquery.ba-postmessage.js?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/js/nojquery.ba-postmessage.min.js](/browser/blockmeister/tags/3.1.11/freemius/assets/js/nojquery.ba-postmessage.min.js?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/assets/js/postmessage.js](/browser/blockmeister/tags/3.1.11/freemius/assets/js/postmessage.js?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/config.php](/browser/blockmeister/tags/3.1.11/freemius/config.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes](/browser/blockmeister/tags/3.1.11/freemius/includes?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-freemius-abstract.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-freemius-abstract.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-freemius.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-freemius.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-admin-notices.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-admin-notices.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-api.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-api.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-lock.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-lock.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-logger.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-logger.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-options.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-options.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-plugin-updater.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-plugin-updater.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-security.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-security.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-storage.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-storage.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/class-fs-user-lock.php](/browser/blockmeister/tags/3.1.11/freemius/includes/class-fs-user-lock.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/customizer](/browser/blockmeister/tags/3.1.11/freemius/includes/customizer?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/customizer/class-fs-customizer-support-section.php](/browser/blockmeister/tags/3.1.11/freemius/includes/customizer/class-fs-customizer-support-section.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/customizer/class-fs-customizer-upsell-control.php](/browser/blockmeister/tags/3.1.11/freemius/includes/customizer/class-fs-customizer-upsell-control.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/customizer/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/customizer/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/debug](/browser/blockmeister/tags/3.1.11/freemius/includes/debug?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/debug/class-fs-debug-bar-panel.php](/browser/blockmeister/tags/3.1.11/freemius/includes/debug/class-fs-debug-bar-panel.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/debug/debug-bar-start.php](/browser/blockmeister/tags/3.1.11/freemius/includes/debug/debug-bar-start.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/debug/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/debug/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities](/browser/blockmeister/tags/3.1.11/freemius/includes/entities?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-affiliate-terms.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-affiliate-terms.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-affiliate.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-affiliate.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-billing.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-billing.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-entity.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-entity.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-payment.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-payment.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-plugin-info.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-plugin-info.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-plugin-license.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-plugin-license.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-plugin-plan.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-plugin-plan.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-plugin-tag.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-plugin-tag.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-plugin.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-plugin.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-pricing.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-pricing.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-scope-entity.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-scope-entity.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-site.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-site.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-subscription.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-subscription.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/class-fs-user.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/class-fs-user.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/entities/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/entities/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/fs-core-functions.php](/browser/blockmeister/tags/3.1.11/freemius/includes/fs-core-functions.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/fs-essential-functions.php](/browser/blockmeister/tags/3.1.11/freemius/includes/fs-essential-functions.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/fs-html-escaping-functions.php](/browser/blockmeister/tags/3.1.11/freemius/includes/fs-html-escaping-functions.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/fs-plugin-info-dialog.php](/browser/blockmeister/tags/3.1.11/freemius/includes/fs-plugin-info-dialog.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/l10n.php](/browser/blockmeister/tags/3.1.11/freemius/includes/l10n.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers](/browser/blockmeister/tags/3.1.11/freemius/includes/managers?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-admin-menu-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-admin-menu-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-admin-notice-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-admin-notice-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-cache-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-cache-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-clone-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-clone-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-gdpr-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-gdpr-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-key-value-storage.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-key-value-storage.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-license-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-license-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-option-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-option-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-permission-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-permission-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-plan-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-plan-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/class-fs-plugin-manager.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/class-fs-plugin-manager.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/managers/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/managers/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions/ArgumentNotExistException.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions/ArgumentNotExistException.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions/EmptyArgumentException.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions/EmptyArgumentException.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions/Exception.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions/Exception.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions/InvalidArgumentException.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions/InvalidArgumentException.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions/OAuthException.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions/OAuthException.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/Exceptions/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/Exceptions/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/FreemiusBase.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/FreemiusBase.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/FreemiusWordPress.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/FreemiusWordPress.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/LICENSE.txt](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/LICENSE.txt?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/sdk/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/sdk/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/supplements](/browser/blockmeister/tags/3.1.11/freemius/includes/supplements?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/supplements/fs-essential-functions-1.1.7.1.php](/browser/blockmeister/tags/3.1.11/freemius/includes/supplements/fs-essential-functions-1.1.7.1.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/supplements/fs-essential-functions-2.2.1.php](/browser/blockmeister/tags/3.1.11/freemius/includes/supplements/fs-essential-functions-2.2.1.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/supplements/fs-migration-2.5.1.php](/browser/blockmeister/tags/3.1.11/freemius/includes/supplements/fs-migration-2.5.1.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/includes/supplements/index.php](/browser/blockmeister/tags/3.1.11/freemius/includes/supplements/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/index.php](/browser/blockmeister/tags/3.1.11/freemius/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages](/browser/blockmeister/tags/3.1.11/freemius/languages?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-cs\_CZ.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-cs_CZ.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-da\_DK.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-da_DK.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-de\_DE.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-de_DE.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-en.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-en.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-es\_ES.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-es_ES.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-fr\_FR.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-fr_FR.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-he\_IL.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-he_IL.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-hu\_HU.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-hu_HU.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-it\_IT.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-it_IT.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-ja.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-ja.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-nl\_NL.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-nl_NL.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-ru\_RU.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-ru_RU.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-ta.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-ta.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius-zh\_CN.mo](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius-zh_CN.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/freemius.pot](/browser/blockmeister/tags/3.1.11/freemius/languages/freemius.pot?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/languages/index.php](/browser/blockmeister/tags/3.1.11/freemius/languages/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/require.php](/browser/blockmeister/tags/3.1.11/freemius/require.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/start.php](/browser/blockmeister/tags/3.1.11/freemius/start.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates](/browser/blockmeister/tags/3.1.11/freemius/templates?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account](/browser/blockmeister/tags/3.1.11/freemius/templates/account?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/billing.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/billing.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials/activate-license-button.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials/activate-license-button.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials/addon.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials/addon.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials/deactivate-license-button.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials/deactivate-license-button.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials/disconnect-button.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials/disconnect-button.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/partials/site.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/partials/site.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/account/payments.php](/browser/blockmeister/tags/3.1.11/freemius/templates/account/payments.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/add-ons.php](/browser/blockmeister/tags/3.1.11/freemius/templates/add-ons.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/add-trial-to-pricing.php](/browser/blockmeister/tags/3.1.11/freemius/templates/add-trial-to-pricing.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/admin-notice.php](/browser/blockmeister/tags/3.1.11/freemius/templates/admin-notice.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/ajax-loader.php](/browser/blockmeister/tags/3.1.11/freemius/templates/ajax-loader.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/api-connectivity-message-js.php](/browser/blockmeister/tags/3.1.11/freemius/templates/api-connectivity-message-js.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/auto-installation.php](/browser/blockmeister/tags/3.1.11/freemius/templates/auto-installation.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/checkout.php](/browser/blockmeister/tags/3.1.11/freemius/templates/checkout.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/clone-resolution-js.php](/browser/blockmeister/tags/3.1.11/freemius/templates/clone-resolution-js.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/connect](/browser/blockmeister/tags/3.1.11/freemius/templates/connect?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/connect.php](/browser/blockmeister/tags/3.1.11/freemius/templates/connect.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/connect/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/connect/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/connect/permission.php](/browser/blockmeister/tags/3.1.11/freemius/templates/connect/permission.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/connect/permissions-group.php](/browser/blockmeister/tags/3.1.11/freemius/templates/connect/permissions-group.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/contact.php](/browser/blockmeister/tags/3.1.11/freemius/templates/contact.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug](/browser/blockmeister/tags/3.1.11/freemius/templates/debug?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug.php](/browser/blockmeister/tags/3.1.11/freemius/templates/debug.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug/api-calls.php](/browser/blockmeister/tags/3.1.11/freemius/templates/debug/api-calls.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/debug/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug/logger.php](/browser/blockmeister/tags/3.1.11/freemius/templates/debug/logger.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug/plugins-themes-sync.php](/browser/blockmeister/tags/3.1.11/freemius/templates/debug/plugins-themes-sync.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/debug/scheduled-crons.php](/browser/blockmeister/tags/3.1.11/freemius/templates/debug/scheduled-crons.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/email.php](/browser/blockmeister/tags/3.1.11/freemius/templates/email.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms](/browser/blockmeister/tags/3.1.11/freemius/templates/forms?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/affiliation.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/affiliation.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/data-debug-mode.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/data-debug-mode.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/deactivation](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/deactivation?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/deactivation/contact.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/deactivation/contact.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/deactivation/form.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/deactivation/form.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/deactivation/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/deactivation/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/deactivation/retry-skip.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/deactivation/retry-skip.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/email-address-update.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/email-address-update.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/license-activation.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/license-activation.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/optout.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/optout.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/premium-versions-upgrade-handler.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/premium-versions-upgrade-handler.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/premium-versions-upgrade-metadata.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/premium-versions-upgrade-metadata.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/resend-key.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/resend-key.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/subscription-cancellation.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/subscription-cancellation.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/trial-start.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/trial-start.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/forms/user-change.php](/browser/blockmeister/tags/3.1.11/freemius/templates/forms/user-change.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/gdpr-optin-js.php](/browser/blockmeister/tags/3.1.11/freemius/templates/gdpr-optin-js.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/js](/browser/blockmeister/tags/3.1.11/freemius/templates/js?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/js/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/js/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/js/jquery.content-change.php](/browser/blockmeister/tags/3.1.11/freemius/templates/js/jquery.content-change.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/js/open-license-activation.php](/browser/blockmeister/tags/3.1.11/freemius/templates/js/open-license-activation.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/js/permissions.php](/browser/blockmeister/tags/3.1.11/freemius/templates/js/permissions.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/js/style-premium-theme.php](/browser/blockmeister/tags/3.1.11/freemius/templates/js/style-premium-theme.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/partials](/browser/blockmeister/tags/3.1.11/freemius/templates/partials?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/partials/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/partials/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/partials/network-activation.php](/browser/blockmeister/tags/3.1.11/freemius/templates/partials/network-activation.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/plugin-icon.php](/browser/blockmeister/tags/3.1.11/freemius/templates/plugin-icon.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/plugin-info](/browser/blockmeister/tags/3.1.11/freemius/templates/plugin-info?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/plugin-info/description.php](/browser/blockmeister/tags/3.1.11/freemius/templates/plugin-info/description.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/plugin-info/features.php](/browser/blockmeister/tags/3.1.11/freemius/templates/plugin-info/features.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/plugin-info/index.php](/browser/blockmeister/tags/3.1.11/freemius/templates/plugin-info/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/plugin-info/screenshots.php](/browser/blockmeister/tags/3.1.11/freemius/templates/plugin-info/screenshots.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/powered-by.php](/browser/blockmeister/tags/3.1.11/freemius/templates/powered-by.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/pricing.php](/browser/blockmeister/tags/3.1.11/freemius/templates/pricing.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/secure-https-header.php](/browser/blockmeister/tags/3.1.11/freemius/templates/secure-https-header.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/sticky-admin-notice-js.php](/browser/blockmeister/tags/3.1.11/freemius/templates/sticky-admin-notice-js.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/tabs-capture-js.php](/browser/blockmeister/tags/3.1.11/freemius/templates/tabs-capture-js.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/freemius/templates/tabs.php](/browser/blockmeister/tags/3.1.11/freemius/templates/tabs.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes](/browser/blockmeister/tags/3.1.11/includes?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Activator.php](/browser/blockmeister/tags/3.1.11/includes/Activator.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Admin](/browser/blockmeister/tags/3.1.11/includes/Admin?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Admin/Admin\_Menu.php](/browser/blockmeister/tags/3.1.11/includes/Admin/Admin_Menu.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/BlockMeister.php](/browser/blockmeister/tags/3.1.11/includes/BlockMeister.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Context.php](/browser/blockmeister/tags/3.1.11/includes/Context.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Debug.php](/browser/blockmeister/tags/3.1.11/includes/Debug.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/JSON\_File\_Uploader.php](/browser/blockmeister/tags/3.1.11/includes/JSON_File_Uploader.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Admin](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Admin?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Admin/BlockMeister\_Pattern\_Category\_List\_Table.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Admin/BlockMeister_Pattern_Category_List_Table.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Admin/BlockMeister\_Pattern\_Editor.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Admin/BlockMeister_Pattern_Editor.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Admin/BlockMeister\_Pattern\_List\_Table.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Admin/BlockMeister_Pattern_List_Table.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Admin/BlockMeister\_Settings.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Admin/BlockMeister_Settings.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Assets.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Assets.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/BlockMeister\_Pattern\_Category\_Taxonomy.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/BlockMeister_Pattern_Category_Taxonomy.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/BlockMeister\_Pattern\_Keywords\_Taxonomy.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/BlockMeister_Pattern_Keywords_Taxonomy.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/BlockMeister\_Pattern\_Post\_Meta\_Fields.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/BlockMeister_Pattern_Post_Meta_Fields.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/BlockMeister\_Pattern\_Post\_Type.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/BlockMeister_Pattern_Post_Type.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Block\_Pattern\_Registry.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Block_Pattern_Registry.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Blocks\_Stylesheet\_Generator.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Blocks_Stylesheet_Generator.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Pattern\_Builder.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Pattern_Builder.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Pattern\_Builder/Render\_Block\_Filter\_OBSOLETE.php](/browser/blockmeister/tags/3.1.11/includes/Pattern_Builder/Render_Block_Filter_OBSOLETE.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Uninstaller.php](/browser/blockmeister/tags/3.1.11/includes/Uninstaller.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/includes/Utils.php](/browser/blockmeister/tags/3.1.11/includes/Utils.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/index.php](/browser/blockmeister/tags/3.1.11/index.php?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages](/browser/blockmeister/tags/3.1.11/languages?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-1cca72a229bd4bf6724fa5a167968acd.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-1cca72a229bd4bf6724fa5a167968acd.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-32d75fb7fcbdf7b967166b0a8fdfeb94.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-32d75fb7fcbdf7b967166b0a8fdfeb94.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-4562a8314f8d983c093b732fc1d3a430.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-4562a8314f8d983c093b732fc1d3a430.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-backup-202208031907190.po~](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-backup-202208031907190.po~?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-backup-202208031907440.po~](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-backup-202208031907440.po~?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-backup-202208031910310.po~](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-backup-202208031910310.po~?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-backup-202208031918500.po~](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-backup-202208031918500.po~?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-backup-202208031919360.po~](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-backup-202208031919360.po~?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-cc91255da49c3c25866a70e8cd28b6c1.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-cc91255da49c3c25866a70e8cd28b6c1.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-cf50f570d3058a807dde9c368db9bca6.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-cf50f570d3058a807dde9c368db9bca6.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-e23f9da3e3432ac61e758e5846a69985.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-e23f9da3e3432ac61e758e5846a69985.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL-ea926b64fa6c022b3909f8f53754a0bc.json](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL-ea926b64fa6c022b3909f8f53754a0bc.json?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL.mo](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL.mo?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister-nl\_NL.po](/browser/blockmeister/tags/3.1.11/languages/blockmeister-nl_NL.po?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/languages/blockmeister.pot](/browser/blockmeister/tags/3.1.11/languages/blockmeister.pot?rev=3165925 "Show entry in browser")
  (added)
* [tags/3.1.11/readme.txt](/browser/blockmeister/tags/3.1.11/readme.txt?rev=3165925 "Show entry in browser")
  (added)
* [trunk/readme.txt](/browser/blockmeister/trunk/readme.txt?rev=3165925 "Show entry in browser")
  (modified)
  ([5 diffs](#file250 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [blockmeister/trunk/readme.txt](/changeset/3165925/blockmeister/trunk/readme.txt "Show the changeset 3165925 restricted to blockmeister/trunk/readme.txt")

  | [r3069230](/browser/blockmeister/trunk/readme.txt?rev=3069230#L5 "Show revision 3069230 of this file in browser") | [r3165925](/browser/blockmeister/trunk/readme.txt?rev=3165925#L5 "Show revision 3165925 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Donate link: https://wpblockmeister.com/ |
  | 6 | 6 | Requires at least: 6.0 |
  | 7 |  | Tested up to: 6.~~5~~ |
  |  | 7 | Tested up to: 6.2 |
  | 8 | 8 | Requires PHP: 5.6 |
  | 9 |  | Stable tag: 3.1.1~~0~~ |
  |  | 9 | Stable tag: 3.1.11 |
  | 10 | 10 | License: GPLv2 or later |
  | 11 | 11 | License URI: https://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/blockmeister/trunk/readme.txt?rev=3069230#L29) | […](/browser/blockmeister/trunk/readme.txt?rev=3165925#L29) |  |
  | 29 | 29 | - Set a viewport width to optimize the scaled width of the preview in the block inserter |
  | 30 | 30 |  |
  |  | 31 |  |
  | 31 | 32 | \*\*Pro Features\*\* |
  | 32 | 33 | If you would like even more features like: group locking, cloning, activating or deactivating individual patterns, exporting, importing, controlling which core/third party pattern sets are allowed to load, setting block styles and more, please check out our premium versions here: |
  | […](/browser/blockmeister/trunk/readme.txt?rev=3069230#L68) | […](/browser/blockmeister/trunk/readme.txt?rev=3165925#L69) |  |
  | 68 | 69 | = Does the plugin run on older WordPress installations? = |
  | 69 | 70 |  |
  | 70 |  | Normally the plugin will require either the latest major release or the one before that. But with the release of WP 6.3 that release will be required with the upcoming v4 release of BlockMeister. See announcement above for the reason why. |
  | 71 |  |  |
  |  | 71 | The plugin will require either the latest major release or the one before that. |
  |  | 72 | So if the current major release is 6.2 then the plugin requires at least WP 6.1 |
  |  | 73 |  |
  |  | 74 | This helps us to keep the code clean and limit the test cases. |
  | 72 | 75 |  |
  | 73 | 76 | = Why did we integrate Freemius? = |
  | […](/browser/blockmeister/trunk/readme.txt?rev=3069230#L103) | […](/browser/blockmeister/trunk/readme.txt?rev=3165925#L106) |  |
  | 103 | 106 |  |
  | 104 | 107 | == Changelog == |
  |  | 108 | = [3.1.11] - 2024-10-08 = |
  |  | 109 | - Fixed vulnerability: unescaped form URL (thank you 'vgo0' for reporting) |
  |  | 110 |  |
  | 105 | 111 | = [3.1.10] - 2023-07-05 = |
  | 106 | 112 | - Upgraded dependencies to latest versions: |
  | […](/browser/blockmeister/trunk/readme.txt?rev=3069230#L278) | […](/browser/blockmeister/trunk/readme.txt?rev=3165925#L284) |  |
  | 278 | 284 | - Added Dutch translation |
  | 279 | 285 |  |
  | 280 |  | ~~.~~ |
  | 281 |  |  |
  | 282 | 286 | == Upgrade Notice == |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3165925)
* [Zip Archive](?format=zip&new=3165925)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


