=== Content from git.kernel.org_d637bb42_20250111_024316.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-12-21 17:32:07 +0100 |
| commit | [f2479c3daaabccbac6c343a737615d0c595c6dc4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)) | |
| tree | [8230293515f178e30a6728715606c64d212bb527](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4) | |
| parent | [9ff7aff40ef5d5d6b271bf94fb0903c5a550f557](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9ff7aff40ef5d5d6b271bf94fb0903c5a550f557) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4&id2=9ff7aff40ef5d5d6b271bf94fb0903c5a550f557)) | |
| download | [linux-f2479c3daaabccbac6c343a737615d0c595c6dc4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f2479c3daaabccbac6c343a737615d0c595c6dc4.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=f2479c3daaabccbac6c343a737615d0c595c6dc4) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex 327196d15a6aef..f24f1a8ec2fbc1 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=9ff7aff40ef5d5d6b271bf94fb0903c5a550f557)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=f2479c3daaabccbac6c343a737615d0c595c6dc4)@@ -7416,7 +7416,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:53 +0000



=== Content from git.kernel.org_19310a7e_20250111_024311.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-01-18 09:26:06 +0100 |
| commit | [a6629659af3f5c6a91e3914ea62554c975ab77f4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)) | |
| tree | [4b242c87ebedb1f10af842a0038f4f7e74483ade](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4) | |
| parent | [ea73dae82bba02c545b70e27bf157984b4053b0c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ea73dae82bba02c545b70e27bf157984b4053b0c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4&id2=ea73dae82bba02c545b70e27bf157984b4053b0c)) | |
| download | [linux-a6629659af3f5c6a91e3914ea62554c975ab77f4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a6629659af3f5c6a91e3914ea62554c975ab77f4.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=a6629659af3f5c6a91e3914ea62554c975ab77f4) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex 82f1960c6c19ad..2c1e3ea8f7450a 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=ea73dae82bba02c545b70e27bf157984b4053b0c)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=a6629659af3f5c6a91e3914ea62554c975ab77f4)@@ -6422,7 +6422,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:49 +0000



=== Content from git.kernel.org_5ec90467_20250111_024314.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Jakub Kicinski <kuba@kernel.org> | 2022-12-13 19:26:36 -0800 |
| commit | [de5dc44370fbd6b46bd7f1a1e00369be54a041c8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)) | |
| tree | [0b03a718e29dbdb00e4eb8a18d52b922860acb21](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8) | |
| parent | [e9ad498696325c6b437e49450661cf2c349e24f5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e9ad498696325c6b437e49450661cf2c349e24f5) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8&id2=e9ad498696325c6b437e49450661cf2c349e24f5)) | |
| download | [linux-de5dc44370fbd6b46bd7f1a1e00369be54a041c8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-de5dc44370fbd6b46bd7f1a1e00369be54a041c8.tar.gz) | |

igb: Initialize mailbox message for VF resetWhen a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex 97290fc0fddd89..3c0c35ecea10c7 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=e9ad498696325c6b437e49450661cf2c349e24f5)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=de5dc44370fbd6b46bd7f1a1e00369be54a041c8)@@ -7525,7 +7525,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:51 +0000



=== Content from git.kernel.org_859a6422_20250111_024309.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-12-21 17:36:37 +0100 |
| commit | [367e1e3399dbc56fc669740c4ab60e35da632b0e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)) | |
| tree | [d2227ee97b56e9951faee8ec79a40fd18c0c1ab3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e) | |
| parent | [a301742b35bcb4e462ab790595c0bf610c7101a4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a301742b35bcb4e462ab790595c0bf610c7101a4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e&id2=a301742b35bcb4e462ab790595c0bf610c7101a4)) | |
| download | [linux-367e1e3399dbc56fc669740c4ab60e35da632b0e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-367e1e3399dbc56fc669740c4ab60e35da632b0e.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=367e1e3399dbc56fc669740c4ab60e35da632b0e) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex f19e6483073983..70667b46858a86 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=a301742b35bcb4e462ab790595c0bf610c7101a4)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=367e1e3399dbc56fc669740c4ab60e35da632b0e)@@ -7410,7 +7410,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:46 +0000



=== Content from git.kernel.org_79625c9c_20250111_024310.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-12-21 17:41:14 +0100 |
| commit | [51fd5ede7ed42f272682a0c33d6f0767b3484a3d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)) | |
| tree | [321b1e1a13f37c7e6d8f53f72bff401739bd57d7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d) | |
| parent | [568be5b02164ea82f57e02f1ee13a309e2013214](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=568be5b02164ea82f57e02f1ee13a309e2013214) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d&id2=568be5b02164ea82f57e02f1ee13a309e2013214)) | |
| download | [linux-51fd5ede7ed42f272682a0c33d6f0767b3484a3d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-51fd5ede7ed42f272682a0c33d6f0767b3484a3d.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex 2796e81d27260e..ea46649b2ed3ee 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=568be5b02164ea82f57e02f1ee13a309e2013214)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=51fd5ede7ed42f272682a0c33d6f0767b3484a3d)@@ -7522,7 +7522,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:48 +0000



=== Content from git.kernel.org_70830f2c_20250111_024312.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-12-21 17:48:10 +0100 |
| commit | [c383c7c35c7bc15e07a04eefa060a8a80cbeae29](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)) | |
| tree | [f3f79037aa8b44062dd8ee71ea5f0bc7308cf993](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29) | |
| parent | [52d5896ba2a4f939d7ff2f26f8e6cba60a8068c4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=52d5896ba2a4f939d7ff2f26f8e6cba60a8068c4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29&id2=52d5896ba2a4f939d7ff2f26f8e6cba60a8068c4)) | |
| download | [linux-c383c7c35c7bc15e07a04eefa060a8a80cbeae29.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c383c7c35c7bc15e07a04eefa060a8a80cbeae29.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex f8e32833226c1b..473158c09f1d71 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=52d5896ba2a4f939d7ff2f26f8e6cba60a8068c4)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=c383c7c35c7bc15e07a04eefa060a8a80cbeae29)@@ -7521,7 +7521,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:50 +0000



=== Content from git.kernel.org_e9fce33d_20250111_024313.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-01-18 11:40:48 +0100 |
| commit | [c581439a977545d61849a72e8ed631cfc8a2a3c1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)) | |
| tree | [c524bfde20ea23e01876f39e39197bff2c9c736c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1) | |
| parent | [50aa193a4bf4cd702e713f9fd7540c3a7446193e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=50aa193a4bf4cd702e713f9fd7540c3a7446193e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1&id2=50aa193a4bf4cd702e713f9fd7540c3a7446193e)) | |
| download | [linux-c581439a977545d61849a72e8ed631cfc8a2a3c1.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c581439a977545d61849a72e8ed631cfc8a2a3c1.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=c581439a977545d61849a72e8ed631cfc8a2a3c1) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex f718eadd87744e..37f174b41df314 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=50aa193a4bf4cd702e713f9fd7540c3a7446193e)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=c581439a977545d61849a72e8ed631cfc8a2a3c1)@@ -7133,7 +7133,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:51 +0000



=== Content from git.kernel.org_80e6c00c_20250111_024315.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ef1d739dd1f362aec081278ff92f943c31eb177a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ef1d739dd1f362aec081278ff92f943c31eb177a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ef1d739dd1f362aec081278ff92f943c31eb177a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ef1d739dd1f362aec081278ff92f943c31eb177a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Tony Nguyen <anthony.l.nguyen@intel.com> | 2022-12-12 11:00:31 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-01-18 11:30:01 +0100 |
| commit | [ef1d739dd1f362aec081278ff92f943c31eb177a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ef1d739dd1f362aec081278ff92f943c31eb177a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ef1d739dd1f362aec081278ff92f943c31eb177a)) | |
| tree | [3884e943c3361a22ce2ec8ff38ec2ad910a56be8](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ef1d739dd1f362aec081278ff92f943c31eb177a) | |
| parent | [c3a74b51dadab9531cf621127ea29fde4a0bf556](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c3a74b51dadab9531cf621127ea29fde4a0bf556) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ef1d739dd1f362aec081278ff92f943c31eb177a&id2=c3a74b51dadab9531cf621127ea29fde4a0bf556)) | |
| download | [linux-ef1d739dd1f362aec081278ff92f943c31eb177a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ef1d739dd1f362aec081278ff92f943c31eb177a.tar.gz) | |

igb: Initialize mailbox message for VF resetcommit de5dc44370fbd6b46bd7f1a1e00369be54a041c8 upstream.
When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.
Fixes: 6ddbc4cf1f4d ("igb: Indicate failure on vf reset for empty mac address")
Reported-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Reviewed-by: Akihiko Odaki <akihiko.odaki@daynix.com>
Reviewed-by: Leon Romanovsky <leonro@nvidia.com>
Link: [https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen@intel.com](https://lore.kernel.org/r/20221212190031.3983342-1-anthony.l.nguyen%40intel.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ef1d739dd1f362aec081278ff92f943c31eb177a)

| -rw-r--r-- | [drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/igb/igb_main.c?id=ef1d739dd1f362aec081278ff92f943c31eb177a) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/igb/igb\_main.c b/drivers/net/ethernet/intel/igb/igb\_main.cindex aacfa5fcdc4080..3d2dd15859cba1 100644--- a/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=c3a74b51dadab9531cf621127ea29fde4a0bf556)+++ b/[drivers/net/ethernet/intel/igb/igb\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/igb/igb_main.c?id=ef1d739dd1f362aec081278ff92f943c31eb177a)@@ -7165,7 +7165,7 @@ static void igb\_vf\_reset\_msg(struct igb\_adapter \*adapter, u32 vf) { struct e1000\_hw \*hw = &adapter->hw; unsigned char \*vf\_mac = adapter->vf\_data[vf].vf\_mac\_addresses;- u32 reg, msgbuf[3];+ u32 reg, msgbuf[3] = {}; u8 \*addr = (u8 \*)(&msgbuf[1]);  /\* process all the same items cleared in a function level reset \*/ |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:41:52 +0000


