

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3037032%2540yet-another-related-posts-plugin%252Ftrunk%26old%3D2999784%2540yet-another-related-posts-plugin%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2999784/yet-another-related-posts-plugin/trunk?old=3037032&old_path=%2Fyet-another-related-posts-plugin%2Ftrunk)

---

# Changes in [yet-another-related-posts-plugin/trunk](/browser/yet-another-related-posts-plugin/trunk?rev=3037032 "Show entry in browser") [[2999784:3037032]](/log/yet-another-related-posts-plugin/trunk?rev=3037032&stop_rev=2999784 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[yet-another-related-posts-plugin/trunk](/browser/yet-another-related-posts-plugin/trunk?rev=3037032)
Files:

5 edited

* [classes/YARPP\_Block.php](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Block.php?rev=3037032 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [classes/YARPP\_Shortcode.php](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php?rev=3037032 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [includes/yarpp\_options.php](/browser/yet-another-related-posts-plugin/trunk/includes/yarpp_options.php?rev=3037032 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [readme.txt](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=3037032 "Show entry in browser")
  (modified)
  ([4 diffs](#file3 "Show differences"))
* [yarpp.php](/browser/yet-another-related-posts-plugin/trunk/yarpp.php?rev=3037032 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [yet-another-related-posts-plugin/trunk/classes/YARPP\_Block.php](/changeset/3037032/yet-another-related-posts-plugin/trunk/classes/YARPP_Block.php?old=2999784&old_path=yet-another-related-posts-plugin%2Ftrunk%2Fclasses%2FYARPP_Block.php "Show the [2999784:3037032] differences restricted to yet-another-related-posts-plugin/trunk/classes/YARPP_Block.php")

  | [r2999784](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Block.php?rev=2999784#L185 "Show revision 2999784 of this file in browser") | [r3037032](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Block.php?rev=3037032#L185 "Show revision 3037032 of this file in browser") |  |
  | --- | --- | --- |
  | 185 | 185 | 'selected\_theme\_style' => $chosen\_template, |
  | 186 | 186 | 'default\_domain'       => $is\_widget\_page ? 'widget' : 'block', |
  | 187 |  | 'yarpp\_is\_admin'       => $yarpp\_is\_admin, |
  |  | 187 | 'yarpp\_is\_admin'       => $yarpp\_is\_admin, |
  | 188 | 188 | ); |
  | 189 | 189 | wp\_localize\_script( 'yarpp-block', 'yarpp\_localized', $localized\_variables ); |
* ## [yet-another-related-posts-plugin/trunk/classes/YARPP\_Shortcode.php](/changeset/3037032/yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php?old=2999156&old_path=yet-another-related-posts-plugin%2Ftrunk%2Fclasses%2FYARPP_Shortcode.php "Show the [2999784:3037032] differences restricted to yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php")

  | [r2999784](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php?rev=2999156#L65 "Show revision 2999784 of this file in browser") | [r3037032](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php?rev=3037032#L65 "Show revision 3037032 of this file in browser") |  |
  | --- | --- | --- |
  | 65 | 65 | } |
  | 66 | 66 |  |
  | 67 |  | // ~~Hardcoded the domain name because it should not be editable by the user~~. |
  |  | 67 | // We have hardcoded the "domain" as it should not be editable by users. |
  | 68 | 68 | $atts['domain'] = 'shortcode'; |
  | 69 | 69 |  |
  | […](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php?rev=2999156#L77) | […](/browser/yet-another-related-posts-plugin/trunk/classes/YARPP_Shortcode.php?rev=3037032#L77) |  |
  | 77 | 77 | ); |
  | 78 | 78 | } else { |
  | 79 |  | return '<!-- YARPP shortcode called but no reference post found. ~~It was probably called outside "the loop" or the reference\_id provided was invalid.~~-->'; |
  |  | 79 | return '<!-- YARPP shortcode called but no reference post found. Shortcode was likely called outside "the loop" or the reference\_id provided is invalid. -->'; |
  | 80 | 80 | } |
  | 81 | 81 | } |
* ## [yet-another-related-posts-plugin/trunk/includes/yarpp\_options.php](/changeset/3037032/yet-another-related-posts-plugin/trunk/includes/yarpp_options.php?old=2999156&old_path=yet-another-related-posts-plugin%2Ftrunk%2Fincludes%2Fyarpp_options.php "Show the [2999784:3037032] differences restricted to yet-another-related-posts-plugin/trunk/includes/yarpp_options.php")

  | [r2999784](/browser/yet-another-related-posts-plugin/trunk/includes/yarpp_options.php?rev=2999156#L88 "Show revision 2999784 of this file in browser") | [r3037032](/browser/yet-another-related-posts-plugin/trunk/includes/yarpp_options.php?rev=3037032#L88 "Show revision 3037032 of this file in browser") |  |
  | --- | --- | --- |
  | 88 | 88 | if ( ( is\_string( $default ) || is\_int( $default ) ) && |
  | 89 | 89 | isset( $\_POST[ $option ] ) && is\_string( $\_POST[ $option ] ) ) { |
  | 90 |  | $new\_options[ $option ] = stripslashes( $\_POST[ $option ] ); |
  |  | 90 | // Sanitize input |
  |  | 91 | $new\_options[ $option ] = stripslashes( wp\_kses\_post ($\_POST[ $option ]) ); |
  | 91 | 92 | } |
  | 92 | 93 | } |
  | […](/browser/yet-another-related-posts-plugin/trunk/includes/yarpp_options.php?rev=2999156#L174) | […](/browser/yet-another-related-posts-plugin/trunk/includes/yarpp_options.php?rev=3037032#L175) |  |
  | 174 | 175 |  |
  | 175 | 176 | $new\_options = apply\_filters( 'yarpp\_settings\_save', $new\_options ); |
  |  | 177 |  |
  | 176 | 178 | yarpp\_set\_option( $new\_options ); |
  | 177 | 179 |  |
* ## [yet-another-related-posts-plugin/trunk/readme.txt](/changeset/3037032/yet-another-related-posts-plugin/trunk/readme.txt?old=2999784&old_path=yet-another-related-posts-plugin%2Ftrunk%2Freadme.txt "Show the [2999784:3037032] differences restricted to yet-another-related-posts-plugin/trunk/readme.txt")

  | [r2999784](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=2999784#L7 "Show revision 2999784 of this file in browser") | [r3037032](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=3037032#L7 "Show revision 3037032 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | License: GPLv2 or later |
  | 8 | 8 | Tested up to: 6.4 |
  | 9 |  | Stable tag: 5.30.~~9~~ |
  |  | 9 | Stable tag: 5.30.10 |
  | 10 | 10 |  |
  | 11 | 11 | The best WordPress plugin for displaying related posts. Simple and flexible, with a powerful proven algorithm and inbuilt caching. |
  | […](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=2999784#L601) | […](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=3037032#L601) |  |
  | 601 | 601 | == Changelog == |
  | 602 | 602 |  |
  |  | 603 | = 5.30.10 (17-February-2023) = |
  |  | 604 | \* Bugfix: Resolves stored Cross-Site Scripting bug |
  |  | 605 |  |
  | 603 | 606 | = 5.30.9 (22-November-2023) = |
  | 604 | 607 | \* Enhancement: Better input sanitization for a more predictable output |
  | […](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=2999784#L610) | […](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=3037032#L613) |  |
  | 610 | 613 | = 5.30.7 (20-November-2023) = |
  | 611 | 614 | \* Tested on WordPress 6.4 |
  | 612 |  | \* ~~[Bugfix]~~ Fixes PHP 8.2 warnings that were filling up server logs |
  |  | 615 | \* Bugfix: Fixes PHP 8.2 warnings that were filling up server logs |
  | 613 | 616 |  |
  | 614 | 617 | = 5.30.6 (09-August-2023) = |
  | […](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=2999784#L1543) | […](/browser/yet-another-related-posts-plugin/trunk/readme.txt?rev=3037032#L1546) |  |
  | 1543 | 1546 |  |
  | 1544 | 1547 | == Upgrade Notice == |
  | 1545 |  | = 5.30.~~9~~ = |
  |  | 1548 | = 5.30.10 = |
  | 1546 | 1549 | We update YARPP regularly so we can keep making it better for you. Update to the latest version for the latest features and improvements. Thank you for using YARPP! |
* ## [yet-another-related-posts-plugin/trunk/yarpp.php](/changeset/3037032/yet-another-related-posts-plugin/trunk/yarpp.php?old=2999784&old_path=yet-another-related-posts-plugin%2Ftrunk%2Fyarpp.php "Show the [2999784:3037032] differences restricted to yet-another-related-posts-plugin/trunk/yarpp.php")

  | [r2999784](/browser/yet-another-related-posts-plugin/trunk/yarpp.php?rev=2999784#L3 "Show revision 2999784 of this file in browser") | [r3037032](/browser/yet-another-related-posts-plugin/trunk/yarpp.php?rev=3037032#L3 "Show revision 3037032 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Plugin Name: Yet Another Related Posts Plugin (YARPP) |
  | 4 | 4 | Description: Adds related posts to your site and in RSS feeds, based on a powerful, customizable algorithm. |
  | 5 |  | Version: 5.30.~~9~~ |
  |  | 5 | Version: 5.30.10 |
  | 6 | 6 | Author: YARPP |
  | 7 | 7 | Author URI: https://yarpp.com/ |
  | […](/browser/yet-another-related-posts-plugin/trunk/yarpp.php?rev=2999784#L26) | […](/browser/yet-another-related-posts-plugin/trunk/yarpp.php?rev=3037032#L26) |  |
  | 26 | 26 | } |
  | 27 | 27 |  |
  | 28 |  | define( 'YARPP\_VERSION', '5.30.~~9~~' ); |
  |  | 28 | define( 'YARPP\_VERSION', '5.30.10' ); |
  | 29 | 29 |  |
  | 30 | 30 | define( 'YARPP\_DIR', \_\_DIR\_\_ ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3037032&old=2999784&new_path=%2Fyet-another-related-posts-plugin%2Ftrunk&old_path=%2Fyet-another-related-posts-plugin%2Ftrunk)
* [Zip Archive](?format=zip&new=3037032&old=2999784&new_path=%2Fyet-another-related-posts-plugin%2Ftrunk&old_path=%2Fyet-another-related-posts-plugin%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

