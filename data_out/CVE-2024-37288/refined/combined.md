=== Content from discuss.elastic.co_7abfb007_20250111_085214.html ===


[Discuss the Elastic Stack](/)

# [Kibana 8.15.1 Security Update (ESA-2024-27, ESA-2024-28)](/t/kibana-8-15-1-security-update-esa-2024-27-esa-2024-28/366119)

[Announcements](/c/announcements/security-announcements/31)

[Security Announcements](/c/announcements/security-announcements/31)

[ismisepaul](https://discuss.elastic.co/u/ismisepaul)
(Paul)

September 5, 2024, 7:19pm

1

**Kibana arbitrary code execution via YAML deserialization in Amazon Bedrock Connector (ESA-2024-27)**

A deserialization issue in Kibana can lead to arbitrary code execution when Kibana attempts to parse a YAML document containing a crafted payload.

This issue only affects users that use [Elastic Security’s built-in AI tools](https://www.elastic.co/guide/en/security/current/ai-for-security.html) and have configured an [Amazon Bedrock connector](https://www.elastic.co/guide/en/security/current/assistant-connect-to-bedrock.html).

**Affected Versions:**

Kibana version 8.15.0.

**Solutions and Mitigations:**

Users should upgrade to version 8.15.1.

**For Users that Cannot Upgrade:**

Customers who cannot upgrade to 8.15.1 and must stay on 8.15.0 can disable the integration assistant by setting `xpack.integration_assistant.enabled: false` in their `kibana.yml` configuration file.

**Severity:** CVSSv3.1: 9.9 (Critical) - CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:H/A:H

**CVE ID:** CVE-2024-37288

---

**Kibana arbitrary code execution via YAML deserialization (ESA-2024-28)**

A deserialization issue in Kibana can lead to arbitrary code execution when Kibana attempts to parse a YAML document containing a crafted payload.

A successful attack requires a malicious user to have a combination of both specific [Elasticsearch indices privileges](https://www.elastic.co/guide/en/elasticsearch/reference/current/defining-roles.html#roles-indices-priv) and [Kibana privileges](https://www.elastic.co/guide/en/fleet/current/fleet-roles-and-privileges.html) assigned to them.

The following Elasticsearch indices permissions are required

* `write` privilege on the system indices `.kibana_ingest*`
* The `allow_restricted_indices` flag is set to `true`

Any of the following Kibana privileges are additionally required

* Under `Fleet` the `All` privilege is granted
* Under `Integration` the `Read` or `All` privilege is granted
* Access to the `fleet-setup` privilege is gained through the Fleet Server’s service account token

**Affected Versions:**

Kibana versions 8.10.0 to 8.15.0.

**Solutions and Mitigations:**

Users should upgrade to version 8.15.1.

**CVSS v3.1:** 9.1 (Critical) - CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:C/C:H/I:H/A:H

**CVE ID:** CVE-2024-37285

1 Like

[Are there updates for kibana 7.17?](https://discuss.elastic.co/t/are-there-updates-for-kibana-7-17/366283/3)

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Elastic Stack 7.14.1 Security Update](https://discuss.elastic.co/t/elastic-stack-7-14-1-security-update/283077)  [Security Announcements](/c/announcements/security-announcements/31) | 1 | 14157 | November 4, 2022 |
| [Elastic Stack 6.6.1 and 5.6.15 security update](https://discuss.elastic.co/t/elastic-stack-6-6-1-and-5-6-15-security-update/169077)  [Security Announcements](/c/announcements/security-announcements/31) | 1 | 35533 | November 4, 2022 |
| [Kibana 8.7.1 Security Updates (ESA-2023-07, ESA-2023-08)](https://discuss.elastic.co/t/kibana-8-7-1-security-updates-esa-2023-07-esa-2023-08/332330)  [Security Announcements](/c/announcements/security-announcements/31) [docker](https://discuss.elastic.co/tag/docker) | 0 | 12435 | May 2, 2023 |
| [Elastic Stack 6.8.9 and 7.7.0 security update](https://discuss.elastic.co/t/elastic-stack-6-8-9-and-7-7-0-security-update/235571)  [Security Announcements](/c/announcements/security-announcements/31) | 1 | 8939 | November 4, 2022 |
| [Kibana 8.14.2 / 7.17.23 Security Update (ESA-2024-22)](https://discuss.elastic.co/t/kibana-8-14-2-7-17-23-security-update-esa-2024-22/364424)  [Security Announcements](/c/announcements/security-announcements/31) [docker](https://discuss.elastic.co/tag/docker) | 6 | 13451 | August 13, 2024 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](https://www.elastic.co/legal/terms-of-use)
* [Privacy Policy](https://www.elastic.co/legal/privacy-policy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled


