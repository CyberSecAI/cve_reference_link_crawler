
[![logo](https://conduit.rs/conduit.svg)
Conduit](https://conduit.rs/)
[Issues](https://conduit.rs/issues/)
[Changelog](https://conduit.rs/changelog/)
[Documentation](https://docs.conduit.rs)
[Source Code](https://gitlab.com/famedly/conduit)

[v0.9.0 - 2024-10-06](https://conduit.rs/changelog/#v0-9-0-2024-10-06)

[v0.8.0 - 2024-06-12](https://conduit.rs/changelog/#v0-8-0-2024-06-12)

[v0.7.0 - 2024-04-25](https://conduit.rs/changelog/#v0-7-0-2024-04-25)

[v0.6.0 - 2023-08-10](https://conduit.rs/changelog/#v0-6-0-2023-08-10)

[v0.5.0 - 2022-12-21](https://conduit.rs/changelog/#v0-5-0-2022-12-21)

[v0.4.0 - 2022-06-23](https://conduit.rs/changelog/#v0-4-0-2022-06-23)

[v0.3.0 - 2022-02-04](https://conduit.rs/changelog/#v0-3-0-2022-02-04)

[v0.2.0 - 2021-09-01](https://conduit.rs/changelog/#v0-2-0-2021-09-01)

[v0.0.0 - 2020-02-15](https://conduit.rs/changelog/#v0-0-0-2020-02-15)

Changelog

To update Conduit, simply stop it, install the new version and start it again.

# v0.9.0 - 2024-10-06

This release implements authenticated media and fixes issues with previous media, like failing to parse or not being able to reload federated media after deleting it locally.

* BREAKING: The config variables for well-known entries have changed from well\_known.server to well\_known\_server [!723](https://gitlab.com/famedly/conduit/-/merge_requests/723)
* Feature: Authenticated media [!716](https://gitlab.com/famedly/conduit/-/merge_requests/716)
* Feature: Split on \_\_, allowing for setting individual values in a table [!706](https://gitlab.com/famedly/conduit/-/merge_requests/706)
* Fix: Don't fail entire request if any PDU's format is invalid [!709](https://gitlab.com/famedly/conduit/-/merge_requests/709)
* Fix: Don't cache server name lookups indefinitely [!702](https://gitlab.com/famedly/conduit/-/merge_requests/702)

# v0.8.0 - 2024-06-12

This release is focused on patching security vulnerabilities. Most notably, there is a **CRITICAL** vulnerability, which requires an attacker to have an account on your server. Administrators which have untrusted users on their server (e.g. public homeservers) are advised to update immediately or take their homeserver off the internet ASAP.

Please send `@conduit:server.name: help` into your admin room. If the Conduit bot does not respond to the command, even after a restart, you have likely been victim of this vulnerability, and **should not** connect your server to the internet for the time being, even after upgrading. Please contact us privately if you are affected. If the Conduit user does respond to any command, then you are safe to connect your homeserver to the internet **after** upgrading. We will release further instructions for victims at 2024-06-19, 18:00 UTC. The other vulnerabilities are relatively minor, but we still urge you upgrade as soon as possible.

Aside from that and some bug fixes, there have been a few notable changes, including:

* Feature: Support for integration managers, as well as anything else that depends on Open ID endpoints, thanks to avdb [!681](https://gitlab.com/famedly/conduit/-/merge_requests/681)
* Feature: Support for hosting `.well-known` files from Conduit directly, thanks to M0dEx [!332](https://gitlab.com/famedly/conduit/-/merge_requests/332)
  + This should make sliding sync work out of the box, so long as you are not using delegation in your reverse proxy (which you can also [configure inside of Conduit](https://docs.conduit.rs/delegation.html) instead)
* Allowing for toggling of registration via admin command, without requiring a restart, thanks to rmsthebest in [!477](https://gitlab.com/famedly/conduit/-/merge_requests/477)

If you have any questions, ideas, concerns, or anything else, feel free to stop by at #conduit:fachschaften.org

# v0.7.0 - 2024-04-25

This release includes security fixes, it's advised that you upgrade as soon as possible.

* BREAKING: The docker container changed. You need to explicitly set `CONDUIT_CONFIG=""` now to reproduce the previous behavior. You might also have to add `expose: - 6167` to your docker compose config.
* BREAKING: Require explicit database backend, you need to explicitly set it to sqlite or rocksdb now [!636](https://gitlab.com/famedly/conduit/-/merge_requests/636)
* Feature: Add support for room v11 [!562](https://gitlab.com/famedly/conduit/-/merge_requests/562)
* Feature: Bump default room version to v10 [!628](https://gitlab.com/famedly/conduit/-/merge_requests/628)
* Feature: Use `_matrix-fed._tcp` SRV record, fallback to `_matrix._tcp` [!616](https://gitlab.com/famedly/conduit/-/merge_requests/616)
* Feature: Add argument parser for the conduit executable [!385](https://gitlab.com/famedly/conduit/-/merge_requests/385)
* Docs: Add registration\_token in default cfg and DEPLOY [!557](https://gitlab.com/famedly/conduit/-/merge_requests/557)
* Docs: Build docs using mdBook and copy all markdown files [!604](https://gitlab.com/famedly/conduit/-/merge_requests/604)
* Docs: Document all configuration options [!635](https://gitlab.com/famedly/conduit/-/merge_requests/635)
* Improvement: Sliding Sync Improvements [!549](https://gitlab.com/famedly/conduit/-/merge_requests/549)
* Improvement: Improvements to /sync performance and db size [!590](https://gitlab.com/famedly/conduit/-/merge_requests/590)
* Improvement: Declare matrix v1.5 support [!568](https://gitlab.com/famedly/conduit/-/merge_requests/568)
* Improvement: Use upstream `reqwest` instead of vendored one [!527](https://gitlab.com/famedly/conduit/-/merge_requests/527)
* Improvement: do not save typing edus in db [!597](https://gitlab.com/famedly/conduit/-/merge_requests/597)
* Improvement: Remove log config modification [!553](https://gitlab.com/famedly/conduit/-/merge_requests/553)
* Improvement: use simpler rocksdb config [!602](https://gitlab.com/famedly/conduit/-/merge_requests/602)
* Fix: Unrejectable invites [!623](https://gitlab.com/famedly/conduit/-/merge_requests/623)
* Fix: ACL error shouldn't break the whole request [!542](https://gitlab.com/famedly/conduit/-/merge_requests/542)
* Fix: Avoid panic when client is confused about rooms [!588](https://gitlab.com/famedly/conduit/-/merge_requests/588)
* Fix: Send push notification on invite to invited user and etc [!559](https://gitlab.com/famedly/conduit/-/merge_requests/559)
* Fix: Don't give guests admin [!591](https://gitlab.com/famedly/conduit/-/merge_requests/591)
* Fix: Do not allow administration of remote users [!614](https://gitlab.com/famedly/conduit/-/merge_requests/614)
* Fix: Remove join\_authorized\_via\_users\_server field on state update [!619](https://gitlab.com/famedly/conduit/-/merge_requests/619) [!385](https://gitlab.com/famedly/conduit/-/merge_requests/385)
* Fix: Do not expect that all http requests are valid reqwest requests [!611](https://gitlab.com/famedly/conduit/-/merge_requests/611)

# v0.6.0 - 2023-08-10

* Feature: Threads [!483](https://gitlab.com/famedly/conduit/-/merge_requests/483)
* Feature: Spaces [!495](https://gitlab.com/famedly/conduit/-/merge_requests/495)
* Feature: Registration tokens [!533](https://gitlab.com/famedly/conduit/-/merge_requests/533)
* Feature: Edit history, /relation endpoints [!487](https://gitlab.com/famedly/conduit/-/merge_requests/487)
* Feature: Automatic update checker [!522](https://gitlab.com/famedly/conduit/-/merge_requests/522)
* Feature: Very basic Element X support [!501](https://gitlab.com/famedly/conduit/-/merge_requests/501) [!511](https://gitlab.com/famedly/conduit/-/merge_requests/511)
* Feature: Handle backfill requests [!459](https://gitlab.com/famedly/conduit/-/merge_requests/459)
* Feature: Allow end-to-bridge encryption [!454](https://gitlab.com/famedly/conduit/-/merge_requests/454)
* Improvement: Improved memory usage [!497](https://gitlab.com/famedly/conduit/-/merge_requests/497)
* Improvement: Matrix.org is default trusted server if unspecified [!536](https://gitlab.com/famedly/conduit/-/merge_requests/536)
* Improvement: Better memory usage admin commands [!497](https://gitlab.com/famedly/conduit/-/merge_requests/497)
* Improvement: Better sync performance [!490](https://gitlab.com/famedly/conduit/-/merge_requests/490)
* Improvement: Randomize server order for alias room joins [!491](https://gitlab.com/famedly/conduit/-/merge_requests/491)
* Improvement: Allow reactivating users using reset-password admin command [!458](https://gitlab.com/famedly/conduit/-/merge_requests/458)
* Improvement: Don't allow breaking admin room [!382](https://gitlab.com/famedly/conduit/-/merge_requests/382)
* Improvement: Recognize admin commands without ':' after mention [!470](https://gitlab.com/famedly/conduit/-/merge_requests/470)
* Fix: Device verification / Cross signing [!501](https://gitlab.com/famedly/conduit/-/merge_requests/501) [!504](https://gitlab.com/famedly/conduit/-/merge_requests/504) [!532](https://gitlab.com/famedly/conduit/-/merge_requests/532)
* Fix: Less soft failing messages [!490](https://gitlab.com/famedly/conduit/-/merge_requests/490)
* Fix: Matrix hookshot authorization [!486](https://gitlab.com/famedly/conduit/-/merge_requests/486)
* Fix: Load Message Context on Element Android [!485](https://gitlab.com/famedly/conduit/-/merge_requests/485)
* Fix: Media loads much faster now [!484](https://gitlab.com/famedly/conduit/-/merge_requests/484)
* Fix: Unable to join some rooms [!453](https://gitlab.com/famedly/conduit/-/merge_requests/453)
  [!464](https://gitlab.com/famedly/conduit/-/merge_requests/464)
* Fix: Restricted room join error is now FORBIDDEN [!478](https://gitlab.com/famedly/conduit/-/merge_requests/478)

# v0.5.0 - 2022-12-21

* Feature: Restricted room joining [!398](https://gitlab.com/famedly/conduit/-/merge_requests/398)
* Feature: Call sd-notify after init and before exit [!426](https://gitlab.com/famedly/conduit/-/merge_requests/426)
* Improvement: V9 as default room version [!400](https://gitlab.com/famedly/conduit/-/merge_requests/400)
* Improvement: More efficient E2EE key claiming [!389](https://gitlab.com/famedly/conduit/-/merge_requests/389)
* Fix: All E2EE problems [!393](https://gitlab.com/famedly/conduit/-/merge_requests/393)
* Fix: Infinite room loading [!388](https://gitlab.com/famedly/conduit/-/merge_requests/388)
* Fix: Wrong notification rules [!405](https://gitlab.com/famedly/conduit/-/merge_requests/405)
* Fix: Wrong notification counts [!408](https://gitlab.com/famedly/conduit/-/merge_requests/408)
* Fix: Can't rejoin rooms [!399](https://gitlab.com/famedly/conduit/-/merge_requests/399)
* Fix: Fluffychat login works again [!391](https://gitlab.com/famedly/conduit/-/merge_requests/391)
* Fix: Starting DMs with Synapse users [!390](https://gitlab.com/famedly/conduit/-/merge_requests/390)
* Fix: is\_guest for appservices [!401](https://gitlab.com/famedly/conduit/-/merge_requests/401)
* Fix: Invites from Dendrite [!416](https://gitlab.com/famedly/conduit/-/merge_requests/416)
* Fix: Send unrecognized error for unknown endpoints [!397](https://gitlab.com/famedly/conduit/-/merge_requests/397)
* Refactor: Service layer [!365](https://gitlab.com/famedly/conduit/-/merge_requests/365)

# v0.4.0 - 2022-06-23

* Breaking: Docker user changed. If you use Docker, please chown your database directory to `1000:1000`
* Feature: Conduit now supports room versions 3 to 9 [!257](https://gitlab.com/famedly/conduit/-/merge_requests/257)
* Feature: Deactivate user command [!337](https://gitlab.com/famedly/conduit/-/merge_requests/337)
* Feature: Admin command to create new user [!354](https://gitlab.com/famedly/conduit/-/merge_requests/354)
* Feature: Admin command to show config [!295](https://gitlab.com/famedly/conduit/-/merge_requests/295)
* Feature: Admin command to change password [!354](https://gitlab.com/famedly/conduit/-/merge_requests/354)
* Feature: Config option for emergency password to rescue server [!354](https://gitlab.com/famedly/conduit/-/merge_requests/354)
* Feature: Sync performance improved [!297](https://gitlab.com/famedly/conduit/-/merge_requests/297)
* Feature: Lightning bolt optional [!366](https://gitlab.com/famedly/conduit/-/merge_requests/366)
* Improvement: Jemalloc can now be disabled at compile time [!285](https://gitlab.com/famedly/conduit/-/merge_requests/285)
* Improvement: Use native CA certificates [!329](https://gitlab.com/famedly/conduit/-/merge_requests/329)
* Improvement: Case insensitive userid login [!323](https://gitlab.com/famedly/conduit/-/merge_requests/323)
* Fix: Element Android notifications should work again
* Fix: Fluffychat compatibility [!293](https://gitlab.com/famedly/conduit/-/merge_requests/354)
* Fix: Kick and ban events over federation [!338](https://gitlab.com/famedly/conduit/-/merge_requests/338)
* Fix: Editing state works again [!336](https://gitlab.com/famedly/conduit/-/merge_requests/336)
* Fix: Admin bot can no longer trigger itself [!293](https://gitlab.com/famedly/conduit/-/merge_requests/293)
* Fix: Appservice compatibility [!331](https://gitlab.com/famedly/conduit/-/merge_requests/331)
* Fix: Redacting unknown events will no longer cause problems [!298](https://gitlab.com/famedly/conduit/-/merge_requests/298)
* Fix: Admin command parse-pdu no longer crashes for malformed jsons [!304](https://gitlab.com/famedly/conduit/-/merge_requests/304)
* Fix: Hide users from user directory if they are only in private rooms and they don't share a room [!325](https://gitlab.com/famedly/conduit/-/merge_requests/325)
* Fix: Don't panic when signing event fails [!343](https://gitlab.com/famedly/conduit/-/merge_requests/343)
* Docs: TURN server guide [!291](https://gitlab.com/famedly/conduit/-/merge_requests/291)
* Docs: Admin room welcome message mentions `help` command [!299](https://gitlab.com/famedly/conduit/-/merge_requests/299)
* Docs: Change setup guides to use the same database paths [!301](https://gitlab.com/famedly/conduit/-/merge_requests/301)
* Docs: Clarify that Conduit is in beta [!310](https://gitlab.com/famedly/conduit/-/merge_requests/310)
* Docs: Fix proxy examples [!321](https://gitlab.com/famedly/conduit/-/merge_requests/321)
* Refactor: Changed from rocket to axum [!263](https://gitlab.com/famedly/conduit/-/merge_requests/263)

# v0.3.0 - 2022-02-04

* Feature: Support server ACLs [!248](https://gitlab.com/famedly/conduit/-/merge_requests/248)
* Feature: RocksDB Database Backend [!217](https://gitlab.com/famedly/conduit/-/merge_requests/217)
* Feature: Database backend selection at runtime [!217](https://gitlab.com/famedly/conduit/-/merge_requests/217)
* Feature: Report users to homeserver admin [!218](https://gitlab.com/famedly/conduit/-/merge_requests/218)
* Feature: Creation of Spaces (exploring spaces is not supported yet) [!220](https://gitlab.com/famedly/conduit/-/merge_requests/220)
* Feature: Enable voice calls (requires configuring a TURN server) [!208](https://gitlab.com/famedly/conduit/-/merge_requests/208)
* Feature: Lazy loading for much faster initial syncs [!240](https://gitlab.com/famedly/conduit/-/merge_requests/240)
* Improvement: Batch inserts for events [!204](https://gitlab.com/famedly/conduit/-/merge_requests/204)
* Improvement: Significantly faster state resolution [!217](https://gitlab.com/famedly/conduit/-/merge_requests/217)
* Improvement: Reuse reqwest client [!265](https://gitlab.com/famedly/conduit/-/merge_requests/265)
* Docs: Better appservice instructions [!196](https://gitlab.com/famedly/conduit/-/merge_requests/196)
* Fix: Very old events appear in the timeline [!188](https://gitlab.com/famedly/conduit/-/merge_requests/188)
* Fix: Sync not waking up on new events in room [!194](https://gitlab.com/famedly/conduit/-/merge_requests/194)
* Fix: Crash on empty search [!286](https://gitlab.com/famedly/conduit/-/merge_requests/286)
* Fix: Better E2EE support
* Fix: Stack overflows

# v0.2.0 - 2021-09-01

* Initial release
* Almost all client server and server server features of the Matrix Spec are implemented
* Notable exceptions: User verification over federation, room versions > 6

# v0.0.0 - 2020-02-15

* Start of development

Timo KÃ¶sters Â© 2023 [Impressum](https://famedly.com/impressum) [Datenschutz](https://famedly.com/terms/datenschutz)

