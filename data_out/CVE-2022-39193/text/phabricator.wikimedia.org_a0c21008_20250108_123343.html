Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT311337)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T311337
# CVE-2022-39193: Edits with the performer suppressed still show the performer in results from the CheckUser extensionClosed, Resolved[Public](/policy/explain/PHID-TASK-d6u72i2cca36slqicsyu/view/)SecurityActions

* [Edit Task](/maniphest/task/edit/311337/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/311337/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-d6u72i2cca36slqicsyu/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-d6u72i2cca36slqicsyu/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-d6u72i2cca36slqicsyu/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-d6u72i2cca36slqicsyu/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-d6u72i2cca36slqicsyu/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-d6u72i2cca36slqicsyu/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-d6u72i2cca36slqicsyu/)
* [Protect as security issue](/wmf/escalate-task/311337/)
* [Award Token](/token/give/PHID-TASK-d6u72i2cca36slqicsyu/)
* [Flag For Later](/flag/edit/PHID-TASK-d6u72i2cca36slqicsyu/)

Assigned To

|  | [Zabe](/p/Zabe/) |
| --- | --- |

Authored By

|  | [Dreamy\_Jazz](/p/Dreamy_Jazz/) |
| --- | --- |
| Jun 25 2022, 11:19 AM2022-06-25 11:19:07 (UTC+0) |

Tags

* [Security-Team](/tag/security-team/) [(Our Part Is Done)](/project/board/1179/)
* [Security](/tag/security/)
* [CheckUser](/tag/checkuser/) [(Inbox)](/project/board/203/)
* [Vuln-Infoleak](/tag/vuln-infoleak/)
* [Platform Engineering](/tag/platform_engineering/) [(Inbox)](/project/board/3654/)
* [MW-1.40-notes (1.40.0-wmf.19; 2023-01-16)](/project/view/6319/)
Referenced Files

|  | [F36153615: 01-T311337-rev4.patch](/F36153615) |
| --- | --- |
| Jan 12 2023, 8:36 AM2023-01-12 08:36:38 (UTC+0) |

|  | [F36102504: 01-T311337-rev3.patch](/F36102504) |
| --- | --- |
| Jan 10 2023, 10:09 PM2023-01-10 22:09:04 (UTC+0) |

|  | [F35492128: 0001-SECURITY-do-not-render-suppressed-usernames-at-Special-REL1-35.patch](/F35492128) |
| --- | --- |
| Aug 26 2022, 9:50 PM2022-08-26 21:50:03 (UTC+0) |

|  | [F35485517: 0001-SECURITY-do-not-render-suppressed-usernames-at-Speci.patch](/F35485517) |
| --- | --- |
| Aug 23 2022, 2:58 PM2022-08-23 14:58:28 (UTC+0) |

|  | [F35332936: 0001-SECURITY-do-not-render-suppressed-usernames-at-Speci.patch](/F35332936) |
| --- | --- |
| Jul 24 2022, 2:22 PM2022-07-24 14:22:34 (UTC+0) |

|  | [F35277545: 0001-SECURITY-do-not-render-suppressed-usernames-at-Speci.patch](/F35277545) |
| --- | --- |
| Jun 26 2022, 4:06 PM2022-06-26 16:06:26 (UTC+0) |

|  | Unknown Object (File) |
| --- | --- |
| Jun 26 2022, 4:05 PM2022-06-26 16:05:24 (UTC+0) |

|  | Unknown Object (File) |
| --- | --- |
| Jun 26 2022, 4:03 PM2022-06-26 16:03:43 (UTC+0) |

[View All 16 Files](/file/ui/curtain/list/PHID-TASK-d6u72i2cca36slqicsyu/)Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [DannyS712](/p/DannyS712/) |
| --- | --- |

|  | [Dreamy\_Jazz](/p/Dreamy_Jazz/) |
| --- | --- |

|  | [MarcoAurelio](/p/MarcoAurelio/) |
| --- | --- |

|  | [mmartorana](/p/mmartorana/) |
| --- | --- |

|  | [Mstyles](/p/Mstyles/) |
| --- | --- |

|  | [sbassett](/p/sbassett/) |
| --- | --- |

[View All 13 Subscribers](/subscriptions/list/PHID-TASK-d6u72i2cca36slqicsyu/)
# Description

Tested on a local instance running CheckUser and other extensions.

Followed the following steps:

* Gave myself suppressor rights
* Suppressed a test edit so that the edit had the following restrictions:

[![image.png (177×828 px, 11 KB)](https://phab.wmfusercontent.org/file/data/x3oftxevnwvdxh6vsgql/PHID-FILE-eawm3zi43izzqxiydtqr/preview-image.png)](https://phab.wmfusercontent.org/file/data/rpn7hiw4smobuzwzjr3s/PHID-FILE-a5zb645k3bzlofkrwrs4/image.png)

* Removed suppressor rights from myself
* Ran a check on the IP used (in this case a localhost IP as I'm running a local instance)
* Scrolled down to the edit and saw:

[![image2.png (76×1 px, 12 KB)](https://phab.wmfusercontent.org/file/data/jpqpcn5fqu2n4l6qfjal/PHID-FILE-ysoiw6kjop4ahhfh3xas/preview-image2.png)](https://phab.wmfusercontent.org/file/data/elf4nwxqxjvorin4r4cc/PHID-FILE-qd7stb4b4yzmbmjuwrjt/image2.png)

The edit summary is correctly suppressed, but not the username. A CU could be running a check on a wide range or IP from running a check on a different account. They can then, without knowing the username, see the suppressed performer username.

To fix Lines 1931 down in SpecialCheckUser.php need to work out if the username / performer is suppressed for that edit.

This also affects Special:Investigate as shown below (same edit used):

[![Screenshot 2022-06-25 122507.png (65×382 px, 4 KB)](https://phab.wmfusercontent.org/file/data/awdyoxuis76brri4kfwg/PHID-FILE-6xhcu3klcrzdzhcjco32/preview-Screenshot_2022-06-25_122507.png)](https://phab.wmfusercontent.org/file/data/ceqlphuvrhudcmc5uvbz/PHID-FILE-hsksh5xn7xcu2fvvkcn4/Screenshot_2022-06-25_122507.png)

[![Screenshot 2022-06-25 122549.png (40×1 px, 20 KB)](https://phab.wmfusercontent.org/file/data/mdikhjdying65ihv56dt/PHID-FILE-iuufvnte7tchrxebudgb/preview-Screenshot_2022-06-25_122549.png)](https://phab.wmfusercontent.org/file/data/fngpst7nyt2hwg7k5wb2/PHID-FILE-up2wufjxqqb6i47uhget/Screenshot_2022-06-25_122549.png)

Summary:

* For edits
  + SpecialCheckUser - fix deployed
  + SpecialInvestigate - fix deployed
  + CU API - fix deployed
* logged actions can not be fixed fully without a schema change ([T324907](/T324907))
  + SpecialCheckUser - [T326865](/T326865)
  + SpecialInvestigate - [T326866](/T326866)
  + CU API - [T326867](/T326867)
# Details

Risk Rating Medium Author Affiliation Wikimedia Communities

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: do not render suppressed usernames at Special:CheckUser](https://gerrit.wikimedia.org/r/c/879567) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_38](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_38) | +1 K -0 |
|  | [SECURITY: do not render suppressed usernames at Special:CheckUser](https://gerrit.wikimedia.org/r/c/879544) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_39](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_39) | +38 -14 |
|  | [SECURITY: do not render suppressed usernames at Special:CheckUser](https://gerrit.wikimedia.org/r/c/879553) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_35](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_35) | +51 -27 |
|  | [SECURITY: do not render suppressed usernames at Special:CheckUser](https://gerrit.wikimedia.org/r/c/879552) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_38](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_38) | +51 -27 |
|  | [SECURITY: do not render suppressed usernames at Special:CheckUser](https://gerrit.wikimedia.org/r/c/879167) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/master) | +37 -13 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T311337)
# Related ObjectsSearch...

* Task Graph
* Mentions

[View Standalone Graph](/maniphest/graph/311337/)This task is connected to more than 200 other tasks. Only direct parents and subtasks are shown here. Use **View Standalone Graph** to show more of the graph.

|  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- |
|  |  |  |  | · · · |
|  | Resolved | Security | [Zabe](/p/Zabe/) | T311337 [CVE-2022-39193: Edits with the performer suppressed still show the performer in results from the CheckUser extension](/T311337) |
|  | Resolved | Security | [Dreamy\_Jazz](/p/Dreamy_Jazz/) | T316414 [CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414) |
|  | Resolved | Security | [Dreamy\_Jazz](/p/Dreamy_Jazz/) | T318166 [CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166) |
|  | Resolved |  | [Dreamy\_Jazz](/p/Dreamy_Jazz/) | T253796 [Make CheckUser record the log\_id of logged actions](/T253796) |
|  |  |  |  | · · · |

Mentioned In [T326865: CVE-2024-40597: Special:CheckUser can expose suppressed information for log events](/T326865)
[T325849: Write and send supplementary release announcement for extensions and skins with security patches (1.35.10/1.38.6/1.39.3)](/T325849)
[T318974: Write and send supplementary release announcement for extensions and skins with security patches (1.35.9/1.38.4/1.39.1)](/T318974)
[T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166)
[T316414: CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414)
[T311785: Write and send supplementary release announcement for extensions and skins with security patches (1.35.8/1.37.5/1.38.3)](/T311785) Mentioned Here [T326865: CVE-2024-40597: Special:CheckUser can expose suppressed information for log events](/T326865)
[T326866: CVE-2024-40596: Special:Investigate can expose suppressed information for log events](/T326866)
[T326867: CVE-2024-40598: CheckUser API can expose suppressed information for log events](/T326867)
[T324907: Create separate tables for log events in CheckUser](/T324907)
[T316414: CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414)
[T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166)
[T223871: Being unable to copy punctuation characters (defined in CSS) on certain special pages makes it harder to paste to text editor](/T223871)
[T311785: Write and send supplementary release announcement for extensions and skins with security patches (1.35.8/1.37.5/1.38.3)](/T311785)
[T145265: Store check user data action text in structured format](/T145265)
[T313046: Display 'Locked' mark to globally hidden (and suppressed?) accounts in CheckUser results](/T313046)
### Event Timeline

There are a very large number of changes, so older changes are hidden. [Show Older Changes](/transactions/showolder/PHID-TASK-d6u72i2cca36slqicsyu/?after=8230261&quoteTargetID=UQ0_1&quoteRef=T311337)[sbassett](/p/sbassett/) added a comment.[Sep 12 2022, 8:02 PM2022-09-12 20:02:45 (UTC+0)](#8230262)Comment Actions

[@Zabe](/p/Zabe/) [@Dreamy\_Jazz](/p/Dreamy_Jazz/) et al - the patch from [T311337#8178549](/T311337#8178549) was deployed today:

2022-09-12 - 19:53 sbassett: Deployed security patch for T311337

It applied fine and didn't appear to cause any errors on any related CheckUser pages (at least not according to logstash). [@Mstyles](/p/Mstyles/) and I weren't really able to thoroughly test the patch in production though, as we don't have os anywhere. So if someone else could test a bit more and confirm that the issue does appear to be resolved within production, that would be great. If the patch does not appear to have solved the issue completely, we can always pull it off of production, test a bit more and deploy a rev 2. Also now tracking at T276237 (was already tracked at [T311785](/T311785)).

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.Edited · [Sep 12 2022, 8:24 PM2022-09-12 20:24:03 (UTC+0)](#8230349)Comment Actions

Nice.

What have you not been able to test on production wikis? I have CU and OS on enwiki. Through a test have been able to verify that the performer still shows to OS'ers when suppressed (which is expected). By extension I was also able to verify that it does not throw any errors visible to the user. If looking for the check in log stash to check backend errors, I added the ticket number for this task in the reason for the check.

Can I have access to T276237 (if it's general purpose and not specific to CheckUser then it's fine)?

[Mstyles](/p/Mstyles/) added a comment.[Sep 12 2022, 11:02 PM2022-09-12 23:02:20 (UTC+0)](#8230791)Comment Actions

T276237 is the list of currently deployed security patches. Is there a reason you want access to that list?

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 12 2022, 11:13 PM2022-09-12 23:13:58 (UTC+0)](#8230821)Comment Actions

I wasn't sure by the comment above whether that was specific to CheckUser (and so somewhere I might be able to help) or not. As it's just a general purpose ticket for deployed security patches I don't want access. Thanks.

[sbassett](/p/sbassett/) added a comment.Edited · [Sep 13 2022, 3:04 PM2022-09-13 15:04:38 (UTC+0)](#8232760)Comment Actions
> In [T311337#8230821](/T311337#8230821), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> I wasn't sure by the comment above whether that was specific to CheckUser (and so somewhere I might be able to help) or not. As it's just a general purpose ticket for deployed security patches I don't want access. Thanks.

No problem. Access to T276237 is really only necessary if you're helping out with wikimedia-deployed security patches or are helping out with the quarterly MediaWiki security releases.

> What have you not been able to test on production wikis? I have CU and OS on enwiki. Through a test have been able to verify that the performer still shows to OS'ers when suppressed (which is expected). By extension I was also able to verify that it does not throw any errors visible to the user. If looking for the check in log stash to check backend errors, I added the ticket number for this task in the reason for the check.

Well, nobody on the [Security-Team](/tag/security-team/) currently has OS on any of the production projects, so not much. It sounds like all we'd still want to confirm is that an OS'd target is now hidden to non-OS CUs on a production project when viewing related data during a CU check. If someone can create a suppressed edit like the one you describe in the task on testwiki, then I can run a CU against the user/IP and confirm I cannot view the target (I have plain old CU on testwiki). Thanks.

[sbassett](/p/sbassett/) moved this task from [Security Patch To Deploy](/project/board/1179/) to [Watching](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Sep 13 2022, 3:21 PM2022-09-13 15:21:50 (UTC+0)](#8232820)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 13 2022, 3:59 PM2022-09-13 15:59:32 (UTC+0)](#8233045)Comment Actions

I don't think anyone has OS on test.wikipedia.org currently but based on searching the user rights log Martin Urbanec had OS rights back in February this year. Not sure the process of getting OS on test wikis but they may be someone to contact.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 13 2022, 4:03 PM2022-09-13 16:03:55 (UTC+0)](#8233066)Comment Actions

[@Urbanecm](/p/Urbanecm/) for the above, as you are already a subscriber here. Perhaps you could set up this edit?

[sbassett](/p/sbassett/) added a comment.[Sep 13 2022, 5:10 PM2022-09-13 17:10:21 (UTC+0)](#8233455)Comment Actions
> In [T311337#8233066](/T311337#8233066), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> [@Urbanecm](/p/Urbanecm/) for the above, as you are already a subscriber here. Perhaps you could set up this edit?

It doesn't have to be testwiki, that was just convenient for me :) Looks like [most enwiki CUs have OS](https://en.wikipedia.org/w/index.php?title=Special:ListUsers&group=checkuser&username=&wpFormIdentifier=mw-listusers-form&wpsubmit=&offset=&limit=500), but there are a few that do not, if we could persuade one of them to help test there.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 13 2022, 5:24 PM2022-09-13 17:24:49 (UTC+0)](#8233598)Comment Actions

I'll wait for Urbancem's response, but otherwise GeneralNotability is an enwiki CU but not OS that I think would be happy to help.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 18 2022, 5:45 PM2022-09-18 17:45:49 (UTC+0)](#8244241)Comment Actions

[@sbassett](/p/sbassett/) I have coordinated with a enwiki CU who is not an OS and followed the steps:

1. Had them make a test edit (in this case one in their sandbox)
2. Suppressed their username in this edit
3. Got them to run a check on themselves
4. Asked them to verify what they see
5. Unsuppressed the edit
6. Asked them to re-run the check to see any difference

The test was a success with the first check (while the edit having the username suppressed) resulting in:

> diff hist Page timestamp (Username or IP removed) summary

and the second check resulting in:

> diff hist Page timestamp CU without OS talk contribs block Previously blocked Autopatrolled, Checkusers, Administrators summary

I've removed the identifying information about the results and the lack of brackets is due to [T223871](/T223871) et. al. making it not possible to copy out the content defined by CSS. I can (privately) detail the particular edit used if there are logs you want to consult, but would want to only do that on a task that won't become public.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 18 2022, 5:47 PM2022-09-18 17:47:04 (UTC+0)](#8244243)Comment Actions

The fix has not addressed the API (Investigate is in a subtask) but the fix for the API should be relatively similar I'm thinking.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a subtask: [T316414: CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414).[Sep 18 2022, 5:49 PM2022-09-18 17:49:31 (UTC+0)](#8244244)Comment Actions

I'm also not sure whether it would be a good idea to make this task public until the fix is also applied to logged actions as it not being fixed has been detailed here.

[sbassett](/p/sbassett/) added a comment.[Sep 19 2022, 8:14 PM2022-09-19 20:14:23 (UTC+0)](#8246612)Comment Actions
> In [T311337#8244241](/T311337#8244241), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> [@sbassett](/p/sbassett/) I have coordinated with a enwiki CU who is not an OS and followed the steps:
>
> ...
>
> The test was a success with the first check (while the edit having the username suppressed) resulting in:
>
> > diff hist Page timestamp (Username or IP removed) summary
>
> and the second check resulting in:
>
> > diff hist Page timestamp CU without OS talk contribs block Previously blocked Autopatrolled, Checkusers, Administrators summary

Excellent, thanks for coordinating all of this.

> I've removed the identifying information about the results and the lack of brackets is due to [T223871](/T223871) et. al. making it not possible to copy out the content defined by CSS. I can (privately) detail the particular edit used if there are logs you want to consult, but would want to only do that on a task that won't become public.

I think we're ok, I trust your reporting of the above test with the enwiki CU.

> The fix has not addressed the API (Investigate is in a subtask) but the fix for the API should be relatively similar I'm thinking.

Yes, we'll need to file another task for that, most likely, just to keep things organized.

> I'm also not sure whether it would be a good idea to make this task public until the fix is also applied to logged actions as it not being fixed has been detailed here.

Yes, I'll make a note on the supplemental security release about this.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) mentioned this in [T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166).[Sep 20 2022, 2:20 PM2022-09-20 14:20:26 (UTC+0)](#8248198)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a subtask: [T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166).[Sep 20 2022, 2:26 PM2022-09-20 14:26:53 (UTC+0)](#8248216)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 29 2022, 6:13 PM2022-09-29 18:13:23 (UTC+0)](#8273640)Comment Actions

Is it okay to remove [Patch-For-Review](/tag/patch-for-review/)?

[Dreamy\_Jazz](/p/Dreamy_Jazz/) removed a project: [Patch-For-Review](/tag/patch-for-review/).[Oct 1 2022, 12:25 AM2022-10-01 00:25:49 (UTC+0)](#8277089)[mmartorana](/p/mmartorana/) closed this task as Resolved.[Oct 5 2022, 10:03 AM2022-10-05 10:03:02 (UTC+0)](#8286156)[mmartorana](/p/mmartorana/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-adwajsss3fjf37j/)" to "Public (No Login Required)".[mmartorana](/p/mmartorana/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-oqbw27rruva7rke/)" to "All Users".[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a subscriber: [mmartorana](/p/mmartorana/).[Oct 5 2022, 10:29 AM2022-10-05 10:29:13 (UTC+0)](#8286222)Comment Actions

[@mmartorana](/p/mmartorana/) wasn't this supposed to stay private as the fix is not in place for logged actions and for Investigate for all actions?

> > I'm also not sure whether it would be a good idea to make this task public until the fix is also applied to logged actions as it not being fixed has been detailed here.
>
> Yes, I'll make a note on the supplemental security release about this.

[sbassett](/p/sbassett/) set Security to Software security bug.[Oct 5 2022, 3:19 PM2022-10-05 15:19:08 (UTC+0)](#8287301)[sbassett](/p/sbassett/) changed the visibility from "Public (No Login Required)" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-fwyn37q27hflq4h/)".Comment Actions

Let's keep this private until the API and Special:Investigate patches get CR'd and deployed.

[sbassett](/p/sbassett/) added a comment.[Oct 5 2022, 3:21 PM2022-10-05 15:21:17 (UTC+0)](#8287308)Comment Actions
> In [T311337#8286222](/T311337#8286222), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> [@mmartorana](/p/mmartorana/) wasn't this supposed to stay private as the fix is not in place for logged actions and for Investigate for all actions?

We had hoped to include this and the related issues within the upcoming supplemental security release ([T311785](/T311785)) - which we plan to release today. But unfortunately, given the timing of things and that the other two bugs either don't have patches or haven't been CR'd and deployed yet, I think we should keep this task private (I just did that) and plan to release it with the *next* supplemental security release when the remaining issues should be addressed.

[sbassett](/p/sbassett/) mentioned this in [T318974: Write and send supplementary release announcement for extensions and skins with security patches (1.35.9/1.38.4/1.39.1)](/T318974).[Oct 5 2022, 4:21 PM2022-10-05 16:21:41 (UTC+0)](#8287657)[Dreamy\_Jazz](/p/Dreamy_Jazz/) reopened this task as Open.Edited · [Oct 6 2022, 11:17 PM2022-10-06 23:17:14 (UTC+0)](#8296437)Comment Actions

Unless I'm wrong this is also not resolved as the fix for logged actions is not in place and won't be without a Schema-change.

If desired I could create a new ticket for logged actions specifically, though it's already been mentioned several times throughout this ticket and as such making this task public would make creating a different task which is private not be different from a public task until a fix patch was proposed.

[sbassett](/p/sbassett/) added a comment.Edited · [Oct 7 2022, 12:39 PM2022-10-07 12:39:26 (UTC+0)](#8300027)Comment Actions
> In [T311337#8296437](/T311337#8296437), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> If desired I could create a new ticket for logged actions specifically, though it's already been mentioned several times throughout this ticket and as such making this task public would make creating a different task which is private not be different from a public task until a fix patch was proposed.

This should be a separate (sub-)task at this point. This task was also made private again until the various sub-tasks have at least been patched within wikimedia production.

[Zabe](/p/Zabe/) added a comment.[Oct 11 2022, 2:12 PM2022-10-11 14:12:49 (UTC+0)](#8307794)Comment Actions

Hey, is anyone opposing pushing [T311337#8178549](/T311337#8178549) through gerrit? I don't really think that this is very risky and I don't really like the idea of having this living as a sec patch for an eternity, since it is not really foreseeable when all those subtasks (including the schema change) are resolved. The patch for T207094 has also been pushed through gerrit while similar issues still exist.

I am fine with keeping this task private since it does contain direct information about those other issues.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.Edited · [Oct 11 2022, 2:34 PM2022-10-11 14:34:09 (UTC+0)](#8307864)Comment Actions

I wouldn't oppose it. Perhaps a subtask could be created that is for hiding the performer for edits which also doesn't make it very obvious that logged actions are not fixed. The patch then could link to that instead?

[sbassett](/p/sbassett/) added a comment.[Oct 11 2022, 2:35 PM2022-10-11 14:35:40 (UTC+0)](#8307873)Comment Actions
> In [T311337#8307794](/T311337#8307794), [@Zabe](/p/Zabe/) wrote:
>
> Hey, is anyone opposing pushing [T311337#8178549](/T311337#8178549) through gerrit? I don't really think that this is very risky and I don't really like the idea of having this living as a sec patch for an eternity, since it is not really foreseeable when all those subtasks (including the schema change) are resolved. The patch for T207094 has also been pushed through gerrit while similar issues still exist.

It likely wouldn't be an eternity. We had hoped for the sub-tasks [T316414](/T316414) and [T318166](/T318166) to have patches written and deployed last quarter, but that didn't happen. So it will likely be this quarter. [T318166](/T318166) already has a +2'd patch and can likely go out during next Monday's security deployment window (or sooner) and [T316414](/T316414) should have a patch up for review soon.

> I am fine with keeping this task private since it does contain direct information about those other issues.

It does, since it's the same issue, just for two different layers, which would likely be one of the first things a hypothetical attacker would check.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-5vkp4yjouleq2rg/)Edited · [Nov 15 2022, 9:21 PM2022-11-15 21:21:39 (UTC+0)](#8397799)[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-msrbp4fbvzf7znl/)Comment Actions

[https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/+/856930](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/%2B/856930) is open to store the log ID which can be used to find the revision deletion status of the log entry. A quick review would be appreciated as the row will need to be on all WMF DBs to have this security issue resolved which requires this to be merged first.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) removed a subtask: [T145265: Store check user data action text in structured format](/T145265).[Nov 15 2022, 9:24 PM2022-11-15 21:24:04 (UTC+0)](#8397823)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a subtask: [T253796: Make CheckUser record the log\_id of logged actions](/T253796).[TheresNoTime](/p/TheresNoTime/) removed a subscriber: [RhinosF1](/p/RhinosF1/).[Dec 15 2022, 11:35 PM2022-12-15 23:35:38 (UTC+0)](#8472440) · [Dreamy\_Jazz](/p/Dreamy_Jazz/) triaged this task as Medium priority.[Dec 26 2022, 10:32 PM2022-12-26 22:32:44 (UTC+0)](#8489976)[Dreamy\_Jazz](/p/Dreamy_Jazz/) moved this task from [Patches for review](/project/board/203/) to [Inbox](/project/board/203/) on the [CheckUser](/tag/checkuser/) board.[Dec 28 2022, 11:20 PM2022-12-28 23:20:41 (UTC+0)](#8491440)[Mstyles](/p/Mstyles/) mentioned this in [T325849: Write and send supplementary release announcement for extensions and skins with security patches (1.35.10/1.38.6/1.39.3)](/T325849).[Jan 10 2023, 6:08 PM2023-01-10 18:08:20 (UTC+0)](#8513674)[sbassett](/p/sbassett/) added a comment.[Jan 10 2023, 10:09 PM2023-01-10 22:09:04 (UTC+0)](#8514601)Comment Actions

Updated patch for **1.40.0-wmf.18**:

01-T311337-rev3.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/obc3id67usqxx6ixpag4/PHID-FILE-rgogqo3ky6fwucvzu55a/01-T311337-rev3.patch)

[Mstyles](/p/Mstyles/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-dmxrg2erefc2c4b/)" to "Public (No Login Required)".[Jan 12 2023, 2:37 AM2023-01-12 02:37:06 (UTC+0)](#8518340)[Zabe](/p/Zabe/) added a comment.Edited · [Jan 12 2023, 8:36 AM2023-01-12 08:36:38 (UTC+0)](#8518675)Comment Actions
> In [T311337#8514601](/T311337#8514601), [@sbassett](/p/sbassett/) wrote:
>
> Updated patch for **1.40.0-wmf.18**:
>
> 01-T311337-rev3.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/obc3id67usqxx6ixpag4/PHID-FILE-rgogqo3ky6fwucvzu55a/01-T311337-rev3.patch)

There is actually an issue with that rebase. Fixed in

01-T311337-rev4.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/ssefilxntamter33gkwu/PHID-FILE-2mgvbga5az42hwg33bot/01-T311337-rev4.patch)

(<https://sal.toolforge.org/log/Hh4rpYUB6FQ6iqKiMZmR>). Also fixed in gerrit in [https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/+/879167/2..3/src/CheckUser/Pagers/CheckUserGetEditsPager.php](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/%2B/879167/2..3/src/CheckUser/Pagers/CheckUserGetEditsPager.php).

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 9:39 AM2023-01-12 09:39:54 (UTC+0)](#8518797)Comment Actions

Change 879167 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@master] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879167>

[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added a project: [MW-1.40-notes (1.40.0-wmf.19; 2023-01-16)](/project/view/6319/).[Jan 12 2023, 10:01 AM2023-01-12 10:01:09 (UTC+0)](#8518852)[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:32 PM2023-01-12 14:32:10 (UTC+0)](#8519668)Comment Actions

Change 879544 had a related patch set uploaded (by Dreamy Jazz; author: Zabe):

[mediawiki/extensions/CheckUser@REL1\_39] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879544>

[gerritbot](/p/gerritbot/) added a project: [Patch-For-Review](/tag/patch-for-review/).[Jan 12 2023, 2:32 PM2023-01-12 14:32:11 (UTC+0)](#8519669)[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:36 PM2023-01-12 14:36:29 (UTC+0)](#8519682)Comment Actions

Change 879552 had a related patch set uploaded (by Zabe; author: Zabe):

[mediawiki/extensions/CheckUser@REL1\_38] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879552>

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:38 PM2023-01-12 14:38:26 (UTC+0)](#8519697)Comment Actions

Change 879553 had a related patch set uploaded (by Zabe; author: Zabe):

[mediawiki/extensions/CheckUser@REL1\_35] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879553>

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:39 PM2023-01-12 14:39:40 (UTC+0)](#8519700)Comment Actions

Change 879552 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@REL1\_38] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879552>

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:43 PM2023-01-12 14:43:22 (UTC+0)](#8519716)Comment Actions

Change 879553 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@REL1\_35] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879553>

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:44 PM2023-01-12 14:44:24 (UTC+0)](#8519722)Comment Actions

Change 879544 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@REL1\_39] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879544>

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:45 PM2023-01-12 14:45:09 (UTC+0)](#8519725)Comment Actions

Change 879567 had a related patch set uploaded (by Dreamy Jazz; author: Zabe):

[mediawiki/extensions/CheckUser@REL1\_38] SECURITY: do not render suppressed usernames at Special:CheckUser

<https://gerrit.wikimedia.org/r/879567>

[gerritbot](/p/gerritbot/) added a comment.[Jan 12 2023, 2:49 PM2023-01-12 14:49:42 (UTC+0)](#8519771)Comment Actions

Change 879567 **abandoned** by Dreamy Jazz:

[mediawiki/extensions/CheckUser@REL1\_38] SECURITY: do not render suppressed usernames at Special:CheckUser

Reason:

<https://gerrit.wikimedia.org/r/879567>

[Mstyles](/p/Mstyles/) closed this task as Resolved.[Jan 12 2023, 6:00 PM2023-01-12 18:00:05 (UTC+0)](#8520544)[Mstyles](/p/Mstyles/) closed subtask [T316414: CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414) as Resolved.[Mstyles](/p/Mstyles/) closed subtask [T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166) as Resolved.[Dreamy\_Jazz](/p/Dreamy_Jazz/) reopened this task as Open.[Jan 12 2023, 6:39 PM2023-01-12 18:39:26 (UTC+0)](#8520831)[Dreamy\_Jazz](/p/Dreamy_Jazz/) reopened subtask [T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166) as Open.Comment Actions

This isn't resolved. Edits are fixed but not log actions.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) reopened subtask [T316414: CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414) as Open.[Jan 12 2023, 6:40 PM2023-01-12 18:40:59 (UTC+0)](#8520836)[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-ab3poj5jiibcroi/)[Jan 12 2023, 7:42 PM2023-01-12 19:42:42 (UTC+0)](#8521172)[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-l5tdlklp63erdeb/)[Jan 12 2023, 7:44 PM2023-01-12 19:44:51 (UTC+0)](#8521175)[sbassett](/p/sbassett/) added a comment.[Jan 12 2023, 8:29 PM2023-01-12 20:29:02 (UTC+0)](#8521373)Comment Actions
> In [T311337#8518675](/T311337#8518675), [@Zabe](/p/Zabe/) wrote:
>
> There is actually an issue with that rebase. Fixed in
>
> 01-T311337-rev4.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/ssefilxntamter33gkwu/PHID-FILE-2mgvbga5az42hwg33bot/01-T311337-rev4.patch)
>
> (<https://sal.toolforge.org/log/Hh4rpYUB6FQ6iqKiMZmR>). Also fixed in gerrit in [https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/+/879167/2..3/src/CheckUser/Pagers/CheckUserGetEditsPager.php](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/%2B/879167/2..3/src/CheckUser/Pagers/CheckUserGetEditsPager.php).

Ok, this likely needs a redeploy then.

[sbassett](/p/sbassett/) moved this task from [Watching](/project/board/1179/) to [Our Part Is Done](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Jan 12 2023, 8:33 PM2023-01-12 20:33:18 (UTC+0)](#8521397)[sbassett](/p/sbassett/) removed a project: [Patch-For-Review](/tag/patch-for-review/).[Jan 12 2023, 8:35 PM2023-01-12 20:35:48 (UTC+0)](#8521444)[Dreamy\_Jazz](/p/Dreamy_Jazz/) mentioned this in [T326865: CVE-2024-40597: Special:CheckUser can expose suppressed information for log events](/T326865).[Jan 12 2023, 9:05 PM2023-01-12 21:05:59 (UTC+0)](#8521526)[Dreamy\_Jazz](/p/Dreamy_Jazz/) closed this task as Resolved.[Jan 12 2023, 9:09 PM2023-01-12 21:09:43 (UTC+0)](#8521565)Comment Actions

Re-closing as separate tickets filed.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) reopened this task as Open.[Jan 12 2023, 9:10 PM2023-01-12 21:10:00 (UTC+0)](#8521574)[Dreamy\_Jazz](/p/Dreamy_Jazz/) closed subtask [T316414: CVE-2022-39193: Special:Investigate can expose supressed information in check results](/T316414) as Resolved.[Dreamy\_Jazz](/p/Dreamy_Jazz/) closed subtask [T318166: CVE-2022-39193: CheckUser API can expose the suppressed performer](/T318166) as Resolved.[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-uh7lht33fue35eo/)[Dreamy\_Jazz](/p/Dreamy_Jazz/) closed this task as Resolved.[Jan 12 2023, 9:12 PM2023-01-12 21:12:56 (UTC+0)](#8521581)Comment Actions

Unless I'm missing something this can be set to public now too?

[sbassett](/p/sbassett/) added a comment.[Jan 12 2023, 9:25 PM2023-01-12 21:25:46 (UTC+0)](#8521632)Comment Actions
> In [T311337#8521581](/T311337#8521581), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> Unless I'm missing something this can be set to public now too?

It already should be, I believe.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.Edited · [Jan 12 2023, 9:30 PM2023-01-12 21:30:31 (UTC+0)](#8521645)Comment Actions
> In [T311337#8521632](/T311337#8521632), [@sbassett](/p/sbassett/) wrote:
> > In [T311337#8521581](/T311337#8521581), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
> >
> > Unless I'm missing something this can be set to public now too?
>
> It already should be, I believe.

Hmm. Got confused by the task description editing window saying "IMPORTANT: This report is restricted to members of security, subscribers, and the author." Obviously that doesn't change when the task is set to public.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Jan 12 2023, 9:36 PM2023-01-12 21:36:42 (UTC+0)](#8521666)Comment Actions

Thanks for the help with this all (and the security team for guiding me through). One more question for [@sbassett](/p/sbassett/) / [@Mstyles](/p/Mstyles/): Should the new tasks be associated with the CVE that these now resolved tasks are associated with (CVE-2022-39193)?

[sbassett](/p/sbassett/) added a comment.[Jan 12 2023, 9:38 PM2023-01-12 21:38:42 (UTC+0)](#8521672)Comment Actions
> In [T311337#8521666](/T311337#8521666), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> Thanks for the help with this all (and the security team for guiding me through). One more question for [@sbassett](/p/sbassett/) / [@Mstyles](/p/Mstyles/): Should the new tasks be associated with the CVE that these now resolved tasks are associated with (CVE-2022-39193)?

Let's get a separate one for the log events piece, as I think it's a distinct-enough issue. And the related tasks for that can then roll out (hopefully) with the next supplemental security release.

[sbassett](/p/sbassett/) added a comment.[Jan 12 2023, 9:44 PM2023-01-12 21:44:17 (UTC+0)](#8521683)Comment Actions
> In [T311337#8521373](/T311337#8521373), [@sbassett](/p/sbassett/) wrote:
> > In [T311337#8518675](/T311337#8518675), [@Zabe](/p/Zabe/) wrote:
> >
> > There is actually an issue with that rebase. Fixed in
> >
> > 01-T311337-rev4.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/ssefilxntamter33gkwu/PHID-FILE-2mgvbga5az42hwg33bot/01-T311337-rev4.patch)
> >
> > (<https://sal.toolforge.org/log/Hh4rpYUB6FQ6iqKiMZmR>). Also fixed in gerrit in [https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/+/879167/2..3/src/CheckUser/Pagers/CheckUserGetEditsPager.php](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/%2B/879167/2..3/src/CheckUser/Pagers/CheckUserGetEditsPager.php).
>
> Ok, this likely needs a redeploy then.

Er, actually, the patch on production for wmf.18 seems fine:

```
52         $user = new UserIdentityValue( $row->cuc_user ?? 0, $row->cuc_user_text );
53 -       if ( !IPUtils::isIPAddress( $user ) && !$user->isRegistered() ) {
54 -           $templateParams['userLinkClass'] = 'mw-checkuser-nonexistent-user';
55 +       if ( $row->cuc_type == RC_EDIT || $row->cuc_type == RC_NEW ) {
56 +           $hidden = !$this->usernameVisibility[$row->cuc_this_oldid];
```

No clue why git formatted my rev3 patch with line 52 getting removed. Sorry for the false alarm.

[Zabe](/p/Zabe/) added a comment.[Jan 12 2023, 9:46 PM2023-01-12 21:46:17 (UTC+0)](#8521686)Comment Actions

I just re-deployed it myself this morning, <https://sal.toolforge.org/log/Hh4rpYUB6FQ6iqKiMZmR>.

[sbassett](/p/sbassett/) added a comment.[Jan 12 2023, 9:48 PM2023-01-12 21:48:03 (UTC+0)](#8521688)Comment Actions
> In [T311337#8521686](/T311337#8521686), [@Zabe](/p/Zabe/) wrote:
>
> I just re-deployed it myself this morning, <https://sal.toolforge.org/log/Hh4rpYUB6FQ6iqKiMZmR>.

Oh, ok, great.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Mar 28 2023, 2:51 PM2023-03-28 14:51:35 (UTC+0)](#8735156)Comment Actions

[@sbassett](/p/sbassett/) it seems that the CVE description is wrong.

> This information should not allow public viewing: it is supposed to be viewable only by users with checkuser access.

It should be suppress not checkuser.

Can this be updated?

[sbassett](/p/sbassett/) added a comment.[Mar 28 2023, 8:13 PM2023-03-28 20:13:23 (UTC+0)](#8736324)Comment Actions
> In [T311337#8735156](/T311337#8735156), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> [@sbassett](/p/sbassett/) it seems that the CVE description is wrong.
>
> > This information should not allow public viewing: it is supposed to be viewable only by users with checkuser access.
>
> It should be suppress not checkuser.
>
> Can this be updated?

I just sent an update request to Mitre. Hopefully they can handle that soon.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Mar 29 2023, 5:12 PM2023-03-29 17:12:54 (UTC+0)](#8739228)Comment Actions

Thanks.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) closed subtask [T253796: Make CheckUser record the log\_id of logged actions](/T253796) as Resolved.[Apr 10 2024, 1:41 PM2024-04-10 13:41:22 (UTC+0)](#9703868)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)