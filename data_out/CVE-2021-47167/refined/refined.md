The provided content contains multiple commits related to a fix for a potential oops in the NFS page mirroring functionality, specifically in the `__nfs_pageio_add_request` function. All commits address the same underlying issue with minor variations. Therefore, they will be summarized together.

**Root cause of vulnerability:**
The issue stems from how the mirror array in the NFS pageio layer is handled, particularly during error cleanup and when adding new requests. The code was relying on the `pg_count` to determine if the list was empty rather than checking the list itself.

**Weaknesses/vulnerabilities present:**
- **Incorrect state tracking:** The mirror array was not being correctly reset during error cleanup in `nfs_pageio_error_cleanup()`, leading to an inconsistent state of the data structure.
- **Incorrect list emptiness check:** The function `nfs_pageio_do_add_request()` was checking the value of `pg_count` instead of using `list_empty()` which resulted in incorrect determination of list emptiness which caused a use-after-free condition and a potential kernel oops.

**Impact of exploitation:**
- **Kernel Oops/Crash:**  The primary impact is a potential kernel oops or crash due to the inconsistent state and the possibility of a use-after-free condition. This would lead to a denial of service.

**Attack vectors:**
The vulnerability is triggered through normal operations involving NFS page I/O with mirroring enabled, specifically when errors occur during the page I/O process which triggers error cleanup. An attacker would need the ability to trigger errors within the NFS page I/O mirroring code path.

**Required attacker capabilities/position:**
- The attacker needs the ability to perform operations that involve mirrored NFS I/O. This means the attacker would need the ability to mount and interact with a NFS share. 
- Triggering a specific error condition within the NFS page I/O path is needed to trigger the vulnerability.

**Additional details**
- The fix involves two changes:
    1. In `nfs_pageio_error_cleanup()`, the mirror array content must be reset to ensure the structure reflects the empty state.
    2.  The check for list emptiness in `nfs_pageio_do_add_request()` is changed from a check on `pg_count` to `list_empty(&mirror->pg_list)`.
- The commit messages indicate the fix addresses a use-after-free condition, which implies that the incorrect list emptiness check was causing memory corruption issues, not just a logical error in the code.
- All provided commits reference the same fix (`a7d42ddb3099`) which added mirroring support.