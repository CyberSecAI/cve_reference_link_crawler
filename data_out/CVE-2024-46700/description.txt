In the Linux kernel, the following vulnerability has been resolved:

drm/amdgpu/mes: fix mes ring buffer overflow

wait memory room until enough before writing mes packets
to avoid ring buffer overflow.

v2: squash in sched_hw_submission fix

(cherry picked from commit 34e087e8920e635c62e2ed6a758b0cd27f836d13)