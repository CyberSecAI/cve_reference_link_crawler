

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3136913%2540user-private-files%26old%3D3136913%2540user-private-files)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3131423/user-private-files "Changeset 3131423 for user-private-files")
* [Next Change](/changeset/3141494/user-private-files "Changeset 3141494 for user-private-files") →

---

# Changeset [3136913](/changeset/3136913 "Show full changeset") for [user-private-files](/browser/user-private-files?rev=3136913 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/17/2024 06:22:25 AM
([5 months](/timeline?from=2024-08-17T06%3A22%3A25Z&precision=second "See timeline at 08/17/2024 06:22:25 AM") ago)

Author:
deepakkite
Message:

version 2.1.1 - improved permission checks.

Location:
[user-private-files](/browser/user-private-files?rev=3136913)
Files:

68 added
6 edited

* [tags/2.1.1](/browser/user-private-files/tags/2.1.1?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/actions.php](/browser/user-private-files/tags/2.1.1/actions.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/admin](/browser/user-private-files/tags/2.1.1/admin?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/admin/custom-fields.php](/browser/user-private-files/tags/2.1.1/admin/custom-fields.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/admin/customizer-free.php](/browser/user-private-files/tags/2.1.1/admin/customizer-free.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/admin/gdrive\_settings-free.php](/browser/user-private-files/tags/2.1.1/admin/gdrive_settings-free.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/admin/login\_setting-free.php](/browser/user-private-files/tags/2.1.1/admin/login_setting-free.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/admin/settings.php](/browser/user-private-files/tags/2.1.1/admin/settings.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/css](/browser/user-private-files/tags/2.1.1/css?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/css/admin](/browser/user-private-files/tags/2.1.1/css/admin?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/css/admin/admin\_free.css](/browser/user-private-files/tags/2.1.1/css/admin/admin_free.css?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/css/classic-style.css](/browser/user-private-files/tags/2.1.1/css/classic-style.css?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/css/fa.min.css](/browser/user-private-files/tags/2.1.1/css/fa.min.css?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/css/style.css](/browser/user-private-files/tags/2.1.1/css/style.css?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/dl-file.php](/browser/user-private-files/tags/2.1.1/dl-file.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/filters.php](/browser/user-private-files/tags/2.1.1/filters.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images](/browser/user-private-files/tags/2.1.1/images?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/Audio\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/Audio_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/Doc\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/Doc_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/File\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/File_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/PDF\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/PDF_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/Role\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/Role_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/User\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/User_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/Video\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/Video_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/Zip\_thumbnail.png](/browser/user-private-files/tags/2.1.1/images/Zip_thumbnail.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/admin\_images](/browser/user-private-files/tags/2.1.1/images/admin_images?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/admin\_images/free-banner.png](/browser/user-private-files/tags/2.1.1/images/admin_images/free-banner.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/admin\_images/home\_\_pattern1.png](/browser/user-private-files/tags/2.1.1/images/admin_images/home__pattern1.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/document.png](/browser/user-private-files/tags/2.1.1/images/document.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/drag-upload.png](/browser/user-private-files/tags/2.1.1/images/drag-upload.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/folder-150.png](/browser/user-private-files/tags/2.1.1/images/folder-150.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/premade\_folder.png](/browser/user-private-files/tags/2.1.1/images/premade_folder.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/remove.png](/browser/user-private-files/tags/2.1.1/images/remove.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/test\_preloader.gif](/browser/user-private-files/tags/2.1.1/images/test_preloader.gif?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/images/test\_preloader.png](/browser/user-private-files/tags/2.1.1/images/test_preloader.png?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc](/browser/user-private-files/tags/2.1.1/inc?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/class-gamajo-template-loader.php](/browser/user-private-files/tags/2.1.1/inc/class-gamajo-template-loader.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/class-upf-template-loader.php](/browser/user-private-files/tags/2.1.1/inc/class-upf-template-loader.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/classic-post-new.php](/browser/user-private-files/tags/2.1.1/inc/classic-post-new.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/classic-render.php](/browser/user-private-files/tags/2.1.1/inc/classic-render.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/classic-user-functions.php](/browser/user-private-files/tags/2.1.1/inc/classic-user-functions.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/functions-file.php](/browser/user-private-files/tags/2.1.1/inc/functions-file.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/functions-folder.php](/browser/user-private-files/tags/2.1.1/inc/functions-folder.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/inc/shortcodes.php](/browser/user-private-files/tags/2.1.1/inc/shortcodes.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js](/browser/user-private-files/tags/2.1.1/js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/admin](/browser/user-private-files/tags/2.1.1/js/admin?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/admin/admin-upf\_free.js](/browser/user-private-files/tags/2.1.1/js/admin/admin-upf_free.js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/bulk-action.js](/browser/user-private-files/tags/2.1.1/js/bulk-action.js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/classic-main.js](/browser/user-private-files/tags/2.1.1/js/classic-main.js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/file.js](/browser/user-private-files/tags/2.1.1/js/file.js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/folder.js](/browser/user-private-files/tags/2.1.1/js/folder.js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/js/waitforimages.min.js](/browser/user-private-files/tags/2.1.1/js/waitforimages.min.js?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/languages](/browser/user-private-files/tags/2.1.1/languages?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/languages/user-private-files.pot](/browser/user-private-files/tags/2.1.1/languages/user-private-files.pot?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/readme.txt](/browser/user-private-files/tags/2.1.1/readme.txt?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates](/browser/user-private-files/tags/2.1.1/templates?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/file-popups.php](/browser/user-private-files/tags/2.1.1/templates/file-popups.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/file-preview.php](/browser/user-private-files/tags/2.1.1/templates/file-preview.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/files-search.php](/browser/user-private-files/tags/2.1.1/templates/files-search.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/files-shared.php](/browser/user-private-files/tags/2.1.1/templates/files-shared.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/files.php](/browser/user-private-files/tags/2.1.1/templates/files.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/folder-popups.php](/browser/user-private-files/tags/2.1.1/templates/folder-popups.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/post-new.php](/browser/user-private-files/tags/2.1.1/templates/post-new.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/render.php](/browser/user-private-files/tags/2.1.1/templates/render.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/right-sidebar.php](/browser/user-private-files/tags/2.1.1/templates/right-sidebar.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/templates/share-folder.php](/browser/user-private-files/tags/2.1.1/templates/share-folder.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/upvf\_actdeact.php](/browser/user-private-files/tags/2.1.1/upvf_actdeact.php?rev=3136913 "Show entry in browser")
  (added)
* [tags/2.1.1/user-private-files.php](/browser/user-private-files/tags/2.1.1/user-private-files.php?rev=3136913 "Show entry in browser")
  (added)
* [trunk/inc/classic-user-functions.php](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=3136913 "Show entry in browser")
  (modified)
  ([4 diffs](#file68 "Show differences"))
* [trunk/inc/functions-file.php](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913 "Show entry in browser")
  (modified)
  ([15 diffs](#file69 "Show differences"))
* [trunk/inc/functions-folder.php](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913 "Show entry in browser")
  (modified)
  ([8 diffs](#file70 "Show differences"))
* [trunk/languages/user-private-files.pot](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913 "Show entry in browser")
  (modified)
  ([23 diffs](#file71 "Show differences"))
* [trunk/readme.txt](/browser/user-private-files/trunk/readme.txt?rev=3136913 "Show entry in browser")
  (modified)
  ([3 diffs](#file72 "Show differences"))
* [trunk/user-private-files.php](/browser/user-private-files/trunk/user-private-files.php?rev=3136913 "Show entry in browser")
  (modified)
  ([1 diff](#file73 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [user-private-files/trunk/inc/classic-user-functions.php](/changeset/3136913/user-private-files/trunk/inc/classic-user-functions.php "Show the changeset 3136913 restricted to user-private-files/trunk/inc/classic-user-functions.php")

  | [r2961909](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=2961909#L114 "Show revision 2961909 of this file in browser") | [r3136913](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=3136913#L114 "Show revision 3136913 of this file in browser") |  |
  | --- | --- | --- |
  | 114 | 114 | $docid = str\_replace('doc\_', '', $docid); |
  | 115 | 115 | $req\_user = get\_user\_by( 'email', $usr\_email ); |
  | 116 |  |  |
  | 117 |  | if($req\_user){ |
  | 118 |  | $req\_user\_id = $req\_user->ID; |
  | 119 |  | // convert the ID to string for better search operation |
  | 120 |  | $req\_user\_id = strval($req\_user\_id); |
  | 121 |  |  |
  | 122 |  | $new\_users = array(); |
  | 123 |  | $curr\_allowed\_users = get\_post\_meta($docid, 'upf\_allowed', true); |
  | 124 |  | if($curr\_allowed\_users){ |
  | 125 |  | if (!in\_array($req\_user\_id, $curr\_allowed\_users)){ |
  | 126 |  | array\_push($curr\_allowed\_users, $req\_user\_id); |
  | 127 |  | } |
  | 128 |  | $new\_users = $curr\_allowed\_users; |
  | 129 |  | } else{ |
  | 130 |  | $new\_users[] = $req\_user\_id; |
  | 131 |  | } |
  | 132 |  |  |
  | 133 |  | $allowed\_users\_updated = update\_post\_meta($docid, 'upf\_allowed', $new\_users); |
  | 134 |  |  |
  | 135 |  | if(!$allowed\_users\_updated){ |
  | 136 |  | $res\_array['error'] = \_\_("error - Unable to add users to this document", "user-private-files"); |
  | 137 |  | } |
  | 138 |  | $res\_array['added\_user\_email'] = $usr\_email; |
  | 139 |  | $res\_array['added\_user\_id'] = $req\_user\_id; |
  | 140 |  | echo json\_encode($res\_array); |
  | 141 |  | exit; |
  | 142 |  | } |
  |  | 116 |  |
  |  | 117 | if(upvf\_check\_file\_full\_access($docid)){ // checking permission |
  |  | 118 |  |
  |  | 119 | if($req\_user){ |
  |  | 120 | $req\_user\_id = $req\_user->ID; |
  |  | 121 | // convert the ID to string for better search operation |
  |  | 122 | $req\_user\_id = strval($req\_user\_id); |
  |  | 123 |  |
  |  | 124 | $new\_users = array(); |
  |  | 125 | $curr\_allowed\_users = get\_post\_meta($docid, 'upf\_allowed', true); |
  |  | 126 | if($curr\_allowed\_users){ |
  |  | 127 | if (!in\_array($req\_user\_id, $curr\_allowed\_users)){ |
  |  | 128 | array\_push($curr\_allowed\_users, $req\_user\_id); |
  |  | 129 | } |
  |  | 130 | $new\_users = $curr\_allowed\_users; |
  |  | 131 | } else{ |
  |  | 132 | $new\_users[] = $req\_user\_id; |
  |  | 133 | } |
  |  | 134 |  |
  |  | 135 | $allowed\_users\_updated = update\_post\_meta($docid, 'upf\_allowed', $new\_users); |
  |  | 136 |  |
  |  | 137 | if(!$allowed\_users\_updated){ |
  |  | 138 | $res\_array['error'] = \_\_("error - Unable to add users to this document", "user-private-files"); |
  |  | 139 | } |
  |  | 140 | $res\_array['added\_user\_email'] = $usr\_email; |
  |  | 141 | $res\_array['added\_user\_id'] = $req\_user\_id; |
  |  | 142 |  |
  |  | 143 | } |
  |  | 144 |  |
  |  | 145 | } else { |
  |  | 146 | $res\_array['error'] = \_\_("You don't have permission to perform this action", "user-private-files"); |
  |  | 147 | } |
  |  | 148 | echo json\_encode($res\_array); |
  |  | 149 | exit; |
  | 143 | 150 | } |
  | 144 | 151 | } |
  | […](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=2961909#L157) | […](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=3136913#L164) |  |
  | 157 | 164 | $doc\_id = str\_replace('doc\_', '', $doc\_id); |
  | 158 | 165 | $user\_id = sanitize\_text\_field( $\_POST['user'] ); |
  | 159 |  |  |
  | 160 |  | $curr\_allowed\_users = get\_post\_meta($doc\_id, 'upf\_allowed', true); |
  | 161 |  | if($curr\_allowed\_users){ |
  | 162 |  | if (($key = array\_search($user\_id, $curr\_allowed\_users)) !== false) { |
  | 163 |  | unset($curr\_allowed\_users[$key]); |
  | 164 |  | } |
  | 165 |  | } |
  | 166 |  | $allowed\_users\_updated = update\_post\_meta($doc\_id, 'upf\_allowed', $curr\_allowed\_users); |
  | 167 |  | if(!$allowed\_users\_updated){ |
  | 168 |  | $res\_array['error'] = \_\_("error - Unable to remove the user from this document. Please try again later or contact us.", "user-private-files"); |
  | 169 |  | } |
  | 170 |  | $res\_array['rmvd\_usr'] = $user\_id; |
  | 171 |  | $user\_obj = get\_userdata( $user\_id ); |
  | 172 |  | $res\_array['rmvd\_usr\_email'] = $user\_obj->user\_email; |
  |  | 166 |  |
  |  | 167 | if(upvf\_check\_file\_full\_access($doc\_id)){ // checking permission |
  |  | 168 |  |
  |  | 169 | $curr\_allowed\_users = get\_post\_meta($doc\_id, 'upf\_allowed', true); |
  |  | 170 | if($curr\_allowed\_users){ |
  |  | 171 | if (($key = array\_search($user\_id, $curr\_allowed\_users)) !== false) { |
  |  | 172 | unset($curr\_allowed\_users[$key]); |
  |  | 173 | } |
  |  | 174 | } |
  |  | 175 | $allowed\_users\_updated = update\_post\_meta($doc\_id, 'upf\_allowed', $curr\_allowed\_users); |
  |  | 176 | if(!$allowed\_users\_updated){ |
  |  | 177 | $res\_array['error'] = \_\_("error - Unable to remove the user from this document. Please try again later or contact us.", "user-private-files"); |
  |  | 178 | } |
  |  | 179 | $res\_array['rmvd\_usr'] = $user\_id; |
  |  | 180 | $user\_obj = get\_userdata( $user\_id ); |
  |  | 181 | $res\_array['rmvd\_usr\_email'] = $user\_obj->user\_email; |
  |  | 182 |  |
  |  | 183 | } else { |
  |  | 184 | $res\_array['error'] = \_\_("You don't have permission to perform this action", "user-private-files"); |
  |  | 185 | } |
  | 173 | 186 |  |
  | 174 | 187 | echo json\_encode($res\_array); |
  | […](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=2961909#L189) | […](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=3136913#L202) |  |
  | 189 | 202 | $doc\_id = sanitize\_text\_field( $\_POST['doc\_id'] ); |
  | 190 | 203 | $doc\_id = str\_replace('doc\_', '', $doc\_id); |
  | 191 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 192 |  | $doc\_author = get\_post\_field ('post\_author', $doc\_id); |
  | 193 |  | if($curr\_user\_id == $doc\_author){ |
  |  | 204 |  |
  |  | 205 | if(upvf\_check\_file\_full\_access($doc\_id)){ // checking permission |
  | 194 | 206 | $file\_deleted = wp\_delete\_post($doc\_id); |
  | 195 | 207 | if(!$file\_deleted){ |
  | […](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=2961909#L197) | […](/browser/user-private-files/trunk/inc/classic-user-functions.php?rev=3136913#L209) |  |
  | 197 | 209 | } |
  | 198 | 210 | $res\_array['rmvd\_file'] = true; |
  |  | 211 | } else { |
  |  | 212 | $res\_array['error'] = \_\_("You don't have permission to perform this action", "user-private-files"); |
  | 199 | 213 | } |
  | 200 | 214 | echo json\_encode($res\_array); |
* ## [user-private-files/trunk/inc/functions-file.php](/changeset/3136913/user-private-files/trunk/inc/functions-file.php "Show the changeset 3136913 restricted to user-private-files/trunk/inc/functions-file.php")

  | [r2970078](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L7 "Show revision 2970078 of this file in browser") | [r3136913](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L7 "Show revision 3136913 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | if ( ! defined('ABSPATH') ) { |
  | 8 | 8 | exit; |
  |  | 9 | } |
  |  | 10 |  |
  |  | 11 | if (!function\_exists('upvf\_check\_file\_access')) { |
  |  | 12 | function upvf\_check\_file\_access($doc\_id) { |
  |  | 13 |  |
  |  | 14 | $curr\_user\_id = get\_current\_user\_id(); |
  |  | 15 | $curr\_allowed\_users = get\_post\_meta($doc\_id, 'upf\_allowed', true); |
  |  | 16 | $doc\_author = get\_post\_field('post\_author', $doc\_id); |
  |  | 17 |  |
  |  | 18 | return $curr\_user\_id == $doc\_author || (is\_array($curr\_allowed\_users) && in\_array($curr\_user\_id, $curr\_allowed\_users)); |
  |  | 19 | } |
  |  | 20 | } |
  |  | 21 |  |
  |  | 22 | if (!function\_exists('upvf\_check\_file\_full\_access')) { |
  |  | 23 | function upvf\_check\_file\_full\_access($doc\_id) { |
  |  | 24 |  |
  |  | 25 | $curr\_user\_id = get\_current\_user\_id(); |
  |  | 26 | $curr\_file\_acs\_users = get\_post\_meta($doc\_id, 'upf\_acs\_full', true); |
  |  | 27 | $doc\_author = get\_post\_field('post\_author', $doc\_id); |
  |  | 28 |  |
  |  | 29 | return $curr\_user\_id == $doc\_author || (is\_array($curr\_file\_acs\_users) && in\_array($curr\_user\_id, $curr\_file\_acs\_users)); |
  |  | 30 | } |
  | 9 | 31 | } |
  | 10 | 32 |  |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L114) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L136) |  |
  | 114 | 136 | $doc\_author = get\_post\_field('post\_author', $doc\_id); |
  | 115 | 137 |  |
  | 116 |  | if (~~$curr\_user\_id == $doc\_author || (is\_array($curr\_allowed\_users) && in\_array($curr\_user\_id, $curr\_allowed\_users)~~)){ |
  |  | 138 | if (upvf\_check\_file\_access($doc\_id)){ |
  | 117 | 139 | $res\_array['doc\_ttl'] = get\_the\_title($doc\_id); |
  | 118 | 140 | $res\_array['doc\_src'] = wp\_get\_attachment\_url($doc\_id); |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L171) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L193) |  |
  | 171 | 193 | if($alwd\_usr\_obj){ |
  | 172 | 194 |  |
  | 173 |  | if (in\_array($alwd\_usr, $curr\_file\_acs\_users)){ |
  |  | 195 | if (is\_array($curr\_file\_acs\_users) && in\_array($alwd\_usr, $curr\_file\_acs\_users)){ |
  | 174 | 196 | if( get\_post\_field ('post\_author', $doc\_id) == $alwd\_usr ){ |
  | 175 | 197 | $acs\_lvl = \_\_('Author', 'user-private-files'); |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L192) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L214) |  |
  | 192 | 214 | if($curr\_file\_acs\_users){ |
  | 193 | 215 | $req\_user\_id = get\_current\_user\_id(); |
  | 194 |  | if (in\_array($req\_user\_id, $curr\_file\_acs\_users)){ |
  |  | 216 | if (is\_array($curr\_file\_acs\_users) && in\_array($req\_user\_id, $curr\_file\_acs\_users)){ |
  | 195 | 217 | $res\_array['full\_access'] = 1; |
  | 196 | 218 | // Load allowed users |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L202) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L224) |  |
  | 202 | 224 | $alwd\_usr\_obj = get\_userdata( $alwd\_usr ); |
  | 203 | 225 | if($alwd\_usr\_obj){ |
  | 204 |  | if (in\_array($alwd\_usr, $curr\_file\_acs\_users)){ |
  |  | 226 | if (is\_array($curr\_file\_acs\_users) && in\_array($alwd\_usr, $curr\_file\_acs\_users)){ |
  | 205 | 227 | if( get\_post\_field ('post\_author', $doc\_id) == $alwd\_usr ){ |
  | 206 | 228 | $acs\_lvl = \_\_('Author', 'user-private-files'); |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L275) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L297) |  |
  | 275 | 297 | $doc\_author = get\_post\_field ('post\_author', $docid); |
  | 276 | 298 | $curr\_acs\_users = get\_post\_meta($docid, 'upf\_acs\_full', true); |
  | 277 |  | if(~~$curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users~~)){ // checking permission |
  |  | 299 | if(upvf\_check\_file\_full\_access($docid)){ // checking permission |
  | 278 | 300 |  |
  | 279 | 301 | if($req\_user){ |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L364) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L386) |  |
  | 364 | 386 | if($alwd\_usr\_obj){ |
  | 365 | 387 | $is\_author = 0; |
  | 366 |  | if (in\_array($alwd\_usr, $curr\_fldr\_acs\_users)){ |
  |  | 388 | if (is\_array($curr\_fldr\_acs\_users) && in\_array($alwd\_usr, $curr\_fldr\_acs\_users)){ |
  | 367 | 389 | if( get\_post\_field ('post\_author', $docid) == $alwd\_usr ){ |
  | 368 | 390 | $acs\_lvl = \_\_('Author', 'user-private-files'); |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L428) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L450) |  |
  | 428 | 450 | $doc\_author = get\_post\_field ('post\_author', $docid); |
  | 429 | 451 | $curr\_acs\_users = get\_post\_meta($docid, 'upf\_acs\_full', true); |
  | 430 |  | if(~~$curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users~~)){ // checking permission |
  |  | 452 | if(upvf\_check\_file\_full\_access($docid)){ // checking permission |
  | 431 | 453 |  |
  | 432 | 454 | if($usr\_type == 'role'){ |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L545) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L567) |  |
  | 545 | 567 | if($alwd\_usr\_obj){ |
  | 546 | 568 | $is\_author = 0; |
  | 547 |  | if (in\_array($alwd\_usr, $curr\_fldr\_acs\_users)){ |
  |  | 569 | if (is\_array($curr\_fldr\_acs\_users) && in\_array($alwd\_usr, $curr\_fldr\_acs\_users)){ |
  | 548 | 570 | if( get\_post\_field ('post\_author', $docid) == $alwd\_usr ){ |
  | 549 | 571 | $acs\_lvl = \_\_('Author', 'user-private-files'); |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L590) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L612) |  |
  | 590 | 612 | $file\_new\_name = sanitize\_text\_field($\_POST['file\_new\_name']); |
  | 591 | 613 |  |
  | 592 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 593 |  | $doc\_author = get\_post\_field ('post\_author', $file\_id); |
  | 594 |  | $curr\_acs\_users = get\_post\_meta($file\_id, 'upf\_acs\_full', true); |
  | 595 |  | if($curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 614 | if(upvf\_check\_file\_full\_access($file\_id)){ // checking permission |
  | 596 | 615 | if($file\_id != 0){ |
  | 597 | 616 | $file\_args = array( |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L627) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L646) |  |
  | 627 | 646 | $file\_new\_dsc = sanitize\_text\_field($\_POST['file\_new\_dsc']); |
  | 628 | 647 |  |
  | 629 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 630 |  | $doc\_author = get\_post\_field ('post\_author', $file\_id); |
  | 631 |  | $curr\_acs\_users = get\_post\_meta($file\_id, 'upf\_acs\_full', true); |
  | 632 |  | if($curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 648 | if(upvf\_check\_file\_full\_access($file\_id)){ // checking permission |
  | 633 | 649 | if($file\_id != 0){ |
  | 634 | 650 | $file\_args = array( |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L662) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L678) |  |
  | 662 | 678 | $user\_id = sanitize\_text\_field( $\_POST['user'] ); |
  | 663 | 679 |  |
  | 664 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 665 |  | $doc\_author = get\_post\_field ('post\_author', $doc\_id); |
  | 666 |  | $curr\_acs\_users = get\_post\_meta($doc\_id, 'upf\_acs\_full', true); |
  | 667 |  | if($curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 680 | if(upvf\_check\_file\_full\_access($doc\_id)){ // checking permission |
  | 668 | 681 | $curr\_allowed\_users = get\_post\_meta($doc\_id, 'upf\_allowed', true); |
  | 669 | 682 | if($curr\_allowed\_users){ |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L702) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L715) |  |
  | 702 | 715 | $dlt\_type = sanitize\_text\_field( $\_POST['dlt\_type'] ); |
  | 703 | 716 |  |
  | 704 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 705 |  | $doc\_author = get\_post\_field ('post\_author', $doc\_id); |
  | 706 |  | $curr\_acs\_users = get\_post\_meta($doc\_id, 'upf\_acs\_full', true); |
  | 707 |  | if($curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 717 | if(upvf\_check\_file\_full\_access($doc\_id)){ // checking permission |
  | 708 | 718 | if($dlt\_type == 'permanent'){ |
  | 709 | 719 | $file\_removed = wp\_delete\_post($doc\_id); |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L737) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L747) |  |
  | 737 | 747 | } |
  | 738 | 748 | $doc\_id = sanitize\_text\_field( $\_POST['doc\_id'] ); |
  | 739 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 740 |  | $doc\_author = get\_post\_field ('post\_author', $doc\_id); |
  | 741 |  | $curr\_acs\_users = get\_post\_meta($doc\_id, 'upf\_acs\_full', true); |
  | 742 |  | if($curr\_user\_id == $doc\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 749 |  |
  |  | 750 | if(upvf\_check\_file\_full\_access($doc\_id)){ // checking permission |
  | 743 | 751 | $file\_untrashed = wp\_untrash\_post($doc\_id); |
  | 744 | 752 | if(!$file\_untrashed){ |
  | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=2970078#L860) | […](/browser/user-private-files/trunk/inc/functions-file.php?rev=3136913#L868) |  |
  | 860 | 868 | // checking permission |
  | 861 | 869 | $curr\_user\_id = get\_current\_user\_id(); |
  | 862 |  | $doc\_author = get\_post\_field ('post\_author', $file\_id); |
  | 863 |  |  |
  | 864 |  | $shared\_with = false; |
  | 865 |  | $curr\_allowed\_users = get\_post\_meta($file\_id, 'upf\_allowed', true); |
  | 866 |  | if($curr\_allowed\_users){ |
  | 867 |  | if (in\_array($curr\_user\_id, $curr\_allowed\_users)){ |
  | 868 |  | $shared\_with = true; |
  | 869 |  | } |
  | 870 |  | } |
  | 871 |  |  |
  | 872 |  | if($curr\_user\_id == $doc\_author || $shared\_with){ |
  |  | 870 |  |
  |  | 871 | if(upvf\_check\_file\_access($file\_id)){ |
  | 873 | 872 | if($file\_id != 0){ |
  | 874 | 873 | $cmnt\_args = array( |
* ## [user-private-files/trunk/inc/functions-folder.php](/changeset/3136913/user-private-files/trunk/inc/functions-folder.php "Show the changeset 3136913 restricted to user-private-files/trunk/inc/functions-folder.php")

  | [r2970078](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L3 "Show revision 2970078 of this file in browser") | [r3136913](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L3 "Show revision 3136913 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | if ( ! defined('ABSPATH') ) { |
  | 4 | 4 | exit; |
  |  | 5 | } |
  |  | 6 |  |
  |  | 7 | if (!function\_exists('upvf\_check\_fldr\_access')) { |
  |  | 8 | function upvf\_check\_fldr\_access($fldr\_id) { |
  |  | 9 |  |
  |  | 10 | $curr\_user\_id = get\_current\_user\_id(); |
  |  | 11 | $curr\_allowed\_users = get\_post\_meta($fldr\_id, 'upf\_allowed', true); |
  |  | 12 | $doc\_author = get\_post\_field('post\_author', $fldr\_id); |
  |  | 13 |  |
  |  | 14 | return $curr\_user\_id == $doc\_author || (is\_array($curr\_allowed\_users) && in\_array($curr\_user\_id, $curr\_allowed\_users)); |
  |  | 15 | } |
  |  | 16 | } |
  |  | 17 |  |
  |  | 18 | if (!function\_exists('upvf\_check\_fldr\_full\_access')) { |
  |  | 19 | function upvf\_check\_fldr\_full\_access($fldr\_id) { |
  |  | 20 |  |
  |  | 21 | $curr\_user\_id = get\_current\_user\_id(); |
  |  | 22 | $curr\_file\_acs\_users = get\_post\_meta($fldr\_id, 'upf\_acs\_full', true); |
  |  | 23 | $doc\_author = get\_post\_field('post\_author', $fldr\_id); |
  |  | 24 |  |
  |  | 25 | return $curr\_user\_id == $doc\_author || (is\_array($curr\_file\_acs\_users) && in\_array($curr\_user\_id, $curr\_file\_acs\_users)); |
  |  | 26 | } |
  | 5 | 27 | } |
  | 6 | 28 |  |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L278) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L300) |  |
  | 278 | 300 |  |
  | 279 | 301 | $curr\_user\_id = get\_current\_user\_id(); |
  |  | 302 | $curr\_allowed\_users = get\_post\_meta($fldr\_id, 'upf\_allowed', true); |
  |  | 303 | $curr\_fldr\_acs\_users = get\_post\_meta($fldr\_id, 'upf\_acs\_full', true); |
  |  | 304 | $fldr\_author = get\_post\_field('post\_author', $fldr\_id); |
  | 280 | 305 |  |
  | 281 | 306 | $allwd = false; |
  | 282 |  |  |
  | 283 | 307 | if($fldr\_id == 'all-shared-files' || $fldr\_id == 'trash-files' || $fldr\_id == 'all-files' || $fldr\_id == 'filter-shared') { |
  | 284 | 308 | $allwd = true; |
  | 285 | 309 | } else { |
  | 286 |  | $curr\_allowed\_users = get\_post\_meta($fldr\_id, 'upf\_allowed', true); |
  | 287 |  | $curr\_fldr\_acs\_users = get\_post\_meta($fldr\_id, 'upf\_acs\_full', true); |
  | 288 |  | $fldr\_author = get\_post\_field('post\_author', $fldr\_id); |
  | 289 |  |  |
  | 290 |  | if($curr\_user\_id == $fldr\_author || (is\_array($curr\_allowed\_users) && in\_array($curr\_user\_id, $curr\_allowed\_users))) { |
  | 291 |  | $allwd = true; |
  | 292 |  | } |
  |  | 310 | $allwd = upvf\_check\_fldr\_access($fldr\_id); |
  | 293 | 311 | } |
  | 294 | 312 |  |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L522) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L540) |  |
  | 522 | 540 | $folder\_new\_name = sanitize\_text\_field($\_POST['folder\_new\_name']); |
  | 523 | 541 |  |
  | 524 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 525 |  | $folder\_author = get\_post\_field ('post\_author', $folder\_id); |
  | 526 |  | $curr\_acs\_users = get\_post\_meta($folder\_id, 'upf\_acs\_full', true); |
  | 527 |  | if($curr\_user\_id == $folder\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 542 | if(upvf\_check\_fldr\_full\_access($folder\_id)){ // checking permission |
  | 528 | 543 |  |
  | 529 | 544 | if($folder\_id != 0){ |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L630) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L645) |  |
  | 630 | 645 | $curr\_acs\_users = get\_post\_meta($fldr\_id, 'upf\_acs\_full', true); |
  | 631 | 646 |  |
  | 632 |  | if(~~$curr\_user\_id == $folder\_author || in\_array($curr\_user\_id, $curr\_acs\_users~~)){ // checking permission |
  |  | 647 | if(upvf\_check\_fldr\_full\_access($fldr\_id)){ // checking permission |
  | 633 | 648 |  |
  | 634 | 649 | if($req\_user){ |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L796) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L811) |  |
  | 796 | 811 | $curr\_acs\_users = get\_post\_meta($fldr\_id, 'upf\_acs\_full', true); |
  | 797 | 812 |  |
  | 798 |  | if(~~$curr\_user\_id == $folder\_author || in\_array($curr\_user\_id, $curr\_acs\_users~~)){ // checking permission |
  |  | 813 | if(upvf\_check\_fldr\_full\_access($fldr\_id)){ // checking permission |
  | 799 | 814 |  |
  | 800 | 815 | if($usr\_type == 'role'){ |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L966) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L981) |  |
  | 966 | 981 |  |
  | 967 | 982 | $curr\_acs\_users = get\_post\_meta($fldr\_id, 'upf\_acs\_full', true); |
  | 968 |  | if(~~$curr\_user\_id == $folder\_author || in\_array($curr\_user\_id, $curr\_acs\_users~~)){ // checking permission |
  |  | 983 | if(upvf\_check\_fldr\_full\_access($fldr\_id)){ // checking permission |
  | 969 | 984 |  |
  | 970 | 985 | // remove access from all sub-folders & files |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L1013) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L1028) |  |
  | 1013 | 1028 | $dlt\_type = sanitize\_text\_field($\_POST['dlt\_type']); |
  | 1014 | 1029 |  |
  | 1015 |  | $curr\_user\_id = get\_current\_user\_id(); |
  | 1016 |  | $folder\_author = get\_post\_field ('post\_author', $folder\_id); |
  | 1017 |  | $curr\_acs\_users = get\_post\_meta($folder\_id, 'upf\_acs\_full', true); |
  | 1018 |  | if($curr\_user\_id == $folder\_author || in\_array($curr\_user\_id, $curr\_acs\_users)){ // checking permission |
  |  | 1030 | if(upvf\_check\_fldr\_full\_access($folder\_id)){ // checking permission |
  | 1019 | 1031 |  |
  | 1020 | 1032 | if($folder\_id != 0){ |
  | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=2970078#L1071) | […](/browser/user-private-files/trunk/inc/functions-folder.php?rev=3136913#L1083) |  |
  | 1071 | 1083 | $folder\_author = get\_post\_field ('post\_author', $folder\_id); |
  | 1072 | 1084 | $curr\_acs\_users = get\_post\_meta($folder\_id, 'upf\_acs\_full', true); |
  | 1073 |  | if(~~$curr\_user\_id == $folder\_author || in\_array($curr\_user\_id, $curr\_acs\_users~~)){ // checking permission |
  |  | 1085 | if(upvf\_check\_fldr\_full\_access($folder\_id)){ // checking permission |
  | 1074 | 1086 |  |
  | 1075 | 1087 | if($folder\_id != 0){ |
* ## [user-private-files/trunk/languages/user-private-files.pot](/changeset/3136913/user-private-files/trunk/languages/user-private-files.pot "Show the changeset 3136913 restricted to user-private-files/trunk/languages/user-private-files.pot")

  | [r2903326](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L4 "Show revision 2903326 of this file in browser") | [r3136913](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L4 "Show revision 3136913 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | "Project-Id-Version: User Private Files\n" |
  | 5 | 5 | "Report-Msgid-Bugs-To: \n" |
  | 6 |  | "POT-Creation-Date: 202~~2-10-05 11:14~~+0000\n" |
  |  | 6 | "POT-Creation-Date: 2024-08-17 06:17+0000\n" |
  | 7 | 7 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 8 | 8 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L17) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L17) |  |
  | 17 | 17 | "X-Domain: user-private-files" |
  | 18 | 18 |  |
  |  | 19 | #: inc/functions-file.php:362 inc/functions-file.php:537 |
  |  | 20 | #: inc/functions-folder.php:718 inc/functions-folder.php:905 |
  |  | 21 | msgid ". Login and check your files." |
  |  | 22 | msgstr "" |
  |  | 23 |  |
  | 19 | 24 | #: templates/right-sidebar.php:49 |
  | 20 | 25 | msgid "Add" |
  | 21 | 26 | msgstr "" |
  | 22 | 27 |  |
  | 23 |  | #: inc/functions-file.php:7~~10 inc/functions-folder.php:50~~ |
  | 24 |  | #: inc/functions-folder.php:~~65~~ templates/render.php:61 templates/render.php:80 |
  |  | 28 | #: inc/functions-file.php:792 inc/functions-folder.php:73 |
  |  | 29 | #: inc/functions-folder.php:88 templates/render.php:61 templates/render.php:80 |
  | 25 | 30 | msgid "All Files" |
  | 26 | 31 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L38) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L43) |  |
  | 38 | 43 | msgstr "" |
  | 39 | 44 |  |
  | 40 |  | #: inc/functions-file.php:8~~18~~ |
  |  | 45 | #: inc/functions-file.php:891 |
  | 41 | 46 | msgid "An error occured while submitting your comment. Please contact us." |
  | 42 | 47 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L46) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L51) |  |
  | 46 | 51 | msgstr "" |
  | 47 | 52 |  |
  | 48 |  | #: inc/functions-file.php:1~~72 inc/functions-file.php:203~~ |
  | 49 |  | #: inc/functions-file.php:3~~27 inc/functions-file.php:468~~ |
  | 50 |  | #: inc/functions-folder.php:3~~04 inc/functions-folder.php:349~~ |
  | 51 |  | #: inc/functions-folder.php:~~664 inc/functions-folder.php:819~~ |
  |  | 53 | #: inc/functions-file.php:197 inc/functions-file.php:228 |
  |  | 54 | #: inc/functions-file.php:390 inc/functions-file.php:571 |
  |  | 55 | #: inc/functions-folder.php:350 inc/functions-folder.php:394 |
  |  | 56 | #: inc/functions-folder.php:746 inc/functions-folder.php:938 |
  | 52 | 57 | msgid "Author" |
  | 53 | 58 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L57) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L62) |  |
  | 57 | 62 | msgstr "" |
  | 58 | 63 |  |
  | 59 |  | #: inc/classic-post-new.php:~~26~~ |
  |  | 64 | #: inc/classic-post-new.php:34 |
  | 60 | 65 | msgid "Choose file" |
  | 61 | 66 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L69) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L74) |  |
  | 69 | 74 | msgstr "" |
  | 70 | 75 |  |
  | 71 |  | #: inc/functions-file.php:~~576 inc/functions-file.php:615~~ |
  | 72 |  | #: inc/functions-file.php:~~657 inc/functions-file.php:691~~ |
  | 73 |  | #: inc/functions-folder.php:~~854~~ |
  |  | 76 | #: inc/functions-file.php:673 inc/functions-file.php:709 |
  |  | 77 | #: inc/functions-file.php:745 inc/functions-file.php:773 |
  |  | 78 | #: inc/functions-folder.php:973 |
  | 74 | 79 | msgid "Could not verify POST values" |
  | 75 | 80 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L87) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L92) |  |
  | 87 | 92 | msgstr "" |
  | 88 | 93 |  |
  | 89 |  | #: inc/functions-folder.php:~~47~~ templates/render.php:57 |
  |  | 94 | #: inc/functions-folder.php:70 templates/render.php:57 |
  | 90 | 95 | msgid "Dashboard" |
  | 91 | 96 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L120) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L125) |  |
  | 120 | 125 | msgstr "" |
  | 121 | 126 |  |
  | 122 |  | #: inc/classic-post-new.php:~~23~~ |
  |  | 127 | #: inc/classic-post-new.php:31 |
  | 123 | 128 | msgid "Drag and drop a file you want to upload" |
  | 124 | 129 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L141) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L146) |  |
  | 141 | 146 | msgstr "" |
  | 142 | 147 |  |
  | 143 |  | #: inc/functions-file.php:~~503 inc/functions-file.php:5~~40 |
  | 144 |  | #: inc/functions-file.php:~~740 inc/functions-file.php:777~~ |
  | 145 |  | #: inc/functions-folder.php:2~~59 inc/functions-folder.php:40~~6 |
  | 146 |  | #: inc/functions-folder.php:~~484 inc/functions-folder.php:903~~ |
  | 147 |  | #: inc/functions-folder.php:~~962 inc/functions-folder.php:1016~~ |
  | 148 |  | #: inc/functions-folder.php:1~~076~~ |
  |  | 148 | #: inc/functions-file.php:606 inc/functions-file.php:640 |
  |  | 149 | #: inc/functions-file.php:822 inc/functions-file.php:859 |
  |  | 150 | #: inc/functions-folder.php:293 inc/functions-folder.php:456 |
  |  | 151 | #: inc/functions-folder.php:534 inc/functions-folder.php:1022 |
  |  | 152 | #: inc/functions-folder.php:1075 inc/functions-folder.php:1129 |
  |  | 153 | #: inc/functions-folder.php:1189 |
  | 149 | 154 | msgid "Error - Could not verify POST values" |
  | 150 | 155 | msgstr "" |
  | 151 | 156 |  |
  | 152 |  | #: ~~inc/functions-file.php:19 inc/functions-file.php:102~~ |
  | 153 |  | #: inc/functions-file.php:2~~40 inc/functions-file.php:364~~ |
  | 154 |  | #: inc/functions-folder.php:5~~22 inc/functions-folder.php:569~~ |
  | 155 |  | #: inc/functions-folder.php:7~~07~~ |
  |  | 157 | #: admin/settings.php:69 inc/functions-file.php:41 inc/functions-file.php:124 |
  |  | 158 | #: inc/functions-file.php:268 inc/functions-file.php:427 |
  |  | 159 | #: inc/functions-folder.php:569 inc/functions-folder.php:616 |
  |  | 160 | #: inc/functions-folder.php:786 |
  | 156 | 161 | msgid "error - Could not verify POST values" |
  | 157 | 162 | msgstr "" |
  | 158 | 163 |  |
  | 159 |  | #: inc/functions-file.php:2~~56 inc/functions-file.php:380~~ |
  | 160 |  | #: inc/functions-folder.php:~~585 inc/functions-folder.php:720~~ |
  |  | 164 | #: inc/functions-file.php:284 inc/functions-file.php:443 |
  |  | 165 | #: inc/functions-folder.php:632 inc/functions-folder.php:799 |
  | 161 | 166 | msgid "error - Empty POST values" |
  | 162 | 167 | msgstr "" |
  | 163 | 168 |  |
  | 164 |  | #: inc/functions-folder.php:390 inc/functions-folder.php:1097 |
  |  | 169 | #: inc/functions-file.php:374 inc/functions-file.php:555 |
  |  | 170 | msgid "" |
  |  | 171 | "Error - File is shared but unable to send email to the user. Please contact " |
  |  | 172 | "us." |
  |  | 173 | msgstr "" |
  |  | 174 |  |
  |  | 175 | #: inc/functions-folder.php:440 inc/functions-folder.php:1210 |
  | 165 | 176 | msgid "Error - Folder ID is missing" |
  | 166 | 177 | msgstr "" |
  | 167 | 178 |  |
  | 168 |  | #: inc/functions-folder.php:468 |
  |  | 179 | #: inc/functions-folder.php:730 inc/functions-folder.php:923 |
  |  | 180 | msgid "" |
  |  | 181 | "Error - Folder is shared but unable to send email to the user. Please " |
  |  | 182 | "contact us." |
  |  | 183 | msgstr "" |
  |  | 184 |  |
  |  | 185 | #: inc/functions-folder.php:518 |
  | 169 | 186 | msgid "Error - Folder Name is empty" |
  | 170 | 187 | msgstr "" |
  | 171 | 188 |  |
  | 172 |  | #: inc/classic-user-functions.php:1~~61 inc/functions-file.php:292~~ |
  | 173 |  | #: inc/functions-file.php:4~~30~~ |
  |  | 189 | #: inc/classic-user-functions.php:138 inc/functions-file.php:320 |
  |  | 190 | #: inc/functions-file.php:493 |
  | 174 | 191 | msgid "error - Unable to add users to this document" |
  | 175 | 192 | msgstr "" |
  | 176 | 193 |  |
  | 177 |  | #: inc/functions-folder.php:6~~29 inc/functions-folder.php:782~~ |
  |  | 194 | #: inc/functions-folder.php:676 inc/functions-folder.php:861 |
  | 178 | 195 | msgid "error - Unable to add users to this folder" |
  | 179 | 196 | msgstr "" |
  | 180 | 197 |  |
  | 181 |  | #: inc/classic-user-functions.php:1~~93~~ |
  |  | 198 | #: inc/classic-user-functions.php:177 |
  | 182 | 199 | msgid "" |
  | 183 | 200 | "error - Unable to remove the user from this document. Please try again later " |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L185) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L202) |  |
  | 185 | 202 | msgstr "" |
  | 186 | 203 |  |
  | 187 |  | #: inc/functions-file.php:~~595~~ |
  |  | 204 | #: inc/functions-file.php:689 |
  | 188 | 205 | msgid "" |
  | 189 | 206 | "error - Unable to remove the user from this file. Please try again later or " |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L191) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L208) |  |
  | 191 | 208 | msgstr "" |
  | 192 | 209 |  |
  | 193 |  | #: inc/functions-folder.php:~~882~~ |
  |  | 210 | #: inc/functions-folder.php:1001 |
  | 194 | 211 | msgid "" |
  | 195 | 212 | "error - Unable to remove the user from this folder. Please try again later " |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L197) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L214) |  |
  | 197 | 214 | msgstr "" |
  | 198 | 215 |  |
  | 199 |  | #: inc/classic-user-functions.php:2~~21 inc/functions-file.php:637~~ |
  |  | 216 | #: inc/classic-user-functions.php:208 inc/functions-file.php:725 |
  | 200 | 217 | msgid "" |
  | 201 | 218 | "error - Unable to remove this file. Please try again later or contact us." |
  | 202 | 219 | msgstr "" |
  | 203 | 220 |  |
  | 204 |  | #: inc/functions-file.php:~~671~~ |
  |  | 221 | #: inc/functions-file.php:753 |
  | 205 | 222 | msgid "" |
  | 206 | 223 | "error - Unable to restore this file. Please try again later or contact us." |
  | 207 | 224 | msgstr "" |
  | 208 | 225 |  |
  | 209 |  | #: inc/functions-folder.php:4~~2~~4 |
  |  | 226 | #: inc/functions-folder.php:474 |
  | 210 | 227 | msgid "Error creating the folder! Please try later or contact us" |
  | 211 | 228 | msgstr "" |
  | 212 | 229 |  |
  | 213 |  | #: inc/classic-user-functions.php:~~87~~ |
  |  | 230 | #: inc/classic-user-functions.php:61 |
  | 214 | 231 | msgid "" |
  | 215 | 232 | "Error generating the details for your document! Please try later or contact " |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L217) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L234) |  |
  | 217 | 234 | msgstr "" |
  | 218 | 235 |  |
  | 219 |  | #: inc/functions-file.php:~~61~~ |
  |  | 236 | #: inc/functions-file.php:83 |
  | 220 | 237 | msgid "" |
  | 221 | 238 | "Error generating the details for your file! Please try later or contact us" |
  | 222 | 239 | msgstr "" |
  | 223 | 240 |  |
  | 224 |  | #: inc/functions-file.php:~~74~~ |
  |  | 241 | #: inc/functions-file.php:96 |
  | 225 | 242 | msgid "Error uploading the file! Please try later." |
  | 226 | 243 | msgstr "" |
  | 227 | 244 |  |
  | 228 |  | #: inc/classic-user-functions.php:~~99~~ |
  |  | 245 | #: inc/classic-user-functions.php:74 |
  | 229 | 246 | msgid "Error uploading the photo! Please try later." |
  | 230 | 247 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L242) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L259) |  |
  | 242 | 259 | msgstr "" |
  | 243 | 260 |  |
  | 244 |  | #: inc/functions-file.php:~~175 inc/functions-file.php:206~~ |
  | 245 |  | #: inc/functions-file.php:3~~30 inc/functions-file.php:471~~ |
  | 246 |  | #: inc/functions-folder.php:3~~07 inc/functions-folder.php:352~~ |
  | 247 |  | #: inc/functions-folder.php:~~667 inc/functions-folder.php:822~~ |
  |  | 261 | #: inc/functions-file.php:200 inc/functions-file.php:231 |
  |  | 262 | #: inc/functions-file.php:393 inc/functions-file.php:574 |
  |  | 263 | #: inc/functions-folder.php:353 inc/functions-folder.php:397 |
  |  | 264 | #: inc/functions-folder.php:749 inc/functions-folder.php:941 |
  | 248 | 265 | #: templates/file-preview.php:40 templates/file-preview.php:65 |
  | 249 | 266 | #: templates/file-preview.php:75 templates/file-preview.php:90 |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L305) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L322) |  |
  | 305 | 322 | msgstr "" |
  | 306 | 323 |  |
  | 307 |  | #: inc/functions-file.php:~~344 inc/functions-folder.php:685~~ |
  |  | 324 | #: inc/functions-file.php:407 inc/functions-folder.php:764 |
  | 308 | 325 | msgid "No user found with this email address or username." |
  | 309 | 326 | msgstr "" |
  | 310 | 327 |  |
  | 311 |  | #: inc/classic-post-new.php:4~~1~~ |
  |  | 328 | #: inc/classic-post-new.php:49 |
  | 312 | 329 | msgid "Note" |
  | 313 | 330 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L374) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L391) |  |
  | 374 | 391 | msgstr "" |
  | 375 | 392 |  |
  | 376 |  | #: inc/functions-folder.php:~~64~~ templates/render.php:79 templates/render.php:145 |
  |  | 393 | #: inc/functions-folder.php:87 templates/render.php:79 templates/render.php:145 |
  | 377 | 394 | msgid "Shared" |
  | 378 | 395 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L386) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L403) |  |
  | 386 | 403 | msgstr "" |
  | 387 | 404 |  |
  | 388 |  | #: inc/classic-render.php:161 inc/functions-folder.php:~~62~~ |
  |  | 405 | #: inc/classic-render.php:161 inc/functions-folder.php:85 |
  | 389 | 406 | #: templates/render.php:77 |
  | 390 | 407 | msgid "Shared with me" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L395) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L412) |  |
  | 395 | 412 | msgstr "" |
  | 396 | 413 |  |
  | 397 |  | #: inc/functions-file.php:~~82~~ |
  |  | 414 | #: inc/functions-file.php:104 |
  | 398 | 415 | msgid "This file type is not allowed for uploading." |
  | 399 | 416 | msgstr "" |
  | 400 | 417 |  |
  | 401 |  | #: inc/classic-user-functions.php:~~103~~ |
  |  | 418 | #: inc/classic-user-functions.php:78 |
  | 402 | 419 | msgid "This file type is not allowed." |
  | 403 | 420 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L424) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L441) |  |
  | 424 | 441 | msgstr "" |
  | 425 | 442 |  |
  | 426 |  | #: inc/classic-post-new.php:4~~0~~ |
  |  | 443 | #: inc/classic-post-new.php:48 |
  | 427 | 444 | msgid "Title" |
  | 428 | 445 | msgstr "" |
  | 429 | 446 |  |
  | 430 |  | #: inc/functions-folder.php:~~99 inc/functions-folder.php:100~~ |
  |  | 447 | #: inc/functions-folder.php:122 inc/functions-folder.php:123 |
  | 431 | 448 | #: templates/render.php:119 templates/render.php:120 |
  | 432 | 449 | msgid "Trash" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L437) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L454) |  |
  | 437 | 454 | msgstr "" |
  | 438 | 455 |  |
  | 439 |  | #: inc/classic-post-new.php:~~46~~ |
  |  | 456 | #: inc/classic-post-new.php:54 |
  | 440 | 457 | msgid "Upload" |
  | 441 | 458 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L449) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L466) |  |
  | 449 | 466 | msgstr "" |
  | 450 | 467 |  |
  | 451 |  | #: user-private-files.php:1~~74 inc/functions-file.php:78~~ |
  |  | 468 | #: user-private-files.php:196 inc/functions-file.php:100 |
  | 452 | 469 | msgid "Uploaded file exceeds the maximum upload size for this site" |
  | 453 | 470 | msgstr "" |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L462) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L479) |  |
  | 462 | 479 | msgstr "" |
  | 463 | 480 |  |
  | 464 |  | #: inc/functions-file.php:~~178 inc/functions-file.php:209~~ |
  | 465 |  | #: inc/functions-file.php:3~~33 inc/functions-file.php:474~~ |
  | 466 |  | #: inc/functions-folder.php:3~~10 inc/functions-folder.php:355~~ |
  | 467 |  | #: inc/functions-folder.php:~~670 inc/functions-folder.php:825~~ |
  |  | 481 | #: inc/functions-file.php:203 inc/functions-file.php:234 |
  |  | 482 | #: inc/functions-file.php:396 inc/functions-file.php:577 |
  |  | 483 | #: inc/functions-folder.php:356 inc/functions-folder.php:400 |
  |  | 484 | #: inc/functions-folder.php:752 inc/functions-folder.php:944 |
  | 468 | 485 | #: templates/file-preview.php:39 templates/file-preview.php:64 |
  | 469 | 486 | #: templates/file-preview.php:74 templates/file-preview.php:89 |
  | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=2903326#L477) | […](/browser/user-private-files/trunk/languages/user-private-files.pot?rev=3136913#L494) |  |
  | 477 | 494 | msgstr "" |
  | 478 | 495 |  |
  |  | 496 | #: inc/functions-folder.php:432 |
  |  | 497 | msgid "You do not have permission to open this folder." |
  |  | 498 | msgstr "" |
  |  | 499 |  |
  |  | 500 | #: inc/functions-file.php:249 |
  |  | 501 | msgid "You do not have permission to view this file." |
  |  | 502 | msgstr "" |
  |  | 503 |  |
  |  | 504 | #: admin/custom-fields.php:13 admin/customizer-free.php:13 |
  |  | 505 | #: admin/gdrive\_settings-free.php:13 admin/login\_setting-free.php:24 |
  | 479 | 506 | #: admin/settings.php:10 |
  | 480 | 507 | msgid "You do not have sufficient permissions to access this page." |
  | 481 | 508 | msgstr "" |
  | 482 | 509 |  |
  | 483 |  | #: inc/functions-file.php:348 inc/functions-file.php:487 |
  | 484 |  | #: inc/functions-file.php:524 inc/functions-file.php:561 |
  | 485 |  | #: inc/functions-file.php:600 inc/functions-file.php:642 |
  | 486 |  | #: inc/functions-file.php:676 inc/functions-file.php:761 |
  | 487 |  | #: inc/functions-file.php:823 inc/functions-folder.php:507 |
  | 488 |  | #: inc/functions-folder.php:552 inc/functions-folder.php:689 |
  | 489 |  | #: inc/functions-folder.php:837 inc/functions-folder.php:887 |
  | 490 |  | #: inc/functions-folder.php:946 inc/functions-folder.php:1001 |
  |  | 510 | #: inc/classic-user-functions.php:146 inc/classic-user-functions.php:184 |
  |  | 511 | #: inc/classic-user-functions.php:212 inc/functions-file.php:411 |
  |  | 512 | #: inc/functions-file.php:590 inc/functions-file.php:624 |
  |  | 513 | #: inc/functions-file.php:658 inc/functions-file.php:694 |
  |  | 514 | #: inc/functions-file.php:730 inc/functions-file.php:758 |
  |  | 515 | #: inc/functions-file.php:843 inc/functions-file.php:896 |
  |  | 516 | #: inc/functions-folder.php:554 inc/functions-folder.php:599 |
  |  | 517 | #: inc/functions-folder.php:768 inc/functions-folder.php:956 |
  |  | 518 | #: inc/functions-folder.php:1006 inc/functions-folder.php:1059 |
  |  | 519 | #: inc/functions-folder.php:1114 |
  | 491 | 520 | msgid "You don't have permission to perform this action" |
  | 492 | 521 | msgstr "" |
  | 493 | 522 |  |
  | 494 |  | #: inc/classic-post-new.php:~~58 inc/shortcodes.php:40~~ |
  |  | 523 | #: inc/classic-post-new.php:66 inc/shortcodes.php:39 |
  | 495 | 524 | msgid "You must be logged in to upload/manage the files" |
  | 496 | 525 | msgstr "" |
* ## [user-private-files/trunk/readme.txt](/changeset/3136913/user-private-files/trunk/readme.txt "Show the changeset 3136913 restricted to user-private-files/trunk/readme.txt")

  | [r3131423](/browser/user-private-files/trunk/readme.txt?rev=3131423#L4 "Show revision 3131423 of this file in browser") | [r3136913](/browser/user-private-files/trunk/readme.txt?rev=3136913#L4 "Show revision 3136913 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 6.0 |
  | 5 | 5 | Tested up to: 6.6.1 |
  | 6 |  | Stable tag: 2.1.~~0~~ |
  |  | 6 | Stable tag: 2.1.1 |
  | 7 | 7 | Requires PHP: 7.4 |
  | 8 | 8 | License: GPLv2 or later |
  | […](/browser/user-private-files/trunk/readme.txt?rev=3131423#L111) | […](/browser/user-private-files/trunk/readme.txt?rev=3136913#L111) |  |
  | 111 | 111 |  |
  | 112 | 112 | == Changelog == |
  |  | 113 |  |
  |  | 114 | = 2.1.1 = |
  |  | 115 | \* 2024-08-17 |
  |  | 116 | \* [Update] - Improved permission checks for actions in classic shortcodes. |
  | 113 | 117 |  |
  | 114 | 118 | = 2.1.0 = |
  | […](/browser/user-private-files/trunk/readme.txt?rev=3131423#L328) | […](/browser/user-private-files/trunk/readme.txt?rev=3136913#L332) |  |
  | 328 | 332 | \* Display total storage used and size of each file in the backend \*\*(NEW)\*\* |
  | 329 | 333 |  |
  |  | 334 | \* And many more. [See the Full List Here](https://userprivatefiles.com/) |
  |  | 335 |  |
  | 330 | 336 | == Everything you need in a File Sharing Plugin == |
  | 331 | 337 | \*\*Easy to use\*\* |
* ## [user-private-files/trunk/user-private-files.php](/changeset/3136913/user-private-files/trunk/user-private-files.php "Show the changeset 3136913 restricted to user-private-files/trunk/user-private-files.php")

  | [r3131423](/browser/user-private-files/trunk/user-private-files.php?rev=3131423#L3 "Show revision 3131423 of this file in browser") | [r3136913](/browser/user-private-files/trunk/user-private-files.php?rev=3136913#L3 "Show revision 3136913 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Plugin Name: User Private Files |
  | 4 | 4 | \* Description: This plugin allows users to manage their uploaded files and access to them. |
  | 5 |  | \* Version: 2.1.~~0~~ |
  |  | 5 | \* Version: 2.1.1 |
  | 6 | 6 | \* Author: User Private Files |
  | 7 | 7 | \* Author URI: https://userprivatefiles.com/ |
  | 8 |  | \* License: GPL~~+2~~ |
  |  | 8 | \* License: GPLv2 or later |
  | 9 | 9 | \* Text Domain: user-private-files |
  | 10 | 10 | \* Domain Path: /languages |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3136913)
* [Zip Archive](?format=zip&new=3136913)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

