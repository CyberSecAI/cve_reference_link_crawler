=== Content from www.wordfence.com_8c3a0ca4_20250111_002922.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Front End Users <= 3.2.28 - Authenticated (Contributor+) Time-Based SQL Injection

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Front End Users <= 3.2.28 - Authenticated (Contributor+) Time-Based SQL Injection

8.8

**Improper Neutralization of Special Elements used in an SQL Command ('SQL Injection')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2024-7607](https://www.cve.org/CVERecord?id=CVE-2024-7607) |
| --- | --- |
| CVSS | 8.8 (High) |
| Publicly Published | August 28, 2024 |
| Last Updated | August 29, 2024 |
| Researcher | [Peter Thaleikis](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/spek) |

### Description

The Front End Users plugin for WordPress is vulnerable to time-based SQL Injection via the ‘order’ parameter in all versions up to, and including, 3.2.28 due to insufficient escaping on the user supplied parameter and lack of sufficient preparation on the existing SQL query. This makes it possible for authenticated attackers, with Contributor-level access and above, to append additional SQL queries into already existing queries that can be used to extract sensitive information from the database.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/front-end-only-users/trunk/html/UsersPage.php#L42)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/front-end-only-users/trunk/html/UsersPage.php#L60)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/front-end-only-users/trunk/html/UsersPage.php#L63)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/front-end-only-users/trunk/html/UsersPage.php#L76)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3142978/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Ffront-end-only-users%2Ffront-end-users-3228-authenticated-contributor-time-based-sql-injection&t=Front%20End%20Users%20%3C%3D%203.2.28%20-%20Authenticated%20%28Contributor%2B%29%20Time-Based%20SQL%20Injection "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Ffront-end-only-users%2Ffront-end-users-3228-authenticated-contributor-time-based-sql-injection&text=Front%20End%20Users%20%3C%3D%203.2.28%20-%20Authenticated%20%28Contributor%2B%29%20Time-Based%20SQL%20Injection "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Ffront-end-only-users%2Ffront-end-users-3228-authenticated-contributor-time-based-sql-injection "LinkedIn")
Email

## Vulnerability Details for Front End Users

#### [Front End Users](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/front-end-only-users)

| Software Type | Plugin |
| --- | --- |
| Software Slug | front-end-only-users [(view on wordpress.org)](https://wordpress.org/plugins/front-end-only-users) |
| Patched? | Yes |
| Remediation | Update to version 3.2.29, or a newer patched version |
| Affected Version | * <= 3.2.28 |
| Patched Version | * 3.2.29 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_8a841f93_20250111_002921.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3142978)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3142977 "Changeset 3142977")
* [Next Changeset](/changeset/3142979 "Changeset 3142979") →

---

# Changeset 3142978

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/28/2024 02:01:09 PM
([5 months](/timeline?from=2024-08-28T14%3A01%3A09Z&precision=second "See timeline at 08/28/2024 02:01:09 PM") ago)

Author:
Rustaurius
Message:

v3.2.29 released and tagged

Location:
[front-end-only-users](/browser/front-end-only-users?rev=3142978)
Files:

18 edited
1 copied

* [tags/3.2.29](/browser/front-end-only-users/tags/3.2.29?rev=3142978 "Show entry in browser")
  (copied)
  *(copied from [front-end-only-users/trunk](/browser/front-end-only-users/trunk?rev=3119644 "Show original file (revision 3142976)"))*
* [tags/3.2.29/Main.php](/browser/front-end-only-users/tags/3.2.29/Main.php?rev=3142978 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [tags/3.2.29/Shortcodes/Insert\_Edit\_Account.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Account.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/3.2.29/Shortcodes/Insert\_Edit\_Profile.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Profile.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [tags/3.2.29/Shortcodes/Insert\_Reset\_Password.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Reset_Password.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [tags/3.2.29/Shortcodes/Insert\_User\_List.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_List.php?rev=3142978 "Show entry in browser")
  (modified)
  ([3 diffs](#file5 "Show differences"))
* [tags/3.2.29/Shortcodes/Insert\_User\_Profile.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Profile.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [tags/3.2.29/Shortcodes/Insert\_User\_Search.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php?rev=3142978 "Show entry in browser")
  (modified)
  ([5 diffs](#file7 "Show differences"))
* [tags/3.2.29/Shortcodes/Privilege\_Level.php](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Privilege_Level.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [tags/3.2.29/readme.txt](/browser/front-end-only-users/tags/3.2.29/readme.txt?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [trunk/Main.php](/browser/front-end-only-users/trunk/Main.php?rev=3142978 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))
* [trunk/Shortcodes/Insert\_Edit\_Account.php](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Account.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [trunk/Shortcodes/Insert\_Edit\_Profile.php](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Profile.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [trunk/Shortcodes/Insert\_Reset\_Password.php](/browser/front-end-only-users/trunk/Shortcodes/Insert_Reset_Password.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file13 "Show differences"))
* [trunk/Shortcodes/Insert\_User\_List.php](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=3142978 "Show entry in browser")
  (modified)
  ([3 diffs](#file14 "Show differences"))
* [trunk/Shortcodes/Insert\_User\_Profile.php](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Profile.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [trunk/Shortcodes/Insert\_User\_Search.php](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=3142978 "Show entry in browser")
  (modified)
  ([5 diffs](#file16 "Show differences"))
* [trunk/Shortcodes/Privilege\_Level.php](/browser/front-end-only-users/trunk/Shortcodes/Privilege_Level.php?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [trunk/readme.txt](/browser/front-end-only-users/trunk/readme.txt?rev=3142978 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [front-end-only-users/tags/3.2.29/Main.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Main.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Main.php")

  | [r3119644](/browser/front-end-only-users/trunk/Main.php?rev=3119644#L8 "Show revision 3119644 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Main.php?rev=3142978#L8 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | Terms and Conditions: http://www.etoilewebdesign.com/plugin-terms-and-conditions/ |
  | 9 | 9 | Text Domain: front-end-only-users |
  | 10 |  | Version: 3.2.2~~8~~ |
  |  | 10 | Version: 3.2.29 |
  | 11 | 11 | \*/ |
  | 12 | 12 |  |
  | […](/browser/front-end-only-users/trunk/Main.php?rev=3119644#L24) | […](/browser/front-end-only-users/tags/3.2.29/Main.php?rev=3142978#L24) |  |
  | 24 | 24 | $ewd\_feup\_user\_events\_table\_name = $wpdb->prefix ."EWD\_FEUP\_User\_Events"; |
  | 25 | 25 | $ewd\_feup\_payments\_table\_name = $wpdb->prefix . "EWD\_FEUP\_Payments"; |
  | 26 |  | $EWD\_FEUP\_db\_version = "3.2.2~~8~~"; |
  |  | 26 | $EWD\_FEUP\_db\_version = "3.2.29"; |
  | 27 | 27 |  |
  | 28 | 28 | define( 'EWD\_FEUP\_CD\_PLUGIN\_PATH', plugin\_dir\_path( \_\_FILE\_\_ ) ); |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Insert\_Edit\_Account.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Account.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Account.php")

  | [r2348570](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Account.php?rev=2348570#L74 "Show revision 2348570 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Account.php?rev=3142978#L74 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 74 | 74 | if ($CheckCookie['Username'] == "") { |
  | 75 | 75 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 76 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 76 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 77 | 77 | return $ReturnString; |
  | 78 | 78 | } |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Insert\_Edit\_Profile.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Profile.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Profile.php")

  | [r2429858](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Profile.php?rev=2429858#L65 "Show revision 2429858 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Edit_Profile.php?rev=3142978#L65 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 65 | 65 | if ($CheckCookie['Username'] == "") { |
  | 66 | 66 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 67 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 67 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 68 | 68 | return $ReturnString; |
  | 69 | 69 | } |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Insert\_Reset\_Password.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Reset_Password.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Insert_Reset_Password.php")

  | [r1645850](/browser/front-end-only-users/trunk/Shortcodes/Insert_Reset_Password.php?rev=1645850#L40 "Show revision 1645850 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_Reset_Password.php?rev=3142978#L40 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 40 | 40 | if ($CheckCookie['Username'] == "") { |
  | 41 | 41 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 42 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 42 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 43 | 43 | return $ReturnString; |
  | 44 | 44 | } |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Insert\_User\_List.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_List.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_List.php")

  | [r2348570](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=2348570#L69 "Show revision 2348570 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_List.php?rev=3142978#L69 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 69 | 69 | ); |
  | 70 | 70 |  |
  | 71 |  | if ($order\_by == "") {$order\_by = "User\_ID";} |
  | 72 |  | if ($order == "") {$order = "ASC";} |
  |  | 71 | $order\_by\_fields = array( |
  |  | 72 | "User\_ID", |
  |  | 73 | "Username", |
  |  | 74 | "User\_Password", |
  |  | 75 | "Level\_ID", |
  |  | 76 | "User\_Email\_Confirmed", |
  |  | 77 | "User\_Confirmation\_Code", |
  |  | 78 | "User\_Admin\_Approved", |
  |  | 79 | "User\_Date\_Created", |
  |  | 80 | "User\_Last\_Login", |
  |  | 81 | "User\_Total\_Logins", |
  |  | 82 | "User\_Password\_Reset\_Code", |
  |  | 83 | "User\_Password\_Reset\_Date", |
  |  | 84 | "User\_Sessioncheck", |
  |  | 85 | "User\_WP\_ID", |
  |  | 86 | "User\_Membership\_Fees\_Paid", |
  |  | 87 | "User\_Account\_Expiry", |
  |  | 88 | "User\_Registration\_Type", |
  |  | 89 | "User\_Third\_Party\_ID", |
  |  | 90 | ); |
  |  | 91 |  |
  |  | 92 | if ( !in\_array( $order\_by, $order\_by\_fields ) ) { $order\_by = "User\_ID"; } |
  |  | 93 | $order = $order == "DESC" ? "DESC" : "ASC"; |
  | 73 | 94 |  |
  | 74 | 95 | $display\_fields = explode(",", $display\_field); |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=2348570#L80) | […](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_List.php?rev=3142978#L101) |  |
  | 80 | 101 | if (!$UserCookie and $login\_necessary == "Yes") { |
  | 81 | 102 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 82 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 103 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 83 | 104 | return $ReturnString; |
  | 84 | 105 | } |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=2348570#L114) | […](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_List.php?rev=3142978#L135) |  |
  | 114 | 135 | foreach ($UserDataSet as $User\_Data) { |
  | 115 | 136 | $ReturnString .= "<div class='ewd-feup-user-list-result' id='ewd-feup-user-list'>"; |
  | 116 |  | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . ~~$user\_profile\_page . "?User\_ID=" . $User\_Data['User\_ID']~~ . "'>";} |
  |  | 137 | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . esc\_attr( $user\_profile\_page ) . "?User\_ID=" . intval( $User\_Data['User\_ID'] ) . "'>";} |
  | 117 | 138 | foreach ($display\_fields as $display\_field) { |
  | 118 | 139 | $ReturnString .= esc\_html($User\_Data[$display\_field]) . " "; |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Insert\_User\_Profile.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Profile.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Profile.php")

  | [r2437702](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Profile.php?rev=2437702#L48 "Show revision 2437702 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Profile.php?rev=3142978#L48 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 | if ($CheckCookie['Username'] == "" and $login\_necessary == "Yes") { |
  | 49 | 49 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 50 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 50 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 51 | 51 | return $ReturnString; |
  | 52 | 52 | } |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Insert\_User\_Search.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php")

  | [r1993949](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L70 "Show revision 1993949 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php?rev=3142978#L70 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | ); |
  | 71 | 71 |  |
  |  | 72 | $order\_by\_fields = array( |
  |  | 73 | "User\_ID", |
  |  | 74 | "Username", |
  |  | 75 | "User\_Password", |
  |  | 76 | "Level\_ID", |
  |  | 77 | "User\_Email\_Confirmed", |
  |  | 78 | "User\_Confirmation\_Code", |
  |  | 79 | "User\_Admin\_Approved", |
  |  | 80 | "User\_Date\_Created", |
  |  | 81 | "User\_Last\_Login", |
  |  | 82 | "User\_Total\_Logins", |
  |  | 83 | "User\_Password\_Reset\_Code", |
  |  | 84 | "User\_Password\_Reset\_Date", |
  |  | 85 | "User\_Sessioncheck", |
  |  | 86 | "User\_WP\_ID", |
  |  | 87 | "User\_Membership\_Fees\_Paid", |
  |  | 88 | "User\_Account\_Expiry", |
  |  | 89 | "User\_Registration\_Type", |
  |  | 90 | "User\_Third\_Party\_ID", |
  |  | 91 | ); |
  |  | 92 |  |
  |  | 93 | if ( !in\_array( $order\_by, $order\_by\_fields ) ) { $order\_by = "User\_ID"; } |
  |  | 94 | $order = $order == "DESC" ? "DESC" : "ASC"; |
  |  | 95 |  |
  | 72 | 96 | $display\_fields\_array = explode(",", $display\_field); |
  | 73 | 97 |  |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L78) | […](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php?rev=3142978#L102) |  |
  | 78 | 102 | if (!$UserCookie and $login\_necessary == "Yes") { |
  | 79 | 103 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 80 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 104 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 81 | 105 | return $ReturnString; |
  | 82 | 106 | } |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L104) | […](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php?rev=3142978#L128) |  |
  | 104 | 128 | foreach ($display\_fields\_array as $display\_field\_value) { |
  | 105 | 129 | $ReturnString .= "<td>"; |
  | 106 |  | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . ~~$user\_profile\_page . "?User\_ID=" . $User['User\_ID']~~ . "'>";} |
  |  | 130 | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . esc\_attr( $user\_profile\_page ) . "?User\_ID=" . intval( $User['User\_ID'] ) . "'>";} |
  | 107 | 131 | $ReturnString .= esc\_html($User[$display\_field\_value]); |
  | 108 | 132 | if ($user\_profile\_page != "") {$ReturnString .= "</a>";} |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L118) | […](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php?rev=3142978#L142) |  |
  | 118 | 142 | $search\_fields\_array = explode(",", $search\_fields); |
  | 119 | 143 | $ReturnString .= "<div id='ewd-feup-login-form-div'>"; |
  | 120 |  | if (isset($user\_message['Message'])) {$ReturnString .= ~~$user\_message['Message']~~;} |
  |  | 144 | if (isset($user\_message['Message'])) {$ReturnString .= esc\_html( $user\_message['Message'] );} |
  | 121 | 145 | if (!isset($Time)){ $Time = ""; } |
  | 122 | 146 | $ReturnString .= "<form action='#' method='post' id='ewd-feup-login-form' class='feup-pure-form feup-pure-form-aligned'>"; |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L133) | […](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Insert_User_Search.php?rev=3142978#L157) |  |
  | 133 | 157 | } |
  | 134 | 158 | $ReturnString .= "<div class='feup-pure-control-group'>"; |
  | 135 |  | $ReturnString .= "<label for='Submit'></label><input type='submit' class='ewd-feup-submit feup-pure-button feup-pure-button-primary' name='Search\_Submit' value='" . ~~$submit\_text~~ . "'>"; |
  |  | 159 | $ReturnString .= "<label for='Submit'></label><input type='submit' class='ewd-feup-submit feup-pure-button feup-pure-button-primary' name='Search\_Submit' value='" . esc\_attr( $submit\_text ) . "'>"; |
  | 136 | 160 | $ReturnString .= "</div>"; |
  | 137 | 161 | $ReturnString .= "</form>"; |
* ## [front-end-only-users/tags/3.2.29/Shortcodes/Privilege\_Level.php](/changeset/3142978/front-end-only-users/tags/3.2.29/Shortcodes/Privilege_Level.php "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/Shortcodes/Privilege_Level.php")

  | [r1891187](/browser/front-end-only-users/trunk/Shortcodes/Privilege_Level.php?rev=1891187#L68 "Show revision 1891187 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/Shortcodes/Privilege_Level.php?rev=3142978#L68 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 68 | 68 |  |
  | 69 | 69 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 70 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 70 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 71 | 71 | if ($no\_message != "Yes") {return $ReturnString;} |
  | 72 | 72 | else {return;} |
* ## [front-end-only-users/tags/3.2.29/readme.txt](/changeset/3142978/front-end-only-users/tags/3.2.29/readme.txt "Show the changeset 3142978 restricted to front-end-only-users/tags/3.2.29/readme.txt")

  | [r3119644](/browser/front-end-only-users/trunk/readme.txt?rev=3119644#L340 "Show revision 3119644 of this file in browser") | [r3142978](/browser/front-end-only-users/tags/3.2.29/readme.txt?rev=3142978#L340 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 340 | 340 | == Changelog == |
  | 341 | 341 |  |
  |  | 342 | = 3.2.29 (2024-08-28) = |
  |  | 343 | - Security update. Updated escaping. |
  |  | 344 |  |
  | 342 | 345 | = 3.2.28 (2024-07-16) = |
  | 343 | 346 | - Tested with WordPress 6.6. |
* ## [front-end-only-users/trunk/Main.php](/changeset/3142978/front-end-only-users/trunk/Main.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Main.php")

  | [r3119644](/browser/front-end-only-users/trunk/Main.php?rev=3119644#L8 "Show revision 3119644 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Main.php?rev=3142978#L8 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | Terms and Conditions: http://www.etoilewebdesign.com/plugin-terms-and-conditions/ |
  | 9 | 9 | Text Domain: front-end-only-users |
  | 10 |  | Version: 3.2.2~~8~~ |
  |  | 10 | Version: 3.2.29 |
  | 11 | 11 | \*/ |
  | 12 | 12 |  |
  | […](/browser/front-end-only-users/trunk/Main.php?rev=3119644#L24) | […](/browser/front-end-only-users/trunk/Main.php?rev=3142978#L24) |  |
  | 24 | 24 | $ewd\_feup\_user\_events\_table\_name = $wpdb->prefix ."EWD\_FEUP\_User\_Events"; |
  | 25 | 25 | $ewd\_feup\_payments\_table\_name = $wpdb->prefix . "EWD\_FEUP\_Payments"; |
  | 26 |  | $EWD\_FEUP\_db\_version = "3.2.2~~8~~"; |
  |  | 26 | $EWD\_FEUP\_db\_version = "3.2.29"; |
  | 27 | 27 |  |
  | 28 | 28 | define( 'EWD\_FEUP\_CD\_PLUGIN\_PATH', plugin\_dir\_path( \_\_FILE\_\_ ) ); |
* ## [front-end-only-users/trunk/Shortcodes/Insert\_Edit\_Account.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Insert_Edit_Account.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Insert_Edit_Account.php")

  | [r2348570](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Account.php?rev=2348570#L74 "Show revision 2348570 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Account.php?rev=3142978#L74 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 74 | 74 | if ($CheckCookie['Username'] == "") { |
  | 75 | 75 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 76 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 76 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 77 | 77 | return $ReturnString; |
  | 78 | 78 | } |
* ## [front-end-only-users/trunk/Shortcodes/Insert\_Edit\_Profile.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Insert_Edit_Profile.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Insert_Edit_Profile.php")

  | [r2429858](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Profile.php?rev=2429858#L65 "Show revision 2429858 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Insert_Edit_Profile.php?rev=3142978#L65 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 65 | 65 | if ($CheckCookie['Username'] == "") { |
  | 66 | 66 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 67 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 67 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 68 | 68 | return $ReturnString; |
  | 69 | 69 | } |
* ## [front-end-only-users/trunk/Shortcodes/Insert\_Reset\_Password.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Insert_Reset_Password.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Insert_Reset_Password.php")

  | [r1645850](/browser/front-end-only-users/trunk/Shortcodes/Insert_Reset_Password.php?rev=1645850#L40 "Show revision 1645850 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Insert_Reset_Password.php?rev=3142978#L40 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 40 | 40 | if ($CheckCookie['Username'] == "") { |
  | 41 | 41 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 42 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 42 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 43 | 43 | return $ReturnString; |
  | 44 | 44 | } |
* ## [front-end-only-users/trunk/Shortcodes/Insert\_User\_List.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Insert_User_List.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Insert_User_List.php")

  | [r2348570](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=2348570#L69 "Show revision 2348570 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=3142978#L69 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 69 | 69 | ); |
  | 70 | 70 |  |
  | 71 |  | if ($order\_by == "") {$order\_by = "User\_ID";} |
  | 72 |  | if ($order == "") {$order = "ASC";} |
  |  | 71 | $order\_by\_fields = array( |
  |  | 72 | "User\_ID", |
  |  | 73 | "Username", |
  |  | 74 | "User\_Password", |
  |  | 75 | "Level\_ID", |
  |  | 76 | "User\_Email\_Confirmed", |
  |  | 77 | "User\_Confirmation\_Code", |
  |  | 78 | "User\_Admin\_Approved", |
  |  | 79 | "User\_Date\_Created", |
  |  | 80 | "User\_Last\_Login", |
  |  | 81 | "User\_Total\_Logins", |
  |  | 82 | "User\_Password\_Reset\_Code", |
  |  | 83 | "User\_Password\_Reset\_Date", |
  |  | 84 | "User\_Sessioncheck", |
  |  | 85 | "User\_WP\_ID", |
  |  | 86 | "User\_Membership\_Fees\_Paid", |
  |  | 87 | "User\_Account\_Expiry", |
  |  | 88 | "User\_Registration\_Type", |
  |  | 89 | "User\_Third\_Party\_ID", |
  |  | 90 | ); |
  |  | 91 |  |
  |  | 92 | if ( !in\_array( $order\_by, $order\_by\_fields ) ) { $order\_by = "User\_ID"; } |
  |  | 93 | $order = $order == "DESC" ? "DESC" : "ASC"; |
  | 73 | 94 |  |
  | 74 | 95 | $display\_fields = explode(",", $display\_field); |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=2348570#L80) | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=3142978#L101) |  |
  | 80 | 101 | if (!$UserCookie and $login\_necessary == "Yes") { |
  | 81 | 102 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 82 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 103 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 83 | 104 | return $ReturnString; |
  | 84 | 105 | } |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=2348570#L114) | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_List.php?rev=3142978#L135) |  |
  | 114 | 135 | foreach ($UserDataSet as $User\_Data) { |
  | 115 | 136 | $ReturnString .= "<div class='ewd-feup-user-list-result' id='ewd-feup-user-list'>"; |
  | 116 |  | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . ~~$user\_profile\_page . "?User\_ID=" . $User\_Data['User\_ID']~~ . "'>";} |
  |  | 137 | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . esc\_attr( $user\_profile\_page ) . "?User\_ID=" . intval( $User\_Data['User\_ID'] ) . "'>";} |
  | 117 | 138 | foreach ($display\_fields as $display\_field) { |
  | 118 | 139 | $ReturnString .= esc\_html($User\_Data[$display\_field]) . " "; |
* ## [front-end-only-users/trunk/Shortcodes/Insert\_User\_Profile.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Insert_User_Profile.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Insert_User_Profile.php")

  | [r2437702](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Profile.php?rev=2437702#L48 "Show revision 2437702 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Profile.php?rev=3142978#L48 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 | if ($CheckCookie['Username'] == "" and $login\_necessary == "Yes") { |
  | 49 | 49 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 50 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 50 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 51 | 51 | return $ReturnString; |
  | 52 | 52 | } |
* ## [front-end-only-users/trunk/Shortcodes/Insert\_User\_Search.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Insert_User_Search.php")

  | [r1993949](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L70 "Show revision 1993949 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=3142978#L70 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | ); |
  | 71 | 71 |  |
  |  | 72 | $order\_by\_fields = array( |
  |  | 73 | "User\_ID", |
  |  | 74 | "Username", |
  |  | 75 | "User\_Password", |
  |  | 76 | "Level\_ID", |
  |  | 77 | "User\_Email\_Confirmed", |
  |  | 78 | "User\_Confirmation\_Code", |
  |  | 79 | "User\_Admin\_Approved", |
  |  | 80 | "User\_Date\_Created", |
  |  | 81 | "User\_Last\_Login", |
  |  | 82 | "User\_Total\_Logins", |
  |  | 83 | "User\_Password\_Reset\_Code", |
  |  | 84 | "User\_Password\_Reset\_Date", |
  |  | 85 | "User\_Sessioncheck", |
  |  | 86 | "User\_WP\_ID", |
  |  | 87 | "User\_Membership\_Fees\_Paid", |
  |  | 88 | "User\_Account\_Expiry", |
  |  | 89 | "User\_Registration\_Type", |
  |  | 90 | "User\_Third\_Party\_ID", |
  |  | 91 | ); |
  |  | 92 |  |
  |  | 93 | if ( !in\_array( $order\_by, $order\_by\_fields ) ) { $order\_by = "User\_ID"; } |
  |  | 94 | $order = $order == "DESC" ? "DESC" : "ASC"; |
  |  | 95 |  |
  | 72 | 96 | $display\_fields\_array = explode(",", $display\_field); |
  | 73 | 97 |  |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L78) | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=3142978#L102) |  |
  | 78 | 102 | if (!$UserCookie and $login\_necessary == "Yes") { |
  | 79 | 103 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 80 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 104 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 81 | 105 | return $ReturnString; |
  | 82 | 106 | } |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L104) | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=3142978#L128) |  |
  | 104 | 128 | foreach ($display\_fields\_array as $display\_field\_value) { |
  | 105 | 129 | $ReturnString .= "<td>"; |
  | 106 |  | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . ~~$user\_profile\_page . "?User\_ID=" . $User['User\_ID']~~ . "'>";} |
  |  | 130 | if ($user\_profile\_page != "") {$ReturnString .= "<a href='" . esc\_attr( $user\_profile\_page ) . "?User\_ID=" . intval( $User['User\_ID'] ) . "'>";} |
  | 107 | 131 | $ReturnString .= esc\_html($User[$display\_field\_value]); |
  | 108 | 132 | if ($user\_profile\_page != "") {$ReturnString .= "</a>";} |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L118) | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=3142978#L142) |  |
  | 118 | 142 | $search\_fields\_array = explode(",", $search\_fields); |
  | 119 | 143 | $ReturnString .= "<div id='ewd-feup-login-form-div'>"; |
  | 120 |  | if (isset($user\_message['Message'])) {$ReturnString .= ~~$user\_message['Message']~~;} |
  |  | 144 | if (isset($user\_message['Message'])) {$ReturnString .= esc\_html( $user\_message['Message'] );} |
  | 121 | 145 | if (!isset($Time)){ $Time = ""; } |
  | 122 | 146 | $ReturnString .= "<form action='#' method='post' id='ewd-feup-login-form' class='feup-pure-form feup-pure-form-aligned'>"; |
  | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=1993949#L133) | […](/browser/front-end-only-users/trunk/Shortcodes/Insert_User_Search.php?rev=3142978#L157) |  |
  | 133 | 157 | } |
  | 134 | 158 | $ReturnString .= "<div class='feup-pure-control-group'>"; |
  | 135 |  | $ReturnString .= "<label for='Submit'></label><input type='submit' class='ewd-feup-submit feup-pure-button feup-pure-button-primary' name='Search\_Submit' value='" . ~~$submit\_text~~ . "'>"; |
  |  | 159 | $ReturnString .= "<label for='Submit'></label><input type='submit' class='ewd-feup-submit feup-pure-button feup-pure-button-primary' name='Search\_Submit' value='" . esc\_attr( $submit\_text ) . "'>"; |
  | 136 | 160 | $ReturnString .= "</div>"; |
  | 137 | 161 | $ReturnString .= "</form>"; |
* ## [front-end-only-users/trunk/Shortcodes/Privilege\_Level.php](/changeset/3142978/front-end-only-users/trunk/Shortcodes/Privilege_Level.php "Show the changeset 3142978 restricted to front-end-only-users/trunk/Shortcodes/Privilege_Level.php")

  | [r1891187](/browser/front-end-only-users/trunk/Shortcodes/Privilege_Level.php?rev=1891187#L68 "Show revision 1891187 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/Shortcodes/Privilege_Level.php?rev=3142978#L68 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 68 | 68 |  |
  | 69 | 69 | $ReturnString .= $feup\_Label\_Require\_Login\_Message; |
  | 70 |  | if ($login\_page != "") {$ReturnString .= "<br />" . ~~$feup\_Label\_Please . " <a href='" . $login\_page . "'>" . $feup\_Label\_Login . "</a> " . $feup\_Label\_To\_Continue~~ ;} |
  |  | 70 | if ($login\_page != "") {$ReturnString .= "<br />" . esc\_html( $feup\_Label\_Please ) . " <a href='" . esc\_attr( $login\_page ) . "'>" . esc\_html( $feup\_Label\_Login ) . "</a> " . esc\_html( $feup\_Label\_To\_Continue ) ;} |
  | 71 | 71 | if ($no\_message != "Yes") {return $ReturnString;} |
  | 72 | 72 | else {return;} |
* ## [front-end-only-users/trunk/readme.txt](/changeset/3142978/front-end-only-users/trunk/readme.txt "Show the changeset 3142978 restricted to front-end-only-users/trunk/readme.txt")

  | [r3119644](/browser/front-end-only-users/trunk/readme.txt?rev=3119644#L340 "Show revision 3119644 of this file in browser") | [r3142978](/browser/front-end-only-users/trunk/readme.txt?rev=3142978#L340 "Show revision 3142978 of this file in browser") |  |
  | --- | --- | --- |
  | 340 | 340 | == Changelog == |
  | 341 | 341 |  |
  |  | 342 | = 3.2.29 (2024-08-28) = |
  |  | 343 | - Security update. Updated escaping. |
  |  | 344 |  |
  | 342 | 345 | = 3.2.28 (2024-07-16) = |
  | 343 | 346 | - Tested with WordPress 6.6. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3142978)
* [Zip Archive](?format=zip&new=3142978)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ee4b9c1b_20250111_002920.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffront-end-only-users%2Ftrunk%2Fhtml%2FUsersPage.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/front-end-only-users/trunk/html/UsersPage.php?rev=2837468 "Revision 2837468")
* Next Revision →
* [Blame](/browser/front-end-only-users/trunk/html/UsersPage.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/front-end-only-users/trunk/html/UsersPage.php)

---

# [source:](/browser?order=name "Go to repository root") [front-end-only-users](/browser/front-end-only-users?order=name "View front-end-only-users")/[trunk](/browser/front-end-only-users/trunk?order=name "View trunk")/[html](/browser/front-end-only-users/trunk/html?order=name "View html")/[UsersPage.php](/browser/front-end-only-users/trunk/html/UsersPage.php?order=name "View UsersPage.php")

View diff against:

View revision:

| [Last change](/changeset/2895308/front-end-only-users/trunk/html/UsersPage.php "View differences") on this file was [2895308](/changeset/2895308/ "View changeset 2895308"), checked in by Rustaurius, [22 months ago](/timeline?from=2023-04-06T21%3A19%3A41Z&precision=second "See timeline at 04/06/2023 09:19:41 PM") |
| --- |
| v3.2.25 released and tagged |
| **File size:** 26.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $Admin\_Approval = get\_option("EWD\_FEUP\_Admin\_Approval"); |
| [3](#L3) | $Username\_Is\_Email = get\_option("EWD\_FEUP\_Username\_Is\_Email"); |
| [4](#L4) | $Include\_WP\_Users = get\_option("EWD\_FEUP\_Include\_WP\_Users"); |
| [5](#L5) | ?> |
| [6](#L6) | <div id="col-right" class="feup-overlfow-auto ewd-feup-admin-products-table-full"> |
| [7](#L7) | <div class="col-wrap"> |
| [8](#L8) |  |
| [9](#L9) | <div class="ewd-feup-admin-new-product-page-top-part"> |
| [10](#L10) | <div class="ewd-feup-admin-new-product-page-top-part-left"> |
| [11](#L11) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Add New User', 'front-end-only-users'); ?></h3> |
| [12](#L12) | <div class="ewd-feup-admin-add-new-product-buttons-area"> |
| [13](#L13) | <a href="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details" class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-manually-add-product-button"><?php \_e('Manually', 'front-end-only-users'); ?></a> |
| [14](#L14) | <div class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-add-by-spreadsheet-button"><?php \_e('From Spreadsheet', 'front-end-only-users'); ?></div> |
| [15](#L15) | </div> |
| [16](#L16) | </div> |
| [17](#L17) | <div class="ewd-feup-admin-new-product-page-top-part-right"> |
| [18](#L18) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Export Users to Spreasheet', 'front-end-only-users'); ?></h3> |
| [19](#L19) | <div class="ewd-feup-admin-export-buttons-area"> |
| [20](#L20) | <?php if($EWD\_FEUP\_Full\_Version == 'Yes'){ ?> |
| [21](#L21) | <form method="post" action="admin.php?page=EWD-FEUP-options&DisplayPage=Users&Action=EWD\_FEUP\_ExportToExcel"> |
| [22](#L22) | <input type="submit" name="Export\_Submit" class="button button-secondary ewd-feup-admin-export-button" value="<?php \_e('Export to Excel', 'front-end-only-users'); ?>"  /> |
| [23](#L23) | </form> |
| [24](#L24) | <?php } else{ |
| [25](#L25) | \_e("The full version of the Front End Users plugin is required to export products.", 'front-end-only-users'); ?><br /><a href="https://www.etoilewebdesign.com/plugins/front-end-only-users/#buy" target="\_blank"><?php \_e("Please upgrade to unlock this feature!", 'front-end-only-users'); ?></a> |
| [26](#L26) | <?php } ?> |
| [27](#L27) | </div> |
| [28](#L28) | </div> |
| [29](#L29) | </div> |
| [30](#L30) |  |
| [31](#L31) | <!-- Display a list of the products which have already been created --> |
| [32](#L32) | <?php wp\_nonce\_field(); ?> |
| [33](#L33) | <?php wp\_referer\_field(); ?> |
| [34](#L34) |  |
| [35](#L35) | <?php |
| [36](#L36) | if (isset($\_GET['Page'])) {$Page = intval( $\_GET['Page'] );} |
| [37](#L37) | else {$Page = 1;} |
| [38](#L38) |  |
| [39](#L39) | if ( isset( $\_GET['OrderBy'] ) and in\_array( $\_GET['OrderBy'], array( 'User\_Admin\_Approved', 'User\_WP\_ID', 'User\_Last\_Login', 'User\_Date\_Created' ) ) or ewd\_feup\_field\_name\_exists( $\_GET['OrderBy'] ) ) { $OrderBy = $\_GET['OrderBy']; } |
| [40](#L40) | else { $OrderBy = 'User\_Date\_Created'; } |
| [41](#L41) |  |
| [42](#L42) | $Order = ( isset( $\_GET['Order'] ) and $\_GET['Order'] == 'DESC' ) ? 'DESC' : 'ASC'; |
| [43](#L43) |  |
| [44](#L44) | $Fields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Show\_In\_Admin='Yes'"); |
| [45](#L45) | $AllFields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name"); |
| [46](#L46) |  |
| [47](#L47) | $Sql = "SELECT DISTINCT $ewd\_feup\_user\_table\_name.User\_ID FROM $ewd\_feup\_user\_table\_name "; |
| [48](#L48) | $Sql .= "INNER JOIN $ewd\_feup\_user\_fields\_table\_name ON $ewd\_feup\_user\_table\_name.User\_ID=$ewd\_feup\_user\_fields\_table\_name.User\_ID "; |
| [49](#L49) | if (isset($\_REQUEST['UserSearchValue']) and $\_REQUEST['UserSearchField'] == "Username") { |
| [50](#L50) | $Sql .= "WHERE " . esc\_sql( $\_REQUEST['UserSearchField'] ) . " "; |
| [51](#L51) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [52](#L52) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [53](#L53) | } |
| [54](#L54) | elseif (isset($\_REQUEST['UserSearchValue'])) { |
| [55](#L55) | $Sql .= "WHERE Field\_ID=" . esc\_sql( $\_REQUEST['UserSearchField'] ) . " AND Field\_Value "; |
| [56](#L56) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [57](#L57) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [58](#L58) | } |
| [59](#L59) | if (isset($\_GET['OrderBy']) and $\_GET['DisplayPage'] == "Users") { |
| [60](#L60) | if ($\_REQUEST['OrderBy'] == "User\_Last\_Login" or $\_REQUEST['OrderBy'] == "User\_Date\_Created" or $\_REQUEST['OrderBy'] == "User\_Admin\_Approved") {$Sql .= "ORDER BY " . $OrderBy . " " . $Order . " ";} |
| [61](#L61) | else { |
| [62](#L62) | $OrderBy\_Field\_ID = $wpdb->get\_var($wpdb->prepare("SELECT Field\_ID FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Name=%s", $OrderBy)); |
| [63](#L63) | $User\_IDs = $wpdb->get\_results($wpdb->prepare("SELECT User\_ID FROM $ewd\_feup\_user\_fields\_table\_name WHERE Field\_ID=%d ORDER BY Field\_Value %s", $OrderBy\_Field\_ID, $Order)); |
| [64](#L64) | $OrderBy\_User\_IDs = array(); |
| [65](#L65) | foreach ($User\_IDs as $User\_ID) {$OrderBy\_User\_IDs[] = $User\_ID->User\_ID;} |
| [66](#L66) | $Sql .= "ORDER BY FIELD($ewd\_feup\_user\_table\_name.User\_ID, " . esc\_sql( implode(",", $OrderBy\_User\_IDs) ) . ")"; |
| [67](#L67) | } |
| [68](#L68) | } |
| [69](#L69) | else {$Sql .= "ORDER BY User\_Date\_Created ";} |
| [70](#L70) | $RowCount = $wpdb->get\_results($Sql); |
| [71](#L71) | $Number\_of\_Pages = ceil($wpdb->num\_rows/20); |
| [72](#L72) | $UserCount = $wpdb->num\_rows; |
| [73](#L73) | $Sql .= "LIMIT " . ($Page - 1)\*20 . ",20"; |
| [74](#L74) | $myrows = $wpdb->get\_results($Sql); |
| [75](#L75) | $Current\_Page\_With\_Order\_By = "admin.php?page=EWD-FEUP-options&DisplayPage=Users"; |
| [76](#L76) | if (isset($\_GET['OrderBy'])) {$Current\_Page\_With\_Order\_By .= "&OrderBy=" . $OrderBy . "&Order=" . $Order;} |
| [77](#L77) | if (isset($\_REQUEST['UserSearchValue'])) {$Current\_Page\_With\_Order\_By .= "&UserSearchValue=" . rawurlencode( $\_REQUEST['UserSearchValue'] ) . "&UserSearchField=" . rawurlencode( $\_REQUEST['UserSearchField'] ) . "&UserSearchOperator=" . rawurlencode( $\_REQUEST['UserSearchOperator'] );} |
| [78](#L78) | ?> |
| [79](#L79) |  |
| [80](#L80) | <form action="<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_MassUserAction&DisplayPage=Users' ); ?>" method="post"> |
| [81](#L81) | <p class="search-box"> |
| [82](#L82) | <label class="screen-reader-text" for="post-search-input">Search Users:</label> |
| [83](#L83) | <select name='UserSearchField' class='ewd-admin-select-search'> |
| [84](#L84) | <option value='Username'>Username</option> |
| [85](#L85) | <?php |
| [86](#L86) | foreach ($AllFields as $Field) { |
| [87](#L87) | echo "<option value='" . $Field->Field\_ID . "'>" . $Field->Field\_Name . "</option>"; |
| [88](#L88) | } |
| [89](#L89) | ?> |
| [90](#L90) | </select> |
| [91](#L91) | <select name='UserSearchOperator' class='ewd-admin-select-search'> |
| [92](#L92) | <option value='LIKE'>Like</option> |
| [93](#L93) | <option value='EQUALS'>Equals</option> |
| [94](#L94) | </select> |
| [95](#L95) | <input type="search" id="post-search-input" name="UserSearchValue" value=""> |
| [96](#L96) | <input type="submit" name="" id="search-submit" class="button" value="Search Users"> |
| [97](#L97) | <br /> |
| [98](#L98) | <a class='feup-confirm-all-users button-secondary action ewd-feup-admin-delete-all-products-button' href='<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteAllUsers&DisplayPage=Users' ); ?>'><?php \_e("Delete All Users", 'front-end-only-users'); ?></a> |
| [99](#L99) | </p> |
| [100](#L100) | <div class="tablenav top"> |
| [101](#L101) | <div class="alignleft actions"> |
| [102](#L102) | <select name='action'> |
| [103](#L103) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [104](#L104) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [105](#L105) | <option value='approve'><?php \_e("Approve", 'front-end-only-users') ?></option> |
| [106](#L106) | <option value='0'>Level: None (0)</option> |
| [107](#L107) | <?php |
| [108](#L108) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name"); |
| [109](#L109) | if (is\_array($Levels)) { |
| [110](#L110) | foreach ($Levels as $Level) { |
| [111](#L111) | echo "<option value='" . $Level->Level\_ID . "'>Level: " . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [112](#L112) | } |
| [113](#L113) | } |
| [114](#L114) | ?> |
| [115](#L115) | </select> |
| [116](#L116) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [117](#L117) | </div> |
| [118](#L118) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [119](#L119) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?> <?php if ($EWD\_FEUP\_Full\_Version != "Yes") {echo "out of 100";}?></span> |
| [120](#L120) | <span class='pagination-links'> |
| [121](#L121) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [122](#L122) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [123](#L123) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [124](#L124) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [125](#L125) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [126](#L126) | </span> |
| [127](#L127) | </div> |
| [128](#L128) | </div> |
| [129](#L129) |  |
| [130](#L130) | <table class="wp-list-table striped widefat tags sorttable fields-list ui-sortable" cellspacing="0"> |
| [131](#L131) | <thead> |
| [132](#L132) | <tr> |
| [133](#L133) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [134](#L134) | <input type="checkbox" /> |
| [135](#L135) | </th> |
| [136](#L136) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [137](#L137) | <span>Username</span> |
| [138](#L138) | </th> |
| [139](#L139) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [140](#L140) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [141](#L141) | else {$Order = "ASC";} ?> |
| [142](#L142) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [143](#L143) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [144](#L144) | <span>Admin Approved</span> |
| [145](#L145) | <span class="sorting-indicator"></span> |
| [146](#L146) | </a> |
| [147](#L147) | </th> |
| [148](#L148) | <?php } ?> |
| [149](#L149) | <?php foreach ($Fields as $Field) { ?> |
| [150](#L150) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [151](#L151) | else {$Order = "ASC";} ?> |
| [152](#L152) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [153](#L153) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [154](#L154) | <span><?php echo $Field->Field\_Name; ?></span> |
| [155](#L155) | <span class="sorting-indicator"></span> |
| [156](#L156) | </a> |
| [157](#L157) | </th> |
| [158](#L158) | <?php } ?> |
| [159](#L159) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [160](#L160) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [161](#L161) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [162](#L162) | else {$Order = "ASC";} ?> |
| [163](#L163) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [164](#L164) | <span>WordPress User?</span> |
| [165](#L165) | <span class="sorting-indicator"></span> |
| [166](#L166) | </th> |
| [167](#L167) | <?php } ?> |
| [168](#L168) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [169](#L169) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [170](#L170) | else {$Order = "ASC";} ?> |
| [171](#L171) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [172](#L172) | <span>Last Login</span> |
| [173](#L173) | <span class="sorting-indicator"></span> |
| [174](#L174) | </th> |
| [175](#L175) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [176](#L176) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [177](#L177) | else {$Order = "ASC";} ?> |
| [178](#L178) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [179](#L179) | <span>Joined Date</span> |
| [180](#L180) | <span class="sorting-indicator"></span> |
| [181](#L181) | </th> |
| [182](#L182) | </tr> |
| [183](#L183) | </thead> |
| [184](#L184) |  |
| [185](#L185) | <tfoot> |
| [186](#L186) | <tr> |
| [187](#L187) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [188](#L188) | <input type="checkbox" /> |
| [189](#L189) | </th> |
| [190](#L190) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [191](#L191) | <span>Username</span> |
| [192](#L192) | </th> |
| [193](#L193) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [194](#L194) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [195](#L195) | else {$Order = "ASC";} ?> |
| [196](#L196) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [197](#L197) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [198](#L198) | <span>Admin Approved</span> |
| [199](#L199) | <span class="sorting-indicator"></span> |
| [200](#L200) | </a> |
| [201](#L201) | </th> |
| [202](#L202) | <?php } ?> |
| [203](#L203) | <?php foreach ($Fields as $Field) { ?> |
| [204](#L204) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [205](#L205) | else {$Order = "ASC";} ?> |
| [206](#L206) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [207](#L207) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [208](#L208) | <span><?php echo $Field->Field\_Name; ?></span> |
| [209](#L209) | <span class="sorting-indicator"></span> |
| [210](#L210) | </a> |
| [211](#L211) | </th> |
| [212](#L212) | <?php } ?> |
| [213](#L213) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [214](#L214) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [215](#L215) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [216](#L216) | else {$Order = "ASC";} ?> |
| [217](#L217) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [218](#L218) | <span>WordPress User?</span> |
| [219](#L219) | <span class="sorting-indicator"></span> |
| [220](#L220) | </th> |
| [221](#L221) | <?php } ?> |
| [222](#L222) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [223](#L223) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [224](#L224) | else {$Order = "ASC";} ?> |
| [225](#L225) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [226](#L226) | <span>Last Login</span> |
| [227](#L227) | <span class="sorting-indicator"></span> |
| [228](#L228) | </th> |
| [229](#L229) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [230](#L230) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [231](#L231) | else {$Order = "ASC";} ?> |
| [232](#L232) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [233](#L233) | <span>Joined Date</span> |
| [234](#L234) | <span class="sorting-indicator"></span> |
| [235](#L235) | </th> |
| [236](#L236) | </tr> |
| [237](#L237) | </tfoot> |
| [238](#L238) |  |
| [239](#L239) | <tbody id="the-list" class='list:tag'> |
| [240](#L240) |  |
| [241](#L241) | <?php |
| [242](#L242) | if ($myrows) { |
| [243](#L243) | foreach ($myrows as $User\_ID) { |
| [244](#L244) | $FieldCount = 0; |
| [245](#L245) | $User = $wpdb->get\_row( $wpdb->prepare( "SELECT \* FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User\_ID->User\_ID ) ); |
| [246](#L246) | echo "<tr id='User" . $User->User\_ID ."'>"; |
| [247](#L247) | echo "<th scope='row' class='check-column'>"; |
| [248](#L248) | echo "<input type='checkbox' name='Users\_Bulk[]' value='" . $User->User\_ID ."' />"; |
| [249](#L249) | echo "</th>"; |
| [250](#L250) | $Username = $wpdb->get\_var( $wpdb->prepare( "SELECT Username FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User->User\_ID ) ); |
| [251](#L251) | echo "<td class='username column-name'>" . $Username . "</td>"; |
| [252](#L252) | if ($Admin\_Approval == "Yes") { |
| [253](#L253) | echo "<td class='name column-name'>"; |
| [254](#L254) | echo $User->User\_Admin\_Approved; |
| [255](#L255) | echo "</td>"; |
| [256](#L256) | } |
| [257](#L257) | foreach ($Fields as $Field) { |
| [258](#L258) | $User\_Field\_Value = $wpdb->get\_var($wpdb->prepare("SELECT Field\_Value FROM $ewd\_feup\_user\_fields\_table\_name WHERE User\_ID='%d' and Field\_Name='%s'", $User->User\_ID, $Field->Field\_Name)); |
| [259](#L259) |  |
| [260](#L260) | echo "<td class='name column-name'>"; |
| [261](#L261) | if ($FieldCount == 0) { |
| [262](#L262) | echo "<strong>"; |
| [263](#L263) | echo "<a class='row-title' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details&Selected=User&User\_ID=" . $User->User\_ID ."' title='Edit User'>"; |
| [264](#L264) | } |
| [265](#L265) | echo substr( strval($User\_Field\_Value), 0, 60 ); |
| [266](#L266) | if ( strlen( strval($User\_Field\_Value) ) > 60 ) { echo "..."; } |
| [267](#L267) | if ($FieldCount == 0) { |
| [268](#L268) | echo "</a></strong>"; |
| [269](#L269) | echo "<br />"; |
| [270](#L270) | echo "<div class='row-actions'>"; |
| [271](#L271) | echo "<span class='delete'>"; |
| [272](#L272) | echo "<a class='delete-tag feup-confirm-one-user' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteUser&DisplayPage=Users&User\_ID=" . $User->User\_ID ."'>" . \_\_("Delete", 'front-end-only-users') . "</a>"; |
| [273](#L273) | echo "</span>"; |
| [274](#L274) | echo "</div>"; |
| [275](#L275) | echo "<div class='hidden' id='inline\_" . $User->User\_ID ."'>"; |
| [276](#L276) | } |
| [277](#L277) | echo "</td>"; |
| [278](#L278) | $FieldCount++; |
| [279](#L279) | } |
| [280](#L280) | if ($Include\_WP\_Users == "Yes") { |
| [281](#L281) | if ($User->User\_WP\_ID != 0) {echo "<td class='name column-wpuser'>Yes</td>";} |
| [282](#L282) | else {echo "<td class='name column-wpuser'>No</td>";} |
| [283](#L283) | } |
| [284](#L284) | echo "<td class='name column-name'>" .  $User->User\_Last\_Login . "</td>"; |
| [285](#L285) | echo "<td class='name column-name'>" .  $User->User\_Date\_Created . "</td>"; |
| [286](#L286) | echo "</tr>"; |
| [287](#L287) | } |
| [288](#L288) | } |
| [289](#L289) | ?> |
| [290](#L290) |  |
| [291](#L291) | </tbody> |
| [292](#L292) | </table> |
| [293](#L293) |  |
| [294](#L294) | <div class="tablenav bottom"> |
| [295](#L295) | <?php /\*<div class="alignleft actions"> |
| [296](#L296) | <select name='action'> |
| [297](#L297) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [298](#L298) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [299](#L299) | </select> |
| [300](#L300) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [301](#L301) | </div>\*/ ?> |
| [302](#L302) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [303](#L303) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?></span> |
| [304](#L304) | <span class='pagination-links'> |
| [305](#L305) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [306](#L306) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [307](#L307) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [308](#L308) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [309](#L309) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [310](#L310) | </span> |
| [311](#L311) | </div> |
| [312](#L312) | <br class="clear" /> |
| [313](#L313) | </div> |
| [314](#L314) | </form> |
| [315](#L315) |  |
| [316](#L316) | <br class="clear" /> |
| [317](#L317) | </div> |
| [318](#L318) | </div> <!-- /col-right --> |
| [319](#L319) |  |
| [320](#L320) | <!-- Form to upload a list of new products from a spreadsheet --> |
| [321](#L321) | <div id="col-left" class="feup-hidden"> |
| [322](#L322) | <div class="col-wrap"> |
| [323](#L323) |  |
| [324](#L324) | <div class="form-wrap"> |
| [325](#L325) |  |
| [326](#L326) | <div id="ewd-feup-admin-add-manually"> |
| [327](#L327) |  |
| [328](#L328) | <h2><?php \_e("Add New User", 'front-end-only-users') ?></h2> |
| [329](#L329) | <?php |
| [330](#L330) | $Fields = $AllFields; |
| [331](#L331) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name ORDER BY Level\_Privilege ASC"); |
| [332](#L332) | ?> |
| [333](#L333) | <!-- Form to create a new product --> |
| [334](#L334) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUser&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [335](#L335) | <input type="hidden" name="action" value="Add\_User" /> |
| [336](#L336) | <input type='hidden' name='ewd-registration-type' value='FEUP'> |
| [337](#L337) | <?php wp\_nonce\_field( 'EWD\_FEUP\_Admin\_Nonce', 'EWD\_FEUP\_Admin\_Nonce' );  ?> |
| [338](#L338) | <?php wp\_referer\_field(); ?> |
| [339](#L339) | <?php if($Username\_Is\_Email == "Yes") { ?> |
| [340](#L340) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Email', 'front-end-only-users');?>: </label> |
| [341](#L341) | <input type='email' class='ewd-feup-text-input' name='Username'> |
| [342](#L342) | <?php } else {?> |
| [343](#L343) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Username', 'front-end-only-users');?>: </label> |
| [344](#L344) | <input type='text' class='ewd-feup-text-input' name='Username'> |
| [345](#L345) | <?php } ?> |
| [346](#L346) | <label for='Password' id='ewd-feup-register-password-div' class='ewd-feup-field-label'><?php \_e('Password', 'front-end-only-users')?>: </label> |
| [347](#L347) | <input type='password' class='ewd-feup-text-input ewd-feup-password-input' name='User\_Password'> |
| [348](#L348) | <label for='Repeat Password' id='ewd-feup-register-password-confirm-div' class='ewd-feup-field-label'><?php \_e('Repeat Password', 'front-end-only-users');?>: </label> |
| [349](#L349) | <input type='password' class='ewd-feup-text-input ewd-feup-check-password-input' name='Confirm\_User\_Password'> |
| [350](#L350) | <label for='Password Strength' id='ewd-feup-password-strength' class='ewd-feup-field-label'><?php \_e('Password Strength', 'front-end-only-users') ?>: </label> |
| [351](#L351) | <span id='ewd-feup-password-result'>Too Short</span> |
| [352](#L352) | <label for='Level ID' id='ewd-feup-register-user-level-div' class='ewd-feup-field-label'><?php \_e('User Level', 'front-end-only-users');?>: </label> |
| [353](#L353) | <select name='Level\_ID'> |
| [354](#L354) | <option value='0'>None (0)</option> |
| [355](#L355) | <?php foreach ($Levels as $Level) { |
| [356](#L356) | echo "<option value='" . $Level->Level\_ID . "'>" . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [357](#L357) | }?> |
| [358](#L358) | </select> |
| [359](#L359) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [360](#L360) | <label for='Admin Approved' id='ewd-feup-register-admin-approved-div' class='ewd-feup-field-label'><?php \_e('Admin Approved', 'front-end-only-users');?>: </label> |
| [361](#L361) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='Yes'>Yes<br /> |
| [362](#L362) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='No'>No<br /> |
| [363](#L363) | <?php } ?> |
| [364](#L364) | <?php foreach ($Fields as $Field) { ?> |
| [365](#L365) | <div class="form-field form-required"> |
| [366](#L366) | <label for="<?php echo $Field->Field\_Name; ?>"><?php echo $Field->Field\_Name; ?></label> |
| [367](#L367) | <?php if ($Field->Field\_Type == "text") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="text" value="" size="60" /> |
| [368](#L368) | <?php } elseif ($Field->Field\_Type == "mediumint") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="number" value="" size="60" /> |
| [369](#L369) | <?php } elseif ($Field->Field\_Type == "email") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="email" value="" size="60" /> |
| [370](#L370) | <?php } elseif ($Field->Field\_Type == "tel") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="tel" value="" size="60" /> |
| [371](#L371) | <?php } elseif ($Field->Field\_Type == "url") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="url" value="" size="60" /> |
| [372](#L372) | <?php } elseif ($Field->Field\_Type == "date") {?> |
| [373](#L373) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-date-input pure-input-1-3' type='date' value='' /> |
| [374](#L374) | <?php } elseif ($Field->Field\_Type == "datetime") { ?> |
| [375](#L375) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-datetime-input pure-input-1-3' type='datetime-local' value='' /> |
| [376](#L376) | <?php } elseif ($Field->Field\_Type == "textarea") { ?> |
| [377](#L377) | <textarea name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"></textarea> |
| [378](#L378) | <?php } elseif ($Field->Field\_Type == "file") {?> |
| [379](#L379) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [380](#L380) | <?php } elseif ($Field->Field\_Type == "picture") {?> |
| [381](#L381) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [382](#L382) | <?php } elseif ($Field->Field\_Type == "select" or $Field->Field\_Type == "countries") { ?> |
| [383](#L383) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [384](#L384) | <?php if ($Field->Field\_Type == "countries") {$Options = EWD\_FEUP\_Return\_Country\_Array();} ?> |
| [385](#L385) | <select name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"> |
| [386](#L386) | <?php foreach ($Options as $Option) { ?><option value='<?php echo $Option; ?>'><?php echo $Option; ?></option><?php } ?> |
| [387](#L387) | </select> |
| [388](#L388) | <?php } elseif ($Field->Field\_Type == "radio") { ?> |
| [389](#L389) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [390](#L390) | <?php foreach ($Options as $Option) { ?><input type='radio' class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>" value="<?php echo $Option; ?>"><?php echo $Option ?><br/><?php } ?> |
| [391](#L391) | <?php } elseif ($Field->Field\_Type == "checkbox") { ?> |
| [392](#L392) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [393](#L393) | <?php foreach ($Options as $Option) { ?><input type="checkbox" class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>[]" value="<?php echo $Option; ?>"><?php echo $Option; ?></br><?php } ?> |
| [394](#L394) | <?php } ?> |
| [395](#L395) | <p><?php echo $Field->Field\_Description; ?></p> |
| [396](#L396) | </div> |
| [397](#L397) | <?php } ?> |
| [398](#L398) |  |
| [399](#L399) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New User', 'front-end-only-users') ?>"  /></p></form> |
| [400](#L400) |  |
| [401](#L401) | </div> <!-- ewd-feup-admin-add-manually --> |
| [402](#L402) |  |
| [403](#L403) |  |
| [404](#L404) | <div id="ewd-feup-admin-add-from-spreadsheet"> |
| [405](#L405) | <h3><?php \_e("Add Users from Spreadsheet", 'front-end-only-users') ?></h3> |
| [406](#L406) | <?php if ($EWD\_FEUP\_Full\_Version == "Yes") { ?> |
| [407](#L407) | <div class="wrap"> |
| [408](#L408) |  |
| [409](#L409) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUserSpreadsheet&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [410](#L410) | <?php wp\_nonce\_field(); ?> |
| [411](#L411) | <div class="form-field form-required"> |
| [412](#L412) | <label for="Users\_Spreadsheet"><?php \_e("Spreadsheet Containing Users", 'front-end-only-users') ?></label> |
| [413](#L413) | <input name="Users\_Spreadsheet" id="Users\_Spreadsheet" type="file" value=""/> |
| [414](#L414) | <p><?php \_e("The spreadsheet containing all of the users you wish to add. Make sure that the column title names are the same as the field names for users (ex: Username, Email, First Name, etc.).", 'front-end-only-users') ?></p> |
| [415](#L415) | </div> |
| [416](#L416) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New Users', 'front-end-only-users') ?>"  /></p> |
| [417](#L417) | </form> |
| [418](#L418) | </div> |
| [419](#L419) |  |
| [420](#L420) | <?php } else { ?> |
| [421](#L421) | <div class="Info-Div"> |
| [422](#L422) | <h2><?php \_e("Full Version Required!", 'front-end-only-users') ?></h2> |
| [423](#L423) | <div class="ewd-feup-full-version-explanation"> |
| [424](#L424) | <?php \_e("The full version of Front-End Only Users is required to use tags.", 'front-end-only-users');?><a href="http://www.etoilewebdesign.com/front-end-users-plugin/"><?php \_e(" Please upgrade to unlock this page!", 'front-end-only-users'); ?></a> |
| [425](#L425) | </div> |
| [426](#L426) | </div> |
| [427](#L427) | <?php } ?> |
| [428](#L428) | </div> |
| [429](#L429) |  |
| [430](#L430) | </div> |
| [431](#L431) |  |
| [432](#L432) | <br class="clear" /> |
| [433](#L433) |  |
| [434](#L434) | </div> |
| [435](#L435) | </div> <!-- col-left --> |
| [436](#L436) |  |
| [437](#L437) |  |
| [438](#L438) |  |
| [439](#L439) | <?php |
| [440](#L440) |  |
| [441](#L441) | function ewd\_feup\_field\_name\_exists( $field\_name) { |
| [442](#L442) | global $wpdb; |
| [443](#L443) | global $ewd\_feup\_fields\_table\_name; |
| [444](#L444) |  |
| [445](#L445) | $fields = $wpdb->get\_results("SELECT Field\_Name FROM $ewd\_feup\_fields\_table\_name"); |
| [446](#L446) |  |
| [447](#L447) | foreach ( $fields as $field ) { |
| [448](#L448) | if ( $field\_name == $field->Field\_Name ) { return true; } |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | return false; |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/front-end-only-users/trunk/html/UsersPage.php?format=txt)
* [Original Format](/export/3220495/front-end-only-users/trunk/html/UsersPage.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_44913a4a_20250111_002919.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffront-end-only-users%2Ftrunk%2Fhtml%2FUsersPage.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/front-end-only-users/trunk/html/UsersPage.php?rev=2837468 "Revision 2837468")
* Next Revision →
* [Blame](/browser/front-end-only-users/trunk/html/UsersPage.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/front-end-only-users/trunk/html/UsersPage.php)

---

# [source:](/browser?order=name "Go to repository root") [front-end-only-users](/browser/front-end-only-users?order=name "View front-end-only-users")/[trunk](/browser/front-end-only-users/trunk?order=name "View trunk")/[html](/browser/front-end-only-users/trunk/html?order=name "View html")/[UsersPage.php](/browser/front-end-only-users/trunk/html/UsersPage.php?order=name "View UsersPage.php")

View diff against:

View revision:

| [Last change](/changeset/2895308/front-end-only-users/trunk/html/UsersPage.php "View differences") on this file was [2895308](/changeset/2895308/ "View changeset 2895308"), checked in by Rustaurius, [22 months ago](/timeline?from=2023-04-06T21%3A19%3A41Z&precision=second "See timeline at 04/06/2023 09:19:41 PM") |
| --- |
| v3.2.25 released and tagged |
| **File size:** 26.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $Admin\_Approval = get\_option("EWD\_FEUP\_Admin\_Approval"); |
| [3](#L3) | $Username\_Is\_Email = get\_option("EWD\_FEUP\_Username\_Is\_Email"); |
| [4](#L4) | $Include\_WP\_Users = get\_option("EWD\_FEUP\_Include\_WP\_Users"); |
| [5](#L5) | ?> |
| [6](#L6) | <div id="col-right" class="feup-overlfow-auto ewd-feup-admin-products-table-full"> |
| [7](#L7) | <div class="col-wrap"> |
| [8](#L8) |  |
| [9](#L9) | <div class="ewd-feup-admin-new-product-page-top-part"> |
| [10](#L10) | <div class="ewd-feup-admin-new-product-page-top-part-left"> |
| [11](#L11) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Add New User', 'front-end-only-users'); ?></h3> |
| [12](#L12) | <div class="ewd-feup-admin-add-new-product-buttons-area"> |
| [13](#L13) | <a href="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details" class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-manually-add-product-button"><?php \_e('Manually', 'front-end-only-users'); ?></a> |
| [14](#L14) | <div class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-add-by-spreadsheet-button"><?php \_e('From Spreadsheet', 'front-end-only-users'); ?></div> |
| [15](#L15) | </div> |
| [16](#L16) | </div> |
| [17](#L17) | <div class="ewd-feup-admin-new-product-page-top-part-right"> |
| [18](#L18) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Export Users to Spreasheet', 'front-end-only-users'); ?></h3> |
| [19](#L19) | <div class="ewd-feup-admin-export-buttons-area"> |
| [20](#L20) | <?php if($EWD\_FEUP\_Full\_Version == 'Yes'){ ?> |
| [21](#L21) | <form method="post" action="admin.php?page=EWD-FEUP-options&DisplayPage=Users&Action=EWD\_FEUP\_ExportToExcel"> |
| [22](#L22) | <input type="submit" name="Export\_Submit" class="button button-secondary ewd-feup-admin-export-button" value="<?php \_e('Export to Excel', 'front-end-only-users'); ?>"  /> |
| [23](#L23) | </form> |
| [24](#L24) | <?php } else{ |
| [25](#L25) | \_e("The full version of the Front End Users plugin is required to export products.", 'front-end-only-users'); ?><br /><a href="https://www.etoilewebdesign.com/plugins/front-end-only-users/#buy" target="\_blank"><?php \_e("Please upgrade to unlock this feature!", 'front-end-only-users'); ?></a> |
| [26](#L26) | <?php } ?> |
| [27](#L27) | </div> |
| [28](#L28) | </div> |
| [29](#L29) | </div> |
| [30](#L30) |  |
| [31](#L31) | <!-- Display a list of the products which have already been created --> |
| [32](#L32) | <?php wp\_nonce\_field(); ?> |
| [33](#L33) | <?php wp\_referer\_field(); ?> |
| [34](#L34) |  |
| [35](#L35) | <?php |
| [36](#L36) | if (isset($\_GET['Page'])) {$Page = intval( $\_GET['Page'] );} |
| [37](#L37) | else {$Page = 1;} |
| [38](#L38) |  |
| [39](#L39) | if ( isset( $\_GET['OrderBy'] ) and in\_array( $\_GET['OrderBy'], array( 'User\_Admin\_Approved', 'User\_WP\_ID', 'User\_Last\_Login', 'User\_Date\_Created' ) ) or ewd\_feup\_field\_name\_exists( $\_GET['OrderBy'] ) ) { $OrderBy = $\_GET['OrderBy']; } |
| [40](#L40) | else { $OrderBy = 'User\_Date\_Created'; } |
| [41](#L41) |  |
| [42](#L42) | $Order = ( isset( $\_GET['Order'] ) and $\_GET['Order'] == 'DESC' ) ? 'DESC' : 'ASC'; |
| [43](#L43) |  |
| [44](#L44) | $Fields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Show\_In\_Admin='Yes'"); |
| [45](#L45) | $AllFields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name"); |
| [46](#L46) |  |
| [47](#L47) | $Sql = "SELECT DISTINCT $ewd\_feup\_user\_table\_name.User\_ID FROM $ewd\_feup\_user\_table\_name "; |
| [48](#L48) | $Sql .= "INNER JOIN $ewd\_feup\_user\_fields\_table\_name ON $ewd\_feup\_user\_table\_name.User\_ID=$ewd\_feup\_user\_fields\_table\_name.User\_ID "; |
| [49](#L49) | if (isset($\_REQUEST['UserSearchValue']) and $\_REQUEST['UserSearchField'] == "Username") { |
| [50](#L50) | $Sql .= "WHERE " . esc\_sql( $\_REQUEST['UserSearchField'] ) . " "; |
| [51](#L51) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [52](#L52) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [53](#L53) | } |
| [54](#L54) | elseif (isset($\_REQUEST['UserSearchValue'])) { |
| [55](#L55) | $Sql .= "WHERE Field\_ID=" . esc\_sql( $\_REQUEST['UserSearchField'] ) . " AND Field\_Value "; |
| [56](#L56) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [57](#L57) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [58](#L58) | } |
| [59](#L59) | if (isset($\_GET['OrderBy']) and $\_GET['DisplayPage'] == "Users") { |
| [60](#L60) | if ($\_REQUEST['OrderBy'] == "User\_Last\_Login" or $\_REQUEST['OrderBy'] == "User\_Date\_Created" or $\_REQUEST['OrderBy'] == "User\_Admin\_Approved") {$Sql .= "ORDER BY " . $OrderBy . " " . $Order . " ";} |
| [61](#L61) | else { |
| [62](#L62) | $OrderBy\_Field\_ID = $wpdb->get\_var($wpdb->prepare("SELECT Field\_ID FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Name=%s", $OrderBy)); |
| [63](#L63) | $User\_IDs = $wpdb->get\_results($wpdb->prepare("SELECT User\_ID FROM $ewd\_feup\_user\_fields\_table\_name WHERE Field\_ID=%d ORDER BY Field\_Value %s", $OrderBy\_Field\_ID, $Order)); |
| [64](#L64) | $OrderBy\_User\_IDs = array(); |
| [65](#L65) | foreach ($User\_IDs as $User\_ID) {$OrderBy\_User\_IDs[] = $User\_ID->User\_ID;} |
| [66](#L66) | $Sql .= "ORDER BY FIELD($ewd\_feup\_user\_table\_name.User\_ID, " . esc\_sql( implode(",", $OrderBy\_User\_IDs) ) . ")"; |
| [67](#L67) | } |
| [68](#L68) | } |
| [69](#L69) | else {$Sql .= "ORDER BY User\_Date\_Created ";} |
| [70](#L70) | $RowCount = $wpdb->get\_results($Sql); |
| [71](#L71) | $Number\_of\_Pages = ceil($wpdb->num\_rows/20); |
| [72](#L72) | $UserCount = $wpdb->num\_rows; |
| [73](#L73) | $Sql .= "LIMIT " . ($Page - 1)\*20 . ",20"; |
| [74](#L74) | $myrows = $wpdb->get\_results($Sql); |
| [75](#L75) | $Current\_Page\_With\_Order\_By = "admin.php?page=EWD-FEUP-options&DisplayPage=Users"; |
| [76](#L76) | if (isset($\_GET['OrderBy'])) {$Current\_Page\_With\_Order\_By .= "&OrderBy=" . $OrderBy . "&Order=" . $Order;} |
| [77](#L77) | if (isset($\_REQUEST['UserSearchValue'])) {$Current\_Page\_With\_Order\_By .= "&UserSearchValue=" . rawurlencode( $\_REQUEST['UserSearchValue'] ) . "&UserSearchField=" . rawurlencode( $\_REQUEST['UserSearchField'] ) . "&UserSearchOperator=" . rawurlencode( $\_REQUEST['UserSearchOperator'] );} |
| [78](#L78) | ?> |
| [79](#L79) |  |
| [80](#L80) | <form action="<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_MassUserAction&DisplayPage=Users' ); ?>" method="post"> |
| [81](#L81) | <p class="search-box"> |
| [82](#L82) | <label class="screen-reader-text" for="post-search-input">Search Users:</label> |
| [83](#L83) | <select name='UserSearchField' class='ewd-admin-select-search'> |
| [84](#L84) | <option value='Username'>Username</option> |
| [85](#L85) | <?php |
| [86](#L86) | foreach ($AllFields as $Field) { |
| [87](#L87) | echo "<option value='" . $Field->Field\_ID . "'>" . $Field->Field\_Name . "</option>"; |
| [88](#L88) | } |
| [89](#L89) | ?> |
| [90](#L90) | </select> |
| [91](#L91) | <select name='UserSearchOperator' class='ewd-admin-select-search'> |
| [92](#L92) | <option value='LIKE'>Like</option> |
| [93](#L93) | <option value='EQUALS'>Equals</option> |
| [94](#L94) | </select> |
| [95](#L95) | <input type="search" id="post-search-input" name="UserSearchValue" value=""> |
| [96](#L96) | <input type="submit" name="" id="search-submit" class="button" value="Search Users"> |
| [97](#L97) | <br /> |
| [98](#L98) | <a class='feup-confirm-all-users button-secondary action ewd-feup-admin-delete-all-products-button' href='<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteAllUsers&DisplayPage=Users' ); ?>'><?php \_e("Delete All Users", 'front-end-only-users'); ?></a> |
| [99](#L99) | </p> |
| [100](#L100) | <div class="tablenav top"> |
| [101](#L101) | <div class="alignleft actions"> |
| [102](#L102) | <select name='action'> |
| [103](#L103) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [104](#L104) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [105](#L105) | <option value='approve'><?php \_e("Approve", 'front-end-only-users') ?></option> |
| [106](#L106) | <option value='0'>Level: None (0)</option> |
| [107](#L107) | <?php |
| [108](#L108) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name"); |
| [109](#L109) | if (is\_array($Levels)) { |
| [110](#L110) | foreach ($Levels as $Level) { |
| [111](#L111) | echo "<option value='" . $Level->Level\_ID . "'>Level: " . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [112](#L112) | } |
| [113](#L113) | } |
| [114](#L114) | ?> |
| [115](#L115) | </select> |
| [116](#L116) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [117](#L117) | </div> |
| [118](#L118) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [119](#L119) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?> <?php if ($EWD\_FEUP\_Full\_Version != "Yes") {echo "out of 100";}?></span> |
| [120](#L120) | <span class='pagination-links'> |
| [121](#L121) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [122](#L122) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [123](#L123) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [124](#L124) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [125](#L125) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [126](#L126) | </span> |
| [127](#L127) | </div> |
| [128](#L128) | </div> |
| [129](#L129) |  |
| [130](#L130) | <table class="wp-list-table striped widefat tags sorttable fields-list ui-sortable" cellspacing="0"> |
| [131](#L131) | <thead> |
| [132](#L132) | <tr> |
| [133](#L133) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [134](#L134) | <input type="checkbox" /> |
| [135](#L135) | </th> |
| [136](#L136) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [137](#L137) | <span>Username</span> |
| [138](#L138) | </th> |
| [139](#L139) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [140](#L140) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [141](#L141) | else {$Order = "ASC";} ?> |
| [142](#L142) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [143](#L143) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [144](#L144) | <span>Admin Approved</span> |
| [145](#L145) | <span class="sorting-indicator"></span> |
| [146](#L146) | </a> |
| [147](#L147) | </th> |
| [148](#L148) | <?php } ?> |
| [149](#L149) | <?php foreach ($Fields as $Field) { ?> |
| [150](#L150) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [151](#L151) | else {$Order = "ASC";} ?> |
| [152](#L152) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [153](#L153) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [154](#L154) | <span><?php echo $Field->Field\_Name; ?></span> |
| [155](#L155) | <span class="sorting-indicator"></span> |
| [156](#L156) | </a> |
| [157](#L157) | </th> |
| [158](#L158) | <?php } ?> |
| [159](#L159) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [160](#L160) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [161](#L161) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [162](#L162) | else {$Order = "ASC";} ?> |
| [163](#L163) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [164](#L164) | <span>WordPress User?</span> |
| [165](#L165) | <span class="sorting-indicator"></span> |
| [166](#L166) | </th> |
| [167](#L167) | <?php } ?> |
| [168](#L168) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [169](#L169) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [170](#L170) | else {$Order = "ASC";} ?> |
| [171](#L171) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [172](#L172) | <span>Last Login</span> |
| [173](#L173) | <span class="sorting-indicator"></span> |
| [174](#L174) | </th> |
| [175](#L175) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [176](#L176) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [177](#L177) | else {$Order = "ASC";} ?> |
| [178](#L178) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [179](#L179) | <span>Joined Date</span> |
| [180](#L180) | <span class="sorting-indicator"></span> |
| [181](#L181) | </th> |
| [182](#L182) | </tr> |
| [183](#L183) | </thead> |
| [184](#L184) |  |
| [185](#L185) | <tfoot> |
| [186](#L186) | <tr> |
| [187](#L187) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [188](#L188) | <input type="checkbox" /> |
| [189](#L189) | </th> |
| [190](#L190) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [191](#L191) | <span>Username</span> |
| [192](#L192) | </th> |
| [193](#L193) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [194](#L194) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [195](#L195) | else {$Order = "ASC";} ?> |
| [196](#L196) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [197](#L197) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [198](#L198) | <span>Admin Approved</span> |
| [199](#L199) | <span class="sorting-indicator"></span> |
| [200](#L200) | </a> |
| [201](#L201) | </th> |
| [202](#L202) | <?php } ?> |
| [203](#L203) | <?php foreach ($Fields as $Field) { ?> |
| [204](#L204) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [205](#L205) | else {$Order = "ASC";} ?> |
| [206](#L206) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [207](#L207) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [208](#L208) | <span><?php echo $Field->Field\_Name; ?></span> |
| [209](#L209) | <span class="sorting-indicator"></span> |
| [210](#L210) | </a> |
| [211](#L211) | </th> |
| [212](#L212) | <?php } ?> |
| [213](#L213) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [214](#L214) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [215](#L215) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [216](#L216) | else {$Order = "ASC";} ?> |
| [217](#L217) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [218](#L218) | <span>WordPress User?</span> |
| [219](#L219) | <span class="sorting-indicator"></span> |
| [220](#L220) | </th> |
| [221](#L221) | <?php } ?> |
| [222](#L222) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [223](#L223) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [224](#L224) | else {$Order = "ASC";} ?> |
| [225](#L225) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [226](#L226) | <span>Last Login</span> |
| [227](#L227) | <span class="sorting-indicator"></span> |
| [228](#L228) | </th> |
| [229](#L229) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [230](#L230) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [231](#L231) | else {$Order = "ASC";} ?> |
| [232](#L232) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [233](#L233) | <span>Joined Date</span> |
| [234](#L234) | <span class="sorting-indicator"></span> |
| [235](#L235) | </th> |
| [236](#L236) | </tr> |
| [237](#L237) | </tfoot> |
| [238](#L238) |  |
| [239](#L239) | <tbody id="the-list" class='list:tag'> |
| [240](#L240) |  |
| [241](#L241) | <?php |
| [242](#L242) | if ($myrows) { |
| [243](#L243) | foreach ($myrows as $User\_ID) { |
| [244](#L244) | $FieldCount = 0; |
| [245](#L245) | $User = $wpdb->get\_row( $wpdb->prepare( "SELECT \* FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User\_ID->User\_ID ) ); |
| [246](#L246) | echo "<tr id='User" . $User->User\_ID ."'>"; |
| [247](#L247) | echo "<th scope='row' class='check-column'>"; |
| [248](#L248) | echo "<input type='checkbox' name='Users\_Bulk[]' value='" . $User->User\_ID ."' />"; |
| [249](#L249) | echo "</th>"; |
| [250](#L250) | $Username = $wpdb->get\_var( $wpdb->prepare( "SELECT Username FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User->User\_ID ) ); |
| [251](#L251) | echo "<td class='username column-name'>" . $Username . "</td>"; |
| [252](#L252) | if ($Admin\_Approval == "Yes") { |
| [253](#L253) | echo "<td class='name column-name'>"; |
| [254](#L254) | echo $User->User\_Admin\_Approved; |
| [255](#L255) | echo "</td>"; |
| [256](#L256) | } |
| [257](#L257) | foreach ($Fields as $Field) { |
| [258](#L258) | $User\_Field\_Value = $wpdb->get\_var($wpdb->prepare("SELECT Field\_Value FROM $ewd\_feup\_user\_fields\_table\_name WHERE User\_ID='%d' and Field\_Name='%s'", $User->User\_ID, $Field->Field\_Name)); |
| [259](#L259) |  |
| [260](#L260) | echo "<td class='name column-name'>"; |
| [261](#L261) | if ($FieldCount == 0) { |
| [262](#L262) | echo "<strong>"; |
| [263](#L263) | echo "<a class='row-title' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details&Selected=User&User\_ID=" . $User->User\_ID ."' title='Edit User'>"; |
| [264](#L264) | } |
| [265](#L265) | echo substr( strval($User\_Field\_Value), 0, 60 ); |
| [266](#L266) | if ( strlen( strval($User\_Field\_Value) ) > 60 ) { echo "..."; } |
| [267](#L267) | if ($FieldCount == 0) { |
| [268](#L268) | echo "</a></strong>"; |
| [269](#L269) | echo "<br />"; |
| [270](#L270) | echo "<div class='row-actions'>"; |
| [271](#L271) | echo "<span class='delete'>"; |
| [272](#L272) | echo "<a class='delete-tag feup-confirm-one-user' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteUser&DisplayPage=Users&User\_ID=" . $User->User\_ID ."'>" . \_\_("Delete", 'front-end-only-users') . "</a>"; |
| [273](#L273) | echo "</span>"; |
| [274](#L274) | echo "</div>"; |
| [275](#L275) | echo "<div class='hidden' id='inline\_" . $User->User\_ID ."'>"; |
| [276](#L276) | } |
| [277](#L277) | echo "</td>"; |
| [278](#L278) | $FieldCount++; |
| [279](#L279) | } |
| [280](#L280) | if ($Include\_WP\_Users == "Yes") { |
| [281](#L281) | if ($User->User\_WP\_ID != 0) {echo "<td class='name column-wpuser'>Yes</td>";} |
| [282](#L282) | else {echo "<td class='name column-wpuser'>No</td>";} |
| [283](#L283) | } |
| [284](#L284) | echo "<td class='name column-name'>" .  $User->User\_Last\_Login . "</td>"; |
| [285](#L285) | echo "<td class='name column-name'>" .  $User->User\_Date\_Created . "</td>"; |
| [286](#L286) | echo "</tr>"; |
| [287](#L287) | } |
| [288](#L288) | } |
| [289](#L289) | ?> |
| [290](#L290) |  |
| [291](#L291) | </tbody> |
| [292](#L292) | </table> |
| [293](#L293) |  |
| [294](#L294) | <div class="tablenav bottom"> |
| [295](#L295) | <?php /\*<div class="alignleft actions"> |
| [296](#L296) | <select name='action'> |
| [297](#L297) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [298](#L298) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [299](#L299) | </select> |
| [300](#L300) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [301](#L301) | </div>\*/ ?> |
| [302](#L302) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [303](#L303) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?></span> |
| [304](#L304) | <span class='pagination-links'> |
| [305](#L305) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [306](#L306) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [307](#L307) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [308](#L308) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [309](#L309) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [310](#L310) | </span> |
| [311](#L311) | </div> |
| [312](#L312) | <br class="clear" /> |
| [313](#L313) | </div> |
| [314](#L314) | </form> |
| [315](#L315) |  |
| [316](#L316) | <br class="clear" /> |
| [317](#L317) | </div> |
| [318](#L318) | </div> <!-- /col-right --> |
| [319](#L319) |  |
| [320](#L320) | <!-- Form to upload a list of new products from a spreadsheet --> |
| [321](#L321) | <div id="col-left" class="feup-hidden"> |
| [322](#L322) | <div class="col-wrap"> |
| [323](#L323) |  |
| [324](#L324) | <div class="form-wrap"> |
| [325](#L325) |  |
| [326](#L326) | <div id="ewd-feup-admin-add-manually"> |
| [327](#L327) |  |
| [328](#L328) | <h2><?php \_e("Add New User", 'front-end-only-users') ?></h2> |
| [329](#L329) | <?php |
| [330](#L330) | $Fields = $AllFields; |
| [331](#L331) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name ORDER BY Level\_Privilege ASC"); |
| [332](#L332) | ?> |
| [333](#L333) | <!-- Form to create a new product --> |
| [334](#L334) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUser&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [335](#L335) | <input type="hidden" name="action" value="Add\_User" /> |
| [336](#L336) | <input type='hidden' name='ewd-registration-type' value='FEUP'> |
| [337](#L337) | <?php wp\_nonce\_field( 'EWD\_FEUP\_Admin\_Nonce', 'EWD\_FEUP\_Admin\_Nonce' );  ?> |
| [338](#L338) | <?php wp\_referer\_field(); ?> |
| [339](#L339) | <?php if($Username\_Is\_Email == "Yes") { ?> |
| [340](#L340) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Email', 'front-end-only-users');?>: </label> |
| [341](#L341) | <input type='email' class='ewd-feup-text-input' name='Username'> |
| [342](#L342) | <?php } else {?> |
| [343](#L343) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Username', 'front-end-only-users');?>: </label> |
| [344](#L344) | <input type='text' class='ewd-feup-text-input' name='Username'> |
| [345](#L345) | <?php } ?> |
| [346](#L346) | <label for='Password' id='ewd-feup-register-password-div' class='ewd-feup-field-label'><?php \_e('Password', 'front-end-only-users')?>: </label> |
| [347](#L347) | <input type='password' class='ewd-feup-text-input ewd-feup-password-input' name='User\_Password'> |
| [348](#L348) | <label for='Repeat Password' id='ewd-feup-register-password-confirm-div' class='ewd-feup-field-label'><?php \_e('Repeat Password', 'front-end-only-users');?>: </label> |
| [349](#L349) | <input type='password' class='ewd-feup-text-input ewd-feup-check-password-input' name='Confirm\_User\_Password'> |
| [350](#L350) | <label for='Password Strength' id='ewd-feup-password-strength' class='ewd-feup-field-label'><?php \_e('Password Strength', 'front-end-only-users') ?>: </label> |
| [351](#L351) | <span id='ewd-feup-password-result'>Too Short</span> |
| [352](#L352) | <label for='Level ID' id='ewd-feup-register-user-level-div' class='ewd-feup-field-label'><?php \_e('User Level', 'front-end-only-users');?>: </label> |
| [353](#L353) | <select name='Level\_ID'> |
| [354](#L354) | <option value='0'>None (0)</option> |
| [355](#L355) | <?php foreach ($Levels as $Level) { |
| [356](#L356) | echo "<option value='" . $Level->Level\_ID . "'>" . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [357](#L357) | }?> |
| [358](#L358) | </select> |
| [359](#L359) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [360](#L360) | <label for='Admin Approved' id='ewd-feup-register-admin-approved-div' class='ewd-feup-field-label'><?php \_e('Admin Approved', 'front-end-only-users');?>: </label> |
| [361](#L361) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='Yes'>Yes<br /> |
| [362](#L362) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='No'>No<br /> |
| [363](#L363) | <?php } ?> |
| [364](#L364) | <?php foreach ($Fields as $Field) { ?> |
| [365](#L365) | <div class="form-field form-required"> |
| [366](#L366) | <label for="<?php echo $Field->Field\_Name; ?>"><?php echo $Field->Field\_Name; ?></label> |
| [367](#L367) | <?php if ($Field->Field\_Type == "text") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="text" value="" size="60" /> |
| [368](#L368) | <?php } elseif ($Field->Field\_Type == "mediumint") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="number" value="" size="60" /> |
| [369](#L369) | <?php } elseif ($Field->Field\_Type == "email") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="email" value="" size="60" /> |
| [370](#L370) | <?php } elseif ($Field->Field\_Type == "tel") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="tel" value="" size="60" /> |
| [371](#L371) | <?php } elseif ($Field->Field\_Type == "url") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="url" value="" size="60" /> |
| [372](#L372) | <?php } elseif ($Field->Field\_Type == "date") {?> |
| [373](#L373) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-date-input pure-input-1-3' type='date' value='' /> |
| [374](#L374) | <?php } elseif ($Field->Field\_Type == "datetime") { ?> |
| [375](#L375) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-datetime-input pure-input-1-3' type='datetime-local' value='' /> |
| [376](#L376) | <?php } elseif ($Field->Field\_Type == "textarea") { ?> |
| [377](#L377) | <textarea name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"></textarea> |
| [378](#L378) | <?php } elseif ($Field->Field\_Type == "file") {?> |
| [379](#L379) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [380](#L380) | <?php } elseif ($Field->Field\_Type == "picture") {?> |
| [381](#L381) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [382](#L382) | <?php } elseif ($Field->Field\_Type == "select" or $Field->Field\_Type == "countries") { ?> |
| [383](#L383) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [384](#L384) | <?php if ($Field->Field\_Type == "countries") {$Options = EWD\_FEUP\_Return\_Country\_Array();} ?> |
| [385](#L385) | <select name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"> |
| [386](#L386) | <?php foreach ($Options as $Option) { ?><option value='<?php echo $Option; ?>'><?php echo $Option; ?></option><?php } ?> |
| [387](#L387) | </select> |
| [388](#L388) | <?php } elseif ($Field->Field\_Type == "radio") { ?> |
| [389](#L389) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [390](#L390) | <?php foreach ($Options as $Option) { ?><input type='radio' class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>" value="<?php echo $Option; ?>"><?php echo $Option ?><br/><?php } ?> |
| [391](#L391) | <?php } elseif ($Field->Field\_Type == "checkbox") { ?> |
| [392](#L392) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [393](#L393) | <?php foreach ($Options as $Option) { ?><input type="checkbox" class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>[]" value="<?php echo $Option; ?>"><?php echo $Option; ?></br><?php } ?> |
| [394](#L394) | <?php } ?> |
| [395](#L395) | <p><?php echo $Field->Field\_Description; ?></p> |
| [396](#L396) | </div> |
| [397](#L397) | <?php } ?> |
| [398](#L398) |  |
| [399](#L399) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New User', 'front-end-only-users') ?>"  /></p></form> |
| [400](#L400) |  |
| [401](#L401) | </div> <!-- ewd-feup-admin-add-manually --> |
| [402](#L402) |  |
| [403](#L403) |  |
| [404](#L404) | <div id="ewd-feup-admin-add-from-spreadsheet"> |
| [405](#L405) | <h3><?php \_e("Add Users from Spreadsheet", 'front-end-only-users') ?></h3> |
| [406](#L406) | <?php if ($EWD\_FEUP\_Full\_Version == "Yes") { ?> |
| [407](#L407) | <div class="wrap"> |
| [408](#L408) |  |
| [409](#L409) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUserSpreadsheet&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [410](#L410) | <?php wp\_nonce\_field(); ?> |
| [411](#L411) | <div class="form-field form-required"> |
| [412](#L412) | <label for="Users\_Spreadsheet"><?php \_e("Spreadsheet Containing Users", 'front-end-only-users') ?></label> |
| [413](#L413) | <input name="Users\_Spreadsheet" id="Users\_Spreadsheet" type="file" value=""/> |
| [414](#L414) | <p><?php \_e("The spreadsheet containing all of the users you wish to add. Make sure that the column title names are the same as the field names for users (ex: Username, Email, First Name, etc.).", 'front-end-only-users') ?></p> |
| [415](#L415) | </div> |
| [416](#L416) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New Users', 'front-end-only-users') ?>"  /></p> |
| [417](#L417) | </form> |
| [418](#L418) | </div> |
| [419](#L419) |  |
| [420](#L420) | <?php } else { ?> |
| [421](#L421) | <div class="Info-Div"> |
| [422](#L422) | <h2><?php \_e("Full Version Required!", 'front-end-only-users') ?></h2> |
| [423](#L423) | <div class="ewd-feup-full-version-explanation"> |
| [424](#L424) | <?php \_e("The full version of Front-End Only Users is required to use tags.", 'front-end-only-users');?><a href="http://www.etoilewebdesign.com/front-end-users-plugin/"><?php \_e(" Please upgrade to unlock this page!", 'front-end-only-users'); ?></a> |
| [425](#L425) | </div> |
| [426](#L426) | </div> |
| [427](#L427) | <?php } ?> |
| [428](#L428) | </div> |
| [429](#L429) |  |
| [430](#L430) | </div> |
| [431](#L431) |  |
| [432](#L432) | <br class="clear" /> |
| [433](#L433) |  |
| [434](#L434) | </div> |
| [435](#L435) | </div> <!-- col-left --> |
| [436](#L436) |  |
| [437](#L437) |  |
| [438](#L438) |  |
| [439](#L439) | <?php |
| [440](#L440) |  |
| [441](#L441) | function ewd\_feup\_field\_name\_exists( $field\_name) { |
| [442](#L442) | global $wpdb; |
| [443](#L443) | global $ewd\_feup\_fields\_table\_name; |
| [444](#L444) |  |
| [445](#L445) | $fields = $wpdb->get\_results("SELECT Field\_Name FROM $ewd\_feup\_fields\_table\_name"); |
| [446](#L446) |  |
| [447](#L447) | foreach ( $fields as $field ) { |
| [448](#L448) | if ( $field\_name == $field->Field\_Name ) { return true; } |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | return false; |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/front-end-only-users/trunk/html/UsersPage.php?format=txt)
* [Original Format](/export/3220495/front-end-only-users/trunk/html/UsersPage.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_a26945ff_20250111_002918.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffront-end-only-users%2Ftrunk%2Fhtml%2FUsersPage.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/front-end-only-users/trunk/html/UsersPage.php?rev=2837468 "Revision 2837468")
* Next Revision →
* [Blame](/browser/front-end-only-users/trunk/html/UsersPage.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/front-end-only-users/trunk/html/UsersPage.php)

---

# [source:](/browser?order=name "Go to repository root") [front-end-only-users](/browser/front-end-only-users?order=name "View front-end-only-users")/[trunk](/browser/front-end-only-users/trunk?order=name "View trunk")/[html](/browser/front-end-only-users/trunk/html?order=name "View html")/[UsersPage.php](/browser/front-end-only-users/trunk/html/UsersPage.php?order=name "View UsersPage.php")

View diff against:

View revision:

| [Last change](/changeset/2895308/front-end-only-users/trunk/html/UsersPage.php "View differences") on this file was [2895308](/changeset/2895308/ "View changeset 2895308"), checked in by Rustaurius, [22 months ago](/timeline?from=2023-04-06T21%3A19%3A41Z&precision=second "See timeline at 04/06/2023 09:19:41 PM") |
| --- |
| v3.2.25 released and tagged |
| **File size:** 26.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $Admin\_Approval = get\_option("EWD\_FEUP\_Admin\_Approval"); |
| [3](#L3) | $Username\_Is\_Email = get\_option("EWD\_FEUP\_Username\_Is\_Email"); |
| [4](#L4) | $Include\_WP\_Users = get\_option("EWD\_FEUP\_Include\_WP\_Users"); |
| [5](#L5) | ?> |
| [6](#L6) | <div id="col-right" class="feup-overlfow-auto ewd-feup-admin-products-table-full"> |
| [7](#L7) | <div class="col-wrap"> |
| [8](#L8) |  |
| [9](#L9) | <div class="ewd-feup-admin-new-product-page-top-part"> |
| [10](#L10) | <div class="ewd-feup-admin-new-product-page-top-part-left"> |
| [11](#L11) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Add New User', 'front-end-only-users'); ?></h3> |
| [12](#L12) | <div class="ewd-feup-admin-add-new-product-buttons-area"> |
| [13](#L13) | <a href="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details" class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-manually-add-product-button"><?php \_e('Manually', 'front-end-only-users'); ?></a> |
| [14](#L14) | <div class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-add-by-spreadsheet-button"><?php \_e('From Spreadsheet', 'front-end-only-users'); ?></div> |
| [15](#L15) | </div> |
| [16](#L16) | </div> |
| [17](#L17) | <div class="ewd-feup-admin-new-product-page-top-part-right"> |
| [18](#L18) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Export Users to Spreasheet', 'front-end-only-users'); ?></h3> |
| [19](#L19) | <div class="ewd-feup-admin-export-buttons-area"> |
| [20](#L20) | <?php if($EWD\_FEUP\_Full\_Version == 'Yes'){ ?> |
| [21](#L21) | <form method="post" action="admin.php?page=EWD-FEUP-options&DisplayPage=Users&Action=EWD\_FEUP\_ExportToExcel"> |
| [22](#L22) | <input type="submit" name="Export\_Submit" class="button button-secondary ewd-feup-admin-export-button" value="<?php \_e('Export to Excel', 'front-end-only-users'); ?>"  /> |
| [23](#L23) | </form> |
| [24](#L24) | <?php } else{ |
| [25](#L25) | \_e("The full version of the Front End Users plugin is required to export products.", 'front-end-only-users'); ?><br /><a href="https://www.etoilewebdesign.com/plugins/front-end-only-users/#buy" target="\_blank"><?php \_e("Please upgrade to unlock this feature!", 'front-end-only-users'); ?></a> |
| [26](#L26) | <?php } ?> |
| [27](#L27) | </div> |
| [28](#L28) | </div> |
| [29](#L29) | </div> |
| [30](#L30) |  |
| [31](#L31) | <!-- Display a list of the products which have already been created --> |
| [32](#L32) | <?php wp\_nonce\_field(); ?> |
| [33](#L33) | <?php wp\_referer\_field(); ?> |
| [34](#L34) |  |
| [35](#L35) | <?php |
| [36](#L36) | if (isset($\_GET['Page'])) {$Page = intval( $\_GET['Page'] );} |
| [37](#L37) | else {$Page = 1;} |
| [38](#L38) |  |
| [39](#L39) | if ( isset( $\_GET['OrderBy'] ) and in\_array( $\_GET['OrderBy'], array( 'User\_Admin\_Approved', 'User\_WP\_ID', 'User\_Last\_Login', 'User\_Date\_Created' ) ) or ewd\_feup\_field\_name\_exists( $\_GET['OrderBy'] ) ) { $OrderBy = $\_GET['OrderBy']; } |
| [40](#L40) | else { $OrderBy = 'User\_Date\_Created'; } |
| [41](#L41) |  |
| [42](#L42) | $Order = ( isset( $\_GET['Order'] ) and $\_GET['Order'] == 'DESC' ) ? 'DESC' : 'ASC'; |
| [43](#L43) |  |
| [44](#L44) | $Fields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Show\_In\_Admin='Yes'"); |
| [45](#L45) | $AllFields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name"); |
| [46](#L46) |  |
| [47](#L47) | $Sql = "SELECT DISTINCT $ewd\_feup\_user\_table\_name.User\_ID FROM $ewd\_feup\_user\_table\_name "; |
| [48](#L48) | $Sql .= "INNER JOIN $ewd\_feup\_user\_fields\_table\_name ON $ewd\_feup\_user\_table\_name.User\_ID=$ewd\_feup\_user\_fields\_table\_name.User\_ID "; |
| [49](#L49) | if (isset($\_REQUEST['UserSearchValue']) and $\_REQUEST['UserSearchField'] == "Username") { |
| [50](#L50) | $Sql .= "WHERE " . esc\_sql( $\_REQUEST['UserSearchField'] ) . " "; |
| [51](#L51) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [52](#L52) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [53](#L53) | } |
| [54](#L54) | elseif (isset($\_REQUEST['UserSearchValue'])) { |
| [55](#L55) | $Sql .= "WHERE Field\_ID=" . esc\_sql( $\_REQUEST['UserSearchField'] ) . " AND Field\_Value "; |
| [56](#L56) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [57](#L57) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [58](#L58) | } |
| [59](#L59) | if (isset($\_GET['OrderBy']) and $\_GET['DisplayPage'] == "Users") { |
| [60](#L60) | if ($\_REQUEST['OrderBy'] == "User\_Last\_Login" or $\_REQUEST['OrderBy'] == "User\_Date\_Created" or $\_REQUEST['OrderBy'] == "User\_Admin\_Approved") {$Sql .= "ORDER BY " . $OrderBy . " " . $Order . " ";} |
| [61](#L61) | else { |
| [62](#L62) | $OrderBy\_Field\_ID = $wpdb->get\_var($wpdb->prepare("SELECT Field\_ID FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Name=%s", $OrderBy)); |
| [63](#L63) | $User\_IDs = $wpdb->get\_results($wpdb->prepare("SELECT User\_ID FROM $ewd\_feup\_user\_fields\_table\_name WHERE Field\_ID=%d ORDER BY Field\_Value %s", $OrderBy\_Field\_ID, $Order)); |
| [64](#L64) | $OrderBy\_User\_IDs = array(); |
| [65](#L65) | foreach ($User\_IDs as $User\_ID) {$OrderBy\_User\_IDs[] = $User\_ID->User\_ID;} |
| [66](#L66) | $Sql .= "ORDER BY FIELD($ewd\_feup\_user\_table\_name.User\_ID, " . esc\_sql( implode(",", $OrderBy\_User\_IDs) ) . ")"; |
| [67](#L67) | } |
| [68](#L68) | } |
| [69](#L69) | else {$Sql .= "ORDER BY User\_Date\_Created ";} |
| [70](#L70) | $RowCount = $wpdb->get\_results($Sql); |
| [71](#L71) | $Number\_of\_Pages = ceil($wpdb->num\_rows/20); |
| [72](#L72) | $UserCount = $wpdb->num\_rows; |
| [73](#L73) | $Sql .= "LIMIT " . ($Page - 1)\*20 . ",20"; |
| [74](#L74) | $myrows = $wpdb->get\_results($Sql); |
| [75](#L75) | $Current\_Page\_With\_Order\_By = "admin.php?page=EWD-FEUP-options&DisplayPage=Users"; |
| [76](#L76) | if (isset($\_GET['OrderBy'])) {$Current\_Page\_With\_Order\_By .= "&OrderBy=" . $OrderBy . "&Order=" . $Order;} |
| [77](#L77) | if (isset($\_REQUEST['UserSearchValue'])) {$Current\_Page\_With\_Order\_By .= "&UserSearchValue=" . rawurlencode( $\_REQUEST['UserSearchValue'] ) . "&UserSearchField=" . rawurlencode( $\_REQUEST['UserSearchField'] ) . "&UserSearchOperator=" . rawurlencode( $\_REQUEST['UserSearchOperator'] );} |
| [78](#L78) | ?> |
| [79](#L79) |  |
| [80](#L80) | <form action="<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_MassUserAction&DisplayPage=Users' ); ?>" method="post"> |
| [81](#L81) | <p class="search-box"> |
| [82](#L82) | <label class="screen-reader-text" for="post-search-input">Search Users:</label> |
| [83](#L83) | <select name='UserSearchField' class='ewd-admin-select-search'> |
| [84](#L84) | <option value='Username'>Username</option> |
| [85](#L85) | <?php |
| [86](#L86) | foreach ($AllFields as $Field) { |
| [87](#L87) | echo "<option value='" . $Field->Field\_ID . "'>" . $Field->Field\_Name . "</option>"; |
| [88](#L88) | } |
| [89](#L89) | ?> |
| [90](#L90) | </select> |
| [91](#L91) | <select name='UserSearchOperator' class='ewd-admin-select-search'> |
| [92](#L92) | <option value='LIKE'>Like</option> |
| [93](#L93) | <option value='EQUALS'>Equals</option> |
| [94](#L94) | </select> |
| [95](#L95) | <input type="search" id="post-search-input" name="UserSearchValue" value=""> |
| [96](#L96) | <input type="submit" name="" id="search-submit" class="button" value="Search Users"> |
| [97](#L97) | <br /> |
| [98](#L98) | <a class='feup-confirm-all-users button-secondary action ewd-feup-admin-delete-all-products-button' href='<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteAllUsers&DisplayPage=Users' ); ?>'><?php \_e("Delete All Users", 'front-end-only-users'); ?></a> |
| [99](#L99) | </p> |
| [100](#L100) | <div class="tablenav top"> |
| [101](#L101) | <div class="alignleft actions"> |
| [102](#L102) | <select name='action'> |
| [103](#L103) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [104](#L104) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [105](#L105) | <option value='approve'><?php \_e("Approve", 'front-end-only-users') ?></option> |
| [106](#L106) | <option value='0'>Level: None (0)</option> |
| [107](#L107) | <?php |
| [108](#L108) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name"); |
| [109](#L109) | if (is\_array($Levels)) { |
| [110](#L110) | foreach ($Levels as $Level) { |
| [111](#L111) | echo "<option value='" . $Level->Level\_ID . "'>Level: " . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [112](#L112) | } |
| [113](#L113) | } |
| [114](#L114) | ?> |
| [115](#L115) | </select> |
| [116](#L116) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [117](#L117) | </div> |
| [118](#L118) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [119](#L119) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?> <?php if ($EWD\_FEUP\_Full\_Version != "Yes") {echo "out of 100";}?></span> |
| [120](#L120) | <span class='pagination-links'> |
| [121](#L121) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [122](#L122) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [123](#L123) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [124](#L124) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [125](#L125) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [126](#L126) | </span> |
| [127](#L127) | </div> |
| [128](#L128) | </div> |
| [129](#L129) |  |
| [130](#L130) | <table class="wp-list-table striped widefat tags sorttable fields-list ui-sortable" cellspacing="0"> |
| [131](#L131) | <thead> |
| [132](#L132) | <tr> |
| [133](#L133) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [134](#L134) | <input type="checkbox" /> |
| [135](#L135) | </th> |
| [136](#L136) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [137](#L137) | <span>Username</span> |
| [138](#L138) | </th> |
| [139](#L139) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [140](#L140) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [141](#L141) | else {$Order = "ASC";} ?> |
| [142](#L142) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [143](#L143) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [144](#L144) | <span>Admin Approved</span> |
| [145](#L145) | <span class="sorting-indicator"></span> |
| [146](#L146) | </a> |
| [147](#L147) | </th> |
| [148](#L148) | <?php } ?> |
| [149](#L149) | <?php foreach ($Fields as $Field) { ?> |
| [150](#L150) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [151](#L151) | else {$Order = "ASC";} ?> |
| [152](#L152) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [153](#L153) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [154](#L154) | <span><?php echo $Field->Field\_Name; ?></span> |
| [155](#L155) | <span class="sorting-indicator"></span> |
| [156](#L156) | </a> |
| [157](#L157) | </th> |
| [158](#L158) | <?php } ?> |
| [159](#L159) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [160](#L160) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [161](#L161) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [162](#L162) | else {$Order = "ASC";} ?> |
| [163](#L163) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [164](#L164) | <span>WordPress User?</span> |
| [165](#L165) | <span class="sorting-indicator"></span> |
| [166](#L166) | </th> |
| [167](#L167) | <?php } ?> |
| [168](#L168) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [169](#L169) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [170](#L170) | else {$Order = "ASC";} ?> |
| [171](#L171) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [172](#L172) | <span>Last Login</span> |
| [173](#L173) | <span class="sorting-indicator"></span> |
| [174](#L174) | </th> |
| [175](#L175) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [176](#L176) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [177](#L177) | else {$Order = "ASC";} ?> |
| [178](#L178) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [179](#L179) | <span>Joined Date</span> |
| [180](#L180) | <span class="sorting-indicator"></span> |
| [181](#L181) | </th> |
| [182](#L182) | </tr> |
| [183](#L183) | </thead> |
| [184](#L184) |  |
| [185](#L185) | <tfoot> |
| [186](#L186) | <tr> |
| [187](#L187) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [188](#L188) | <input type="checkbox" /> |
| [189](#L189) | </th> |
| [190](#L190) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [191](#L191) | <span>Username</span> |
| [192](#L192) | </th> |
| [193](#L193) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [194](#L194) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [195](#L195) | else {$Order = "ASC";} ?> |
| [196](#L196) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [197](#L197) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [198](#L198) | <span>Admin Approved</span> |
| [199](#L199) | <span class="sorting-indicator"></span> |
| [200](#L200) | </a> |
| [201](#L201) | </th> |
| [202](#L202) | <?php } ?> |
| [203](#L203) | <?php foreach ($Fields as $Field) { ?> |
| [204](#L204) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [205](#L205) | else {$Order = "ASC";} ?> |
| [206](#L206) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [207](#L207) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [208](#L208) | <span><?php echo $Field->Field\_Name; ?></span> |
| [209](#L209) | <span class="sorting-indicator"></span> |
| [210](#L210) | </a> |
| [211](#L211) | </th> |
| [212](#L212) | <?php } ?> |
| [213](#L213) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [214](#L214) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [215](#L215) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [216](#L216) | else {$Order = "ASC";} ?> |
| [217](#L217) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [218](#L218) | <span>WordPress User?</span> |
| [219](#L219) | <span class="sorting-indicator"></span> |
| [220](#L220) | </th> |
| [221](#L221) | <?php } ?> |
| [222](#L222) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [223](#L223) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [224](#L224) | else {$Order = "ASC";} ?> |
| [225](#L225) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [226](#L226) | <span>Last Login</span> |
| [227](#L227) | <span class="sorting-indicator"></span> |
| [228](#L228) | </th> |
| [229](#L229) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [230](#L230) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [231](#L231) | else {$Order = "ASC";} ?> |
| [232](#L232) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [233](#L233) | <span>Joined Date</span> |
| [234](#L234) | <span class="sorting-indicator"></span> |
| [235](#L235) | </th> |
| [236](#L236) | </tr> |
| [237](#L237) | </tfoot> |
| [238](#L238) |  |
| [239](#L239) | <tbody id="the-list" class='list:tag'> |
| [240](#L240) |  |
| [241](#L241) | <?php |
| [242](#L242) | if ($myrows) { |
| [243](#L243) | foreach ($myrows as $User\_ID) { |
| [244](#L244) | $FieldCount = 0; |
| [245](#L245) | $User = $wpdb->get\_row( $wpdb->prepare( "SELECT \* FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User\_ID->User\_ID ) ); |
| [246](#L246) | echo "<tr id='User" . $User->User\_ID ."'>"; |
| [247](#L247) | echo "<th scope='row' class='check-column'>"; |
| [248](#L248) | echo "<input type='checkbox' name='Users\_Bulk[]' value='" . $User->User\_ID ."' />"; |
| [249](#L249) | echo "</th>"; |
| [250](#L250) | $Username = $wpdb->get\_var( $wpdb->prepare( "SELECT Username FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User->User\_ID ) ); |
| [251](#L251) | echo "<td class='username column-name'>" . $Username . "</td>"; |
| [252](#L252) | if ($Admin\_Approval == "Yes") { |
| [253](#L253) | echo "<td class='name column-name'>"; |
| [254](#L254) | echo $User->User\_Admin\_Approved; |
| [255](#L255) | echo "</td>"; |
| [256](#L256) | } |
| [257](#L257) | foreach ($Fields as $Field) { |
| [258](#L258) | $User\_Field\_Value = $wpdb->get\_var($wpdb->prepare("SELECT Field\_Value FROM $ewd\_feup\_user\_fields\_table\_name WHERE User\_ID='%d' and Field\_Name='%s'", $User->User\_ID, $Field->Field\_Name)); |
| [259](#L259) |  |
| [260](#L260) | echo "<td class='name column-name'>"; |
| [261](#L261) | if ($FieldCount == 0) { |
| [262](#L262) | echo "<strong>"; |
| [263](#L263) | echo "<a class='row-title' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details&Selected=User&User\_ID=" . $User->User\_ID ."' title='Edit User'>"; |
| [264](#L264) | } |
| [265](#L265) | echo substr( strval($User\_Field\_Value), 0, 60 ); |
| [266](#L266) | if ( strlen( strval($User\_Field\_Value) ) > 60 ) { echo "..."; } |
| [267](#L267) | if ($FieldCount == 0) { |
| [268](#L268) | echo "</a></strong>"; |
| [269](#L269) | echo "<br />"; |
| [270](#L270) | echo "<div class='row-actions'>"; |
| [271](#L271) | echo "<span class='delete'>"; |
| [272](#L272) | echo "<a class='delete-tag feup-confirm-one-user' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteUser&DisplayPage=Users&User\_ID=" . $User->User\_ID ."'>" . \_\_("Delete", 'front-end-only-users') . "</a>"; |
| [273](#L273) | echo "</span>"; |
| [274](#L274) | echo "</div>"; |
| [275](#L275) | echo "<div class='hidden' id='inline\_" . $User->User\_ID ."'>"; |
| [276](#L276) | } |
| [277](#L277) | echo "</td>"; |
| [278](#L278) | $FieldCount++; |
| [279](#L279) | } |
| [280](#L280) | if ($Include\_WP\_Users == "Yes") { |
| [281](#L281) | if ($User->User\_WP\_ID != 0) {echo "<td class='name column-wpuser'>Yes</td>";} |
| [282](#L282) | else {echo "<td class='name column-wpuser'>No</td>";} |
| [283](#L283) | } |
| [284](#L284) | echo "<td class='name column-name'>" .  $User->User\_Last\_Login . "</td>"; |
| [285](#L285) | echo "<td class='name column-name'>" .  $User->User\_Date\_Created . "</td>"; |
| [286](#L286) | echo "</tr>"; |
| [287](#L287) | } |
| [288](#L288) | } |
| [289](#L289) | ?> |
| [290](#L290) |  |
| [291](#L291) | </tbody> |
| [292](#L292) | </table> |
| [293](#L293) |  |
| [294](#L294) | <div class="tablenav bottom"> |
| [295](#L295) | <?php /\*<div class="alignleft actions"> |
| [296](#L296) | <select name='action'> |
| [297](#L297) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [298](#L298) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [299](#L299) | </select> |
| [300](#L300) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [301](#L301) | </div>\*/ ?> |
| [302](#L302) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [303](#L303) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?></span> |
| [304](#L304) | <span class='pagination-links'> |
| [305](#L305) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [306](#L306) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [307](#L307) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [308](#L308) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [309](#L309) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [310](#L310) | </span> |
| [311](#L311) | </div> |
| [312](#L312) | <br class="clear" /> |
| [313](#L313) | </div> |
| [314](#L314) | </form> |
| [315](#L315) |  |
| [316](#L316) | <br class="clear" /> |
| [317](#L317) | </div> |
| [318](#L318) | </div> <!-- /col-right --> |
| [319](#L319) |  |
| [320](#L320) | <!-- Form to upload a list of new products from a spreadsheet --> |
| [321](#L321) | <div id="col-left" class="feup-hidden"> |
| [322](#L322) | <div class="col-wrap"> |
| [323](#L323) |  |
| [324](#L324) | <div class="form-wrap"> |
| [325](#L325) |  |
| [326](#L326) | <div id="ewd-feup-admin-add-manually"> |
| [327](#L327) |  |
| [328](#L328) | <h2><?php \_e("Add New User", 'front-end-only-users') ?></h2> |
| [329](#L329) | <?php |
| [330](#L330) | $Fields = $AllFields; |
| [331](#L331) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name ORDER BY Level\_Privilege ASC"); |
| [332](#L332) | ?> |
| [333](#L333) | <!-- Form to create a new product --> |
| [334](#L334) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUser&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [335](#L335) | <input type="hidden" name="action" value="Add\_User" /> |
| [336](#L336) | <input type='hidden' name='ewd-registration-type' value='FEUP'> |
| [337](#L337) | <?php wp\_nonce\_field( 'EWD\_FEUP\_Admin\_Nonce', 'EWD\_FEUP\_Admin\_Nonce' );  ?> |
| [338](#L338) | <?php wp\_referer\_field(); ?> |
| [339](#L339) | <?php if($Username\_Is\_Email == "Yes") { ?> |
| [340](#L340) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Email', 'front-end-only-users');?>: </label> |
| [341](#L341) | <input type='email' class='ewd-feup-text-input' name='Username'> |
| [342](#L342) | <?php } else {?> |
| [343](#L343) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Username', 'front-end-only-users');?>: </label> |
| [344](#L344) | <input type='text' class='ewd-feup-text-input' name='Username'> |
| [345](#L345) | <?php } ?> |
| [346](#L346) | <label for='Password' id='ewd-feup-register-password-div' class='ewd-feup-field-label'><?php \_e('Password', 'front-end-only-users')?>: </label> |
| [347](#L347) | <input type='password' class='ewd-feup-text-input ewd-feup-password-input' name='User\_Password'> |
| [348](#L348) | <label for='Repeat Password' id='ewd-feup-register-password-confirm-div' class='ewd-feup-field-label'><?php \_e('Repeat Password', 'front-end-only-users');?>: </label> |
| [349](#L349) | <input type='password' class='ewd-feup-text-input ewd-feup-check-password-input' name='Confirm\_User\_Password'> |
| [350](#L350) | <label for='Password Strength' id='ewd-feup-password-strength' class='ewd-feup-field-label'><?php \_e('Password Strength', 'front-end-only-users') ?>: </label> |
| [351](#L351) | <span id='ewd-feup-password-result'>Too Short</span> |
| [352](#L352) | <label for='Level ID' id='ewd-feup-register-user-level-div' class='ewd-feup-field-label'><?php \_e('User Level', 'front-end-only-users');?>: </label> |
| [353](#L353) | <select name='Level\_ID'> |
| [354](#L354) | <option value='0'>None (0)</option> |
| [355](#L355) | <?php foreach ($Levels as $Level) { |
| [356](#L356) | echo "<option value='" . $Level->Level\_ID . "'>" . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [357](#L357) | }?> |
| [358](#L358) | </select> |
| [359](#L359) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [360](#L360) | <label for='Admin Approved' id='ewd-feup-register-admin-approved-div' class='ewd-feup-field-label'><?php \_e('Admin Approved', 'front-end-only-users');?>: </label> |
| [361](#L361) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='Yes'>Yes<br /> |
| [362](#L362) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='No'>No<br /> |
| [363](#L363) | <?php } ?> |
| [364](#L364) | <?php foreach ($Fields as $Field) { ?> |
| [365](#L365) | <div class="form-field form-required"> |
| [366](#L366) | <label for="<?php echo $Field->Field\_Name; ?>"><?php echo $Field->Field\_Name; ?></label> |
| [367](#L367) | <?php if ($Field->Field\_Type == "text") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="text" value="" size="60" /> |
| [368](#L368) | <?php } elseif ($Field->Field\_Type == "mediumint") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="number" value="" size="60" /> |
| [369](#L369) | <?php } elseif ($Field->Field\_Type == "email") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="email" value="" size="60" /> |
| [370](#L370) | <?php } elseif ($Field->Field\_Type == "tel") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="tel" value="" size="60" /> |
| [371](#L371) | <?php } elseif ($Field->Field\_Type == "url") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="url" value="" size="60" /> |
| [372](#L372) | <?php } elseif ($Field->Field\_Type == "date") {?> |
| [373](#L373) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-date-input pure-input-1-3' type='date' value='' /> |
| [374](#L374) | <?php } elseif ($Field->Field\_Type == "datetime") { ?> |
| [375](#L375) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-datetime-input pure-input-1-3' type='datetime-local' value='' /> |
| [376](#L376) | <?php } elseif ($Field->Field\_Type == "textarea") { ?> |
| [377](#L377) | <textarea name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"></textarea> |
| [378](#L378) | <?php } elseif ($Field->Field\_Type == "file") {?> |
| [379](#L379) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [380](#L380) | <?php } elseif ($Field->Field\_Type == "picture") {?> |
| [381](#L381) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [382](#L382) | <?php } elseif ($Field->Field\_Type == "select" or $Field->Field\_Type == "countries") { ?> |
| [383](#L383) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [384](#L384) | <?php if ($Field->Field\_Type == "countries") {$Options = EWD\_FEUP\_Return\_Country\_Array();} ?> |
| [385](#L385) | <select name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"> |
| [386](#L386) | <?php foreach ($Options as $Option) { ?><option value='<?php echo $Option; ?>'><?php echo $Option; ?></option><?php } ?> |
| [387](#L387) | </select> |
| [388](#L388) | <?php } elseif ($Field->Field\_Type == "radio") { ?> |
| [389](#L389) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [390](#L390) | <?php foreach ($Options as $Option) { ?><input type='radio' class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>" value="<?php echo $Option; ?>"><?php echo $Option ?><br/><?php } ?> |
| [391](#L391) | <?php } elseif ($Field->Field\_Type == "checkbox") { ?> |
| [392](#L392) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [393](#L393) | <?php foreach ($Options as $Option) { ?><input type="checkbox" class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>[]" value="<?php echo $Option; ?>"><?php echo $Option; ?></br><?php } ?> |
| [394](#L394) | <?php } ?> |
| [395](#L395) | <p><?php echo $Field->Field\_Description; ?></p> |
| [396](#L396) | </div> |
| [397](#L397) | <?php } ?> |
| [398](#L398) |  |
| [399](#L399) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New User', 'front-end-only-users') ?>"  /></p></form> |
| [400](#L400) |  |
| [401](#L401) | </div> <!-- ewd-feup-admin-add-manually --> |
| [402](#L402) |  |
| [403](#L403) |  |
| [404](#L404) | <div id="ewd-feup-admin-add-from-spreadsheet"> |
| [405](#L405) | <h3><?php \_e("Add Users from Spreadsheet", 'front-end-only-users') ?></h3> |
| [406](#L406) | <?php if ($EWD\_FEUP\_Full\_Version == "Yes") { ?> |
| [407](#L407) | <div class="wrap"> |
| [408](#L408) |  |
| [409](#L409) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUserSpreadsheet&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [410](#L410) | <?php wp\_nonce\_field(); ?> |
| [411](#L411) | <div class="form-field form-required"> |
| [412](#L412) | <label for="Users\_Spreadsheet"><?php \_e("Spreadsheet Containing Users", 'front-end-only-users') ?></label> |
| [413](#L413) | <input name="Users\_Spreadsheet" id="Users\_Spreadsheet" type="file" value=""/> |
| [414](#L414) | <p><?php \_e("The spreadsheet containing all of the users you wish to add. Make sure that the column title names are the same as the field names for users (ex: Username, Email, First Name, etc.).", 'front-end-only-users') ?></p> |
| [415](#L415) | </div> |
| [416](#L416) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New Users', 'front-end-only-users') ?>"  /></p> |
| [417](#L417) | </form> |
| [418](#L418) | </div> |
| [419](#L419) |  |
| [420](#L420) | <?php } else { ?> |
| [421](#L421) | <div class="Info-Div"> |
| [422](#L422) | <h2><?php \_e("Full Version Required!", 'front-end-only-users') ?></h2> |
| [423](#L423) | <div class="ewd-feup-full-version-explanation"> |
| [424](#L424) | <?php \_e("The full version of Front-End Only Users is required to use tags.", 'front-end-only-users');?><a href="http://www.etoilewebdesign.com/front-end-users-plugin/"><?php \_e(" Please upgrade to unlock this page!", 'front-end-only-users'); ?></a> |
| [425](#L425) | </div> |
| [426](#L426) | </div> |
| [427](#L427) | <?php } ?> |
| [428](#L428) | </div> |
| [429](#L429) |  |
| [430](#L430) | </div> |
| [431](#L431) |  |
| [432](#L432) | <br class="clear" /> |
| [433](#L433) |  |
| [434](#L434) | </div> |
| [435](#L435) | </div> <!-- col-left --> |
| [436](#L436) |  |
| [437](#L437) |  |
| [438](#L438) |  |
| [439](#L439) | <?php |
| [440](#L440) |  |
| [441](#L441) | function ewd\_feup\_field\_name\_exists( $field\_name) { |
| [442](#L442) | global $wpdb; |
| [443](#L443) | global $ewd\_feup\_fields\_table\_name; |
| [444](#L444) |  |
| [445](#L445) | $fields = $wpdb->get\_results("SELECT Field\_Name FROM $ewd\_feup\_fields\_table\_name"); |
| [446](#L446) |  |
| [447](#L447) | foreach ( $fields as $field ) { |
| [448](#L448) | if ( $field\_name == $field->Field\_Name ) { return true; } |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | return false; |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/front-end-only-users/trunk/html/UsersPage.php?format=txt)
* [Original Format](/export/3220495/front-end-only-users/trunk/html/UsersPage.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_e769219a_20250111_002918.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffront-end-only-users%2Ftrunk%2Fhtml%2FUsersPage.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/front-end-only-users/trunk/html/UsersPage.php?rev=2837468 "Revision 2837468")
* Next Revision →
* [Blame](/browser/front-end-only-users/trunk/html/UsersPage.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/front-end-only-users/trunk/html/UsersPage.php)

---

# [source:](/browser?order=name "Go to repository root") [front-end-only-users](/browser/front-end-only-users?order=name "View front-end-only-users")/[trunk](/browser/front-end-only-users/trunk?order=name "View trunk")/[html](/browser/front-end-only-users/trunk/html?order=name "View html")/[UsersPage.php](/browser/front-end-only-users/trunk/html/UsersPage.php?order=name "View UsersPage.php")

View diff against:

View revision:

| [Last change](/changeset/2895308/front-end-only-users/trunk/html/UsersPage.php "View differences") on this file was [2895308](/changeset/2895308/ "View changeset 2895308"), checked in by Rustaurius, [22 months ago](/timeline?from=2023-04-06T21%3A19%3A41Z&precision=second "See timeline at 04/06/2023 09:19:41 PM") |
| --- |
| v3.2.25 released and tagged |
| **File size:** 26.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $Admin\_Approval = get\_option("EWD\_FEUP\_Admin\_Approval"); |
| [3](#L3) | $Username\_Is\_Email = get\_option("EWD\_FEUP\_Username\_Is\_Email"); |
| [4](#L4) | $Include\_WP\_Users = get\_option("EWD\_FEUP\_Include\_WP\_Users"); |
| [5](#L5) | ?> |
| [6](#L6) | <div id="col-right" class="feup-overlfow-auto ewd-feup-admin-products-table-full"> |
| [7](#L7) | <div class="col-wrap"> |
| [8](#L8) |  |
| [9](#L9) | <div class="ewd-feup-admin-new-product-page-top-part"> |
| [10](#L10) | <div class="ewd-feup-admin-new-product-page-top-part-left"> |
| [11](#L11) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Add New User', 'front-end-only-users'); ?></h3> |
| [12](#L12) | <div class="ewd-feup-admin-add-new-product-buttons-area"> |
| [13](#L13) | <a href="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details" class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-manually-add-product-button"><?php \_e('Manually', 'front-end-only-users'); ?></a> |
| [14](#L14) | <div class="button-primary ewd-feup-admin-add-new-product-button" id="ewd-feup-admin-add-by-spreadsheet-button"><?php \_e('From Spreadsheet', 'front-end-only-users'); ?></div> |
| [15](#L15) | </div> |
| [16](#L16) | </div> |
| [17](#L17) | <div class="ewd-feup-admin-new-product-page-top-part-right"> |
| [18](#L18) | <h3 class="ewd-feup-admin-new-tab-headings"><?php \_e('Export Users to Spreasheet', 'front-end-only-users'); ?></h3> |
| [19](#L19) | <div class="ewd-feup-admin-export-buttons-area"> |
| [20](#L20) | <?php if($EWD\_FEUP\_Full\_Version == 'Yes'){ ?> |
| [21](#L21) | <form method="post" action="admin.php?page=EWD-FEUP-options&DisplayPage=Users&Action=EWD\_FEUP\_ExportToExcel"> |
| [22](#L22) | <input type="submit" name="Export\_Submit" class="button button-secondary ewd-feup-admin-export-button" value="<?php \_e('Export to Excel', 'front-end-only-users'); ?>"  /> |
| [23](#L23) | </form> |
| [24](#L24) | <?php } else{ |
| [25](#L25) | \_e("The full version of the Front End Users plugin is required to export products.", 'front-end-only-users'); ?><br /><a href="https://www.etoilewebdesign.com/plugins/front-end-only-users/#buy" target="\_blank"><?php \_e("Please upgrade to unlock this feature!", 'front-end-only-users'); ?></a> |
| [26](#L26) | <?php } ?> |
| [27](#L27) | </div> |
| [28](#L28) | </div> |
| [29](#L29) | </div> |
| [30](#L30) |  |
| [31](#L31) | <!-- Display a list of the products which have already been created --> |
| [32](#L32) | <?php wp\_nonce\_field(); ?> |
| [33](#L33) | <?php wp\_referer\_field(); ?> |
| [34](#L34) |  |
| [35](#L35) | <?php |
| [36](#L36) | if (isset($\_GET['Page'])) {$Page = intval( $\_GET['Page'] );} |
| [37](#L37) | else {$Page = 1;} |
| [38](#L38) |  |
| [39](#L39) | if ( isset( $\_GET['OrderBy'] ) and in\_array( $\_GET['OrderBy'], array( 'User\_Admin\_Approved', 'User\_WP\_ID', 'User\_Last\_Login', 'User\_Date\_Created' ) ) or ewd\_feup\_field\_name\_exists( $\_GET['OrderBy'] ) ) { $OrderBy = $\_GET['OrderBy']; } |
| [40](#L40) | else { $OrderBy = 'User\_Date\_Created'; } |
| [41](#L41) |  |
| [42](#L42) | $Order = ( isset( $\_GET['Order'] ) and $\_GET['Order'] == 'DESC' ) ? 'DESC' : 'ASC'; |
| [43](#L43) |  |
| [44](#L44) | $Fields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Show\_In\_Admin='Yes'"); |
| [45](#L45) | $AllFields = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_fields\_table\_name"); |
| [46](#L46) |  |
| [47](#L47) | $Sql = "SELECT DISTINCT $ewd\_feup\_user\_table\_name.User\_ID FROM $ewd\_feup\_user\_table\_name "; |
| [48](#L48) | $Sql .= "INNER JOIN $ewd\_feup\_user\_fields\_table\_name ON $ewd\_feup\_user\_table\_name.User\_ID=$ewd\_feup\_user\_fields\_table\_name.User\_ID "; |
| [49](#L49) | if (isset($\_REQUEST['UserSearchValue']) and $\_REQUEST['UserSearchField'] == "Username") { |
| [50](#L50) | $Sql .= "WHERE " . esc\_sql( $\_REQUEST['UserSearchField'] ) . " "; |
| [51](#L51) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [52](#L52) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [53](#L53) | } |
| [54](#L54) | elseif (isset($\_REQUEST['UserSearchValue'])) { |
| [55](#L55) | $Sql .= "WHERE Field\_ID=" . esc\_sql( $\_REQUEST['UserSearchField'] ) . " AND Field\_Value "; |
| [56](#L56) | if ($\_REQUEST['UserSearchOperator'] == "LIKE") {$Sql .= " LIKE '%". esc\_sql( $\_REQUEST['UserSearchValue'] ) . "%' ";} |
| [57](#L57) | else {$Sql .= "='" . esc\_sql( $\_REQUEST['UserSearchValue'] ) . "' ";} |
| [58](#L58) | } |
| [59](#L59) | if (isset($\_GET['OrderBy']) and $\_GET['DisplayPage'] == "Users") { |
| [60](#L60) | if ($\_REQUEST['OrderBy'] == "User\_Last\_Login" or $\_REQUEST['OrderBy'] == "User\_Date\_Created" or $\_REQUEST['OrderBy'] == "User\_Admin\_Approved") {$Sql .= "ORDER BY " . $OrderBy . " " . $Order . " ";} |
| [61](#L61) | else { |
| [62](#L62) | $OrderBy\_Field\_ID = $wpdb->get\_var($wpdb->prepare("SELECT Field\_ID FROM $ewd\_feup\_fields\_table\_name WHERE Field\_Name=%s", $OrderBy)); |
| [63](#L63) | $User\_IDs = $wpdb->get\_results($wpdb->prepare("SELECT User\_ID FROM $ewd\_feup\_user\_fields\_table\_name WHERE Field\_ID=%d ORDER BY Field\_Value %s", $OrderBy\_Field\_ID, $Order)); |
| [64](#L64) | $OrderBy\_User\_IDs = array(); |
| [65](#L65) | foreach ($User\_IDs as $User\_ID) {$OrderBy\_User\_IDs[] = $User\_ID->User\_ID;} |
| [66](#L66) | $Sql .= "ORDER BY FIELD($ewd\_feup\_user\_table\_name.User\_ID, " . esc\_sql( implode(",", $OrderBy\_User\_IDs) ) . ")"; |
| [67](#L67) | } |
| [68](#L68) | } |
| [69](#L69) | else {$Sql .= "ORDER BY User\_Date\_Created ";} |
| [70](#L70) | $RowCount = $wpdb->get\_results($Sql); |
| [71](#L71) | $Number\_of\_Pages = ceil($wpdb->num\_rows/20); |
| [72](#L72) | $UserCount = $wpdb->num\_rows; |
| [73](#L73) | $Sql .= "LIMIT " . ($Page - 1)\*20 . ",20"; |
| [74](#L74) | $myrows = $wpdb->get\_results($Sql); |
| [75](#L75) | $Current\_Page\_With\_Order\_By = "admin.php?page=EWD-FEUP-options&DisplayPage=Users"; |
| [76](#L76) | if (isset($\_GET['OrderBy'])) {$Current\_Page\_With\_Order\_By .= "&OrderBy=" . $OrderBy . "&Order=" . $Order;} |
| [77](#L77) | if (isset($\_REQUEST['UserSearchValue'])) {$Current\_Page\_With\_Order\_By .= "&UserSearchValue=" . rawurlencode( $\_REQUEST['UserSearchValue'] ) . "&UserSearchField=" . rawurlencode( $\_REQUEST['UserSearchField'] ) . "&UserSearchOperator=" . rawurlencode( $\_REQUEST['UserSearchOperator'] );} |
| [78](#L78) | ?> |
| [79](#L79) |  |
| [80](#L80) | <form action="<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_MassUserAction&DisplayPage=Users' ); ?>" method="post"> |
| [81](#L81) | <p class="search-box"> |
| [82](#L82) | <label class="screen-reader-text" for="post-search-input">Search Users:</label> |
| [83](#L83) | <select name='UserSearchField' class='ewd-admin-select-search'> |
| [84](#L84) | <option value='Username'>Username</option> |
| [85](#L85) | <?php |
| [86](#L86) | foreach ($AllFields as $Field) { |
| [87](#L87) | echo "<option value='" . $Field->Field\_ID . "'>" . $Field->Field\_Name . "</option>"; |
| [88](#L88) | } |
| [89](#L89) | ?> |
| [90](#L90) | </select> |
| [91](#L91) | <select name='UserSearchOperator' class='ewd-admin-select-search'> |
| [92](#L92) | <option value='LIKE'>Like</option> |
| [93](#L93) | <option value='EQUALS'>Equals</option> |
| [94](#L94) | </select> |
| [95](#L95) | <input type="search" id="post-search-input" name="UserSearchValue" value=""> |
| [96](#L96) | <input type="submit" name="" id="search-submit" class="button" value="Search Users"> |
| [97](#L97) | <br /> |
| [98](#L98) | <a class='feup-confirm-all-users button-secondary action ewd-feup-admin-delete-all-products-button' href='<?php echo add\_query\_arg( '\_wp\_nonce', wp\_create\_nonce( 'ewd-feup-admin' ), 'admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteAllUsers&DisplayPage=Users' ); ?>'><?php \_e("Delete All Users", 'front-end-only-users'); ?></a> |
| [99](#L99) | </p> |
| [100](#L100) | <div class="tablenav top"> |
| [101](#L101) | <div class="alignleft actions"> |
| [102](#L102) | <select name='action'> |
| [103](#L103) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [104](#L104) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [105](#L105) | <option value='approve'><?php \_e("Approve", 'front-end-only-users') ?></option> |
| [106](#L106) | <option value='0'>Level: None (0)</option> |
| [107](#L107) | <?php |
| [108](#L108) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name"); |
| [109](#L109) | if (is\_array($Levels)) { |
| [110](#L110) | foreach ($Levels as $Level) { |
| [111](#L111) | echo "<option value='" . $Level->Level\_ID . "'>Level: " . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [112](#L112) | } |
| [113](#L113) | } |
| [114](#L114) | ?> |
| [115](#L115) | </select> |
| [116](#L116) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [117](#L117) | </div> |
| [118](#L118) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [119](#L119) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?> <?php if ($EWD\_FEUP\_Full\_Version != "Yes") {echo "out of 100";}?></span> |
| [120](#L120) | <span class='pagination-links'> |
| [121](#L121) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [122](#L122) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [123](#L123) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [124](#L124) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [125](#L125) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [126](#L126) | </span> |
| [127](#L127) | </div> |
| [128](#L128) | </div> |
| [129](#L129) |  |
| [130](#L130) | <table class="wp-list-table striped widefat tags sorttable fields-list ui-sortable" cellspacing="0"> |
| [131](#L131) | <thead> |
| [132](#L132) | <tr> |
| [133](#L133) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [134](#L134) | <input type="checkbox" /> |
| [135](#L135) | </th> |
| [136](#L136) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [137](#L137) | <span>Username</span> |
| [138](#L138) | </th> |
| [139](#L139) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [140](#L140) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [141](#L141) | else {$Order = "ASC";} ?> |
| [142](#L142) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [143](#L143) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [144](#L144) | <span>Admin Approved</span> |
| [145](#L145) | <span class="sorting-indicator"></span> |
| [146](#L146) | </a> |
| [147](#L147) | </th> |
| [148](#L148) | <?php } ?> |
| [149](#L149) | <?php foreach ($Fields as $Field) { ?> |
| [150](#L150) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [151](#L151) | else {$Order = "ASC";} ?> |
| [152](#L152) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [153](#L153) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [154](#L154) | <span><?php echo $Field->Field\_Name; ?></span> |
| [155](#L155) | <span class="sorting-indicator"></span> |
| [156](#L156) | </a> |
| [157](#L157) | </th> |
| [158](#L158) | <?php } ?> |
| [159](#L159) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [160](#L160) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [161](#L161) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [162](#L162) | else {$Order = "ASC";} ?> |
| [163](#L163) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [164](#L164) | <span>WordPress User?</span> |
| [165](#L165) | <span class="sorting-indicator"></span> |
| [166](#L166) | </th> |
| [167](#L167) | <?php } ?> |
| [168](#L168) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [169](#L169) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [170](#L170) | else {$Order = "ASC";} ?> |
| [171](#L171) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [172](#L172) | <span>Last Login</span> |
| [173](#L173) | <span class="sorting-indicator"></span> |
| [174](#L174) | </th> |
| [175](#L175) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [176](#L176) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [177](#L177) | else {$Order = "ASC";} ?> |
| [178](#L178) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [179](#L179) | <span>Joined Date</span> |
| [180](#L180) | <span class="sorting-indicator"></span> |
| [181](#L181) | </th> |
| [182](#L182) | </tr> |
| [183](#L183) | </thead> |
| [184](#L184) |  |
| [185](#L185) | <tfoot> |
| [186](#L186) | <tr> |
| [187](#L187) | <th scope='col' id='cb' class='manage-column column-cb check-column'  style=""> |
| [188](#L188) | <input type="checkbox" /> |
| [189](#L189) | </th> |
| [190](#L190) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [191](#L191) | <span>Username</span> |
| [192](#L192) | </th> |
| [193](#L193) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [194](#L194) | <?php if ($\_GET['OrderBy'] == "User\_Admin\_Approved" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [195](#L195) | else {$Order = "ASC";} ?> |
| [196](#L196) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [197](#L197) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Admin\_Approved&Order=<?php echo $Order; ?>"> |
| [198](#L198) | <span>Admin Approved</span> |
| [199](#L199) | <span class="sorting-indicator"></span> |
| [200](#L200) | </a> |
| [201](#L201) | </th> |
| [202](#L202) | <?php } ?> |
| [203](#L203) | <?php foreach ($Fields as $Field) { ?> |
| [204](#L204) | <?php if ($\_GET['OrderBy'] == $Field->Field\_Name and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [205](#L205) | else {$Order = "ASC";} ?> |
| [206](#L206) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [207](#L207) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=<?php echo $Field->Field\_Name; ?>&Order=<?php echo $Order; ?>"> |
| [208](#L208) | <span><?php echo $Field->Field\_Name; ?></span> |
| [209](#L209) | <span class="sorting-indicator"></span> |
| [210](#L210) | </a> |
| [211](#L211) | </th> |
| [212](#L212) | <?php } ?> |
| [213](#L213) | <?php if ($Include\_WP\_Users == "Yes" ) { ?> |
| [214](#L214) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [215](#L215) | <?php if ($\_GET['OrderBy'] == "User\_WP\_ID" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [216](#L216) | else {$Order = "ASC";} ?> |
| [217](#L217) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_WP\_ID&Order=<?php echo $Order; ?>"> |
| [218](#L218) | <span>WordPress User?</span> |
| [219](#L219) | <span class="sorting-indicator"></span> |
| [220](#L220) | </th> |
| [221](#L221) | <?php } ?> |
| [222](#L222) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [223](#L223) | <?php if ($\_GET['OrderBy'] == "User\_Last\_Login" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [224](#L224) | else {$Order = "ASC";} ?> |
| [225](#L225) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Last\_Login&Order=<?php echo $Order; ?>"> |
| [226](#L226) | <span>Last Login</span> |
| [227](#L227) | <span class="sorting-indicator"></span> |
| [228](#L228) | </th> |
| [229](#L229) | <th scope='col' class='manage-column column-cb check-column'  style=""> |
| [230](#L230) | <?php if ($\_GET['OrderBy'] == "User\_Date\_Created" and $\_GET['Order'] == "ASC") {$Order = "DESC";} |
| [231](#L231) | else {$Order = "ASC";} ?> |
| [232](#L232) | <a href="admin.php?page=EWD-FEUP-options&DisplayPage=Users&OrderBy=User\_Date\_Created&Order=<?php echo $Order; ?>"> |
| [233](#L233) | <span>Joined Date</span> |
| [234](#L234) | <span class="sorting-indicator"></span> |
| [235](#L235) | </th> |
| [236](#L236) | </tr> |
| [237](#L237) | </tfoot> |
| [238](#L238) |  |
| [239](#L239) | <tbody id="the-list" class='list:tag'> |
| [240](#L240) |  |
| [241](#L241) | <?php |
| [242](#L242) | if ($myrows) { |
| [243](#L243) | foreach ($myrows as $User\_ID) { |
| [244](#L244) | $FieldCount = 0; |
| [245](#L245) | $User = $wpdb->get\_row( $wpdb->prepare( "SELECT \* FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User\_ID->User\_ID ) ); |
| [246](#L246) | echo "<tr id='User" . $User->User\_ID ."'>"; |
| [247](#L247) | echo "<th scope='row' class='check-column'>"; |
| [248](#L248) | echo "<input type='checkbox' name='Users\_Bulk[]' value='" . $User->User\_ID ."' />"; |
| [249](#L249) | echo "</th>"; |
| [250](#L250) | $Username = $wpdb->get\_var( $wpdb->prepare( "SELECT Username FROM $ewd\_feup\_user\_table\_name WHERE User\_ID=%d", $User->User\_ID ) ); |
| [251](#L251) | echo "<td class='username column-name'>" . $Username . "</td>"; |
| [252](#L252) | if ($Admin\_Approval == "Yes") { |
| [253](#L253) | echo "<td class='name column-name'>"; |
| [254](#L254) | echo $User->User\_Admin\_Approved; |
| [255](#L255) | echo "</td>"; |
| [256](#L256) | } |
| [257](#L257) | foreach ($Fields as $Field) { |
| [258](#L258) | $User\_Field\_Value = $wpdb->get\_var($wpdb->prepare("SELECT Field\_Value FROM $ewd\_feup\_user\_fields\_table\_name WHERE User\_ID='%d' and Field\_Name='%s'", $User->User\_ID, $Field->Field\_Name)); |
| [259](#L259) |  |
| [260](#L260) | echo "<td class='name column-name'>"; |
| [261](#L261) | if ($FieldCount == 0) { |
| [262](#L262) | echo "<strong>"; |
| [263](#L263) | echo "<a class='row-title' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_User\_Details&Selected=User&User\_ID=" . $User->User\_ID ."' title='Edit User'>"; |
| [264](#L264) | } |
| [265](#L265) | echo substr( strval($User\_Field\_Value), 0, 60 ); |
| [266](#L266) | if ( strlen( strval($User\_Field\_Value) ) > 60 ) { echo "..."; } |
| [267](#L267) | if ($FieldCount == 0) { |
| [268](#L268) | echo "</a></strong>"; |
| [269](#L269) | echo "<br />"; |
| [270](#L270) | echo "<div class='row-actions'>"; |
| [271](#L271) | echo "<span class='delete'>"; |
| [272](#L272) | echo "<a class='delete-tag feup-confirm-one-user' href='admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_DeleteUser&DisplayPage=Users&User\_ID=" . $User->User\_ID ."'>" . \_\_("Delete", 'front-end-only-users') . "</a>"; |
| [273](#L273) | echo "</span>"; |
| [274](#L274) | echo "</div>"; |
| [275](#L275) | echo "<div class='hidden' id='inline\_" . $User->User\_ID ."'>"; |
| [276](#L276) | } |
| [277](#L277) | echo "</td>"; |
| [278](#L278) | $FieldCount++; |
| [279](#L279) | } |
| [280](#L280) | if ($Include\_WP\_Users == "Yes") { |
| [281](#L281) | if ($User->User\_WP\_ID != 0) {echo "<td class='name column-wpuser'>Yes</td>";} |
| [282](#L282) | else {echo "<td class='name column-wpuser'>No</td>";} |
| [283](#L283) | } |
| [284](#L284) | echo "<td class='name column-name'>" .  $User->User\_Last\_Login . "</td>"; |
| [285](#L285) | echo "<td class='name column-name'>" .  $User->User\_Date\_Created . "</td>"; |
| [286](#L286) | echo "</tr>"; |
| [287](#L287) | } |
| [288](#L288) | } |
| [289](#L289) | ?> |
| [290](#L290) |  |
| [291](#L291) | </tbody> |
| [292](#L292) | </table> |
| [293](#L293) |  |
| [294](#L294) | <div class="tablenav bottom"> |
| [295](#L295) | <?php /\*<div class="alignleft actions"> |
| [296](#L296) | <select name='action'> |
| [297](#L297) | <option value='-1' selected='selected'><?php \_e("Bulk Actions", 'front-end-only-users') ?></option> |
| [298](#L298) | <option value='delete'><?php \_e("Delete", 'front-end-only-users') ?></option> |
| [299](#L299) | </select> |
| [300](#L300) | <input type="submit" name="" id="doaction" class="button-secondary action" value="<?php \_e('Apply', 'front-end-only-users') ?>"  /> |
| [301](#L301) | </div>\*/ ?> |
| [302](#L302) | <div class='tablenav-pages <?php if ($Number\_of\_Pages == 1) {echo "one-page";} ?>'> |
| [303](#L303) | <span class="displaying-num"><?php echo $UserCount; ?> <?php \_e("users", 'front-end-only-users') ?></span> |
| [304](#L304) | <span class='pagination-links'> |
| [305](#L305) | <a class='first-page <?php if ($Page == 1) {echo "disabled";} ?>' title='Go to the first page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=1'>&laquo;</a> |
| [306](#L306) | <a class='prev-page <?php if ($Page <= 1) {echo "disabled";} ?>' title='Go to the previous page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page-1;?>'>&lsaquo;</a> |
| [307](#L307) | <span class="paging-input"><?php echo $Page; ?> <?php \_e("of", 'front-end-only-users') ?> <span class='total-pages'><?php echo $Number\_of\_Pages; ?></span></span> |
| [308](#L308) | <a class='next-page <?php if ($Page >= $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the next page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ); ?>&Page=<?php echo $Page+1;?>'>&rsaquo;</a> |
| [309](#L309) | <a class='last-page <?php if ($Page == $Number\_of\_Pages) {echo "disabled";} ?>' title='Go to the last page' href='<?php echo esc\_attr( $Current\_Page\_With\_Order\_By ) . "&Page=" . $Number\_of\_Pages; ?>'>&raquo;</a> |
| [310](#L310) | </span> |
| [311](#L311) | </div> |
| [312](#L312) | <br class="clear" /> |
| [313](#L313) | </div> |
| [314](#L314) | </form> |
| [315](#L315) |  |
| [316](#L316) | <br class="clear" /> |
| [317](#L317) | </div> |
| [318](#L318) | </div> <!-- /col-right --> |
| [319](#L319) |  |
| [320](#L320) | <!-- Form to upload a list of new products from a spreadsheet --> |
| [321](#L321) | <div id="col-left" class="feup-hidden"> |
| [322](#L322) | <div class="col-wrap"> |
| [323](#L323) |  |
| [324](#L324) | <div class="form-wrap"> |
| [325](#L325) |  |
| [326](#L326) | <div id="ewd-feup-admin-add-manually"> |
| [327](#L327) |  |
| [328](#L328) | <h2><?php \_e("Add New User", 'front-end-only-users') ?></h2> |
| [329](#L329) | <?php |
| [330](#L330) | $Fields = $AllFields; |
| [331](#L331) | $Levels = $wpdb->get\_results("SELECT \* FROM $ewd\_feup\_levels\_table\_name ORDER BY Level\_Privilege ASC"); |
| [332](#L332) | ?> |
| [333](#L333) | <!-- Form to create a new product --> |
| [334](#L334) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUser&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [335](#L335) | <input type="hidden" name="action" value="Add\_User" /> |
| [336](#L336) | <input type='hidden' name='ewd-registration-type' value='FEUP'> |
| [337](#L337) | <?php wp\_nonce\_field( 'EWD\_FEUP\_Admin\_Nonce', 'EWD\_FEUP\_Admin\_Nonce' );  ?> |
| [338](#L338) | <?php wp\_referer\_field(); ?> |
| [339](#L339) | <?php if($Username\_Is\_Email == "Yes") { ?> |
| [340](#L340) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Email', 'front-end-only-users');?>: </label> |
| [341](#L341) | <input type='email' class='ewd-feup-text-input' name='Username'> |
| [342](#L342) | <?php } else {?> |
| [343](#L343) | <label for='Username' id='ewd-feup-register-username-div' class='ewd-feup-field-label'><?php \_e('Username', 'front-end-only-users');?>: </label> |
| [344](#L344) | <input type='text' class='ewd-feup-text-input' name='Username'> |
| [345](#L345) | <?php } ?> |
| [346](#L346) | <label for='Password' id='ewd-feup-register-password-div' class='ewd-feup-field-label'><?php \_e('Password', 'front-end-only-users')?>: </label> |
| [347](#L347) | <input type='password' class='ewd-feup-text-input ewd-feup-password-input' name='User\_Password'> |
| [348](#L348) | <label for='Repeat Password' id='ewd-feup-register-password-confirm-div' class='ewd-feup-field-label'><?php \_e('Repeat Password', 'front-end-only-users');?>: </label> |
| [349](#L349) | <input type='password' class='ewd-feup-text-input ewd-feup-check-password-input' name='Confirm\_User\_Password'> |
| [350](#L350) | <label for='Password Strength' id='ewd-feup-password-strength' class='ewd-feup-field-label'><?php \_e('Password Strength', 'front-end-only-users') ?>: </label> |
| [351](#L351) | <span id='ewd-feup-password-result'>Too Short</span> |
| [352](#L352) | <label for='Level ID' id='ewd-feup-register-user-level-div' class='ewd-feup-field-label'><?php \_e('User Level', 'front-end-only-users');?>: </label> |
| [353](#L353) | <select name='Level\_ID'> |
| [354](#L354) | <option value='0'>None (0)</option> |
| [355](#L355) | <?php foreach ($Levels as $Level) { |
| [356](#L356) | echo "<option value='" . $Level->Level\_ID . "'>" . $Level->Level\_Name . " (" . $Level->Level\_Privilege . ")</option>"; |
| [357](#L357) | }?> |
| [358](#L358) | </select> |
| [359](#L359) | <?php if ($Admin\_Approval == "Yes") { ?> |
| [360](#L360) | <label for='Admin Approved' id='ewd-feup-register-admin-approved-div' class='ewd-feup-field-label'><?php \_e('Admin Approved', 'front-end-only-users');?>: </label> |
| [361](#L361) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='Yes'>Yes<br /> |
| [362](#L362) | <input type='radio' class='ewd-feup-text-input' name='Admin\_Approved' value='No'>No<br /> |
| [363](#L363) | <?php } ?> |
| [364](#L364) | <?php foreach ($Fields as $Field) { ?> |
| [365](#L365) | <div class="form-field form-required"> |
| [366](#L366) | <label for="<?php echo $Field->Field\_Name; ?>"><?php echo $Field->Field\_Name; ?></label> |
| [367](#L367) | <?php if ($Field->Field\_Type == "text") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="text" value="" size="60" /> |
| [368](#L368) | <?php } elseif ($Field->Field\_Type == "mediumint") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="number" value="" size="60" /> |
| [369](#L369) | <?php } elseif ($Field->Field\_Type == "email") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="email" value="" size="60" /> |
| [370](#L370) | <?php } elseif ($Field->Field\_Type == "tel") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="tel" value="" size="60" /> |
| [371](#L371) | <?php } elseif ($Field->Field\_Type == "url") {?><input name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>" type="url" value="" size="60" /> |
| [372](#L372) | <?php } elseif ($Field->Field\_Type == "date") {?> |
| [373](#L373) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-date-input pure-input-1-3' type='date' value='' /> |
| [374](#L374) | <?php } elseif ($Field->Field\_Type == "datetime") { ?> |
| [375](#L375) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-datetime-input pure-input-1-3' type='datetime-local' value='' /> |
| [376](#L376) | <?php } elseif ($Field->Field\_Type == "textarea") { ?> |
| [377](#L377) | <textarea name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"></textarea> |
| [378](#L378) | <?php } elseif ($Field->Field\_Type == "file") {?> |
| [379](#L379) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [380](#L380) | <?php } elseif ($Field->Field\_Type == "picture") {?> |
| [381](#L381) | <input name='<?php echo $Field->Field\_Name; ?>' id='ewd-feup-register-input-<?php echo $Field->Field\_ID; ?>' class='ewd-feup-file-input pure-input-1-3' type='file' value='' /> |
| [382](#L382) | <?php } elseif ($Field->Field\_Type == "select" or $Field->Field\_Type == "countries") { ?> |
| [383](#L383) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [384](#L384) | <?php if ($Field->Field\_Type == "countries") {$Options = EWD\_FEUP\_Return\_Country\_Array();} ?> |
| [385](#L385) | <select name="<?php echo $Field->Field\_Name; ?>" id="<?php echo $Field->Field\_Name; ?>"> |
| [386](#L386) | <?php foreach ($Options as $Option) { ?><option value='<?php echo $Option; ?>'><?php echo $Option; ?></option><?php } ?> |
| [387](#L387) | </select> |
| [388](#L388) | <?php } elseif ($Field->Field\_Type == "radio") { ?> |
| [389](#L389) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [390](#L390) | <?php foreach ($Options as $Option) { ?><input type='radio' class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>" value="<?php echo $Option; ?>"><?php echo $Option ?><br/><?php } ?> |
| [391](#L391) | <?php } elseif ($Field->Field\_Type == "checkbox") { ?> |
| [392](#L392) | <?php $Options = explode(",", $Field->Field\_Options); ?> |
| [393](#L393) | <?php foreach ($Options as $Option) { ?><input type="checkbox" class='ewd-admin-small-input' name="<?php echo $Field->Field\_Name; ?>[]" value="<?php echo $Option; ?>"><?php echo $Option; ?></br><?php } ?> |
| [394](#L394) | <?php } ?> |
| [395](#L395) | <p><?php echo $Field->Field\_Description; ?></p> |
| [396](#L396) | </div> |
| [397](#L397) | <?php } ?> |
| [398](#L398) |  |
| [399](#L399) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New User', 'front-end-only-users') ?>"  /></p></form> |
| [400](#L400) |  |
| [401](#L401) | </div> <!-- ewd-feup-admin-add-manually --> |
| [402](#L402) |  |
| [403](#L403) |  |
| [404](#L404) | <div id="ewd-feup-admin-add-from-spreadsheet"> |
| [405](#L405) | <h3><?php \_e("Add Users from Spreadsheet", 'front-end-only-users') ?></h3> |
| [406](#L406) | <?php if ($EWD\_FEUP\_Full\_Version == "Yes") { ?> |
| [407](#L407) | <div class="wrap"> |
| [408](#L408) |  |
| [409](#L409) | <form id="addtag" method="post" action="admin.php?page=EWD-FEUP-options&Action=EWD\_FEUP\_AddUserSpreadsheet&DisplayPage=Users" class="validate" enctype="multipart/form-data"> |
| [410](#L410) | <?php wp\_nonce\_field(); ?> |
| [411](#L411) | <div class="form-field form-required"> |
| [412](#L412) | <label for="Users\_Spreadsheet"><?php \_e("Spreadsheet Containing Users", 'front-end-only-users') ?></label> |
| [413](#L413) | <input name="Users\_Spreadsheet" id="Users\_Spreadsheet" type="file" value=""/> |
| [414](#L414) | <p><?php \_e("The spreadsheet containing all of the users you wish to add. Make sure that the column title names are the same as the field names for users (ex: Username, Email, First Name, etc.).", 'front-end-only-users') ?></p> |
| [415](#L415) | </div> |
| [416](#L416) | <p class="submit"><input type="submit" name="submit" id="submit" class="button-primary" value="<?php \_e('Add New Users', 'front-end-only-users') ?>"  /></p> |
| [417](#L417) | </form> |
| [418](#L418) | </div> |
| [419](#L419) |  |
| [420](#L420) | <?php } else { ?> |
| [421](#L421) | <div class="Info-Div"> |
| [422](#L422) | <h2><?php \_e("Full Version Required!", 'front-end-only-users') ?></h2> |
| [423](#L423) | <div class="ewd-feup-full-version-explanation"> |
| [424](#L424) | <?php \_e("The full version of Front-End Only Users is required to use tags.", 'front-end-only-users');?><a href="http://www.etoilewebdesign.com/front-end-users-plugin/"><?php \_e(" Please upgrade to unlock this page!", 'front-end-only-users'); ?></a> |
| [425](#L425) | </div> |
| [426](#L426) | </div> |
| [427](#L427) | <?php } ?> |
| [428](#L428) | </div> |
| [429](#L429) |  |
| [430](#L430) | </div> |
| [431](#L431) |  |
| [432](#L432) | <br class="clear" /> |
| [433](#L433) |  |
| [434](#L434) | </div> |
| [435](#L435) | </div> <!-- col-left --> |
| [436](#L436) |  |
| [437](#L437) |  |
| [438](#L438) |  |
| [439](#L439) | <?php |
| [440](#L440) |  |
| [441](#L441) | function ewd\_feup\_field\_name\_exists( $field\_name) { |
| [442](#L442) | global $wpdb; |
| [443](#L443) | global $ewd\_feup\_fields\_table\_name; |
| [444](#L444) |  |
| [445](#L445) | $fields = $wpdb->get\_results("SELECT Field\_Name FROM $ewd\_feup\_fields\_table\_name"); |
| [446](#L446) |  |
| [447](#L447) | foreach ( $fields as $field ) { |
| [448](#L448) | if ( $field\_name == $field->Field\_Name ) { return true; } |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | return false; |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/front-end-only-users/trunk/html/UsersPage.php?format=txt)
* [Original Format](/export/3220495/front-end-only-users/trunk/html/UsersPage.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


