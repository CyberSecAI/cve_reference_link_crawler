

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3049386%2540pretty-link%26old%3D3049386%2540pretty-link)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3029001/pretty-link "Changeset 3029001 for pretty-link")
* [Next Change](/changeset/3049389/pretty-link "Changeset 3049389 for pretty-link") →

---

# Changeset [3049386](/changeset/3049386 "Show full changeset") for [pretty-link](/browser/pretty-link?rev=3049386 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
03/11/2024 09:10:18 PM
([10 months](/timeline?from=2024-03-11T21%3A10%3A18Z&precision=second "See timeline at 03/11/2024 09:10:18 PM") ago)

Author:
cartpauj
Message:

Update to version 3.6.4 from GitHub

Location:
[pretty-link](/browser/pretty-link?rev=3049386)
Files:

16 edited
1 copied

* [tags/3.6.4](/browser/pretty-link/tags/3.6.4?rev=3049386 "Show entry in browser")
  (copied)
  *(copied from [pretty-link/trunk](/browser/pretty-link/trunk?rev=3029001 "Show original file (revision 3049385)"))*
* [tags/3.6.4/app/controllers/PrliClicksController.php](/browser/pretty-link/tags/3.6.4/app/controllers/PrliClicksController.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/3.6.4/app/controllers/PrliOptionsController.php](/browser/pretty-link/tags/3.6.4/app/controllers/PrliOptionsController.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/3.6.4/app/controllers/PrliPostsController.php](/browser/pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php?rev=3049386 "Show entry in browser")
  (modified)
  ([3 diffs](#file3 "Show differences"))
* [tags/3.6.4/app/views/clicks/csv\_download.php](/browser/pretty-link/tags/3.6.4/app/views/clicks/csv_download.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [tags/3.6.4/i18n/pretty-link.pot](/browser/pretty-link/tags/3.6.4/i18n/pretty-link.pot?rev=3049386 "Show entry in browser")
  (modified)
  ([5 diffs](#file5 "Show differences"))
* [tags/3.6.4/js/tinymce\_form\_popup.js](/browser/pretty-link/tags/3.6.4/js/tinymce_form_popup.js?rev=3049386 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [tags/3.6.4/pretty-link.php](/browser/pretty-link/tags/3.6.4/pretty-link.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [tags/3.6.4/readme.txt](/browser/pretty-link/tags/3.6.4/readme.txt?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [trunk/app/controllers/PrliClicksController.php](/browser/pretty-link/trunk/app/controllers/PrliClicksController.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [trunk/app/controllers/PrliOptionsController.php](/browser/pretty-link/trunk/app/controllers/PrliOptionsController.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [trunk/app/controllers/PrliPostsController.php](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=3049386 "Show entry in browser")
  (modified)
  ([3 diffs](#file11 "Show differences"))
* [trunk/app/views/clicks/csv\_download.php](/browser/pretty-link/trunk/app/views/clicks/csv_download.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [trunk/i18n/pretty-link.pot](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3049386 "Show entry in browser")
  (modified)
  ([5 diffs](#file13 "Show differences"))
* [trunk/js/tinymce\_form\_popup.js](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=3049386 "Show entry in browser")
  (modified)
  ([2 diffs](#file14 "Show differences"))
* [trunk/pretty-link.php](/browser/pretty-link/trunk/pretty-link.php?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [trunk/readme.txt](/browser/pretty-link/trunk/readme.txt?rev=3049386 "Show entry in browser")
  (modified)
  ([1 diff](#file16 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [pretty-link/tags/3.6.4/app/controllers/PrliClicksController.php](/changeset/3049386/pretty-link/tags/3.6.4/app/controllers/PrliClicksController.php "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/app/controllers/PrliClicksController.php")

  | [r2124924](/browser/pretty-link/trunk/app/controllers/PrliClicksController.php?rev=2124924#L23 "Show revision 2124924 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/app/controllers/PrliClicksController.php?rev=3049386#L23 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 |  |
  | 24 | 24 | public function route\_scripts() { |
  | 25 |  | if( isset($\_GET['action']) && $\_GET['action'] == 'prli\_download\_csv\_hit\_report' ) { |
  |  | 25 | if( ( isset($\_GET['action']) && $\_GET['action'] == 'prli\_download\_csv\_hit\_report' ) ) { |
  |  | 26 | if ( ! isset( $\_GET['\_wpnonce'] ) || ! wp\_verify\_nonce( $\_GET['\_wpnonce'], 'prli-csv-nonce' ) ) { |
  |  | 27 | status\_header( 403, 'Forbidden' ); |
  |  | 28 | wp\_die(); |
  |  | 29 | } |
  | 26 | 30 | $this->click\_report(); |
  | 27 | 31 | exit; |
* ## [pretty-link/tags/3.6.4/app/controllers/PrliOptionsController.php](/changeset/3049386/pretty-link/tags/3.6.4/app/controllers/PrliOptionsController.php "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/app/controllers/PrliOptionsController.php")

  | [r2993573](/browser/pretty-link/trunk/app/controllers/PrliOptionsController.php?rev=2993573#L38 "Show revision 2993573 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/app/controllers/PrliOptionsController.php?rev=3049386#L38 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 38 | 38 | // If they did, this hidden field will be set to 'Y' |
  | 39 | 39 | if( isset($\_REQUEST[ $hidden\_field\_name ]) && $\_REQUEST[ $hidden\_field\_name ] == 'Y' ) { |
  |  | 40 | // Check the nonce before update options. |
  |  | 41 | if ( empty( $\_REQUEST['\_wpnonce'] ) || ! wp\_verify\_nonce( $\_REQUEST['\_wpnonce'], 'update-options' ) ) { |
  |  | 42 | status\_header( 403, 'Forbidden' ); |
  |  | 43 | wp\_die(); |
  |  | 44 | } |
  |  | 45 |  |
  | 40 | 46 | $update\_message = $this->update(); |
  | 41 | 47 | } |
* ## [pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php](/changeset/3049386/pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php")

  | [r2993573](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=2993573#L138 "Show revision 2993573 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php?rev=3049386#L138 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 138 | 138 | 'default\_sponsored' => $default\_sponsored, |
  | 139 | 139 | 'default\_tracking' => $default\_tracking, |
  | 140 |  | 'ajaxurl' => admin\_url('admin-ajax.php') |
  |  | 140 | 'ajaxurl' => admin\_url('admin-ajax.php'), |
  |  | 141 | 'nonce' => wp\_create\_nonce('prli\_tinymce\_nonce') |
  | 141 | 142 | )); |
  | 142 | 143 |  |
  | […](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=2993573#L147) | […](/browser/pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php?rev=3049386#L148) |  |
  | 147 | 148 | //AJAX |
  | 148 | 149 | public function validate\_tinymce\_slug() { |
  |  | 150 | if( ! check\_ajax\_referer( 'prli\_tinymce\_nonce', false, false ) ) { |
  |  | 151 | wp\_send\_json\_error( esc\_html\_\_('Security check failed.', 'pretty-link'), 403 ); |
  |  | 152 | } |
  |  | 153 |  |
  | 149 | 154 | if(!isset($\_POST['slug']) || empty($\_POST['slug'])) { |
  | 150 | 155 | echo "false"; |
  | […](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=2993573#L166) | […](/browser/pretty-link/tags/3.6.4/app/controllers/PrliPostsController.php?rev=3049386#L171) |  |
  | 166 | 171 | //AJAX |
  | 167 | 172 | public function create\_pretty\_link() { |
  |  | 173 | if( ! check\_ajax\_referer( 'prli\_tinymce\_nonce', false, false ) ) { |
  |  | 174 | wp\_send\_json\_error( esc\_html\_\_('Security check failed.', 'pretty-link'), 403 ); |
  |  | 175 | } |
  |  | 176 |  |
  | 168 | 177 | $valid\_vars = array('target', 'slug', 'redirect', 'nofollow', 'sponsored', 'tracking'); |
  | 169 | 178 |  |
* ## [pretty-link/tags/3.6.4/app/views/clicks/csv\_download.php](/changeset/3049386/pretty-link/tags/3.6.4/app/views/clicks/csv_download.php "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/app/views/clicks/csv_download.php")

  | [r2124183](/browser/pretty-link/trunk/app/views/clicks/csv_download.php?rev=2124183#L24 "Show revision 2124183 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/app/views/clicks/csv_download.php?rev=3049386#L24 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | $report\_label = sprintf(\_\_('Clicks %d-%d (%d Records)', 'pretty-link'), $hit\_min, $hit\_max, $hit\_count); |
  | 25 | 25 | $hit\_param\_delim = (preg\_match('#\?#',$hit\_report\_url)?'&':'?'); |
  | 26 |  |  |
  |  | 26 | $csv\_report\_url = $hit\_report\_url . $hit\_param\_delim . 'prli\_page=' . $i; |
  | 27 | 27 | ?> |
  | 28 |  | <li><a href="<?php echo esc\_url(~~$hit\_report\_url . $hit\_param\_delim . 'prli\_page=' . $i~~); ?>"><?php echo esc\_html($report\_label); ?></a></li> |
  |  | 28 | <li><a href="<?php echo esc\_url( wp\_nonce\_url( $csv\_report\_url, 'prli-csv-nonce' ) ); ?>"><?php echo esc\_html($report\_label); ?></a></li> |
  | 29 | 29 | <?php |
  | 30 | 30 | } |
* ## [pretty-link/tags/3.6.4/i18n/pretty-link.pot](/changeset/3049386/pretty-link/tags/3.6.4/i18n/pretty-link.pot "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/i18n/pretty-link.pot")

  | [r3029001](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L3 "Show revision 3029001 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/i18n/pretty-link.pot?rev=3049386#L3 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Pretty Links 3.6.~~3~~\n" |
  |  | 5 | "Project-Id-Version: Pretty Links 3.6.4\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/pretty-link\n" |
  | 7 | 7 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L10) | […](/browser/pretty-link/tags/3.6.4/i18n/pretty-link.pot?rev=3049386#L10) |  |
  | 10 | 10 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 11 | 11 | "Content-Transfer-Encoding: 8bit\n" |
  | 12 |  | "POT-Creation-Date: 2024-0~~1-30T09:47:44-07~~:00\n" |
  |  | 12 | "POT-Creation-Date: 2024-03-11T15:09:40-06:00\n" |
  | 13 | 13 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 14 | 14 | "X-Generator: WP-CLI 2.9.0\n" |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L119) | […](/browser/pretty-link/tags/3.6.4/i18n/pretty-link.pot?rev=3049386#L119) |  |
  | 119 | 119 | #: app/controllers/PrliAddonsController.php:132 |
  | 120 | 120 | #: app/controllers/PrliOnboardingController.php:204 |
  |  | 121 | #: app/controllers/PrliPostsController.php:151 |
  |  | 122 | #: app/controllers/PrliPostsController.php:174 |
  | 121 | 123 | #: app/controllers/PrliUpdateController.php:74 |
  | 122 | 124 | #: app/controllers/PrliUpdateController.php:169 |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L393) | […](/browser/pretty-link/tags/3.6.4/i18n/pretty-link.pot?rev=3049386#L395) |  |
  | 393 | 395 | msgstr "" |
  | 394 | 396 |  |
  | 395 |  | #: app/controllers/PrliClicksController.php:9~~0~~ |
  |  | 397 | #: app/controllers/PrliClicksController.php:94 |
  | 396 | 398 | msgid "IP Address: " |
  | 397 | 399 | msgstr "" |
  | 398 | 400 |  |
  | 399 |  | #: app/controllers/PrliClicksController.php:9~~5~~ |
  |  | 401 | #: app/controllers/PrliClicksController.php:99 |
  | 400 | 402 | msgid "Visitor: " |
  | 401 | 403 | msgstr "" |
  | 402 | 404 |  |
  | 403 |  | #: app/controllers/PrliClicksController.php:10~~0~~ |
  |  | 405 | #: app/controllers/PrliClicksController.php:104 |
  | 404 | 406 | msgid "All Links" |
  | 405 | 407 | msgstr "" |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L884) | […](/browser/pretty-link/tags/3.6.4/i18n/pretty-link.pot?rev=3049386#L886) |  |
  | 884 | 886 | msgstr "" |
  | 885 | 887 |  |
  | 886 |  | #: app/controllers/PrliOptionsController.php:~~64~~ |
  |  | 888 | #: app/controllers/PrliOptionsController.php:70 |
  | 887 | 889 | msgid "Options saved." |
  | 888 | 890 | msgstr "" |
  | 889 | 891 |  |
  | 890 |  | #: app/controllers/PrliOptionsController.php:~~78~~ |
  |  | 892 | #: app/controllers/PrliOptionsController.php:84 |
  | 891 | 893 | msgid "Excluded IP Addresses must be a comma separated list of IPv4 or IPv6 addresses or ranges." |
  | 892 | 894 | msgstr "" |
  | 893 | 895 |  |
  | 894 |  | #: app/controllers/PrliOptionsController.php:8~~2~~ |
  |  | 896 | #: app/controllers/PrliOptionsController.php:88 |
  | 895 | 897 | msgid "Whitelist IP Addresses must be a comma separated list of IPv4 or IPv6 addresses or ranges." |
  | 896 | 898 | msgstr "" |
  | 897 | 899 |  |
  | 898 |  | #: app/controllers/PrliOptionsController.php:1~~09~~ |
  |  | 900 | #: app/controllers/PrliOptionsController.php:115 |
  | 899 | 901 | msgid "Thank You" |
  | 900 | 902 | msgstr "" |
  | 901 | 903 |  |
  | 902 |  | #: app/controllers/PrliOptionsController.php:11~~0~~ |
  |  | 904 | #: app/controllers/PrliOptionsController.php:116 |
  | 903 | 905 | msgid "Thank you for your purchase." |
  | 904 | 906 | msgstr "" |
* ## [pretty-link/tags/3.6.4/js/tinymce\_form\_popup.js](/changeset/3049386/pretty-link/tags/3.6.4/js/tinymce_form_popup.js "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/js/tinymce_form_popup.js")

  | [r2247193](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=2247193#L58 "Show revision 2247193 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/js/tinymce_form_popup.js?rev=3049386#L58 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 58 | 58 | nofollow: nofollow, |
  | 59 | 59 | sponsored: sponsored, |
  | 60 |  | tracking: tracking |
  |  | 60 | tracking: tracking, |
  |  | 61 | \_ajax\_nonce: prliTinymceL10n.nonce, |
  | 61 | 62 | }; |
  | 62 | 63 |  |
  | […](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=2247193#L195) | […](/browser/pretty-link/tags/3.6.4/js/tinymce_form_popup.js?rev=3049386#L196) |  |
  | 195 | 196 | var data = { |
  | 196 | 197 | action: 'prli\_tinymce\_validate\_slug', |
  | 197 |  | slug: s |
  |  | 198 | slug: s, |
  |  | 199 | \_ajax\_nonce: prliTinymceL10n.nonce |
  | 198 | 200 | }; |
  | 199 | 201 |  |
* ## [pretty-link/tags/3.6.4/pretty-link.php](/changeset/3049386/pretty-link/tags/3.6.4/pretty-link.php "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/pretty-link.php")

  | [r3029001](/browser/pretty-link/trunk/pretty-link.php?rev=3029001#L4 "Show revision 3029001 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/pretty-link.php?rev=3049386#L4 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://prettylinks.com/pl/plugin-uri |
  | 5 | 5 | Description: Shrink, track and share any URL using your website and brand! |
  | 6 |  | Version: 3.6.~~3~~ |
  |  | 6 | Version: 3.6.4 |
  | 7 | 7 | Author: Pretty Links |
  | 8 | 8 | Author URI: http://prettylinks.com |
* ## [pretty-link/tags/3.6.4/readme.txt](/changeset/3049386/pretty-link/tags/3.6.4/readme.txt "Show the changeset 3049386 restricted to pretty-link/tags/3.6.4/readme.txt")

  | [r3029001](/browser/pretty-link/trunk/readme.txt?rev=3029001#L138 "Show revision 3029001 of this file in browser") | [r3049386](/browser/pretty-link/tags/3.6.4/readme.txt?rev=3049386#L138 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 138 | 138 |  |
  | 139 | 139 | == Changelog == |
  |  | 140 | = 3.6.4 = |
  |  | 141 | \* Security fixes (potential for CSRF patched) |
  |  | 142 |  |
  | 140 | 143 | = 3.6.3 = |
  | 141 | 144 | \* Add section for PrettyPay™ within the Welcome and Complete steps for in-plugin onboarding |
* ## [pretty-link/trunk/app/controllers/PrliClicksController.php](/changeset/3049386/pretty-link/trunk/app/controllers/PrliClicksController.php "Show the changeset 3049386 restricted to pretty-link/trunk/app/controllers/PrliClicksController.php")

  | [r2124924](/browser/pretty-link/trunk/app/controllers/PrliClicksController.php?rev=2124924#L23 "Show revision 2124924 of this file in browser") | [r3049386](/browser/pretty-link/trunk/app/controllers/PrliClicksController.php?rev=3049386#L23 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 |  |
  | 24 | 24 | public function route\_scripts() { |
  | 25 |  | if( isset($\_GET['action']) && $\_GET['action'] == 'prli\_download\_csv\_hit\_report' ) { |
  |  | 25 | if( ( isset($\_GET['action']) && $\_GET['action'] == 'prli\_download\_csv\_hit\_report' ) ) { |
  |  | 26 | if ( ! isset( $\_GET['\_wpnonce'] ) || ! wp\_verify\_nonce( $\_GET['\_wpnonce'], 'prli-csv-nonce' ) ) { |
  |  | 27 | status\_header( 403, 'Forbidden' ); |
  |  | 28 | wp\_die(); |
  |  | 29 | } |
  | 26 | 30 | $this->click\_report(); |
  | 27 | 31 | exit; |
* ## [pretty-link/trunk/app/controllers/PrliOptionsController.php](/changeset/3049386/pretty-link/trunk/app/controllers/PrliOptionsController.php "Show the changeset 3049386 restricted to pretty-link/trunk/app/controllers/PrliOptionsController.php")

  | [r2993573](/browser/pretty-link/trunk/app/controllers/PrliOptionsController.php?rev=2993573#L38 "Show revision 2993573 of this file in browser") | [r3049386](/browser/pretty-link/trunk/app/controllers/PrliOptionsController.php?rev=3049386#L38 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 38 | 38 | // If they did, this hidden field will be set to 'Y' |
  | 39 | 39 | if( isset($\_REQUEST[ $hidden\_field\_name ]) && $\_REQUEST[ $hidden\_field\_name ] == 'Y' ) { |
  |  | 40 | // Check the nonce before update options. |
  |  | 41 | if ( empty( $\_REQUEST['\_wpnonce'] ) || ! wp\_verify\_nonce( $\_REQUEST['\_wpnonce'], 'update-options' ) ) { |
  |  | 42 | status\_header( 403, 'Forbidden' ); |
  |  | 43 | wp\_die(); |
  |  | 44 | } |
  |  | 45 |  |
  | 40 | 46 | $update\_message = $this->update(); |
  | 41 | 47 | } |
* ## [pretty-link/trunk/app/controllers/PrliPostsController.php](/changeset/3049386/pretty-link/trunk/app/controllers/PrliPostsController.php "Show the changeset 3049386 restricted to pretty-link/trunk/app/controllers/PrliPostsController.php")

  | [r2993573](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=2993573#L138 "Show revision 2993573 of this file in browser") | [r3049386](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=3049386#L138 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 138 | 138 | 'default\_sponsored' => $default\_sponsored, |
  | 139 | 139 | 'default\_tracking' => $default\_tracking, |
  | 140 |  | 'ajaxurl' => admin\_url('admin-ajax.php') |
  |  | 140 | 'ajaxurl' => admin\_url('admin-ajax.php'), |
  |  | 141 | 'nonce' => wp\_create\_nonce('prli\_tinymce\_nonce') |
  | 141 | 142 | )); |
  | 142 | 143 |  |
  | […](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=2993573#L147) | […](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=3049386#L148) |  |
  | 147 | 148 | //AJAX |
  | 148 | 149 | public function validate\_tinymce\_slug() { |
  |  | 150 | if( ! check\_ajax\_referer( 'prli\_tinymce\_nonce', false, false ) ) { |
  |  | 151 | wp\_send\_json\_error( esc\_html\_\_('Security check failed.', 'pretty-link'), 403 ); |
  |  | 152 | } |
  |  | 153 |  |
  | 149 | 154 | if(!isset($\_POST['slug']) || empty($\_POST['slug'])) { |
  | 150 | 155 | echo "false"; |
  | […](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=2993573#L166) | […](/browser/pretty-link/trunk/app/controllers/PrliPostsController.php?rev=3049386#L171) |  |
  | 166 | 171 | //AJAX |
  | 167 | 172 | public function create\_pretty\_link() { |
  |  | 173 | if( ! check\_ajax\_referer( 'prli\_tinymce\_nonce', false, false ) ) { |
  |  | 174 | wp\_send\_json\_error( esc\_html\_\_('Security check failed.', 'pretty-link'), 403 ); |
  |  | 175 | } |
  |  | 176 |  |
  | 168 | 177 | $valid\_vars = array('target', 'slug', 'redirect', 'nofollow', 'sponsored', 'tracking'); |
  | 169 | 178 |  |
* ## [pretty-link/trunk/app/views/clicks/csv\_download.php](/changeset/3049386/pretty-link/trunk/app/views/clicks/csv_download.php "Show the changeset 3049386 restricted to pretty-link/trunk/app/views/clicks/csv_download.php")

  | [r2124183](/browser/pretty-link/trunk/app/views/clicks/csv_download.php?rev=2124183#L24 "Show revision 2124183 of this file in browser") | [r3049386](/browser/pretty-link/trunk/app/views/clicks/csv_download.php?rev=3049386#L24 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | $report\_label = sprintf(\_\_('Clicks %d-%d (%d Records)', 'pretty-link'), $hit\_min, $hit\_max, $hit\_count); |
  | 25 | 25 | $hit\_param\_delim = (preg\_match('#\?#',$hit\_report\_url)?'&':'?'); |
  | 26 |  |  |
  |  | 26 | $csv\_report\_url = $hit\_report\_url . $hit\_param\_delim . 'prli\_page=' . $i; |
  | 27 | 27 | ?> |
  | 28 |  | <li><a href="<?php echo esc\_url(~~$hit\_report\_url . $hit\_param\_delim . 'prli\_page=' . $i~~); ?>"><?php echo esc\_html($report\_label); ?></a></li> |
  |  | 28 | <li><a href="<?php echo esc\_url( wp\_nonce\_url( $csv\_report\_url, 'prli-csv-nonce' ) ); ?>"><?php echo esc\_html($report\_label); ?></a></li> |
  | 29 | 29 | <?php |
  | 30 | 30 | } |
* ## [pretty-link/trunk/i18n/pretty-link.pot](/changeset/3049386/pretty-link/trunk/i18n/pretty-link.pot "Show the changeset 3049386 restricted to pretty-link/trunk/i18n/pretty-link.pot")

  | [r3029001](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L3 "Show revision 3029001 of this file in browser") | [r3049386](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3049386#L3 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Pretty Links 3.6.~~3~~\n" |
  |  | 5 | "Project-Id-Version: Pretty Links 3.6.4\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/pretty-link\n" |
  | 7 | 7 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L10) | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3049386#L10) |  |
  | 10 | 10 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 11 | 11 | "Content-Transfer-Encoding: 8bit\n" |
  | 12 |  | "POT-Creation-Date: 2024-0~~1-30T09:47:44-07~~:00\n" |
  |  | 12 | "POT-Creation-Date: 2024-03-11T15:09:40-06:00\n" |
  | 13 | 13 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 14 | 14 | "X-Generator: WP-CLI 2.9.0\n" |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L119) | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3049386#L119) |  |
  | 119 | 119 | #: app/controllers/PrliAddonsController.php:132 |
  | 120 | 120 | #: app/controllers/PrliOnboardingController.php:204 |
  |  | 121 | #: app/controllers/PrliPostsController.php:151 |
  |  | 122 | #: app/controllers/PrliPostsController.php:174 |
  | 121 | 123 | #: app/controllers/PrliUpdateController.php:74 |
  | 122 | 124 | #: app/controllers/PrliUpdateController.php:169 |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L393) | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3049386#L395) |  |
  | 393 | 395 | msgstr "" |
  | 394 | 396 |  |
  | 395 |  | #: app/controllers/PrliClicksController.php:9~~0~~ |
  |  | 397 | #: app/controllers/PrliClicksController.php:94 |
  | 396 | 398 | msgid "IP Address: " |
  | 397 | 399 | msgstr "" |
  | 398 | 400 |  |
  | 399 |  | #: app/controllers/PrliClicksController.php:9~~5~~ |
  |  | 401 | #: app/controllers/PrliClicksController.php:99 |
  | 400 | 402 | msgid "Visitor: " |
  | 401 | 403 | msgstr "" |
  | 402 | 404 |  |
  | 403 |  | #: app/controllers/PrliClicksController.php:10~~0~~ |
  |  | 405 | #: app/controllers/PrliClicksController.php:104 |
  | 404 | 406 | msgid "All Links" |
  | 405 | 407 | msgstr "" |
  | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3029001#L884) | […](/browser/pretty-link/trunk/i18n/pretty-link.pot?rev=3049386#L886) |  |
  | 884 | 886 | msgstr "" |
  | 885 | 887 |  |
  | 886 |  | #: app/controllers/PrliOptionsController.php:~~64~~ |
  |  | 888 | #: app/controllers/PrliOptionsController.php:70 |
  | 887 | 889 | msgid "Options saved." |
  | 888 | 890 | msgstr "" |
  | 889 | 891 |  |
  | 890 |  | #: app/controllers/PrliOptionsController.php:~~78~~ |
  |  | 892 | #: app/controllers/PrliOptionsController.php:84 |
  | 891 | 893 | msgid "Excluded IP Addresses must be a comma separated list of IPv4 or IPv6 addresses or ranges." |
  | 892 | 894 | msgstr "" |
  | 893 | 895 |  |
  | 894 |  | #: app/controllers/PrliOptionsController.php:8~~2~~ |
  |  | 896 | #: app/controllers/PrliOptionsController.php:88 |
  | 895 | 897 | msgid "Whitelist IP Addresses must be a comma separated list of IPv4 or IPv6 addresses or ranges." |
  | 896 | 898 | msgstr "" |
  | 897 | 899 |  |
  | 898 |  | #: app/controllers/PrliOptionsController.php:1~~09~~ |
  |  | 900 | #: app/controllers/PrliOptionsController.php:115 |
  | 899 | 901 | msgid "Thank You" |
  | 900 | 902 | msgstr "" |
  | 901 | 903 |  |
  | 902 |  | #: app/controllers/PrliOptionsController.php:11~~0~~ |
  |  | 904 | #: app/controllers/PrliOptionsController.php:116 |
  | 903 | 905 | msgid "Thank you for your purchase." |
  | 904 | 906 | msgstr "" |
* ## [pretty-link/trunk/js/tinymce\_form\_popup.js](/changeset/3049386/pretty-link/trunk/js/tinymce_form_popup.js "Show the changeset 3049386 restricted to pretty-link/trunk/js/tinymce_form_popup.js")

  | [r2247193](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=2247193#L58 "Show revision 2247193 of this file in browser") | [r3049386](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=3049386#L58 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 58 | 58 | nofollow: nofollow, |
  | 59 | 59 | sponsored: sponsored, |
  | 60 |  | tracking: tracking |
  |  | 60 | tracking: tracking, |
  |  | 61 | \_ajax\_nonce: prliTinymceL10n.nonce, |
  | 61 | 62 | }; |
  | 62 | 63 |  |
  | […](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=2247193#L195) | […](/browser/pretty-link/trunk/js/tinymce_form_popup.js?rev=3049386#L196) |  |
  | 195 | 196 | var data = { |
  | 196 | 197 | action: 'prli\_tinymce\_validate\_slug', |
  | 197 |  | slug: s |
  |  | 198 | slug: s, |
  |  | 199 | \_ajax\_nonce: prliTinymceL10n.nonce |
  | 198 | 200 | }; |
  | 199 | 201 |  |
* ## [pretty-link/trunk/pretty-link.php](/changeset/3049386/pretty-link/trunk/pretty-link.php "Show the changeset 3049386 restricted to pretty-link/trunk/pretty-link.php")

  | [r3029001](/browser/pretty-link/trunk/pretty-link.php?rev=3029001#L4 "Show revision 3029001 of this file in browser") | [r3049386](/browser/pretty-link/trunk/pretty-link.php?rev=3049386#L4 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://prettylinks.com/pl/plugin-uri |
  | 5 | 5 | Description: Shrink, track and share any URL using your website and brand! |
  | 6 |  | Version: 3.6.~~3~~ |
  |  | 6 | Version: 3.6.4 |
  | 7 | 7 | Author: Pretty Links |
  | 8 | 8 | Author URI: http://prettylinks.com |
* ## [pretty-link/trunk/readme.txt](/changeset/3049386/pretty-link/trunk/readme.txt "Show the changeset 3049386 restricted to pretty-link/trunk/readme.txt")

  | [r3029001](/browser/pretty-link/trunk/readme.txt?rev=3029001#L138 "Show revision 3029001 of this file in browser") | [r3049386](/browser/pretty-link/trunk/readme.txt?rev=3049386#L138 "Show revision 3049386 of this file in browser") |  |
  | --- | --- | --- |
  | 138 | 138 |  |
  | 139 | 139 | == Changelog == |
  |  | 140 | = 3.6.4 = |
  |  | 141 | \* Security fixes (potential for CSRF patched) |
  |  | 142 |  |
  | 140 | 143 | = 3.6.3 = |
  | 141 | 144 | \* Add section for PrettyPay™ within the Welcome and Complete steps for in-plugin onboarding |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3049386)
* [Zip Archive](?format=zip&new=3049386)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

