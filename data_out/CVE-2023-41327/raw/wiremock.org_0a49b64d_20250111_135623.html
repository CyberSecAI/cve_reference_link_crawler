<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"> <!-- begin SEO --> <!-- --><title>Configuring WireMock in Java | WireMock</title><meta name="description" content="Configuring WireMock progammatically in Java."><meta property="og:locale" content="en-US"><meta property="og:site_name" content="WireMock"><meta property="og:title" content="Java configuration"><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="WireMock" /><meta name="twitter:description" content="Configuring WireMock progammatically in Java."><link rel="canonical" href="https://wiremock.org/docs/configuration/"><meta property="og:url" content="https://wiremock.org/docs/configuration/"><meta property="og:description" content="Configuring WireMock progammatically in Java."><meta name="twitter:site" content="@wiremockorg"><meta name="twitter:title" content="Java configuration"><meta name="twitter:description" content="Configuring WireMock progammatically in Java."><meta name="twitter:url" content="https://wiremock.org/docs/configuration/"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://wiremock.org/images/opengraphs/default.png"><meta name="image" property="og:image" content="https://wiremock.org/images/opengraphs/default.png"><meta property="og:type" content="article"><meta property="article:published_time" content="2025-01-10T15:24:59+00:00"><link rel="next" href="https://wiremock.org/docs/download-and-installation/" title="Download and Installation"><link rel="prev" href="https://wiremock.org/docs/advanced/java7/" title="WireMock on Java 1.7"> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "url": "https://wiremock.org", "logo": "https://wiremock.org/images/opengraphs/default.png" } </script> <script type="application/ld+json"> { "@context" : "http://schema.org", "@type" : "Organization", "name" : "WireMock", "url" : "https://wiremock.org", "sameAs" : ["https://twitter.com/wiremockorg","https://fosstodon.org/@wiremock","https://www.youtube.com/@WireMockTV"] } </script> <!-- end SEO --> <!-- Google Analytics --> <!-- gtag --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-KN208QTJLZ"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KN208QTJLZ'); </script> <!-- Old submission to another property using UA TODO: Delete once analytics is EoL --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-36386229-2', 'auto'); ga('require', 'GTM-WQTGSSM'); ga('send', 'pageview'); </script> <!-- End Google Analytics --> <script> (function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt"; y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y); })(window, document, "clarity", "script", "e4hf2fljrd"); </script> <!-- Start VWO Async SmartCode --> <script type='text/javascript' id='vwoCode'> window._vwo_code=window._vwo_code || (function() { var account_id=723200, version = 1.5, settings_tolerance=2000, library_tolerance=2500, use_existing_jquery=false, is_spa=1, hide_element='body', hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important', /* DO NOT EDIT BELOW THIS LINE */ f=false,d=document,vwoCodeEl=d.querySelector('#vwoCode'),code={use_existing_jquery:function(){return use_existing_jquery},library_tolerance:function(){return library_tolerance},hide_element_style:function(){return'{'+hide_element_style+'}'},finish:function(){if(!f){f=true;var e=d.getElementById('_vis_opt_path_hides');if(e)e.parentNode.removeChild(e)}},finished:function(){return f},load:function(e){var t=d.createElement('script');t.fetchPriority='high';t.src=e;t.type='text/javascript';t.onerror=function(){_vwo_code.finish()};d.getElementsByTagName('head')[0].appendChild(t)},getVersion:function(){return version},getMatchedCookies:function(e){var t=[];if(document.cookie){t=document.cookie.match(e)||[]}return t},getCombinationCookie:function(){var e=code.getMatchedCookies(/(?:^|;)\s?(_vis_opt_exp_\d+_combi=[^;$]*)/gi);e=e.map(function(e){try{var t=decodeURIComponent(e);if(!/_vis_opt_exp_\d+_combi=(?:\d+,?)+\s*$/.test(t)){return''}return t}catch(e){return''}});var i=[];e.forEach(function(e){var t=e.match(/([\d,]+)/g);t&&i.push(t.join('-'))});return i.join('|')},init:function(){if(d.URL.indexOf('__vwo_disable__')>-1)return;window.settings_timer=setTimeout(function(){_vwo_code.finish()},settings_tolerance);var e=d.createElement('style'),t=hide_element?hide_element+'{'+hide_element_style+'}':'',i=d.getElementsByTagName('head')[0];e.setAttribute('id','_vis_opt_path_hides');vwoCodeEl&&e.setAttribute('nonce',vwoCodeEl.nonce);e.setAttribute('type','text/css');if(e.styleSheet)e.styleSheet.cssText=t;else e.appendChild(d.createTextNode(t));i.appendChild(e);var n=this.getCombinationCookie();this.load('https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&f='+ +is_spa+'&vn='+version+(n?'&c='+n:''));return settings_timer}};window._vwo_settings_timer = code.init();return code;}()); </script> <!-- End VWO Async SmartCode --><link href="https://wiremock.org/feed.xml" type="application/atom+xml" rel="alternate" title="WireMock Feed"> <!-- http://t.co/dKP3o1e --><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; </script><link href="https://fonts.googleapis.com/css?family=Lato|Source+Code+Pro|Cairo" rel="stylesheet"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700;800&family=Roboto:wght@400;500;700&family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet"> <!-- For all browsers --><link rel="stylesheet" href="https://wiremock.org/assets/css/main.css"><meta http-equiv="cleartype" content="on"><link rel="shortcut icon" type="image/x-icon" href="https://wiremock.org/images/favicon.svg"> <!-- start custom head snippets --> <!-- insert favicons. use http://realfavicongenerator.net/ --> <!-- end custom head snippets --></head><body> <!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--><div class="masthead_notifications"></div><div class="masthead"> <a href="https://wiremock.org/" class="masthead__logo"> <svg width="350" height="50" viewBox="0 0 406 88" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M279.342 48C294.063 48 304.739 37.3112 304.739 23.834C304.805 10.556 294.063 0 279.342 0C264.621 0 253.879 10.4232 253.879 23.834C253.879 37.112 264.621 48 279.342 48ZM269.13 23.834C269.13 17.6597 273.706 13.0124 279.342 13.0124C284.912 13.0124 289.487 17.5934 289.487 23.834C289.554 30.1411 284.978 34.9875 279.342 34.9875C273.706 34.9875 269.13 30.1411 269.13 23.834Z" fill="#FF9505"/><path d="M332.201 47.8672C344.335 47.8672 350.966 41.1618 352.955 37.112L343.142 30.4066C342.081 32.3319 339.694 35.5851 332.93 35.5851C327.028 35.5851 321.989 31.1369 321.989 24.0996C321.989 16.9295 327.227 12.2822 333.063 12.3485C338.566 12.4149 341.351 15.1369 342.81 17.3278L352.955 9.9585C349.905 5.04564 342.876 0.199171 332.201 0.199171C318.408 0.199171 306.738 9.62655 306.738 24.0996C306.738 38.7054 318.209 47.8672 332.201 47.8672Z" fill="#FF9505"/><path d="M356.599 0.730289V47.2033H371.851V34.7884L376.227 30.4066L387.831 47.2033H406L386.969 19.6515L405.735 0.730289H386.571L371.851 15.5353V0.730289H356.599Z" fill="#FF9505"/><path d="M245.878 0.646483L232.041 0.646482L224.192 25.4546L216.401 0.646481L202.564 0.64648L187.913 47.2033H201.692L209.483 22.5282L217.273 47.2033H231.111L238.96 22.5282L246.75 47.2033H260.53L245.878 0.646483Z" fill="#FF9505"/><path d="M90.9568 0.730533H75.7057V47.2036H90.9568V0.730533Z" fill="#0FB2EF"/><path d="M97.2796 47.2036H112.531V34.7886H115.846L124.135 47.2036H141.375L131.495 32.3986C136.734 29.4774 139.651 24.0998 139.651 17.7928C139.585 8.299 132.954 0.730533 121.549 0.730533H97.2796V47.2036ZM120.554 12.8799C123.604 12.8799 125.13 15.3363 125.13 17.7928C125.13 20.1828 123.604 22.6392 120.554 22.6392H112.531V12.8799H120.554Z" fill="#0FB2EF"/><path d="M144.688 0.730533V47.2036H183.081V35.2534H159.939V29.743H179.832V18.1911H159.939V12.6807H183.081V0.730533H144.688Z" fill="#0FB2EF"/><path d="M14.6513 47.2036H28.4887L36.3376 22.3954L44.1284 47.2036H57.9657L72.617 0.646729H58.8378L51.047 25.3219L43.2563 0.646729H29.4189L21.57 25.3219L13.7792 0.646729H0L14.6513 47.2036Z" fill="#0FB2EF"/> <rect width="67" height="32" transform="translate(339 56)" fill="#0FB2EF"/><path d="M357.297 81.306C355.512 81.306 353.948 80.915 352.605 80.133C351.279 79.351 350.234 78.2715 349.469 76.8945C348.721 75.5005 348.347 73.894 348.347 72.075C348.347 70.256 348.721 68.658 349.469 67.281C350.234 65.887 351.279 64.799 352.605 64.017C353.948 63.235 355.512 62.844 357.297 62.844C359.065 62.844 360.621 63.235 361.964 64.017C363.307 64.799 364.352 65.887 365.1 67.281C365.848 68.658 366.222 70.256 366.222 72.075C366.222 73.894 365.848 75.5005 365.1 76.8945C364.352 78.2715 363.307 79.351 361.964 80.133C360.621 80.915 359.065 81.306 357.297 81.306ZM357.297 78.3735C358.997 78.3735 360.349 77.8125 361.352 76.6905C362.372 75.5685 362.882 74.03 362.882 72.075C362.882 70.12 362.372 68.5815 361.352 67.4595C360.349 66.3375 358.997 65.7765 357.297 65.7765C355.597 65.7765 354.237 66.3375 353.217 67.4595C352.197 68.5815 351.687 70.12 351.687 72.075C351.687 74.03 352.197 75.5685 353.217 76.6905C354.237 77.8125 355.597 78.3735 357.297 78.3735ZM375.199 81.306C373.89 81.306 372.734 81.085 371.731 80.643C370.728 80.184 369.937 79.538 369.359 78.705C368.781 77.855 368.484 76.8265 368.467 75.6195H371.909C371.943 76.4525 372.241 77.158 372.802 77.736C373.38 78.297 374.17 78.5775 375.173 78.5775C376.04 78.5775 376.729 78.3735 377.239 77.9655C377.749 77.5405 378.004 76.9795 378.004 76.2825C378.004 75.5515 377.774 74.982 377.315 74.574C376.873 74.166 376.278 73.8345 375.53 73.5795C374.782 73.3245 373.983 73.0525 373.133 72.7635C371.756 72.2875 370.702 71.6755 369.971 70.9275C369.257 70.1795 368.9 69.185 368.9 67.944C368.883 66.89 369.13 65.989 369.64 65.241C370.167 64.476 370.881 63.8895 371.782 63.4815C372.683 63.0565 373.72 62.844 374.893 62.844C376.083 62.844 377.128 63.0565 378.029 63.4815C378.947 63.9065 379.661 64.5015 380.171 65.2665C380.698 66.0315 380.979 66.941 381.013 67.995H377.519C377.502 67.366 377.256 66.8135 376.78 66.3375C376.321 65.8445 375.675 65.598 374.842 65.598C374.128 65.581 373.524 65.7595 373.031 66.1335C372.555 66.4905 372.317 67.0175 372.317 67.7145C372.317 68.3095 372.504 68.7855 372.878 69.1425C373.252 69.4825 373.762 69.7715 374.408 70.0095C375.054 70.2475 375.794 70.5025 376.627 70.7745C377.511 71.0805 378.318 71.4375 379.049 71.8455C379.78 72.2535 380.367 72.7975 380.809 73.4775C381.251 74.1405 381.472 74.999 381.472 76.053C381.472 76.988 381.234 77.855 380.758 78.654C380.282 79.453 379.576 80.099 378.641 80.592C377.706 81.068 376.559 81.306 375.199 81.306ZM390.414 81.306C389.105 81.306 387.949 81.085 386.946 80.643C385.943 80.184 385.152 79.538 384.574 78.705C383.996 77.855 383.699 76.8265 383.682 75.6195H387.124C387.158 76.4525 387.456 77.158 388.017 77.736C388.595 78.297 389.385 78.5775 390.388 78.5775C391.255 78.5775 391.944 78.3735 392.454 77.9655C392.964 77.5405 393.219 76.9795 393.219 76.2825C393.219 75.5515 392.989 74.982 392.53 74.574C392.088 74.166 391.493 73.8345 390.745 73.5795C389.997 73.3245 389.198 73.0525 388.348 72.7635C386.971 72.2875 385.917 71.6755 385.186 70.9275C384.472 70.1795 384.115 69.185 384.115 67.944C384.098 66.89 384.345 65.989 384.855 65.241C385.382 64.476 386.096 63.8895 386.997 63.4815C387.898 63.0565 388.935 62.844 390.108 62.844C391.298 62.844 392.343 63.0565 393.244 63.4815C394.162 63.9065 394.876 64.5015 395.386 65.2665C395.913 66.0315 396.194 66.941 396.228 67.995H392.734C392.717 67.366 392.471 66.8135 391.995 66.3375C391.536 65.8445 390.89 65.598 390.057 65.598C389.343 65.581 388.739 65.7595 388.246 66.1335C387.77 66.4905 387.532 67.0175 387.532 67.7145C387.532 68.3095 387.719 68.7855 388.093 69.1425C388.467 69.4825 388.977 69.7715 389.623 70.0095C390.269 70.2475 391.009 70.5025 391.842 70.7745C392.726 71.0805 393.533 71.4375 394.264 71.8455C394.995 72.2535 395.582 72.7975 396.024 73.4775C396.466 74.1405 396.687 74.999 396.687 76.053C396.687 76.988 396.449 77.855 395.973 78.654C395.497 79.453 394.791 80.099 393.856 80.592C392.921 81.068 391.774 81.306 390.414 81.306Z" fill="white"/> </svg> </a><nav id="site-nav" class="masthead__nav"> <!-- <button><div class="navicon"></div></button> --><ul class="visible-links"><li class="masthead__menu-item"> <span class="navlink"> <a href="https://wiremock.org/docs"> Docs </a><div class="divSubNav"><div class="divSubNav__inner"> <!-- General link --> <a href="https://wiremock.org/docs/"> WireMock </a> <!-- General link --> <a href="https://wiremock.org/docs/mock-api-templates"> Mock API Templates </a> <!-- General link --> <a href="https://docs.wiremock.io/getting-started/?utm_source=wiremock.org&utm_medium=masthead_doc-links&utm_campaign=2022_baseline"> WireMock Cloud </a> <!-- General link --> <a href="https://wiremock.org/external-resources"> External Resources </a> <!-- Show the preview link --> <a href="https://wiremock.org/2.x/docs/"> WireMock 2.x (Archive) </a> <!-- Show the preview link --></div></div></span></li><li class="masthead__menu-item"> <span class="navlink"> <a href="https://wiremock.org/support"> Need Help? </a><div class="divSubNav"><div class="divSubNav__inner"> <!-- General link --> <a href="https://slack.wiremock.org/"> Q&A on Slack </a> <!-- General link --> <a href="https://stackoverflow.com/questions/tagged/wiremock"> StackOverflow </a> <!-- General link --> <a href="https://wiremock.org/support/commercial"> Commercial Options </a></div></div></span></li><li class="masthead__menu-item"> <span class="navlink"> <a href="https://wiremock.org/participate"> Participate </a><div class="divSubNav"><div class="divSubNav__inner"> <!-- General link --> <a href="https://slack.wiremock.org/"> Community Slack </a> <!-- General link --> <a href="https://github.com/wiremock/community/blob/main/contributing/README.md"> Contributor Guide </a> <!-- General link --> <a href="https://github.com/wiremock/"> Our GitHub </a> <!-- General link --> <a href="https://github.com/wiremock/wiremock.org"> This Website </a> <!-- General link --> <a href="https://github.com/wiremock/.github/blob/main/CODE_OF_CONDUCT.md"> Code of Conduct </a></div></div></span></li><li class="masthead__menu-item"> <span class="navlink"> <a href="https://wiremock.org/external-resources"> Resources </a><div class="divSubNav"><div class="divSubNav__inner"> <!-- General link --> <a href="https://library.wiremock.org/"> Mock API Templates Library </a> <!-- General link --> <a href="https://github.com/wiremock/ecosystem"> WireMock Ecosystem </a> <!-- General link --> <a href="https://twitter.com/wiremockorg"> Twitter </a> <!-- General link --> <a href="https://fosstodon.org/@wiremock"> Mastodon </a> <!-- General link --> <a href="https://community.wiremock.io/"> Slack Archive </a> <!-- General link --> <a href="https://wiremock.org/external-resources"> External Resources </a></div></div></span></li></ul></nav><div class="masthead__cta"> <a href="https://wiremock.io/product?utm_source=wiremock.org&utm_medium=masthead&utm_campaign=homepage_2022_baseline" title="WireMock Cloud" class="btn t-6"> Try WireMock Cloud </a> <span class="masthead__cta-note">Free forever. No credit card needed</span></div><button class="hamburgerMenuIcon"> <img id="hamburgerMenuIcon" src="https://wiremock.org/images/hamburgerMenuIcon.svg" /> </button><div id="overlay-menu" class="overlay-menu"></div><div class="mobile-menu-wrapper"> <img id="closeMenuIcon" class="closeMenuIcon" src="https://wiremock.org/images/closeMenuIcon.svg" /><ul><li> <a href="https://wiremock.io?utm_source=wiremock.org&utm_medium=masthead&utm_campaign=homepage_2022_baseline" title="WireMock Cloud" class="btn t-5"> Try WireMock Cloud </a></li><li> <a href="https://wiremock.org/docs"> Docs </a></li><li> <a href="https://wiremock.org/support"> Need Help? </a></li><li> <a href="https://wiremock.org/participate"> Participate </a></li><li> <a href="https://wiremock.org/external-resources"> Resources </a></li></ul></div></div><div id="main" class="custom-doc-wrapper" role="main"><style> .slack-help-box { background-color: #f2f2f2; border: #c8c8c8 1px solid; padding: 8px; margin-bottom: 20px; border-radius: 6px; display: inline; margin-bottom: 1cm; } .slack-help-box a { font-size: normal; width: max-content; height: max-content; color: black; text-decoration: none !important; } .slack-help-box a div { display: inline; padding-right: 10px; color: inherit; } .slack-help-box a div img { vertical-align: sub; height: 22px; width: 22px; };</style><div class="sidebar"><div class="slack-help-box"> <a href="https://slack.wiremock.org/"><div> <img src="https://wiremock.org/images/slack-logo-medium.png" alt="Slack logo"/></div><div> Need help?</div></a></div><nav class="nav__list"><ul class="doc-categories"><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/overview">Getting started</a> </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/overview/">Overview</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/quickstart/java-junit/">Quick Start: API Mocking with Java and JUnit 4</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/download-and-installation/">Download and Installation</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/getting-started/">WireMock Tutorials</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/faq/">Frequently Asked Questions</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/standalone">WireMock Standalone</a> </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/standalone/docker/">Running in Docker</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/standalone/java-jar/">Running as a Standalone Process</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/standalone/administration/">Administration API</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/solutions/jvm/">Java Usage</a> </span><ul class=" doc-category__sub-nav doc-category__sub-nav--active "><li class="doc-category__li"> <a href="https://wiremock.org/docs/junit-jupiter/">JUnit 5+ Jupiter</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/junit-extensions/">JUnit 4 and Vintage</a></li><li class="doc-category__li"> <a href=""></a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/java-usage/">Plain Java</a></li><li class="doc-category__li doc-category__li--selected"> <a href="https://wiremock.org/docs/configuration/">Java configuration</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/running-without-http-server/">Running without the HTTP Server</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/jetty-12/">Using WireMock with Jetty 12</a></li><li class="doc-category__li"> <a href=""></a></li><li class="doc-category__li"> <a href=""></a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/stubbing">Stubbing & Verifying</a> </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/stubbing/">Stubbing</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/request-matching/">Request Matching</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/response-templating/">Response Templating</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/simulating-faults/">Simulating Faults</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/stateful-behaviour/">Stateful Behaviour</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/proxying/">Proxying</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/verifying/">Verifying</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/mock-api-templates">Mock API Template Library</a> </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/mock-api-templates/">WireMock API Templates Library</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/mock-api-templates/usage/">Using Mock API Templates</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/record-playback/">Record & Playback</a> </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/record-playback/">Record and Playback</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> Protocols </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/webhooks-and-callbacks/">Webhooks and Callbacks</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/grpc/">Mocking gRPC services</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/solutions/graphql/">WireMock and GraphQL</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/jwt/">JSON Web Tokens (JWT)</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/https/">Serving HTTPS</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> Integrations </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/spring-boot/">WireMock Spring Boot Integration</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> Advanced use-cases </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/multi-domain-mocking/">Multi-domain Mocking</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/advanced/deploy-to-servlet-container/">Deploying into a servlet container</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/advanced/java7/">WireMock on Java 1.7</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> <a href="https://wiremock.org/docs/extending-wiremock/">Extensibility</a> </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/extending-wiremock/">Extending WireMock</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/filtering-requests/">Filtering and Modifying Requests</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/transforming-responses/">Transforming Responses</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/custom-matching/">Custom Matching</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/listening-for-serve-events/">Listening for Serve Events</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/extending-the-admin-api/">Admin API Extensions</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/adding-template-helpers/">Adding Template Helpers</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/adding-template-model-data/">Adding Template Model Data</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/listening-for-stub-changes/">Listening for Stub Changes</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/listening-for-settings-changes/">Listening for Settings Changes</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/extensibility/adding-mappings-loader/">Mappings Loader Extensions</a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/stub-metadata/">Stub Metadata</a></li></ul></li><li class="doc-category"> <span class="doc-category__li"> Reference </span><ul class=" doc-category__sub-nav "><li class="doc-category__li"> <a href="https://wiremock.org/docs/standalone/admin-api-reference/">Admin API </a></li><li class="doc-category__li"> <a href="https://wiremock.org/docs/mock-api-templates/">WireMock API Templates Library</a></li></ul></li></ul></nav></div><style> .anchor { color: #888; content: url('/images/logos/doc-sections/link.svg'); width: 24px; vertical-align: middle; visibility: hidden; } h1:hover .anchor, h2:hover .anchor, h3:hover .anchor, h4:hover .anchor, h5:hover .anchor, h6:hover .anchor { color: #3D598B; visibility: visible; } /* Code tabs inspired by https://github.com/clustergarage/jekyll-code-tabs/pull/5 */ .tab { overflow: hidden; border: 1px solid #ccc; background-color: #f1f1f1; } .tab button { background-color: inherit; border: none; outline: none; cursor: pointer; padding: 14px 16px; transition: 0.3s; } .codeblock { margin-bottom: 2rem; } .codeblock [class^="language-"] { margin-bottom: 0; } .codeblock-option-selector { float: left; } .codeblock-copybutton { float: right; } .tab button:hover { background-color: #ddd; } .tab button.active { background-color: #ccc; } .tabcontent { display: none; padding: 12px; border: 1px solid #ccc; border-top: none; } .tabcontent { animation: fadeEffect 0.5s; /* Fading effect takes 1 second */ } @keyframes fadeEffect { from {opacity: 0.5;} to {opacity: 1;} }</style><article class="page" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="description" content="Centralize and scale your API mocks with WireMock Cloud."><meta itemprop="datePublished" content="January 10, 2025"><div class="breadcrumbs-bar"><nav class="breadcrumbs bootstrap hidden-sm-down"><ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList"><li class="breadcrumb-item breadcrumb-item-icon" property="itemListElement" typeof="ListItem"> <a property="item" typeof="WebPage" href="/"> <img class="icon" src="/images/logos/doc-sections/home.svg"/><meta property="position" content="1" /> </a></li><li class="breadcrumb-item" property="itemListElement" typeof="ListItem"> <a property="item" typeof="WebPage" href="/docs/"> <span property="name">Documentation</span><meta property="position" content="2" /> </a></li><li class="breadcrumb-item" property="itemListElement" typeof="ListItem"> <span property="name">Java configuration</span><meta property="position" content="3" /></li></ol></nav><style> nav.breadcrumbs.bootstrap { /* from Twitter Bootstrap 4 */ /* If you already use Twitter, you do not need these css lines above, cause they already in Twitter Bootstrap */ /* Additions: image integration */ } nav.breadcrumbs.bootstrap ol { margin-left: 0 } nav.breadcrumbs.bootstrap .breadcrumb { font-size: 1rem; margin-bottom: 1rem; list-style: none; border-radius: 0.25rem; } nav.breadcrumbs.bootstrap .breadcrumb::after { content: ""; display: table; clear: both; } nav.breadcrumbs.bootstrap .breadcrumb-item { float: left; } nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item::before { display: inline-block; padding-right: 0.5rem; padding-left: 0.5rem; color: #818a91; content: "/"; } nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item:hover::before { text-decoration: underline; } nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item:hover::before { text-decoration: none; } nav.breadcrumbs.bootstrap .breadcrumb-item-active { color: #818a91; } nav.breadcrumbs.bootstrap .breadcrumb .icon { display: inline-block; } nav.breadcrumbs.bootstrap .breadcrumb .icon svg { height: 0.8rem; width: 0.8rem; }</style></div><div class="page__inner-wrap"><header><h1 class="page__title" itemprop="headline">Java configuration</h1></header><section class="page__content" itemprop="text"> <!--TODO: use beforeHeading="true" before mastering the negative indenting magic--><div class="cloud-callout"><a href="https://www.wiremock.io?utm_source=oss-docs&amp;utm_medium=oss-docs&amp;utm_campaign=cloud-callouts-configuration&amp;utm_id=cloud-callouts&amp;utm_term=cloud-callouts-configuration" target="_BLANK">Centralize and scale your API mocks with WireMock Cloud.</a></div><p>Both <code class="language-plaintext highlighter-rouge">WireMockServer</code> and the <code class="language-plaintext highlighter-rouge">WireMockRule</code> take a configuration builder as the parameter to their constructor e.g.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">github</span><span class="o">.</span><span class="na">tomakehurst</span><span class="o">.</span><span class="na">wiremock</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">WireMockConfiguration</span><span class="o">.</span><span class="na">options</span><span class="o">;</span>

<span class="nc">WireMockServer</span> <span class="n">wm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">WireMockServer</span><span class="o">(</span><span class="n">options</span><span class="o">().</span><span class="na">port</span><span class="o">(</span><span class="mi">2345</span><span class="o">));</span>

<span class="nd">@Rule</span>
<span class="nc">WireMockRule</span> <span class="n">wm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">WireMockRule</span><span class="o">(</span><span class="n">options</span><span class="o">().</span><span class="na">port</span><span class="o">(</span><span class="mi">2345</span><span class="o">));</span>
</code></pre></div></div><p>Every option has a sensible default, so only options that you require an override for should be specified.</p><h2 id="network-ports-and-binding"> Network ports and binding <a href="#network-ports-and-binding" class="anchor">#</a></h2><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Statically set the HTTP port number. Defaults to 8080.</span>
<span class="o">.</span><span class="na">port</span><span class="o">(</span><span class="mi">8000</span><span class="o">)</span>

<span class="c1">// Statically set the HTTPS port number. Defaults to 8443.</span>
<span class="o">.</span><span class="na">httpsPort</span><span class="o">(</span><span class="mi">8001</span><span class="o">)</span>

<span class="c1">// Randomly assign the HTTP port on startup</span>
<span class="o">.</span><span class="na">dynamicPort</span><span class="o">()</span>

<span class="c1">// Randomly asssign the HTTPS port on startup</span>
<span class="o">.</span><span class="na">dynamicHttpsPort</span><span class="o">()</span>

<span class="c1">// Bind the WireMock server to this IP address locally. Defaults to the loopback adaptor.</span>
<span class="o">.</span><span class="na">bindAddress</span><span class="o">(</span><span class="s">"192.168.1.111"</span><span class="o">)</span>
</code></pre></div></div><h2 id="jetty-configuration"> Jetty configuration <a href="#jetty-configuration" class="anchor">#</a></h2><p>Typically it is only necessary to tweak these settings if you are doing performance testing under significant loads.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Set the number of request handling threads in Jetty. Defaults to 10.</span>
<span class="o">.</span><span class="na">containerThreads</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>

<span class="c1">// Set the number of connection acceptor threads in Jetty. Defaults to 2.</span>
<span class="o">.</span><span class="na">jettyAcceptors</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span>

<span class="c1">// Set the Jetty accept queue size. Defaults to Jetty's default of unbounded.</span>
<span class="o">.</span><span class="na">jettyAcceptQueueSize</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>

 <span class="c1">// Set the size of Jetty's header buffer (to avoid exceptions when very large request headers are sent). Defaults to 8192.</span>
<span class="o">.</span><span class="na">jettyHeaderBufferSize</span><span class="o">(</span><span class="mi">16834</span><span class="o">)</span>

<span class="c1">// Enable asynchronous request processing in Jetty. Recommended when using WireMock for performance testing with delays, as it allows much more efficient use of container threads and therefore higher throughput. Defaults to false.</span>
<span class="o">.</span><span class="na">asynchronousResponseEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>

<span class="c1">// Set the number of asynchronous response threads. Effective only with asynchronousResponseEnabled=true. Defaults to 10.</span>
<span class="o">.</span><span class="na">asynchronousResponseThreads</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
</code></pre></div></div><h2 id="https-configuration"> HTTPS configuration <a href="#https-configuration" class="anchor">#</a></h2><p>WireMock can accept HTTPS connections from clients, require a client to present a certificate for authentication, and pass a client certificate on to another service when proxying.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Set the keystore containing the HTTPS certificate</span>
<span class="o">.</span><span class="na">keystorePath</span><span class="o">(</span><span class="s">"/path/to/https-certs-keystore.jks"</span><span class="o">)</span>

<span class="c1">// Set the password to the keystore. Note: the behaviour of this changed in version 2.27.0.</span>
<span class="c1">// Previously this set Jetty's key manager password, whereas now it sets the keystore password value.</span>
<span class="o">.</span><span class="na">keystorePassword</span><span class="o">(</span><span class="s">"verysecret!"</span><span class="o">)</span>

<span class="c1">// Set the password to the Jetty's key manager. Note: added in version 2.27.0.</span>
<span class="o">.</span><span class="na">keyManagerPassword</span><span class="o">(</span><span class="s">"donttell"</span><span class="o">)</span>

<span class="c1">// Set the keystore type</span>
<span class="o">.</span><span class="na">keystoreType</span><span class="o">(</span><span class="s">"BKS"</span><span class="o">)</span>

<span class="c1">// Require a client calling WireMock to present a client certificate</span>
<span class="o">.</span><span class="na">needClientAuth</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>

<span class="c1">// Path to the trust store containing the client certificate required in by the previous parameter</span>
<span class="o">.</span><span class="na">trustStorePath</span><span class="o">(</span><span class="s">"/path/to/trust-store.jks"</span><span class="o">)</span>

<span class="c1">// The password to the trust store</span>
<span class="o">.</span><span class="na">trustStorePassword</span><span class="o">(</span><span class="s">"trustme"</span><span class="o">)</span>
</code></pre></div></div><p>WireMock uses the trust store for three purposes:</p><ol><li>As a server, when requiring client auth, WireMock will trust the client if it presents a public certificate in this trust store</li><li>As a proxy, WireMock will use the private key &amp; certificate in this key store to authenticate its http client with target servers that require client auth</li><li>As a proxy, WireMock will trust a target server if it presents a public certificate in this trust store</li></ol><h2 id="http2-configuration"> HTTP/2 configuration <a href="#http2-configuration" class="anchor">#</a></h2><p>HTTP/2 can be disabled separately for plain text (HTTP) and TLS (HTTPS):</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Disable HTTP/2 over HTTP</span>
<span class="o">.</span><span class="na">http2PlainDisabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="c1">// Disable HTTP/2 over HTTPS</span>
<span class="o">.</span><span class="na">http2TlsDisabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</code></pre></div></div><h2 id="proxy-settings"> Proxy settings <a href="#proxy-settings" class="anchor">#</a></h2><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Set the timeout for requests to the proxy in milliseconds</span>
<span class="o">.</span><span class="na">proxyTimeout</span><span class="o">(</span><span class="mi">5000</span><span class="o">)</span>

<span class="c1">// Make WireMock behave as a forward proxy e.g. via browser proxy settings</span>
<span class="o">.</span><span class="na">enableBrowserProxying</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>

<span class="c1">// Send the Host header in the original request onwards to the system being proxied to</span>
<span class="o">.</span><span class="na">preserveHostHeader</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
    
<span class="c1">// As of WireMock `3.7.0`, when in proxy mode, this option will transfer the original `User-Agent` header from the client to the proxied service.</span>
<span class="o">.</span><span class="na">preserveUserAgentProxyHeader</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> 

 <span class="c1">// Override the Host header sent when reverse proxying to another system (this and the previous parameter are mutually exclusive)</span>
<span class="o">.</span><span class="na">proxyHostHeader</span><span class="o">(</span><span class="s">"my.otherdomain.com"</span><span class="o">)</span>

 <span class="c1">// When reverse proxying, also route via the specified forward proxy (useful inside corporate firewalls)</span>
<span class="o">.</span><span class="na">proxyVia</span><span class="o">(</span><span class="s">"my.corporate.proxy"</span><span class="o">,</span> <span class="mi">8080</span><span class="o">)</span>

<span class="c1">// When proxying, path to a security store containing client private keys and trusted public certificates for communicating with a target server</span>
<span class="o">.</span><span class="na">trustStorePath</span><span class="o">(</span><span class="s">"/path/to/trust-store.jks"</span><span class="o">)</span>

<span class="c1">// The password to the trust store</span>
<span class="o">.</span><span class="na">trustStorePassword</span><span class="o">(</span><span class="s">"trustme"</span><span class="o">)</span>

<span class="c1">// When proxying, a key store containing a root Certificate Authority private key and certificate that can be used to sign generated certificates</span>
<span class="o">.</span><span class="na">caKeystorePath</span><span class="o">(</span><span class="s">"/path/to/ca-key-store.jks"</span><span class="o">)</span>

<span class="c1">// The password to the CA key store</span>
<span class="o">.</span><span class="na">caKeystorePassword</span><span class="o">(</span><span class="s">"trustme"</span><span class="o">)</span>

<span class="c1">// The type of the CA key store</span>
<span class="o">.</span><span class="na">caKeystoreType</span><span class="o">(</span><span class="s">"JKS"</span><span class="o">)</span>

<span class="c1">// Which proxy encodings to proxy through to the target if the request contains an Accept-Encoding header</span>
<span class="c1">// By default this is null, which means the header is sent to the target unchanged</span>
<span class="c1">// If there is an Accept-Encoding header on the request, and it does not contain any of the supported proxy encodings, the header is not sent to the target.</span>
<span class="o">.</span><span class="na">withSupportedProxyEncodings</span><span class="o">(</span><span class="s">"gzip"</span><span class="o">,</span> <span class="s">"deflate"</span><span class="o">)</span>
</code></pre></div></div><h2 id="file-locations"> File locations <a href="#file-locations" class="anchor">#</a></h2><p>WireMock, when started programmatically, will default to <code class="language-plaintext highlighter-rouge">src/test/resources</code> as a filesystem root if not configured otherwise.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Set the root of the filesystem WireMock will look under for files and mappings</span>
<span class="o">.</span><span class="na">usingFilesUnderDirectory</span><span class="o">(</span><span class="s">"/path/to/files-and-mappings-root"</span><span class="o">)</span>

<span class="c1">// Set a path within the classpath as the filesystem root</span>
<span class="o">.</span><span class="na">usingFilesUnderClasspath</span><span class="o">(</span><span class="s">"root/path/under/classpath"</span><span class="o">)</span>
</code></pre></div></div><h2 id="request-journal"> Request journal <a href="#request-journal" class="anchor">#</a></h2><p>The request journal records requests received by WireMock. It is required by the verification features, so these will throw errors if it is disabled.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Do not record received requests. Typically needed during load testing to avoid JVM heap exhaustion.</span>
<span class="o">.</span><span class="na">disableRequestJournal</span><span class="o">()</span>

<span class="c1">// Limit the size of the request log (for the same reason as above).</span>
<span class="o">.</span><span class="na">maxRequestJournalEntries</span><span class="o">(</span><span class="nc">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">100</span><span class="o">))</span>
</code></pre></div></div><h2 id="template-cache"> Template Cache <a href="#template-cache" class="anchor">#</a></h2><p>When response templating is enabled, compiled template fragments are cached to improve performance. This setting allows you to configure the maximum number of entries to allow in the cache. As of WireMock <code class="language-plaintext highlighter-rouge">3.7.0</code>, this defaults to 1000 cache entries. Before WireMock <code class="language-plaintext highlighter-rouge">3.7.0</code> the default was unlimited</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">withMaxTemplateCacheEntries</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>
</code></pre></div></div><h2 id="notification-logging"> Notification (logging) <a href="#notification-logging" class="anchor">#</a></h2><p>WireMock wraps all logging in its own <code class="language-plaintext highlighter-rouge">Notifier</code> interface. It ships with no-op, Slf4j and console (stdout) implementations.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Provide an alternative notifier. The default logs to slf4j.</span>
<span class="o">.</span><span class="na">notifier</span><span class="o">(</span><span class="k">new</span> <span class="nc">ConsoleNotifier</span><span class="o">(</span><span class="kc">true</span><span class="o">))</span>
</code></pre></div></div><h2 id="gzip"> Gzip <a href="#gzip" class="anchor">#</a></h2><p>Gzipping of responses can be disabled.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">gzipDisabled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
</code></pre></div></div><h2 id="extensions"> Extensions <a href="#extensions" class="anchor">#</a></h2><p>For details see <a href="../extending-wiremock/">Extending WireMock</a>.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Add extensions</span>
<span class="o">.</span><span class="na">extensions</span><span class="o">(</span><span class="s">"com.mycorp.ExtensionOne"</span><span class="o">,</span> <span class="s">"com.mycorp.ExtensionTwo"</span><span class="o">)</span>
</code></pre></div></div><h2 id="transfer-encoding"> Transfer encoding <a href="#transfer-encoding" class="anchor">#</a></h2><p>By default WireMock will send all responses chunk encoded, meaning with a <code class="language-plaintext highlighter-rouge">Transfer-Encoding: chunked</code> header present and no <code class="language-plaintext highlighter-rouge">Content-Length</code> header.</p><p>This behaviour can be modified by setting a chunked encoding policy e.g.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">useChunkedTransferEncoding</span><span class="o">(</span><span class="nc">Options</span><span class="o">.</span><span class="na">ChunkedEncodingPolicy</span><span class="o">.</span><span class="na">BODY_FILE</span><span class="o">)</span>
</code></pre></div></div><p>Valid values are:</p><ul><li><code class="language-plaintext highlighter-rouge">NEVER</code> - Never use chunked encoding. Warning: this will buffer all response bodies in order to calculate the size. This might put a lot of strain on the garbage collector if you’re using large response bodies.</li><li><code class="language-plaintext highlighter-rouge">BODY_FILE</code> - Use chunked encoding for body files but calculate a <code class="language-plaintext highlighter-rouge">Content-Length</code> for directly configured bodies.</li><li><code class="language-plaintext highlighter-rouge">ALWAYS</code> - Always use chunk encoding - the default.</li></ul><h2 id="cross-origin-response-headers-cors"> Cross-origin response headers (CORS) <a href="#cross-origin-response-headers-cors" class="anchor">#</a></h2><p>WireMock always sends CORS headers with admin API responses, but not by default with stub responses. To enable automatic sending of CORS headers on stub responses, do the following:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">stubCorsEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
</code></pre></div></div><h2 id="limiting-logged-response-body-size"> Limiting logged response body size <a href="#limiting-logged-response-body-size" class="anchor">#</a></h2><p>By default, response bodies will be recorded in the journal in their entirety. This can result in out of memory errors when very large bodies are served so WireMock provides an option to limit the number of bytes of response bodies retained (truncating any that are larger).</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">maxLoggedResponseSize</span><span class="o">(</span><span class="mi">100000</span><span class="o">)</span> <span class="c1">// bytes</span>
</code></pre></div></div><h2 id="preventing-proxying-to-and-recording-from-specific-target-addresses"> Preventing proxying to and recording from specific target addresses <a href="#preventing-proxying-to-and-recording-from-specific-target-addresses" class="anchor">#</a></h2><p>As a security measure WireMock can be configured to only permit proxying (and therefore recording) to certain addresses. This is achieved via a list of allowed address rules and a list of denied address rules, where the allowed list is evaluated first.</p><p>Each rule can be one of the following:</p><ul><li>A single IP address</li><li>An IP address range in the e.g. <code class="language-plaintext highlighter-rouge">10.1.1.1-10.2.2.2</code></li><li>A hostname wildcard e.g. <code class="language-plaintext highlighter-rouge">dev-*.example.com</code></li></ul><p>The ruleset is built and applied as follows:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">limitProxyTargets</span><span class="o">(</span><span class="nc">NetworkAddressRules</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">allow</span><span class="o">(</span><span class="s">"192.168.56.42"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">allow</span><span class="o">(</span><span class="s">"192.0.1.1-192.168.254.1"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">deny</span><span class="o">(</span><span class="s">"*.acme.com"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">()</span>
<span class="o">)</span>
</code></pre></div></div><h2 id="filename-template"> Filename template <a href="#filename-template" class="anchor">#</a></h2><p>WireMock can set up specific filename template format based on stub information. The main rule for set up specify stub metadata information in handlebar format. For instance for endpoint <code class="language-plaintext highlighter-rouge">PUT /hosts/{id}</code> and format <code class="language-plaintext highlighter-rouge">}-}.json</code> will be generated: <code class="language-plaintext highlighter-rouge">put-hosts-id.json</code> filename. Default template: <code class="language-plaintext highlighter-rouge">}-}-}.json</code>.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">filenameTemplate</span><span class="o">(</span><span class="s">"}-}.json"</span><span class="o">)</span>
</code></pre></div></div><p>Note: starting from <a href="https://github.com/wiremock/wiremock/releases/tag/3.0.0-beta-8">3.0.0-beta-8</a></p><h2 id="listening-for-raw-traffic"> Listening for raw traffic <a href="#listening-for-raw-traffic" class="anchor">#</a></h2><p>If you would like to observe raw HTTP traffic to and from Jetty for debugging purposes you can use a <code class="language-plaintext highlighter-rouge">WiremockNetworkTrafficListener</code>.</p><p>One scenario where it can be useful is where Jetty alters the response from Wiremock before sending it to the client. (An example of that is where Jetty appends a –gzip postfix to the ETag response header if the response is gzipped.) Using WireMock’s request listener extension points in this case would not show those alterations.</p><p>To output all raw traffic to console use <code class="language-plaintext highlighter-rouge">ConsoleNotifyingWiremockNetworkTrafficListener</code>, for example:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="na">networkTrafficListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ConsoleNotifyingWiremockNetworkTrafficListener</span><span class="o">()));</span>
</code></pre></div></div><p>If you would like to collect the traffic and for example add it to your acceptance test’s output, you can use the <code class="language-plaintext highlighter-rouge">CollectingNetworkTrafficListener</code>.</p><h2 id="http-client"> HTTP Client <a href="#http-client" class="anchor">#</a></h2><p>If you want to increase the proxying performance of wiremock you can enable Connection reuse and increse max Connections</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Maximum connections for Http Client</span>
<span class="o">.</span><span class="na">maxHttpClientConnections</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="c1">//Disable http connection reuse, `false` to enable</span>
<span class="o">.</span><span class="na">disableConnectionReuse</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
</code></pre></div></div></section><footer class="page__meta"> <a class="page__meta-title" href="https://github.com/wiremock/wiremock.org/edit/main/_docs/configuration.md" target="_blank"> <img width="16px" src= "/images/logos/doc-sections/edit.svg" /> Improve this page </a> <a class="page__meta-title" href="https://github.com/wiremock/wiremock.org/issues/new?labels=bug&template=3-bug.yml&page=/docs/configuration/&title=Issue on Java configuration" target="_blank"> <img width="16px" src= "/images/logos/doc-sections/bug.svg" /> Report an issue </a> <a class="page__meta-title" href="http://slack.wiremock.org/" target="_blank"> <img width="16px" src= "/images/logos/doc-sections/slack.svg" /> Ask on Slack </a></footer></div></article></div><div class="page__footer"><footer> <!-- start custom footer snippets --> <!-- end custom footer snippets --><div class="page__footer-copyright"> <img src="https://wiremock.org/images/shortLogo.png" class="short-logo"/> <span class="footer-copyright-description">&copy; 2025</span><ul class="footer-social-links"><li> <a href="http://github.com/wiremock" target="_blank"> <img src="https://wiremock.org/images/githubIcon.svg" /> </a></li></ul></div><script src="https://wiremock.org/assets/js/jquery.min.js"></script> <script src="https://wiremock.org/assets/js/notify.js"></script> <script src="https://wiremock.org/assets/js/mobile-navbar.js"></script> <script src="https://wiremock.org/assets/js/notifications.js"></script> <script src="https://wiremock.org/assets/js/codeTab.js"></script> <script src="https://wiremock.org/assets/js/sidebar-docs.js"></script> <script src="https://wiremock.org/assets/js/tracking-events.js"></script> <script src="https://wiremock.org/assets/js/faq.js"></script> <script src="https://wiremock.org/assets/js/jekyll-code-tabs.js"></script></footer></div><script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script> <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" integrity="sha256-xNjb53/rY+WmG+4L6tTl9m6PpqknWZvRt0rO1SRnJzw=" crossorigin="anonymous"></script> <!-- <script src="https://wiremock.org/assets/js/main.min.js"></script> --></body></html>
