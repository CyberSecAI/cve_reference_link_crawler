The provided content relates to CVE-2021-47420.

**Root cause of vulnerability:**
The vulnerability is a memory leak in the `amdgpu_amdkfd_gpuvm.c` driver. Memory allocated for `ttm->sg` using `kmalloc` in `kfd_mem_dmamap_userptr` is not freed with `kfree` in `kfd_mem_dmaunmap_userptr`.

**Weaknesses/vulnerabilities present:**
- Memory leak.

**Impact of exploitation:**
- The memory leak could lead to system instability and resource exhaustion over time.

**Attack vectors:**
- A user with the ability to allocate and unmap userptr memory using the amdkfd driver could trigger the memory leak.

**Required attacker capabilities/position:**
- Ability to call the `kfd_mem_dmamap_userptr` and `kfd_mem_dmaunmap_userptr` functions on the driver