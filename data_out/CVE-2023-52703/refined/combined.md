=== Content from git.kernel.org_78068b2e_20250111_040642.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c68f345b7c425b38656e1791a0486769a8797016)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c68f345b7c425b38656e1791a0486769a8797016)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c68f345b7c425b38656e1791a0486769a8797016)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c68f345b7c425b38656e1791a0486769a8797016)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | David S. Miller <davem@davemloft.net> | 2023-02-13 09:41:14 +0000 |
| commit | [c68f345b7c425b38656e1791a0486769a8797016](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c68f345b7c425b38656e1791a0486769a8797016) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c68f345b7c425b38656e1791a0486769a8797016)) | |
| tree | [87add3e989a2a8d9457441317da4ee7e6e5b22f2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c68f345b7c425b38656e1791a0486769a8797016) | |
| parent | [2fa28f5c6fcbfc794340684f36d2581b4f2d20b5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2fa28f5c6fcbfc794340684f36d2581b4f2d20b5) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c68f345b7c425b38656e1791a0486769a8797016&id2=2fa28f5c6fcbfc794340684f36d2581b4f2d20b5)) | |
| download | [linux-c68f345b7c425b38656e1791a0486769a8797016.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c68f345b7c425b38656e1791a0486769a8797016.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathsyzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c68f345b7c425b38656e1791a0486769a8797016)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=c68f345b7c425b38656e1791a0486769a8797016) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex 9f2b70ef39aa1b..613fc6910f1481 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=2fa28f5c6fcbfc794340684f36d2581b4f2d20b5)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=c68f345b7c425b38656e1791a0486769a8797016)@@ -65,8 +65,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -83,8 +83,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:19 +0000



=== Content from git.kernel.org_3d4520c4_20250111_040637.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-02-22 12:46:06 +0100 |
| commit | [1b5de7d44890b78519acbcc80d8d1f23ff2872e5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)) | |
| tree | [f7f7d5385557c0d5d1104bc01c5e047b4516a346](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5) | |
| parent | [3abda752ffa2a545a85345d20d83152db4cc28f4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3abda752ffa2a545a85345d20d83152db4cc28f4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5&id2=3abda752ffa2a545a85345d20d83152db4cc28f4)) | |
| download | [linux-1b5de7d44890b78519acbcc80d8d1f23ff2872e5.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1b5de7d44890b78519acbcc80d8d1f23ff2872e5.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathcommit c68f345b7c425b38656e1791a0486769a8797016 upstream.
syzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex c677ec2bae183b..840099580f4e9b 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=3abda752ffa2a545a85345d20d83152db4cc28f4)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=1b5de7d44890b78519acbcc80d8d1f23ff2872e5)@@ -69,8 +69,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -87,8 +87,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:14 +0000



=== Content from git.kernel.org_f3bfeec2_20250111_040638.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=338f826d3afead6e4df521f7972a4bef04a72efb)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=338f826d3afead6e4df521f7972a4bef04a72efb)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=338f826d3afead6e4df521f7972a4bef04a72efb)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=338f826d3afead6e4df521f7972a4bef04a72efb)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-02-22 12:57:09 +0100 |
| commit | [338f826d3afead6e4df521f7972a4bef04a72efb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=338f826d3afead6e4df521f7972a4bef04a72efb) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=338f826d3afead6e4df521f7972a4bef04a72efb)) | |
| tree | [ba5297db3397c318518ccd98c9103aa0522ca14f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=338f826d3afead6e4df521f7972a4bef04a72efb) | |
| parent | [59e30d2bd3094bec9398372a83067c8a778365aa](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=59e30d2bd3094bec9398372a83067c8a778365aa) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=338f826d3afead6e4df521f7972a4bef04a72efb&id2=59e30d2bd3094bec9398372a83067c8a778365aa)) | |
| download | [linux-338f826d3afead6e4df521f7972a4bef04a72efb.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-338f826d3afead6e4df521f7972a4bef04a72efb.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathcommit c68f345b7c425b38656e1791a0486769a8797016 upstream.
syzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=338f826d3afead6e4df521f7972a4bef04a72efb)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=338f826d3afead6e4df521f7972a4bef04a72efb) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex fc5895f85cee2f..a552bb1665b8a0 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=59e30d2bd3094bec9398372a83067c8a778365aa)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=338f826d3afead6e4df521f7972a4bef04a72efb)@@ -65,8 +65,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -83,8 +83,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:15 +0000



=== Content from git.kernel.org_9a77823f_20250111_040639.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=525bdcb0838d19d918c7786151ee14661967a030)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=525bdcb0838d19d918c7786151ee14661967a030)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=525bdcb0838d19d918c7786151ee14661967a030)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=525bdcb0838d19d918c7786151ee14661967a030)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-02-22 12:55:57 +0100 |
| commit | [525bdcb0838d19d918c7786151ee14661967a030](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=525bdcb0838d19d918c7786151ee14661967a030) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=525bdcb0838d19d918c7786151ee14661967a030)) | |
| tree | [aecc2e4eddea04990547d3da843e9a5db419fd9b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=525bdcb0838d19d918c7786151ee14661967a030) | |
| parent | [9d68bfa2205d249f705469d6799d0e081ac2b017](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9d68bfa2205d249f705469d6799d0e081ac2b017) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=525bdcb0838d19d918c7786151ee14661967a030&id2=9d68bfa2205d249f705469d6799d0e081ac2b017)) | |
| download | [linux-525bdcb0838d19d918c7786151ee14661967a030.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-525bdcb0838d19d918c7786151ee14661967a030.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathcommit c68f345b7c425b38656e1791a0486769a8797016 upstream.
syzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=525bdcb0838d19d918c7786151ee14661967a030)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=525bdcb0838d19d918c7786151ee14661967a030) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex fc5895f85cee2f..a552bb1665b8a0 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=9d68bfa2205d249f705469d6799d0e081ac2b017)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=525bdcb0838d19d918c7786151ee14661967a030)@@ -65,8 +65,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -83,8 +83,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:16 +0000



=== Content from git.kernel.org_65076b91_20250111_040636.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=02df3170c04a8356cd571ab9155a42f030190abc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02df3170c04a8356cd571ab9155a42f030190abc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02df3170c04a8356cd571ab9155a42f030190abc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02df3170c04a8356cd571ab9155a42f030190abc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-02-22 12:59:52 +0100 |
| commit | [02df3170c04a8356cd571ab9155a42f030190abc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02df3170c04a8356cd571ab9155a42f030190abc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=02df3170c04a8356cd571ab9155a42f030190abc)) | |
| tree | [37c50fd059c149e8b29d91012981016c66126878](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02df3170c04a8356cd571ab9155a42f030190abc) | |
| parent | [229461ff0f43b273cde8df7c2a7712965aa5380c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=229461ff0f43b273cde8df7c2a7712965aa5380c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02df3170c04a8356cd571ab9155a42f030190abc&id2=229461ff0f43b273cde8df7c2a7712965aa5380c)) | |
| download | [linux-02df3170c04a8356cd571ab9155a42f030190abc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-02df3170c04a8356cd571ab9155a42f030190abc.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathcommit c68f345b7c425b38656e1791a0486769a8797016 upstream.
syzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02df3170c04a8356cd571ab9155a42f030190abc)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=02df3170c04a8356cd571ab9155a42f030190abc) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex 9f2b70ef39aa1b..613fc6910f1481 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=229461ff0f43b273cde8df7c2a7712965aa5380c)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=02df3170c04a8356cd571ab9155a42f030190abc)@@ -65,8 +65,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -83,8 +83,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:13 +0000



=== Content from git.kernel.org_ba470fc7_20250111_040640.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-02-22 12:47:21 +0100 |
| commit | [723ef7b66f37c0841f5a451ccbce47ee1641e081](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)) | |
| tree | [df1ee55c490a131f593fd517e3f7951e60f564ba](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081) | |
| parent | [28a1742fcc1d8692e9090864373aa77fb3a0c8fd](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=28a1742fcc1d8692e9090864373aa77fb3a0c8fd) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081&id2=28a1742fcc1d8692e9090864373aa77fb3a0c8fd)) | |
| download | [linux-723ef7b66f37c0841f5a451ccbce47ee1641e081.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-723ef7b66f37c0841f5a451ccbce47ee1641e081.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathcommit c68f345b7c425b38656e1791a0486769a8797016 upstream.
syzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=723ef7b66f37c0841f5a451ccbce47ee1641e081) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex 0cc6993c279a2c..93ee909c79395f 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=28a1742fcc1d8692e9090864373aa77fb3a0c8fd)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=723ef7b66f37c0841f5a451ccbce47ee1641e081)@@ -69,8 +69,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -87,8 +87,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:17 +0000



=== Content from git.kernel.org_c71805c2_20250111_040641.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a753352622b4f3c0219e0e9c73114b2848ae6042)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a753352622b4f3c0219e0e9c73114b2848ae6042)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a753352622b4f3c0219e0e9c73114b2848ae6042)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a753352622b4f3c0219e0e9c73114b2848ae6042)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Miko Larsson <mikoxyzzz@gmail.com> | 2023-02-10 09:13:44 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-02-22 12:50:40 +0100 |
| commit | [a753352622b4f3c0219e0e9c73114b2848ae6042](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a753352622b4f3c0219e0e9c73114b2848ae6042) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a753352622b4f3c0219e0e9c73114b2848ae6042)) | |
| tree | [32cbb6b12d3856988df5b9d250983ba0dc8b58b6](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a753352622b4f3c0219e0e9c73114b2848ae6042) | |
| parent | [0c2651c763695557be25a2614b973db891b8ba42](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c2651c763695557be25a2614b973db891b8ba42) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a753352622b4f3c0219e0e9c73114b2848ae6042&id2=0c2651c763695557be25a2614b973db891b8ba42)) | |
| download | [linux-a753352622b4f3c0219e0e9c73114b2848ae6042.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a753352622b4f3c0219e0e9c73114b2848ae6042.tar.gz) | |

net/usb: kalmia: Don't pass act\_len in usb\_bulk\_msg error pathcommit c68f345b7c425b38656e1791a0486769a8797016 upstream.
syzbot reported that act\_len in kalmia\_send\_init\_packet() is
uninitialized when passing it to the first usb\_bulk\_msg error path. Jiri
Pirko noted that it's pointless to pass it in the error path, and that
the value that would be printed in the second error path would be the
value of act\_len from the first call to usb\_bulk\_msg.[1]
With this in mind, let's just not pass act\_len to the usb\_bulk\_msg error
paths.
1: https://lore.kernel.org/lkml/Y9pY61y1nwTuzMOa@nanopsycho/
Fixes: d40261236e8e ("net/usb: Add Samsung Kalmia driver for Samsung GT-B3730")
Reported-and-tested-by: syzbot+cd80c5ef5121bfe85b55@syzkaller.appspotmail.com
Signed-off-by: Miko Larsson <mikoxyzzz@gmail.com>
Reviewed-by: Alexander Duyck <alexanderduyck@fb.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a753352622b4f3c0219e0e9c73114b2848ae6042)

| -rw-r--r-- | [drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/usb/kalmia.c?id=a753352622b4f3c0219e0e9c73114b2848ae6042) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 4 deletions

| diff --git a/drivers/net/usb/kalmia.c b/drivers/net/usb/kalmia.cindex fc5895f85cee2f..a552bb1665b8a0 100644--- a/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=0c2651c763695557be25a2614b973db891b8ba42)+++ b/[drivers/net/usb/kalmia.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/usb/kalmia.c?id=a753352622b4f3c0219e0e9c73114b2848ae6042)@@ -65,8 +65,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len, init\_msg, init\_msg\_len, &act\_len, KALMIA\_USB\_TIMEOUT); if (status != 0) { netdev\_err(dev->net,- "Error sending init packet. Status %i, length %i\n",- status, act\_len);+ "Error sending init packet. Status %i\n",+ status); return status; } else if (act\_len != init\_msg\_len) {@@ -83,8 +83,8 @@ kalmia\_send\_init\_packet(struct usbnet \*dev, u8 \*init\_msg, u8 init\_msg\_len,  if (status != 0) netdev\_err(dev->net,- "Error receiving init result. Status %i, length %i\n",- status, act\_len);+ "Error receiving init result. Status %i\n",+ status); else if (act\_len != expected\_len) netdev\_err(dev->net, "Unexpected init result length: %i\n", act\_len); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:05:18 +0000


