

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3139233)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3139232 "Changeset 3139232")
* [Next Changeset](/changeset/3139234 "Changeset 3139234") →

---

# Changeset 3139233

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/21/2024 06:01:13 PM
([5 months](/timeline?from=2024-08-21T18%3A01%3A13Z&precision=second "See timeline at 08/21/2024 06:01:13 PM") ago)

Author:
themeisle
Message:

Update to version 2.10.37 from GitHub

Location:
[themeisle-companion](/browser/themeisle-companion?rev=3139233)
Files:

54 added
2 deleted
78 edited
1 copied

* [tags/2.10.37](/browser/themeisle-companion/tags/2.10.37?rev=3139233 "Show entry in browser")
  (copied)
  *(copied from [themeisle-companion/trunk](/browser/themeisle-companion/trunk?rev=3120011 "Show original file (revision 3139232)"))*
* [tags/2.10.37/CHANGELOG.md](/browser/themeisle-companion/tags/2.10.37/CHANGELOG.md?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/2.10.37/core/includes/class-orbit-fox.php](/browser/themeisle-companion/tags/2.10.37/core/includes/class-orbit-fox.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/2.10.37/languages/themeisle-companion.pot](/browser/themeisle-companion/tags/2.10.37/languages/themeisle-companion.pot?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [tags/2.10.37/obfx\_modules/custom-fonts/custom\_fonts\_admin.php](/browser/themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/custom_fonts_admin.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [tags/2.10.37/obfx\_modules/custom-fonts/init.php](/browser/themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/init.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [tags/2.10.37/readme.md](/browser/themeisle-companion/tags/2.10.37/readme.md?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file6 "Show differences"))
* [tags/2.10.37/readme.txt](/browser/themeisle-companion/tags/2.10.37/readme.txt?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [tags/2.10.37/themeisle-companion.php](/browser/themeisle-companion/tags/2.10.37/themeisle-companion.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [tags/2.10.37/vendor/autoload.php](/browser/themeisle-companion/tags/2.10.37/vendor/autoload.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/CHANGELOG.md](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/images/team.jpg](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/images/team.jpg?rev=3139233 "Show entry in browser")
  (modified)
  ([previous](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/team.jpg?rev=2926556 "Show previous version in browser"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.png](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.png?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.svg](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.svg?rev=3046442 "Show what was removed (content at revision 3139232)")
  (deleted)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget/float.asset.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget/float.asset.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget/float.css](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget/float.css?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget/float.js](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget/float.js?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file20 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file22 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.asset.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file23 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.js](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file27 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Common/Abstract\_module.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file28 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233 "Show entry in browser")
  (modified)
  ([7 diffs](#file29 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file30 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file31 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard\_widget.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file32 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Featured\_plugins.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file33 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Float\_widget.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Float_widget.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file35 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233 "Show entry in browser")
  (modified)
  ([5 diffs](#file36 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233 "Show entry in browser")
  (modified)
  ([21 diffs](#file37 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file38 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file39 "Show differences"))
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Translations.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Translations.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file41 "Show differences"))
* [tags/2.10.37/vendor/composer/autoload\_classmap.php](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_classmap.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file42 "Show differences"))
* [tags/2.10.37/vendor/composer/autoload\_psr4.php](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_psr4.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file43 "Show differences"))
* [tags/2.10.37/vendor/composer/autoload\_real.php](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_real.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file44 "Show differences"))
* [tags/2.10.37/vendor/composer/autoload\_static.php](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_static.php?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file45 "Show differences"))
* [tags/2.10.37/vendor/composer/installed.json](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.json?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file46 "Show differences"))
* [tags/2.10.37/vendor/composer/installed.php](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.php?rev=3139233 "Show entry in browser")
  (modified)
  ([4 diffs](#file47 "Show differences"))
* [tags/2.10.37/vendor/enshrined](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/LICENSE](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/LICENSE?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/README.md](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/README.md?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/Exceptions](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/Exceptions?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/Helper.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/Helper.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/Sanitizer.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/Sanitizer.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/data](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/data?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/TagInterface.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/TagInterface.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/XPath.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/data/XPath.php?rev=3139233 "Show entry in browser")
  (added)
* [tags/2.10.37/vendor/enshrined/svg-sanitize/src/svg-scanner.php](/browser/themeisle-companion/tags/2.10.37/vendor/enshrined/svg-sanitize/src/svg-scanner.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/CHANGELOG.md](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file68 "Show differences"))
* [trunk/core/includes/class-orbit-fox.php](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file69 "Show differences"))
* [trunk/languages/themeisle-companion.pot](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file70 "Show differences"))
* [trunk/obfx\_modules/custom-fonts/custom\_fonts\_admin.php](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/custom_fonts_admin.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file71 "Show differences"))
* [trunk/obfx\_modules/custom-fonts/init.php](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/init.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file72 "Show differences"))
* [trunk/readme.md](/browser/themeisle-companion/trunk/readme.md?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file73 "Show differences"))
* [trunk/readme.txt](/browser/themeisle-companion/trunk/readme.txt?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file74 "Show differences"))
* [trunk/themeisle-companion.php](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file75 "Show differences"))
* [trunk/vendor/autoload.php](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file76 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file77 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/images/team.jpg](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/team.jpg?rev=3139233 "Show entry in browser")
  (modified)
  ([previous](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/team.jpg?rev=2926556 "Show previous version in browser"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.png](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.png?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.svg](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/images/themeisle-logo.svg?rev=3046442 "Show what was removed (content at revision 3139232)")
  (deleted)
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file81 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file82 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget/float.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget/float.asset.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget/float.css](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget/float.css?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float\_widget/float.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/float_widget/float.js?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file87 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file88 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file89 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file90 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file91 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file92 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file93 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/load.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file94 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract\_module.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file95 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233 "Show entry in browser")
  (modified)
  ([7 diffs](#file96 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file97 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file98 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard\_widget.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file99 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured\_plugins.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file100 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Float\_widget.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Float_widget.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file102 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233 "Show entry in browser")
  (modified)
  ([5 diffs](#file103 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233 "Show entry in browser")
  (modified)
  ([21 diffs](#file104 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file105 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file106 "Show differences"))
* [trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Translations.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Translations.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/codeinwp/themeisle-sdk/start.php](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file108 "Show differences"))
* [trunk/vendor/composer/autoload\_classmap.php](/browser/themeisle-companion/trunk/vendor/composer/autoload_classmap.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file109 "Show differences"))
* [trunk/vendor/composer/autoload\_psr4.php](/browser/themeisle-companion/trunk/vendor/composer/autoload_psr4.php?rev=3139233 "Show entry in browser")
  (modified)
  ([1 diff](#file110 "Show differences"))
* [trunk/vendor/composer/autoload\_real.php](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3139233 "Show entry in browser")
  (modified)
  ([2 diffs](#file111 "Show differences"))
* [trunk/vendor/composer/autoload\_static.php](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file112 "Show differences"))
* [trunk/vendor/composer/installed.json](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3139233 "Show entry in browser")
  (modified)
  ([3 diffs](#file113 "Show differences"))
* [trunk/vendor/composer/installed.php](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3139233 "Show entry in browser")
  (modified)
  ([4 diffs](#file114 "Show differences"))
* [trunk/vendor/enshrined](/browser/themeisle-companion/trunk/vendor/enshrined?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/LICENSE](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/LICENSE?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/README.md](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/README.md?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/ElementReference?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Exceptions](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/Exceptions?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Helper.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/Helper.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Sanitizer.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/Sanitizer.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/data?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/TagInterface.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/data/TagInterface.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/XPath.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/data/XPath.php?rev=3139233 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/svg-scanner.php](/browser/themeisle-companion/trunk/vendor/enshrined/svg-sanitize/src/svg-scanner.php?rev=3139233 "Show entry in browser")
  (added)

### Legend:

Unmodified
Added
Removed

* ## [themeisle-companion/tags/2.10.37/CHANGELOG.md](/changeset/3139233/themeisle-companion/tags/2.10.37/CHANGELOG.md "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/CHANGELOG.md")

  | [r3072679](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/CHANGELOG.md?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ##### [Version 2.10.37](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.36...v2.10.37) (2024-08-21) |
  |  | 2 |  |
  |  | 3 | - Enhanced security |
  |  | 4 |  |
  | 1 | 5 | ##### [Version 2.10.36](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.35...v2.10.36) (2024-04-17) |
  | 2 | 6 |  |
* ## [themeisle-companion/tags/2.10.37/core/includes/class-orbit-fox.php](/changeset/3139233/themeisle-companion/tags/2.10.37/core/includes/class-orbit-fox.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/core/includes/class-orbit-fox.php")

  | [r3072679](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=3072679#L70 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/core/includes/class-orbit-fox.php?rev=3139233#L70 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | $this->plugin\_name = 'orbit-fox'; |
  | 71 | 71 |  |
  | 72 |  | $this->version = '2.10.3~~6~~'; |
  |  | 72 | $this->version = '2.10.37'; |
  | 73 | 73 |  |
  | 74 | 74 | $this->load\_dependencies(); |
* ## [themeisle-companion/tags/2.10.37/languages/themeisle-companion.pot](/changeset/3139233/themeisle-companion/tags/2.10.37/languages/themeisle-companion.pot "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/languages/themeisle-companion.pot")

  | [r3072679](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3072679#L3 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/languages/themeisle-companion.pot?rev=3139233#L3 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Orbit Fox Companion 2.10.3~~6~~\n" |
  |  | 5 | "Project-Id-Version: Orbit Fox Companion 2.10.37\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: " |
  | 7 | 7 | "https://github.com/Codeinwp/themeisle-companion/issues\n" |
  | 8 |  | "POT-Creation-Date: 2024-0~~4-17 23:28:08~~+00:00\n" |
  |  | 8 | "POT-Creation-Date: 2024-08-21 18:00:11+00:00\n" |
  | 9 | 9 | "MIME-Version: 1.0\n" |
  | 10 | 10 | "Content-Type: text/plain; charset=utf-8\n" |
* ## [themeisle-companion/tags/2.10.37/obfx\_modules/custom-fonts/custom\_fonts\_admin.php](/changeset/3139233/themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/custom_fonts_admin.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/custom_fonts_admin.php")

  | [r2779225](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/custom_fonts_admin.php?rev=2779225#L405 "Show revision 2779225 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/custom_fonts_admin.php?rev=3139233#L405 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 405 | 405 | } |
  | 406 | 406 |  |
  |  | 407 | /\*\* |
  |  | 408 | \* Check if the file is an SVG, if so handle appropriately |
  |  | 409 | \* |
  |  | 410 | \* @param array $file An array of data for a single file. |
  |  | 411 | \* |
  |  | 412 | \* @return mixed |
  |  | 413 | \*/ |
  |  | 414 | public function check\_svg\_and\_sanitize( $file ) { |
  |  | 415 | // Ensure we have a proper file path before processing. |
  |  | 416 | if ( ! isset( $file['tmp\_name'] ) ) { |
  |  | 417 | return $file; |
  |  | 418 | } |
  |  | 419 |  |
  |  | 420 | $file\_name   = isset( $file['name'] ) ? $file['name'] : ''; |
  |  | 421 | $wp\_filetype = wp\_check\_filetype\_and\_ext( $file['tmp\_name'], $file\_name ); |
  |  | 422 | $type        = ! empty( $wp\_filetype['type'] ) ? $wp\_filetype['type'] : ''; |
  |  | 423 |  |
  |  | 424 | if ( 'image/svg+xml' === $type ) { |
  |  | 425 | if ( ! current\_user\_can( 'upload\_files' ) ) { |
  |  | 426 | $file['error'] = 'Invalid'; |
  |  | 427 | return $file; |
  |  | 428 | } |
  |  | 429 |  |
  |  | 430 | if ( ! $this->sanitize\_svg( $file['tmp\_name'] ) ) { |
  |  | 431 | $file['error'] = 'Invalid'; |
  |  | 432 | } |
  |  | 433 | } |
  |  | 434 |  |
  |  | 435 | return $file; |
  |  | 436 | } |
  |  | 437 |  |
  |  | 438 | /\*\* |
  |  | 439 | \* Sanitize the SVG |
  |  | 440 | \* |
  |  | 441 | \* @param string $file Temp file path. |
  |  | 442 | \* |
  |  | 443 | \* @return bool|int |
  |  | 444 | \*/ |
  |  | 445 | protected function sanitize\_svg( $file ) { |
  |  | 446 | if ( ! function\_exists( 'WP\_Filesystem' ) ) { |
  |  | 447 | require\_once ABSPATH . 'wp-admin/includes/file.php'; |
  |  | 448 | } |
  |  | 449 | WP\_Filesystem(); |
  |  | 450 | global $wp\_filesystem; |
  |  | 451 |  |
  |  | 452 | $dirty = $wp\_filesystem->get\_contents( $file ); |
  |  | 453 |  |
  |  | 454 | // Is the SVG gzipped? If so we try and decode the string. |
  |  | 455 | $is\_zipped = $this->is\_gzipped( $dirty ); |
  |  | 456 | if ( $is\_zipped && ( ! function\_exists( 'gzdecode' ) || ! function\_exists( 'gzencode' ) ) ) { |
  |  | 457 | return false; |
  |  | 458 | } |
  |  | 459 |  |
  |  | 460 | if ( $is\_zipped ) { |
  |  | 461 | $dirty = gzdecode( $dirty ); |
  |  | 462 |  |
  |  | 463 | // If decoding fails, bail as we're not secure. |
  |  | 464 | if ( false === $dirty ) { |
  |  | 465 | return false; |
  |  | 466 | } |
  |  | 467 | } |
  |  | 468 |  |
  |  | 469 | $sanitizer = new enshrined\svgSanitize\Sanitizer(); |
  |  | 470 | $clean     = $sanitizer->sanitize( $dirty ); |
  |  | 471 |  |
  |  | 472 | if ( false === $clean ) { |
  |  | 473 | return false; |
  |  | 474 | } |
  |  | 475 |  |
  |  | 476 | // If we were gzipped, we need to re-zip. |
  |  | 477 | if ( $is\_zipped ) { |
  |  | 478 | $clean = gzencode( $clean ); |
  |  | 479 | } |
  |  | 480 |  |
  |  | 481 | $wp\_filesystem->put\_contents( $file, $clean ); |
  |  | 482 |  |
  |  | 483 | return true; |
  |  | 484 | } |
  |  | 485 |  |
  |  | 486 | /\*\* |
  |  | 487 | \* Check if the contents are gzipped |
  |  | 488 | \* |
  |  | 489 | \* @see http://www.gzip.org/zlib/rfc-gzip.html#member-format |
  |  | 490 | \* |
  |  | 491 | \* @param string $contents Content to check. |
  |  | 492 | \* |
  |  | 493 | \* @return bool |
  |  | 494 | \*/ |
  |  | 495 | protected function is\_gzipped( $contents ) { |
  |  | 496 | // phpcs:disable Generic.Strings.UnnecessaryStringConcat.Found |
  |  | 497 | if ( function\_exists( 'mb\_strpos' ) ) { |
  |  | 498 | return 0 === mb\_strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 499 | } else { |
  |  | 500 | return 0 === strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 501 | } |
  |  | 502 | // phpcs:enable |
  |  | 503 | } |
  |  | 504 |  |
  | 407 | 505 | } |
* ## [themeisle-companion/tags/2.10.37/obfx\_modules/custom-fonts/init.php](/changeset/3139233/themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/init.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/init.php")

  | [r2606655](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/init.php?rev=2606655#L74 "Show revision 2606655 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/obfx_modules/custom-fonts/init.php?rev=3139233#L74 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 74 | 74 | $this->loader->add\_filter( 'upload\_mimes', $admin\_instance, 'add\_fonts\_to\_allowed\_mimes' ); |
  | 75 | 75 | $this->loader->add\_filter( 'wp\_check\_filetype\_and\_ext', $admin\_instance, 'update\_mime\_types', 10, 3 ); |
  |  | 76 | $this->loader->add\_filter( 'wp\_handle\_upload\_prefilter', $admin\_instance, 'check\_svg\_and\_sanitize' ); |
  | 76 | 77 |  |
  | 77 | 78 | $public\_instance = new Custom\_Fonts\_Public(); |
* ## [themeisle-companion/tags/2.10.37/readme.md](/changeset/3139233/themeisle-companion/tags/2.10.37/readme.md "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/readme.md")

  | [r3072679](/browser/themeisle-companion/trunk/readme.md?rev=3072679#L3 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/readme.md?rev=3139233#L3 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \*\*Tags:\*\* widget, admin, widgets, sharing, sections, themes, stock photos, custom icons, icons, menu icons, stock, templates, header, footer, scripts, custom fonts |
  | 4 | 4 | \*\*Requires at least:\*\* 4.7 |
  | 5 |  | \*\*Tested up to:\*\* 6.~~5~~ |
  |  | 5 | \*\*Tested up to:\*\* 6.6 |
  | 6 | 6 | \*\*Requires PHP:\*\* 5.6 |
  | 7 | 7 | \*\*Stable tag:\*\* trunk |
  | […](/browser/themeisle-companion/trunk/readme.md?rev=3072679#L108) | […](/browser/themeisle-companion/tags/2.10.37/readme.md?rev=3139233#L108) |  |
  | 108 | 108 | ## Changelog ## |
  | 109 | 109 |  |
  |  | 110 | ##### [Version 2.10.37](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.36...v2.10.37) (2024-08-21) |
  |  | 111 |  |
  |  | 112 | - Enhanced security |
  |  | 113 |  |
  |  | 114 |  |
  |  | 115 |  |
  |  | 116 |  |
  | 110 | 117 | ##### [Version 2.10.36](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.35...v2.10.36) (2024-04-17) |
  | 111 | 118 |  |
  | […](/browser/themeisle-companion/trunk/readme.md?rev=3072679#L989) | […](/browser/themeisle-companion/tags/2.10.37/readme.md?rev=3139233#L996) |  |
  | 989 | 996 |  |
  | 990 | 997 | \* First version of the plugin |
  |  | 998 |  |
* ## [themeisle-companion/tags/2.10.37/readme.txt](/changeset/3139233/themeisle-companion/tags/2.10.37/readme.txt "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/readme.txt")

  | [r3120011](/browser/themeisle-companion/trunk/readme.txt?rev=3120011#L108 "Show revision 3120011 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/readme.txt?rev=3139233#L108 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | == Changelog == |
  | 109 | 109 |  |
  |  | 110 | ##### [Version 2.10.37](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.36...v2.10.37) (2024-08-21) |
  |  | 111 |  |
  |  | 112 | - Enhanced security |
  |  | 113 |  |
  |  | 114 |  |
  |  | 115 |  |
  |  | 116 |  |
  | 110 | 117 | ##### [Version 2.10.36](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.35...v2.10.36) (2024-04-17) |
  | 111 | 118 |  |
* ## [themeisle-companion/tags/2.10.37/themeisle-companion.php](/changeset/3139233/themeisle-companion/tags/2.10.37/themeisle-companion.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/themeisle-companion.php")

  | [r3072679](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=3072679#L16 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/themeisle-companion.php?rev=3139233#L16 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | \* Plugin URI:        https://orbitfox.com/ |
  | 17 | 17 | \* Description:       This swiss-knife plugin comes with a quality template library, menu/sharing icons modules, Gutenberg blocks, and newly added Elementor/BeaverBuilder page builder widgets on each release. |
  | 18 |  | \* Version:           2.10.3~~6~~ |
  |  | 18 | \* Version:           2.10.37 |
  | 19 | 19 | \* Author:            Themeisle |
  | 20 | 20 | \* Author URI:        https://orbitfox.com/ |
* ## [themeisle-companion/tags/2.10.37/vendor/autoload.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/autoload.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/autoload.php")

  | [r3038451](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=3038451#L23 "Show revision 3038451 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/autoload.php?rev=3139233#L23 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 24 | 24 |  |
  | 25 |  | return ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~::getLoader(); |
  |  | 25 | return ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae::getLoader(); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/CHANGELOG.md](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/CHANGELOG.md "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/CHANGELOG.md")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ##### [Version 3.3.29](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.28...v3.3.29) (2024-08-21) |
  |  | 2 |  |
  |  | 3 | - feat: improve the Promotions appearance timing |
  |  | 4 |  |
  |  | 5 | ##### [Version 3.3.28](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.27...v3.3.28) (2024-08-09) |
  |  | 6 |  |
  |  | 7 |  |
  |  | 8 | - fix: remove the delay on woo plugins promos [closes Codeinwp/themeisle[#1655](https://github.com/Codeinwp/themeisle-sdk/issues/1655)] |
  |  | 9 | - fix: swap Neve FSE notice with Neve [closes Codeinwp/themeisle[#1654](https://github.com/Codeinwp/themeisle-sdk/issues/1654)] |
  |  | 10 | - fix: rework optimole promo [closes Codeinwp/themeisle[#1656](https://github.com/Codeinwp/themeisle-sdk/issues/1656)] |
  |  | 11 | - fix: translations workflow always requiring updates [closes Codeinwp/neve-pro-addon[#2840](https://github.com/Codeinwp/themeisle-sdk/issues/2840)] |
  |  | 12 |  |
  |  | 13 | ##### [Version 3.3.27](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.26...v3.3.27) (2024-07-30) |
  |  | 14 |  |
  |  | 15 | - fix: array out of bounds index |
  |  | 16 |  |
  |  | 17 | ##### [Version 3.3.26](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.25...v3.3.26) (2024-07-29) |
  |  | 18 |  |
  |  | 19 | - fix: JS error in core editor |
  |  | 20 | - twak: change ROP product name |
  |  | 21 | - tweak: updated developers list |
  |  | 22 | - fix: removed duplicate feed URL |
  |  | 23 | - feat: add private translation functionality |
  |  | 24 |  |
  |  | 25 | ##### [Version 3.3.25](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.24...v3.3.25) (2024-07-08) |
  |  | 26 |  |
  |  | 27 | improve upgrade link |
  |  | 28 |  |
  |  | 29 | ##### [Version 3.3.24](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.23...v3.3.24) (2024-06-25) |
  |  | 30 |  |
  |  | 31 | - Feat: Allow affiliate url change via DB option. |
  |  | 32 | - Fix: Featured plugins displaying on some non-pro products. |
  |  | 33 |  |
  |  | 34 | ##### [Version 3.3.23](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.22...v3.3.23) (2024-06-19) |
  |  | 35 |  |
  |  | 36 | - fix: compress images |
  |  | 37 | - fix: replace huge SVG logo with png version |
  |  | 38 | - fix: improve text on float widget |
  |  | 39 |  |
  |  | 40 | ##### [Version 3.3.22](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.21...v3.3.22) (2024-05-17) |
  |  | 41 |  |
  |  | 42 | - Updated NPM packages |
  |  | 43 | - Fixed the default state of the telemetry logger flag for PRO users |
  |  | 44 | - Added floating widget functionality |
  |  | 45 | - Updated the remote get check for WordPress VIP env |
  |  | 46 |  |
  |  | 47 | ##### [Version 3.3.21](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.20...v3.3.21) (2024-04-29) |
  |  | 48 |  |
  |  | 49 | - fixes non-existant string being used in Licenser |
  |  | 50 |  |
  | 1 | 51 | ##### [Version 3.3.20](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.19...v3.3.20) (2024-04-16) |
  | 2 | 52 |  |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array('~~wp-components', 'wp-element'), 'version' => '35f2cdc94ec1bd5b9745~~'); |
  |  | 1 | <?php return array('dependencies' => array('react', 'wp-components', 'wp-element'), 'version' => '2f7b01c785d210cc0a66'); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(){"use strict";var e=window.wp.element;function t(t){let{pages:a=[],selected:n=""}=t;const{currentProduct:l,logoUrl:s,strings:c,links:i}=window.tiSDKAboutData,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e===n?"active":""};return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:s,alt:l.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")))),(i.length>0||a.length>0)&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",{className:r()},(0,e.createElement)("a",{href:window.location},c.aboutUs)),a.map(((t,a)=>(0,e.createElement)("li",{className:r(t.hash),key:a},(0,e.createElement)("a",{href:t.hash},t.name)))),i.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}var a=window.wp.components;function n(){const{strings:t,teamImage:n,homeUrl:l,pageSlug:s}=window.tiSDKAboutData,{heroHeader:c,heroTextFirst:i,heroTextSecond:r,teamImageCaption:o,newsHeading:m,emailPlaceholder:d,signMeUp:u}=t,[E,p]=(0,e.useState)(""),[h,g]=(0,e.useState)(!1),[v,N]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,c),(0,e.createElement)("p",null,i),(0,e.createElement)("p",null,r)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:n,alt:o}),(0,e.createElement)("figcaption",null,o))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,m),(0,e.createElement)("form",{onSubmit:e=>{var t;e.preventDefault(),g(!0),null===(t=fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, \*/\*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:l,from:s,email:E})}).then((e=>e.json())).then((e=>{g(!1),"success"===e.code&&N(!0)})))||void 0===t||t.catch((e=>{g(!1)}))}},(0,e.createElement)("input",{disabled:h||v,type:"email",value:E,onChange:e=>{p(e.target.value)},placeholder:d}),!h&&!v&&(0,e.createElement)(a.Button,{isPrimary:!0,type:"submit"},u),h&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),v&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{a({success:!0})},error:e=>{a({success:!1,code:e.errorCode})}})}))};function s(t){let{product:n,slug:s}=t;const{icon:c,name:i,description:r,status:o,premiumUrl:m,activationLink:d}=n,{strings:u,canInstallPlugins:E,canActivatePlugins:p}=window.tiSDKAboutData,{installNow:h,installed:g,notInstalled:v,active:N,activate:b,learnMore:f}=u,w=!!m,[y,k]=(0,e.useState)(o),[S,T]=(0,e.useState)(!1),D=async()=>{T(!0),await l(s,"neve"===s).then((e=>{e.success&&k("installed")})),T(!1)},x=async()=>{T(!0),window.location.href=d},\_=()=>"not-installed"===y&&w?(0,e.createElement)(a.Button,{isLink:!0,icon:"external",href:m,target:"\_blank"},f):"not-installed"!==y||w?"installed"===y?(0,e.createElement)(a.Button,{isSecondary:!0,onClick:x,disabled:S||!p},b):null:(0,e.createElement)(a.Button,{isPrimary:!0,onClick:D,disabled:S||!E},h),C=!E&&"not-installed"===y||!p&&"installed"===y?(0,e.createElement)(a.Tooltip,{text:`Ask your admin to enable ${i} on your site`,position:"top center"},\_()):\_();return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:i}),(0,e.createElement)("h2",null,i)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{\_\_html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:y},"installed"===y&&g,"not-installed"===y&&v,"active"===y&&N)),"active"!==y&&!S&&C,S&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function c(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(s,{key:a,slug:a,product:t[a]})))))}const i={"otter-page":function(t){let{page:n={}}=t;const{products:s,canInstallPlugins:c,canActivatePlugins:i}=window.tiSDKAboutData,{strings:r,plugin:o}=n,m=n&&n.product?n.product:"",d=m&&s[m]&&s[m].icon?s[m].icon:null,[u,E]=(0,e.useState)(r.testimonials.users[0]),[p,h]=(0,e.useState)(o.status),[g,v]=(0,e.useState)(!1),N="In Progress",b=async()=>{v(!0),await l(m,!1).then((e=>{e.success&&(h("installed"),f())}))},f=async()=>{v(!0),window.location.href=o.activationLink},w=(0,e.createElement)(a.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:f},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})," ",N):r.buttons.install\_otter\_free),y=(0,e.createElement)(a.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:f},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N):r.buttons.install\_now),k=!c&&"not-installed"===p||!i&&"installed"===p||!1,S=t=>k?(0,e.createElement)(a.Tooltip,{text:"Ask your admin to enable Otter on your site",position:"top center"},t):t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"hero"},d&&(0,e.createElement)("img",{className:"logo",src:d,alt:n.name||""}),(0,e.createElement)("span",{className:"label"},"Neve + Otter = New Possibilities 🤝"),(0,e.createElement)("h1",null,r.heading),(0,e.createElement)("p",null,r.text),("not-installed"===p||"installed"===p)&&S(w)),(0,e.createElement)("div",{className:"col-3-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.advancedTitle),(0,e.createElement)("p",null,r.features.advancedDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.fastTitle),(0,e.createElement)("p",null,r.features.fastDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.mobileTitle),(0,e.createElement)("p",null,r.features.mobileDesc))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s1Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s1Title),(0,e.createElement)("p",null,r.details.s1Text))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s2Title),(0,e.createElement)("p",null,r.details.s2Text)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s2Image,alt:r.details.s1Title}))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s3Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s3Title),(0,e.createElement)("p",null,r.details.s3Text))),(0,e.createElement)("div",{className:"col-2-highlights",style:{backgroundColor:"#F7F7F7",borderBottom:"none",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px"}},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.testimonials.heading),(0,e.createElement)("div",{className:"button-row"},("not-installed"===p||"installed"===p)&&S(y),(0,e.createElement)("a",{className:"components-button otter-button is-secondary",href:r.buttons.learn\_more\_link,target:"\_blank",rel:"external noreferrer noopener"},r.buttons.learn\_more))),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("div",{className:"testimonials"},(0,e.createElement)("ul",{id:"testimonial-container",className:"testimonial-container"},r.testimonials.users.map(((t,a)=>(0,e.createElement)("li",{className:"testimonial",id:"ts\_"+a,key:"ts\_"+a},(0,e.createElement)("p",null,'"',t.text,'"'),(0,e.createElement)("img",{src:t.avatar,alt:t.name}),(0,e.createElement)("h3",null,t.name))))),(0,e.createElement)("div",{className:"testimonial-nav"},r.testimonials.users.map(((t,n)=>(0,e.createElement)(a.Button,{className:"testimonial-button"+(t.name===u.name?" active":""),key:"button\_"+n,onClick:()=>(e=>{const t=r.testimonials.users[e];document.getElementById("ts\_"+e).scrollIntoView({behavior:"smooth"}),E(t)})(n)}))))))))}};function r(t){const a=i[t.id];return(0,e.createElement)(a,{page:t.page})}function o(t){let{page:a={}}=t;return(0,e.createElement)("div",{className:"product-page"+(a&&a.product?" "+a.product:"")},(0,e.createElement)(r,{id:a.id,page:a}))}const m=()=>{let e=window.location.hash;return"string"!=typeof window.location.hash?null:e};function d(){const{productPages:a}=window.tiSDKAboutData,l=a?Object.keys(a).map((e=>{const t=a[e];return t.id=e,t})):[],[s,i]=(0,e.useState)(m()),r=()=>{const e=m();null!==e&&i(e)};(0,e.useEffect)((()=>(r(),window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)})),[]);const d=l.filter((e=>e.hash===s));return d.length>0?(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,{pages:l,selected:s}),(0,e.createElement)(o,{page:d[0]})):(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,{pages:l}),(0,e.createElement)(n,null),(0,e.createElement)(c,null))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("#ti-sdk-about");t&&(0,e.render)((0,e.createElement)(d,null),t)}))}~~(); |
  |  | 1 | (()=>{"use strict";const e=window.React,t=window.wp.element;function a({pages:t=[],selected:a=""}){const{currentProduct:n,logoUrl:l,strings:s,links:c}=window.tiSDKAboutData,i=(e="")=>e===a?"active":"";return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:l,alt:n.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")))),(c.length>0||t.length>0)&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",{className:i()},(0,e.createElement)("a",{href:window.location},s.aboutUs)),t.map(((t,a)=>(0,e.createElement)("li",{className:i(t.hash),key:a},(0,e.createElement)("a",{href:t.hash},t.name)))),c.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}const n=window.wp.components;function l(){const{strings:a,teamImage:l,homeUrl:s,pageSlug:c}=window.tiSDKAboutData,{heroHeader:i,heroTextFirst:r,heroTextSecond:o,teamImageCaption:m,newsHeading:d,emailPlaceholder:u,signMeUp:E}=a,[p,h]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,i),(0,e.createElement)("p",null,r),(0,e.createElement)("p",null,o)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:l,alt:m}),(0,e.createElement)("figcaption",null,m))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,d),(0,e.createElement)("form",{onSubmit:e=>{e.preventDefault(),v(!0),fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, \*/\*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:s,from:c,email:p})}).then((e=>e.json())).then((e=>{v(!1),"success"===e.code&&b(!0)}))?.catch((e=>{v(!1)}))}},(0,e.createElement)("input",{disabled:g||N,type:"email",value:p,onChange:e=>{h(e.target.value)},placeholder:u}),!g&&!N&&(0,e.createElement)(n.Button,{isPrimary:!0,type:"submit"},E),g&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}const s=(e,t=!1)=>new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{a({success:!0})},error:e=>{a({success:!1,code:e.errorCode})}})}));function c({product:a,slug:l}){const{icon:c,name:i,description:r,status:o,premiumUrl:m,activationLink:d}=a,{strings:u,canInstallPlugins:E,canActivatePlugins:p}=window.tiSDKAboutData,{installNow:h,installed:g,notInstalled:v,active:N,activate:b,learnMore:w}=u,f=!!m,[y,k]=(0,t.useState)(o),[S,T]=(0,t.useState)(!1),D=async()=>{T(!0),await s(l,"neve"===l).then((e=>{e.success&&k("installed")})),T(!1)},x=async()=>{T(!0),window.location.href=d},\_=()=>"not-installed"===y&&f?(0,e.createElement)(n.Button,{isLink:!0,icon:"external",href:m,target:"\_blank"},w):"not-installed"!==y||f?"installed"===y?(0,e.createElement)(n.Button,{isSecondary:!0,onClick:x,disabled:S||!p},b):null:(0,e.createElement)(n.Button,{isPrimary:!0,onClick:D,disabled:S||!E},h),C=!E&&"not-installed"===y||!p&&"installed"===y?(0,e.createElement)(n.Tooltip,{text:`Ask your admin to enable ${i} on your site`,position:"top center"},\_()):\_();return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:i}),(0,e.createElement)("h2",null,i)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{\_\_html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:y},"installed"===y&&g,"not-installed"===y&&v,"active"===y&&N)),"active"!==y&&!S&&C,S&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function i(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(c,{key:a,slug:a,product:t[a]})))))}const r={"otter-page":function({page:a={}}){const{products:l,canInstallPlugins:c,canActivatePlugins:i}=window.tiSDKAboutData,{strings:r,plugin:o}=a,m=a&&a.product?a.product:"",d=m&&l[m]&&l[m].icon?l[m].icon:null,[u,E]=(0,t.useState)(r.testimonials.users[0]),[p,h]=(0,t.useState)(o.status),[g,v]=(0,t.useState)(!1),N="In Progress",b=async()=>{v(!0),await s(m,!1).then((e=>{e.success&&(h("installed"),w())}))},w=async()=>{v(!0),window.location.href=o.activationLink},f=(0,e.createElement)(n.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:w},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})," ",N):r.buttons.install\_otter\_free),y=(0,e.createElement)(n.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:w},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N):r.buttons.install\_now),k=!c&&"not-installed"===p||!i&&"installed"===p||!1,S=t=>k?(0,e.createElement)(n.Tooltip,{text:"Ask your admin to enable Otter on your site",position:"top center"},t):t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"hero"},d&&(0,e.createElement)("img",{className:"logo",src:d,alt:a.name||""}),(0,e.createElement)("span",{className:"label"},"Neve + Otter = New Possibilities 🤝"),(0,e.createElement)("h1",null,r.heading),(0,e.createElement)("p",null,r.text),("not-installed"===p||"installed"===p)&&S(f)),(0,e.createElement)("div",{className:"col-3-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.advancedTitle),(0,e.createElement)("p",null,r.features.advancedDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.fastTitle),(0,e.createElement)("p",null,r.features.fastDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.mobileTitle),(0,e.createElement)("p",null,r.features.mobileDesc))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s1Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s1Title),(0,e.createElement)("p",null,r.details.s1Text))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s2Title),(0,e.createElement)("p",null,r.details.s2Text)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s2Image,alt:r.details.s1Title}))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s3Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s3Title),(0,e.createElement)("p",null,r.details.s3Text))),(0,e.createElement)("div",{className:"col-2-highlights",style:{backgroundColor:"#F7F7F7",borderBottom:"none",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px"}},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.testimonials.heading),(0,e.createElement)("div",{className:"button-row"},("not-installed"===p||"installed"===p)&&S(y),(0,e.createElement)("a",{className:"components-button otter-button is-secondary",href:r.buttons.learn\_more\_link,target:"\_blank",rel:"external noreferrer noopener"},r.buttons.learn\_more))),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("div",{className:"testimonials"},(0,e.createElement)("ul",{id:"testimonial-container",className:"testimonial-container"},r.testimonials.users.map(((t,a)=>(0,e.createElement)("li",{className:"testimonial",id:"ts\_"+a,key:"ts\_"+a},(0,e.createElement)("p",null,'"',t.text,'"'),(0,e.createElement)("img",{src:t.avatar,alt:t.name}),(0,e.createElement)("h3",null,t.name))))),(0,e.createElement)("div",{className:"testimonial-nav"},r.testimonials.users.map(((t,a)=>(0,e.createElement)(n.Button,{className:"testimonial-button"+(t.name===u.name?" active":""),key:"button\_"+a,onClick:()=>(e=>{const t=r.testimonials.users[e];document.getElementById("ts\_"+e).scrollIntoView({behavior:"smooth"}),E(t)})(a)}))))))))}};function o(t){const a=r[t.id];return(0,e.createElement)(a,{page:t.page})}function m({page:t={}}){return(0,e.createElement)("div",{className:"product-page"+(t&&t.product?" "+t.product:"")},(0,e.createElement)(o,{id:t.id,page:t}))}const d=()=>{let e=window.location.hash;return"string"!=typeof window.location.hash?null:e};function u(){const{productPages:n}=window.tiSDKAboutData,s=n?Object.keys(n).map((e=>{const t=n[e];return t.id=e,t})):[],[c,r]=(0,t.useState)(d()),o=()=>{const e=d();null!==e&&r(e)};(0,t.useEffect)((()=>(o(),window.addEventListener("hashchange",o),()=>{window.removeEventListener("hashchange",o)})),[]);const u=s.filter((e=>e.hash===c));return u.length>0?(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(a,{pages:s,selected:c}),(0,e.createElement)(m,{page:u[0]})):(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(a,{pages:s}),(0,e.createElement)(l,null),(0,e.createElement)(i,null))}document.addEventListener("DOMContentLoaded",(()=>{const a=document.querySelector("#ti-sdk-about");a&&(0,t.render)((0,e.createElement)(u,null),a)}))})(); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array('~~wp-block-editor', 'wp-components', 'wp-compose', 'wp-data', 'wp-edit-post', 'wp-element', 'wp-hooks', 'wp-plugins'), 'version' => 'ba05d75f2096d5f440d0~~'); |
  |  | 1 | <?php return array('dependencies' => array('react', 'wp-block-editor', 'wp-components', 'wp-compose', 'wp-data', 'wp-edit-post', 'wp-element', 'wp-hooks', 'wp-plugins'), 'version' => '2cd9ed3afc77de83f989'); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (()=>{"use strict";var e,t={16~~5:()=>{const e=window.wp.element,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.compose,i=window.wp.data,s=window.wp.hooks,r=()=>{const{createNotice:t}=(0,i.dispatch)("core/notices"),[o,n]=(0,e.useState)({}),[s,r]=(0,e.useState)("loading");return(0,i.useSelect)((e=>{if(Object.keys(o).length)return;const{getEntityRecord:t}=e("core"),i=t("root","site");i&&(r("loaded"),n(i))}),[]),[e=>null==o?void 0:o[e],async function(e,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Settings saved.";const s={[e]:o};try{const e=await fetch("/wp-json/wp/v2/settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify(s)});e.ok||(r("error"),t("error","Could not save the settings.",{isDismissible:!0,type:"snackbar"}));const o=await e.json();r("loaded"),t("success",i,{isDismissible:!0,type:"snackbar"}),n(o)}catch(e){console.error("Error updating option:",e)}},s]},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((o=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{o({success:!0})},error:e=>{o({success:!1,code:e.errorCode})}})}))},a=e=>new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))})),m=(e,t)=>{const o={};return Object.keys(t).forEach((function(e){"innerBlocks"!==e&&(o[e]=t[e])})),e.push(o),Array.isArray(t.innerBlocks)?(o.innerBlocks=t.innerBlocks.map((e=>e.id)),t.innerBlocks.reduce(m,e)):e},c={button:{display:"flex",justifyContent:"center",width:"100%"},image:{padding:"20px 0"},skip:{container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{fontSize:"9px"},poweredby:{fontSize:"9px",textTransform:"uppercase"}}},d={"blocks-css":{title:"Custom CSS",description:"Enable Otter Blocks to add Custom CSS for this block.",image:"css.jpg"},"blocks-animation":{title:"Animations",description:"Enable Otter Blocks to add Animations for this block.",image:"animation.jpg"},"blocks-conditions":{title:"Visibility Conditions",description:"Enable Otter Blocks to add Visibility Conditions for this block.",image:"conditions.jpg"}},p=t=>{let{onClick:n}=t;return(0,e.createElement)("div",{style:c.skip.container},(0,e.createElement)(o.Button,{style:c.skip.button,variant:"tertiary",onClick:n},"Skip for now"),(0,e.createElement)("span",{style:c.skip.poweredby},"Recommended by ",window.themeisleSDKPromotions.product))},u=(0,n.createHigherOrderComponent)((n=>i=>{if(i.isSelected&&Boolean(window.themeisleSDKPromotions.showPromotion)){const[s,m]=(0,e.useState)(!1),[u,h]=(0,e.useState)("default"),[w,g]=(0,e.useState)(!1),[E,k,y]=r(),f=async()=>{m(!0),await l("otter-blocks"),k("themeisle\_sdk\_promotions\_otter\_installed",!Boolean(E("themeisle\_sdk\_promotions\_otter\_installed"))),await a(window.themeisleSDKPromotions.otterActivationUrl),m(!1),h("installed")},P=()=>"installed"===u?(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Awesome! Refresh the page to see Otter Blocks in action.")):(0,e.createElement)(o.Button,{variant:"secondary",onClick:f,isBusy:s,style:c.button},"Install & Activate Otter Blocks"),S=()=>{const e={...window.themeisleSDKPromotions.option};e[window.themeisleSDKPromotions.showPromotion]=(new Date).getTime()/1e3|0,k("themeisle\_sdk\_promotions",JSON.stringify(e)),window.themeisleSDKPromotions.showPromotion=!1};return(0,e.useEffect)((()=>{w&&S()}),[w]),w?(0,e.createElement)(n,i):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,i),(0,e.createElement)(t.InspectorControls,null,Object.keys(d).map((t=>{if(t===window.themeisleSDKPromotions.showPromotion){const n=d[t];return(0,e.createElement)(o.PanelBody,{key:t,title:n.title,initialOpen:!1},(0,e.createElement)("p",null,n.description),(0,e.createElement)(P,null),(0,e.createElement)("img",{style:c.image,src:window.themeisleSDKPromotions.assets+n.image}),(0,e.createElement)(p,{onClick:()=>g(!0)}))}}))))}return(0,e.createElement)(n,i)}),"withInspectorControl");(0,i.select)("core/edit-site")||(0,s.addFilter)("editor.BlockEdit","themeisle-sdk/with-inspector-controls",u);const h=window.wp.plugins,w=window.wp.editPost;function g(t){let{stacked:n=!1,noImage:i=!1,type:s,onDismiss:m,onSuccess:c,initialStatus:d=null}=t;const{assets:p,title:u,email:h,option:w,optionKey:g,labels:E,optimoleActivationUrl:k,optimoleApi:y,optimoleDash:f,nonce:P}=window.themeisleSDKPromotions,[S,v]=(0,e.useState)(!1),[b,D]=(0,e.useState)(h||""),[B,\_]=(0,e.useState)(!1),[N,K]=(0,e.useState)(d),[C,O]=r(),A=async()=>{\_(!0);const e={...w};e[s]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await O(g,JSON.stringify(e)),m&&m()},x=()=>{v(!S)},j=e=>{D(e.target.value)},I=async e=>{e.preventDefault(),K("installing"),await l("optimole-wp"),K("activating"),await a(k),O("themeisle\_sdk\_promotions\_optimole\_installed",!Boolean(C("themeisle\_sdk\_promotions\_optimole\_installed"))),K("connecting");try{await fetch(y,{method:"POST",headers:{"X-WP-Nonce":P,"Content-Type":"application/json"},body:JSON.stringify({email:b})}),c&&c(),K("done")}catch(e){K("done")}};if(B)return null;const R=()=>"done"===N?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null," ",E.optimole.all\_set),(0,e.createElement)(o.Button,{icon:"external",isPrimary:!0,href:f,target:"\_blank"},E.optimole.gotodash)):N?(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===N&&E.optimole.installing,"activating"===N&&E.optimole.activating,"connecting"===N&&E.optimole.connecting,"…")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null,"Enter your email address to create & connect your account"),(0,e.createElement)("form",{onSubmit:I},(0,e.createElement)("input",{defaultValue:b,type:"email",onChange:j,placeholder:E.optimole.email\_placeholder}),(0,e.createElement)(o.Button,{isPrimary:!0,type:"submit"},E.optimole.start\_cta))),T=()=>(0,e.createElement)(o.Button,{disabled:N&&"done"!==N,onClick:A,isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},E.optimole.dismisscta));return n?(0,e.createElement)("div",{className:"ti-om-stack-wrap"},(0,e.createElement)("div",{className:"om-stack-notice"},T(),(0,e.createElement)("img",{src:p+"/optimole-logo.svg",alt:"Optimole logo"}),(0,e.createElement)("h2",null,E.optimole.heading),(0,e.createElement)("p",null,"om-editor"===s||"om-image-block"===s?E.optimole.message1:E.optimole.message2),!S&&"done"!==N&&(0,e.createElement)(o.Button,{isPrimary:!0,onClick:x,className:"cta"},E.optimole.gst),(S||"done"===N)&&R(),(0,e.createElement)("i",null,u))):(0,e.createElement)(e.Fragment,null,T(),(0,e.createElement)("div",{className:"content"},!i&&(0,e.createElement)("img",{src:p+"/optimole-logo.svg",alt:"Optimole logo"}),(0,e.createElement)("div",null,(0,e.createElement)("p",null,u),(0,e.createElement)("p",{className:"description"},"om-media"===s?E.optimole.message3:E.optimole.message4),!S&&(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(o.Button,{isPrimary:!0,onClick:x},E.optimole.gst),(0,e.createElement)(o.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/optimole-wp"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null," ",E.optimole.learnmore))),S&&(0,e.createElement)("div",{className:"form-wrap"},R()))))}const E=()=>{const[t,o]=(0,e.useState)(!0),{getBlocks:n}=(0,i.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor");return{getBlocks:t}}));var s;if((s=n(),"core/image",s.reduce(m,[]).filter((e=>"core/image"===e.name))).length<2)return null;const r="ti-sdk-optimole-post-publish "+(t?"":"hidden");return(0,e.createElement)(w.PluginPostPublishPanel,{className:r},(0,e.createElement)(g,{stacked:!0,type:"om-editor",onDismiss:()=>{o(!1)}}))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(this.debug)this.runAll();else switch(this.promo){case"om-attachment":this.runAttachmentPromo();break;case"om-media":this.runMediaPromo();break;case"om-editor":this.runEditorPromo();break;case"om-image-block":this.runImageBlockPromo();break;case"om-elementor":this.runElementorPromo()}}runAttachmentPromo(){wp.media.view.Attachment.Details.prototype.on("ready",(()=>{setTimeout((()=>{this.removeAttachmentPromo(),this.addAttachmentPromo()}),100)})),wp.media.view.Modal.prototype.on("close",(()=>{setTimeout(this.removeAttachmentPromo,100)}))}runMediaPromo(){if(window.themeisleSDKPromotions.option["om-media"])return;const t=document.querySelector("#ti-optml-notice");t&&(0,e.render)((0,e.createElement)(g,{type:"om-media",onDismiss:()=>{t.style.opacity=0}}),t)}runImageBlockPromo(){if(window.themeisleSDKPromotions.option["om-image-block"])return;let o=!0,i=null;const r=(0,n.createHigherOrderComponent)((n=>s=>"core/image"===s.name&&o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,s),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(g,{stacked:!0,type:"om-image-block",initialStatus:i,onDismiss:()=>{o=!1},onSuccess:()=>{i="done"}}))):(0,e.createElement)(n,s)),"withImagePromo");(0,s.addFilter)("editor.BlockEdit","optimole-promo/image-promo",r,99)}runEditorPromo(){window.themeisleSDKPromotions.option["om-editor"]||(0,h.registerPlugin)("optimole-promo",{render:E})}runElementorPromo(){if(!window.elementor)return;const t=this;elementor.on("preview:loaded",(()=>{elementor.panel.currentView.on("set:page:editor",(o=>{t.domRef&&(0,e.unmountComponentAtNode)(t.domRef),o.activeSection&&"section\_image"===o.activeSection&&t.runElementorActions(t)}))}))}addAttachmentPromo(){if(this.domRef&&(0,e.unmountComponentAtNode)(this.domRef),window.themeisleSDKPromotions.option["om-attachment"])return;const t=document.querySelector("#ti-optml-notice-helper");t&&(this.domRef=t,(0,e.render)((0,e.createElement)("div",{className:"notice notice-info ti-sdk-om-notice",style:{margin:0}},(0,e.createElement)(g,{noImage:!0,type:"om-attachment",onDismiss:()=>{t.style.opacity=0}})),t))}removeAttachmentPromo(){const t=document.querySelector("#ti-optml-notice-helper");t&&(0,e.unmountComponentAtNode)(t)}runElementorActions(t){if(window.themeisleSDKPromotions.option["om-elementor"])return;const o=document.querySelector("#elementor-panel\_\_editor\_\_help"),n=document.createElement("div");n.id="ti-optml-notice",t.domRef=n,o&&(o.parentNode.insertBefore(n,o),(0,e.render)((0,e.createElement)(g,{stacked:!0,type:"om-elementor",onDismiss:()=>{n.style.opacity=0}}),n))}runAll(){this.runAttachmentPromo(),this.runMediaPromo(),this.runEditorPromo(),this.runImageBlockPromo(),this.runElementorPromo()}};const k=t=>{let{onDismiss:n=(()=>{})}=t;const[i,s]=(0,e.useState)(""),[m,c]=r();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{disabled:"installing"===i,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["rop-posts"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await c(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),n&&n()},variant:"link",className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Boost your content's reach effortlessly! Introducing ",(0,e.createElement)("b",null,"Revive Old Posts"),", a cutting-edge plugin from the makers of ",window.themeisleSDKPromotions.product,". Seamlessly auto-share old & new content across social media, driving traffic like never before."),(0,e.createElement)("div",{className:"rop-notice-actions"},"installed"!==i?(0,e.createElement)(o.Button,{variant:"primary",isBusy:"installing"===i,onClick:async()=>{s("installing"),await l("tweet-old-post"),await a(window.themeisleSDKPromotions.ropActivationUrl),c("themeisle\_sdk\_promotions\_rop\_installed",!Boolean(m("themeisle\_sdk\_promotions\_rop\_installed"))),s("installed")}},"Install & Activate"):(0,e.createElement)(o.Button,{variant:"primary",href:window.themeisleSDKPromotions.ropDash},"Visit Dashboard"),(0,e.createElement)(o.Button,{variant:"link",target:"\_blank",href:"https://wordpress.org/plugins/tweet-old-post/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["rop-posts"])return;const t=document.querySelector("#ti-rop-notice");t&&(0,e.render)((0,e.createElement)(k,{onDismiss:()=>{t.style.display="none"}}),t)}};const y=t=>{let{onDismiss:n=(()=>{})}=t;const[i,s]=r(),{neveFSEMoreUrl:l}=window.themeisleSDKPromotions;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["neve-fse-themes-popular"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await s(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),n&&n()},className:"notice-dismiss"},(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Meet ",(0,e.createElement)("b",null,"Neve FSE")," from the makers of ",window.themeisleSDKPromotions.product,". A theme that makes full site editing on WordPress straightforward and user-friendly."),(0,e.createElement)("div",{className:"neve-fse-notice-actions"},(0,e.createElement)(o.Button,{variant:"link",target:"\_blank",href:l},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["neve-fse-themes-popular"])return;const t=document.querySelector("#ti-neve-fse-notice");t&&(0,e.render)((0,e.createElement)(y,{onDismiss:()=>{t.style.display="none"}}),t)}}}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,o,i,s)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],s=e[c][2];for(var l=!0,a=0;a<o.length;a++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](o[a])))?o.splice(a--,1):(l=!1,s<r&&(r=s));if(l){e.splice(c--,1);var m=i();void 0!==m&&(t=m)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,r=o[0],l=o[1],a=o[2],m=0;if(r.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(a)var c=a(n)}for(t&&t(o);m<r.length;m++)s=r[m],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self.webpackChunkthemeisle\_sdk=self.webpackChunkthemeisle\_sdk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[431],(()=>n(165)));i=n~~.O(i)})(); |
  |  | 1 | (()=>{"use strict";var e,t={163:()=>{const e=window.React,t=window.wp.blockEditor,n=window.wp.components,o=window.wp.compose,i=window.wp.data,s=window.wp.element,r=window.wp.hooks,a=()=>{const{createNotice:e}=(0,i.dispatch)("core/notices"),[t,n]=(0,s.useState)({}),[o,r]=(0,s.useState)("loading");return(0,i.useSelect)((e=>{if(Object.keys(t).length)return;const{getEntityRecord:o}=e("core"),i=o("root","site");i&&(r("loaded"),n(i))}),[]),[e=>t?.[e],async(t,o,i="Settings saved.")=>{const s={[t]:o};try{const t=await fetch("/wp-json/wp/v2/settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify(s)});t.ok||(r("error"),e("error","Could not save the settings.",{isDismissible:!0,type:"snackbar"}));const o=await t.json();r("loaded"),e("success",i,{isDismissible:!0,type:"snackbar"}),n(o)}catch(e){console.error("Error updating option:",e)}},o]},l=(e,t=!1)=>new Promise((n=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:e=>{n({success:!0,data:e})},error:e=>{n({success:!1,code:e.errorCode})}})})),c=e=>new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))})),m=(e,t)=>{const n={};return Object.keys(t).forEach((function(e){"innerBlocks"!==e&&(n[e]=t[e])})),e.push(n),Array.isArray(t.innerBlocks)?(n.innerBlocks=t.innerBlocks.map((e=>e.id)),t.innerBlocks.reduce(m,e)):e},d={button:{display:"flex",justifyContent:"center",width:"100%"},image:{padding:"20px 0"},skip:{container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{fontSize:"9px"},poweredby:{fontSize:"9px",textTransform:"uppercase"}}},p={"blocks-css":{title:"Custom CSS",description:"Enable Otter Blocks to add Custom CSS for this block.",image:"css.jpg"},"blocks-animation":{title:"Animations",description:"Enable Otter Blocks to add Animations for this block.",image:"animation.jpg"},"blocks-conditions":{title:"Visibility Conditions",description:"Enable Otter Blocks to add Visibility Conditions for this block.",image:"conditions.jpg"}},u=({onClick:t})=>(0,e.createElement)("div",{style:d.skip.container},(0,e.createElement)(n.Button,{style:d.skip.button,variant:"tertiary",onClick:t},"Skip for now"),(0,e.createElement)("span",{style:d.skip.poweredby},"Recommended by ",window.themeisleSDKPromotions.product)),h=(0,o.createHigherOrderComponent)((o=>i=>{const[r,m]=(0,s.useState)(!1),[h,w]=(0,s.useState)("default"),[g,E]=(0,s.useState)(!1),[k,f,v]=a();if((0,s.useEffect)((()=>{g&&(()=>{const e={...window.themeisleSDKPromotions.option};e[window.themeisleSDKPromotions.showPromotion]=(new Date).getTime()/1e3|0,f("themeisle\_sdk\_promotions",JSON.stringify(e)),window.themeisleSDKPromotions.showPromotion=!1})()}),[g]),!i.isSelected||!Boolean(window.themeisleSDKPromotions.showPromotion))return(0,e.createElement)(o,{...i});const y=async()=>{m(!0),await l("otter-blocks"),f("themeisle\_sdk\_promotions\_otter\_installed",!Boolean(k("themeisle\_sdk\_promotions\_otter\_installed"))),await c(window.themeisleSDKPromotions.otterActivationUrl),m(!1),w("installed")},S=()=>"installed"===h?(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Awesome! Refresh the page to see Otter Blocks in action.")):(0,e.createElement)(n.Button,{variant:"secondary",onClick:y,isBusy:r,style:d.button},"Install & Activate Otter Blocks");return g?(0,e.createElement)(o,{...i}):(0,e.createElement)(s.Fragment,null,(0,e.createElement)(o,{...i}),(0,e.createElement)(t.InspectorControls,null,Object.keys(p).map((t=>{if(t===window.themeisleSDKPromotions.showPromotion){const o=p[t];return(0,e.createElement)(n.PanelBody,{key:t,title:o.title,initialOpen:!1},(0,e.createElement)("p",null,o.description),(0,e.createElement)(S,null),(0,e.createElement)("img",{style:d.image,src:window.themeisleSDKPromotions.assets+o.image}),(0,e.createElement)(u,{onClick:()=>E(!0)}))}}))))}),"withInspectorControl");(0,i.select)("core/edit-site")||(0,r.addFilter)("editor.BlockEdit","themeisle-sdk/with-inspector-controls",h);const w=window.wp.plugins,g=window.wp.editPost;function E({stacked:t=!1,type:o,onDismiss:i,onSuccess:r,initialStatus:m=null}){const{title:d,option:p,optionKey:u,labels:h,optimoleActivationUrl:w,optimoleDash:g}=window.themeisleSDKPromotions,[E,k]=(0,s.useState)(!1),[f,v]=(0,s.useState)(m),[y,S]=a(),P=async()=>{k(!0);const e={...p};e[o]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await S(u,JSON.stringify(e)),i&&i()},b=async e=>{e.preventDefault(),v("installing"),await l("optimole-wp"),v("activating"),await c(w),S("themeisle\_sdk\_promotions\_optimole\_installed",!0).then((()=>{v("done")}))};if(E)return null;const D=()=>"done"===f?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null," ",h.all\_set),(0,e.createElement)(n.Button,{icon:"external",isPrimary:!0,href:g,target:"\_blank"},h.optimole.gotodash)):(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===f&&h.installing,"activating"===f&&h.activating,"…")),\_=()=>(0,e.createElement)(n.Button,{disabled:f&&"done"!==f,onClick:P,isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},h.optimole.dismisscta)),N=(t=!1)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Button,{isPrimary:!0,onClick:b,className:t?"cta":""},h.optimole.installOptimole),(0,e.createElement)(n.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/optimole-wp"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null," ",h.learnmore))),B=(0,e.createElement)("div",{className:"ti-om-stack-wrap ti-sdk-om-notice"},(0,e.createElement)("div",{className:"om-stack-notice"},\_(),(0,e.createElement)("i",null,d),(0,e.createElement)("p",null,["om-editor","om-image-block"].includes(o)?h.optimole.message1:h.optimole.message2),f?D():N(!0))),C=(0,e.createElement)(e.Fragment,null,\_(),(0,e.createElement)("div",{className:"content"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,d),(0,e.createElement)("p",{className:"description"},"om-media"===o?h.optimole.message3:h.optimole.message4),f?D():(0,e.createElement)("div",{className:"actions"},N()))));return t?B:C}const k=()=>{const[t,n]=(0,s.useState)(!0),{getBlocks:o}=(0,i.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor");return{getBlocks:t}}));var r;if((r=o(),r.reduce(m,[]).filter((e=>"core/image"===e.name))).length<2)return null;const a="ti-sdk-optimole-post-publish "+(t?"":"hidden");return(0,e.createElement)(g.PluginPostPublishPanel,{className:a},(0,e.createElement)(E,{stacked:!0,type:"om-editor",onDismiss:()=>{n(!1)}}))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(this.debug)this.runAll();else switch(this.promo){case"om-attachment":this.runAttachmentPromo();break;case"om-media":this.runMediaPromo();break;case"om-editor":this.runEditorPromo();break;case"om-image-block":this.runImageBlockPromo();break;case"om-elementor":this.runElementorPromo()}}runAttachmentPromo(){wp.media.view.Attachment.Details.prototype.on("ready",(()=>{setTimeout((()=>{this.removeAttachmentPromo(),this.addAttachmentPromo()}),100)})),wp.media.view.Modal.prototype.on("close",(()=>{setTimeout(this.removeAttachmentPromo,100)}))}runMediaPromo(){if(window.themeisleSDKPromotions.option["om-media"])return;const t=document.querySelector("#ti-optml-notice");t&&(0,s.render)((0,e.createElement)(E,{type:"om-media",onDismiss:()=>{t.style.opacity=0}}),t)}runImageBlockPromo(){if(window.themeisleSDKPromotions.option["om-image-block"])return;let n=!0,i=null;const a=(0,o.createHigherOrderComponent)((o=>r=>"core/image"===r.name&&n?(0,e.createElement)(s.Fragment,null,(0,e.createElement)(o,{...r}),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(E,{stacked:!0,type:"om-image-block",initialStatus:i,onDismiss:()=>{n=!1},onSuccess:()=>{i="done"}}))):(0,e.createElement)(o,{...r})),"withImagePromo");(0,r.addFilter)("editor.BlockEdit","optimole-promo/image-promo",a,99)}runEditorPromo(){window.themeisleSDKPromotions.option["om-editor"]||(0,w.registerPlugin)("optimole-promo",{render:k})}runElementorPromo(){if(!window.elementor)return;const e=this;elementor.on("preview:loaded",(()=>{elementor.panel.currentView.on("set:page:editor",(t=>{e.domRef&&(0,s.unmountComponentAtNode)(e.domRef),t.activeSection&&"section\_image"===t.activeSection&&e.runElementorActions(e)}))}))}addAttachmentPromo(){if(this.domRef&&(0,s.unmountComponentAtNode)(this.domRef),window.themeisleSDKPromotions.option["om-attachment"])return;const t=document.querySelector("#ti-optml-notice-helper");t&&(this.domRef=t,(0,s.render)((0,e.createElement)("div",{className:"notice notice-info ti-sdk-om-notice",style:{margin:0}},(0,e.createElement)(E,{type:"om-attachment",onDismiss:()=>{t.style.opacity=0}})),t))}removeAttachmentPromo(){const e=document.querySelector("#ti-optml-notice-helper");e&&(0,s.unmountComponentAtNode)(e)}runElementorActions(t){if(window.themeisleSDKPromotions.option["om-elementor"])return;const n=document.querySelector("#elementor-panel\_\_editor\_\_help"),o=document.createElement("div");o.id="ti-optml-notice",t.domRef=o,n&&(n.parentNode.insertBefore(o,n),(0,s.render)((0,e.createElement)(E,{stacked:!0,type:"om-elementor",onDismiss:()=>{o.style.opacity=0}}),o))}runAll(){this.runAttachmentPromo(),this.runMediaPromo(),this.runEditorPromo(),this.runImageBlockPromo(),this.runElementorPromo()}};const f=({onDismiss:t=()=>{}})=>{const[o,i]=(0,s.useState)(""),[r,m]=a();return(0,e.createElement)(s.Fragment,null,(0,e.createElement)(n.Button,{disabled:"installing"===o,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["rop-posts"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await m(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),t&&t()},variant:"link",className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Boost your content's reach effortlessly! Introducing ",(0,e.createElement)("b",null,"Revive Social"),", a cutting-edge plugin from the makers of ",window.themeisleSDKPromotions.product,". Seamlessly auto-share old & new content across social media, driving traffic like never before."),(0,e.createElement)("div",{className:"rop-notice-actions"},"installed"!==o?(0,e.createElement)(n.Button,{variant:"primary",isBusy:"installing"===o,onClick:async()=>{i("installing"),await l("tweet-old-post"),await c(window.themeisleSDKPromotions.ropActivationUrl),m("themeisle\_sdk\_promotions\_rop\_installed",!Boolean(r("themeisle\_sdk\_promotions\_rop\_installed"))),i("installed")}},"Install & Activate"):(0,e.createElement)(n.Button,{variant:"primary",href:window.themeisleSDKPromotions.ropDash},"Visit Dashboard"),(0,e.createElement)(n.Button,{variant:"link",target:"\_blank",href:"https://wordpress.org/plugins/tweet-old-post/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["rop-posts"])return;const t=document.querySelector("#ti-rop-notice");t&&(0,s.render)((0,e.createElement)(f,{onDismiss:()=>{t.style.display="none"}}),t)}};const v=({onDismiss:t=()=>{}})=>{const{title:o,optionKey:i,labels:r,neveAction:c,activateNeveURL:m}=window.themeisleSDKPromotions,[d,p]=a(),[u,h]=(0,s.useState)(null);return(0,e.createElement)(s.Fragment,null,(0,e.createElement)(n.Button,{disabled:u&&"done"!==u,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["neve-themes-popular"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await p(i,JSON.stringify(e)),t&&t()},isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},r.redirectionCF7.dismisscta)),(0,e.createElement)("div",{className:"content"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,o),(0,e.createElement)("p",{className:"description"},"Meet ",(0,e.createElement)("b",null,"Neve"),", from the creators of ",window.themeisleSDKPromotions.product,". A very fast and free theme, trusted by over 300,000 users for building their websites and rated 4.7 stars!"),!u&&(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(n.Button,{variant:"primary",onClick:e=>{if(e.preventDefault(),"activate"===c)return h("activating"),void p("themeisle\_sdk\_promotions\_neve\_installed",!0).then((()=>{window.location.href=m}));h("installing"),l("neve",!0).then((e=>{h("activating"),p("themeisle\_sdk\_promotions\_neve\_installed",!0).then((()=>{window.location.href=e.data.activateUrl}))}))}},"install"===c&&r.installActivate,"activate"===c&&r.activate),(0,e.createElement)(n.Button,{variant:"link",href:window.themeisleSDKPromotions.nevePreviewURL},r.preview)),u&&"done"!==u&&(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===u&&r.installing,"activating"===u&&r.activating,"…")))))};function y({type:t,onDismiss:o}){const{title:i,option:r,optionKey:m,labels:d,rfCF7ActivationUrl:p,cf7Dash:u}=window.themeisleSDKPromotions,[h,w]=(0,s.useState)(!1),[g,E]=(0,s.useState)(null),[k,f]=a();if(h)return null;const v=(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(n.Button,{isPrimary:!0,onClick:async e=>{e.preventDefault(),E("installing"),await l("wpcf7-redirect"),E("activating"),await c(p),f("themeisle\_sdk\_promotions\_redirection\_cf7\_installed",!Boolean(k("themeisle\_sdk\_promotions\_redirection\_cf7\_installed"))),E("done")}},d.redirectionCF7.gst),(0,e.createElement)(n.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/wpcf7-redirect/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null," ",d.learnmore)));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Button,{disabled:g&&"done"!==g,onClick:async()=>{w(!0);const e={...r};e[t]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await f(m,JSON.stringify(e)),o&&o()},isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},d.redirectionCF7.dismisscta)),(0,e.createElement)("div",{className:"content"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,i),(0,e.createElement)("p",{className:"description"},d.redirectionCF7.message),g?"done"===g?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null," ",d.all\_set),(0,e.createElement)(n.Button,{icon:"external",variant:"primary",href:u,target:"\_blank"},d.redirectionCF7.gotodash)):(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===g&&d.installing,"activating"===g&&d.activating,"…")):v)))}new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["neve-themes-popular"])return;const t=document.querySelector("#ti-neve-notice");t&&(0,s.render)((0,e.createElement)(v,{onDismiss:()=>{t.style.display="none"}}),t)}},new class{constructor(){this.run()}run(){if(window.themeisleSDKPromotions.option["redirection-cf7"])return;const t=document.querySelector("#ti-redirection-cf7-notice");t&&(0,s.render)((0,e.createElement)(y,{type:"redirection-cf7",onDismiss:()=>{t.style.display="none"}}),t)}}}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,i,s)=>{if(!n){var r=1/0;for(m=0;m<e.length;m++){for(var[n,i,s]=e[m],a=!0,l=0;l<n.length;l++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(m--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[n,i,s]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,s,[r,a,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(l)var m=l(o)}for(t&&t(n);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(m)},n=globalThis.webpackChunkthemeisle\_sdk=globalThis.webpackChunkthemeisle\_sdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[350],(()=>o(163)));i=o.O(i)})(); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css")

  | [r2926556](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css?rev=2926556#L1 "Show revision 2926556 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ti-sdk-om-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;position:relative;padding:0;border-left-color:#3858e9}.ti-sdk-om-notice .content{background:rgba(255,255,255,.75);display:flex;align-items:center;padding:15px 20px}.ti-sdk-om-notice img{max-width:100px;margin-right:20px;display:none}.ti-sdk-om-notice .description{font-size:14px;margin-bottom:~~20px;color:#000}.ti-sdk-om-notice .actions{margin-top:auto;display:flex;margin-bottom:0;gap:20px}.ti-sdk-om-notice form{display:flex;align-items:center;gap:10px}.ti-sdk-om-notice .form-wrap{display:grid}.ti-sdk-om-notice .form-wrap span:not(.dashicons){margin-bottom:5px;font-weight:500}.ti-sdk-om-notice input{border-radius:0;min-width:250px}.ti-sdk-om-notice a.components-button{display:flex;align-items:center;justify-content:center}.ti-sdk-om-notice .is-link{text-decoration:none;display:flex;align-items:center}.ti-sdk-om-notice .is-link span{line-height:normal}.ti-sdk-om-notice .dashicons{margin-right:2px;text-decoration:none}.ti-sdk-om-notice .done{display:flex;flex-direction:column;align-items:flex-start}.ti-sdk-om-notice .done a{width:auto}.compat-field-optimole th{display:none !important}.compat-field-optimole td{width:100% !important}.compat-field-optimole .ti-sdk-om-notice{margin:0}.om-notice-dismiss{right:10px;top:10px;text-decoration:none !important;position:absolute}.om-notice-dismiss:before{content:none}.ti-om-stack-wrap .om-stack-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;display:flex;flex-direction:column;align-items:center;position:relative;text-align:center;padding:20px 10px}.ti-om-stack-wrap .om-stack-notice>span{display:none}.ti-om-stack-wrap .om-stack-notice img{max-width:90px !important}.ti-om-stack-wrap .om-stack-notice h2{font-size:18px;margin:30px auto 10px;font-weight:600}.ti-om-stack-wrap .om-stack-notice p{font-size:13px;max-width:250px;margin:0 auto;line-height:17px}.ti-om-stack-wrap .om-stack-notice i{margin-top:10px;font-size:12px;color:#757575}.ti-om-stack-wrap .om-stack-notice .cta{margin:20px auto 0;padding:10px 25px !important}.ti-om-stack-wrap .om-stack-notice .om-notice-dismiss{color:inherit}.ti-om-stack-wrap .om-stack-notice input{border-radius:0}.ti-om-stack-wrap .om-stack-notice form{place-items:center;width:75%;display:grid;margin-top:10px;gap:10px}.ti-om-stack-wrap .om-stack-notice .done{margin-top:15px;display:grid;gap:10px}.ti-om-stack-wrap .om-stack-notice .done p{font-size:15px;font-weight:500}.ti-om-stack-wrap .om-stack-notice .om-progress{margin:20px 0}.block-editor-block-inspector .ti-om-stack-wrap{border-top:1px solid #e0e0e0}.om-progress{gap:5px;font-size:14px;display:flex;align-items:center}.om-progress .spin{animation:om-rotation 2s infinite linear}@keyframes om-rotation{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.ti-sdk-om-promo.hidden{display:none}.media-sidebar .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.media-sidebar .ti-sdk-om-notice .description{margin-bottom:10px}.media-sidebar .ti-sdk-om-notice .content{padding:15px 10px}.media-sidebar .ti-sdk-om-notice .actions{gap:10px}.media-sidebar .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.attachment-info .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.attachment-info .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.ti-sdk-rop-notice{position:relative;padding:10px}.ti-sdk-rop-notice .rop-notice-actions{display:flex;gap:10px}.ti-sdk-rop-notice p{padding:0 10px 0 0}.ti-sdk-neve-fse-notice{position:relative;padding:10px}.ti-sdk-neve-fse-notice .neve-fse-notice-actions{display:flex;gap:10px}.ti-sdk-neve-fse-notice .neve-fse-notice-actions a{text-decoration:none}.ti-sdk-neve-fse-notice .neve-fse-notice-actions a span:not(.dashicons){text-decoration:underline}.ti-sdk-neve-fse-notice p{padding:0 10px 0 0;font-size:14px~~}@media screen and (min-width: 768px){.ti-sdk-om-notice img{display:block}}@media screen and (min-width: 1200px){.attachment-info .ti-sdk-om-notice form{flex-wrap:unset}} |
  |  | 1 | .ti-sdk-om-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;position:relative;padding:0;border-left-color:#3858e9}.ti-sdk-om-notice .content{background:rgba(255,255,255,.75);display:flex;align-items:center;padding:15px 20px}.ti-sdk-om-notice img{max-width:100px;margin-right:20px;display:none}.ti-sdk-om-notice .description{font-size:14px;margin-bottom:10px;color:#000}.ti-sdk-om-notice .actions{margin-top:auto;display:flex;margin-bottom:0;gap:20px}.ti-sdk-om-notice form{display:flex;align-items:center;gap:10px}.ti-sdk-om-notice .om-progress span:not(.dashicons){font-weight:500}.ti-sdk-om-notice input{border-radius:0;min-width:250px}.ti-sdk-om-notice a.components-button{display:flex;align-items:center;justify-content:center}.ti-sdk-om-notice .is-link{text-decoration:none;display:flex;align-items:center}.ti-sdk-om-notice .is-link span{line-height:normal}.ti-sdk-om-notice .dashicons{margin-right:2px;text-decoration:none}.ti-sdk-om-notice .done{display:flex;flex-direction:column;align-items:flex-start}.ti-sdk-om-notice .done a{width:auto}.compat-field-optimole th{display:none !important}.compat-field-optimole td{width:100% !important}.compat-field-optimole .ti-sdk-om-notice{margin:0}.om-notice-dismiss{right:10px;top:10px;text-decoration:none !important;position:absolute}.om-notice-dismiss:before{content:none}.ti-om-stack-wrap .om-stack-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;gap:10px;border-left:4px solid #3858e9;display:flex;flex-direction:column;align-items:start;position:relative;padding:20px 10px}.ti-om-stack-wrap .om-stack-notice>span{display:none}.ti-om-stack-wrap .om-stack-notice img{max-width:90px !important}.ti-om-stack-wrap .om-stack-notice h2{font-size:18px;margin:30px auto 10px;font-weight:600}.ti-om-stack-wrap .om-stack-notice p{font-size:13px;max-width:250px;margin:0;line-height:normal}.ti-om-stack-wrap .om-stack-notice i{margin:10px 0 0;font-size:12px;color:#757575}.ti-om-stack-wrap .om-stack-notice .cta{padding:10px 25px !important}.ti-om-stack-wrap .om-stack-notice .om-notice-dismiss{color:inherit}.ti-om-stack-wrap .om-stack-notice input{border-radius:0}.ti-om-stack-wrap .om-stack-notice .done{margin-top:15px;display:grid;gap:10px}.ti-om-stack-wrap .om-stack-notice .done p{font-size:15px;font-weight:500}.ti-om-stack-wrap .om-stack-notice .om-progress{margin:10px 0}.block-editor-block-inspector .ti-om-stack-wrap{border-top:1px solid #e0e0e0}.om-progress{gap:5px;font-size:13px;display:flex;align-items:center}.om-progress .spin{animation:om-rotation 2s infinite linear}@keyframes om-rotation{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.ti-sdk-om-promo.hidden{display:none}.media-sidebar .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.media-sidebar .ti-sdk-om-notice .description{margin-bottom:10px}.media-sidebar .ti-sdk-om-notice .content{padding:15px 10px}.media-sidebar .ti-sdk-om-notice .actions{gap:10px}.media-sidebar .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.attachment-info .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.attachment-info .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.ti-sdk-rop-notice{position:relative;padding:10px}.ti-sdk-rop-notice .rop-notice-actions{display:flex;gap:10px}.ti-sdk-rop-notice p{padding:0 10px 0 0}.ti-sdk-optimole-post-publish{padding:0 !important}@media screen and (min-width: 768px){.ti-sdk-om-notice img{display:block}}@media screen and (min-width: 1200px){.attachment-info .ti-sdk-om-notice form{flex-wrap:unset}} |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.asset.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php")

  | [r3046442](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php?rev=3046442#L1 "Show revision 3046442 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array(), 'version' => '~~7eac74bcd8abf2e43780~~'); |
  |  | 1 | <?php return array('dependencies' => array(), 'version' => 'd18c4036e32153ba476c'); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.js](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js")

  | [r3046442](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js?rev=3046442#L1 "Show revision 3046442 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (()=>{"use strict";~~var e=Object.defineProperty,t=(t,n,s)=>(((t,n,s)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s})(t,"symbol"!=typeof n?n+"":n,s),s);const n=e=>({ok:!1,error:e});async function s(e,t,s,i){const r=new URL(t,e),o=JSON.stringify(i),a=(d=fetch,(...e)=>{try{return{ok:!0,data:d(...e)}}catch(e){return{ok:!1,error:e}}})(r.toString(),{method:s,headers:{"Content-Type":"application/json"},body:o});var d;if(!1===a.ok)return n(a.error);const c=await a.data,{data:u}=await c.json();return c.ok?(e=>({ok:!0,data:e}))(u):n({code:"network\_error",message:c.statusText,status:c.status,url:r})}class i{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/actions`,"POST",e)}}class r{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/displays`,"POST",e)}async update(e,t){return s(this.apiHost,`/api/v1/client/${this.environmentId}/displays/${e}`,"PUT",t)}}class o{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/people`,"POST",{environmentId:this.environmentId,userId:e})}async update(e,t){return s(this.apiHost,`/api/v1/client/${this.environmentId}/people/${e}`,"POST",t)}}class a{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/responses`,"POST",e)}async update({responseId:e,finished:t,data:n,ttc:i}){return s(this.apiHost,`/api/v1/client/${this.environmentId}/responses/${e}`,"PUT",{finished:t,data:n,ttc:i})}}class d{constructor(e,t){this.apiHost=e,this.environmentId=t}async uploadFile(e,{allowedFileExtensions:t,surveyId:n}={}){if(!(e instanceof Blob&&e instanceof File))throw new Error("Invalid file type. Expected Blob or File, but received "+typeof e);const s={fileName:e.name,fileType:e.type,allowedFileExtensions:t,surveyId:n},i=await fetch(`${this.apiHost}/api/v1/client/${this.environmentId}/storage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error(`Upload failed with status: ${i.status}`);const r=await i.json(),{data:o}=r,{signedUrl:a,fileUrl:d,signingData:c,presignedFields:u,updatedFileName:l}=o;let g={};if(c){const{signature:t,timestamp:s,uuid:i}=c;g={"X-File-Type":e.type,"X-File-Name":encodeURIComponent(l),"X-Survey-ID":n??"","X-Signature":t,"X-Timestamp":String(s),"X-UUID":i}}const p=new FormData;u&&Object.keys(u).forEach((e=>{p.append(e,u[e])})),p.append("file",e);const h=await fetch(a,{method:"POST",...c?{headers:g}:{},body:p});if(!h.ok){if(c){const e=await h.json(),t=new Error(e.message);throw t.name="FileTooLargeError",t}const e=await h.text();if(u&&e&&e.includes("EntityTooLarge")){const e=new Error("File size exceeds the size limit for your plan");throw e.name="FileTooLargeError",e}throw new Error(`Upload failed with status: ${h.status}`)}return d}}class c{constructor(e){const{apiHost:t,environmentId:n}=e;this.response=new a(t,n),this.display=new r(t,n),this.action=new i(t,n),this.people=new o(t,n),this.storage=new d(t,n)}}class u{constructor(e){this.client=new c(e)}}class l{constructor(){this.logLevel="error"}static getInstance(){return l.instance||(l.instance=new l),l.instance}configure(e){e&&void 0!==e.logLevel&&(this.logLevel=e.logLevel)}logger(e,t){if("debug"===t&&"debug"!==this.logLevel)return;const n=`🧱 Formbricks - ${(new Date).toISOString()} [${t.toUpperCase()}] - ${e}`;"error"===t?console.error(n):console.log(n)}debug(e){this.logger(e,"debug")}error(e){this.logger(e,"error")}}const g=e=>({ok:!0,value:e}),p=e=>({ok:!1,error:e}),h=e=>(...t)=>{try{return{ok:!0,value:e(...t)}}catch(e){return{ok:!1,error:e}}},v=l.getInstance(),f=class e{constructor(e){this.customized=!1,e?(this.handleError=e,this.customized=!0):this.handleError=e=>l.getInstance().error(JSON.stringify(e))}static getInstance(){return e.instance||(e.instance=new e),e.instance}static init(t){this.initialized=!0,e.instance=new e(t)}printStatus(){v.debug("Custom error handler: "+(this.customized?"yes":"no"))}handle(e){console.warn("🧱 Formbricks - Global error: ",e),this.handleError(e)}};f.initialized=!1;let w=f;const y="formbricks-js";class m{constructor(){this.config=null;const e=this.loadFromLocalStorage();e.ok&&(this.config=e.value)}static getInstance(){return m.instance||(m.instance=new m),m.instance}update(e){if(e){const t=new Date((new Date).getTime()+12e4);this.config={...this.config,...e,expiresAt:t},this.saveToLocalStorage()}}get(){if(!this.config)throw new Error("config is null, maybe the init function was not called?");return this.config}loadFromLocalStorage(){if("undefined"!=typeof window){const e=localStorage.getItem(y);if(e){const t=JSON.parse(e);return t.expiresAt&&new Date(t.expiresAt)<=new Date?p(new Error("Config in local storage has expired")):g(JSON.parse(e))}}return p(new Error("No or invalid config in local storage"))}saveToLocalStorage(){return h((()=>localStorage.setItem(y,JSON.stringify(this.config))))()}resetConfig(){return this.config=null,h((()=>localStorage.removeItem(y)))()}}const I=(e,t)=>{const n=Math.abs(t.getTime()-e.getTime());return Math.floor(n/864e5)},b=()=>window.location.search.includes("formbricksDebug=true"),k=m.getInstance(),S=l.getInstance();let E=null;const H=async(e,t=!1)=>{var n;try{const s=await(async({apiHost:e,environmentId:t,userId:n},s)=>{const i=`${e}/api/v1/client/${t}/in-app/sync`,r="?version=1.6.0";let o={};if((s||b())&&(o.cache="no-cache",S.debug("No cache option set for sync")),!n){const e=i+r,t=await fetch(e,o);if(!t.ok){const n=await t.json();return p({code:"network\_error",status:t.status,message:"Error syncing with backend",url:e,responseMessage:n.message})}return g((await t.json()).data)}const a=`${i}/${n}${r}`,d=await fetch(a,o);if(!d.ok){const e=await d.json();return p({code:"network\_error",status:d.status,message:"Error syncing with backend",url:a,responseMessage:e.message})}const c=await d.json(),{data:u}=c;return g(u)})(e,t);if(!0!==(null==s?void 0:s.ok))throw S.error(`Sync failed: ${JSON.stringify(s.error)}`),s.error;let i;try{i=k.get().state}catch(e){}let r={surveys:s.value.surveys,noCodeActionClasses:s.value.noCodeActionClasses,product:s.value.product,attributes:(null==(n=s.value.person)?void 0:n.attributes)||{}};if(e.userId){const e=r.surveys.map((e=>e.name));S.debug("Fetched "+e.length+" surveys during sync: "+e.join(", "))}else{r={...r,displays:(null==i?void 0:i.displays)||[]},r=C(r);const e=r.surveys.map((e=>e.name));S.debug("Fetched "+e.length+" surveys during sync: "+e.join(", "))}k.update({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId,state:r})}catch(e){throw S.error(`Error during sync: ${e}`),e}},C=e=>{const{displays:t,product:n}=e;let{surveys:s}=e;if(!t)return e;let i=s.filter((e=>{if("respondMultiple"===e.displayOption)return!0;if("displayOnce"===e.displayOption)return 0===t.filter((t=>t.surveyId===e.id)).length;if("displayMultiple"===e.displayOption)return 0===t.filter((t=>t.surveyId===e.id&&t.responded)).length;throw Error("Invalid displayOption")}));const r=t.length>0?t[t.length-1]:void 0;return i=i.filter((e=>{if(r){if(null!==e.recontactDays){const n=t.filter((t=>t.surveyId===e.id))[0];return!n||I(new Date,new Date(n.createdAt))>=e.recontactDays}return null===n.recontactDays||I(new Date,new Date(r.createdAt))>=n.recontactDays}return!0})),{...e,surveys:i}},$=()=>{"undefined"!=typeof window&&null!==E&&(window.clearInterval(E),E=null)},A=e=>new Promise((t=>setTimeout(t,e)));class L{constructor(e,n){t(this,"queue",[]),t(this,"config"),t(this,"surveyState"),t(this,"isRequestInProgress",!1),t(this,"api"),this.config=e,this.surveyState=n,this.api=new u({apiHost:e.apiHost,environmentId:e.environmentId})}add(e){this.surveyState.accumulateResponse(e),this.config.setSurveyState&&this.config.setSurveyState(this.surveyState),this.queue.push(e),this.processQueue()}async processQueue(){if(this.isRequestInProgress)return;if(0===this.queue.length)return;this.isRequestInProgress=!0;const e=this.queue[0];let t=0;for(;t<this.config.retryAttempts;){if(await this.sendResponse(e)){this.queue.shift();break}console.error("Formbricks: Failed to send response. Retrying...",t),await A(1e3),t++}t>=this.config.retryAttempts?(console.error("Failed to send response after 2 attempts."),this.config.onResponseSendingFailed&&this.config.onResponseSendingFailed(e),this.isRequestInProgress=!1):(this.isRequestInProgress=!1,this.processQueue())}async sendResponse(e){try{if(null!==this.surveyState.responseId)await this.api.client.response.update({...e,responseId:this.surveyState.responseId});else{const t=await this.api.client.response.create({...e,surveyId:this.surveyState.surveyId,userId:this.surveyState.userId||null,singleUseId:this.surveyState.singleUseId||null});if(!t.ok)throw new Error("Could not create response");if(this.surveyState.displayId)try{await this.api.client.display.update(this.surveyState.displayId,{responseId:t.data.id})}catch(e){console.error("Failed to update display, proceeding with the response.",e)}this.surveyState.updateResponseId(t.data.id),this.config.setSurveyState&&this.config.setSurveyState(this.surveyState)}return!0}catch(e){return console.error(e),!1}}updateSurveyState(e){this.surveyState=e}}class F{constructor(e,n,s,i){t(this,"responseId",null),t(this,"displayId",null),t(this,"userId",null),t(this,"surveyId"),t(this,"responseAcc",{finished:!1,data:{},ttc:{}}),t(this,"singleUseId"),this.surveyId=e,this.userId=i??null,this.singleUseId=n??null,this.responseId=s??null}setSurveyId(e){this.surveyId=e,this.clear()}copy(){const e=new F(this.surveyId,this.singleUseId??void 0,this.responseId??void 0,this.userId??void 0);return e.responseId=this.responseId,e.responseAcc=this.responseAcc,e}updateResponseId(e){this.responseId=e}updateDisplayId(e){this.displayId=e}updateUserId(e){this.userId=e}accumulateResponse(e){this.responseAcc={finished:e.finished,ttc:e.ttc,data:{...this.responseAcc.data,...e.data}}}isResponseFinished(){return this.responseAcc.finished}clear(){this.responseId=null,this.responseAcc={finished:!1,data:{},ttc:{}}}}const O=F,U="formbricks-web-container",D=m.getInstance(),P=l.getInstance(),T=w.getInstance();let x=!1,N=e=>{};const R=async e=>{if(x)return void P.debug("A survey is already running. Skipping.");x=!0,e.delay&&P.debug(`Delaying survey by ${e.delay} seconds.`);const t=D.get().state.product,n=new O(e.id,null,null,D.get().userId),s=new L({apiHost:D.get().apiHost,environmentId:D.get().environmentId,retryAttempts:2,onResponseSendingFailed:()=>{N(!0)}},n),i=e.productOverwrites??{},r=i.brandColor??t.brandColor,o=i.highlightBorderColor??t.highlightBorderColor,a=i.clickOutsideClose??t.clickOutsideClose,d=i.darkOverlay??t.darkOverlay,c=i.placement??t.placement,l=t.inAppSurveyBranding,g=await M();setTimeout((()=>{g.renderSurveyModal({survey:e,brandColor:r,isBrandingEnabled:l,clickOutside:a,darkOverlay:d,highlightBorderColor:o,placement:c,getSetIsError:e=>{N=e},onDisplay:async()=>{const{userId:t}=D.get();if(!t){const t={createdAt:new Date,surveyId:e.id,responded:!1},n=D.get().state.displays,s=n?[...n,t]:[t],i=D.get();let r=C({...i.state,displays:s});D.update({...i,state:r})}const i=new u({apiHost:D.get().apiHost,environmentId:D.get().environmentId}),r=await i.client.display.create({surveyId:e.id,userId:t});if(!r.ok)throw new Error("Could not create display");const{id:o}=r.data;n.updateDisplayId(o),s.updateSurveyState(n)},onResponse:e=>{const{userId:t}=D.get();if(!t){const e=D.get().state.displays,t=e&&e[e.length-1];if(!t)throw new Error("No lastDisplay found");if(!t.responded){t.responded=!0;const n=D.get();let s=C({...n.state,displays:e});D.update({...n,state:s})}}t&&n.updateUserId(t),s.updateSurveyState(n),s.add({data:e.data,ttc:e.ttc,finished:e.finished})},onClose:z,onFileUpload:async(e,t)=>{const n=new u({apiHost:D.get().apiHost,environmentId:D.get().environmentId});return await n.client.storage.uploadFile(e,t)},onRetry:()=>{N(!1),s.processQueue()}})}),1e3\*e.delay)},z=async()=>{var e;if(null==(e=document.getElementById(U))||e.remove(),j(),!D.get().userId){const e=D.get().state,t=C(e);return D.update({...D.get(),state:t}),void(x=!1)}try{await H({apiHost:D.get().apiHost,environmentId:D.get().environmentId,userId:D.get().userId},!0),x=!1}catch(e){T.handle(e)}},j=()=>{const e=document.createElement("div");e.id=U,document.body.appendChild(e)},M=()=>new Promise(((e,t)=>{if(window.formbricksSurveys)e(window.formbricksSurveys);else{const n=document.createElement("script");n.src="https://unpkg.com/@formbricks/surveys@^1.6.0/dist/index.umd.js",n.async=!0,n.onload=()=>e(window.formbricksSurveys),n.onerror=e=>{console.error("Failed to load Formbricks Surveys library:",e),t(e)},document.head.appendChild(n)}})),q=l.getInstance(),\_=m.getInstance(),B=["Exit Intent (Desktop)","50% Scroll"],J=async e=>{var t;const{userId:n,state:{surveys:s=[]}}=\_.get();s.forEach((async t=>{const{inlineTriggers:n}=t,{codeConfig:s}=n??{};e!==(null==s?void 0:s.identifier)||await R(t)}));const i={environmentId:\_.get().environmentId,userId:n,name:e};if(n&&!B.includes(e)){q.debug(`Sending action "${e}" to backend`);const t=new u({apiHost:\_.get().apiHost,environmentId:\_.get().environmentId}),s=await t.client.action.create({...i,userId:n});if(!s.ok)return p({code:"network\_error",message:`Error tracking action ${e}`,status:500,url:`${\_.get().apiHost}/api/v1/client/${\_.get().environmentId}/actions`,responseMessage:s.error.message});b()&&await H({environmentId:\_.get().environmentId,apiHost:\_.get().apiHost,userId:n},!0)}q.debug(`Formbricks: Action "${e}" tracked`);const r=null==(t=\_.get().state)?void 0:t.surveys;return r&&r.length>0?await X(e,r):q.debug("No active surveys to display"),{ok:!0,value:void 0}},X=async(e,t)=>{for(const s of t)if(!s.displayPercentage||(n=s.displayPercentage,Math.floor(100\*Math.random())+1<=n)){for(const t of s.triggers)if(t===e)return q.debug(`Formbricks: survey ${s.id} triggered by action "${e}"`),void await R(s)}else q.debug("Survey display skipped based on displayPercentage.");var n},Q=e=>async(...t)=>{try{return{ok:!0,data:await e(...t)}}catch(e){return{ok:!1,error:e}}};let W=!1,Y=async function(e){if(e.clientY<=0){const e=await J("Exit Intent (Desktop)");if(!0!==e.ok)return p(e.error)}};const G=()=>{W&&(document.removeEventListener("mouseleave",Y),W=!1)};let K=!1,V=!1,Z=async()=>{const e=window.scrollY,t=window.innerHeight,n=document.documentElement.scrollHeight;if(0===e&&(V=!1),!V&&e/(n-t)>=.5){V=!0;const e=await J("50% Scroll");if(!0!==e.ok)return p(e.error)}};const ee=()=>{K&&(window.removeEventListener("scroll",Z),K=!1)},te=m.getInstance(),ne=l.getInstance(),se=w.getInstance(),ie=async()=>{var e;ne.debug(`Checking page url: ${window.location.href}`);const{state:t}=te.get(),{noCodeActionClasses:n=[],surveys:s=[]}=t??{},i=n.filter((e=>{const{innerHtml:t,cssSelector:n,pageUrl:s}=e.noCodeConfig||{};return s&&!t&&!n})),r=s.filter((e=>{var t;const{pageUrl:n,cssSelector:s,innerHtml:i}=(null==(t=e.inlineTriggers)?void 0:t.noCodeConfig)||{};return n&&!s&&!i}));if(i.length>0)for(const t of i){if(!(null==(e=t.noCodeConfig)?void 0:e.pageUrl))continue;const{noCodeConfig:{pageUrl:n}}=t,s=de(window.location.href,n.value,n.rule);if(!0!==s.ok)return p(s.error);if(!1===s.value)continue;const i=await J(t.name);if(!0!==i.ok)return p(i.error)}return r.length>0&&r.forEach((e=>{const{noCodeConfig:t}=e.inlineTriggers??{},{pageUrl:n}=t??{};if(n){const t=de(window.location.href,n.value,n.rule);if(!0!==t.ok)return p(t.error);R(e)}})),{ok:!0,value:void 0}};let re=!1;const oe=()=>ie(),ae=()=>{"undefined"!=typeof window&&re&&(window.removeEventListener("hashchange",oe),window.removeEventListener("popstate",oe),window.removeEventListener("pushstate",oe),window.removeEventListener("replacestate",oe),window.removeEventListener("load",oe),re=!1)};function de(e,t,n){switch(n){case"exactMatch":return g(e===t);case"contains":return g(e.includes(t));case"startsWith":return g(e.startsWith(t));case"endsWith":return g(e.endsWith(t));case"notMatch":return g(e!==t);case"notContains":return g(!e.includes(t));default:return p({code:"invalid\_match\_type",message:"Invalid match type"})}}const ce=(e,t)=>{var n,s,i,r,o,a,d,c;const u=null==(s=null==(n=t.noCodeConfig)?void 0:n.innerHtml)?void 0:s.value,l=null==(r=null==(i=t.noCodeConfig)?void 0:i.cssSelector)?void 0:r.value,g=null==(a=null==(o=t.noCodeConfig)?void 0:o.pageUrl)?void 0:a.value,p=null==(c=null==(d=t.noCodeConfig)?void 0:d.pageUrl)?void 0:c.rule;if(!u&&!l&&!g)return!1;if(u&&e.innerHTML!==u)return!1;if(l){const t=l.split(/\s\*(?=[.#])/);for(let n of t)if(!e.matches(n))return!1}if(g&&p){const e=de(window.location.href,g,p);if(!e.ok||!e.value)return!1}return!0};let ue=!1;const le=e=>(e=>{const{state:t}=te.get();if(!t)return;const{noCodeActionClasses:n}=t;if(!n)return;const s=e.target;n.forEach((e=>{ce(s,e)&&J(e.name).then((e=>{var t,n;n=e=>{se.handle(e)},!0===(t=e).ok?t.value:n(t.error)}))}));const i=t.surveys;i&&0!==i.length&&i.forEach((e=>{const{inlineTriggers:t}=e;t&&ce(s,t)&&R(e)}))})(e),ge=()=>{ue&&(document.removeEventListener("click",le),ue=!1)};let pe=!1;const he=m.getInstance(),ve=l.getInstance(),fe=async()=>(ve.error("'setUserId' is no longer supported. Please set the userId in the init call instead."),{ok:!0,value:void 0}),we=async(e,t)=>{if(ve.debug("Setting attribute: "+e+" to value: "+t),((e,t)=>he.get().state.attributes[e]===t)(e,t.toString()))return ve.debug("Attribute already set to this value. Skipping update."),{ok:!0,value:void 0};const n=await(async(e,t)=>{const{apiHost:n,environmentId:s,userId:i}=he.get();if(!i)return p({code:"missing\_person",message:"Unable to update attribute. User identification deactivated. No userId set."});const r={attributes:{[e]:t}},o=new u({apiHost:n,environmentId:s}),a=await o.client.people.update(i,r);return a.ok?(a.data.changed&&(ve.debug("Attribute updated. Syncing..."),await H({environmentId:s,apiHost:n,userId:i},!0)),{ok:!0,value:void 0}):p({code:"network\_error",status:500,message:`Error updating person with userId ${i}`,url:`${he.get().apiHost}/api/v1/client/${s}/people/${i}`,responseMessage:a.error.message})})(e,t.toString());return n.ok?(he.update({environmentId:he.get().environmentId,apiHost:he.get().apiHost,userId:he.get().userId,state:{...he.get().state,attributes:{...he.get().state.attributes,[e]:t.toString()}}}),{ok:!0,value:void 0}):p(n.error)},ye=async()=>{Ee()},me=async()=>{ve.debug("Resetting state & getting new state from backend"),z();const e={environmentId:he.get().environmentId,apiHost:he.get().apiHost,userId:he.get().userId};await ye();try{return await Se(e),{ok:!0,value:void 0}}catch(e){return p(e)}},Ie=m.getInstance(),be=l.getInstance();let ke=!1;const Se=async e=>{if(ke)return be.debug("Already initialized, skipping initialization."),{ok:!0,value:void 0};if(b()&&be.configure({logLevel:"debug"}),w.getInstance().printStatus(),be.debug("Start initialize"),!e.environmentId)return be.debug("No environmentId provided"),p({code:"missing\_field",field:"environmentId"});if(!e.apiHost)return be.debug("No apiHost provided"),p({code:"missing\_field",field:"apiHost"});if(be.debug("Adding widget container to DOM"),j(),!e.userId&&e.attributes)return be.error("No userId provided but attributes. Cannot update attributes without userId."),p({code:"missing\_field",field:"userId"});let t,n=null;if(e.userId&&e.attributes){const t=await(async(e,t,n,s)=>{var i,r;if(!n)return p({code:"missing\_person",message:"Unable to update attribute. User identification deactivated. No userId set."});const o={...s};try{const e=null==(r=null==(i=he.get())?void 0:i.state)?void 0:r.attributes;if(e)for(const[t,n]of Object.entries(e))o[t]===n&&delete o[t]}catch(e){ve.debug("config not set; sending all attributes to backend")}if(0===Object.keys(o).length)return ve.debug("No attributes to update. Skipping update."),g(o);ve.debug("Updating attributes: "+JSON.stringify(o));const a={attributes:o},d=new u({apiHost:e,environmentId:t}),c=await d.client.people.update(n,a);return c.ok?g(o):p({code:"network\_error",status:500,message:`Error updating person with userId ${n}`,url:`${e}/api/v1/client/${t}/people/${n}`,responseMessage:c.error.message})})(e.apiHost,e.environmentId,e.userId,e.attributes);if(!0!==t.ok)return p(t.error);n=t.value}try{t=Ie.get()}catch(e){be.debug("No existing configuration found.")}return t&&t.state&&t.environmentId===e.environmentId&&t.apiHost===e.apiHost&&t.userId===e.userId&&t.expiresAt?(be.debug("Found existing configuration."),t.expiresAt<new Date?(be.debug("Configuration expired."),await H({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId})):(be.debug("Configuration not expired. Extending expiration."),Ie.update(t))):(be.debug("No valid configuration found or it has been expired. Creating new config."),be.debug("Syncing."),await H({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId}),await J("New Session")),n&&Object.keys(n).length>0&&Ie.update({environmentId:Ie.get().environmentId,apiHost:Ie.get().apiHost,userId:Ie.get().userId,state:{...Ie.get().state,attributes:{...Ie.get().state.attributes,...e.attributes}}}),be.debug("Adding event listeners"),"undefined"!=typeof window&&null===E&&(E=window.setInterval((async()=>{k.get().expiresAt&&new Date(k.get().expiresAt)>=new Date||(S.debug("Config has expired. Starting sync."),await H({apiHost:k.get().apiHost,environmentId:k.get().environmentId,userId:k.get().userId}))}),3e4)),"undefined"==typeof window||re||(window.addEventListener("hashchange",oe),window.addEventListener("popstate",oe),window.addEventListener("pushstate",oe),window.addEventListener("replacestate",oe),window.addEventListener("load",oe),re=!0),"undefined"==typeof window||ue||(document.addEventListener("click",le),ue=!0),"undefined"==typeof document||W||(document.querySelector("body").addEventListener("mouseleave",Y),W=!0),"undefined"==typeof window||K||(window.addEventListener("load",(()=>{window.addEventListener("scroll",Z)})),K=!0),pe||(window.addEventListener("beforeunload",(()=>{$(),ae(),ge(),G(),ee()})),pe=!0),ke=!0,be.debug("Initialized"),ie(),{ok:!0,value:void 0}},Ee=()=>{be.debug("Deinitializing"),z(),$(),ae(),ge(),G(),ee(),pe&&(window.removeEventListener("beforeunload",(()=>{$(),ae(),ge(),G(),ee()})),pe=!1),Ie.resetConfig(),ke=!1};l.getInstance().debug("Create command queue");const He=new class{constructor(){this.queue=[],this.running=!1,this.resolvePromise=null,this.commandPromise=null}add(e=!0,t,...n){this.queue.push({command:t,checkInitialized:e,commandArgs:n}),this.running||(this.commandPromise=new Promise((e=>{this.resolvePromise=e,this.run()})))}async wait(){this.running&&await this.commandPromise}async run(){for(this.running=!0;this.queue.length>0;){const e=w.getInstance(),t=this.queue.shift();if(!t)continue;if(t.checkInitialized){const t=(be.debug("Check if initialized"),ke&&w.initialized?{ok:!0,value:void 0}:p({code:"not\_initialized",message:"Formbricks not initialized. Call initialize() first."}));t&&!0!==t.ok&&e.handle(t.error)}const n=async()=>await(null==t?void 0:t.command.apply(null,null==t?void 0:t.commandArgs)),s=await Q(n)();s&&(s.ok&&s.data&&!s.data.ok&&e.handle(s.data.error),!0!==s.ok&&e.handle(s.error))}this.running=!1,this.resolvePromise&&(this.resolvePromise(),this.resolvePromise=null,this.commandPromise=null)}},Ce=async(e,t)=>{He.add(!0,we,e,t),await He.wait()},$e={init:async e=>{w.init(e.errorHandler),He.add(!1,Se,e),await He.wait()},setUserId:async()=>{He.add(!0,fe),await He.wait()},setEmail:async e=>{Ce("email",e),await He.wait()},setAttribute:Ce,track:async(e,t={})=>{He.add(!0,J,e,t),await He.wait()},logout:async()=>{He.add(!0,ye),await He.wait()},reset:async()=>{He.add(!0,me),await He.wait()},registerRouteChange:async()=>{He.add(!0,ie),await He.wait()},getApi:()=>{const e=m.getInstance(),{environmentId:t,apiHost:n}=e.get();if(!t||!n)throw new Error("formbricks.init() must be called before getApi()");return new u({apiHost:n,environmentId:t})}};document.addEventListener("DOMContentLoaded",(()=>{window.tsdk\_formbricks=$e~~,window.dispatchEvent(new Event("themeisle:survey:loaded"))}))})(); |
  |  | 1 | (()=>{"use strict";async function r(r){if(!window.formbricks){const o=await fetch(`${r}/api/packages/app`);if(!o.ok)return{ok:!1,error:new Error("Failed to load Formbricks App SDK")};const e=await o.text(),t=document.createElement("script");t.innerHTML=e,document.head.appendChild(t);const n=async()=>new Promise(((r,o)=>{const e=setInterval((()=>{window.formbricks&&(clearInterval(e),r())}),100);setTimeout((()=>{clearInterval(e),o(new Error("Formbricks App SDK loading timed out"))}),1e4)}));try{return await n(),{ok:!0,data:void 0}}catch(r){return{ok:!1,error:new Error(r.message??"Failed to load Formbricks App SDK")}}}return{ok:!0,data:void 0}}const o=new Proxy({},{get:(o,e,t)=>async(...o)=>{if(!window.formbricks){if("init"!==e)return void console.error("🧱 Formbricks - Global error: You need to call formbricks.init before calling any other method");if(!o[0])return void console.error("🧱 Formbricks - Global error: You need to pass the apiHost as the first argument");const{apiHost:n}=o[0],i=await(t=r,async(...r)=>{try{return{ok:!0,data:await t(...r)}}catch(r){return{ok:!1,error:r}}})(n);if(!i.ok)return void console.error(`🧱 Formbricks - Global error: ${i.error.message}`)}var t;if(window.formbricks&&"function"!=typeof window.formbricks[e])console.error(`🧱 Formbricks - Global error: Formbricks App SDK does not support method ${String(e)}`);else try{return window.formbricks[e](...o)}catch(r){return void console.error(`Something went wrong: ${r}`)}}});document.addEventListener("DOMContentLoaded",(()=>{window.tsdk\_formbricks=o,window.dispatchEvent(new Event("themeisle:survey:loaded"))}))})(); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array(), 'version' => 'b~~acc1f000efc9f479fc0~~'); |
  |  | 1 | <?php return array('dependencies' => array(), 'version' => 'b8af0b12ad3cabe4c4b8'); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(){var e={705:function(e){e.exports=function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}u=n[s]={exports:{}},t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(r,o,i,s,u,a,f,l,c){"use strict";var d=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=y(e,t)).algorithm?d.createHash(t.algorithm):new v).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=d.getHashes?d.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function y(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function w(e){if("function"==typeof e)return null!=/^function\s+\w\*\s\*\(\s\*\)\s\*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["\_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},\_object:function(t){var o,s=Object.prototype.toString.call(t),u=/\[object (.\*)\]/i.exec(s);if(u=(u=u?u[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==i&&i.isBuffer&&i.isBuffer(t))return r("buffer:"),r(t);if("object"===u||"function"===u||"asyncfunction"===u)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||w(t)||s.splice(0,0,"prototype","\_\_proto\_\_","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),o=this,s.forEach((function(n){o.dispatch(n),r(":"),e.excludeValues||o.dispatch(t[n]),r(",")}));if(!this["\_"+u]){if(e.ignoreUnknown)return r("["+u+"]");throw new Error('Unknown object type "'+u+'"')}this["\_"+u](t)},\_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var i=this;if(r("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var s=[];return o=t.map((function(t){var r=new v,o=n.slice();return b(e,r,o).dispatch(t),s=s.concat(o.slice(n.length)),r.read().toString()})),n=n.concat(s),o.sort(),this.\_array(o,!1)},\_date:function(e){return r("date:"+e.toJSON())},\_symbol:function(e){return r("symbol:"+e.toString())},\_error:function(e){return r("error:"+e.toString())},\_boolean:function(e){return r("bool:"+e.toString())},\_string:function(e){r("string:"+e.length+":"),r(e.toString())},\_function:function(t){r("fn:"),w(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.\_object(t)},\_number:function(e){return r("number:"+e.toString())},\_xml:function(e){return r("xml:"+e.toString())},\_null:function(){return r("Null")},\_undefined:function(){return r("Undefined")},\_regexp:function(e){return r("regex:"+e.toString())},\_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},\_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},\_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},\_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},\_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},\_url:function(e){return r("url:"+e.toString())},\_map:function(t){return r("map:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_set:function(t){return r("set:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},\_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},\_domwindow:function(){return r("domwindow")},\_bigint:function(e){return r("bigint:"+e.toString())},\_process:function(){return r("process")},\_timer:function(){return r("timer")},\_pipe:function(){return r("pipe")},\_tcp:function(){return r("tcp")},\_udp:function(){return r("udp")},\_tty:function(){return r("tty")},\_statwatcher:function(){return r("statwatcher")},\_securecontext:function(){return r("securecontext")},\_connection:function(){return r("connection")},\_zlib:function(){return r("zlib")},\_context:function(){return r("context")},\_nodescript:function(){return r("nodescript")},\_httpparser:function(){return r("httpparser")},\_dataview:function(){return r("dataview")},\_signal:function(){return r("signal")},\_fsevent:function(){return r("fsevent")},\_tlswrap:function(){return r("tlswrap")}}}function v(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=y(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake\_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),o="0".charCodeAt(0),i="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),a="\_".charCodeAt(0);function f(e){return(e=e.charCodeAt(0))===n||e===u?62:e===r||e===a?63:e<o?-1:e<o+10?e-o+26+26:e<s+26?e-s:e<i+26?e-i+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.length,i=(o="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,new t(3\*e.length/4-o)),s=0<o?e.length-4:e.length,u=0;function a(e){i[u++]=e}for(n=0;n<s;n+=4,0)a((16711680&(r=f(e.charAt(n))<<18|f(e.charAt(n+1))<<12|f(e.charAt(n+2))<<6|f(e.charAt(n+3))))>>16),a((65280&r)>>8),a(255&r);return 2==o?a(255&(r=f(e.charAt(n))<<2|f(e.charAt(n+1))>>4)):1==o&&(a((r=f(e.charAt(n))<<10|f(e.charAt(n+1))<<4|f(e.charAt(n+2))>>2)>>8&255),a(255&r)),i},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,s="";function u(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)s+=u((o=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+u(o>>12&63)+u(o>>6&63)+u(63&o);switch(i){case 1:s=(s+=u((n=e[e.length-1])>>2))+u(n<<4&63)+"==";break;case 2:s=(s=(s+=u((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+u(n>>4&63))+u(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/base64-js/lib/b64.js","/node\_modules/gulp-browserify/node\_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){var c=e("base64-js"),d=e("ieee754");function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var r,i,s,u,a=typeof e;if("base64"===t&&"string"==a)for(e=(u=e).trim?u.trim():u.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==a)r=x(e);else if("string"==a)r=o.byteLength(e,t);else{if("object"!=a)throw new Error("First argument needs to be a number, array or string.");r=x(e.length)}if(o.\_useTypedArrays?i=o.\_augment(new Uint8Array(r)):((i=this).length=r,i.\_isBuffer=!0),o.\_useTypedArrays&&"number"==typeof e.byteLength)i.\_set(e);else if(S(u=e)||o.isBuffer(u)||u&&"object"==typeof u&&"number"==typeof u.length)for(s=0;s<r;s++)o.isBuffer(e)?i[s]=e.readUInt8(s):i[s]=e[s];else if("string"==a)i.write(e,0,t);else if("number"==a&&!o.\_useTypedArrays&&!n)for(s=0;s<r;s++)i[s]=0;return i}function h(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function p(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function g(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=h(e,t,n,!0))?-1\*(65535-r+1):r}function y(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=p(e,t,n,!0))?-1\*(4294967295-r+1):r}function w(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function b(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function v(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"trying to write beyond buffer length"),M(t,65535)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,2);i<s;i++)e[n+i]=(t&255<<8\*(r?i:1-i))>>>8\*(r?i:1-i)}function m(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"trying to write beyond buffer length"),M(t,4294967295)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,4);i<s;i++)e[n+i]=t>>>8\*(r?i:3-i)&255}function \_(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||v(e,0<=t?t:65535+t+1,n,r,o)}function E(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||m(e,0<=t?t:4294967295+t+1,n,r,o)}function I(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),F(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function A(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+7<e.length,"Trying to write beyond buffer length"),F(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=o,n.SlowBuffer=o,n.INSPECT\_MAX\_BYTES=50,o.poolSize=8192,o.\_useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(e){return!(null==e||!e.\_isBuffer)},o.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=k(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=j(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2\*e.length;break;default:throw new Error("Unknown encoding")}return n},o.concat=function(e,t){if(Y(S(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new o(0);if(1===e.length)return e[0];if("number"!=typeof t)for(i=t=0;i<e.length;i++)t+=e[i].length;for(var n=new o(t),r=0,i=0;i<e.length;i++){var s=e[i];s.copy(n,r),r+=s.length}return n},o.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(f=r,r=t,t=n,n=f),t=Number(t)||0;var i,s,u,a,f=this.length-t;switch((!n||f<(n=Number(n)))&&(n=f),r=String(r||"utf8").toLowerCase()){case"hex":i=function(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i),Y((i=t.length)%2==0,"Invalid hex string"),i/2<r&&(r=i/2);for(var s=0;s<r;s++){var u=parseInt(t.substr(2\*s,2),16);Y(!isNaN(u),"Invalid hex string"),e[n+s]=u}return o.\_charsWritten=2\*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,u=t,a=n,i=o.\_charsWritten=T(k(e),s,u,a);break;case"ascii":case"binary":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":s=this,u=t,a=n,i=o.\_charsWritten=T(j(e),s,u,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=(n=e.charCodeAt(o))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return i},o.prototype.toString=function(e,t,n){var r,o,i,s,u=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):u.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;i++)o+=U(e[i]);return o}(u,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=C(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+C(o)}(u,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}(u,t,n);break;case"base64":o=u,s=n,r=0===(i=t)&&s===o.length?c.fromByteArray(o):c.fromByteArray(o.slice(i,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256\*r[i+1]);return o}(u,t,n);break;default:throw new Error("Unknown encoding")}return r},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.\_arr||this,0)}},o.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){Y(n<=r,"sourceEnd < sourceStart"),Y(0<=t&&t<e.length,"targetStart out of bounds"),Y(0<=n&&n<this.length,"sourceStart out of bounds"),Y(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(i<100||!o.\_useTypedArrays)for(var s=0;s<i;s++)e[s+t]=this[s+n];else e.\_set(this.subarray(n,n+i),t)}},o.prototype.slice=function(e,t){var n=this.length;if(e=L(e,n,0),t=L(t,n,n),o.\_useTypedArrays)return o.\_augment(this.subarray(e,t));for(var r=t-e,i=new o(r,void 0,!0),s=0;s<r;s++)i[s]=this[s+e];return i},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.readUInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},o.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},o.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},o.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},o.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},o.prototype.readInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1\*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){return g(this,e,!0,t)},o.prototype.readInt16BE=function(e,t){return g(this,e,!1,t)},o.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},o.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},o.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},o.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},o.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},o.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},o.prototype.writeUInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"trying to write beyond buffer length"),M(e,255)),t>=this.length||(this[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){v(this,e,t,!0,n)},o.prototype.writeUInt16BE=function(e,t,n){v(this,e,t,!1,n)},o.prototype.writeUInt32LE=function(e,t,n){m(this,e,t,!0,n)},o.prototype.writeUInt32BE=function(e,t,n){m(this,e,t,!1,n)},o.prototype.writeInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},o.prototype.writeInt16LE=function(e,t,n){\_(this,e,t,!0,n)},o.prototype.writeInt16BE=function(e,t,n){\_(this,e,t,!1,n)},o.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},o.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},o.prototype.writeFloatLE=function(e,t,n){I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){A(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){A(this,e,t,!1,n)},o.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,Y("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),Y(t<=n,"end < start"),n!==t&&0!==this.length){Y(0<=t&&t<this.length,"start out of bounds"),Y(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=U(this[r]),r===n.INSPECT\_MAX\_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(o.\_useTypedArrays)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var B=o.prototype;function L(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function x(e){return(e=~~Math.ceil(+e))<0?0:e}function S(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function k(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split("%")),s=0;s<i.length;s++)t.push(parseInt(i[s],16))}return t}function j(e){return c.toByteArray(e)}function T(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function C(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function M(e,t){Y("number"==typeof e,"cannot write a non-number as a number"),Y(0<=e,"specified a negative value for writing an unsigned value"),Y(e<=t,"value is larger than maximum value for type"),Y(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value"),Y(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value")}function Y(e,t){if(!e)throw new Error(t||"Failed assertion")}o.\_augment=function(e){return e.\_isBuffer=!0,e.\_get=e.get,e.\_set=e.set,e.get=B.get,e.set=B.set,e.write=B.write,e.toString=B.toString,e.toLocaleString=B.toString,e.toJSON=B.toJSON,e.copy=B.copy,e.slice=B.slice,e.readUInt8=B.readUInt8,e.readUInt16LE=B.readUInt16LE,e.readUInt16BE=B.readUInt16BE,e.readUInt32LE=B.readUInt32LE,e.readUInt32BE=B.readUInt32BE,e.readInt8=B.readInt8,e.readInt16LE=B.readInt16LE,e.readInt16BE=B.readInt16BE,e.readInt32LE=B.readInt32LE,e.readInt32BE=B.readInt32BE,e.readFloatLE=B.readFloatLE,e.readFloatBE=B.readFloatBE,e.readDoubleLE=B.readDoubleLE,e.readDoubleBE=B.readDoubleBE,e.writeUInt8=B.writeUInt8,e.writeUInt16LE=B.writeUInt16LE,e.writeUInt16BE=B.writeUInt16BE,e.writeUInt32LE=B.writeUInt32LE,e.writeUInt32BE=B.writeUInt32BE,e.writeInt8=B.writeInt8,e.writeInt16LE=B.writeInt16LE,e.writeInt16BE=B.writeInt16BE,e.writeInt32LE=B.writeInt32LE,e.writeInt32BE=B.writeInt32BE,e.writeFloatLE=B.writeFloatLE,e.writeFloatBE=B.writeFloatBE,e.writeDoubleLE=B.writeDoubleLE,e.writeDoubleBE=B.writeDoubleBE,e.fill=B.fill,e.inspect=B.inspect,e.toArrayBuffer=B.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/buffer/index.js","/node\_modules/gulp-browserify/node\_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=new o(4);c.fill(0),t.exports={hash:function(e,t,n,r){for(var i=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=o.concat([e,c],n));for(var n,r=[],i=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=4)r.push(i.call(e,s));return r}(e=o.isBuffer(e)?e:new o(e),r),8\*e.length),s=(t=r,new o(n)),u=t?s.writeInt32BE:s.writeInt32LE,a=0;a<i.length;a++)u.call(s,i[a],4\*a,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/helpers.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=e("./sha"),d=e("./sha256"),h=e("./rng"),p={sha1:c,sha256:d,md5:e("./md5")},g=64,y=new o(g);function w(e,t){var n=p[e=e||"sha1"],r=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return o.isBuffer(e)||(e=new o(e)),r.push(e),e.length,this},digest:function(e){var i=o.concat(r);return i=t?function(e,t,n){o.isBuffer(t)||(t=new o(t)),o.isBuffer(n)||(n=new o(n)),t.length>g?t=e(t):t.length<g&&(t=o.concat([t,y],g));for(var r=new o(g),i=new o(g),s=0;s<g;s++)r[s]=54^t[s],i[s]=92^t[s];return n=e(o.concat([r,n])),e(o.concat([i,n]))}(n,t,i):n(i),r=null,e?i.toString(e):i}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(e){return w(e)},n.createHmac=w,n.randomBytes=function(e,t){if(!t||!t.call)return new o(h(e));try{t.call(this,void 0,new o(h(e)))}catch(e){t(e)}};var v,m=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],\_=function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}};for(v in m)\_(m[v])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/index.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var u=n,a=r,f=o,l=i;n=p(n,r,o,i,e[s+0],7,-680876936),i=p(i,n,r,o,e[s+1],12,-389564586),o=p(o,i,n,r,e[s+2],17,606105819),r=p(r,o,i,n,e[s+3],22,-1044525330),n=p(n,r,o,i,e[s+4],7,-176418897),i=p(i,n,r,o,e[s+5],12,1200080426),o=p(o,i,n,r,e[s+6],17,-1473231341),r=p(r,o,i,n,e[s+7],22,-45705983),n=p(n,r,o,i,e[s+8],7,1770035416),i=p(i,n,r,o,e[s+9],12,-1958414417),o=p(o,i,n,r,e[s+10],17,-42063),r=p(r,o,i,n,e[s+11],22,-1990404162),n=p(n,r,o,i,e[s+12],7,1804603682),i=p(i,n,r,o,e[s+13],12,-40341101),o=p(o,i,n,r,e[s+14],17,-1502002290),n=g(n,r=p(r,o,i,n,e[s+15],22,1236535329),o,i,e[s+1],5,-165796510),i=g(i,n,r,o,e[s+6],9,-1069501632),o=g(o,i,n,r,e[s+11],14,643717713),r=g(r,o,i,n,e[s+0],20,-373897302),n=g(n,r,o,i,e[s+5],5,-701558691),i=g(i,n,r,o,e[s+10],9,38016083),o=g(o,i,n,r,e[s+15],14,-660478335),r=g(r,o,i,n,e[s+4],20,-405537848),n=g(n,r,o,i,e[s+9],5,568446438),i=g(i,n,r,o,e[s+14],9,-1019803690),o=g(o,i,n,r,e[s+3],14,-187363961),r=g(r,o,i,n,e[s+8],20,1163531501),n=g(n,r,o,i,e[s+13],5,-1444681467),i=g(i,n,r,o,e[s+2],9,-51403784),o=g(o,i,n,r,e[s+7],14,1735328473),n=y(n,r=g(r,o,i,n,e[s+12],20,-1926607734),o,i,e[s+5],4,-378558),i=y(i,n,r,o,e[s+8],11,-2022574463),o=y(o,i,n,r,e[s+11],16,1839030562),r=y(r,o,i,n,e[s+14],23,-35309556),n=y(n,r,o,i,e[s+1],4,-1530992060),i=y(i,n,r,o,e[s+4],11,1272893353),o=y(o,i,n,r,e[s+7],16,-155497632),r=y(r,o,i,n,e[s+10],23,-1094730640),n=y(n,r,o,i,e[s+13],4,681279174),i=y(i,n,r,o,e[s+0],11,-358537222),o=y(o,i,n,r,e[s+3],16,-722521979),r=y(r,o,i,n,e[s+6],23,76029189),n=y(n,r,o,i,e[s+9],4,-640364487),i=y(i,n,r,o,e[s+12],11,-421815835),o=y(o,i,n,r,e[s+15],16,530742520),n=w(n,r=y(r,o,i,n,e[s+2],23,-995338651),o,i,e[s+0],6,-198630844),i=w(i,n,r,o,e[s+7],10,1126891415),o=w(o,i,n,r,e[s+14],15,-1416354905),r=w(r,o,i,n,e[s+5],21,-57434055),n=w(n,r,o,i,e[s+12],6,1700485571),i=w(i,n,r,o,e[s+3],10,-1894986606),o=w(o,i,n,r,e[s+10],15,-1051523),r=w(r,o,i,n,e[s+1],21,-2054922799),n=w(n,r,o,i,e[s+8],6,1873313359),i=w(i,n,r,o,e[s+15],10,-30611744),o=w(o,i,n,r,e[s+6],15,-1560198380),r=w(r,o,i,n,e[s+13],21,1309151649),n=w(n,r,o,i,e[s+4],6,-145523070),i=w(i,n,r,o,e[s+11],10,-1120210379),o=w(o,i,n,r,e[s+2],15,718787259),r=w(r,o,i,n,e[s+9],21,-343485551),n=b(n,u),r=b(r,a),o=b(o,f),i=b(i,l)}return Array(n,r,o,i)}function h(e,t,n,r,o,i){return b((t=b(b(t,e),b(r,i)))<<o|t>>>32-o,n)}function p(e,t,n,r,o,i,s){return h(t&n|~t&r,e,t,o,i,s)}function g(e,t,n,r,o,i,s){return h(t&r|n&~r,e,t,o,i,s)}function y(e,t,n,r,o,i,s){return h(t^n^r,e,t,o,i,s)}function w(e,t,n,r,o,i,s){return h(n^(t|~r),e,t,o,i,s)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return c.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/md5.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296\*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/rng.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,o,i=Array(80),s=1732584193,u=-271733879,a=-1732584194,f=271733878,l=-1009589776,c=0;c<e.length;c+=16){for(var d=s,g=u,y=a,w=f,b=l,v=0;v<80;v++){i[v]=v<16?e[c+v]:p(i[v-3]^i[v-8]^i[v-14]^i[v-16],1);var m=h(h(p(s,5),(m=u,r=a,o=f,(n=v)<20?m&r|~m&o:!(n<40)&&n<60?m&r|m&o|r&o:m^r^o)),h(h(l,i[v]),(n=v)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));l=f,f=a,a=p(u,30),u=s,s=m}s=h(s,d),u=h(u,g),a=h(a,y),f=h(f,w),l=h(l,b)}return Array(s,u,a,f,l)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return c.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),o=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),i=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,u,a=0;a<e.length;a+=16){for(var f=o[0],l=o[1],d=o[2],h=o[3],y=o[4],w=o[5],b=o[6],v=o[7],m=0;m<64;m++)i[m]=m<16?e[m+a]:c(c(c((u=i[m-2],p(u,17)^p(u,19)^g(u,10)),i[m-7]),(u=i[m-15],p(u,7)^p(u,18)^g(u,3))),i[m-16]),n=c(c(c(c(v,p(u=y,6)^p(u,11)^p(u,25)),y&w^~y&b),r[m]),i[m]),s=c(p(s=f,2)^p(s,13)^p(s,22),f&l^f&d^l&d),v=b,b=w,w=y,y=c(h,n),h=d,d=l,l=f,f=c(n,s);o[0]=c(f,o[0]),o[1]=c(l,o[1]),o[2]=c(d,o[2]),o[3]=c(h,o[3]),o[4]=c(y,o[4]),o[5]=c(w,o[5]),o[6]=c(b,o[6]),o[7]=c(v,o[7])}return o}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha256.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){n.read=function(e,t,n,r,o){var i,s,u=8\*o-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?o-1:0,d=n?-1:1;for(o=e[t+c],c+=d,i=o&(1<<-l)-1,o>>=-l,l+=u;0<l;i=256\*i+e[t+c],c+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;0<l;s=256\*s+e[t+c],c+=d,l-=8);if(0===i)i=1-f;else{if(i===a)return s?NaN:1/0\*(o?-1:1);s+=Math.pow(2,r),i-=f}return(o?-1:1)\*s\*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var s,u,a=8\*i-o-1,f=(1<<a)-1,l=f>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1;for(i=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t\*(r=Math.pow(2,-s))<1&&(s--,r\*=2),2<=(t+=1<=s+l?c/r:c\*Math.pow(2,1-l))\*r&&(s++,r/=2),f<=s+l?(u=0,s=f):1<=s+l?(u=(t\*r-1)\*Math.pow(2,o),s+=l):(u=t\*Math.pow(2,l-1)\*Math.pow(2,o),s=0));8<=o;e[n+d]=255&u,d+=h,u/=256,o-=8);for(s=s<<o|u,a+=o;0<a;e[n+d]=255&s,d+=h,s/=256,a-=8);e[n+d-h]|=128\*i}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/ieee754/index.js","/node\_modules/gulp-browserify/node\_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){var l,c,d;function h(){}(e=t.exports={}).nextTick=(c="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,c?function(e){return window.setImmediate(e)}:d?(l=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<l.length&&l.shift()())}),!0),function(e){l.push(e),window.postMessage("process-tick","\*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/process/browser.js","/node\_modules/gulp-browserify/node\_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.\_\_esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t,r,o,i=n(705),s=n.n(i);const u=e=>{var t,n;const r=null==e||null===(t=e.filter((e=>null==e?void 0:e[0])))||void 0===t?void 0:t[0];return null!==(n=null==r?void 0:r[1])&&void 0!==n?n:null==r?void 0:r[0]};class a{constructor(){var t,n;e(this,"\_set",((e,t,n)=>{if(!this.hasProduct(t.slug))return;if(!(null!=n&&n.consent||this.getProductConsent(t.slug)))return;if(!this.validate(t))return;const r=null!=n&&n.directSave?t:this.trkMetadata(t);this.events.set(e,r),null!=n&&n.refreshTimer&&this.refreshTimer(),null!=n&&n.sendNow?this.uploadEvents():null!=n&&n.ignoreLimit||this.sendIfLimitReached()})),e(this,"\_add",((e,t)=>{const n=s()(e);return this.\_set(n.toString(),e,t),n.toString()})),e(this,"with",(e=>{const t={slug:e,...this.envInfo()};return{add:(e,n)=>this.\_add({...t,...e},n),set:(e,n,r)=>this.\_set(e,{...t,...n},r),base:this}})),e(this,"envInfo",(()=>({site:window.location.hostname}))),e(this,"uploadEvents",(async()=>{if(0!==this.events.size)try{const e=Array.from(this.events.values());this.events.clear();const t=await this.sendBulkTracking(e.map((e=>{let{slug:t,site:n,license:r,...o}=e;return{slug:t,site:n,license:r,data:o}})));t.ok||this.listeners.forEach((e=>e({success:!1,error:"Failed to send tracking events"})));const n=await t.json();this.listeners.forEach((e=>e({success:!0,response:n})))}catch(e){console.error(e)}})),e(this,"sendIfLimitReached",(()=>{if(this.events.size>=this.eventsLimit)return this.uploadEvents()})),e(this,"subscribe",(e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))}))),e(this,"hasConsent",(()=>this.consent)),e(this,"sendBulkTracking",(e=>fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))),e(this,"trkMetadata",(e=>({env:u([[window.location.href.includes("customize.php"),"customizer"],[window.location.href.includes("site-editor.php"),"site-editor"],[window.location.href.includes("widgets.php"),"widgets"],[window.location.href.includes("admin.php"),"admin"],["post-editor"]]),license:this.getProductTackHash(e.slug),...null!=e?e:{}}))),e(this,"hasProduct",(e=>this.products.some((t=>{var n;return null==t||null===(n=t.slug)||void 0===n?void 0:n.includes(e)})))),e(this,"getProductTackHash",(e=>{var t;return null===(t=this.products.find((t=>{var n;return null==t||null===(n=t.slug)||void 0===n?void 0:n.includes(e)})))||void 0===t?void 0:t.trackHash})),e(this,"getProductConsent",(e=>{var t;return null===(t=this.products.find((t=>{var n;return null==t||null===(n=t.slug)||void 0===n?void 0:n.includes(e)})))||void 0===t?void 0:t.consent})),e(this,"start",(()=>{this.interval||(this.interval=window.setInterval((()=>{this.uploadEvents()}),this.autoSendIntervalTime))})),e(this,"stop",(()=>{this.interval&&(window.clearInterval(this.interval),this.interval=null)})),e(this,"refreshTimer",(()=>{this.stop(),this.start()})),e(this,"validate",(e=>"object"==typeof e?0!==Object.keys(e).length&&Object.values(e).every(this.validate):void 0!==e)),e(this,"clone",(()=>{const e=new a;return e.events=new Map(this.events),e.listeners=[...this.listeners],e.interval=this.interval,e.consent=this.consent,e.endpoint=this.endpoint,e})),this.events=new Map,this.eventsLimit=50,this.listeners=[],this.interval=null,this.consent=!1,this.endpoint=null===(t=tiTelemetry)||void 0===t?void 0:t.endpoint,this.products=null===(n=tiTelemetry)||void 0===n?void 0:n.products,this.autoSendIntervalTime=3e5}}window.tiTrk=new a,null===(t=window)||void 0===t||null===(r=t.wp)||void 0===r||null===(o=r.customize)||void 0===o||o.bind("save",(()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.tiTrk)||void 0===t||t.uploadEvents()})),window.addEventListener("beforeunload",(async()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.tiTrk)||void 0===t||t.uploadEvents()}))}()}~~(); |
  |  | 1 | (()=>{var e={802:e=>{e.exports=function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}u=n[s]={exports:{}},t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(r,o,i,s,u,a,f,l,c){"use strict";var d=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=y(e,t)).algorithm?d.createHash(t.algorithm):new m).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=d.getHashes?d.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function y(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function w(e){if("function"==typeof e)return null!=/^function\s+\w\*\s\*\(\s\*\)\s\*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["\_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},\_object:function(t){var o,s=Object.prototype.toString.call(t),u=/\[object (.\*)\]/i.exec(s);if(u=(u=u?u[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==i&&i.isBuffer&&i.isBuffer(t))return r("buffer:"),r(t);if("object"===u||"function"===u||"asyncfunction"===u)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||w(t)||s.splice(0,0,"prototype","\_\_proto\_\_","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),o=this,s.forEach((function(n){o.dispatch(n),r(":"),e.excludeValues||o.dispatch(t[n]),r(",")}));if(!this["\_"+u]){if(e.ignoreUnknown)return r("["+u+"]");throw new Error('Unknown object type "'+u+'"')}this["\_"+u](t)},\_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var i=this;if(r("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var s=[];return o=t.map((function(t){var r=new m,o=n.slice();return b(e,r,o).dispatch(t),s=s.concat(o.slice(n.length)),r.read().toString()})),n=n.concat(s),o.sort(),this.\_array(o,!1)},\_date:function(e){return r("date:"+e.toJSON())},\_symbol:function(e){return r("symbol:"+e.toString())},\_error:function(e){return r("error:"+e.toString())},\_boolean:function(e){return r("bool:"+e.toString())},\_string:function(e){r("string:"+e.length+":"),r(e.toString())},\_function:function(t){r("fn:"),w(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.\_object(t)},\_number:function(e){return r("number:"+e.toString())},\_xml:function(e){return r("xml:"+e.toString())},\_null:function(){return r("Null")},\_undefined:function(){return r("Undefined")},\_regexp:function(e){return r("regex:"+e.toString())},\_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},\_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},\_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},\_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},\_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},\_url:function(e){return r("url:"+e.toString())},\_map:function(t){return r("map:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_set:function(t){return r("set:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},\_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},\_domwindow:function(){return r("domwindow")},\_bigint:function(e){return r("bigint:"+e.toString())},\_process:function(){return r("process")},\_timer:function(){return r("timer")},\_pipe:function(){return r("pipe")},\_tcp:function(){return r("tcp")},\_udp:function(){return r("udp")},\_tty:function(){return r("tty")},\_statwatcher:function(){return r("statwatcher")},\_securecontext:function(){return r("securecontext")},\_connection:function(){return r("connection")},\_zlib:function(){return r("zlib")},\_context:function(){return r("context")},\_nodescript:function(){return r("nodescript")},\_httpparser:function(){return r("httpparser")},\_dataview:function(){return r("dataview")},\_signal:function(){return r("signal")},\_fsevent:function(){return r("fsevent")},\_tlswrap:function(){return r("tlswrap")}}}function m(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=y(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake\_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),o="0".charCodeAt(0),i="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),a="\_".charCodeAt(0);function f(e){return(e=e.charCodeAt(0))===n||e===u?62:e===r||e===a?63:e<o?-1:e<o+10?e-o+26+26:e<s+26?e-s:e<i+26?e-i+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.length,i=(o="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,new t(3\*e.length/4-o)),s=0<o?e.length-4:e.length,u=0;function a(e){i[u++]=e}for(n=0;n<s;n+=4,0)a((16711680&(r=f(e.charAt(n))<<18|f(e.charAt(n+1))<<12|f(e.charAt(n+2))<<6|f(e.charAt(n+3))))>>16),a((65280&r)>>8),a(255&r);return 2==o?a(255&(r=f(e.charAt(n))<<2|f(e.charAt(n+1))>>4)):1==o&&(a((r=f(e.charAt(n))<<10|f(e.charAt(n+1))<<4|f(e.charAt(n+2))>>2)>>8&255),a(255&r)),i},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,s="";function u(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)s+=u((o=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+u(o>>12&63)+u(o>>6&63)+u(63&o);switch(i){case 1:s=(s+=u((n=e[e.length-1])>>2))+u(n<<4&63)+"==";break;case 2:s=(s=(s+=u((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+u(n>>4&63))+u(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/base64-js/lib/b64.js","/node\_modules/gulp-browserify/node\_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){var c=e("base64-js"),d=e("ieee754");function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var r,i,s,u,a=typeof e;if("base64"===t&&"string"==a)for(e=(u=e).trim?u.trim():u.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==a)r=x(e);else if("string"==a)r=o.byteLength(e,t);else{if("object"!=a)throw new Error("First argument needs to be a number, array or string.");r=x(e.length)}if(o.\_useTypedArrays?i=o.\_augment(new Uint8Array(r)):((i=this).length=r,i.\_isBuffer=!0),o.\_useTypedArrays&&"number"==typeof e.byteLength)i.\_set(e);else if(S(u=e)||o.isBuffer(u)||u&&"object"==typeof u&&"number"==typeof u.length)for(s=0;s<r;s++)o.isBuffer(e)?i[s]=e.readUInt8(s):i[s]=e[s];else if("string"==a)i.write(e,0,t);else if("number"==a&&!o.\_useTypedArrays&&!n)for(s=0;s<r;s++)i[s]=0;return i}function h(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function p(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function g(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=h(e,t,n,!0))?-1\*(65535-r+1):r}function y(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=p(e,t,n,!0))?-1\*(4294967295-r+1):r}function w(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function b(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function m(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"trying to write beyond buffer length"),M(t,65535)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,2);i<s;i++)e[n+i]=(t&255<<8\*(r?i:1-i))>>>8\*(r?i:1-i)}function v(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"trying to write beyond buffer length"),M(t,4294967295)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,4);i<s;i++)e[n+i]=t>>>8\*(r?i:3-i)&255}function \_(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||m(e,0<=t?t:65535+t+1,n,r,o)}function E(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||v(e,0<=t?t:4294967295+t+1,n,r,o)}function I(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),F(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function A(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+7<e.length,"Trying to write beyond buffer length"),F(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=o,n.SlowBuffer=o,n.INSPECT\_MAX\_BYTES=50,o.poolSize=8192,o.\_useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(e){return!(null==e||!e.\_isBuffer)},o.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=k(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=j(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2\*e.length;break;default:throw new Error("Unknown encoding")}return n},o.concat=function(e,t){if(Y(S(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new o(0);if(1===e.length)return e[0];if("number"!=typeof t)for(i=t=0;i<e.length;i++)t+=e[i].length;for(var n=new o(t),r=0,i=0;i<e.length;i++){var s=e[i];s.copy(n,r),r+=s.length}return n},o.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(f=r,r=t,t=n,n=f),t=Number(t)||0;var i,s,u,a,f=this.length-t;switch((!n||f<(n=Number(n)))&&(n=f),r=String(r||"utf8").toLowerCase()){case"hex":i=function(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i),Y((i=t.length)%2==0,"Invalid hex string"),i/2<r&&(r=i/2);for(var s=0;s<r;s++){var u=parseInt(t.substr(2\*s,2),16);Y(!isNaN(u),"Invalid hex string"),e[n+s]=u}return o.\_charsWritten=2\*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,u=t,a=n,i=o.\_charsWritten=T(k(e),s,u,a);break;case"ascii":case"binary":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":s=this,u=t,a=n,i=o.\_charsWritten=T(j(e),s,u,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=(n=e.charCodeAt(o))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return i},o.prototype.toString=function(e,t,n){var r,o,i,s,u=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):u.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;i++)o+=U(e[i]);return o}(u,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=C(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+C(o)}(u,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}(u,t,n);break;case"base64":o=u,s=n,r=0===(i=t)&&s===o.length?c.fromByteArray(o):c.fromByteArray(o.slice(i,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256\*r[i+1]);return o}(u,t,n);break;default:throw new Error("Unknown encoding")}return r},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.\_arr||this,0)}},o.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){Y(n<=r,"sourceEnd < sourceStart"),Y(0<=t&&t<e.length,"targetStart out of bounds"),Y(0<=n&&n<this.length,"sourceStart out of bounds"),Y(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(i<100||!o.\_useTypedArrays)for(var s=0;s<i;s++)e[s+t]=this[s+n];else e.\_set(this.subarray(n,n+i),t)}},o.prototype.slice=function(e,t){var n=this.length;if(e=L(e,n,0),t=L(t,n,n),o.\_useTypedArrays)return o.\_augment(this.subarray(e,t));for(var r=t-e,i=new o(r,void 0,!0),s=0;s<r;s++)i[s]=this[s+e];return i},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.readUInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},o.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},o.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},o.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},o.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},o.prototype.readInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1\*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){return g(this,e,!0,t)},o.prototype.readInt16BE=function(e,t){return g(this,e,!1,t)},o.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},o.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},o.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},o.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},o.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},o.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},o.prototype.writeUInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"trying to write beyond buffer length"),M(e,255)),t>=this.length||(this[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){m(this,e,t,!0,n)},o.prototype.writeUInt16BE=function(e,t,n){m(this,e,t,!1,n)},o.prototype.writeUInt32LE=function(e,t,n){v(this,e,t,!0,n)},o.prototype.writeUInt32BE=function(e,t,n){v(this,e,t,!1,n)},o.prototype.writeInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},o.prototype.writeInt16LE=function(e,t,n){\_(this,e,t,!0,n)},o.prototype.writeInt16BE=function(e,t,n){\_(this,e,t,!1,n)},o.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},o.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},o.prototype.writeFloatLE=function(e,t,n){I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){A(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){A(this,e,t,!1,n)},o.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,Y("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),Y(t<=n,"end < start"),n!==t&&0!==this.length){Y(0<=t&&t<this.length,"start out of bounds"),Y(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=U(this[r]),r===n.INSPECT\_MAX\_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(o.\_useTypedArrays)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var B=o.prototype;function L(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function x(e){return(e=~~Math.ceil(+e))<0?0:e}function S(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function k(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split("%")),s=0;s<i.length;s++)t.push(parseInt(i[s],16))}return t}function j(e){return c.toByteArray(e)}function T(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function C(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function M(e,t){Y("number"==typeof e,"cannot write a non-number as a number"),Y(0<=e,"specified a negative value for writing an unsigned value"),Y(e<=t,"value is larger than maximum value for type"),Y(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value"),Y(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value")}function Y(e,t){if(!e)throw new Error(t||"Failed assertion")}o.\_augment=function(e){return e.\_isBuffer=!0,e.\_get=e.get,e.\_set=e.set,e.get=B.get,e.set=B.set,e.write=B.write,e.toString=B.toString,e.toLocaleString=B.toString,e.toJSON=B.toJSON,e.copy=B.copy,e.slice=B.slice,e.readUInt8=B.readUInt8,e.readUInt16LE=B.readUInt16LE,e.readUInt16BE=B.readUInt16BE,e.readUInt32LE=B.readUInt32LE,e.readUInt32BE=B.readUInt32BE,e.readInt8=B.readInt8,e.readInt16LE=B.readInt16LE,e.readInt16BE=B.readInt16BE,e.readInt32LE=B.readInt32LE,e.readInt32BE=B.readInt32BE,e.readFloatLE=B.readFloatLE,e.readFloatBE=B.readFloatBE,e.readDoubleLE=B.readDoubleLE,e.readDoubleBE=B.readDoubleBE,e.writeUInt8=B.writeUInt8,e.writeUInt16LE=B.writeUInt16LE,e.writeUInt16BE=B.writeUInt16BE,e.writeUInt32LE=B.writeUInt32LE,e.writeUInt32BE=B.writeUInt32BE,e.writeInt8=B.writeInt8,e.writeInt16LE=B.writeInt16LE,e.writeInt16BE=B.writeInt16BE,e.writeInt32LE=B.writeInt32LE,e.writeInt32BE=B.writeInt32BE,e.writeFloatLE=B.writeFloatLE,e.writeFloatBE=B.writeFloatBE,e.writeDoubleLE=B.writeDoubleLE,e.writeDoubleBE=B.writeDoubleBE,e.fill=B.fill,e.inspect=B.inspect,e.toArrayBuffer=B.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/buffer/index.js","/node\_modules/gulp-browserify/node\_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=new o(4);c.fill(0),t.exports={hash:function(e,t,n,r){for(var i=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=o.concat([e,c],n));for(var n,r=[],i=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=4)r.push(i.call(e,s));return r}(e=o.isBuffer(e)?e:new o(e),r),8\*e.length),s=(t=r,new o(n)),u=t?s.writeInt32BE:s.writeInt32LE,a=0;a<i.length;a++)u.call(s,i[a],4\*a,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/helpers.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=e("./sha"),d=e("./sha256"),h=e("./rng"),p={sha1:c,sha256:d,md5:e("./md5")},g=64,y=new o(g);function w(e,t){var n=p[e=e||"sha1"],r=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return o.isBuffer(e)||(e=new o(e)),r.push(e),e.length,this},digest:function(e){var i=o.concat(r);return i=t?function(e,t,n){o.isBuffer(t)||(t=new o(t)),o.isBuffer(n)||(n=new o(n)),t.length>g?t=e(t):t.length<g&&(t=o.concat([t,y],g));for(var r=new o(g),i=new o(g),s=0;s<g;s++)r[s]=54^t[s],i[s]=92^t[s];return n=e(o.concat([r,n])),e(o.concat([i,n]))}(n,t,i):n(i),r=null,e?i.toString(e):i}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(e){return w(e)},n.createHmac=w,n.randomBytes=function(e,t){if(!t||!t.call)return new o(h(e));try{t.call(this,void 0,new o(h(e)))}catch(e){t(e)}};var m,v=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],\_=function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}};for(m in v)\_(v[m])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/index.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var u=n,a=r,f=o,l=i;n=p(n,r,o,i,e[s+0],7,-680876936),i=p(i,n,r,o,e[s+1],12,-389564586),o=p(o,i,n,r,e[s+2],17,606105819),r=p(r,o,i,n,e[s+3],22,-1044525330),n=p(n,r,o,i,e[s+4],7,-176418897),i=p(i,n,r,o,e[s+5],12,1200080426),o=p(o,i,n,r,e[s+6],17,-1473231341),r=p(r,o,i,n,e[s+7],22,-45705983),n=p(n,r,o,i,e[s+8],7,1770035416),i=p(i,n,r,o,e[s+9],12,-1958414417),o=p(o,i,n,r,e[s+10],17,-42063),r=p(r,o,i,n,e[s+11],22,-1990404162),n=p(n,r,o,i,e[s+12],7,1804603682),i=p(i,n,r,o,e[s+13],12,-40341101),o=p(o,i,n,r,e[s+14],17,-1502002290),n=g(n,r=p(r,o,i,n,e[s+15],22,1236535329),o,i,e[s+1],5,-165796510),i=g(i,n,r,o,e[s+6],9,-1069501632),o=g(o,i,n,r,e[s+11],14,643717713),r=g(r,o,i,n,e[s+0],20,-373897302),n=g(n,r,o,i,e[s+5],5,-701558691),i=g(i,n,r,o,e[s+10],9,38016083),o=g(o,i,n,r,e[s+15],14,-660478335),r=g(r,o,i,n,e[s+4],20,-405537848),n=g(n,r,o,i,e[s+9],5,568446438),i=g(i,n,r,o,e[s+14],9,-1019803690),o=g(o,i,n,r,e[s+3],14,-187363961),r=g(r,o,i,n,e[s+8],20,1163531501),n=g(n,r,o,i,e[s+13],5,-1444681467),i=g(i,n,r,o,e[s+2],9,-51403784),o=g(o,i,n,r,e[s+7],14,1735328473),n=y(n,r=g(r,o,i,n,e[s+12],20,-1926607734),o,i,e[s+5],4,-378558),i=y(i,n,r,o,e[s+8],11,-2022574463),o=y(o,i,n,r,e[s+11],16,1839030562),r=y(r,o,i,n,e[s+14],23,-35309556),n=y(n,r,o,i,e[s+1],4,-1530992060),i=y(i,n,r,o,e[s+4],11,1272893353),o=y(o,i,n,r,e[s+7],16,-155497632),r=y(r,o,i,n,e[s+10],23,-1094730640),n=y(n,r,o,i,e[s+13],4,681279174),i=y(i,n,r,o,e[s+0],11,-358537222),o=y(o,i,n,r,e[s+3],16,-722521979),r=y(r,o,i,n,e[s+6],23,76029189),n=y(n,r,o,i,e[s+9],4,-640364487),i=y(i,n,r,o,e[s+12],11,-421815835),o=y(o,i,n,r,e[s+15],16,530742520),n=w(n,r=y(r,o,i,n,e[s+2],23,-995338651),o,i,e[s+0],6,-198630844),i=w(i,n,r,o,e[s+7],10,1126891415),o=w(o,i,n,r,e[s+14],15,-1416354905),r=w(r,o,i,n,e[s+5],21,-57434055),n=w(n,r,o,i,e[s+12],6,1700485571),i=w(i,n,r,o,e[s+3],10,-1894986606),o=w(o,i,n,r,e[s+10],15,-1051523),r=w(r,o,i,n,e[s+1],21,-2054922799),n=w(n,r,o,i,e[s+8],6,1873313359),i=w(i,n,r,o,e[s+15],10,-30611744),o=w(o,i,n,r,e[s+6],15,-1560198380),r=w(r,o,i,n,e[s+13],21,1309151649),n=w(n,r,o,i,e[s+4],6,-145523070),i=w(i,n,r,o,e[s+11],10,-1120210379),o=w(o,i,n,r,e[s+2],15,718787259),r=w(r,o,i,n,e[s+9],21,-343485551),n=b(n,u),r=b(r,a),o=b(o,f),i=b(i,l)}return Array(n,r,o,i)}function h(e,t,n,r,o,i){return b((t=b(b(t,e),b(r,i)))<<o|t>>>32-o,n)}function p(e,t,n,r,o,i,s){return h(t&n|~t&r,e,t,o,i,s)}function g(e,t,n,r,o,i,s){return h(t&r|n&~r,e,t,o,i,s)}function y(e,t,n,r,o,i,s){return h(t^n^r,e,t,o,i,s)}function w(e,t,n,r,o,i,s){return h(n^(t|~r),e,t,o,i,s)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return c.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/md5.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296\*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/rng.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,o,i=Array(80),s=1732584193,u=-271733879,a=-1732584194,f=271733878,l=-1009589776,c=0;c<e.length;c+=16){for(var d=s,g=u,y=a,w=f,b=l,m=0;m<80;m++){i[m]=m<16?e[c+m]:p(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);var v=h(h(p(s,5),(v=u,r=a,o=f,(n=m)<20?v&r|~v&o:!(n<40)&&n<60?v&r|v&o|r&o:v^r^o)),h(h(l,i[m]),(n=m)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));l=f,f=a,a=p(u,30),u=s,s=v}s=h(s,d),u=h(u,g),a=h(a,y),f=h(f,w),l=h(l,b)}return Array(s,u,a,f,l)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return c.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),o=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),i=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,u,a=0;a<e.length;a+=16){for(var f=o[0],l=o[1],d=o[2],h=o[3],y=o[4],w=o[5],b=o[6],m=o[7],v=0;v<64;v++)i[v]=v<16?e[v+a]:c(c(c((u=i[v-2],p(u,17)^p(u,19)^g(u,10)),i[v-7]),(u=i[v-15],p(u,7)^p(u,18)^g(u,3))),i[v-16]),n=c(c(c(c(m,p(u=y,6)^p(u,11)^p(u,25)),y&w^~y&b),r[v]),i[v]),s=c(p(s=f,2)^p(s,13)^p(s,22),f&l^f&d^l&d),m=b,b=w,w=y,y=c(h,n),h=d,d=l,l=f,f=c(n,s);o[0]=c(f,o[0]),o[1]=c(l,o[1]),o[2]=c(d,o[2]),o[3]=c(h,o[3]),o[4]=c(y,o[4]),o[5]=c(w,o[5]),o[6]=c(b,o[6]),o[7]=c(m,o[7])}return o}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha256.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){n.read=function(e,t,n,r,o){var i,s,u=8\*o-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?o-1:0,d=n?-1:1;for(o=e[t+c],c+=d,i=o&(1<<-l)-1,o>>=-l,l+=u;0<l;i=256\*i+e[t+c],c+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;0<l;s=256\*s+e[t+c],c+=d,l-=8);if(0===i)i=1-f;else{if(i===a)return s?NaN:1/0\*(o?-1:1);s+=Math.pow(2,r),i-=f}return(o?-1:1)\*s\*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var s,u,a=8\*i-o-1,f=(1<<a)-1,l=f>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1;for(i=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t\*(r=Math.pow(2,-s))<1&&(s--,r\*=2),2<=(t+=1<=s+l?c/r:c\*Math.pow(2,1-l))\*r&&(s++,r/=2),f<=s+l?(u=0,s=f):1<=s+l?(u=(t\*r-1)\*Math.pow(2,o),s+=l):(u=t\*Math.pow(2,l-1)\*Math.pow(2,o),s=0));8<=o;e[n+d]=255&u,d+=h,u/=256,o-=8);for(s=s<<o|u,a+=o;0<a;e[n+d]=255&s,d+=h,s/=256,a-=8);e[n+d-h]|=128\*i}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/ieee754/index.js","/node\_modules/gulp-browserify/node\_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){var l,c,d;function h(){}(e=t.exports={}).nextTick=(c="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,c?function(e){return window.setImmediate(e)}:d?(l=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<l.length&&l.shift()())}),!0),function(e){l.push(e),window.postMessage("process-tick","\*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/process/browser.js","/node\_modules/gulp-browserify/node\_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.\_\_esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(802),t=n.n(e);const r=e=>{var t;const n=e?.filter((e=>e?.[0]))?.[0];return null!==(t=n?.[1])&&void 0!==t?t:n?.[0]};class o{constructor(){this.events=new Map,this.eventsLimit=50,this.listeners=[],this.interval=null,this.consent=!1,this.endpoint=tiTelemetry?.endpoint,this.products=tiTelemetry?.products,this.autoSendIntervalTime=3e5}\_set=(e,t,n)=>{if(!this.hasProduct(t.slug))return;if(!n?.consent&&!this.getProductConsent(t.slug))return;if(!this.validate(t))return;const r=n?.directSave?t:this.trkMetadata(t);this.events.set(e,r),n?.refreshTimer&&this.refreshTimer(),n?.sendNow?this.uploadEvents():n?.ignoreLimit||this.sendIfLimitReached()};\_add=(e,n)=>{const r=t()(e);return this.\_set(r.toString(),e,n),r.toString()};with=e=>{const t={slug:e,...this.envInfo()};return{add:(e,n)=>this.\_add({...t,...e},n),set:(e,n,r)=>this.\_set(e,{...t,...n},r),base:this}};envInfo=()=>({site:window.location.hostname});uploadEvents=async()=>{if(0!==this.events.size)try{const e=Array.from(this.events.values());this.events.clear();const t=await this.sendBulkTracking(e.map((({slug:e,site:t,license:n,...r})=>({slug:e,site:t,license:n,data:r}))));t.ok||this.listeners.forEach((e=>e({success:!1,error:"Failed to send tracking events"})));const n=await t.json();this.listeners.forEach((e=>e({success:!0,response:n})))}catch(e){console.error(e)}};sendIfLimitReached=()=>{if(this.events.size>=this.eventsLimit)return this.uploadEvents()};subscribe=e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))});hasConsent=()=>this.consent;sendBulkTracking=e=>fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});trkMetadata=e=>({env:r([[window.location.href.includes("customize.php"),"customizer"],[window.location.href.includes("site-editor.php"),"site-editor"],[window.location.href.includes("widgets.php"),"widgets"],[window.location.href.includes("admin.php"),"admin"],["post-editor"]]),license:this.getProductTackHash(e.slug),...null!=e?e:{}});hasProduct=e=>this.products.some((t=>t?.slug?.includes(e)));getProductTackHash=e=>this.products.find((t=>t?.slug?.includes(e)))?.trackHash;getProductConsent=e=>this.products.find((t=>t?.slug?.includes(e)))?.consent;start=()=>{this.interval||(this.interval=window.setInterval((()=>{this.uploadEvents()}),this.autoSendIntervalTime))};stop=()=>{this.interval&&(window.clearInterval(this.interval),this.interval=null)};refreshTimer=()=>{this.stop(),this.start()};validate=e=>"object"==typeof e?0!==Object.keys(e).length&&Object.values(e).every(this.validate):void 0!==e;clone=()=>{const e=new o;return e.events=new Map(this.events),e.listeners=[...this.listeners],e.interval=this.interval,e.consent=this.consent,e.endpoint=this.endpoint,e}}window.tiTrk=new o,window?.wp?.customize?.bind("save",(()=>{window?.tiTrk?.uploadEvents()})),window.addEventListener("beforeunload",(async()=>{window?.tiTrk?.uploadEvents()}))})()})(); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3072679#L15 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233#L15 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 15 | 15 | } |
  | 16 | 16 | // Current SDK version and path. |
  | 17 |  | $themeisle\_sdk\_version = '3.3.2~~0~~'; |
  |  | 17 | $themeisle\_sdk\_version = '3.3.29'; |
  | 18 | 18 | $themeisle\_sdk\_path    = dirname( \_\_FILE\_\_ ); |
  | 19 | 19 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3072679#L92) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233#L92) |  |
  | 92 | 92 | } |
  | 93 | 93 | $location        = $location === null ? $current\_page : $location; |
  |  | 94 | $is\_upgrade\_url  = strpos( $url, '/upgrade' ) !== false; |
  | 94 | 95 | $content         = sanitize\_key( |
  | 95 | 96 | trim( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3072679#L123) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233#L124) |  |
  | 123 | 124 | ); |
  | 124 | 125 |  |
  |  | 126 | /\*\* |
  |  | 127 | \* Check if there is an affiliate URL for this upgrade link, if so use it. |
  |  | 128 | \*/ |
  |  | 129 | if ( $is\_upgrade\_url ) { |
  |  | 130 | $option\_content\_key         = str\_replace( '-', '\_', $filter\_key ); |
  |  | 131 | $theme\_upgrade\_option\_name  = 'themeisle\_af\_' . $option\_content\_key . '\_themes\_upgrade'; |
  |  | 132 | $plugin\_upgrade\_option\_name = 'themeisle\_af\_' . $option\_content\_key . '\_plugins\_upgrade'; |
  |  | 133 |  |
  |  | 134 | $theme\_option\_url = get\_option( $theme\_upgrade\_option\_name, false ); |
  |  | 135 | if ( ! empty( $theme\_option\_url ) ) { |
  |  | 136 | $utmify\_url = esc\_url\_raw( $theme\_option\_url ); |
  |  | 137 | } |
  |  | 138 | $plugin\_option\_url = get\_option( $plugin\_upgrade\_option\_name, false ); |
  |  | 139 | if ( ! empty( $plugin\_option\_url ) ) { |
  |  | 140 | $utmify\_url = esc\_url\_raw( $plugin\_option\_url ); |
  |  | 141 | } |
  |  | 142 | } |
  |  | 143 |  |
  |  | 144 |  |
  |  | 145 |  |
  | 125 | 146 | return apply\_filters( 'tsdk\_utmify\_url\_' . $filter\_key, $utmify\_url, $url ); |
  | 126 | 147 | } |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Common/Abstract\_module.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php")

  | [r2926556](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php?rev=2926556#L40 "Show revision 2926556 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php?rev=3139233#L40 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 40 | 40 | 'sparks-for-woocommerce'              => 'sparks-for-woocommerce/sparks-for-woocommerce.php', |
  | 41 | 41 | 'templates-patterns-collection'       => 'templates-patterns-collection/templates-patterns-collection.php', |
  |  | 42 | 'wpcf7-redirect'                      => 'wpcf7-redirect/wpcf7-redirect.php', |
  | 42 | 43 | ]; |
  | 43 | 44 |  |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L38 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L38 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 38 | 38 | \* Holds registered products. |
  | 39 | 39 | \* |
  | 40 |  | \* @var array The products which use the SDK. |
  |  | 40 | \* @var array<Product> The products which use the SDK. |
  | 41 | 41 | \*/ |
  | 42 | 42 | private static $products = []; |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L54) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L54) |  |
  | 54 | 54 | 'logger', |
  | 55 | 55 | 'translate', |
  |  | 56 | 'translations', |
  | 56 | 57 | 'review', |
  | 57 | 58 | 'recommendation', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L63) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L64) |  |
  | 63 | 64 | 'announcements', |
  | 64 | 65 | 'featured\_plugins', |
  |  | 66 | 'float\_widget', |
  | 65 | 67 | ]; |
  | 66 | 68 | /\*\* |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L113) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L115) |  |
  | 113 | 115 | ], |
  | 114 | 116 | 'promotions'       => [ |
  | 115 |  | 'recommended' => 'Recommended by %s', |
  | 116 |  | 'woo'         => [ |
  |  | 117 | 'recommended'     => 'Recommended by %s', |
  |  | 118 | 'installActivate' => 'Install & Activate', |
  |  | 119 | 'preview'         => 'Preview', |
  |  | 120 | 'installing'      => 'Installing', |
  |  | 121 | 'activating'      => 'Activating', |
  |  | 122 | 'connecting'      => 'Connecting to API', |
  |  | 123 | 'learnmore'       => 'Learn More', |
  |  | 124 | 'activate'        => 'Activate', |
  |  | 125 | 'all\_set'         => 'Awesome! You are all set!', |
  |  | 126 | 'woo'             => [ |
  | 117 | 127 | 'title'        => 'More extensions from Themeisle', |
  | 118 | 128 | 'title2'       => 'Recommended extensions', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L129) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L139) |  |
  | 129 | 139 | 'spark\_desc3'  => 'Enable an advanced review section, enlarging the basic review options with lots of capabilities.', |
  | 130 | 140 | ], |
  | 131 |  | 'optimole'    => [ |
  | 132 |  | 'all\_set'           => 'Awesome! You are all set!', |
  | 133 |  | 'gotodash'          => 'Go to Optimole dashboard', |
  | 134 |  | 'installing'        => 'Installing', |
  | 135 |  | 'activating'        => 'Activating', |
  | 136 |  | 'connecting'        => 'Connecting to API', |
  | 137 |  | 'start\_cta'         => 'Start using Optimole', |
  | 138 |  | 'dismisscta'        => 'Dismiss this notice.', |
  | 139 |  | 'gst'               => 'Get Started Free', |
  | 140 |  | 'heading'           => 'Get more with Optimole', |
  | 141 |  | 'learnmore'         => 'Learn more', |
  | 142 |  | 'message1'          => 'Increase this page speed and SEO ranking by optimizing images with Optimole.', |
  | 143 |  | 'message3'          => 'Save your server space by storing images to Optimole and deliver them optimized from 400 locations around the globe. Unlimited images, Unlimited traffic.', |
  | 144 |  | 'message4'          => 'This image looks to be too large and would affect your site speed, we recommend you to install Optimole to optimize your images.', |
  | 145 |  | 'message2'          => 'Leverage Optimole\'s full integration with Elementor to automatically lazyload, resize, compress to AVIF/WebP and deliver from 400 locations around the globe!', |
  | 146 |  | 'email\_placeholder' => 'Email address', |
  |  | 141 | 'optimole'        => [ |
  |  | 142 | 'installOptimole' => 'Install Optimole', |
  |  | 143 | 'gotodash'        => 'Go to Optimole dashboard', |
  |  | 144 | 'dismisscta'      => 'Dismiss this notice.', |
  |  | 145 | 'message1'        => 'Increase this page speed and SEO ranking by optimizing images with Optimole.', |
  |  | 146 | 'message3'        => 'Save your server space by storing images to Optimole and deliver them optimized from 400 locations around the globe. Unlimited images, Unlimited traffic.', |
  |  | 147 | 'message4'        => 'This image looks to be too large and would affect your site speed, we recommend you to install Optimole to optimize your images.', |
  |  | 148 | 'message2'        => 'Leverage Optimole\'s full integration with Elementor to automatically lazyload, resize, compress to AVIF/WebP and deliver from 400 locations around the globe!', |
  |  | 149 | ], |
  |  | 150 | 'redirectionCF7'  => [ |
  |  | 151 | 'gotodash'   => 'Go to Contact Forms', |
  |  | 152 | 'dismisscta' => 'Dismiss this notice.', |
  |  | 153 | 'gst'        => 'Get Started Free', |
  |  | 154 | 'message'    => 'Add URL redirects, spam protection, execute JavaScript after submissions, and more with the Redirection for CF7 free plugin.', |
  | 147 | 155 | ], |
  | 148 | 156 | ], |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L277) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L285) |  |
  | 277 | 285 | ], |
  | 278 | 286 | ], |
  |  | 287 | 'float\_widget'     => [ |
  |  | 288 | 'button' => 'Toggle Help Widget for %s', |
  |  | 289 | 'panel'  => [ |
  |  | 290 | 'greeting' => 'Thank you for using %s', |
  |  | 291 | 'title'    => 'How can we help you?', |
  |  | 292 | 'close'    => 'Close Toggle Help Widget', |
  |  | 293 | ], |
  |  | 294 | 'links'  => [ |
  |  | 295 | 'documentation'   => 'Documentation', |
  |  | 296 | 'support'         => 'Get Support', |
  |  | 297 | 'wizard'          => 'Run Setup Wizard', |
  |  | 298 | 'upgrade'         => 'Upgrade to Pro', |
  |  | 299 | 'feature\_request' => 'Suggest a Feature', |
  |  | 300 | 'rate'            => 'Rate Us', |
  |  | 301 | ], |
  |  | 302 | ], |
  | 279 | 303 | ]; |
  | 280 | 304 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L354) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L378) |  |
  | 354 | 378 | \* Get all products using the SDK. |
  | 355 | 379 | \* |
  | 356 |  | \* @return array Products available. |
  |  | 380 | \* @return array<Product> Products available. |
  | 357 | 381 | \*/ |
  | 358 | 382 | public static function get\_products() { |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3072679#L125 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3139233#L125 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 125 | 125 | $this->about\_data['location'], |
  | 126 | 126 | $this->about\_data['upgrade\_text'], |
  | 127 |  | ~~$this->about\_data['upgrade\_text']~~, |
  |  | 127 | '<span class="tsdk-upg-menu-item">' . $this->about\_data['upgrade\_text'] . '</span>', |
  | 128 | 128 | 'manage\_options', |
  | 129 | 129 | $this->about\_data['upgrade\_link'], |
  | 130 | 130 | '', |
  | 131 | 131 | 101 |
  |  | 132 | ); |
  |  | 133 | add\_action( |
  |  | 134 | 'admin\_footer', |
  |  | 135 | function () { |
  |  | 136 | ?> |
  |  | 137 | <style> |
  |  | 138 | .tsdk-upg-menu-item { |
  |  | 139 | color: #009528; |
  |  | 140 | } |
  |  | 141 |  |
  |  | 142 | .tsdk-upg-menu-item:hover { |
  |  | 143 | color: #008a20; |
  |  | 144 | } |
  |  | 145 | </style> |
  |  | 146 | <script type="text/javascript"> |
  |  | 147 | jQuery(document).ready(function ($) { |
  |  | 148 | $('.tsdk-upg-menu-item').parent().attr('target', '\_blank'); |
  |  | 149 | }); |
  |  | 150 | </script> |
  |  | 151 | <?php |
  |  | 152 | } |
  | 132 | 153 | ); |
  | 133 | 154 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3072679#L238) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3139233#L259) |  |
  | 238 | 259 | 'text'         => Loader::$labels['about\_us']['otter-page']['text'], |
  | 239 | 260 | 'buttons'      => [ |
  | 240 |  | 'install\_otter\_free' => Loader::$labels['about\_us']['otter-page']['install\_otter\_free'], |
  | 241 |  | 'install\_now'        => Loader::$labels['about\_us']['otter-page']['install\_now'], |
  | 242 |  | 'learn\_more'         => Loader::$labels['about\_us']['otter-page']['learn\_more'], |
  |  | 261 | 'install\_otter\_free' => Loader::$labels['about\_us']['otter-page']['buttons']['install\_otter\_free'], |
  |  | 262 | 'install\_now'        => Loader::$labels['about\_us']['otter-page']['buttons']['install\_now'], |
  |  | 263 | 'learn\_more'         => Loader::$labels['about\_us']['otter-page']['buttons']['learn\_more'], |
  | 243 | 264 | 'learn\_more\_link'    => tsdk\_utmify( 'https://themeisle.com/plugins/otter-blocks/', 'otter-page', 'about-us' ), |
  | 244 | 265 | ], |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php?rev=3072679#L294 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php?rev=3139233#L294 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 294 | 294 | .themeisle-sale { |
  | 295 | 295 | display: flex; |
  |  | 296 | align-items: center; |
  | 296 | 297 | } |
  | 297 | 298 | </style> |
  | 298 | 299 | <div class="themeisle-sale notice notice-info is-dismissible" data-announcement="black\_friday"> |
  | 299 |  | <img ~~src="<?php echo esc\_url\_raw( $this->get\_sdk\_uri() . 'assets/images/themeisle-logo.sv~~g' ); ?>"/> |
  |  | 300 | <img width="24" src="<?php echo esc\_url\_raw( $this->get\_sdk\_uri() . 'assets/images/themeisle-logo.png' ); ?>"/> |
  | 300 | 301 | <p> |
  | 301 | 302 | <strong><?php echo esc\_html( Loader::$labels['announcements']['sale\_live'] ); ?> ></strong> |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard\_widget.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3072679#L83 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3139233#L83 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 83 | 83 | [ |
  | 84 | 84 | 'https://themeisle.com/blog/feed', |
  | 85 |  | ~~'https://www.codeinwp.com/blog/feed',~~ |
  | 86 | 85 | 'https://wpshout.com/feed', |
  | 87 | 86 | ] |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Featured\_plugins.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php?rev=3072679#L45 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php?rev=3139233#L45 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 45 | 45 | } |
  | 46 | 46 |  |
  | 47 |  | $slug = $product->get\_slug(); |
  | 48 |  | // only load for products that contain "pro" in the slug. |
  | 49 |  | if ( strpos( $slug, 'pro' ) === false ) { |
  |  | 47 | if ( $product->is\_wordpress\_available() ) { |
  | 50 | 48 | return false; |
  | 51 | 49 | } |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3072679#L140 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3139233#L140 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 140 | 140 |  |
  | 141 | 141 | $activate\_string   = apply\_filters( $this->product->get\_key() . '\_lc\_activate\_string', Loader::$labels['licenser']['activate'] ); |
  | 142 |  | $deactivate\_string = apply\_filters( $this->product->get\_key() . '\_lc\_deactivate\_string', Loader::$labels['licenser']['deactivate~~activate~~'] ); |
  |  | 142 | $deactivate\_string = apply\_filters( $this->product->get\_key() . '\_lc\_deactivate\_string', Loader::$labels['licenser']['deactivate'] ); |
  | 143 | 143 | $valid\_string      = apply\_filters( $this->product->get\_key() . '\_lc\_valid\_string', Loader::$labels['licenser']['valid'] ); |
  | 144 | 144 | $invalid\_string    = apply\_filters( $this->product->get\_key() . '\_lc\_invalid\_string', Loader::$labels['licenser']['invalid'] ); |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L189 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L189 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 189 | 189 | /\*\* |
  | 190 | 190 | \* Load telemetry. |
  | 191 |  | \* |
  |  | 191 | \* |
  | 192 | 192 | \* @return void |
  | 193 | 193 | \*/ |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L199) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L199) |  |
  | 199 | 199 | $all\_products[ $this->product->get\_slug() ] = $this->product; // Add current product to the list of products to check for telemetry. |
  | 200 | 200 |  |
  |  | 201 | // Register telemetry params for eligible products. |
  | 201 | 202 | foreach ( $all\_products as $product\_slug => $product ) { |
  | 202 |  |  |
  | 203 |  | // Ignore ~~pro~~ products. |
  |  | 203 |  |
  |  | 204 | // Ignore PRO products. |
  | 204 | 205 | if ( false !== strstr( $product\_slug, 'pro' ) ) { |
  | 205 | 206 | continue; |
  | 206 | 207 | } |
  | 207 | 208 |  |
  | 208 |  | $~~default = 'no'~~; |
  | 209 |  |  |
  | 210 |  | if ( ! $product->is\_wordpress\_available() ) { |
  | 211 |  | ~~$default = 'yes';~~ |
  | 212 |  | ~~} else~~ { |
  | 213 |  | $~~pro\_slug = $product->get\_pro\_slug(~~); |
  | 214 |  |  |
  | 215 |  | if ( ~~! empty( $pro\_slug ) && isset( $all\_products[ $pro\_slug ] )~~ ) { |
  | 216 |  | ~~$default = 'yes'~~; |
  |  | 209 | $pro\_slug   = $product->get\_pro\_slug(); |
  |  | 210 | $logger\_key = $product->get\_key() . '\_logger\_flag'; |
  |  | 211 |  |
  |  | 212 | // If the product is not available in the WordPress store, or it's PRO version is installed, activate the logger if it was not initialized -- Pro users are opted in by default. |
  |  | 213 | if ( ! $product->is\_wordpress\_available() || ( ! empty( $pro\_slug ) && isset( $all\_products[ $pro\_slug ] ) ) ) { |
  |  | 214 | $logger\_flag = get\_option( $logger\_key ); |
  |  | 215 |  |
  |  | 216 | if ( false === $logger\_flag ) { |
  |  | 217 | update\_option( $logger\_key, 'yes' ); |
  | 217 | 218 | } |
  | 218 | 219 | } |
  | 219 | 220 |  |
  | 220 |  | if ( 'yes' === get\_option( $product->get\_key() . '\_logger\_flag', ~~$default~~ ) ) { |
  |  | 221 | if ( 'yes' === get\_option( $product->get\_key() . '\_logger\_flag', 'no' ) ) { |
  | 221 | 222 |  |
  | 222 | 223 | $main\_slug  = explode( '-', $product\_slug ); |
  | 223 | 224 | $main\_slug  = $main\_slug[0]; |
  | 224 |  | ~~$pro\_slug   = $product->get\_pro\_slug();~~ |
  | 225 | 225 | $track\_hash = Licenser::create\_license\_hash( str\_replace( '-', '\_', ! empty( $pro\_slug ) ? $pro\_slug : $product\_slug ) ); |
  | 226 | 226 |  |
  | 227 | 227 | // Check if product was already tracked. |
  | 228 | 228 | $active\_telemetry = false; |
  | 229 |  | foreach ( $products\_with\_telemetry as ~~&~~$product\_with\_telemetry ) { |
  |  | 229 | foreach ( $products\_with\_telemetry as $product\_with\_telemetry ) { |
  | 230 | 230 | if ( $product\_with\_telemetry['slug'] === $main\_slug ) { |
  | 231 | 231 | $active\_telemetry = true; |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L237) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L237) |  |
  | 237 | 237 | continue; |
  | 238 | 238 | } |
  | 239 |  |  |
  |  | 239 |  |
  | 240 | 240 | $products\_with\_telemetry[] = array( |
  | 241 | 241 | 'slug'      => $main\_slug, |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L251) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L251) |  |
  | 251 | 251 | return; |
  | 252 | 252 | } |
  | 253 |  |  |
  | 254 | 253 |  |
  | 255 | 254 | $tracking\_handler = apply\_filters( 'themeisle\_sdk\_dependency\_script\_handler', 'tracking' ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L269) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L268) |  |
  | 269 | 268 | error\_log( $e->getMessage() ); // phpcs:ignore |
  | 270 | 269 | } |
  | 271 |  | ~~} catch ( \Error $e ) {~~ |
  | 272 |  | ~~if ( defined( 'WP\_DEBUG' ) && WP\_DEBUG && defined( 'WP\_DEBUG\_LOG' ) && WP\_DEBUG\_LOG ) {~~ |
  | 273 |  | ~~error\_log( $e->getMessage() ); // phpcs:ignore~~ |
  | 274 |  | ~~}~~ |
  | 275 | 270 | } finally { |
  | 276 | 271 | return; |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L72 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L72 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 72 | 72 |  |
  | 73 | 73 | /\*\* |
  | 74 |  | \* Option key for Neve ~~FSE promos~~. |
  |  | 74 | \* Option key for Neve promo. |
  | 75 | 75 | \* |
  | 76 | 76 | \* @var string |
  | 77 | 77 | \*/ |
  | 78 |  | private $option\_neve\_fse = 'themeisle\_sdk\_promotions\_neve\_fse\_installed'; |
  |  | 78 | private $option\_neve = 'themeisle\_sdk\_promotions\_neve\_installed'; |
  |  | 79 |  |
  |  | 80 | /\*\* |
  |  | 81 | \* Option key for Redirection for CF7. |
  |  | 82 | \* |
  |  | 83 | \* @var string |
  |  | 84 | \*/ |
  |  | 85 | private $option\_redirection\_cf7 = 'themeisle\_sdk\_promotions\_redirection\_cf7\_installed'; |
  | 79 | 86 |  |
  | 80 | 87 | /\*\* |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L116) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L123) |  |
  | 116 | 123 | $this->debug          = apply\_filters( 'themeisle\_sdk\_promo\_debug', $this->debug ); |
  | 117 | 124 | $promotions\_to\_load   = apply\_filters( $product->get\_key() . '\_load\_promotions', array() ); |
  |  | 125 | $promotions\_to\_load[] = 'otter'; |
  | 118 | 126 | $promotions\_to\_load[] = 'optimole'; |
  | 119 | 127 | $promotions\_to\_load[] = 'rop'; |
  | 120 | 128 | $promotions\_to\_load[] = 'woo\_plugins'; |
  | 121 |  | $promotions\_to\_load[] = 'neve-fse'; |
  |  | 129 | $promotions\_to\_load[] = 'neve'; |
  |  | 130 | $promotions\_to\_load[] = 'redirection-cf7'; |
  |  | 131 |  |
  |  | 132 | $promotions\_to\_load = array\_unique( $promotions\_to\_load ); |
  | 122 | 133 |  |
  | 123 | 134 | $this->promotions = $this->get\_promotions(); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L147) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L158) |  |
  | 147 | 158 | } |
  | 148 | 159 |  |
  |  | 160 | $last\_dismiss\_time = $this->get\_last\_dismiss\_time(); |
  |  | 161 |  |
  |  | 162 | if ( ! $this->debug && is\_int( $last\_dismiss\_time ) && ( time() - $last\_dismiss\_time ) < WEEK\_IN\_SECONDS ) { |
  |  | 163 | return; |
  |  | 164 | } |
  |  | 165 |  |
  | 149 | 166 | $this->product = $product; |
  | 150 |  |  |
  | 151 |  | ~~$last\_dismiss = $this->get\_last\_dismiss\_time();~~ |
  | 152 |  |  |
  | 153 |  | ~~if ( ! $this->debug && $last\_dismiss && ( time() - $last\_dismiss ) < 7 \* DAY\_IN\_SECONDS ) {~~ |
  | 154 |  | ~~return;~~ |
  | 155 |  | ~~}~~ |
  | 156 | 167 |  |
  | 157 | 168 | add\_filter( 'attachment\_fields\_to\_edit', array( $this, 'add\_attachment\_field' ), 10, 2 ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L161) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L172) |  |
  | 161 | 172 | add\_filter( 'themeisle\_sdk\_ran\_promos', '\_\_return\_true' ); |
  | 162 | 173 |  |
  | 163 |  | if ( get\_option( $this->option\_neve~~\_fse~~, false ) !== true ) { |
  |  | 174 | if ( get\_option( $this->option\_neve, false ) !== true ) { |
  | 164 | 175 | add\_action( 'wp\_ajax\_themeisle\_sdk\_dismiss\_notice', 'ThemeisleSDK\Modules\Notification::regular\_dismiss' ); |
  | 165 | 176 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L210) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L221) |  |
  | 210 | 221 | } |
  | 211 | 222 |  |
  | 212 |  | if ( isset( $\_GET['neve\_~~fse\_~~reference\_key'] ) ) { |
  | 213 |  | update\_option( 'neve\_~~fse\_reference\_key', sanitize\_key( $\_GET['neve\_fs~~e\_reference\_key'] ) ); |
  |  | 223 | if ( isset( $\_GET['neve\_reference\_key'] ) ) { |
  |  | 224 | update\_option( 'neve\_reference\_key', sanitize\_key( $\_GET['neve\_reference\_key'] ) ); |
  | 214 | 225 | } |
  | 215 | 226 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L264) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L275) |  |
  | 264 | 275 | register\_setting( |
  | 265 | 276 | 'themeisle\_sdk\_settings', |
  | 266 |  | $this->option\_neve~~\_fse~~, |
  |  | 277 | $this->option\_neve, |
  | 267 | 278 | array( |
  | 268 | 279 | 'type'              => 'boolean', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L272) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L283) |  |
  | 272 | 283 | ) |
  | 273 | 284 | ); |
  |  | 285 | register\_setting( |
  |  | 286 | 'themeisle\_sdk\_settings', |
  |  | 287 | $this->option\_redirection\_cf7, |
  |  | 288 | array( |
  |  | 289 | 'type'              => 'boolean', |
  |  | 290 | 'sanitize\_callback' => 'rest\_sanitize\_boolean', |
  |  | 291 | 'show\_in\_rest'      => true, |
  |  | 292 | 'default'           => false, |
  |  | 293 | ) |
  |  | 294 | ); |
  | 274 | 295 | } |
  | 275 | 296 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L314) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L335) |  |
  | 314 | 335 | \*/ |
  | 315 | 336 | private function get\_promotions() { |
  | 316 |  | $has\_otter               = defined( 'OTTER\_BLOCKS\_VERSION' ) || $this->is\_plugin\_installed( 'otter-blocks' ); |
  | 317 |  | $had\_otter\_from\_promo    = get\_option( $this->option\_otter, false ); |
  | 318 |  | $has\_optimole            = defined( 'OPTIMOLE\_VERSION' ) || $this->is\_plugin\_installed( 'optimole-wp' ); |
  | 319 |  | $had\_optimole\_from\_promo = get\_option( $this->option\_optimole, false ); |
  | 320 |  | $has\_rop                 = defined( 'ROP\_LITE\_VERSION' ) || $this->is\_plugin\_installed( 'tweet-old-post' ); |
  | 321 |  | $had\_rop\_from\_promo      = get\_option( $this->option\_rop, false ); |
  | 322 |  | $has\_woocommerce         = class\_exists( 'WooCommerce' ); |
  | 323 |  | $has\_sparks              = defined( 'SPARKS\_WC\_VERSION' ) || $this->is\_plugin\_installed( 'sparks-for-woocommerce' ); |
  | 324 |  | $has\_ppom                = defined( 'PPOM\_VERSION' ) || $this->is\_plugin\_installed( 'woocommerce-product-addon' ); |
  | 325 |  | $is\_min\_req\_v            = version\_compare( get\_bloginfo( 'version' ), '5.8', '>=' ); |
  | 326 |  | $is\_min\_fse\_v            = version\_compare( get\_bloginfo( 'version' ), '6.2', '>=' ); |
  | 327 |  | $current\_theme           = wp\_get\_theme(); |
  | 328 |  | $has\_neve\_fse            = $current\_theme->template === 'neve-fse' || $current\_theme->parent() === 'neve-fse'; |
  | 329 |  | $has\_enough\_attachments  = $this->has\_min\_media\_attachments(); |
  | 330 |  | $has\_enough\_old\_posts    = $this->has\_old\_posts(); |
  |  | 337 | $has\_otter                 = defined( 'OTTER\_BLOCKS\_VERSION' ) || $this->is\_plugin\_installed( 'otter-blocks' ); |
  |  | 338 | $had\_otter\_from\_promo      = get\_option( $this->option\_otter, false ); |
  |  | 339 | $has\_optimole              = defined( 'OPTIMOLE\_VERSION' ) || $this->is\_plugin\_installed( 'optimole-wp' ); |
  |  | 340 | $had\_optimole\_from\_promo   = get\_option( $this->option\_optimole, false ); |
  |  | 341 | $has\_rop                   = defined( 'ROP\_LITE\_VERSION' ) || $this->is\_plugin\_installed( 'tweet-old-post' ); |
  |  | 342 | $had\_rop\_from\_promo        = get\_option( $this->option\_rop, false ); |
  |  | 343 | $has\_woocommerce           = class\_exists( 'WooCommerce' ); |
  |  | 344 | $has\_sparks                = defined( 'SPARKS\_WC\_VERSION' ) || $this->is\_plugin\_installed( 'sparks-for-woocommerce' ); |
  |  | 345 | $has\_ppom                  = defined( 'PPOM\_VERSION' ) || $this->is\_plugin\_installed( 'woocommerce-product-addon' ); |
  |  | 346 | $has\_redirection\_cf7       = defined( 'WPCF7\_PRO\_REDIRECT\_PLUGIN\_VERSION' ) || $this->is\_plugin\_installed( 'wpcf7-redirect' ); |
  |  | 347 | $had\_redirection\_cf7\_promo = get\_option( $this->option\_redirection\_cf7, false ); |
  |  | 348 | $is\_min\_req\_v              = version\_compare( get\_bloginfo( 'version' ), '5.8', '>=' ); |
  |  | 349 | $current\_theme             = wp\_get\_theme(); |
  |  | 350 | $has\_neve                  = $current\_theme->template === 'neve' || $current\_theme->parent() === 'neve'; |
  |  | 351 | $has\_neve\_from\_promo       = get\_option( $this->option\_neve, false ); |
  |  | 352 | $has\_enough\_attachments    = $this->has\_min\_media\_attachments(); |
  |  | 353 | $has\_enough\_old\_posts      = $this->has\_old\_posts(); |
  | 331 | 354 |  |
  | 332 | 355 | $all = [ |
  | 333 |  | 'optimole'    => [ |
  |  | 356 | 'optimole'        => [ |
  | 334 | 357 | 'om-editor'      => [ |
  | 335 |  | 'env'    => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  | 336 |  | 'screen' => 'editor', |
  |  | 358 | 'env'     => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  |  | 359 | 'screen'  => 'editor', |
  |  | 360 | 'delayed' => true, |
  | 337 | 361 | ], |
  | 338 | 362 | 'om-image-block' => [ |
  | 339 |  | 'env'    => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  | 340 |  | 'screen' => 'editor', |
  |  | 363 | 'env'     => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  |  | 364 | 'screen'  => 'editor', |
  |  | 365 | 'delayed' => true, |
  | 341 | 366 | ], |
  | 342 | 367 | 'om-attachment'  => [ |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L349) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L374) |  |
  | 349 | 374 | ], |
  | 350 | 375 | 'om-elementor'   => [ |
  | 351 |  | 'env'    => ! $has\_optimole && ! $had\_optimole\_from\_promo && defined( 'ELEMENTOR\_VERSION' ), |
  | 352 |  | 'screen' => 'elementor', |
  |  | 376 | 'env'     => ! $has\_optimole && ! $had\_optimole\_from\_promo && defined( 'ELEMENTOR\_VERSION' ), |
  |  | 377 | 'screen'  => 'elementor', |
  |  | 378 | 'delayed' => true, |
  | 353 | 379 | ], |
  | 354 | 380 | ], |
  | 355 |  | 'otter'       => [ |
  |  | 381 | 'otter'           => [ |
  | 356 | 382 | 'blocks-css'        => [ |
  | 357 |  | 'env'    => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  | 358 |  | 'screen' => 'editor', |
  |  | 383 | 'env'     => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  |  | 384 | 'screen'  => 'editor', |
  |  | 385 | 'delayed' => true, |
  | 359 | 386 | ], |
  | 360 | 387 | 'blocks-animation'  => [ |
  | 361 |  | 'env'    => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  | 362 |  | 'screen' => 'editor', |
  |  | 388 | 'env'     => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  |  | 389 | 'screen'  => 'editor', |
  |  | 390 | 'delayed' => true, |
  | 363 | 391 | ], |
  | 364 | 392 | 'blocks-conditions' => [ |
  | 365 |  | 'env'    => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  | 366 |  | 'screen' => 'editor', |
  |  | 393 | 'env'     => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  |  | 394 | 'screen'  => 'editor', |
  |  | 395 | 'delayed' => true, |
  | 367 | 396 | ], |
  | 368 | 397 | ], |
  | 369 |  | 'rop'         => [ |
  |  | 398 | 'rop'             => [ |
  | 370 | 399 | 'rop-posts' => [ |
  | 371 |  | 'env'    => ! $has\_rop && ! $had\_rop\_from\_promo && $has\_enough\_old\_posts, |
  | 372 |  | 'screen' => 'edit-post', |
  |  | 400 | 'env'     => ! $has\_rop && ! $had\_rop\_from\_promo && $has\_enough\_old\_posts, |
  |  | 401 | 'screen'  => 'edit-post', |
  |  | 402 | 'delayed' => true, |
  | 373 | 403 | ], |
  | 374 | 404 | ], |
  | 375 |  | 'woo\_plugins' => [ |
  |  | 405 | 'woo\_plugins'     => [ |
  | 376 | 406 | 'ppom'                  => [ |
  | 377 | 407 | 'env'    => ! $has\_ppom && $has\_woocommerce, |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L391) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L421) |  |
  | 391 | 421 | ], |
  | 392 | 422 | ], |
  | 393 |  | 'neve~~-fse'~~    => [ |
  | 394 |  | 'neve-~~fse-~~themes-popular' => [ |
  | 395 |  | 'env'    => ! $has\_neve~~\_fse && $is\_min\_fse\_v~~, |
  |  | 423 | 'neve'            => [ |
  |  | 424 | 'neve-themes-popular' => [ |
  |  | 425 | 'env'    => ! $has\_neve && ! $has\_neve\_from\_promo, |
  | 396 | 426 | 'screen' => 'themes-install-popular', |
  |  | 427 | ], |
  |  | 428 | ], |
  |  | 429 | 'redirection-cf7' => [ |
  |  | 430 | 'wpcf7' => [ |
  |  | 431 | 'env'     => ! $has\_redirection\_cf7 && ! $had\_redirection\_cf7\_promo, |
  |  | 432 | 'screen'  => 'wpcf7', |
  |  | 433 | 'delayed' => true, |
  | 397 | 434 | ], |
  | 398 | 435 | ], |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L443) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L480) |  |
  | 443 | 480 | \* Get the last dismiss time of a promotion. |
  | 444 | 481 | \* |
  | 445 |  | \* @return int ~~The timestamp of last dismiss, or install time - 4 days~~. |
  |  | 482 | \* @return int | false The timestamp of last dismiss or false. |
  | 446 | 483 | \*/ |
  | 447 | 484 | private function get\_last\_dismiss\_time() { |
  | 448 | 485 | $dismissed = $this->get\_upsells\_dismiss\_time(); |
  | 449 | 486 |  |
  | 450 |  | if ( empty( $dismissed ) ) { |
  | 451 |  | // we return the product install time - 4 days because we want to show the upsell after 3 days, |
  | 452 |  | // and we move the product install time 4 days in the past. |
  | 453 |  | return $this->product->get\_install\_time() - 4 \* DAY\_IN\_SECONDS; |
  | 454 |  | } |
  | 455 |  |  |
  | 456 |  | return max( array\_values( $dismissed ) ); |
  |  | 487 | return empty( $dismissed ) ? false : max( array\_values( $dismissed ) ); |
  | 457 | 488 | } |
  | 458 | 489 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L469) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L500) |  |
  | 469 | 500 | $is\_posts         = isset( $current\_screen->id ) && $current\_screen->id === 'edit-post'; |
  | 470 | 501 | $is\_editor        = method\_exists( $current\_screen, 'is\_block\_editor' ) && $current\_screen->is\_block\_editor(); |
  | 471 |  | $is\_theme\_install = isset( $current\_screen->id ) && ( $current\_screen->id === 'theme-install' ~~|| $current\_screen->id === 'themes'~~ ); |
  |  | 502 | $is\_theme\_install = isset( $current\_screen->id ) && ( $current\_screen->id === 'theme-install' ); |
  | 472 | 503 | $is\_product       = isset( $current\_screen->id ) && $current\_screen->id === 'product'; |
  |  | 504 | $is\_cf7\_install   = isset( $current\_screen->id ) && function\_exists( 'str\_contains' ) ? str\_contains( $current\_screen->id, 'page\_wpcf7' ) : false; |
  | 473 | 505 |  |
  | 474 | 506 | $return = []; |
  |  | 507 |  |
  |  | 508 | $product\_install\_time = (int) $this->product->get\_install\_time(); |
  |  | 509 | $is\_older             = time() > ( $product\_install\_time + ( 3 \* DAY\_IN\_SECONDS ) ); |
  |  | 510 | $is\_newer             = time() < ( $product\_install\_time + ( 5 \* MINUTE\_IN\_SECONDS ) ); |
  | 475 | 511 |  |
  | 476 | 512 | foreach ( $this->promotions as $slug => $promos ) { |
  | 477 | 513 | foreach ( $promos as $key => $data ) { |
  |  | 514 |  |
  |  | 515 | $data = wp\_parse\_args( $data, [ 'delayed' => false ] ); |
  |  | 516 |  |
  |  | 517 | if ( |
  |  | 518 | ! $this->debug && |
  |  | 519 | ( |
  |  | 520 | ( $data['delayed'] === true && ! $is\_older ) || // Skip promotions that are delayed for 3 days. |
  |  | 521 | $is\_newer // Skip promotions for the first 5 minutes after install. |
  |  | 522 | ) |
  |  | 523 | ) { |
  |  | 524 | unset( $this->promotions[ $slug ][ $key ] ); |
  |  | 525 |  |
  |  | 526 | continue; |
  |  | 527 | } |
  |  | 528 |  |
  | 478 | 529 | switch ( $data['screen'] ) { |
  | 479 | 530 | case 'media-editor': |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L512) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L563) |  |
  | 512 | 563 | } |
  | 513 | 564 | break; |
  |  | 565 | case 'wpcf7': |
  |  | 566 | if ( ! $is\_cf7\_install ) { |
  |  | 567 | unset( $this->promotions[ $slug ][ $key ] ); |
  |  | 568 | } |
  |  | 569 | break; |
  | 514 | 570 | } |
  | 515 | 571 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L546) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L602) |  |
  | 546 | 602 | add\_action( 'admin\_notices', [ $this, 'render\_rop\_dash\_notice' ] ); |
  | 547 | 603 | } |
  | 548 |  | if ( $this->get\_upsells\_dismiss\_time( 'neve-fse-themes-popular' ) === false ) { |
  | 549 |  | add\_action( 'admin\_notices', [ $this, 'render\_neve\_fse\_themes\_notice' ] ); |
  |  | 604 | if ( $this->get\_upsells\_dismiss\_time( 'neve-themes-popular' ) === false ) { |
  |  | 605 | add\_action( 'admin\_notices', [ $this, 'render\_neve\_themes\_notice' ] ); |
  |  | 606 | } |
  |  | 607 | if ( $this->get\_upsells\_dismiss\_time( 'redirection-cf7' ) === false ) { |
  |  | 608 | add\_action( 'admin\_notices', [ $this, 'render\_redirection\_cf7\_notice' ] ); |
  | 550 | 609 | } |
  | 551 | 610 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L580) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L639) |  |
  | 580 | 639 | $this->load\_woo\_promos(); |
  | 581 | 640 | break; |
  | 582 |  | case 'neve-~~fse-~~themes-popular': |
  | 583 |  | // Remove any other notifications if Neve ~~FSE~~ promotion is showing |
  |  | 641 | case 'neve-themes-popular': |
  |  | 642 | // Remove any other notifications if Neve promotion is showing |
  | 584 | 643 | remove\_action( 'admin\_notices', array( 'ThemeisleSDK\Modules\Notification', 'show\_notification' ) ); |
  | 585 | 644 | remove\_action( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L594) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L653) |  |
  | 594 | 653 | // Add required actions to display this notification |
  | 595 | 654 | add\_action( 'admin\_enqueue\_scripts', [ $this, 'enqueue' ] ); |
  | 596 |  | add\_action( 'admin\_notices', [ $this, 'render\_neve\_fse\_themes\_notice' ] ); |
  |  | 655 | add\_action( 'admin\_notices', [ $this, 'render\_neve\_themes\_notice' ] ); |
  |  | 656 | break; |
  |  | 657 | case 'wpcf7': |
  |  | 658 | add\_action( 'admin\_enqueue\_scripts', [ $this, 'enqueue' ] ); |
  |  | 659 | add\_action( 'admin\_notices', [ $this, 'render\_redirection\_cf7\_notice' ] ); |
  | 597 | 660 | break; |
  | 598 | 661 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L624) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L687) |  |
  | 624 | 687 | $deps              = array\_merge( $asset\_file['dependencies'], [ 'updates' ] ); |
  | 625 | 688 |  |
  |  | 689 | $themes      = wp\_get\_themes(); |
  |  | 690 | $neve\_action = isset( $themes['neve'] ) ? 'activate' : 'install'; |
  |  | 691 |  |
  | 626 | 692 | wp\_register\_script( $handle, $themeisle\_sdk\_src . 'assets/js/build/promos/index.js', $deps, $asset\_file['version'], true ); |
  | 627 | 693 | wp\_localize\_script( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L630) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L696) |  |
  | 630 | 696 | [ |
  | 631 | 697 | 'debug'                 => $this->debug, |
  | 632 |  | 'labels'                => [ |
  | 633 |  | 'optimole' => Loader::$labels['promotions']['optimole'], |
  | 634 |  | ], |
  |  | 698 | 'labels'                => Loader::$labels['promotions'], |
  | 635 | 699 | 'email'                 => $user->user\_email, |
  | 636 | 700 | 'showPromotion'         => $this->loaded\_promo, |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L646) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L710) |  |
  | 646 | 710 | 'optimoleDash'          => esc\_url( add\_query\_arg( [ 'page' => 'optimole' ], admin\_url( 'upload.php' ) ) ), |
  | 647 | 711 | 'ropDash'               => esc\_url( add\_query\_arg( [ 'page' => 'TweetOldPost' ], admin\_url( 'admin.php' ) ) ), |
  | 648 |  | ~~'neveFSEMoreUrl'        => tsdk\_utmify( 'https://themeisle.com/themes/neve-fse/', 'neve-fse-themes-popular', 'theme-install' ),~~ |
  | 649 | 712 | // translators: %s is the product name. |
  | 650 | 713 | 'title'                 => esc\_html( sprintf( Loader::$labels['promotions']['recommended'], $this->product->get\_name() ) ), |
  |  | 714 | 'redirectionCF7MoreUrl' => tsdk\_utmify( 'https://docs.themeisle.com/collection/2014-redirection-for-contact-form-7', 'redirection-for-contact-form-7', 'plugin-install' ), |
  |  | 715 | 'rfCF7ActivationUrl'    => $this->get\_plugin\_activation\_link( 'wpcf7-redirect' ), |
  |  | 716 | 'cf7Dash'               => esc\_url( add\_query\_arg( [ 'page' => 'wpcf7-new' ], admin\_url( 'admin.php' ) ) ), |
  |  | 717 | 'nevePreviewURL'        => esc\_url( add\_query\_arg( [ 'theme' => 'neve' ], admin\_url( 'theme-install.php' ) ) ), |
  |  | 718 | 'neveAction'            => $neve\_action, |
  |  | 719 | 'activateNeveURL'       => esc\_url( |
  |  | 720 | add\_query\_arg( |
  |  | 721 | [ |
  |  | 722 | 'action'     => 'activate', |
  |  | 723 | 'stylesheet' => 'neve', |
  |  | 724 | '\_wpnonce'   => wp\_create\_nonce( 'switch-theme\_neve' ), |
  |  | 725 | ], |
  |  | 726 | admin\_url( 'themes.php' ) |
  |  | 727 | ) |
  |  | 728 | ), |
  | 651 | 729 | ] |
  | 652 | 730 | ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L669) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L747) |  |
  | 669 | 747 |  |
  | 670 | 748 | /\*\* |
  | 671 |  | \* Render Neve FSE Themes notice. |
  | 672 |  | \*/ |
  | 673 |  | public function render\_neve\_fse\_themes\_notice() { |
  | 674 |  | echo '<div id="ti-neve-fse-notice" class="notice notice-info ti-sdk-neve-fse-notice"></div>'; |
  |  | 749 | \* Render Neve Themes notice. |
  |  | 750 | \*/ |
  |  | 751 | public function render\_neve\_themes\_notice() { |
  |  | 752 | echo '<div id="ti-neve-notice" class="notice notice-info ti-sdk-om-notice"></div>'; |
  |  | 753 | } |
  |  | 754 |  |
  |  | 755 | /\*\* |
  |  | 756 | \* Render Redirection for CF7 notice. |
  |  | 757 | \*/ |
  |  | 758 | public function render\_redirection\_cf7\_notice() { |
  |  | 759 | echo '<div id="ti-redirection-cf7-notice" class="notice notice-info ti-sdk-om-notice"></div>'; |
  | 675 | 760 | } |
  | 676 | 761 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L694) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L779) |  |
  | 694 | 779 | $meta = wp\_get\_attachment\_metadata( $post->ID ); |
  | 695 | 780 |  |
  | 696 |  | if ( isset( $meta['filesize'] ) && $meta['filesize'] < ~~2~~00000 ) { |
  |  | 781 | if ( isset( $meta['filesize'] ) && $meta['filesize'] < 100000 ) { |
  | 697 | 782 | return $fields; |
  | 698 | 783 | } |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3072679#L55 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3139233#L55 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 55 | 55 |  |
  | 56 | 56 | $developers = [ |
  | 57 |  | ~~'Bogdan',~~ |
  | 58 | 57 | 'Marius', |
  | 59 | 58 | 'Hardeep', |
  | 60 |  | ~~'Rodica',~~ |
  | 61 |  | ~~'Stefan',~~ |
  | 62 |  | ~~'Uriahs',~~ |
  | 63 |  | ~~'Madalin',~~ |
  | 64 |  | ~~'Cristi',~~ |
  | 65 |  | ~~'Silviu',~~ |
  | 66 | 59 | 'Andrei', |
  |  | 60 | 'Robert', |
  | 67 | 61 | ]; |
  | 68 | 62 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3072679#L77) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3139233#L71) |  |
  | 77 | 71 | [ |
  | 78 | 72 | $this->product->get\_friendly\_name(), |
  | 79 |  | $developers[ strlen( get\_site\_url() ) % ~~10~~ ], |
  |  | 73 | $developers[ strlen( get\_site\_url() ) % count( $developers ) ], |
  | 80 | 74 | ], |
  | 81 | 75 | $message |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php?rev=3072679#L122 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php?rev=3139233#L122 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 122 | 122 | return []; |
  | 123 | 123 | } |
  | 124 |  | $response = function\_exists( '~~wp\_remote\_get~~\_wp\_remote\_get' ) |
  | 125 |  | ? ~~wp\_remote\_get~~\_wp\_remote\_get( $url ) |
  |  | 124 | $response = function\_exists( 'vip\_safe\_wp\_remote\_get' ) |
  |  | 125 | ? vip\_safe\_wp\_remote\_get( $url ) |
  | 126 | 126 | : wp\_remote\_get( $url ); //phpcs:ignore WordPressVIPMinimum.Functions.RestrictedFunctions.wp\_remote\_get\_wp\_remote\_get |
  | 127 | 127 | if ( is\_wp\_error( $response ) ) { |
* ## [themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3072679#L32 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php?rev=3139233#L32 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | $themeisle\_library\_path . '/src/Modules/Logger.php', |
  | 33 | 33 | $themeisle\_library\_path . '/src/Modules/Translate.php', |
  |  | 34 | $themeisle\_library\_path . '/src/Modules/Translations.php', |
  | 34 | 35 | $themeisle\_library\_path . '/src/Modules/Review.php', |
  | 35 | 36 | $themeisle\_library\_path . '/src/Modules/Recommendation.php', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3072679#L40) | […](/browser/themeisle-companion/tags/2.10.37/vendor/codeinwp/themeisle-sdk/start.php?rev=3139233#L41) |  |
  | 40 | 41 | $themeisle\_library\_path . '/src/Modules/Announcements.php', |
  | 41 | 42 | $themeisle\_library\_path . '/src/Modules/Featured\_plugins.php', |
  |  | 43 | $themeisle\_library\_path . '/src/Modules/Float\_widget.php', |
  | 42 | 44 | ]; |
  | 43 | 45 |  |
* ## [themeisle-companion/tags/2.10.37/vendor/composer/autoload\_classmap.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/composer/autoload_classmap.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/composer/autoload_classmap.php")

  | [r2800038](/browser/themeisle-companion/trunk/vendor/composer/autoload_classmap.php?rev=2800038#L8 "Show revision 2800038 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_classmap.php?rev=3139233#L8 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | return array( |
  | 9 | 9 | 'Composer\\InstalledVersions' => $vendorDir . '/composer/InstalledVersions.php', |
  |  | 10 | 'enshrined\\svgSanitize\\ElementReference\\Resolver' => $vendorDir . '/enshrined/svg-sanitize/src/ElementReference/Resolver.php', |
  |  | 11 | 'enshrined\\svgSanitize\\ElementReference\\Subject' => $vendorDir . '/enshrined/svg-sanitize/src/ElementReference/Subject.php', |
  |  | 12 | 'enshrined\\svgSanitize\\ElementReference\\Usage' => $vendorDir . '/enshrined/svg-sanitize/src/ElementReference/Usage.php', |
  |  | 13 | 'enshrined\\svgSanitize\\Exceptions\\NestingException' => $vendorDir . '/enshrined/svg-sanitize/src/Exceptions/NestingException.php', |
  |  | 14 | 'enshrined\\svgSanitize\\Helper' => $vendorDir . '/enshrined/svg-sanitize/src/Helper.php', |
  |  | 15 | 'enshrined\\svgSanitize\\Sanitizer' => $vendorDir . '/enshrined/svg-sanitize/src/Sanitizer.php', |
  |  | 16 | 'enshrined\\svgSanitize\\data\\AllowedAttributes' => $vendorDir . '/enshrined/svg-sanitize/src/data/AllowedAttributes.php', |
  |  | 17 | 'enshrined\\svgSanitize\\data\\AllowedTags' => $vendorDir . '/enshrined/svg-sanitize/src/data/AllowedTags.php', |
  |  | 18 | 'enshrined\\svgSanitize\\data\\AttributeInterface' => $vendorDir . '/enshrined/svg-sanitize/src/data/AttributeInterface.php', |
  |  | 19 | 'enshrined\\svgSanitize\\data\\TagInterface' => $vendorDir . '/enshrined/svg-sanitize/src/data/TagInterface.php', |
  |  | 20 | 'enshrined\\svgSanitize\\data\\XPath' => $vendorDir . '/enshrined/svg-sanitize/src/data/XPath.php', |
  | 10 | 21 | ); |
* ## [themeisle-companion/tags/2.10.37/vendor/composer/autoload\_psr4.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/composer/autoload_psr4.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/composer/autoload_psr4.php")

  | [r2800038](/browser/themeisle-companion/trunk/vendor/composer/autoload_psr4.php?rev=2800038#L7 "Show revision 2800038 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_psr4.php?rev=3139233#L7 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 |  |
  | 8 | 8 | return array( |
  |  | 9 | 'enshrined\\svgSanitize\\' => array($vendorDir . '/enshrined/svg-sanitize/src'), |
  | 9 | 10 | ); |
* ## [themeisle-companion/tags/2.10.37/vendor/composer/autoload\_real.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/composer/autoload_real.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/composer/autoload_real.php")

  | [r3038451](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3038451#L3 "Show revision 3038451 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_real.php?rev=3139233#L3 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_real.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | class ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~ |
  |  | 5 | class ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae |
  | 6 | 6 | { |
  | 7 | 7 | private static $loader; |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3038451#L23) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_real.php?rev=3139233#L23) |  |
  | 23 | 23 | } |
  | 24 | 24 |  |
  | 25 |  | spl\_autoload\_register(array('ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~', 'loadClassLoader'), true, true); |
  |  | 25 | spl\_autoload\_register(array('ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae', 'loadClassLoader'), true, true); |
  | 26 | 26 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(\_\_DIR\_\_)); |
  | 27 |  | spl\_autoload\_unregister(array('ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~', 'loadClassLoader')); |
  |  | 27 | spl\_autoload\_unregister(array('ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae', 'loadClassLoader')); |
  | 28 | 28 |  |
  | 29 | 29 | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 30 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInit~~651ea6d52749a4a303b5eabe46a4a27f~~::getInitializer($loader)); |
  |  | 30 | call\_user\_func(\Composer\Autoload\ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::getInitializer($loader)); |
  | 31 | 31 |  |
  | 32 | 32 | $loader->register(true); |
  | 33 | 33 |  |
  | 34 |  | $filesToLoad = \Composer\Autoload\ComposerStaticInit~~651ea6d52749a4a303b5eabe46a4a27f~~::$files; |
  |  | 34 | $filesToLoad = \Composer\Autoload\ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$files; |
  | 35 | 35 | $requireFile = \Closure::bind(static function ($fileIdentifier, $file) { |
  | 36 | 36 | if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) { |
* ## [themeisle-companion/tags/2.10.37/vendor/composer/autoload\_static.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/composer/autoload_static.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/composer/autoload_static.php")

  | [r3038451](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3038451#L5 "Show revision 3038451 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_static.php?rev=3139233#L5 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | namespace Composer\Autoload; |
  | 6 | 6 |  |
  | 7 |  | class ComposerStaticInit~~651ea6d52749a4a303b5eabe46a4a27f~~ |
  |  | 7 | class ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae |
  | 8 | 8 | { |
  | 9 | 9 | public static $files = array ( |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3038451#L15) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_static.php?rev=3139233#L15) |  |
  | 15 | 15 | ); |
  | 16 | 16 |  |
  |  | 17 | public static $prefixLengthsPsr4 = array ( |
  |  | 18 | 'e' => |
  |  | 19 | array ( |
  |  | 20 | 'enshrined\\svgSanitize\\' => 22, |
  |  | 21 | ), |
  |  | 22 | ); |
  |  | 23 |  |
  |  | 24 | public static $prefixDirsPsr4 = array ( |
  |  | 25 | 'enshrined\\svgSanitize\\' => |
  |  | 26 | array ( |
  |  | 27 | 0 => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src', |
  |  | 28 | ), |
  |  | 29 | ); |
  |  | 30 |  |
  | 17 | 31 | public static $classMap = array ( |
  | 18 | 32 | 'Composer\\InstalledVersions' => \_\_DIR\_\_ . '/..' . '/composer/InstalledVersions.php', |
  |  | 33 | 'enshrined\\svgSanitize\\ElementReference\\Resolver' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/ElementReference/Resolver.php', |
  |  | 34 | 'enshrined\\svgSanitize\\ElementReference\\Subject' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/ElementReference/Subject.php', |
  |  | 35 | 'enshrined\\svgSanitize\\ElementReference\\Usage' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/ElementReference/Usage.php', |
  |  | 36 | 'enshrined\\svgSanitize\\Exceptions\\NestingException' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/Exceptions/NestingException.php', |
  |  | 37 | 'enshrined\\svgSanitize\\Helper' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/Helper.php', |
  |  | 38 | 'enshrined\\svgSanitize\\Sanitizer' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/Sanitizer.php', |
  |  | 39 | 'enshrined\\svgSanitize\\data\\AllowedAttributes' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/AllowedAttributes.php', |
  |  | 40 | 'enshrined\\svgSanitize\\data\\AllowedTags' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/AllowedTags.php', |
  |  | 41 | 'enshrined\\svgSanitize\\data\\AttributeInterface' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/AttributeInterface.php', |
  |  | 42 | 'enshrined\\svgSanitize\\data\\TagInterface' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/TagInterface.php', |
  |  | 43 | 'enshrined\\svgSanitize\\data\\XPath' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/XPath.php', |
  | 19 | 44 | ); |
  | 20 | 45 |  |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3038451#L22) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/autoload_static.php?rev=3139233#L47) |  |
  | 22 | 47 | { |
  | 23 | 48 | return \Closure::bind(function () use ($loader) { |
  | 24 |  | $loader->classMap = ComposerStaticInit651ea6d52749a4a303b5eabe46a4a27f::$classMap; |
  |  | 49 | $loader->prefixLengthsPsr4 = ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$prefixLengthsPsr4; |
  |  | 50 | $loader->prefixDirsPsr4 = ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$prefixDirsPsr4; |
  |  | 51 | $loader->classMap = ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$classMap; |
  | 25 | 52 |  |
  | 26 | 53 | }, null, ClassLoader::class); |
* ## [themeisle-companion/tags/2.10.37/vendor/composer/installed.json](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/composer/installed.json "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/composer/installed.json")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3072679#L130 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.json?rev=3139233#L130 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 130 | 130 | { |
  | 131 | 131 | "name": "codeinwp/themeisle-sdk", |
  | 132 |  | "version": "3.3.2~~0~~", |
  | 133 |  | "version\_normalized": "3.3.2~~0~~.0", |
  |  | 132 | "version": "3.3.29", |
  |  | 133 | "version\_normalized": "3.3.29.0", |
  | 134 | 134 | "source": { |
  | 135 | 135 | "type": "git", |
  | 136 | 136 | "url": "https://github.com/Codeinwp/themeisle-sdk.git", |
  | 137 |  | "reference": "~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~" |
  | 138 |  | }, |
  | 139 |  | "dist": { |
  | 140 |  | "type": "zip", |
  | 141 |  | "url": "https://api.github.com/repos/Codeinwp/themeisle-sdk/zipball/~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~", |
  | 142 |  | "reference": "~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~", |
  |  | 137 | "reference": "4d63bc81ec0357c8675dac1e35511fd81104605d" |
  |  | 138 | }, |
  |  | 139 | "dist": { |
  |  | 140 | "type": "zip", |
  |  | 141 | "url": "https://api.github.com/repos/Codeinwp/themeisle-sdk/zipball/4d63bc81ec0357c8675dac1e35511fd81104605d", |
  |  | 142 | "reference": "4d63bc81ec0357c8675dac1e35511fd81104605d", |
  | 143 | 143 | "shasum": "" |
  | 144 | 144 | }, |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3072679#L146) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.json?rev=3139233#L146) |  |
  | 146 | 146 | "codeinwp/phpcs-ruleset": "dev-main" |
  | 147 | 147 | }, |
  | 148 |  | "time": "2024-0~~4-16T12:27:32~~+00:00", |
  |  | 148 | "time": "2024-08-21T08:03:45+00:00", |
  | 149 | 149 | "type": "library", |
  | 150 | 150 | "installation-source": "dist", |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3072679#L167) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.json?rev=3139233#L167) |  |
  | 167 | 167 | "support": { |
  | 168 | 168 | "issues": "https://github.com/Codeinwp/themeisle-sdk/issues", |
  | 169 |  | "source": "https://github.com/Codeinwp/themeisle-sdk/tree/v3.3.2~~0~~" |
  |  | 169 | "source": "https://github.com/Codeinwp/themeisle-sdk/tree/v3.3.29" |
  | 170 | 170 | }, |
  | 171 | 171 | "install-path": "../codeinwp/themeisle-sdk" |
  |  | 172 | }, |
  |  | 173 | { |
  |  | 174 | "name": "enshrined/svg-sanitize", |
  |  | 175 | "version": "0.19.0", |
  |  | 176 | "version\_normalized": "0.19.0.0", |
  |  | 177 | "source": { |
  |  | 178 | "type": "git", |
  |  | 179 | "url": "https://github.com/darylldoyle/svg-sanitizer.git", |
  |  | 180 | "reference": "e95cd17be68e45f523cbfb0fe50cdd891b0cf20e" |
  |  | 181 | }, |
  |  | 182 | "dist": { |
  |  | 183 | "type": "zip", |
  |  | 184 | "url": "https://api.github.com/repos/darylldoyle/svg-sanitizer/zipball/e95cd17be68e45f523cbfb0fe50cdd891b0cf20e", |
  |  | 185 | "reference": "e95cd17be68e45f523cbfb0fe50cdd891b0cf20e", |
  |  | 186 | "shasum": "" |
  |  | 187 | }, |
  |  | 188 | "require": { |
  |  | 189 | "ext-dom": "\*", |
  |  | 190 | "ext-libxml": "\*", |
  |  | 191 | "php": "^5.6 || ^7.0 || ^8.0" |
  |  | 192 | }, |
  |  | 193 | "require-dev": { |
  |  | 194 | "phpunit/phpunit": "^5.7 || ^6.5 || ^8.5" |
  |  | 195 | }, |
  |  | 196 | "time": "2024-06-18T10:27:15+00:00", |
  |  | 197 | "type": "library", |
  |  | 198 | "installation-source": "dist", |
  |  | 199 | "autoload": { |
  |  | 200 | "psr-4": { |
  |  | 201 | "enshrined\\svgSanitize\\": "src" |
  |  | 202 | } |
  |  | 203 | }, |
  |  | 204 | "notification-url": "https://packagist.org/downloads/", |
  |  | 205 | "license": [ |
  |  | 206 | "GPL-2.0-or-later" |
  |  | 207 | ], |
  |  | 208 | "authors": [ |
  |  | 209 | { |
  |  | 210 | "name": "Daryll Doyle", |
  |  | 211 | "email": "daryll@enshrined.co.uk" |
  |  | 212 | } |
  |  | 213 | ], |
  |  | 214 | "description": "An SVG sanitizer for PHP", |
  |  | 215 | "support": { |
  |  | 216 | "issues": "https://github.com/darylldoyle/svg-sanitizer/issues", |
  |  | 217 | "source": "https://github.com/darylldoyle/svg-sanitizer/tree/0.19.0" |
  |  | 218 | }, |
  |  | 219 | "install-path": "../enshrined/svg-sanitize" |
  | 172 | 220 | } |
  | 173 | 221 | ], |
* ## [themeisle-companion/tags/2.10.37/vendor/composer/installed.php](/changeset/3139233/themeisle-companion/tags/2.10.37/vendor/composer/installed.php "Show the changeset 3139233 restricted to themeisle-companion/tags/2.10.37/vendor/composer/installed.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L2 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.php?rev=3139233#L2 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | 'root' => array( |
  | 3 | 3 | 'name' => 'codeinwp/themeisle-companion', |
  | 4 |  | 'pretty\_version' => 'v2.10.3~~6~~', |
  | 5 |  | 'version' => '2.10.3~~6~~.0', |
  | 6 |  | 'reference' => '~~81db3e9df8dd4fb0651c9a6d83860115ebede162~~', |
  |  | 4 | 'pretty\_version' => 'v2.10.37', |
  |  | 5 | 'version' => '2.10.37.0', |
  |  | 6 | 'reference' => 'd772c60d3a0bbaf2899730e5319eaf9ef5204cdf', |
  | 7 | 7 | 'type' => 'wordpress-plugin', |
  | 8 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L32) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.php?rev=3139233#L32) |  |
  | 32 | 32 | ), |
  | 33 | 33 | 'codeinwp/themeisle-companion' => array( |
  | 34 |  | 'pretty\_version' => 'v2.10.3~~6~~', |
  | 35 |  | 'version' => '2.10.3~~6~~.0', |
  | 36 |  | 'reference' => '~~81db3e9df8dd4fb0651c9a6d83860115ebede162~~', |
  |  | 34 | 'pretty\_version' => 'v2.10.37', |
  |  | 35 | 'version' => '2.10.37.0', |
  |  | 36 | 'reference' => 'd772c60d3a0bbaf2899730e5319eaf9ef5204cdf', |
  | 37 | 37 | 'type' => 'wordpress-plugin', |
  | 38 | 38 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L52) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.php?rev=3139233#L52) |  |
  | 52 | 52 | ), |
  | 53 | 53 | 'codeinwp/themeisle-sdk' => array( |
  | 54 |  | 'pretty\_version' => '3.3.2~~0~~', |
  | 55 |  | 'version' => '3.3.2~~0~~.0', |
  | 56 |  | 'reference' => '~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~', |
  |  | 54 | 'pretty\_version' => '3.3.29', |
  |  | 55 | 'version' => '3.3.29.0', |
  |  | 56 | 'reference' => '4d63bc81ec0357c8675dac1e35511fd81104605d', |
  | 57 | 57 | 'type' => 'library', |
  | 58 | 58 | 'install\_path' => \_\_DIR\_\_ . '/../codeinwp/themeisle-sdk', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L60) | […](/browser/themeisle-companion/tags/2.10.37/vendor/composer/installed.php?rev=3139233#L60) |  |
  | 60 | 60 | 'dev\_requirement' => false, |
  | 61 | 61 | ), |
  |  | 62 | 'enshrined/svg-sanitize' => array( |
  |  | 63 | 'pretty\_version' => '0.19.0', |
  |  | 64 | 'version' => '0.19.0.0', |
  |  | 65 | 'reference' => 'e95cd17be68e45f523cbfb0fe50cdd891b0cf20e', |
  |  | 66 | 'type' => 'library', |
  |  | 67 | 'install\_path' => \_\_DIR\_\_ . '/../enshrined/svg-sanitize', |
  |  | 68 | 'aliases' => array(), |
  |  | 69 | 'dev\_requirement' => false, |
  |  | 70 | ), |
  | 62 | 71 | ), |
  | 63 | 72 | ); |
* ## [themeisle-companion/trunk/CHANGELOG.md](/changeset/3139233/themeisle-companion/trunk/CHANGELOG.md "Show the changeset 3139233 restricted to themeisle-companion/trunk/CHANGELOG.md")

  | [r3072679](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/CHANGELOG.md?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ##### [Version 2.10.37](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.36...v2.10.37) (2024-08-21) |
  |  | 2 |  |
  |  | 3 | - Enhanced security |
  |  | 4 |  |
  | 1 | 5 | ##### [Version 2.10.36](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.35...v2.10.36) (2024-04-17) |
  | 2 | 6 |  |
* ## [themeisle-companion/trunk/core/includes/class-orbit-fox.php](/changeset/3139233/themeisle-companion/trunk/core/includes/class-orbit-fox.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/core/includes/class-orbit-fox.php")

  | [r3072679](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=3072679#L70 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/core/includes/class-orbit-fox.php?rev=3139233#L70 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | $this->plugin\_name = 'orbit-fox'; |
  | 71 | 71 |  |
  | 72 |  | $this->version = '2.10.3~~6~~'; |
  |  | 72 | $this->version = '2.10.37'; |
  | 73 | 73 |  |
  | 74 | 74 | $this->load\_dependencies(); |
* ## [themeisle-companion/trunk/languages/themeisle-companion.pot](/changeset/3139233/themeisle-companion/trunk/languages/themeisle-companion.pot "Show the changeset 3139233 restricted to themeisle-companion/trunk/languages/themeisle-companion.pot")

  | [r3072679](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3072679#L3 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/languages/themeisle-companion.pot?rev=3139233#L3 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Orbit Fox Companion 2.10.3~~6~~\n" |
  |  | 5 | "Project-Id-Version: Orbit Fox Companion 2.10.37\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: " |
  | 7 | 7 | "https://github.com/Codeinwp/themeisle-companion/issues\n" |
  | 8 |  | "POT-Creation-Date: 2024-0~~4-17 23:28:08~~+00:00\n" |
  |  | 8 | "POT-Creation-Date: 2024-08-21 18:00:11+00:00\n" |
  | 9 | 9 | "MIME-Version: 1.0\n" |
  | 10 | 10 | "Content-Type: text/plain; charset=utf-8\n" |
* ## [themeisle-companion/trunk/obfx\_modules/custom-fonts/custom\_fonts\_admin.php](/changeset/3139233/themeisle-companion/trunk/obfx_modules/custom-fonts/custom_fonts_admin.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/obfx_modules/custom-fonts/custom_fonts_admin.php")

  | [r2779225](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/custom_fonts_admin.php?rev=2779225#L405 "Show revision 2779225 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/custom_fonts_admin.php?rev=3139233#L405 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 405 | 405 | } |
  | 406 | 406 |  |
  |  | 407 | /\*\* |
  |  | 408 | \* Check if the file is an SVG, if so handle appropriately |
  |  | 409 | \* |
  |  | 410 | \* @param array $file An array of data for a single file. |
  |  | 411 | \* |
  |  | 412 | \* @return mixed |
  |  | 413 | \*/ |
  |  | 414 | public function check\_svg\_and\_sanitize( $file ) { |
  |  | 415 | // Ensure we have a proper file path before processing. |
  |  | 416 | if ( ! isset( $file['tmp\_name'] ) ) { |
  |  | 417 | return $file; |
  |  | 418 | } |
  |  | 419 |  |
  |  | 420 | $file\_name   = isset( $file['name'] ) ? $file['name'] : ''; |
  |  | 421 | $wp\_filetype = wp\_check\_filetype\_and\_ext( $file['tmp\_name'], $file\_name ); |
  |  | 422 | $type        = ! empty( $wp\_filetype['type'] ) ? $wp\_filetype['type'] : ''; |
  |  | 423 |  |
  |  | 424 | if ( 'image/svg+xml' === $type ) { |
  |  | 425 | if ( ! current\_user\_can( 'upload\_files' ) ) { |
  |  | 426 | $file['error'] = 'Invalid'; |
  |  | 427 | return $file; |
  |  | 428 | } |
  |  | 429 |  |
  |  | 430 | if ( ! $this->sanitize\_svg( $file['tmp\_name'] ) ) { |
  |  | 431 | $file['error'] = 'Invalid'; |
  |  | 432 | } |
  |  | 433 | } |
  |  | 434 |  |
  |  | 435 | return $file; |
  |  | 436 | } |
  |  | 437 |  |
  |  | 438 | /\*\* |
  |  | 439 | \* Sanitize the SVG |
  |  | 440 | \* |
  |  | 441 | \* @param string $file Temp file path. |
  |  | 442 | \* |
  |  | 443 | \* @return bool|int |
  |  | 444 | \*/ |
  |  | 445 | protected function sanitize\_svg( $file ) { |
  |  | 446 | if ( ! function\_exists( 'WP\_Filesystem' ) ) { |
  |  | 447 | require\_once ABSPATH . 'wp-admin/includes/file.php'; |
  |  | 448 | } |
  |  | 449 | WP\_Filesystem(); |
  |  | 450 | global $wp\_filesystem; |
  |  | 451 |  |
  |  | 452 | $dirty = $wp\_filesystem->get\_contents( $file ); |
  |  | 453 |  |
  |  | 454 | // Is the SVG gzipped? If so we try and decode the string. |
  |  | 455 | $is\_zipped = $this->is\_gzipped( $dirty ); |
  |  | 456 | if ( $is\_zipped && ( ! function\_exists( 'gzdecode' ) || ! function\_exists( 'gzencode' ) ) ) { |
  |  | 457 | return false; |
  |  | 458 | } |
  |  | 459 |  |
  |  | 460 | if ( $is\_zipped ) { |
  |  | 461 | $dirty = gzdecode( $dirty ); |
  |  | 462 |  |
  |  | 463 | // If decoding fails, bail as we're not secure. |
  |  | 464 | if ( false === $dirty ) { |
  |  | 465 | return false; |
  |  | 466 | } |
  |  | 467 | } |
  |  | 468 |  |
  |  | 469 | $sanitizer = new enshrined\svgSanitize\Sanitizer(); |
  |  | 470 | $clean     = $sanitizer->sanitize( $dirty ); |
  |  | 471 |  |
  |  | 472 | if ( false === $clean ) { |
  |  | 473 | return false; |
  |  | 474 | } |
  |  | 475 |  |
  |  | 476 | // If we were gzipped, we need to re-zip. |
  |  | 477 | if ( $is\_zipped ) { |
  |  | 478 | $clean = gzencode( $clean ); |
  |  | 479 | } |
  |  | 480 |  |
  |  | 481 | $wp\_filesystem->put\_contents( $file, $clean ); |
  |  | 482 |  |
  |  | 483 | return true; |
  |  | 484 | } |
  |  | 485 |  |
  |  | 486 | /\*\* |
  |  | 487 | \* Check if the contents are gzipped |
  |  | 488 | \* |
  |  | 489 | \* @see http://www.gzip.org/zlib/rfc-gzip.html#member-format |
  |  | 490 | \* |
  |  | 491 | \* @param string $contents Content to check. |
  |  | 492 | \* |
  |  | 493 | \* @return bool |
  |  | 494 | \*/ |
  |  | 495 | protected function is\_gzipped( $contents ) { |
  |  | 496 | // phpcs:disable Generic.Strings.UnnecessaryStringConcat.Found |
  |  | 497 | if ( function\_exists( 'mb\_strpos' ) ) { |
  |  | 498 | return 0 === mb\_strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 499 | } else { |
  |  | 500 | return 0 === strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 501 | } |
  |  | 502 | // phpcs:enable |
  |  | 503 | } |
  |  | 504 |  |
  | 407 | 505 | } |
* ## [themeisle-companion/trunk/obfx\_modules/custom-fonts/init.php](/changeset/3139233/themeisle-companion/trunk/obfx_modules/custom-fonts/init.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/obfx_modules/custom-fonts/init.php")

  | [r2606655](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/init.php?rev=2606655#L74 "Show revision 2606655 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/obfx_modules/custom-fonts/init.php?rev=3139233#L74 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 74 | 74 | $this->loader->add\_filter( 'upload\_mimes', $admin\_instance, 'add\_fonts\_to\_allowed\_mimes' ); |
  | 75 | 75 | $this->loader->add\_filter( 'wp\_check\_filetype\_and\_ext', $admin\_instance, 'update\_mime\_types', 10, 3 ); |
  |  | 76 | $this->loader->add\_filter( 'wp\_handle\_upload\_prefilter', $admin\_instance, 'check\_svg\_and\_sanitize' ); |
  | 76 | 77 |  |
  | 77 | 78 | $public\_instance = new Custom\_Fonts\_Public(); |
* ## [themeisle-companion/trunk/readme.md](/changeset/3139233/themeisle-companion/trunk/readme.md "Show the changeset 3139233 restricted to themeisle-companion/trunk/readme.md")

  | [r3072679](/browser/themeisle-companion/trunk/readme.md?rev=3072679#L3 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/readme.md?rev=3139233#L3 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \*\*Tags:\*\* widget, admin, widgets, sharing, sections, themes, stock photos, custom icons, icons, menu icons, stock, templates, header, footer, scripts, custom fonts |
  | 4 | 4 | \*\*Requires at least:\*\* 4.7 |
  | 5 |  | \*\*Tested up to:\*\* 6.~~5~~ |
  |  | 5 | \*\*Tested up to:\*\* 6.6 |
  | 6 | 6 | \*\*Requires PHP:\*\* 5.6 |
  | 7 | 7 | \*\*Stable tag:\*\* trunk |
  | […](/browser/themeisle-companion/trunk/readme.md?rev=3072679#L108) | […](/browser/themeisle-companion/trunk/readme.md?rev=3139233#L108) |  |
  | 108 | 108 | ## Changelog ## |
  | 109 | 109 |  |
  |  | 110 | ##### [Version 2.10.37](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.36...v2.10.37) (2024-08-21) |
  |  | 111 |  |
  |  | 112 | - Enhanced security |
  |  | 113 |  |
  |  | 114 |  |
  |  | 115 |  |
  |  | 116 |  |
  | 110 | 117 | ##### [Version 2.10.36](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.35...v2.10.36) (2024-04-17) |
  | 111 | 118 |  |
  | […](/browser/themeisle-companion/trunk/readme.md?rev=3072679#L989) | […](/browser/themeisle-companion/trunk/readme.md?rev=3139233#L996) |  |
  | 989 | 996 |  |
  | 990 | 997 | \* First version of the plugin |
  |  | 998 |  |
* ## [themeisle-companion/trunk/readme.txt](/changeset/3139233/themeisle-companion/trunk/readme.txt "Show the changeset 3139233 restricted to themeisle-companion/trunk/readme.txt")

  | [r3120011](/browser/themeisle-companion/trunk/readme.txt?rev=3120011#L108 "Show revision 3120011 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/readme.txt?rev=3139233#L108 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | == Changelog == |
  | 109 | 109 |  |
  |  | 110 | ##### [Version 2.10.37](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.36...v2.10.37) (2024-08-21) |
  |  | 111 |  |
  |  | 112 | - Enhanced security |
  |  | 113 |  |
  |  | 114 |  |
  |  | 115 |  |
  |  | 116 |  |
  | 110 | 117 | ##### [Version 2.10.36](https://github.com/Codeinwp/themeisle-companion/compare/v2.10.35...v2.10.36) (2024-04-17) |
  | 111 | 118 |  |
* ## [themeisle-companion/trunk/themeisle-companion.php](/changeset/3139233/themeisle-companion/trunk/themeisle-companion.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/themeisle-companion.php")

  | [r3072679](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=3072679#L16 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/themeisle-companion.php?rev=3139233#L16 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | \* Plugin URI:        https://orbitfox.com/ |
  | 17 | 17 | \* Description:       This swiss-knife plugin comes with a quality template library, menu/sharing icons modules, Gutenberg blocks, and newly added Elementor/BeaverBuilder page builder widgets on each release. |
  | 18 |  | \* Version:           2.10.3~~6~~ |
  |  | 18 | \* Version:           2.10.37 |
  | 19 | 19 | \* Author:            Themeisle |
  | 20 | 20 | \* Author URI:        https://orbitfox.com/ |
* ## [themeisle-companion/trunk/vendor/autoload.php](/changeset/3139233/themeisle-companion/trunk/vendor/autoload.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/autoload.php")

  | [r3038451](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=3038451#L23 "Show revision 3038451 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/autoload.php?rev=3139233#L23 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 24 | 24 |  |
  | 25 |  | return ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~::getLoader(); |
  |  | 25 | return ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae::getLoader(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/CHANGELOG.md?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ##### [Version 3.3.29](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.28...v3.3.29) (2024-08-21) |
  |  | 2 |  |
  |  | 3 | - feat: improve the Promotions appearance timing |
  |  | 4 |  |
  |  | 5 | ##### [Version 3.3.28](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.27...v3.3.28) (2024-08-09) |
  |  | 6 |  |
  |  | 7 |  |
  |  | 8 | - fix: remove the delay on woo plugins promos [closes Codeinwp/themeisle[#1655](https://github.com/Codeinwp/themeisle-sdk/issues/1655)] |
  |  | 9 | - fix: swap Neve FSE notice with Neve [closes Codeinwp/themeisle[#1654](https://github.com/Codeinwp/themeisle-sdk/issues/1654)] |
  |  | 10 | - fix: rework optimole promo [closes Codeinwp/themeisle[#1656](https://github.com/Codeinwp/themeisle-sdk/issues/1656)] |
  |  | 11 | - fix: translations workflow always requiring updates [closes Codeinwp/neve-pro-addon[#2840](https://github.com/Codeinwp/themeisle-sdk/issues/2840)] |
  |  | 12 |  |
  |  | 13 | ##### [Version 3.3.27](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.26...v3.3.27) (2024-07-30) |
  |  | 14 |  |
  |  | 15 | - fix: array out of bounds index |
  |  | 16 |  |
  |  | 17 | ##### [Version 3.3.26](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.25...v3.3.26) (2024-07-29) |
  |  | 18 |  |
  |  | 19 | - fix: JS error in core editor |
  |  | 20 | - twak: change ROP product name |
  |  | 21 | - tweak: updated developers list |
  |  | 22 | - fix: removed duplicate feed URL |
  |  | 23 | - feat: add private translation functionality |
  |  | 24 |  |
  |  | 25 | ##### [Version 3.3.25](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.24...v3.3.25) (2024-07-08) |
  |  | 26 |  |
  |  | 27 | improve upgrade link |
  |  | 28 |  |
  |  | 29 | ##### [Version 3.3.24](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.23...v3.3.24) (2024-06-25) |
  |  | 30 |  |
  |  | 31 | - Feat: Allow affiliate url change via DB option. |
  |  | 32 | - Fix: Featured plugins displaying on some non-pro products. |
  |  | 33 |  |
  |  | 34 | ##### [Version 3.3.23](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.22...v3.3.23) (2024-06-19) |
  |  | 35 |  |
  |  | 36 | - fix: compress images |
  |  | 37 | - fix: replace huge SVG logo with png version |
  |  | 38 | - fix: improve text on float widget |
  |  | 39 |  |
  |  | 40 | ##### [Version 3.3.22](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.21...v3.3.22) (2024-05-17) |
  |  | 41 |  |
  |  | 42 | - Updated NPM packages |
  |  | 43 | - Fixed the default state of the telemetry logger flag for PRO users |
  |  | 44 | - Added floating widget functionality |
  |  | 45 | - Updated the remote get check for WordPress VIP env |
  |  | 46 |  |
  |  | 47 | ##### [Version 3.3.21](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.20...v3.3.21) (2024-04-29) |
  |  | 48 |  |
  |  | 49 | - fixes non-existant string being used in Licenser |
  |  | 50 |  |
  | 1 | 51 | ##### [Version 3.3.20](https://github.com/Codeinwp/themeisle-sdk/compare/v3.3.19...v3.3.20) (2024-04-16) |
  | 2 | 52 |  |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array('~~wp-components', 'wp-element'), 'version' => '35f2cdc94ec1bd5b9745~~'); |
  |  | 1 | <?php return array('dependencies' => array('react', 'wp-components', 'wp-element'), 'version' => '2f7b01c785d210cc0a66'); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/about/about.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(){"use strict";var e=window.wp.element;function t(t){let{pages:a=[],selected:n=""}=t;const{currentProduct:l,logoUrl:s,strings:c,links:i}=window.tiSDKAboutData,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e===n?"active":""};return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:s,alt:l.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")))),(i.length>0||a.length>0)&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",{className:r()},(0,e.createElement)("a",{href:window.location},c.aboutUs)),a.map(((t,a)=>(0,e.createElement)("li",{className:r(t.hash),key:a},(0,e.createElement)("a",{href:t.hash},t.name)))),i.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}var a=window.wp.components;function n(){const{strings:t,teamImage:n,homeUrl:l,pageSlug:s}=window.tiSDKAboutData,{heroHeader:c,heroTextFirst:i,heroTextSecond:r,teamImageCaption:o,newsHeading:m,emailPlaceholder:d,signMeUp:u}=t,[E,p]=(0,e.useState)(""),[h,g]=(0,e.useState)(!1),[v,N]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,c),(0,e.createElement)("p",null,i),(0,e.createElement)("p",null,r)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:n,alt:o}),(0,e.createElement)("figcaption",null,o))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,m),(0,e.createElement)("form",{onSubmit:e=>{var t;e.preventDefault(),g(!0),null===(t=fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, \*/\*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:l,from:s,email:E})}).then((e=>e.json())).then((e=>{g(!1),"success"===e.code&&N(!0)})))||void 0===t||t.catch((e=>{g(!1)}))}},(0,e.createElement)("input",{disabled:h||v,type:"email",value:E,onChange:e=>{p(e.target.value)},placeholder:d}),!h&&!v&&(0,e.createElement)(a.Button,{isPrimary:!0,type:"submit"},u),h&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),v&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{a({success:!0})},error:e=>{a({success:!1,code:e.errorCode})}})}))};function s(t){let{product:n,slug:s}=t;const{icon:c,name:i,description:r,status:o,premiumUrl:m,activationLink:d}=n,{strings:u,canInstallPlugins:E,canActivatePlugins:p}=window.tiSDKAboutData,{installNow:h,installed:g,notInstalled:v,active:N,activate:b,learnMore:f}=u,w=!!m,[y,k]=(0,e.useState)(o),[S,T]=(0,e.useState)(!1),D=async()=>{T(!0),await l(s,"neve"===s).then((e=>{e.success&&k("installed")})),T(!1)},x=async()=>{T(!0),window.location.href=d},\_=()=>"not-installed"===y&&w?(0,e.createElement)(a.Button,{isLink:!0,icon:"external",href:m,target:"\_blank"},f):"not-installed"!==y||w?"installed"===y?(0,e.createElement)(a.Button,{isSecondary:!0,onClick:x,disabled:S||!p},b):null:(0,e.createElement)(a.Button,{isPrimary:!0,onClick:D,disabled:S||!E},h),C=!E&&"not-installed"===y||!p&&"installed"===y?(0,e.createElement)(a.Tooltip,{text:`Ask your admin to enable ${i} on your site`,position:"top center"},\_()):\_();return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:i}),(0,e.createElement)("h2",null,i)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{\_\_html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:y},"installed"===y&&g,"not-installed"===y&&v,"active"===y&&N)),"active"!==y&&!S&&C,S&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function c(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(s,{key:a,slug:a,product:t[a]})))))}const i={"otter-page":function(t){let{page:n={}}=t;const{products:s,canInstallPlugins:c,canActivatePlugins:i}=window.tiSDKAboutData,{strings:r,plugin:o}=n,m=n&&n.product?n.product:"",d=m&&s[m]&&s[m].icon?s[m].icon:null,[u,E]=(0,e.useState)(r.testimonials.users[0]),[p,h]=(0,e.useState)(o.status),[g,v]=(0,e.useState)(!1),N="In Progress",b=async()=>{v(!0),await l(m,!1).then((e=>{e.success&&(h("installed"),f())}))},f=async()=>{v(!0),window.location.href=o.activationLink},w=(0,e.createElement)(a.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:f},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})," ",N):r.buttons.install\_otter\_free),y=(0,e.createElement)(a.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:f},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N):r.buttons.install\_now),k=!c&&"not-installed"===p||!i&&"installed"===p||!1,S=t=>k?(0,e.createElement)(a.Tooltip,{text:"Ask your admin to enable Otter on your site",position:"top center"},t):t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"hero"},d&&(0,e.createElement)("img",{className:"logo",src:d,alt:n.name||""}),(0,e.createElement)("span",{className:"label"},"Neve + Otter = New Possibilities 🤝"),(0,e.createElement)("h1",null,r.heading),(0,e.createElement)("p",null,r.text),("not-installed"===p||"installed"===p)&&S(w)),(0,e.createElement)("div",{className:"col-3-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.advancedTitle),(0,e.createElement)("p",null,r.features.advancedDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.fastTitle),(0,e.createElement)("p",null,r.features.fastDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.mobileTitle),(0,e.createElement)("p",null,r.features.mobileDesc))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s1Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s1Title),(0,e.createElement)("p",null,r.details.s1Text))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s2Title),(0,e.createElement)("p",null,r.details.s2Text)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s2Image,alt:r.details.s1Title}))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s3Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s3Title),(0,e.createElement)("p",null,r.details.s3Text))),(0,e.createElement)("div",{className:"col-2-highlights",style:{backgroundColor:"#F7F7F7",borderBottom:"none",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px"}},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.testimonials.heading),(0,e.createElement)("div",{className:"button-row"},("not-installed"===p||"installed"===p)&&S(y),(0,e.createElement)("a",{className:"components-button otter-button is-secondary",href:r.buttons.learn\_more\_link,target:"\_blank",rel:"external noreferrer noopener"},r.buttons.learn\_more))),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("div",{className:"testimonials"},(0,e.createElement)("ul",{id:"testimonial-container",className:"testimonial-container"},r.testimonials.users.map(((t,a)=>(0,e.createElement)("li",{className:"testimonial",id:"ts\_"+a,key:"ts\_"+a},(0,e.createElement)("p",null,'"',t.text,'"'),(0,e.createElement)("img",{src:t.avatar,alt:t.name}),(0,e.createElement)("h3",null,t.name))))),(0,e.createElement)("div",{className:"testimonial-nav"},r.testimonials.users.map(((t,n)=>(0,e.createElement)(a.Button,{className:"testimonial-button"+(t.name===u.name?" active":""),key:"button\_"+n,onClick:()=>(e=>{const t=r.testimonials.users[e];document.getElementById("ts\_"+e).scrollIntoView({behavior:"smooth"}),E(t)})(n)}))))))))}};function r(t){const a=i[t.id];return(0,e.createElement)(a,{page:t.page})}function o(t){let{page:a={}}=t;return(0,e.createElement)("div",{className:"product-page"+(a&&a.product?" "+a.product:"")},(0,e.createElement)(r,{id:a.id,page:a}))}const m=()=>{let e=window.location.hash;return"string"!=typeof window.location.hash?null:e};function d(){const{productPages:a}=window.tiSDKAboutData,l=a?Object.keys(a).map((e=>{const t=a[e];return t.id=e,t})):[],[s,i]=(0,e.useState)(m()),r=()=>{const e=m();null!==e&&i(e)};(0,e.useEffect)((()=>(r(),window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)})),[]);const d=l.filter((e=>e.hash===s));return d.length>0?(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,{pages:l,selected:s}),(0,e.createElement)(o,{page:d[0]})):(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(t,{pages:l}),(0,e.createElement)(n,null),(0,e.createElement)(c,null))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("#ti-sdk-about");t&&(0,e.render)((0,e.createElement)(d,null),t)}))}~~(); |
  |  | 1 | (()=>{"use strict";const e=window.React,t=window.wp.element;function a({pages:t=[],selected:a=""}){const{currentProduct:n,logoUrl:l,strings:s,links:c}=window.tiSDKAboutData,i=(e="")=>e===a?"active":"";return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:l,alt:n.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")))),(c.length>0||t.length>0)&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",{className:i()},(0,e.createElement)("a",{href:window.location},s.aboutUs)),t.map(((t,a)=>(0,e.createElement)("li",{className:i(t.hash),key:a},(0,e.createElement)("a",{href:t.hash},t.name)))),c.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}const n=window.wp.components;function l(){const{strings:a,teamImage:l,homeUrl:s,pageSlug:c}=window.tiSDKAboutData,{heroHeader:i,heroTextFirst:r,heroTextSecond:o,teamImageCaption:m,newsHeading:d,emailPlaceholder:u,signMeUp:E}=a,[p,h]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,i),(0,e.createElement)("p",null,r),(0,e.createElement)("p",null,o)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:l,alt:m}),(0,e.createElement)("figcaption",null,m))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,d),(0,e.createElement)("form",{onSubmit:e=>{e.preventDefault(),v(!0),fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, \*/\*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:s,from:c,email:p})}).then((e=>e.json())).then((e=>{v(!1),"success"===e.code&&b(!0)}))?.catch((e=>{v(!1)}))}},(0,e.createElement)("input",{disabled:g||N,type:"email",value:p,onChange:e=>{h(e.target.value)},placeholder:u}),!g&&!N&&(0,e.createElement)(n.Button,{isPrimary:!0,type:"submit"},E),g&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}const s=(e,t=!1)=>new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{a({success:!0})},error:e=>{a({success:!1,code:e.errorCode})}})}));function c({product:a,slug:l}){const{icon:c,name:i,description:r,status:o,premiumUrl:m,activationLink:d}=a,{strings:u,canInstallPlugins:E,canActivatePlugins:p}=window.tiSDKAboutData,{installNow:h,installed:g,notInstalled:v,active:N,activate:b,learnMore:w}=u,f=!!m,[y,k]=(0,t.useState)(o),[S,T]=(0,t.useState)(!1),D=async()=>{T(!0),await s(l,"neve"===l).then((e=>{e.success&&k("installed")})),T(!1)},x=async()=>{T(!0),window.location.href=d},\_=()=>"not-installed"===y&&f?(0,e.createElement)(n.Button,{isLink:!0,icon:"external",href:m,target:"\_blank"},w):"not-installed"!==y||f?"installed"===y?(0,e.createElement)(n.Button,{isSecondary:!0,onClick:x,disabled:S||!p},b):null:(0,e.createElement)(n.Button,{isPrimary:!0,onClick:D,disabled:S||!E},h),C=!E&&"not-installed"===y||!p&&"installed"===y?(0,e.createElement)(n.Tooltip,{text:`Ask your admin to enable ${i} on your site`,position:"top center"},\_()):\_();return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:i}),(0,e.createElement)("h2",null,i)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{\_\_html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:y},"installed"===y&&g,"not-installed"===y&&v,"active"===y&&N)),"active"!==y&&!S&&C,S&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function i(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(c,{key:a,slug:a,product:t[a]})))))}const r={"otter-page":function({page:a={}}){const{products:l,canInstallPlugins:c,canActivatePlugins:i}=window.tiSDKAboutData,{strings:r,plugin:o}=a,m=a&&a.product?a.product:"",d=m&&l[m]&&l[m].icon?l[m].icon:null,[u,E]=(0,t.useState)(r.testimonials.users[0]),[p,h]=(0,t.useState)(o.status),[g,v]=(0,t.useState)(!1),N="In Progress",b=async()=>{v(!0),await s(m,!1).then((e=>{e.success&&(h("installed"),w())}))},w=async()=>{v(!0),window.location.href=o.activationLink},f=(0,e.createElement)(n.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:w},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})," ",N):r.buttons.install\_otter\_free),y=(0,e.createElement)(n.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?b:w},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N):r.buttons.install\_now),k=!c&&"not-installed"===p||!i&&"installed"===p||!1,S=t=>k?(0,e.createElement)(n.Tooltip,{text:"Ask your admin to enable Otter on your site",position:"top center"},t):t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"hero"},d&&(0,e.createElement)("img",{className:"logo",src:d,alt:a.name||""}),(0,e.createElement)("span",{className:"label"},"Neve + Otter = New Possibilities 🤝"),(0,e.createElement)("h1",null,r.heading),(0,e.createElement)("p",null,r.text),("not-installed"===p||"installed"===p)&&S(f)),(0,e.createElement)("div",{className:"col-3-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.advancedTitle),(0,e.createElement)("p",null,r.features.advancedDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.fastTitle),(0,e.createElement)("p",null,r.features.fastDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.mobileTitle),(0,e.createElement)("p",null,r.features.mobileDesc))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s1Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s1Title),(0,e.createElement)("p",null,r.details.s1Text))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s2Title),(0,e.createElement)("p",null,r.details.s2Text)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s2Image,alt:r.details.s1Title}))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s3Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s3Title),(0,e.createElement)("p",null,r.details.s3Text))),(0,e.createElement)("div",{className:"col-2-highlights",style:{backgroundColor:"#F7F7F7",borderBottom:"none",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px"}},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.testimonials.heading),(0,e.createElement)("div",{className:"button-row"},("not-installed"===p||"installed"===p)&&S(y),(0,e.createElement)("a",{className:"components-button otter-button is-secondary",href:r.buttons.learn\_more\_link,target:"\_blank",rel:"external noreferrer noopener"},r.buttons.learn\_more))),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("div",{className:"testimonials"},(0,e.createElement)("ul",{id:"testimonial-container",className:"testimonial-container"},r.testimonials.users.map(((t,a)=>(0,e.createElement)("li",{className:"testimonial",id:"ts\_"+a,key:"ts\_"+a},(0,e.createElement)("p",null,'"',t.text,'"'),(0,e.createElement)("img",{src:t.avatar,alt:t.name}),(0,e.createElement)("h3",null,t.name))))),(0,e.createElement)("div",{className:"testimonial-nav"},r.testimonials.users.map(((t,a)=>(0,e.createElement)(n.Button,{className:"testimonial-button"+(t.name===u.name?" active":""),key:"button\_"+a,onClick:()=>(e=>{const t=r.testimonials.users[e];document.getElementById("ts\_"+e).scrollIntoView({behavior:"smooth"}),E(t)})(a)}))))))))}};function o(t){const a=r[t.id];return(0,e.createElement)(a,{page:t.page})}function m({page:t={}}){return(0,e.createElement)("div",{className:"product-page"+(t&&t.product?" "+t.product:"")},(0,e.createElement)(o,{id:t.id,page:t}))}const d=()=>{let e=window.location.hash;return"string"!=typeof window.location.hash?null:e};function u(){const{productPages:n}=window.tiSDKAboutData,s=n?Object.keys(n).map((e=>{const t=n[e];return t.id=e,t})):[],[c,r]=(0,t.useState)(d()),o=()=>{const e=d();null!==e&&r(e)};(0,t.useEffect)((()=>(o(),window.addEventListener("hashchange",o),()=>{window.removeEventListener("hashchange",o)})),[]);const u=s.filter((e=>e.hash===c));return u.length>0?(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(a,{pages:s,selected:c}),(0,e.createElement)(m,{page:u[0]})):(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(a,{pages:s}),(0,e.createElement)(l,null),(0,e.createElement)(i,null))}document.addEventListener("DOMContentLoaded",(()=>{const a=document.querySelector("#ti-sdk-about");a&&(0,t.render)((0,e.createElement)(u,null),a)}))})(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array('~~wp-block-editor', 'wp-components', 'wp-compose', 'wp-data', 'wp-edit-post', 'wp-element', 'wp-hooks', 'wp-plugins'), 'version' => 'ba05d75f2096d5f440d0~~'); |
  |  | 1 | <?php return array('dependencies' => array('react', 'wp-block-editor', 'wp-components', 'wp-compose', 'wp-data', 'wp-edit-post', 'wp-element', 'wp-hooks', 'wp-plugins'), 'version' => '2cd9ed3afc77de83f989'); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3072679#L1 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/index.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (()=>{"use strict";var e,t={16~~5:()=>{const e=window.wp.element,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.compose,i=window.wp.data,s=window.wp.hooks,r=()=>{const{createNotice:t}=(0,i.dispatch)("core/notices"),[o,n]=(0,e.useState)({}),[s,r]=(0,e.useState)("loading");return(0,i.useSelect)((e=>{if(Object.keys(o).length)return;const{getEntityRecord:t}=e("core"),i=t("root","site");i&&(r("loaded"),n(i))}),[]),[e=>null==o?void 0:o[e],async function(e,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Settings saved.";const s={[e]:o};try{const e=await fetch("/wp-json/wp/v2/settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify(s)});e.ok||(r("error"),t("error","Could not save the settings.",{isDismissible:!0,type:"snackbar"}));const o=await e.json();r("loaded"),t("success",i,{isDismissible:!0,type:"snackbar"}),n(o)}catch(e){console.error("Error updating option:",e)}},s]},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((o=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:()=>{o({success:!0})},error:e=>{o({success:!1,code:e.errorCode})}})}))},a=e=>new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))})),m=(e,t)=>{const o={};return Object.keys(t).forEach((function(e){"innerBlocks"!==e&&(o[e]=t[e])})),e.push(o),Array.isArray(t.innerBlocks)?(o.innerBlocks=t.innerBlocks.map((e=>e.id)),t.innerBlocks.reduce(m,e)):e},c={button:{display:"flex",justifyContent:"center",width:"100%"},image:{padding:"20px 0"},skip:{container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{fontSize:"9px"},poweredby:{fontSize:"9px",textTransform:"uppercase"}}},d={"blocks-css":{title:"Custom CSS",description:"Enable Otter Blocks to add Custom CSS for this block.",image:"css.jpg"},"blocks-animation":{title:"Animations",description:"Enable Otter Blocks to add Animations for this block.",image:"animation.jpg"},"blocks-conditions":{title:"Visibility Conditions",description:"Enable Otter Blocks to add Visibility Conditions for this block.",image:"conditions.jpg"}},p=t=>{let{onClick:n}=t;return(0,e.createElement)("div",{style:c.skip.container},(0,e.createElement)(o.Button,{style:c.skip.button,variant:"tertiary",onClick:n},"Skip for now"),(0,e.createElement)("span",{style:c.skip.poweredby},"Recommended by ",window.themeisleSDKPromotions.product))},u=(0,n.createHigherOrderComponent)((n=>i=>{if(i.isSelected&&Boolean(window.themeisleSDKPromotions.showPromotion)){const[s,m]=(0,e.useState)(!1),[u,h]=(0,e.useState)("default"),[w,g]=(0,e.useState)(!1),[E,k,y]=r(),f=async()=>{m(!0),await l("otter-blocks"),k("themeisle\_sdk\_promotions\_otter\_installed",!Boolean(E("themeisle\_sdk\_promotions\_otter\_installed"))),await a(window.themeisleSDKPromotions.otterActivationUrl),m(!1),h("installed")},P=()=>"installed"===u?(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Awesome! Refresh the page to see Otter Blocks in action.")):(0,e.createElement)(o.Button,{variant:"secondary",onClick:f,isBusy:s,style:c.button},"Install & Activate Otter Blocks"),S=()=>{const e={...window.themeisleSDKPromotions.option};e[window.themeisleSDKPromotions.showPromotion]=(new Date).getTime()/1e3|0,k("themeisle\_sdk\_promotions",JSON.stringify(e)),window.themeisleSDKPromotions.showPromotion=!1};return(0,e.useEffect)((()=>{w&&S()}),[w]),w?(0,e.createElement)(n,i):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,i),(0,e.createElement)(t.InspectorControls,null,Object.keys(d).map((t=>{if(t===window.themeisleSDKPromotions.showPromotion){const n=d[t];return(0,e.createElement)(o.PanelBody,{key:t,title:n.title,initialOpen:!1},(0,e.createElement)("p",null,n.description),(0,e.createElement)(P,null),(0,e.createElement)("img",{style:c.image,src:window.themeisleSDKPromotions.assets+n.image}),(0,e.createElement)(p,{onClick:()=>g(!0)}))}}))))}return(0,e.createElement)(n,i)}),"withInspectorControl");(0,i.select)("core/edit-site")||(0,s.addFilter)("editor.BlockEdit","themeisle-sdk/with-inspector-controls",u);const h=window.wp.plugins,w=window.wp.editPost;function g(t){let{stacked:n=!1,noImage:i=!1,type:s,onDismiss:m,onSuccess:c,initialStatus:d=null}=t;const{assets:p,title:u,email:h,option:w,optionKey:g,labels:E,optimoleActivationUrl:k,optimoleApi:y,optimoleDash:f,nonce:P}=window.themeisleSDKPromotions,[S,v]=(0,e.useState)(!1),[b,D]=(0,e.useState)(h||""),[B,\_]=(0,e.useState)(!1),[N,K]=(0,e.useState)(d),[C,O]=r(),A=async()=>{\_(!0);const e={...w};e[s]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await O(g,JSON.stringify(e)),m&&m()},x=()=>{v(!S)},j=e=>{D(e.target.value)},I=async e=>{e.preventDefault(),K("installing"),await l("optimole-wp"),K("activating"),await a(k),O("themeisle\_sdk\_promotions\_optimole\_installed",!Boolean(C("themeisle\_sdk\_promotions\_optimole\_installed"))),K("connecting");try{await fetch(y,{method:"POST",headers:{"X-WP-Nonce":P,"Content-Type":"application/json"},body:JSON.stringify({email:b})}),c&&c(),K("done")}catch(e){K("done")}};if(B)return null;const R=()=>"done"===N?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null," ",E.optimole.all\_set),(0,e.createElement)(o.Button,{icon:"external",isPrimary:!0,href:f,target:"\_blank"},E.optimole.gotodash)):N?(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===N&&E.optimole.installing,"activating"===N&&E.optimole.activating,"connecting"===N&&E.optimole.connecting,"…")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null,"Enter your email address to create & connect your account"),(0,e.createElement)("form",{onSubmit:I},(0,e.createElement)("input",{defaultValue:b,type:"email",onChange:j,placeholder:E.optimole.email\_placeholder}),(0,e.createElement)(o.Button,{isPrimary:!0,type:"submit"},E.optimole.start\_cta))),T=()=>(0,e.createElement)(o.Button,{disabled:N&&"done"!==N,onClick:A,isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},E.optimole.dismisscta));return n?(0,e.createElement)("div",{className:"ti-om-stack-wrap"},(0,e.createElement)("div",{className:"om-stack-notice"},T(),(0,e.createElement)("img",{src:p+"/optimole-logo.svg",alt:"Optimole logo"}),(0,e.createElement)("h2",null,E.optimole.heading),(0,e.createElement)("p",null,"om-editor"===s||"om-image-block"===s?E.optimole.message1:E.optimole.message2),!S&&"done"!==N&&(0,e.createElement)(o.Button,{isPrimary:!0,onClick:x,className:"cta"},E.optimole.gst),(S||"done"===N)&&R(),(0,e.createElement)("i",null,u))):(0,e.createElement)(e.Fragment,null,T(),(0,e.createElement)("div",{className:"content"},!i&&(0,e.createElement)("img",{src:p+"/optimole-logo.svg",alt:"Optimole logo"}),(0,e.createElement)("div",null,(0,e.createElement)("p",null,u),(0,e.createElement)("p",{className:"description"},"om-media"===s?E.optimole.message3:E.optimole.message4),!S&&(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(o.Button,{isPrimary:!0,onClick:x},E.optimole.gst),(0,e.createElement)(o.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/optimole-wp"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null," ",E.optimole.learnmore))),S&&(0,e.createElement)("div",{className:"form-wrap"},R()))))}const E=()=>{const[t,o]=(0,e.useState)(!0),{getBlocks:n}=(0,i.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor");return{getBlocks:t}}));var s;if((s=n(),"core/image",s.reduce(m,[]).filter((e=>"core/image"===e.name))).length<2)return null;const r="ti-sdk-optimole-post-publish "+(t?"":"hidden");return(0,e.createElement)(w.PluginPostPublishPanel,{className:r},(0,e.createElement)(g,{stacked:!0,type:"om-editor",onDismiss:()=>{o(!1)}}))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(this.debug)this.runAll();else switch(this.promo){case"om-attachment":this.runAttachmentPromo();break;case"om-media":this.runMediaPromo();break;case"om-editor":this.runEditorPromo();break;case"om-image-block":this.runImageBlockPromo();break;case"om-elementor":this.runElementorPromo()}}runAttachmentPromo(){wp.media.view.Attachment.Details.prototype.on("ready",(()=>{setTimeout((()=>{this.removeAttachmentPromo(),this.addAttachmentPromo()}),100)})),wp.media.view.Modal.prototype.on("close",(()=>{setTimeout(this.removeAttachmentPromo,100)}))}runMediaPromo(){if(window.themeisleSDKPromotions.option["om-media"])return;const t=document.querySelector("#ti-optml-notice");t&&(0,e.render)((0,e.createElement)(g,{type:"om-media",onDismiss:()=>{t.style.opacity=0}}),t)}runImageBlockPromo(){if(window.themeisleSDKPromotions.option["om-image-block"])return;let o=!0,i=null;const r=(0,n.createHigherOrderComponent)((n=>s=>"core/image"===s.name&&o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,s),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(g,{stacked:!0,type:"om-image-block",initialStatus:i,onDismiss:()=>{o=!1},onSuccess:()=>{i="done"}}))):(0,e.createElement)(n,s)),"withImagePromo");(0,s.addFilter)("editor.BlockEdit","optimole-promo/image-promo",r,99)}runEditorPromo(){window.themeisleSDKPromotions.option["om-editor"]||(0,h.registerPlugin)("optimole-promo",{render:E})}runElementorPromo(){if(!window.elementor)return;const t=this;elementor.on("preview:loaded",(()=>{elementor.panel.currentView.on("set:page:editor",(o=>{t.domRef&&(0,e.unmountComponentAtNode)(t.domRef),o.activeSection&&"section\_image"===o.activeSection&&t.runElementorActions(t)}))}))}addAttachmentPromo(){if(this.domRef&&(0,e.unmountComponentAtNode)(this.domRef),window.themeisleSDKPromotions.option["om-attachment"])return;const t=document.querySelector("#ti-optml-notice-helper");t&&(this.domRef=t,(0,e.render)((0,e.createElement)("div",{className:"notice notice-info ti-sdk-om-notice",style:{margin:0}},(0,e.createElement)(g,{noImage:!0,type:"om-attachment",onDismiss:()=>{t.style.opacity=0}})),t))}removeAttachmentPromo(){const t=document.querySelector("#ti-optml-notice-helper");t&&(0,e.unmountComponentAtNode)(t)}runElementorActions(t){if(window.themeisleSDKPromotions.option["om-elementor"])return;const o=document.querySelector("#elementor-panel\_\_editor\_\_help"),n=document.createElement("div");n.id="ti-optml-notice",t.domRef=n,o&&(o.parentNode.insertBefore(n,o),(0,e.render)((0,e.createElement)(g,{stacked:!0,type:"om-elementor",onDismiss:()=>{n.style.opacity=0}}),n))}runAll(){this.runAttachmentPromo(),this.runMediaPromo(),this.runEditorPromo(),this.runImageBlockPromo(),this.runElementorPromo()}};const k=t=>{let{onDismiss:n=(()=>{})}=t;const[i,s]=(0,e.useState)(""),[m,c]=r();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{disabled:"installing"===i,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["rop-posts"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await c(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),n&&n()},variant:"link",className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Boost your content's reach effortlessly! Introducing ",(0,e.createElement)("b",null,"Revive Old Posts"),", a cutting-edge plugin from the makers of ",window.themeisleSDKPromotions.product,". Seamlessly auto-share old & new content across social media, driving traffic like never before."),(0,e.createElement)("div",{className:"rop-notice-actions"},"installed"!==i?(0,e.createElement)(o.Button,{variant:"primary",isBusy:"installing"===i,onClick:async()=>{s("installing"),await l("tweet-old-post"),await a(window.themeisleSDKPromotions.ropActivationUrl),c("themeisle\_sdk\_promotions\_rop\_installed",!Boolean(m("themeisle\_sdk\_promotions\_rop\_installed"))),s("installed")}},"Install & Activate"):(0,e.createElement)(o.Button,{variant:"primary",href:window.themeisleSDKPromotions.ropDash},"Visit Dashboard"),(0,e.createElement)(o.Button,{variant:"link",target:"\_blank",href:"https://wordpress.org/plugins/tweet-old-post/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["rop-posts"])return;const t=document.querySelector("#ti-rop-notice");t&&(0,e.render)((0,e.createElement)(k,{onDismiss:()=>{t.style.display="none"}}),t)}};const y=t=>{let{onDismiss:n=(()=>{})}=t;const[i,s]=r(),{neveFSEMoreUrl:l}=window.themeisleSDKPromotions;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["neve-fse-themes-popular"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await s(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),n&&n()},className:"notice-dismiss"},(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Meet ",(0,e.createElement)("b",null,"Neve FSE")," from the makers of ",window.themeisleSDKPromotions.product,". A theme that makes full site editing on WordPress straightforward and user-friendly."),(0,e.createElement)("div",{className:"neve-fse-notice-actions"},(0,e.createElement)(o.Button,{variant:"link",target:"\_blank",href:l},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["neve-fse-themes-popular"])return;const t=document.querySelector("#ti-neve-fse-notice");t&&(0,e.render)((0,e.createElement)(y,{onDismiss:()=>{t.style.display="none"}}),t)}}}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,o,i,s)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],s=e[c][2];for(var l=!0,a=0;a<o.length;a++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](o[a])))?o.splice(a--,1):(l=!1,s<r&&(r=s));if(l){e.splice(c--,1);var m=i();void 0!==m&&(t=m)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,r=o[0],l=o[1],a=o[2],m=0;if(r.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(a)var c=a(n)}for(t&&t(o);m<r.length;m++)s=r[m],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self.webpackChunkthemeisle\_sdk=self.webpackChunkthemeisle\_sdk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[431],(()=>n(165)));i=n~~.O(i)})(); |
  |  | 1 | (()=>{"use strict";var e,t={163:()=>{const e=window.React,t=window.wp.blockEditor,n=window.wp.components,o=window.wp.compose,i=window.wp.data,s=window.wp.element,r=window.wp.hooks,a=()=>{const{createNotice:e}=(0,i.dispatch)("core/notices"),[t,n]=(0,s.useState)({}),[o,r]=(0,s.useState)("loading");return(0,i.useSelect)((e=>{if(Object.keys(t).length)return;const{getEntityRecord:o}=e("core"),i=o("root","site");i&&(r("loaded"),n(i))}),[]),[e=>t?.[e],async(t,o,i="Settings saved.")=>{const s={[t]:o};try{const t=await fetch("/wp-json/wp/v2/settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify(s)});t.ok||(r("error"),e("error","Could not save the settings.",{isDismissible:!0,type:"snackbar"}));const o=await t.json();r("loaded"),e("success",i,{isDismissible:!0,type:"snackbar"}),n(o)}catch(e){console.error("Error updating option:",e)}},o]},l=(e,t=!1)=>new Promise((n=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:e=>{n({success:!0,data:e})},error:e=>{n({success:!1,code:e.errorCode})}})})),c=e=>new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))})),m=(e,t)=>{const n={};return Object.keys(t).forEach((function(e){"innerBlocks"!==e&&(n[e]=t[e])})),e.push(n),Array.isArray(t.innerBlocks)?(n.innerBlocks=t.innerBlocks.map((e=>e.id)),t.innerBlocks.reduce(m,e)):e},d={button:{display:"flex",justifyContent:"center",width:"100%"},image:{padding:"20px 0"},skip:{container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{fontSize:"9px"},poweredby:{fontSize:"9px",textTransform:"uppercase"}}},p={"blocks-css":{title:"Custom CSS",description:"Enable Otter Blocks to add Custom CSS for this block.",image:"css.jpg"},"blocks-animation":{title:"Animations",description:"Enable Otter Blocks to add Animations for this block.",image:"animation.jpg"},"blocks-conditions":{title:"Visibility Conditions",description:"Enable Otter Blocks to add Visibility Conditions for this block.",image:"conditions.jpg"}},u=({onClick:t})=>(0,e.createElement)("div",{style:d.skip.container},(0,e.createElement)(n.Button,{style:d.skip.button,variant:"tertiary",onClick:t},"Skip for now"),(0,e.createElement)("span",{style:d.skip.poweredby},"Recommended by ",window.themeisleSDKPromotions.product)),h=(0,o.createHigherOrderComponent)((o=>i=>{const[r,m]=(0,s.useState)(!1),[h,w]=(0,s.useState)("default"),[g,E]=(0,s.useState)(!1),[k,f,v]=a();if((0,s.useEffect)((()=>{g&&(()=>{const e={...window.themeisleSDKPromotions.option};e[window.themeisleSDKPromotions.showPromotion]=(new Date).getTime()/1e3|0,f("themeisle\_sdk\_promotions",JSON.stringify(e)),window.themeisleSDKPromotions.showPromotion=!1})()}),[g]),!i.isSelected||!Boolean(window.themeisleSDKPromotions.showPromotion))return(0,e.createElement)(o,{...i});const y=async()=>{m(!0),await l("otter-blocks"),f("themeisle\_sdk\_promotions\_otter\_installed",!Boolean(k("themeisle\_sdk\_promotions\_otter\_installed"))),await c(window.themeisleSDKPromotions.otterActivationUrl),m(!1),w("installed")},S=()=>"installed"===h?(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Awesome! Refresh the page to see Otter Blocks in action.")):(0,e.createElement)(n.Button,{variant:"secondary",onClick:y,isBusy:r,style:d.button},"Install & Activate Otter Blocks");return g?(0,e.createElement)(o,{...i}):(0,e.createElement)(s.Fragment,null,(0,e.createElement)(o,{...i}),(0,e.createElement)(t.InspectorControls,null,Object.keys(p).map((t=>{if(t===window.themeisleSDKPromotions.showPromotion){const o=p[t];return(0,e.createElement)(n.PanelBody,{key:t,title:o.title,initialOpen:!1},(0,e.createElement)("p",null,o.description),(0,e.createElement)(S,null),(0,e.createElement)("img",{style:d.image,src:window.themeisleSDKPromotions.assets+o.image}),(0,e.createElement)(u,{onClick:()=>E(!0)}))}}))))}),"withInspectorControl");(0,i.select)("core/edit-site")||(0,r.addFilter)("editor.BlockEdit","themeisle-sdk/with-inspector-controls",h);const w=window.wp.plugins,g=window.wp.editPost;function E({stacked:t=!1,type:o,onDismiss:i,onSuccess:r,initialStatus:m=null}){const{title:d,option:p,optionKey:u,labels:h,optimoleActivationUrl:w,optimoleDash:g}=window.themeisleSDKPromotions,[E,k]=(0,s.useState)(!1),[f,v]=(0,s.useState)(m),[y,S]=a(),P=async()=>{k(!0);const e={...p};e[o]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await S(u,JSON.stringify(e)),i&&i()},b=async e=>{e.preventDefault(),v("installing"),await l("optimole-wp"),v("activating"),await c(w),S("themeisle\_sdk\_promotions\_optimole\_installed",!0).then((()=>{v("done")}))};if(E)return null;const D=()=>"done"===f?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null," ",h.all\_set),(0,e.createElement)(n.Button,{icon:"external",isPrimary:!0,href:g,target:"\_blank"},h.optimole.gotodash)):(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===f&&h.installing,"activating"===f&&h.activating,"…")),\_=()=>(0,e.createElement)(n.Button,{disabled:f&&"done"!==f,onClick:P,isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},h.optimole.dismisscta)),N=(t=!1)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Button,{isPrimary:!0,onClick:b,className:t?"cta":""},h.optimole.installOptimole),(0,e.createElement)(n.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/optimole-wp"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null," ",h.learnmore))),B=(0,e.createElement)("div",{className:"ti-om-stack-wrap ti-sdk-om-notice"},(0,e.createElement)("div",{className:"om-stack-notice"},\_(),(0,e.createElement)("i",null,d),(0,e.createElement)("p",null,["om-editor","om-image-block"].includes(o)?h.optimole.message1:h.optimole.message2),f?D():N(!0))),C=(0,e.createElement)(e.Fragment,null,\_(),(0,e.createElement)("div",{className:"content"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,d),(0,e.createElement)("p",{className:"description"},"om-media"===o?h.optimole.message3:h.optimole.message4),f?D():(0,e.createElement)("div",{className:"actions"},N()))));return t?B:C}const k=()=>{const[t,n]=(0,s.useState)(!0),{getBlocks:o}=(0,i.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor");return{getBlocks:t}}));var r;if((r=o(),r.reduce(m,[]).filter((e=>"core/image"===e.name))).length<2)return null;const a="ti-sdk-optimole-post-publish "+(t?"":"hidden");return(0,e.createElement)(g.PluginPostPublishPanel,{className:a},(0,e.createElement)(E,{stacked:!0,type:"om-editor",onDismiss:()=>{n(!1)}}))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(this.debug)this.runAll();else switch(this.promo){case"om-attachment":this.runAttachmentPromo();break;case"om-media":this.runMediaPromo();break;case"om-editor":this.runEditorPromo();break;case"om-image-block":this.runImageBlockPromo();break;case"om-elementor":this.runElementorPromo()}}runAttachmentPromo(){wp.media.view.Attachment.Details.prototype.on("ready",(()=>{setTimeout((()=>{this.removeAttachmentPromo(),this.addAttachmentPromo()}),100)})),wp.media.view.Modal.prototype.on("close",(()=>{setTimeout(this.removeAttachmentPromo,100)}))}runMediaPromo(){if(window.themeisleSDKPromotions.option["om-media"])return;const t=document.querySelector("#ti-optml-notice");t&&(0,s.render)((0,e.createElement)(E,{type:"om-media",onDismiss:()=>{t.style.opacity=0}}),t)}runImageBlockPromo(){if(window.themeisleSDKPromotions.option["om-image-block"])return;let n=!0,i=null;const a=(0,o.createHigherOrderComponent)((o=>r=>"core/image"===r.name&&n?(0,e.createElement)(s.Fragment,null,(0,e.createElement)(o,{...r}),(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(E,{stacked:!0,type:"om-image-block",initialStatus:i,onDismiss:()=>{n=!1},onSuccess:()=>{i="done"}}))):(0,e.createElement)(o,{...r})),"withImagePromo");(0,r.addFilter)("editor.BlockEdit","optimole-promo/image-promo",a,99)}runEditorPromo(){window.themeisleSDKPromotions.option["om-editor"]||(0,w.registerPlugin)("optimole-promo",{render:k})}runElementorPromo(){if(!window.elementor)return;const e=this;elementor.on("preview:loaded",(()=>{elementor.panel.currentView.on("set:page:editor",(t=>{e.domRef&&(0,s.unmountComponentAtNode)(e.domRef),t.activeSection&&"section\_image"===t.activeSection&&e.runElementorActions(e)}))}))}addAttachmentPromo(){if(this.domRef&&(0,s.unmountComponentAtNode)(this.domRef),window.themeisleSDKPromotions.option["om-attachment"])return;const t=document.querySelector("#ti-optml-notice-helper");t&&(this.domRef=t,(0,s.render)((0,e.createElement)("div",{className:"notice notice-info ti-sdk-om-notice",style:{margin:0}},(0,e.createElement)(E,{type:"om-attachment",onDismiss:()=>{t.style.opacity=0}})),t))}removeAttachmentPromo(){const e=document.querySelector("#ti-optml-notice-helper");e&&(0,s.unmountComponentAtNode)(e)}runElementorActions(t){if(window.themeisleSDKPromotions.option["om-elementor"])return;const n=document.querySelector("#elementor-panel\_\_editor\_\_help"),o=document.createElement("div");o.id="ti-optml-notice",t.domRef=o,n&&(n.parentNode.insertBefore(o,n),(0,s.render)((0,e.createElement)(E,{stacked:!0,type:"om-elementor",onDismiss:()=>{o.style.opacity=0}}),o))}runAll(){this.runAttachmentPromo(),this.runMediaPromo(),this.runEditorPromo(),this.runImageBlockPromo(),this.runElementorPromo()}};const f=({onDismiss:t=()=>{}})=>{const[o,i]=(0,s.useState)(""),[r,m]=a();return(0,e.createElement)(s.Fragment,null,(0,e.createElement)(n.Button,{disabled:"installing"===o,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["rop-posts"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await m(window.themeisleSDKPromotions.optionKey,JSON.stringify(e)),t&&t()},variant:"link",className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},"Dismiss this notice.")),(0,e.createElement)("p",null,"Boost your content's reach effortlessly! Introducing ",(0,e.createElement)("b",null,"Revive Social"),", a cutting-edge plugin from the makers of ",window.themeisleSDKPromotions.product,". Seamlessly auto-share old & new content across social media, driving traffic like never before."),(0,e.createElement)("div",{className:"rop-notice-actions"},"installed"!==o?(0,e.createElement)(n.Button,{variant:"primary",isBusy:"installing"===o,onClick:async()=>{i("installing"),await l("tweet-old-post"),await c(window.themeisleSDKPromotions.ropActivationUrl),m("themeisle\_sdk\_promotions\_rop\_installed",!Boolean(r("themeisle\_sdk\_promotions\_rop\_installed"))),i("installed")}},"Install & Activate"):(0,e.createElement)(n.Button,{variant:"primary",href:window.themeisleSDKPromotions.ropDash},"Visit Dashboard"),(0,e.createElement)(n.Button,{variant:"link",target:"\_blank",href:"https://wordpress.org/plugins/tweet-old-post/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null,"Learn more"))))};new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["rop-posts"])return;const t=document.querySelector("#ti-rop-notice");t&&(0,s.render)((0,e.createElement)(f,{onDismiss:()=>{t.style.display="none"}}),t)}};const v=({onDismiss:t=()=>{}})=>{const{title:o,optionKey:i,labels:r,neveAction:c,activateNeveURL:m}=window.themeisleSDKPromotions,[d,p]=a(),[u,h]=(0,s.useState)(null);return(0,e.createElement)(s.Fragment,null,(0,e.createElement)(n.Button,{disabled:u&&"done"!==u,onClick:async()=>{const e={...window.themeisleSDKPromotions.option};e["neve-themes-popular"]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await p(i,JSON.stringify(e)),t&&t()},isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},r.redirectionCF7.dismisscta)),(0,e.createElement)("div",{className:"content"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,o),(0,e.createElement)("p",{className:"description"},"Meet ",(0,e.createElement)("b",null,"Neve"),", from the creators of ",window.themeisleSDKPromotions.product,". A very fast and free theme, trusted by over 300,000 users for building their websites and rated 4.7 stars!"),!u&&(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(n.Button,{variant:"primary",onClick:e=>{if(e.preventDefault(),"activate"===c)return h("activating"),void p("themeisle\_sdk\_promotions\_neve\_installed",!0).then((()=>{window.location.href=m}));h("installing"),l("neve",!0).then((e=>{h("activating"),p("themeisle\_sdk\_promotions\_neve\_installed",!0).then((()=>{window.location.href=e.data.activateUrl}))}))}},"install"===c&&r.installActivate,"activate"===c&&r.activate),(0,e.createElement)(n.Button,{variant:"link",href:window.themeisleSDKPromotions.nevePreviewURL},r.preview)),u&&"done"!==u&&(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===u&&r.installing,"activating"===u&&r.activating,"…")))))};function y({type:t,onDismiss:o}){const{title:i,option:r,optionKey:m,labels:d,rfCF7ActivationUrl:p,cf7Dash:u}=window.themeisleSDKPromotions,[h,w]=(0,s.useState)(!1),[g,E]=(0,s.useState)(null),[k,f]=a();if(h)return null;const v=(0,e.createElement)("div",{className:"actions"},(0,e.createElement)(n.Button,{isPrimary:!0,onClick:async e=>{e.preventDefault(),E("installing"),await l("wpcf7-redirect"),E("activating"),await c(p),f("themeisle\_sdk\_promotions\_redirection\_cf7\_installed",!Boolean(k("themeisle\_sdk\_promotions\_redirection\_cf7\_installed"))),E("done")}},d.redirectionCF7.gst),(0,e.createElement)(n.Button,{isLink:!0,target:"\_blank",href:"https://wordpress.org/plugins/wpcf7-redirect/"},(0,e.createElement)("span",{className:"dashicons dashicons-external"}),(0,e.createElement)("span",null," ",d.learnmore)));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Button,{disabled:g&&"done"!==g,onClick:async()=>{w(!0);const e={...r};e[t]=(new Date).getTime()/1e3|0,window.themeisleSDKPromotions.option=e,await f(m,JSON.stringify(e)),o&&o()},isLink:!0,className:"om-notice-dismiss"},(0,e.createElement)("span",{className:"dashicons-no-alt dashicons"}),(0,e.createElement)("span",{className:"screen-reader-text"},d.redirectionCF7.dismisscta)),(0,e.createElement)("div",{className:"content"},(0,e.createElement)("div",null,(0,e.createElement)("p",null,i),(0,e.createElement)("p",{className:"description"},d.redirectionCF7.message),g?"done"===g?(0,e.createElement)("div",{className:"done"},(0,e.createElement)("p",null," ",d.all\_set),(0,e.createElement)(n.Button,{icon:"external",variant:"primary",href:u,target:"\_blank"},d.redirectionCF7.gotodash)):(0,e.createElement)("p",{className:"om-progress"},(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),(0,e.createElement)("span",null,"installing"===g&&d.installing,"activating"===g&&d.activating,"…")):v)))}new class{constructor(){const{showPromotion:e,debug:t}=window.themeisleSDKPromotions;this.promo=e,this.debug="1"===t,this.domRef=null,this.run()}run(){if(window.themeisleSDKPromotions.option["neve-themes-popular"])return;const t=document.querySelector("#ti-neve-notice");t&&(0,s.render)((0,e.createElement)(v,{onDismiss:()=>{t.style.display="none"}}),t)}},new class{constructor(){this.run()}run(){if(window.themeisleSDKPromotions.option["redirection-cf7"])return;const t=document.querySelector("#ti-redirection-cf7-notice");t&&(0,s.render)((0,e.createElement)(y,{type:"redirection-cf7",onDismiss:()=>{t.style.display="none"}}),t)}}}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,i,s)=>{if(!n){var r=1/0;for(m=0;m<e.length;m++){for(var[n,i,s]=e[m],a=!0,l=0;l<n.length;l++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(m--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[n,i,s]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,s,[r,a,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(l)var m=l(o)}for(t&&t(n);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(m)},n=globalThis.webpackChunkthemeisle\_sdk=globalThis.webpackChunkthemeisle\_sdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[350],(()=>o(163)));i=o.O(i)})(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css")

  | [r2926556](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css?rev=2926556#L1 "Show revision 2926556 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/promos/style-index.css?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .ti-sdk-om-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;position:relative;padding:0;border-left-color:#3858e9}.ti-sdk-om-notice .content{background:rgba(255,255,255,.75);display:flex;align-items:center;padding:15px 20px}.ti-sdk-om-notice img{max-width:100px;margin-right:20px;display:none}.ti-sdk-om-notice .description{font-size:14px;margin-bottom:~~20px;color:#000}.ti-sdk-om-notice .actions{margin-top:auto;display:flex;margin-bottom:0;gap:20px}.ti-sdk-om-notice form{display:flex;align-items:center;gap:10px}.ti-sdk-om-notice .form-wrap{display:grid}.ti-sdk-om-notice .form-wrap span:not(.dashicons){margin-bottom:5px;font-weight:500}.ti-sdk-om-notice input{border-radius:0;min-width:250px}.ti-sdk-om-notice a.components-button{display:flex;align-items:center;justify-content:center}.ti-sdk-om-notice .is-link{text-decoration:none;display:flex;align-items:center}.ti-sdk-om-notice .is-link span{line-height:normal}.ti-sdk-om-notice .dashicons{margin-right:2px;text-decoration:none}.ti-sdk-om-notice .done{display:flex;flex-direction:column;align-items:flex-start}.ti-sdk-om-notice .done a{width:auto}.compat-field-optimole th{display:none !important}.compat-field-optimole td{width:100% !important}.compat-field-optimole .ti-sdk-om-notice{margin:0}.om-notice-dismiss{right:10px;top:10px;text-decoration:none !important;position:absolute}.om-notice-dismiss:before{content:none}.ti-om-stack-wrap .om-stack-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;display:flex;flex-direction:column;align-items:center;position:relative;text-align:center;padding:20px 10px}.ti-om-stack-wrap .om-stack-notice>span{display:none}.ti-om-stack-wrap .om-stack-notice img{max-width:90px !important}.ti-om-stack-wrap .om-stack-notice h2{font-size:18px;margin:30px auto 10px;font-weight:600}.ti-om-stack-wrap .om-stack-notice p{font-size:13px;max-width:250px;margin:0 auto;line-height:17px}.ti-om-stack-wrap .om-stack-notice i{margin-top:10px;font-size:12px;color:#757575}.ti-om-stack-wrap .om-stack-notice .cta{margin:20px auto 0;padding:10px 25px !important}.ti-om-stack-wrap .om-stack-notice .om-notice-dismiss{color:inherit}.ti-om-stack-wrap .om-stack-notice input{border-radius:0}.ti-om-stack-wrap .om-stack-notice form{place-items:center;width:75%;display:grid;margin-top:10px;gap:10px}.ti-om-stack-wrap .om-stack-notice .done{margin-top:15px;display:grid;gap:10px}.ti-om-stack-wrap .om-stack-notice .done p{font-size:15px;font-weight:500}.ti-om-stack-wrap .om-stack-notice .om-progress{margin:20px 0}.block-editor-block-inspector .ti-om-stack-wrap{border-top:1px solid #e0e0e0}.om-progress{gap:5px;font-size:14px;display:flex;align-items:center}.om-progress .spin{animation:om-rotation 2s infinite linear}@keyframes om-rotation{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.ti-sdk-om-promo.hidden{display:none}.media-sidebar .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.media-sidebar .ti-sdk-om-notice .description{margin-bottom:10px}.media-sidebar .ti-sdk-om-notice .content{padding:15px 10px}.media-sidebar .ti-sdk-om-notice .actions{gap:10px}.media-sidebar .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.attachment-info .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.attachment-info .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.ti-sdk-rop-notice{position:relative;padding:10px}.ti-sdk-rop-notice .rop-notice-actions{display:flex;gap:10px}.ti-sdk-rop-notice p{padding:0 10px 0 0}.ti-sdk-neve-fse-notice{position:relative;padding:10px}.ti-sdk-neve-fse-notice .neve-fse-notice-actions{display:flex;gap:10px}.ti-sdk-neve-fse-notice .neve-fse-notice-actions a{text-decoration:none}.ti-sdk-neve-fse-notice .neve-fse-notice-actions a span:not(.dashicons){text-decoration:underline}.ti-sdk-neve-fse-notice p{padding:0 10px 0 0;font-size:14px~~}@media screen and (min-width: 768px){.ti-sdk-om-notice img{display:block}}@media screen and (min-width: 1200px){.attachment-info .ti-sdk-om-notice form{flex-wrap:unset}} |
  |  | 1 | .ti-sdk-om-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;position:relative;padding:0;border-left-color:#3858e9}.ti-sdk-om-notice .content{background:rgba(255,255,255,.75);display:flex;align-items:center;padding:15px 20px}.ti-sdk-om-notice img{max-width:100px;margin-right:20px;display:none}.ti-sdk-om-notice .description{font-size:14px;margin-bottom:10px;color:#000}.ti-sdk-om-notice .actions{margin-top:auto;display:flex;margin-bottom:0;gap:20px}.ti-sdk-om-notice form{display:flex;align-items:center;gap:10px}.ti-sdk-om-notice .om-progress span:not(.dashicons){font-weight:500}.ti-sdk-om-notice input{border-radius:0;min-width:250px}.ti-sdk-om-notice a.components-button{display:flex;align-items:center;justify-content:center}.ti-sdk-om-notice .is-link{text-decoration:none;display:flex;align-items:center}.ti-sdk-om-notice .is-link span{line-height:normal}.ti-sdk-om-notice .dashicons{margin-right:2px;text-decoration:none}.ti-sdk-om-notice .done{display:flex;flex-direction:column;align-items:flex-start}.ti-sdk-om-notice .done a{width:auto}.compat-field-optimole th{display:none !important}.compat-field-optimole td{width:100% !important}.compat-field-optimole .ti-sdk-om-notice{margin:0}.om-notice-dismiss{right:10px;top:10px;text-decoration:none !important;position:absolute}.om-notice-dismiss:before{content:none}.ti-om-stack-wrap .om-stack-notice{--wp-admin-theme-color: #3858E9;--wp-admin-theme-color-darker-10: #2e47ba;gap:10px;border-left:4px solid #3858e9;display:flex;flex-direction:column;align-items:start;position:relative;padding:20px 10px}.ti-om-stack-wrap .om-stack-notice>span{display:none}.ti-om-stack-wrap .om-stack-notice img{max-width:90px !important}.ti-om-stack-wrap .om-stack-notice h2{font-size:18px;margin:30px auto 10px;font-weight:600}.ti-om-stack-wrap .om-stack-notice p{font-size:13px;max-width:250px;margin:0;line-height:normal}.ti-om-stack-wrap .om-stack-notice i{margin:10px 0 0;font-size:12px;color:#757575}.ti-om-stack-wrap .om-stack-notice .cta{padding:10px 25px !important}.ti-om-stack-wrap .om-stack-notice .om-notice-dismiss{color:inherit}.ti-om-stack-wrap .om-stack-notice input{border-radius:0}.ti-om-stack-wrap .om-stack-notice .done{margin-top:15px;display:grid;gap:10px}.ti-om-stack-wrap .om-stack-notice .done p{font-size:15px;font-weight:500}.ti-om-stack-wrap .om-stack-notice .om-progress{margin:10px 0}.block-editor-block-inspector .ti-om-stack-wrap{border-top:1px solid #e0e0e0}.om-progress{gap:5px;font-size:13px;display:flex;align-items:center}.om-progress .spin{animation:om-rotation 2s infinite linear}@keyframes om-rotation{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}.ti-sdk-om-promo.hidden{display:none}.media-sidebar .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.media-sidebar .ti-sdk-om-notice .description{margin-bottom:10px}.media-sidebar .ti-sdk-om-notice .content{padding:15px 10px}.media-sidebar .ti-sdk-om-notice .actions{gap:10px}.media-sidebar .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.attachment-info .ti-sdk-om-notice input{min-width:unset;flex-grow:1}.attachment-info .ti-sdk-om-notice form{flex-wrap:wrap;justify-content:center}.ti-sdk-rop-notice{position:relative;padding:10px}.ti-sdk-rop-notice .rop-notice-actions{display:flex;gap:10px}.ti-sdk-rop-notice p{padding:0 10px 0 0}.ti-sdk-optimole-post-publish{padding:0 !important}@media screen and (min-width: 768px){.ti-sdk-om-notice img{display:block}}@media screen and (min-width: 1200px){.attachment-info .ti-sdk-om-notice form{flex-wrap:unset}} |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.asset.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php")

  | [r3046442](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php?rev=3046442#L1 "Show revision 3046442 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array(), 'version' => '~~7eac74bcd8abf2e43780~~'); |
  |  | 1 | <?php return array('dependencies' => array(), 'version' => 'd18c4036e32153ba476c'); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey\_deps.js](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js")

  | [r3046442](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js?rev=3046442#L1 "Show revision 3046442 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/survey/survey_deps.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (()=>{"use strict";~~var e=Object.defineProperty,t=(t,n,s)=>(((t,n,s)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s})(t,"symbol"!=typeof n?n+"":n,s),s);const n=e=>({ok:!1,error:e});async function s(e,t,s,i){const r=new URL(t,e),o=JSON.stringify(i),a=(d=fetch,(...e)=>{try{return{ok:!0,data:d(...e)}}catch(e){return{ok:!1,error:e}}})(r.toString(),{method:s,headers:{"Content-Type":"application/json"},body:o});var d;if(!1===a.ok)return n(a.error);const c=await a.data,{data:u}=await c.json();return c.ok?(e=>({ok:!0,data:e}))(u):n({code:"network\_error",message:c.statusText,status:c.status,url:r})}class i{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/actions`,"POST",e)}}class r{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/displays`,"POST",e)}async update(e,t){return s(this.apiHost,`/api/v1/client/${this.environmentId}/displays/${e}`,"PUT",t)}}class o{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/people`,"POST",{environmentId:this.environmentId,userId:e})}async update(e,t){return s(this.apiHost,`/api/v1/client/${this.environmentId}/people/${e}`,"POST",t)}}class a{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return s(this.apiHost,`/api/v1/client/${this.environmentId}/responses`,"POST",e)}async update({responseId:e,finished:t,data:n,ttc:i}){return s(this.apiHost,`/api/v1/client/${this.environmentId}/responses/${e}`,"PUT",{finished:t,data:n,ttc:i})}}class d{constructor(e,t){this.apiHost=e,this.environmentId=t}async uploadFile(e,{allowedFileExtensions:t,surveyId:n}={}){if(!(e instanceof Blob&&e instanceof File))throw new Error("Invalid file type. Expected Blob or File, but received "+typeof e);const s={fileName:e.name,fileType:e.type,allowedFileExtensions:t,surveyId:n},i=await fetch(`${this.apiHost}/api/v1/client/${this.environmentId}/storage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error(`Upload failed with status: ${i.status}`);const r=await i.json(),{data:o}=r,{signedUrl:a,fileUrl:d,signingData:c,presignedFields:u,updatedFileName:l}=o;let g={};if(c){const{signature:t,timestamp:s,uuid:i}=c;g={"X-File-Type":e.type,"X-File-Name":encodeURIComponent(l),"X-Survey-ID":n??"","X-Signature":t,"X-Timestamp":String(s),"X-UUID":i}}const p=new FormData;u&&Object.keys(u).forEach((e=>{p.append(e,u[e])})),p.append("file",e);const h=await fetch(a,{method:"POST",...c?{headers:g}:{},body:p});if(!h.ok){if(c){const e=await h.json(),t=new Error(e.message);throw t.name="FileTooLargeError",t}const e=await h.text();if(u&&e&&e.includes("EntityTooLarge")){const e=new Error("File size exceeds the size limit for your plan");throw e.name="FileTooLargeError",e}throw new Error(`Upload failed with status: ${h.status}`)}return d}}class c{constructor(e){const{apiHost:t,environmentId:n}=e;this.response=new a(t,n),this.display=new r(t,n),this.action=new i(t,n),this.people=new o(t,n),this.storage=new d(t,n)}}class u{constructor(e){this.client=new c(e)}}class l{constructor(){this.logLevel="error"}static getInstance(){return l.instance||(l.instance=new l),l.instance}configure(e){e&&void 0!==e.logLevel&&(this.logLevel=e.logLevel)}logger(e,t){if("debug"===t&&"debug"!==this.logLevel)return;const n=`🧱 Formbricks - ${(new Date).toISOString()} [${t.toUpperCase()}] - ${e}`;"error"===t?console.error(n):console.log(n)}debug(e){this.logger(e,"debug")}error(e){this.logger(e,"error")}}const g=e=>({ok:!0,value:e}),p=e=>({ok:!1,error:e}),h=e=>(...t)=>{try{return{ok:!0,value:e(...t)}}catch(e){return{ok:!1,error:e}}},v=l.getInstance(),f=class e{constructor(e){this.customized=!1,e?(this.handleError=e,this.customized=!0):this.handleError=e=>l.getInstance().error(JSON.stringify(e))}static getInstance(){return e.instance||(e.instance=new e),e.instance}static init(t){this.initialized=!0,e.instance=new e(t)}printStatus(){v.debug("Custom error handler: "+(this.customized?"yes":"no"))}handle(e){console.warn("🧱 Formbricks - Global error: ",e),this.handleError(e)}};f.initialized=!1;let w=f;const y="formbricks-js";class m{constructor(){this.config=null;const e=this.loadFromLocalStorage();e.ok&&(this.config=e.value)}static getInstance(){return m.instance||(m.instance=new m),m.instance}update(e){if(e){const t=new Date((new Date).getTime()+12e4);this.config={...this.config,...e,expiresAt:t},this.saveToLocalStorage()}}get(){if(!this.config)throw new Error("config is null, maybe the init function was not called?");return this.config}loadFromLocalStorage(){if("undefined"!=typeof window){const e=localStorage.getItem(y);if(e){const t=JSON.parse(e);return t.expiresAt&&new Date(t.expiresAt)<=new Date?p(new Error("Config in local storage has expired")):g(JSON.parse(e))}}return p(new Error("No or invalid config in local storage"))}saveToLocalStorage(){return h((()=>localStorage.setItem(y,JSON.stringify(this.config))))()}resetConfig(){return this.config=null,h((()=>localStorage.removeItem(y)))()}}const I=(e,t)=>{const n=Math.abs(t.getTime()-e.getTime());return Math.floor(n/864e5)},b=()=>window.location.search.includes("formbricksDebug=true"),k=m.getInstance(),S=l.getInstance();let E=null;const H=async(e,t=!1)=>{var n;try{const s=await(async({apiHost:e,environmentId:t,userId:n},s)=>{const i=`${e}/api/v1/client/${t}/in-app/sync`,r="?version=1.6.0";let o={};if((s||b())&&(o.cache="no-cache",S.debug("No cache option set for sync")),!n){const e=i+r,t=await fetch(e,o);if(!t.ok){const n=await t.json();return p({code:"network\_error",status:t.status,message:"Error syncing with backend",url:e,responseMessage:n.message})}return g((await t.json()).data)}const a=`${i}/${n}${r}`,d=await fetch(a,o);if(!d.ok){const e=await d.json();return p({code:"network\_error",status:d.status,message:"Error syncing with backend",url:a,responseMessage:e.message})}const c=await d.json(),{data:u}=c;return g(u)})(e,t);if(!0!==(null==s?void 0:s.ok))throw S.error(`Sync failed: ${JSON.stringify(s.error)}`),s.error;let i;try{i=k.get().state}catch(e){}let r={surveys:s.value.surveys,noCodeActionClasses:s.value.noCodeActionClasses,product:s.value.product,attributes:(null==(n=s.value.person)?void 0:n.attributes)||{}};if(e.userId){const e=r.surveys.map((e=>e.name));S.debug("Fetched "+e.length+" surveys during sync: "+e.join(", "))}else{r={...r,displays:(null==i?void 0:i.displays)||[]},r=C(r);const e=r.surveys.map((e=>e.name));S.debug("Fetched "+e.length+" surveys during sync: "+e.join(", "))}k.update({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId,state:r})}catch(e){throw S.error(`Error during sync: ${e}`),e}},C=e=>{const{displays:t,product:n}=e;let{surveys:s}=e;if(!t)return e;let i=s.filter((e=>{if("respondMultiple"===e.displayOption)return!0;if("displayOnce"===e.displayOption)return 0===t.filter((t=>t.surveyId===e.id)).length;if("displayMultiple"===e.displayOption)return 0===t.filter((t=>t.surveyId===e.id&&t.responded)).length;throw Error("Invalid displayOption")}));const r=t.length>0?t[t.length-1]:void 0;return i=i.filter((e=>{if(r){if(null!==e.recontactDays){const n=t.filter((t=>t.surveyId===e.id))[0];return!n||I(new Date,new Date(n.createdAt))>=e.recontactDays}return null===n.recontactDays||I(new Date,new Date(r.createdAt))>=n.recontactDays}return!0})),{...e,surveys:i}},$=()=>{"undefined"!=typeof window&&null!==E&&(window.clearInterval(E),E=null)},A=e=>new Promise((t=>setTimeout(t,e)));class L{constructor(e,n){t(this,"queue",[]),t(this,"config"),t(this,"surveyState"),t(this,"isRequestInProgress",!1),t(this,"api"),this.config=e,this.surveyState=n,this.api=new u({apiHost:e.apiHost,environmentId:e.environmentId})}add(e){this.surveyState.accumulateResponse(e),this.config.setSurveyState&&this.config.setSurveyState(this.surveyState),this.queue.push(e),this.processQueue()}async processQueue(){if(this.isRequestInProgress)return;if(0===this.queue.length)return;this.isRequestInProgress=!0;const e=this.queue[0];let t=0;for(;t<this.config.retryAttempts;){if(await this.sendResponse(e)){this.queue.shift();break}console.error("Formbricks: Failed to send response. Retrying...",t),await A(1e3),t++}t>=this.config.retryAttempts?(console.error("Failed to send response after 2 attempts."),this.config.onResponseSendingFailed&&this.config.onResponseSendingFailed(e),this.isRequestInProgress=!1):(this.isRequestInProgress=!1,this.processQueue())}async sendResponse(e){try{if(null!==this.surveyState.responseId)await this.api.client.response.update({...e,responseId:this.surveyState.responseId});else{const t=await this.api.client.response.create({...e,surveyId:this.surveyState.surveyId,userId:this.surveyState.userId||null,singleUseId:this.surveyState.singleUseId||null});if(!t.ok)throw new Error("Could not create response");if(this.surveyState.displayId)try{await this.api.client.display.update(this.surveyState.displayId,{responseId:t.data.id})}catch(e){console.error("Failed to update display, proceeding with the response.",e)}this.surveyState.updateResponseId(t.data.id),this.config.setSurveyState&&this.config.setSurveyState(this.surveyState)}return!0}catch(e){return console.error(e),!1}}updateSurveyState(e){this.surveyState=e}}class F{constructor(e,n,s,i){t(this,"responseId",null),t(this,"displayId",null),t(this,"userId",null),t(this,"surveyId"),t(this,"responseAcc",{finished:!1,data:{},ttc:{}}),t(this,"singleUseId"),this.surveyId=e,this.userId=i??null,this.singleUseId=n??null,this.responseId=s??null}setSurveyId(e){this.surveyId=e,this.clear()}copy(){const e=new F(this.surveyId,this.singleUseId??void 0,this.responseId??void 0,this.userId??void 0);return e.responseId=this.responseId,e.responseAcc=this.responseAcc,e}updateResponseId(e){this.responseId=e}updateDisplayId(e){this.displayId=e}updateUserId(e){this.userId=e}accumulateResponse(e){this.responseAcc={finished:e.finished,ttc:e.ttc,data:{...this.responseAcc.data,...e.data}}}isResponseFinished(){return this.responseAcc.finished}clear(){this.responseId=null,this.responseAcc={finished:!1,data:{},ttc:{}}}}const O=F,U="formbricks-web-container",D=m.getInstance(),P=l.getInstance(),T=w.getInstance();let x=!1,N=e=>{};const R=async e=>{if(x)return void P.debug("A survey is already running. Skipping.");x=!0,e.delay&&P.debug(`Delaying survey by ${e.delay} seconds.`);const t=D.get().state.product,n=new O(e.id,null,null,D.get().userId),s=new L({apiHost:D.get().apiHost,environmentId:D.get().environmentId,retryAttempts:2,onResponseSendingFailed:()=>{N(!0)}},n),i=e.productOverwrites??{},r=i.brandColor??t.brandColor,o=i.highlightBorderColor??t.highlightBorderColor,a=i.clickOutsideClose??t.clickOutsideClose,d=i.darkOverlay??t.darkOverlay,c=i.placement??t.placement,l=t.inAppSurveyBranding,g=await M();setTimeout((()=>{g.renderSurveyModal({survey:e,brandColor:r,isBrandingEnabled:l,clickOutside:a,darkOverlay:d,highlightBorderColor:o,placement:c,getSetIsError:e=>{N=e},onDisplay:async()=>{const{userId:t}=D.get();if(!t){const t={createdAt:new Date,surveyId:e.id,responded:!1},n=D.get().state.displays,s=n?[...n,t]:[t],i=D.get();let r=C({...i.state,displays:s});D.update({...i,state:r})}const i=new u({apiHost:D.get().apiHost,environmentId:D.get().environmentId}),r=await i.client.display.create({surveyId:e.id,userId:t});if(!r.ok)throw new Error("Could not create display");const{id:o}=r.data;n.updateDisplayId(o),s.updateSurveyState(n)},onResponse:e=>{const{userId:t}=D.get();if(!t){const e=D.get().state.displays,t=e&&e[e.length-1];if(!t)throw new Error("No lastDisplay found");if(!t.responded){t.responded=!0;const n=D.get();let s=C({...n.state,displays:e});D.update({...n,state:s})}}t&&n.updateUserId(t),s.updateSurveyState(n),s.add({data:e.data,ttc:e.ttc,finished:e.finished})},onClose:z,onFileUpload:async(e,t)=>{const n=new u({apiHost:D.get().apiHost,environmentId:D.get().environmentId});return await n.client.storage.uploadFile(e,t)},onRetry:()=>{N(!1),s.processQueue()}})}),1e3\*e.delay)},z=async()=>{var e;if(null==(e=document.getElementById(U))||e.remove(),j(),!D.get().userId){const e=D.get().state,t=C(e);return D.update({...D.get(),state:t}),void(x=!1)}try{await H({apiHost:D.get().apiHost,environmentId:D.get().environmentId,userId:D.get().userId},!0),x=!1}catch(e){T.handle(e)}},j=()=>{const e=document.createElement("div");e.id=U,document.body.appendChild(e)},M=()=>new Promise(((e,t)=>{if(window.formbricksSurveys)e(window.formbricksSurveys);else{const n=document.createElement("script");n.src="https://unpkg.com/@formbricks/surveys@^1.6.0/dist/index.umd.js",n.async=!0,n.onload=()=>e(window.formbricksSurveys),n.onerror=e=>{console.error("Failed to load Formbricks Surveys library:",e),t(e)},document.head.appendChild(n)}})),q=l.getInstance(),\_=m.getInstance(),B=["Exit Intent (Desktop)","50% Scroll"],J=async e=>{var t;const{userId:n,state:{surveys:s=[]}}=\_.get();s.forEach((async t=>{const{inlineTriggers:n}=t,{codeConfig:s}=n??{};e!==(null==s?void 0:s.identifier)||await R(t)}));const i={environmentId:\_.get().environmentId,userId:n,name:e};if(n&&!B.includes(e)){q.debug(`Sending action "${e}" to backend`);const t=new u({apiHost:\_.get().apiHost,environmentId:\_.get().environmentId}),s=await t.client.action.create({...i,userId:n});if(!s.ok)return p({code:"network\_error",message:`Error tracking action ${e}`,status:500,url:`${\_.get().apiHost}/api/v1/client/${\_.get().environmentId}/actions`,responseMessage:s.error.message});b()&&await H({environmentId:\_.get().environmentId,apiHost:\_.get().apiHost,userId:n},!0)}q.debug(`Formbricks: Action "${e}" tracked`);const r=null==(t=\_.get().state)?void 0:t.surveys;return r&&r.length>0?await X(e,r):q.debug("No active surveys to display"),{ok:!0,value:void 0}},X=async(e,t)=>{for(const s of t)if(!s.displayPercentage||(n=s.displayPercentage,Math.floor(100\*Math.random())+1<=n)){for(const t of s.triggers)if(t===e)return q.debug(`Formbricks: survey ${s.id} triggered by action "${e}"`),void await R(s)}else q.debug("Survey display skipped based on displayPercentage.");var n},Q=e=>async(...t)=>{try{return{ok:!0,data:await e(...t)}}catch(e){return{ok:!1,error:e}}};let W=!1,Y=async function(e){if(e.clientY<=0){const e=await J("Exit Intent (Desktop)");if(!0!==e.ok)return p(e.error)}};const G=()=>{W&&(document.removeEventListener("mouseleave",Y),W=!1)};let K=!1,V=!1,Z=async()=>{const e=window.scrollY,t=window.innerHeight,n=document.documentElement.scrollHeight;if(0===e&&(V=!1),!V&&e/(n-t)>=.5){V=!0;const e=await J("50% Scroll");if(!0!==e.ok)return p(e.error)}};const ee=()=>{K&&(window.removeEventListener("scroll",Z),K=!1)},te=m.getInstance(),ne=l.getInstance(),se=w.getInstance(),ie=async()=>{var e;ne.debug(`Checking page url: ${window.location.href}`);const{state:t}=te.get(),{noCodeActionClasses:n=[],surveys:s=[]}=t??{},i=n.filter((e=>{const{innerHtml:t,cssSelector:n,pageUrl:s}=e.noCodeConfig||{};return s&&!t&&!n})),r=s.filter((e=>{var t;const{pageUrl:n,cssSelector:s,innerHtml:i}=(null==(t=e.inlineTriggers)?void 0:t.noCodeConfig)||{};return n&&!s&&!i}));if(i.length>0)for(const t of i){if(!(null==(e=t.noCodeConfig)?void 0:e.pageUrl))continue;const{noCodeConfig:{pageUrl:n}}=t,s=de(window.location.href,n.value,n.rule);if(!0!==s.ok)return p(s.error);if(!1===s.value)continue;const i=await J(t.name);if(!0!==i.ok)return p(i.error)}return r.length>0&&r.forEach((e=>{const{noCodeConfig:t}=e.inlineTriggers??{},{pageUrl:n}=t??{};if(n){const t=de(window.location.href,n.value,n.rule);if(!0!==t.ok)return p(t.error);R(e)}})),{ok:!0,value:void 0}};let re=!1;const oe=()=>ie(),ae=()=>{"undefined"!=typeof window&&re&&(window.removeEventListener("hashchange",oe),window.removeEventListener("popstate",oe),window.removeEventListener("pushstate",oe),window.removeEventListener("replacestate",oe),window.removeEventListener("load",oe),re=!1)};function de(e,t,n){switch(n){case"exactMatch":return g(e===t);case"contains":return g(e.includes(t));case"startsWith":return g(e.startsWith(t));case"endsWith":return g(e.endsWith(t));case"notMatch":return g(e!==t);case"notContains":return g(!e.includes(t));default:return p({code:"invalid\_match\_type",message:"Invalid match type"})}}const ce=(e,t)=>{var n,s,i,r,o,a,d,c;const u=null==(s=null==(n=t.noCodeConfig)?void 0:n.innerHtml)?void 0:s.value,l=null==(r=null==(i=t.noCodeConfig)?void 0:i.cssSelector)?void 0:r.value,g=null==(a=null==(o=t.noCodeConfig)?void 0:o.pageUrl)?void 0:a.value,p=null==(c=null==(d=t.noCodeConfig)?void 0:d.pageUrl)?void 0:c.rule;if(!u&&!l&&!g)return!1;if(u&&e.innerHTML!==u)return!1;if(l){const t=l.split(/\s\*(?=[.#])/);for(let n of t)if(!e.matches(n))return!1}if(g&&p){const e=de(window.location.href,g,p);if(!e.ok||!e.value)return!1}return!0};let ue=!1;const le=e=>(e=>{const{state:t}=te.get();if(!t)return;const{noCodeActionClasses:n}=t;if(!n)return;const s=e.target;n.forEach((e=>{ce(s,e)&&J(e.name).then((e=>{var t,n;n=e=>{se.handle(e)},!0===(t=e).ok?t.value:n(t.error)}))}));const i=t.surveys;i&&0!==i.length&&i.forEach((e=>{const{inlineTriggers:t}=e;t&&ce(s,t)&&R(e)}))})(e),ge=()=>{ue&&(document.removeEventListener("click",le),ue=!1)};let pe=!1;const he=m.getInstance(),ve=l.getInstance(),fe=async()=>(ve.error("'setUserId' is no longer supported. Please set the userId in the init call instead."),{ok:!0,value:void 0}),we=async(e,t)=>{if(ve.debug("Setting attribute: "+e+" to value: "+t),((e,t)=>he.get().state.attributes[e]===t)(e,t.toString()))return ve.debug("Attribute already set to this value. Skipping update."),{ok:!0,value:void 0};const n=await(async(e,t)=>{const{apiHost:n,environmentId:s,userId:i}=he.get();if(!i)return p({code:"missing\_person",message:"Unable to update attribute. User identification deactivated. No userId set."});const r={attributes:{[e]:t}},o=new u({apiHost:n,environmentId:s}),a=await o.client.people.update(i,r);return a.ok?(a.data.changed&&(ve.debug("Attribute updated. Syncing..."),await H({environmentId:s,apiHost:n,userId:i},!0)),{ok:!0,value:void 0}):p({code:"network\_error",status:500,message:`Error updating person with userId ${i}`,url:`${he.get().apiHost}/api/v1/client/${s}/people/${i}`,responseMessage:a.error.message})})(e,t.toString());return n.ok?(he.update({environmentId:he.get().environmentId,apiHost:he.get().apiHost,userId:he.get().userId,state:{...he.get().state,attributes:{...he.get().state.attributes,[e]:t.toString()}}}),{ok:!0,value:void 0}):p(n.error)},ye=async()=>{Ee()},me=async()=>{ve.debug("Resetting state & getting new state from backend"),z();const e={environmentId:he.get().environmentId,apiHost:he.get().apiHost,userId:he.get().userId};await ye();try{return await Se(e),{ok:!0,value:void 0}}catch(e){return p(e)}},Ie=m.getInstance(),be=l.getInstance();let ke=!1;const Se=async e=>{if(ke)return be.debug("Already initialized, skipping initialization."),{ok:!0,value:void 0};if(b()&&be.configure({logLevel:"debug"}),w.getInstance().printStatus(),be.debug("Start initialize"),!e.environmentId)return be.debug("No environmentId provided"),p({code:"missing\_field",field:"environmentId"});if(!e.apiHost)return be.debug("No apiHost provided"),p({code:"missing\_field",field:"apiHost"});if(be.debug("Adding widget container to DOM"),j(),!e.userId&&e.attributes)return be.error("No userId provided but attributes. Cannot update attributes without userId."),p({code:"missing\_field",field:"userId"});let t,n=null;if(e.userId&&e.attributes){const t=await(async(e,t,n,s)=>{var i,r;if(!n)return p({code:"missing\_person",message:"Unable to update attribute. User identification deactivated. No userId set."});const o={...s};try{const e=null==(r=null==(i=he.get())?void 0:i.state)?void 0:r.attributes;if(e)for(const[t,n]of Object.entries(e))o[t]===n&&delete o[t]}catch(e){ve.debug("config not set; sending all attributes to backend")}if(0===Object.keys(o).length)return ve.debug("No attributes to update. Skipping update."),g(o);ve.debug("Updating attributes: "+JSON.stringify(o));const a={attributes:o},d=new u({apiHost:e,environmentId:t}),c=await d.client.people.update(n,a);return c.ok?g(o):p({code:"network\_error",status:500,message:`Error updating person with userId ${n}`,url:`${e}/api/v1/client/${t}/people/${n}`,responseMessage:c.error.message})})(e.apiHost,e.environmentId,e.userId,e.attributes);if(!0!==t.ok)return p(t.error);n=t.value}try{t=Ie.get()}catch(e){be.debug("No existing configuration found.")}return t&&t.state&&t.environmentId===e.environmentId&&t.apiHost===e.apiHost&&t.userId===e.userId&&t.expiresAt?(be.debug("Found existing configuration."),t.expiresAt<new Date?(be.debug("Configuration expired."),await H({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId})):(be.debug("Configuration not expired. Extending expiration."),Ie.update(t))):(be.debug("No valid configuration found or it has been expired. Creating new config."),be.debug("Syncing."),await H({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId}),await J("New Session")),n&&Object.keys(n).length>0&&Ie.update({environmentId:Ie.get().environmentId,apiHost:Ie.get().apiHost,userId:Ie.get().userId,state:{...Ie.get().state,attributes:{...Ie.get().state.attributes,...e.attributes}}}),be.debug("Adding event listeners"),"undefined"!=typeof window&&null===E&&(E=window.setInterval((async()=>{k.get().expiresAt&&new Date(k.get().expiresAt)>=new Date||(S.debug("Config has expired. Starting sync."),await H({apiHost:k.get().apiHost,environmentId:k.get().environmentId,userId:k.get().userId}))}),3e4)),"undefined"==typeof window||re||(window.addEventListener("hashchange",oe),window.addEventListener("popstate",oe),window.addEventListener("pushstate",oe),window.addEventListener("replacestate",oe),window.addEventListener("load",oe),re=!0),"undefined"==typeof window||ue||(document.addEventListener("click",le),ue=!0),"undefined"==typeof document||W||(document.querySelector("body").addEventListener("mouseleave",Y),W=!0),"undefined"==typeof window||K||(window.addEventListener("load",(()=>{window.addEventListener("scroll",Z)})),K=!0),pe||(window.addEventListener("beforeunload",(()=>{$(),ae(),ge(),G(),ee()})),pe=!0),ke=!0,be.debug("Initialized"),ie(),{ok:!0,value:void 0}},Ee=()=>{be.debug("Deinitializing"),z(),$(),ae(),ge(),G(),ee(),pe&&(window.removeEventListener("beforeunload",(()=>{$(),ae(),ge(),G(),ee()})),pe=!1),Ie.resetConfig(),ke=!1};l.getInstance().debug("Create command queue");const He=new class{constructor(){this.queue=[],this.running=!1,this.resolvePromise=null,this.commandPromise=null}add(e=!0,t,...n){this.queue.push({command:t,checkInitialized:e,commandArgs:n}),this.running||(this.commandPromise=new Promise((e=>{this.resolvePromise=e,this.run()})))}async wait(){this.running&&await this.commandPromise}async run(){for(this.running=!0;this.queue.length>0;){const e=w.getInstance(),t=this.queue.shift();if(!t)continue;if(t.checkInitialized){const t=(be.debug("Check if initialized"),ke&&w.initialized?{ok:!0,value:void 0}:p({code:"not\_initialized",message:"Formbricks not initialized. Call initialize() first."}));t&&!0!==t.ok&&e.handle(t.error)}const n=async()=>await(null==t?void 0:t.command.apply(null,null==t?void 0:t.commandArgs)),s=await Q(n)();s&&(s.ok&&s.data&&!s.data.ok&&e.handle(s.data.error),!0!==s.ok&&e.handle(s.error))}this.running=!1,this.resolvePromise&&(this.resolvePromise(),this.resolvePromise=null,this.commandPromise=null)}},Ce=async(e,t)=>{He.add(!0,we,e,t),await He.wait()},$e={init:async e=>{w.init(e.errorHandler),He.add(!1,Se,e),await He.wait()},setUserId:async()=>{He.add(!0,fe),await He.wait()},setEmail:async e=>{Ce("email",e),await He.wait()},setAttribute:Ce,track:async(e,t={})=>{He.add(!0,J,e,t),await He.wait()},logout:async()=>{He.add(!0,ye),await He.wait()},reset:async()=>{He.add(!0,me),await He.wait()},registerRouteChange:async()=>{He.add(!0,ie),await He.wait()},getApi:()=>{const e=m.getInstance(),{environmentId:t,apiHost:n}=e.get();if(!t||!n)throw new Error("formbricks.init() must be called before getApi()");return new u({apiHost:n,environmentId:t})}};document.addEventListener("DOMContentLoaded",(()=>{window.tsdk\_formbricks=$e~~,window.dispatchEvent(new Event("themeisle:survey:loaded"))}))})(); |
  |  | 1 | (()=>{"use strict";async function r(r){if(!window.formbricks){const o=await fetch(`${r}/api/packages/app`);if(!o.ok)return{ok:!1,error:new Error("Failed to load Formbricks App SDK")};const e=await o.text(),t=document.createElement("script");t.innerHTML=e,document.head.appendChild(t);const n=async()=>new Promise(((r,o)=>{const e=setInterval((()=>{window.formbricks&&(clearInterval(e),r())}),100);setTimeout((()=>{clearInterval(e),o(new Error("Formbricks App SDK loading timed out"))}),1e4)}));try{return await n(),{ok:!0,data:void 0}}catch(r){return{ok:!1,error:new Error(r.message??"Failed to load Formbricks App SDK")}}}return{ok:!0,data:void 0}}const o=new Proxy({},{get:(o,e,t)=>async(...o)=>{if(!window.formbricks){if("init"!==e)return void console.error("🧱 Formbricks - Global error: You need to call formbricks.init before calling any other method");if(!o[0])return void console.error("🧱 Formbricks - Global error: You need to pass the apiHost as the first argument");const{apiHost:n}=o[0],i=await(t=r,async(...r)=>{try{return{ok:!0,data:await t(...r)}}catch(r){return{ok:!1,error:r}}})(n);if(!i.ok)return void console.error(`🧱 Formbricks - Global error: ${i.error.message}`)}var t;if(window.formbricks&&"function"!=typeof window.formbricks[e])console.error(`🧱 Formbricks - Global error: Formbricks App SDK does not support method ${String(e)}`);else try{return window.formbricks[e](...o)}catch(r){return void console.error(`Something went wrong: ${r}`)}}});document.addEventListener("DOMContentLoaded",(()=>{window.tsdk\_formbricks=o,window.dispatchEvent(new Event("themeisle:survey:loaded"))}))})(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.asset.php?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | <?php return array('dependencies' => array(), 'version' => 'b~~acc1f000efc9f479fc0~~'); |
  |  | 1 | <?php return array('dependencies' => array(), 'version' => 'b8af0b12ad3cabe4c4b8'); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js")

  | [r3011567](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3011567#L1 "Show revision 3011567 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/assets/js/build/tracking/tracking.js?rev=3139233#L1 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(){var e={705:function(e){e.exports=function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}u=n[s]={exports:{}},t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(r,o,i,s,u,a,f,l,c){"use strict";var d=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=y(e,t)).algorithm?d.createHash(t.algorithm):new v).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=d.getHashes?d.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function y(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function w(e){if("function"==typeof e)return null!=/^function\s+\w\*\s\*\(\s\*\)\s\*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["\_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},\_object:function(t){var o,s=Object.prototype.toString.call(t),u=/\[object (.\*)\]/i.exec(s);if(u=(u=u?u[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==i&&i.isBuffer&&i.isBuffer(t))return r("buffer:"),r(t);if("object"===u||"function"===u||"asyncfunction"===u)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||w(t)||s.splice(0,0,"prototype","\_\_proto\_\_","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),o=this,s.forEach((function(n){o.dispatch(n),r(":"),e.excludeValues||o.dispatch(t[n]),r(",")}));if(!this["\_"+u]){if(e.ignoreUnknown)return r("["+u+"]");throw new Error('Unknown object type "'+u+'"')}this["\_"+u](t)},\_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var i=this;if(r("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var s=[];return o=t.map((function(t){var r=new v,o=n.slice();return b(e,r,o).dispatch(t),s=s.concat(o.slice(n.length)),r.read().toString()})),n=n.concat(s),o.sort(),this.\_array(o,!1)},\_date:function(e){return r("date:"+e.toJSON())},\_symbol:function(e){return r("symbol:"+e.toString())},\_error:function(e){return r("error:"+e.toString())},\_boolean:function(e){return r("bool:"+e.toString())},\_string:function(e){r("string:"+e.length+":"),r(e.toString())},\_function:function(t){r("fn:"),w(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.\_object(t)},\_number:function(e){return r("number:"+e.toString())},\_xml:function(e){return r("xml:"+e.toString())},\_null:function(){return r("Null")},\_undefined:function(){return r("Undefined")},\_regexp:function(e){return r("regex:"+e.toString())},\_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},\_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},\_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},\_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},\_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},\_url:function(e){return r("url:"+e.toString())},\_map:function(t){return r("map:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_set:function(t){return r("set:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},\_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},\_domwindow:function(){return r("domwindow")},\_bigint:function(e){return r("bigint:"+e.toString())},\_process:function(){return r("process")},\_timer:function(){return r("timer")},\_pipe:function(){return r("pipe")},\_tcp:function(){return r("tcp")},\_udp:function(){return r("udp")},\_tty:function(){return r("tty")},\_statwatcher:function(){return r("statwatcher")},\_securecontext:function(){return r("securecontext")},\_connection:function(){return r("connection")},\_zlib:function(){return r("zlib")},\_context:function(){return r("context")},\_nodescript:function(){return r("nodescript")},\_httpparser:function(){return r("httpparser")},\_dataview:function(){return r("dataview")},\_signal:function(){return r("signal")},\_fsevent:function(){return r("fsevent")},\_tlswrap:function(){return r("tlswrap")}}}function v(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=y(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake\_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),o="0".charCodeAt(0),i="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),a="\_".charCodeAt(0);function f(e){return(e=e.charCodeAt(0))===n||e===u?62:e===r||e===a?63:e<o?-1:e<o+10?e-o+26+26:e<s+26?e-s:e<i+26?e-i+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.length,i=(o="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,new t(3\*e.length/4-o)),s=0<o?e.length-4:e.length,u=0;function a(e){i[u++]=e}for(n=0;n<s;n+=4,0)a((16711680&(r=f(e.charAt(n))<<18|f(e.charAt(n+1))<<12|f(e.charAt(n+2))<<6|f(e.charAt(n+3))))>>16),a((65280&r)>>8),a(255&r);return 2==o?a(255&(r=f(e.charAt(n))<<2|f(e.charAt(n+1))>>4)):1==o&&(a((r=f(e.charAt(n))<<10|f(e.charAt(n+1))<<4|f(e.charAt(n+2))>>2)>>8&255),a(255&r)),i},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,s="";function u(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)s+=u((o=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+u(o>>12&63)+u(o>>6&63)+u(63&o);switch(i){case 1:s=(s+=u((n=e[e.length-1])>>2))+u(n<<4&63)+"==";break;case 2:s=(s=(s+=u((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+u(n>>4&63))+u(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/base64-js/lib/b64.js","/node\_modules/gulp-browserify/node\_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){var c=e("base64-js"),d=e("ieee754");function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var r,i,s,u,a=typeof e;if("base64"===t&&"string"==a)for(e=(u=e).trim?u.trim():u.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==a)r=x(e);else if("string"==a)r=o.byteLength(e,t);else{if("object"!=a)throw new Error("First argument needs to be a number, array or string.");r=x(e.length)}if(o.\_useTypedArrays?i=o.\_augment(new Uint8Array(r)):((i=this).length=r,i.\_isBuffer=!0),o.\_useTypedArrays&&"number"==typeof e.byteLength)i.\_set(e);else if(S(u=e)||o.isBuffer(u)||u&&"object"==typeof u&&"number"==typeof u.length)for(s=0;s<r;s++)o.isBuffer(e)?i[s]=e.readUInt8(s):i[s]=e[s];else if("string"==a)i.write(e,0,t);else if("number"==a&&!o.\_useTypedArrays&&!n)for(s=0;s<r;s++)i[s]=0;return i}function h(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function p(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function g(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=h(e,t,n,!0))?-1\*(65535-r+1):r}function y(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=p(e,t,n,!0))?-1\*(4294967295-r+1):r}function w(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function b(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function v(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"trying to write beyond buffer length"),M(t,65535)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,2);i<s;i++)e[n+i]=(t&255<<8\*(r?i:1-i))>>>8\*(r?i:1-i)}function m(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"trying to write beyond buffer length"),M(t,4294967295)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,4);i<s;i++)e[n+i]=t>>>8\*(r?i:3-i)&255}function \_(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||v(e,0<=t?t:65535+t+1,n,r,o)}function E(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||m(e,0<=t?t:4294967295+t+1,n,r,o)}function I(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),F(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function A(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+7<e.length,"Trying to write beyond buffer length"),F(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=o,n.SlowBuffer=o,n.INSPECT\_MAX\_BYTES=50,o.poolSize=8192,o.\_useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(e){return!(null==e||!e.\_isBuffer)},o.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=k(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=j(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2\*e.length;break;default:throw new Error("Unknown encoding")}return n},o.concat=function(e,t){if(Y(S(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new o(0);if(1===e.length)return e[0];if("number"!=typeof t)for(i=t=0;i<e.length;i++)t+=e[i].length;for(var n=new o(t),r=0,i=0;i<e.length;i++){var s=e[i];s.copy(n,r),r+=s.length}return n},o.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(f=r,r=t,t=n,n=f),t=Number(t)||0;var i,s,u,a,f=this.length-t;switch((!n||f<(n=Number(n)))&&(n=f),r=String(r||"utf8").toLowerCase()){case"hex":i=function(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i),Y((i=t.length)%2==0,"Invalid hex string"),i/2<r&&(r=i/2);for(var s=0;s<r;s++){var u=parseInt(t.substr(2\*s,2),16);Y(!isNaN(u),"Invalid hex string"),e[n+s]=u}return o.\_charsWritten=2\*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,u=t,a=n,i=o.\_charsWritten=T(k(e),s,u,a);break;case"ascii":case"binary":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":s=this,u=t,a=n,i=o.\_charsWritten=T(j(e),s,u,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=(n=e.charCodeAt(o))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return i},o.prototype.toString=function(e,t,n){var r,o,i,s,u=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):u.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;i++)o+=U(e[i]);return o}(u,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=C(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+C(o)}(u,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}(u,t,n);break;case"base64":o=u,s=n,r=0===(i=t)&&s===o.length?c.fromByteArray(o):c.fromByteArray(o.slice(i,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256\*r[i+1]);return o}(u,t,n);break;default:throw new Error("Unknown encoding")}return r},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.\_arr||this,0)}},o.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){Y(n<=r,"sourceEnd < sourceStart"),Y(0<=t&&t<e.length,"targetStart out of bounds"),Y(0<=n&&n<this.length,"sourceStart out of bounds"),Y(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(i<100||!o.\_useTypedArrays)for(var s=0;s<i;s++)e[s+t]=this[s+n];else e.\_set(this.subarray(n,n+i),t)}},o.prototype.slice=function(e,t){var n=this.length;if(e=L(e,n,0),t=L(t,n,n),o.\_useTypedArrays)return o.\_augment(this.subarray(e,t));for(var r=t-e,i=new o(r,void 0,!0),s=0;s<r;s++)i[s]=this[s+e];return i},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.readUInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},o.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},o.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},o.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},o.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},o.prototype.readInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1\*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){return g(this,e,!0,t)},o.prototype.readInt16BE=function(e,t){return g(this,e,!1,t)},o.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},o.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},o.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},o.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},o.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},o.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},o.prototype.writeUInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"trying to write beyond buffer length"),M(e,255)),t>=this.length||(this[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){v(this,e,t,!0,n)},o.prototype.writeUInt16BE=function(e,t,n){v(this,e,t,!1,n)},o.prototype.writeUInt32LE=function(e,t,n){m(this,e,t,!0,n)},o.prototype.writeUInt32BE=function(e,t,n){m(this,e,t,!1,n)},o.prototype.writeInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},o.prototype.writeInt16LE=function(e,t,n){\_(this,e,t,!0,n)},o.prototype.writeInt16BE=function(e,t,n){\_(this,e,t,!1,n)},o.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},o.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},o.prototype.writeFloatLE=function(e,t,n){I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){A(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){A(this,e,t,!1,n)},o.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,Y("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),Y(t<=n,"end < start"),n!==t&&0!==this.length){Y(0<=t&&t<this.length,"start out of bounds"),Y(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=U(this[r]),r===n.INSPECT\_MAX\_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(o.\_useTypedArrays)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var B=o.prototype;function L(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function x(e){return(e=~~Math.ceil(+e))<0?0:e}function S(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function k(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split("%")),s=0;s<i.length;s++)t.push(parseInt(i[s],16))}return t}function j(e){return c.toByteArray(e)}function T(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function C(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function M(e,t){Y("number"==typeof e,"cannot write a non-number as a number"),Y(0<=e,"specified a negative value for writing an unsigned value"),Y(e<=t,"value is larger than maximum value for type"),Y(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value"),Y(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value")}function Y(e,t){if(!e)throw new Error(t||"Failed assertion")}o.\_augment=function(e){return e.\_isBuffer=!0,e.\_get=e.get,e.\_set=e.set,e.get=B.get,e.set=B.set,e.write=B.write,e.toString=B.toString,e.toLocaleString=B.toString,e.toJSON=B.toJSON,e.copy=B.copy,e.slice=B.slice,e.readUInt8=B.readUInt8,e.readUInt16LE=B.readUInt16LE,e.readUInt16BE=B.readUInt16BE,e.readUInt32LE=B.readUInt32LE,e.readUInt32BE=B.readUInt32BE,e.readInt8=B.readInt8,e.readInt16LE=B.readInt16LE,e.readInt16BE=B.readInt16BE,e.readInt32LE=B.readInt32LE,e.readInt32BE=B.readInt32BE,e.readFloatLE=B.readFloatLE,e.readFloatBE=B.readFloatBE,e.readDoubleLE=B.readDoubleLE,e.readDoubleBE=B.readDoubleBE,e.writeUInt8=B.writeUInt8,e.writeUInt16LE=B.writeUInt16LE,e.writeUInt16BE=B.writeUInt16BE,e.writeUInt32LE=B.writeUInt32LE,e.writeUInt32BE=B.writeUInt32BE,e.writeInt8=B.writeInt8,e.writeInt16LE=B.writeInt16LE,e.writeInt16BE=B.writeInt16BE,e.writeInt32LE=B.writeInt32LE,e.writeInt32BE=B.writeInt32BE,e.writeFloatLE=B.writeFloatLE,e.writeFloatBE=B.writeFloatBE,e.writeDoubleLE=B.writeDoubleLE,e.writeDoubleBE=B.writeDoubleBE,e.fill=B.fill,e.inspect=B.inspect,e.toArrayBuffer=B.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/buffer/index.js","/node\_modules/gulp-browserify/node\_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=new o(4);c.fill(0),t.exports={hash:function(e,t,n,r){for(var i=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=o.concat([e,c],n));for(var n,r=[],i=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=4)r.push(i.call(e,s));return r}(e=o.isBuffer(e)?e:new o(e),r),8\*e.length),s=(t=r,new o(n)),u=t?s.writeInt32BE:s.writeInt32LE,a=0;a<i.length;a++)u.call(s,i[a],4\*a,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/helpers.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=e("./sha"),d=e("./sha256"),h=e("./rng"),p={sha1:c,sha256:d,md5:e("./md5")},g=64,y=new o(g);function w(e,t){var n=p[e=e||"sha1"],r=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return o.isBuffer(e)||(e=new o(e)),r.push(e),e.length,this},digest:function(e){var i=o.concat(r);return i=t?function(e,t,n){o.isBuffer(t)||(t=new o(t)),o.isBuffer(n)||(n=new o(n)),t.length>g?t=e(t):t.length<g&&(t=o.concat([t,y],g));for(var r=new o(g),i=new o(g),s=0;s<g;s++)r[s]=54^t[s],i[s]=92^t[s];return n=e(o.concat([r,n])),e(o.concat([i,n]))}(n,t,i):n(i),r=null,e?i.toString(e):i}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(e){return w(e)},n.createHmac=w,n.randomBytes=function(e,t){if(!t||!t.call)return new o(h(e));try{t.call(this,void 0,new o(h(e)))}catch(e){t(e)}};var v,m=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],\_=function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}};for(v in m)\_(m[v])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/index.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var u=n,a=r,f=o,l=i;n=p(n,r,o,i,e[s+0],7,-680876936),i=p(i,n,r,o,e[s+1],12,-389564586),o=p(o,i,n,r,e[s+2],17,606105819),r=p(r,o,i,n,e[s+3],22,-1044525330),n=p(n,r,o,i,e[s+4],7,-176418897),i=p(i,n,r,o,e[s+5],12,1200080426),o=p(o,i,n,r,e[s+6],17,-1473231341),r=p(r,o,i,n,e[s+7],22,-45705983),n=p(n,r,o,i,e[s+8],7,1770035416),i=p(i,n,r,o,e[s+9],12,-1958414417),o=p(o,i,n,r,e[s+10],17,-42063),r=p(r,o,i,n,e[s+11],22,-1990404162),n=p(n,r,o,i,e[s+12],7,1804603682),i=p(i,n,r,o,e[s+13],12,-40341101),o=p(o,i,n,r,e[s+14],17,-1502002290),n=g(n,r=p(r,o,i,n,e[s+15],22,1236535329),o,i,e[s+1],5,-165796510),i=g(i,n,r,o,e[s+6],9,-1069501632),o=g(o,i,n,r,e[s+11],14,643717713),r=g(r,o,i,n,e[s+0],20,-373897302),n=g(n,r,o,i,e[s+5],5,-701558691),i=g(i,n,r,o,e[s+10],9,38016083),o=g(o,i,n,r,e[s+15],14,-660478335),r=g(r,o,i,n,e[s+4],20,-405537848),n=g(n,r,o,i,e[s+9],5,568446438),i=g(i,n,r,o,e[s+14],9,-1019803690),o=g(o,i,n,r,e[s+3],14,-187363961),r=g(r,o,i,n,e[s+8],20,1163531501),n=g(n,r,o,i,e[s+13],5,-1444681467),i=g(i,n,r,o,e[s+2],9,-51403784),o=g(o,i,n,r,e[s+7],14,1735328473),n=y(n,r=g(r,o,i,n,e[s+12],20,-1926607734),o,i,e[s+5],4,-378558),i=y(i,n,r,o,e[s+8],11,-2022574463),o=y(o,i,n,r,e[s+11],16,1839030562),r=y(r,o,i,n,e[s+14],23,-35309556),n=y(n,r,o,i,e[s+1],4,-1530992060),i=y(i,n,r,o,e[s+4],11,1272893353),o=y(o,i,n,r,e[s+7],16,-155497632),r=y(r,o,i,n,e[s+10],23,-1094730640),n=y(n,r,o,i,e[s+13],4,681279174),i=y(i,n,r,o,e[s+0],11,-358537222),o=y(o,i,n,r,e[s+3],16,-722521979),r=y(r,o,i,n,e[s+6],23,76029189),n=y(n,r,o,i,e[s+9],4,-640364487),i=y(i,n,r,o,e[s+12],11,-421815835),o=y(o,i,n,r,e[s+15],16,530742520),n=w(n,r=y(r,o,i,n,e[s+2],23,-995338651),o,i,e[s+0],6,-198630844),i=w(i,n,r,o,e[s+7],10,1126891415),o=w(o,i,n,r,e[s+14],15,-1416354905),r=w(r,o,i,n,e[s+5],21,-57434055),n=w(n,r,o,i,e[s+12],6,1700485571),i=w(i,n,r,o,e[s+3],10,-1894986606),o=w(o,i,n,r,e[s+10],15,-1051523),r=w(r,o,i,n,e[s+1],21,-2054922799),n=w(n,r,o,i,e[s+8],6,1873313359),i=w(i,n,r,o,e[s+15],10,-30611744),o=w(o,i,n,r,e[s+6],15,-1560198380),r=w(r,o,i,n,e[s+13],21,1309151649),n=w(n,r,o,i,e[s+4],6,-145523070),i=w(i,n,r,o,e[s+11],10,-1120210379),o=w(o,i,n,r,e[s+2],15,718787259),r=w(r,o,i,n,e[s+9],21,-343485551),n=b(n,u),r=b(r,a),o=b(o,f),i=b(i,l)}return Array(n,r,o,i)}function h(e,t,n,r,o,i){return b((t=b(b(t,e),b(r,i)))<<o|t>>>32-o,n)}function p(e,t,n,r,o,i,s){return h(t&n|~t&r,e,t,o,i,s)}function g(e,t,n,r,o,i,s){return h(t&r|n&~r,e,t,o,i,s)}function y(e,t,n,r,o,i,s){return h(t^n^r,e,t,o,i,s)}function w(e,t,n,r,o,i,s){return h(n^(t|~r),e,t,o,i,s)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return c.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/md5.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296\*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/rng.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,o,i=Array(80),s=1732584193,u=-271733879,a=-1732584194,f=271733878,l=-1009589776,c=0;c<e.length;c+=16){for(var d=s,g=u,y=a,w=f,b=l,v=0;v<80;v++){i[v]=v<16?e[c+v]:p(i[v-3]^i[v-8]^i[v-14]^i[v-16],1);var m=h(h(p(s,5),(m=u,r=a,o=f,(n=v)<20?m&r|~m&o:!(n<40)&&n<60?m&r|m&o|r&o:m^r^o)),h(h(l,i[v]),(n=v)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));l=f,f=a,a=p(u,30),u=s,s=m}s=h(s,d),u=h(u,g),a=h(a,y),f=h(f,w),l=h(l,b)}return Array(s,u,a,f,l)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return c.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),o=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),i=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,u,a=0;a<e.length;a+=16){for(var f=o[0],l=o[1],d=o[2],h=o[3],y=o[4],w=o[5],b=o[6],v=o[7],m=0;m<64;m++)i[m]=m<16?e[m+a]:c(c(c((u=i[m-2],p(u,17)^p(u,19)^g(u,10)),i[m-7]),(u=i[m-15],p(u,7)^p(u,18)^g(u,3))),i[m-16]),n=c(c(c(c(v,p(u=y,6)^p(u,11)^p(u,25)),y&w^~y&b),r[m]),i[m]),s=c(p(s=f,2)^p(s,13)^p(s,22),f&l^f&d^l&d),v=b,b=w,w=y,y=c(h,n),h=d,d=l,l=f,f=c(n,s);o[0]=c(f,o[0]),o[1]=c(l,o[1]),o[2]=c(d,o[2]),o[3]=c(h,o[3]),o[4]=c(y,o[4]),o[5]=c(w,o[5]),o[6]=c(b,o[6]),o[7]=c(v,o[7])}return o}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha256.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){n.read=function(e,t,n,r,o){var i,s,u=8\*o-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?o-1:0,d=n?-1:1;for(o=e[t+c],c+=d,i=o&(1<<-l)-1,o>>=-l,l+=u;0<l;i=256\*i+e[t+c],c+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;0<l;s=256\*s+e[t+c],c+=d,l-=8);if(0===i)i=1-f;else{if(i===a)return s?NaN:1/0\*(o?-1:1);s+=Math.pow(2,r),i-=f}return(o?-1:1)\*s\*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var s,u,a=8\*i-o-1,f=(1<<a)-1,l=f>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1;for(i=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t\*(r=Math.pow(2,-s))<1&&(s--,r\*=2),2<=(t+=1<=s+l?c/r:c\*Math.pow(2,1-l))\*r&&(s++,r/=2),f<=s+l?(u=0,s=f):1<=s+l?(u=(t\*r-1)\*Math.pow(2,o),s+=l):(u=t\*Math.pow(2,l-1)\*Math.pow(2,o),s=0));8<=o;e[n+d]=255&u,d+=h,u/=256,o-=8);for(s=s<<o|u,a+=o;0<a;e[n+d]=255&s,d+=h,s/=256,a-=8);e[n+d-h]|=128\*i}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/ieee754/index.js","/node\_modules/gulp-browserify/node\_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){var l,c,d;function h(){}(e=t.exports={}).nextTick=(c="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,c?function(e){return window.setImmediate(e)}:d?(l=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<l.length&&l.shift()())}),!0),function(e){l.push(e),window.postMessage("process-tick","\*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/process/browser.js","/node\_modules/gulp-browserify/node\_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.\_\_esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t,r,o,i=n(705),s=n.n(i);const u=e=>{var t,n;const r=null==e||null===(t=e.filter((e=>null==e?void 0:e[0])))||void 0===t?void 0:t[0];return null!==(n=null==r?void 0:r[1])&&void 0!==n?n:null==r?void 0:r[0]};class a{constructor(){var t,n;e(this,"\_set",((e,t,n)=>{if(!this.hasProduct(t.slug))return;if(!(null!=n&&n.consent||this.getProductConsent(t.slug)))return;if(!this.validate(t))return;const r=null!=n&&n.directSave?t:this.trkMetadata(t);this.events.set(e,r),null!=n&&n.refreshTimer&&this.refreshTimer(),null!=n&&n.sendNow?this.uploadEvents():null!=n&&n.ignoreLimit||this.sendIfLimitReached()})),e(this,"\_add",((e,t)=>{const n=s()(e);return this.\_set(n.toString(),e,t),n.toString()})),e(this,"with",(e=>{const t={slug:e,...this.envInfo()};return{add:(e,n)=>this.\_add({...t,...e},n),set:(e,n,r)=>this.\_set(e,{...t,...n},r),base:this}})),e(this,"envInfo",(()=>({site:window.location.hostname}))),e(this,"uploadEvents",(async()=>{if(0!==this.events.size)try{const e=Array.from(this.events.values());this.events.clear();const t=await this.sendBulkTracking(e.map((e=>{let{slug:t,site:n,license:r,...o}=e;return{slug:t,site:n,license:r,data:o}})));t.ok||this.listeners.forEach((e=>e({success:!1,error:"Failed to send tracking events"})));const n=await t.json();this.listeners.forEach((e=>e({success:!0,response:n})))}catch(e){console.error(e)}})),e(this,"sendIfLimitReached",(()=>{if(this.events.size>=this.eventsLimit)return this.uploadEvents()})),e(this,"subscribe",(e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))}))),e(this,"hasConsent",(()=>this.consent)),e(this,"sendBulkTracking",(e=>fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))),e(this,"trkMetadata",(e=>({env:u([[window.location.href.includes("customize.php"),"customizer"],[window.location.href.includes("site-editor.php"),"site-editor"],[window.location.href.includes("widgets.php"),"widgets"],[window.location.href.includes("admin.php"),"admin"],["post-editor"]]),license:this.getProductTackHash(e.slug),...null!=e?e:{}}))),e(this,"hasProduct",(e=>this.products.some((t=>{var n;return null==t||null===(n=t.slug)||void 0===n?void 0:n.includes(e)})))),e(this,"getProductTackHash",(e=>{var t;return null===(t=this.products.find((t=>{var n;return null==t||null===(n=t.slug)||void 0===n?void 0:n.includes(e)})))||void 0===t?void 0:t.trackHash})),e(this,"getProductConsent",(e=>{var t;return null===(t=this.products.find((t=>{var n;return null==t||null===(n=t.slug)||void 0===n?void 0:n.includes(e)})))||void 0===t?void 0:t.consent})),e(this,"start",(()=>{this.interval||(this.interval=window.setInterval((()=>{this.uploadEvents()}),this.autoSendIntervalTime))})),e(this,"stop",(()=>{this.interval&&(window.clearInterval(this.interval),this.interval=null)})),e(this,"refreshTimer",(()=>{this.stop(),this.start()})),e(this,"validate",(e=>"object"==typeof e?0!==Object.keys(e).length&&Object.values(e).every(this.validate):void 0!==e)),e(this,"clone",(()=>{const e=new a;return e.events=new Map(this.events),e.listeners=[...this.listeners],e.interval=this.interval,e.consent=this.consent,e.endpoint=this.endpoint,e})),this.events=new Map,this.eventsLimit=50,this.listeners=[],this.interval=null,this.consent=!1,this.endpoint=null===(t=tiTelemetry)||void 0===t?void 0:t.endpoint,this.products=null===(n=tiTelemetry)||void 0===n?void 0:n.products,this.autoSendIntervalTime=3e5}}window.tiTrk=new a,null===(t=window)||void 0===t||null===(r=t.wp)||void 0===r||null===(o=r.customize)||void 0===o||o.bind("save",(()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.tiTrk)||void 0===t||t.uploadEvents()})),window.addEventListener("beforeunload",(async()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.tiTrk)||void 0===t||t.uploadEvents()}))}()}~~(); |
  |  | 1 | (()=>{var e={802:e=>{e.exports=function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}u=n[s]={exports:{}},t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(r,o,i,s,u,a,f,l,c){"use strict";var d=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=y(e,t)).algorithm?d.createHash(t.algorithm):new m).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=d.getHashes?d.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function y(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function w(e){if("function"==typeof e)return null!=/^function\s+\w\*\s\*\(\s\*\)\s\*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["\_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},\_object:function(t){var o,s=Object.prototype.toString.call(t),u=/\[object (.\*)\]/i.exec(s);if(u=(u=u?u[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==i&&i.isBuffer&&i.isBuffer(t))return r("buffer:"),r(t);if("object"===u||"function"===u||"asyncfunction"===u)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||w(t)||s.splice(0,0,"prototype","\_\_proto\_\_","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),o=this,s.forEach((function(n){o.dispatch(n),r(":"),e.excludeValues||o.dispatch(t[n]),r(",")}));if(!this["\_"+u]){if(e.ignoreUnknown)return r("["+u+"]");throw new Error('Unknown object type "'+u+'"')}this["\_"+u](t)},\_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var i=this;if(r("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var s=[];return o=t.map((function(t){var r=new m,o=n.slice();return b(e,r,o).dispatch(t),s=s.concat(o.slice(n.length)),r.read().toString()})),n=n.concat(s),o.sort(),this.\_array(o,!1)},\_date:function(e){return r("date:"+e.toJSON())},\_symbol:function(e){return r("symbol:"+e.toString())},\_error:function(e){return r("error:"+e.toString())},\_boolean:function(e){return r("bool:"+e.toString())},\_string:function(e){r("string:"+e.length+":"),r(e.toString())},\_function:function(t){r("fn:"),w(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.\_object(t)},\_number:function(e){return r("number:"+e.toString())},\_xml:function(e){return r("xml:"+e.toString())},\_null:function(){return r("Null")},\_undefined:function(){return r("Undefined")},\_regexp:function(e){return r("regex:"+e.toString())},\_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},\_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},\_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},\_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},\_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},\_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},\_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},\_url:function(e){return r("url:"+e.toString())},\_map:function(t){return r("map:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_set:function(t){return r("set:"),t=Array.from(t),this.\_array(t,!1!==e.unorderedSets)},\_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},\_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},\_domwindow:function(){return r("domwindow")},\_bigint:function(e){return r("bigint:"+e.toString())},\_process:function(){return r("process")},\_timer:function(){return r("timer")},\_pipe:function(){return r("pipe")},\_tcp:function(){return r("tcp")},\_udp:function(){return r("udp")},\_tty:function(){return r("tty")},\_statwatcher:function(){return r("statwatcher")},\_securecontext:function(){return r("securecontext")},\_connection:function(){return r("connection")},\_zlib:function(){return r("zlib")},\_context:function(){return r("context")},\_nodescript:function(){return r("nodescript")},\_httpparser:function(){return r("httpparser")},\_dataview:function(){return r("dataview")},\_signal:function(){return r("signal")},\_fsevent:function(){return r("fsevent")},\_tlswrap:function(){return r("tlswrap")}}}function m(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=y(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake\_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),o="0".charCodeAt(0),i="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),a="\_".charCodeAt(0);function f(e){return(e=e.charCodeAt(0))===n||e===u?62:e===r||e===a?63:e<o?-1:e<o+10?e-o+26+26:e<s+26?e-s:e<i+26?e-i+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.length,i=(o="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,new t(3\*e.length/4-o)),s=0<o?e.length-4:e.length,u=0;function a(e){i[u++]=e}for(n=0;n<s;n+=4,0)a((16711680&(r=f(e.charAt(n))<<18|f(e.charAt(n+1))<<12|f(e.charAt(n+2))<<6|f(e.charAt(n+3))))>>16),a((65280&r)>>8),a(255&r);return 2==o?a(255&(r=f(e.charAt(n))<<2|f(e.charAt(n+1))>>4)):1==o&&(a((r=f(e.charAt(n))<<10|f(e.charAt(n+1))<<4|f(e.charAt(n+2))>>2)>>8&255),a(255&r)),i},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,s="";function u(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)s+=u((o=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+u(o>>12&63)+u(o>>6&63)+u(63&o);switch(i){case 1:s=(s+=u((n=e[e.length-1])>>2))+u(n<<4&63)+"==";break;case 2:s=(s=(s+=u((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+u(n>>4&63))+u(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/base64-js/lib/b64.js","/node\_modules/gulp-browserify/node\_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){var c=e("base64-js"),d=e("ieee754");function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var r,i,s,u,a=typeof e;if("base64"===t&&"string"==a)for(e=(u=e).trim?u.trim():u.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==a)r=x(e);else if("string"==a)r=o.byteLength(e,t);else{if("object"!=a)throw new Error("First argument needs to be a number, array or string.");r=x(e.length)}if(o.\_useTypedArrays?i=o.\_augment(new Uint8Array(r)):((i=this).length=r,i.\_isBuffer=!0),o.\_useTypedArrays&&"number"==typeof e.byteLength)i.\_set(e);else if(S(u=e)||o.isBuffer(u)||u&&"object"==typeof u&&"number"==typeof u.length)for(s=0;s<r;s++)o.isBuffer(e)?i[s]=e.readUInt8(s):i[s]=e[s];else if("string"==a)i.write(e,0,t);else if("number"==a&&!o.\_useTypedArrays&&!n)for(s=0;s<r;s++)i[s]=0;return i}function h(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function p(e,t,n,r){var o;if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function g(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=h(e,t,n,!0))?-1\*(65535-r+1):r}function y(e,t,n,r){if(r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(null!=t,"missing offset"),Y(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=p(e,t,n,!0))?-1\*(4294967295-r+1):r}function w(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function b(e,t,n,r){return r||(Y("boolean"==typeof n,"missing or invalid endian"),Y(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function m(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"trying to write beyond buffer length"),M(t,65535)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,2);i<s;i++)e[n+i]=(t&255<<8\*(r?i:1-i))>>>8\*(r?i:1-i)}function v(e,t,n,r,o){if(o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"trying to write beyond buffer length"),M(t,4294967295)),!((o=e.length)<=n))for(var i=0,s=Math.min(o-n,4);i<s;i++)e[n+i]=t>>>8\*(r?i:3-i)&255}function \_(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||m(e,0<=t?t:65535+t+1,n,r,o)}function E(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||v(e,0<=t?t:4294967295+t+1,n,r,o)}function I(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+3<e.length,"Trying to write beyond buffer length"),F(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function A(e,t,n,r,o){o||(Y(null!=t,"missing value"),Y("boolean"==typeof r,"missing or invalid endian"),Y(null!=n,"missing offset"),Y(n+7<e.length,"Trying to write beyond buffer length"),F(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=o,n.SlowBuffer=o,n.INSPECT\_MAX\_BYTES=50,o.poolSize=8192,o.\_useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(e){return!(null==e||!e.\_isBuffer)},o.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=k(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=j(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2\*e.length;break;default:throw new Error("Unknown encoding")}return n},o.concat=function(e,t){if(Y(S(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new o(0);if(1===e.length)return e[0];if("number"!=typeof t)for(i=t=0;i<e.length;i++)t+=e[i].length;for(var n=new o(t),r=0,i=0;i<e.length;i++){var s=e[i];s.copy(n,r),r+=s.length}return n},o.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(f=r,r=t,t=n,n=f),t=Number(t)||0;var i,s,u,a,f=this.length-t;switch((!n||f<(n=Number(n)))&&(n=f),r=String(r||"utf8").toLowerCase()){case"hex":i=function(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i),Y((i=t.length)%2==0,"Invalid hex string"),i/2<r&&(r=i/2);for(var s=0;s<r;s++){var u=parseInt(t.substr(2\*s,2),16);Y(!isNaN(u),"Invalid hex string"),e[n+s]=u}return o.\_charsWritten=2\*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,u=t,a=n,i=o.\_charsWritten=T(k(e),s,u,a);break;case"ascii":case"binary":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":s=this,u=t,a=n,i=o.\_charsWritten=T(j(e),s,u,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(e,t,n,r){return o.\_charsWritten=T(function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=(n=e.charCodeAt(o))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return i},o.prototype.toString=function(e,t,n){var r,o,i,s,u=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):u.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;i++)o+=U(e[i]);return o}(u,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=C(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+C(o)}(u,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}(u,t,n);break;case"base64":o=u,s=n,r=0===(i=t)&&s===o.length?c.fromByteArray(o):c.fromByteArray(o.slice(i,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256\*r[i+1]);return o}(u,t,n);break;default:throw new Error("Unknown encoding")}return r},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.\_arr||this,0)}},o.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){Y(n<=r,"sourceEnd < sourceStart"),Y(0<=t&&t<e.length,"targetStart out of bounds"),Y(0<=n&&n<this.length,"sourceStart out of bounds"),Y(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(i<100||!o.\_useTypedArrays)for(var s=0;s<i;s++)e[s+t]=this[s+n];else e.\_set(this.subarray(n,n+i),t)}},o.prototype.slice=function(e,t){var n=this.length;if(e=L(e,n,0),t=L(t,n,n),o.\_useTypedArrays)return o.\_augment(this.subarray(e,t));for(var r=t-e,i=new o(r,void 0,!0),s=0;s<r;s++)i[s]=this[s+e];return i},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.readUInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},o.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},o.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},o.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},o.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},o.prototype.readInt8=function(e,t){if(t||(Y(null!=e,"missing offset"),Y(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1\*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){return g(this,e,!0,t)},o.prototype.readInt16BE=function(e,t){return g(this,e,!1,t)},o.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},o.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},o.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},o.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},o.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},o.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},o.prototype.writeUInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"trying to write beyond buffer length"),M(e,255)),t>=this.length||(this[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){m(this,e,t,!0,n)},o.prototype.writeUInt16BE=function(e,t,n){m(this,e,t,!1,n)},o.prototype.writeUInt32LE=function(e,t,n){v(this,e,t,!0,n)},o.prototype.writeUInt32BE=function(e,t,n){v(this,e,t,!1,n)},o.prototype.writeInt8=function(e,t,n){n||(Y(null!=e,"missing value"),Y(null!=t,"missing offset"),Y(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},o.prototype.writeInt16LE=function(e,t,n){\_(this,e,t,!0,n)},o.prototype.writeInt16BE=function(e,t,n){\_(this,e,t,!1,n)},o.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},o.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},o.prototype.writeFloatLE=function(e,t,n){I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){A(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){A(this,e,t,!1,n)},o.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,Y("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),Y(t<=n,"end < start"),n!==t&&0!==this.length){Y(0<=t&&t<this.length,"start out of bounds"),Y(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=U(this[r]),r===n.INSPECT\_MAX\_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(o.\_useTypedArrays)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var B=o.prototype;function L(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function x(e){return(e=~~Math.ceil(+e))<0?0:e}function S(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function k(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split("%")),s=0;s<i.length;s++)t.push(parseInt(i[s],16))}return t}function j(e){return c.toByteArray(e)}function T(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function C(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function M(e,t){Y("number"==typeof e,"cannot write a non-number as a number"),Y(0<=e,"specified a negative value for writing an unsigned value"),Y(e<=t,"value is larger than maximum value for type"),Y(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value"),Y(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){Y("number"==typeof e,"cannot write a non-number as a number"),Y(e<=t,"value larger than maximum allowed value"),Y(n<=e,"value smaller than minimum allowed value")}function Y(e,t){if(!e)throw new Error(t||"Failed assertion")}o.\_augment=function(e){return e.\_isBuffer=!0,e.\_get=e.get,e.\_set=e.set,e.get=B.get,e.set=B.set,e.write=B.write,e.toString=B.toString,e.toLocaleString=B.toString,e.toJSON=B.toJSON,e.copy=B.copy,e.slice=B.slice,e.readUInt8=B.readUInt8,e.readUInt16LE=B.readUInt16LE,e.readUInt16BE=B.readUInt16BE,e.readUInt32LE=B.readUInt32LE,e.readUInt32BE=B.readUInt32BE,e.readInt8=B.readInt8,e.readInt16LE=B.readInt16LE,e.readInt16BE=B.readInt16BE,e.readInt32LE=B.readInt32LE,e.readInt32BE=B.readInt32BE,e.readFloatLE=B.readFloatLE,e.readFloatBE=B.readFloatBE,e.readDoubleLE=B.readDoubleLE,e.readDoubleBE=B.readDoubleBE,e.writeUInt8=B.writeUInt8,e.writeUInt16LE=B.writeUInt16LE,e.writeUInt16BE=B.writeUInt16BE,e.writeUInt32LE=B.writeUInt32LE,e.writeUInt32BE=B.writeUInt32BE,e.writeInt8=B.writeInt8,e.writeInt16LE=B.writeInt16LE,e.writeInt16BE=B.writeInt16BE,e.writeInt32LE=B.writeInt32LE,e.writeInt32BE=B.writeInt32BE,e.writeFloatLE=B.writeFloatLE,e.writeFloatBE=B.writeFloatBE,e.writeDoubleLE=B.writeDoubleLE,e.writeDoubleBE=B.writeDoubleBE,e.fill=B.fill,e.inspect=B.inspect,e.toArrayBuffer=B.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/buffer/index.js","/node\_modules/gulp-browserify/node\_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=new o(4);c.fill(0),t.exports={hash:function(e,t,n,r){for(var i=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=o.concat([e,c],n));for(var n,r=[],i=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=4)r.push(i.call(e,s));return r}(e=o.isBuffer(e)?e:new o(e),r),8\*e.length),s=(t=r,new o(n)),u=t?s.writeInt32BE:s.writeInt32LE,a=0;a<i.length;a++)u.call(s,i[a],4\*a,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/helpers.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,o,i,s,u,a,f,l){o=e("buffer").Buffer;var c=e("./sha"),d=e("./sha256"),h=e("./rng"),p={sha1:c,sha256:d,md5:e("./md5")},g=64,y=new o(g);function w(e,t){var n=p[e=e||"sha1"],r=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return o.isBuffer(e)||(e=new o(e)),r.push(e),e.length,this},digest:function(e){var i=o.concat(r);return i=t?function(e,t,n){o.isBuffer(t)||(t=new o(t)),o.isBuffer(n)||(n=new o(n)),t.length>g?t=e(t):t.length<g&&(t=o.concat([t,y],g));for(var r=new o(g),i=new o(g),s=0;s<g;s++)r[s]=54^t[s],i[s]=92^t[s];return n=e(o.concat([r,n])),e(o.concat([i,n]))}(n,t,i):n(i),r=null,e?i.toString(e):i}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(e){return w(e)},n.createHmac=w,n.randomBytes=function(e,t){if(!t||!t.call)return new o(h(e));try{t.call(this,void 0,new o(h(e)))}catch(e){t(e)}};var m,v=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],\_=function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}};for(m in v)\_(v[m])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/index.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var u=n,a=r,f=o,l=i;n=p(n,r,o,i,e[s+0],7,-680876936),i=p(i,n,r,o,e[s+1],12,-389564586),o=p(o,i,n,r,e[s+2],17,606105819),r=p(r,o,i,n,e[s+3],22,-1044525330),n=p(n,r,o,i,e[s+4],7,-176418897),i=p(i,n,r,o,e[s+5],12,1200080426),o=p(o,i,n,r,e[s+6],17,-1473231341),r=p(r,o,i,n,e[s+7],22,-45705983),n=p(n,r,o,i,e[s+8],7,1770035416),i=p(i,n,r,o,e[s+9],12,-1958414417),o=p(o,i,n,r,e[s+10],17,-42063),r=p(r,o,i,n,e[s+11],22,-1990404162),n=p(n,r,o,i,e[s+12],7,1804603682),i=p(i,n,r,o,e[s+13],12,-40341101),o=p(o,i,n,r,e[s+14],17,-1502002290),n=g(n,r=p(r,o,i,n,e[s+15],22,1236535329),o,i,e[s+1],5,-165796510),i=g(i,n,r,o,e[s+6],9,-1069501632),o=g(o,i,n,r,e[s+11],14,643717713),r=g(r,o,i,n,e[s+0],20,-373897302),n=g(n,r,o,i,e[s+5],5,-701558691),i=g(i,n,r,o,e[s+10],9,38016083),o=g(o,i,n,r,e[s+15],14,-660478335),r=g(r,o,i,n,e[s+4],20,-405537848),n=g(n,r,o,i,e[s+9],5,568446438),i=g(i,n,r,o,e[s+14],9,-1019803690),o=g(o,i,n,r,e[s+3],14,-187363961),r=g(r,o,i,n,e[s+8],20,1163531501),n=g(n,r,o,i,e[s+13],5,-1444681467),i=g(i,n,r,o,e[s+2],9,-51403784),o=g(o,i,n,r,e[s+7],14,1735328473),n=y(n,r=g(r,o,i,n,e[s+12],20,-1926607734),o,i,e[s+5],4,-378558),i=y(i,n,r,o,e[s+8],11,-2022574463),o=y(o,i,n,r,e[s+11],16,1839030562),r=y(r,o,i,n,e[s+14],23,-35309556),n=y(n,r,o,i,e[s+1],4,-1530992060),i=y(i,n,r,o,e[s+4],11,1272893353),o=y(o,i,n,r,e[s+7],16,-155497632),r=y(r,o,i,n,e[s+10],23,-1094730640),n=y(n,r,o,i,e[s+13],4,681279174),i=y(i,n,r,o,e[s+0],11,-358537222),o=y(o,i,n,r,e[s+3],16,-722521979),r=y(r,o,i,n,e[s+6],23,76029189),n=y(n,r,o,i,e[s+9],4,-640364487),i=y(i,n,r,o,e[s+12],11,-421815835),o=y(o,i,n,r,e[s+15],16,530742520),n=w(n,r=y(r,o,i,n,e[s+2],23,-995338651),o,i,e[s+0],6,-198630844),i=w(i,n,r,o,e[s+7],10,1126891415),o=w(o,i,n,r,e[s+14],15,-1416354905),r=w(r,o,i,n,e[s+5],21,-57434055),n=w(n,r,o,i,e[s+12],6,1700485571),i=w(i,n,r,o,e[s+3],10,-1894986606),o=w(o,i,n,r,e[s+10],15,-1051523),r=w(r,o,i,n,e[s+1],21,-2054922799),n=w(n,r,o,i,e[s+8],6,1873313359),i=w(i,n,r,o,e[s+15],10,-30611744),o=w(o,i,n,r,e[s+6],15,-1560198380),r=w(r,o,i,n,e[s+13],21,1309151649),n=w(n,r,o,i,e[s+4],6,-145523070),i=w(i,n,r,o,e[s+11],10,-1120210379),o=w(o,i,n,r,e[s+2],15,718787259),r=w(r,o,i,n,e[s+9],21,-343485551),n=b(n,u),r=b(r,a),o=b(o,f),i=b(i,l)}return Array(n,r,o,i)}function h(e,t,n,r,o,i){return b((t=b(b(t,e),b(r,i)))<<o|t>>>32-o,n)}function p(e,t,n,r,o,i,s){return h(t&n|~t&r,e,t,o,i,s)}function g(e,t,n,r,o,i,s){return h(t&r|n&~r,e,t,o,i,s)}function y(e,t,n,r,o,i,s){return h(t^n^r,e,t,o,i,s)}function w(e,t,n,r,o,i,s){return h(n^(t|~r),e,t,o,i,s)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return c.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/md5.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296\*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/rng.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){var c=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,o,i=Array(80),s=1732584193,u=-271733879,a=-1732584194,f=271733878,l=-1009589776,c=0;c<e.length;c+=16){for(var d=s,g=u,y=a,w=f,b=l,m=0;m<80;m++){i[m]=m<16?e[c+m]:p(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);var v=h(h(p(s,5),(v=u,r=a,o=f,(n=m)<20?v&r|~v&o:!(n<40)&&n<60?v&r|v&o|r&o:v^r^o)),h(h(l,i[m]),(n=m)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));l=f,f=a,a=p(u,30),u=s,s=v}s=h(s,d),u=h(u,g),a=h(a,y),f=h(f,w),l=h(l,b)}return Array(s,u,a,f,l)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return c.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,o,i,s,u,a,f,l){function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),o=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),i=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,u,a=0;a<e.length;a+=16){for(var f=o[0],l=o[1],d=o[2],h=o[3],y=o[4],w=o[5],b=o[6],m=o[7],v=0;v<64;v++)i[v]=v<16?e[v+a]:c(c(c((u=i[v-2],p(u,17)^p(u,19)^g(u,10)),i[v-7]),(u=i[v-15],p(u,7)^p(u,18)^g(u,3))),i[v-16]),n=c(c(c(c(m,p(u=y,6)^p(u,11)^p(u,25)),y&w^~y&b),r[v]),i[v]),s=c(p(s=f,2)^p(s,13)^p(s,22),f&l^f&d^l&d),m=b,b=w,w=y,y=c(h,n),h=d,d=l,l=f,f=c(n,s);o[0]=c(f,o[0]),o[1]=c(l,o[1]),o[2]=c(d,o[2]),o[3]=c(h,o[3]),o[4]=c(y,o[4]),o[5]=c(w,o[5]),o[6]=c(b,o[6]),o[7]=c(m,o[7])}return o}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/crypto-browserify/sha256.js","/node\_modules/gulp-browserify/node\_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,o,i,s,u,a,f){n.read=function(e,t,n,r,o){var i,s,u=8\*o-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?o-1:0,d=n?-1:1;for(o=e[t+c],c+=d,i=o&(1<<-l)-1,o>>=-l,l+=u;0<l;i=256\*i+e[t+c],c+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;0<l;s=256\*s+e[t+c],c+=d,l-=8);if(0===i)i=1-f;else{if(i===a)return s?NaN:1/0\*(o?-1:1);s+=Math.pow(2,r),i-=f}return(o?-1:1)\*s\*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var s,u,a=8\*i-o-1,f=(1<<a)-1,l=f>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1;for(i=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t\*(r=Math.pow(2,-s))<1&&(s--,r\*=2),2<=(t+=1<=s+l?c/r:c\*Math.pow(2,1-l))\*r&&(s++,r/=2),f<=s+l?(u=0,s=f):1<=s+l?(u=(t\*r-1)\*Math.pow(2,o),s+=l):(u=t\*Math.pow(2,l-1)\*Math.pow(2,o),s=0));8<=o;e[n+d]=255&u,d+=h,u/=256,o-=8);for(s=s<<o|u,a+=o;0<a;e[n+d]=255&s,d+=h,s/=256,a-=8);e[n+d-h]|=128\*i}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/ieee754/index.js","/node\_modules/gulp-browserify/node\_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,o,i,s,u,a,f){var l,c,d;function h(){}(e=t.exports={}).nextTick=(c="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,c?function(e){return window.setImmediate(e)}:d?(l=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<l.length&&l.shift()())}),!0),function(e){l.push(e),window.postMessage("process-tick","\*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node\_modules/gulp-browserify/node\_modules/process/browser.js","/node\_modules/gulp-browserify/node\_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.\_\_esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(802),t=n.n(e);const r=e=>{var t;const n=e?.filter((e=>e?.[0]))?.[0];return null!==(t=n?.[1])&&void 0!==t?t:n?.[0]};class o{constructor(){this.events=new Map,this.eventsLimit=50,this.listeners=[],this.interval=null,this.consent=!1,this.endpoint=tiTelemetry?.endpoint,this.products=tiTelemetry?.products,this.autoSendIntervalTime=3e5}\_set=(e,t,n)=>{if(!this.hasProduct(t.slug))return;if(!n?.consent&&!this.getProductConsent(t.slug))return;if(!this.validate(t))return;const r=n?.directSave?t:this.trkMetadata(t);this.events.set(e,r),n?.refreshTimer&&this.refreshTimer(),n?.sendNow?this.uploadEvents():n?.ignoreLimit||this.sendIfLimitReached()};\_add=(e,n)=>{const r=t()(e);return this.\_set(r.toString(),e,n),r.toString()};with=e=>{const t={slug:e,...this.envInfo()};return{add:(e,n)=>this.\_add({...t,...e},n),set:(e,n,r)=>this.\_set(e,{...t,...n},r),base:this}};envInfo=()=>({site:window.location.hostname});uploadEvents=async()=>{if(0!==this.events.size)try{const e=Array.from(this.events.values());this.events.clear();const t=await this.sendBulkTracking(e.map((({slug:e,site:t,license:n,...r})=>({slug:e,site:t,license:n,data:r}))));t.ok||this.listeners.forEach((e=>e({success:!1,error:"Failed to send tracking events"})));const n=await t.json();this.listeners.forEach((e=>e({success:!0,response:n})))}catch(e){console.error(e)}};sendIfLimitReached=()=>{if(this.events.size>=this.eventsLimit)return this.uploadEvents()};subscribe=e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))});hasConsent=()=>this.consent;sendBulkTracking=e=>fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});trkMetadata=e=>({env:r([[window.location.href.includes("customize.php"),"customizer"],[window.location.href.includes("site-editor.php"),"site-editor"],[window.location.href.includes("widgets.php"),"widgets"],[window.location.href.includes("admin.php"),"admin"],["post-editor"]]),license:this.getProductTackHash(e.slug),...null!=e?e:{}});hasProduct=e=>this.products.some((t=>t?.slug?.includes(e)));getProductTackHash=e=>this.products.find((t=>t?.slug?.includes(e)))?.trackHash;getProductConsent=e=>this.products.find((t=>t?.slug?.includes(e)))?.consent;start=()=>{this.interval||(this.interval=window.setInterval((()=>{this.uploadEvents()}),this.autoSendIntervalTime))};stop=()=>{this.interval&&(window.clearInterval(this.interval),this.interval=null)};refreshTimer=()=>{this.stop(),this.start()};validate=e=>"object"==typeof e?0!==Object.keys(e).length&&Object.values(e).every(this.validate):void 0!==e;clone=()=>{const e=new o;return e.events=new Map(this.events),e.listeners=[...this.listeners],e.interval=this.interval,e.consent=this.consent,e.endpoint=this.endpoint,e}}window.tiTrk=new o,window?.wp?.customize?.bind("save",(()=>{window?.tiTrk?.uploadEvents()})),window.addEventListener("beforeunload",(async()=>{window?.tiTrk?.uploadEvents()}))})()})(); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3072679#L15 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233#L15 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 15 | 15 | } |
  | 16 | 16 | // Current SDK version and path. |
  | 17 |  | $themeisle\_sdk\_version = '3.3.2~~0~~'; |
  |  | 17 | $themeisle\_sdk\_version = '3.3.29'; |
  | 18 | 18 | $themeisle\_sdk\_path    = dirname( \_\_FILE\_\_ ); |
  | 19 | 19 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3072679#L92) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233#L92) |  |
  | 92 | 92 | } |
  | 93 | 93 | $location        = $location === null ? $current\_page : $location; |
  |  | 94 | $is\_upgrade\_url  = strpos( $url, '/upgrade' ) !== false; |
  | 94 | 95 | $content         = sanitize\_key( |
  | 95 | 96 | trim( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3072679#L123) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/load.php?rev=3139233#L124) |  |
  | 123 | 124 | ); |
  | 124 | 125 |  |
  |  | 126 | /\*\* |
  |  | 127 | \* Check if there is an affiliate URL for this upgrade link, if so use it. |
  |  | 128 | \*/ |
  |  | 129 | if ( $is\_upgrade\_url ) { |
  |  | 130 | $option\_content\_key         = str\_replace( '-', '\_', $filter\_key ); |
  |  | 131 | $theme\_upgrade\_option\_name  = 'themeisle\_af\_' . $option\_content\_key . '\_themes\_upgrade'; |
  |  | 132 | $plugin\_upgrade\_option\_name = 'themeisle\_af\_' . $option\_content\_key . '\_plugins\_upgrade'; |
  |  | 133 |  |
  |  | 134 | $theme\_option\_url = get\_option( $theme\_upgrade\_option\_name, false ); |
  |  | 135 | if ( ! empty( $theme\_option\_url ) ) { |
  |  | 136 | $utmify\_url = esc\_url\_raw( $theme\_option\_url ); |
  |  | 137 | } |
  |  | 138 | $plugin\_option\_url = get\_option( $plugin\_upgrade\_option\_name, false ); |
  |  | 139 | if ( ! empty( $plugin\_option\_url ) ) { |
  |  | 140 | $utmify\_url = esc\_url\_raw( $plugin\_option\_url ); |
  |  | 141 | } |
  |  | 142 | } |
  |  | 143 |  |
  |  | 144 |  |
  |  | 145 |  |
  | 125 | 146 | return apply\_filters( 'tsdk\_utmify\_url\_' . $filter\_key, $utmify\_url, $url ); |
  | 126 | 147 | } |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract\_module.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php")

  | [r2926556](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php?rev=2926556#L40 "Show revision 2926556 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Common/Abstract_module.php?rev=3139233#L40 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 40 | 40 | 'sparks-for-woocommerce'              => 'sparks-for-woocommerce/sparks-for-woocommerce.php', |
  | 41 | 41 | 'templates-patterns-collection'       => 'templates-patterns-collection/templates-patterns-collection.php', |
  |  | 42 | 'wpcf7-redirect'                      => 'wpcf7-redirect/wpcf7-redirect.php', |
  | 42 | 43 | ]; |
  | 43 | 44 |  |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L38 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L38 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 38 | 38 | \* Holds registered products. |
  | 39 | 39 | \* |
  | 40 |  | \* @var array The products which use the SDK. |
  |  | 40 | \* @var array<Product> The products which use the SDK. |
  | 41 | 41 | \*/ |
  | 42 | 42 | private static $products = []; |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L54) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L54) |  |
  | 54 | 54 | 'logger', |
  | 55 | 55 | 'translate', |
  |  | 56 | 'translations', |
  | 56 | 57 | 'review', |
  | 57 | 58 | 'recommendation', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L63) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L64) |  |
  | 63 | 64 | 'announcements', |
  | 64 | 65 | 'featured\_plugins', |
  |  | 66 | 'float\_widget', |
  | 65 | 67 | ]; |
  | 66 | 68 | /\*\* |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L113) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L115) |  |
  | 113 | 115 | ], |
  | 114 | 116 | 'promotions'       => [ |
  | 115 |  | 'recommended' => 'Recommended by %s', |
  | 116 |  | 'woo'         => [ |
  |  | 117 | 'recommended'     => 'Recommended by %s', |
  |  | 118 | 'installActivate' => 'Install & Activate', |
  |  | 119 | 'preview'         => 'Preview', |
  |  | 120 | 'installing'      => 'Installing', |
  |  | 121 | 'activating'      => 'Activating', |
  |  | 122 | 'connecting'      => 'Connecting to API', |
  |  | 123 | 'learnmore'       => 'Learn More', |
  |  | 124 | 'activate'        => 'Activate', |
  |  | 125 | 'all\_set'         => 'Awesome! You are all set!', |
  |  | 126 | 'woo'             => [ |
  | 117 | 127 | 'title'        => 'More extensions from Themeisle', |
  | 118 | 128 | 'title2'       => 'Recommended extensions', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L129) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L139) |  |
  | 129 | 139 | 'spark\_desc3'  => 'Enable an advanced review section, enlarging the basic review options with lots of capabilities.', |
  | 130 | 140 | ], |
  | 131 |  | 'optimole'    => [ |
  | 132 |  | 'all\_set'           => 'Awesome! You are all set!', |
  | 133 |  | 'gotodash'          => 'Go to Optimole dashboard', |
  | 134 |  | 'installing'        => 'Installing', |
  | 135 |  | 'activating'        => 'Activating', |
  | 136 |  | 'connecting'        => 'Connecting to API', |
  | 137 |  | 'start\_cta'         => 'Start using Optimole', |
  | 138 |  | 'dismisscta'        => 'Dismiss this notice.', |
  | 139 |  | 'gst'               => 'Get Started Free', |
  | 140 |  | 'heading'           => 'Get more with Optimole', |
  | 141 |  | 'learnmore'         => 'Learn more', |
  | 142 |  | 'message1'          => 'Increase this page speed and SEO ranking by optimizing images with Optimole.', |
  | 143 |  | 'message3'          => 'Save your server space by storing images to Optimole and deliver them optimized from 400 locations around the globe. Unlimited images, Unlimited traffic.', |
  | 144 |  | 'message4'          => 'This image looks to be too large and would affect your site speed, we recommend you to install Optimole to optimize your images.', |
  | 145 |  | 'message2'          => 'Leverage Optimole\'s full integration with Elementor to automatically lazyload, resize, compress to AVIF/WebP and deliver from 400 locations around the globe!', |
  | 146 |  | 'email\_placeholder' => 'Email address', |
  |  | 141 | 'optimole'        => [ |
  |  | 142 | 'installOptimole' => 'Install Optimole', |
  |  | 143 | 'gotodash'        => 'Go to Optimole dashboard', |
  |  | 144 | 'dismisscta'      => 'Dismiss this notice.', |
  |  | 145 | 'message1'        => 'Increase this page speed and SEO ranking by optimizing images with Optimole.', |
  |  | 146 | 'message3'        => 'Save your server space by storing images to Optimole and deliver them optimized from 400 locations around the globe. Unlimited images, Unlimited traffic.', |
  |  | 147 | 'message4'        => 'This image looks to be too large and would affect your site speed, we recommend you to install Optimole to optimize your images.', |
  |  | 148 | 'message2'        => 'Leverage Optimole\'s full integration with Elementor to automatically lazyload, resize, compress to AVIF/WebP and deliver from 400 locations around the globe!', |
  |  | 149 | ], |
  |  | 150 | 'redirectionCF7'  => [ |
  |  | 151 | 'gotodash'   => 'Go to Contact Forms', |
  |  | 152 | 'dismisscta' => 'Dismiss this notice.', |
  |  | 153 | 'gst'        => 'Get Started Free', |
  |  | 154 | 'message'    => 'Add URL redirects, spam protection, execute JavaScript after submissions, and more with the Redirection for CF7 free plugin.', |
  | 147 | 155 | ], |
  | 148 | 156 | ], |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L277) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L285) |  |
  | 277 | 285 | ], |
  | 278 | 286 | ], |
  |  | 287 | 'float\_widget'     => [ |
  |  | 288 | 'button' => 'Toggle Help Widget for %s', |
  |  | 289 | 'panel'  => [ |
  |  | 290 | 'greeting' => 'Thank you for using %s', |
  |  | 291 | 'title'    => 'How can we help you?', |
  |  | 292 | 'close'    => 'Close Toggle Help Widget', |
  |  | 293 | ], |
  |  | 294 | 'links'  => [ |
  |  | 295 | 'documentation'   => 'Documentation', |
  |  | 296 | 'support'         => 'Get Support', |
  |  | 297 | 'wizard'          => 'Run Setup Wizard', |
  |  | 298 | 'upgrade'         => 'Upgrade to Pro', |
  |  | 299 | 'feature\_request' => 'Suggest a Feature', |
  |  | 300 | 'rate'            => 'Rate Us', |
  |  | 301 | ], |
  |  | 302 | ], |
  | 279 | 303 | ]; |
  | 280 | 304 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3072679#L354) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Loader.php?rev=3139233#L378) |  |
  | 354 | 378 | \* Get all products using the SDK. |
  | 355 | 379 | \* |
  | 356 |  | \* @return array Products available. |
  |  | 380 | \* @return array<Product> Products available. |
  | 357 | 381 | \*/ |
  | 358 | 382 | public static function get\_products() { |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About\_us.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3072679#L125 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3139233#L125 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 125 | 125 | $this->about\_data['location'], |
  | 126 | 126 | $this->about\_data['upgrade\_text'], |
  | 127 |  | ~~$this->about\_data['upgrade\_text']~~, |
  |  | 127 | '<span class="tsdk-upg-menu-item">' . $this->about\_data['upgrade\_text'] . '</span>', |
  | 128 | 128 | 'manage\_options', |
  | 129 | 129 | $this->about\_data['upgrade\_link'], |
  | 130 | 130 | '', |
  | 131 | 131 | 101 |
  |  | 132 | ); |
  |  | 133 | add\_action( |
  |  | 134 | 'admin\_footer', |
  |  | 135 | function () { |
  |  | 136 | ?> |
  |  | 137 | <style> |
  |  | 138 | .tsdk-upg-menu-item { |
  |  | 139 | color: #009528; |
  |  | 140 | } |
  |  | 141 |  |
  |  | 142 | .tsdk-upg-menu-item:hover { |
  |  | 143 | color: #008a20; |
  |  | 144 | } |
  |  | 145 | </style> |
  |  | 146 | <script type="text/javascript"> |
  |  | 147 | jQuery(document).ready(function ($) { |
  |  | 148 | $('.tsdk-upg-menu-item').parent().attr('target', '\_blank'); |
  |  | 149 | }); |
  |  | 150 | </script> |
  |  | 151 | <?php |
  |  | 152 | } |
  | 132 | 153 | ); |
  | 133 | 154 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3072679#L238) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/About_us.php?rev=3139233#L259) |  |
  | 238 | 259 | 'text'         => Loader::$labels['about\_us']['otter-page']['text'], |
  | 239 | 260 | 'buttons'      => [ |
  | 240 |  | 'install\_otter\_free' => Loader::$labels['about\_us']['otter-page']['install\_otter\_free'], |
  | 241 |  | 'install\_now'        => Loader::$labels['about\_us']['otter-page']['install\_now'], |
  | 242 |  | 'learn\_more'         => Loader::$labels['about\_us']['otter-page']['learn\_more'], |
  |  | 261 | 'install\_otter\_free' => Loader::$labels['about\_us']['otter-page']['buttons']['install\_otter\_free'], |
  |  | 262 | 'install\_now'        => Loader::$labels['about\_us']['otter-page']['buttons']['install\_now'], |
  |  | 263 | 'learn\_more'         => Loader::$labels['about\_us']['otter-page']['buttons']['learn\_more'], |
  | 243 | 264 | 'learn\_more\_link'    => tsdk\_utmify( 'https://themeisle.com/plugins/otter-blocks/', 'otter-page', 'about-us' ), |
  | 244 | 265 | ], |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php?rev=3072679#L294 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Announcements.php?rev=3139233#L294 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 294 | 294 | .themeisle-sale { |
  | 295 | 295 | display: flex; |
  |  | 296 | align-items: center; |
  | 296 | 297 | } |
  | 297 | 298 | </style> |
  | 298 | 299 | <div class="themeisle-sale notice notice-info is-dismissible" data-announcement="black\_friday"> |
  | 299 |  | <img ~~src="<?php echo esc\_url\_raw( $this->get\_sdk\_uri() . 'assets/images/themeisle-logo.sv~~g' ); ?>"/> |
  |  | 300 | <img width="24" src="<?php echo esc\_url\_raw( $this->get\_sdk\_uri() . 'assets/images/themeisle-logo.png' ); ?>"/> |
  | 300 | 301 | <p> |
  | 301 | 302 | <strong><?php echo esc\_html( Loader::$labels['announcements']['sale\_live'] ); ?> ></strong> |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard\_widget.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3072679#L83 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Dashboard_widget.php?rev=3139233#L83 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 83 | 83 | [ |
  | 84 | 84 | 'https://themeisle.com/blog/feed', |
  | 85 |  | ~~'https://www.codeinwp.com/blog/feed',~~ |
  | 86 | 85 | 'https://wpshout.com/feed', |
  | 87 | 86 | ] |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured\_plugins.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php?rev=3072679#L45 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Featured_plugins.php?rev=3139233#L45 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 45 | 45 | } |
  | 46 | 46 |  |
  | 47 |  | $slug = $product->get\_slug(); |
  | 48 |  | // only load for products that contain "pro" in the slug. |
  | 49 |  | if ( strpos( $slug, 'pro' ) === false ) { |
  |  | 47 | if ( $product->is\_wordpress\_available() ) { |
  | 50 | 48 | return false; |
  | 51 | 49 | } |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3072679#L140 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Licenser.php?rev=3139233#L140 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 140 | 140 |  |
  | 141 | 141 | $activate\_string   = apply\_filters( $this->product->get\_key() . '\_lc\_activate\_string', Loader::$labels['licenser']['activate'] ); |
  | 142 |  | $deactivate\_string = apply\_filters( $this->product->get\_key() . '\_lc\_deactivate\_string', Loader::$labels['licenser']['deactivate~~activate~~'] ); |
  |  | 142 | $deactivate\_string = apply\_filters( $this->product->get\_key() . '\_lc\_deactivate\_string', Loader::$labels['licenser']['deactivate'] ); |
  | 143 | 143 | $valid\_string      = apply\_filters( $this->product->get\_key() . '\_lc\_valid\_string', Loader::$labels['licenser']['valid'] ); |
  | 144 | 144 | $invalid\_string    = apply\_filters( $this->product->get\_key() . '\_lc\_invalid\_string', Loader::$labels['licenser']['invalid'] ); |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L189 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L189 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 189 | 189 | /\*\* |
  | 190 | 190 | \* Load telemetry. |
  | 191 |  | \* |
  |  | 191 | \* |
  | 192 | 192 | \* @return void |
  | 193 | 193 | \*/ |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L199) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L199) |  |
  | 199 | 199 | $all\_products[ $this->product->get\_slug() ] = $this->product; // Add current product to the list of products to check for telemetry. |
  | 200 | 200 |  |
  |  | 201 | // Register telemetry params for eligible products. |
  | 201 | 202 | foreach ( $all\_products as $product\_slug => $product ) { |
  | 202 |  |  |
  | 203 |  | // Ignore ~~pro~~ products. |
  |  | 203 |  |
  |  | 204 | // Ignore PRO products. |
  | 204 | 205 | if ( false !== strstr( $product\_slug, 'pro' ) ) { |
  | 205 | 206 | continue; |
  | 206 | 207 | } |
  | 207 | 208 |  |
  | 208 |  | $~~default = 'no'~~; |
  | 209 |  |  |
  | 210 |  | if ( ! $product->is\_wordpress\_available() ) { |
  | 211 |  | ~~$default = 'yes';~~ |
  | 212 |  | ~~} else~~ { |
  | 213 |  | $~~pro\_slug = $product->get\_pro\_slug(~~); |
  | 214 |  |  |
  | 215 |  | if ( ~~! empty( $pro\_slug ) && isset( $all\_products[ $pro\_slug ] )~~ ) { |
  | 216 |  | ~~$default = 'yes'~~; |
  |  | 209 | $pro\_slug   = $product->get\_pro\_slug(); |
  |  | 210 | $logger\_key = $product->get\_key() . '\_logger\_flag'; |
  |  | 211 |  |
  |  | 212 | // If the product is not available in the WordPress store, or it's PRO version is installed, activate the logger if it was not initialized -- Pro users are opted in by default. |
  |  | 213 | if ( ! $product->is\_wordpress\_available() || ( ! empty( $pro\_slug ) && isset( $all\_products[ $pro\_slug ] ) ) ) { |
  |  | 214 | $logger\_flag = get\_option( $logger\_key ); |
  |  | 215 |  |
  |  | 216 | if ( false === $logger\_flag ) { |
  |  | 217 | update\_option( $logger\_key, 'yes' ); |
  | 217 | 218 | } |
  | 218 | 219 | } |
  | 219 | 220 |  |
  | 220 |  | if ( 'yes' === get\_option( $product->get\_key() . '\_logger\_flag', ~~$default~~ ) ) { |
  |  | 221 | if ( 'yes' === get\_option( $product->get\_key() . '\_logger\_flag', 'no' ) ) { |
  | 221 | 222 |  |
  | 222 | 223 | $main\_slug  = explode( '-', $product\_slug ); |
  | 223 | 224 | $main\_slug  = $main\_slug[0]; |
  | 224 |  | ~~$pro\_slug   = $product->get\_pro\_slug();~~ |
  | 225 | 225 | $track\_hash = Licenser::create\_license\_hash( str\_replace( '-', '\_', ! empty( $pro\_slug ) ? $pro\_slug : $product\_slug ) ); |
  | 226 | 226 |  |
  | 227 | 227 | // Check if product was already tracked. |
  | 228 | 228 | $active\_telemetry = false; |
  | 229 |  | foreach ( $products\_with\_telemetry as ~~&~~$product\_with\_telemetry ) { |
  |  | 229 | foreach ( $products\_with\_telemetry as $product\_with\_telemetry ) { |
  | 230 | 230 | if ( $product\_with\_telemetry['slug'] === $main\_slug ) { |
  | 231 | 231 | $active\_telemetry = true; |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L237) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L237) |  |
  | 237 | 237 | continue; |
  | 238 | 238 | } |
  | 239 |  |  |
  |  | 239 |  |
  | 240 | 240 | $products\_with\_telemetry[] = array( |
  | 241 | 241 | 'slug'      => $main\_slug, |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L251) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L251) |  |
  | 251 | 251 | return; |
  | 252 | 252 | } |
  | 253 |  |  |
  | 254 | 253 |  |
  | 255 | 254 | $tracking\_handler = apply\_filters( 'themeisle\_sdk\_dependency\_script\_handler', 'tracking' ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3072679#L269) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Logger.php?rev=3139233#L268) |  |
  | 269 | 268 | error\_log( $e->getMessage() ); // phpcs:ignore |
  | 270 | 269 | } |
  | 271 |  | ~~} catch ( \Error $e ) {~~ |
  | 272 |  | ~~if ( defined( 'WP\_DEBUG' ) && WP\_DEBUG && defined( 'WP\_DEBUG\_LOG' ) && WP\_DEBUG\_LOG ) {~~ |
  | 273 |  | ~~error\_log( $e->getMessage() ); // phpcs:ignore~~ |
  | 274 |  | ~~}~~ |
  | 275 | 270 | } finally { |
  | 276 | 271 | return; |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L72 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L72 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 72 | 72 |  |
  | 73 | 73 | /\*\* |
  | 74 |  | \* Option key for Neve ~~FSE promos~~. |
  |  | 74 | \* Option key for Neve promo. |
  | 75 | 75 | \* |
  | 76 | 76 | \* @var string |
  | 77 | 77 | \*/ |
  | 78 |  | private $option\_neve\_fse = 'themeisle\_sdk\_promotions\_neve\_fse\_installed'; |
  |  | 78 | private $option\_neve = 'themeisle\_sdk\_promotions\_neve\_installed'; |
  |  | 79 |  |
  |  | 80 | /\*\* |
  |  | 81 | \* Option key for Redirection for CF7. |
  |  | 82 | \* |
  |  | 83 | \* @var string |
  |  | 84 | \*/ |
  |  | 85 | private $option\_redirection\_cf7 = 'themeisle\_sdk\_promotions\_redirection\_cf7\_installed'; |
  | 79 | 86 |  |
  | 80 | 87 | /\*\* |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L116) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L123) |  |
  | 116 | 123 | $this->debug          = apply\_filters( 'themeisle\_sdk\_promo\_debug', $this->debug ); |
  | 117 | 124 | $promotions\_to\_load   = apply\_filters( $product->get\_key() . '\_load\_promotions', array() ); |
  |  | 125 | $promotions\_to\_load[] = 'otter'; |
  | 118 | 126 | $promotions\_to\_load[] = 'optimole'; |
  | 119 | 127 | $promotions\_to\_load[] = 'rop'; |
  | 120 | 128 | $promotions\_to\_load[] = 'woo\_plugins'; |
  | 121 |  | $promotions\_to\_load[] = 'neve-fse'; |
  |  | 129 | $promotions\_to\_load[] = 'neve'; |
  |  | 130 | $promotions\_to\_load[] = 'redirection-cf7'; |
  |  | 131 |  |
  |  | 132 | $promotions\_to\_load = array\_unique( $promotions\_to\_load ); |
  | 122 | 133 |  |
  | 123 | 134 | $this->promotions = $this->get\_promotions(); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L147) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L158) |  |
  | 147 | 158 | } |
  | 148 | 159 |  |
  |  | 160 | $last\_dismiss\_time = $this->get\_last\_dismiss\_time(); |
  |  | 161 |  |
  |  | 162 | if ( ! $this->debug && is\_int( $last\_dismiss\_time ) && ( time() - $last\_dismiss\_time ) < WEEK\_IN\_SECONDS ) { |
  |  | 163 | return; |
  |  | 164 | } |
  |  | 165 |  |
  | 149 | 166 | $this->product = $product; |
  | 150 |  |  |
  | 151 |  | ~~$last\_dismiss = $this->get\_last\_dismiss\_time();~~ |
  | 152 |  |  |
  | 153 |  | ~~if ( ! $this->debug && $last\_dismiss && ( time() - $last\_dismiss ) < 7 \* DAY\_IN\_SECONDS ) {~~ |
  | 154 |  | ~~return;~~ |
  | 155 |  | ~~}~~ |
  | 156 | 167 |  |
  | 157 | 168 | add\_filter( 'attachment\_fields\_to\_edit', array( $this, 'add\_attachment\_field' ), 10, 2 ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L161) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L172) |  |
  | 161 | 172 | add\_filter( 'themeisle\_sdk\_ran\_promos', '\_\_return\_true' ); |
  | 162 | 173 |  |
  | 163 |  | if ( get\_option( $this->option\_neve~~\_fse~~, false ) !== true ) { |
  |  | 174 | if ( get\_option( $this->option\_neve, false ) !== true ) { |
  | 164 | 175 | add\_action( 'wp\_ajax\_themeisle\_sdk\_dismiss\_notice', 'ThemeisleSDK\Modules\Notification::regular\_dismiss' ); |
  | 165 | 176 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L210) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L221) |  |
  | 210 | 221 | } |
  | 211 | 222 |  |
  | 212 |  | if ( isset( $\_GET['neve\_~~fse\_~~reference\_key'] ) ) { |
  | 213 |  | update\_option( 'neve\_~~fse\_reference\_key', sanitize\_key( $\_GET['neve\_fs~~e\_reference\_key'] ) ); |
  |  | 223 | if ( isset( $\_GET['neve\_reference\_key'] ) ) { |
  |  | 224 | update\_option( 'neve\_reference\_key', sanitize\_key( $\_GET['neve\_reference\_key'] ) ); |
  | 214 | 225 | } |
  | 215 | 226 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L264) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L275) |  |
  | 264 | 275 | register\_setting( |
  | 265 | 276 | 'themeisle\_sdk\_settings', |
  | 266 |  | $this->option\_neve~~\_fse~~, |
  |  | 277 | $this->option\_neve, |
  | 267 | 278 | array( |
  | 268 | 279 | 'type'              => 'boolean', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L272) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L283) |  |
  | 272 | 283 | ) |
  | 273 | 284 | ); |
  |  | 285 | register\_setting( |
  |  | 286 | 'themeisle\_sdk\_settings', |
  |  | 287 | $this->option\_redirection\_cf7, |
  |  | 288 | array( |
  |  | 289 | 'type'              => 'boolean', |
  |  | 290 | 'sanitize\_callback' => 'rest\_sanitize\_boolean', |
  |  | 291 | 'show\_in\_rest'      => true, |
  |  | 292 | 'default'           => false, |
  |  | 293 | ) |
  |  | 294 | ); |
  | 274 | 295 | } |
  | 275 | 296 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L314) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L335) |  |
  | 314 | 335 | \*/ |
  | 315 | 336 | private function get\_promotions() { |
  | 316 |  | $has\_otter               = defined( 'OTTER\_BLOCKS\_VERSION' ) || $this->is\_plugin\_installed( 'otter-blocks' ); |
  | 317 |  | $had\_otter\_from\_promo    = get\_option( $this->option\_otter, false ); |
  | 318 |  | $has\_optimole            = defined( 'OPTIMOLE\_VERSION' ) || $this->is\_plugin\_installed( 'optimole-wp' ); |
  | 319 |  | $had\_optimole\_from\_promo = get\_option( $this->option\_optimole, false ); |
  | 320 |  | $has\_rop                 = defined( 'ROP\_LITE\_VERSION' ) || $this->is\_plugin\_installed( 'tweet-old-post' ); |
  | 321 |  | $had\_rop\_from\_promo      = get\_option( $this->option\_rop, false ); |
  | 322 |  | $has\_woocommerce         = class\_exists( 'WooCommerce' ); |
  | 323 |  | $has\_sparks              = defined( 'SPARKS\_WC\_VERSION' ) || $this->is\_plugin\_installed( 'sparks-for-woocommerce' ); |
  | 324 |  | $has\_ppom                = defined( 'PPOM\_VERSION' ) || $this->is\_plugin\_installed( 'woocommerce-product-addon' ); |
  | 325 |  | $is\_min\_req\_v            = version\_compare( get\_bloginfo( 'version' ), '5.8', '>=' ); |
  | 326 |  | $is\_min\_fse\_v            = version\_compare( get\_bloginfo( 'version' ), '6.2', '>=' ); |
  | 327 |  | $current\_theme           = wp\_get\_theme(); |
  | 328 |  | $has\_neve\_fse            = $current\_theme->template === 'neve-fse' || $current\_theme->parent() === 'neve-fse'; |
  | 329 |  | $has\_enough\_attachments  = $this->has\_min\_media\_attachments(); |
  | 330 |  | $has\_enough\_old\_posts    = $this->has\_old\_posts(); |
  |  | 337 | $has\_otter                 = defined( 'OTTER\_BLOCKS\_VERSION' ) || $this->is\_plugin\_installed( 'otter-blocks' ); |
  |  | 338 | $had\_otter\_from\_promo      = get\_option( $this->option\_otter, false ); |
  |  | 339 | $has\_optimole              = defined( 'OPTIMOLE\_VERSION' ) || $this->is\_plugin\_installed( 'optimole-wp' ); |
  |  | 340 | $had\_optimole\_from\_promo   = get\_option( $this->option\_optimole, false ); |
  |  | 341 | $has\_rop                   = defined( 'ROP\_LITE\_VERSION' ) || $this->is\_plugin\_installed( 'tweet-old-post' ); |
  |  | 342 | $had\_rop\_from\_promo        = get\_option( $this->option\_rop, false ); |
  |  | 343 | $has\_woocommerce           = class\_exists( 'WooCommerce' ); |
  |  | 344 | $has\_sparks                = defined( 'SPARKS\_WC\_VERSION' ) || $this->is\_plugin\_installed( 'sparks-for-woocommerce' ); |
  |  | 345 | $has\_ppom                  = defined( 'PPOM\_VERSION' ) || $this->is\_plugin\_installed( 'woocommerce-product-addon' ); |
  |  | 346 | $has\_redirection\_cf7       = defined( 'WPCF7\_PRO\_REDIRECT\_PLUGIN\_VERSION' ) || $this->is\_plugin\_installed( 'wpcf7-redirect' ); |
  |  | 347 | $had\_redirection\_cf7\_promo = get\_option( $this->option\_redirection\_cf7, false ); |
  |  | 348 | $is\_min\_req\_v              = version\_compare( get\_bloginfo( 'version' ), '5.8', '>=' ); |
  |  | 349 | $current\_theme             = wp\_get\_theme(); |
  |  | 350 | $has\_neve                  = $current\_theme->template === 'neve' || $current\_theme->parent() === 'neve'; |
  |  | 351 | $has\_neve\_from\_promo       = get\_option( $this->option\_neve, false ); |
  |  | 352 | $has\_enough\_attachments    = $this->has\_min\_media\_attachments(); |
  |  | 353 | $has\_enough\_old\_posts      = $this->has\_old\_posts(); |
  | 331 | 354 |  |
  | 332 | 355 | $all = [ |
  | 333 |  | 'optimole'    => [ |
  |  | 356 | 'optimole'        => [ |
  | 334 | 357 | 'om-editor'      => [ |
  | 335 |  | 'env'    => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  | 336 |  | 'screen' => 'editor', |
  |  | 358 | 'env'     => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  |  | 359 | 'screen'  => 'editor', |
  |  | 360 | 'delayed' => true, |
  | 337 | 361 | ], |
  | 338 | 362 | 'om-image-block' => [ |
  | 339 |  | 'env'    => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  | 340 |  | 'screen' => 'editor', |
  |  | 363 | 'env'     => ! $has\_optimole && $is\_min\_req\_v && ! $had\_optimole\_from\_promo, |
  |  | 364 | 'screen'  => 'editor', |
  |  | 365 | 'delayed' => true, |
  | 341 | 366 | ], |
  | 342 | 367 | 'om-attachment'  => [ |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L349) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L374) |  |
  | 349 | 374 | ], |
  | 350 | 375 | 'om-elementor'   => [ |
  | 351 |  | 'env'    => ! $has\_optimole && ! $had\_optimole\_from\_promo && defined( 'ELEMENTOR\_VERSION' ), |
  | 352 |  | 'screen' => 'elementor', |
  |  | 376 | 'env'     => ! $has\_optimole && ! $had\_optimole\_from\_promo && defined( 'ELEMENTOR\_VERSION' ), |
  |  | 377 | 'screen'  => 'elementor', |
  |  | 378 | 'delayed' => true, |
  | 353 | 379 | ], |
  | 354 | 380 | ], |
  | 355 |  | 'otter'       => [ |
  |  | 381 | 'otter'           => [ |
  | 356 | 382 | 'blocks-css'        => [ |
  | 357 |  | 'env'    => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  | 358 |  | 'screen' => 'editor', |
  |  | 383 | 'env'     => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  |  | 384 | 'screen'  => 'editor', |
  |  | 385 | 'delayed' => true, |
  | 359 | 386 | ], |
  | 360 | 387 | 'blocks-animation'  => [ |
  | 361 |  | 'env'    => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  | 362 |  | 'screen' => 'editor', |
  |  | 388 | 'env'     => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  |  | 389 | 'screen'  => 'editor', |
  |  | 390 | 'delayed' => true, |
  | 363 | 391 | ], |
  | 364 | 392 | 'blocks-conditions' => [ |
  | 365 |  | 'env'    => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  | 366 |  | 'screen' => 'editor', |
  |  | 393 | 'env'     => ! $has\_otter && $is\_min\_req\_v && ! $had\_otter\_from\_promo, |
  |  | 394 | 'screen'  => 'editor', |
  |  | 395 | 'delayed' => true, |
  | 367 | 396 | ], |
  | 368 | 397 | ], |
  | 369 |  | 'rop'         => [ |
  |  | 398 | 'rop'             => [ |
  | 370 | 399 | 'rop-posts' => [ |
  | 371 |  | 'env'    => ! $has\_rop && ! $had\_rop\_from\_promo && $has\_enough\_old\_posts, |
  | 372 |  | 'screen' => 'edit-post', |
  |  | 400 | 'env'     => ! $has\_rop && ! $had\_rop\_from\_promo && $has\_enough\_old\_posts, |
  |  | 401 | 'screen'  => 'edit-post', |
  |  | 402 | 'delayed' => true, |
  | 373 | 403 | ], |
  | 374 | 404 | ], |
  | 375 |  | 'woo\_plugins' => [ |
  |  | 405 | 'woo\_plugins'     => [ |
  | 376 | 406 | 'ppom'                  => [ |
  | 377 | 407 | 'env'    => ! $has\_ppom && $has\_woocommerce, |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L391) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L421) |  |
  | 391 | 421 | ], |
  | 392 | 422 | ], |
  | 393 |  | 'neve~~-fse'~~    => [ |
  | 394 |  | 'neve-~~fse-~~themes-popular' => [ |
  | 395 |  | 'env'    => ! $has\_neve~~\_fse && $is\_min\_fse\_v~~, |
  |  | 423 | 'neve'            => [ |
  |  | 424 | 'neve-themes-popular' => [ |
  |  | 425 | 'env'    => ! $has\_neve && ! $has\_neve\_from\_promo, |
  | 396 | 426 | 'screen' => 'themes-install-popular', |
  |  | 427 | ], |
  |  | 428 | ], |
  |  | 429 | 'redirection-cf7' => [ |
  |  | 430 | 'wpcf7' => [ |
  |  | 431 | 'env'     => ! $has\_redirection\_cf7 && ! $had\_redirection\_cf7\_promo, |
  |  | 432 | 'screen'  => 'wpcf7', |
  |  | 433 | 'delayed' => true, |
  | 397 | 434 | ], |
  | 398 | 435 | ], |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L443) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L480) |  |
  | 443 | 480 | \* Get the last dismiss time of a promotion. |
  | 444 | 481 | \* |
  | 445 |  | \* @return int ~~The timestamp of last dismiss, or install time - 4 days~~. |
  |  | 482 | \* @return int | false The timestamp of last dismiss or false. |
  | 446 | 483 | \*/ |
  | 447 | 484 | private function get\_last\_dismiss\_time() { |
  | 448 | 485 | $dismissed = $this->get\_upsells\_dismiss\_time(); |
  | 449 | 486 |  |
  | 450 |  | if ( empty( $dismissed ) ) { |
  | 451 |  | // we return the product install time - 4 days because we want to show the upsell after 3 days, |
  | 452 |  | // and we move the product install time 4 days in the past. |
  | 453 |  | return $this->product->get\_install\_time() - 4 \* DAY\_IN\_SECONDS; |
  | 454 |  | } |
  | 455 |  |  |
  | 456 |  | return max( array\_values( $dismissed ) ); |
  |  | 487 | return empty( $dismissed ) ? false : max( array\_values( $dismissed ) ); |
  | 457 | 488 | } |
  | 458 | 489 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L469) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L500) |  |
  | 469 | 500 | $is\_posts         = isset( $current\_screen->id ) && $current\_screen->id === 'edit-post'; |
  | 470 | 501 | $is\_editor        = method\_exists( $current\_screen, 'is\_block\_editor' ) && $current\_screen->is\_block\_editor(); |
  | 471 |  | $is\_theme\_install = isset( $current\_screen->id ) && ( $current\_screen->id === 'theme-install' ~~|| $current\_screen->id === 'themes'~~ ); |
  |  | 502 | $is\_theme\_install = isset( $current\_screen->id ) && ( $current\_screen->id === 'theme-install' ); |
  | 472 | 503 | $is\_product       = isset( $current\_screen->id ) && $current\_screen->id === 'product'; |
  |  | 504 | $is\_cf7\_install   = isset( $current\_screen->id ) && function\_exists( 'str\_contains' ) ? str\_contains( $current\_screen->id, 'page\_wpcf7' ) : false; |
  | 473 | 505 |  |
  | 474 | 506 | $return = []; |
  |  | 507 |  |
  |  | 508 | $product\_install\_time = (int) $this->product->get\_install\_time(); |
  |  | 509 | $is\_older             = time() > ( $product\_install\_time + ( 3 \* DAY\_IN\_SECONDS ) ); |
  |  | 510 | $is\_newer             = time() < ( $product\_install\_time + ( 5 \* MINUTE\_IN\_SECONDS ) ); |
  | 475 | 511 |  |
  | 476 | 512 | foreach ( $this->promotions as $slug => $promos ) { |
  | 477 | 513 | foreach ( $promos as $key => $data ) { |
  |  | 514 |  |
  |  | 515 | $data = wp\_parse\_args( $data, [ 'delayed' => false ] ); |
  |  | 516 |  |
  |  | 517 | if ( |
  |  | 518 | ! $this->debug && |
  |  | 519 | ( |
  |  | 520 | ( $data['delayed'] === true && ! $is\_older ) || // Skip promotions that are delayed for 3 days. |
  |  | 521 | $is\_newer // Skip promotions for the first 5 minutes after install. |
  |  | 522 | ) |
  |  | 523 | ) { |
  |  | 524 | unset( $this->promotions[ $slug ][ $key ] ); |
  |  | 525 |  |
  |  | 526 | continue; |
  |  | 527 | } |
  |  | 528 |  |
  | 478 | 529 | switch ( $data['screen'] ) { |
  | 479 | 530 | case 'media-editor': |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L512) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L563) |  |
  | 512 | 563 | } |
  | 513 | 564 | break; |
  |  | 565 | case 'wpcf7': |
  |  | 566 | if ( ! $is\_cf7\_install ) { |
  |  | 567 | unset( $this->promotions[ $slug ][ $key ] ); |
  |  | 568 | } |
  |  | 569 | break; |
  | 514 | 570 | } |
  | 515 | 571 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L546) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L602) |  |
  | 546 | 602 | add\_action( 'admin\_notices', [ $this, 'render\_rop\_dash\_notice' ] ); |
  | 547 | 603 | } |
  | 548 |  | if ( $this->get\_upsells\_dismiss\_time( 'neve-fse-themes-popular' ) === false ) { |
  | 549 |  | add\_action( 'admin\_notices', [ $this, 'render\_neve\_fse\_themes\_notice' ] ); |
  |  | 604 | if ( $this->get\_upsells\_dismiss\_time( 'neve-themes-popular' ) === false ) { |
  |  | 605 | add\_action( 'admin\_notices', [ $this, 'render\_neve\_themes\_notice' ] ); |
  |  | 606 | } |
  |  | 607 | if ( $this->get\_upsells\_dismiss\_time( 'redirection-cf7' ) === false ) { |
  |  | 608 | add\_action( 'admin\_notices', [ $this, 'render\_redirection\_cf7\_notice' ] ); |
  | 550 | 609 | } |
  | 551 | 610 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L580) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L639) |  |
  | 580 | 639 | $this->load\_woo\_promos(); |
  | 581 | 640 | break; |
  | 582 |  | case 'neve-~~fse-~~themes-popular': |
  | 583 |  | // Remove any other notifications if Neve ~~FSE~~ promotion is showing |
  |  | 641 | case 'neve-themes-popular': |
  |  | 642 | // Remove any other notifications if Neve promotion is showing |
  | 584 | 643 | remove\_action( 'admin\_notices', array( 'ThemeisleSDK\Modules\Notification', 'show\_notification' ) ); |
  | 585 | 644 | remove\_action( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L594) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L653) |  |
  | 594 | 653 | // Add required actions to display this notification |
  | 595 | 654 | add\_action( 'admin\_enqueue\_scripts', [ $this, 'enqueue' ] ); |
  | 596 |  | add\_action( 'admin\_notices', [ $this, 'render\_neve\_fse\_themes\_notice' ] ); |
  |  | 655 | add\_action( 'admin\_notices', [ $this, 'render\_neve\_themes\_notice' ] ); |
  |  | 656 | break; |
  |  | 657 | case 'wpcf7': |
  |  | 658 | add\_action( 'admin\_enqueue\_scripts', [ $this, 'enqueue' ] ); |
  |  | 659 | add\_action( 'admin\_notices', [ $this, 'render\_redirection\_cf7\_notice' ] ); |
  | 597 | 660 | break; |
  | 598 | 661 | } |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L624) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L687) |  |
  | 624 | 687 | $deps              = array\_merge( $asset\_file['dependencies'], [ 'updates' ] ); |
  | 625 | 688 |  |
  |  | 689 | $themes      = wp\_get\_themes(); |
  |  | 690 | $neve\_action = isset( $themes['neve'] ) ? 'activate' : 'install'; |
  |  | 691 |  |
  | 626 | 692 | wp\_register\_script( $handle, $themeisle\_sdk\_src . 'assets/js/build/promos/index.js', $deps, $asset\_file['version'], true ); |
  | 627 | 693 | wp\_localize\_script( |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L630) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L696) |  |
  | 630 | 696 | [ |
  | 631 | 697 | 'debug'                 => $this->debug, |
  | 632 |  | 'labels'                => [ |
  | 633 |  | 'optimole' => Loader::$labels['promotions']['optimole'], |
  | 634 |  | ], |
  |  | 698 | 'labels'                => Loader::$labels['promotions'], |
  | 635 | 699 | 'email'                 => $user->user\_email, |
  | 636 | 700 | 'showPromotion'         => $this->loaded\_promo, |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L646) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L710) |  |
  | 646 | 710 | 'optimoleDash'          => esc\_url( add\_query\_arg( [ 'page' => 'optimole' ], admin\_url( 'upload.php' ) ) ), |
  | 647 | 711 | 'ropDash'               => esc\_url( add\_query\_arg( [ 'page' => 'TweetOldPost' ], admin\_url( 'admin.php' ) ) ), |
  | 648 |  | ~~'neveFSEMoreUrl'        => tsdk\_utmify( 'https://themeisle.com/themes/neve-fse/', 'neve-fse-themes-popular', 'theme-install' ),~~ |
  | 649 | 712 | // translators: %s is the product name. |
  | 650 | 713 | 'title'                 => esc\_html( sprintf( Loader::$labels['promotions']['recommended'], $this->product->get\_name() ) ), |
  |  | 714 | 'redirectionCF7MoreUrl' => tsdk\_utmify( 'https://docs.themeisle.com/collection/2014-redirection-for-contact-form-7', 'redirection-for-contact-form-7', 'plugin-install' ), |
  |  | 715 | 'rfCF7ActivationUrl'    => $this->get\_plugin\_activation\_link( 'wpcf7-redirect' ), |
  |  | 716 | 'cf7Dash'               => esc\_url( add\_query\_arg( [ 'page' => 'wpcf7-new' ], admin\_url( 'admin.php' ) ) ), |
  |  | 717 | 'nevePreviewURL'        => esc\_url( add\_query\_arg( [ 'theme' => 'neve' ], admin\_url( 'theme-install.php' ) ) ), |
  |  | 718 | 'neveAction'            => $neve\_action, |
  |  | 719 | 'activateNeveURL'       => esc\_url( |
  |  | 720 | add\_query\_arg( |
  |  | 721 | [ |
  |  | 722 | 'action'     => 'activate', |
  |  | 723 | 'stylesheet' => 'neve', |
  |  | 724 | '\_wpnonce'   => wp\_create\_nonce( 'switch-theme\_neve' ), |
  |  | 725 | ], |
  |  | 726 | admin\_url( 'themes.php' ) |
  |  | 727 | ) |
  |  | 728 | ), |
  | 651 | 729 | ] |
  | 652 | 730 | ); |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L669) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L747) |  |
  | 669 | 747 |  |
  | 670 | 748 | /\*\* |
  | 671 |  | \* Render Neve FSE Themes notice. |
  | 672 |  | \*/ |
  | 673 |  | public function render\_neve\_fse\_themes\_notice() { |
  | 674 |  | echo '<div id="ti-neve-fse-notice" class="notice notice-info ti-sdk-neve-fse-notice"></div>'; |
  |  | 749 | \* Render Neve Themes notice. |
  |  | 750 | \*/ |
  |  | 751 | public function render\_neve\_themes\_notice() { |
  |  | 752 | echo '<div id="ti-neve-notice" class="notice notice-info ti-sdk-om-notice"></div>'; |
  |  | 753 | } |
  |  | 754 |  |
  |  | 755 | /\*\* |
  |  | 756 | \* Render Redirection for CF7 notice. |
  |  | 757 | \*/ |
  |  | 758 | public function render\_redirection\_cf7\_notice() { |
  |  | 759 | echo '<div id="ti-redirection-cf7-notice" class="notice notice-info ti-sdk-om-notice"></div>'; |
  | 675 | 760 | } |
  | 676 | 761 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3072679#L694) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Promotions.php?rev=3139233#L779) |  |
  | 694 | 779 | $meta = wp\_get\_attachment\_metadata( $post->ID ); |
  | 695 | 780 |  |
  | 696 |  | if ( isset( $meta['filesize'] ) && $meta['filesize'] < ~~2~~00000 ) { |
  |  | 781 | if ( isset( $meta['filesize'] ) && $meta['filesize'] < 100000 ) { |
  | 697 | 782 | return $fields; |
  | 698 | 783 | } |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3072679#L55 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3139233#L55 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 55 | 55 |  |
  | 56 | 56 | $developers = [ |
  | 57 |  | ~~'Bogdan',~~ |
  | 58 | 57 | 'Marius', |
  | 59 | 58 | 'Hardeep', |
  | 60 |  | ~~'Rodica',~~ |
  | 61 |  | ~~'Stefan',~~ |
  | 62 |  | ~~'Uriahs',~~ |
  | 63 |  | ~~'Madalin',~~ |
  | 64 |  | ~~'Cristi',~~ |
  | 65 |  | ~~'Silviu',~~ |
  | 66 | 59 | 'Andrei', |
  |  | 60 | 'Robert', |
  | 67 | 61 | ]; |
  | 68 | 62 |  |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3072679#L77) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Review.php?rev=3139233#L71) |  |
  | 77 | 71 | [ |
  | 78 | 72 | $this->product->get\_friendly\_name(), |
  | 79 |  | $developers[ strlen( get\_site\_url() ) % ~~10~~ ], |
  |  | 73 | $developers[ strlen( get\_site\_url() ) % count( $developers ) ], |
  | 80 | 74 | ], |
  | 81 | 75 | $message |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php?rev=3072679#L122 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/src/Modules/Rollback.php?rev=3139233#L122 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 122 | 122 | return []; |
  | 123 | 123 | } |
  | 124 |  | $response = function\_exists( '~~wp\_remote\_get~~\_wp\_remote\_get' ) |
  | 125 |  | ? ~~wp\_remote\_get~~\_wp\_remote\_get( $url ) |
  |  | 124 | $response = function\_exists( 'vip\_safe\_wp\_remote\_get' ) |
  |  | 125 | ? vip\_safe\_wp\_remote\_get( $url ) |
  | 126 | 126 | : wp\_remote\_get( $url ); //phpcs:ignore WordPressVIPMinimum.Functions.RestrictedFunctions.wp\_remote\_get\_wp\_remote\_get |
  | 127 | 127 | if ( is\_wp\_error( $response ) ) { |
* ## [themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php](/changeset/3139233/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3072679#L32 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3139233#L32 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | $themeisle\_library\_path . '/src/Modules/Logger.php', |
  | 33 | 33 | $themeisle\_library\_path . '/src/Modules/Translate.php', |
  |  | 34 | $themeisle\_library\_path . '/src/Modules/Translations.php', |
  | 34 | 35 | $themeisle\_library\_path . '/src/Modules/Review.php', |
  | 35 | 36 | $themeisle\_library\_path . '/src/Modules/Recommendation.php', |
  | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3072679#L40) | […](/browser/themeisle-companion/trunk/vendor/codeinwp/themeisle-sdk/start.php?rev=3139233#L41) |  |
  | 40 | 41 | $themeisle\_library\_path . '/src/Modules/Announcements.php', |
  | 41 | 42 | $themeisle\_library\_path . '/src/Modules/Featured\_plugins.php', |
  |  | 43 | $themeisle\_library\_path . '/src/Modules/Float\_widget.php', |
  | 42 | 44 | ]; |
  | 43 | 45 |  |
* ## [themeisle-companion/trunk/vendor/composer/autoload\_classmap.php](/changeset/3139233/themeisle-companion/trunk/vendor/composer/autoload_classmap.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/composer/autoload_classmap.php")

  | [r2800038](/browser/themeisle-companion/trunk/vendor/composer/autoload_classmap.php?rev=2800038#L8 "Show revision 2800038 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/composer/autoload_classmap.php?rev=3139233#L8 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | return array( |
  | 9 | 9 | 'Composer\\InstalledVersions' => $vendorDir . '/composer/InstalledVersions.php', |
  |  | 10 | 'enshrined\\svgSanitize\\ElementReference\\Resolver' => $vendorDir . '/enshrined/svg-sanitize/src/ElementReference/Resolver.php', |
  |  | 11 | 'enshrined\\svgSanitize\\ElementReference\\Subject' => $vendorDir . '/enshrined/svg-sanitize/src/ElementReference/Subject.php', |
  |  | 12 | 'enshrined\\svgSanitize\\ElementReference\\Usage' => $vendorDir . '/enshrined/svg-sanitize/src/ElementReference/Usage.php', |
  |  | 13 | 'enshrined\\svgSanitize\\Exceptions\\NestingException' => $vendorDir . '/enshrined/svg-sanitize/src/Exceptions/NestingException.php', |
  |  | 14 | 'enshrined\\svgSanitize\\Helper' => $vendorDir . '/enshrined/svg-sanitize/src/Helper.php', |
  |  | 15 | 'enshrined\\svgSanitize\\Sanitizer' => $vendorDir . '/enshrined/svg-sanitize/src/Sanitizer.php', |
  |  | 16 | 'enshrined\\svgSanitize\\data\\AllowedAttributes' => $vendorDir . '/enshrined/svg-sanitize/src/data/AllowedAttributes.php', |
  |  | 17 | 'enshrined\\svgSanitize\\data\\AllowedTags' => $vendorDir . '/enshrined/svg-sanitize/src/data/AllowedTags.php', |
  |  | 18 | 'enshrined\\svgSanitize\\data\\AttributeInterface' => $vendorDir . '/enshrined/svg-sanitize/src/data/AttributeInterface.php', |
  |  | 19 | 'enshrined\\svgSanitize\\data\\TagInterface' => $vendorDir . '/enshrined/svg-sanitize/src/data/TagInterface.php', |
  |  | 20 | 'enshrined\\svgSanitize\\data\\XPath' => $vendorDir . '/enshrined/svg-sanitize/src/data/XPath.php', |
  | 10 | 21 | ); |
* ## [themeisle-companion/trunk/vendor/composer/autoload\_psr4.php](/changeset/3139233/themeisle-companion/trunk/vendor/composer/autoload_psr4.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/composer/autoload_psr4.php")

  | [r2800038](/browser/themeisle-companion/trunk/vendor/composer/autoload_psr4.php?rev=2800038#L7 "Show revision 2800038 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/composer/autoload_psr4.php?rev=3139233#L7 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 |  |
  | 8 | 8 | return array( |
  |  | 9 | 'enshrined\\svgSanitize\\' => array($vendorDir . '/enshrined/svg-sanitize/src'), |
  | 9 | 10 | ); |
* ## [themeisle-companion/trunk/vendor/composer/autoload\_real.php](/changeset/3139233/themeisle-companion/trunk/vendor/composer/autoload_real.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/composer/autoload_real.php")

  | [r3038451](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3038451#L3 "Show revision 3038451 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3139233#L3 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_real.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | class ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~ |
  |  | 5 | class ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae |
  | 6 | 6 | { |
  | 7 | 7 | private static $loader; |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3038451#L23) | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_real.php?rev=3139233#L23) |  |
  | 23 | 23 | } |
  | 24 | 24 |  |
  | 25 |  | spl\_autoload\_register(array('ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~', 'loadClassLoader'), true, true); |
  |  | 25 | spl\_autoload\_register(array('ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae', 'loadClassLoader'), true, true); |
  | 26 | 26 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(\_\_DIR\_\_)); |
  | 27 |  | spl\_autoload\_unregister(array('ComposerAutoloaderInit~~651ea6d52749a4a303b5eabe46a4a27f~~', 'loadClassLoader')); |
  |  | 27 | spl\_autoload\_unregister(array('ComposerAutoloaderInit98526a13b8c1cb51fd026cef17ddbaae', 'loadClassLoader')); |
  | 28 | 28 |  |
  | 29 | 29 | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 30 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInit~~651ea6d52749a4a303b5eabe46a4a27f~~::getInitializer($loader)); |
  |  | 30 | call\_user\_func(\Composer\Autoload\ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::getInitializer($loader)); |
  | 31 | 31 |  |
  | 32 | 32 | $loader->register(true); |
  | 33 | 33 |  |
  | 34 |  | $filesToLoad = \Composer\Autoload\ComposerStaticInit~~651ea6d52749a4a303b5eabe46a4a27f~~::$files; |
  |  | 34 | $filesToLoad = \Composer\Autoload\ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$files; |
  | 35 | 35 | $requireFile = \Closure::bind(static function ($fileIdentifier, $file) { |
  | 36 | 36 | if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) { |
* ## [themeisle-companion/trunk/vendor/composer/autoload\_static.php](/changeset/3139233/themeisle-companion/trunk/vendor/composer/autoload_static.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/composer/autoload_static.php")

  | [r3038451](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3038451#L5 "Show revision 3038451 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3139233#L5 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | namespace Composer\Autoload; |
  | 6 | 6 |  |
  | 7 |  | class ComposerStaticInit~~651ea6d52749a4a303b5eabe46a4a27f~~ |
  |  | 7 | class ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae |
  | 8 | 8 | { |
  | 9 | 9 | public static $files = array ( |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3038451#L15) | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3139233#L15) |  |
  | 15 | 15 | ); |
  | 16 | 16 |  |
  |  | 17 | public static $prefixLengthsPsr4 = array ( |
  |  | 18 | 'e' => |
  |  | 19 | array ( |
  |  | 20 | 'enshrined\\svgSanitize\\' => 22, |
  |  | 21 | ), |
  |  | 22 | ); |
  |  | 23 |  |
  |  | 24 | public static $prefixDirsPsr4 = array ( |
  |  | 25 | 'enshrined\\svgSanitize\\' => |
  |  | 26 | array ( |
  |  | 27 | 0 => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src', |
  |  | 28 | ), |
  |  | 29 | ); |
  |  | 30 |  |
  | 17 | 31 | public static $classMap = array ( |
  | 18 | 32 | 'Composer\\InstalledVersions' => \_\_DIR\_\_ . '/..' . '/composer/InstalledVersions.php', |
  |  | 33 | 'enshrined\\svgSanitize\\ElementReference\\Resolver' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/ElementReference/Resolver.php', |
  |  | 34 | 'enshrined\\svgSanitize\\ElementReference\\Subject' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/ElementReference/Subject.php', |
  |  | 35 | 'enshrined\\svgSanitize\\ElementReference\\Usage' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/ElementReference/Usage.php', |
  |  | 36 | 'enshrined\\svgSanitize\\Exceptions\\NestingException' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/Exceptions/NestingException.php', |
  |  | 37 | 'enshrined\\svgSanitize\\Helper' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/Helper.php', |
  |  | 38 | 'enshrined\\svgSanitize\\Sanitizer' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/Sanitizer.php', |
  |  | 39 | 'enshrined\\svgSanitize\\data\\AllowedAttributes' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/AllowedAttributes.php', |
  |  | 40 | 'enshrined\\svgSanitize\\data\\AllowedTags' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/AllowedTags.php', |
  |  | 41 | 'enshrined\\svgSanitize\\data\\AttributeInterface' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/AttributeInterface.php', |
  |  | 42 | 'enshrined\\svgSanitize\\data\\TagInterface' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/TagInterface.php', |
  |  | 43 | 'enshrined\\svgSanitize\\data\\XPath' => \_\_DIR\_\_ . '/..' . '/enshrined/svg-sanitize/src/data/XPath.php', |
  | 19 | 44 | ); |
  | 20 | 45 |  |
  | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3038451#L22) | […](/browser/themeisle-companion/trunk/vendor/composer/autoload_static.php?rev=3139233#L47) |  |
  | 22 | 47 | { |
  | 23 | 48 | return \Closure::bind(function () use ($loader) { |
  | 24 |  | $loader->classMap = ComposerStaticInit651ea6d52749a4a303b5eabe46a4a27f::$classMap; |
  |  | 49 | $loader->prefixLengthsPsr4 = ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$prefixLengthsPsr4; |
  |  | 50 | $loader->prefixDirsPsr4 = ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$prefixDirsPsr4; |
  |  | 51 | $loader->classMap = ComposerStaticInit98526a13b8c1cb51fd026cef17ddbaae::$classMap; |
  | 25 | 52 |  |
  | 26 | 53 | }, null, ClassLoader::class); |
* ## [themeisle-companion/trunk/vendor/composer/installed.json](/changeset/3139233/themeisle-companion/trunk/vendor/composer/installed.json "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/composer/installed.json")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3072679#L130 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3139233#L130 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 130 | 130 | { |
  | 131 | 131 | "name": "codeinwp/themeisle-sdk", |
  | 132 |  | "version": "3.3.2~~0~~", |
  | 133 |  | "version\_normalized": "3.3.2~~0~~.0", |
  |  | 132 | "version": "3.3.29", |
  |  | 133 | "version\_normalized": "3.3.29.0", |
  | 134 | 134 | "source": { |
  | 135 | 135 | "type": "git", |
  | 136 | 136 | "url": "https://github.com/Codeinwp/themeisle-sdk.git", |
  | 137 |  | "reference": "~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~" |
  | 138 |  | }, |
  | 139 |  | "dist": { |
  | 140 |  | "type": "zip", |
  | 141 |  | "url": "https://api.github.com/repos/Codeinwp/themeisle-sdk/zipball/~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~", |
  | 142 |  | "reference": "~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~", |
  |  | 137 | "reference": "4d63bc81ec0357c8675dac1e35511fd81104605d" |
  |  | 138 | }, |
  |  | 139 | "dist": { |
  |  | 140 | "type": "zip", |
  |  | 141 | "url": "https://api.github.com/repos/Codeinwp/themeisle-sdk/zipball/4d63bc81ec0357c8675dac1e35511fd81104605d", |
  |  | 142 | "reference": "4d63bc81ec0357c8675dac1e35511fd81104605d", |
  | 143 | 143 | "shasum": "" |
  | 144 | 144 | }, |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3072679#L146) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3139233#L146) |  |
  | 146 | 146 | "codeinwp/phpcs-ruleset": "dev-main" |
  | 147 | 147 | }, |
  | 148 |  | "time": "2024-0~~4-16T12:27:32~~+00:00", |
  |  | 148 | "time": "2024-08-21T08:03:45+00:00", |
  | 149 | 149 | "type": "library", |
  | 150 | 150 | "installation-source": "dist", |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3072679#L167) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.json?rev=3139233#L167) |  |
  | 167 | 167 | "support": { |
  | 168 | 168 | "issues": "https://github.com/Codeinwp/themeisle-sdk/issues", |
  | 169 |  | "source": "https://github.com/Codeinwp/themeisle-sdk/tree/v3.3.2~~0~~" |
  |  | 169 | "source": "https://github.com/Codeinwp/themeisle-sdk/tree/v3.3.29" |
  | 170 | 170 | }, |
  | 171 | 171 | "install-path": "../codeinwp/themeisle-sdk" |
  |  | 172 | }, |
  |  | 173 | { |
  |  | 174 | "name": "enshrined/svg-sanitize", |
  |  | 175 | "version": "0.19.0", |
  |  | 176 | "version\_normalized": "0.19.0.0", |
  |  | 177 | "source": { |
  |  | 178 | "type": "git", |
  |  | 179 | "url": "https://github.com/darylldoyle/svg-sanitizer.git", |
  |  | 180 | "reference": "e95cd17be68e45f523cbfb0fe50cdd891b0cf20e" |
  |  | 181 | }, |
  |  | 182 | "dist": { |
  |  | 183 | "type": "zip", |
  |  | 184 | "url": "https://api.github.com/repos/darylldoyle/svg-sanitizer/zipball/e95cd17be68e45f523cbfb0fe50cdd891b0cf20e", |
  |  | 185 | "reference": "e95cd17be68e45f523cbfb0fe50cdd891b0cf20e", |
  |  | 186 | "shasum": "" |
  |  | 187 | }, |
  |  | 188 | "require": { |
  |  | 189 | "ext-dom": "\*", |
  |  | 190 | "ext-libxml": "\*", |
  |  | 191 | "php": "^5.6 || ^7.0 || ^8.0" |
  |  | 192 | }, |
  |  | 193 | "require-dev": { |
  |  | 194 | "phpunit/phpunit": "^5.7 || ^6.5 || ^8.5" |
  |  | 195 | }, |
  |  | 196 | "time": "2024-06-18T10:27:15+00:00", |
  |  | 197 | "type": "library", |
  |  | 198 | "installation-source": "dist", |
  |  | 199 | "autoload": { |
  |  | 200 | "psr-4": { |
  |  | 201 | "enshrined\\svgSanitize\\": "src" |
  |  | 202 | } |
  |  | 203 | }, |
  |  | 204 | "notification-url": "https://packagist.org/downloads/", |
  |  | 205 | "license": [ |
  |  | 206 | "GPL-2.0-or-later" |
  |  | 207 | ], |
  |  | 208 | "authors": [ |
  |  | 209 | { |
  |  | 210 | "name": "Daryll Doyle", |
  |  | 211 | "email": "daryll@enshrined.co.uk" |
  |  | 212 | } |
  |  | 213 | ], |
  |  | 214 | "description": "An SVG sanitizer for PHP", |
  |  | 215 | "support": { |
  |  | 216 | "issues": "https://github.com/darylldoyle/svg-sanitizer/issues", |
  |  | 217 | "source": "https://github.com/darylldoyle/svg-sanitizer/tree/0.19.0" |
  |  | 218 | }, |
  |  | 219 | "install-path": "../enshrined/svg-sanitize" |
  | 172 | 220 | } |
  | 173 | 221 | ], |
* ## [themeisle-companion/trunk/vendor/composer/installed.php](/changeset/3139233/themeisle-companion/trunk/vendor/composer/installed.php "Show the changeset 3139233 restricted to themeisle-companion/trunk/vendor/composer/installed.php")

  | [r3072679](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L2 "Show revision 3072679 of this file in browser") | [r3139233](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3139233#L2 "Show revision 3139233 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | 'root' => array( |
  | 3 | 3 | 'name' => 'codeinwp/themeisle-companion', |
  | 4 |  | 'pretty\_version' => 'v2.10.3~~6~~', |
  | 5 |  | 'version' => '2.10.3~~6~~.0', |
  | 6 |  | 'reference' => '~~81db3e9df8dd4fb0651c9a6d83860115ebede162~~', |
  |  | 4 | 'pretty\_version' => 'v2.10.37', |
  |  | 5 | 'version' => '2.10.37.0', |
  |  | 6 | 'reference' => 'd772c60d3a0bbaf2899730e5319eaf9ef5204cdf', |
  | 7 | 7 | 'type' => 'wordpress-plugin', |
  | 8 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L32) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3139233#L32) |  |
  | 32 | 32 | ), |
  | 33 | 33 | 'codeinwp/themeisle-companion' => array( |
  | 34 |  | 'pretty\_version' => 'v2.10.3~~6~~', |
  | 35 |  | 'version' => '2.10.3~~6~~.0', |
  | 36 |  | 'reference' => '~~81db3e9df8dd4fb0651c9a6d83860115ebede162~~', |
  |  | 34 | 'pretty\_version' => 'v2.10.37', |
  |  | 35 | 'version' => '2.10.37.0', |
  |  | 36 | 'reference' => 'd772c60d3a0bbaf2899730e5319eaf9ef5204cdf', |
  | 37 | 37 | 'type' => 'wordpress-plugin', |
  | 38 | 38 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L52) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3139233#L52) |  |
  | 52 | 52 | ), |
  | 53 | 53 | 'codeinwp/themeisle-sdk' => array( |
  | 54 |  | 'pretty\_version' => '3.3.2~~0~~', |
  | 55 |  | 'version' => '3.3.2~~0~~.0', |
  | 56 |  | 'reference' => '~~d1b92f3ab74f1b3f0afad7e23ddb1c058d66c03c~~', |
  |  | 54 | 'pretty\_version' => '3.3.29', |
  |  | 55 | 'version' => '3.3.29.0', |
  |  | 56 | 'reference' => '4d63bc81ec0357c8675dac1e35511fd81104605d', |
  | 57 | 57 | 'type' => 'library', |
  | 58 | 58 | 'install\_path' => \_\_DIR\_\_ . '/../codeinwp/themeisle-sdk', |
  | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3072679#L60) | […](/browser/themeisle-companion/trunk/vendor/composer/installed.php?rev=3139233#L60) |  |
  | 60 | 60 | 'dev\_requirement' => false, |
  | 61 | 61 | ), |
  |  | 62 | 'enshrined/svg-sanitize' => array( |
  |  | 63 | 'pretty\_version' => '0.19.0', |
  |  | 64 | 'version' => '0.19.0.0', |
  |  | 65 | 'reference' => 'e95cd17be68e45f523cbfb0fe50cdd891b0cf20e', |
  |  | 66 | 'type' => 'library', |
  |  | 67 | 'install\_path' => \_\_DIR\_\_ . '/../enshrined/svg-sanitize', |
  |  | 68 | 'aliases' => array(), |
  |  | 69 | 'dev\_requirement' => false, |
  |  | 70 | ), |
  | 62 | 71 | ), |
  | 63 | 72 | ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3139233)
* [Zip Archive](?format=zip&new=3139233)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

