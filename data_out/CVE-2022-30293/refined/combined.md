=== Content from www.debian.org_2195c6be_20250108_120736.html ===


---

[[Date Prev](msg00122.html)][[Date Next](msg00124.html)]
[[Thread Prev](msg00122.html)][[Thread Next](msg00124.html)]
[[Date Index](maillist.html#00123)]
[[Thread Index](threads.html#00123)]

# [SECURITY] [DSA 5155-1] wpewebkit security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 5155-1] wpewebkit security update
* *From*: Alberto Garcia <berto@debian.org>
* *Date*: Tue, 31 May 2022 23:39:09 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20220531233909.GA26094%40seger.debian.org)Â [20220531233909.GA26094@seger.debian.org](msg00123.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian Security Advisory DSA-5155-1                   security@debian.org
<https://www.debian.org/security/>                           Alberto Garcia
June 01, 2022                         <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : wpewebkit
CVE ID         : CVE-2022-26700 CVE-2022-26709 CVE-2022-26716 CVE-2022-26717
                 CVE-2022-26719 CVE-2022-30293 CVE-2022-30294

The following vulnerabilities have been discovered in the WPE WebKit
web engine:

CVE-2022-26700

    ryuzaki discovered that processing maliciously crafted web content
    may lead to code execution.

CVE-2022-26709

    Chijin Zhou discovered that processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-26716

    SorryMybad discovered that Processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-26717

    Jeonghoon Shin discovered that Processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-26719

    Dongzhuo Zhao discovered that Processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-30293

    Chijin Zhou discovered that processing maliciously crafted web
    content may lead to arbitrary code execution or to a denial of
    service (application crash).

CVE-2022-30294

    Chijin Zhou discovered that processing maliciously crafted web
    content may lead to arbitrary code execution or to a denial of
    service (application crash).

For the stable distribution (bullseye), these problems have been fixed in
version 2.36.3-1~deb11u1.

We recommend that you upgrade your wpewebkit packages.

For the detailed security status of wpewebkit please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/wpewebkit>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEYrwugQBKzlHMYFizAAyEYu0C2AIFAmKWpSQACgkQAAyEYu0C
2ALMQw/+NM6DOV6ceFjagoB/CP6GeGY2Etgjwhsw/fXjbbmzmgOQD/bpEQL5u7xB
ad+5hTPB3hvNZhiI0eEFtQuDqgvC1v8BfJ4oPqgYRBr3Pv8pdoKsZuVAPGqX/QNn
Kkng3Ep8bRPEacILIZRpl8RQxWKcOjvuWgTq1cgM2fADroCq9xMf+q+K4T6QAu5d
opUfs1e9cvGrOxM4xOZhxF8Ut8vmNcFzCchXqf+RLRxexZhh/ya+fd9XcQ5xZS28
JJCgLiZxaR1hU2aPzaX4ckAmrbwrJrl9/f7lyKU8RGcvg3diOaDdOQEx2vQoazA+
vkS9rPGK93Jw75AioLfTwd6+N+gSigur2FNMBD1LlSYZ+e6h1Gu2JalGdrYwWkYB
2YlkgmVEA0Mi0nBfQpgCyseMD/X6C00oEWD9yusxi42LXxcpJTDyA6H5i5I4fXfU
F+tX4M+UI0OEeawCLJhFOlDgNN9vdnqHo6vQ3sPLMHwd1wXDLFJ/Mmq/lXQAmn4v
2hZ8aU7x7ADKuVY4cpmwjQDIy9HIyVrluZY9jSbqoWZD1AZXvOhEnvtQ6KcXDZqH
2PABzXKEKTHSa1iLR8FVcnjmw81+SRx21IOZuNSAq07JykfGhfUBtR1cR0P8kTkX
hjn2QxNpPBNWUNcpRsBxRahEsKm19dN0dlinQJ0Cb5x3voWaKU4=
=J5Kz
-----END PGP SIGNATURE-----

```

---



=== Content from www.openwall.com_1e6a8633_20250108_120734.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2022/05/28/2) [[next>]](../../../2022/05/31/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <d2901153-d74f-d45b-23c8-eb5b1160dac3@igalia.com>
Date: Mon, 30 May 2022 15:06:36 +0100
From: Carlos Alberto Lopez Perez <clopez@...lia.com>
To: webkit-gtk@...ts.webkit.org, webkit-wpe@...ts.webkit.org
Cc: security@...kit.org, distributor-list@...me.org,
 oss-security@...ts.openwall.com, bugtraq@...urityfocus.com
Subject: WebKitGTK and WPE WebKit Security Advisory WSA-2022-0005

------------------------------------------------------------------------
WebKitGTK and WPE WebKit Security Advisory                 WSA-2022-0005
------------------------------------------------------------------------

Date reported           : May 30, 2022
Advisory ID             : WSA-2022-0005
WebKitGTK Advisory URL  : <https://webkitgtk.org/security/WSA-2022-0005.html>
WPE WebKit Advisory URL : <https://wpewebkit.org/security/WSA-2022-0005.html>
CVE identifiers         : CVE-2022-26700, CVE-2022-26709,
                          CVE-2022-26717, CVE-2022-26716,
                          CVE-2022-26719, CVE-2022-30293,
                          CVE-2022-30294.

Several vulnerabilities were discovered in WebKitGTK and WPE WebKit.

CVE-2022-26700
    Versions affected: WebKitGTK and WPE WebKit before 2.36.3.
    Credit to ryuzaki.
    Impact: Processing maliciously crafted web content may lead to code
    execution. Description: A memory corruption issue was addressed with
    improved state management.

CVE-2022-26709
    Versions affected: WebKitGTK and WPE WebKit before 2.36.3.
    Credit to Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher
    lab.
    Impact: Processing maliciously crafted web content may lead to
    arbitrary code execution. Description: A use after free issue was
    addressed with improved memory management.

CVE-2022-26717
    Versions affected: WebKitGTK and WPE WebKit before 2.36.3.
    Credit to Jeonghoon Shin of Theori.
    Impact: Processing maliciously crafted web content may lead to
    arbitrary code execution. Description: A use after free issue was
    addressed with improved memory management.

CVE-2022-26716
    Versions affected: WebKitGTK and WPE WebKit before 2.36.3.
    Credit to SorryMybad (@S0rryMybad) of Kunlun Lab.
    Impact: Processing maliciously crafted web content may lead to
    arbitrary code execution. Description: A memory corruption issue was
    addressed with improved state management.

CVE-2022-26719
    Versions affected: WebKitGTK and WPE WebKit before 2.36.3.
    Credit to Dongzhuo Zhao working with ADLab of Venustech.
    Impact: Processing maliciously crafted web content may lead to
    arbitrary code execution. Description: A memory corruption issue was
    addressed with improved state management.

CVE-2022-30293
    Versions affected: WebKitGTK and WPE WebKit before 2.36.1.
    Credit to Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher
    lab.
    Impact: Processing maliciously crafted web content may lead to
    arbitrary code execution or to a denial of service (application
    crash). Description: A memory corruption issue that could cause a
    heap use after free or a heap buffer overflow in
    WebCore::TextureMapperLayer::setContentsLayer was addressed with
    improved state management.

CVE-2022-30294
    Versions affected: WebKitGTK and WPE WebKit before 2.36.1.
    Credit to Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher
    lab.
    Impact: Processing maliciously crafted web content may lead to
    arbitrary code execution or to a denial of service (application
    crash). Description: A memory corruption issue that could cause a
    heap use after free or a heap buffer overflow in
    WebCore::TextureMapperLayer::setContentsLayer was addressed with
    improved state management. This is the same issue than
    CVE-2022-30293.

We recommend updating to the latest stable versions of WebKitGTK and WPE
WebKit. It is the best way to ensure that you are running safe versions
of WebKit. Please check our websites for information about the latest
stable releases.

Further information about WebKitGTK and WPE WebKit security advisories
can be found at: <https://webkitgtk.org/security.html> or
<https://wpewebkit.org/security/>.

The WebKitGTK and WPE WebKit team,
May 30, 2022

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from security.gentoo.org_ad08da64_20250108_120735.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# WebKitGTK+: Multiple Vulnerabilities â€” GLSA **202208-39**

Multiple vulnerabilities have been found in WebkitGTK+, the worst of which could result in the arbitrary execution of code.

### Affected packages

| Package | **net-libs/webkit-gtk** on all architectures |
| --- | --- |
| Affected versions | < **2.36.7** |
| Unaffected versions | >= **2.36.7** |

### Background

WebKitGTK+ is a full-featured port of the WebKit rendering engine, suitable for projects requiring any kind of web integration, from hybrid HTML/CSS applications to full-fledged web browsers.

### Description

Multiple vulnerabilities have been discovered in WebKitGTK+. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All WebKitGTK+ users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=net-libs/webkit-gtk-2.36.7"

```
### References

* [CVE-2022-2294](https://nvd.nist.gov/vuln/detail/CVE-2022-2294)
* [CVE-2022-22589](https://nvd.nist.gov/vuln/detail/CVE-2022-22589)
* [CVE-2022-22590](https://nvd.nist.gov/vuln/detail/CVE-2022-22590)
* [CVE-2022-22592](https://nvd.nist.gov/vuln/detail/CVE-2022-22592)
* [CVE-2022-22620](https://nvd.nist.gov/vuln/detail/CVE-2022-22620)
* [CVE-2022-22624](https://nvd.nist.gov/vuln/detail/CVE-2022-22624)
* [CVE-2022-22628](https://nvd.nist.gov/vuln/detail/CVE-2022-22628)
* [CVE-2022-22629](https://nvd.nist.gov/vuln/detail/CVE-2022-22629)
* [CVE-2022-22662](https://nvd.nist.gov/vuln/detail/CVE-2022-22662)
* [CVE-2022-22677](https://nvd.nist.gov/vuln/detail/CVE-2022-22677)
* [CVE-2022-26700](https://nvd.nist.gov/vuln/detail/CVE-2022-26700)
* [CVE-2022-26709](https://nvd.nist.gov/vuln/detail/CVE-2022-26709)
* [CVE-2022-26710](https://nvd.nist.gov/vuln/detail/CVE-2022-26710)
* [CVE-2022-26716](https://nvd.nist.gov/vuln/detail/CVE-2022-26716)
* [CVE-2022-26717](https://nvd.nist.gov/vuln/detail/CVE-2022-26717)
* [CVE-2022-26719](https://nvd.nist.gov/vuln/detail/CVE-2022-26719)
* [CVE-2022-30293](https://nvd.nist.gov/vuln/detail/CVE-2022-30293)
* [CVE-2022-30294](https://nvd.nist.gov/vuln/detail/CVE-2022-30294)
* [CVE-2022-32784](https://nvd.nist.gov/vuln/detail/CVE-2022-32784)
* [CVE-2022-32792](https://nvd.nist.gov/vuln/detail/CVE-2022-32792)
* [CVE-2022-32893](https://nvd.nist.gov/vuln/detail/CVE-2022-32893)
* [WSA-2022-0002](https://webkitgtk.org/security/WSA-2022-0002.html)
* [WSA-2022-0003](https://webkitgtk.org/security/WSA-2022-0003.html)
* [WSA-2022-0007](https://webkitgtk.org/security/WSA-2022-0007.html)
* [WSA-2022-0008](https://webkitgtk.org/security/WSA-2022-0008.html)

**Release date**

August 31, 2022

**Latest revision**

August 31, 2022: 1

**Severity**

high

**Exploitable**

remote

**Bugzilla entries**

* [866494](https://bugs.gentoo.org/show_bug.cgi?id=866494)
* [864427](https://bugs.gentoo.org/show_bug.cgi?id=864427)
* [856445](https://bugs.gentoo.org/show_bug.cgi?id=856445)
* [861740](https://bugs.gentoo.org/show_bug.cgi?id=861740)
* [837305](https://bugs.gentoo.org/show_bug.cgi?id=837305)
* [845252](https://bugs.gentoo.org/show_bug.cgi?id=845252)
* [839984](https://bugs.gentoo.org/show_bug.cgi?id=839984)
* [833568](https://bugs.gentoo.org/show_bug.cgi?id=833568)
* [832990](https://bugs.gentoo.org/show_bug.cgi?id=832990)

### Questions or comments?

Please feel free to contact us.

**Â© 2001â€“2020 Gentoo Foundation, Inc.**



=== Content from github.com_1a449719_20250108_120735.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChijinZ%2Fsecurity_advisories%2Ftree%2Fmaster%2Fwebkitgtk-2.36.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChijinZ%2Fsecurity_advisories%2Ftree%2Fmaster%2Fwebkitgtk-2.36.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=ChijinZ%2Fsecurity_advisories)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ChijinZ](/ChijinZ)
/
**[security\_advisories](/ChijinZ/security_advisories)**
Public

* [Notifications](/login?return_to=%2FChijinZ%2Fsecurity_advisories) You must be signed in to change notification settings
* [Fork
  6](/login?return_to=%2FChijinZ%2Fsecurity_advisories)
* [Star
   17](/login?return_to=%2FChijinZ%2Fsecurity_advisories)

* [Code](/ChijinZ/security_advisories)
* [Pull requests
  0](/ChijinZ/security_advisories/pulls)
* [Actions](/ChijinZ/security_advisories/actions)
* [Projects
  0](/ChijinZ/security_advisories/projects)
* [Security](/ChijinZ/security_advisories/security)
* [Insights](/ChijinZ/security_advisories/pulse)

Additional navigation options

* [Code](/ChijinZ/security_advisories)
* [Pull requests](/ChijinZ/security_advisories/pulls)
* [Actions](/ChijinZ/security_advisories/actions)
* [Projects](/ChijinZ/security_advisories/projects)
* [Security](/ChijinZ/security_advisories/security)
* [Insights](/ChijinZ/security_advisories/pulse)

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from www.debian.org_a561befa_20250108_120736.html ===


---

[[Date Prev](msg00121.html)][[Date Next](msg00123.html)]
[[Thread Prev](msg00121.html)][[Thread Next](msg00123.html)]
[[Date Index](maillist.html#00122)]
[[Thread Index](threads.html#00122)]

# [SECURITY] [DSA 5154-1] webkit2gtk security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 5154-1] webkit2gtk security update
* *From*: Alberto Garcia <berto@debian.org>
* *Date*: Tue, 31 May 2022 23:38:05 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20220531233805.GA25991%40seger.debian.org)Â [20220531233805.GA25991@seger.debian.org](msg00122.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian Security Advisory DSA-5154-1                   security@debian.org
<https://www.debian.org/security/>                           Alberto Garcia
June 01, 2022                         <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : webkit2gtk
CVE ID         : CVE-2022-26700 CVE-2022-26709 CVE-2022-26716 CVE-2022-26717
                 CVE-2022-26719 CVE-2022-30293 CVE-2022-30294

The following vulnerabilities have been discovered in the WebKitGTK
web engine:

CVE-2022-26700

    ryuzaki discovered that processing maliciously crafted web content
    may lead to code execution.

CVE-2022-26709

    Chijin Zhou discovered that processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-26716

    SorryMybad discovered that Processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-26717

    Jeonghoon Shin discovered that Processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-26719

    Dongzhuo Zhao discovered that Processing maliciously crafted web
    content may lead to arbitrary code execution.

CVE-2022-30293

    Chijin Zhou discovered that processing maliciously crafted web
    content may lead to arbitrary code execution or to a denial of
    service (application crash).

CVE-2022-30294

    Chijin Zhou discovered that processing maliciously crafted web
    content may lead to arbitrary code execution or to a denial of
    service (application crash).

For the oldstable distribution (buster), these problems have been fixed
in version 2.36.3-1~deb10u1.

For the stable distribution (bullseye), these problems have been fixed in
version 2.36.3-1~deb11u1.

We recommend that you upgrade your webkit2gtk packages.

For the detailed security status of webkit2gtk please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/webkit2gtk>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEYrwugQBKzlHMYFizAAyEYu0C2AIFAmKWpRcACgkQAAyEYu0C
2AK6iA//ZOy1HOqSdnmdwCowbOAWP1GCEDxAV/lftx0i7LXCj6HHXTcH2ElRc9ZL
3CcZfEeulPV0FuMxyS0m3AApJKtVEkp1uYzXN9OJVZl2GZjjdsQZkIhlRkgTjiOz
cyL19KuwcdcKBiDBmOknRdOMTAdsRra0/NvMY8xOAiGBCcShvs+uKwzXwZxaUPjC
WJlm5oek53baFJNzwPHiPaIa3zfDsR/NXq6UxwzTWjtp6DoJPYaoU6J8dw2CGHhH
rr6wS/tDkWRrXs/8vFQ/QrpBByHVgUOO9gPApaQpysEaKrtHMWBk87JDQ03p8hgw
Vb9IXoPDtKFAgjtu4g/AwLhbWXY4lzw6DJJhoupaYT07tje1iIYADbg0L1jFAixf
8IXnjWh+vJdHmJX4fopZxoCguJrc5dCBOhn8Pjqqv6uqgcnZ81aBnflw0xwi6W36
+5DViEFCGU6RQ49q2vGoH+ouP/zBgjqUBb5W1n7koJuRZNZ9kmoMc78UjjDrQZeI
WZWZ1UllEsqArWebfc0xXe0tXjCVwHIqb0jySqiKgYtRLLRypkWF8wUBmZLiuu5l
3UwLrxPfXRLOT5RMagI4GoN3RGBdTGzSiN+kHaMqJKVA6dKb1AyBbXoaRiNBGXe4
MFZUDBp+3HyKrsMegpoTeV9ILHfGMlAWihGwHM9Y2OJG4zODkvM=
=qgna
-----END PGP SIGNATURE-----

```

---



=== Content from bugs.webkit.org_511bd795_20250108_120735.html ===

 [WebKit Bugzilla](./)

* [New](enter_bug.cgi)
* [Browse](describecomponents.cgi)
* Log In
  Ã—

  Sign in with GitHub

  or

   Remember my login
  [Create Account](/createaccount.cgi)
  Â·
  [Forgot Password](show_bug.cgi?id=237187&GoAheadAndLogIn=1#forgot)

  ## Forgotten password account recovery

RESOLVED
FIXED
[237187](show_bug.cgi?id=237187)

CVE-2022-30293
heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer\*)
```
https://bugs.webkit.org/show_bug.cgi?id=237187
```

[Summary](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore...

Chijin

[Reported](show_bug.cgi?id=237187#c0)
2022-02-25 00:19:28 PST

Created [attachment 453180](attachment.cgi?id=453180 "This file is generated by a browser fuzzer") [[details]](attachment.cgi?id=453180&action=edit "This file is generated by a browser fuzzer")
This file is generated by a browser fuzzer
The attached file cause a heap buffer overflow in setContentsLayer().
Version: safari-613.1.5-branch (4f329ebf4c7cb23791f7634fe9b917b20dc2e5a6) and webkitgtk-2.34.6
asan report:
==16712==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x61b0000d4ab8 at pc 0x7f79a33b83ff bp 0x7ffde8451be0 sp 0x7ffde8451bd8
WRITE of size 8 at 0x61b0000d4ab8 thread T0
#0 0x7f79a33b83fe in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperLayer.cpp:702:21
#1 0x7f79a33d29aa in WebCore::TextureMapperPlatformLayerProxy::~TextureMapperPlatformLayerProxy() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperPlatformLayerProxy.cpp:56:24
#2 0x7f79a33d2ed8 in WebCore::TextureMapperPlatformLayerProxy::~TextureMapperPlatformLayerProxy() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperPlatformLayerProxy.cpp:53:1
#3 0x7f79a3410b9f in WTF::ThreadSafeRefCounted<WebCore::TextureMapperPlatformLayerProxy, (WTF::DestructionThread)0>::deref() const::'lambda'()::operator()() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:117:13
#4 0x7f79a3410b9f in WTF::ThreadSafeRefCounted<WebCore::TextureMapperPlatformLayerProxy, (WTF::DestructionThread)0>::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:129:9
#5 0x7f79a3410b9f in WTF::Ref<WebCore::TextureMapperPlatformLayerProxy, WTF::RawPtrTraits<WebCore::TextureMapperPlatformLayerProxy> >::~Ref() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/Ref.h:61:18
#6 0x7f79a3410b9f in Nicosia::ContentLayerTextureMapperImpl::~ContentLayerTextureMapperImpl() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaContentLayerTextureMapperImpl.cpp:58:1
#7 0x7f79a3410c48 in Nicosia::ContentLayerTextureMapperImpl::~ContentLayerTextureMapperImpl() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaContentLayerTextureMapperImpl.cpp:53:1
#8 0x7f79a34061ab in std::default\_delete<Nicosia::ContentLayer::Impl>::operator()(Nicosia::ContentLayer::Impl\*) const /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:81:2
#9 0x7f79a34061ab in std::unique\_ptr<Nicosia::ContentLayer::Impl, std::default\_delete<Nicosia::ContentLayer::Impl> >::~unique\_ptr() /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:292:4
#10 0x7f79a34061ab in Nicosia::ContentLayer::~ContentLayer() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/NicosiaPlatformLayer.cpp:58:29
#11 0x7f79a3406388 in Nicosia::ContentLayer::~ContentLayer() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/NicosiaPlatformLayer.cpp:58:29
#12 0x7f79a9447ea2 in WTF::ThreadSafeRefCounted<Nicosia::PlatformLayer, (WTF::DestructionThread)0>::deref() const::'lambda'()::operator()() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:117:13
#13 0x7f79a9447ea2 in WTF::ThreadSafeRefCounted<Nicosia::PlatformLayer, (WTF::DestructionThread)0>::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:129:9
#14 0x7f79a9447ea2 in WTF::Ref<Nicosia::ContentLayer, WTF::RawPtrTraits<Nicosia::ContentLayer> >::~Ref() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/Ref.h:61:18
#15 0x7f79a9447ea2 in Nicosia::GCGLLayer::~GCGLLayer() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaGCGLLayer.cpp:60:1
#16 0x7f79a9447fa8 in Nicosia::GCGLLayer::~GCGLLayer() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaGCGLLayer.cpp:58:1
#17 0x7f79a94201f2 in std::default\_delete<Nicosia::GCGLLayer>::operator()(Nicosia::GCGLLayer\*) const /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:81:2
#18 0x7f79a94201f2 in std::unique\_ptr<Nicosia::GCGLLayer, std::default\_delete<Nicosia::GCGLLayer> >::~unique\_ptr() /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:292:4
#19 0x7f79a94201f2 in WebCore::GraphicsContextGLOpenGL::~GraphicsContextGLOpenGL() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/texmap/GraphicsContextGLTextureMapper.cpp:386:1
#20 0x7f79a9420918 in WebCore::GraphicsContextGLOpenGL::~GraphicsContextGLOpenGL() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/texmap/GraphicsContextGLTextureMapper.cpp:348:1
#21 0x7f79a6a9d7be in std::default\_delete<WebCore::GraphicsContextGL>::operator()(WebCore::GraphicsContextGL\*) const /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:81:2
#22 0x7f79a6a9d7be in WTF::RefCounted<WebCore::GraphicsContextGL, std::default\_delete<WebCore::GraphicsContextGL> >::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefCounted.h:190:13
#23 0x7f79a6a9d7be in WTF::DefaultRefDerefTraits<WebCore::GraphicsContextGL>::derefIfNotNull(WebCore::GraphicsContextGL\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
#24 0x7f79a6a9d7be in WTF::RefPtr<WebCore::GraphicsContextGL, WTF::RawPtrTraits<WebCore::GraphicsContextGL>, WTF::DefaultRefDerefTraits<WebCore::GraphicsContextGL> >::operator=(std::nullptr\_t) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:159:5
#25 0x7f79a6a9d7be in WebCore::WebGLRenderingContextBase::destroyGraphicsContextGL() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContextBase.cpp:1199:19
#26 0x7f79a6ae593a in WebCore::WebGLRenderingContextBase::~WebGLRenderingContextBase() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContextBase.cpp:1174:9
#27 0x7f79a6afbe1f in WebCore::WebGLRenderingContext::~WebGLRenderingContext() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContext.h:35:7
#28 0x7f79a6afbe1f in non-virtual thunk to WebCore::WebGLRenderingContext::~WebGLRenderingContext() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContext.h
#29 0x7f79a65cbef4 in std::default\_delete<WebCore::CanvasRenderingContext>::operator()(WebCore::CanvasRenderingContext\*) const /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:81:2
#30 0x7f79a65cbef4 in std::unique\_ptr<WebCore::CanvasRenderingContext, std::default\_delete<WebCore::CanvasRenderingContext> >::reset(WebCore::CanvasRenderingContext\*) /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:402:4
#31 0x7f79a65cbef4 in std::unique\_ptr<WebCore::CanvasRenderingContext, std::default\_delete<WebCore::CanvasRenderingContext> >::operator=(std::nullptr\_t) /usr/lib/gcc/x86\_64-linux-gnu/9/../../../../include/c++/9/bits/unique\_ptr.h:336:2
#32 0x7f79a65cbef4 in WebCore::HTMLCanvasElement::~HTMLCanvasElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLCanvasElement.cpp:148:15
#33 0x7f79a65cc668 in WebCore::HTMLCanvasElement::~HTMLCanvasElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLCanvasElement.cpp:141:1
#34 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
#35 0x7f79a5db5577 in WTF::DefaultRefDerefTraits<WebCore::Node>::derefIfNotNull(WebCore::Node\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
#36 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::~RefPtr() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
#37 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::operator=(WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> > const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
#38 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node\*&, WebCore::Node\*&, WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
#39 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
#40 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
#41 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
#42 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
#43 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
#44 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
#45 0x7f79a5db5577 in WTF::DefaultRefDerefTraits<WebCore::Node>::derefIfNotNull(WebCore::Node\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
#46 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::~RefPtr() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
#47 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::operator=(WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> > const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
#48 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node\*&, WebCore::Node\*&, WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
#49 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
#50 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
#51 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
#52 0x7f79a666d2d8 in WebCore::HTMLHtmlElement::~HTMLHtmlElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLHtmlElement.h:30:7
#53 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
#54 0x7f79a5db5577 in WTF::DefaultRefDerefTraits<WebCore::Node>::derefIfNotNull(WebCore::Node\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
#55 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::~RefPtr() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
#56 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::operator=(WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> > const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
#57 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node\*&, WebCore::Node\*&, WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
#58 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
#59 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
#60 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
#61 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
#62 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
#63 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
#64 0x7f79a5db5577 in WTF::DefaultRefDerefTraits<WebCore::Node>::derefIfNotNull(WebCore::Node\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
#65 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::~RefPtr() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
#66 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::operator=(WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> > const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
#67 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node\*&, WebCore::Node\*&, WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
#68 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
#69 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
#70 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
#71 0x7f79a666d2d8 in WebCore::HTMLHtmlElement::~HTMLHtmlElement() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLHtmlElement.h:30:7
#72 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
#73 0x7f79a5db5577 in WTF::DefaultRefDerefTraits<WebCore::Node>::derefIfNotNull(WebCore::Node\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
#74 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::~RefPtr() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
#75 0x7f79a5db5577 in WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> >::operator=(WTF::RefPtr<WebCore::Node, WTF::RawPtrTraits<WebCore::Node>, WTF::DefaultRefDerefTraits<WebCore::Node> > const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
#76 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node\*&, WebCore::Node\*&, WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
#77 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
#78 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
#79 0x7f79a5e19b07 in WebCore::Document::removedLastRef() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Document.cpp:822:9
#80 0x7f79a65daabc in WebCore::Node::deref() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
#81 0x7f79a65daabc in WTF::Ref<WebCore::ContainerNode, WTF::RawPtrTraits<WebCore::ContainerNode> >::~Ref() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WTF/Headers/wtf/Ref.h:61:18
#82 0x7f79a65daabc in WebCore::HTMLCollection::~HTMLCollection() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/HTMLCollection.cpp:143:1
#83 0x7f79a5f02a59 in WebCore::CachedHTMLCollection<WebCore::GenericCachedHTMLCollection<(WebCore::CollectionTraversalType)0>, (WebCore::CollectionTraversalType)0>::~CachedHTMLCollection() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/CachedHTMLCollection.h:85:1
#84 0x7f79a5f02b78 in WebCore::GenericCachedHTMLCollection<(WebCore::CollectionTraversalType)0>::~GenericCachedHTMLCollection() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/html/GenericCachedHTMLCollection.h:33:7
#85 0x7f799df2bd84 in JSC::JSDestructibleObjectDestroyFunc::operator()(JSC::VM&, JSC::JSCell\*) const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/runtime/JSDestructibleObjectHeapCellType.cpp:38:9
#86 0x7f799df2bd84 in void JSC::MarkedBlock::Handle::specializedSweep<true, (JSC::MarkedBlock::Handle::EmptyMode)0, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)0, JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList\*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&)::'lambda'(void\*)::operator()(void\*) const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:260:13
#87 0x7f799df2bd84 in void JSC::MarkedBlock::Handle::specializedSweep<true, (JSC::MarkedBlock::Handle::EmptyMode)0, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)0, JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList\*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:294:17
#88 0x7f799df265d1 in void JSC::MarkedBlock::Handle::finishSweepKnowingHeapCellType<JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList\*, JSC::JSDestructibleObjectDestroyFunc const&)::'lambda'()::operator()() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:403:21
#89 0x7f799df16158 in void JSC::MarkedBlock::Handle::finishSweepKnowingHeapCellType<JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList\*, JSC::JSDestructibleObjectDestroyFunc const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:435:9
#90 0x7f799df049b8 in JSC::JSDestructibleObjectHeapCellType::finishSweep(JSC::MarkedBlock::Handle&, JSC::FreeList\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/runtime/JSDestructibleObjectHeapCellType.cpp:53:12
#91 0x7f799cdb19d9 in JSC::MarkedBlock::Handle::sweep(JSC::FreeList\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlock.cpp:415:21
#92 0x7f799cd9d31f in JSC::LocalAllocator::tryAllocateIn(JSC::MarkedBlock::Handle\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/LocalAllocator.cpp:225:12
#93 0x7f799cd9d0fa in JSC::LocalAllocator::tryAllocateWithoutCollecting() /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/LocalAllocator.cpp:191:28
#94 0x7f799cd9c662 in JSC::LocalAllocator::allocateSlowCase(JSC::Heap&, JSC::GCDeferralContext\*, JSC::AllocationFailureMode) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/JavaScriptCore/heap/LocalAllocator.cpp:132:20
#95 0x7f79a53ee008 in JSC::LocalAllocator::allocate(JSC::Heap&, JSC::GCDeferralContext\*, JSC::AllocationFailureMode)::'lambda'()::operator()() const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/LocalAllocatorInlines.h:40:43
#96 0x7f79a53ee008 in JSC::HeapCell\* JSC::FreeList::allocate<JSC::LocalAllocator::allocate(JSC::Heap&, JSC::GCDeferralContext\*, JSC::AllocationFailureMode)::'lambda'()>(JSC::LocalAllocator::allocate(JSC::Heap&, JSC::GCDeferralContext\*, JSC::AllocationFailureMode)::'lambda'() const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/FreeListInlines.h:46:16
#97 0x7f79a53ee008 in JSC::LocalAllocator::allocate(JSC::Heap&, JSC::GCDeferralContext\*, JSC::AllocationFailureMode) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/LocalAllocatorInlines.h:37:23
#98 0x7f79a53ee008 in JSC::Allocator::allocate(JSC::Heap&, JSC::GCDeferralContext\*, JSC::AllocationFailureMode) const /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/AllocatorInlines.h:35:30
#99 0x7f79a53ee008 in JSC::IsoSubspace::allocateNonVirtual(JSC::VM&, unsigned long, JSC::GCDeferralContext\*, JSC::AllocationFailureMode) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/IsoSubspaceInlines.h:34:30
#100 0x7f79a53ee008 in void\* JSC::tryAllocateCellHelper<WebCore::JSHTMLCollection>(JSC::Heap&, unsigned long, JSC::GCDeferralContext\*, JSC::AllocationFailureMode) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/JSCellInlines.h:180:63
#101 0x7f79a53ee008 in void\* JSC::allocateCell<WebCore::JSHTMLCollection>(JSC::Heap&, unsigned long) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/JSCellInlines.h:194:12
#102 0x7f79a53e97f3 in WebCore::JSHTMLCollection::create(JSC::Structure\*, WebCore::JSDOMGlobalObject\*, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> >&&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WebCore/DerivedSources/JSHTMLCollection.h:34:47
#103 0x7f79a53e97f3 in std::enable\_if<std::is\_same<WebCore::HTMLCollection, WebCore::HTMLCollection>::value, WebCore::JSDOMWrapperConverterTraits<WebCore::HTMLCollection>::WrapperClass\*>::type WebCore::createWrapper<WebCore::HTMLCollection, WebCore::HTMLCollection>(WebCore::JSDOMGlobalObject\*, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> >&&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMWrapperCache.h:190:21
#104 0x7f79a53e9caa in WebCore::toJSNewlyCreated(JSC::JSGlobalObject\*, WebCore::JSDOMGlobalObject\*, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> >&&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSHTMLCollectionCustom.cpp:45:12
#105 0x7f79a53e9caa in JSC::JSValue WebCore::wrap<WebCore::HTMLCollection>(JSC::JSGlobalObject\*, WebCore::JSDOMGlobalObject\*, WebCore::HTMLCollection&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMWrapperCache.h:204:12
#106 0x7f79a35c6e00 in JSC::JSValue WebCore::JSConverter<WebCore::IDLInterface<WebCore::HTMLCollection> >::convert<WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> > >(JSC::JSGlobalObject&, WebCore::JSDOMGlobalObject&, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> > const&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertInterface.h:81:16
#107 0x7f79a35c6e00 in JSC::JSValue WebCore::JSConverterOverloader<WebCore::IDLInterface<WebCore::HTMLCollection>, true, true>::convert<WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> > >(JSC::JSGlobalObject&, WebCore::JSDOMGlobalObject&, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> >&&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertBase.h:109:16
#108 0x7f79a35c6e00 in JSC::JSValue WebCore::toJS<WebCore::IDLInterface<WebCore::HTMLCollection>, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> > >(JSC::JSGlobalObject&, WebCore::JSDOMGlobalObject&, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> >&&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertBase.h:151:12
#109 0x7f79a35c6e00 in JSC::JSValue WebCore::toJS<WebCore::IDLInterface<WebCore::HTMLCollection>, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> > >(JSC::JSGlobalObject&, WebCore::JSDOMGlobalObject&, JSC::ThrowScope&, WTF::Ref<WebCore::HTMLCollection, WTF::RawPtrTraits<WebCore::HTMLCollection> >&&) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertBase.h:215:20
#110 0x7f79a35c6e00 in WebCore::jsDocumentPrototypeFunction\_getElementsByTagNameBody(JSC::JSGlobalObject\*, JSC::CallFrame\*, WebCore::JSDocument\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WebCore/DerivedSources/JSDocument.cpp:5294:5
#111 0x7f79a35c6e00 in long WebCore::IDLOperation<WebCore::JSDocument>::call<&(WebCore::jsDocumentPrototypeFunction\_getElementsByTagNameBody(JSC::JSGlobalObject\*, JSC::CallFrame\*, WebCore::JSDocument\*)), (WebCore::CastedThisErrorBehavior)0>(JSC::JSGlobalObject&, JSC::CallFrame&, char const\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/bindings/js/JSDOMOperation.h:63:9
#112 0x7f79a35c6e00 in WebCore::jsDocumentPrototypeFunction\_getElementsByTagName(JSC::JSGlobalObject\*, JSC::CallFrame\*) /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/WebKitBuild\_Asan\_RelWithDebug/GTK/Release/WebCore/DerivedSources/JSDocument.cpp:5299:12
#113 0x7f7952feb1d7 (<unknown module>)
Address 0x61b0000d4ab8 is a wild pointer.
SUMMARY: AddressSanitizer: heap-buffer-overflow /root/browser/webkit/webkit\_trunck\_clean\_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperLayer.cpp:702:21 in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer\*)
Shadow bytes around the buggy address:
0x0c3680012900: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012910: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012920: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012930: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012940: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x0c3680012950: fa fa fa fa fa fa fa[fa]fa fa fa fa fa fa fa fa
0x0c3680012960: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012970: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012980: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c3680012990: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c36800129a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
Addressable: 00
Partially addressable: 01 02 03 04 05 06 07
Heap left redzone: fa
Freed heap region: fd
Stack left redzone: f1
Stack mid redzone: f2
Stack right redzone: f3
Stack after return: f5
Stack use after scope: f8
Global redzone: f9
Global init order: f6
Poisoned by user: f7
Container overflow: fc
Array cookie: ac
Intra object redzone: bb
ASan internal: fe
Left alloca redzone: ca
Right alloca redzone: cb
Shadow gap: cc
==16712==ABORTING

| Attachments | | |
| --- | --- | --- |
| [**This file is generated by a browser fuzzer**](attachment.cgi?id=453180 "View the content of the attachment") (956.01 KB, text/html)  [2022-02-25 00:19 PST](#attach_453180 "Go to the comment associated with the attachment"), Chijin | *no flags* | [Details](attachment.cgi?id=453180&action=edit) |
| [**Patch**](attachment.cgi?id=455361 "View the content of the attachment") (4.89 KB, patch)  [2022-03-22 04:06 PDT](#attach_455361 "Go to the comment associated with the attachment"), Miguel Gomez | *no flags* | [Details](attachment.cgi?id=455361&action=edit)[Formatted Diff](attachment.cgi?id=455361&action=prettypatch)[Diff](attachment.cgi?id=455361&action=diff) |
| [View All](attachment.cgi?bugid=237187&action=viewall)  [Add attachment](attachment.cgi?bugid=237187&action=enter) *proposed patch, testcase, etc.* | | |

Radar WebKit Bug Importer

[Comment 1](show_bug.cgi?id=237187#c1)
2022-02-25 00:19:57 PST

<rdar://problem/89462099>

Carlos Garcia Campos

[Comment 2](show_bug.cgi?id=237187#c2)
2022-02-25 00:46:57 PST

I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed, but invalidate hasn't been called and m\_targetLayer is still a non-null pointer to a released layer.

Chijin

[Comment 3](show_bug.cgi?id=237187#c3)
2022-03-16 00:33:10 PDT

(In reply to Carlos Garcia Campos from [comment #2](show_bug.cgi?id=237187#c2))
> I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed,
> but invalidate hasn't been called and m\_targetLayer is still a non-null
> pointer to a released layer.
The Apple security says that this bug does not affect their platforms. Should someone looks after it?

Miguel Gomez

[Comment 4](show_bug.cgi?id=237187#c4)
2022-03-16 04:23:36 PDT

(In reply to Carlos Garcia Campos from [comment #2](show_bug.cgi?id=237187#c2))
> I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed,
> but invalidate hasn't been called and m\_targetLayer is still a non-null
> pointer to a released layer.
Yes, that seems to be the problem. But in a normal scenario the destruction of the TextureMapperLayer pointed by m\_targetLayer happens after invalidate has been called on the proxy. It should not be possible that the TextureMapperLayer is released but invalidate hasn't been called. There must be some tricky race condition here.
Chijin, do you know if it's possible to reproduce the issue just by letting the attached example run? or do I need to do anything else, like closing the view or something?

Chijin

[Comment 5](show_bug.cgi?id=237187#c5)
2022-03-16 04:36:44 PDT

(In reply to Miguel Gomez from [comment #4](show_bug.cgi?id=237187#c4))
> (In reply to Carlos Garcia Campos from [comment #2](show_bug.cgi?id=237187#c2))
> > I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed,
> > but invalidate hasn't been called and m\_targetLayer is still a non-null
> > pointer to a released layer.
>
> Yes, that seems to be the problem. But in a normal scenario the destruction
> of the TextureMapperLayer pointed by m\_targetLayer happens after invalidate
> has been called on the proxy. It should not be possible that the
> TextureMapperLayer is released but invalidate hasn't been called. There must
> be some tricky race condition here.
>
> Chijin, do you know if it's possible to reproduce the issue just by letting
> the attached example run? or do I need to do anything else, like closing the
> view or something?
Just run this html file and wait for 3~4 second and the it will trigger this crash.
./libexec/webkit2gtk-4.0/MiniBrowser /path/to/bufferoverflow\_setContentsLayer.html

Miguel Gomez

[Comment 6](show_bug.cgi?id=237187#c6)
2022-03-21 03:52:59 PDT

What seems to be happening here is an scenario that I didn't know was possible.
The test creates and destroys several WebGLRenderingContext instances. Each instance is attached to a CoordinatedGraphicsLayer as their PlatformLayer, and propagated to the compositor thread, where the proxy for the PlatformLayer is activated and used by the corresponding TextureMapperLayer. This works fine.
In theory, when the WebGLRenderingContext is destroyed, the attached CoordinatedGraphicsLayer is destroyed as well, which causes the compositor (inside the CoordinatedGraphicsScene) to call invalidate on the PlatformLayer proxy when deleting the layer.
But what the test is doing is somehow detaching the PlatformLayer from the CoordinatedGraphicsLayer, but keeping the GraphicsLayer alive. On the compositor side, this causes that the proxy is not invalidated cause the layer doesn't have to be deleted. But when adopting the new scene state, we override the previous PlatformLayer (which becomes null), losing the reference to the previous proxy and the opportunity to call invalidate on it. After this scenario, if the TextureMaperLayer that was associated to the proxy is deleted before the proxy, when the proxy gets destroyed we get the use after free issue.
I've checked that this is reproducible on ToT as well.

Miguel Gomez

[Comment 7](show_bug.cgi?id=237187#c7)
2022-03-22 04:06:04 PDT

Created [attachment 455361](attachment.cgi?id=455361&action=diff "Patch") [[details]](attachment.cgi?id=455361&action=edit "Patch")
Patch

Chijin

[Comment 8](show_bug.cgi?id=237187#c8)
2022-03-22 04:30:09 PDT

(In reply to Miguel Gomez from [comment #6](show_bug.cgi?id=237187#c6))
> What seems to be happening here is an scenario that I didn't know was
> possible.
>
> The test creates and destroys several WebGLRenderingContext instances. Each
> instance is attached to a CoordinatedGraphicsLayer as their PlatformLayer,
> and propagated to the compositor thread, where the proxy for the
> PlatformLayer is activated and used by the corresponding TextureMapperLayer.
> This works fine.
>
> In theory, when the WebGLRenderingContext is destroyed, the attached
> CoordinatedGraphicsLayer is destroyed as well, which causes the compositor
> (inside the CoordinatedGraphicsScene) to call invalidate on the
> PlatformLayer proxy when deleting the layer.
>
> But what the test is doing is somehow detaching the PlatformLayer from the
> CoordinatedGraphicsLayer, but keeping the GraphicsLayer alive. On the
> compositor side, this causes that the proxy is not invalidated cause the
> layer doesn't have to be deleted. But when adopting the new scene state, we
> override the previous PlatformLayer (which becomes null), losing the
> reference to the previous proxy and the opportunity to call invalidate on
> it. After this scenario, if the TextureMaperLayer that was associated to the
> proxy is deleted before the proxy, when the proxy gets destroyed we get the
> use after free issue.
>
> I've checked that this is reproducible on ToT as well.
Hi, did you mean that this issue affect Safari as well?

Miguel Gomez

[Comment 9](show_bug.cgi?id=237187#c9)
2022-03-22 04:33:49 PDT

> Hi, did you mean that this issue affect Safari as well?
Nope. It affects the master branch, but only the WPE and GTK ports, as it happens in code that's specific to them.

Carlos Garcia Campos

[Comment 10](show_bug.cgi?id=237187#c10)
2022-03-22 04:57:32 PDT

Comment on [attachment 455361](attachment.cgi?id=455361&action=diff "Patch") [[details]](attachment.cgi?id=455361&action=edit "Patch")
Patch
View in context: <https://bugs.webkit.org/attachment.cgi?id=455361&action=review>
> Source/WebKit/Shared/CoordinatedGraphics/CoordinatedGraphicsScene.cpp:233
> + HashSet<Ref<WebCore::TextureMapperPlatformLayerProxy>> replacedProxiesToInvalidate;
Why don't you store this in the layersByBacking struct? it's already captured by all the lambdas.

Miguel Gomez

[Comment 11](show_bug.cgi?id=237187#c11)
2022-03-22 05:38:45 PDT

(In reply to Carlos Garcia Campos from [comment #10](show_bug.cgi?id=237187#c10))
> Comment on [attachment 455361](attachment.cgi?id=455361&action=diff "Patch") [[details]](attachment.cgi?id=455361&action=edit "Patch")
> Patch
>
> View in context:
> <https://bugs.webkit.org/attachment.cgi?id=455361&action=review>
>
> > Source/WebKit/Shared/CoordinatedGraphics/CoordinatedGraphicsScene.cpp:233
> > + HashSet<Ref<WebCore::TextureMapperPlatformLayerProxy>> replacedProxiesToInvalidate;
>
> Why don't you store this in the layersByBacking struct? it's already
> captured by all the lambdas.
I thought about it. But even when it would make the code simpler, the new var wouldn't make sense semantically inside the layersByBacking struct, as they are used for different things. Maybe it's because of the name "layersByBacking", which suggests a purpose that's not related to the new var. I don't know, it's just a completely subjective and philosophical decision with no strong arguments. I can move the new var in the struct if you think it's better ;)

Carlos Garcia Campos

[Comment 12](show_bug.cgi?id=237187#c12)
2022-03-22 06:36:23 PDT

(In reply to Miguel Gomez from [comment #11](show_bug.cgi?id=237187#c11))
> (In reply to Carlos Garcia Campos from [comment #10](show_bug.cgi?id=237187#c10))
> > Comment on [attachment 455361](attachment.cgi?id=455361&action=diff "Patch") [[details]](attachment.cgi?id=455361&action=edit "Patch")
> > Patch
> >
> > View in context:
> > <https://bugs.webkit.org/attachment.cgi?id=455361&action=review>
> >
> > > Source/WebKit/Shared/CoordinatedGraphics/CoordinatedGraphicsScene.cpp:233
> > > + HashSet<Ref<WebCore::TextureMapperPlatformLayerProxy>> replacedProxiesToInvalidate;
> >
> > Why don't you store this in the layersByBacking struct? it's already
> > captured by all the lambdas.
>
> I thought about it. But even when it would make the code simpler, the new
> var wouldn't make sense semantically inside the layersByBacking struct, as
> they are used for different things. Maybe it's because of the name
> "layersByBacking", which suggests a purpose that's not related to the new
> var. I don't know, it's just a completely subjective and philosophical
> decision with no strong arguments. I can move the new var in the struct if
> you think it's better ;)
No strong opinion either.

EWS

[Comment 13](show_bug.cgi?id=237187#c13)
2022-03-22 08:38:36 PDT

Committed [r291621](https://commits.webkit.org/r291621) ([248714@main](https://commits.webkit.org/248714%40main)): <[https://commits.webkit.org/248714@main](https://commits.webkit.org/248714%40main)>
All reviewed patches have been landed. Closing bug and clearing flags on [attachment 455361](attachment.cgi?id=455361&action=diff "Patch") [[details]](attachment.cgi?id=455361&action=edit "Patch").

Miguel Gomez

[Comment 14](show_bug.cgi?id=237187#c14)
2022-03-23 03:16:16 PDT

\*\*\* [Bug 237188](show_bug.cgi?id=237188 "RESOLVED DUPLICATE - heap-use-after-free in setContentsLayer(WebCore::TextureMapperPlatformLayer*)") has been marked as a duplicate of this bug. \*\*\*

Michael Catanzaro

[Comment 15](show_bug.cgi?id=237187#c15)
2022-05-06 07:45:52 PDT

This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get -94 marked as a duplicate.

Carlos Alberto Lopez Perez

[Comment 16](show_bug.cgi?id=237187#c16)
2022-05-06 09:16:50 PDT

(In reply to Michael Catanzaro from [comment #15](show_bug.cgi?id=237187#c15))
> This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get
> -94 marked as a duplicate.
This will be included in an upcoming security advisory.
@Chijin Who should I credit on the advisory as the one discovering the issue on
this CVEs?

Chijin

[Comment 17](show_bug.cgi?id=237187#c17)
2022-05-06 09:57:23 PDT

(In reply to Carlos Alberto Lopez Perez from [comment #16](show_bug.cgi?id=237187#c16))
> (In reply to Michael Catanzaro from [comment #15](show_bug.cgi?id=237187#c15))
> > This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get
> > -94 marked as a duplicate.
>
> This will be included in an upcoming security advisory.
>
> @Chijin Who should I credit on the advisory as the one discovering the issue
> on
> this CVEs?
"Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher lab" would be fine. Thank you for your update.!

Carlos Alberto Lopez Perez

[Comment 18](show_bug.cgi?id=237187#c18)
2022-05-30 07:08:10 PDT

(In reply to Chijin from [comment #17](show_bug.cgi?id=237187#c17))
> (In reply to Carlos Alberto Lopez Perez from [comment #16](show_bug.cgi?id=237187#c16))
> > (In reply to Michael Catanzaro from [comment #15](show_bug.cgi?id=237187#c15))
> > > This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get
> > > -94 marked as a duplicate.
> >
> > This will be included in an upcoming security advisory.
> >
> > @Chijin Who should I credit on the advisory as the one discovering the issue
> > on
> > this CVEs?
>
> "Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher lab" would be fine.
> Thank you for your update.!
Credited in the following security advisories:
WebKitGTK Advisory URL : <https://webkitgtk.org/security/WSA-2022-0005.html>
WPE WebKit Advisory URL : <https://wpewebkit.org/security/WSA-2022-0005.html>

Note
You need to
[log in](show_bug.cgi?id=237187&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

 [Status](page.cgi?id=fields.html#bug_status "A bug may be in any of a number of states.") |RESOLVED

resolvedÂ as
 [Resolution](page.cgi?id=fields.html#resolution "If a bug is in a resolved state, then one of these reasons will be given for its resolution.") |FIXED

 [Priority](page.cgi?id=fields.html#priority "Engineers prioritize their bugs using this field.") |P2

 [Severity](page.cgi?id=fields.html#bug_severity "How severe the bug is, or whether it's an enhancement.") |Critical

 [Classification](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") |Unclassified

 [Version](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | WebKit Local Build |
 [Hardware](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") |PC

 [OS](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") |Linux

 [Product](describecomponents.cgi "Bugs are categorised into Products and Components.") |Security

 [Component](describecomponents.cgi?product=Security "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") |Security

 [Assignee](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") |WebKit Security Group

Reported

2022-02-25 00:19 PST

Modified

2022-05-30 07:08 PDT
[History](show_activity.cgi?id=237187)

CC List

8
users
Show

bfulgham
cgarcia
clopez
ews-feeder
magomez
mcatanzaro
webkit-bug-importer
zdobersek

 [URL](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |
  |

 [Keywords](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |InRadar

Duplicates (1)
[237188](show_bug.cgi?id=237188 "RESOLVED DUPLICATE - heap-use-after-free in setContentsLayer(WebCore::TextureMapperPlatformLayer*)")

[View as bug list](buglist.cgi?bug_id=237188)

 [Depends on](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |

 [Blocks](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |

 [See Also](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |

 [Alias](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") |CVE-2022-30293

---

* Top of Page
* [Format For Printing](show_bug.cgi?format=multiple&id=237187)
* [XML](show_bug.cgi?ctype=xml&id=237187)
* [Clone This Bug](enter_bug.cgi?cloned_bug_id=237187)

* + [New](enter_bug.cgi)
  + [Browse](describecomponents.cgi)
  + [Reports](report.cgi)
  + [Requests](request.cgi)


