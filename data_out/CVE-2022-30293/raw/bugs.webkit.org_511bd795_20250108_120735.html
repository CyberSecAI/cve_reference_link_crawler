<!DOCTYPE html>
<html lang="en">
  <head>
    <title>237187 &ndash; (CVE-2022-30293) heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, viewport-fit=cover">
    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" content="hsl(203.6, 100%, 12%)" />
    
    <meta property="og:site_name" content="WebKit Bugzilla" />
    <meta property="og:title" content="237187 &ndash; (CVE-2022-30293) heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)">
    <meta property="og:type" content="object">

    <meta name="twitter:site" content="@webkit">
    <meta name="twitter:card" content="summary_large_image">
    
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png">
    
    <link rel="stylesheet" href="https://www.apple.com/wss/fonts?families=SF+Pro,v1" type="text/css">
    <link rel="stylesheet" href="https://www.apple.com/wss/fonts?families=SF+Mono,v2" type="text/css">

<link href="data/assets/3c7181983f5ef299b10ce25f5b2f1c6e.css?1734635470" rel="stylesheet" type="text/css">

<link href="data/assets/e30d21fb4b1e184001e571c1cf0fb68c.css?1734635469" rel="stylesheet" type="text/css">

    
<script type="text/javascript" src="data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1731713409"></script>

    <script type="text/javascript">
    <!--
        document.addEventListener('DOMContentLoaded', () => {
          [...document.getElementsByClassName("tolocaledatetime")].forEach(element => {
            let currentDateTime = new Date(element.textContent);
            element.innerHTML = currentDateTime.toLocaleDateString(undefined, {
              weekday: 'long',
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            }) + " " + currentDateTime.toLocaleTimeString(undefined, { timeZoneName: "short" });
          });

        });
    
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1000
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "237187 – (CVE-2022-30293) heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)",
                             "show_bug.cgi?id=237187" );
        document.title = "237187 – (CVE-2022-30293) heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "237187 – (CVE-2022-30293) heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1731713409"></script>


    


    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="/images/favicon.ico">
  </head>

  <body 
        class="bugs-webkit-org 
                 bz_bug 
                 bz_status_RESOLVED 
                 bz_product_Security 
                 bz_component_Security 
                 bz_bug_237187 237187-&amp;ndash;-(cve-2022-30293)-heap-buffer-overflow-in-webcore-texturemapperlayer-setcontentslayer(webcore-texturemapperplatformlayer*) yui-skin-sam">


  <div id="header">

    


    <div id="titles">

      <a id="title" href="./"> WebKit Bugzilla</a>



    </div>


<!-- 

        <div id="bug_title">Bug&nbsp;237187: heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)</div>

-->

    <div id="common_links"><ul class="links">
  <li class="new-bug"><a href="enter_bug.cgi">New</a></li>
  <li class="browse-bugs"><a href="describecomponents.cgi">Browse</a></li>


    
      
      <li id="mini_login_container_top">
  <button id="login_link_top" href="show_bug.cgi?id=237187&amp;GoAheadAndLogIn=1" onclick="document.getElementById('login-dialog').showModal()">Log In</button>
  
  <dialog id="login-dialog">
  <div class="close">
  <a href="#" onclick="document.getElementById('mini_login_top').classList.remove('bz_default_hidden'); document.getElementById('forgot_form_top').classList.add('bz_default_hidden'); document.getElementById('login-dialog').close(); return false;" class="close">&times;</a>
  </div>
<span id="github_mini_login_top" class="bz_default_hidden mini_login_top"></span>
    <form method="post" action="https://bugs.webkit.org/github.cgi">
    <input type="hidden" name="github_secret" value="AIEgoB0sribynqWn">
    <input type="hidden" name="target_uri" value="https://bugs.webkit.org/show_bug.cgi?id=237187">
    <button name="githubauth" value="Log in with GitHub" class="button github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M39.9827068,2.06038715 C26.6986914,5.02206928 15.8101542,12.3827204 8.31884067,23.5325825 C-4.79095805,43.1755033 -2.17770913,69.5257633 14.5470839,86.3376647 C19.555811,91.3899459 27.1777871,96.2680106 32.9269346,98.140839 L33.5416202,98.3377883 C35.0307543,98.8014854 35.3836071,98.7742569 36.1347271,98.2821121 L36.4598332,98.0622568 C37.3310229,97.448652 37.3694578,97.0097509 37.3694578,92.304583 L37.3694578,87.1651935 L33.5366926,87.3829642 C29.0506155,87.600735 25.5662834,86.8167603 23.4756844,85.0310402 C22.778818,84.4571503 21.4646582,82.5715118 20.4773008,80.7539572 L19.8536874,79.5760386 C18.4740582,77.0427807 17.242091,75.5874553 14.4744392,73.1058792 L13.6695472,72.3890342 C12.8932319,71.6859889 12.9407045,71.5933044 13.6324468,71.0937126 C15.5052752,69.6999799 19.2944861,71.0501586 21.6899643,73.9247323 L22.7390371,75.1881495 C26.1616492,79.2523919 27.6940317,80.4168625 29.8781443,80.8933961 C32.0122976,81.3289376 33.9722341,81.154721 36.9339163,80.283638 C37.3259036,80.1529756 37.8485535,79.2383385 38.1098784,78.1930389 C38.3712031,77.1912935 39.0680696,75.6668983 39.6342734,74.8393695 L40.679573,73.3149743 L37.151687,72.6181078 C29.7474817,71.0937126 25.1742961,68.4369096 22.1690599,63.9072782 C19.3815944,59.72608 18.4669573,56.1110856 18.4234031,49.3601926 L18.4324675,48.1749454 C18.51876,42.850272 19.2446323,40.3337894 21.6049861,37.1593877 L22.2503793,36.3059336 C23.050648,35.2082945 23.1611069,34.7274879 22.9223171,34.0121113 L22.8659263,33.8549157 C22.2126141,32.2869662 22.3868307,25.6667358 23.083697,23.6632448 C23.649901,22.1824037 23.95478,21.921079 25.1307419,21.7904164 C27.0906787,21.5726457 30.7492273,22.835716 34.4513298,24.9263151 L37.6307827,26.7555895 L40.4182483,26.1022773 C44.3816758,25.1876401 56.2719582,25.2311943 59.8433984,26.1022773 L62.5437556,26.7991435 L65.0698962,25.2747485 C68.4235657,23.2712575 72.6918723,21.7033083 74.8260256,21.7033083 L75.3880613,21.7095181 C76.535526,21.7482235 76.6117457,22.02452 77.2215036,23.968124 C77.9207898,26.395058 78.0761866,30.6867545 77.5409306,33.027357 L77.4392744,33.4193742 C77.0908413,34.7259987 77.1779497,35.117986 78.1361408,36.3810563 C82.8835429,42.6528537 83.4061928,53.0622951 79.3992112,61.5989084 C76.698854,67.2173935 70.9932605,71.1372668 63.3277305,72.5745536 L59.6691819,73.2714201 L61.0193606,75.6668983 L62.4130932,78.1059306 L62.5437556,87.8185058 L62.7179722,97.5310809 L63.8068259,98.2279473 C64.7558478,98.8468746 65.0012471,98.8794498 66.8020229,98.2516071 L67.1169411,98.140839 C70.6012732,96.9648769 76.5681916,93.74187 79.8347527,91.2592835 C99.2599028,76.7121978 105.5317,50.6232629 94.7738257,28.9332968 C88.4584741,16.1719313 76.5246374,6.37224799 62.8486347,2.71369941 C56.8817163,1.14574994 45.6447461,0.797316839 39.9827068,2.06038715 Z"/></svg>Sign in with GitHub</button>
    </form>
  
  <p class="divider">or</p>
  
  <form action="show_bug.cgi?id=237187" method="POST"
        id="mini_login_top" class="mini_login dialog-grid">
        
    <input id="Bugzilla_login_top" required autofocus
           name="Bugzilla_login" class="bz_login"
        type="email" placeholder="Email Address">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
                
      <label for="Bugzilla_remember_top"><input type="checkbox" id="Bugzilla_remember_top" 
             name="Bugzilla_remember" value="on" class="bz_remember"
             > Remember my login</label>
    
    <div class="links">
    <a id="create_account_link_top" href="/createaccount.cgi">Create Account</a> 
    
    &middot;
              
    <a id="forgot_link_top" href="show_bug.cgi?id=237187&amp;GoAheadAndLogIn=1#forgot"
       onclick="document.getElementById('mini_login_top').classList.toggle('bz_default_hidden');
                document.getElementById('forgot_form_top').classList.toggle('bz_default_hidden');
                return false;">Forgot Password</a>
    </div>
  </form>
  
    <form action="token.cgi" method="post" id="forgot_form_top"
          class="mini_forgot dialog-grid bz_default_hidden">
      <h2>Forgotten password account recovery</h2>
      <input name="loginname" size="20" id="login_top" required
          type="email" placeholder="Your Email Address">
      <input id="forgot_button_top" value="Reset Password" type="submit">
      <input type="hidden" name="a" value="reqpw">
      <input type="hidden" id="token_top" name="token"
             value="1736338054-cnbTmVP8oWkxpnbFiN00-BwQOouIpjf6kBR8Jm0X6N8">
    </form>
  
  </dialog>
  

</li>
    
    <li class="quicksearch">
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '') { document.location.assign('/query.cgi'); return false; } else return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="search-input" type="search" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <!-- <input class="btn" type="submit" value="Search" 
           id="find_top"> --></form></li>
  </ul>
    </div>
  </div>


  <main id="bugzilla-body">
    <section>


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">
<div class="mobile-button-positioning mobile-hidden">
  <div class="mobile-save-overlay">
  <input type="submit" value="Save Changes" 
         id="mobile-commit">
  </div>
</div>

  <input type="hidden" name="delta_ts" value="2022-05-30 07:08:10">
  <input type="hidden" name="id" value="237187">
  <input type="hidden" name="token" value="1736338054-ect0cK7pkct8wQcQlBqLbiAD6eNjxL8yOA5aTk7dBnM">
<div class="bz_short_desc_container edit_form">
     <div id="bug-id-status">
     <span class="bug-status status-resolved">RESOLVED
          FIXED
      </span><a href="show_bug.cgi?id=237187" class="bug_id" >237187</a> 
     </div>
     <style>
     a.bug_id::before {
       content: "Bug ";
       -webkit-user-select: none;
       user-select: none;
     }
     </style>
     <span id="summary_container" class="bz_default_hidden">
        <span id="alias_nonedit_display">CVE-2022-30293</span>
      <span id="short_desc_nonedit_display">heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*) <pre id="commit-urls">https://bugs.webkit.org/show_bug.cgi?id=237187</pre></span>
     </span>
    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#short_desc"
  >Summary</a>

</span><span title="heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)">heap-buffer-overflow in WebCore::TextureMapperLayer::setContentsLayer(WebCore...
        </span>
    </div>
  </div>
  <script type="text/javascript"> 
    const container = document.getElementById('summary_container')
    const input = document.getElementById('summary_input');
    const editButton = document.getElementById('summary_edit_action');
    
    container.classList.remove('bz_default_hidden');
    input.classList.add('bz_default_hidden');
    editButton.addEventListener('click', () => {
      container.classList.toggle('bz_default_hidden');
      input.classList.toggle('bz_default_hidden');
      document.querySelectorAll('.mobile-hidden').forEach(element => {
        element.classList.toggle('mobile-hidden');
      });
    });
    
    function selectText(node) {    
        if (document.body.createTextRange) {
            const range = document.body.createTextRange();
            range.moveToElementText(node);
            range.select();
        } else if (window.getSelection) {
            const selection = window.getSelection();
            const range = document.createRange();
            range.selectNodeContents(node);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }
    
    let copyCommitlogElement = document.getElementById('copy-commitlog');
    copyCommitlogElement.addEventListener('click', (e) => {
      e.preventDefault();
      let text = document.getElementById('short_desc').value + "\n" + document.getElementById('commit-urls').textContent;
      navigator.clipboard.writeText(text).then(function() {
        copyCommitlogElement.classList.add('clicked');
        setTimeout(function () {
          copyCommitlogElement.classList.remove('clicked');  
        }, 3000);
      });
    });
    
    // Add Radar URL
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('#comments .bz_comment').forEach((comment) => {
          let email = comment.querySelector('.bz_comment_user .email');
          if (email && email.getAttribute('href') != 'mailto:webkit-bug-importer@group.apple.com')
            return;
          let commentText = comment.querySelector('.bz_comment_text');
          let rdar = commentText.textContent.match(/rdar:\/\/.*?\d+/)
          let commit_urls = document.getElementById('commit-urls');
          if (rdar?.length > 0)
            commit_urls.innerHTML += "\n" + rdar.toString().replace('/problem','');
      });
    });
    
  </script>
  
  <section class="comments-section">
    
    
    <div id="comments"><script src="js/comments.js?1734635243" type="text/javascript"></script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<div class="bz_comment_table">
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Chijin</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c0">Reported</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-02-25 00:19:28">2022-02-25 00:19:28 PST</span>
          
        </div>

      </div>




<div class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=453180" name="attach_453180" title="This file is generated by a browser fuzzer">attachment 453180</a> <a href="attachment.cgi?id=453180&amp;action=edit" title="This file is generated by a browser fuzzer">[details]</a></span>
This file is generated by a browser fuzzer

The attached file cause a heap buffer overflow in setContentsLayer().

Version: safari-613.1.5-branch (4f329ebf4c7cb23791f7634fe9b917b20dc2e5a6) and webkitgtk-2.34.6

asan report:

==16712==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x61b0000d4ab8 at pc 0x7f79a33b83ff bp 0x7ffde8451be0 sp 0x7ffde8451bd8
WRITE of size 8 at 0x61b0000d4ab8 thread T0
    #0 0x7f79a33b83fe in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperLayer.cpp:702:21
    #1 0x7f79a33d29aa in WebCore::TextureMapperPlatformLayerProxy::~TextureMapperPlatformLayerProxy() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperPlatformLayerProxy.cpp:56:24
    #2 0x7f79a33d2ed8 in WebCore::TextureMapperPlatformLayerProxy::~TextureMapperPlatformLayerProxy() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperPlatformLayerProxy.cpp:53:1
    #3 0x7f79a3410b9f in WTF::ThreadSafeRefCounted&lt;WebCore::TextureMapperPlatformLayerProxy, (WTF::DestructionThread)0&gt;::deref() const::'lambda'()::operator()() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:117:13
    #4 0x7f79a3410b9f in WTF::ThreadSafeRefCounted&lt;WebCore::TextureMapperPlatformLayerProxy, (WTF::DestructionThread)0&gt;::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:129:9
    #5 0x7f79a3410b9f in WTF::Ref&lt;WebCore::TextureMapperPlatformLayerProxy, WTF::RawPtrTraits&lt;WebCore::TextureMapperPlatformLayerProxy&gt; &gt;::~Ref() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/Ref.h:61:18
    #6 0x7f79a3410b9f in Nicosia::ContentLayerTextureMapperImpl::~ContentLayerTextureMapperImpl() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaContentLayerTextureMapperImpl.cpp:58:1
    #7 0x7f79a3410c48 in Nicosia::ContentLayerTextureMapperImpl::~ContentLayerTextureMapperImpl() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaContentLayerTextureMapperImpl.cpp:53:1
    #8 0x7f79a34061ab in std::default_delete&lt;Nicosia::ContentLayer::Impl&gt;::operator()(Nicosia::ContentLayer::Impl*) const /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:81:2
    #9 0x7f79a34061ab in std::unique_ptr&lt;Nicosia::ContentLayer::Impl, std::default_delete&lt;Nicosia::ContentLayer::Impl&gt; &gt;::~unique_ptr() /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:292:4
    #10 0x7f79a34061ab in Nicosia::ContentLayer::~ContentLayer() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/NicosiaPlatformLayer.cpp:58:29
    #11 0x7f79a3406388 in Nicosia::ContentLayer::~ContentLayer() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/NicosiaPlatformLayer.cpp:58:29
    #12 0x7f79a9447ea2 in WTF::ThreadSafeRefCounted&lt;Nicosia::PlatformLayer, (WTF::DestructionThread)0&gt;::deref() const::'lambda'()::operator()() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:117:13
    #13 0x7f79a9447ea2 in WTF::ThreadSafeRefCounted&lt;Nicosia::PlatformLayer, (WTF::DestructionThread)0&gt;::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/ThreadSafeRefCounted.h:129:9
    #14 0x7f79a9447ea2 in WTF::Ref&lt;Nicosia::ContentLayer, WTF::RawPtrTraits&lt;Nicosia::ContentLayer&gt; &gt;::~Ref() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/Ref.h:61:18
    #15 0x7f79a9447ea2 in Nicosia::GCGLLayer::~GCGLLayer() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaGCGLLayer.cpp:60:1
    #16 0x7f79a9447fa8 in Nicosia::GCGLLayer::~GCGLLayer() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/nicosia/texmap/NicosiaGCGLLayer.cpp:58:1
    #17 0x7f79a94201f2 in std::default_delete&lt;Nicosia::GCGLLayer&gt;::operator()(Nicosia::GCGLLayer*) const /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:81:2
    #18 0x7f79a94201f2 in std::unique_ptr&lt;Nicosia::GCGLLayer, std::default_delete&lt;Nicosia::GCGLLayer&gt; &gt;::~unique_ptr() /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:292:4
    #19 0x7f79a94201f2 in WebCore::GraphicsContextGLOpenGL::~GraphicsContextGLOpenGL() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/texmap/GraphicsContextGLTextureMapper.cpp:386:1
    #20 0x7f79a9420918 in WebCore::GraphicsContextGLOpenGL::~GraphicsContextGLOpenGL() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/texmap/GraphicsContextGLTextureMapper.cpp:348:1
    #21 0x7f79a6a9d7be in std::default_delete&lt;WebCore::GraphicsContextGL&gt;::operator()(WebCore::GraphicsContextGL*) const /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:81:2
    #22 0x7f79a6a9d7be in WTF::RefCounted&lt;WebCore::GraphicsContextGL, std::default_delete&lt;WebCore::GraphicsContextGL&gt; &gt;::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefCounted.h:190:13
    #23 0x7f79a6a9d7be in WTF::DefaultRefDerefTraits&lt;WebCore::GraphicsContextGL&gt;::derefIfNotNull(WebCore::GraphicsContextGL*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
    #24 0x7f79a6a9d7be in WTF::RefPtr&lt;WebCore::GraphicsContextGL, WTF::RawPtrTraits&lt;WebCore::GraphicsContextGL&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::GraphicsContextGL&gt; &gt;::operator=(std::nullptr_t) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:159:5
    #25 0x7f79a6a9d7be in WebCore::WebGLRenderingContextBase::destroyGraphicsContextGL() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContextBase.cpp:1199:19
    #26 0x7f79a6ae593a in WebCore::WebGLRenderingContextBase::~WebGLRenderingContextBase() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContextBase.cpp:1174:9
    #27 0x7f79a6afbe1f in WebCore::WebGLRenderingContext::~WebGLRenderingContext() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContext.h:35:7
    #28 0x7f79a6afbe1f in non-virtual thunk to WebCore::WebGLRenderingContext::~WebGLRenderingContext() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/canvas/WebGLRenderingContext.h
    #29 0x7f79a65cbef4 in std::default_delete&lt;WebCore::CanvasRenderingContext&gt;::operator()(WebCore::CanvasRenderingContext*) const /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:81:2
    #30 0x7f79a65cbef4 in std::unique_ptr&lt;WebCore::CanvasRenderingContext, std::default_delete&lt;WebCore::CanvasRenderingContext&gt; &gt;::reset(WebCore::CanvasRenderingContext*) /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:402:4
    #31 0x7f79a65cbef4 in std::unique_ptr&lt;WebCore::CanvasRenderingContext, std::default_delete&lt;WebCore::CanvasRenderingContext&gt; &gt;::operator=(std::nullptr_t) /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/unique_ptr.h:336:2
    #32 0x7f79a65cbef4 in WebCore::HTMLCanvasElement::~HTMLCanvasElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLCanvasElement.cpp:148:15
    #33 0x7f79a65cc668 in WebCore::HTMLCanvasElement::~HTMLCanvasElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLCanvasElement.cpp:141:1
    #34 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
    #35 0x7f79a5db5577 in WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt;::derefIfNotNull(WebCore::Node*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
    #36 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::~RefPtr() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
    #37 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::operator=(WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt; const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
    #38 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node*&amp;, WebCore::Node*&amp;, WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
    #39 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
    #40 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
    #41 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
    #42 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
    #43 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
    #44 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
    #45 0x7f79a5db5577 in WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt;::derefIfNotNull(WebCore::Node*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
    #46 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::~RefPtr() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
    #47 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::operator=(WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt; const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
    #48 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node*&amp;, WebCore::Node*&amp;, WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
    #49 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
    #50 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
    #51 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
    #52 0x7f79a666d2d8 in WebCore::HTMLHtmlElement::~HTMLHtmlElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLHtmlElement.h:30:7
    #53 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
    #54 0x7f79a5db5577 in WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt;::derefIfNotNull(WebCore::Node*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
    #55 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::~RefPtr() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
    #56 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::operator=(WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt; const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
    #57 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node*&amp;, WebCore::Node*&amp;, WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
    #58 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
    #59 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
    #60 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
    #61 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
    #62 0x7f79a65c6518 in WebCore::HTMLBodyElement::~HTMLBodyElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLBodyElement.cpp:64:35
    #63 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
    #64 0x7f79a5db5577 in WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt;::derefIfNotNull(WebCore::Node*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
    #65 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::~RefPtr() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
    #66 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::operator=(WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt; const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
    #67 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node*&amp;, WebCore::Node*&amp;, WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
    #68 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
    #69 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
    #70 0x7f79a5d9d665 in WebCore::ContainerNode::~ContainerNode() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:316:5
    #71 0x7f79a666d2d8 in WebCore::HTMLHtmlElement::~HTMLHtmlElement() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLHtmlElement.h:30:7
    #72 0x7f79a5db5577 in WebCore::Node::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
    #73 0x7f79a5db5577 in WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt;::derefIfNotNull(WebCore::Node*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:42:18
    #74 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::~RefPtr() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:73:31
    #75 0x7f79a5db5577 in WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt;::operator=(WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt; &gt; const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/RefPtr.h:137:1
    #76 0x7f79a5db5577 in WebCore::addChildNodesToDeletionQueue(WebCore::Node*&amp;, WebCore::Node*&amp;, WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:186:65
    #77 0x7f79a5d9b84e in WebCore::removeDetachedChildrenInContainer(WebCore::ContainerNode&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNodeAlgorithms.cpp:225:5
    #78 0x7f79a5d9b84e in WebCore::ContainerNode::removeDetachedChildren() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/ContainerNode.cpp:282:5
    #79 0x7f79a5e19b07 in WebCore::Document::removedLastRef() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Document.cpp:822:9
    #80 0x7f79a65daabc in WebCore::Node::deref() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/dom/Node.h:804:34
    #81 0x7f79a65daabc in WTF::Ref&lt;WebCore::ContainerNode, WTF::RawPtrTraits&lt;WebCore::ContainerNode&gt; &gt;::~Ref() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WTF/Headers/wtf/Ref.h:61:18
    #82 0x7f79a65daabc in WebCore::HTMLCollection::~HTMLCollection() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/HTMLCollection.cpp:143:1
    #83 0x7f79a5f02a59 in WebCore::CachedHTMLCollection&lt;WebCore::GenericCachedHTMLCollection&lt;(WebCore::CollectionTraversalType)0&gt;, (WebCore::CollectionTraversalType)0&gt;::~CachedHTMLCollection() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/CachedHTMLCollection.h:85:1
    #84 0x7f79a5f02b78 in WebCore::GenericCachedHTMLCollection&lt;(WebCore::CollectionTraversalType)0&gt;::~GenericCachedHTMLCollection() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/html/GenericCachedHTMLCollection.h:33:7
    #85 0x7f799df2bd84 in JSC::JSDestructibleObjectDestroyFunc::operator()(JSC::VM&amp;, JSC::JSCell*) const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/runtime/JSDestructibleObjectHeapCellType.cpp:38:9
    #86 0x7f799df2bd84 in void JSC::MarkedBlock::Handle::specializedSweep&lt;true, (JSC::MarkedBlock::Handle::EmptyMode)0, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)0, JSC::JSDestructibleObjectDestroyFunc&gt;(JSC::FreeList*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&amp;)::'lambda'(void*)::operator()(void*) const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:260:13
    #87 0x7f799df2bd84 in void JSC::MarkedBlock::Handle::specializedSweep&lt;true, (JSC::MarkedBlock::Handle::EmptyMode)0, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)0, JSC::JSDestructibleObjectDestroyFunc&gt;(JSC::FreeList*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:294:17
    #88 0x7f799df265d1 in void JSC::MarkedBlock::Handle::finishSweepKnowingHeapCellType&lt;JSC::JSDestructibleObjectDestroyFunc&gt;(JSC::FreeList*, JSC::JSDestructibleObjectDestroyFunc const&amp;)::'lambda'()::operator()() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:403:21
    #89 0x7f799df16158 in void JSC::MarkedBlock::Handle::finishSweepKnowingHeapCellType&lt;JSC::JSDestructibleObjectDestroyFunc&gt;(JSC::FreeList*, JSC::JSDestructibleObjectDestroyFunc const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlockInlines.h:435:9
    #90 0x7f799df049b8 in JSC::JSDestructibleObjectHeapCellType::finishSweep(JSC::MarkedBlock::Handle&amp;, JSC::FreeList*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/runtime/JSDestructibleObjectHeapCellType.cpp:53:12
    #91 0x7f799cdb19d9 in JSC::MarkedBlock::Handle::sweep(JSC::FreeList*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/MarkedBlock.cpp:415:21
    #92 0x7f799cd9d31f in JSC::LocalAllocator::tryAllocateIn(JSC::MarkedBlock::Handle*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/LocalAllocator.cpp:225:12
    #93 0x7f799cd9d0fa in JSC::LocalAllocator::tryAllocateWithoutCollecting() /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/LocalAllocator.cpp:191:28
    #94 0x7f799cd9c662 in JSC::LocalAllocator::allocateSlowCase(JSC::Heap&amp;, JSC::GCDeferralContext*, JSC::AllocationFailureMode) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/JavaScriptCore/heap/LocalAllocator.cpp:132:20
    #95 0x7f79a53ee008 in JSC::LocalAllocator::allocate(JSC::Heap&amp;, JSC::GCDeferralContext*, JSC::AllocationFailureMode)::'lambda'()::operator()() const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/LocalAllocatorInlines.h:40:43
    #96 0x7f79a53ee008 in JSC::HeapCell* JSC::FreeList::allocate&lt;JSC::LocalAllocator::allocate(JSC::Heap&amp;, JSC::GCDeferralContext*, JSC::AllocationFailureMode)::'lambda'()&gt;(JSC::LocalAllocator::allocate(JSC::Heap&amp;, JSC::GCDeferralContext*, JSC::AllocationFailureMode)::'lambda'() const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/FreeListInlines.h:46:16
    #97 0x7f79a53ee008 in JSC::LocalAllocator::allocate(JSC::Heap&amp;, JSC::GCDeferralContext*, JSC::AllocationFailureMode) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/LocalAllocatorInlines.h:37:23
    #98 0x7f79a53ee008 in JSC::Allocator::allocate(JSC::Heap&amp;, JSC::GCDeferralContext*, JSC::AllocationFailureMode) const /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/AllocatorInlines.h:35:30
    #99 0x7f79a53ee008 in JSC::IsoSubspace::allocateNonVirtual(JSC::VM&amp;, unsigned long, JSC::GCDeferralContext*, JSC::AllocationFailureMode) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/IsoSubspaceInlines.h:34:30
    #100 0x7f79a53ee008 in void* JSC::tryAllocateCellHelper&lt;WebCore::JSHTMLCollection&gt;(JSC::Heap&amp;, unsigned long, JSC::GCDeferralContext*, JSC::AllocationFailureMode) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/JSCellInlines.h:180:63
    #101 0x7f79a53ee008 in void* JSC::allocateCell&lt;WebCore::JSHTMLCollection&gt;(JSC::Heap&amp;, unsigned long) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/JavaScriptCore/PrivateHeaders/JavaScriptCore/JSCellInlines.h:194:12
    #102 0x7f79a53e97f3 in WebCore::JSHTMLCollection::create(JSC::Structure*, WebCore::JSDOMGlobalObject*, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt;&amp;&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WebCore/DerivedSources/JSHTMLCollection.h:34:47
    #103 0x7f79a53e97f3 in std::enable_if&lt;std::is_same&lt;WebCore::HTMLCollection, WebCore::HTMLCollection&gt;::value, WebCore::JSDOMWrapperConverterTraits&lt;WebCore::HTMLCollection&gt;::WrapperClass*&gt;::type WebCore::createWrapper&lt;WebCore::HTMLCollection, WebCore::HTMLCollection&gt;(WebCore::JSDOMGlobalObject*, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt;&amp;&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMWrapperCache.h:190:21
    #104 0x7f79a53e9caa in WebCore::toJSNewlyCreated(JSC::JSGlobalObject*, WebCore::JSDOMGlobalObject*, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt;&amp;&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSHTMLCollectionCustom.cpp:45:12
    #105 0x7f79a53e9caa in JSC::JSValue WebCore::wrap&lt;WebCore::HTMLCollection&gt;(JSC::JSGlobalObject*, WebCore::JSDOMGlobalObject*, WebCore::HTMLCollection&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMWrapperCache.h:204:12
    #106 0x7f79a35c6e00 in JSC::JSValue WebCore::JSConverter&lt;WebCore::IDLInterface&lt;WebCore::HTMLCollection&gt; &gt;::convert&lt;WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt; &gt;(JSC::JSGlobalObject&amp;, WebCore::JSDOMGlobalObject&amp;, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt; const&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertInterface.h:81:16
    #107 0x7f79a35c6e00 in JSC::JSValue WebCore::JSConverterOverloader&lt;WebCore::IDLInterface&lt;WebCore::HTMLCollection&gt;, true, true&gt;::convert&lt;WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt; &gt;(JSC::JSGlobalObject&amp;, WebCore::JSDOMGlobalObject&amp;, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt;&amp;&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertBase.h:109:16
    #108 0x7f79a35c6e00 in JSC::JSValue WebCore::toJS&lt;WebCore::IDLInterface&lt;WebCore::HTMLCollection&gt;, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt; &gt;(JSC::JSGlobalObject&amp;, WebCore::JSDOMGlobalObject&amp;, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt;&amp;&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertBase.h:151:12
    #109 0x7f79a35c6e00 in JSC::JSValue WebCore::toJS&lt;WebCore::IDLInterface&lt;WebCore::HTMLCollection&gt;, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt; &gt;(JSC::JSGlobalObject&amp;, WebCore::JSDOMGlobalObject&amp;, JSC::ThrowScope&amp;, WTF::Ref&lt;WebCore::HTMLCollection, WTF::RawPtrTraits&lt;WebCore::HTMLCollection&gt; &gt;&amp;&amp;) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMConvertBase.h:215:20
    #110 0x7f79a35c6e00 in WebCore::jsDocumentPrototypeFunction_getElementsByTagNameBody(JSC::JSGlobalObject*, JSC::CallFrame*, WebCore::JSDocument*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WebCore/DerivedSources/JSDocument.cpp:5294:5
    #111 0x7f79a35c6e00 in long WebCore::IDLOperation&lt;WebCore::JSDocument&gt;::call&lt;&amp;(WebCore::jsDocumentPrototypeFunction_getElementsByTagNameBody(JSC::JSGlobalObject*, JSC::CallFrame*, WebCore::JSDocument*)), (WebCore::CastedThisErrorBehavior)0&gt;(JSC::JSGlobalObject&amp;, JSC::CallFrame&amp;, char const*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/bindings/js/JSDOMOperation.h:63:9
    #112 0x7f79a35c6e00 in WebCore::jsDocumentPrototypeFunction_getElementsByTagName(JSC::JSGlobalObject*, JSC::CallFrame*) /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/WebKitBuild_Asan_RelWithDebug/GTK/Release/WebCore/DerivedSources/JSDocument.cpp:5299:12
    #113 0x7f7952feb1d7  (&lt;unknown module&gt;)

Address 0x61b0000d4ab8 is a wild pointer.
SUMMARY: AddressSanitizer: heap-buffer-overflow /root/browser/webkit/webkit_trunck_clean_version/Safari-branch/Source/WebCore/platform/graphics/texmap/TextureMapperLayer.cpp:702:21 in WebCore::TextureMapperLayer::setContentsLayer(WebCore::TextureMapperPlatformLayer*)
Shadow bytes around the buggy address:
  0x0c3680012900: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012910: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012920: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012930: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012940: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=&gt;0x0c3680012950: fa fa fa fa fa fa fa[fa]fa fa fa fa fa fa fa fa
  0x0c3680012960: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012970: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012980: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c3680012990: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c36800129a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==16712==ABORTING</div>
    </div>
    
    

        
        
        <script src="js/status-bubble.js?1734635243"></script>
<script type="text/javascript">
<!--
window.addEventListener('message', handleStatusBubbleMessage, false);

function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_html">
        <td class="attachment-details">
            <a href="attachment.cgi?id=453180"
               title="View the content of the attachment">
          <b>This file is generated by a browser fuzzer</b></a>

          <span class="bz_attach_extra_info">
              (956.01 KB,
                text/html)

            <br>
            <a href="#attach_453180"
               title="Go to the comment associated with the attachment">2022-02-25 00:19 PST</a>,

            <span class="vcard"><span class="fn">Chijin</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags attachment-flags">
              <em>no flags</em>
          </td>

        <td class="attachment-controls">
            <div class="controls">
<a href="attachment.cgi?id=453180&amp;action=edit">Details</a>
              </div>

        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch patch-highlight">
        <td class="attachment-details">
            <a href="attachment.cgi?id=455361"
               title="View the content of the attachment">
          <b>Patch</b></a>

          <span class="bz_attach_extra_info">
              (4.89 KB,
                patch)

            <br>
            <a href="#attach_455361"
               title="Go to the comment associated with the attachment">2022-03-22 04:06 PDT</a>,

            <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          </span>
        </td>

          <td class="bz_attach_flags attachment-flags">
              <em>no flags</em>
          </td>

        <td class="attachment-controls">
            <div class="controls">
<a href="attachment.cgi?id=455361&amp;action=edit">Details</a><a href="attachment.cgi?id=455361&amp;action=prettypatch">Formatted Diff</a><a href="attachment.cgi?id=455361&amp;action=diff">Diff</a>
              </div>
          <div class="statusBubble">
            <iframe src="https://ews.webkit.org/status-bubble/455361/"
                    style="width: 0px; height: 8rem;" scrolling="no" onload="handleStatusBubbleLoad(this)">
            </iframe>
          </div>

        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a id="view_all" class="small button" href="attachment.cgi?bugid=237187&amp;action=viewall">View All</a>
        </span>
        <a class="small button" href="attachment.cgi?bugid=237187&amp;action=enter">Add attachment</a>
        <em>proposed patch, testcase, etc.</em>
    </td>
  </tr>
</table>
        
        
        
          
    


    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Radar WebKit Bug Importer</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c1">Comment 1</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-02-25 00:19:57">2022-02-25 00:19:57 PST</span>
          
        </div>

      </div>




<div class="bz_comment_text">&lt;<a href="rdar://problem/89462099">rdar://problem/89462099</a>&gt;</div>
    </div>
    


    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Carlos Garcia Campos</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c2">Comment 2</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-02-25 00:46:57">2022-02-25 00:46:57 PST</span>
          
        </div>

      </div>




<div class="bz_comment_text">I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed, but invalidate hasn't been called and m_targetLayer is still a non-null pointer to a released layer.</div>
    </div>
    


    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Chijin</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c3">Comment 3</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-16 00:33:10">2022-03-16 00:33:10 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Carlos Garcia Campos from <a href="show_bug.cgi?id=237187#c2">comment #2</a>)
<span class="quote">&gt; I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed,
&gt; but invalidate hasn't been called and m_targetLayer is still a non-null
&gt; pointer to a released layer.</span >

The Apple security says that this bug does not affect their platforms. Should someone looks after it?</div>
    </div>
    


    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c4">Comment 4</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-16 04:23:36">2022-03-16 04:23:36 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Carlos Garcia Campos from <a href="show_bug.cgi?id=237187#c2">comment #2</a>)
<span class="quote">&gt; I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed,
&gt; but invalidate hasn't been called and m_targetLayer is still a non-null
&gt; pointer to a released layer.</span >

Yes, that seems to be the problem. But in a normal scenario the destruction of the TextureMapperLayer pointed by m_targetLayer happens after invalidate has been called on the proxy. It should not be possible that the TextureMapperLayer is released but invalidate hasn't been called. There must be some tricky race condition here.

Chijin, do you know if it's possible to reproduce the issue just by letting the attached example run? or do I need to do anything else, like closing the view or something?</div>
    </div>
    


    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Chijin</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c5">Comment 5</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-16 04:36:44">2022-03-16 04:36:44 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Miguel Gomez from <a href="show_bug.cgi?id=237187#c4">comment #4</a>)
<span class="quote">&gt; (In reply to Carlos Garcia Campos from <a href="show_bug.cgi?id=237187#c2">comment #2</a>)
&gt; &gt; I think the problem is that TextureMapperPlatformLayerProxyGL is destroyed,
&gt; &gt; but invalidate hasn't been called and m_targetLayer is still a non-null
&gt; &gt; pointer to a released layer.
&gt; 
&gt; Yes, that seems to be the problem. But in a normal scenario the destruction
&gt; of the TextureMapperLayer pointed by m_targetLayer happens after invalidate
&gt; has been called on the proxy. It should not be possible that the
&gt; TextureMapperLayer is released but invalidate hasn't been called. There must
&gt; be some tricky race condition here.
&gt; 
&gt; Chijin, do you know if it's possible to reproduce the issue just by letting
&gt; the attached example run? or do I need to do anything else, like closing the
&gt; view or something?</span >

Just run this html file and wait for 3~4 second and the it will trigger this crash.

./libexec/webkit2gtk-4.0/MiniBrowser /path/to/bufferoverflow_setContentsLayer.html</div>
    </div>
    


    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c6">Comment 6</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-21 03:52:59">2022-03-21 03:52:59 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">What seems to be happening here is an scenario that I didn't know was possible. 

The test creates and destroys several WebGLRenderingContext instances. Each instance is attached to a CoordinatedGraphicsLayer as their PlatformLayer, and propagated to the compositor thread, where the proxy for the PlatformLayer is activated and used by the corresponding TextureMapperLayer. This works fine.

In theory, when the WebGLRenderingContext is destroyed, the attached CoordinatedGraphicsLayer is destroyed as well, which causes the compositor (inside the CoordinatedGraphicsScene) to call invalidate on the PlatformLayer proxy when deleting the layer.

But what the test is doing is somehow detaching the PlatformLayer from the CoordinatedGraphicsLayer, but keeping the GraphicsLayer alive. On the compositor side, this causes that the proxy is not invalidated cause the layer doesn't have to be deleted. But when adopting the new scene state, we override the previous PlatformLayer (which becomes null), losing the reference to the previous proxy and the opportunity to call invalidate on it. After this scenario, if the TextureMaperLayer that was associated to the proxy is deleted before the proxy, when the proxy gets destroyed we get the use after free issue.

I've checked that this is reproducible on ToT as well.</div>
    </div>
    


    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c7">Comment 7</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 04:06:04">2022-03-22 04:06:04 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=455361&amp;action=diff" name="attach_455361" title="Patch">attachment 455361</a> <a href="attachment.cgi?id=455361&amp;action=edit" title="Patch">[details]</a></span>
Patch</div>
    </div>
    


    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Chijin</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c8">Comment 8</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 04:30:09">2022-03-22 04:30:09 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Miguel Gomez from <a href="show_bug.cgi?id=237187#c6">comment #6</a>)
<span class="quote">&gt; What seems to be happening here is an scenario that I didn't know was
&gt; possible. 
&gt; 
&gt; The test creates and destroys several WebGLRenderingContext instances. Each
&gt; instance is attached to a CoordinatedGraphicsLayer as their PlatformLayer,
&gt; and propagated to the compositor thread, where the proxy for the
&gt; PlatformLayer is activated and used by the corresponding TextureMapperLayer.
&gt; This works fine.
&gt; 
&gt; In theory, when the WebGLRenderingContext is destroyed, the attached
&gt; CoordinatedGraphicsLayer is destroyed as well, which causes the compositor
&gt; (inside the CoordinatedGraphicsScene) to call invalidate on the
&gt; PlatformLayer proxy when deleting the layer.
&gt; 
&gt; But what the test is doing is somehow detaching the PlatformLayer from the
&gt; CoordinatedGraphicsLayer, but keeping the GraphicsLayer alive. On the
&gt; compositor side, this causes that the proxy is not invalidated cause the
&gt; layer doesn't have to be deleted. But when adopting the new scene state, we
&gt; override the previous PlatformLayer (which becomes null), losing the
&gt; reference to the previous proxy and the opportunity to call invalidate on
&gt; it. After this scenario, if the TextureMaperLayer that was associated to the
&gt; proxy is deleted before the proxy, when the proxy gets destroyed we get the
&gt; use after free issue.
&gt; 
&gt; I've checked that this is reproducible on ToT as well.</span >

Hi, did you mean that this issue affect Safari as well?</div>
    </div>
    


    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c9">Comment 9</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 04:33:49">2022-03-22 04:33:49 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text"><span class="quote">&gt; Hi, did you mean that this issue affect Safari as well?</span >

Nope. It affects the master branch, but only the WPE and GTK ports, as it happens in code that's specific to them.</div>
    </div>
    


    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Carlos Garcia Campos</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c10">Comment 10</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 04:57:32">2022-03-22 04:57:32 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">Comment on <span class=""><a href="attachment.cgi?id=455361&amp;action=diff" name="attach_455361" title="Patch">attachment 455361</a> <a href="attachment.cgi?id=455361&amp;action=edit" title="Patch">[details]</a></span>
Patch

View in context: <a rel="nofollow" href="https://bugs.webkit.org/attachment.cgi?id=455361&amp;action=review">https://bugs.webkit.org/attachment.cgi?id=455361&amp;action=review</a>

<span class="quote">&gt; Source/WebKit/Shared/CoordinatedGraphics/CoordinatedGraphicsScene.cpp:233
&gt; +    HashSet&lt;Ref&lt;WebCore::TextureMapperPlatformLayerProxy&gt;&gt; replacedProxiesToInvalidate;</span >

Why don't you store this in the layersByBacking struct? it's already captured by all the lambdas.</div>
    </div>
    


    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c11">Comment 11</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 05:38:45">2022-03-22 05:38:45 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Carlos Garcia Campos from <a href="show_bug.cgi?id=237187#c10">comment #10</a>)
<span class="quote">&gt; Comment on <span class=""><a href="attachment.cgi?id=455361&amp;action=diff" name="attach_455361" title="Patch">attachment 455361</a> <a href="attachment.cgi?id=455361&amp;action=edit" title="Patch">[details]</a></span>
&gt; Patch
&gt; 
&gt; View in context:
&gt; <a rel="nofollow" href="https://bugs.webkit.org/attachment.cgi?id=455361&amp;action=review">https://bugs.webkit.org/attachment.cgi?id=455361&amp;action=review</a>
&gt; 
&gt; &gt; Source/WebKit/Shared/CoordinatedGraphics/CoordinatedGraphicsScene.cpp:233
&gt; &gt; +    HashSet&lt;Ref&lt;WebCore::TextureMapperPlatformLayerProxy&gt;&gt; replacedProxiesToInvalidate;
&gt; 
&gt; Why don't you store this in the layersByBacking struct? it's already
&gt; captured by all the lambdas.</span >

I thought about it. But even when it would make the code simpler, the new var wouldn't make sense semantically inside the layersByBacking struct, as they are used for different things. Maybe it's because of the name &quot;layersByBacking&quot;, which suggests a purpose that's not related to the new var. I don't know, it's just a completely subjective and philosophical decision with no strong arguments. I can move the new var in the struct if you think it's better ;)</div>
    </div>
    


    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Carlos Garcia Campos</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c12">Comment 12</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 06:36:23">2022-03-22 06:36:23 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Miguel Gomez from <a href="show_bug.cgi?id=237187#c11">comment #11</a>)
<span class="quote">&gt; (In reply to Carlos Garcia Campos from <a href="show_bug.cgi?id=237187#c10">comment #10</a>)
&gt; &gt; Comment on <span class=""><a href="attachment.cgi?id=455361&amp;action=diff" name="attach_455361" title="Patch">attachment 455361</a> <a href="attachment.cgi?id=455361&amp;action=edit" title="Patch">[details]</a></span>
&gt; &gt; Patch
&gt; &gt; 
&gt; &gt; View in context:
&gt; &gt; <a rel="nofollow" href="https://bugs.webkit.org/attachment.cgi?id=455361&amp;action=review">https://bugs.webkit.org/attachment.cgi?id=455361&amp;action=review</a>
&gt; &gt; 
&gt; &gt; &gt; Source/WebKit/Shared/CoordinatedGraphics/CoordinatedGraphicsScene.cpp:233
&gt; &gt; &gt; +    HashSet&lt;Ref&lt;WebCore::TextureMapperPlatformLayerProxy&gt;&gt; replacedProxiesToInvalidate;
&gt; &gt; 
&gt; &gt; Why don't you store this in the layersByBacking struct? it's already
&gt; &gt; captured by all the lambdas.
&gt; 
&gt; I thought about it. But even when it would make the code simpler, the new
&gt; var wouldn't make sense semantically inside the layersByBacking struct, as
&gt; they are used for different things. Maybe it's because of the name
&gt; &quot;layersByBacking&quot;, which suggests a purpose that's not related to the new
&gt; var. I don't know, it's just a completely subjective and philosophical
&gt; decision with no strong arguments. I can move the new var in the struct if
&gt; you think it's better ;)</span >

No strong opinion either.</div>
    </div>
    


    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">EWS</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c13">Comment 13</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-22 08:38:36">2022-03-22 08:38:36 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">Committed <a href="https://commits.webkit.org/r291621">r291621</a> (<a href="https://commits.webkit.org/248714@main">248714@main</a>): &lt;<a rel="nofollow" href="https://commits.webkit.org/248714&#64;main">https://commits.webkit.org/248714&#64;main</a>&gt;

All reviewed patches have been landed. Closing bug and clearing flags on <span class=""><a href="attachment.cgi?id=455361&amp;action=diff" name="attach_455361" title="Patch">attachment 455361</a> <a href="attachment.cgi?id=455361&amp;action=edit" title="Patch">[details]</a></span>.</div>
    </div>
    


    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel Gomez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c14">Comment 14</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-03-23 03:16:16">2022-03-23 03:16:16 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - heap-use-after-free in setContentsLayer(WebCore::TextureMapperPlatformLayer*)"
   href="show_bug.cgi?id=237188">Bug 237188</a> has been marked as a duplicate of this bug. ***</div>
    </div>
    


    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Catanzaro</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c15">Comment 15</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-05-06 07:45:52">2022-05-06 07:45:52 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get -94 marked as a duplicate.</div>
    </div>
    


    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Carlos Alberto Lopez Perez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c16">Comment 16</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-05-06 09:16:50">2022-05-06 09:16:50 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Michael Catanzaro from <a href="show_bug.cgi?id=237187#c15">comment #15</a>)
<span class="quote">&gt; This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get
&gt; -94 marked as a duplicate.</span >

This will be included in an upcoming security advisory.

&#64;Chijin Who should I credit on the advisory as the one discovering the issue on
this CVEs?</div>
    </div>
    


    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Chijin</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c17">Comment 17</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-05-06 09:57:23">2022-05-06 09:57:23 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Carlos Alberto Lopez Perez from <a href="show_bug.cgi?id=237187#c16">comment #16</a>)
<span class="quote">&gt; (In reply to Michael Catanzaro from <a href="show_bug.cgi?id=237187#c15">comment #15</a>)
&gt; &gt; This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get
&gt; &gt; -94 marked as a duplicate.
&gt; 
&gt; This will be included in an upcoming security advisory.
&gt; 
&gt; &#64;Chijin Who should I credit on the advisory as the one discovering the issue
&gt; on
&gt; this CVEs?</span >

&quot;Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher lab&quot; would be fine. Thank you for your update.!</div>
    </div>
    


    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">
        <div class="bz_comment_user">
          <span class="vcard"><span class="fn">Carlos Alberto Lopez Perez</span>
</span>
          
          
          <span class="bz_comment_user_images">
          </span>

        </div>


        <div class="bz_comment_meta">
          <a href="show_bug.cgi?id=237187#c18">Comment 18</a>
          <span class="bz_comment_time torelativedatetime" data-ts="2022-05-30 07:08:10">2022-05-30 07:08:10 PDT</span>
          
        </div>

      </div>




<div class="bz_comment_text">(In reply to Chijin from <a href="show_bug.cgi?id=237187#c17">comment #17</a>)
<span class="quote">&gt; (In reply to Carlos Alberto Lopez Perez from <a href="show_bug.cgi?id=237187#c16">comment #16</a>)
&gt; &gt; (In reply to Michael Catanzaro from <a href="show_bug.cgi?id=237187#c15">comment #15</a>)
&gt; &gt; &gt; This received both CVE-2022-30293 and also CVE-2022-30294. I'll try to get
&gt; &gt; &gt; -94 marked as a duplicate.
&gt; &gt; 
&gt; &gt; This will be included in an upcoming security advisory.
&gt; &gt; 
&gt; &gt; &#64;Chijin Who should I credit on the advisory as the one discovering the issue
&gt; &gt; on
&gt; &gt; this CVEs?
&gt; 
&gt; &quot;Chijin Zhou of ShuiMuYuLin Ltd and Tsinghua wingtecher lab&quot; would be fine.
&gt; Thank you for your update.!</span >

Credited in the following security advisories:

WebKitGTK Advisory URL  : <a rel="nofollow" href="https://webkitgtk.org/security/WSA-2022-0005.html">https://webkitgtk.org/security/WSA-2022-0005.html</a>
WPE WebKit Advisory URL : <a rel="nofollow" href="https://wpewebkit.org/security/WSA-2022-0005.html">https://wpewebkit.org/security/WSA-2022-0005.html</a></div>
    </div>
    

  <script>
    const commentDateTimeFormatter = new Intl.RelativeTimeFormat(undefined, {numeric: 'auto'});
    const DIVISIONS = [
      { amount: 60, name: "seconds" },
      { amount: 60, name: "minutes" },
      { amount: 24, name: "hours" },
      { amount: 7, name: "days" }
    ];
    function formatTimeAgo(date) {
      let duration = (date - new Date()) / 1000
    
      for (let i = 0; i < DIVISIONS.length; i++) {
        const division = DIVISIONS[i]
        if (Math.abs(duration) < division.amount) {
          return commentDateTimeFormatter.format(Math.round(duration), division.name)
        }
        duration /= division.amount
      }
      
      return date.toLocaleDateString(undefined, {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      }) + " " + date.toLocaleTimeString(undefined, { timeZoneName: "short" });
    }
    [...document.getElementsByClassName("torelativedatetime")].forEach(element => {
      let commentDateTime = new Date(element.getAttribute('data-ts').replace(' ','T') + '.000-0800');
      element.innerHTML = formatTimeAgo(commentDateTime);
    });
  </script>
  <div id="add_comment" class="bz_section_additional_comments">
    <fieldset class="note">
      <legend>Note</legend>
      You need to
      <a href="show_bug.cgi?id=237187&amp;GoAheadAndLogIn=1">log in</a>
      before you can comment on or make changes to this bug.
    </fieldset>
  </div>


  

</div>
    </div>
    
  </section>
  <aside id="bug_details" class="edit_form mobile-hidden">

    <div class="section-status"><div id="status"><div class="field-container"><th class="field_label "
    id="field_label_bug_status">


  <a 
      title="A bug may be in any of a number of states."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#bug_status"
  >Status</a>

</th>
  <span class="field_value "
      id="field_container_bug_status" >RESOLVED

</span>
</div>

    <noscript><br>resolved&nbsp;as&nbsp;</noscript>

  <span id="resolution_settings"><div class="field-container"><th class="field_label "
    id="field_label_resolution">


  <a 
      title="If a bug is in a resolved state, then one of these reasons will be given for its resolution."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#resolution"
  >Resolution</a>

</th>
  <span class="field_value "
      id="field_container_resolution" >FIXED

</span>
</div>
  </span>

</div>

<script type="text/javascript">
  var close_status_array = [
      'RESOLVED'
  ];
  YAHOO.util.Dom.removeClass('dup_id_discoverable', 'bz_default_hidden');
  hideEditableField( "dup_id_container", "dup_id", 'dup_id_edit_action',
                     'dup_id', '' )
  showHideStatusItems( "",  ['',
                             'RESOLVED']);
  YAHOO.util.Event.addListener( 'bug_status', "change", showHideStatusItems,
                                ['',
                                 'RESOLVED']);
  YAHOO.util.Event.addListener( 'resolution', "change", showDuplicateItem);
  YAHOO.util.Event.addListener( 'dup_id_discoverable_action',
                                'click',
                                setResolutionToDuplicate,
                                'RESOLVED');
  YAHOO.util.Event.addListener( window, 'load',  showHideStatusItems,
                              ['',
                               'RESOLVED'] );

</script>
  </div>
    
    <div class="section-priority">
      <span class="severity"><div class="field-container"><th class="field_label "
    id="field_label_priority">


  <a 
      title="Engineers prioritize their bugs using this field."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#priority"
  >Priority</a>

</th>
  <span class="field_value "
      id="field_container_priority" >P2

</span>
</div>
       <div class="field-container"><th class="field_label "
    id="field_label_bug_severity">


  <a 
      title="How severe the bug is, or whether it's an enhancement."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#bug_severity"
  >Severity</a>

</th>
  <span class="field_value "
      id="field_container_bug_severity" >Critical

</span>
</div>
      </span>
    </div>

    <div class="section-classification bz_default_hidden"><div class="field-container"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#classification"
  >Classification</a>

</th>
  <span class="field_value "
      id="field_container_classification" >Unclassified

</span>
</div>
    </div>
    <div class="section-version">
<th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#version"
  >Version</a>

</th>
<td>WebKit Local Build
  </td>

    </div>
        
    
        
    <div class="section-platform"><div class="field-container"><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware</a>

</th>
  <span class="field_value "
      id="field_container_rep_platform" >PC

</span>
</div>
        <div class="field-container"><th class="field_label "
    id="field_label_op_sys">


  <a 
      title="The operating system the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#op_sys"
  >OS</a>

</th>
  <span class="field_value "
      id="field_container_op_sys" >Linux

</span>
</div>
    </div>

    
    
    
    <div class="section-product"><div class="field-container"><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link field-label"
      href="describecomponents.cgi"
  >Product</a>

</th>
  <span class="field_value "
      id="field_container_product" >Security

</span>
</div>
    </div>
        
    
    
    <div class="section-component"><div class="field-container"><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link field-label"
      href="describecomponents.cgi?product=Security"
  >Component</a>

</th>
  <span class="field_value "
      id="field_container_component" >Security

</span>
</div>
    </div>
    
        <div class="section-people"><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee</a>

</th>
      <div><span class="vcard"><span class="fn">WebKit Security Group</span>
</span>
      </div>
    </div>


    <script type="text/javascript">
      assignToDefaultOnChange(['product'],
        'webkit-security-unassigned\x40lists.webkit.org',
        '');
    </script>
    
    <div class="section-reported">
    <label class="field_label">
      Reported
    </label>
    <div>2022-02-25 00:19 PST
    </div>
  </div>
  
  <div class="section-modified">
    <label class="field_label">
      Modified
    </label>
    <div>2022-05-30 07:08 PDT
      <a href="show_activity.cgi?id=237187" class="button small">History</a>
    </div>
  
  </div>
    <div class="section-cclist">
      <label  class="field_label"  accesskey="a">
        CC List
      </label>
      <div>
        <div>8 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            <a href="#" id="cc_edit_area_showhide" class="button small">Show</a>
          </span>
        </div>
        <div id="cc_edit_area">
            <select id="cc" multiple="multiple" size="5" >
                <option value="bfulgham">bfulgham</option>
                <option value="cgarcia">cgarcia</option>
                <option value="clopez">clopez</option>
                <option value="ews-feeder">ews-feeder</option>
                <option value="magomez">magomez</option>
                <option value="mcatanzaro">mcatanzaro</option>
                <option value="webkit-bug-importer">webkit-bug-importer</option>
                <option value="zdobersek">zdobersek</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </div>
    </div>
        <div class="section-url"><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL</a>

</th>
    <div>
      <div id="bz_url_input_area"><td>  
  </td>
      </div>
    </div>
  </div>


    <div class="section-keywords"><div class="field-container"><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link field-label"
      href="describekeywords.cgi"
  >Keywords</a>

</th>
  <span class="field_value "
      id="field_container_keywords" >InRadar

</span>
</div>
    </div>
    
    <div class="section-duplicates">
    <label class="field_label">Duplicates (1)</label>
    <div class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - heap-use-after-free in setContentsLayer(WebCore::TextureMapperPlatformLayer*)"
   href="show_bug.cgi?id=237188">237188</a> 
      </span>
      <a href="buglist.cgi?bug_id=237188" class="button small">View as bug list</a>
    </div>
  </div>
    <div class="section-dependson"><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#dependson"
  >Depends on</a>

</th>

  <div class="dependencies-block">
    <span id="dependson_input_area">
    </span>

  </div>
  </div>
  
  <div class="section-blocks"><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#blocked"
  >Blocks</a>

</th>

  <div class="dependencies-block">
    <span id="blocked_input_area">
    </span>

  </div>
  </div>
    <div class="section-see-also"><div class="field-container"><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#see_also"
  >See Also</a>

</th>
  <span class="field_value "
      id="field_container_see_also" >

</span>
</div>
    </div> 
    
    
    
    <div class="section-aliases"><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link field-label"
      href="page.cgi?id=fields.html#alias"
  >Alias</a>

</th>
    <div>CVE-2022-30293
    </div>
  </div>
   
  </aside>

</form>

<hr>
<ul class="related_actions">
    <li><a href="#" class="button small">Top of Page </a></li>
    <li><a href="show_bug.cgi?format=multiple&amp;id=237187" class="button small">Format For Printing</a></li>
    <li><a href="show_bug.cgi?ctype=xml&amp;id=237187" class="button small">XML</a></li>
    <li><a href="enter_bug.cgi?cloned_bug_id=237187" class="button small">Clone This Bug</a></li>
    
    </ul>

<br>
</section>
    </main>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li class="new-bug"><a href="enter_bug.cgi">New</a></li>
  <li class="browse-bugs"><a href="describecomponents.cgi">Browse</a></li>


  <li><a href="report.cgi">Reports</a></li>

  <li>
      
        <a href="request.cgi">Requests</a></li>
  </ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

    <!-- WEBKIT_CHANGES -->
    <script defer src="/committers-autocomplete.js"></script>
  </body>
</html>