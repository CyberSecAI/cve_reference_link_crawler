

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3071911%2540wp-show-posts%252Ftrunk%26old%3D3041416%2540wp-show-posts%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3041416/wp-show-posts/trunk?old=3071911&old_path=%2Fwp-show-posts%2Ftrunk)

---

# Changes in [wp-show-posts/trunk](/browser/wp-show-posts/trunk?rev=3071911 "Show entry in browser") [[3041416:3071911]](/log/wp-show-posts/trunk?rev=3071911&stop_rev=3041416 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[wp-show-posts/trunk](/browser/wp-show-posts/trunk?rev=3071911)
Files:

3 edited

* [admin/ajax.php](/browser/wp-show-posts/trunk/admin/ajax.php?rev=3071911 "Show entry in browser")
  (modified)
  ([4 diffs](#file0 "Show differences"))
* [readme.txt](/browser/wp-show-posts/trunk/readme.txt?rev=3071911 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [wp-show-posts.php](/browser/wp-show-posts/trunk/wp-show-posts.php?rev=3071911 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-show-posts/trunk/admin/ajax.php](/changeset/3071911/wp-show-posts/trunk/admin/ajax.php?old=1893043&old_path=wp-show-posts%2Ftrunk%2Fadmin%2Fajax.php "Show the [3041416:3071911] differences restricted to wp-show-posts/trunk/admin/ajax.php")

  | [r3041416](/browser/wp-show-posts/trunk/admin/ajax.php?rev=1893043#L11 "Show revision 3041416 of this file in browser") | [r3071911](/browser/wp-show-posts/trunk/admin/ajax.php?rev=3071911#L11 "Show revision 3071911 of this file in browser") |  |
  | --- | --- | --- |
  | 11 | 11 | function wpsp\_get\_json\_option() { |
  | 12 | 12 | if ( ! isset( $\_POST[ 'wpsp\_nonce' ] ) || ! wp\_verify\_nonce( $\_POST[ 'wpsp\_nonce' ], 'wpsp\_nonce' ) ) { |
  |  | 13 | wp\_die( 'Permission declined' ); |
  |  | 14 | } |
  |  | 15 |  |
  |  | 16 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  | 13 | 17 | wp\_die( 'Permission declined' ); |
  | 14 | 18 | } |
  | […](/browser/wp-show-posts/trunk/admin/ajax.php?rev=1893043#L32) | […](/browser/wp-show-posts/trunk/admin/ajax.php?rev=3071911#L36) |  |
  | 32 | 36 | function wpsp\_get\_terms() { |
  | 33 | 37 | if ( ! isset( $\_POST[ 'wpsp\_nonce' ] ) || ! wp\_verify\_nonce( $\_POST[ 'wpsp\_nonce' ], 'wpsp\_nonce' ) ) { |
  |  | 38 | wp\_die( 'Permission declined' ); |
  |  | 39 | } |
  |  | 40 |  |
  |  | 41 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  | 34 | 42 | wp\_die( 'Permission declined' ); |
  | 35 | 43 | } |
  | […](/browser/wp-show-posts/trunk/admin/ajax.php?rev=1893043#L65) | […](/browser/wp-show-posts/trunk/admin/ajax.php?rev=3071911#L73) |  |
  | 65 | 73 | } |
  | 66 | 74 |  |
  |  | 75 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 76 | wp\_die( 'Permission declined' ); |
  |  | 77 | } |
  |  | 78 |  |
  | 67 | 79 | $terms = get\_object\_taxonomies( sanitize\_text\_field( $\_POST[ 'post\_type' ] ) ); |
  | 68 | 80 | $count = count( $terms ); |
  | […](/browser/wp-show-posts/trunk/admin/ajax.php?rev=1893043#L91) | […](/browser/wp-show-posts/trunk/admin/ajax.php?rev=3071911#L103) |  |
  | 91 | 103 | } |
  | 92 | 104 |  |
  |  | 105 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 106 | wp\_die( 'Permission declined' ); |
  |  | 107 | } |
  |  | 108 |  |
  | 93 | 109 | $args = array( |
  | 94 | 110 | 'posts\_per\_page'   => -1, |
* ## [wp-show-posts/trunk/readme.txt](/changeset/3071911/wp-show-posts/trunk/readme.txt?old=3041416&old_path=wp-show-posts%2Ftrunk%2Freadme.txt "Show the [3041416:3071911] differences restricted to wp-show-posts/trunk/readme.txt")

  | [r3041416](/browser/wp-show-posts/trunk/readme.txt?rev=3041416#L5 "Show revision 3041416 of this file in browser") | [r3071911](/browser/wp-show-posts/trunk/readme.txt?rev=3071911#L5 "Show revision 3071911 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 4.5 |
  | 6 | 6 | Tested up to: 6.1 |
  | 7 |  | Stable tag: 1.1.~~5~~ |
  |  | 7 | Stable tag: 1.1.6 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/wp-show-posts/trunk/readme.txt?rev=3041416#L167) | […](/browser/wp-show-posts/trunk/readme.txt?rev=3071911#L167) |  |
  | 167 | 167 |  |
  | 168 | 168 | == Changelog == |
  |  | 169 |  |
  |  | 170 | = 1.1.6 = |
  |  | 171 | \* Security: Add capability checks to AJAX functions |
  | 169 | 172 |  |
  | 170 | 173 | = 1.1.5 = |
* ## [wp-show-posts/trunk/wp-show-posts.php](/changeset/3071911/wp-show-posts/trunk/wp-show-posts.php?old=3041416&old_path=wp-show-posts%2Ftrunk%2Fwp-show-posts.php "Show the [3041416:3071911] differences restricted to wp-show-posts/trunk/wp-show-posts.php")

  | [r3041416](/browser/wp-show-posts/trunk/wp-show-posts.php?rev=3041416#L4 "Show revision 3041416 of this file in browser") | [r3071911](/browser/wp-show-posts/trunk/wp-show-posts.php?rev=3071911#L4 "Show revision 3071911 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://wpshowposts.com |
  | 5 | 5 | Description: WP Show Posts allows you to list posts (from any post type) anywhere on your site. This includes WooCommerce products or any other post type you might have! Check out the pro version for even more features at https://wpshowposts.com. |
  | 6 |  | Version: 1.1.~~5~~ |
  |  | 6 | Version: 1.1.6 |
  | 7 | 7 | Author: Tom Usborne |
  | 8 | 8 | Author URI: https://tomusborne.com |
  | […](/browser/wp-show-posts/trunk/wp-show-posts.php?rev=3041416#L18) | […](/browser/wp-show-posts/trunk/wp-show-posts.php?rev=3071911#L18) |  |
  | 18 | 18 |  |
  | 19 | 19 | // Define the current version |
  | 20 |  | define( 'WPSP\_VERSION', '1.1.~~5~~' ); |
  |  | 20 | define( 'WPSP\_VERSION', '1.1.6' ); |
  | 21 | 21 |  |
  | 22 | 22 | // Add resizer script |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3071911&old=3041416&new_path=%2Fwp-show-posts%2Ftrunk&old_path=%2Fwp-show-posts%2Ftrunk)
* [Zip Archive](?format=zip&new=3071911&old=3041416&new_path=%2Fwp-show-posts%2Ftrunk&old_path=%2Fwp-show-posts%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

