
[![git](/gitweb-data/git-logo.png)](http://git-scm.com/ "git homepage")[git://git.exim.org](/) / [exim.git](/exim.git) / commit

commit
grep
author
committer
pickaxe
 [?](/exim.git/search_help "search help") search:

re

[summary](/exim.git) | [shortlog](/exim.git/shortlog/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445) | [log](/exim.git/log/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445) | commit | [commitdiff](/exim.git/commitdiff/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445) | [tree](/exim.git/tree/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445)

(parent: [1561c5d](/exim.git/commit/1561c5d88b3a23a4348d8e3c1ce28554fcbcfe46)) | [patch](/exim.git/patch/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445)

[DMARC: fix use-after-free in dmarc\_dns\_lookup](/exim.git/commitdiff/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445)

| author | [Lorenz Brun](/exim.git/search/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445?s=Lorenz+Brun;st=author "Search for commits authored by Lorenz Brun") [<lorenz@brun.one>](/exim.git/search/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445?s=lorenz@brun.one;st=author "Search for commits authored by lorenz@brun.one") |  |
| --- | --- | --- |
|  | Fri, 14 Oct 2022 19:02:51 +0000 (21:02 +0200) |
| committer | [Heiko Schlittermann (HS12-RIPE)](/exim.git/search/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445?s=Heiko+Schlittermann+(HS12-RIPE);st=committer "Search for commits committed by Heiko Schlittermann (HS12-RIPE)") [<hs@schlittermann.de>](/exim.git/search/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445?s=hs@schlittermann.de;st=committer "Search for commits committed by hs@schlittermann.de") |  |
|  | Tue, 18 Oct 2022 20:59:52 +0000 (22:59 +0200) |
| commit | 12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445 |
| tree | [195c6b2a3d53f9a94aeb9d4c2de6a0303484cbb3](/exim.git/tree/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445) | [tree](/exim.git/tree/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445) | [snapshot](/exim.git/snapshot/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445.tar.gz "in format: tar.gz") |
| parent | [1561c5d88b3a23a4348d8e3c1ce28554fcbcfe46](/exim.git/commit/1561c5d88b3a23a4348d8e3c1ce28554fcbcfe46) | [commit](/exim.git/commit/1561c5d88b3a23a4348d8e3c1ce28554fcbcfe46) | [diff](/exim.git/commitdiff/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445?hp=1561c5d88b3a23a4348d8e3c1ce28554fcbcfe46) |

DMARC: fix use-after-free in dmarc\_dns\_lookup

This fixes a use-after-free in dmarc\_dns\_lookup where the result

of dns\_lookup in dnsa is freed before the required data is copied out.

Fixes: 9258363 ("DNS: explicit alloc/free of workspace")

| [src/src/dmarc.c](/exim.git/blob/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445%3A/src/src/dmarc.c) |  | [diff](/exim.git/blobdiff/1561c5d88b3a23a4348d8e3c1ce28554fcbcfe46..12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445%3A/src/src/dmarc.c) | [blob](/exim.git/blob/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445%3A/src/src/dmarc.c) | [history](/exim.git/history/12fb3842f81bcbd4a4519d5728f2d7e0e3ca1445%3A/src/src/dmarc.c) |
| --- | --- | --- |

Master Exim source repository
[RSS](/exim.git/rss "log RSS feed")
[Atom](/exim.git/atom "log Atom feed")

