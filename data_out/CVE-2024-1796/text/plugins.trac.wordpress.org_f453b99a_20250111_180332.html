

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3045600%2540woocommerce-products-filter%26old%3D3045600%2540woocommerce-products-filter)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3028722/woocommerce-products-filter "Changeset 3028722 for woocommerce-products-filter")
* [Next Change](/changeset/3045672/woocommerce-products-filter "Changeset 3045672 for woocommerce-products-filter") →

---

# Changeset [3045600](/changeset/3045600 "Show full changeset") for [woocommerce-products-filter](/browser/woocommerce-products-filter?rev=3045600 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
03/05/2024 12:03:15 PM
([10 months](/timeline?from=2024-03-05T12%3A03%3A15Z&precision=second "See timeline at 03/05/2024 12:03:15 PM") ago)

Author:
RealMag777
Message:

* 1 security fix, thanks to Dhabaleshwar Das from Patchstack.com
* 1 security fix, thanks to Krzysztof Zając from Wordfence.com

Location:
[woocommerce-products-filter/trunk](/browser/woocommerce-products-filter/trunk?rev=3045600)
Files:

1 added
61 edited

* [classes/alert.php](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600 "Show entry in browser")
  (modified)
  ([4 diffs](#file0 "Show differences"))
* [classes/rate\_alert.php](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [css/plugin\_options.css](/browser/woocommerce-products-filter/trunk/css/plugin_options.css?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [ext/by\_text/assets/js/husky.js](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600 "Show entry in browser")
  (modified)
  ([9 diffs](#file3 "Show differences"))
* [ext/by\_text/index.php](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file4 "Show differences"))
* [ext/by\_text/views/shortcodes/woof\_text\_filter.php](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [ext/by\_text\_2/index.php](/browser/woocommerce-products-filter/trunk/ext/by_text_2/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [ext/by\_text\_2/js/by\_text\_2.js](/browser/woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file7 "Show differences"))
* [ext/by\_text\_2/views/shortcodes/woof\_text\_filter.php](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [ext/export\_import/index.php](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [ext/front\_builder/classes/additional.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/additional.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [ext/front\_builder/classes/options-layout.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file11 "Show differences"))
* [ext/front\_builder/classes/options-sections-layout.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file12 "Show differences"))
* [ext/front\_builder/classes/options-sections.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file13 "Show differences"))
* [ext/front\_builder/classes/options.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file14 "Show differences"))
* [ext/front\_builder/classes/viewtypes.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/viewtypes.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [ext/front\_builder/index.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([7 diffs](#file16 "Show differences"))
* [ext/front\_builder/js/builder/builder.js](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3045600 "Show entry in browser")
  (modified)
  ([4 diffs](#file17 "Show differences"))
* [ext/front\_builder/js/builder/list.js](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3045600 "Show entry in browser")
  (modified)
  ([4 diffs](#file18 "Show differences"))
* [ext/front\_builder/js/builder/options.js](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file19 "Show differences"))
* [ext/front\_builder/js/builder/section-options.js](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600 "Show entry in browser")
  (modified)
  ([6 diffs](#file20 "Show differences"))
* [ext/front\_builder/views/shortcodes/woof\_front\_builder.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [ext/products\_messenger/index.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [ext/products\_messenger/js/products\_messenger.js](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file23 "Show differences"))
* [ext/products\_messenger/views/shortcodes/woof\_products\_messenger.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [ext/products\_messenger/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/woof.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [ext/query\_save/index.php](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([5 diffs](#file26 "Show differences"))
* [ext/query\_save/js/query\_save.js](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600 "Show entry in browser")
  (modified)
  ([7 diffs](#file27 "Show differences"))
* [ext/query\_save/views/shortcodes/woof\_save\_query.php](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file28 "Show differences"))
* [ext/query\_save/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/query_save/views/woof.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file29 "Show differences"))
* [ext/quick\_search/index.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file30 "Show differences"))
* [ext/quick\_search/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/quick_search/js/admin.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file31 "Show differences"))
* [ext/sections/index.php](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file32 "Show differences"))
* [ext/sections/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/sections/js/admin.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file33 "Show differences"))
* [ext/sections/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file34 "Show differences"))
* [ext/slideout/index.php](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file35 "Show differences"))
* [ext/slideout/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/slideout/js/admin.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file36 "Show differences"))
* [ext/slideout/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file37 "Show differences"))
* [ext/smart\_designer/classes/color.php](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file38 "Show differences"))
* [ext/smart\_designer/classes/presets.php](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3045600 "Show entry in browser")
  (modified)
  ([5 diffs](#file39 "Show differences"))
* [ext/smart\_designer/index.php](/browser/woocommerce-products-filter/trunk/ext/smart_designer/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file40 "Show differences"))
* [ext/smart\_designer/js/color.js](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file41 "Show differences"))
* [ext/smart\_designer/js/presets.js](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600 "Show entry in browser")
  (modified)
  ([7 diffs](#file42 "Show differences"))
* [ext/stat/index.php](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file43 "Show differences"))
* [ext/stat/js/stat.js](/browser/woocommerce-products-filter/trunk/ext/stat/js/stat.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file44 "Show differences"))
* [ext/turbo\_mode/index.php](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([4 diffs](#file45 "Show differences"))
* [ext/turbo\_mode/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3045600 "Show entry in browser")
  (modified)
  ([4 diffs](#file46 "Show differences"))
* [ext/turbo\_mode/js/turbo\_mode.js](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600 "Show entry in browser")
  (modified)
  ([6 diffs](#file47 "Show differences"))
* [ext/turbo\_mode/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file48 "Show differences"))
* [ext/url\_request/index.php](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file49 "Show differences"))
* [ext/url\_request/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/url_request/js/admin.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file50 "Show differences"))
* [ext/url\_request/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file51 "Show differences"))
* [img/husky.png](/browser/woocommerce-products-filter/trunk/img/husky.png?rev=3045600 "Show entry in browser")
  (added)
* [index.php](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([13 diffs](#file53 "Show differences"))
* [js/front.js](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file54 "Show differences"))
* [js/front\_comprssd.js](/browser/woocommerce-products-filter/trunk/js/front_comprssd.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file55 "Show differences"))
* [js/plugin\_options.js](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600 "Show entry in browser")
  (modified)
  ([4 diffs](#file56 "Show differences"))
* [lib/alert/index.php](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file57 "Show differences"))
* [lib/alert/js/alert.js](/browser/woocommerce-products-filter/trunk/lib/alert/js/alert.js?rev=3045600 "Show entry in browser")
  (modified)
  ([1 diff](#file58 "Show differences"))
* [readme.txt](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file59 "Show differences"))
* [views/plugin\_options.php](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3045600 "Show entry in browser")
  (modified)
  ([2 diffs](#file60 "Show differences"))
* [views/woof.php](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3045600 "Show entry in browser")
  (modified)
  ([3 diffs](#file61 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [woocommerce-products-filter/trunk/classes/alert.php](/changeset/3045600/woocommerce-products-filter/trunk/classes/alert.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/classes/alert.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3020561#L70 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L70 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 |  |
  | 71 | 71 | public function woof\_dismiss\_alert() { |
  |  | 72 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  |  | 73 | return; |
  |  | 74 | } |
  |  | 75 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('sec'), 'woof\_dissmiss\_alert')) { |
  |  | 76 | die('Stop!'); |
  |  | 77 | } |
  |  | 78 |  |
  | 72 | 79 | $alert = (array) get\_option('woof\_alert', array()); |
  | 73 | 80 | $alert[sanitize\_key($\_POST['alert'])] = 1; |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3020561#L107) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L114) |  |
  | 107 | 114 | $.post(ajaxurl, {action: 'woof\_dismiss\_alert', |
  | 108 | 115 | alert: 'woocommerce\_currency\_switcher', |
  | 109 |  | sec: <?php echo ~~json\_encode(wp\_create\_nonce('woof\_dissmiss\_alert')~~) ?> |
  |  | 116 | sec: <?php echo wp\_create\_nonce('woof\_dissmiss\_alert') ?> |
  | 110 | 117 | }); |
  | 111 | 118 | }); |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3020561#L152) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L159) |  |
  | 152 | 159 | action: 'woof\_dismiss\_alert', |
  | 153 | 160 | alert: 'woocommerce\_bulk\_editor', |
  | 154 |  | sec: <?php echo ~~json\_encode(wp\_create\_nonce('woof\_dissmiss\_alert')~~) ?> |
  |  | 161 | sec: <?php echo wp\_create\_nonce('woof\_dissmiss\_alert') ?> |
  | 155 | 162 | }); |
  | 156 | 163 | }); |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3020561#L197) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L204) |  |
  | 197 | 204 | action: 'woof\_dismiss\_alert', |
  | 198 | 205 | alert: 'woot\_products\_tables', |
  | 199 |  | sec: <?php echo ~~json\_encode(wp\_create\_nonce('woof\_dissmiss\_alert')~~) ?> |
  |  | 206 | sec: <?php echo wp\_create\_nonce('woof\_dissmiss\_alert') ?> |
  | 200 | 207 | }); |
  | 201 | 208 | }); |
* ## [woocommerce-products-filter/trunk/classes/rate\_alert.php](/changeset/3045600/woocommerce-products-filter/trunk/classes/rate_alert.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/classes/rate_alert.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3020561#L82 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3045600#L82 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 82 | 82 | jQuery.post(ajaxurl, { |
  | 83 | 83 | action: "woof\_manage\_alert", |
  | 84 |  | value: value |
  |  | 84 | value: value, |
  |  | 85 | sec: <?php echo wp\_create\_nonce('woof\_dissmiss\_alert') ?> |
  | 85 | 86 | }, function (data) { |
  | 86 | 87 | console.log(data); |
  | […](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3020561#L95) | […](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3045600#L96) |  |
  | 95 | 96 |  |
  | 96 | 97 | public function manage\_alert() { |
  | 97 |  |  |
  |  | 98 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  |  | 99 | return; |
  |  | 100 | } |
  |  | 101 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('sec'), 'woof\_dissmiss\_alert')) { |
  |  | 102 | die('Stop!'); |
  |  | 103 | } |
  | 98 | 104 | if (intval($\_REQUEST['value'])) { |
  | 99 | 105 | update\_option($this->meta\_key, -2); |
* ## [woocommerce-products-filter/trunk/css/plugin\_options.css](/changeset/3045600/woocommerce-products-filter/trunk/css/plugin_options.css "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/css/plugin_options.css")

  | [r3020561](/browser/woocommerce-products-filter/trunk/css/plugin_options.css?rev=3020561#L2111 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/css/plugin_options.css?rev=3045600#L2111 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 2111 | 2111 | #woof-head{ |
  | 2112 | 2112 | fill: #2f55d4; |
  |  | 2113 | position: relative; |
  |  | 2114 | } |
  |  | 2115 |  |
  |  | 2116 | #woof-head > img{ |
  |  | 2117 | position: absolute; |
  |  | 2118 | margin-top: -19px; |
  |  | 2119 | margin-left: 0; |
  | 2113 | 2120 | } |
  | 2114 | 2121 |  |
* ## [woocommerce-products-filter/trunk/ext/by\_text/assets/js/husky.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L14 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L14 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | this.fetch\_timer = null; |
  | 15 | 15 | this.fetch\_controller = null; |
  | 16 |  |  |
  |  | 16 |  |
  |  | 17 |  |
  |  | 18 |  |
  |  | 19 |  |
  | 17 | 20 | document.addEventListener('click', ev => { |
  | 18 | 21 | if (ev.target !== this.input) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L20) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L23) |  |
  | 20 | 23 | } |
  | 21 | 24 | }); |
  |  | 25 |  |
  |  | 26 | if (typeof woof\_current\_values['woof\_text'] != 'undefined') { |
  |  | 27 | let txt = woof\_current\_values['woof\_text']; |
  |  | 28 | txt = txt.replace(/&amp;/,"%26"); |
  |  | 29 | txt = txt.replace(/&/,"%26"); |
  |  | 30 | woof\_current\_values['woof\_text'] = txt; |
  |  | 31 | } |
  | 22 | 32 | } |
  | 23 | 33 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L46) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L56) |  |
  | 46 | 56 | e.preventDefault(); |
  | 47 | 57 | let search\_text = \_this.input.value; |
  | 48 |  | woof\_current\_values['woof\_text'] = search\_text; |
  |  | 58 | woof\_current\_values['woof\_text'] = search\_text.replace(/&/,"%26"); |
  | 49 | 59 | woof\_ajax\_page\_num = 1; |
  | 50 | 60 | woof\_submit\_link(woof\_get\_submit\_link(), 0); |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L61) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L71) |  |
  | 61 | 71 | let min\_symbols = (typeof \_this.data.min\_symbols) ? \_this.data.min\_symbols : 3; |
  | 62 | 72 | if (search\_text.length >= min\_symbols) { |
  | 63 |  | woof\_current\_values['woof\_text'] = search\_text; |
  |  | 73 | woof\_current\_values['woof\_text'] = search\_text.replace(/&/,"%26"); |
  | 64 | 74 | woof\_ajax\_page\_num = 1; |
  | 65 | 75 | // woof\_text\_do\_submit = false; |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L113) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L123) |  |
  | 113 | 123 | if (ekey === 'Enter') { |
  | 114 | 124 | this.\_loader(); |
  | 115 |  | woof\_current\_values['woof\_text'] = this.searched\_value; |
  |  | 125 | woof\_current\_values['woof\_text'] = this.searched\_value.replace(/&/,"%26"); |
  | 116 | 126 | woof\_ajax\_page\_num = 1; |
  | 117 | 127 | woof\_submit\_link(woof\_get\_submit\_link(), 0); |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L147) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L157) |  |
  | 147 | 157 | } |
  | 148 | 158 | this.\_loader(); |
  |  | 159 |  |
  | 149 | 160 | if (do\_fetch) { |
  | 150 | 161 | //check current tax |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L154) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L165) |  |
  | 154 | 165 | } |
  | 155 | 166 | search\_text = decodeURIComponent(this.searched\_value); |
  | 156 |  | console.log(search\_text); |
  |  | 167 |  |
  |  | 168 | var nonce = jQuery('.woof\_text\_search\_nonce').val(); |
  | 157 | 169 | let request\_data = { |
  | 158 | 170 | action: 'woof\_text\_search', |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L161) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L173) |  |
  | 161 | 173 | cur\_tax: cur\_tax, |
  | 162 | 174 | page: current\_page - 1, |
  |  | 175 | woof\_text\_search\_nonce: nonce, |
  | 163 | 176 | ...this.data |
  | 164 | 177 | }; |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3020561#L195) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/assets/js/husky.js?rev=3045600#L208) |  |
  | 195 | 208 | this.answer.className = 'woof\_husky\_txt-container'; |
  | 196 | 209 | this.container.appendChild(answer); |
  | 197 |  |  |
  | 198 | 210 | if (response.options.length > 0) { |
  | 199 | 211 | response.options.forEach(function (row) { |
* ## [woocommerce-products-filter/trunk/ext/by\_text/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/by_text/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/by_text/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3020561#L636 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3045600#L636 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 636 | 636 |  |
  | 637 | 637 | public function posts\_where($where, $wp\_query) { |
  | 638 |  |  |
  |  | 638 | if (!isset($wp\_query->query\_vars['post\_type']) || 'product' != $wp\_query->query\_vars['post\_type']) { |
  |  | 639 | return $where; |
  |  | 640 | } |
  | 639 | 641 | if (!isset($wp\_query->query\_vars['woof\_text\_filter']) && !isset($wp\_query->query\_vars['woof\_text\_filter'])) { |
  | 640 | 642 | return $where; |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3020561#L883) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3045600#L885) |  |
  | 883 | 885 | $args = array( |
  | 884 | 886 | 'fields' => 'ids', |
  | 885 |  | 'post\_type' => ~~array('product')~~, |
  |  | 887 | 'post\_type' => 'product', |
  | 886 | 888 | 'post\_status' => 'publish', |
  | 887 | 889 | 'tax\_query' => $tax\_query, |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3020561#L937) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3045600#L939) |  |
  | 937 | 939 | //ajax |
  | 938 | 940 | public function ajax\_search() { |
  |  | 941 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_text\_search\_nonce'), 'text\_search\_nonce')) { |
  |  | 942 | die('Stop!'); |
  |  | 943 | } |
  | 939 | 944 | if (WOOF\_REQUEST::isset('link')) { |
  | 940 | 945 | $link = parse\_url(WOOF\_REQUEST::get('link'), PHP\_URL\_QUERY); |
* ## [woocommerce-products-filter/trunk/ext/by\_text/views/shortcodes/woof\_text\_filter.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3020561#L14 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3045600#L14 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | $request = woof()->get\_request\_data(); |
  | 15 | 15 |  |
  | 16 |  | if (isset($request['woof\_text'])) { |
  |  | 16 | if (isset($request['woof\_text'])) { |
  | 17 | 17 | $woof\_text = stripslashes($request['woof\_text']); |
  |  | 18 | $woof\_text = str\_replace('&amp;', '&', $woof\_text); |
  | 18 | 19 | } |
  | 19 | 20 | ?> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3020561#L34) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3045600#L35) |  |
  | 34 | 35 | <span class="woof\_text\_notes\_for\_customer"><?php echo stripcslashes(wp\_kses\_post(wp\_unslash($data['notes\_for\_customer']))); ?></span> |
  | 35 | 36 | <?php endif; ?> |
  | 36 |  | </div> |
  |  | 37 | <input type="hidden" class="woof\_text\_search\_nonce" value="<?php echo wp\_create\_nonce('text\_search\_nonce')?>"> |
  |  | 38 | </div> |
  | 37 | 39 | </div> |
* ## [woocommerce-products-filter/trunk/ext/by\_text\_2/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/by_text_2/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/by_text_2/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text_2/index.php?rev=3020561#L470 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text_2/index.php?rev=3045600#L470 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 470 | 470 | //ajax |
  | 471 | 471 | public function woof\_text\_autocomplete() { |
  |  | 472 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_text\_search\_nonce'), 'text\_search\_nonce')) { |
  |  | 473 | die('Stop!'); |
  |  | 474 | } |
  | 472 | 475 | $results = array(); |
  | 473 | 476 | $args = array( |
* ## [woocommerce-products-filter/trunk/ext/by\_text\_2/js/by\_text\_2.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js?rev=3020561#L67 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js?rev=3045600#L67 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 67 | 67 | //http://easyautocomplete.com/examples |
  | 68 | 68 | var input\_id = jQuery(\_this).attr('id'); |
  |  | 69 | var nonce = jQuery('.woof\_text\_search\_nonce').val(); |
  | 69 | 70 | var options = { |
  | 70 | 71 | url: function (phrase) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js?rev=3020561#L82) | […](/browser/woocommerce-products-filter/trunk/ext/by_text_2/js/by_text_2.js?rev=3045600#L83) |  |
  | 82 | 83 | data: { |
  | 83 | 84 | action: "woof\_text\_autocomplete", |
  | 84 |  | dataType: "json" |
  |  | 85 | dataType: "json", |
  |  | 86 | woof\_text\_search\_nonce: nonce |
  | 85 | 87 | } |
  | 86 | 88 | }, |
* ## [woocommerce-products-filter/trunk/ext/by\_text\_2/views/shortcodes/woof\_text\_filter.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3020561#L39 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3045600#L39 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 39 | 39 | <?php if (isset(woof()->settings['by\_text\_2']['notes\_for\_customer']) AND!empty(woof()->settings['by\_text\_2']['notes\_for\_customer'])): ?> |
  | 40 | 40 | <span class="woof\_text\_notes\_for\_customer"><?php echo stripcslashes(wp\_kses\_post(wp\_unslash(woof()->settings['by\_text\_2']['notes\_for\_customer']))); ?></span> |
  | 41 |  | <?php endif; ?> |
  |  | 41 | <?php endif; ?> |
  |  | 42 | <input type="hidden" class="woof\_text\_search\_nonce" value="<?php echo wp\_create\_nonce('text\_search\_nonce')?>"> |
  | 42 | 43 | </div> |
  | 43 | 44 |  |
* ## [woocommerce-products-filter/trunk/ext/export\_import/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/export_import/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/export_import/index.php")

  | [r2841299](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=2841299#L70 "Show revision 2841299 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=3045600#L70 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 |  |
  | 71 | 71 | public function get\_export\_data() { |
  |  | 72 | if (!current\_user\_can('manage\_woocommerce') ) { |
  |  | 73 | return; |
  |  | 74 | } |
  | 72 | 75 | if (!wp\_verify\_nonce($\_REQUEST['\_nonce'], 'woof\_export\_settings')) { |
  | 73 | 76 | die(json\_encode(array())); |
  | […](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=2841299#L78) | […](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=3045600#L81) |  |
  | 78 | 81 |  |
  | 79 | 82 | public function do\_import\_data() { |
  | 80 |  |  |
  |  | 83 | if (!current\_user\_can('manage\_woocommerce') ) { |
  |  | 84 | return; |
  |  | 85 | } |
  | 81 | 86 | if (!isset($\_POST['import\_value'])) { |
  | 82 | 87 | die(esc\_html\_\_("Error! No data", 'woocommerce-products-filter')); |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/classes/additional.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/classes/additional.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/classes/additional.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/additional.php?rev=3020561#L31 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/additional.php?rev=3045600#L31 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 |  |
  | 32 | 32 | public function update() { |
  | 33 |  |  |
  |  | 33 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 34 | return false; |
  |  | 35 | } |
  | 34 | 36 | if (!$this->is\_admin) { |
  | 35 | 37 | return false; |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/classes/options-layout.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3020561#L24 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3045600#L24 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | public function init() { |
  | 25 | 25 | add\_action('wp\_ajax\_woof\_form\_builder\_get\_layout\_options', function () { |
  |  | 26 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 27 | return false; |
  |  | 28 | } |
  | 26 | 29 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name'])))); |
  | 27 | 30 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3020561#L30) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3045600#L33) |  |
  | 30 | 33 | if ($this->demo) { |
  | 31 | 34 | add\_action('wp\_ajax\_nopriv\_woof\_form\_builder\_get\_layout\_options', function () { |
  |  | 35 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 36 | return false; |
  |  | 37 | } |
  | 32 | 38 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name'])))); |
  | 33 | 39 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3020561#L37) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-layout.php?rev=3045600#L43) |  |
  | 37 | 43 |  |
  | 38 | 44 | public function save\_options() { |
  | 39 |  |  |
  |  | 45 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 46 | return false; |
  |  | 47 | } |
  | 40 | 48 | if (!$this->is\_admin) { |
  | 41 | 49 | return false; |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/classes/options-sections-layout.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3020561#L24 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3045600#L24 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | public function init() { |
  | 25 | 25 | add\_action('wp\_ajax\_woof\_form\_builder\_get\_section\_layout\_options', function () { |
  |  | 26 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 27 | return false; |
  |  | 28 | } |
  | 26 | 29 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name']), esc\_html($\_REQUEST['section\_key'])))); |
  | 27 | 30 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3020561#L30) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3045600#L33) |  |
  | 30 | 33 | if ($this->demo) { |
  | 31 | 34 | add\_action('wp\_ajax\_nopriv\_woof\_form\_builder\_get\_section\_layout\_options', function () { |
  |  | 35 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 36 | return false; |
  |  | 37 | } |
  | 32 | 38 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name']), esc\_html($\_REQUEST['section\_key'])))); |
  | 33 | 39 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3020561#L50) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections-layout.php?rev=3045600#L56) |  |
  | 50 | 56 |  |
  | 51 | 57 | public function save\_options() { |
  | 52 |  |  |
  |  | 58 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 59 | return false; |
  |  | 60 | } |
  | 53 | 61 | if (!$this->is\_admin) { |
  | 54 | 62 | return false; |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/classes/options-sections.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3020561#L24 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3045600#L24 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | public function init() { |
  | 25 | 25 | add\_action('wp\_ajax\_woof\_form\_builder\_get\_section\_options', function () { |
  |  | 26 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 27 | return false; |
  |  | 28 | } |
  | 26 | 29 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name']), esc\_html($\_REQUEST['section\_key'])))); |
  | 27 | 30 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3020561#L30) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3045600#L33) |  |
  | 30 | 33 | if ($this->demo) { |
  | 31 | 34 | add\_action('wp\_ajax\_nopriv\_woof\_form\_builder\_get\_section\_options', function () { |
  |  | 35 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 36 | return false; |
  |  | 37 | } |
  | 32 | 38 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name']), esc\_html($\_REQUEST['section\_key'])))); |
  | 33 | 39 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3020561#L53) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options-sections.php?rev=3045600#L59) |  |
  | 53 | 59 | return false; |
  | 54 | 60 | } |
  | 55 |  |  |
  |  | 61 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 62 | return false; |
  |  | 63 | } |
  | 56 | 64 | $name = esc\_html($\_REQUEST['name']); |
  | 57 | 65 | $section\_key = esc\_html($\_REQUEST['section\_key']); |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/classes/options.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/classes/options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3020561#L24 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3045600#L24 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | public function init() { |
  | 25 | 25 | add\_action('wp\_ajax\_woof\_form\_builder\_get\_options', function () { |
  |  | 26 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 27 | return false; |
  |  | 28 | } |
  | 26 | 29 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name'])))); |
  | 27 | 30 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3020561#L30) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3045600#L33) |  |
  | 30 | 33 | if ($this->demo) { |
  | 31 | 34 | add\_action('wp\_ajax\_nopriv\_woof\_form\_builder\_get\_options', function () { |
  |  | 35 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 36 | return false; |
  |  | 37 | } |
  | 32 | 38 | die(json\_encode($this->get\_options(esc\_html($\_REQUEST['name'])))); |
  | 33 | 39 | }); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3020561#L41) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/options.php?rev=3045600#L47) |  |
  | 41 | 47 | return false; |
  | 42 | 48 | } |
  | 43 |  |  |
  |  | 49 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 50 | return false; |
  |  | 51 | } |
  | 44 | 52 | $name = esc\_html($\_REQUEST['name']); |
  | 45 | 53 | $field = esc\_html($\_REQUEST['field']); |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/classes/viewtypes.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/classes/viewtypes.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/classes/viewtypes.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/viewtypes.php?rev=3020561#L31 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/classes/viewtypes.php?rev=3045600#L31 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 |  |
  | 32 | 32 | public function update() { |
  | 33 |  |  |
  |  | 33 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 34 | return false; |
  |  | 35 | } |
  | 34 | 36 | if (!$this->is\_admin) { |
  | 35 | 37 | return false; |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L539 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L539 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 539 | 539 | return esc\_html\_\_('Unique name should be set for shortcode [woof\_front\_builder]', 'woocommerce-products-filter'); |
  | 540 | 540 | } |
  | 541 |  |  |
  |  | 541 | $atts = wc\_clean($atts); |
  | 542 | 542 | $name = esc\_html($atts['name']); |
  | 543 | 543 | if ($this->demo) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L601) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L601) |  |
  | 601 | 601 |  |
  | 602 | 602 | private function get\_data($name) { |
  | 603 |  | $data = $this->db->get\_row("SELECT \* FROM {$this->table} WHERE name='{$name}'", ARRAY\_A); |
  |  | 603 | $sql = $this->db->prepare("SELECT \* FROM {$this->table} WHERE name=%s ", $name); |
  |  | 604 | $data = $this->db->get\_row($sql, ARRAY\_A); |
  | 604 | 605 | if (empty($data)) { |
  | 605 | 606 | //create if not exists |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L625) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L626) |  |
  | 625 | 626 | return $data; |
  | 626 | 627 | } |
  | 627 |  |  |
  |  | 628 |  |
  | 628 | 629 | private function create($name) { |
  | 629 | 630 | $data = [ |
  | 630 |  | 'name' => esc\_~~htm~~l($name), |
  |  | 631 | 'name' => esc\_sql($name), |
  | 631 | 632 | 'selected' => 'by\_text,by\_instock,by\_onsales,by\_price', |
  | 632 | 633 | 'sections\_options' => '{"by\_price":{"show\_text\_input":"0"}}', |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L642) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L643) |  |
  | 642 | 643 | //ajax |
  | 643 | 644 | public function get\_items() { |
  | 644 |  |  |
  |  | 645 |  |
  |  | 646 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 647 | return false; |
  |  | 648 | } |
  | 645 | 649 | if (!$this->is\_admin()) { |
  | 646 | 650 | return false; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L729) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L733) |  |
  | 729 | 733 | //ajax |
  | 730 | 734 | public function set\_sd() { |
  |  | 735 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 736 | return false; |
  |  | 737 | } |
  | 731 | 738 | $key = esc\_html($\_REQUEST['key']); |
  | 732 | 739 | $sd = WOOF\_EXT::$includes['applications']['sd']; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L751) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L758) |  |
  | 751 | 758 |  |
  | 752 | 759 | public function save\_items() { |
  | 753 |  |  |
  |  | 760 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_front\_builder\_nonce'), 'front\_builder\_nonce')) { |
  |  | 761 | return false; |
  |  | 762 | } |
  | 754 | 763 | if (!$this->is\_admin()) { |
  | 755 | 764 | return false; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3020561#L759) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3045600#L768) |  |
  | 759 | 768 | $fields = esc\_html($\_REQUEST['fields']); |
  | 760 | 769 |  |
  | 761 |  | $this->db->update($this->table, array('selected' => $fields), array('name' => ~~$name~~)); |
  |  | 770 | $this->db->update($this->table, array('selected' => $fields), array('name' => esc\_sql($name) )); |
  | 762 | 771 | } |
  | 763 | 772 | public function get\_alias\_by\_id($id) { |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/js/builder/builder.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3020561#L65 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3045600#L65 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 65 | 65 |  |
  | 66 | 66 | this.fetch\_controller = new AbortController(); |
  | 67 |  |  |
  |  | 67 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 68 | 68 | this.fetch\_timer\_flag = setTimeout(() => { |
  |  | 69 |  |
  | 69 | 70 | Helper.ajax('woof\_front\_builder\_update\_additional', { |
  | 70 | 71 | name: this.name, |
  | 71 | 72 | popup\_width: e.detail.width, |
  | 72 |  | popup\_height: e.detail.height |
  |  | 73 | popup\_height: e.detail.height, |
  |  | 74 | woof\_front\_builder\_nonce: \_nonce |
  | 73 | 75 | }, content => { |
  | 74 | 76 | //+++ |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3020561#L86) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3045600#L88) |  |
  | 86 | 88 | fill\_popup() { |
  | 87 | 89 | if (!this.data) { |
  |  | 90 |  |
  |  | 91 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 88 | 92 | Helper.ajax('woof\_form\_builder\_get\_items', { |
  | 89 |  | name: this.name |
  |  | 93 | name: this.name, |
  |  | 94 | woof\_front\_builder\_nonce: \_nonce |
  | 90 | 95 | }, data => { |
  | 91 | 96 | this.data = data; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3020561#L174) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3045600#L179) |  |
  | 174 | 179 | shortcode: 'woof\_nothing', //we do not need get any products, search form data only |
  | 175 | 180 | woof\_shortcode: shortcode, |
  | 176 |  | woof\_form\_builder: 1 |
  |  | 181 | woof\_form\_builder: 1, |
  |  | 182 | nonce\_filter: woof\_front\_nonce |
  | 177 | 183 | }; |
  | 178 | 184 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3020561#L217) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/builder.js?rev=3045600#L223) |  |
  | 217 | 223 |  |
  | 218 | 224 | //+++ |
  | 219 |  |  |
  |  | 225 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 220 | 226 | //save selected fields into DB |
  | 221 | 227 | Helper.ajax('woof\_front\_builder\_save', { |
  | 222 | 228 | name: this.name, |
  | 223 |  | fields: ordered\_items |
  |  | 229 | fields: ordered\_items, |
  |  | 230 | woof\_front\_builder\_nonce: \_nonce |
  | 224 | 231 | }, null, true, null, this.fetch\_controller.signal); |
  | 225 | 232 |  |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/js/builder/list.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3020561#L82 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3045600#L82 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 82 | 82 | return; |
  | 83 | 83 | } |
  | 84 |  |  |
  |  | 84 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 85 | 85 | let select = Helper.create\_element('select'); |
  | 86 | 86 | select.className = 'woof-front-builder-type-selector'; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3020561#L111) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3045600#L111) |  |
  | 111 | 111 |  |
  | 112 | 112 | select.addEventListener('change', e => { |
  |  | 113 |  |
  | 113 | 114 | e.stopPropagation(); |
  | 114 | 115 | Helper.ajax('woof\_form\_builder\_update\_viewtype', { |
  | 115 | 116 | key: tax\_key, |
  | 116 | 117 | value: select.value, |
  | 117 |  | name: this.builder.name |
  |  | 118 | name: this.builder.name, |
  |  | 119 | woof\_front\_builder\_nonce: \_nonce |
  | 118 | 120 | }, data => { |
  | 119 | 121 | this.builder.data[tax\_key].viewtype = select.value; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3020561#L217) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3045600#L219) |  |
  | 217 | 219 | callback: e => { |
  | 218 | 220 | e.preventDefault(); |
  | 219 |  |  |
  |  | 221 |  |
  | 220 | 222 | if (this.is\_sd(li)) { |
  | 221 | 223 | this.init\_sd\_iframe(key, li); |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3020561#L233) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/list.js?rev=3045600#L235) |  |
  | 233 | 235 | } |
  | 234 | 236 | } |
  | 235 |  |  |
  |  | 237 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  |  | 238 |  |
  | 236 | 239 | this.builder.popup.set\_title(woof\_lang\_front\_builder\_creating + ' ...'); |
  | 237 | 240 | Helper.ajax('woof\_form\_builder\_set\_sd', { |
  | 238 | 241 | key: key, |
  | 239 |  | name: this.builder.name |
  |  | 242 | name: this.builder.name, |
  |  | 243 | woof\_front\_builder\_nonce: \_nonce |
  | 240 | 244 | }, responce => { |
  | 241 | 245 | this.viewtypes[`woof\_sd\_${responce.sd\_id}`] = responce.title; |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/js/builder/options.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3020561#L8 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3045600#L8 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | this.unformatted\_data = null; |
  | 9 | 9 | this.call\_id = Helper.generate\_key('op-');//to get events for current object only |
  | 10 |  |  |
  |  | 10 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 11 | 11 | //load current shortcode options |
  | 12 | 12 | Helper.ajax('woof\_form\_builder\_get\_options', { |
  | 13 |  | name: this.builder.name |
  |  | 13 | name: this.builder.name, |
  |  | 14 | woof\_front\_builder\_nonce: \_nonce |
  | 14 | 15 | }, data => this.unformatted\_data = data); |
  | 15 | 16 |  |
  | 16 | 17 | Helper.ajax('woof\_form\_builder\_get\_layout\_options', { |
  | 17 |  | name: this.builder.name |
  |  | 18 | name: this.builder.name, |
  |  | 19 | woof\_front\_builder\_nonce: \_nonce |
  | 18 | 20 | }, data => this.unformatted\_layout\_data = data); |
  | 19 | 21 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3020561#L31) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3045600#L33) |  |
  | 31 | 33 | name: this.builder.name, |
  | 32 | 34 | field: e.detail.field, |
  | 33 |  | value: e.detail.value |
  |  | 35 | value: e.detail.value, |
  |  | 36 | woof\_front\_builder\_nonce: \_nonce |
  | 34 | 37 | }, data => this.builder.redraw\_filter()); |
  | 35 | 38 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3020561#L57) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/options.js?rev=3045600#L60) |  |
  | 57 | 60 | name: this.builder.name, |
  | 58 | 61 | field: e.detail.field, |
  | 59 |  | value: this.format\_layout\_val(e.detail.value, e.detail.field) |
  |  | 62 | value: this.format\_layout\_val(e.detail.value, e.detail.field), |
  |  | 63 | woof\_front\_builder\_nonce: \_nonce |
  | 60 | 64 | }, data => { |
  | 61 | 65 | //fix for icheck |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/js/builder/section-options.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3020561#L9 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600#L9 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 | this.call\_id = Helper.generate\_key('op-');//to get events for current object only |
  | 10 | 10 | this.draw(); |
  | 11 |  |  |
  |  | 11 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 12 | 12 | //+++ |
  | 13 | 13 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3020561#L19) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600#L19) |  |
  | 19 | 19 | section\_key: this.section\_key, |
  | 20 | 20 | field: e.detail.field, |
  | 21 |  | value: e.detail.value |
  |  | 21 | value: e.detail.value, |
  |  | 22 | woof\_front\_builder\_nonce: \_nonce |
  | 22 | 23 | }, data => this.builder.redraw\_filter()); |
  | 23 | 24 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3020561#L27) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600#L28) |  |
  | 27 | 28 | document.addEventListener('woof\_front\_builder\_save\_section\_layout\_option', e => { |
  | 28 | 29 | if (e.detail.call\_id === this.call\_id) { |
  |  | 30 |  |
  | 29 | 31 | let value = e.detail.value; |
  | 30 | 32 | let field = e.detail.field; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3020561#L57) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600#L59) |  |
  | 57 | 59 | section\_key: this.section\_key, |
  | 58 | 60 | field: field, |
  | 59 |  | value: value |
  |  | 61 | value: value, |
  |  | 62 | woof\_front\_builder\_nonce: \_nonce |
  | 60 | 63 | }, data => this.builder.redraw\_filter()); |
  | 61 | 64 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3020561#L86) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600#L89) |  |
  | 86 | 89 | //tab 1 |
  | 87 | 90 | draw\_tab\_options() { |
  |  | 91 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 88 | 92 | Helper.ajax('woof\_form\_builder\_get\_section\_options', { |
  | 89 | 93 | name: this.builder.name, |
  | 90 |  | section\_key: this.section\_key |
  |  | 94 | section\_key: this.section\_key, |
  |  | 95 | woof\_front\_builder\_nonce: \_nonce |
  | 91 | 96 | }, data => { |
  | 92 | 97 | let formated\_data = { |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3020561#L152) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/js/builder/section-options.js?rev=3045600#L157) |  |
  | 152 | 157 | //tab 2 |
  | 153 | 158 | draw\_tab\_layout\_options() { |
  |  | 159 | let \_nonce = document.querySelector('.woof\_front\_builder\_nonce').value |
  | 154 | 160 | Helper.ajax('woof\_form\_builder\_get\_section\_layout\_options', { |
  | 155 | 161 | name: this.builder.name, |
  | 156 |  | section\_key: this.section\_key |
  |  | 162 | section\_key: this.section\_key, |
  |  | 163 | woof\_front\_builder\_nonce: \_nonce |
  | 157 | 164 | }, data => { |
  | 158 | 165 | this.layout\_data = data; |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/views/shortcodes/woof\_front\_builder.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3020561#L57 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3045600#L57 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 57 | 57 | echo do\_shortcode("[woof id='{$shortcode\_id}' filter\_id={$id} name='{$name}' swoof\_slug='{$swoof\_slug}' {$attributes\_string} viewtypes='{$viewtypes}' tax\_only='{$tax\_only}' by\_only='{$by\_only}']"); |
  | 58 | 58 | } |
  | 59 |  | ?> |
  |  | 59 | ?> |
  |  | 60 |  |
  | 60 | 61 | </div> |
  |  | 62 | <input type="hidden" class="woof\_front\_builder\_nonce" value="<?php echo wp\_create\_nonce('front\_builder\_nonce')?>"> |
  | 61 | 63 | <style type="text/css" id="<?php echo $shortcode\_id ?>-styles"> |
  | 62 | 64 | /\* styles for the current HUSKY products filter form \*/ |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/products_messenger/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/products_messenger/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3020561#L241 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3045600#L241 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 241 | 241 |  |
  | 242 | 242 | public function woof\_add\_subscr() { |
  |  | 243 |  |
  |  | 244 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_product\_messenger\_nonce'), 'product\_messenger\_nonce')) { |
  |  | 245 | return false; |
  |  | 246 | } |
  | 243 | 247 | global $WOOF, $wpdb, $wp\_query; |
  | 244 | 248 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3020561#L309) | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3045600#L313) |  |
  | 309 | 313 |  |
  | 310 | 314 | public function woof\_remove\_subscr() { |
  |  | 315 |  |
  |  | 316 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_product\_messenger\_nonce'), 'product\_messenger\_nonce')) { |
  |  | 317 | return false; |
  |  | 318 | } |
  | 311 | 319 | if (!isset($\_POST['key']) OR !isset($\_POST['user\_id'])) { |
  | 312 | 320 | die('No data!'); |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/js/products\_messenger.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3020561#L7 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3045600#L7 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | woof\_messenger\_init++; |
  | 8 | 8 | jQuery('#woof\_add\_subscr').attr('data-href', location.href); |
  |  | 9 | let \_nonce = ''; |
  | 9 | 10 |  |
  |  | 11 | if (document.querySelector('.woof\_product\_messenger\_nonce')) { |
  |  | 12 | \_nonce = document.querySelector('.woof\_product\_messenger\_nonce').value; |
  |  | 13 | } |
  | 10 | 14 | jQuery('body').on('click', '#woof\_add\_subscr', function () { |
  | 11 | 15 | var data = { |
  | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3020561#L13) | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3045600#L17) |  |
  | 13 | 17 | user\_id: jQuery(this).attr('data-user'), |
  | 14 | 18 | get\_var: woof\_current\_values, |
  | 15 |  | link: location.href |
  |  | 19 | link: location.href, |
  |  | 20 | woof\_product\_messenger\_nonce: \_nonce |
  | 16 | 21 | }; |
  | 17 | 22 | jQuery.post(woof\_ajaxurl, data, function (content) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3020561#L33) | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/js/products_messenger.js?rev=3045600#L38) |  |
  | 33 | 38 | action: "woof\_messenger\_remove\_subscr", |
  | 34 | 39 | user\_id: jQuery(this).attr('data-user'), |
  | 35 |  | key: jQuery(this).attr('data-key') |
  |  | 40 | key: jQuery(this).attr('data-key'), |
  |  | 41 | woof\_product\_messenger\_nonce: \_nonce |
  | 36 | 42 | }; |
  | 37 | 43 |  |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/views/shortcodes/woof\_products\_messenger.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3020561#L66 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3045600#L66 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 66 | 66 | <span class="woof\_products\_messenger\_notes\_for\_customer"><?php echo stripcslashes(wp\_kses\_post(wp\_unslash(do\_shortcode($this->settings['products\_messenger']['notes\_for\_customer'])))); ?></span> |
  | 67 | 67 | <?php endif; ?> |
  |  | 68 | <input type="hidden" class="woof\_product\_messenger\_nonce" value="<?php echo wp\_create\_nonce('product\_messenger\_nonce')?>"> |
  | 68 | 69 | </div> |
  | 69 | 70 | </div> |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/views/woof.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/products_messenger/views/woof.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/products_messenger/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/woof.php?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/woof.php?rev=3045600#L13 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | $request = $wp\_query->request; |
  | 14 | 14 | } |
  |  | 15 | if (null ==  $request) { |
  |  | 16 | $request = ""; |
  |  | 17 | } |
  | 15 | 18 | woof()->storage->set\_val("woof\_pm\_request\_" . get\_current\_user\_id(), base64\_encode($request)); //Save current request |
  | 16 | 19 | } |
* ## [woocommerce-products-filter/trunk/ext/query\_save/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/query_save/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/query_save/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3020561#L84 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L84 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 84 | 84 |  |
  | 85 | 85 | public function woof\_add\_query() { |
  |  | 86 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_query\_save\_nonce'), 'query\_save\_nonce')) { |
  |  | 87 | return false; |
  |  | 88 | } |
  | 86 | 89 | global $WOOF, $wpdb, $wp\_query; |
  | 87 | 90 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3020561#L141) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L144) |  |
  | 141 | 144 | //for Ajax redraw |
  | 142 | 145 | $data['ext\_link']= $this->get\_ext\_link(); |
  |  | 146 | $data['counter'] = count($saved\_q); |
  |  | 147 |  |
  | 143 | 148 | $cont = woof()->render\_html($this->get\_ext\_path() . 'views' . DIRECTORY\_SEPARATOR . 'item\_list\_query.php', $data); |
  | 144 | 149 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3020561#L147) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L152) |  |
  | 147 | 152 |  |
  | 148 | 153 | public function woof\_remove\_query() { |
  |  | 154 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_query\_save\_nonce'), 'query\_save\_nonce')) { |
  |  | 155 | return false; |
  |  | 156 | } |
  | 149 | 157 | if (!isset($\_POST['key']) OR!isset($\_POST['user\_id'])) { |
  | 150 | 158 | die('No data!'); |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3020561#L284) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L292) |  |
  | 284 | 292 | ?> |
  | 285 | 293 | <div class="woof\_query\_save\_notice\_product woof\_query\_save\_notice\_product\_<?php echo esc\_attr($id) ?>" data-id="<?php echo esc\_attr($id) ?>" ></div> |
  | 286 |  | <?php |
  |  | 294 | <input type="hidden" class="woof\_query\_save\_notice\_nonce" value="<?php echo wp\_create\_nonce('query\_save\_nonce')?>"> |
  |  | 295 | <?php |
  | 287 | 296 | } |
  | 288 | 297 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3020561#L290) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L299) |  |
  | 290 | 299 |  |
  | 291 | 300 | public function check\_query() { |
  | 292 |  |  |
  |  | 301 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_query\_save\_nonce'), 'query\_save\_nonce')) { |
  |  | 302 | return false; |
  |  | 303 | } |
  | 293 | 304 | if (!isset($\_POST['product\_ids'])) { |
  | 294 | 305 | die(); |
* ## [woocommerce-products-filter/trunk/ext/query\_save/js/query\_save.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/query_save/js/query_save.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L7 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L7 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | woof\_save\_query\_init++; |
  | 8 | 8 | jQuery('.woof\_add\_query\_save').attr('data-href', location.href); |
  | 9 |  |  |
  |  | 9 | let \_nonce = ''; |
  |  | 10 |  |
  |  | 11 | if (document.querySelector('.woof\_query\_save\_nonce')) { |
  |  | 12 | \_nonce = document.querySelector('.woof\_query\_save\_nonce').value; |
  |  | 13 | } |
  |  | 14 |  |
  | 10 | 15 | jQuery('body').on('click', '.woof\_add\_query\_save', function () { |
  | 11 | 16 | var title = jQuery('.woof\_save\_query\_title').val(); |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L20) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L25) |  |
  | 20 | 25 | user\_id: jQuery(this).attr('data-user'), |
  | 21 | 26 | get\_var: woof\_current\_values, |
  | 22 |  | link: location.href |
  |  | 27 | link: location.href, |
  |  | 28 | woof\_query\_save\_nonce: \_nonce |
  | 23 | 29 | }; |
  | 24 | 30 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L47) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L53) |  |
  | 47 | 53 | action: "woof\_save\_query\_remove\_query", |
  | 48 | 54 | user\_id: jQuery(this).attr('data-user'), |
  | 49 |  | key: jQuery(this).attr('data-key') |
  |  | 55 | key: jQuery(this).attr('data-key'), |
  |  | 56 | woof\_query\_save\_nonce: \_nonce |
  | 50 | 57 | }; |
  | 51 | 58 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L99) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L106) |  |
  | 99 | 106 | var notice\_wraper = jQuery(".woof\_query\_save\_notice"); |
  | 100 | 107 | var notice\_wraper\_prodoct = jQuery(".woof\_query\_save\_notice\_product"); |
  | 101 |  |  |
  |  | 108 | let \_nonce = ''; |
  | 102 | 109 | if (notice\_wraper.length) { |
  |  | 110 |  |
  |  | 111 | if (document.querySelector('.woof\_query\_save\_nonce')) { |
  |  | 112 | \_nonce = document.querySelector('.woof\_query\_save\_nonce').value; |
  |  | 113 | } |
  | 103 | 114 | var data\_ids = []; |
  | 104 | 115 | jQuery.each(jQuery(notice\_wraper), function (i, item) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L110) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L121) |  |
  | 110 | 121 | action: "woof\_save\_query\_check\_query", |
  | 111 | 122 | product\_ids: data\_ids, |
  | 112 |  | type: 'woof' |
  |  | 123 | type: 'woof', |
  |  | 124 | woof\_query\_save\_nonce: \_nonce |
  | 113 | 125 | }; |
  | 114 | 126 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L126) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L138) |  |
  | 126 | 138 | } |
  | 127 | 139 | if (notice\_wraper\_prodoct.length) { |
  | 128 |  |  |
  |  | 140 | if (document.querySelector('.woof\_query\_save\_notice\_nonce')) { |
  |  | 141 | \_nonce = document.querySelector('.woof\_query\_save\_notice\_nonce').value; |
  |  | 142 | } |
  | 129 | 143 | var data\_ids = []; |
  | 130 | 144 | jQuery.each(jQuery(notice\_wraper\_prodoct), function (i, item) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3020561#L136) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/js/query_save.js?rev=3045600#L150) |  |
  | 136 | 150 | action: "woof\_save\_query\_check\_query", |
  | 137 | 151 | product\_ids: data\_ids, |
  | 138 |  | type: 'product' |
  |  | 152 | type: 'product', |
  |  | 153 | woof\_query\_save\_nonce: \_nonce |
  | 139 | 154 | }; |
  | 140 | 155 | jQuery.post(woof\_ajaxurl, data, function (content) { |
* ## [woocommerce-products-filter/trunk/ext/query\_save/views/shortcodes/woof\_save\_query.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3020561#L102 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3045600#L102 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 102 | 102 | <span class="woof\_query\_save\_notes\_for\_customer"><?php echo do\_shortcode(wp\_kses\_post(wp\_unslash($this->settings['query\_save']['notes\_for\_customer']))) ?></span> |
  | 103 | 103 | <?php endif; ?> |
  |  | 104 | <input type="hidden" class="woof\_query\_save\_nonce" value="<?php echo wp\_create\_nonce('query\_save\_nonce')?>"> |
  | 104 | 105 | </div> |
  | 105 | 106 | </div> |
* ## [woocommerce-products-filter/trunk/ext/query\_save/views/woof.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/query_save/views/woof.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/query_save/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/query_save/views/woof.php?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/query_save/views/woof.php?rev=3045600#L13 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | $request = $wp\_query->request; |
  | 14 | 14 | } |
  |  | 15 | if (null ==  $request) { |
  |  | 16 | $request = ""; |
  |  | 17 | } |
  | 15 | 18 | woof()->storage->set\_val("woof\_pm\_request\_" . get\_current\_user\_id(), base64\_encode($request)); //Save current request |
  | 16 | 19 | } |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/quick_search/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/quick_search/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3020561#L76 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L76 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 76 | 76 | add\_action('wp\_footer', array($this, 'wp\_footer'), 12); |
  | 77 | 77 | //ajax |
  | 78 |  | add\_action('wp\_ajax\_woof\_qt\_update\_file', array($this, 'create\_data\_search\_files')); |
  | 79 |  | add\_action('wp\_ajax\_nopriv\_woof\_qt\_update\_file', array($this, 'create\_data\_search\_files')); |
  |  | 78 | add\_action('wp\_ajax\_woof\_qt\_update\_file', array($this, 'ajax\_create\_data\_search\_files')); |
  |  | 79 | add\_action('wp\_ajax\_nopriv\_woof\_qt\_update\_file', array($this, 'ajax\_create\_data\_search\_files')); |
  | 80 | 80 | } |
  | 81 | 81 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3020561#L224) | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L224) |  |
  | 224 | 224 | return $schedules; |
  | 225 | 225 | } |
  | 226 |  |  |
  |  | 226 | public function ajax\_create\_data\_search\_files() { |
  |  | 227 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_quick\_search\_nonce'), 'woof-qs-nonce')) { |
  |  | 228 | return false; |
  |  | 229 | } |
  |  | 230 |  |
  |  | 231 | if (!current\_user\_can('manage\_woocommerce') ) { |
  |  | 232 | return; |
  |  | 233 | } |
  |  | 234 | $this->create\_data\_search\_files(); |
  |  | 235 | } |
  | 227 | 236 | public function create\_data\_search\_files() { |
  | 228 | 237 |  |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/js/admin.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/quick_search/js/admin.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/quick_search/js/admin.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/js/admin.js?rev=3020561#L18 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/quick_search/js/admin.js?rev=3045600#L18 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | type: 'POST', |
  | 19 | 19 | url: woof\_qs\_cretor.url, |
  | 20 |  | data: {"action": "woof\_qt\_update\_file", "nonce": woof\_qs\_cretor.nonce, "qs\_start": woof\_qs\_cretor.qs\_offset}, |
  |  | 20 | data: {"action": "woof\_qt\_update\_file", "woof\_quick\_search\_nonce": woof\_qs\_cretor.nonce, "qs\_start": woof\_qs\_cretor.qs\_offset}, |
  | 21 | 21 | complete: function () { |
  | 22 | 22 | woof\_qs\_cretor.generating = false; |
* ## [woocommerce-products-filter/trunk/ext/sections/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/sections/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/sections/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3020561#L66 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3045600#L66 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 66 | 66 |  |
  | 67 | 67 | public function get\_section\_html() { |
  |  | 68 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_sections\_nonce'), 'sections\_nonce')) { |
  |  | 69 | return false; |
  |  | 70 | } |
  | 68 | 71 | ob\_start(); |
  | 69 | 72 | $this->woof\_draw\_sctions\_item(); |
* ## [woocommerce-products-filter/trunk/ext/sections/js/admin.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/sections/js/admin.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/sections/js/admin.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/sections/js/admin.js?rev=3020561#L2 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/sections/js/admin.js?rev=3045600#L2 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | jQuery(document).ready(function () { |
  | 3 | 3 |  |
  |  | 4 | let \_nonce = document.querySelector('#woof\_sections\_nonce').value; |
  |  | 5 |  |
  | 4 | 6 | jQuery(".woof\_add\_sections").on('click', function () { |
  | 5 | 7 | var data = { |
  | 6 |  | action: "woof\_get\_section\_html" |
  |  | 8 | action: "woof\_get\_section\_html", |
  |  | 9 | woof\_sections\_nonce: \_nonce |
  | 7 | 10 | }; |
  | 8 | 11 | jQuery.post(ajaxurl, data, function (section) { |
* ## [woocommerce-products-filter/trunk/ext/sections/views/tabs\_content.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php?rev=3020561#L155 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php?rev=3045600#L155 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 155 | 155 |  |
  | 156 | 156 | </div> |
  |  | 157 | <input type="hidden" id="woof\_sections\_nonce"  value="<?php echo wp\_create\_nonce('sections\_nonce'); ?>"> |
  | 157 | 158 | </section> |
* ## [woocommerce-products-filter/trunk/ext/slideout/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/slideout/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/slideout/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3020561#L251 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3045600#L251 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 251 | 251 |  |
  | 252 | 252 | public function generate\_shortcode\_ajax() { |
  |  | 253 | if (!wp\_verify\_nonce(WOOF\_REQUEST::get('woof\_slideout\_nonce'), 'slideout\_nonce')) { |
  |  | 254 | return false; |
  |  | 255 | } |
  |  | 256 |  |
  |  | 257 | if (!current\_user\_can('manage\_woocommerce') ) { |
  |  | 258 | return; |
  |  | 259 | } |
  | 253 | 260 | $shortcode = $this->generate\_shortcode(wc\_clean($\_POST)); |
  | 254 | 261 | die($shortcode); |
* ## [woocommerce-products-filter/trunk/ext/slideout/js/admin.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/slideout/js/admin.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/slideout/js/admin.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/slideout/js/admin.js?rev=3020561#L5 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/slideout/js/admin.js?rev=3045600#L5 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | var data = {}; |
  | 6 | 6 | data.action = 'woof\_slideout\_shortcode\_gen'; |
  |  | 7 | data['woof\_slideout\_nonce'] = document.querySelector('#woof\_slideout\_nonce').value; |
  | 7 | 8 | var values = jQuery(".slideout\_value"); |
  | 8 | 9 | jQuery.each(values, function (i, item) { |
* ## [woocommerce-products-filter/trunk/ext/slideout/views/tabs\_content.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3020561#L390 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3045600#L390 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 390 | 390 |  |
  | 391 | 391 | </div> |
  |  | 392 | <input type="hidden" id="woof\_slideout\_nonce"  value="<?php echo wp\_create\_nonce('slideout\_nonce'); ?>"> |
  | 392 | 393 | </section> |
  | 393 | 394 |  |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/classes/color.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3020561#L12 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3045600#L12 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | public function \_\_construct() { |
  | 13 | 13 | add\_action('wp\_ajax\_woof\_sd\_load\_color\_terms', function () { |
  | 14 |  | $term\_id = 0; |
  | 15 |  |  |
  |  | 14 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 15 | die('0'); |
  |  | 16 | } |
  |  | 17 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 18 | die('0'); |
  |  | 19 | } |
  |  | 20 | $term\_id = 0; |
  |  | 21 |  |
  | 16 | 22 | if (isset($\_REQUEST['term\_id'])) { |
  | 17 | 23 | $term\_id = intval($\_REQUEST['term\_id']); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3020561#L23) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3045600#L29) |  |
  | 23 | 29 |  |
  | 24 | 30 | add\_action('wp\_ajax\_woof\_sd\_change\_term\_color', function () { |
  |  | 31 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 32 | die('0'); |
  |  | 33 | } |
  |  | 34 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 35 | die('0'); |
  |  | 36 | } |
  | 25 | 37 | $this->set(intval($\_REQUEST['term\_id']), esc\_html($\_REQUEST['value'])); |
  | 26 | 38 | die(json\_encode([])); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3020561#L28) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/color.php?rev=3045600#L40) |  |
  | 28 | 40 |  |
  | 29 | 41 | add\_action('wp\_ajax\_woof\_sd\_change\_term\_color\_image', function () { |
  |  | 42 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 43 | die('0'); |
  |  | 44 | } |
  |  | 45 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 46 | die('0'); |
  |  | 47 | } |
  | 30 | 48 | $this->set\_image(intval($\_REQUEST['term\_id']), esc\_html($\_REQUEST['value'])); |
  | 31 | 49 | die(json\_encode([])); |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/classes/presets.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3020561#L18 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3045600#L18 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 |  |
  | 19 | 19 | add\_action('wp\_ajax\_woof\_sd\_load\_presets', function () { |
  |  | 20 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 21 | die('0'); |
  |  | 22 | } |
  |  | 23 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 24 | die('0'); |
  |  | 25 | } |
  | 20 | 26 | echo json\_encode($this->gets(esc\_html($\_REQUEST['type']))); |
  | 21 | 27 | exit; |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3020561#L23) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3045600#L29) |  |
  | 23 | 29 |  |
  | 24 | 30 | add\_action('wp\_ajax\_woof\_sd\_create\_preset', function () { |
  |  | 31 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 32 | die('0'); |
  |  | 33 | } |
  |  | 34 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 35 | die('0'); |
  |  | 36 | } |
  | 25 | 37 | die(strval($this->create(esc\_html($\_REQUEST['title']), esc\_html($\_REQUEST['type']), intval($\_REQUEST['element\_id'])))); |
  | 26 | 38 | }); |
  | 27 | 39 |  |
  | 28 | 40 | add\_action('wp\_ajax\_woof\_sd\_apply\_preset', function () { |
  |  | 41 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 42 | die('0'); |
  |  | 43 | } |
  |  | 44 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 45 | die('0'); |
  |  | 46 | } |
  | 29 | 47 | $element\_id = intval($\_REQUEST['element\_id']); |
  | 30 | 48 | $preset = $this->get(intval($\_REQUEST['option\_id'])); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3020561#L34) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3045600#L52) |  |
  | 34 | 52 |  |
  | 35 | 53 | add\_action('wp\_ajax\_woof\_sd\_get\_preset', function () { |
  |  | 54 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 55 | die('0'); |
  |  | 56 | } |
  |  | 57 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 58 | die('0'); |
  |  | 59 | } |
  | 36 | 60 | $preset = $this->get(intval($\_REQUEST['option\_id'])); |
  | 37 | 61 | die(strval($preset)); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3020561#L39) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3045600#L63) |  |
  | 39 | 63 |  |
  | 40 | 64 | add\_action('wp\_ajax\_woof\_sd\_import\_preset', function () { |
  |  | 65 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 66 | die('0'); |
  |  | 67 | } |
  |  | 68 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 69 | die('0'); |
  |  | 70 | } |
  | 41 | 71 | $this->update(intval($\_REQUEST['option\_id']), stripcslashes($\_REQUEST['value'])); |
  | 42 | 72 | die('1'); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3020561#L44) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3045600#L74) |  |
  | 44 | 74 |  |
  | 45 | 75 | add\_action('wp\_ajax\_woof\_sd\_delete\_preset', function () { |
  |  | 76 | if (!isset($\_REQUEST['sd\_nonce']) || !wp\_verify\_nonce($\_REQUEST['sd\_nonce'], 'woof\_sd\_nonce')) { |
  |  | 77 | die('0'); |
  |  | 78 | } |
  |  | 79 | if (!current\_user\_can('manage\_woocommerce')) { |
  |  | 80 | die('0'); |
  |  | 81 | } |
  | 46 | 82 | $this->delete(intval($\_REQUEST['option\_id'])); |
  | 47 | 83 | die('1'); |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/smart_designer/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/smart_designer/index.php")

  | [r3023411](/browser/woocommerce-products-filter/trunk/ext/smart_designer/index.php?rev=3023411#L3 "Show revision 3023411 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/smart_designer/index.php?rev=3045600#L3 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | die('No direct access allowed'); |
  | 4 | 4 |  |
  | 5 |  | //18-0~~1-2024~~ |
  |  | 5 | //18-07-2023 |
  | 6 | 6 | final class WOOF\_SD extends WOOF\_EXT { |
  | 7 | 7 |  |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/js/color.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/smart_designer/js/color.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3020561#L39 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3045600#L39 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 39 | 39 |  |
  | 40 | 40 | this.fetch\_controller = new AbortController(); |
  |  | 41 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 41 | 42 |  |
  | 42 | 43 | this.fetch\_timer\_flag = setTimeout(() => { |
  | 43 | 44 | Helper.ajax(action, { |
  | 44 | 45 | term\_id: parseInt(term\_id), |
  | 45 |  | value: value |
  |  | 46 | value: value, |
  |  | 47 | sd\_nonce: nonce |
  | 46 | 48 | }, data => this.redraw\_visor\_terms(), false, null, this.fetch\_controller.signal); |
  | 47 | 49 | }, 777); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3020561#L49) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3045600#L51) |  |
  | 49 | 51 |  |
  | 50 | 52 | reload(term\_id) { |
  |  | 53 |  |
  | 51 | 54 | if (this.terms[term\_id]?.title?.value) { |
  | 52 | 55 | this.navigation.selected\_term = { |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3020561#L57) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/color.js?rev=3045600#L60) |  |
  | 57 | 60 |  |
  | 58 | 61 | this.popup.set\_content(woof\_sd.lang.loading + ' ...'); |
  | 59 |  |  |
  |  | 62 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 60 | 63 | Helper.ajax('woof\_sd\_load\_color\_terms', { |
  | 61 | 64 | term\_id: term\_id, |
  | 62 |  | taxonomy: this.panel.sd.selected\_demo\_taxonomy |
  |  | 65 | taxonomy: this.panel.sd.selected\_demo\_taxonomy, |
  |  | 66 | sd\_nonce: nonce |
  | 63 | 67 | }, data => this.draw\_table(data)); |
  | 64 | 68 | } |
  | 65 | 69 |  |
  | 66 | 70 | load() { |
  |  | 71 |  |
  |  | 72 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 67 | 73 | Helper.ajax('woof\_sd\_load\_color\_terms', { |
  | 68 |  | taxonomy: this.panel.sd.selected\_demo\_taxonomy |
  |  | 74 | taxonomy: this.panel.sd.selected\_demo\_taxonomy, |
  |  | 75 | sd\_nonce: nonce |
  | 69 | 76 | }, data => this.draw\_table(data)); |
  | 70 | 77 | } |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/js/presets.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L49 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L49 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 49 | 49 |  |
  | 50 | 50 | //+++ |
  | 51 |  |  |
  |  | 51 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 52 | 52 | Helper.ajax('woof\_sd\_load\_presets', { |
  | 53 |  | type: this.panel.sd.selected\_type |
  |  | 53 | type: this.panel.sd.selected\_type, |
  |  | 54 | sd\_nonce: nonce |
  | 54 | 55 | }, data => { |
  | 55 | 56 | if (data) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L132) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L133) |  |
  | 132 | 133 | if (title.length > 0) { |
  | 133 | 134 | this.draw\_loader(title); |
  |  | 135 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 134 | 136 | Helper.ajax('woof\_sd\_create\_preset', { |
  | 135 | 137 | title, |
  | 136 | 138 | type: this.panel.sd.selected\_type, |
  | 137 |  | element\_id: this.panel.sd.selected\_row\_id |
  |  | 139 | element\_id: this.panel.sd.selected\_row\_id, |
  |  | 140 | sd\_nonce: nonce |
  | 138 | 141 | }, id => { |
  | 139 | 142 | this.remove\_loader(); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L146) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L149) |  |
  | 146 | 149 | if (confirm(woof\_sd.lang.sure\_apply\_preset)) { |
  | 147 | 150 | Helper.message(woof\_sd.lang.loading + ' ...'); |
  |  | 151 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 148 | 152 | Helper.ajax('woof\_sd\_apply\_preset', { |
  | 149 | 153 | option\_id, |
  | 150 |  | element\_id: this.panel.sd.selected\_row\_id |
  |  | 154 | element\_id: this.panel.sd.selected\_row\_id, |
  |  | 155 | sd\_nonce: nonce |
  | 151 | 156 | }, options => { |
  | 152 | 157 | Helper.message(woof\_sd.lang.loaded); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L160) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L165) |  |
  | 160 | 165 | if (confirm(woof\_sd.lang.sure\_delete\_preset)) { |
  | 161 | 166 | li.remove(); |
  | 162 |  | Helper.ajax('woof\_sd\_delete\_preset', {option\_id}); |
  |  | 167 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  |  | 168 | Helper.ajax('woof\_sd\_delete\_preset', {option\_id, sd\_nonce: nonce}); |
  | 163 | 169 | } |
  | 164 | 170 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L168) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L174) |  |
  | 168 | 174 | let popup = new Popup23({right: 15, left: 15, top: 20, bottom: 20, title: woof\_sd.lang.preset\_code}, null, false); |
  | 169 | 175 | popup.set\_content(woof\_sd.lang.loading + ' ...'); |
  | 170 |  |  |
  |  | 176 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 171 | 177 | Helper.ajax('woof\_sd\_get\_preset', { |
  | 172 |  | option\_id |
  |  | 178 | option\_id, |
  |  | 179 | sd\_nonce: nonce |
  | 173 | 180 | }, code => { |
  | 174 | 181 | Helper.message(woof\_sd.lang.loaded); |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L184) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L191) |  |
  | 184 | 191 | let textarea = Helper.create\_element('textarea', {rows: 7, style:'margin-bottom: 9px;'}); |
  | 185 | 192 | popup.append\_content(textarea); |
  | 186 |  |  |
  |  | 193 | var nonce = document.getElementById('woof\_sd\_nonce').value; |
  | 187 | 194 | let button = Helper.create\_element('a', {href: '#', class: 'button woof-button-outline-secondary'}, woof\_sd.lang.import, { |
  | 188 | 195 | name: 'click', |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3020561#L192) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L199) |  |
  | 192 | 199 | Helper.ajax('woof\_sd\_import\_preset', { |
  | 193 | 200 | option\_id, |
  | 194 |  | value: textarea.value |
  |  | 201 | value: textarea.value, |
  |  | 202 | sd\_nonce: nonce |
  | 195 | 203 | }, data => Helper.message(woof\_sd.lang.saved)); |
  | 196 | 204 | } |
* ## [woocommerce-products-filter/trunk/ext/stat/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/stat/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/stat/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3020561#L330 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3045600#L330 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 330 | 330 | public function woof\_write\_stat() { |
  | 331 | 331 |  |
  |  | 332 | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  |  | 333 | die('0'); |
  |  | 334 | } |
  |  | 335 |  |
  | 332 | 336 | WOOF\_REQUEST::set('woof\_products\_doing', 1); |
  | 333 | 337 | $\_GET = WOOF\_REQUEST::get('woof\_products\_doing'); |
* ## [woocommerce-products-filter/trunk/ext/stat/js/stat.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/stat/js/stat.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/stat/js/stat.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/stat/js/stat.js?rev=3020561#L1 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/stat/js/stat.js?rev=3045600#L1 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | "use strict"; |
  |  | 2 |  |
  | 2 | 3 | jQuery(function ($) { |
  | 3 | 4 | //stat collection |
  | 4 | 5 | if (woof\_current\_values.hasOwnProperty(swoof\_search\_slug)) { |
  |  | 6 | var nonce = woof\_front\_nonce; |
  | 5 | 7 | var data = { |
  | 6 | 8 | action: "woof\_write\_stat", |
  | 7 |  | woof\_current\_values: woof\_current\_values |
  |  | 9 | woof\_current\_values: woof\_current\_values, |
  |  | 10 | nonce\_filter: nonce |
  | 8 | 11 | }; |
  | 9 | 12 | jQuery.post(woof\_ajaxurl, data, function () { |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/turbo_mode/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3020561#L95 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L95 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 95 | 95 |  |
  | 96 | 96 | //ajax |
  | 97 |  | add\_action('wp\_ajax\_woof\_turbo\_mode\_update\_file', array($this, 'create\_data\_search\_files')); |
  | 98 |  | add\_action('wp\_ajax\_nopriv\_woof\_turbo\_mode\_update\_file', array($this, 'create\_data\_search\_files')); |
  |  | 97 | add\_action('wp\_ajax\_woof\_turbo\_mode\_update\_file', array($this, 'ajax\_create\_data\_search\_files')); |
  |  | 98 | add\_action('wp\_ajax\_nopriv\_woof\_turbo\_mode\_update\_file', array($this, 'ajax\_create\_data\_search\_files')); |
  | 99 | 99 | } |
  | 100 | 100 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3020561#L170) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L170) |  |
  | 170 | 170 | ?> |
  | 171 | 171 | var woof\_turbo\_creating = "<?php esc\_html\_e('Creating', 'woocommerce-products-filter') ?>"; |
  | 172 |  | var woof\_turbo\_products = "<?php esc\_html\_e('Products and Variants', 'woocommerce-products-filter') ?>"; |
  |  | 172 | var woof\_turbo\_products = "<?php esc\_html\_e('Products and Variants', 'woocommerce-products-filter') ?>"; |
  |  | 173 | var woof\_turbo\_nonce = "<?php echo wp\_create\_nonce( 'woof\_turbo\_nonce' ); ?>"; |
  | 173 | 174 | <?php |
  | 174 | 175 | $txt\_js = ob\_get\_clean(); |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3020561#L184) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L185) |  |
  | 184 | 185 | woof()->render\_html\_e($this->get\_ext\_path() . 'views/tabs\_content.php', $data); |
  | 185 | 186 | } |
  | 186 |  |  |
  |  | 187 | public function ajax\_create\_data\_search\_files() { |
  |  | 188 | if (!isset($\_REQUEST['turbo\_nonce']) || !wp\_verify\_nonce($\_REQUEST['turbo\_nonce'], 'woof\_turbo\_nonce')) { |
  |  | 189 | die('0'); |
  |  | 190 | } |
  |  | 191 | $this->create\_data\_search\_files(); |
  |  | 192 | } |
  | 187 | 193 | public function create\_data\_search\_files() { |
  | 188 | 194 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3020561#L245) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L251) |  |
  | 245 | 251 | $start = -1; |
  | 246 | 252 | } |
  | 247 |  | $result = array('total' => $start); |
  | 248 |  |  |
  | 249 |  | exit(json\_encode($result)); |
  |  | 253 | $result = array( |
  |  | 254 | 'total' => $start, |
  |  | 255 | 'turbo\_nonce' => wp\_create\_nonce('woof\_turbo\_nonce') |
  |  | 256 | ); |
  |  | 257 |  |
  |  | 258 | exit(json\_encode($result)); |
  | 250 | 259 | } |
  | 251 | 260 |  |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/js/admin.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3045600#L13 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | type: 'POST', |
  | 14 | 14 | url: woof\_turbo\_mode\_creator.url, |
  | 15 |  | data: {"action": "woof\_turbo\_mode\_update\_file", "~~nonce": woof\_turbo\_mode\_creator.~~nonce, "turbo\_mode\_start": woof\_turbo\_mode\_creator.turbo\_mode\_offset}, |
  |  | 15 | data: {"action": "woof\_turbo\_mode\_update\_file", "turbo\_nonce": woof\_turbo\_nonce, "turbo\_mode\_start": woof\_turbo\_mode\_creator.turbo\_mode\_offset}, |
  | 16 | 16 | complete: function () { |
  | 17 | 17 | woof\_turbo\_mode\_creator.generating = false; |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3020561#L19) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3045600#L19) |  |
  | 19 | 19 | success: function (date) { |
  | 20 | 20 | date = JSON.parse(date); |
  |  | 21 | if (typeof date.turbo\_nonce !== 'undefined') { |
  |  | 22 | woof\_turbo\_nonce = date.turbo\_nonce; |
  |  | 23 | } |
  | 21 | 24 |  |
  | 22 | 25 | if (typeof date.total !== 'undefined') { |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3020561#L38) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3045600#L41) |  |
  | 38 | 41 | }; |
  | 39 | 42 |  |
  | 40 |  | function woof\_turbo\_mode\_create\_search\_file(~~nonce,~~ url) { |
  |  | 43 | function woof\_turbo\_mode\_create\_search\_file(url) { |
  | 41 | 44 | if (!woof\_turbo\_mode\_creator.running) { |
  | 42 | 45 | woof\_turbo\_mode\_creator.running = true; |
  | 43 | 46 | woof\_turbo\_mode\_creator.url = url; |
  | 44 |  | ~~woof\_turbo\_mode\_creator.nonce = nonce;~~ |
  | 45 | 47 | woof\_turbo\_mode\_creator.exec(); |
  | 46 | 48 | jQuery(".woof\_turbo\_mode\_product\_load img").show(); |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3020561#L100) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3045600#L102) |  |
  | 100 | 102 | jQuery(document).ready(function () { |
  | 101 | 103 | jQuery('#woof\_turbo\_mode\_update').on('click', function () { |
  | 102 |  | var turbo\_mode\_nonce = jQuery('#woof\_turbo\_mode\_update\_nonce').val(); |
  | 103 |  | woof\_turbo\_mode\_create\_search\_file(turbo\_mode\_nonce, ajaxurl); |
  |  | 104 | woof\_turbo\_mode\_create\_search\_file(ajaxurl); |
  | 104 | 105 | }); |
  | 105 | 106 | }); |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/js/turbo\_mode.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3020561#L137 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L137 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 137 | 137 | if (!item.current) { |
  | 138 | 138 | var recount=false; |
  | 139 |  | if(typeof \_this.possible\_terms.taxonomies[item.key.replace('rev\_','')] !='undefined' && \_this.possible\_terms.taxonomies[item.key.replace('rev\_','')]=="NOT IN"){ |
  |  | 139 | if( typeof item.key != 'undefined' && typeof \_this.possible\_terms.taxonomies[item.key.replace('rev\_','')] !='undefined' && \_this.possible\_terms.taxonomies[item.key.replace('rev\_','')]=="NOT IN"){ |
  | 140 | 140 | recount=true; |
  | 141 | 141 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3020561#L1606) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L1606) |  |
  | 1606 | 1606 | page: woof\_ajax\_page\_num, |
  | 1607 | 1607 | shortcode: shortcode, |
  | 1608 |  | woof\_shortcode: jQuery('div.woof').data('shortcode') |
  |  | 1608 | woof\_shortcode: jQuery('div.woof').data('shortcode'), |
  |  | 1609 | nonce\_filter: woof\_front\_nonce |
  | 1609 | 1610 | }; |
  | 1610 | 1611 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3020561#L1704) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L1705) |  |
  | 1704 | 1705 | if (!item.current) { |
  | 1705 | 1706 | var recount=false; |
  | 1706 |  | if(typeof WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')] !='undefined' && WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')]=="NOT IN"){ |
  |  | 1707 | if(typeof item.key != 'undefined' && typeof WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')] !='undefined' && WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')]=="NOT IN"){ |
  | 1707 | 1708 | recount=true; |
  | 1708 | 1709 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3020561#L1730) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L1731) |  |
  | 1730 | 1731 | //stat collection |
  | 1731 | 1732 | if (woof\_current\_values.hasOwnProperty(swoof\_search\_slug)) { |
  |  | 1733 | var nonce = woof\_front\_nonce; |
  | 1732 | 1734 | var data = { |
  | 1733 | 1735 | action: "woof\_write\_stat", |
  | 1734 |  | woof\_current\_values: woof\_current\_values |
  |  | 1736 | woof\_current\_values: woof\_current\_values, |
  |  | 1737 | nonce\_filter: nonce |
  | 1735 | 1738 | }; |
  | 1736 | 1739 | jQuery.post(woof\_ajaxurl, data, function () { |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3020561#L1768) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L1771) |  |
  | 1768 | 1771 | if (!item.current) { |
  | 1769 | 1772 | var recount=false; |
  | 1770 |  | if(typeof WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')] !='undefined' && WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')]=="NOT IN"){ |
  |  | 1773 | if(typeof item.key != 'undefined' && typeof WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')] !='undefined' && WoofTurboMode.possible\_terms.taxonomies[item.key.replace('rev\_','')]=="NOT IN"){ |
  | 1771 | 1774 | recount=true; |
  | 1772 | 1775 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3020561#L1800) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L1803) |  |
  | 1800 | 1803 | //stat collection |
  | 1801 | 1804 | if (woof\_current\_values.hasOwnProperty(swoof\_search\_slug)) { |
  |  | 1805 | var nonce = woof\_front\_nonce; |
  |  | 1806 |  |
  | 1802 | 1807 | var data = { |
  | 1803 | 1808 | action: "woof\_write\_stat", |
  | 1804 |  | woof\_current\_values: woof\_current\_values |
  |  | 1809 | woof\_current\_values: woof\_current\_values, |
  |  | 1810 | nonce\_filter: nonce |
  | 1805 | 1811 | }; |
  | 1806 | 1812 | jQuery.post(woof\_ajaxurl, data, function () { |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/views/tabs\_content.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3020561#L170 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3045600#L170 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 170 | 170 | <div class="woof-control"> |
  | 171 | 171 | <a id="woof\_turbo\_mode\_update" class="button"><span class="icon-up"></span><?php esc\_html\_e('Update now!', 'woocommerce-products-filter') ?></a> |
  | 172 |  | <input type="hidden" id="woof\_turbo\_mode\_update\_nonce"  value="<?php echo wp\_create\_nonce('woof-turbo-mode-nonce'); ?>"> |
  |  | 172 |  |
  | 173 | 173 | <span class="woof\_turbo\_mode\_product\_load"><img src="<?php echo esc\_url(WOOF\_LINK) ?>ext\turbo\_mode\img\load.gif"></span> |
  | 174 | 174 | <div class="woof\_turbo\_mode\_product\_succes"> |
* ## [woocommerce-products-filter/trunk/ext/url\_request/index.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/url_request/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/url_request/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3020561#L107 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3045600#L107 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 107 | 107 |  |
  | 108 | 108 | public function get\_seo\_rule\_html() { |
  |  | 109 | if (!isset($\_REQUEST['url\_request\_nonce']) || !wp\_verify\_nonce($\_REQUEST['url\_request\_nonce'], 'woof\_url\_request\_nonce')) { |
  |  | 110 | die('0'); |
  |  | 111 | } |
  |  | 112 | if (!current\_user\_can('manage\_woocommerce') ) { |
  |  | 113 | return; |
  |  | 114 | } |
  | 109 | 115 | ob\_start(); |
  | 110 | 116 | $url = '/{any}/'; |
* ## [woocommerce-products-filter/trunk/ext/url\_request/js/admin.js](/changeset/3045600/woocommerce-products-filter/trunk/ext/url_request/js/admin.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/url_request/js/admin.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/url_request/js/admin.js?rev=3020561#L15 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/url_request/js/admin.js?rev=3045600#L15 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 15 | 15 | var url = jQuery('.woof\_seo\_rule\_url\_add').val(); |
  | 16 | 16 | var lang = jQuery('.woof\_seo\_current\_lang').val(); |
  |  | 17 | const nonce = document.querySelector('#woof\_url\_request\_nonce').value; |
  | 17 | 18 |  |
  | 18 | 19 | var data = { |
  | 19 | 20 | action: "woof\_get\_seo\_rule\_html", |
  | 20 | 21 | url: url, |
  | 21 |  | lang: lang |
  |  | 22 | lang: lang, |
  |  | 23 | url\_request\_nonce: nonce |
  | 22 | 24 | }; |
  | 23 | 25 |  |
* ## [woocommerce-products-filter/trunk/ext/url\_request/views/tabs\_content.php](/changeset/3045600/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php?rev=3020561#L240 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php?rev=3045600#L240 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 240 | 240 |  |
  | 241 | 241 | </div> |
  | 242 |  |  |
  |  | 242 | <input id="woof\_url\_request\_nonce" type="hidden" value="<?php echo wp\_create\_nonce('woof\_url\_request\_nonce');?>"> |
  | 243 | 243 | </div> |
  | 244 | 244 | </section> |
* ## [woocommerce-products-filter/trunk/index.php](/changeset/3045600/woocommerce-products-filter/trunk/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/index.php")

  | [r3022329](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L5 "Show revision 3022329 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L5 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Description: HUSKY - WooCommerce Products Filter Professional. Flexible, easy and robust products filter for WooCommerce store site! |
  | 6 | 6 | Requires at least: WP 5.2.0 |
  | 7 |  | Tested up to: WP 6.~~4~~ |
  |  | 7 | Tested up to: WP 6.5 |
  | 8 | 8 | Author: realmag777 |
  | 9 | 9 | Author URI: https://pluginus.net/ |
  | 10 |  | Version: 1.3.5.~~1~~ |
  |  | 10 | Version: 1.3.5.2 |
  | 11 | 11 | Requires PHP: 7.3 |
  | 12 | 12 | Tags: filter,search,woocommerce,woocommerce filter,woocommerce product filter,woocommerce products filter,products filter,product filter,filter of products,filter for products,filter for woocommerce |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L15) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L15) |  |
  | 15 | 15 | Forum URI: https://pluginus.net/support/forum/woof-woocommerce-products-filter/ |
  | 16 | 16 | WC requires at least: 5.2.0 |
  | 17 |  | WC tested up to: 8.~~5~~ |
  |  | 17 | WC tested up to: 8.6 |
  | 18 | 18 | \*/ |
  | 19 | 19 |  |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L57) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L57) |  |
  | 57 | 57 | define('WOOF\_PLUGIN\_NAME', plugin\_basename(\_\_FILE\_\_)); |
  | 58 | 58 | define('WOOF\_EXT\_PATH', WOOF\_PATH . 'ext/'); |
  | 59 |  | define('WOOF\_VERSION', '1.3.5.~~1~~'); |
  |  | 59 | define('WOOF\_VERSION', '1.3.5.2'); |
  | 60 | 60 | //define('WOOF\_VERSION', uniqid('woof-')); //for dev only |
  | 61 | 61 | define('WOOF\_MIN\_WOOCOMMERCE\_VERSION', '5.2'); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L75) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L75) |  |
  | 75 | 75 | include WOOF\_PATH . 'installer/first\_settings.php'; |
  | 76 | 76 |  |
  | 77 |  | //~~16-01~~-2024 |
  |  | 77 | //05-03-2024 |
  | 78 | 78 | final class WOOF { |
  | 79 | 79 |  |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L229) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L229) |  |
  | 229 | 229 |  |
  | 230 | 230 | //add\_filter('woocommerce\_pagination\_args', array($this, 'woocommerce\_pagination\_args')); |
  | 231 |  | add\_action('wp\_ajax\_woof\_cache\_count\_data\_clear', array($this, 'cache\_count\_data\_clear')); |
  |  | 231 | add\_action('wp\_ajax\_woof\_cache\_count\_data\_clear', array($this, 'ajax\_cache\_count\_data\_clear')); |
  | 232 | 232 | add\_action('wp\_ajax\_woof\_cache\_terms\_clear', array($this, 'woof\_cache\_terms\_clear')); |
  | 233 |  | add\_action('wp\_ajax\_woof\_price\_transient\_clear', array($this, 'woof\_price\_transient\_clear')); |
  |  | 233 | add\_action('wp\_ajax\_woof\_price\_transient\_clear', array($this, 'ajax\_woof\_price\_transient\_clear')); |
  | 234 | 234 |  |
  | 235 | 235 | //\*\*\* |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L915) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L915) |  |
  | 915 | 915 | /\* dynamic js assemble vars \*/ |
  | 916 | 916 | ?> |
  |  | 917 | const woof\_front\_nonce = "<?php echo wp\_create\_nonce('woof\_front\_nonce'); ?>"; |
  | 917 | 918 | var woof\_is\_permalink =<?php echo intval((bool) $this->is\_permalink\_activated()) ?>; |
  | 918 | 919 | var woof\_shop\_page = ""; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L2629) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L2630) |  |
  | 2629 | 2630 | //shortcode, works when ajax mode only for shop/category page |
  | 2630 | 2631 | public function woof\_draw\_products() { |
  |  | 2632 |  |
  |  | 2633 | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  |  | 2634 | die('nonce error'); |
  |  | 2635 | } |
  |  | 2636 |  |
  | 2631 | 2637 | if (WOOF\_REQUEST::isset('link')) { |
  | 2632 | 2638 | $link = parse\_url(WOOF\_REQUEST::get('link'), PHP\_URL\_QUERY); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L2694) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L2700) |  |
  | 2694 | 2700 | $args = array(); |
  | 2695 | 2701 | //this for synhronizating shortcode woof\_products if its has attribute taxonomies |
  | 2696 |  |  |
  |  | 2702 | $atts = wc\_clean($atts); |
  | 2697 | 2703 | if (isset($atts['taxonomies'])) { |
  | 2698 | 2704 | $args['additional\_taxes'] = apply\_filters('woof\_set\_shortcode\_taxonomyattr\_behaviour', $atts['taxonomies']); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L2977) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L2983) |  |
  | 2977 | 2983 | //redraw search form |
  | 2978 | 2984 | public function woof\_redraw\_woof() { |
  |  | 2985 |  |
  |  | 2986 | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  |  | 2987 | die('nonce error'); |
  |  | 2988 | } |
  |  | 2989 |  |
  | 2979 | 2990 | $shortcode = sanitize\_text\_field(WOOF\_REQUEST::get('shortcode')); |
  | 2980 | 2991 | WOOF\_REQUEST::set('woof\_shortcode\_txt', $shortcode); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L3056) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L3067) |  |
  | 3056 | 3067 | return $queried\_obj; |
  | 3057 | 3068 | } |
  |  | 3069 |  |
  | 3058 | 3070 |  |
  | 3059 | 3071 | //ajax + wp\_cron |
  |  | 3072 | public function ajax\_cache\_count\_data\_clear() { |
  |  | 3073 | if (!isset($\_REQUEST['\_wpnonce\_woof']) || !wp\_verify\_nonce(WOOF\_REQUEST::get('\_wpnonce\_woof'), 'woof\_save\_option')) { |
  |  | 3074 | return; |
  |  | 3075 | } |
  |  | 3076 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  |  | 3077 | return; |
  |  | 3078 | } |
  |  | 3079 | $this->cache\_count\_data\_clear(); |
  |  | 3080 | } |
  | 3060 | 3081 | public function cache\_count\_data\_clear() { |
  | 3061 | 3082 | global $wpdb; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L3065) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L3086) |  |
  | 3065 | 3086 | //ajax only |
  | 3066 | 3087 | public function woof\_cache\_terms\_clear() { |
  |  | 3088 |  |
  |  | 3089 | if (!isset($\_REQUEST['\_wpnonce\_woof']) || !wp\_verify\_nonce(WOOF\_REQUEST::get('\_wpnonce\_woof'), 'woof\_save\_option')) { |
  |  | 3090 | return; |
  |  | 3091 | } |
  |  | 3092 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  |  | 3093 | return; |
  |  | 3094 | } |
  | 3067 | 3095 | global $wpdb; |
  | 3068 | 3096 | $res = $wpdb->get\_results("SELECT \* FROM {$wpdb->options} WHERE option\_name LIKE '\_transient\_woof\_terms\_cache\_%'"); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L3076) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L3104) |  |
  | 3076 | 3104 | //wp\_die('done'); |
  | 3077 | 3105 | } |
  | 3078 |  |  |
  |  | 3106 | public function ajax\_woof\_price\_transient\_clear() { |
  |  | 3107 | if (!isset($\_REQUEST['\_wpnonce\_woof']) || !wp\_verify\_nonce(WOOF\_REQUEST::get('\_wpnonce\_woof'), 'woof\_save\_option')) { |
  |  | 3108 | return; |
  |  | 3109 | } |
  |  | 3110 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  |  | 3111 | return; |
  |  | 3112 | } |
  |  | 3113 |  |
  |  | 3114 | $this->woof\_price\_transient\_clear(); |
  |  | 3115 | } |
  | 3079 | 3116 | public function woof\_price\_transient\_clear() { |
  | 3080 | 3117 | delete\_transient('woof\_min\_max\_prices'); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3022329#L3260) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3045600#L3297) |  |
  | 3260 | 3297 |  |
  | 3261 | 3298 | function generator\_get\_taxonomy\_terms() { |
  |  | 3299 | if (!isset($\_REQUEST['\_wpnonce\_woof']) || !wp\_verify\_nonce(WOOF\_REQUEST::get('\_wpnonce\_woof'), 'woof\_save\_option')) { |
  |  | 3300 | return; |
  |  | 3301 | } |
  |  | 3302 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  |  | 3303 | return; |
  |  | 3304 | } |
  | 3262 | 3305 | if (WOOF\_REQUEST::get('taxonomy') == null || WOOF\_REQUEST::get('taxonomy') == -1 || !WOOF\_REQUEST::get('taxonomy')) { |
  | 3263 | 3306 | wp\_send\_json(array()); |
* ## [woocommerce-products-filter/trunk/js/front.js](/changeset/3045600/woocommerce-products-filter/trunk/js/front.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/js/front.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3020561#L196 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L196 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 196 | 196 | page: 1, |
  | 197 | 197 | shortcode: 'woof\_nothing', //we do not need get any products, seacrh form data only |
  | 198 |  | woof\_shortcode: shortcode |
  |  | 198 | woof\_shortcode: shortcode, |
  |  | 199 | nonce\_filter: woof\_front\_nonce |
  | 199 | 200 | }; |
  | 200 | 201 |  |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3020561#L480) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L481) |  |
  | 480 | 481 | page: woof\_ajax\_page\_num, |
  | 481 | 482 | shortcode: jQuery('#woof\_results\_by\_ajax').data('shortcode'), |
  | 482 |  | woof\_shortcode: jQuery('div.woof').data('shortcode') |
  |  | 483 | woof\_shortcode: jQuery('div.woof').data('shortcode'), |
  |  | 484 | nonce\_filter: woof\_front\_nonce |
  | 483 | 485 | }; |
  | 484 | 486 |  |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3020561#L571) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L573) |  |
  | 571 | 573 | page: 1, |
  | 572 | 574 | shortcode: 'woof\_nothing', //we do not need get any products, seacrh form data only |
  | 573 |  | woof\_shortcode: jQuery('div.woof').eq(0).data('shortcode') |
  |  | 575 | woof\_shortcode: jQuery('div.woof').eq(0).data('shortcode'), |
  |  | 576 | nonce\_filter: woof\_front\_nonce |
  | 574 | 577 | }; |
  | 575 | 578 | jQuery.post(woof\_ajaxurl, data, function (content) { |
* ## [woocommerce-products-filter/trunk/js/front\_comprssd.js](/changeset/3045600/woocommerce-products-filter/trunk/js/front_comprssd.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/js/front_comprssd.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/js/front_comprssd.js?rev=3020561#L1 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/js/front_comprssd.js?rev=3045600#L1 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | /\*~~https://jscompress.com/  3.3.5 \*/ "use strict";var woof\_redirect="",woof\_reset\_btn\_action=!1,woof\_additional\_fields={};if(jQuery(function(){try{woof\_current\_values=JSON.parse(woof\_current\_values)}catch(o){woof\_current\_values=null}(null==woof\_current\_values||0==woof\_current\_values.length)&&(woof\_current\_values={})}),"undefined"==typeof woof\_lang\_custom)var woof\_lang\_custom={};"undefined"!=typeof woof\_ext\_filter\_titles&&(woof\_lang\_custom=Object.assign({},woof\_lang\_custom,woof\_ext\_filter\_titles)),jQuery(function(){jQuery("body").append("<div id=\"woof\_html\_buffer\" class=\"woof\_info\_popup\" style=\"display: none;\"></div>"),jQuery.extend(jQuery.fn,{within:function(e){return this.filter(function(){return jQuery(this).closest(e).length})}});let e=document.querySelectorAll(".woof[data-slug]");e.length&&e.forEach(e=>{0<e.dataset.slug.length&&(swoof\_search\_slug=e.dataset.slug)}),0<jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1),woof\_autosubmit=parseInt(jQuery(".woof").eq(0).data("autosubmit"),10),woof\_ajax\_redraw=parseInt(jQuery(".woof").eq(0).data("ajax-redraw"),10),woof\_ext\_init\_functions=JSON.parse(woof\_ext\_init\_functions),woof\_init\_native\_woo\_price\_filter(),jQuery("body").on("price\_slider\_change",function(){if(woof\_autosubmit&&!woof\_show\_price\_search\_button&&3>jQuery(".price\_slider\_wrapper").length)jQuery(".woof .widget\_price\_filter form").trigger("submit");else{var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o}}),jQuery("body").on("change",".woof\_price\_filter\_dropdown",function(){var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1]}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),woof\_recount\_text\_price\_filter(),jQuery("body").on("change",".woof\_price\_filter\_txt",function(){var e=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_from").val(),10),o=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_to").val(),10);o<e||0>e?(delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price):("undefined"!=typeof woocs\_current\_currency&&(e=Math.ceil(e/parseFloat(woocs\_current\_currency.rate)),o=Math.ceil(o/parseFloat(woocs\_current\_currency.rate))),woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o),(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),jQuery("body").on("click",".woof\_open\_hidden\_li\_btn",function(){var e=jQuery(this).data("state"),o=jQuery(this).data("type");return"closed"==e?(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").addClass("woof\_hidden\_term2"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").removeClass("woof\_hidden\_term"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("opened")):jQuery(this).html(jQuery(this).data("opened")),jQuery(this).data("state","opened")):(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").addClass("woof\_hidden\_term"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").removeClass("woof\_hidden\_term2"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("closed")):jQuery(this).text(jQuery(this).data("closed")),jQuery(this).data("state","closed")),!1}),woof\_open\_hidden\_li(),jQuery(".widget\_rating\_filter li.wc-layered-nav-rating a").on("click",function(){var e=jQuery(this).parent().hasClass("chosen"),o=woof\_parse\_url(jQuery(this).attr("href")),t=0;if(void 0!==o.query&&-1!==o.query.indexOf("min\_rating")){var i=o.query.split("min\_rating=");t=parseInt(i[1],10)}return jQuery(this).parents("ul").find("li").removeClass("chosen"),e?delete woof\_current\_values.min\_rating:(woof\_current\_values.min\_rating=t,jQuery(this).parent().addClass("chosen")),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("body").on("click",".woof\_start\_filtering\_btn",function(){var e=jQuery(this).parents(".woof").data("shortcode");jQuery(this).html(woof\_lang\_loading),jQuery(this).addClass("woof\_start\_filtering\_btn2"),jQuery(this).removeClass("woof\_start\_filtering\_btn");return jQuery.post(woof\_ajaxurl,{action:"woof\_draw\_products",page:1,shortcode:"woof\_nothing",woof\_shortcode:e},function(e){e=JSON.parse(e),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(e.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_init\_tooltip()}),!1}),window.addEventListener("pageshow",function(e){var o=e.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type;o&&(woof\_hide\_info\_popup(),woof\_submit\_link\_locked=!1)});var o=window.location.href;window.onpopstate=function(){try{if(Object.keys(woof\_current\_values).length){var e=o.split("?"),t="";null!=e[1]&&(t=e[1].split("#"));var i=window.location.href,a=i.split("?");if(null==a[1])var r={0:"",1:""};else var r=a[1].split("#");return r[0]!=t[0]&&(woof\_show\_info\_popup(woof\_lang\_loading),window.location.reload()),!1}}catch(o){console.log(o)}},woof\_init\_ion\_sliders(),woof\_init\_show\_auto\_form(),woof\_init\_hide\_auto\_form(),woof\_remove\_empty\_elements(),woof\_init\_search\_form(),woof\_init\_pagination(),woof\_init\_orderby(),woof\_init\_reset\_button(),woof\_init\_beauty\_scroll(),woof\_draw\_products\_top\_panel(),woof\_shortcode\_observer(),woof\_init\_tooltip(),woof\_init\_mobile\_filter(),woof\_is\_ajax||woof\_redirect\_init(),woof\_init\_toggles()});function woof\_redirect\_init(){try{if(jQuery(".woof").length&&void 0!==jQuery(".woof").val())return woof\_redirect=jQuery(".woof").eq(0).data("redirect"),0<woof\_redirect.length&&(woof\_shop\_page=woof\_current\_page\_link=woof\_redirect),woof\_redirect}catch(o){console.log(o)}}function woof\_init\_orderby(){jQuery("body").on("submit","form.woocommerce-ordering",function(){if(!jQuery("#is\_woo\_shortcode").length)return!1}),jQuery("body").on("change","form.woocommerce-ordering select.orderby",function(){if(!jQuery("#is\_woo\_shortcode").length)return woof\_current\_values.orderby=jQuery(this).val(),woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_reset\_button(){jQuery("body").on("click",".woof\_reset\_search\_form",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1})}function woof\_init\_pagination(){1===woof\_is\_ajax&&jQuery("body").on("click",".woocommerce-pagination a.page-numbers",function(){var e=jQuery(this).attr("href");if(woof\_ajax\_first\_done){var o=e.split("paged=");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}else{var o=e.split("page/");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}return woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_search\_form(){woof\_init\_checkboxes(),woof\_init\_mselects(),woof\_init\_radios(),woof\_price\_filter\_radio\_init(),woof\_init\_selects(),null!==woof\_ext\_init\_functions&&jQuery.each(woof\_ext\_init\_functions,function(type,func){eval(func+"()")}),jQuery(".woof\_submit\_search\_form").on("click",function(){return woof\_ajax\_redraw&&(woof\_ajax\_redraw=0,woof\_is\_ajax=0),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("ul.woof\_childs\_list").parent("li").addClass("woof\_childs\_list\_li"),woof\_remove\_class\_widget(),woof\_checkboxes\_slide(),document.dispatchEvent(new CustomEvent("woof\_init\_search\_form",{detail:{}}))}var woof\_submit\_link\_locked=!1;function woof\_submit\_link(e,o){if(!woof\_submit\_link\_locked){if("undefined"!=typeof WoofTurboMode)return void WoofTurboMode.woof\_submit\_link(e);if("undefined"==typeof o&&(o=woof\_ajax\_redraw),woof\_submit\_link\_locked=!0,woof\_show\_info\_popup(woof\_lang\_loading),1===woof\_is\_ajax&&!o){woof\_ajax\_first\_done=!0;var t={action:"woof\_draw\_products",link:e,page:woof\_ajax\_page\_num,shortcode:jQuery("#woof\_results\_by\_ajax").data("shortcode"),woof\_shortcode:jQuery("div.woof").data("shortcode")};jQuery.post(woof\_ajaxurl,t,function(o){if(o=JSON.parse(o),woof\_before\_ajax\_form\_redrawing(),!jQuery(".woof\_results\_by\_ajax\_shortcode").length)"undefined"!=typeof o.products&&jQuery(".woof\_shortcode\_output").replaceWith(o.products);else if("undefined"!=typeof o.products){jQuery("#woof\_results\_by\_ajax").replaceWith(o.products);var t=jQuery(".woof\_found\_count");if(jQuery(t).show(),0<t.length){var i=jQuery("#woof\_results\_by\_ajax").data("count");"undefined"!=typeof i&&jQuery(t).text(i)}}"undefined"!=typeof o.additional\_fields&&(jQuery.each(o.additional\_fields,function(e,o){"undefined"==typeof woof\_additional\_fields[e]&&(woof\_additional\_fields[e]=jQuery(e)),jQuery(e).replaceWith(o)}),jQuery.each(woof\_additional\_fields,function(e,t){"undefined"==typeof o.additional\_fields[e]&&jQuery(e).replaceWith(t)})),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_draw\_products\_top\_panel(),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,jQuery.each(jQuery("#woof\_results\_by\_ajax"),function(e,o){0==e||jQuery(o).removeAttr("id")}),jQuery(".woof").removeClass("woof\_show\_filter\_for\_mobile"),woof\_infinite(),woof\_js\_after\_ajax\_done(),woof\_change\_link\_addtocart(),woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else if(o){var t={action:"woof\_draw\_products",link:e,page:1,shortcode:"woof\_nothing",woof\_shortcode:jQuery("div.woof").eq(0).data("shortcode")~~};jQuery.post(woof\_ajaxurl,t,function(o){woof\_before\_ajax\_form\_redrawing(),o=JSON.parse(o),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else window.location=e,woof\_show\_info\_popup(woof\_lang\_loading)}}function woof\_remove\_empty\_elements(){jQuery.each(jQuery(".woof\_container select"),function(e,o){var t=jQuery(o).find("option").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery("ul.woof\_list"),function(e,o){var t=jQuery(o).find("li").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery(".woof\_container .woof\_list\_sd"),function(e,o){var t=jQuery(o).find(".woof-sd-ie").length;0===t&&jQuery(o).parents(".woof\_container").remove()})}function woof\_get\_submit\_link(){if(woof\_is\_ajax&&(woof\_current\_values.page=woof\_ajax\_page\_num),0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e){e==swoof\_search\_slug&&delete woof\_current\_values[e],"s"==e&&delete woof\_current\_values[e],"product"==e&&delete woof\_current\_values[e],"really\_curr\_tax"==e&&delete woof\_current\_values[e]}),2===Object.keys(woof\_current\_values).length&&"min\_price"in woof\_current\_values&&"max\_price"in woof\_current\_values){woof\_current\_page\_link=woof\_current\_page\_link.replace(new RegExp(/page\/(\d+)/),"");var e=woof\_current\_page\_link+"?min\_price="+woof\_current\_values.min\_price+"&max\_price="+woof\_current\_values.max\_price;return woof\_is\_ajax&&history.pushState({},"",e),e}if(0===Object.keys(woof\_current\_values).length)return woof\_is\_ajax&&history.pushState({},"",woof\_current\_page\_link),woof\_current\_page\_link;0<Object.keys(woof\_really\_curr\_tax).length&&(woof\_current\_values.really\_curr\_tax=woof\_really\_curr\_tax.term\_id+"-"+woof\_really\_curr\_tax.taxonomy);var o=woof\_current\_page\_link+"?"+swoof\_search\_slug+"=1";woof\_is\_permalink||(0<woof\_redirect.length?(o=woof\_redirect+"?"+swoof\_search\_slug+"=1",woof\_current\_values.hasOwnProperty("page\_id")&&delete woof\_current\_values.page\_id):o=location.protocol+"//"+location.host+"?"+swoof\_search\_slug+"=1");var t=["path"];return 0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e,i){"page"==e&&woof\_is\_ajax&&(e="paged"),"product-page"==e||"undefined"!=typeof i&&(typeof i&&0<i.length||"number"==typeof i)&&-1==jQuery.inArray(e,t)&&(o=o+"&"+e+"="+i)}),o=o.replace(new RegExp(/page\/(\d+)/),""),woof\_is\_ajax&&history.pushState({},"",o),o}function woof\_show\_info\_popup(e){"default"==woof\_overlay\_skin?(jQuery("#woof\_html\_buffer").text(e),jQuery("#woof\_html\_buffer").fadeTo(200,.9)):"loading-balls"===woof\_overlay\_skin||"loading-bars"===woof\_overlay\_skin||"loading-bubbles"===woof\_overlay\_skin||"loading-cubes"===woof\_overlay\_skin||"loading-cylon"===woof\_overlay\_skin||"loading-spin"===woof\_overlay\_skin||"loading-spinning-bubbles"===woof\_overlay\_skin||"loading-spokes"===woof\_overlay\_skin?jQuery("body").plainOverlay("show",{progress:function(){return jQuery("<div id=\"woof\_svg\_load\_container\"><img style=\"height: 100%; width: 100%\" src=\""+woof\_link+"img/loading-master/"+woof\_overlay\_skin+".svg\" alt=\"\"></div>")}}):jQuery("body").plainOverlay("show",{duration:-1})}function woof\_hide\_info\_popup(){"default"==woof\_overlay\_skin?window.setTimeout(function(){jQuery("#woof\_html\_buffer").fadeOut(400)},200):jQuery("body").plainOverlay("hide")}function woof\_draw\_products\_top\_panel(){woof\_is\_ajax&&jQuery("#woof\_results\_by\_ajax").prev(".woof\_products\_top\_panel").remove();var e=jQuery(".woof\_products\_top\_panel");if(e.html(""),0<Object.keys(woof\_current\_values).length){e.show(),e.html("<ul></ul>"),e.find("ul").attr("class","woof\_products\_top\_panel\_ul");var o=!1;jQuery.each(woof\_current\_values,function(t,i){if((-1!=jQuery.inArray(t,woof\_accept\_array)||-1!=jQuery.inArray(t.replace("rev\_",""),woof\_accept\_array))&&!(("min\_price"==t||"max\_price"==t)&&o)){"min\_price"!=t&&"max\_price"!=t||o||(o=!0,t="price",i=woof\_lang\_pricerange);var a=!1,r=jQuery("input[data-anchor='woof\_n\_"+t+"\_all\_range']").val();if("undefined"!=typeof r&&(a=!0),i=i.toString().trim(),i.search(",")&&(i=i.split(",")),!a)jQuery.each(i,function(o,a){if("page"!=t&&"post\_type"!=t){var r=a;if("orderby"==t)r=void 0===woof\_lang[a]?woof\_lang.orderby+": "+a:woof\_lang.orderby+": "+woof\_lang[a];else if("perpage"==t)r=woof\_lang.perpage;else if("price"==t)r=woof\_lang.pricerange;else{var \_=!1;if(0<Object.keys(woof\_lang\_custom).length&&jQuery.each(woof\_lang\_custom,function(e,o){e==t&&(\_=!0,r=o,"woof\_sku"==t&&(r+=" "+a))}),!\_){try{r=jQuery("input[data-anchor='woof\_n\_"+t+"\_"+a+"']").val()}catch(o){console.log(o)}"undefined"==typeof r&&(r=a)}}if("undefined"!=typeof woof\_filter\_titles[t]){var n=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");n.length?n.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}});else if("undefined"!=typeof woof\_filter\_titles[t]){var \_=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");\_.length?\_.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}})}0!=jQuery(e).find("li").length&&jQuery(".woof\_products\_top\_panel").length?e.find("ul.woof\_products\_top\_panel\_ul").prepend(jQuery("<li>").append(jQuery("<button>").attr("class","woof\_reset\_button\_2").append(woof\_lang.clear\_all))):e.hide(),jQuery(".woof\_reset\_button\_2").on("click",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1}),jQuery(".woof\_remove\_ppi").parent().on("click",function(e){e.preventDefault();var o=jQuery(this).data("tax"),t=jQuery(this).data("slug");if("all\_range"==t)delete woof\_current\_values[o];else if("price"!=o){var i=woof\_current\_values[o];i=i.split(",");var a=[];jQuery.each(i,function(e,o){o!=t&&a.push(o)}),i=a,i.length?woof\_current\_values[o]=i.join(","):delete woof\_current\_values[o]}else delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;return woof\_ajax\_page\_num=1,woof\_reset\_btn\_action=!0,woof\_submit\_link(woof\_get\_submit\_link()),jQuery(".woof\_products\_top\_panel").find("[data-tax='"+o+"'][href='"+t+"']").hide(333),!1})}function woof\_shortcode\_observer(){var e=!0;(jQuery(".woof\_shortcode\_output").length||jQuery(".woocommerce .products").length&&!jQuery(".single-product").length)&&(e=!1),jQuery(".woocommerce .woocommerce-info").length&&(e=!1),"undefined"!=typeof woof\_not\_redirect&&1==woof\_not\_redirect&&(e=!1),jQuery(".woot-data-table").length&&(e=!1),e||(woof\_current\_page\_link=location.protocol+"//"+location.host+location.pathname),jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1)}function woof\_init\_beauty\_scroll(){if(woof\_use\_beauty\_scroll)try{jQuery(".woof\_section\_scrolled, .woof\_sid\_auto\_shortcode .woof\_container").addClass("woof\_use\_beauty\_scroll")}catch(o){console.log(o)}}function woof\_remove\_class\_widget(){jQuery(".woof\_container\_inner").find(".widget").removeClass("widget")}function woof\_init\_show\_auto\_form(){jQuery(".woof\_show\_auto\_form").off("click"),jQuery(".woof\_show\_auto\_form.woof\_btn").length&&jQuery(".woof\_btn\_default").remove(),jQuery(".woof\_show\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_hide\_auto\_form").removeClass("woof\_show\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:jQuery(e).parent().find(".woof\_auto\_show\_indent").height()+20+"px",opacity:.96},377,function(){woof\_init\_hide\_auto\_form(),jQuery(e).parent().find(".woof\_auto\_show").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show").height("auto")}),!1})}document.addEventListener("click",function(o){let e=document.querySelectorAll(".woof\_auto\_show"),t=o.target,i=!t.classList.contains("woof\_sid");return!(i&&(i=!t.closest(".woof\_sid")),!t.classList.contains("woof\_show\_auto\_form"))||(i&&0<Array.from(e).length&&Array.from(e).forEach(function(e){e.parentNode.querySelector(".woof\_hide\_auto\_form")&&e.parentNode.querySelector(".woof\_hide\_auto\_form").click()}),!0)});function woof\_init\_hide\_auto\_form(){jQuery(".woof\_hide\_auto\_form").off("click"),jQuery(".woof\_hide\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_show\_auto\_form").removeClass("woof\_hide\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:"1px",opacity:0},377,function(){jQuery(e).parent().find(".woof\_auto\_show").addClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").addClass("woof\_overflow\_hidden"),woof\_init\_show\_auto\_form()}),!1})}function woof\_checkboxes\_slide(){if(woof\_checkboxes\_slide\_flag){var e=jQuery("ul.woof\_childs\_list");e.length&&(jQuery.each(e,function(e,o){if(!jQuery(o).parents(".woof\_no\_close\_childs").length&&0!=jQuery(o).find("input").length){var t="woof\_is\_closed";if(woof\_supports\_html5\_storage()){var i=localStorage.getItem(jQuery(o).closest("li").attr("class"));if(i&&"woof\_is\_opened"==i){var t="woof\_is\_opened";jQuery(o).show()}jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}else jQuery(o).find("input[type=checkbox],input[type=radio]").is(":checked")&&(jQuery(o).show(),t="woof\_is\_opened"),jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}}),jQuery.each(jQuery("a.woof\_childs\_list\_opener span"),function(e,o){jQuery(o).on("click",function(){var e=jQuery(this),o=jQuery(this).parent(".woof\_childs\_list\_opener");if(e.hasClass("woof\_is\_closed")?(jQuery(o).parent().find("ul.woof\_childs\_list").first().show(333),e.removeClass("woof\_is\_closed"),e.addClass("woof\_is\_opened")):(jQuery(o).parent().find("ul.woof\_childs\_list").first().hide(333),e.removeClass("woof\_is\_opened"),e.addClass("woof\_is\_closed")),woof\_supports\_html5\_storage()){var t=jQuery(o).closest("li").attr("class"),i=jQuery(o).children("span").attr("class");localStorage.setItem(t,i)}return!1})}))}}function woof\_init\_ion\_sliders(){jQuery.each(jQuery(".woof\_range\_slider"),function(e,o){try{jQuery(o).ionRangeSlider({min:jQuery(o).data("min"),max:jQuery(o).data("max"),from:jQuery(o).data("min-now"),to:jQuery(o).data("max-now"),type:"double",prefix:jQuery(o).data("slider-prefix"),postfix:jQuery(o).data("slider-postfix"),prettify:!0,prettify\_separator:",",prettify\_enabled:!0,hideMinMax:!1,hideFromTo:!1,grid:!0,step:jQuery(o).data("step"),onFinish:function(e){var t=jQuery(o).data("taxes");return woof\_current\_values.min\_price=parseFloat(e.from,10)/t,woof\_current\_values.max\_price=parseFloat(e.to,10)/t,"undefined"!=typeof woocs\_current\_currency&&(woof\_current\_values.min\_price/=parseFloat(woocs\_current\_currency.rate),woof\_current\_values.max\_price/=parseFloat(woocs\_current\_currency.rate)),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(o).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link()),!1},onChange:function(e){if(jQuery(".woof\_price\_filter\_txt")){var t=jQuery(o).data("taxes");jQuery(".woof\_price\_filter\_txt\_from").val(parseInt(e.from,10)/t),jQuery(".woof\_price\_filter\_txt\_to").val(parseInt(e.to,10)/t),"undefined"!=typeof woocs\_current\_currency&&(jQuery(".woof\_price\_filter\_txt\_from").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_from").val()/parseFloat(woocs\_current\_currency.rate))),jQuery(".woof\_price\_filter\_txt\_to").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_to").val()/parseFloat(woocs\_current\_currency.rate))))}}})}catch(o){}})}function woof\_init\_native\_woo\_price\_filter(){jQuery(".widget\_price\_filter form").off("submit"),jQuery(".widget\_price\_filter form").on("submit",function(){var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();return woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o,woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_reinit\_native\_woo\_price\_filter(){if("undefined"==typeof woocommerce\_price\_slider\_params)return!1;jQuery("input#min\_price, input#max\_price").hide(),jQuery(".price\_slider, .price\_label").show();var e=jQuery(".price\_slider\_amount #min\_price").data("min"),o=jQuery(".price\_slider\_amount #max\_price").data("max"),t=parseInt(e,10),i=parseInt(o,10);woof\_current\_values.hasOwnProperty("min\_price")?(t=parseInt(woof\_current\_values.min\_price,10),i=parseInt(woof\_current\_values.max\_price,10)):(woocommerce\_price\_slider\_params.min\_price&&(t=parseInt(woocommerce\_price\_slider\_params.min\_price,10)),woocommerce\_price\_slider\_params.max\_price&&(i=parseInt(woocommerce\_price\_slider\_params.max\_price,10)));var a=woocommerce\_price\_slider\_params.currency\_symbol;"undefined"==typeof a&&(a=woocommerce\_price\_slider\_params.currency\_format\_symbol),jQuery(document.body).on("price\_slider\_create price\_slider\_slide",function(e,o,t){if("undefined"!=typeof woocs\_current\_currency){var i=o,r=t;"undefined"==typeof a&&(a=woocs\_current\_currency.symbol),1!==woocs\_current\_currency.rate&&(i=Math.ceil(i\*parseFloat(woocs\_current\_currency.rate)),r=Math.ceil(r\*parseFloat(woocs\_current\_currency.rate))),i=woof\_front\_number\_format(i,2,".",","),r=woof\_front\_number\_format(r,2,".",","),(jQuery.inArray(woocs\_current\_currency.name,woocs\_array\_no\_cents)||1==woocs\_current\_currency.hide\_cents)&&(i=i.replace(".00",""),r=r.replace(".00","")),"left"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+i),jQuery(".price\_slider\_amount span.to").html(a+r)):"left\_space"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+" "+i),jQuery(".price\_slider\_amount span.to").html(a+" "+r)):"right"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(i+a),jQuery(".price\_slider\_amount span.to").html(r+a)):"right\_space"===woocs\_current\_currency.position&&(jQuery(".price\_slider\_amount span.from").html(i+" "+a),jQuery(".price\_slider\_amount span.to").html(r+" "+a))}else"left"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+o),jQuery(".price\_slider\_amount span.to").html(a+t)):"left\_space"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+" "+o),jQuery(".price\_slider\_amount span.to").html(a+" "+t)):"right"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(o+a),jQuery(".price\_slider\_amount span.to").html(t+a)):"right\_space"===woocommerce\_price\_slider\_params.currency\_pos&&(jQuery(".price\_slider\_amount span.from").html(o+" "+a),jQuery(".price\_slider\_amount span.to").html(t+" "+a));jQuery(document.body).trigger("price\_slider\_updated",[o,t])}),jQuery(".price\_slider").slider({range:!0,animate:!0,min:e,max:o,values:[t,i],create:function(){jQuery(".price\_slider\_amount #min\_price").val(t),jQuery(".price\_slider\_amount #max\_price").val(i),jQuery(document.body).trigger("price\_slider\_create",[t,i])},slide:function(e,o){jQuery("input#min\_price").val(o.values[0]),jQuery("input#max\_price").val(o.values[1]),jQuery(document.body).trigger("price\_slider\_slide",[o.values[0],o.values[1]])},change:function(e,o){jQuery(document.body).trigger("price\_slider\_change",[o.values[0],o.values[1]])}}),woof\_init\_native\_woo\_price\_filter()}function woof\_mass\_reinit(){woof\_remove\_empty\_elements(),woof\_open\_hidden\_li(),woof\_init\_search\_form(),woof\_hide\_info\_popup(),woof\_init\_beauty\_scroll(),woof\_init\_ion\_sliders(),woof\_reinit\_native\_woo\_price\_filter(),woof\_recount\_text\_price\_filter(),woof\_draw\_products\_top\_panel()}function woof\_recount\_text\_price\_filter(){"undefined"!=typeof woocs\_current\_currency&&jQuery.each(jQuery(".woof\_price\_filter\_txt\_from, .woof\_price\_filter\_txt\_to"),function(){jQuery(this).val(Math.ceil(jQuery(this).data("value")))})}function woof\_init\_toggles(){jQuery("body").off("click",".woof\_front\_toggle"),jQuery("body").on("click",".woof\_front\_toggle",function(){"opened"==jQuery(this).data("condition")?(jQuery(this).removeClass("woof\_front\_toggle\_opened"),jQuery(this).addClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","closed"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_closed\_text):jQuery(this).find("img").prop("src",woof\_toggle\_closed\_image)):(jQuery(this).addClass("woof\_front\_toggle\_opened"),jQuery(this).removeClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","opened"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_opened\_text):jQuery(this).find("img").prop("src",woof\_toggle\_opened\_image)),jQuery(this).parents(".woof\_container\_inner").find(".woof\_block\_html\_items").slideToggle(500);var e=jQuery(this).parents(".woof\_container\_inner").find(".chosen-container");return e.length&&jQuery(this).hasClass("woof\_front\_toggle\_opened")&&(jQuery(this).parents(".woof\_container\_inner").find("select").chosen("destroy").trigger("liszt:updated"),jQuery(this).parents(".woof\_container\_inner").find("select").chosen()),jQuery(this).hasClass("woof\_front\_toggle\_opened")&&woof\_reinit\_selects(),!1})}function woof\_open\_hidden\_li(){0<jQuery(".woof\_open\_hidden\_li\_btn").length&&jQuery.each(jQuery(".woof\_open\_hidden\_li\_btn"),function(e,o){jQuery(o).parents("ul").find("li.woof\_hidden\_term input[type=checkbox],li.woof\_hidden\_term input[type=radio]").is(":checked")&&jQuery(o).trigger("click")})}function $\_woof\_GET(e,o){o=o?o:window.location.search;var t=new RegExp("&"+e+"=([^&]\*)","i");return(o=o.replace(/^\?/,"&").match(t))?o=o[1]:o=""}function woof\_parse\_url(e){var o=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]\*))?([^?#]\*)(\?([^#]\*))?(#(.\*))?/);return{scheme:o[2],authority:o[4],path:o[5],query:o[7],fragment:o[9]}}function woof\_price\_filter\_radio\_init(){if("none"!=icheck\_skin){jQuery(".woof\_price\_filter\_radio").iCheck("destroy");let e=jQuery(".woof\_price\_filter\_radio").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_price\_filter\_radio").siblings("div").removeClass("checked"),jQuery(".woof\_price\_filter\_radio").off("ifChecked"),jQuery(".woof\_price\_filter\_radio").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_price\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())})}else jQuery("body").on("change",".woof\_price\_filter\_radio",function(){var e=jQuery(this).val();if(jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())});jQuery(".woof\_radio\_price\_reset").on("click",function(){return delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).siblings("div").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_serialize(e){for(var o,t,a=decodeURI(e),r=a.split("&"),\_={},s=0,d=r.length;s<d;s++)if(o=r[s].split("="),t=o[0],t.indexOf("[]")==t.length-2){var n=t.substring(0,t.length-2);void 0===\_[n]&&(\_[n]=[]),\_[n].push(o[1])}else \_[t]=o[1];return \_}function woof\_infinite(){if("undefined"!=typeof yith\_infs){var e={nextSelector:".woocommerce-pagination li .next",navSelector:yith\_infs.navSelector,itemSelector:yith\_infs.itemSelector,contentSelector:yith\_infs.contentSelector,loader:"<img src=\""+yith\_infs.loader+"\">",is\_shop:yith\_infs.shop},o=window.location.href,t=o.split("?"),i="";if(null!=t[1]){var a=woof\_serialize(t[1]);delete a.paged,i=decodeURIComponent(jQuery.param(a))}var r=jQuery(".woocommerce-pagination li .next").attr("href");null==r&&(r=t+"page/1/");var \_=r.split("?"),n="";if(null!=\_[1]){var s=woof\_serialize(\_[1]);null!=s.paged&&(n="/page/"+s.paged+"/")}r=t[0].replace(/\/$/,"")+n+"?"+i,jQuery(".woocommerce-pagination li .next").attr("href",r),jQuery(window).off("yith\_infs\_start"),jQuery(yith\_infs.contentSelector).yit\_infinitescroll(e)}}function woof\_change\_link\_addtocart(){woof\_is\_ajax&&jQuery(".add\_to\_cart\_button").each(function(e,o){var t=jQuery(o).attr("href");if(t){var i=t.split("?"),a=window.location.href.split("?");i[1]!=null&&(t=a[0]+"?"+i[1],jQuery(o).attr("href",t))}})}function woof\_front\_number\_format(e,o,t,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,r=isFinite(+o)?Math.abs(o):0,\_="undefined"==typeof i?",":i,n="undefined"==typeof t?".":t,d="";return d=(r?function(e,o){var t=Math.pow(10,o);return""+(Math.round(e\*t)/t).toFixed(o)}(a,r):""+Math.round(a)).split("."),3<d[0].length&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,\_)),(d[1]||"").length<r&&(d[1]=d[1]||"",d[1]+=Array(r-d[1].length+1).join("0")),d.join(n)}function woof\_supports\_html5\_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(o){return!1}}function woof\_init\_tooltip(){var e=jQuery(".woof\_tooltip\_header");e.length&&jQuery(e).tooltipster({theme:"tooltipster-noir",side:"right",trigger:"click"})}function woof\_before\_ajax\_form\_redrawing(){if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_mselect").selectWoo("destroy")}catch(o){return!1}}function woof\_reinit\_selects(){if("chosen"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_select, select.woof\_mselect").chosen(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen()}catch(o){}else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_select, select.woof\_mselect").selectWoo(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo()}catch(o){}}function woof\_init\_mobile\_filter(){var e=jQuery(".woof\_show\_mobile\_filter"),o=jQuery(".woof\_show\_mobile\_filter\_container"),t=jQuery(woof\_m\_b\_container);o.length||(o=t),e&&o&&jQuery(o).append(e),jQuery(".woof\_show\_mobile\_filter").on("click",function(){var e=jQuery(this).data("sid");0<jQuery(".woof.woof\_sid\_front\_builder").length?(e="front\_builder",jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile")):jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile"),setTimeout(function(){try{jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen(),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen()}catch(o){}},300)}),jQuery(".woof\_hide\_mobile\_filter").on("click",function(){jQuery(this).parents(".woof").toggleClass("woof\_show\_filter\_for\_mobile")})}function woof\_init\_radios(){if("none"!=icheck\_skin){jQuery(".woof\_radio\_term").iCheck("destroy");let e=jQuery(".woof\_radio\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_radio\_term").off("ifChecked"),jQuery(".woof\_radio\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");woof\_radio\_direct\_search(t,o,e)})}else jQuery(".woof\_radio\_term").on("change",function(){jQuery(this).attr("checked",!0);var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible"),woof\_radio\_direct\_search(t,o,e)});jQuery(".woof\_radio\_term\_reset").on("click",function(){return woof\_radio\_direct\_search(jQuery(this).data("term-id"),jQuery(this).attr("data-name"),0),jQuery(this).parents(".woof\_list").find(".checked").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),!1})}function woof\_radio\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0==t?(jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).attr("checked",!1),jQuery("woof\_radio\_term\_"+e).parent().removeClass("checked"),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"})):(woof\_current\_values[o]=t,jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("a.woof\_radio\_term\_reset").show(),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"}),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("label.woof\_radio\_label\_"+t).css({fontWeight:"bold"})),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_checkboxes(){if("none"!=icheck\_skin){jQuery(".woof\_checkbox\_term").iCheck("destroy");let e=jQuery(".woof\_checkbox\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+e[0]+"-"+e[1]})):jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_checkbox\_term").off("ifChecked"),jQuery(".woof\_checkbox\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(".woof\_select\_radio\_check input").attr("disabled","disabled"),woof\_checkbox\_process\_data(this,!0)}),jQuery(".woof\_checkbox\_term").off("ifUnchecked"),jQuery(".woof\_checkbox\_term").on("ifUnchecked",function(){jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1)}),jQuery(".woof\_checkbox\_label").off(),jQuery("label.woof\_checkbox\_label").on("click",function(){return!jQuery(this).prev().find(".woof\_checkbox\_term").is(":disabled")&&void("undefined"==typeof jQuery(this).prev().find(".woof\_checkbox\_term").attr("checked")?(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifChecked"),jQuery(this).prev().addClass("checked")):(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifUnchecked"),jQuery(this).prev().removeClass("checked")))})}else jQuery(".woof\_checkbox\_term").on("change",function(){jQuery(this).is(":checked")?(jQuery(this).attr("checked",!0),woof\_checkbox\_process\_data(this,!0)):(jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1))})}function woof\_checkbox\_process\_data(e,o){var t=jQuery(e).data("tax"),i=jQuery(e).attr("name"),a=jQuery(e).data("term-id");woof\_checkbox\_direct\_search(a,i,t,o)}function woof\_checkbox\_direct\_search(e,o,t,i){var a="",r=!0;if(i)woof\_current\_values[t]=t in woof\_current\_values?woof\_current\_values[t]+","+o:o,r=!0;else{a=woof\_current\_values[t],a=a.split(",");var \_=[];jQuery.each(a,function(e,t){t!=o&&\_.push(t)}),a=\_,a.length?woof\_current\_values[t]=a.join(","):delete woof\_current\_values[t],r=!1}jQuery(".woof\_checkbox\_term\_"+e).attr("checked",r),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_selects(){"chosen"==woof\_select\_type?jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").chosen():"selectwoo"==woof\_select\_type&&jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").selectWoo(),jQuery(".woof\_select").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");woof\_select\_direct\_search(this,o,e)});var e=jQuery(".woof\_hide\_empty\_container");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_select\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0!=t&&(woof\_current\_values[o]=t),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(e).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_mselects(){if("chosen"==woof\_select\_type)jQuery("select.woof\_mselect").chosen();else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo()}catch(o){console.log(o)}jQuery(".woof\_mselect").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");if("chosen"==woof\_select\_type){var t=jQuery(this).chosen().val();jQuery(".woof\_mselect[name="+o+"] option:selected").removeAttr("selected"),jQuery(".woof\_mselect[name="+o+"] option").each(function(){var e=jQuery(this).val();-1!==jQuery.inArray(e,t)&&jQuery(this).prop("selected",!0)})}return woof\_mselect\_direct\_search(o,e),!0});var e=jQuery(".woof\_hide\_empty\_container\_ms");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_mselect\_direct\_search(e){var o=[];jQuery(".woof\_mselect[name="+e+"] option:selected").each(function(){o.push(jQuery(this).val())}),o=o.filter(function(e,t){return o.indexOf(e)==t}),o=o.join(","),o.length?woof\_current\_values[e]=o:delete woof\_current\_values[e],woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())} |
  |  | 1 | /\*https://jscompress.com/  3.3.5.2  \*/ "use strict";var woof\_redirect="",woof\_reset\_btn\_action=!1,woof\_additional\_fields={};if(jQuery(function(){try{woof\_current\_values=JSON.parse(woof\_current\_values)}catch(o){woof\_current\_values=null}(null==woof\_current\_values||0==woof\_current\_values.length)&&(woof\_current\_values={})}),"undefined"==typeof woof\_lang\_custom)var woof\_lang\_custom={};"undefined"!=typeof woof\_ext\_filter\_titles&&(woof\_lang\_custom=Object.assign({},woof\_lang\_custom,woof\_ext\_filter\_titles)),jQuery(function(){jQuery("body").append("<div id=\"woof\_html\_buffer\" class=\"woof\_info\_popup\" style=\"display: none;\"></div>"),jQuery.extend(jQuery.fn,{within:function(e){return this.filter(function(){return jQuery(this).closest(e).length})}});let e=document.querySelectorAll(".woof[data-slug]");e.length&&e.forEach(e=>{0<e.dataset.slug.length&&(swoof\_search\_slug=e.dataset.slug)}),0<jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1),woof\_autosubmit=parseInt(jQuery(".woof").eq(0).data("autosubmit"),10),woof\_ajax\_redraw=parseInt(jQuery(".woof").eq(0).data("ajax-redraw"),10),woof\_ext\_init\_functions=JSON.parse(woof\_ext\_init\_functions),woof\_init\_native\_woo\_price\_filter(),jQuery("body").on("price\_slider\_change",function(){if(woof\_autosubmit&&!woof\_show\_price\_search\_button&&3>jQuery(".price\_slider\_wrapper").length)jQuery(".woof .widget\_price\_filter form").trigger("submit");else{var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o}}),jQuery("body").on("change",".woof\_price\_filter\_dropdown",function(){var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1]}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),woof\_recount\_text\_price\_filter(),jQuery("body").on("change",".woof\_price\_filter\_txt",function(){var e=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_from").val(),10),o=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_to").val(),10);o<e||0>e?(delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price):("undefined"!=typeof woocs\_current\_currency&&(e=Math.ceil(e/parseFloat(woocs\_current\_currency.rate)),o=Math.ceil(o/parseFloat(woocs\_current\_currency.rate))),woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o),(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),jQuery("body").on("click",".woof\_open\_hidden\_li\_btn",function(){var e=jQuery(this).data("state"),o=jQuery(this).data("type");return"closed"==e?(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").addClass("woof\_hidden\_term2"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").removeClass("woof\_hidden\_term"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("opened")):jQuery(this).html(jQuery(this).data("opened")),jQuery(this).data("state","opened")):(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").addClass("woof\_hidden\_term"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").removeClass("woof\_hidden\_term2"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("closed")):jQuery(this).text(jQuery(this).data("closed")),jQuery(this).data("state","closed")),!1}),woof\_open\_hidden\_li(),jQuery(".widget\_rating\_filter li.wc-layered-nav-rating a").on("click",function(){var e=jQuery(this).parent().hasClass("chosen"),o=woof\_parse\_url(jQuery(this).attr("href")),t=0;if(void 0!==o.query&&-1!==o.query.indexOf("min\_rating")){var i=o.query.split("min\_rating=");t=parseInt(i[1],10)}return jQuery(this).parents("ul").find("li").removeClass("chosen"),e?delete woof\_current\_values.min\_rating:(woof\_current\_values.min\_rating=t,jQuery(this).parent().addClass("chosen")),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("body").on("click",".woof\_start\_filtering\_btn",function(){var e=jQuery(this).parents(".woof").data("shortcode");jQuery(this).html(woof\_lang\_loading),jQuery(this).addClass("woof\_start\_filtering\_btn2"),jQuery(this).removeClass("woof\_start\_filtering\_btn");var o={action:"woof\_draw\_products",page:1,shortcode:"woof\_nothing",woof\_shortcode:e,nonce\_filter:woof\_front\_nonce};return jQuery.post(woof\_ajaxurl,o,function(e){e=JSON.parse(e),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(e.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_init\_tooltip()}),!1}),window.addEventListener("pageshow",function(e){var o=e.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type;o&&(woof\_hide\_info\_popup(),woof\_submit\_link\_locked=!1)});var o=window.location.href;window.onpopstate=function(){try{if(Object.keys(woof\_current\_values).length){var e=o.split("?"),t="";null!=e[1]&&(t=e[1].split("#"));var i=window.location.href,a=i.split("?");if(null==a[1])var r={0:"",1:""};else var r=a[1].split("#");return r[0]!=t[0]&&(woof\_show\_info\_popup(woof\_lang\_loading),window.location.reload()),!1}}catch(o){console.log(o)}},woof\_init\_ion\_sliders(),woof\_init\_show\_auto\_form(),woof\_init\_hide\_auto\_form(),woof\_remove\_empty\_elements(),woof\_init\_search\_form(),woof\_init\_pagination(),woof\_init\_orderby(),woof\_init\_reset\_button(),woof\_init\_beauty\_scroll(),woof\_draw\_products\_top\_panel(),woof\_shortcode\_observer(),woof\_init\_tooltip(),woof\_init\_mobile\_filter(),woof\_is\_ajax||woof\_redirect\_init(),woof\_init\_toggles()});function woof\_redirect\_init(){try{if(jQuery(".woof").length&&void 0!==jQuery(".woof").val())return woof\_redirect=jQuery(".woof").eq(0).data("redirect"),0<woof\_redirect.length&&(woof\_shop\_page=woof\_current\_page\_link=woof\_redirect),woof\_redirect}catch(o){console.log(o)}}function woof\_init\_orderby(){jQuery("body").on("submit","form.woocommerce-ordering",function(){if(!jQuery("#is\_woo\_shortcode").length)return!1}),jQuery("body").on("change","form.woocommerce-ordering select.orderby",function(){if(!jQuery("#is\_woo\_shortcode").length)return woof\_current\_values.orderby=jQuery(this).val(),woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_reset\_button(){jQuery("body").on("click",".woof\_reset\_search\_form",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1})}function woof\_init\_pagination(){1===woof\_is\_ajax&&jQuery("body").on("click",".woocommerce-pagination a.page-numbers",function(){var e=jQuery(this).attr("href");if(woof\_ajax\_first\_done){var o=e.split("paged=");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}else{var o=e.split("page/");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}return woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_search\_form(){woof\_init\_checkboxes(),woof\_init\_mselects(),woof\_init\_radios(),woof\_price\_filter\_radio\_init(),woof\_init\_selects(),null!==woof\_ext\_init\_functions&&jQuery.each(woof\_ext\_init\_functions,function(type,func){eval(func+"()")}),jQuery(".woof\_submit\_search\_form").on("click",function(){return woof\_ajax\_redraw&&(woof\_ajax\_redraw=0,woof\_is\_ajax=0),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("ul.woof\_childs\_list").parent("li").addClass("woof\_childs\_list\_li"),woof\_remove\_class\_widget(),woof\_checkboxes\_slide(),document.dispatchEvent(new CustomEvent("woof\_init\_search\_form",{detail:{}}))}var woof\_submit\_link\_locked=!1;function woof\_submit\_link(e,o){if(!woof\_submit\_link\_locked){if("undefined"!=typeof WoofTurboMode)return void WoofTurboMode.woof\_submit\_link(e);if("undefined"==typeof o&&(o=woof\_ajax\_redraw),woof\_submit\_link\_locked=!0,woof\_show\_info\_popup(woof\_lang\_loading),1===woof\_is\_ajax&&!o){woof\_ajax\_first\_done=!0;var t={action:"woof\_draw\_products",link:e,page:woof\_ajax\_page\_num,shortcode:jQuery("#woof\_results\_by\_ajax").data("shortcode"),woof\_shortcode:jQuery("div.woof").data("shortcode"),nonce\_filter:woof\_front\_nonce};jQuery.post(woof\_ajaxurl,t,function(o){if(o=JSON.parse(o),woof\_before\_ajax\_form\_redrawing(),!jQuery(".woof\_results\_by\_ajax\_shortcode").length)"undefined"!=typeof o.products&&jQuery(".woof\_shortcode\_output").replaceWith(o.products);else if("undefined"!=typeof o.products){jQuery("#woof\_results\_by\_ajax").replaceWith(o.products);var t=jQuery(".woof\_found\_count");if(jQuery(t).show(),0<t.length){var i=jQuery("#woof\_results\_by\_ajax").data("count");"undefined"!=typeof i&&jQuery(t).text(i)}}"undefined"!=typeof o.additional\_fields&&(jQuery.each(o.additional\_fields,function(e,o){"undefined"==typeof woof\_additional\_fields[e]&&(woof\_additional\_fields[e]=jQuery(e)),jQuery(e).replaceWith(o)}),jQuery.each(woof\_additional\_fields,function(e,t){"undefined"==typeof o.additional\_fields[e]&&jQuery(e).replaceWith(t)})),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_draw\_products\_top\_panel(),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,jQuery.each(jQuery("#woof\_results\_by\_ajax"),function(e,o){0==e||jQuery(o).removeAttr("id")}),jQuery(".woof").removeClass("woof\_show\_filter\_for\_mobile"),woof\_infinite(),woof\_js\_after\_ajax\_done(),woof\_change\_link\_addtocart(),woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else if(o){var t={action:"woof\_draw\_products",link:e,page:1,shortcode:"woof\_nothing",woof\_shortcode:jQuery("div.woof").eq(0).data("shortcode"),nonce\_filter:woof\_front\_nonce};jQuery.post(woof\_ajaxurl,t,function(o){woof\_before\_ajax\_form\_redrawing(),o=JSON.parse(o),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else window.location=e,woof\_show\_info\_popup(woof\_lang\_loading)}}function woof\_remove\_empty\_elements(){jQuery.each(jQuery(".woof\_container select"),function(e,o){var t=jQuery(o).find("option").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery("ul.woof\_list"),function(e,o){var t=jQuery(o).find("li").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery(".woof\_container .woof\_list\_sd"),function(e,o){var t=jQuery(o).find(".woof-sd-ie").length;0===t&&jQuery(o).parents(".woof\_container").remove()})}function woof\_get\_submit\_link(){if(woof\_is\_ajax&&(woof\_current\_values.page=woof\_ajax\_page\_num),0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e){e==swoof\_search\_slug&&delete woof\_current\_values[e],"s"==e&&delete woof\_current\_values[e],"product"==e&&delete woof\_current\_values[e],"really\_curr\_tax"==e&&delete woof\_current\_values[e]}),2===Object.keys(woof\_current\_values).length&&"min\_price"in woof\_current\_values&&"max\_price"in woof\_current\_values){woof\_current\_page\_link=woof\_current\_page\_link.replace(new RegExp(/page\/(\d+)/),"");var e=woof\_current\_page\_link+"?min\_price="+woof\_current\_values.min\_price+"&max\_price="+woof\_current\_values.max\_price;return woof\_is\_ajax&&history.pushState({},"",e),e}if(0===Object.keys(woof\_current\_values).length)return woof\_is\_ajax&&history.pushState({},"",woof\_current\_page\_link),woof\_current\_page\_link;0<Object.keys(woof\_really\_curr\_tax).length&&(woof\_current\_values.really\_curr\_tax=woof\_really\_curr\_tax.term\_id+"-"+woof\_really\_curr\_tax.taxonomy);var o=woof\_current\_page\_link+"?"+swoof\_search\_slug+"=1";woof\_is\_permalink||(0<woof\_redirect.length?(o=woof\_redirect+"?"+swoof\_search\_slug+"=1",woof\_current\_values.hasOwnProperty("page\_id")&&delete woof\_current\_values.page\_id):o=location.protocol+"//"+location.host+"?"+swoof\_search\_slug+"=1");var t=["path"];return 0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e,i){"page"==e&&woof\_is\_ajax&&(e="paged"),"product-page"==e||"undefined"!=typeof i&&(typeof i&&0<i.length||"number"==typeof i)&&-1==jQuery.inArray(e,t)&&(o=o+"&"+e+"="+i)}),o=o.replace(new RegExp(/page\/(\d+)/),""),woof\_is\_ajax&&history.pushState({},"",o),o}function woof\_show\_info\_popup(e){"default"==woof\_overlay\_skin?(jQuery("#woof\_html\_buffer").text(e),jQuery("#woof\_html\_buffer").fadeTo(200,.9)):"loading-balls"===woof\_overlay\_skin||"loading-bars"===woof\_overlay\_skin||"loading-bubbles"===woof\_overlay\_skin||"loading-cubes"===woof\_overlay\_skin||"loading-cylon"===woof\_overlay\_skin||"loading-spin"===woof\_overlay\_skin||"loading-spinning-bubbles"===woof\_overlay\_skin||"loading-spokes"===woof\_overlay\_skin?jQuery("body").plainOverlay("show",{progress:function(){return jQuery("<div id=\"woof\_svg\_load\_container\"><img style=\"height: 100%; width: 100%\" src=\""+woof\_link+"img/loading-master/"+woof\_overlay\_skin+".svg\" alt=\"\"></div>")}}):jQuery("body").plainOverlay("show",{duration:-1})}function woof\_hide\_info\_popup(){"default"==woof\_overlay\_skin?window.setTimeout(function(){jQuery("#woof\_html\_buffer").fadeOut(400)},200):jQuery("body").plainOverlay("hide")}function woof\_draw\_products\_top\_panel(){woof\_is\_ajax&&jQuery("#woof\_results\_by\_ajax").prev(".woof\_products\_top\_panel").remove();var e=jQuery(".woof\_products\_top\_panel");if(e.html(""),0<Object.keys(woof\_current\_values).length){e.show(),e.html("<ul></ul>"),e.find("ul").attr("class","woof\_products\_top\_panel\_ul");var o=!1;jQuery.each(woof\_current\_values,function(t,i){if((-1!=jQuery.inArray(t,woof\_accept\_array)||-1!=jQuery.inArray(t.replace("rev\_",""),woof\_accept\_array))&&!(("min\_price"==t||"max\_price"==t)&&o)){"min\_price"!=t&&"max\_price"!=t||o||(o=!0,t="price",i=woof\_lang\_pricerange);var a=!1,r=jQuery("input[data-anchor='woof\_n\_"+t+"\_all\_range']").val();if("undefined"!=typeof r&&(a=!0),i=i.toString().trim(),i.search(",")&&(i=i.split(",")),!a)jQuery.each(i,function(o,a){if("page"!=t&&"post\_type"!=t){var r=a;if("orderby"==t)r=void 0===woof\_lang[a]?woof\_lang.orderby+": "+a:woof\_lang.orderby+": "+woof\_lang[a];else if("perpage"==t)r=woof\_lang.perpage;else if("price"==t)r=woof\_lang.pricerange;else{var \_=!1;if(0<Object.keys(woof\_lang\_custom).length&&jQuery.each(woof\_lang\_custom,function(e,o){e==t&&(\_=!0,r=o,"woof\_sku"==t&&(r+=" "+a))}),!\_){try{r=jQuery("input[data-anchor='woof\_n\_"+t+"\_"+a+"']").val()}catch(o){console.log(o)}"undefined"==typeof r&&(r=a)}}if("undefined"!=typeof woof\_filter\_titles[t]){var n=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");n.length?n.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}});else if("undefined"!=typeof woof\_filter\_titles[t]){var \_=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");\_.length?\_.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}})}0!=jQuery(e).find("li").length&&jQuery(".woof\_products\_top\_panel").length?e.find("ul.woof\_products\_top\_panel\_ul").prepend(jQuery("<li>").append(jQuery("<button>").attr("class","woof\_reset\_button\_2").append(woof\_lang.clear\_all))):e.hide(),jQuery(".woof\_reset\_button\_2").on("click",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1}),jQuery(".woof\_remove\_ppi").parent().on("click",function(e){e.preventDefault();var o=jQuery(this).data("tax"),t=jQuery(this).data("slug");if("all\_range"==t)delete woof\_current\_values[o];else if("price"!=o){var i=woof\_current\_values[o];i=i.split(",");var a=[];jQuery.each(i,function(e,o){o!=t&&a.push(o)}),i=a,i.length?woof\_current\_values[o]=i.join(","):delete woof\_current\_values[o]}else delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;return woof\_ajax\_page\_num=1,woof\_reset\_btn\_action=!0,woof\_submit\_link(woof\_get\_submit\_link()),jQuery(".woof\_products\_top\_panel").find("[data-tax='"+o+"'][href='"+t+"']").hide(333),!1})}function woof\_shortcode\_observer(){var e=!0;(jQuery(".woof\_shortcode\_output").length||jQuery(".woocommerce .products").length&&!jQuery(".single-product").length)&&(e=!1),jQuery(".woocommerce .woocommerce-info").length&&(e=!1),"undefined"!=typeof woof\_not\_redirect&&1==woof\_not\_redirect&&(e=!1),jQuery(".woot-data-table").length&&(e=!1),e||(woof\_current\_page\_link=location.protocol+"//"+location.host+location.pathname),jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1)}function woof\_init\_beauty\_scroll(){if(woof\_use\_beauty\_scroll)try{jQuery(".woof\_section\_scrolled, .woof\_sid\_auto\_shortcode .woof\_container").addClass("woof\_use\_beauty\_scroll")}catch(o){console.log(o)}}function woof\_remove\_class\_widget(){jQuery(".woof\_container\_inner").find(".widget").removeClass("widget")}function woof\_init\_show\_auto\_form(){jQuery(".woof\_show\_auto\_form").off("click"),jQuery(".woof\_show\_auto\_form.woof\_btn").length&&jQuery(".woof\_btn\_default").remove(),jQuery(".woof\_show\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_hide\_auto\_form").removeClass("woof\_show\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:jQuery(e).parent().find(".woof\_auto\_show\_indent").height()+20+"px",opacity:.96},377,function(){woof\_init\_hide\_auto\_form(),jQuery(e).parent().find(".woof\_auto\_show").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show").height("auto")}),!1})}document.addEventListener("click",function(o){let e=document.querySelectorAll(".woof\_auto\_show"),t=o.target,i=!t.classList.contains("woof\_sid");return!(i&&(i=!t.closest(".woof\_sid")),!t.classList.contains("woof\_show\_auto\_form"))||(i&&0<Array.from(e).length&&Array.from(e).forEach(function(e){e.parentNode.querySelector(".woof\_hide\_auto\_form")&&e.parentNode.querySelector(".woof\_hide\_auto\_form").click()}),!0)});function woof\_init\_hide\_auto\_form(){jQuery(".woof\_hide\_auto\_form").off("click"),jQuery(".woof\_hide\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_show\_auto\_form").removeClass("woof\_hide\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:"1px",opacity:0},377,function(){jQuery(e).parent().find(".woof\_auto\_show").addClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").addClass("woof\_overflow\_hidden"),woof\_init\_show\_auto\_form()}),!1})}function woof\_checkboxes\_slide(){if(woof\_checkboxes\_slide\_flag){var e=jQuery("ul.woof\_childs\_list");e.length&&(jQuery.each(e,function(e,o){if(!jQuery(o).parents(".woof\_no\_close\_childs").length&&0!=jQuery(o).find("input").length){var t="woof\_is\_closed";if(woof\_supports\_html5\_storage()){var i=localStorage.getItem(jQuery(o).closest("li").attr("class"));if(i&&"woof\_is\_opened"==i){var t="woof\_is\_opened";jQuery(o).show()}jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}else jQuery(o).find("input[type=checkbox],input[type=radio]").is(":checked")&&(jQuery(o).show(),t="woof\_is\_opened"),jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}}),jQuery.each(jQuery("a.woof\_childs\_list\_opener span"),function(e,o){jQuery(o).on("click",function(){var e=jQuery(this),o=jQuery(this).parent(".woof\_childs\_list\_opener");if(e.hasClass("woof\_is\_closed")?(jQuery(o).parent().find("ul.woof\_childs\_list").first().show(333),e.removeClass("woof\_is\_closed"),e.addClass("woof\_is\_opened")):(jQuery(o).parent().find("ul.woof\_childs\_list").first().hide(333),e.removeClass("woof\_is\_opened"),e.addClass("woof\_is\_closed")),woof\_supports\_html5\_storage()){var t=jQuery(o).closest("li").attr("class"),i=jQuery(o).children("span").attr("class");localStorage.setItem(t,i)}return!1})}))}}function woof\_init\_ion\_sliders(){jQuery.each(jQuery(".woof\_range\_slider"),function(e,o){try{jQuery(o).ionRangeSlider({min:jQuery(o).data("min"),max:jQuery(o).data("max"),from:jQuery(o).data("min-now"),to:jQuery(o).data("max-now"),type:"double",prefix:jQuery(o).data("slider-prefix"),postfix:jQuery(o).data("slider-postfix"),prettify:!0,prettify\_separator:",",prettify\_enabled:!0,hideMinMax:!1,hideFromTo:!1,grid:!0,step:jQuery(o).data("step"),onFinish:function(e){var t=jQuery(o).data("taxes");return woof\_current\_values.min\_price=parseFloat(e.from,10)/t,woof\_current\_values.max\_price=parseFloat(e.to,10)/t,"undefined"!=typeof woocs\_current\_currency&&(woof\_current\_values.min\_price/=parseFloat(woocs\_current\_currency.rate),woof\_current\_values.max\_price/=parseFloat(woocs\_current\_currency.rate)),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(o).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link()),!1},onChange:function(e){if(jQuery(".woof\_price\_filter\_txt")){var t=jQuery(o).data("taxes");jQuery(".woof\_price\_filter\_txt\_from").val(parseInt(e.from,10)/t),jQuery(".woof\_price\_filter\_txt\_to").val(parseInt(e.to,10)/t),"undefined"!=typeof woocs\_current\_currency&&(jQuery(".woof\_price\_filter\_txt\_from").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_from").val()/parseFloat(woocs\_current\_currency.rate))),jQuery(".woof\_price\_filter\_txt\_to").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_to").val()/parseFloat(woocs\_current\_currency.rate))))}}})}catch(o){}})}function woof\_init\_native\_woo\_price\_filter(){jQuery(".widget\_price\_filter form").off("submit"),jQuery(".widget\_price\_filter form").on("submit",function(){var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();return woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o,woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_reinit\_native\_woo\_price\_filter(){if("undefined"==typeof woocommerce\_price\_slider\_params)return!1;jQuery("input#min\_price, input#max\_price").hide(),jQuery(".price\_slider, .price\_label").show();var e=jQuery(".price\_slider\_amount #min\_price").data("min"),o=jQuery(".price\_slider\_amount #max\_price").data("max"),t=parseInt(e,10),i=parseInt(o,10);woof\_current\_values.hasOwnProperty("min\_price")?(t=parseInt(woof\_current\_values.min\_price,10),i=parseInt(woof\_current\_values.max\_price,10)):(woocommerce\_price\_slider\_params.min\_price&&(t=parseInt(woocommerce\_price\_slider\_params.min\_price,10)),woocommerce\_price\_slider\_params.max\_price&&(i=parseInt(woocommerce\_price\_slider\_params.max\_price,10)));var a=woocommerce\_price\_slider\_params.currency\_symbol;"undefined"==typeof a&&(a=woocommerce\_price\_slider\_params.currency\_format\_symbol),jQuery(document.body).on("price\_slider\_create price\_slider\_slide",function(e,o,t){if("undefined"!=typeof woocs\_current\_currency){var i=o,r=t;"undefined"==typeof a&&(a=woocs\_current\_currency.symbol),1!==woocs\_current\_currency.rate&&(i=Math.ceil(i\*parseFloat(woocs\_current\_currency.rate)),r=Math.ceil(r\*parseFloat(woocs\_current\_currency.rate))),i=woof\_front\_number\_format(i,2,".",","),r=woof\_front\_number\_format(r,2,".",","),(jQuery.inArray(woocs\_current\_currency.name,woocs\_array\_no\_cents)||1==woocs\_current\_currency.hide\_cents)&&(i=i.replace(".00",""),r=r.replace(".00","")),"left"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+i),jQuery(".price\_slider\_amount span.to").html(a+r)):"left\_space"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+" "+i),jQuery(".price\_slider\_amount span.to").html(a+" "+r)):"right"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(i+a),jQuery(".price\_slider\_amount span.to").html(r+a)):"right\_space"===woocs\_current\_currency.position&&(jQuery(".price\_slider\_amount span.from").html(i+" "+a),jQuery(".price\_slider\_amount span.to").html(r+" "+a))}else"left"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+o),jQuery(".price\_slider\_amount span.to").html(a+t)):"left\_space"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+" "+o),jQuery(".price\_slider\_amount span.to").html(a+" "+t)):"right"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(o+a),jQuery(".price\_slider\_amount span.to").html(t+a)):"right\_space"===woocommerce\_price\_slider\_params.currency\_pos&&(jQuery(".price\_slider\_amount span.from").html(o+" "+a),jQuery(".price\_slider\_amount span.to").html(t+" "+a));jQuery(document.body).trigger("price\_slider\_updated",[o,t])}),jQuery(".price\_slider").slider({range:!0,animate:!0,min:e,max:o,values:[t,i],create:function(){jQuery(".price\_slider\_amount #min\_price").val(t),jQuery(".price\_slider\_amount #max\_price").val(i),jQuery(document.body).trigger("price\_slider\_create",[t,i])},slide:function(e,o){jQuery("input#min\_price").val(o.values[0]),jQuery("input#max\_price").val(o.values[1]),jQuery(document.body).trigger("price\_slider\_slide",[o.values[0],o.values[1]])},change:function(e,o){jQuery(document.body).trigger("price\_slider\_change",[o.values[0],o.values[1]])}}),woof\_init\_native\_woo\_price\_filter()}function woof\_mass\_reinit(){woof\_remove\_empty\_elements(),woof\_open\_hidden\_li(),woof\_init\_search\_form(),woof\_hide\_info\_popup(),woof\_init\_beauty\_scroll(),woof\_init\_ion\_sliders(),woof\_reinit\_native\_woo\_price\_filter(),woof\_recount\_text\_price\_filter(),woof\_draw\_products\_top\_panel()}function woof\_recount\_text\_price\_filter(){"undefined"!=typeof woocs\_current\_currency&&jQuery.each(jQuery(".woof\_price\_filter\_txt\_from, .woof\_price\_filter\_txt\_to"),function(){jQuery(this).val(Math.ceil(jQuery(this).data("value")))})}function woof\_init\_toggles(){jQuery("body").off("click",".woof\_front\_toggle"),jQuery("body").on("click",".woof\_front\_toggle",function(){"opened"==jQuery(this).data("condition")?(jQuery(this).removeClass("woof\_front\_toggle\_opened"),jQuery(this).addClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","closed"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_closed\_text):jQuery(this).find("img").prop("src",woof\_toggle\_closed\_image)):(jQuery(this).addClass("woof\_front\_toggle\_opened"),jQuery(this).removeClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","opened"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_opened\_text):jQuery(this).find("img").prop("src",woof\_toggle\_opened\_image)),jQuery(this).parents(".woof\_container\_inner").find(".woof\_block\_html\_items").slideToggle(500);var e=jQuery(this).parents(".woof\_container\_inner").find(".chosen-container");return e.length&&jQuery(this).hasClass("woof\_front\_toggle\_opened")&&(jQuery(this).parents(".woof\_container\_inner").find("select").chosen("destroy").trigger("liszt:updated"),jQuery(this).parents(".woof\_container\_inner").find("select").chosen()),jQuery(this).hasClass("woof\_front\_toggle\_opened")&&woof\_reinit\_selects(),!1})}function woof\_open\_hidden\_li(){0<jQuery(".woof\_open\_hidden\_li\_btn").length&&jQuery.each(jQuery(".woof\_open\_hidden\_li\_btn"),function(e,o){jQuery(o).parents("ul").find("li.woof\_hidden\_term input[type=checkbox],li.woof\_hidden\_term input[type=radio]").is(":checked")&&jQuery(o).trigger("click")})}function $\_woof\_GET(e,o){o=o?o:window.location.search;var t=new RegExp("&"+e+"=([^&]\*)","i");return(o=o.replace(/^\?/,"&").match(t))?o=o[1]:o=""}function woof\_parse\_url(e){var o=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]\*))?([^?#]\*)(\?([^#]\*))?(#(.\*))?/);return{scheme:o[2],authority:o[4],path:o[5],query:o[7],fragment:o[9]}}function woof\_price\_filter\_radio\_init(){if("none"!=icheck\_skin){jQuery(".woof\_price\_filter\_radio").iCheck("destroy");let e=jQuery(".woof\_price\_filter\_radio").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_price\_filter\_radio").siblings("div").removeClass("checked"),jQuery(".woof\_price\_filter\_radio").off("ifChecked"),jQuery(".woof\_price\_filter\_radio").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_price\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())})}else jQuery("body").on("change",".woof\_price\_filter\_radio",function(){var e=jQuery(this).val();if(jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())});jQuery(".woof\_radio\_price\_reset").on("click",function(){return delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).siblings("div").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_serialize(e){for(var o,t,a=decodeURI(e),r=a.split("&"),\_={},s=0,d=r.length;s<d;s++)if(o=r[s].split("="),t=o[0],t.indexOf("[]")==t.length-2){var n=t.substring(0,t.length-2);void 0===\_[n]&&(\_[n]=[]),\_[n].push(o[1])}else \_[t]=o[1];return \_}function woof\_infinite(){if("undefined"!=typeof yith\_infs){var e={nextSelector:".woocommerce-pagination li .next",navSelector:yith\_infs.navSelector,itemSelector:yith\_infs.itemSelector,contentSelector:yith\_infs.contentSelector,loader:"<img src=\""+yith\_infs.loader+"\">",is\_shop:yith\_infs.shop},o=window.location.href,t=o.split("?"),i="";if(null!=t[1]){var a=woof\_serialize(t[1]);delete a.paged,i=decodeURIComponent(jQuery.param(a))}var r=jQuery(".woocommerce-pagination li .next").attr("href");null==r&&(r=t+"page/1/");var \_=r.split("?"),n="";if(null!=\_[1]){var s=woof\_serialize(\_[1]);null!=s.paged&&(n="/page/"+s.paged+"/")}r=t[0].replace(/\/$/,"")+n+"?"+i,jQuery(".woocommerce-pagination li .next").attr("href",r),jQuery(window).off("yith\_infs\_start"),jQuery(yith\_infs.contentSelector).yit\_infinitescroll(e)}}function woof\_change\_link\_addtocart(){woof\_is\_ajax&&jQuery(".add\_to\_cart\_button").each(function(e,o){var t=jQuery(o).attr("href");if(t){var i=t.split("?"),a=window.location.href.split("?");i[1]!=null&&(t=a[0]+"?"+i[1],jQuery(o).attr("href",t))}})}function woof\_front\_number\_format(e,o,t,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,r=isFinite(+o)?Math.abs(o):0,\_="undefined"==typeof i?",":i,n="undefined"==typeof t?".":t,d="";return d=(r?function(e,o){var t=Math.pow(10,o);return""+(Math.round(e\*t)/t).toFixed(o)}(a,r):""+Math.round(a)).split("."),3<d[0].length&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,\_)),(d[1]||"").length<r&&(d[1]=d[1]||"",d[1]+=Array(r-d[1].length+1).join("0")),d.join(n)}function woof\_supports\_html5\_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(o){return!1}}function woof\_init\_tooltip(){var e=jQuery(".woof\_tooltip\_header");e.length&&jQuery(e).tooltipster({theme:"tooltipster-noir",side:"right",trigger:"click"})}function woof\_before\_ajax\_form\_redrawing(){if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_mselect").selectWoo("destroy")}catch(o){return!1}}function woof\_reinit\_selects(){if("chosen"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_select, select.woof\_mselect").chosen(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen()}catch(o){}else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_select, select.woof\_mselect").selectWoo(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo()}catch(o){}}function woof\_init\_mobile\_filter(){var e=jQuery(".woof\_show\_mobile\_filter"),o=jQuery(".woof\_show\_mobile\_filter\_container"),t=jQuery(woof\_m\_b\_container);o.length||(o=t),e&&o&&jQuery(o).append(e),jQuery(".woof\_show\_mobile\_filter").on("click",function(){var e=jQuery(this).data("sid");0<jQuery(".woof.woof\_sid\_front\_builder").length?(e="front\_builder",jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile")):jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile"),setTimeout(function(){try{jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen(),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen()}catch(o){}},300)}),jQuery(".woof\_hide\_mobile\_filter").on("click",function(){jQuery(this).parents(".woof").toggleClass("woof\_show\_filter\_for\_mobile")})}function woof\_init\_radios(){if("none"!=icheck\_skin){jQuery(".woof\_radio\_term").iCheck("destroy");let e=jQuery(".woof\_radio\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_radio\_term").off("ifChecked"),jQuery(".woof\_radio\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");woof\_radio\_direct\_search(t,o,e)})}else jQuery(".woof\_radio\_term").on("change",function(){jQuery(this).attr("checked",!0);var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible"),woof\_radio\_direct\_search(t,o,e)});jQuery(".woof\_radio\_term\_reset").on("click",function(){return woof\_radio\_direct\_search(jQuery(this).data("term-id"),jQuery(this).attr("data-name"),0),jQuery(this).parents(".woof\_list").find(".checked").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),!1})}function woof\_radio\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0==t?(jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).attr("checked",!1),jQuery("woof\_radio\_term\_"+e).parent().removeClass("checked"),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"})):(woof\_current\_values[o]=t,jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("a.woof\_radio\_term\_reset").show(),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"}),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("label.woof\_radio\_label\_"+t).css({fontWeight:"bold"})),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_checkboxes(){if("none"!=icheck\_skin){jQuery(".woof\_checkbox\_term").iCheck("destroy");let e=jQuery(".woof\_checkbox\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+e[0]+"-"+e[1]})):jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_checkbox\_term").off("ifChecked"),jQuery(".woof\_checkbox\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(".woof\_select\_radio\_check input").attr("disabled","disabled"),woof\_checkbox\_process\_data(this,!0)}),jQuery(".woof\_checkbox\_term").off("ifUnchecked"),jQuery(".woof\_checkbox\_term").on("ifUnchecked",function(){jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1)}),jQuery(".woof\_checkbox\_label").off(),jQuery("label.woof\_checkbox\_label").on("click",function(){return!jQuery(this).prev().find(".woof\_checkbox\_term").is(":disabled")&&void("undefined"==typeof jQuery(this).prev().find(".woof\_checkbox\_term").attr("checked")?(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifChecked"),jQuery(this).prev().addClass("checked")):(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifUnchecked"),jQuery(this).prev().removeClass("checked")))})}else jQuery(".woof\_checkbox\_term").on("change",function(){jQuery(this).is(":checked")?(jQuery(this).attr("checked",!0),woof\_checkbox\_process\_data(this,!0)):(jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1))})}function woof\_checkbox\_process\_data(e,o){var t=jQuery(e).data("tax"),i=jQuery(e).attr("name"),a=jQuery(e).data("term-id");woof\_checkbox\_direct\_search(a,i,t,o)}function woof\_checkbox\_direct\_search(e,o,t,i){var a="",r=!0;if(i)woof\_current\_values[t]=t in woof\_current\_values?woof\_current\_values[t]+","+o:o,r=!0;else{a=woof\_current\_values[t],a=a.split(",");var \_=[];jQuery.each(a,function(e,t){t!=o&&\_.push(t)}),a=\_,a.length?woof\_current\_values[t]=a.join(","):delete woof\_current\_values[t],r=!1}jQuery(".woof\_checkbox\_term\_"+e).attr("checked",r),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_selects(){"chosen"==woof\_select\_type?jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").chosen():"selectwoo"==woof\_select\_type&&jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").selectWoo(),jQuery(".woof\_select").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");woof\_select\_direct\_search(this,o,e)});var e=jQuery(".woof\_hide\_empty\_container");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_select\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0!=t&&(woof\_current\_values[o]=t),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(e).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_mselects(){if("chosen"==woof\_select\_type)jQuery("select.woof\_mselect").chosen();else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo()}catch(o){console.log(o)}jQuery(".woof\_mselect").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");if("chosen"==woof\_select\_type){var t=jQuery(this).chosen().val();jQuery(".woof\_mselect[name="+o+"] option:selected").removeAttr("selected"),jQuery(".woof\_mselect[name="+o+"] option").each(function(){var e=jQuery(this).val();-1!==jQuery.inArray(e,t)&&jQuery(this).prop("selected",!0)})}return woof\_mselect\_direct\_search(o,e),!0});var e=jQuery(".woof\_hide\_empty\_container\_ms");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_mselect\_direct\_search(e){var o=[];jQuery(".woof\_mselect[name="+e+"] option:selected").each(function(){o.push(jQuery(this).val())}),o=o.filter(function(e,t){return o.indexOf(e)==t}),o=o.join(","),o.length?woof\_current\_values[e]=o:delete woof\_current\_values[e],woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())} |
* ## [woocommerce-products-filter/trunk/js/plugin\_options.js](/changeset/3045600/woocommerce-products-filter/trunk/js/plugin_options.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/js/plugin_options.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3020561#L426 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L426 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 426 | 426 | $(this).next('span').html('clearing ...'); |
  | 427 | 427 | var \_this = this; |
  |  | 428 | const \_nonce = document.querySelector('input[name="\_wpnonce\_woof"]').value |
  | 428 | 429 | var data = { |
  | 429 |  | action: "woof\_cache\_count\_data\_clear" |
  |  | 430 | action: "woof\_cache\_count\_data\_clear", |
  |  | 431 | \_wpnonce\_woof: \_nonce |
  | 430 | 432 | }; |
  | 431 | 433 | $.post(ajaxurl, data, function () { |
  | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3020561#L438) | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L440) |  |
  | 438 | 440 |  |
  | 439 | 441 | $('.js\_cache\_terms\_clear').on('click', function () { |
  |  | 442 | const \_nonce = document.querySelector('input[name="\_wpnonce\_woof"]').value |
  | 440 | 443 | $(this).next('span').html('clearing ...'); |
  | 441 | 444 | var \_this = this; |
  | 442 | 445 | var data = { |
  | 443 |  | action: "woof\_cache\_terms\_clear" |
  |  | 446 | action: "woof\_cache\_terms\_clear", |
  |  | 447 | \_wpnonce\_woof: \_nonce |
  | 444 | 448 | }; |
  | 445 | 449 | $.post(ajaxurl, data, function () { |
  | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3020561#L452) | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L456) |  |
  | 452 | 456 | $('.js\_price\_transient\_clear').on('click', function () { |
  | 453 | 457 | $(this).next('span').html('clearing ...'); |
  |  | 458 | const \_nonce = document.querySelector('input[name="\_wpnonce\_woof"]').value |
  | 454 | 459 | var \_this = this; |
  | 455 | 460 | var data = { |
  | 456 |  | action: "woof\_price\_transient\_clear" |
  |  | 461 | action: "woof\_price\_transient\_clear", |
  |  | 462 | \_wpnonce\_woof: \_nonce |
  | 457 | 463 | }; |
  | 458 | 464 | $.post(ajaxurl, data, function () { |
  | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3020561#L591) | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L597) |  |
  | 591 | 597 | let option = $(this).val(); |
  | 592 | 598 | jQuery('.woof\_select\_term\_wrapper').css('opacity', '0.2'); |
  |  | 599 | const \_nonce = document.querySelector('input[name="\_wpnonce\_woof"]').value |
  | 593 | 600 | if (option && option != -1) { |
  | 594 | 601 | var data = { |
  | 595 | 602 | action: "woof\_get\_taxonomy\_terms", |
  | 596 |  | taxonomy: option |
  |  | 603 | taxonomy: option, |
  |  | 604 | \_wpnonce\_woof:\_nonce |
  | 597 | 605 | }; |
  | 598 | 606 | $.post(ajaxurl, data, function (terms) { |
* ## [woocommerce-products-filter/trunk/lib/alert/index.php](/changeset/3045600/woocommerce-products-filter/trunk/lib/alert/index.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/lib/alert/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3045600#L13 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 |  |
  | 14 | 14 | add\_action("wp\_ajax\_{$slug}\_dismiss\_rate\_alert", function() use($slug) { |
  |  | 15 | if (!isset($\_REQUEST['woof\_alert\_nonce']) || !wp\_verify\_nonce($\_REQUEST['woof\_alert\_nonce'], 'alert\_nonce')) { |
  |  | 16 | die('0'); |
  |  | 17 | } |
  | 15 | 18 | update\_option("{$slug}\_dismiss\_rate\_alert", 2); |
  | 16 | 19 | }); |
  | 17 | 20 |  |
  | 18 | 21 | add\_action("wp\_ajax\_{$slug}\_later\_rate\_alert", function() use($slug) { |
  |  | 22 | if (!isset($\_REQUEST['woof\_alert\_nonce']) || !wp\_verify\_nonce($\_REQUEST['woof\_alert\_nonce'], 'alert\_nonce')) { |
  |  | 23 | die('0'); |
  |  | 24 | } |
  | 19 | 25 | update\_option("{$slug}\_later\_rate\_alert", time() + 4 \* 7 \* 24 \* 60 \* 60); //4 weeks |
  | 20 | 26 | }); |
  | […](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3020561#L76) | […](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3045600#L82) |  |
  | 76 | 82 | </p> |
  | 77 | 83 | </div> |
  | 78 |  |  |
  |  | 84 | <input type="hidden" class="woof\_alert\_nonce" value="<?php echo wp\_create\_nonce('alert\_nonce')?>"> |
  | 79 | 85 | </div> |
  | 80 | 86 | <?php |
* ## [woocommerce-products-filter/trunk/lib/alert/js/alert.js](/changeset/3045600/woocommerce-products-filter/trunk/lib/alert/js/alert.js "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/lib/alert/js/alert.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/lib/alert/js/alert.js?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/lib/alert/js/alert.js?rev=3045600#L13 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | //1 maybe later, 2 do not ask more |
  | 14 | 14 | jQuery('#pn\_woof\_ask\_favour').fadeOut(); |
  | 15 |  |  |
  |  | 15 | let \_nonce = document.querySelector('.woof\_alert\_nonce').value |
  |  | 16 | console.log(\_nonce) |
  | 16 | 17 | if (what === 1) { |
  | 17 | 18 | jQuery.post(ajaxurl, { |
  | 18 |  | action: 'woof\_later\_rate\_alert' |
  |  | 19 | action: 'woof\_later\_rate\_alert', |
  |  | 20 | woof\_alert\_nonce:\_nonce |
  | 19 | 21 | }); |
  | 20 | 22 | } else { |
  | 21 | 23 | jQuery.post(ajaxurl, { |
  | 22 |  | action: 'woof\_dismiss\_rate\_alert' |
  |  | 24 | action: 'woof\_dismiss\_rate\_alert', |
  |  | 25 | woof\_alert\_nonce: \_nonce |
  | 23 | 26 | }); |
  | 24 | 27 | } |
* ## [woocommerce-products-filter/trunk/readme.txt](/changeset/3045600/woocommerce-products-filter/trunk/readme.txt "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/readme.txt")

  | [r3028722](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3028722#L3 "Show revision 3028722 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3045600#L3 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Donate link: https://pluginus.net/affiliate/woocommerce-products-filter |
  | 4 | 4 | Tags: filter, products filter, product filter, woocommerce, woof, husky, products, ajax filter, category filter, woocommerce products filter, woocommerce price filter, attributes filter, advanced product filter |
  | 5 |  | Requires at least: ~~4.9~~.0 |
  | 6 |  | Tested up to: 6.~~4~~ |
  |  | 5 | Requires at least: 5.2.0 |
  |  | 6 | Tested up to: 6.5 |
  | 7 | 7 | Requires PHP: 7.3 |
  | 8 |  | Stable tag: 1.3.5.~~1~~ |
  |  | 8 | Stable tag: 1.3.5.2 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: https://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3028722#L175) | […](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3045600#L175) |  |
  | 175 | 175 |  |
  | 176 | 176 | == Changelog == |
  |  | 177 |  |
  |  | 178 | = 1.3.5.2 = |
  |  | 179 | \* 1 security fix, thanks to Dhabaleshwar Das from Patchstack.com |
  |  | 180 | \* 1 security fix, thanks to Krzysztof Zając from Wordfence.com |
  | 177 | 181 |  |
  | 178 | 182 | = 1.3.5.1 = |
* ## [woocommerce-products-filter/trunk/views/plugin\_options.php](/changeset/3045600/woocommerce-products-filter/trunk/views/plugin_options.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/views/plugin_options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3020561#L22 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3045600#L22 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | <div class="woof-header"> |
  | 23 | 23 | <div> |
  | 24 |  | <h3 class="woof\_plugin\_name"><?php esc\_html\_e('HUSKY - Products Filter Professional for WooCommerce', 'woocommerce-products-filter') ?>&nbsp;<span class="woof\_\_text-success">v.<?php echo esc\_attr(WOOF\_VERSION) ?></span>&nbsp;<span id="woof-head"><~~svg><use xlink:href="#svg-woof"></use></svg~~></span></h3> |
  |  | 24 | <h3 class="woof\_plugin\_name"><?php esc\_html\_e('HUSKY - Products Filter Professional for WooCommerce', 'woocommerce-products-filter') ?>&nbsp;<span class="woof\_\_text-success">v.<?php echo esc\_attr(WOOF\_VERSION) ?></span>&nbsp;<span id="woof-head"><img src="<?php echo esc\_url(WOOF\_LINK) ?>/img/husky.png" width="80" alt=""></span></h3> |
  | 25 | 25 | <i><?php printf(esc\_html\_\_('Actualized for WooCommerce v.%s.x', 'woocommerce-products-filter'), WOOCOMMERCE\_VERSION) ?></i><br /> |
  | 26 | 26 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3020561#L1196) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3045600#L1196) |  |
  | 1196 | 1196 | 1 => esc\_html\_\_("Yes", 'woocommerce-products-filter') |
  | 1197 | 1197 | ); |
  | 1198 |  | if (!isset($woof\_settings['show\_images\_by\_attr\_show']) OR $woof\_settings['show\_images\_by\_attr\_show']) { |
  |  | 1198 |  |
  |  | 1199 | if (!isset($woof\_settings['show\_images\_by\_attr\_show'])OR empty($woof\_settings['show\_images\_by\_attr\_show'])) { |
  | 1199 | 1200 | $woof\_settings['show\_images\_by\_attr\_show'] = 0; |
  | 1200 | 1201 | } |
* ## [woocommerce-products-filter/trunk/views/woof.php](/changeset/3045600/woocommerce-products-filter/trunk/views/woof.php "Show the changeset 3045600 restricted to woocommerce-products-filter/trunk/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3020561#L522 "Show revision 3020561 of this file in browser") | [r3045600](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3045600#L522 "Show revision 3045600 of this file in browser") |  |
  | --- | --- | --- |
  | 522 | 522 | ?> |
  | 523 | 523 |  |
  | 524 |  | <div data-slug="<?php echo (isset($swoof\_slug) ? $swoof\_slug : '') ?>" class="woof <?php if (!empty($sid)): ?>woof\_sid woof\_sid\_<?php echo esc\_attr($sid) ?><?php endif; ?> <?php echo esc\_attr($woof\_class) ?>" <?php if (!empty($sid)): ?>data-sid="<?php echo esc\_attr($sid); ?>"<?php endif; ?> data-shortcode="<?php echo esc\_html(WOOF\_REQUEST::isset('woof\_shortcode\_txt') ? WOOF\_REQUEST::get('woof\_shortcode\_txt') : 'woof') ?>" data-redirect="<?php echo esc\_attr($redirect) ?>" data-autosubmit="<?php echo esc\_attr($autosubmit) ?>" data-ajax-redraw="<?php echo esc\_attr($ajax\_redraw) ?>"> |
  |  | 524 | <div data-slug="<?php echo esc\_attr(isset($swoof\_slug) ? $swoof\_slug : '') ?>" class="woof <?php if (!empty($sid)): ?>woof\_sid woof\_sid\_<?php echo esc\_attr($sid) ?><?php endif; ?> <?php echo esc\_attr($woof\_class) ?>" <?php if (!empty($sid)): ?>data-sid="<?php echo esc\_attr($sid); ?>"<?php endif; ?> data-shortcode="<?php echo esc\_html(WOOF\_REQUEST::isset('woof\_shortcode\_txt') ? WOOF\_REQUEST::get('woof\_shortcode\_txt') : 'woof') ?>" data-redirect="<?php echo esc\_attr($redirect) ?>" data-autosubmit="<?php echo esc\_attr($autosubmit) ?>" data-ajax-redraw="<?php echo esc\_attr($ajax\_redraw) ?>"> |
  | 525 | 525 | <?php |
  | 526 | 526 | if (wp\_is\_mobile() && (isset($mobile\_mode) && $mobile\_mode) && isset($sid)) { |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3020561#L662) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3045600#L662) |  |
  | 662 | 662 |  |
  | 663 | 663 | foreach ($items\_order as $key) { |
  |  | 664 |  |
  | 664 | 665 | do\_action('woof\_before\_draw\_filter', $key, $shortcode\_atts); |
  | 665 | 666 |  |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3020561#L691) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3045600#L692) |  |
  | 691 | 692 | <?php endif; ?> |
  | 692 | 693 |  |
  | 693 |  |  |
  | 694 |  |  |
  | 695 | 694 | </div> |
  | 696 | 695 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3045600)
* [Zip Archive](?format=zip&new=3045600)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

