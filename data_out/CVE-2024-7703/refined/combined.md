=== Content from plugins.trac.wordpress.org_5bc9ac69_20250111_091408.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3136475)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3136474 "Changeset 3136474")
* [Next Changeset](/changeset/3136476 "Changeset 3136476") →

---

# Changeset 3136475

Timestamp:
08/16/2024 08:25:29 AM
([5 months](/timeline?from=2024-08-16T08%3A25%3A29Z&precision=second "See timeline at 08/16/2024 08:25:29 AM") ago)

Author:
reputeinfosystems
Message:
# 4.0.38

* Minor bug fixes.

Location:
[armember-membership/trunk](/browser/armember-membership/trunk?rev=3136475)
Files:

35 edited

* [armember-membership.php](/browser/armember-membership/trunk/armember-membership.php?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/armember-membership.php "Show differences"))
* [autoload.php](/browser/armember-membership/trunk/autoload.php?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/autoload.php "Show differences"))
* [core/classes/class.arm\_members\_activity.php](/browser/armember-membership/trunk/core/classes/class.arm_members_activity.php?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/core/classes/class.arm_members_activity.php "Show differences"))
* [core/views/arm\_redirection\_settings.php](/browser/armember-membership/trunk/core/views/arm_redirection_settings.php?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/core/views/arm_redirection_settings.php "Show differences"))
* [core/views/arm\_setup\_wizard.php](/browser/armember-membership/trunk/core/views/arm_setup_wizard.php?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/core/views/arm_setup_wizard.php "Show differences"))
* [core/views/upgrade\_latest\_data.php](/browser/armember-membership/trunk/core/views/upgrade_latest_data.php?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/core/views/upgrade_latest_data.php "Show differences"))
* [js/arm\_admin\_file\_upload\_js.js](/browser/armember-membership/trunk/js/arm_admin_file_upload_js.js?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/js/arm_admin_file_upload_js.js "Show differences"))
* [js/arm\_file\_upload\_js.js](/browser/armember-membership/trunk/js/arm_file_upload_js.js?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/js/arm_file_upload_js.js "Show differences"))
* [languages/armember-membership-ar.mo](/browser/armember-membership/trunk/languages/armember-membership-ar.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ar.mo "Show differences"))
* [languages/armember-membership-ar.po](/browser/armember-membership/trunk/languages/armember-membership-ar.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ar.po "Show differences"))
* [languages/armember-membership-de\_DE.mo](/browser/armember-membership/trunk/languages/armember-membership-de_DE.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-de_DE.mo "Show differences"))
* [languages/armember-membership-de\_DE.po](/browser/armember-membership/trunk/languages/armember-membership-de_DE.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-de_DE.po "Show differences"))
* [languages/armember-membership-en\_US.mo](/browser/armember-membership/trunk/languages/armember-membership-en_US.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-en_US.mo "Show differences"))
* [languages/armember-membership-en\_US.po](/browser/armember-membership/trunk/languages/armember-membership-en_US.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-en_US.po "Show differences"))
* [languages/armember-membership-es\_ES.mo](/browser/armember-membership/trunk/languages/armember-membership-es_ES.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-es_ES.mo "Show differences"))
* [languages/armember-membership-es\_ES.po](/browser/armember-membership/trunk/languages/armember-membership-es_ES.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-es_ES.po "Show differences"))
* [languages/armember-membership-fr\_FR.mo](/browser/armember-membership/trunk/languages/armember-membership-fr_FR.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-fr_FR.mo "Show differences"))
* [languages/armember-membership-fr\_FR.po](/browser/armember-membership/trunk/languages/armember-membership-fr_FR.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-fr_FR.po "Show differences"))
* [languages/armember-membership-it\_IT.mo](/browser/armember-membership/trunk/languages/armember-membership-it_IT.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-it_IT.mo "Show differences"))
* [languages/armember-membership-it\_IT.po](/browser/armember-membership/trunk/languages/armember-membership-it_IT.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-it_IT.po "Show differences"))
* [languages/armember-membership-ja.mo](/browser/armember-membership/trunk/languages/armember-membership-ja.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ja.mo "Show differences"))
* [languages/armember-membership-ja.po](/browser/armember-membership/trunk/languages/armember-membership-ja.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ja.po "Show differences"))
* [languages/armember-membership-ko\_KR.mo](/browser/armember-membership/trunk/languages/armember-membership-ko_KR.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ko_KR.mo "Show differences"))
* [languages/armember-membership-ko\_KR.po](/browser/armember-membership/trunk/languages/armember-membership-ko_KR.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ko_KR.po "Show differences"))
* [languages/armember-membership-nl\_NL.mo](/browser/armember-membership/trunk/languages/armember-membership-nl_NL.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-nl_NL.mo "Show differences"))
* [languages/armember-membership-nl\_NL.po](/browser/armember-membership/trunk/languages/armember-membership-nl_NL.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-nl_NL.po "Show differences"))
* [languages/armember-membership-pt\_PT.mo](/browser/armember-membership/trunk/languages/armember-membership-pt_PT.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-pt_PT.mo "Show differences"))
* [languages/armember-membership-pt\_PT.po](/browser/armember-membership/trunk/languages/armember-membership-pt_PT.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-pt_PT.po "Show differences"))
* [languages/armember-membership-ru\_RU.mo](/browser/armember-membership/trunk/languages/armember-membership-ru_RU.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ru_RU.mo "Show differences"))
* [languages/armember-membership-ru\_RU.po](/browser/armember-membership/trunk/languages/armember-membership-ru_RU.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-ru_RU.po "Show differences"))
* [languages/armember-membership-tr\_TR.mo](/browser/armember-membership/trunk/languages/armember-membership-tr_TR.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-tr_TR.mo "Show differences"))
* [languages/armember-membership-tr\_TR.po](/browser/armember-membership/trunk/languages/armember-membership-tr_TR.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-tr_TR.po "Show differences"))
* [languages/armember-membership-zh\_CN.mo](/browser/armember-membership/trunk/languages/armember-membership-zh_CN.mo?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-zh_CN.mo "Show differences"))
* [languages/armember-membership-zh\_CN.po](/browser/armember-membership/trunk/languages/armember-membership-zh_CN.po?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/languages/armember-membership-zh_CN.po "Show differences"))
* [readme.txt](/browser/armember-membership/trunk/readme.txt?rev=3136475 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3136475/armember-membership/trunk/readme.txt "Show differences"))

**Changeset view not shown**, since the total size (19.2 MB) exceeds
[4.0 MB](/wiki/TracIni#changeset-max_diff_bytes-option)

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3136475)
* [Zip Archive](?format=zip&new=3136475)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_dbdd4f5a_20250111_091410.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup <= 4.0.37 - Authenticated (Subscriber+) Stored Cross-Site Scripting via SVG File Upload

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup <= 4.0.37 - Authenticated (Subscriber+) Stored Cross-Site Scripting via SVG File Upload

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-7703](https://www.cve.org/CVERecord?id=CVE-2024-7703) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | August 16, 2024 |
| Last Updated | August 17, 2024 |
| Researcher | [wesley (wcraft)](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/wesley-jhon) |

### Description

The ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup plugin for WordPress is vulnerable to Stored Cross-Site Scripting via SVG File uploads in all versions up to, and including, 4.0.37 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with Subscriber-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses the SVG file.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/armember-membership/trunk/core/classes/class.arm_members_activity.php#L374)
* [wordpress.org](https://wordpress.org/plugins/armember-membership/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3136475/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Farmember-membership%2Farmember-membership-plugin-content-restriction-member-levels-user-profile-user-signup-4037-authenticated-subscriber-stored-cross-site-scripting-via-svg-file-upload&t=ARMember%20%E2%80%93%20Membership%20Plugin%2C%20Content%20Restriction%2C%20Member%20Levels%2C%20User%20Profile%20%26%20User%20signup%20%3C%3D%204.0.37%20-%20Authenticated%20%28Subscriber%2B%29%20Stored%20Cross-Site%20Scripting%20via%20SVG%20File%20Upload "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Farmember-membership%2Farmember-membership-plugin-content-restriction-member-levels-user-profile-user-signup-4037-authenticated-subscriber-stored-cross-site-scripting-via-svg-file-upload&text=ARMember%20%E2%80%93%20Membership%20Plugin%2C%20Content%20Restriction%2C%20Member%20Levels%2C%20User%20Profile%20%26%20User%20signup%20%3C%3D%204.0.37%20-%20Authenticated%20%28Subscriber%2B%29%20Stored%20Cross-Site%20Scripting%20via%20SVG%20File%20Upload "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Farmember-membership%2Farmember-membership-plugin-content-restriction-member-levels-user-profile-user-signup-4037-authenticated-subscriber-stored-cross-site-scripting-via-svg-file-upload "LinkedIn")
Email

## Vulnerability Details for ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup

#### [ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/armember-membership)

| Software Type | Plugin |
| --- | --- |
| Software Slug | armember-membership [(view on wordpress.org)](https://wordpress.org/plugins/armember-membership) |
| Patched? | Yes |
| Remediation | Update to version 4.0.38, or a newer patched version |
| Affected Version | * <= 4.0.37 |
| Patched Version | * 4.0.38 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_08fd12eb_20250111_091406.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Farmember-membership%2Ftrunk%2Fcore%2Fclasses%2Fclass.arm_members_activity.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/armember-membership/trunk/core/classes/class.arm_members_activity.php?rev=3215197 "Revision 3215197")
* Next Revision →
* [Blame](/browser/armember-membership/trunk/core/classes/class.arm_members_activity.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/armember-membership/trunk/core/classes/class.arm_members_activity.php)

---

# [source:](/browser?order=name "Go to repository root") [armember-membership](/browser/armember-membership?order=name "View armember-membership")/[trunk](/browser/armember-membership/trunk?order=name "View trunk")/[core](/browser/armember-membership/trunk/core?order=name "View core")/[classes](/browser/armember-membership/trunk/core/classes?order=name "View classes")/[class.arm\_members\_activity.php](/browser/armember-membership/trunk/core/classes/class.arm_members_activity.php?order=name "View class.arm_members_activity.php")

View diff against:

View revision:

| [Last change](/changeset/3218726/armember-membership/trunk/core/classes/class.arm_members_activity.php "View differences") on this file was [3218726](/changeset/3218726/ "View changeset 3218726"), checked in by reputeinfosystems, [3 days ago](/timeline?from=2025-01-08T07%3A22%3A37Z&precision=second "See timeline at 01/08/2025 07:22:37 AM") |
| --- |
| 4.0.57  * Added New inbuilt addon "Bricks Builder Integration". * Other minor bug fixes. |
| **File size:** 39.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if ( ! class\_exists( 'ARM\_members\_activity\_Lite' ) ) { |
| [3](#L3) | class ARM\_members\_activity\_Lite { |
| [4](#L4) |  |
| [5](#L5) | function \_\_construct() { |
| [6](#L6) | global $wpdb, $ARMemberLite, $arm\_slugs; |
| [7](#L7) | add\_action( 'arm\_record\_activity', array( $this, 'arm\_add\_activity' ), 1 ); |
| [8](#L8) | /\* Ajax Load More Activities \*/ |
| [9](#L9) | add\_action( 'wp\_ajax\_nopriv\_arm\_crop\_iamge', array( $this, 'arm\_crop\_image' ) ); |
| [10](#L10) | add\_action( 'wp\_ajax\_arm\_crop\_iamge', array( $this, 'arm\_crop\_image' ) ); |
| [11](#L11) |  |
| [12](#L12) | add\_action( 'wp\_ajax\_arm\_upload\_front', array( $this, 'arm\_upload\_front' ), 1 ); |
| [13](#L13) | add\_action( 'wp\_ajax\_nopriv\_arm\_upload\_front', array( $this, 'arm\_upload\_front' ), 1 ); |
| [14](#L14) |  |
| [15](#L15) | add\_action( 'wp\_ajax\_arm\_upload\_cover', array( $this, 'arm\_upload\_cover' ), 1 ); |
| [16](#L16) | add\_action( 'wp\_ajax\_nopriv\_arm\_upload\_cover', array( $this, 'arm\_upload\_cover' ), 1 ); |
| [17](#L17) |  |
| [18](#L18) | add\_action( 'wp\_ajax\_arm\_upload\_profile', array( $this, 'arm\_upload\_profile' ), 1 ); |
| [19](#L19) | add\_action( 'wp\_ajax\_nopriv\_arm\_upload\_profile', array( $this, 'arm\_upload\_profile' ), 1 ); |
| [20](#L20) |  |
| [21](#L21) | add\_action( 'wp\_ajax\_arm\_import\_user', array( $this, 'arm\_import\_user' ), 1 ); |
| [22](#L22) |  |
| [23](#L23) | global $check\_sorting; |
| [24](#L24) | $check\_sorting = 'checksorting'; |
| [25](#L25) |  |
| [26](#L26) | global $check\_version; |
| [27](#L27) | $check\_version = 'checkversion'; |
| [28](#L28) | add\_action( 'admin\_init', array( $this, 'upgrade\_data' ) ); |
| [29](#L29) |  |
| [30](#L30) | add\_action( 'wp\_ajax\_armlite\_deactivate\_plugin', array( $this, 'armite\_deactivate\_plugin\_func' ) ); |
| [31](#L31) |  |
| [32](#L32) | add\_action( 'admin\_footer', array( $this, 'arm\_deactivate\_feedback\_popup' ), 1 ); |
| [33](#L33) | } |
| [34](#L34) |  |
| [35](#L35) | function upgrade\_data() { |
| [36](#L36) |  |
| [37](#L37) | global $arm\_lite\_newdbversion; |
| [38](#L38) |  |
| [39](#L39) | if ( ! isset( $arm\_lite\_newdbversion ) || $arm\_lite\_newdbversion == '' ) { |
| [40](#L40) | $arm\_lite\_newdbversion = get\_option( 'armlite\_version' ); |
| [41](#L41) | } |
| [42](#L42) |  |
| [43](#L43) | if ( version\_compare( $arm\_lite\_newdbversion, '4.0.57', '<' ) ) { |
| [44](#L44) | $path = MEMBERSHIPLITE\_VIEWS\_DIR . '/upgrade\_latest\_data.php'; |
| [45](#L45) | include $path; |
| [46](#L46) | } |
| [47](#L47) |  |
| [48](#L48) | } |
| [49](#L49) | function checkversion( $case = '' ) { |
| [50](#L50) |  |
| [51](#L51) | return 1; |
| [52](#L52) | } |
| [53](#L53) | function checksorting() { |
| [54](#L54) |  |
| [55](#L55) | return 1; |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | function arm\_add\_activity( $activity = array() ) { |
| [59](#L59) | global $wp, $wpdb, $current\_user, $arm\_lite\_errors, $ARMemberLite, $arm\_global\_settings, $arm\_social\_feature; |
| [60](#L60) | return false; |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | function arm\_get\_remote\_post\_params( $plugin\_info = '' ) { |
| [64](#L64) | global $wpdb; |
| [65](#L65) |  |
| [66](#L66) | $action = ''; |
| [67](#L67) | $action = $plugin\_info; |
| [68](#L68) |  |
| [69](#L69) | if ( ! function\_exists( 'get\_plugins' ) ) { |
| [70](#L70) | require\_once ABSPATH . 'wp-admin/includes/plugin.php'; |
| [71](#L71) | } |
| [72](#L72) | $plugin\_list = get\_plugins(); |
| [73](#L73) | $site\_url    = ARMLITE\_HOME\_URL; |
| [74](#L74) | $plugins     = array(); |
| [75](#L75) |  |
| [76](#L76) | $active\_plugins = get\_option( 'active\_plugins' ); |
| [77](#L77) |  |
| [78](#L78) | foreach ( $plugin\_list as $key => $plugin ) { |
| [79](#L79) | $is\_active = in\_array( $key, $active\_plugins ); |
| [80](#L80) |  |
| [81](#L81) | // filter for only armember ones, may get some others if using our naming convention |
| [82](#L82) | if ( strpos( strtolower( $plugin['Title'] ), 'armember' ) !== false ) { |
| [83](#L83) | $name      = substr( $key, 0, strpos( $key, '/' ) ); |
| [84](#L84) | $plugins[] = array( |
| [85](#L85) | 'name'      => $name, |
| [86](#L86) | 'version'   => $plugin['Version'], |
| [87](#L87) | 'is\_active' => $is\_active, |
| [88](#L88) | ); |
| [89](#L89) | } |
| [90](#L90) | } |
| [91](#L91) | $plugins = json\_encode( $plugins ); |
| [92](#L92) |  |
| [93](#L93) | // get theme info |
| [94](#L94) | $theme            = wp\_get\_theme(); |
| [95](#L95) | $theme\_name       = $theme->get( 'Name' ); |
| [96](#L96) | $theme\_uri        = $theme->get( 'ThemeURI' ); |
| [97](#L97) | $theme\_version    = $theme->get( 'Version' ); |
| [98](#L98) | $theme\_author     = $theme->get( 'Author' ); |
| [99](#L99) | $theme\_author\_uri = $theme->get( 'AuthorURI' ); |
| [100](#L100) |  |
| [101](#L101) | $im        = is\_multisite(); |
| [102](#L102) | $sortorder = get\_option( 'armSortOrder' ); |
| [103](#L103) |  |
| [104](#L104) | $post = array( |
| [105](#L105) | 'wp'        => get\_bloginfo( 'version' ), |
| [106](#L106) | 'php'       => phpversion(), |
| [107](#L107) | 'mysql'     => $wpdb->db\_version(), |
| [108](#L108) | 'plugins'   => $plugins, |
| [109](#L109) | 'tn'        => $theme\_name, |
| [110](#L110) | 'tu'        => $theme\_uri, |
| [111](#L111) | 'tv'        => $theme\_version, |
| [112](#L112) | 'ta'        => $theme\_author, |
| [113](#L113) | 'tau'       => $theme\_author\_uri, |
| [114](#L114) | 'im'        => $im, |
| [115](#L115) | 'sortorder' => $sortorder, |
| [116](#L116) | ); |
| [117](#L117) |  |
| [118](#L118) | return $post; |
| [119](#L119) | } |
| [120](#L120) |  |
| [121](#L121) |  |
| [122](#L122) | function armgetapiurl() { |
| [123](#L123) | $api\_url = 'https://arpluginshop.com/'; |
| [124](#L124) | return $api\_url; |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) |  |
| [128](#L128) |  |
| [129](#L129) |  |
| [130](#L130) | function checksite( $str ) { |
| [131](#L131) | update\_option( 'arm\_wp\_get\_version', $str ); |
| [132](#L132) | } |
| [133](#L133) |  |
| [134](#L134) | function arm\_get\_activity\_by( $field = '', $value = '', $limit = '', $object\_type = ARRAY\_A ) { |
| [135](#L135) | global $wp, $wpdb, $current\_user, $arm\_lite\_errors, $ARMemberLite, $arm\_global\_settings, $arm\_subscription\_plans; |
| [136](#L136) | $object\_type = ! empty( $object\_type ) ? $object\_type : ARRAY\_A; |
| [137](#L137) | $limit       = ( ! empty( $limit ) ) ? ' LIMIT ' . $limit : ''; |
| [138](#L138) | $result      = false; |
| [139](#L139) | if ( ! empty( $field ) && $value != '' ) { |
| [140](#L140) | $result = $wpdb->get\_results( $wpdb->prepare('SELECT \* FROM `' . $ARMemberLite->tbl\_arm\_activity . "` WHERE `$field`=%s ORDER BY `arm\_activity\_id` DESC $limit",$value), $object\_type );//phpcs:ignore --Reason: $ARMemberLite->tbl\_arm\_activity is table name. False Positive Alarm. |
| [141](#L141) | } |
| [142](#L142) | return $result; |
| [143](#L143) | } |
| [144](#L144) | function arm\_crop\_image() { |
| [145](#L145) | global $ARMemberLite; |
| [146](#L146) | $ARMemberLite->arm\_check\_user\_cap( '', '1' );//phpcs:ignore --Reason:Verifying nonce |
| [147](#L147) | $ARMemberLite->arm\_session\_start(); |
| [148](#L148) | $update\_meta = isset( $\_POST['update\_meta'] ) ? sanitize\_text\_field( $\_POST['update\_meta'] ) : ''; //phpcs:ignore |
| [149](#L149) | $type = isset( $\_POST['type'] ) ? sanitize\_text\_field( $\_POST['type'] ) : ''; //phpcs:ignore |
| [150](#L150) | $cord = isset( $\_POST['cord'] ) ? sanitize\_text\_field( $\_POST['cord'] ) : ''; //phpcs:ignore |
| [151](#L151) | $user\_id = get\_current\_user\_id(); |
| [152](#L152) |  |
| [153](#L153) | $arm\_src = isset( $\_POST['src'] ) ? esc\_url\_raw( $\_POST['src'] ) : ''; //phpcs:ignore |
| [154](#L154) | $arm\_rotate = isset( $\_POST['rotate'] ) ? $\_POST['rotate'] : 'undefined'; //phpcs:ignore |
| [155](#L155) |  |
| [156](#L156) | $meta\_field\_name = $type; |
| [157](#L157) | if( $type == 'profile' || $type == 'profile\_pic' || $type == 'cover' || $type == 'profile\_cover' ){ |
| [158](#L158) | switch ($type) { |
| [159](#L159) | case 'profile': |
| [160](#L160) | case 'profile\_pic': |
| [161](#L161) | $meta\_field\_name = "avatar"; |
| [162](#L162) | break; |
| [163](#L163) | case 'cover': |
| [164](#L164) | case 'profile\_cover': |
| [165](#L165) | $meta\_field\_name = "profile\_cover"; |
| [166](#L166) | break; |
| [167](#L167) | } |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | $file\_base\_name = $ARMemberLite->arm\_get\_basename( $arm\_src ); |
| [171](#L171) |  |
| [172](#L172) | if (!empty($meta\_field\_name) && !empty($\_SESSION['arm\_file\_upload\_arr'][$meta\_field\_name]) && ($\_SESSION['arm\_file\_upload\_arr'][$meta\_field\_name]==$file\_base\_name)) //phpcs:ignore |
| [173](#L173) | { |
| [174](#L174) | /\*this change need to confirm with multisite\*/ |
| [175](#L175) | $arm\_src = MEMBERSHIPLITE\_UPLOAD\_URL . '/' . $ARMemberLite->arm\_get\_basename( $arm\_src ); |
| [176](#L176) |  |
| [177](#L177) | $info     = getimagesize( MEMBERSHIPLITE\_UPLOAD\_DIR . '/' . $ARMemberLite->arm\_get\_basename( $arm\_src ) ); |
| [178](#L178) | $file     = esc\_url\_raw( $arm\_src ); |
| [179](#L179) | $file1    = MEMBERSHIPLITE\_UPLOAD\_DIR . '/' . $ARMemberLite->arm\_get\_basename( $arm\_src ); |
| [180](#L180) | $orgnl\_hw = getimagesize( $file1 ); |
| [181](#L181) | $orgnl\_w  = $orgnl\_hw[0]; |
| [182](#L182) | $orgnl\_h  = $orgnl\_hw[1]; |
| [183](#L183) | $targ\_x1  = 0; |
| [184](#L184) | $targ\_y1  = 0; |
| [185](#L185) | $targ\_x2  = $orgnl\_w; |
| [186](#L186) | $targ\_y2  = $orgnl\_h; |
| [187](#L187) | $is\_crop  = false; |
| [188](#L188) | if ( !empty( $cord ) ) { |
| [189](#L189) | $crop = explode( ',', $cord ); |
| [190](#L190) | if ( $crop[2] != 0 && $crop[3] != 0 ) { |
| [191](#L191) | $targ\_x1 = intval($crop[0]); |
| [192](#L192) | $targ\_y1 = intval($crop[1]); |
| [193](#L193) | $targ\_x2 = intval($crop[2]); |
| [194](#L194) | $targ\_y2 = intval($crop[3]); |
| [195](#L195) | $is\_crop = true; |
| [196](#L196) | } |
| [197](#L197) | } |
| [198](#L198) |  |
| [199](#L199) | if ( $type == 'profile' ) { |
| [200](#L200) |  |
| [201](#L201) | if ( $update\_meta != 'no' ) { |
| [202](#L202) | update\_user\_meta( $user\_id, 'avatar', $file ); |
| [203](#L203) | do\_action( 'arm\_upload\_bp\_avatar', $user\_id ); |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | $thumb\_w = 220; |
| [207](#L207) | $thumb\_h = 220; |
| [208](#L208) | } elseif ( $type == 'cover' ) { |
| [209](#L209) | $thumb\_w = 918; |
| [210](#L210) | $thumb\_h = 320; |
| [211](#L211) |  |
| [212](#L212) | if ( $update\_meta != 'no' ) { |
| [213](#L213) | update\_user\_meta( $user\_id, 'profile\_cover', $file ); |
| [214](#L214) | do\_action( 'arm\_upload\_bp\_profile\_cover', $user\_id ); |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) | if ( $arm\_rotate != 'undefined' ) { |
| [218](#L218) | if ( $arm\_rotate == -90 || $arm\_rotate == 270 ) { |
| [219](#L219) | $arm\_rotate = 90; |
| [220](#L220) | } elseif ( $arm\_rotate == -180 || $arm\_rotate == 180 ) { |
| [221](#L221) | $arm\_rotate = 180; |
| [222](#L222) | } elseif ( $arm\_rotate == -270 || $arm\_rotate == 90 ) { |
| [223](#L223) | $arm\_rotate = 270; |
| [224](#L224) | } |
| [225](#L225) | $new\_targ\_x1     = $targ\_x1; |
| [226](#L226) | $new\_targ\_y1     = $targ\_y1; |
| [227](#L227) | $fileTemp        = $file1; |
| [228](#L228) | $image\_info      = getimagesize( $fileTemp ); |
| [229](#L229) | $original\_width  = $image\_info[0]; |
| [230](#L230) | $original\_height = $image\_info[1]; |
| [231](#L231) | $new\_width       = abs( $targ\_x2 - $new\_targ\_x1 ); |
| [232](#L232) | $new\_height      = abs( $targ\_y2 - $new\_targ\_y1 ); |
| [233](#L233) | if ( $info['mime'] == 'image/png' ) { |
| [234](#L234) | $source         = imagecreatefrompng( $fileTemp ); |
| [235](#L235) | $imageRotate    = imagerotate( $source, $arm\_rotate, 0 ); |
| [236](#L236) | $rotated\_width  = imagesx( $imageRotate ); |
| [237](#L237) | $rotated\_height = imagesy( $imageRotate ); |
| [238](#L238) | $dx             = $rotated\_width - $original\_width; |
| [239](#L239) | $dy             = $rotated\_height - $original\_height; |
| [240](#L240) | $crop\_x         = 0; |
| [241](#L241) | $crop\_y         = 0; |
| [242](#L242) | if ( $is\_crop ) { |
| [243](#L243) | $crop\_x = $dx / 2 + $new\_targ\_x1; |
| [244](#L244) | $crop\_y = $dy / 2 + $new\_targ\_y1; |
| [245](#L245) | } |
| [246](#L246) | $new\_image = imagecreatetruecolor( $targ\_x2, $targ\_y2 ); |
| [247](#L247) | if ( $is\_crop ) { |
| [248](#L248) | imagealphablending( $new\_image, false ); |
| [249](#L249) | imagesavealpha( $new\_image, true ); |
| [250](#L250) | imagecopyresampled( $new\_image, $imageRotate, 0, 0, $targ\_x1, $targ\_y1, $targ\_x2, $targ\_y2, $targ\_x2, $targ\_y2 ); |
| [251](#L251) | $upload = imagepng( $new\_image, $fileTemp ); |
| [252](#L252) | } else { |
| [253](#L253) | $upload = imagepng( $imageRotate, $fileTemp ); |
| [254](#L254) | } |
| [255](#L255) |  |
| [256](#L256) | $original\_info = getimagesize( $file1 ); |
| [257](#L257) | $original\_w    = $original\_info[0]; |
| [258](#L258) | $original\_h    = $original\_info[1]; |
| [259](#L259) | $original\_img  = imagecreatefrompng( $file1 ); |
| [260](#L260) | $thumb\_img     = imagecreatetruecolor( $thumb\_w, $thumb\_h ); |
| [261](#L261) | imagealphablending( $thumb\_img, false ); |
| [262](#L262) | imagesavealpha( $thumb\_img, true ); |
| [263](#L263) | imagecopyresampled( $thumb\_img, $original\_img, 0, 0, 0, 0, $thumb\_w, $thumb\_h, $original\_w, $original\_h ); |
| [264](#L264) | imagepng( $thumb\_img, MEMBERSHIPLITE\_UPLOAD\_DIR . '/' . basename( $file ) ); |
| [265](#L265) | } elseif ( $info['mime'] == 'image/bmp' ) { |
| [266](#L266) | $source         = imagecreatefrombmp( $fileTemp ); |
| [267](#L267) | $imageRotate    = imagerotate( $source, $arm\_rotate, 0 ); |
| [268](#L268) | $rotated\_width  = imagesx( $imageRotate ); |
| [269](#L269) | $rotated\_height = imagesy( $imageRotate ); |
| [270](#L270) | $dx             = $rotated\_width - $original\_width; |
| [271](#L271) | $dy             = $rotated\_height - $original\_height; |
| [272](#L272) | $crop\_x         = 0; |
| [273](#L273) | $crop\_y         = 0; |
| [274](#L274) | $targ\_x1        = $new\_targ\_x1; |
| [275](#L275) | if ( $is\_crop ) { |
| [276](#L276) | $crop\_x = $dx / 2 + $new\_targ\_x1; |
| [277](#L277) | $crop\_y = $dy / 2 + $new\_targ\_y1; |
| [278](#L278) | } |
| [279](#L279) | $new\_image = imagecreatetruecolor( $targ\_x2, $targ\_y2 ); |
| [280](#L280) | if ( $is\_crop ) { |
| [281](#L281) | imagecopyresampled( $new\_image, $imageRotate, 0, 0, $targ\_x1, $targ\_y1, $targ\_x2, $targ\_y2, $targ\_x2, $targ\_y2 ); |
| [282](#L282) | $upload = imagebmp( $new\_image, $fileTemp ); |
| [283](#L283) | } else { |
| [284](#L284) | $upload = imagebmp( $imageRotate, $fileTemp ); |
| [285](#L285) | } |
| [286](#L286) |  |
| [287](#L287) | $original\_info = getimagesize( $file1 ); |
| [288](#L288) | $original\_w    = $original\_info[0]; |
| [289](#L289) | $original\_h    = $original\_info[1]; |
| [290](#L290) | $original\_img  = imagecreatefrombmp( $file1 ); |
| [291](#L291) | $thumb\_img     = imagecreatetruecolor( $thumb\_w, $thumb\_h ); |
| [292](#L292) | imagecopyresampled( $thumb\_img, $original\_img, 0, 0, 0, 0, $thumb\_w, $thumb\_h, $original\_w, $original\_h ); |
| [293](#L293) | imagebmp( $thumb\_img, MEMBERSHIPLITE\_UPLOAD\_DIR . '/' . basename( $file ) ); |
| [294](#L294) | } else { |
| [295](#L295) | $source         = imagecreatefromjpeg( $fileTemp ); |
| [296](#L296) | $imageRotate    = imagerotate( $source, $arm\_rotate, 0 ); |
| [297](#L297) | $rotated\_width  = imagesx( $imageRotate ); |
| [298](#L298) | $rotated\_height = imagesy( $imageRotate ); |
| [299](#L299) | $dx             = $rotated\_width - $original\_width; |
| [300](#L300) | $dy             = $rotated\_height - $original\_height; |
| [301](#L301) | $crop\_x         = 0; |
| [302](#L302) | $crop\_y         = 0; |
| [303](#L303) | $targ\_x1        = $new\_targ\_x1; |
| [304](#L304) | if ( $is\_crop ) { |
| [305](#L305) | $crop\_x = $dx / 2 + $new\_targ\_x1; |
| [306](#L306) | $crop\_y = $dy / 2 + $new\_targ\_y1; |
| [307](#L307) | } |
| [308](#L308) | $new\_image = imagecreatetruecolor( $targ\_x2, $targ\_y2 ); |
| [309](#L309) | if ( $is\_crop ) { |
| [310](#L310) | imagecopyresampled( $new\_image, $imageRotate, 0, 0, $targ\_x1, $targ\_y1, $targ\_x2, $targ\_y2, $targ\_x2, $targ\_y2 ); |
| [311](#L311) | $upload = imagejpeg( $new\_image, $fileTemp ); |
| [312](#L312) | } else { |
| [313](#L313) | $upload = imagejpeg( $imageRotate, $fileTemp ); |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | $original\_info = getimagesize( $file1 ); |
| [317](#L317) | $original\_w    = $original\_info[0]; |
| [318](#L318) | $original\_h    = $original\_info[1]; |
| [319](#L319) | $original\_img  = imagecreatefromjpeg( $file1 ); |
| [320](#L320) | $thumb\_img     = imagecreatetruecolor( $thumb\_w, $thumb\_h ); |
| [321](#L321) | imagecopyresampled( $thumb\_img, $original\_img, 0, 0, 0, 0, $thumb\_w, $thumb\_h, $original\_w, $original\_h ); |
| [322](#L322) | imagejpeg( $thumb\_img, MEMBERSHIPLITE\_UPLOAD\_DIR . '/' . basename( $file ) ); |
| [323](#L323) | } |
| [324](#L324) | } |
| [325](#L325) |  |
| [326](#L326) | if ( $type == 'profile' ) { |
| [327](#L327) | if ( $update\_meta != 'no' ) { |
| [328](#L328) | update\_user\_meta( $user\_id, 'avatar', $file ); |
| [329](#L329) | do\_action( 'arm\_after\_upload\_bp\_avatar', $user\_id ); |
| [330](#L330) | } |
| [331](#L331) | } elseif ( $type == 'cover' ) { |
| [332](#L332) | if ( $update\_meta != 'no' ) { |
| [333](#L333) | update\_user\_meta( $user\_id, 'profile\_cover', $file ); |
| [334](#L334) | do\_action( 'arm\_after\_upload\_bp\_profile\_cover', $user\_id ); |
| [335](#L335) | } |
| [336](#L336) | } |
| [337](#L337) |  |
| [338](#L338) | echo esc\_url( $file ); |
| [339](#L339) | } |
| [340](#L340) | die(); |
| [341](#L341) | } |
| [342](#L342) |  |
| [343](#L343) | function path\_only( $file ) { |
| [344](#L344) | return trailingslashit( dirname( $file ) ); |
| [345](#L345) | } |
| [346](#L346) |  |
| [347](#L347) | function arm\_allowed\_wp\_mime\_types() { |
| [348](#L348) | $mimes = get\_allowed\_mime\_types(); |
| [349](#L349) | ksort( $mimes ); |
| [350](#L350) | $mcount       = count( $mimes ); |
| [351](#L351) | $third        = ceil( $mcount / 3 ); |
| [352](#L352) | $c            = 0; |
| [353](#L353) | $mimes['exe'] = ''; |
| [354](#L354) | unset( $mimes['exe'] ); |
| [355](#L355) |  |
| [356](#L356) | $allowed\_mimes = array(); |
| [357](#L357) |  |
| [358](#L358) | foreach ( $mimes as $ext => $type ) { |
| [359](#L359) | if ( strpos( $ext, '|' ) !== false ) { |
| [360](#L360) | $exts = explode( '|', $ext ); |
| [361](#L361) | foreach ( $exts as $extension ) { |
| [362](#L362) | if ( $extension != '' ) { |
| [363](#L363) | array\_push( $allowed\_mimes, $extension ); |
| [364](#L364) | } |
| [365](#L365) | } |
| [366](#L366) | } else { |
| [367](#L367) | array\_push( $allowed\_mimes, $ext ); |
| [368](#L368) | } |
| [369](#L369) | } |
| [370](#L370) |  |
| [371](#L371) | return $allowed\_mimes; |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | function arm\_upload\_front() { |
| [375](#L375) | global $ARMemberLite; |
| [376](#L376) | $ARMemberLite->arm\_check\_user\_cap( '', '1' ); //phpcs:ignore --Reason:Verifying nonce |
| [377](#L377) | $arm\_lite\_upload\_dir = MEMBERSHIPLITE\_UPLOAD\_DIR . '/'; |
| [378](#L378) | $arm\_lite\_upload\_url = MEMBERSHIPLITE\_UPLOAD\_URL . '/'; |
| [379](#L379) | $ARMemberLite->arm\_session\_start(); |
| [380](#L380) | $file\_name = ( isset( $\_SERVER['HTTP\_X\_FILENAME'] ) ? "arm\_".arm\_generate\_random\_code()."\_".($ARMemberLite->arm\_get\_basename($\_SERVER['HTTP\_X\_FILENAME'])) : false ); //phpcs:ignore |
| [381](#L381) | $file\_meta\_name = (isset($\_SERVER['HTTP\_FILEMETANAME']) ? sanitize\_text\_field($\_SERVER['HTTP\_FILEMETANAME']) : false); //phpcs:ignore |
| [382](#L382) |  |
| [383](#L383) | if($file\_meta\_name && $file\_meta\_name == 'profile' || $file\_meta\_name == 'profile\_pic' || $file\_meta\_name == 'cover' || $file\_meta\_name == 'profile\_cover' ){ |
| [384](#L384) | switch ($file\_meta\_name) { |
| [385](#L385) | case 'profile': |
| [386](#L386) | case 'profile\_pic': |
| [387](#L387) | $file\_meta\_name = "avatar"; |
| [388](#L388) | break; |
| [389](#L389) | case 'cover': |
| [390](#L390) | $file\_meta\_name = "profile\_cover"; |
| [391](#L391) | break; |
| [392](#L392) | } |
| [393](#L393) | } |
| [394](#L394) | $response  = ''; |
| [395](#L395) | if ( $file\_name ) { |
| [396](#L396) | $server\_content\_length = !empty( $\_SERVER['CONTENT\_LENGTH']) ? $\_SERVER['CONTENT\_LENGTH'] : ''; //phpcs:ignore |
| [397](#L397) | $content\_length = (int) $server\_content\_length; |
| [398](#L398) | $file\_size\_new  = number\_format( ( $content\_length / 1048576 ), 2, '.', '' ); |
| [399](#L399) |  |
| [400](#L400) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $\_FILES['armfileselect'] ); //phpcs:ignore |
| [401](#L401) |  |
| [402](#L402) | $allowed = false; |
| [403](#L403) | $allowed = apply\_filters('arm\_modify\_file\_validation\_external', $allowed); |
| [404](#L404) | if( $arm\_is\_valid\_file && ( isset($\_SESSION['arm\_file\_upload\_arr'][$file\_meta\_name]) || $allowed ) ) |
| [405](#L405) | { |
| [406](#L406) | $this->session\_for\_file\_handle($file\_meta\_name,$file\_name); |
| [407](#L407) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [408](#L408) | $file\_result          = $this->arm\_upload\_file\_function( $\_FILES['armfileselect']['tmp\_name'], $arm\_upload\_file\_path ); //phpcs:ignore |
| [409](#L409) |  |
| [410](#L410) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [411](#L411) | } |
| [412](#L412) | echo $response; //phpcs:ignore |
| [413](#L413) | exit; |
| [414](#L414) | } else { |
| [415](#L415) | $files             = $\_FILES['armfileselect']; //phpcs:ignore |
| [416](#L416) | $file\_size         = ( isset( $\_REQUEST['allow\_size'] ) ) ? intval($\_REQUEST['allow\_size']) : ''; |
| [417](#L417) | $file\_name         = !empty( $\_REQUEST['fname'] ) ? "arm\_".arm\_generate\_random\_code()."\_".(sanitize\_text\_field($\_REQUEST['fname'])) : ''; |
| [418](#L418) | $file\_size\_new     = intval($files['size']); |
| [419](#L419) | $file\_size\_new     = number\_format( $file\_size\_new / 1048576, 2, '.', '' ); |
| [420](#L420) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $files ); |
| [421](#L421) |  |
| [422](#L422) | $allowed = false; |
| [423](#L423) | $allowed = apply\_filters('arm\_modify\_file\_validation\_external', $allowed); |
| [424](#L424) | if( $arm\_is\_valid\_file && ( isset($\_SESSION['arm\_file\_upload\_arr'][$file\_meta\_name]) || $allowed ) ) |
| [425](#L425) | { |
| [426](#L426) | if ( ! empty( $file\_size ) && ( $file\_size\_new > $file\_size ) ) { |
| [427](#L427) | $response = "<p class='error\_upload\_size'>" . esc\_html\_\_( 'File size not allowed', 'armember-membership' ) . '</p>'; |
| [428](#L428) | } else { |
| [429](#L429) | $this->session\_for\_file\_handle($file\_meta\_name,$file\_name); |
| [430](#L430) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [431](#L431) | $this->arm\_upload\_file\_function( $files['tmp\_name'], $arm\_upload\_file\_path ); |
| [432](#L432) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [433](#L433) | echo "<p class='uploaded'>" . esc\_html($arm\_lite\_upload\_url) . esc\_html($file\_name) . '</p>'; //phpcs:ignore |
| [434](#L434) | } |
| [435](#L435) | } |
| [436](#L436) | } |
| [437](#L437) | exit; |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | function arm\_upload\_cover() { |
| [441](#L441) | global $ARMemberLite; |
| [442](#L442) | $ARMemberLite->arm\_check\_user\_cap( '', '1' ); //phpcs:ignore --Reason:Verifying nonce |
| [443](#L443) | $arm\_lite\_upload\_dir = MEMBERSHIPLITE\_UPLOAD\_DIR . '/'; |
| [444](#L444) | $arm\_lite\_upload\_url = MEMBERSHIPLITE\_UPLOAD\_URL . '/'; |
| [445](#L445) | $ARMemberLite->arm\_session\_start(); |
| [446](#L446) | $file\_name = ( isset( $\_SERVER['HTTP\_X\_FILENAME'] ) ? "arm\_".arm\_generate\_random\_code()."\_".($ARMemberLite->arm\_get\_basename($\_SERVER['HTTP\_X\_FILENAME'])) : false ); //phpcs:ignore |
| [447](#L447) | $file\_meta\_name = (isset($\_SERVER['HTTP\_FILEMETANAME']) ? sanitize\_text\_field($\_SERVER['HTTP\_FILEMETANAME']) : false); //phpcs:ignore |
| [448](#L448) | switch ($file\_meta\_name) { |
| [449](#L449) | case 'profile\_cover': |
| [450](#L450) | case 'cover': |
| [451](#L451) | $file\_meta\_name = "profile\_cover"; |
| [452](#L452) | break; |
| [453](#L453) | } |
| [454](#L454) | $response  = ''; |
| [455](#L455) | $userID    = get\_current\_user\_id(); |
| [456](#L456) | if ( $file\_name && ! empty( $userID ) && $userID != 0 ) { |
| [457](#L457) | $arm\_content\_length = !empty( $\_SERVER['CONTENT\_LENGTH'] ) ? $\_SERVER['CONTENT\_LENGTH'] : ''; //phpcs:ignore |
| [458](#L458) | $content\_length = (int) $arm\_content\_length; |
| [459](#L459) | $file\_size\_new  = number\_format( ( $content\_length / 1048576 ), 2, '.', '' ); |
| [460](#L460) |  |
| [461](#L461) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $\_FILES['armfileselect'] ); //phpcs:ignore |
| [462](#L462) |  |
| [463](#L463) | $allowed = false; |
| [464](#L464) | $allowed = apply\_filters('arm\_modify\_file\_validation\_external', $allowed); |
| [465](#L465) | if( $arm\_is\_valid\_file && ( isset($\_SESSION['arm\_file\_upload\_arr'][$file\_meta\_name]) || $allowed ) ) |
| [466](#L466) | { |
| [467](#L467) | $this->session\_for\_file\_handle($file\_meta\_name,$file\_name); |
| [468](#L468) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [469](#L469) | $armfile\_select\_tmp\_name = !empty( $\_FILES['armfileselect']['tmp\_name']) ? $\_FILES['armfileselect']['tmp\_name'] : ''; //phpcs:ignore |
| [470](#L470) | $this->arm\_upload\_file\_function( sanitize\_text\_field($armfile\_select\_tmp\_name), $arm\_upload\_file\_path ); |
| [471](#L471) |  |
| [472](#L472) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [473](#L473) | echo $response; //phpcs:ignore |
| [474](#L474) | exit; |
| [475](#L475) | } |
| [476](#L476) | } else { |
| [477](#L477) | $files         = !empty($\_FILES['armfileselect']) ? $\_FILES['armfileselect'] : ''; //phpcs:ignore |
| [478](#L478) | $file\_size     = ( isset( $\_REQUEST['allow\_size'] ) ) ? intval($\_REQUEST['allow\_size']) : ''; |
| [479](#L479) | $file\_name     = !empty($\_REQUEST['fname']) ? sanitize\_text\_field($\_REQUEST['fname']) : ''; |
| [480](#L480) | $file\_size\_new = !empty( $\_FILES['armfileselect']['size'] ) ? intval($\_FILES['armfileselect']['size']) : ''; |
| [481](#L481) | $file\_size\_new = number\_format( $file\_size\_new / 1048576, 2, '.', '' ); |
| [482](#L482) |  |
| [483](#L483) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $files ); |
| [484](#L484) |  |
| [485](#L485) | $allowed = false; |
| [486](#L486) | $allowed = apply\_filters('arm\_modify\_file\_validation\_external', $allowed); |
| [487](#L487) | if( $arm\_is\_valid\_file && ( isset($\_SESSION['arm\_file\_upload\_arr'][$file\_meta\_name]) || $allowed ) ) |
| [488](#L488) | { |
| [489](#L489) | if ( ! empty( $file\_size ) && ( $file\_size\_new > $file\_size ) ) { |
| [490](#L490) | $response = "<p class='error\_upload\_size'>" . esc\_html\_\_( 'File size not allowed', 'armember-membership' ) . '</p>'; |
| [491](#L491) | } else { |
| [492](#L492) | $this->session\_for\_file\_handle($file\_meta\_name,$file\_name); |
| [493](#L493) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [494](#L494) | $this->arm\_upload\_file\_function( $files['tmp\_name'], $arm\_upload\_file\_path ); |
| [495](#L495) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [496](#L496) | echo "<p class='uploaded'>" . esc\_html($arm\_lite\_upload\_url) . esc\_html($file\_name) . '</p>'; //phpcs:ignore |
| [497](#L497) | } |
| [498](#L498) | } |
| [499](#L499) | } |
| [500](#L500) | exit; |
| [501](#L501) | } |
| [502](#L502) |  |
| [503](#L503) | function arm\_upload\_profile() { |
| [504](#L504) |  |
| [505](#L505) | global $ARMemberLite; |
| [506](#L506) | $ARMemberLite->arm\_check\_user\_cap( '', '1' ); //phpcs:ignore --Reason:Verifying nonce |
| [507](#L507) |  |
| [508](#L508) | $arm\_lite\_upload\_dir = MEMBERSHIPLITE\_UPLOAD\_DIR . '/'; |
| [509](#L509) | $arm\_lite\_upload\_url = MEMBERSHIPLITE\_UPLOAD\_URL . '/'; |
| [510](#L510) | $ARMemberLite->arm\_session\_start(); |
| [511](#L511) | $file\_name = ( isset( $\_SERVER['HTTP\_X\_FILENAME'] ) ?  "arm\_".arm\_generate\_random\_code()."\_".($ARMemberLite->arm\_get\_basename($\_SERVER['HTTP\_X\_FILENAME']))  : false ); //phpcs:ignore |
| [512](#L512) | $file\_meta\_name = (isset($\_SERVER['HTTP\_FILEMETANAME']) ? sanitize\_text\_field($\_SERVER['HTTP\_FILEMETANAME']) : false); //phpcs:ignore |
| [513](#L513) | switch ($file\_meta\_name) { |
| [514](#L514) | case 'profile': |
| [515](#L515) | case 'avatar': |
| [516](#L516) | $file\_meta\_name = "avatar"; |
| [517](#L517) | break; |
| [518](#L518) | } |
| [519](#L519) | $response  = ''; |
| [520](#L520) | $userID    = get\_current\_user\_id(); |
| [521](#L521) | if ( $file\_name && ! empty( $userID ) && $userID != 0 ) { |
| [522](#L522) | // $oldCover = get\_user\_meta($userID, 'profile\_cover', true); |
| [523](#L523) | $armcontent\_length = !empty( $\_SERVER['CONTENT\_LENGTH'] ) ? $\_SERVER['CONTENT\_LENGTH'] : ''; //phpcs:ignore |
| [524](#L524) | $content\_length = (int) $armcontent\_length; |
| [525](#L525) | $file\_size\_new  = number\_format( ( $content\_length / 1048576 ), 2, '.', '' ); |
| [526](#L526) |  |
| [527](#L527) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $\_FILES['armfileselect'] ); //phpcs:ignore |
| [528](#L528) |  |
| [529](#L529) | $allowed = false; |
| [530](#L530) | $allowed = apply\_filters('arm\_modify\_file\_validation\_external', $allowed); |
| [531](#L531) | if( $arm\_is\_valid\_file && ( isset($\_SESSION['arm\_file\_upload\_arr'][$file\_meta\_name]) || $allowed ) ) |
| [532](#L532) | { |
| [533](#L533) | $this->session\_for\_file\_handle($file\_meta\_name,$file\_name); |
| [534](#L534) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [535](#L535) | $armfileselect\_temp\_nm = !empty( $\_FILES['armfileselect']['tmp\_name'] ) ? $\_FILES['armfileselect']['tmp\_name'] : ''; //phpcs:ignore |
| [536](#L536) | $this->arm\_upload\_file\_function( sanitize\_text\_field($armfileselect\_temp\_nm), $arm\_upload\_file\_path ); |
| [537](#L537) |  |
| [538](#L538) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [539](#L539) | echo $response; //phpcs:ignore |
| [540](#L540) | exit; |
| [541](#L541) | } |
| [542](#L542) | } else { |
| [543](#L543) | $files         = $\_FILES['armfileselect']; //phpcs:ignore |
| [544](#L544) | $file\_size     = ( isset( $\_REQUEST['allow\_size'] ) ) ? intval($\_REQUEST['allow\_size']) : ''; |
| [545](#L545) | $file\_name     = !empty( $\_REQUEST['fname'] ) ? "arm\_".arm\_generate\_random\_code()."\_".(sanitize\_text\_field($\_REQUEST['fname'])) : ''; |
| [546](#L546) | $file\_size\_new = intval($files['size']); |
| [547](#L547) | $file\_size\_new = number\_format( $file\_size\_new / 1048576, 2, '.', '' ); |
| [548](#L548) |  |
| [549](#L549) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $files ); |
| [550](#L550) |  |
| [551](#L551) | $allowed = false; |
| [552](#L552) | $allowed = apply\_filters('arm\_modify\_file\_validation\_external', $allowed); |
| [553](#L553) | if( $arm\_is\_valid\_file && ( isset($\_SESSION['arm\_file\_upload\_arr'][$file\_meta\_name]) || $allowed ) ) |
| [554](#L554) | { |
| [555](#L555) | if ( ! empty( $file\_size ) && ( $file\_size\_new > $file\_size ) ) { |
| [556](#L556) | $response = "<p class='error\_upload\_size'>" . esc\_html\_\_( 'File size not allowed', 'armember-membership' ) . '</p>'; |
| [557](#L557) | } else { |
| [558](#L558) | $this->session\_for\_file\_handle($file\_meta\_name,$file\_name); |
| [559](#L559) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [560](#L560) | $this->arm\_upload\_file\_function( $files['tmp\_name'], $arm\_upload\_file\_path ); |
| [561](#L561) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [562](#L562) | echo "<p class='uploaded'>" . esc\_html($arm\_lite\_upload\_url) . esc\_html($file\_name) . '</p>'; //phpcs:ignore |
| [563](#L563) | } |
| [564](#L564) | } |
| [565](#L565) | } |
| [566](#L566) | exit; |
| [567](#L567) | } |
| [568](#L568) |  |
| [569](#L569) | function arm\_import\_user() { |
| [570](#L570) | global $ARMemberLite, $arm\_capabilities\_global; |
| [571](#L571) |  |
| [572](#L572) | $ARMemberLite->arm\_check\_user\_cap( $arm\_capabilities\_global['arm\_manage\_general\_settings'], '1' ); //phpcs:ignore --Reason:Verifying nonce |
| [573](#L573) | $arm\_lite\_upload\_dir = MEMBERSHIPLITE\_UPLOAD\_DIR . '/'; |
| [574](#L574) | $arm\_lite\_upload\_url = MEMBERSHIPLITE\_UPLOAD\_URL . '/'; |
| [575](#L575) | $file\_name           = ( isset( $\_SERVER['HTTP\_X\_FILENAME'] ) ? $\_SERVER['HTTP\_X\_FILENAME'] : false ); //phpcs:ignore |
| [576](#L576) | $response            = ''; |
| [577](#L577) | $userID              = get\_current\_user\_id(); |
| [578](#L578) | if ( $file\_name && ! empty( $userID ) && $userID != 0 ) { |
| [579](#L579) | $file\_size\_new = !empty($\_FILES['armfileselect']['size']) ? intval($\_FILES['armfileselect']['size']) : ''; |
| [580](#L580) | $file\_size\_new = number\_format( $file\_size\_new / 1048576, 2, '.', '' ); |
| [581](#L581) |  |
| [582](#L582) | add\_filter( 'upload\_mimes', array( $this, 'arm\_allow\_mime\_type' ), 1 ); |
| [583](#L583) |  |
| [584](#L584) | $arm\_is\_valid\_file = $this->arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size\_new, $\_FILES['armfileselect'] ); // phpcs:ignore |
| [585](#L585) | if ( $arm\_is\_valid\_file ) { |
| [586](#L586) | $arm\_upload\_file\_path = $arm\_lite\_upload\_dir . $file\_name; |
| [587](#L587) | $arm\_file\_select\_temp\_name = !empty($\_FILES['armfileselect']['tmp\_name']) ? $\_FILES['armfileselect']['tmp\_name'] : ''; //phpcs:ignore |
| [588](#L588) | $this->arm\_upload\_file\_function( $arm\_file\_select\_temp\_name, $arm\_upload\_file\_path ); |
| [589](#L589) | $response = $arm\_lite\_upload\_url . $file\_name; |
| [590](#L590) | echo $response; //phpcs:ignore |
| [591](#L591) | exit; |
| [592](#L592) | } |
| [593](#L593) | } |
| [594](#L594) | echo $response; //phpcs:ignore |
| [595](#L595) | exit; |
| [596](#L596) | } |
| [597](#L597) |  |
| [598](#L598) | function arm\_allow\_mime\_type( $mime\_type\_array ) { |
| [599](#L599) | if ( is\_array( $mime\_type\_array ) && ! array\_key\_exists( 'xml', $mime\_type\_array ) ) { |
| [600](#L600) | $mime\_type\_array['xml'] = 'text/xml'; |
| [601](#L601) | } |
| [602](#L602) | return $mime\_type\_array; |
| [603](#L603) | } |
| [604](#L604) |  |
| [605](#L605) | function arm\_upload\_file\_function( $source, $destination ) { |
| [606](#L606) | if ( empty( $source ) || empty( $destination ) ) { |
| [607](#L607) | return false; |
| [608](#L608) | } |
| [609](#L609) |  |
| [610](#L610) | if ( ! function\_exists( 'WP\_Filesystem' ) ) { |
| [611](#L611) | require\_once ABSPATH . 'wp-admin/includes/file.php'; |
| [612](#L612) | } |
| [613](#L613) |  |
| [614](#L614) | WP\_Filesystem(); |
| [615](#L615) | global $wp\_filesystem; |
| [616](#L616) |  |
| [617](#L617) | $file\_content = $wp\_filesystem->get\_contents( $source ); |
| [618](#L618) |  |
| [619](#L619) | $result = $wp\_filesystem->put\_contents( $destination, $file\_content, 0777 ); |
| [620](#L620) |  |
| [621](#L621) | return $result; |
| [622](#L622) | } |
| [623](#L623) |  |
| [624](#L624) | function arm\_check\_for\_invalid\_data( $file\_content = '', $arm\_file\_array = array() ) { |
| [625](#L625) |  |
| [626](#L626) | $arm\_valid\_pattern = '/(\<\?(php))/'; |
| [627](#L627) |  |
| [628](#L628) |  |
| [629](#L629) | $arm\_valid\_pattern\_script = '/(\<(script))/'; |
| [630](#L630) | $arm\_valid\_pattern\_iframe = '/(\<(iframe))/'; |
| [631](#L631) | $arm\_valid\_pattern\_array = array( 'onblur', 'onchange', 'onclick', 'oncontextmenu', 'oncopy', 'oncut', 'ondblclick', 'ondrag', 'ondragend', 'ondragenter', 'ondragleave', 'ondragover', 'ondragstart', 'ondrop', 'onfocus', 'oninput', 'oninvalid', 'onkeydown', 'onkeypress', 'onkeyup', 'onmousedown', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup', 'onmousewheel', 'onpaste', 'onscroll', 'onselect', 'onwheel', 'javascript' ); |
| [632](#L632) |  |
| [633](#L633) | $arm\_valid\_pattern\_val\_flag = true; |
| [634](#L634) | foreach($arm\_valid\_pattern\_array as $arm\_invalid\_keyword) |
| [635](#L635) | { |
| [636](#L636) | if( false !== stripos( $file\_content, $arm\_invalid\_keyword) ) |
| [637](#L637) | { |
| [638](#L638) | $arm\_valid\_pattern\_val\_flag = false; |
| [639](#L639) | break; |
| [640](#L640) | } |
| [641](#L641) | } |
| [642](#L642) |  |
| [643](#L643) | $arm\_wp\_filetype\_check   = wp\_check\_filetype\_and\_ext( $arm\_file\_array['tmp\_name'], $arm\_file\_array['name'] ); |
| [644](#L644) |  |
| [645](#L645) | $ext             = empty( $arm\_wp\_filetype\_check['ext'] ) ? '' : $arm\_wp\_filetype\_check['ext']; |
| [646](#L646) | $type            = empty( $arm\_wp\_filetype\_check['type'] ) ? '' : $arm\_wp\_filetype\_check['type']; |
| [647](#L647) | //$proper\_filename = empty( $arm\_wp\_filetype\_check['proper\_filename'] ) ? '' : $arm\_wp\_filetype\_check['proper\_filename']; |
| [648](#L648) |  |
| [649](#L649) | if ( preg\_match( $arm\_valid\_pattern, $file\_content ) || preg\_match( $arm\_valid\_pattern\_script, $file\_content ) || preg\_match( $arm\_valid\_pattern\_iframe, $file\_content ) || $arm\_valid\_pattern\_val\_flag==false || ( ( ! $type || ! $ext ) && !current\_user\_can( 'unfiltered\_upload' ) ) ) |
| [650](#L650) | { |
| [651](#L651) | return false; |
| [652](#L652) | } |
| [653](#L653) |  |
| [654](#L654) | return true; |
| [655](#L655) | } |
| [656](#L656) |  |
| [657](#L657) | function arm\_check\_valid\_file\_ext\_data( $file\_name, $file\_size, $arm\_files\_arr ) { |
| [658](#L658) | $is\_valid\_file = 0; |
| [659](#L659) | if ( $file\_name && $file\_size <= 20 ) { |
| [660](#L660) | $arm\_allowed\_mimes = $this->arm\_allowed\_wp\_mime\_types(); |
| [661](#L661) | $denyExts          = array( 'php', 'php2', 'php3', 'php4', 'php5', 'pl', 'py', 'jsp', 'asp', 'exe', 'cgi', 'css', 'js', 'html', 'htm', 'htaccess' ); |
| [662](#L662) |  |
| [663](#L663) | $checkext = explode( '.', $file\_name ); |
| [664](#L664) | $ext      = strtolower( $checkext[ count( $checkext ) - 1 ] ); |
| [665](#L665) |  |
| [666](#L666) | $actual\_file\_name = $arm\_files\_arr['name']; |
| [667](#L667) | $actual\_checkext  = explode( '.', $actual\_file\_name ); |
| [668](#L668) | $actual\_ext       = strtolower( $actual\_checkext[ count( $actual\_checkext ) - 1 ] ); |
| [669](#L669) |  |
| [670](#L670) | if ( ! in\_array( $ext, $denyExts ) && in\_array( $ext, $arm\_allowed\_mimes ) && ! in\_array( $actual\_ext, $denyExts ) && in\_array( $actual\_ext, $arm\_allowed\_mimes ) ) { |
| [671](#L671) | if ( ! function\_exists( 'WP\_Filesystem' ) ) { |
| [672](#L672) | require\_once ABSPATH . 'wp-admin/includes/file.php'; |
| [673](#L673) | } |
| [674](#L674) | WP\_Filesystem(); |
| [675](#L675) | global $wp\_filesystem; |
| [676](#L676) | $file\_content = $wp\_filesystem->get\_contents( $arm\_files\_arr['tmp\_name'] ); |
| [677](#L677) |  |
| [678](#L678) | $valid\_data = $this->arm\_check\_for\_invalid\_data( $file\_content, $arm\_files\_arr ); |
| [679](#L679) |  |
| [680](#L680) | if ( ! $valid\_data ) { |
| [681](#L681) | echo "<p class='error\_upload\_size'>" . esc\_html\_\_( 'The file could not be uploaded due to security reason as it contains malicious code', 'armember-membership' ) . '</p>'; |
| [682](#L682) | header( 'HTTP/1.0 401 Unauthorized' ); |
| [683](#L683) | die; |
| [684](#L684) | } else { |
| [685](#L685) | $is\_valid\_file = 1; |
| [686](#L686) | } |
| [687](#L687) | } |
| [688](#L688) | } else { |
| [689](#L689) | echo "<p class='error\_upload\_size'>" . esc\_html\_\_( 'This file could not be processed due file limit exceeded.', 'armember-membership' ) . '</p>'; |
| [690](#L690) | die; |
| [691](#L691) | } |
| [692](#L692) | return $is\_valid\_file; |
| [693](#L693) | } |
| [694](#L694) |  |
| [695](#L695) | function arm\_deactivate\_feedback\_popup() { |
| [696](#L696) | $question\_options                      = array(); |
| [697](#L697) | $question\_options['list\_data\_options'] = array( |
| [698](#L698) | 'setup-difficult'  => esc\_html\_\_( 'Set up is too difficult', 'armember-membership' ), |
| [699](#L699) | 'docs-improvement' => esc\_html\_\_( 'Lack of documentation', 'armember-membership' ), |
| [700](#L700) | 'features'         => esc\_html\_\_( 'Not the features I wanted', 'armember-membership' ), |
| [701](#L701) | 'better-plugin'    => esc\_html\_\_( 'Found a better plugin', 'armember-membership' ), |
| [702](#L702) | 'incompatibility'  => esc\_html\_\_( 'Incompatible with theme or plugin', 'armember-membership' ), |
| [703](#L703) | 'bought-premium'   => esc\_html\_\_( 'I bought premium version of ARMember', 'armember-membership' ), |
| [704](#L704) | 'maintenance'      => esc\_html\_\_( 'Other', 'armember-membership' ), |
| [705](#L705) | ); |
| [706](#L706) |  |
| [707](#L707) | $html  = '<div class="armlite-deactivate-form-head"><strong>' . esc\_html\_\_( 'ARMember Lite - Sorry to see you go', 'armember-membership' ) . '</strong></div>'; |
| [708](#L708) | $html .= '<div class="armlite-deactivate-form-body">'; |
| [709](#L709) |  |
| [710](#L710) | if ( is\_array( $question\_options['list\_data\_options'] ) ) { |
| [711](#L711) | $html .= '<div class="armlite-deactivate-options">'; |
| [712](#L712) | $html .= '<p><strong>' . esc\_html( esc\_html\_\_( 'Before you deactivate the ARMember Lite plugin, would you quickly give us your reason for doing so?', 'armember-membership' ) ) . '</strong></p><p>'; |
| [713](#L713) |  |
| [714](#L714) | foreach ( $question\_options['list\_data\_options'] as $key => $option ) { |
| [715](#L715) | $html .= '<input type="radio" name="armlite-deactivate-reason" id="' . esc\_attr( $key ) . '" value="' . esc\_attr( $key ) . '"> <label for="' . esc\_attr( $key ) . '">' . esc\_attr( $option ) . '</label><br>'; |
| [716](#L716) | } |
| [717](#L717) |  |
| [718](#L718) | $html .= '</p><label id="armlite-deactivate-details-label" for="armlite-deactivate-reasons"><strong>' . esc\_html( esc\_html\_\_( 'How could we improve ?', 'armember-membership' ) ) . '</strong></label><textarea name="armlite-deactivate-details" id="armlite-deactivate-details" rows="2" style="width:100%"></textarea>'; |
| [719](#L719) |  |
| [720](#L720) | $html .= '</div>'; |
| [721](#L721) | } |
| [722](#L722) | $html .= '<hr/>'; |
| [723](#L723) |  |
| [724](#L724) | $html .= '</div>'; |
| [725](#L725) | $html .= '<p class="deactivating-spinner"><span class="spinner"></span> ' . esc\_html\_\_( 'Submitting form', 'armember-membership' ) . '</p>'; |
| [726](#L726) | $html .= '<div class="armlite-deactivate-form-footer"><p>'; |
| [727](#L727) | $html .= '<label for="armlite\_anonymous" title="' |
| [728](#L728) | . esc\_html\_\_( 'If you UNCHECK this then your email address will be sent along with your feedback. This can be used by armlite to get back to you for more info or a solution.', 'armember-membership' ) |
| [729](#L729) | . '"><input type="checkbox" name="armlite-deactivate-tracking" id="armlite\_anonymous"> ' . esc\_html\_\_( 'Send anonymous', 'armember-membership' ) . '</label><br>'; |
| [730](#L730) | $html .= '<a id="armlite-deactivate-submit-form" class="button button-primary" href="#"><span>' |
| [731](#L731) | . esc\_html\_\_( 'Submit', 'armember-membership' ) |
| [732](#L732) | . '&nbsp;and&nbsp;'. esc\_html\_\_( 'Deactivate', 'armember-membership' ).'</span></a>'; |
| [733](#L733) | $html .= '</p></div>'; |
| [734](#L734) | ?> |
| [735](#L735) | <div class="armlite-deactivate-form-bg"></div> |
| [736](#L736) | <style type="text/css"> |
| [737](#L737) | .armlite-deactivate-form-active .armlite-deactivate-form-bg {background: rgba( 0, 0, 0, .5 );position: fixed;top: 0;left: 0;width: 100%;height: 100%; z-index: 9;} |
| [738](#L738) | .armlite-deactivate-form-wrapper {position: relative;z-index: 999;display: none; } |
| [739](#L739) | .armlite-deactivate-form-active .armlite-deactivate-form-wrapper {display: inline-block;} |
| [740](#L740) | .armlite-deactivate-form {display: none;} |
| [741](#L741) | .armlite-deactivate-form-active .armlite-deactivate-form {position: absolute;bottom: 30px;left: 0;max-width: 500px;min-width: 360px;background: #fff;white-space: normal;} |
| [742](#L742) | .armlite-deactivate-form-head {background: #00b2f0;color: #fff;padding: 8px 18px;} |
| [743](#L743) | .armlite-deactivate-form-body {padding: 8px 18px 0;color: #444;} |
| [744](#L744) | .armlite-deactivate-form-body label[for="armlite-remove-settings"] {font-weight: bold;} |
| [745](#L745) | .deactivating-spinner {display: none;} |
| [746](#L746) | .deactivating-spinner .spinner {float: none;margin: 4px 4px 0 18px;vertical-align: bottom;visibility: visible;} |
| [747](#L747) | .armlite-deactivate-form-footer {padding: 0 18px 8px;} |
| [748](#L748) | .armlite-deactivate-form-footer label[for="armlite\_anonymous"] {visibility: hidden;} |
| [749](#L749) | .armlite-deactivate-form-footer p {display: flex;align-items: center;justify-content: space-between;margin: 0;} |
| [750](#L750) | <?php /\* #armlite-deactivate-submit-form span {display: none;} \*/ ?> |
| [751](#L751) | .armlite-deactivate-form.process-response .armlite-deactivate-form-body,.armlite-deactivate-form.process-response .armlite-deactivate-form-footer {position: relative;} |
| [752](#L752) | .armlite-deactivate-form.process-response .armlite-deactivate-form-body:after,.armlite-deactivate-form.process-response .armlite-deactivate-form-footer:after {content: "";display: block;position: absolute;top: 0;left: 0;width: 100%;height: 100%;background-color: rgba( 255, 255, 255, .5 );} |
| [753](#L753) | </style> |
| [754](#L754) | <script type="text/javascript"> |
| [755](#L755) | jQuery(document).ready(function($){ |
| [756](#L756) | var armlite\_deactivateURL = $("#armlite-deactivate-link-<?php echo esc\_attr( 'armember-membership' ); ?>") |
| [757](#L757) | armlite\_formContainer = $('#armlite-deactivate-form-<?php echo esc\_attr( 'armember-membership' ); ?>'), |
| [758](#L758) | armlite\_deactivated = true, |
| [759](#L759) | armlite\_detailsStrings = { |
| [760](#L760) | 'setup-difficult' : '<?php echo esc\_html\_\_( 'What was the dificult part?', 'armember-membership' ); ?>', |
| [761](#L761) | 'docs-improvement' : '<?php echo esc\_html\_\_( 'What can we describe more?', 'armember-membership' ); ?>', |
| [762](#L762) | 'features' : '<?php echo esc\_html\_\_( 'How could we improve?', 'armember-membership' ); ?>', |
| [763](#L763) | 'better-plugin' : '<?php echo esc\_html\_\_( 'Can you mention it?', 'armember-membership' ); ?>', |
| [764](#L764) | 'incompatibility' : '<?php echo esc\_html\_\_( 'With what plugin or theme is incompatible?', 'armember-membership' ); ?>', |
| [765](#L765) | 'bought-premium' : '<?php echo esc\_html\_\_( 'Please specify experience', 'armember-membership' ); ?>', |
| [766](#L766) | 'maintenance' : '<?php echo esc\_html\_\_( 'Please specify', 'armember-membership' ); ?>', |
| [767](#L767) | }; |
| [768](#L768) |  |
| [769](#L769) | jQuery( armlite\_deactivateURL).attr('onclick', "javascript:event.preventDefault();"); |
| [770](#L770) | jQuery( armlite\_deactivateURL ).on("click", function(){ |
| [771](#L771) |  |
| [772](#L772) | function ARMLiteSubmitData(armlite\_data, armlite\_formContainer) |
| [773](#L773) | { |
| [774](#L774) | armlite\_data['action']          = 'armlite\_deactivate\_plugin'; |
| [775](#L775) | armlite\_data['security']        = '<?php echo esc\_attr(wp\_create\_nonce( 'armlite\_deactivate\_plugin' )); ?>'; |
| [776](#L776) | armlite\_data['\_wpnonce']        = '<?php echo esc\_attr(wp\_create\_nonce( 'arm\_wp\_nonce' )); ?>'; |
| [777](#L777) | armlite\_data['dataType']        = 'json'; |
| [778](#L778) | armlite\_formContainer.addClass( 'process-response' ); |
| [779](#L779) | armlite\_formContainer.find(".deactivating-spinner").show(); |
| [780](#L780) | jQuery.post(ajaxurl,armlite\_data,function(response) |
| [781](#L781) | { |
| [782](#L782) | window.location.href = armlite\_url; |
| [783](#L783) | }); |
| [784](#L784) | } |
| [785](#L785) |  |
| [786](#L786) | var armlite\_url = armlite\_deactivateURL.attr( 'href' ); |
| [787](#L787) | jQuery('body').toggleClass('armlite-deactivate-form-active'); |
| [788](#L788) | armlite\_formContainer.show({complete: function(){ |
| [789](#L789) | var offset = armlite\_formContainer.offset(); |
| [790](#L790) | if( offset.top < 50) { |
| [791](#L791) | $(this).parent().css('top', (50 - offset.top) + 'px') |
| [792](#L792) | } |
| [793](#L793) | jQuery('html,body').animate({ scrollTop: Math.max(0, offset.top - 50) }); |
| [794](#L794) | }}); |
| [795](#L795) | armlite\_formContainer.html( '<?php echo $html; //phpcs:ignore ?>'); |
| [796](#L796) | armlite\_formContainer.on( 'change', 'input[type=radio]', function() |
| [797](#L797) | { |
| [798](#L798) | var armlite\_detailsLabel = armlite\_formContainer.find( '#armlite-deactivate-details-label strong' ); |
| [799](#L799) | var armlite\_anonymousLabel = armlite\_formContainer.find( 'label[for="armlite\_anonymous"]' )[0]; |
| [800](#L800) | var armlite\_submitSpan = armlite\_formContainer.find( '#armlite-deactivate-submit-form span' )[0]; |
| [801](#L801) | var armlite\_value = armlite\_formContainer.find( 'input[name="armlite-deactivate-reason"]:checked' ).val(); |
| [802](#L802) |  |
| [803](#L803) | armlite\_detailsLabel.text( armlite\_detailsStrings[ armlite\_value ] ); |
| [804](#L804) | armlite\_anonymousLabel.style.visibility = "visible"; |
| [805](#L805) | armlite\_submitSpan.style.display = "inline-block"; |
| [806](#L806) | if(armlite\_deactivated) |
| [807](#L807) | { |
| [808](#L808) | armlite\_deactivated = false; |
| [809](#L809) | jQuery('#armlite-deactivate-submit-form').removeAttr("disabled"); |
| [810](#L810) | armlite\_formContainer.off('click', '#armlite-deactivate-submit-form'); |
| [811](#L811) | armlite\_formContainer.on('click', '#armlite-deactivate-submit-form', function(e){ |
| [812](#L812) | e.preventDefault(); |
| [813](#L813) | var data = { |
| [814](#L814) | armlite\_reason: armlite\_formContainer.find('input[name="armlite-deactivate-reason"]:checked').val(), |
| [815](#L815) | armlite\_details: armlite\_formContainer.find('#armlite-deactivate-details').val(), |
| [816](#L816) | armlite\_anonymous: armlite\_formContainer.find('#armlite\_anonymous:checked').length, |
| [817](#L817) | }; |
| [818](#L818) | ARMLiteSubmitData(data, armlite\_formContainer); |
| [819](#L819) | }); |
| [820](#L820) | } |
| [821](#L821) | }); |
| [822](#L822) | armlite\_formContainer.on('click', '#armlite-deactivate-submit-form', function(e){ |
| [823](#L823) | e.preventDefault(); |
| [824](#L824) | ARMLiteSubmitData({}, armlite\_formContainer); |
| [825](#L825) | }); |
| [826](#L826) | $('.armlite-deactivate-form-bg').on('click',function(){ |
| [827](#L827) | armlite\_formContainer.fadeOut(); |
| [828](#L828) | $('body').removeClass('armlite-deactivate-form-active'); |
| [829](#L829) | }); |
| [830](#L830) | }); |
| [831](#L831) | }); |
| [832](#L832) | </script> |
| [833](#L833) | <?php |
| [834](#L834) | } |
| [835](#L835) |  |
| [836](#L836) | function armite\_deactivate\_plugin\_func() { |
| [837](#L837) | global $ARMemberLite; |
| [838](#L838) | check\_ajax\_referer( 'armlite\_deactivate\_plugin', 'security' ); |
| [839](#L839) | $ARMemberLite->arm\_check\_user\_cap('',1); //phpcs:ignore --Reason:Verifying nonce |
| [840](#L840) | if ( ! empty( $\_POST['armlite\_reason'] ) && isset( $\_POST['armlite\_details'] ) ) { |
| [841](#L841) | $args                     = array(); |
| [842](#L842) | $args['armlite\_reason'] = isset($\_POST['armlite\_reason']) ? sanitize\_text\_field( $\_POST['armlite\_reason'] ) : ''; |
| [843](#L843) | $args['armlite\_details'] = isset($\_POST['armlite\_details']) ? sanitize\_textarea\_field( $\_POST['armlite\_details'] ) : ''; |
| [844](#L844) | $armlite\_anonymous = $args['armlite\_anonymous'] = isset($\_POST['armlite\_anonymous']) ? sanitize\_text\_field( $\_POST['armlite\_anonymous'] ) : 0; |
| [845](#L845) | $args['action'] = isset($\_POST['action']) ? sanitize\_text\_field( $\_POST['action'] ) : ''; |
| [846](#L846) | $args['security'] = isset($\_POST['security']) ? sanitize\_text\_field( $\_POST['security'] ) : ''; |
| [847](#L847) | $args['dataType'] = isset($\_POST['dataType']) ? sanitize\_text\_field( $\_POST['dataType'] ) : ''; |
| [848](#L848) | $args['armlite\_site\_url'] = ARMLITE\_HOME\_URL; |
| [849](#L849) | if ( !$armlite\_anonymous ) { |
| [850](#L850) | $args['arm\_lite\_site\_email'] = get\_option( 'admin\_email' ); |
| [851](#L851) | } |
| [852](#L852) | $url = 'https://www.armemberplugin.com/armember\_addons/armlite\_feedback.php'; |
| [853](#L853) |  |
| [854](#L854) | $response = wp\_remote\_post( |
| [855](#L855) | $url, |
| [856](#L856) | array( |
| [857](#L857) | 'timeout' => 500, |
| [858](#L858) | 'body'    => $args, |
| [859](#L859) | ) |
| [860](#L860) | ); |
| [861](#L861) | } |
| [862](#L862) | echo json\_encode( |
| [863](#L863) | array( |
| [864](#L864) | 'status' => 'OK', |
| [865](#L865) | ) |
| [866](#L866) | ); |
| [867](#L867) | die(); |
| [868](#L868) | } |
| [869](#L869) |  |
| [870](#L870) | function session\_for\_file\_handle($file\_key,$file\_name){ |
| [871](#L871) |  |
| [872](#L872) | global $ARMemberLite; |
| [873](#L873) | $ARMemberLite->arm\_session\_start(); |
| [874](#L874) |  |
| [875](#L875) | if(!isset($\_SESSION['arm\_file\_upload\_arr'])){ |
| [876](#L876) | $\_SESSION['arm\_file\_upload\_arr'] = array(); |
| [877](#L877) | } |
| [878](#L878) | if(!empty($file\_key)){ |
| [879](#L879) | if(!isset($\_SESSION['arm\_file\_upload\_arr'][$file\_key])){ |
| [880](#L880) | $\_SESSION['arm\_file\_upload\_arr'][$file\_key] = ''; |
| [881](#L881) | } |
| [882](#L882) | if(!empty($file\_name)){ |
| [883](#L883) | if (!($\_SESSION['arm\_file\_upload\_arr'][$file\_key]==$file\_name)){ //phpcs:ignore |
| [884](#L884) | $\_SESSION['arm\_file\_upload\_arr'][$file\_key] = $file\_name; |
| [885](#L885) | } |
| [886](#L886) | } |
| [887](#L887) | } |
| [888](#L888) |  |
| [889](#L889) | } |
| [890](#L890) |  |
| [891](#L891) | } |
| [892](#L892) | } |
| [893](#L893) | global $arm\_lite\_members\_activity; |
| [894](#L894) | $arm\_lite\_members\_activity = new ARM\_members\_activity\_Lite(); |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/armember-membership/trunk/core/classes/class.arm_members_activity.php?format=txt)
* [Original Format](/export/3220636/armember-membership/trunk/core/classes/class.arm_members_activity.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_e322c5cd_20250111_091409.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Farmember-membership&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Farmember-membership&locale=en_US)

Search plugins

![](https://ps.w.org/armember-membership/assets/banner-772x250.png?rev=3209154)
![](https://ps.w.org/armember-membership/assets/icon-256x256.gif?rev=3209154)
# ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup

By [Membership & User Profile – Repute Infosystems](https://www.armemberplugin.com)

[Download](https://downloads.wordpress.org/plugin/armember-membership.4.0.57.zip)
[Live Preview](https://wordpress.org/plugins/armember-membership/?preview=1)

* [Details](https://wordpress.org/plugins/armember-membership/#description)
* [Reviews](https://wordpress.org/plugins/armember-membership/#reviews)
* [Installation](https://wordpress.org/plugins/armember-membership/#installation)
* [Development](https://wordpress.org/plugins/armember-membership/#developers)

[Support](https://wordpress.org/support/plugin/armember-membership/)

## Description

**ARMEMBER – TOP RATED MEMBERSHIP PLUGIN FOR WORDPRESS**

ARMember is the Best Free WordPress Membership Plugin that helps set up robust membership management. It’s pretty easy to install and use. The wide range of features allows you to manage membership subscriptions with a modern interface. As compared to other widely-used membership plugins, ARMember has significant advantages.

[**ARMember**](https://www.armemberplugin.com) will help you to build fully functional membership site with a smooth member registration flow..

You can create multiple flexible membership tiers and also provide trial memberships. Provide free plans, finite/infinite paid plans, and subscriptions. Set up recurring billing with the auto-recurring facility on ARMember.

ARMember also has built-in [**Form builder**](https://www.armemberplugin.com/form-builder/ "Form builder") to create material style and spam free customizable forms for SignUp/Registration, Login, Edit Profile, Forgot Password, Change Password etc.

ARMember provides an easy interface to set [**content access rules**](https://www.armemberplugin.com/content-restriction/ "Restrict any content of your site"). It supports strong content locking and content protection with just one click. Create plan-wise rules for access control. You can even set partial content protection for any page/post by simply placing a shortcode.

### THE ARMEMBER IS IDEAL FOR 👇

* **👉 Business Consulting Services 🧑‍💼**

  Build a membership subscription platform for training services, offer your hours within specific plans, or provide step-by-step sessions.
* **👉 Membership Communities 👥**

  Provide services that bring people and communities together through membership with user engagement tools.
* **👉 Professional Organizations 💼 and Non-profits 🤝**

  Professional organizations and nonprofits frequently rely on membership plugins for WordPress to handle member/user directories, event sign-ups, exclusive content, and special perks to maintain member registration flow.
* **👉 Yoga & Health Websites 🧘**

  Fitness & Health online training, wellness website, Yoga training, Individual personal training using recurring billing or subscription plan.
* **👉 OTT(over-the-top) Platform websites ▶️**

  Start offering television, movie, and video content online according to the consumer’s requirements and in line with their demands by providing flexible membership tiers.
* **👉 Coaching and Training Membership Sites 🏛️**

  Online training, online classes, and media on subscription-based program.
* **👉 Dance & Fitness website 🤸**

  Personal dance training, Zumba dance online classes., dance personal training, And all other types of Dance classes online – salsa, Hip Hop, Contemporary, Folk dancing, etc. using membership subscriptions.
* **👉 Podcasts website 🔊**

  Start publishing your podcast content of various genres like – entertainment podcasts, educational podcasts, non-fiction storytelling, scripted fiction podcasts, limited-run podcast series, and interview podcasts by the subscription-based system for your membership site.
* **👉 Marketing Tools Subscription website 🌐**

  You can launch a marketing firm using a subscription-based business model to offer services and tools for online marketing. Use email marketing integrations to boost your idea.
* **👉 Cooking and Recipes Membership Sites 🍲**

  Various types of food recipes, cooking training, healthy diet food, ingredients, step-by-step lessons for making recipes, etc. by using the Membership website.
* **👉 Programming language scripts & tutorial website 🖥️**

  Start your online membership site for coding tutorials and scripts using the flexible membership tiers module.
* **👉 Content Production Service Website 📄**

  Start a business for providing writing content services on a weekly or monthly basis.
* **👉 Educational & LMS Membership site ✍️**

  To create the best learning management systems, online tutoring, coaching classes online, private tuition classes, language tutoring class, live online seminars & webinars, and school or college websites with students as a member on the site to access specific conditional content.

### 🔗 USEFUL LINKS

[**Official Site**](https://www.armemberplugin.com/) || [**ARMember Plugin Demo**](https://newdemo.armemberplugin.com/) || [**Documentation**](https://www.armemberplugin.com/documents/getting-started-with-armember/) || [**Facebook**](https://www.facebook.com/armemberplugin) || [**YouTube Tutorials**](https://www.youtube.com/%40armember/videos?sub_confirmation=1) || [**LinkedIn**](https://www.linkedin.com/company/armember/) || [**Join Facebook Community**](https://www.facebook.com/groups/arplugins) 👍 || [**Buy ARMember Pro**](https://www.armemberplugin.com/pricing/) 👈

### Unique features of ARMember

* **Membership Setup Wizard:**

  Use the robust membership set up wizard for plan selection, user registration, payment configuration, and other customization using a single shortcode.
* **User Friendly Interface for Content Protection Features:**

  You can set global content restrictions based on membership plans. Define content permissions for various plans or even set partial content restrictions using a shortcode.
* **Unlimited Membership Levels / Membership Tiers:**

  Create multiple flexible membership tiers to offer free plan type, fixed period membership, subscription plans, or infinite membership.
* **Free & Paid Trial Membership Setup / Trial Period for periodic billing:**

  Enable free or paid trials for recurring subscription plans. Set the number of trial days to attract more users to experience trials
* **Membership Proration Features:**

  Allow upgrade/downgrade of membership plan by prorating amount based on cost or time.
* **Powerful Advanced Drag and Drop Form builder:**

  Use the fully customizable forms of user login, signup, user registration, password reset, and more. Add custom form fields as per requirements.
* **Captcha Free In-built Anti-Spam:**

  The member forms are secure with in-built anti-spam to avoid any bot or spam entries. This helps keep your membership site secure.
* **Email Notification Setup (with Templates):**

  Fully customizable email reminders and notifications for failed payment plan, payment due, grace period, and membership expiration. These automated emails keep users in loop.
* **User Profile Tabs and Member Directory:**

  Manage member profiles and directory to allow easy member lookup. This helps members get in touch with each other.
* **Import/Export Users & Settings:**

  You can easily import/export users and settings based on your requirement. Migrate your membership site easily from Paid Memberships Pro, MemberPress, Ultimate Membership Pro.
* **Built-in Security Options:**

  It comes with security features like Brute force Login Protection, IP & URL based restriction, Auto-lock shared accounts, ban username and emails, Hide WP login page or Admin panel!
* **Smart User Verification:**

  Enable user verification in three ways. Auto verification, manual verification by admin, or verification through email.
* **Multiple Billing Cycles:**

  Offer Multiple Billing Cycle for a single membership plan like monthly, quarterly, or yearly. Set your prices accordingly.
* **[Gutenberg Support:](https://www.armemberplugin.com/documents/how-to-use-armember-with-gutenberg/ "support of Gutenberg")**

  You can easily enable Gutenberg block restriction page builder and customize your membership business.
* **Custom Pricing Tables:**

  Choose from in-built six different styles of pricing tables. Customize its style, color, and overall look. Get the extended support of ARPrice Plugin to choose from multiple templates and embed your subscribe button with any of the chosen themes.
* **Custom User Role:**

  Set up plan wise advanced user roles. Allow different access roles to members of different plans. Promote user-generated content by using third-party user role manager to provide editor permissions to members.
* **Customizable Profiles:**

  Choose from multiple profile templates to display member information. Filter what information will be visible on member profiles. Allow members to change their Avatar and Cover Photo.
* **One-Click Plugin Upgrade**

### Other Outstanding Features

* Compatible with any WordPress Theme and Page Builders
* Advanced Drag and Drop Form Builder
* Material style forms
* Manual User Verification
* Best Membership Management with Multiple Filters
* Facility to Extend Payment Due Date and Expiry Date
* Hide Admin Toolbar from Frontend
* Gutenberg, Visual Composer, Cornerstone dedicated blocks
* Elementor page builder supported
* Allow Account Deletion for Members
* Add Login Widget in Sidebar
* Front-end member profiles
* Detailed Member Directories
* Inbuilt Anti-spam with Captcha-free Forms
* Offer Limited-time Paid Trials

Check out this comprehensive [**Comparison Guide**](https://www.armemberplugin.com/memberpress-vs-paid-membership-pro-vs-s2-member/ "comparison guide") to know how ARMember’s features stand out from other membership plugins like MemberPress, Paid Membership Pro, s2Member, and Ultimate Member.

### **Payment gateway support in Lite version** 💸👇

* **PayPal** ✔️
* **Bank Transfer** 💳

### **Free In-built Modules (Addons) Support in Lite version** 👇

* **Social Feature Module** (Member Directories, Member Profiles)
* **Content Access Rules**
* **Live Form Editor**
* **Configure Plan + Signup Page**
* **Page Setup**
* **Import/Export Users**
* **Login/Signup Security**
* **Custom Redirection**
* **Gutenberg Blocks**
* **Elementor**
* **WPBakery Page Builder (Visual Composer)**
* **Beaver Builder**
* **Divi Builder**
* **Oxygen Builder**
* **Avada Builder (Fusion Builder)**
* **SiteOrigin Builder**
* **Bricks Builder**

### Try an online demo of the pro version:

* [**Admin Demo**](https://armembertestdrive.com/ "Admin Demo")
* [**Front-end Demo**](https://newdemo.armemberplugin.com/ "Frontend Demo")

### Upgrade to the full version now:

[☑️ **Buy ARMember Pro Now** 👈](https://www.armemberplugin.com/pricing/)

ARMember Pro comes with multiple user engagement tools as well. Leverage email marketing integrations, multi-payment gateways, drip content, groups and communities, and more!

### ARMEMBER PRO PLUGIN’S MOST AMAZING FEATURES:

* **[Pay Per Post (Paid Post)](https://www.armemberplugin.com/pay-per-post-setup-wizard/ "Pay Per Post")**

  Sell post/course separately without creating plan(s). The feature allows individual post selling to non-members to build an additional income and attract users.
* **Multiple Payment Cycle per Plan**

  Let users choose feasible payment cycles by offering multiple options. Set monthly, quarterly, or yearly cycles to suit every user’s requirements.
* **Prorating Membership Subscription (Pro Rata Feature)**

  Enable cost-based or time-based proration to allow upgrade or downgrade of membership plan midway. Pro rata pricing adjusts the cost based on the exact duration a member uses the service, ensuring they pay only for the portion they use.
* **ARMember Provides Multi-language Support**

  ARMember offers multilingual support through its [Multi-Language Addon](https://www.armemberplugin.com/downloads/armember-multi-language-addon/). This addon integrates smoothly with WPML, TranslatePress, Weglot, Polylang, WPGlobus, and more to create global membership business.
* **Membership Limit**

  Set a maximum limit for purchasing Membership Plans, Paid Posts, and Membership Gifts. With this, Restrict how many times a user can make a purchase for the same product/plan.
* **Multiple Memberships Subscription**

  Allow members to hold multiple memberships simultaneously. Thus, members can have parallel memberships at once.
* **[Drip/Scheduled Content Facility](https://www.armemberplugin.com/drip-rules/ "Drip/Scheduled Content Facility")**

  Set up a drip content delivery and schedule your content. Custom drip content to reveal your content periodically to keep up the member’s interest.
* **Social Login with Multiple Platforms**

  Increase user interactions by allowing social login through Facebook, Twitter, LinkedIn, Google+, VK, Instagram, and Tumblr. Simplified login process supports higher interaction.
* **Member Profile & Directory Templates**

  ARMember provides a wide range of beautiful templates for member profile and directory with many template customization options.
* **Exclusive Coupon Management (Coupon codes for a discount)**

  Enable rewards and coupons by creating plan-wise special invitation codes, discounts, or coupon codes. This adds a user’s motivation to sign up.
* **Opt-ins (Email Marketing Tools)**

  ARMember offers email marketing tools like AWeber, Mailchimp, Constant Contact, Mailster, GetResponse, MailerLite, Brevo (formerly Sendinblue), ActiveCampaign, Campaign Monitor, Omnisend – [These are Free Addons]

  MailPoet, Mautic, Keap (formley infusionsoft) – [These are Paid Addons]
* **Badges & Achievements**

  Add gamification to your membership site using Badges & Achievements. Create new badges and achievements and configure rules to achieve them. Motivate members to earn badges and increase traffic.
* **Developer API**

  ARMember Plugin is fully developer friendly with 150+ action/filter hooks. Use the API or Hooks to customize and extend the functionality of your membership website as per requirement.
* **Invoice and Sales Tax**

  Easily add country wise sales tax in Plan+Signup page. You can also set a specific percentage for tax and generate PDF invoices for each order.
* **BuddyPress/BuddyBoss Integration**

  ARMember enables access rule setup for BuddyPress pages and maps ARMember form fields to BuddyPress Extended Profile fields, improving user management and access control within BuddyBoss communities.
* **bbPress Integration**

  You can easily integrate ARMember with bbPress.
* **Woocommerce Content Restriction**

  Facility to add content restriction rules for woocommerce products and product taxonomy.
* **Standard Page Builders Support**

  ARMember Supports 10 Standard WordPress page builders. You can easily manage and restrict content on your website. Design layouts and set up membership restrictions, making it the perfect membership plugin for WordPress.
* **Engaging Social Community**

  Create exclusive social media platform with social community features. Allow groups & communities, profile tabs, followers system, private messages, social activity feed, user reviews, and more.
* **Digital Downloads**

  Sell digital products using the digital downloads add-on. Manage user access for digital files easily using the premium add-on. Use shortcodes to place digital downloads on any page/post. You can also restrict file access based on membership plan or member ID.
* **Affiliate Addon**

  Set up affiliate programs to promote your membership business and pay them a fixed commission on every conversion. Add and reward an unlimited affiliate partners without purchasing third-party plugin.
* **Umbrella / Group Membership / Family Memberships**

  Allow members to register for group membership. Like this, they can specify a number of child seats or child accounts that can be accessed simultaneously on multiple devices.
* **User Private Content**

  Create member-only content for personalized member experience. Provide additional value using the private content module.

And more….

[**ARMember Free vs ARMember Pro** 👈](https://www.armemberplugin.com/comparison-of-armember-lite-vs-armember-premium/ "ARMember Free vs ARMember Premium:")  Checkout comparison to get complete idea about features.

Upgrade to [**ARMember Pro**](https://www.armemberplugin.com/pricing/)☑️ for full feature access and enhanced membership website management. Explore All [**ARMember Addons**](https://www.armemberplugin.com/addons/) in detail for additional functionalities.

### Check out simple instructions for using the ARMember plugin; The [documentation](https://www.armemberplugin.com/documents/getting-started-with-armember/ "documentation") guides to set up everything.

### ☑️ CHECK POWERFUL ADDONS & INTEGRATION to boost ARMember features:

### ➕ ARMember Additional Functionality Addons:

* [**ARMember Online Courses**](https://www.armemberplugin.com/downloads/armember-online-courses-addon/)
* [**ARMember Affiliate Addon**](https://www.armemberplugin.com/downloads/armember-affiliate/)
* [**Social Community**](https://www.armemberplugin.com/downloads/armember-social-community-addon/)
* [**Digital Download**](https://www.armemberplugin.com/downloads/digital-download/)
* [**WhatsApp Notification**](https://www.armemberplugin.com/downloads/armember-whatsapp-notification-addon/)
* [**SMS Notification**](https://www.armemberplugin.com/downloads/armember-sms-notification-addon/)
* [**Member Network Site**](https://www.armemberplugin.com/downloads/armember-member-network-site-addon/)
* [**Group/Umbrella Membership**](https://www.armemberplugin.com/downloads/group-umbrella-membership-addon/)
* [**PDF Creator**](https://www.armemberplugin.com/downloads/armember-pdf-creator-addon/)
* [**Direct Login**](https://www.armemberplugin.com/downloads/direct-login-armember/) **(Free)**
* [**Two Factor Authentication**](https://www.armemberplugin.com/downloads/armember-two-factor-authentication-addon/) **(Free)**
* [**Migration & Import Tool**](https://www.armemberplugin.com/downloads/armember-migration-tool-addon/) **(Free)**
* [**Gift Membership**](https://www.armemberplugin.com/downloads/armember-gift-membership-addon/)
* [**Conversion Tracking**](https://www.armemberplugin.com/downloads/conversion-tracking-addon)
* [**Multi-Language**](https://www.armemberplugin.com/downloads/armember-multi-language-addon/)

### 💰 Payment Gateways:

* [**Mollie**](https://www.armemberplugin.com/downloads/mollie-payment-gateway/)
* [**Paypal Pro**](https://www.armemberplugin.com/downloads/paypalpro-payment-gateway/)
* [**Pagseguro**](https://www.armemberplugin.com/downloads/pagseguro-payment-gateway/)
* [**PayUmoney**](https://www.armemberplugin.com/downloads/payumoney-payment-gateway/)
* [**Online Worldpay**](https://www.armemberplugin.com/downloads/online-worldpay-payment-gateway/)
* [**Razorpay**](https://www.armemberplugin.com/downloads/armember-razorpay-payment-gateway-addon/)
* [**PayFast**](https://www.armemberplugin.com/downloads/armember-payfast-payment-gateway-addon/)
* [**PayStack**](https://www.armemberplugin.com/downloads/paystack-payment-gateway/)
* [**Square**](https://www.armemberplugin.com/downloads/armember-square-payment-gateway-addon/)
* [**Skrill**](https://www.armemberplugin.com/downloads/armember-skrill-payment-gateway-addon/)
* [**Braintree**](https://www.armemberplugin.com/downloads/armember-braintree-payment-gateway-addon/)
* [**Klarna**](https://www.armemberplugin.com/downloads/armember-klarna-payment-gateway-addon/)
* [**Paddle**](https://www.armemberplugin.com/downloads/armember-paddle-payment-gateway-addon/)
* [**Mercado Pago**](https://www.armemberplugin.com/downloads/armember-mercado-pago-payment-gateway-addon/)
* [**CCAvenue**](https://www.armemberplugin.com/downloads/armember-ccavenue-payment-gateway-addon/)
* [**Airwallex**](https://www.armemberplugin.com/downloads/armember-airwallex-payment-gateway-addon/)

### 🔗 Third-Party Integrations:

* [**ActiveCampaign**](https://www.armemberplugin.com/downloads/active-campaign-integration/) **(Free)**
* [**Campaign Monitor**](https://www.armemberplugin.com/downloads/campaign-monitor-integration/) **(Free)**
* [**Cornerstone**](https://www.armemberplugin.com/downloads/cornerstone-addon/) **(Free)**
* [**AffiliateWP**](https://www.armemberplugin.com/downloads/affiliatewp-integration/)
* [**Zapier**](https://www.armemberplugin.com/downloads/zapier-integration/)
* [**Keap (Infusionsoft)**](https://www.armemberplugin.com/downloads/infusionsoft-integration/)
* [**MailPoet**](https://www.armemberplugin.com/downloads/mailpoet-integration/)
* [**AffiliatesPro**](https://www.armemberplugin.com/downloads/affiliatespro-integration/)
* [**Mautic**](https://www.armemberplugin.com/downloads/mautic-integration/)
* [**WooCommerce Discount**](https://www.armemberplugin.com/downloads/woocommerce-discount/)
* [**MailChimp**](https://www.armemberplugin.com/downloads/armember-mailchimp-addon/) **(Free)**
* [**Aweber**](https://www.armemberplugin.com/downloads/armember-aweber-addon/) **(Free)**
* [**GetResponse**](https://www.armemberplugin.com/downloads/armember-getresponse-addon/) **(Free)**
* [**Constant Contact**](https://www.armemberplugin.com/downloads/armember-constant-contact-addon/) **(Free)**
* [**MailerLite**](https://www.armemberplugin.com/downloads/armember-mailer-lite-addon/) **(Free)**
* [**Mailster**](https://www.armemberplugin.com/downloads/armember-mailster-addon/) **(Free)**
* [**Brevo**](https://www.armemberplugin.com/downloads/armember-brevo-addon/) **(Free)**
* [**Omnisend**](https://www.armemberplugin.com/downloads/armember-omnisend-addon/) **(Free)**
* [**Zoho**](https://www.armemberplugin.com/downloads/armember-zoho-crm-addon/) **(Free)**
* [**HubSpot**](https://www.armemberplugin.com/downloads/armember-hubspot-addon/) **(Free)**
* [**Kit**](https://www.armemberplugin.com/downloads/armember-kit-addon/) **(Free)**

### 🎁 In-Built Addons:

* [**Drip Contents**](https://www.armemberplugin.com/downloads/drip-contents/)
* [**Pay Per Post (Paid Post)**](https://www.armemberplugin.com/downloads/pay-per-post-setup-wizard/)
* [**Content Access Rules**](https://www.armemberplugin.com/downloads/content-access-rules/)
* [**Pro-Rata Integration (proration)**](https://www.armemberplugin.com/downloads/pro-rata-integration/)
* [**WooCommerce Integration**](https://www.armemberplugin.com/downloads/woocommerce-integration/)
* [**Membership Cards**](https://www.armemberplugin.com/downloads/membership-card-template/)
* [**Live Form Editor**](https://www.armemberplugin.com/downloads/live-form-editor/)
* [**PayPal**](https://www.armemberplugin.com/downloads/paypal-integration/)
* [**Stripe**](https://www.armemberplugin.com/downloads/stripe-integration/)
* [**2Checkout**](https://www.armemberplugin.com/downloads/2checkout-integration/)
* [**Authorize.net**](https://www.armemberplugin.com/downloads/autorizenet-integration/)
* [**Bank Transfer**](https://www.armemberplugin.com/downloads/bank-transfer-integration/)
* [**WooCommerce**](https://www.armemberplugin.com/downloads/woocommerce-integration/)
* [**Multiple Membership Plans**](https://www.armemberplugin.com/downloads/multiple-membership-plans/)
* [**Member Directories**](https://www.armemberplugin.com/downloads/membership-directory/)
* [**User Private Content**](https://www.armemberplugin.com/downloads/user-private-content/)
* [**Tax**](https://www.armemberplugin.com/downloads/tax/)
* [**Configure Plan + Signup Page**](https://www.armemberplugin.com/downloads/configure-plan-signup-page/)
* [**Social Connect**](https://www.armemberplugin.com/downloads/social-connect/)
* [**Coupon Management**](https://www.armemberplugin.com/downloads/coupon-management/)
* [**MyCred Integration**](https://www.armemberplugin.com/downloads/mycred-integration/)
* [**Invoice**](https://www.armemberplugin.com/downloads/invoice/)
* [**Page Setup**](https://www.armemberplugin.com/downloads/page-setup/)
* [**Member Profiles**](https://www.armemberplugin.com/downloads/member-profiles/)
* [**Import/Export Users**](https://www.armemberplugin.com/downloads/import-export-users/)
* [**BuddyBoss Integration**](https://www.armemberplugin.com/downloads/buddyboss-integration-addon/)
* [**Login/Signup Security**](https://www.armemberplugin.com/downloads/login-signup-security/)
* [**Custom Redirection**](https://www.armemberplugin.com/downloads/custom-redirection-rules/)
* [**API Services**](https://www.armemberplugin.com/downloads/api-services/)
* [**Badges & Achievements**](https://www.armemberplugin.com/downloads/badges-achievements/)
* [**BuddyPress Integration**](https://www.armemberplugin.com/downloads/buddypress-integration/)
* [**Membership Limit**](https://www.armemberplugin.com/downloads/membership-limit/)
* [**Gutenberg Block Integration**](https://www.armemberplugin.com/downloads/gutenberg-block-restriction/)
* [**Elementor Page Builder**](https://www.armemberplugin.com/downloads/elementor-builder-restriction/)
* [**Divi Builder**](https://www.armemberplugin.com/downloads/divi-builder-restriction/)
* [**Oxygen Builder**](https://www.armemberplugin.com/downloads/oxygen-builder-restriction/)
* [**WPBakery Page Builder**](https://www.armemberplugin.com/downloads/wpbakery-page-builder-restriction/)
* [**Beaver Builder**](https://www.armemberplugin.com/downloads/beaver-builder-restriction/)
* [**Fusion Builder**](https://www.armemberplugin.com/downloads/fusion-builder-restriction/)
* [**SiteOrigin Builder**](https://www.armemberplugin.com/downloads/siteorigin-builder-restriction/)
* [**Bricks Builder**](https://www.armemberplugin.com/downloads/bricks-builder-integration/)

### Explore ARMember using easy [video tutorials here 👈](https://www.youtube.com/%40armember/videos?sub_confirmation=1 "video tutorials 👈here")

**✅ Join Community for Help & Support: [AR Plugins Community](https://www.facebook.com/groups/arplugins) 👈**

**👉 Check out ARMember Roadmap & Suggest a feature 💡 here: [ARMember Roadmap](https://ideas.armemberplugin.com/ "ARMember Roadmap")**

### Checkout our other products:

* [BookingPress – WordPress Booking Plugin](https://www.bookingpressplugin.com/)
* [ARForms – Premium Form Builder Plugin](https://www.armemberplugin.com/product.php?rdt=t12 "ARForms")
* [ARPrice – Responsive Pricing Table Plugin](https://www.armemberplugin.com/product.php?rdt=t13 "ARPrice")

## Screenshots

* [![](https://ps.w.org/armember-membership/assets/screenshot-1.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-1.png?rev=3215203)

  ARMember – Wordpress Membership Plugin
* [![](https://ps.w.org/armember-membership/assets/screenshot-2.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-2.png?rev=3215203)

  Manage Members Listing
* [![](https://ps.w.org/armember-membership/assets/screenshot-3.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-3.png?rev=3215203)

  Content Restriction ( Access Rules ) Section
* [![](https://ps.w.org/armember-membership/assets/screenshot-4.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-4.png?rev=3215203)

  General Settings of plugin
* [![](https://ps.w.org/armember-membership/assets/screenshot-5.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-5.png?rev=3215203)

  Plan Selection + Signup page configuration
* [![](https://ps.w.org/armember-membership/assets/screenshot-6.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-6.png?rev=3215203)

  Plan Selection + Signup page frontend view
* [![](https://ps.w.org/armember-membership/assets/screenshot-7.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-7.png?rev=3215203)

  Member Profile and Directories editor
* [![](https://ps.w.org/armember-membership/assets/screenshot-8.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-8.png?rev=3215203)

  ARMember – Member Profile preview
* [![](https://ps.w.org/armember-membership/assets/screenshot-9.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-9.png?rev=3215203)

  ARMember – Member Directory preview
* [![](https://ps.w.org/armember-membership/assets/screenshot-10.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-10.png?rev=3215203)

  Login Form
* [![](https://ps.w.org/armember-membership/assets/screenshot-11.png?rev=3215203)](https://ps.w.org/armember-membership/assets/screenshot-11.png?rev=3215203)

  Signup Form

## Blocks

This plugin provides 1 block.

* Armember Block Restriction

## Installation

How to install the ARMember Plugin

Please follow the steps for installation:

#### VIA WordPress

1. After your download log into your WordPress admin interface
2. After login click on *Plugins* from the left hand menu
3. Click on *Add new*
4. Click on *Upload*
5. Browse to the directory you downloaded the plugin to and click *Install Now*
6. After WordPress has finished unpacking the file click on *Activate Plugin*
7. After the plugin has been activated you will notice a new menu item on the left hand navigation labelled ARMember Lite
8. Done. Start creating tables!

#### VIA FTP

1. After your download, unzip armember lite from your download .zip
2. Open your FTP client
3. Browse to /your\_wp\_instalation/wp-content/plugins/ on your hosting server
4. Uplaod ARMember Lite into this directory
5. Go to your wordpress admin panel
6. Go to plugins and activate ARMember Lite
7. After the plugin has been activated you will notice a new menu item on the left hand navigation labelled ARMember Lite
8. Done. Start creating tables!

## FAQ

### How easy is it to set up ARMember?

The Membership Setup Wizard of ARMember is very powerful and makes it easy to configure your membership site.

Step – 1 Install the ARMember Lite Plugin from the WordPress Plugin Repository and Activate it

Step – 2 Account Setup – Complete simple steps to getting started

Step – 3 General Options – Check and enable the General Options

Step – 4 Membership Plans – Create a desired membership plan from 4 options

Step – 5 Payment Options – Setup your PayPal and Bank Account integration

Step – 6 Content Access Rule – Allow/Restrict certain page for your chosen plan

Don’t worry, you can edit, change, and add new options for all the above given steps once you access the ARMember Lite dashboard.

That’s it, your basic configuration has been completed!!

### How Can I Get Support for ARMember?

We provide comprehensive support at [Our Helpdesk System](https://support.arpluginshop.com/ "Our Helpdesk System")

### ARMember is suitable for what kinds of businesses?

ARMember can aid businesses like consulting services, online communities, health & wellness businesses, OTTs, online coaching, podcasts, food & lifestyle blogging, and parenting, among many others.

### How to upgrade to ARMember Pro?

You can upgrade to the Pro version from the ARMember Lite setup or get your ARMember Pro from [here](https://www.armemberplugin.com/pricing/).

### Can I install Addons with the free version of ARMember?

ARMember Lite provides all the features to set up a basic membership site. However, the [Premium Addons](https://www.armemberplugin.com/addons/) are easily available with the Pro version.

### Which Page Builders are supported with ARMember?

ARMember provides support for all standard page builders like Beaver Builder, Gutenberg, Divi Builder, Fusion Builder, Elementor, Oxygen Builder, Site Origin Builder, Bricks Builder, Cornerstone, and WPBakery Page Builder.

### Where can I read the documentation of ARMember?

The detailed documentation of ARMember can be [accessed here](https://www.armemberplugin.com/documentation/) to solve your queries on the go.

### I want to learn more about ARMember Features

Explore All ARMember features from [here](https://www.armemberplugin.com/content-restriction/).

### Can I create multiple membership levels with ARMember?

ARMember allows you to set up four different types of membership levels viz. Free Plan, Paid Plan (Finite), Paid Plan (Infinite), & Recurring Subscription Plan.

### Can ARMember handle recurring payments for subscriptions?

You can set a subscription plan and its renewal time for enabling recurring payments on ARMember. You can set up auto-debit or semi-automatic (manual) for [recurring subscription payments](https://www.armemberplugin.com/documents/payment-methods-recurring-plan/).

### Is it possible to pay online using ARMember?

The ARMember Lite version supports PayPal and Bank Transfer to aid online payments. With ARMember Pro, you can access 17+ Payment Gateways.

### Is it possible to customize the emails?

Yes, definitely. Check out our helpful [guide](https://www.armemberplugin.com/documents/wordpress-standard-email-responses/) on how to customize emails.

### Do I need to use any Spam Protection Plugins with ARMember to avoid spam registration?

ARMember provides a solid in-built anti-spam mechanism so that you can avoid annoying Captchas or heavy spam protection tools. Please refer [here](https://www.armemberplugin.com/documents/spam-protection/) for more details.

### How to restrict content using ARMember?

You will be able to set Content Access Rules for all pages/posts in bulk from

ARMember > Access Rules.

You will also see ‘Access Rules’ Metabox in the add/edit page/post to set access rules for individual pages/posts.

Partial content restriction is also possible with ARMember. Please refer here. You will get all the answers about setting restrictions under the Content Restriction section in the documentation.

Also you will see ‘Access Rules’ Metabox in add/edit page/post to set access rules for individual page/post.

If you want to restrict partial content, then it is also possible with ARMember. Please refer [here](https://www.armemberplugin.com/documents/how-to-provide-restriction-for-specific-content/ "here") .

You will get all answers about setting restriction under [Content Restriction](https://www.armemberplugin.com/documentation/ "Content Restriction") section in the documentation.

### How to Add Custom Fields using ARMember Plugin?

ARMember supports custom form fields from the Manage Forms section. Edit the desired form and go to the Form Fields tab. Here, you can customize and edit various fields like textbox, password, text-area, checkbox, radio buttons, dropdown, date, HTML text, and file upload.

You can also add a divider, roles, and avatar to create custom fields

### Does ARMember support Multisite/Network installs?

When you install ARMember in a multi-site environment, it can not be network activated. You need to activate it individually to use it for each site of your network.

You need to activate in each site of your network in which you want to use it.

### Do I need any coding skills to customize ARMember?

No, with ARMember you get an easy, coding-free set up to run your membership business seamlessly.

### How do I suggest a feature for future versions of ARMember?

We value your feedback, suggestions, and feature requests that can be shared with us by clicking [here](https://ideas.armemberplugin.com/).

## Reviews

![](https://secure.gravatar.com/avatar/213ae8c6cf3313f5bdd25577ce2917776c275088732069c1d8c599ed2dd56e10?s=60&d=retro&r=g)
### [Incredible and Professional Looking plugin!](https://wordpress.org/support/topic/incredible-and-professional-looking-plugin/)

[texwpdev2](https://profiles.wordpress.org/texwpdev2/ "Posts by texwpdev2")
January 9, 2025

Awesome work team! Truly love the plugin’s interface and the flexibility it provides into the free version I recently downloaded this plugin on my community website, and am truly amazed to see such feature-rich plugin. The only drawback I feel is they currently do not provide any support to the payment gateway that supports Indian currency, however I have checked that they do provide other payment gateways compatible with their premium version. I still will give them a 5 star, as the team deserves this for the work they have done!!

![](https://secure.gravatar.com/avatar/4e6e946197306bff426cd239209b147caa12290fe6a88635b94c08d8e150e87e?s=60&d=retro&r=g)
### [Katastrophe](https://wordpress.org/support/topic/katastrophe-4/)

[juliarup](https://profiles.wordpress.org/juliarup/ "Posts by juliarup")
January 6, 2025

Ich kämpfe mit dem Plugin schon seit Monaten. Das Schlimmste ist, dass ich die Premium-Version gekauft habe. Der Code, die Ausführung, die Bezahlprozesse – alles will einfach nicht funktionieren!
Es gibt keine einfache Methode, sich an jemanden zu wenden. Mann muss tausende Schritte unternehmen, um jemanden zu erreichen.
Irgendwann ist man mit der Geduld am Ende!

![](https://secure.gravatar.com/avatar/c84bca17cd3c29ac4618b880eb48313f149c5878473745e17452a8690c265ef6?s=60&d=retro&r=g)
### [all in one & powerful Membership Tool with amazing Supprot](https://wordpress.org/support/topic/all-in-one-powerful-membership-tool-with-amazing-supprot/)

[wfbhrsop](https://profiles.wordpress.org/wfbhrsop/ "Posts by wfbhrsop")
January 3, 2025

The documentation and videos make it clear and easy to set up, which is great.
Also, support is fast and helpful whenever I have questions. The product works as promised, and I’m very happy with it. I feel sure that any future questions I have will be answered well. After checking different membership options, I’m glad I chose this one.

![](https://secure.gravatar.com/avatar/28b321384eb1e52345222db103d6cdcb0214437c32c7c3c658f0672cba8d5a0d?s=60&d=retro&r=g)
### [finding best and I reached to the ARMember](https://wordpress.org/support/topic/finding-best-and-i-reached-to-the-armember/)

[asusbkm](https://profiles.wordpress.org/asusbkm/ "Posts by asusbkm")
December 13, 2024
1 reply

it is easy-to-use and works well, supports PayPal and Stripe, and has features like controlling content protection, signup and login forms, etc. It might take a little time to learn, but it’s reliable and does what you need. A big recommendation for it!

![](https://secure.gravatar.com/avatar/9659ecd460b97ed957b2e966245b3331a73553989547f2f023042c7f0b130675?s=60&d=retro&r=g)
### [I recommend this plugin 200%](https://wordpress.org/support/topic/i-recommend-this-plugin-200/)

[Graffic](https://profiles.wordpress.org/jubbas/ "Posts by Graffic")
December 13, 2024
1 reply

Very intuitive and easy to set up, and really professionally made.There are no complicated and strange ways to do things, it is simple and easy to work with.
I really love this plugin, after working with many other member plugins.

![](https://secure.gravatar.com/avatar/3614c5f224611313f7db74437393c92b9ad0a8142f0d438d1be6ee149b2d3634?s=60&d=retro&r=g)
### [Highly recommend this plugin](https://wordpress.org/support/topic/highly-recommend-this-plugin-13/)

[iammurtazaa](https://profiles.wordpress.org/iammurtazaa/ "Posts by iammurtazaa")
December 10, 2024
1 reply

i used this plugin this helped me alot 😍

[Read all 144 reviews](https://wordpress.org/support/plugin/armember-membership/reviews/)
## Contributors & Developers

“ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/c9fea89851d56ddb4c0193be05eccbdf8aecfeb74a7795abc4adeeee7f551b97?s=32&d=mm&r=g) [reputeinfosystems](https://profiles.wordpress.org/reputeinfosystems/)
* ![](https://secure.gravatar.com/avatar/ab7abd09f8c7013a1073d2f21c172c24f1c616d539a168fb019b38591fea2231?s=32&d=mm&r=g) [Bhavesh Modi](https://profiles.wordpress.org/membershippro/)

“ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup” has been translated into 1 locale. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/armember-membership/contributors) for their contributions.

[Translate “ARMember – Membership Plugin, Content Restriction, Member Levels, User Profile & User signup” into your language.](https://translate.wordpress.org/projects/wp-plugins/armember-membership)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/armember-membership/), check out the [SVN repository](https://plugins.svn.wordpress.org/armember-membership/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/armember-membership/) by [RSS](https://plugins.trac.wordpress.org/log/armember-membership/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 4.0.57

* Added New inbuilt addon “Bricks Builder Integration”.
* Other minor bug fixes.

#### 4.0.56

* Added New inbuilt addon “SiteOrigin Builder Integration”.
* Other minor bug fixes.

#### 4.0.55

* Minor bug fixes.

#### 4.0.54

* Minor bug fixes.

#### 4.0.53

* Added New inbuilt addon “Beaver Builder Integration”.
* Other minor bug fixes.

For a complete list of changelog of earlier versions, please check the website [here](https://www.armemberplugin.com/documents/changelog/#lite-version)

## Commercial plugin

This plugin is free but offers additional paid commercial upgrades or support. [View support](https://www.armemberplugin.com/support/)

## Meta

* Version **4.0.57**
* Last updated **3 days ago**
* Active installations **9,000+**
* WordPress version **5.0 or higher**
* Tested up to **6.7.1**
* PHP version **5.6 or higher**
* Languages
  See all 2

  Close

  [Dutch](https://nl.wordpress.org/plugins/armember-membership/) and [English (US)](https://wordpress.org/plugins/armember-membership/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/armember-membership)
* Tags [content restriction](https://wordpress.org/plugins/tags/content-restriction/)[member](https://wordpress.org/plugins/tags/member/)[membership](https://wordpress.org/plugins/tags/membership/)[user profile](https://wordpress.org/plugins/tags/user-profile/)[User Registration](https://wordpress.org/plugins/tags/user-registration/)
* [Advanced View](https://wordpress.org/plugins/armember-membership/advanced/)

## Ratings

4.5 out of 5 stars.

* [119 5-star reviews
  5 stars

  119](https://wordpress.org/support/plugin/armember-membership/reviews/?filter=5)
* [5 4-star reviews
  4 stars

  5](https://wordpress.org/support/plugin/armember-membership/reviews/?filter=4)
* [2 3-star reviews
  3 stars

  2](https://wordpress.org/support/plugin/armember-membership/reviews/?filter=3)
* [5 2-star reviews
  2 stars

  5](https://wordpress.org/support/plugin/armember-membership/reviews/?filter=2)
* [13 1-star reviews
  1 star

  13](https://wordpress.org/support/plugin/armember-membership/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/armember-membership/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/armember-membership/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/c9fea89851d56ddb4c0193be05eccbdf8aecfeb74a7795abc4adeeee7f551b97?s=32&d=mm&r=g) [reputeinfosystems](https://profiles.wordpress.org/reputeinfosystems/)
* ![](https://secure.gravatar.com/avatar/ab7abd09f8c7013a1073d2f21c172c24f1c616d539a168fb019b38591fea2231?s=32&d=mm&r=g) [Bhavesh Modi](https://profiles.wordpress.org/membershippro/)
## Support

Issues resolved in last two months:

12 out of 13

[View support forum](https://wordpress.org/support/plugin/armember-membership/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://www.armemberplugin.com/product.php?rdt=t16)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


