

Proxmox Bugzilla – Bug 4988
HTTP/2 Rapid Reset : CVE-2023-44487
Last modified: 2023-10-11 09:26:01 CEST

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=4988&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=4988&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 4988**](show_bug.cgi?id=4988)
- HTTP/2 Rapid Reset : CVE-2023-44487

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
HTTP/2 Rapid Reset : CVE-2023-44487

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED WORKSFORME | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | common | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=common "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Backend/API ([show other bugs](buglist.cgi?component=Backend%2FAPI&product=common&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | bookworm-based | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | PC Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | --- bug | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Bugs | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2023-10-10 15:39 CEST by admin | | --- | --- | | Modified: | 2023-10-11 09:26 CEST ([History](show_activity.cgi?id=4988)) | | CC List: | 1 user (show)  t.lamprecht | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=4988&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=4988&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=4988#c0)  admin    2023-10-10 15:39:48 CEST  ``` Is proxmox patched or vulnerable to the attack.  See : CVE-2023-44487  <https://blog.cloudflare.com/technical-breakdown-http2-rapid-reset-ddos-attack/> ```  [Comment 1](show_bug.cgi?id=4988#c1)  Thomas Lamprecht    2023-10-10 17:23:28 CEST  ``` No, our API in general uses HTTP/1.1.  Only Proxmox Backup server has support for HTTP 2.2, and there it's only accessible to users or API tokens that one gave access to making or reading backups.  And even if one has the relevant access, which normally means already some higher trust relation to that user, those two special endpoints cannot really be abused by rapid reset, as this "attack" works with requesting data from a server, not sending some to it, the writer endpoint is unaffected by definition. Misusing the reader one has a higher chance, but still adds some cost to the attacker and is not trivially possible – and still, as this requires read access and knowing chunk IDs, which requires reading some indexes, we see it as non-problematic, especially as there's built-in rate-limiting available too.  tl;dr:  Proxmox VE -> no, only HTTP/1.1 Proxmox Mail Gateway -> no, only HTTP/1.1 Proxmox Backup Server -> in general no as all but two restricted endpoints are HTTP/1.1 only. From the restricted endpoint only one could be misused, but not cheaply so we do not see this as real issue. ```  [Comment 2](show_bug.cgi?id=4988#c2)  Thomas Lamprecht    2023-10-11 09:26:01 CEST  ``` For the record: The main author of the underlying HTTP and HTTP/2 stack hyper[0], which is used by Proxmox Backup Server, is stating that it's not affected[1] in the version we use. So even privileged users cannot misuse the backup reader endpoint in any way with this method, leaving all Proxmox projects completely unaffected by this issue.  [0]: <https://hyper.rs/> [1]: <https://seanmonstar.com/post/730794151136935936/hyper-http2-rapid-reset-unaffected> ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=4988)
* - [XML](show_bug.cgi?ctype=xml&id=4988)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=4988)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=4988&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=4988&GoAheadAndLogIn=1#forgot)
    Login:

    [x]

+ Service provided by Proxmox Server Solutions GmbH+ | [Privacy](https://www.proxmox.com/en/privacy-policy)
  + | [Legal](https://www.proxmox.com/en/legal)

