<html lang="en" op="item"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?jZ4kyxqAt22XaoTPqDid">
        <link rel="icon" href="y18.svg">
    <link rel="canonical" href="https://news.ycombinator.com/item?id=37830987"/>            <title>The novel HTTP&#x2F;2 &#x27;Rapid Reset&#x27; DDoS attack | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="https://news.ycombinator.com"><img src="y18.svg" width="18" height="18" style="border:1px white solid; display:block"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b>
                            <a href="newest">new</a> | <a href="front">past</a> | <a href="newcomments">comments</a> | <a href="ask">ask</a> | <a href="show">show</a> | <a href="jobs">jobs</a> | <a href="submit" rel="nofollow">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a href="login?goto=item%3Fid%3D37830987">login</a>
                          </span></td>
              </tr></table></td></tr>
<tr id="pagespace" title="The novel HTTP&#x2F;2 &#x27;Rapid Reset&#x27; DDoS attack" style="height:10px"></tr><tr><td><table class="fatitem" border="0">
        <tr class='athing submission' id='37830987'>
      <td align="right" valign="top" class="title"><span class="rank"></span></td>      <td valign="top" class="votelinks"><center><a id='up_37830987' href='vote?id=37830987&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://cloud.google.com/blog/products/identity-security/how-it-works-the-novel-http2-rapid-reset-ddos-attack">The novel HTTP&#x2F;2 &#x27;Rapid Reset&#x27; DDoS attack</a><span class="sitebit comhead"> (<a href="from?site=cloud.google.com"><span class="sitestr">cloud.google.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_37830987">365 points</span> by <a href="user?id=jsnell" class="hnuser">jsnell</a> <span class="age" title="2023-10-10T12:00:49 1696939249"><a href="item?id=37830987">on Oct 10, 2023</a></span> <span id="unv_37830987"></span> | <a href="hide?id=37830987&amp;goto=item%3Fid%3D37830987">hide</a> | <a href="https://hn.algolia.com/?query=The%20novel%20HTTP%2F2%20%27Rapid%20Reset%27%20DDoS%20attack&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0" class="hnpast">past</a> | <a href="fave?id=37830987&amp;auth=dda037077d1a4714b308fa2fba7e54fba17af655">favorite</a> | <a href="item?id=37830987">106&nbsp;comments</a>        </span>
              </td></tr>
        </table><br><br><table border="0" class='comment-tree'>
            <tr class='athing comtr' id='37836511'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37836511' href='vote?id=37836511&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=dang" class="hnuser">dang</a> <span class="age" title="2023-10-10T19:40:56 1696966856"><a href="item?id=37836511">on Oct 10, 2023</a></span> <span id="unv_37836511"></span>          <span class='navs'>
             | <a href="#37833365" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836511" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Related ongoing threads:<p><i>The largest DDoS attack to date, peaking above 398M rps</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37831062">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37831062</a><p><i>HTTP&#x2F;2 Zero-Day Vulnerability Results in Record-Breaking DDoS Attacks</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37830998">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37830998</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37833365'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37833365' href='vote?id=37833365&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=comice" class="hnuser">comice</a> <span class="age" title="2023-10-10T15:29:37 1696951777"><a href="item?id=37833365">on Oct 10, 2023</a></span> <span id="unv_37833365"></span>          <span class='navs'>
             | <a href="#37836511" class="clicky" aria-hidden="true">prev</a> | <a href="#37832424" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833365" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Nice to see that the haproxy people had spotted this kind of issue with http&#x2F;2 and apparently mitigated it back in 2018: <a href="https:&#x2F;&#x2F;www.mail-archive.com&#x2F;haproxy@formilux.org&#x2F;msg44134.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.mail-archive.com&#x2F;haproxy@formilux.org&#x2F;msg44134.h...</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835699'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37835699' href='vote?id=37835699&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jabart" class="hnuser">jabart</a> <span class="age" title="2023-10-10T18:32:28 1696962748"><a href="item?id=37835699">on Oct 10, 2023</a></span> <span id="unv_37835699"></span>          <span class='navs'>
             | <a href="#37833365" class="clicky" aria-hidden="true">parent</a> | <a href="#37836230" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835699" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Nice, I was looking for this type of information for haproxy. Gives me a lot of confidence in their new QUIC feature.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37836230'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37836230' href='vote?id=37836230&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=vdfs" class="hnuser">vdfs</a> <span class="age" title="2023-10-10T19:16:48 1696965408"><a href="item?id=37836230">on Oct 10, 2023</a></span> <span id="unv_37836230"></span>          <span class='navs'>
             | <a href="#37833365" class="clicky" aria-hidden="true">parent</a> | <a href="#37835699" class="clicky" aria-hidden="true">prev</a> | <a href="#37832424" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836230" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">If anyone is curios, Nginx is vulnerable to this<p><a href="https:&#x2F;&#x2F;www.nginx.com&#x2F;blog&#x2F;http-2-rapid-reset-attack-impacting-f5-nginx-products" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.nginx.com&#x2F;blog&#x2F;http-2-rapid-reset-attack-impacti...</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836847'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37836847' href='vote?id=37836847&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=obituary_latte" class="hnuser">obituary_latte</a> <span class="age" title="2023-10-10T20:11:32 1696968692"><a href="item?id=37836847">on Oct 10, 2023</a></span> <span id="unv_37836847"></span>          <span class='navs'>
             | <a href="#37833365" class="clicky" aria-hidden="true">root</a> | <a href="#37836230" class="clicky" aria-hidden="true">parent</a> | <a href="#37832424" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836847" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00"><i>IF</i> configured away from the defaults:<p>By relying on the default keepalive limit, NGINX prevents this type of attack. Creating additional connections to circumvent this limit exposes bad actors via standard layer 4 monitoring and alerting tools.<p>However, if NGINX is configured with a keepalive that is substantially higher than the default and recommended setting, the attack may deplete system resources.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='37832424'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37832424' href='vote?id=37832424&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=js2" class="hnuser">js2</a> <span class="age" title="2023-10-10T14:16:58 1696947418"><a href="item?id=37832424">on Oct 10, 2023</a></span> <span id="unv_37832424"></span>          <span class='navs'>
             | <a href="#37833365" class="clicky" aria-hidden="true">prev</a> | <a href="#37832934" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832424" n="17" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; In a typical HTTP&#x2F;2 server implementation, the server will still have to do significant amounts of work for canceled requests, such as allocating new stream data structures, parsing the query and doing header decompression, and mapping the URL to a resource. For reverse proxy implementations, the request may be proxied to the backend server before the RST_STREAM frame is processed. The client on the other hand paid almost no costs for sending the requests. This creates an exploitable cost asymmetry between the server and the client.<p>I&#x27;m surprised this wasn&#x27;t foreseen when HTTP&#x2F;2 was designed. Amplification attacks were already well known from other protocols.<p>I&#x27;m similarly similarly surprised it took this long for this attack to surface, but maybe HTTP&#x2F;2 wasn&#x27;t widely enough deployed to be a worthwhile target till recently?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37832708'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37832708' href='vote?id=37832708&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tptacek" class="hnuser">tptacek</a> <span class="age" title="2023-10-10T14:40:25 1696948825"><a href="item?id=37832708">on Oct 10, 2023</a></span> <span id="unv_37832708"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">parent</a> | <a href="#37834241" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832708" n="7" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">It&#x27;s not really an amplification attack. It&#x27;s just drastically more efficiently using TCP connections.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836295'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37836295' href='vote?id=37836295&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=callalex" class="hnuser">callalex</a> <span class="age" title="2023-10-10T19:22:29 1696965749"><a href="item?id=37836295">on Oct 10, 2023</a></span> <span id="unv_37836295"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37832708" class="clicky" aria-hidden="true">parent</a> | <a href="#37834686" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836295" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Isn’t any kind of attack where a little bit of effort from the attacker causes a lot of work for the victim an amplification attack? Or do you only consider it an amplification attack if it is exploiting layer 3?<p>I tried looking it up and couldn’t find an authoritative answer. Can you recommend a resource that you like for this subject?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37837216'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37837216' href='vote?id=37837216&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=mike_d" class="hnuser">mike_d</a> <span class="age" title="2023-10-10T20:43:00 1696970580"><a href="item?id=37837216">on Oct 10, 2023</a></span> <span id="unv_37837216"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836295" class="clicky" aria-hidden="true">parent</a> | <a href="#37836399" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837216" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; Isn’t any kind of attack where a little bit of effort from the attacker causes a lot of work for the victim an amplification attack?<p>That is technically any HTTP request that requires processing to satisfy. For example if I find a page on your site that executes an expensive database query.<p>Amplification attacks are generally defined as packets that can be sent with a spoofed source address that result in a larger number of packets being returned to the spoofed victim.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37836399'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37836399' href='vote?id=37836399&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=viraptor" class="hnuser">viraptor</a> <span class="age" title="2023-10-10T19:30:05 1696966205"><a href="item?id=37836399">on Oct 10, 2023</a></span> <span id="unv_37836399"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836295" class="clicky" aria-hidden="true">parent</a> | <a href="#37837216" class="clicky" aria-hidden="true">prev</a> | <a href="#37840134" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836399" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Amplification attack usually means the first victim produces more traffic than was sent to it and can direct it at the second victim.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37840134'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37840134' href='vote?id=37840134&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=rasz" class="hnuser">rasz</a> <span class="age" title="2023-10-11T02:11:35 1696990295"><a href="item?id=37840134">on Oct 11, 2023</a></span> <span id="unv_37840134"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836295" class="clicky" aria-hidden="true">parent</a> | <a href="#37836399" class="clicky" aria-hidden="true">prev</a> | <a href="#37847730" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840134" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">No, this is Resource exhaustion attacks <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Resource_exhaustion_attack" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Resource_exhaustion_attack</a> And its not the first HTTP2 rodeo <a href="https:&#x2F;&#x2F;www.akamai.com&#x2F;blog&#x2F;security&#x2F;http2-vulnerabilities" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.akamai.com&#x2F;blog&#x2F;security&#x2F;http2-vulnerabilities</a><p>One of the 2019 vulns <a href="https:&#x2F;&#x2F;cve.mitre.org&#x2F;cgi-bin&#x2F;cvename.cgi?name=CVE-2019-9514" rel="nofollow noreferrer">https:&#x2F;&#x2F;cve.mitre.org&#x2F;cgi-bin&#x2F;cvename.cgi?name=CVE-2019-9514</a> even sounds extremely similar to current attack.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37847730'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37847730' href='vote?id=37847730&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=Sohcahtoa82" class="hnuser">Sohcahtoa82</a> <span class="age" title="2023-10-11T17:43:30 1697046210"><a href="item?id=37847730">on Oct 11, 2023</a></span> <span id="unv_37847730"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836295" class="clicky" aria-hidden="true">parent</a> | <a href="#37840134" class="clicky" aria-hidden="true">prev</a> | <a href="#37834686" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37847730" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; I tried looking it up and couldn’t find an authoritative answer.<p>I mean, who do you consider authoritative?  Googling &quot;amplification attack&quot; will give you plenty of descriptions from tons of sources.  Take your pick.  Though most will talk about DNS amplication attacks because that&#x27;s the simplest example.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37834686'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37834686' href='vote?id=37834686&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=js2" class="hnuser">js2</a> <span class="age" title="2023-10-10T17:07:59 1696957679"><a href="item?id=37834686">on Oct 10, 2023</a></span> <span id="unv_37834686"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37832708" class="clicky" aria-hidden="true">parent</a> | <a href="#37836295" class="clicky" aria-hidden="true">prev</a> | <a href="#37834241" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834686" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">You&#x27;re right. I hadn&#x27;t had my coffee yet and the asymmetric cost reminded me of amplification attacks. I&#x27;m still surprised this attack wasn&#x27;t foreseen though. It just doesn&#x27;t seem all that clever or original.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37834241'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37834241' href='vote?id=37834241&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=gnfargbl" class="hnuser">gnfargbl</a> <span class="age" title="2023-10-10T16:27:37 1696955257"><a href="item?id=37834241">on Oct 10, 2023</a></span> <span id="unv_37834241"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">parent</a> | <a href="#37832708" class="clicky" aria-hidden="true">prev</a> | <a href="#37833290" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834241" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I was surprised too, but if you look at the timelines then RST_STREAM seems to have been present in early versions of SPDY, and SPDY seems mostly to have been designed around 2009. Attacks like Slowloris were coming out at about the same time, but they weren&#x27;t well-known.<p>On the other hand, SYN cookies were introduced in 1996, so there&#x27;s definitely some historic precedent for attacks in the (victim pays Y, attacker pays X, X&lt;&lt;Y) class.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835941'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37835941' href='vote?id=37835941&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=c0l0" class="hnuser">c0l0</a> <span class="age" title="2023-10-10T18:51:25 1696963885"><a href="item?id=37835941">on Oct 10, 2023</a></span> <span id="unv_37835941"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37834241" class="clicky" aria-hidden="true">parent</a> | <a href="#37833290" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835941" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">If you are working on the successor protocol of HTTP&#x2F;1.1, and are not aware of Slowloris the moment it hits and every serious httpd implementation out there gets patched to mitigate it, I&#x27;d argue you are in the wrong line of work.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37838244'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37838244' href='vote?id=37838244&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=junon" class="hnuser">junon</a> <span class="age" title="2023-10-10T22:04:33 1696975473"><a href="item?id=37838244">on Oct 10, 2023</a></span> <span id="unv_37838244"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37835941" class="clicky" aria-hidden="true">parent</a> | <a href="#37833290" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838244" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">While I agree in principle, slow loris is a very different attack than this one.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='37833290'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37833290' href='vote?id=37833290&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=kristopolous" class="hnuser">kristopolous</a> <span class="age" title="2023-10-10T15:24:42 1696951482"><a href="item?id=37833290">on Oct 10, 2023</a></span> <span id="unv_37833290"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">parent</a> | <a href="#37834241" class="clicky" aria-hidden="true">prev</a> | <a href="#37832934" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833290" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; I&#x27;m similarly similarly surprised it took this long for this attack to surface<p>As with most things like this, probably many hundreds of unimportant people saw it and tried it out.<p>Trying to do it on Google, with a serious effort, that&#x27;s the wacky part.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836682'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37836682' href='vote?id=37836682&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=sangnoir" class="hnuser">sangnoir</a> <span class="age" title="2023-10-10T19:56:49 1696967809"><a href="item?id=37836682">on Oct 10, 2023</a></span> <span id="unv_37836682"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37833290" class="clicky" aria-hidden="true">parent</a> | <a href="#37832934" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836682" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c73">&gt; Trying to do it on Google, with a serious effort, that&#x27;s the wacky part<p>If I were the FBI, I&#x27;d be looking at people with recently bought Google puts expiring soon. I can&#x27;t imagine anyone taking a swing at Google infra &quot;for the lulz&quot;. Also in contention: nation-states doing a practice run.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37837371'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37837371' href='vote?id=37837371&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=kristopolous" class="hnuser">kristopolous</a> <span class="age" title="2023-10-10T20:59:03 1696971543"><a href="item?id=37837371">on Oct 10, 2023</a></span> <span id="unv_37837371"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836682" class="clicky" aria-hidden="true">parent</a> | <a href="#37837132" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837371" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">That&#x27;s because you don&#x27;t think like a 16 year old<p>This is exactly the kind of things that a smart kid who&#x27;s still just a foolish highschool student would do. I wouldn&#x27;t be surprised if this attack already exists in the wild, it&#x27;s not hard to write<p>Also the subsequent attacks were less effective, that&#x27;s exactly what some kid would be doing.<p>You don&#x27;t even need an expansive botnot. A rich kid whose parents are in neighborhoods with residential fiber with a bunch of friends could probably coordinate it through a discord server<p>Most of us really don&#x27;t interact with teenagers regularly so we forget they&#x27;re out there (they also tend to dislike adults so they make themselves especially invisible around us). When it comes to things like this, that&#x27;s my first assumption until further evidence.<p>Merely teenaged graffiti for the digital age.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37837132'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37837132' href='vote?id=37837132&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=lazide" class="hnuser">lazide</a> <span class="age" title="2023-10-10T20:35:49 1696970149"><a href="item?id=37837132">on Oct 10, 2023</a></span> <span id="unv_37837132"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836682" class="clicky" aria-hidden="true">parent</a> | <a href="#37837371" class="clicky" aria-hidden="true">prev</a> | <a href="#37845041" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837132" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Google infra is attacked with large scale DDoS type attacks literally multiple times a day. They’re usually a nothingburger.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37845041'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37845041' href='vote?id=37845041&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=seanhunter" class="hnuser">seanhunter</a> <span class="age" title="2023-10-11T14:42:25 1697035345"><a href="item?id=37845041">on Oct 11, 2023</a></span> <span id="unv_37845041"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836682" class="clicky" aria-hidden="true">parent</a> | <a href="#37837132" class="clicky" aria-hidden="true">prev</a> | <a href="#37837238" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37845041" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Google options with near expiries have 100s of thousands of contracts of open interest[1]. Unless you found the person some other way (and then could prove that they had also gone long a short-dated put to try to profit) there&#x27;s literally no way you find anything interesting by doing that.<p>[1] Add up the &quot;Open int&quot; numbers here <a href="https:&#x2F;&#x2F;www.nasdaq.com&#x2F;market-activity&#x2F;stocks&#x2F;goog&#x2F;option-chain" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.nasdaq.com&#x2F;market-activity&#x2F;stocks&#x2F;goog&#x2F;option-ch...</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37837238'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37837238' href='vote?id=37837238&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=mike_d" class="hnuser">mike_d</a> <span class="age" title="2023-10-10T20:44:18 1696970658"><a href="item?id=37837238">on Oct 10, 2023</a></span> <span id="unv_37837238"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">root</a> | <a href="#37836682" class="clicky" aria-hidden="true">parent</a> | <a href="#37845041" class="clicky" aria-hidden="true">prev</a> | <a href="#37832934" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837238" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Google is rarely the target of intentional attacks. Their cloud customers are the intended victims.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='37832934'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37832934' href='vote?id=37832934&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=the8472" class="hnuser">the8472</a> <span class="age" title="2023-10-10T14:57:47 1696949867"><a href="item?id=37832934">on Oct 10, 2023</a></span> <span id="unv_37832934"></span>          <span class='navs'>
             | <a href="#37832424" class="clicky" aria-hidden="true">prev</a> | <a href="#37832128" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832934" n="18" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">So we needed HTTP2 to deliver ads, trackers and bloated frontend frameworks faster. And now it delivers attacks faster too.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37838185'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37838185' href='vote?id=37838185&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jeroenhd" class="hnuser">jeroenhd</a> <span class="age" title="2023-10-10T21:59:29 1696975169"><a href="item?id=37838185">on Oct 10, 2023</a></span> <span id="unv_37838185"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">parent</a> | <a href="#37836708" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838185" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">HTTP&#x2F;2 makes the browsing experience of high-latency connections a lot more tolerable. It also makes loading web pages in general faster.<p>Luckily, HTTP&#x2F;1.1 still works. You can always enable it in your browser configuration and in your web servers if you don&#x27;t like the protocol.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37841795'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37841795' href='vote?id=37841795&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tlamponi" class="hnuser">tlamponi</a> <span class="age" title="2023-10-11T07:12:35 1697008355"><a href="item?id=37841795">on Oct 11, 2023</a></span> <span id="unv_37841795"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37838185" class="clicky" aria-hidden="true">parent</a> | <a href="#37836708" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37841795" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; HTTP&#x2F;2 makes the browsing experience of high-latency connections a lot more tolerable. It also makes loading web pages in general faster.<p>HTTP&#x2F;3 does that in my experience (lots of train rides with spotty onboard Wi-Fi) quite a bit better though. As HTTP&#x2F;2 is still affected by head-of-line blocking and a single packet loss can block all other streams, even if the lost packet didn&#x27;t hold data for them.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37836708'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37836708' href='vote?id=37836708&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=shepherdjerred" class="hnuser">shepherdjerred</a> <span class="age" title="2023-10-10T19:59:00 1696967940"><a href="item?id=37836708">on Oct 10, 2023</a></span> <span id="unv_37836708"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">parent</a> | <a href="#37838185" class="clicky" aria-hidden="true">prev</a> | <a href="#37832128" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836708" n="15" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Are you suggesting that we didn&#x27;t need HTTP2? What&#x27;s the real alternative here?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37837682'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37837682' href='vote?id=37837682&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=the8472" class="hnuser">the8472</a> <span class="age" title="2023-10-10T21:19:56 1696972796"><a href="item?id=37837682">on Oct 10, 2023</a></span> <span id="unv_37837682"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37836708" class="clicky" aria-hidden="true">parent</a> | <a href="#37838595" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837682" n="8" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">In some alternative history there would have been a push to make http 1.1 pipelining work, trim fat from bloated websites (loading cookie consent banners from a 3rd party domain is a travesty on several levels) and maybe use websockets for tiny API requests. And the prioritization attributes on various resources.
Then shoveling everything over ~2 TCP connections would have done the job?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37839942'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37839942' href='vote?id=37839942&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=comex" class="hnuser">comex</a> <span class="age" title="2023-10-11T01:31:58 1696987918"><a href="item?id=37839942">on Oct 11, 2023</a></span> <span id="unv_37839942"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37837682" class="clicky" aria-hidden="true">parent</a> | <a href="#37838649" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37839942" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Personally, as a website visitor and occasional author, I don’t want the performance to be good enough to ‘do the job’.  I want it to be as fast as possible.  I want it to be instant.  For that we need unbloated websites <i>and</i> better protocols.  It’s not a competition.<p>After all, you don’t need bloat to suffer from head-of-line blocking.  You just need a few images.<p>(Though, personally I’m a much bigger fan of HTTP&#x2F;3 than HTTP&#x2F;2.  With a more principled solution to head-of-line blocking and proper 0-RTT, HTTP&#x2F;3 makes a stronger case for why we need a new protocol than HTTP&#x2F;2 did.  I don’t know why HTTP&#x2F;2 had to exist at all, really, when QUIC already existed by the time HTTP&#x2F;2 was being standardized.  Oh well.)</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37842569'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37842569' href='vote?id=37842569&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=the8472" class="hnuser">the8472</a> <span class="age" title="2023-10-11T09:46:20 1697017580"><a href="item?id=37842569">on Oct 11, 2023</a></span> <span id="unv_37842569"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37839942" class="clicky" aria-hidden="true">parent</a> | <a href="#37838649" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37842569" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; It’s not a competition.<p>But it is in the context of the 3-way tradeoff we&#x27;re talking about here. complexity of the site vs. load time vs. protocol complexity<p>&gt;  You just need a few images.<p>On the HTTP level those can be deferred after the html&#x2F;styles&#x2F;js. Then you already have the content. What on your site would be &quot;blocked&quot; at that point? It&#x27;s just images holding up each other.<p>On the TCP level SACK and FRTO should resolve most instances of HOL after 1 RTT. It&#x27;s not perfect but I suspect a lot of people experience &quot;slowness&quot; not because the underlying protocols are bad but because they&#x27;re on old implementations. Or because they&#x27;re on networks with bufferbloat. Upgrade those and we don&#x27;t need those complex workarounds.<p>As for HTTP&#x2F;3... it&#x27;s a mixed bag. The basic idea is great. The execution is another googleism. They didn&#x27;t have the patience to get it into OSes, so now every client has to implement its own network stack which multiplies the things that need patching if something goes wrong.
And it runs over UDP instead of being a different transport on the IP level like SCTP. And TLS is a good default but the whole CA-thing shouldn&#x27;t have been mandatory. And header compression also seems like a cure for a disease of their own making, compare which the number of headers you need for HTTP 1.0.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37838649'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37838649' href='vote?id=37838649&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=shepherdjerred" class="hnuser">shepherdjerred</a> <span class="age" title="2023-10-10T22:39:52 1696977592"><a href="item?id=37838649">on Oct 10, 2023</a></span> <span id="unv_37838649"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37837682" class="clicky" aria-hidden="true">parent</a> | <a href="#37839942" class="clicky" aria-hidden="true">prev</a> | <a href="#37841191" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838649" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">What incentive would most businesses have to do what you&#x27;re describing?<p>It is _much_ faster, cheaper, and easier to build a bloated website than an optimized one. Similarly, it is much easier to enable HTTP2 than it is to fix the root of the problem.<p>I&#x27;m not saying that it&#x27;s right -- anyone without a fast connection or who cares about their privacy isn&#x27;t getting a great deal here.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37838821'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37838821' href='vote?id=37838821&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=the8472" class="hnuser">the8472</a> <span class="age" title="2023-10-10T22:55:01 1696978501"><a href="item?id=37838821">on Oct 10, 2023</a></span> <span id="unv_37838821"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37838649" class="clicky" aria-hidden="true">parent</a> | <a href="#37840255" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838821" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Most businesses are not in a position to push through a new network protocol for the entire planet! So if we lived in a world with fewer monopolies then protocols might have evolved more incrementally. Though we&#x27;d presumably still have gotten something like BBR because congestion algorithms can be implemented unilaterally.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37840255'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37840255' href='vote?id=37840255&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=immibis" class="hnuser">immibis</a> <span class="age" title="2023-10-11T02:33:07 1696991587"><a href="item?id=37840255">on Oct 11, 2023</a></span> <span id="unv_37840255"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37838649" class="clicky" aria-hidden="true">parent</a> | <a href="#37838821" class="clicky" aria-hidden="true">prev</a> | <a href="#37841191" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840255" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">What incentive do most businesses have to make your checkout process smooth, have automatic doors, or provide shopping carts? Simple: customers like the easiest business to shop at.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37841191'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37841191' href='vote?id=37841191&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=KingMob" class="hnuser">KingMob</a> <span class="age" title="2023-10-11T05:21:34 1697001694"><a href="item?id=37841191">on Oct 11, 2023</a></span> <span id="unv_37841191"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37837682" class="clicky" aria-hidden="true">parent</a> | <a href="#37838649" class="clicky" aria-hidden="true">prev</a> | <a href="#37840249" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37841191" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Even for leaner websites, HTTP&#x2F;2 was always going to be an improvement, for HTTP head-of-line blocking and better header compression, if nothing else. These are orthogonal issues for the most part.<p>Also, they tried prioritization, but it was too unwieldy in practice, the browser vendors didn&#x27;t agree, and it was deprecated in the latest RFC 9113.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37840249'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37840249' href='vote?id=37840249&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=immibis" class="hnuser">immibis</a> <span class="age" title="2023-10-11T02:32:03 1696991523"><a href="item?id=37840249">on Oct 11, 2023</a></span> <span id="unv_37840249"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37837682" class="clicky" aria-hidden="true">parent</a> | <a href="#37841191" class="clicky" aria-hidden="true">prev</a> | <a href="#37838595" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840249" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Loading cookie consent banners from a 3rd-party domain is probably a GDPR violation because it transmits user information to a 3rd party without consent.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37838595'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37838595' href='vote?id=37838595&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=bsder" class="hnuser">bsder</a> <span class="age" title="2023-10-10T22:34:51 1696977291"><a href="item?id=37838595">on Oct 10, 2023</a></span> <span id="unv_37838595"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37836708" class="clicky" aria-hidden="true">parent</a> | <a href="#37837682" class="clicky" aria-hidden="true">prev</a> | <a href="#37836728" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838595" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">SCTP (Stream Control Transmission Protocol) or the equivalent.  HTTP is really the wrong layer for things like bonding multiple connections, congestion adjustments, etc.<p>Unfortunately, most computers only pass TCP and UDP (Windows and middleboxes).  So, protocol evolution is a dead end.<p>Thus you have to piggyback on what computers will let through--so you&#x27;re stuck with creating an HTTP flavor of TCP.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37840479'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37840479' href='vote?id=37840479&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=murderfs" class="hnuser">murderfs</a> <span class="age" title="2023-10-11T03:13:44 1696994024"><a href="item?id=37840479">on Oct 11, 2023</a></span> <span id="unv_37840479"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37838595" class="clicky" aria-hidden="true">parent</a> | <a href="#37836728" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840479" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">QUIC (the basis for HTTP&#x2F;3) is basically the spiritual successor to SCTP, except with TLS baked in, so compared with SCTP+DTLS, connection establishment requires significantly fewer roundtrips (0 round trips for session resumption, 1 roundtrip at worst, compared to 4 or so for DTLS).</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37836728'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37836728' href='vote?id=37836728&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=Etheryte" class="hnuser">Etheryte</a> <span class="age" title="2023-10-10T20:00:31 1696968031"><a href="item?id=37836728">on Oct 10, 2023</a></span> <span id="unv_37836728"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37836708" class="clicky" aria-hidden="true">parent</a> | <a href="#37838595" class="clicky" aria-hidden="true">prev</a> | <a href="#37832128" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836728" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext cAE">Nothing in their comment claims that, there&#x27;s no need to bring absurd strawmen into the discussion.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836911'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37836911' href='vote?id=37836911&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=shepherdjerred" class="hnuser">shepherdjerred</a> <span class="age" title="2023-10-10T20:17:59 1696969079"><a href="item?id=37836911">on Oct 10, 2023</a></span> <span id="unv_37836911"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37836728" class="clicky" aria-hidden="true">parent</a> | <a href="#37836912" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836911" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I&#x27;m just trying to figure out what the parent was trying to communicate, since the comment by itself didn&#x27;t add much to the discussion.<p>It seems that they&#x27;re more upset by the state of web development today than they are by HTTP2 or anything else that this thread pertains to.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37836912'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37836912' href='vote?id=37836912&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tsimionescu" class="hnuser">tsimionescu</a> <span class="age" title="2023-10-10T20:18:06 1696969086"><a href="item?id=37836912">on Oct 10, 2023</a></span> <span id="unv_37836912"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37836728" class="clicky" aria-hidden="true">parent</a> | <a href="#37836911" class="clicky" aria-hidden="true">prev</a> | <a href="#37836898" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836912" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The comment lists three negative things as &quot;the reason we needed HTTP&#x2F;2&quot;. I don&#x27;t even see how you could read it <i>other than</i> implying that HTTP&#x2F;2 was not actually necessary.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37836898'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37836898' href='vote?id=37836898&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ramranch" class="hnuser">ramranch</a> <span class="age" title="2023-10-10T20:16:44 1696969004"><a href="item?id=37836898">on Oct 10, 2023</a></span> <span id="unv_37836898"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">root</a> | <a href="#37836728" class="clicky" aria-hidden="true">parent</a> | <a href="#37836912" class="clicky" aria-hidden="true">prev</a> | <a href="#37832128" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836898" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">It does strongly imply it. HTTP2 is needed for more than just the bloatware of the modern internet.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='37832128'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37832128' href='vote?id=37832128&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=scrpl" class="hnuser">scrpl</a> <span class="age" title="2023-10-10T13:53:27 1696946007"><a href="item?id=37832128">on Oct 10, 2023</a></span> <span id="unv_37832128"></span>          <span class='navs'>
             | <a href="#37832934" class="clicky" aria-hidden="true">prev</a> | <a href="#37842410" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832128" n="16" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Another reason to keep foundational protocols small. HTTP&#x2F;2 has been around for more than a decade (including SPDY), and this is a first time this attack type surfaced. I wonder what surprises HTTP&#x2F;3 and QUIC hide...</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37832243'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37832243' href='vote?id=37832243&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=cmeacham98" class="hnuser">cmeacham98</a> <span class="age" title="2023-10-10T14:03:27 1696946607"><a href="item?id=37832243">on Oct 10, 2023</a></span> <span id="unv_37832243"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">parent</a> | <a href="#37850025" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832243" n="13" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">DNS is a small protocol and is abused by DDoS actors worldwide for relay attacks.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37832414'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37832414' href='vote?id=37832414&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=scrpl" class="hnuser">scrpl</a> <span class="age" title="2023-10-10T14:15:49 1696947349"><a href="item?id=37832414">on Oct 10, 2023</a></span> <span id="unv_37832414"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37832243" class="clicky" aria-hidden="true">parent</a> | <a href="#37836919" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832414" n="9" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">DNS is from 1983, give it some slack</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37833019'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37833019' href='vote?id=37833019&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=cmeacham98" class="hnuser">cmeacham98</a> <span class="age" title="2023-10-10T15:06:08 1696950368"><a href="item?id=37833019">on Oct 10, 2023</a></span> <span id="unv_37833019"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37832414" class="clicky" aria-hidden="true">parent</a> | <a href="#37838454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833019" n="7" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The point I&#x27;m trying to make is that &quot;small&quot; protocols aren&#x27;t less likely to be DDoS vectors.<p>Avoiding designing in DDoS relay&#x2F;amplication vectors requires luck or intention, not just making the protocol small.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37833525'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37833525' href='vote?id=37833525&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=scrpl" class="hnuser">scrpl</a> <span class="age" title="2023-10-10T15:39:31 1696952371"><a href="item?id=37833525">on Oct 10, 2023</a></span> <span id="unv_37833525"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37833019" class="clicky" aria-hidden="true">parent</a> | <a href="#37838454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833525" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Small, less complex protocols are inherently less likely to be insecure all things being equal, simply due to reduced attack surface.<p>DNS was created for a different environment, at a time when security wasn&#x27;t at forefront so it&#x27;s not a good example of the opposite.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37833857'><td><table border='0'>  <tr>    <td class='ind' indent='5'><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks">
      <center><a id='up_37833857' href='vote?id=37833857&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=Avamander" class="hnuser">Avamander</a> <span class="age" title="2023-10-10T15:59:01 1696953541"><a href="item?id=37833857">on Oct 10, 2023</a></span> <span id="unv_37833857"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37833525" class="clicky" aria-hidden="true">parent</a> | <a href="#37835399" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833857" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">This is such a strong claim I&#x27;d really appreciate something other than &quot;smaller is better&quot;<p>Abuse and abuse vectors vary wildly in complexity, some complexity is certainly required exactly to avoid dumb bottlenecks if not vulnerabilities. So based on what are you saying something simple will inherently resist abuse better?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37835399'><td><table border='0'>  <tr>    <td class='ind' indent='5'><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks">
      <center><a id='up_37835399' href='vote?id=37835399&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=baby_souffle" class="hnuser">baby_souffle</a> <span class="age" title="2023-10-10T18:06:33 1696961193"><a href="item?id=37835399">on Oct 10, 2023</a></span> <span id="unv_37835399"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37833525" class="clicky" aria-hidden="true">parent</a> | <a href="#37833857" class="clicky" aria-hidden="true">prev</a> | <a href="#37838454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835399" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; Small, less complex protocols are inherently less likely to be insecure all things being equal, simply due to reduced attack surface.<p>That feels intuitive in the &quot;less code is less bugs is less security issues&quot; sense but implies that &quot;secure&quot; and &quot;can&#x27;t be abused&quot; are the same thing.<p>Related? Sure.  Same?  No.<p>Oddly enough, we probably could have prevented the replay&#x2F;amplification dos attacks that use DNS by making DNS more complex &#x2F; adding mutual authentication so it&#x27;s not possible for A to request something that is then sent to B.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836701'><td><table border='0'>  <tr>    <td class='ind' indent='6'><img src="s.gif" height="1" width="240"></td><td valign="top" class="votelinks">
      <center><a id='up_37836701' href='vote?id=37836701&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=LK5ZJwMwgBbHuVI" class="hnuser">LK5ZJwMwgBbHuVI</a> <span class="age" title="2023-10-10T19:58:38 1696967918"><a href="item?id=37836701">on Oct 10, 2023</a></span> <span id="unv_37836701"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37835399" class="clicky" aria-hidden="true">parent</a> | <a href="#37838454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836701" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">We could have prevented the replay&#x2F;amplification dos attacks that use DNS by making DNS use TCP.<p>In practice though the only way to &quot;fix&quot; DNS that would&#x27;ve worked in the 80s would&#x27;ve probably been to require the request be padded to larger than the response...</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37837749'><td><table border='0'>  <tr>    <td class='ind' indent='7'><img src="s.gif" height="1" width="280"></td><td valign="top" class="votelinks">
      <center><a id='up_37837749' href='vote?id=37837749&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=smallnix" class="hnuser">smallnix</a> <span class="age" title="2023-10-10T21:24:11 1696973051"><a href="item?id=37837749">on Oct 10, 2023</a></span> <span id="unv_37837749"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37836701" class="clicky" aria-hidden="true">parent</a> | <a href="#37838454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837749" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">But TCP is way more complex</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37906125'><td><table border='0'>  <tr>    <td class='ind' indent='8'><img src="s.gif" height="1" width="320"></td><td valign="top" class="votelinks">
      <center><a id='up_37906125' href='vote?id=37906125&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=LK5ZJwMwgBbHuVI" class="hnuser">LK5ZJwMwgBbHuVI</a> <span class="age" title="2023-10-16T20:31:48 1697488308"><a href="item?id=37906125">on Oct 16, 2023</a></span> <span id="unv_37906125"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37837749" class="clicky" aria-hidden="true">parent</a> | <a href="#37838454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37906125" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">... yeah? I know? &quot;In practice though the only way to &quot;fix&quot; DNS that would&#x27;ve worked in the 80s would&#x27;ve probably been to require the request be padded to larger than the response...&quot;<p>It&#x27;s not as complex as some &quot;mutual authentication&quot; scheme though lmao</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                                          <tr class='athing comtr' id='37838454'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37838454' href='vote?id=37838454&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=aflag" class="hnuser">aflag</a> <span class="age" title="2023-10-10T22:20:14 1696976414"><a href="item?id=37838454">on Oct 10, 2023</a></span> <span id="unv_37838454"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37832414" class="clicky" aria-hidden="true">parent</a> | <a href="#37833019" class="clicky" aria-hidden="true">prev</a> | <a href="#37836919" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838454" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c73">I&#x27;m also from 1983 and I haven&#x27;t been DDoSed</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37836919'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37836919' href='vote?id=37836919&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=kiitos" class="hnuser">kiitos</a> <span class="age" title="2023-10-10T20:18:51 1696969131"><a href="item?id=37836919">on Oct 10, 2023</a></span> <span id="unv_37836919"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37832243" class="clicky" aria-hidden="true">parent</a> | <a href="#37832414" class="clicky" aria-hidden="true">prev</a> | <a href="#37850025" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836919" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">DNS is an enormous protocol, almost unmeasurably large.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37839252'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37839252' href='vote?id=37839252&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=mcesch" class="hnuser">mcesch</a> <span class="age" title="2023-10-10T23:49:54 1696981794"><a href="item?id=37839252">on Oct 10, 2023</a></span> <span id="unv_37839252"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37836919" class="clicky" aria-hidden="true">parent</a> | <a href="#37850025" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37839252" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">That&#x27;s a bit overblown. There&#x27;s a lot there and some of it conflicts with itself but it&#x27;s not unmeasurably large by any means. It&#x27;s a knowable protocol (and yes, I&#x27;m aware of the camel meme[1]).<p>1. <a href="https:&#x2F;&#x2F;powerdns.org&#x2F;dns-camel&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;powerdns.org&#x2F;dns-camel&#x2F;</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37852446'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37852446' href='vote?id=37852446&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=kiitos" class="hnuser">kiitos</a> <span class="age" title="2023-10-12T01:29:45 1697074185"><a href="item?id=37852446">on Oct 12, 2023</a></span> <span id="unv_37852446"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">root</a> | <a href="#37839252" class="clicky" aria-hidden="true">parent</a> | <a href="#37850025" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37852446" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Quiz: which RFCs do you need to know and implement to implement DNS?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='37850025'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37850025' href='vote?id=37850025&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=liveoneggs" class="hnuser">liveoneggs</a> <span class="age" title="2023-10-11T20:44:54 1697057094"><a href="item?id=37850025">on Oct 11, 2023</a></span> <span id="unv_37850025"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">parent</a> | <a href="#37832243" class="clicky" aria-hidden="true">prev</a> | <a href="#37836076" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37850025" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">QUIC didn&#x27;t account for amplification attacks in its design and the people complaining about it were initially dismissed.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37836076'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37836076' href='vote?id=37836076&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=londons_explore" class="hnuser">londons_explore</a> <span class="age" title="2023-10-10T19:02:59 1696964579"><a href="item?id=37836076">on Oct 10, 2023</a></span> <span id="unv_37836076"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">parent</a> | <a href="#37850025" class="clicky" aria-hidden="true">prev</a> | <a href="#37842410" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836076" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">HTTP&#x2F;2 <i>is</i> pretty small.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37842410'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37842410' href='vote?id=37842410&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=klabb3" class="hnuser">klabb3</a> <span class="age" title="2023-10-11T09:15:16 1697015716"><a href="item?id=37842410">on Oct 11, 2023</a></span> <span id="unv_37842410"></span>          <span class='navs'>
             | <a href="#37832128" class="clicky" aria-hidden="true">prev</a> | <a href="#37838900" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37842410" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">“Cancelation” should really be added to the “hard CS problems” list.<p>Like the others on that list (off by one, cache invalidation etc) it isn’t actually hard-hard, but rather underestimated and overlooked.<p>I think if we took half the time we spend on creation, constructors, initialization, and spent that design time thinking about <i>destruction, cleanup, teardown, cancelation</i> etc, we’d have a lot fewer bugs, in particular resource exhaustion bugs.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37851564'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37851564' href='vote?id=37851564&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=pornel" class="hnuser">pornel</a> <span class="age" title="2023-10-11T23:11:04 1697065864"><a href="item?id=37851564">on Oct 11, 2023</a></span> <span id="unv_37851564"></span>          <span class='navs'>
             | <a href="#37842410" class="clicky" aria-hidden="true">parent</a> | <a href="#37842776" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37851564" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I really like Rust&#x27;s async for its ability to immediately cancel Futures, the entire call stack together, at any await point, without needing cooperation from individual calls.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37915263'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37915263' href='vote?id=37915263&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=winternewt" class="hnuser">winternewt</a> <span class="age" title="2023-10-17T14:06:06 1697551566"><a href="item?id=37915263">on Oct 17, 2023</a></span> <span id="unv_37915263"></span>          <span class='navs'>
             | <a href="#37842410" class="clicky" aria-hidden="true">root</a> | <a href="#37851564" class="clicky" aria-hidden="true">parent</a> | <a href="#37842776" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37915263" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">How is that possible if e.g. an external SQL server needs to be told that the operation should be canceled?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37842776'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37842776' href='vote?id=37842776&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jart" class="hnuser">jart</a> <span class="age" title="2023-10-11T10:24:21 1697019861"><a href="item?id=37842776">on Oct 11, 2023</a></span> <span id="unv_37842776"></span>          <span class='navs'>
             | <a href="#37842410" class="clicky" aria-hidden="true">parent</a> | <a href="#37851564" class="clicky" aria-hidden="true">prev</a> | <a href="#37838900" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37842776" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I know that&#x27;s true of C libraries. POSIX thread cancelation is one of those things where its mere existence pervades everything in its implications.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37838900'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37838900' href='vote?id=37838900&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=fefe23" class="hnuser">fefe23</a> <span class="age" title="2023-10-10T23:03:49 1696979029"><a href="item?id=37838900">on Oct 10, 2023</a></span> <span id="unv_37838900"></span>          <span class='navs'>
             | <a href="#37842410" class="clicky" aria-hidden="true">prev</a> | <a href="#37831724" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838900" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I would like to remind everyone that Google invented HTTP&#x2F;2.<p>Now they are telling us a yarn about how they are heroically saving us from the problem they created, but without mentioning the part that they created it.<p>The nerve of these tech companies! Microsoft has been doing this for decades, too.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37838934'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37838934' href='vote?id=37838934&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=gsich" class="hnuser">gsich</a> <span class="age" title="2023-10-10T23:08:47 1696979327"><a href="item?id=37838934">on Oct 10, 2023</a></span> <span id="unv_37838934"></span>          <span class='navs'>
             | <a href="#37838900" class="clicky" aria-hidden="true">parent</a> | <a href="#37831724" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838934" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c88">They tried to solve problems that weren&#x27;t existant.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37831724'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37831724' href='vote?id=37831724&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=arisudesu" class="hnuser">arisudesu</a> <span class="age" title="2023-10-10T13:22:10 1696944130"><a href="item?id=37831724">on Oct 10, 2023</a></span> <span id="unv_37831724"></span>          <span class='navs'>
             | <a href="#37838900" class="clicky" aria-hidden="true">prev</a> | <a href="#37832417" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37831724" n="19" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Can anyone can explain what&#x27;s novel about this attack that isn&#x27;t plain old requests flood?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37831860'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37831860' href='vote?id=37831860&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jsnell" class="hnuser">jsnell</a> <span class="age" title="2023-10-10T13:31:20 1696944680"><a href="item?id=37831860">on Oct 10, 2023</a></span> <span id="unv_37831860"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">parent</a> | <a href="#37831906" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37831860" n="15" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">It depends on what you think a &quot;request flood&quot; attack is.<p>With HTTP&#x2F;1.1 you could send one request per RTT [0]. With HTTP&#x2F;2 multiplexing you could send 100 requests per RTT. With this attack you can send an indefinite number of requests per RTT.<p>I&#x27;d hope the diagram in this article (disclaimer: I&#x27;m a co-author) shows the difference, but maybe you mean yet another form of attack than the above?<p>[0] Modulo HTTP&#x2F;1.1 pipelining which can cut out one RTT component, but basically no real clients use HTTP&#x2F;1.1 pipelining, so its use would be a very crisp signal that it&#x27;s abusive traffic.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37832750'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37832750' href='vote?id=37832750&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tptacek" class="hnuser">tptacek</a> <span class="age" title="2023-10-10T14:43:59 1696949039"><a href="item?id=37832750">on Oct 10, 2023</a></span> <span id="unv_37832750"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37831860" class="clicky" aria-hidden="true">parent</a> | <a href="#37834987" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832750" n="10" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I think for this audience a good clarification is:<p>* HTTP&#x2F;1.1: 1 request per RTT <i>per connection</i><p>* HTTP&#x2F;2 multiplexing: 100 requests per RTT <i>per connection</i><p>* HTTP&#x2F;2 rapid reset: indefinite requests <i>per connection</i><p>In each case attackers are grinding down a performance limitation they had with previous generations of the attack over HTTP. It is a request flood; the thing people need to keep in mind is that HTTP made these floods annoying to generate.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37833785'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37833785' href='vote?id=37833785&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=maxfurman" class="hnuser">maxfurman</a> <span class="age" title="2023-10-10T15:55:12 1696953312"><a href="item?id=37833785">on Oct 10, 2023</a></span> <span id="unv_37833785"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37832750" class="clicky" aria-hidden="true">parent</a> | <a href="#37839670" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833785" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">What does RTT stand for? My gut says &quot;Round Trip (something)&quot; but I could certainly be wrong.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37834081'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37834081' href='vote?id=37834081&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=hathawsh" class="hnuser">hathawsh</a> <span class="age" title="2023-10-10T16:15:52 1696954552"><a href="item?id=37834081">on Oct 10, 2023</a></span> <span id="unv_37834081"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37833785" class="clicky" aria-hidden="true">parent</a> | <a href="#37839670" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834081" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The HTTP spec defines it as Round Trip Time, but in this little discussion thread, &quot;round-trip transaction&quot; would be a better fit.<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Glossary&#x2F;Round_Trip_Time" rel="nofollow noreferrer">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Glossary&#x2F;Round_Trip...</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37839670'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37839670' href='vote?id=37839670&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ynik" class="hnuser">ynik</a> <span class="age" title="2023-10-11T00:47:43 1696985263"><a href="item?id=37839670">on Oct 11, 2023</a></span> <span id="unv_37839670"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37832750" class="clicky" aria-hidden="true">parent</a> | <a href="#37833785" class="clicky" aria-hidden="true">prev</a> | <a href="#37832924" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37839670" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I wonder why exactly this attack can&#x27;t be pulled off with HTTP&#x2F;1.1 and TCP RST for cancellation.
It seems that (even with SYN cookies involved) an attacker could create new connections, send HTTP request, then quickly after send a RST.<p>Is it just that the kernel doesn&#x27;t really communicate TCP RST all that well to the application, so the HTTP server continues to count the connection against the &quot;open connection limit&quot; even though it isn&#x27;t open anymore?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37840265'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37840265' href='vote?id=37840265&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=immibis" class="hnuser">immibis</a> <span class="age" title="2023-10-11T02:34:48 1696991688"><a href="item?id=37840265">on Oct 11, 2023</a></span> <span id="unv_37840265"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37839670" class="clicky" aria-hidden="true">parent</a> | <a href="#37839983" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840265" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The server kernel won&#x27;t communicate the new connection to the application until you go through SYN-SYNACK-ACK.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37839983'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37839983' href='vote?id=37839983&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=wbl" class="hnuser">wbl</a> <span class="age" title="2023-10-11T01:39:27 1696988367"><a href="item?id=37839983">on Oct 11, 2023</a></span> <span id="unv_37839983"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37839670" class="clicky" aria-hidden="true">parent</a> | <a href="#37840265" class="clicky" aria-hidden="true">prev</a> | <a href="#37832924" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37839983" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The problem for the attacker is they then run into resource limits on the TCP connections. The resets are essential to get the consumption not counting.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='37832924'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37832924' href='vote?id=37832924&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jsnell" class="hnuser">jsnell</a> <span class="age" title="2023-10-10T14:57:19 1696949839"><a href="item?id=37832924">on Oct 10, 2023</a></span> <span id="unv_37832924"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37832750" class="clicky" aria-hidden="true">parent</a> | <a href="#37839670" class="clicky" aria-hidden="true">prev</a> | <a href="#37834773" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832924" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Indeed, that&#x27;s a crucial clarification. Thanks.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37834773'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37834773' href='vote?id=37834773&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=altairprime" class="hnuser">altairprime</a> <span class="age" title="2023-10-10T17:16:18 1696958178"><a href="item?id=37834773">on Oct 10, 2023</a></span> <span id="unv_37834773"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37832750" class="clicky" aria-hidden="true">parent</a> | <a href="#37832924" class="clicky" aria-hidden="true">prev</a> | <a href="#37836292" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834773" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">In the style of the above clarification, how would you describe HTTP&#x2F;3 in &quot;x requests (per y)? per connection&quot;?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37836292'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37836292' href='vote?id=37836292&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=blauditore" class="hnuser">blauditore</a> <span class="age" title="2023-10-10T19:22:09 1696965729"><a href="item?id=37836292">on Oct 10, 2023</a></span> <span id="unv_37836292"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37832750" class="clicky" aria-hidden="true">parent</a> | <a href="#37834773" class="clicky" aria-hidden="true">prev</a> | <a href="#37834987" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836292" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">What happens if you send more? Does it just get ignored by the server?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836371'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37836371' href='vote?id=37836371&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jsnell" class="hnuser">jsnell</a> <span class="age" title="2023-10-10T19:27:51 1696966071"><a href="item?id=37836371">on Oct 10, 2023</a></span> <span id="unv_37836371"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37836292" class="clicky" aria-hidden="true">parent</a> | <a href="#37834987" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836371" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">For most current HTTP&#x2F;2 implementations it&#x27;ll just be ignored, and that is a problem. We&#x27;ve seen versions of the attack doing just that, as covered in the variants  section of the article.<p>Servers should switch to closing the connection if clients exceed the stream limit too often, not just ignoring the bogus streams.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='37834987'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37834987' href='vote?id=37834987&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=arisudesu" class="hnuser">arisudesu</a> <span class="age" title="2023-10-10T17:33:35 1696959215"><a href="item?id=37834987">on Oct 10, 2023</a></span> <span id="unv_37834987"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37831860" class="clicky" aria-hidden="true">parent</a> | <a href="#37832750" class="clicky" aria-hidden="true">prev</a> | <a href="#37831906" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834987" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">By request flood I mean, request flood, as in sending insanely high number of requests per unit of time (second) to the target server to cause exhaustion of its resources.<p>You&#x27;re right, with HTTP&#x2F;1.1 we have single request in-flight (or none in keep-alive state) at any moment. But that doesn&#x27;t limit number of simultaneous connections from a single IP address. An attacker could use the whole port space of TCP to create 65535 (theoretically) connections to the server and to send requests to them in parallel. This is a lot, too. In pre-HTTP&#x2F;2 era this could be mitigated by limiting number of connections per IP address.<p>In HTTP&#x2F;2 however, we could have multiple parallel connections with multiple parallel requests at any moment, this is by many orders higher than possible with HTTP&#x2F;1.x. But the preceeding mitigation could be implemented by applying to the number of requests over all connections per IP address.<p>I guess, this was overlooked in the implementations or in the protocol itself? Or rather, it is more difficult to apply restrictions because of L7 protocol multiplexing because it&#x27;s entirely in the userspace?<p>Added:
The diagram in the article (&quot;HTTP&#x2F;2 Rapid Reset attack&quot; figure) doesn&#x27;t really explain why this is an attack. In my thinking, as soon as the request is reset, the server resources are expected to be freed, thus not causing exhaustion of them. I think this should be possible in modern async servers.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835212'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37835212' href='vote?id=37835212&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jsnell" class="hnuser">jsnell</a> <span class="age" title="2023-10-10T17:52:35 1696960355"><a href="item?id=37835212">on Oct 10, 2023</a></span> <span id="unv_37835212"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37834987" class="clicky" aria-hidden="true">parent</a> | <a href="#37838189" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835212" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt;  But that doesn&#x27;t limit number of simultaneous connections from a single IP address.<p>Opening new connections is relatively expensive compared to sending data on an existing connection.<p>&gt; In my thinking, as soon as the request is reset, the server resources are expected to be freed,<p>You can&#x27;t claw back the CPU resources that have already been spent on processing the request before it was cancelled.<p>&gt; By request flood I mean, request flood, as in sending insanely high number of requests per unit of time (second) to the target server to cause exhaustion of its resources.<p>Right. And how do you send an insanely high number of requests? What if you could send more?<p>Imagine the largest attack you could do by &quot;sending an insanely high number requests&quot; with HTTP&#x2F;1.1 with a given set of machine and network resources. With H&#x2F;2 multiplexing you could do 100x that. With this attack, another 10x on top of that.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37838189'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37838189' href='vote?id=37838189&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=toast0" class="hnuser">toast0</a> <span class="age" title="2023-10-10T21:59:35 1696975175"><a href="item?id=37838189">on Oct 10, 2023</a></span> <span id="unv_37838189"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37834987" class="clicky" aria-hidden="true">parent</a> | <a href="#37835212" class="clicky" aria-hidden="true">prev</a> | <a href="#37831906" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838189" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; An attacker could use the whole port space of TCP to create 65535 (theoretically) connections to the server and to send requests to them in parallel.<p>This is harder for the client than it is for the server. As a server, it&#x27;s kind of not great that I&#x27;m wasting 64k of my connections on one client, but it&#x27;s harder for you to make them than it is for me to receive them, so not a huge deal with today&#x27;s servers.<p>On this attack, I think the problem becomes if you&#x27;ve got a reverse proxy h2 frontend, and you don&#x27;t limit backend connections because you were limiting frontend requests. Sounds like HAProxy won&#x27;t start a new backend request until the pending backend requests is under the session limit; but google&#x27;s server must not have been limiting based on that. So cancel the frontend request, try to cancel the backend request, but before you confirm the backend request is canceled, start another one. (Plus what the sibling mentioned... backend may spend a lot of resources handling the requests that will be canceled immediately)</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37840271'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37840271' href='vote?id=37840271&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=immibis" class="hnuser">immibis</a> <span class="age" title="2023-10-11T02:35:32 1696991732"><a href="item?id=37840271">on Oct 11, 2023</a></span> <span id="unv_37840271"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37838189" class="clicky" aria-hidden="true">parent</a> | <a href="#37831906" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840271" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">You&#x27;re wrong about that. It&#x27;s hard to make 65k new connections on your average client OS, but a packet generator has no problem with it.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='37831906'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37831906' href='vote?id=37831906&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=bribroder" class="hnuser">bribroder</a> <span class="age" title="2023-10-10T13:35:21 1696944921"><a href="item?id=37831906">on Oct 10, 2023</a></span> <span id="unv_37831906"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">parent</a> | <a href="#37831860" class="clicky" aria-hidden="true">prev</a> | <a href="#37832417" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37831906" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The new technique described avoids the maximum limit on number of requests per second (per client) the attacker can get the server to process. By sending both requests and stream resets within the same single connection, the attacker can send more requests per connection&#x2F;client than used to be possible, so it is perhaps cheaper as an attack and&#x2F;or more difficult to stop</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37834785'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37834785' href='vote?id=37834785&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=arisudesu" class="hnuser">arisudesu</a> <span class="age" title="2023-10-10T17:16:59 1696958219"><a href="item?id=37834785">on Oct 10, 2023</a></span> <span id="unv_37834785"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37831906" class="clicky" aria-hidden="true">parent</a> | <a href="#37832417" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834785" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Is is a fundamental HTTP&#x2F;2 protocol issue or implementations issue? Could this be an issue at all, if a server has strict limits of requests per IP address, regardless of number of connections?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37837208'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37837208' href='vote?id=37837208&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=lazide" class="hnuser">lazide</a> <span class="age" title="2023-10-10T20:42:15 1696970535"><a href="item?id=37837208">on Oct 10, 2023</a></span> <span id="unv_37837208"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">root</a> | <a href="#37834785" class="clicky" aria-hidden="true">parent</a> | <a href="#37832417" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837208" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Implementation issue. Some implementations are immune.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='37832417'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37832417' href='vote?id=37832417&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ta1243" class="hnuser">ta1243</a> <span class="age" title="2023-10-10T14:16:24 1696947384"><a href="item?id=37832417">on Oct 10, 2023</a></span> <span id="unv_37832417"></span>          <span class='navs'>
             | <a href="#37831724" class="clicky" aria-hidden="true">prev</a> | <a href="#37832963" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832417" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">See also<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37830998">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37830998</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37830987">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37830987</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37832963'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37832963' href='vote?id=37832963&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=n4te" class="hnuser">n4te</a> <span class="age" title="2023-10-10T15:00:36 1696950036"><a href="item?id=37832963">on Oct 10, 2023</a></span> <span id="unv_37832963"></span>          <span class='navs'>
             | <a href="#37832417" class="clicky" aria-hidden="true">prev</a> | <a href="#37838194" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37832963" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The blog header popping up constantly makes the page unreadable.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37833760'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37833760' href='vote?id=37833760&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=cratermoon" class="hnuser">cratermoon</a> <span class="age" title="2023-10-10T15:53:36 1696953216"><a href="item?id=37833760">on Oct 10, 2023</a></span> <span id="unv_37833760"></span>          <span class='navs'>
             | <a href="#37832963" class="clicky" aria-hidden="true">parent</a> | <a href="#37838194" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37833760" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Readability hack: <a href="https:&#x2F;&#x2F;github.com&#x2F;t-mart&#x2F;kill-sticky">https:&#x2F;&#x2F;github.com&#x2F;t-mart&#x2F;kill-sticky</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835873'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37835873' href='vote?id=37835873&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=oars" class="hnuser">oars</a> <span class="age" title="2023-10-10T18:45:53 1696963553"><a href="item?id=37835873">on Oct 10, 2023</a></span> <span id="unv_37835873"></span>          <span class='navs'>
             | <a href="#37832963" class="clicky" aria-hidden="true">root</a> | <a href="#37833760" class="clicky" aria-hidden="true">parent</a> | <a href="#37834376" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835873" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Thanks for sharing Kill Sticky!</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37834376'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37834376' href='vote?id=37834376&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=n4te" class="hnuser">n4te</a> <span class="age" title="2023-10-10T16:40:12 1696956012"><a href="item?id=37834376">on Oct 10, 2023</a></span> <span id="unv_37834376"></span>          <span class='navs'>
             | <a href="#37832963" class="clicky" aria-hidden="true">root</a> | <a href="#37833760" class="clicky" aria-hidden="true">parent</a> | <a href="#37835873" class="clicky" aria-hidden="true">prev</a> | <a href="#37838194" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834376" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Ha, it works great! I like it, thank you!</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37834754'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37834754' href='vote?id=37834754&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ticulatedspline" class="hnuser">ticulatedspline</a> <span class="age" title="2023-10-10T17:14:49 1696958089"><a href="item?id=37834754">on Oct 10, 2023</a></span> <span id="unv_37834754"></span>          <span class='navs'>
             | <a href="#37832963" class="clicky" aria-hidden="true">root</a> | <a href="#37834376" class="clicky" aria-hidden="true">parent</a> | <a href="#37838194" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834754" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Not sure about chrome but in Firefox there&#x27;s a button for &quot;reader view&quot; on many sites which works great for cutting out UI crap like that.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835639'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37835639' href='vote?id=37835639&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=n4te" class="hnuser">n4te</a> <span class="age" title="2023-10-10T18:27:30 1696962450"><a href="item?id=37835639">on Oct 10, 2023</a></span> <span id="unv_37835639"></span>          <span class='navs'>
             | <a href="#37832963" class="clicky" aria-hidden="true">root</a> | <a href="#37834754" class="clicky" aria-hidden="true">parent</a> | <a href="#37838194" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835639" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Good point, that also works. For some reason I never remember to use it.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                                    <tr class='athing comtr' id='37838194'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37838194' href='vote?id=37838194&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=qingcharles" class="hnuser">qingcharles</a> <span class="age" title="2023-10-10T22:00:02 1696975202"><a href="item?id=37838194">on Oct 10, 2023</a></span> <span id="unv_37838194"></span>          <span class='navs'>
             | <a href="#37832963" class="clicky" aria-hidden="true">prev</a> | <a href="#37834180" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838194" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Microsoft dropped its patch details here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;runtime&#x2F;issues&#x2F;93303">https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;runtime&#x2F;issues&#x2F;93303</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37834180'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37834180' href='vote?id=37834180&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=vlovich123" class="hnuser">vlovich123</a> <span class="age" title="2023-10-10T16:23:14 1696954994"><a href="item?id=37834180">on Oct 10, 2023</a></span> <span id="unv_37834180"></span>          <span class='navs'>
             | <a href="#37838194" class="clicky" aria-hidden="true">prev</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834180" n="7" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Wouldn’t this same attack apply to QUIC (and HTTP&#x2F;3)?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37834610'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37834610' href='vote?id=37834610&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=stonogo" class="hnuser">stonogo</a> <span class="age" title="2023-10-10T16:59:46 1696957186"><a href="item?id=37834610">on Oct 10, 2023</a></span> <span id="unv_37834610"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">parent</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834610" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">It doesn&#x27;t apply to HTTP&#x2F;3 because the receiver has to extend the stream concurrency maximum before the sender can open a new stream.  This attack works because the sender doesn&#x27;t have to wait for that after sending a reset in HTTP&#x2F;2.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836121'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37836121' href='vote?id=37836121&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=londons_explore" class="hnuser">londons_explore</a> <span class="age" title="2023-10-10T19:06:42 1696964802"><a href="item?id=37836121">on Oct 10, 2023</a></span> <span id="unv_37836121"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">root</a> | <a href="#37834610" class="clicky" aria-hidden="true">parent</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836121" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">But the max is still ~100 streams...  And you can open 100 streams all with one UDP packet using zero-rtt connections.<p>I can send ~1 Million UDP packets per second from one machine.   So thats 100 million HTTP requests per second you have to deal with.  And when I bring in my 20,000 friends, you need to deal with 2 trillion requests per second.<p>I&#x27;d say that&#x27;s still a problem.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836407'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37836407' href='vote?id=37836407&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=stonogo" class="hnuser">stonogo</a> <span class="age" title="2023-10-10T19:30:55 1696966255"><a href="item?id=37836407">on Oct 10, 2023</a></span> <span id="unv_37836407"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">root</a> | <a href="#37836121" class="clicky" aria-hidden="true">parent</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836407" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Ok, but it&#x27;s not the same problem, which was the question asked.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836855'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_37836855' href='vote?id=37836855&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=vlovich123" class="hnuser">vlovich123</a> <span class="age" title="2023-10-10T20:12:16 1696968736"><a href="item?id=37836855">on Oct 10, 2023</a></span> <span id="unv_37836855"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">root</a> | <a href="#37836407" class="clicky" aria-hidden="true">parent</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836855" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I’m still missing something. Can’t you close a Quic stream and open another one within the same UDP packet?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37836917'><td><table border='0'>  <tr>    <td class='ind' indent='5'><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks">
      <center><a id='up_37836917' href='vote?id=37836917&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jsnell" class="hnuser">jsnell</a> <span class="age" title="2023-10-10T20:18:34 1696969114"><a href="item?id=37836917">on Oct 10, 2023</a></span> <span id="unv_37836917"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">root</a> | <a href="#37836855" class="clicky" aria-hidden="true">parent</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37836917" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">You can do it a few times, but you can&#x27;t do it 500 times. For HTTP&#x2F;3, the highest permitted stream ID is an explicit state variable communicated by the server to the client, eventually forcing a round-trip. That&#x27;s different from HTTP&#x2F;2 where the client is entitled to assume that new &quot;stream id window space&quot; (for the lack of a better term) opens up immediately after a stream is closed.<p>(I&#x27;m fudging things a bit. You can probably build attacks that look kind of similar, but we don&#x27;t think you you could build anything that is actually scalable. But we could be wrong about that! Hence the recommendation to apply similar mitigations to HTTP&#x2F;3 as well, even if it isn&#x27;t immediately vulnerable.)</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37838614'><td><table border='0'>  <tr>    <td class='ind' indent='6'><img src="s.gif" height="1" width="240"></td><td valign="top" class="votelinks">
      <center><a id='up_37838614' href='vote?id=37838614&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=vlovich123" class="hnuser">vlovich123</a> <span class="age" title="2023-10-10T22:37:01 1696977421"><a href="item?id=37838614">on Oct 10, 2023</a></span> <span id="unv_37838614"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">root</a> | <a href="#37836917" class="clicky" aria-hidden="true">parent</a> | <a href="#37834270" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838614" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Thanks for the explanation. Makes sense.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                                                <tr class='athing comtr' id='37834270'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37834270' href='vote?id=37834270&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=unethical_ban" class="hnuser">unethical_ban</a> <span class="age" title="2023-10-10T16:30:30 1696955430"><a href="item?id=37834270">on Oct 10, 2023</a></span> <span id="unv_37834270"></span>          <span class='navs'>
             | <a href="#37834180" class="clicky" aria-hidden="true">prev</a> | <a href="#37834827" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834270" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I got out of web proxy management a while back and haven&#x27;t had to delve into HTTP2 or HTTP3.<p>It seems HTTP2 is TCP on TCP for HTTP messages specifically. This must be why HTTP3 is over a UDP based protocol.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37837069'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37837069' href='vote?id=37837069&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=rollcat" class="hnuser">rollcat</a> <span class="age" title="2023-10-10T20:30:57 1696969857"><a href="item?id=37837069">on Oct 10, 2023</a></span> <span id="unv_37837069"></span>          <span class='navs'>
             | <a href="#37834270" class="clicky" aria-hidden="true">parent</a> | <a href="#37834827" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37837069" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">HTTP2 is not TCP on TCP (that&#x27;s a very basic recipe for a complete disaster, the moment any congestion kicks in); it&#x27;s mostly just multiplexing concurrent HTTP requests over a single TCP connection.<p>HTTP3 is using UDP for different reasons, although it effectively re-implements TCP from the application POV (it&#x27;s still HTTP under the hood after all). Basically with plain old TCP your bandwidth is limited by latency, because every transmitted frame has to be acknowledged - sequentially. Some industries&#x2F;applications (like transferring raw video files over the pond) have been using specialized, UDP-based transfer protocols for a while for this reason. You only need to re-transmit those frames you know didn&#x27;t make it, in any order it suits you.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37838075'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37838075' href='vote?id=37838075&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=foobiekr" class="hnuser">foobiekr</a> <span class="age" title="2023-10-10T21:50:06 1696974606"><a href="item?id=37838075">on Oct 10, 2023</a></span> <span id="unv_37838075"></span>          <span class='navs'>
             | <a href="#37834270" class="clicky" aria-hidden="true">root</a> | <a href="#37837069" class="clicky" aria-hidden="true">parent</a> | <a href="#37840276" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37838075" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">TCP&#x27;s stream nature causes multiplexing to bump into head of line blocking, basically.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='37840276'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37840276' href='vote?id=37840276&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=immibis" class="hnuser">immibis</a> <span class="age" title="2023-10-11T02:36:34 1696991794"><a href="item?id=37840276">on Oct 11, 2023</a></span> <span id="unv_37840276"></span>          <span class='navs'>
             | <a href="#37834270" class="clicky" aria-hidden="true">root</a> | <a href="#37837069" class="clicky" aria-hidden="true">parent</a> | <a href="#37838075" class="clicky" aria-hidden="true">prev</a> | <a href="#37834827" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37840276" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">HTTP on SCTP on UDP. If only protocols didn&#x27;t ossify.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='37834827'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37834827' href='vote?id=37834827&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=devit" class="hnuser">devit</a> <span class="age" title="2023-10-10T17:20:04 1696958404"><a href="item?id=37834827">on Oct 10, 2023</a></span> <span id="unv_37834827"></span>          <span class='navs'>
             | <a href="#37834270" class="clicky" aria-hidden="true">prev</a> | <a href="#37836780" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37834827" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Isn&#x27;t this trivially mitigated by throttling?<p>And the throttling seems even simple: give each IP address an initial allowance of A requests, then increase the allowance every T time up to a maximum of B. Perhaps A=B=10, T=150ms.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835105'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37835105' href='vote?id=37835105&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=o11c" class="hnuser">o11c</a> <span class="age" title="2023-10-10T17:43:17 1696959797"><a href="item?id=37835105">on Oct 10, 2023</a></span> <span id="unv_37835105"></span>          <span class='navs'>
             | <a href="#37834827" class="clicky" aria-hidden="true">parent</a> | <a href="#37836780" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835105" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The whole point of a &#x27;D&#x27;DoS is that there are numerous compromised IP addresses, which only need to make maybe one connection each.<p>You can&#x27;t simply blacklist weird connections entirely, since legitimate clients <i>can</i> use those features.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37835217'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_37835217' href='vote?id=37835217&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=devit" class="hnuser">devit</a> <span class="age" title="2023-10-10T17:52:53 1696960373"><a href="item?id=37835217">on Oct 10, 2023</a></span> <span id="unv_37835217"></span>          <span class='navs'>
             | <a href="#37834827" class="clicky" aria-hidden="true">root</a> | <a href="#37835105" class="clicky" aria-hidden="true">parent</a> | <a href="#37836780" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37835217" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The whole point of this attack is to be able to make a lot of requests for each IP address.<p>If you are making one or few requests per IP you don&#x27;t need this attack, and also aren&#x27;t likely to have any effect on a Google-sized entity.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37839322'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_37839322' href='vote?id=37839322&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=pests" class="hnuser">pests</a> <span class="age" title="2023-10-10T23:58:25 1696982305"><a href="item?id=37839322">on Oct 10, 2023</a></span> <span id="unv_37839322"></span>          <span class='navs'>
             | <a href="#37834827" class="clicky" aria-hidden="true">root</a> | <a href="#37835217" class="clicky" aria-hidden="true">parent</a> | <a href="#37836780" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="37839322" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">It is a little more complicated because a request is few layers deep. In HTTP2 you open a connection, start a stream, then send a request over that stream.<p>Are you tracking per connection? Per stream? Isn&#x27;t it normal for multiple requests to happen quite quickly? I load a single page with 50 external assets, those get multiplexed over the current stream - is that okay? Is that abusive? The other stream is handling a video player and its requesting (http2) frames of video data - too much? Too fast?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='37836780'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_37836780' href='vote?id=37836780&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=1vuio0pswjnm7" class="hnuser">1vuio0pswjnm7</a> <span class="age" title="2023-10-10T20:05:07 1696968307"><a href="item?id=37836780">on Oct 10, 2023</a></span> <span id="unv_37836780"></span>          <span class='navs'>
             | <a href="#37834827" class="clicky" aria-hidden="true">prev</a> <a class="togg clicky" id="37836780" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00"><a href="https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;detail&#x2F;CVE-2023-44487" rel="nofollow noreferrer">https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;detail&#x2F;CVE-2023-44487</a><p>Dont forget about nghttp2</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='37915555'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_37915555' href='vote?id=37915555&amp;how=up&amp;goto=item%3Fid%3D37830987'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=winternewt" class="hnuser">winternewt</a> <span class="age" title="2023-10-17T14:22:19 1697552539"><a href="item?id=37915555">on Oct 17, 2023</a></span> <span id="unv_37915555"></span>          <span class='navs'>
             | <a href="#37836780" class="clicky" aria-hidden="true">parent</a> <a class="togg clicky" id="37915555" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">This is a protocol bug hence affects pretty much any implementation.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  </table>
  <br><br>
</td></tr>
<tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br>
<center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a> | <a href="newsfaq.html">FAQ</a> | <a href="lists">Lists</a> | <a href="https://github.com/HackerNews/API">API</a> | <a href="security.html">Security</a> | <a href="https://www.ycombinator.com/legal/">Legal</a> | <a href="https://www.ycombinator.com/apply/">Apply to YC</a> | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br>
<form method="get" action="//hn.algolia.com/">Search: <input type="text" name="q" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="off"></form></center></td></tr>      </table></center></body>
      <script type='text/javascript' src='hn.js?jZ4kyxqAt22XaoTPqDid'></script>
  </html>
