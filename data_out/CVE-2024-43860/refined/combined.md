=== Content from git.kernel.org_43eae2d1_20250110_175031.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6b50462b473fdccdc0dfad73001147e40ff19a66)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6b50462b473fdccdc0dfad73001147e40ff19a66)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6b50462b473fdccdc0dfad73001147e40ff19a66)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6b50462b473fdccdc0dfad73001147e40ff19a66)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-19 05:41:08 +0200 |
| commit | [6b50462b473fdccdc0dfad73001147e40ff19a66](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6b50462b473fdccdc0dfad73001147e40ff19a66) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6b50462b473fdccdc0dfad73001147e40ff19a66)) | |
| tree | [95508a4eca4022ac49fdc20132773fb8beb6f5d4](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6b50462b473fdccdc0dfad73001147e40ff19a66) | |
| parent | [5991ef8e7a9012d81f17b1d291e7105ae925fd2d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5991ef8e7a9012d81f17b1d291e7105ae925fd2d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6b50462b473fdccdc0dfad73001147e40ff19a66&id2=5991ef8e7a9012d81f17b1d291e7105ae925fd2d)) | |
| download | [linux-6b50462b473fdccdc0dfad73001147e40ff19a66.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6b50462b473fdccdc0dfad73001147e40ff19a66.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULL[ Upstream commit 2fa26ca8b786888673689ccc9da6094150939982 ]
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6b50462b473fdccdc0dfad73001147e40ff19a66)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=6b50462b473fdccdc0dfad73001147e40ff19a66) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 517d1b5733288e..373fce8b91064f 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=5991ef8e7a9012d81f17b1d291e7105ae925fd2d)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=6b50462b473fdccdc0dfad73001147e40ff19a66)@@ -287,6 +287,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) continue; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:08 +0000



=== Content from git.kernel.org_1a2bdd1f_20250110_175029.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=2fa26ca8b786888673689ccc9da6094150939982)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2fa26ca8b786888673689ccc9da6094150939982)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2fa26ca8b786888673689ccc9da6094150939982)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2fa26ca8b786888673689ccc9da6094150939982)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Mathieu Poirier <mathieu.poirier@linaro.org> | 2024-06-11 11:16:40 -0600 |
| commit | [2fa26ca8b786888673689ccc9da6094150939982](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2fa26ca8b786888673689ccc9da6094150939982) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=2fa26ca8b786888673689ccc9da6094150939982)) | |
| tree | [0a57b3ff61a46634bfa77d7d1e9aad986d847927](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2fa26ca8b786888673689ccc9da6094150939982) | |
| parent | [430e29787fd013500c5907cdf3f7371cc97079ed](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=430e29787fd013500c5907cdf3f7371cc97079ed) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2fa26ca8b786888673689ccc9da6094150939982&id2=430e29787fd013500c5907cdf3f7371cc97079ed)) | |
| download | [linux-2fa26ca8b786888673689ccc9da6094150939982.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-2fa26ca8b786888673689ccc9da6094150939982.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULLIn imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2fa26ca8b786888673689ccc9da6094150939982)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=2fa26ca8b786888673689ccc9da6094150939982) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 5a3fb902acc9f8..39eacd90af1440 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=430e29787fd013500c5907cdf3f7371cc97079ed)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=2fa26ca8b786888673689ccc9da6094150939982)@@ -726,6 +726,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) { of\_node\_put(node); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:06 +0000



=== Content from git.kernel.org_a26d7250_20250110_175033.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-03 09:00:56 +0200 |
| commit | [c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)) | |
| tree | [718fc685c1a20f4164c4eda56aea31b4ad42c042](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9) | |
| parent | [3a18cb4c711f97af16979f1df8f738f8ff9c1a18](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3a18cb4c711f97af16979f1df8f738f8ff9c1a18) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9&id2=3a18cb4c711f97af16979f1df8f738f8ff9c1a18)) | |
| download | [linux-c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULLcommit 2fa26ca8b786888673689ccc9da6094150939982 upstream.
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 5a3fb902acc9f8..39eacd90af1440 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=3a18cb4c711f97af16979f1df8f738f8ff9c1a18)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=c877a5f5268d4ab8224b9c9fbce3d746e4e72bc9)@@ -726,6 +726,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) { of\_node\_put(node); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:10 +0000



=== Content from git.kernel.org_5c9b6211_20250110_175030.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-19 05:45:20 +0200 |
| commit | [4e13b7c23988c0a13fdca92e94296a3bc2ff9f21](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)) | |
| tree | [6bd4efaa4bbefe7726530ec9b9474b28a1a247c2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21) | |
| parent | [d627cc333c81b03ab8f35dd2ad70232a2c9837c0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d627cc333c81b03ab8f35dd2ad70232a2c9837c0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21&id2=d627cc333c81b03ab8f35dd2ad70232a2c9837c0)) | |
| download | [linux-4e13b7c23988c0a13fdca92e94296a3bc2ff9f21.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4e13b7c23988c0a13fdca92e94296a3bc2ff9f21.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULLcommit 2fa26ca8b786888673689ccc9da6094150939982 upstream.
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex c4e1ad813e0970..cfdb96cafc7b94 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=d627cc333c81b03ab8f35dd2ad70232a2c9837c0)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=4e13b7c23988c0a13fdca92e94296a3bc2ff9f21)@@ -588,6 +588,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) { of\_node\_put(node); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:07 +0000



=== Content from git.kernel.org_ee2816c7_20250110_175030.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-19 05:32:09 +0200 |
| commit | [6884fd0283e0831be153fb8d82d9eda8a55acaaa](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)) | |
| tree | [e9beabeee404d2b6381f80660afae7fdcbdb51aa](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa) | |
| parent | [a80423f6566bc5085d6bbdd2acdb80aa20c0e915](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a80423f6566bc5085d6bbdd2acdb80aa20c0e915) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa&id2=a80423f6566bc5085d6bbdd2acdb80aa20c0e915)) | |
| download | [linux-6884fd0283e0831be153fb8d82d9eda8a55acaaa.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6884fd0283e0831be153fb8d82d9eda8a55acaaa.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULL[ Upstream commit 2fa26ca8b786888673689ccc9da6094150939982 ]
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 4eec6b380f11ca..7597f09a3455b9 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=a80423f6566bc5085d6bbdd2acdb80aa20c0e915)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=6884fd0283e0831be153fb8d82d9eda8a55acaaa)@@ -289,6 +289,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) continue; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:08 +0000



=== Content from git.kernel.org_0ce21641_20250110_175032.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-19 05:33:44 +0200 |
| commit | [84beb7738459cac0ff9f8a7c4654b8ff82a702c0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)) | |
| tree | [cdc948d789e6429626f02a41054555f23beaf92e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0) | |
| parent | [66b47133bfbbe06192ca1329b7e237fd7e362591](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=66b47133bfbbe06192ca1329b7e237fd7e362591) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0&id2=66b47133bfbbe06192ca1329b7e237fd7e362591)) | |
| download | [linux-84beb7738459cac0ff9f8a7c4654b8ff82a702c0.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-84beb7738459cac0ff9f8a7c4654b8ff82a702c0.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULL[ Upstream commit 2fa26ca8b786888673689ccc9da6094150939982 ]
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 0e6246678bc2bf..3f3d1eb94e6fa6 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=66b47133bfbbe06192ca1329b7e237fd7e362591)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=84beb7738459cac0ff9f8a7c4654b8ff82a702c0)@@ -286,6 +286,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) continue; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:09 +0000



=== Content from git.kernel.org_e0f1c7bc_20250110_175033.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-03 08:49:43 +0200 |
| commit | [9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)) | |
| tree | [8f148c740f5dbd3f011e5e37037861b9d4d61544](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8) | |
| parent | [f36eb8f4ebff855d7d4176c0266601317fa690fd](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f36eb8f4ebff855d7d4176c0266601317fa690fd) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8&id2=f36eb8f4ebff855d7d4176c0266601317fa690fd)) | |
| download | [linux-9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULLcommit 2fa26ca8b786888673689ccc9da6094150939982 upstream.
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 8a2a7112678c25..13b059cec476a2 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=f36eb8f4ebff855d7d4176c0266601317fa690fd)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=9a17cf8b2ce483fa75258bc2cdcf628f24bcf5f8)@@ -596,6 +596,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) { of\_node\_put(node); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:10 +0000



=== Content from git.kernel.org_6ffc18c2_20250110_175031.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-06-06 10:52:04 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-08-03 08:54:30 +0200 |
| commit | [6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)) | |
| tree | [65268f2707aa60f3284a6cd2038d45e180a1aa2a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2) | |
| parent | [83ada7dfaf400e21b9c324af5ddaeba909b51687](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=83ada7dfaf400e21b9c324af5ddaeba909b51687) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2&id2=83ada7dfaf400e21b9c324af5ddaeba909b51687)) | |
| download | [linux-6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2.tar.gz) | |

remoteproc: imx\_rproc: Skip over memory region when node value is NULLcommit 2fa26ca8b786888673689ccc9da6094150939982 upstream.
In imx\_rproc\_addr\_init() "nph = of\_count\_phandle\_with\_args()" just counts
number of phandles. But phandles may be empty. So of\_parse\_phandle() in
the parsing loop (0 < a < nph) may return NULL which is later dereferenced.
Adjust this issue by adding NULL-return check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: a0ff4aa6f010 ("remoteproc: imx\_rproc: add a NXP/Freescale imx\_rproc driver")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Peng Fan <peng.fan@nxp.com>
Cc: stable@vger.kernel.org
Link: [https://lore.kernel.org/r/20240606075204.12354-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240606075204.12354-1-amishin%40t-argos.ru)
[Fixed title to fit within the prescribed 70-75 charcters]
Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)

| -rw-r--r-- | [drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/remoteproc/imx_rproc.c?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/remoteproc/imx\_rproc.c b/drivers/remoteproc/imx\_rproc.cindex 8bb293b9f327cc..6267f722a19ec7 100644--- a/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=83ada7dfaf400e21b9c324af5ddaeba909b51687)+++ b/[drivers/remoteproc/imx\_rproc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/remoteproc/imx_rproc.c?id=6c9ea3547fad252fe9ae5d3ed7e066e2085bf3a2)@@ -729,6 +729,8 @@ static int imx\_rproc\_addr\_init(struct imx\_rproc \*priv, struct resource res;  node = of\_parse\_phandle(np, "memory-region", a);+ if (!node)+ continue; /\* Not map vdevbuffer, vdevring region \*/ if (!strncmp(node->name, "vdev", strlen("vdev"))) { of\_node\_put(node); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 17:49:09 +0000


