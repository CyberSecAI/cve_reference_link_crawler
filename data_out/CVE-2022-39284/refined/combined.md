=== Content from github.com_14355801_20250108_113304.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fsecurity%2Fadvisories%2FGHSA-745p-r637-7vvp)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fsecurity%2Fadvisories%2FGHSA-745p-r637-7vvp)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=codeigniter4%2FCodeIgniter4)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[codeigniter4](/codeigniter4)
/
**[CodeIgniter4](/codeigniter4/CodeIgniter4)**
Public

* [Notifications](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4) You must be signed in to change notification settings
* [Fork
  1.9k](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4)
* [Star
   5.5k](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4)

* [Code](/codeigniter4/CodeIgniter4)
* [Issues
  72](/codeigniter4/CodeIgniter4/issues)
* [Pull requests
  16](/codeigniter4/CodeIgniter4/pulls)
* [Actions](/codeigniter4/CodeIgniter4/actions)
* [Projects
  0](/codeigniter4/CodeIgniter4/projects)
* [Security](/codeigniter4/CodeIgniter4/security)
* [Insights](/codeigniter4/CodeIgniter4/pulse)

Additional navigation options

* [Code](/codeigniter4/CodeIgniter4)
* [Issues](/codeigniter4/CodeIgniter4/issues)
* [Pull requests](/codeigniter4/CodeIgniter4/pulls)
* [Actions](/codeigniter4/CodeIgniter4/actions)
* [Projects](/codeigniter4/CodeIgniter4/projects)
* [Security](/codeigniter4/CodeIgniter4/security)
* [Insights](/codeigniter4/CodeIgniter4/pulse)

# Secure or HttpOnly flag set in Config\Cookie is not reflected in Cookies issued in Codeigniter4

Low

[MGatner](/MGatner)
published
GHSA-745p-r637-7vvp
Oct 6, 2022

## Package

composer

 codeigniter4/framework
([Composer](/advisories?query=ecosystem%3Acomposer))

## Affected versions

< 4.2.7

## Patched versions

4.2.7

## Description

### Impact

Setting `$secure` or `$httponly` value to `true` in `Config\Cookie` is not reflected in `set_cookie()` or `Response::setCookie()`.

> **Note**
>
> This vulnerability does not affect session cookies.

The following code does not issue a cookie with the secure flag even if you set `$secure = true` in `Config\Cookie`.

```
helper('cookie');

$cookie = [
    'name'  => $name,
    'value' => $value,
];
set_cookie($cookie);
// or
$this->response->setCookie($cookie);
```
### Patches

Upgrade to v4.2.7 or later.

### Workarounds

1. Specify the options explicitly.
   ```
   helper('cookie');

   $cookie = [
       'name'     => $name,
       'value'    => $value,
       'secure'   => true,
       'httponly' => true,
   ];
   set_cookie($cookie);
   // or
   $this->response->setCookie($cookie);
   ```
2. Use Cookie object.
   ```
   use CodeIgniter\Cookie\Cookie;

   helper('cookie');

   $cookie = new Cookie($name, $value);
   set_cookie($cookie);
   // or
   $this->response->setCookie($cookie);
   ```

### References

* <https://codeigniter4.github.io/userguide/helpers/cookie_helper.html#set_cookie>
* [https://codeigniter4.github.io/userguide/outgoing/response.html#CodeIgniter\HTTP\Response::setCookie](https://codeigniter4.github.io/userguide/outgoing/response.html#CodeIgniter%5CHTTP%5CResponse::setCookie)

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [codeigniter4/CodeIgniter4](https://github.com/codeigniter4/CodeIgniter4/issues)
* Email us at [SECURITY.md](https://github.com/codeigniter4/CodeIgniter4/blob/develop/SECURITY.md)

### Severity

Low

### CVE ID

CVE-2022-39284

### Weaknesses

[CWE-665](/advisories?query=cwe%3A665)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from developer.mozilla.org_c9fffc5c_20250108_113301.html ===


* [Skip to main content](#content)
* [Skip to search](#top-nav-search-input)
* [Skip to select language](#languages-switcher-button)

[MDN Web Docs](/en-US/)Open main menu

* References[References](/en-US/docs/Web)
  + [Overview / Web Technology

    Web technology reference for developers](/en-US/docs/Web)
  + [HTML

    Structure of content on the web](/en-US/docs/Web/HTML)
  + [CSS

    Code used to describe document style](/en-US/docs/Web/CSS)
  + [JavaScript

    General-purpose scripting language](/en-US/docs/Web/JavaScript)
  + [HTTP

    Protocol for transmitting web resources](/en-US/docs/Web/HTTP)
  + [Web APIs

    Interfaces for building web applications](/en-US/docs/Web/API)
  + [Web Extensions

    Developing extensions for web browsers](/en-US/docs/Mozilla/Add-ons/WebExtensions)
  + [Accessibility

    Learn to make the web accessible to all](/en-US/docs/Web/Accessibility)
  + [Web Technology

    Web technology reference for developers](/en-US/docs/Web)
* Learn[Learn](/en-US/docs/Learn_web_development)
  + [Overview / MDN Learning Area

    Learn web development](/en-US/docs/Learn_web_development)
  + [MDN Learning Area

    Learn web development](/en-US/docs/Learn_web_development)
  + [HTML

    Learn to structure web content with HTML](/en-US/docs/Learn_web_development/Core/Structuring_content)
  + [CSS

    Learn to style content using CSS](/en-US/docs/Learn_web_development/Core/Styling_basics)
  + [JavaScript

    Learn to run scripts in the browser](/en-US/docs/Learn_web_development/Core/Scripting)
* Plus[Plus](/en-US/plus)
  + [Overview

    A customized MDN experience](/en-US/plus)
  + [AI Help

    Get real-time assistance and support](/en-US/plus/ai-help)
  + [Updates

    All browser compatibility updates at a glance](/en-US/plus/updates)
  + [Documentation

    Learn how to use MDN Plus](/en-US/plus/docs/features/overview)
  + [FAQ

    Frequently asked questions about MDN Plus](/en-US/plus/docs/faq)
* [Curriculum New](/en-US/curriculum/)
* [Blog](/en-US/blog/)
* Tools
  + [Playground

    Write, test and share your code](/en-US/play)
  + [HTTP Observatory

    Scan a website for free](/en-US/observatory)
  + [AI Help

    Get real-time assistance and support](/en-US/plus/ai-help)
Search MDNClear search inputSearchTheme

* [Log in](/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCookies)
* [Sign up for free](/users/fxa/login/authenticate/?next=%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCookies)

1. [References](/en-US/docs/Web)
2. [HTTP](/en-US/docs/Web/HTTP)
3. [Using HTTP cookies](/en-US/docs/Web/HTTP/Cookies)
Article Actions

* English (US)
  + Remember language
  + [Deutsch](/de/docs/Web/HTTP/Cookies)
  + [EspaÃ±ol](/es/docs/Web/HTTP/Cookies)
  + [FranÃ§ais](/fr/docs/Web/HTTP/Cookies)
  + [æ¥æ¬èª](/ja/docs/Web/HTTP/Cookies)
  + [íêµ­ì´](/ko/docs/Web/HTTP/Cookies)
  + [PortuguÃªs (doÂ Brasil)](/pt-BR/docs/Web/HTTP/Cookies)
  + [Ð ÑÑÑÐºÐ¸Ð¹](/ru/docs/Web/HTTP/Cookies)
  + [ä¸­æ (ç®ä½)](/zh-CN/docs/Web/HTTP/Cookies)
  + [æ­£é«ä¸­æ (ç¹é«)](/zh-TW/docs/Web/HTTP/Cookies)
Filter sidebarClear filter input
## In this article

* [What cookies are used for](#what_cookies_are_used_for)
* [Creating, removing, and updating cookies](#creating_removing_and_updating_cookies)
* [Security](#security)
* [Privacy and tracking](#privacy_and_tracking)
* [Cookie-related regulations](#cookie-related_regulations)
* [See also](#see_also)

1. [HTTP](/en-US/docs/Web/HTTP)
2. Guides
3. [An overview of HTTP](/en-US/docs/Web/HTTP/Overview)
4. [A typical HTTP session](/en-US/docs/Web/HTTP/Session)
5. [HTTP messages](/en-US/docs/Web/HTTP/Messages)
6. [MIME types (IANA media types)](/en-US/docs/Web/HTTP/MIME_types)
7. [Compression in HTTP](/en-US/docs/Web/HTTP/Compression)
8. [HTTP caching](/en-US/docs/Web/HTTP/Caching)
9. [HTTP authentication](/en-US/docs/Web/HTTP/Authentication)
10. *[Using HTTP cookies](/en-US/docs/Web/HTTP/Cookies)*
11. [Redirections in HTTP](/en-US/docs/Web/HTTP/Redirections)
12. [HTTP conditional requests](/en-US/docs/Web/HTTP/Conditional_requests)
13. [HTTP range requests](/en-US/docs/Web/HTTP/Range_requests)
14. [Content negotiation](/en-US/docs/Web/HTTP/Content_negotiation)
15. [Connection management in HTTP/1.x](/en-US/docs/Web/HTTP/Connection_management_in_HTTP_1.x)
16. [Evolution of HTTP](/en-US/docs/Web/HTTP/Evolution_of_HTTP)
17. [Protocol upgrade mechanism](/en-US/docs/Web/HTTP/Protocol_upgrade_mechanism)
18. [Proxy servers and tunneling](/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling)
19. [HTTP Client hints](/en-US/docs/Web/HTTP/Client_hints)
20. Security and privacy
    1. [Practical security implementation guides](/en-US/docs/Web/Security/Practical_implementation_guides)
    2. [HTTP Observatory](/en-US/observatory)
    3. [Permissions Policy](/en-US/docs/Web/HTTP/Permissions_Policy)
       Experimental
    4. [Content Security Policy (CSP)](/en-US/docs/Web/HTTP/CSP)
    5. [Cross-Origin Resource Sharing (CORS)](/en-US/docs/Web/HTTP/CORS)
    6. [Cross-Origin Resource Policy (CORP)](/en-US/docs/Web/HTTP/Cross-Origin_Resource_Policy)
    7. [Headers](/en-US/docs/Web/HTTP/Headers)
21. References
22. HTTP headers
    1. [`Accept`](/en-US/docs/Web/HTTP/Headers/Accept)
    2. [`Accept-CH`](/en-US/docs/Web/HTTP/Headers/Accept-CH)
    3. [`Accept-Encoding`](/en-US/docs/Web/HTTP/Headers/Accept-Encoding)
    4. [`Accept-Language`](/en-US/docs/Web/HTTP/Headers/Accept-Language)
    5. [`Accept-Patch`](/en-US/docs/Web/HTTP/Headers/Accept-Patch)
    6. [`Accept-Post`](/en-US/docs/Web/HTTP/Headers/Accept-Post)
    7. [`Accept-Ranges`](/en-US/docs/Web/HTTP/Headers/Accept-Ranges)
    8. [`Access-Control-Allow-Credentials`](/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials)
    9. [`Access-Control-Allow-Headers`](/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers)
    10. [`Access-Control-Allow-Methods`](/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods)
    11. [`Access-Control-Allow-Origin`](/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin)
    12. [`Access-Control-Expose-Headers`](/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers)
    13. [`Access-Control-Max-Age`](/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age)
    14. [`Access-Control-Request-Headers`](/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers)
    15. [`Access-Control-Request-Method`](/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Method)
    16. [`Age`](/en-US/docs/Web/HTTP/Headers/Age)
    17. [`Allow`](/en-US/docs/Web/HTTP/Headers/Allow)
    18. [`Alt-Svc`](/en-US/docs/Web/HTTP/Headers/Alt-Svc)
    19. [`Alt-Used`](/en-US/docs/Web/HTTP/Headers/Alt-Used)
    20. [`Attribution-Reporting-Eligible`](/en-US/docs/Web/HTTP/Headers/Attribution-Reporting-Eligible)
        Experimental
    21. [`Attribution-Reporting-Register-Source`](/en-US/docs/Web/HTTP/Headers/Attribution-Reporting-Register-Source)
        Experimental
    22. [`Attribution-Reporting-Register-Trigger`](/en-US/docs/Web/HTTP/Headers/Attribution-Reporting-Register-Trigger)
        Experimental
    23. [`Authorization`](/en-US/docs/Web/HTTP/Headers/Authorization)
    24. [`Cache-Control`](/en-US/docs/Web/HTTP/Headers/Cache-Control)
    25. [`Clear-Site-Data`](/en-US/docs/Web/HTTP/Headers/Clear-Site-Data)
    26. [`Connection`](/en-US/docs/Web/HTTP/Headers/Connection)
    27. [`Content-Digest`](/en-US/docs/Web/HTTP/Headers/Content-Digest)
    28. [`Content-Disposition`](/en-US/docs/Web/HTTP/Headers/Content-Disposition)
    29. [`Content-DPR`](/en-US/docs/Web/HTTP/Headers/Content-DPR)
        Non-standard
        Deprecated
    30. [`Content-Encoding`](/en-US/docs/Web/HTTP/Headers/Content-Encoding)
    31. [`Content-Language`](/en-US/docs/Web/HTTP/Headers/Content-Language)
    32. [`Content-Length`](/en-US/docs/Web/HTTP/Headers/Content-Length)
    33. [`Content-Location`](/en-US/docs/Web/HTTP/Headers/Content-Location)
    34. [`Content-Range`](/en-US/docs/Web/HTTP/Headers/Content-Range)
    35. [`Content-Security-Policy`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy)
    36. [`Content-Security-Policy-Report-Only`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only)
    37. [`Content-Type`](/en-US/docs/Web/HTTP/Headers/Content-Type)
    38. [`Cookie`](/en-US/docs/Web/HTTP/Headers/Cookie)
    39. [`Critical-CH`](/en-US/docs/Web/HTTP/Headers/Critical-CH)
        Experimental
    40. [`Cross-Origin-Embedder-Policy`](/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy)
    41. [`Cross-Origin-Opener-Policy`](/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy)
    42. [`Cross-Origin-Resource-Policy`](/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy)
    43. [`Date`](/en-US/docs/Web/HTTP/Headers/Date)
    44. [`Device-Memory`](/en-US/docs/Web/HTTP/Headers/Device-Memory)
    45. [`DNT`](/en-US/docs/Web/HTTP/Headers/DNT)
        Non-standard
        Deprecated
    46. [`Downlink`](/en-US/docs/Web/HTTP/Headers/Downlink)
        Experimental
    47. [`DPR`](/en-US/docs/Web/HTTP/Headers/DPR)
        Non-standard
        Deprecated
    48. [`Early-Data`](/en-US/docs/Web/HTTP/Headers/Early-Data)
        Experimental
    49. [`ECT`](/en-US/docs/Web/HTTP/Headers/ECT)
        Experimental
    50. [`ETag`](/en-US/docs/Web/HTTP/Headers/ETag)
    51. [`Expect`](/en-US/docs/Web/HTTP/Headers/Expect)
    52. [`Expect-CT`](/en-US/docs/Web/HTTP/Headers/Expect-CT)
        Deprecated
    53. [`Expires`](/en-US/docs/Web/HTTP/Headers/Expires)
    54. [`Forwarded`](/en-US/docs/Web/HTTP/Headers/Forwarded)
    55. [`From`](/en-US/docs/Web/HTTP/Headers/From)
    56. [`Host`](/en-US/docs/Web/HTTP/Headers/Host)
    57. [`If-Match`](/en-US/docs/Web/HTTP/Headers/If-Match)
    58. [`If-Modified-Since`](/en-US/docs/Web/HTTP/Headers/If-Modified-Since)
    59. [`If-None-Match`](/en-US/docs/Web/HTTP/Headers/If-None-Match)
    60. [`If-Range`](/en-US/docs/Web/HTTP/Headers/If-Range)
    61. [`If-Unmodified-Since`](/en-US/docs/Web/HTTP/Headers/If-Unmodified-Since)
    62. [`Keep-Alive`](/en-US/docs/Web/HTTP/Headers/Keep-Alive)
    63. [`Last-Modified`](/en-US/docs/Web/HTTP/Headers/Last-Modified)
    64. [`Link`](/en-US/docs/Web/HTTP/Headers/Link)
    65. [`Location`](/en-US/docs/Web/HTTP/Headers/Location)
    66. [`Max-Forwards`](/en-US/docs/Web/HTTP/Headers/Max-Forwards)
    67. [`NEL`](/en-US/docs/Web/HTTP/Headers/NEL)
        Experimental
    68. [`No-Vary-Search`](/en-US/docs/Web/HTTP/Headers/No-Vary-Search)
        Experimental
    69. [`Observe-Browsing-Topics`](/en-US/docs/Web/HTTP/Headers/Observe-Browsing-Topics)
        Experimental
        Non-standard
    70. [`Origin`](/en-US/docs/Web/HTTP/Headers/Origin)
    71. [`Origin-Agent-Cluster`](/en-US/docs/Web/HTTP/Headers/Origin-Agent-Cluster)
        Experimental
    72. [`Permissions-Policy`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy)
        Experimental
    73. [`Pragma`](/en-US/docs/Web/HTTP/Headers/Pragma)
        Deprecated
    74. [`Priority`](/en-US/docs/Web/HTTP/Headers/Priority)
    75. [`Proxy-Authenticate`](/en-US/docs/Web/HTTP/Headers/Proxy-Authenticate)
    76. [`Proxy-Authorization`](/en-US/docs/Web/HTTP/Headers/Proxy-Authorization)
    77. [`Range`](/en-US/docs/Web/HTTP/Headers/Range)
    78. [`Referer`](/en-US/docs/Web/HTTP/Headers/Referer)
    79. [`Referrer-Policy`](/en-US/docs/Web/HTTP/Headers/Referrer-Policy)
    80. [`Refresh`](/en-US/docs/Web/HTTP/Headers/Refresh)
    81. [`Report-To`](/en-US/docs/Web/HTTP/Headers/Report-To)
        Non-standard
        Deprecated
    82. [`Reporting-Endpoints`](/en-US/docs/Web/HTTP/Headers/Reporting-Endpoints)
        Experimental
    83. [`Repr-Digest`](/en-US/docs/Web/HTTP/Headers/Repr-Digest)
    84. [`Retry-After`](/en-US/docs/Web/HTTP/Headers/Retry-After)
    85. [`RTT`](/en-US/docs/Web/HTTP/Headers/RTT)
        Experimental
    86. [`Save-Data`](/en-US/docs/Web/HTTP/Headers/Save-Data)
        Experimental
    87. [`Sec-Browsing-Topics`](/en-US/docs/Web/HTTP/Headers/Sec-Browsing-Topics)
        Experimental
        Non-standard
    88. [`Sec-CH-Prefers-Color-Scheme`](/en-US/docs/Web/HTTP/Headers/Sec-CH-Prefers-Color-Scheme)
        Experimental
    89. [`Sec-CH-Prefers-Reduced-Motion`](/en-US/docs/Web/HTTP/Headers/Sec-CH-Prefers-Reduced-Motion)
        Experimental
    90. [`Sec-CH-Prefers-Reduced-Transparency`](/en-US/docs/Web/HTTP/Headers/Sec-CH-Prefers-Reduced-Transparency)
        Experimental
    91. [`Sec-CH-UA`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA)
        Experimental
    92. [`Sec-CH-UA-Arch`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Arch)
        Experimental
    93. [`Sec-CH-UA-Bitness`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Bitness)
        Experimental
    94. [`Sec-CH-UA-Full-Version`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version)
        Deprecated
    95. [`Sec-CH-UA-Full-Version-List`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version-List)
        Experimental
    96. [`Sec-CH-UA-Mobile`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Mobile)
        Experimental
    97. [`Sec-CH-UA-Model`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Model)
        Experimental
    98. [`Sec-CH-UA-Platform`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Platform)
        Experimental
    99. [`Sec-CH-UA-Platform-Version`](/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Platform-Version)
        Experimental
    100. [`Sec-Fetch-Dest`](/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Dest)
    101. [`Sec-Fetch-Mode`](/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Mode)
    102. [`Sec-Fetch-Site`](/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Site)
    103. [`Sec-Fetch-User`](/en-US/docs/Web/HTTP/Headers/Sec-Fetch-User)
    104. [`Sec-GPC`](/en-US/docs/Web/HTTP/Headers/Sec-GPC)
         Experimental
    105. [`Sec-Purpose`](/en-US/docs/Web/HTTP/Headers/Sec-Purpose)
    106. [`Sec-WebSocket-Accept`](/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Accept)
    107. [`Sec-WebSocket-Extensions`](/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Extensions)
    108. [`Sec-WebSocket-Key`](/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Key)
    109. [`Sec-WebSocket-Protocol`](/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Protocol)
    110. [`Sec-WebSocket-Version`](/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Version)
    111. [`Server`](/en-US/docs/Web/HTTP/Headers/Server)
    112. [`Server-Timing`](/en-US/docs/Web/HTTP/Headers/Server-Timing)
    113. [`Service-Worker`](/en-US/docs/Web/HTTP/Headers/Service-Worker)
    114. [`Service-Worker-Allowed`](/en-US/docs/Web/HTTP/Headers/Service-Worker-Allowed)
    115. [`Service-Worker-Navigation-Preload`](/en-US/docs/Web/HTTP/Headers/Service-Worker-Navigation-Preload)
    116. [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie)
    117. [`Set-Login`](/en-US/docs/Web/HTTP/Headers/Set-Login)
         Experimental
    118. [`SourceMap`](/en-US/docs/Web/HTTP/Headers/SourceMap)
    119. [`Speculation-Rules`](/en-US/docs/Web/HTTP/Headers/Speculation-Rules)
         Experimental
    120. [`Strict-Transport-Security`](/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security)
    121. [`Supports-Loading-Mode`](/en-US/docs/Web/HTTP/Headers/Supports-Loading-Mode)
         Experimental
    122. [`TE`](/en-US/docs/Web/HTTP/Headers/TE)
    123. [`Timing-Allow-Origin`](/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin)
    124. [`Tk`](/en-US/docs/Web/HTTP/Headers/Tk)
         Non-standard
         Deprecated
    125. [`Trailer`](/en-US/docs/Web/HTTP/Headers/Trailer)
    126. [`Transfer-Encoding`](/en-US/docs/Web/HTTP/Headers/Transfer-Encoding)
    127. [`Upgrade`](/en-US/docs/Web/HTTP/Headers/Upgrade)
    128. [`Upgrade-Insecure-Requests`](/en-US/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests)
    129. [`User-Agent`](/en-US/docs/Web/HTTP/Headers/User-Agent)
    130. [`Vary`](/en-US/docs/Web/HTTP/Headers/Vary)
    131. [`Via`](/en-US/docs/Web/HTTP/Headers/Via)
    132. [`Viewport-Width`](/en-US/docs/Web/HTTP/Headers/Viewport-Width)
         Non-standard
         Deprecated
    133. [`Want-Content-Digest`](/en-US/docs/Web/HTTP/Headers/Want-Content-Digest)
    134. [`Want-Repr-Digest`](/en-US/docs/Web/HTTP/Headers/Want-Repr-Digest)
    135. [`Warning`](/en-US/docs/Web/HTTP/Headers/Warning)
         Deprecated
    136. [`Width`](/en-US/docs/Web/HTTP/Headers/Width)
         Non-standard
         Deprecated
    137. [`WWW-Authenticate`](/en-US/docs/Web/HTTP/Headers/WWW-Authenticate)
    138. [`X-Content-Type-Options`](/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options)
    139. [`X-DNS-Prefetch-Control`](/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control)
         Non-standard
    140. [`X-Forwarded-For`](/en-US/docs/Web/HTTP/Headers/X-Forwarded-For)
         Non-standard
    141. [`X-Forwarded-Host`](/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host)
         Non-standard
    142. [`X-Forwarded-Proto`](/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto)
         Non-standard
    143. [`X-Frame-Options`](/en-US/docs/Web/HTTP/Headers/X-Frame-Options)
         Deprecated
    144. [`X-Permitted-Cross-Domain-Policies`](/en-US/docs/Web/HTTP/Headers/X-Permitted-Cross-Domain-Policies)
         Non-standard
    145. [`X-Powered-By`](/en-US/docs/Web/HTTP/Headers/X-Powered-By)
         Non-standard
    146. [`X-Robots-Tag`](/en-US/docs/Web/HTTP/Headers/X-Robots-Tag)
         Non-standard
    147. [`X-XSS-Protection`](/en-US/docs/Web/HTTP/Headers/X-XSS-Protection)
         Non-standard
         Deprecated
23. HTTP request methods
    1. [`CONNECT`](/en-US/docs/Web/HTTP/Methods/CONNECT)
    2. [`DELETE`](/en-US/docs/Web/HTTP/Methods/DELETE)
    3. [`GET`](/en-US/docs/Web/HTTP/Methods/GET)
    4. [`HEAD`](/en-US/docs/Web/HTTP/Methods/HEAD)
    5. [`OPTIONS`](/en-US/docs/Web/HTTP/Methods/OPTIONS)
    6. [`PATCH`](/en-US/docs/Web/HTTP/Methods/PATCH)
    7. [`POST`](/en-US/docs/Web/HTTP/Methods/POST)
    8. [`PUT`](/en-US/docs/Web/HTTP/Methods/PUT)
    9. [`TRACE`](/en-US/docs/Web/HTTP/Methods/TRACE)
24. HTTP response status codes
    1. [`100 Continue`](/en-US/docs/Web/HTTP/Status/100)
    2. [`101 Switching Protocols`](/en-US/docs/Web/HTTP/Status/101)
    3. [`102 Processing`](/en-US/docs/Web/HTTP/Status/102)
    4. [`103 Early Hints`](/en-US/docs/Web/HTTP/Status/103)
    5. [`200 OK`](/en-US/docs/Web/HTTP/Status/200)
    6. [`201 Created`](/en-US/docs/Web/HTTP/Status/201)
    7. [`202 Accepted`](/en-US/docs/Web/HTTP/Status/202)
    8. [`203 Non-Authoritative Information`](/en-US/docs/Web/HTTP/Status/203)
    9. [`204 No Content`](/en-US/docs/Web/HTTP/Status/204)
    10. [`205 Reset Content`](/en-US/docs/Web/HTTP/Status/205)
    11. [`206 Partial Content`](/en-US/docs/Web/HTTP/Status/206)
    12. [`207 Multi-Status`](/en-US/docs/Web/HTTP/Status/207)
    13. [`208 Already Reported`](/en-US/docs/Web/HTTP/Status/208)
    14. [`226 IM Used`](/en-US/docs/Web/HTTP/Status/226)
    15. [`300 Multiple Choices`](/en-US/docs/Web/HTTP/Status/300)
    16. [`301 Moved Permanently`](/en-US/docs/Web/HTTP/Status/301)
    17. [`302 Found`](/en-US/docs/Web/HTTP/Status/302)
    18. [`303 See Other`](/en-US/docs/Web/HTTP/Status/303)
    19. [`304 Not Modified`](/en-US/docs/Web/HTTP/Status/304)
    20. [`307 Temporary Redirect`](/en-US/docs/Web/HTTP/Status/307)
    21. [`308 Permanent Redirect`](/en-US/docs/Web/HTTP/Status/308)
    22. [`400 Bad Request`](/en-US/docs/Web/HTTP/Status/400)
    23. [`401 Unauthorized`](/en-US/docs/Web/HTTP/Status/401)
    24. [`402 Payment Required`](/en-US/docs/Web/HTTP/Status/402)
    25. [`403 Forbidden`](/en-US/docs/Web/HTTP/Status/403)
    26. [`404 Not Found`](/en-US/docs/Web/HTTP/Status/404)
    27. [`405 Method Not Allowed`](/en-US/docs/Web/HTTP/Status/405)
    28. [`406 Not Acceptable`](/en-US/docs/Web/HTTP/Status/406)
    29. [`407 Proxy Authentication Required`](/en-US/docs/Web/HTTP/Status/407)
    30. [`408 Request Timeout`](/en-US/docs/Web/HTTP/Status/408)
    31. [`409 Conflict`](/en-US/docs/Web/HTTP/Status/409)
    32. [`410 Gone`](/en-US/docs/Web/HTTP/Status/410)
    33. [`411 Length Required`](/en-US/docs/Web/HTTP/Status/411)
    34. [`412 Precondition Failed`](/en-US/docs/Web/HTTP/Status/412)
    35. [`413 Content Too Large`](/en-US/docs/Web/HTTP/Status/413)
    36. [`414 URI Too Long`](/en-US/docs/Web/HTTP/Status/414)
    37. [`415 Unsupported Media Type`](/en-US/docs/Web/HTTP/Status/415)
    38. [`416 Range Not Satisfiable`](/en-US/docs/Web/HTTP/Status/416)
    39. [`417 Expectation Failed`](/en-US/docs/Web/HTTP/Status/417)
    40. [`418 I'm a teapot`](/en-US/docs/Web/HTTP/Status/418)
    41. [`421 Misdirected Request`](/en-US/docs/Web/HTTP/Status/421)
    42. [`422 Unprocessable Content`](/en-US/docs/Web/HTTP/Status/422)
    43. [`423 Locked`](/en-US/docs/Web/HTTP/Status/423)
    44. [`424 Failed Dependency`](/en-US/docs/Web/HTTP/Status/424)
    45. [`425 Too Early`](/en-US/docs/Web/HTTP/Status/425)
    46. [`426 Upgrade Required`](/en-US/docs/Web/HTTP/Status/426)
    47. [`428 Precondition Required`](/en-US/docs/Web/HTTP/Status/428)
    48. [`429 Too Many Requests`](/en-US/docs/Web/HTTP/Status/429)
    49. [`431 Request Header Fields Too Large`](/en-US/docs/Web/HTTP/Status/431)
    50. [`451 Unavailable For Legal Reasons`](/en-US/docs/Web/HTTP/Status/451)
    51. [`500 Internal Server Error`](/en-US/docs/Web/HTTP/Status/500)
    52. [`501 Not Implemented`](/en-US/docs/Web/HTTP/Status/501)
    53. [`502 Bad Gateway`](/en-US/docs/Web/HTTP/Status/502)
    54. [`503 Service Unavailable`](/en-US/docs/Web/HTTP/Status/503)
    55. [`504 Gateway Timeout`](/en-US/docs/Web/HTTP/Status/504)
    56. [`505 HTTP Version Not Supported`](/en-US/docs/Web/HTTP/Status/505)
    57. [`506 Variant Also Negotiates`](/en-US/docs/Web/HTTP/Status/506)
    58. [`507 Insufficient Storage`](/en-US/docs/Web/HTTP/Status/507)
    59. [`508 Loop Detected`](/en-US/docs/Web/HTTP/Status/508)
    60. [`510 Not Extended`](/en-US/docs/Web/HTTP/Status/510)
    61. [`511 Network Authentication Required`](/en-US/docs/Web/HTTP/Status/511)
25. CSP directives
    1. [`CSP: base-uri`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/base-uri)
    2. [`CSP: block-all-mixed-content`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/block-all-mixed-content)
       Deprecated
    3. [`CSP: child-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/child-src)
    4. [`CSP: connect-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/connect-src)
    5. [`CSP: default-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/default-src)
    6. [`CSP: fenced-frame-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/fenced-frame-src)
       Experimental
    7. [`CSP: font-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/font-src)
    8. [`CSP: form-action`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/form-action)
    9. [`CSP: frame-ancestors`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors)
    10. [`CSP: frame-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-src)
    11. [`CSP: img-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/img-src)
    12. [`CSP: manifest-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/manifest-src)
    13. [`CSP: media-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/media-src)
    14. [`CSP: object-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/object-src)
    15. [`CSP: prefetch-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/prefetch-src)
        Non-standard
        Deprecated
    16. [`CSP: report-to`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-to)
    17. [`CSP: report-uri`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-uri)
        Deprecated
    18. [`CSP: require-trusted-types-for`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for)
        Experimental
    19. [`CSP: sandbox`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/sandbox)
    20. [`CSP: script-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src)
    21. [`CSP: script-src-attr`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src-attr)
    22. [`CSP: script-src-elem`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src-elem)
    23. [`CSP: style-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src)
    24. [`CSP: style-src-attr`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src-attr)
    25. [`CSP: style-src-elem`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src-elem)
    26. [`CSP: trusted-types`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/trusted-types)
        Experimental
    27. [`CSP: upgrade-insecure-requests`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/upgrade-insecure-requests)
    28. [`CSP: worker-src`](/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/worker-src)
26. CORS errors
    1. [`Reason: CORS disabled`](/en-US/docs/Web/HTTP/CORS/Errors/CORSDisabled)
    2. [`Reason: CORS header 'Access-Control-Allow-Origin' does not match 'xyz'`](/en-US/docs/Web/HTTP/CORS/Errors/CORSAllowOriginNotMatchingOrigin)
    3. [`Reason: CORS header 'Access-Control-Allow-Origin' missing`](/en-US/docs/Web/HTTP/CORS/Errors/CORSMissingAllowOrigin)
    4. [`Reason: CORS header 'Origin' cannot be added`](/en-US/docs/Web/HTTP/CORS/Errors/CORSOriginHeaderNotAdded)
    5. [`Reason: CORS preflight channel did not succeed`](/en-US/docs/Web/HTTP/CORS/Errors/CORSPreflightDidNotSucceed)
    6. [`Reason: CORS request did not succeed`](/en-US/docs/Web/HTTP/CORS/Errors/CORSDidNotSucceed)
    7. [`Reason: CORS request external redirect not allowed`](/en-US/docs/Web/HTTP/CORS/Errors/CORSExternalRedirectNotAllowed)
    8. [`Reason: CORS request not HTTP`](/en-US/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp)
    9. [`Reason: Credential is not supported if the CORS header 'Access-Control-Allow-Origin' is '*'`](/en-US/docs/Web/HTTP/CORS/Errors/CORSNotSupportingCredentials)
    10. [`Reason: Did not find method in CORS header 'Access-Control-Allow-Methods'`](/en-US/docs/Web/HTTP/CORS/Errors/CORSMethodNotFound)
    11. [`Reason: expected 'true' in CORS header 'Access-Control-Allow-Credentials'`](/en-US/docs/Web/HTTP/CORS/Errors/CORSMIssingAllowCredentials)
    12. [`Reason: invalid token 'xyz' in CORS header 'Access-Control-Allow-Headers'`](/en-US/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowHeader)
    13. [`Reason: invalid token 'xyz' in CORS header 'Access-Control-Allow-Methods'`](/en-US/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowMethod)
    14. [`Reason: missing token 'xyz' in CORS header 'Access-Control-Allow-Headers' from CORS preflight channel`](/en-US/docs/Web/HTTP/CORS/Errors/CORSMissingAllowHeaderFromPreflight)
    15. [`Reason: Multiple CORS header 'Access-Control-Allow-Origin' not allowed`](/en-US/docs/Web/HTTP/CORS/Errors/CORSMultipleAllowOriginNotAllowed)
27. Permissions-Policy directives
    1. [`Permissions-Policy: accelerometer`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/accelerometer)
       Experimental
    2. [`Permissions-Policy: ambient-light-sensor`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/ambient-light-sensor)
       Experimental
    3. [`Permissions-Policy: attribution-reporting`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/attribution-reporting)
       Experimental
    4. [`Permissions-Policy: autoplay`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/autoplay)
       Experimental
    5. [`Permissions-Policy: bluetooth`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/bluetooth)
       Experimental
    6. [`Permissions-Policy: browsing-topics`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/browsing-topics)
       Experimental
       Non-standard
    7. [`Permissions-Policy: camera`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/camera)
       Experimental
    8. [`Permissions-Policy: compute-pressure`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/compute-pressure)
       Experimental
    9. [`Permissions-Policy: cross-origin-isolated`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/cross-origin-isolated)
       Experimental
    10. [`Permissions-Policy: display-capture`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/display-capture)
        Experimental
    11. [`Permissions-Policy: document-domain`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/document-domain)
        Experimental
    12. [`Permissions-Policy: encrypted-media`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/encrypted-media)
        Experimental
    13. [`Permissions-Policy: fullscreen`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/fullscreen)
        Experimental
    14. [`Permissions-Policy: gamepad`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/gamepad)
        Experimental
    15. [`Permissions-Policy: geolocation`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/geolocation)
        Experimental
    16. [`Permissions-Policy: gyroscope`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/gyroscope)
        Experimental
    17. [`Permissions-Policy: hid`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/hid)
        Experimental
    18. [`Permissions-Policy: identity-credentials-get`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/identity-credentials-get)
        Experimental
    19. [`Permissions-Policy: idle-detection`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/idle-detection)
        Experimental
    20. [`Permissions-Policy: local-fonts`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/local-fonts)
        Experimental
    21. [`Permissions-Policy: magnetometer`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/magnetometer)
        Experimental
    22. [`Permissions-Policy: microphone`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/microphone)
        Experimental
    23. [`Permissions-Policy: midi`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/midi)
        Experimental
    24. [`Permissions-Policy: otp-credentials`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/otp-credentials)
        Experimental
    25. [`Permissions-Policy: payment`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/payment)
        Experimental
    26. [`Permissions-Policy: picture-in-picture`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/picture-in-picture)
        Experimental
    27. [`Permissions-Policy: publickey-credentials-create`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/publickey-credentials-create)
        Experimental
    28. [`Permissions-Policy: publickey-credentials-get`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/publickey-credentials-get)
        Experimental
    29. [`Permissions-Policy: screen-wake-lock`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/screen-wake-lock)
        Experimental
    30. [`Permissions-Policy: serial`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/serial)
        Experimental
    31. [`Permissions-Policy: speaker-selection`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/speaker-selection)
        Experimental
    32. [`Permissions-Policy: storage-access`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/storage-access)
        Experimental
    33. [`Permissions-Policy: usb`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/usb)
        Experimental
    34. [`Permissions-Policy: web-share`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/web-share)
        Experimental
    35. [`Permissions-Policy: window-management`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/window-management)
        Experimental
    36. [`Permissions-Policy: xr-spatial-tracking`](/en-US/docs/Web/HTTP/Headers/Permissions-Policy/xr-spatial-tracking)
        Experimental
28. [HTTP resources and specifications](/en-US/docs/Web/HTTP/Resources_and_specifications)
## In this article

* [What cookies are used for](#what_cookies_are_used_for)
* [Creating, removing, and updating cookies](#creating_removing_and_updating_cookies)
* [Security](#security)
* [Privacy and tracking](#privacy_and_tracking)
* [Cookie-related regulations](#cookie-related_regulations)
* [See also](#see_also)
# Using HTTP cookies

A **cookie** (also known as a web cookie or browser cookie) is a small piece of data a server sends to a user's web browser. The browser may store cookies, create new cookies, modify existing ones, and send them back to the same server with later requests. Cookies enable web applications to store limited amounts of data and remember state information; by default the HTTP protocol is [stateless](/en-US/docs/Web/HTTP/Overview#http_is_stateless_but_not_sessionless).

In this article we will explore the main uses of cookies, explain best practices for using them, and look at their privacy and security implications.

## [What cookies are used for](#what_cookies_are_used_for)

Typically, the server will use the contents of HTTP cookies to determine whether different requests come from the same browser/user and then issue a personalized or generic response as appropriate. The following describes a very simple user sign-in system:

1. The user sends sign-in credentials to the server, for example via a form submission.
2. If the credentials are correct, the server updates the UI to indicate that the user is signed in, and responds with a cookie containing a session ID that records their sign-in status on the browser.
3. At a later time, the user moves to a different page on the same site. The browser sends the cookie containing the session ID along with the corresponding request to indicate that it still thinks the user is signed in.
4. The server checks the session ID and, if it is still valid, sends the user a personalized version of the new page. If it is not valid, the session ID is deleted and the user is shown a generic version of the page (or perhaps shown an "access denied" message and asked to sign in again).

![visual representation of the above sign-in system description](/en-US/docs/Web/HTTP/Cookies/cookie-basic-example.png)

Cookies are mainly used for three purposes:

* **Session management**: User sign-in status, shopping cart contents, game scores, or any other user session-related details that the server needs to remember.
* **Personalization**: User preferences such as display language and UI theme.
* **Tracking**: Recording and analyzing user behavior.
### [Data storage](#data_storage)

In the early days of the web when there was no other option, cookies were used for general client-side data storage purposes. Modern storage APIs are now recommended, for example the [Web Storage API](/en-US/docs/Web/API/Web_Storage_API) (`localStorage` and `sessionStorage`) and [IndexedDB](/en-US/docs/Web/API/IndexedDB_API).

They are designed with storage in mind, never send data to the server, and don't come with other drawbacks of using cookies for storage:

* Browsers are generally limited to a maximum number of cookies per domain (varies by browser, generally in the hundreds), and a maximum size per cookie (usually 4KB). Storage APIs can store larger amounts of data.
* Cookies are sent with every request, so they can worsen performance (for example on slow mobile data connections), especially if you have a lot of cookies set.

**Note:**
To see stored cookies (and other storage that a web page is using) you can use the [Storage Inspector](https://firefox-source-docs.mozilla.org/devtools-user/storage_inspector/index.html) in Firefox Developer Tools, or the [Application panel](https://developer.chrome.com/docs/devtools/progressive-web-apps) in Chrome Developer Tools.

## [Creating, removing, and updating cookies](#creating_removing_and_updating_cookies)

After receiving an HTTP request, a server can send one or more [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie) headers with the response, each one of which will set a separate cookie. A simple cookie is set by specifying a name-value pair like this:

http
```
Set-Cookie: <cookie-name>=<cookie-value>

```

The following HTTP response instructs the receiving browser to store a pair of cookies:

http
```
HTTP/2.0 200 OK
Content-Type: text/html
Set-Cookie: yummy_cookie=chocolate
Set-Cookie: tasty_cookie=strawberry

[page content]

```

**Note:**
Find out how to use the `Set-Cookie` header in various server-side languages/frameworks: [PHP](https://www.php.net/manual/en/function.setcookie.php), [Node.js](https://nodejs.org/docs/latest-v19.x/api/http.html#responsesetheadername-value), [Python](https://docs.python.org/3/library/http.cookies.html), [Ruby on Rails](https://api.rubyonrails.org/classes/ActionDispatch/Cookies.html).

When a new request is made, the browser usually sends previously stored cookies for the current domain back to the server within a [`Cookie`](/en-US/docs/Web/HTTP/Headers/Cookie) HTTP header:

http
```
GET /sample_page.html HTTP/2.0
Host: www.example.org
Cookie: yummy_cookie=chocolate; tasty_cookie=strawberry

```
### [Removal: defining the lifetime of a cookie](#removal_defining_the_lifetime_of_a_cookie)

You can specify an expiration date or time period after which the cookie should be deleted and no longer sent. Depending on the attributes set within the [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie) header when the cookies are created, they can be either *permanent* or *session* cookies:

* Permanent cookies are deleted after the date specified in the `Expires` attribute:

  http
  ```
  Set-Cookie: id=a3fWa; Expires=Thu, 31 Oct 2021 07:28:00 GMT;

  ```

  or after the period specified in the `Max-Age` attribute:

  http
  ```
  Set-Cookie: id=a3fWa; Max-Age=2592000

  ```

  **Note:** `Expires` has been available for longer than `Max-Age`, however `Max-Age` is less error-prone, and takes precedence when both are set. The rationale behind this is that when you set an `Expires` date and time, they're relative to the client the cookie is being set on. If the server is set to a different time, this could cause errors.
* *Session* cookies â cookies without a `Max-Age` or `Expires` attribute â are deleted when the current session ends. The browser defines when the "current session" ends, and some browsers use *session restoring* when restarting. This can cause session cookies to last indefinitely.

  **Note:**
  If your site authenticates users, it should regenerate and resend session cookies, even ones that already exist, whenever a user authenticates. This approach helps prevent [session fixation attacks](/en-US/docs/Web/Security/Types_of_attacks#session_fixation), where a third-party can reuse a user's session.

There are some techniques designed to recreate cookies after they're deleted. These are known as "zombie" cookies. These techniques violate the principles of user [privacy](#privacy_and_tracking) and control, may violate [data privacy regulations](#cookie-related_regulations), and could expose a website using them to legal liability.

### [Updating cookie values](#updating_cookie_values)

To update a cookie via HTTP, the server can send a [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie) header with the existing cookie's name and a new value. For example:

http
```
Set-Cookie: id=new-value

```

There are several reasons why you might want to do this, for example if a user has updated their preferences and the application wants to reflect the changes in client-side data (you could also do this with a client-side storage mechanism such as [Web Storage](/en-US/docs/Web/API/Web_Storage_API)).

#### Updating cookies via JavaScript

In the browser, you can create new cookies via JavaScript using the [`Document.cookie`](/en-US/docs/Web/API/Document/cookie) property, or the asynchronous [Cookie Store API](/en-US/docs/Web/API/Cookie_Store_API "Cookie Store API"). Note that all examples below use `Document.cookie`, as it is the most widely supported/established option.

js
```
document.cookie = "yummy_cookie=chocolate";
document.cookie = "tasty_cookie=strawberry";

```

You can also access existing cookies and set new values for them, provided the [`HttpOnly`](/en-US/docs/Web/HTTP/Headers/Set-Cookie#httponly) attribute isn't set on them (i.e. in the `Set-Cookie` header that created it):

js
```
console.log(document.cookie);
// logs "yummy_cookie=chocolate; tasty_cookie=strawberry"

document.cookie = "yummy_cookie=blueberry";

console.log(document.cookie);
// logs "tasty_cookie=strawberry; yummy_cookie=blueberry"

```

Note that, for security purposes, you can't change cookie values by sending an updated `Cookie` header directly when initiating a request, i.e. via [`fetch()`](/en-US/docs/Web/API/Window/fetch "fetch()") or [`XMLHttpRequest`](/en-US/docs/Web/API/XMLHttpRequest). Note that there are also good reasons why you shouldn't allow JavaScript to modify cookies â i.e. set `HttpOnly` during creation. See the [Security](#security) section for more details.

## [Security](#security)

When you store information in cookies, by default all cookie values are visible to, and can be changed by, the end user. You really don't want your cookies to be misused â for example accessed/modified by bad actors, or sent to domains where they shouldn't be sent. The potential consequences can range from annoying â apps not working or exhibiting strange behavior â to catastrophic. A criminal could for example steal a session ID and use it to set a cookie that makes it look like they are logged in as someone else, taking control of their bank or e-commerce account in the process.

You can secure your cookies in a variety of ways, which are reviewed in this section.

### [Block access to your cookies](#block_access_to_your_cookies)

You can ensure that cookies are sent securely and aren't accessed by unintended parties or scripts in one of two ways: with the `Secure` attribute and the `HttpOnly` attribute:

http
```
Set-Cookie: id=a3fWa; Expires=Thu, 21 Oct 2021 07:28:00 GMT; Secure; HttpOnly

```

* A cookie with the `Secure` attribute is only sent to the server with an encrypted request over the HTTPS protocol. It's never sent with unsecured HTTP (except on localhost), which means [man-in-the-middle](/en-US/docs/Glossary/MitM) attackers can't access it easily. Insecure sites (with `http:` in the URL) can't set cookies with the `Secure` attribute. However, don't assume that `Secure` prevents all access to sensitive information in cookies. For example, someone with access to the client's hard disk (or JavaScript if the `HttpOnly` attribute isn't set) can read and modify the information.
* A cookie with the `HttpOnly` attribute can't be accessed by JavaScript, for example using [`Document.cookie`](/en-US/docs/Web/API/Document/cookie); it can only be accessed when it reaches the server. Cookies that persist user sessions for example should have the `HttpOnly` attribute set â it would be really insecure to make them available to JavaScript. This precaution helps mitigate cross-site scripting ([XSS](/en-US/docs/Web/Security/Types_of_attacks#cross-site_scripting_xss)) attacks.

**Note:**
Depending on the application, you may want to use an opaque identifier that the server looks up rather than storing sensitive information directly in cookies, or investigate alternative authentication/confidentiality mechanisms such as [JSON Web Tokens](https://jwt.io/).

### [Define where cookies are sent](#define_where_cookies_are_sent)

The `Domain` and `Path` attributes define the *scope* of a cookie: what URLs the cookies are sent to.

* The `Domain` attribute specifies which server can receive a cookie. If specified, cookies are available on the specified server and its subdomains. For example, if you set `Domain=mozilla.org` from `mozilla.org`, cookies are available on that domain and subdomains like `developer.mozilla.org`.

  http
  ```
  Set-Cookie: id=a3fWa; Expires=Thu, 21 Oct 2021 07:28:00 GMT; Secure; HttpOnly; Domain=mozilla.org

  ```

  If the `Set-Cookie` header does not specify a `Domain` attribute, the cookies are available on the server that sets it *but not on its subdomains*. Therefore, specifying `Domain` is less restrictive than omitting it.
  Note that a server can only set the `Domain` attribute to its own domain or a parent domain, not to a subdomain or some other domain.
  So, for example, a server with domain `foo.example.com` could set the attribute to `example.com` or `foo.example.com`, but not `bar.foo.example.com` or `elsewhere.com` (the cookies would still be *sent* to subdomains such as `bar.foo.example.com` though).
  See [Invalid domains](/en-US/docs/Web/HTTP/Headers/Set-Cookie#invalid_domains) for more details.
* The `Path` attribute indicates a URL path that must exist in the requested URL in order to send the `Cookie` header. For example:

  http
  ```
  Set-Cookie: id=a3fWa; Expires=Thu, 21 Oct 2021 07:28:00 GMT; Secure; HttpOnly; Path=/docs

  ```

  The `%x2F` ("/") character is considered a directory separator, and subdirectories match as well. For example, if you set `Path=/docs`, these request paths match:

  + `/docs`
  + `/docs/`
  + `/docs/Web/`
  + `/docs/Web/HTTP`

  But these request paths don't:

  + `/`
  + `/docsets`
  + `/fr/docs`
### [Controlling third-party cookies with `SameSite`](#controlling_third-party_cookies_with_samesite)

The [`SameSite`](/en-US/docs/Web/HTTP/Headers/Set-Cookie#samesitesamesite-value) attribute lets servers specify whether/when cookies are sent with cross-site requests â i.e. [third-party cookies](/en-US/docs/Web/Privacy/Third-party_cookies). Cross-site requests are requests where the [site](/en-US/docs/Glossary/Site) (the registrable domain) and/or the scheme (http or https) do not match the site the user is currently visiting. This includes requests sent when links are clicked on other sites to navigate to your site, and any request sent by embedded third-party content.

`SameSite` helps to prevent leakage of information, preserving user [privacy](#privacy_and_tracking) and providing some protection against [cross-site request forgery](/en-US/docs/Glossary/CSRF) attacks. It takes three possible values: `Strict`, `Lax`, and `None`:

* `Strict` causes the browser to only send the cookie in response to requests originating from the cookie's origin site. This should be used when you have cookies relating to functionality that will always be behind an initial navigation, such as authentication or storing shopping cart information.

  http
  ```
  Set-Cookie: cart=110045_77895_53420; SameSite=Strict

  ```

  **Note:**
  Cookies that are used for sensitive information should also have a short [lifetime](#removal_defining_the_lifetime_of_a_cookie).
* `Lax` is similar, except the browser also sends the cookie when the user *navigates* to the cookie's origin site (even if the user is coming from a different site). This is useful for cookies affecting the display of a site â for example you might have partner product information along with an affiliate link on your website. When that link is followed to the partner website, they might want to set a cookie stating that the affiliate link was followed, which displays a reward banner and provides a discount if the product is purchased.

  http
  ```
  Set-Cookie: affiliate=e4rt45dw; SameSite=Lax

  ```
* `None` specifies that cookies are sent on both originating and cross-site requests. This is useful if you want to send cookies along with requests made from third-party content embedded in other sites, for example, ad-tech or analytics providers. Note that if `SameSite=None` is set then the `Secure` attribute must also be set â `SameSite=None` requires a *secure context*.

  http
  ```
  Set-Cookie: widget_session=7yjgj57e4n3d; SameSite=None; Secure; HttpOnly

  ```

If no `SameSite` attribute is set, the cookie is treated as `Lax` by default.

### [Cookie prefixes](#cookie_prefixes)

Because of the design of the cookie mechanism, a server can't confirm that a cookie was set from a secure origin or even tell *where* a cookie was originally set.

A vulnerable application on a subdomain can set a cookie with the `Domain` attribute, which gives access to that cookie on all other subdomains. This mechanism can be abused in a *session fixation* attack. See [session fixation](/en-US/docs/Web/Security/Types_of_attacks#session_fixation) for primary mitigation methods.

As a [defense-in-depth measure](https://en.wikipedia.org/wiki/Defense_in_depth_%28computing%29), however, you can use *cookie prefixes* to assert specific facts about the cookie. Two prefixes are available:

* `__Host-`: If a cookie name has this prefix, it's accepted in a [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie) header only if it's also marked with the `Secure` attribute, was sent from a secure origin, does *not* include a `Domain` attribute, and has the `Path` attribute set to `/`. In other words, the cookie is *domain-locked*.
* `__Secure-`: If a cookie name has this prefix, it's accepted in a [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie) header only if it's marked with the `Secure` attribute and was sent from a secure origin. This is weaker than the `__Host-` prefix.

The browser will reject cookies with these prefixes that don't comply with their restrictions. This ensures that subdomain-created cookies with prefixes are either confined to a subdomain or ignored completely. As the application server only checks for a specific cookie name when determining if the user is authenticated or a CSRF token is correct, this effectively acts as a defense measure against session fixation.

**Note:**
On the server, the web application *must* check for the full cookie name including the prefix. User agents *do not* strip the prefix from the cookie before sending it in a request's [`Cookie`](/en-US/docs/Web/HTTP/Headers/Cookie) header.

For more information about cookie prefixes and the current state of browser support, see the [Prefixes section of the Set-Cookie reference article](/en-US/docs/Web/HTTP/Headers/Set-Cookie#cookie_prefixes).

## [Privacy and tracking](#privacy_and_tracking)

Earlier on we talked about how the `SameSite` attribute can be used to control when third-party cookies are sent, and that this can help preserve user privacy. Privacy is a very important consideration when building websites which, when done right, can build trust with your users. If done badly, it can completely erode that trust and cause all kinds of other problems.

Third-party cookies can be set by third-party content embedded in sites via [`<iframe>`](/en-US/docs/Web/HTML/Element/iframe)s. They have many legitimate uses include sharing user profile information, counting ad impressions, or collecting analytics across different related domains.

However, third-party cookies can also be used to create creepy, invasive user experiences. A third-party server can create a profile of a user's browsing history and habits based on cookies sent to it by the same browser when accessing multiple sites. The classic example is when you search for product information on one site and are then chased around the web by adverts for similar products wherever you go.

Browser vendors know that users don't like this behavior, and as a result have all started to block third-party cookies by default, or at least made plans to go in that direction. Third-party cookies (or just tracking cookies) may also be blocked by other browser settings or extensions.

**Note:**
Cookie blocking can cause some third-party components (such as social media widgets) not to function as intended. As browsers impose further restrictions on third-party cookies, developers should start to look at ways to reduce their reliance on them.

See our [Third-party cookies](/en-US/docs/Web/Privacy/Third-party_cookies) article for detailed information on third-party cookies, the issues associated with them, and what alternatives are available. See our [Privacy](/en-US/docs/Web/Privacy) landing page for more information on privacy in general.

## [Cookie-related regulations](#cookie-related_regulations)

Legislation or regulations that cover the use of cookies include:

* The [General Data Privacy Regulation](https://gdpr.eu/) (GDPR) in the European Union
* The ePrivacy Directive in the EU
* The California Consumer Privacy Act

These regulations have global reach. They apply to any site on the *World Wide* Web that users from these jurisdictions access (the EU and California, with the caveat that California's law applies only to entities with gross revenue over 25 million USD, among things).

These regulations include requirements such as:

* Notifying users that your site uses cookies.
* Allowing users to opt out of receiving some or all cookies.
* Allowing users to use the bulk of your service without receiving cookies.

There may be other regulations that govern the use of cookies in your locality. The burden is on you to know and comply with these regulations. There are companies that offer "cookie banner" code that helps you comply with these regulations.

**Note:**
Companies should disclose the types of cookies they use on their sites for transparency purposes and to comply with regulations. For example, see [Google's notice on the types of cookies it uses](https://policies.google.com/technologies/cookies#types-of-cookies) and Mozilla's [Websites, Communications & Cookies Privacy Notice](https://www.mozilla.org/en-US/privacy/websites/#cookies).

## [See also](#see_also)

* Related HTTP headers: [`Set-Cookie`](/en-US/docs/Web/HTTP/Headers/Set-Cookie), [`Cookie`](/en-US/docs/Web/HTTP/Headers/Cookie)
* Related JavaScript APIs: [`Document.cookie`](/en-US/docs/Web/API/Document/cookie), [`Navigator.cookieEnabled`](/en-US/docs/Web/API/Navigator/cookieEnabled), [Cookie Store API](/en-US/docs/Web/API/Cookie_Store_API "Cookie Store API")
* [Third-party cookies](/en-US/docs/Web/Privacy/Third-party_cookies)
* [Cookie specification: RFC 6265](https://datatracker.ietf.org/doc/html/rfc6265)
* [Cookies, the GDPR, and the ePrivacy Directive](https://gdpr.eu/cookies/)
## Help improve MDN

Was this page helpful to you?YesNo[Learn how to contribute](https://github.com/mdn/content/blob/main/CONTRIBUTING.md "This will take you to our contribution guidelines on GitHub.").

This page was last modified on Dec 1, 2024 by [MDN contributors](/en-US/docs/Web/HTTP/Cookies/contributors.txt).

[View this page on GitHub](https://github.com/mdn/content/blob/main/files/en-us/web/http/cookies/index.md?plain=1 "Folder: en-us/web/http/cookies (Opens in a new tab)") â¢ [Report a problem with this content](https://github.com/mdn/content/issues/new?template=page-report.yml&mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCookies&metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fhttp%2Fcookies%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCookies%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fhttp%2Fcookies%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F4d12b3e4f9afb311f2656641260e42c0b6f8f4c6%0A*+Document+last+modified%3A+2024-12-01T22%3A46%3A24.000Z%0A%0A%3C%2Fdetails%3E "This will take you to GitHub to file a new issue.")[MDN logo](/)

Your blueprint for a better internet.

* [MDN on Mastodon](https://mastodon.social/%40mdn)
* [MDN on X (formerly Twitter)](https://twitter.com/mozdevnet)
* [MDN on GitHub](https://github.com/mdn/)
* [MDN Blog RSS Feed](/en-US/blog/rss.xml)
## MDN

* [About](/en-US/about)
* [Blog](/en-US/blog/)
* [Careers](https://www.mozilla.org/en-US/careers/listings/?team=ProdOps)
* [Advertise with us](/en-US/advertising)
## Support

* [Product help](https://support.mozilla.org/products/mdn-plus)
* [Report an issue](/en-US/docs/MDN/Community/Issues)
## Our communities

* [MDN Community](/en-US/community)
* [MDN Forum](https://discourse.mozilla.org/c/mdn/236)
* [MDN Chat](/discord)
## Developers

* [Web Technologies](/en-US/docs/Web)
* [Learn Web Development](/en-US/docs/Learn)
* [MDN Plus](/en-US/plus)
* [Hacks Blog](https://hacks.mozilla.org/)
[Mozilla logo](https://www.mozilla.org/)

* [Website Privacy Notice](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/terms/mozilla)
* [Community Participation Guidelines](https://www.mozilla.org/about/governance/policies/participation/)

Visit [Mozilla Corporationâs](https://www.mozilla.org) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/).
Portions of this content are Â©1998â2025 by individual mozilla.org contributors. Content available under [a Creative Commons license](/en-US/docs/MDN/Writing_guidelines/Attrib_copyright_license).



=== Content from codeigniter4.github.io_40f11a31_20250108_113300.html ===

[![Logo](../_static/ci-logo-text.svg)](../index.html)

* [Welcome to CodeIgniter4](../intro/index.html)
  + [Welcome to CodeIgniter4](../intro/index.html)
  + [Server Requirements](../intro/requirements.html)
  + [Credits](../intro/credits.html)
  + [PSR Compliance](../intro/psr.html)
  + [License Agreement](../license.html)

* [Installation](../installation/index.html)
  + [Composer Installation](../installation/installing_composer.html)
  + [Manual Installation](../installation/installing_manual.html)
  + [Running Your App](../installation/running.html)
  + [Troubleshooting](../installation/troubleshooting.html)
  + [Deployment](../installation/deployment.html)
  + [Change Logs](../changelogs/index.html)
  + [Upgrading From a Previous Version](../installation/upgrading.html)
  + [CodeIgniter Repositories](../installation/repositories.html)

* [Build Your First Application](../tutorial/index.html)
  + [Static Pages](../tutorial/static_pages.html)
  + [News Section](../tutorial/news_section.html)
  + [Create News Items](../tutorial/create_news_items.html)
  + [Conclusion](../tutorial/conclusion.html)

* [CodeIgniter4 Overview](../concepts/index.html)
  + [Application Structure](../concepts/structure.html)
  + [Models, Views, and Controllers](../concepts/mvc.html)
  + [Autoloading Files](../concepts/autoloader.html)
  + [Services](../concepts/services.html)
  + [Factories](../concepts/factories.html)
  + [Working with HTTP Requests](../concepts/http.html)
  + [Security Guidelines](../concepts/security.html)
  + [Design and Architectural Goals](../concepts/goals.html)

* [General Topics](../general/index.html)
  + [Configuration](../general/configuration.html)
  + [CodeIgniter URLs](../general/urls.html)
  + [Helper Functions](../general/helpers.html)
  + [Global Functions and Constants](../general/common_functions.html)
  + [Logging Information](../general/logging.html)
  + [Error Handling](../general/errors.html)
  + [Web Page Caching](../general/caching.html)
  + [AJAX Requests](../general/ajax.html)
  + [Code Modules](../general/modules.html)
  + [Managing your Applications](../general/managing_apps.html)
  + [Handling Multiple Environments](../general/environments.html)

* [Controllers and Routing](../incoming/index.html)
  + [URI Routing](../incoming/routing.html)
  + [Controllers](../incoming/controllers.html)
  + [Controller Filters](../incoming/filters.html)
  + [HTTP Messages](../incoming/message.html)
  + [Request Class](../incoming/request.html)
  + [IncomingRequest Class](../incoming/incomingrequest.html)
  + [Content Negotiation](../incoming/content_negotiation.html)
  + [HTTP Method Spoofing](../incoming/methodspoofing.html)
  + [RESTful Resource Handling](../incoming/restful.html)

* [Building Responses](index.html)
  + [Views](views.html)
  + [View Renderer](view_renderer.html)
  + [View Layouts](view_layouts.html)
  + [View Cells](view_cells.html)
  + [View Parser](view_parser.html)
  + [View Decorators](view_decorators.html)
  + [HTML Table Class](table.html)
  + HTTP Responses
  + [API Response Trait](api_responses.html)
  + [Content Security Policy](csp.html)
  + [Localization](localization.html)
  + [Alternate PHP Syntax for View Files](alternative_php.html)

* [Working with Databases](../database/index.html)
  + [Quick Start: Usage Examples](../database/examples.html)
  + [Database Configuration](../database/configuration.html)
  + [Connecting to a Database](../database/connecting.html)
  + [Running Queries](../database/queries.html)
  + [Generating Query Results](../database/results.html)
  + [Query Helper Methods](../database/helpers.html)
  + [Query Builder Class](../database/query_builder.html)
  + [Transactions](../database/transactions.html)
  + [Getting Metadata](../database/metadata.html)
  + [Custom Function Calls](../database/call_function.html)
  + [Database Events](../database/events.html)
  + [Database Utilities](../database/utilities.html)

* [Modeling Data](../models/index.html)
  + [Using CodeIgniter's Model](../models/model.html)
  + [Using Entity Classes](../models/entities.html)

* [Managing Databases](../dbmgmt/index.html)
  + [Database Forge](../dbmgmt/forge.html)
  + [Database Migrations](../dbmgmt/migration.html)
  + [Database Seeding](../dbmgmt/seeds.html)
  + [Database Commands](../dbmgmt/db_commands.html)

* [Library Reference](../libraries/index.html)
  + [Caching Driver](../libraries/caching.html)
  + [Cookies](../libraries/cookies.html)
  + [Cross-Origin Resource Sharing (CORS)](../libraries/cors.html)
  + [CURLRequest Class](../libraries/curlrequest.html)
  + [Email Class](../libraries/email.html)
  + [Encryption Service](../libraries/encryption.html)
  + [Working with Files](../libraries/files.html)
  + [File Collections](../libraries/file_collections.html)
  + [Honeypot Class](../libraries/honeypot.html)
  + [Image Manipulation Class](../libraries/images.html)
  + [Pagination](../libraries/pagination.html)
  + [Publisher](../libraries/publisher.html)
  + [Security](../libraries/security.html)
  + [Session Library](../libraries/sessions.html)
  + [Throttler](../libraries/throttler.html)
  + [Times and Dates](../libraries/time.html)
  + [Typography](../libraries/typography.html)
  + [Working with Uploaded Files](../libraries/uploaded_files.html)
  + [Working with URIs](../libraries/uri.html)
  + [User Agent Class](../libraries/user_agent.html)
  + [Validation](../libraries/validation.html)

* [Helpers](../helpers/index.html)
  + [Array Helper](../helpers/array_helper.html)
  + [Cookie Helper](../helpers/cookie_helper.html)
  + [Date Helper](../helpers/date_helper.html)
  + [Filesystem Helper](../helpers/filesystem_helper.html)
  + [Form Helper](../helpers/form_helper.html)
  + [HTML Helper](../helpers/html_helper.html)
  + [Inflector Helper](../helpers/inflector_helper.html)
  + [Number Helper](../helpers/number_helper.html)
  + [Security Helper](../helpers/security_helper.html)
  + [Test Helper](../helpers/test_helper.html)
  + [Text Helper](../helpers/text_helper.html)
  + [URL Helper](../helpers/url_helper.html)
  + [XML Helper](../helpers/xml_helper.html)

* [Testing](../testing/index.html)
  + [Getting Started](../testing/overview.html)
  + [Database](../testing/database.html)
  + [Generating Data](../testing/fabricator.html)
  + [Controller Testing](../testing/controllers.html)
  + [HTTP Testing](../testing/feature.html)
  + [Testing Responses](../testing/response.html)
  + [Testing CLI Commands](../testing/cli.html)
  + [Mocking](../testing/mocking.html)
  + [Benchmarking](../testing/benchmark.html)
  + [Debugging Your Application](../testing/debugging.html)

* [Command Line Usage](../cli/index.html)
  + [CLI Overview](../cli/cli_overview.html)
  + [Running Controllers via CLI](../cli/cli_controllers.html)
  + [Spark Commands](../cli/spark_commands.html)
  + [Creating Spark Commands](../cli/cli_commands.html)
  + [CLI Generators](../cli/cli_generators.html)
  + [CLI Library](../cli/cli_library.html)
  + [CLIRequest Class](../cli/cli_request.html)

* [Extending CodeIgniter](../extending/index.html)
  + [Creating Core System Classes](../extending/core_classes.html)
  + [Replacing Common Functions](../extending/common.html)
  + [Events](../extending/events.html)
  + [Extending the Controller](../extending/basecontroller.html)
  + [Authentication](../extending/authentication.html)
  + [Creating Composer Packages](../extending/composer_packages.html)
  + [Contributing to CodeIgniter](../extending/contributing.html)

* [Official Packages](../libraries/official_packages.html)

[CodeIgniter](../index.html)

* [Building Responses](index.html)
* HTTP Responses

---

# HTTP Responses[](#http-responses "Permalink to this heading")

The Response class extends the [HTTP Message Class](../incoming/message.html) with methods only appropriate for
a server responding to the client that called it.

* [Working with the Response](#working-with-the-response)

  + [Setting the Output](#setting-the-output)
  + [Setting Headers](#setting-headers)
* [Redirect](#redirect)

  + [Redirect to a URI path](#redirect-to-a-uri-path)
  + [Redirect to a Defined Route](#redirect-to-a-defined-route)
  + [Redirect Back](#redirect-back)
  + [Redirect with Cookies](#redirect-with-cookies)
  + [Redirect with Headers](#redirect-with-headers)
  + [Redirect Status Code](#redirect-status-code)
* [Force File Download](#force-file-download)

  + [Open File in Browser](#open-file-in-browser)
* [HTTP Caching](#http-caching)
* [Class Reference](#class-reference)

## [Working with the Response](#id3)[](#working-with-the-response "Permalink to this heading")

A Response class is instantiated for you and passed into your controllers. It can
be accessed through `$this->response`. It is the same instance that
`Services::response()` returns. We call it the global response instance.

Many times you will not need to touch the class directly, since CodeIgniter takes care of
sending the headers and the body for you. This is great if the page successfully created the content it was asked to.
When things go wrong, or you need to send very specific status codes back, or even take advantage of the
powerful HTTP caching, it’s there for you.

### [Setting the Output](#id4)[](#setting-the-output "Permalink to this heading")

When you need to set the output of the script directly, and not rely on CodeIgniter to automatically get it, you
do it manually with the `setBody` method. This is usually used in conjunction with setting the status code of
the response:

```
<?php

$this->response->setStatusCode(404)->setBody($body);

```

The reason phrase (‘OK’, ‘Created’, ‘Moved Permanently’) will be automatically added, but you can add custom reasons
as the second parameter of the `setStatusCode()` method:

```
<?php

$this->response->setStatusCode(404, 'Nope. Not here.');

```

You can set format an array into either JSON or XML and set the content type header to the appropriate mime with the
`setJSON()` and `setXML()` methods. Typically, you will send an array of data to be converted:

```
<?php

$data = [
    'success' => true,
    'id'      => 123,
];

return $this->response->setJSON($data);

// or
return $this->response->setXML($data);

```

### [Setting Headers](#id5)[](#setting-headers "Permalink to this heading")

#### setHeader()[](#setheader "Permalink to this heading")

Often, you will need to set headers to be set for the response. The Response class makes this very simple to do,
with the `setHeader()` method.

The first parameter is the name of the header. The second parameter is the value,
which can be either a string or an array of values that will be combined correctly when sent to the client.

```
<?php

$this->response->setHeader('Location', 'http://example.com')
    ->setHeader('WWW-Authenticate', 'Negotiate');

```

Using these functions instead of using the native PHP functions allows you to ensure that no headers are sent
prematurely, causing errors, and makes testing possible.

Note

This method just sets headers to the response instance. So, if you create
and return another response instance (e.g., if you call [`redirect()`](../general/common_functions.html#redirect "redirect")),
the headers set here will not be sent automatically.

#### appendHeader()[](#appendheader "Permalink to this heading")

If the header exists and can have more than one value, you may use the `appendHeader()` and `prependHeader()`
methods to add the value to the end or beginning of the values list, respectively. The first parameter is the name
of the header, while the second is the value to append or prepend.

```
<?php

$this->response->setHeader('Cache-Control', 'no-cache')
    ->appendHeader('Cache-Control', 'must-revalidate');

```

#### removeHeader()[](#removeheader "Permalink to this heading")

Headers can be removed from the response with the `removeHeader()` method, which takes the header name as the only
parameter. This is not case-sensitive.

```
<?php

$this->response->removeHeader('Location');

```

## [Redirect](#id6)[](#redirect "Permalink to this heading")

If you want to create a redirect, use the [`redirect()`](../general/common_functions.html#redirect "redirect") function.

It returns a `RedirectResponse` instance. It is a different instance from the
global response instance that `Services::response()` returns.

Warning

If you set Cookies or Response Headers before you call `redirect()`,
they are set to the global response instance, and they are not automatically
copied to the `RedirectResponse` instance. To send them, you need to call
the `withCookies()` or `withHeaders()` method manually.

Important

If you want to redirect, an instance of `RedirectResponse` must
be returned in a method of the [Controller](../incoming/controllers.html) or
the [Controller Filter](../incoming/filters.html). Note that the `__construct()`
or the `initController()` method cannot return any value.
If you forget to return `RedirectResponse`, no redirection will occur.

### [Redirect to a URI path](#id7)[](#redirect-to-a-uri-path "Permalink to this heading")

When you want to pass a URI path (relative to baseURL), use `redirect()->to()`:

```
// Go to specific URI path. "admin/home" is the URI path relative to baseURL.
return redirect()->to('admin/home');

```

Note

If there is a fragment in your URL that you want to remove, you can
use the refresh parameter in the method.
Like `return redirect()->to('admin/home', null, 'refresh');`.

### [Redirect to a Defined Route](#id8)[](#redirect-to-a-defined-route "Permalink to this heading")

When you want to pass a [route name](../incoming/routing.html#using-named-routes) or Controller::method
for [reverse routing](../incoming/routing.html#reverse-routing), use `redirect()->route()`:

```
// Go to a named route. "user_gallery" is the route name, not a URI path.
return redirect()->route('user_gallery');

```

When passing an argument into the function, it is treated as a route name or
Controller::method for reverse routing, not a relative/full URI,
treating it the same as using `redirect()->route()`:

```
// Go to a named/reverse-routed URI.
return redirect('named_route');

```

### [Redirect Back](#id9)[](#redirect-back "Permalink to this heading")

When you want to redirect back, use `redirect()->back()`:

```
// Go back to the previous page.
return redirect()->back();

// Keep the old input values upon redirect so they can be used by the `old()` function.
return redirect()->back()->withInput();

// Set a flash message.
return redirect()->back()->with('foo', 'message');

```

Note

`redirect()->back()` is not the same as browser “back” button.
It takes a visitor to “the last page viewed during the Session” when the Session is available.
If the Session hasn’t been loaded, or is otherwise unavailable, then a sanitized version of HTTP\_REFERER will be used.

### [Redirect with Cookies](#id10)[](#redirect-with-cookies "Permalink to this heading")

If you set Cookies before you call `redirect()`, they are set to the global
response instance, and they are not automatically copied to the `RedirectResponse`
instance.

To send the Cookies, you need to call the `withCookies()` method manually.

```
// Copies all cookies from global response instance.
return redirect()->back()->withCookies();

```

### [Redirect with Headers](#id11)[](#redirect-with-headers "Permalink to this heading")

If you set Response Headers before you call `redirect()`, they are set to the
global response instance, and they are not automatically copied to the
`RedirectResponse` instance.

To send the Headers, you need to call the `withHeaders()` method manually.

```
// Copies all headers from the global response instance.
return redirect()->back()->withHeaders();

```

### [Redirect Status Code](#id12)[](#redirect-status-code "Permalink to this heading")

The default HTTP status code for GET requests is 302. However, when using HTTP/1.1
or later, 303 is used for POST/PUT/DELETE requests and 307 for all other requests.

You can specify the status code:

```
// Redirect to a URI path relative to baseURL with status code 301.
return redirect()->to('admin/home', 301);

// Redirect to a route with status code 308.
return redirect()->route('user_gallery', [], 308);

// Redirect back with status code 302.
return redirect()->back(302);

```

Note

Due to a bug, in v4.3.3 or previous versions, the status code of the
actual redirect response might be changed even if a status code was specified.
See [ChangeLog v4.3.4](../changelogs/v4.3.4.html#v434-redirect-status-code).

If you don’t know HTTP status code for redirection, it is recommended to read
[Redirections in HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections).

## [Force File Download](#id13)[](#force-file-download "Permalink to this heading")

The Response class provides a simple way to send a file to the client, prompting the browser to download the data
to your computer. This sets the appropriate headers to make it happen.

The first parameter is the **name you want the downloaded file to be named**, the second parameter is the
file data.

If you set the second parameter to null and `$filename` is an existing, readable
file path, then its content will be read instead.

If you set the third parameter to boolean true, then the actual file MIME type
(based on the filename extension) will be sent, so that if your browser has a
handler for that type - it can use it.

Example:

```
<?php

$data = 'Here is some text!';
$name = 'mytext.txt';

return $this->response->download($name, $data);

```

If you want to download an existing file from your server you’ll need to
pass `null` explicitly for the second parameter:

```
<?php

// Contents of photo.jpg will be automatically read
return $this->response->download('/path/to/photo.jpg', null);

```

Use the optional `setFileName()` method to change the filename as it is sent to the client’s browser:

```
<?php

return $this->response->download('awkwardEncryptedFileName.fakeExt', null)->setFileName('expenses.csv');

```

Note

The response object MUST be returned for the download to be sent to the client. This allows the response
to be passed through all **after** filters before being sent to the client.

### [Open File in Browser](#id14)[](#open-file-in-browser "Permalink to this heading")

Some browsers can display files such as PDF. To tell the browser to display the file instead of saving it, call the
`DownloadResponse::inline()` method.

```
<?php

$data = 'Here is some text!';
$name = 'mytext.txt';

return $this->response->download($name, $data)->inline();

```

## [HTTP Caching](#id15)[](#http-caching "Permalink to this heading")

Built into the HTTP specification are tools help the client (often the web browser) cache the results. Used correctly,
this can lead to a huge performance boost to your application because it will tell the client that they don’t need
to contact the server at all since nothing has changed. And you can’t get faster than that.

This is handled through the `Cache-Control` and `ETag` headers. This guide is not the proper place for a thorough
introduction to all of the cache headers power, but you can get a good understanding over at
[Google Developers](https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching).

By default, all response objects sent through CodeIgniter have HTTP caching turned off. The options and exact
circumstances are too varied for us to be able to create a good default other than turning it off. It’s simple
to set the Cache values to what you need, through the `setCache()` method:

```
<?php

$options = [
    'max-age'  => 300,
    's-maxage' => 900,
    'etag'     => 'abcde',
];
$this->response->setCache($options);

```

The `$options` array simply takes an array of key/value pairs that are, with a couple of exceptions, assigned
to the `Cache-Control` header. You are free to set all of the options exactly as you need for your specific
situation. While most of the options are applied to the `Cache-Control` header, it intelligently handles
the `etag` and `last-modified` options to their appropriate header.

## [Class Reference](#id16)[](#class-reference "Permalink to this heading")

Note

In addition to the methods listed here, this class inherits the methods from the
[Message Class](../incoming/message.html).

The methods inherited from the Message Class are:

* `CodeIgniter\HTTP\Message::body()`
* `CodeIgniter\HTTP\Message::setBody()`
* `CodeIgniter\HTTP\Message::populateHeaders()`
* `CodeIgniter\HTTP\Message::headers()`
* `CodeIgniter\HTTP\Message::header()`
* `CodeIgniter\HTTP\Message::headerLine()`
* `CodeIgniter\HTTP\Message::setHeader()`
* `CodeIgniter\HTTP\Message::removeHeader()`
* `CodeIgniter\HTTP\Message::appendHeader()`
* `CodeIgniter\HTTP\Message::protocolVersion()`
* `CodeIgniter\HTTP\Message::setProtocolVersion()`
* `CodeIgniter\HTTP\Message::negotiateMedia()`
* `CodeIgniter\HTTP\Message::negotiateCharset()`
* `CodeIgniter\HTTP\Message::negotiateEncoding()`
* `CodeIgniter\HTTP\Message::negotiateLanguage()`
* `CodeIgniter\HTTP\Message::negotiateLanguage()`

*class* CodeIgniter\HTTP\Response[](#CodeIgniter\HTTP\Response "Permalink to this definition")
getStatusCode()[](#CodeIgniter\HTTP\Response::getStatusCode "Permalink to this definition")
Returns:

The current HTTP status code for this response

Return type:

`int`

Returns the currently status code for this response. If no status code has been set, a BadMethodCallException
will be thrown:

```
<?php

echo $response->getStatusCode();

```

setStatusCode(*$code*[, *$reason=''*])[](#CodeIgniter\HTTP\Response::setStatusCode "Permalink to this definition")
Parameters:

* **$code** (`int`) – The HTTP status code
* **$reason** (`string`) – An optional reason phrase.

Returns:

The current Response instance

Return type:

`CodeIgniter\HTTP\Response`

Sets the HTTP status code that should be sent with this response:

```
<?php

$response->setStatusCode(404);

```

The reason phrase will be automatically generated based upon the official lists. If you need to set your own
for a custom status code, you can pass the reason phrase as the second parameter:

```
<?php

$response->setStatusCode(230, 'Tardis initiated');

```

getReasonPhrase()[](#CodeIgniter\HTTP\Response::getReasonPhrase "Permalink to this definition")
Returns:

The current reason phrase.

Return type:

`string`

Returns the current status code for this response. If not status has been set, will return an empty string:

```
<?php

echo $response->getReasonPhrase();

```

setDate(*$date*)[](#CodeIgniter\HTTP\Response::setDate "Permalink to this definition")
Parameters:

* **$date** (`DateTime`) – A DateTime instance with the time to set for this response.

Returns:

The current response instance.

Return type:

`CodeIgniter\HTTP\Response`

Sets the date used for this response. The `$date` argument must be an instance of `DateTime`.

setContentType(*$mime*[, *$charset='UTF-8'*])[](#CodeIgniter\HTTP\Response::setContentType "Permalink to this definition")
Parameters:

* **$mime** (`string`) – The content type this response represents.
* **$charset** (`string`) – The character set this response uses.

Returns:

The current response instance.

Return type:

`CodeIgniter\HTTP\Response`

Sets the content type this response represents:

```
<?php

$response->setContentType('text/plain');
$response->setContentType('text/html');
$response->setContentType('application/json');

```

By default, the method sets the character set to `UTF-8`. If you need to change this, you can
pass the character set as the second parameter:

```
<?php

$response->setContentType('text/plain', 'x-pig-latin');

```

noCache()[](#CodeIgniter\HTTP\Response::noCache "Permalink to this definition")
Returns:

The current response instance.

Return type:

`CodeIgniter\HTTP\Response`

Sets the `Cache-Control` header to turn off all HTTP caching. This is the default setting
of all response messages:

```
<?php

$response->noCache();
/*
 * Sets the following header:
 * Cache-Control: no-store, max-age=0, no-cache
 */

```

setCache(*$options*)[](#CodeIgniter\HTTP\Response::setCache "Permalink to this definition")
Parameters:

* **$options** (`array`) – An array of key/value cache control settings

Returns:

The current response instance.

Return type:

`CodeIgniter\HTTP\Response`

Sets the `Cache-Control` headers, including `ETags` and `Last-Modified`. Typical keys are:

* etag
* last-modified
* max-age
* s-maxage
* private
* public
* must-revalidate
* proxy-revalidate
* no-transform

When passing the last-modified option, it can be either a date string, or a DateTime object.

setLastModified(*$date*)[](#CodeIgniter\HTTP\Response::setLastModified "Permalink to this definition")
Parameters:

* **$date** (`string|DateTime`) – The date to set the Last-Modified header to

Returns:

The current response instance.

Return type:

`CodeIgniter\HTTP\Response`

Sets the `Last-Modified` header. The `$date` object can be either a string or a `DateTime`
instance:

```
<?php

$response->setLastModified(date('D, d M Y H:i:s'));
$response->setLastModified(\DateTime::createFromFormat('!U', $timestamp));

```

send() → Response[](#CodeIgniter\HTTP\Response::send "Permalink to this definition")
Returns:

The current response instance.

Return type:

`CodeIgniter\HTTP\Response`

Tells the response to send everything back to the client. This will first send the headers,
followed by the response body. For the main application response, you do not need to call
this as it is handled automatically by CodeIgniter.

setCookie(*$name = ''*[, *$value = ''*[, *$expire = 0*[, *$domain = ''*[, *$path = '/'*[, *$prefix = ''*[, *$secure = false*[, *$httponly = false*[, *$samesite = null*]]]]]]]])[](#CodeIgniter\HTTP\Response::setCookie "Permalink to this definition")
Parameters:

* **$name** (`array|Cookie|string`) – Cookie name *or* associative array of all of the parameters available to this method *or* an instance of `CodeIgniter\Cookie\Cookie`
* **$value** (`string`) – Cookie value
* **$expire** (`int`) – Cookie expiration time in seconds. If set to `0` the cookie will only last as long as the browser is open
* **$domain** (`string`) – Cookie domain
* **$path** (`string`) – Cookie path
* **$prefix** (`string`) – Cookie name prefix. If set to `''`, the default value from **app/Config/Cookie.php** will be used
* **$secure** (`bool`) – Whether to only transfer the cookie through HTTPS. If set to `null`, the default value from **app/Config/Cookie.php** will be used
* **$httponly** (`bool`) – Whether to only make the cookie accessible for HTTP requests (no JavaScript). If set to `null`, the default value from **app/Config/Cookie.php** will be used
* **$samesite** (`string`) – The value for the SameSite cookie parameter. If set to `''`, no SameSite attribute will be set on the cookie. If set to `null`, the default value from **app/Config/Cookie.php** will be used

Return type:

`void`

Note

Prior to v4.2.7, the default values of `$secure` and `$httponly` were `false`
due to a bug, and these values from **app/Config/Cookie.php** were never used.

Sets a cookie containing the values you specify to the Response instance.

There are two ways to
pass information to this method so that a cookie can be set: Array
Method, and Discrete Parameters:

**Array Method**

Using this method, an associative array is passed as the first
parameter:

```
<?php

$cookie = [
    'name'     => 'The Cookie Name',
    'value'    => 'The Value',
    'expire'   => 86500,
    'domain'   => '.some-domain.com',
    'path'     => '/',
    'prefix'   => 'myprefix_',
    'secure'   => true,
    'httponly' => false,
    'samesite' => 'Lax',
];

$response->setCookie($cookie);

```

Only the `name` and `value` are required. To delete a cookie set it with the
`value` blank.

The `expire` is set in **seconds**, which will be added to the current
time. Do not include the time, but rather only the number of seconds
from *now* that you wish the cookie to be valid. If the `expire` is
set to zero the cookie will only last as long as the browser is open.

Note

But if the `value` is set to empty string and the `expire` is set to `0`,
the cookie will be deleted.

For site-wide cookies regardless of how your site is requested, add your
URL to the `domain` starting with a period, like this:
.your-domain.com

The `path` is usually not needed since the method sets a root path.

The `prefix` is only needed if you need to avoid name collisions with
other identically named cookies for your server.

The `secure` flag is only needed if you want to make it a secure cookie
by setting it to `true`.

The `samesite` value controls how cookies are shared between domains and sub-domains.
Allowed values are `'None'`, `'Lax'`, `'Strict'` or a blank string `''`.
If set to blank string, default SameSite attribute will be set.

**Discrete Parameters**

If you prefer, you can set the cookie by passing data using individual
parameters:

```
<?php

$response->setCookie($name, $value, $expire, $domain, $path, $prefix, $secure, $httponly, $samesite);

```

deleteCookie(*$name = ''*[, *$domain = ''*[, *$path = '/'*[, *$prefix = ''*]]])[](#CodeIgniter\HTTP\Response::deleteCookie "Permalink to this definition")
Parameters:

* **$name** (`mixed`) – Cookie name or an array of parameters
* **$domain** (`string`) – Cookie domain
* **$path** (`string`) – Cookie path
* **$prefix** (`string`) – Cookie name prefix

Return type:

`void`

Delete an existing cookie.

Note

This also just sets browser cookie for deleting the cookie.

Only the `name` is required.

The `prefix` is only needed if you need to avoid name collisions with
other identically named cookies for your server.

Provide a `prefix` if cookies should only be deleted for that subset.
Provide a `domain` name if cookies should only be deleted for that domain.
Provide a `path` name if cookies should only be deleted for that path.

If any of the optional parameters are empty, then the same-named
cookie will be deleted across all that apply.

Example:

```
<?php

$response->deleteCookie($name);

```

hasCookie(*$name = ''*[, *$value = null*[, *$prefix = ''*]])[](#CodeIgniter\HTTP\Response::hasCookie "Permalink to this definition")
Parameters:

* **$name** (`mixed`) – Cookie name or an array of parameters
* **$value** (`string`) – cookie value
* **$prefix** (`string`) – Cookie name prefix

Return type:

`bool`

Checks to see if the Response has a specified cookie or not.

**Notes**

Only the `name` is required. If a `prefix` is specified, it will be prepended to the cookie name.

If no `value` is given, the method just checks for the existence of the named cookie.
If a `value` is given, then the method checks that the cookie exists, and that it
has the prescribed value.

Example:

```
<?php

if ($response->hasCookie($name)) {
    // ...
}

```

getCookie(*$name = ''*[, *$prefix = ''*])[](#CodeIgniter\HTTP\Response::getCookie "Permalink to this definition")
Parameters:

* **$name** (`string`) – Cookie name
* **$prefix** (`string`) – Cookie name prefix

Return type:

`Cookie|Cookie[]|null`

Returns the named cookie, if found, or `null`.
If no `name` is given, returns the array of `Cookie` objects.

Example:

```
<?php

$cookie = $response->getCookie($name);

```

getCookies()[](#CodeIgniter\HTTP\Response::getCookies "Permalink to this definition")
Return type:

`Cookie[]`

Returns all cookies currently set within the Response instance.
These are any cookies that you have specifically specified to set during the current
request only.

 [Previous](table.html "HTML Table Class")
[Next](api_responses.html "API Response Trait")

---

© Copyright 2019-2024 CodeIgniter Foundation.
Last updated on Dec 31, 2024.

Built with [Sphinx](https://www.sphinx-doc.org/) using a
[theme](https://github.com/readthedocs/sphinx_rtd_theme)
provided by [Read the Docs](https://readthedocs.org).



=== Content from codeigniter4.github.io_34a64434_20250108_113300.html ===

[![Logo](../_static/ci-logo-text.svg)](../index.html)

* [Welcome to CodeIgniter4](../intro/index.html)
  + [Welcome to CodeIgniter4](../intro/index.html)
  + [Server Requirements](../intro/requirements.html)
  + [Credits](../intro/credits.html)
  + [PSR Compliance](../intro/psr.html)
  + [License Agreement](../license.html)

* [Installation](../installation/index.html)
  + [Composer Installation](../installation/installing_composer.html)
  + [Manual Installation](../installation/installing_manual.html)
  + [Running Your App](../installation/running.html)
  + [Troubleshooting](../installation/troubleshooting.html)
  + [Deployment](../installation/deployment.html)
  + [Change Logs](../changelogs/index.html)
  + [Upgrading From a Previous Version](../installation/upgrading.html)
  + [CodeIgniter Repositories](../installation/repositories.html)

* [Build Your First Application](../tutorial/index.html)
  + [Static Pages](../tutorial/static_pages.html)
  + [News Section](../tutorial/news_section.html)
  + [Create News Items](../tutorial/create_news_items.html)
  + [Conclusion](../tutorial/conclusion.html)

* [CodeIgniter4 Overview](../concepts/index.html)
  + [Application Structure](../concepts/structure.html)
  + [Models, Views, and Controllers](../concepts/mvc.html)
  + [Autoloading Files](../concepts/autoloader.html)
  + [Services](../concepts/services.html)
  + [Factories](../concepts/factories.html)
  + [Working with HTTP Requests](../concepts/http.html)
  + [Security Guidelines](../concepts/security.html)
  + [Design and Architectural Goals](../concepts/goals.html)

* [General Topics](../general/index.html)
  + [Configuration](../general/configuration.html)
  + [CodeIgniter URLs](../general/urls.html)
  + [Helper Functions](../general/helpers.html)
  + [Global Functions and Constants](../general/common_functions.html)
  + [Logging Information](../general/logging.html)
  + [Error Handling](../general/errors.html)
  + [Web Page Caching](../general/caching.html)
  + [AJAX Requests](../general/ajax.html)
  + [Code Modules](../general/modules.html)
  + [Managing your Applications](../general/managing_apps.html)
  + [Handling Multiple Environments](../general/environments.html)

* [Controllers and Routing](../incoming/index.html)
  + [URI Routing](../incoming/routing.html)
  + [Controllers](../incoming/controllers.html)
  + [Controller Filters](../incoming/filters.html)
  + [HTTP Messages](../incoming/message.html)
  + [Request Class](../incoming/request.html)
  + [IncomingRequest Class](../incoming/incomingrequest.html)
  + [Content Negotiation](../incoming/content_negotiation.html)
  + [HTTP Method Spoofing](../incoming/methodspoofing.html)
  + [RESTful Resource Handling](../incoming/restful.html)

* [Building Responses](../outgoing/index.html)
  + [Views](../outgoing/views.html)
  + [View Renderer](../outgoing/view_renderer.html)
  + [View Layouts](../outgoing/view_layouts.html)
  + [View Cells](../outgoing/view_cells.html)
  + [View Parser](../outgoing/view_parser.html)
  + [View Decorators](../outgoing/view_decorators.html)
  + [HTML Table Class](../outgoing/table.html)
  + [HTTP Responses](../outgoing/response.html)
  + [API Response Trait](../outgoing/api_responses.html)
  + [Content Security Policy](../outgoing/csp.html)
  + [Localization](../outgoing/localization.html)
  + [Alternate PHP Syntax for View Files](../outgoing/alternative_php.html)

* [Working with Databases](../database/index.html)
  + [Quick Start: Usage Examples](../database/examples.html)
  + [Database Configuration](../database/configuration.html)
  + [Connecting to a Database](../database/connecting.html)
  + [Running Queries](../database/queries.html)
  + [Generating Query Results](../database/results.html)
  + [Query Helper Methods](../database/helpers.html)
  + [Query Builder Class](../database/query_builder.html)
  + [Transactions](../database/transactions.html)
  + [Getting Metadata](../database/metadata.html)
  + [Custom Function Calls](../database/call_function.html)
  + [Database Events](../database/events.html)
  + [Database Utilities](../database/utilities.html)

* [Modeling Data](../models/index.html)
  + [Using CodeIgniter's Model](../models/model.html)
  + [Using Entity Classes](../models/entities.html)

* [Managing Databases](../dbmgmt/index.html)
  + [Database Forge](../dbmgmt/forge.html)
  + [Database Migrations](../dbmgmt/migration.html)
  + [Database Seeding](../dbmgmt/seeds.html)
  + [Database Commands](../dbmgmt/db_commands.html)

* [Library Reference](../libraries/index.html)
  + [Caching Driver](../libraries/caching.html)
  + [Cookies](../libraries/cookies.html)
  + [Cross-Origin Resource Sharing (CORS)](../libraries/cors.html)
  + [CURLRequest Class](../libraries/curlrequest.html)
  + [Email Class](../libraries/email.html)
  + [Encryption Service](../libraries/encryption.html)
  + [Working with Files](../libraries/files.html)
  + [File Collections](../libraries/file_collections.html)
  + [Honeypot Class](../libraries/honeypot.html)
  + [Image Manipulation Class](../libraries/images.html)
  + [Pagination](../libraries/pagination.html)
  + [Publisher](../libraries/publisher.html)
  + [Security](../libraries/security.html)
  + [Session Library](../libraries/sessions.html)
  + [Throttler](../libraries/throttler.html)
  + [Times and Dates](../libraries/time.html)
  + [Typography](../libraries/typography.html)
  + [Working with Uploaded Files](../libraries/uploaded_files.html)
  + [Working with URIs](../libraries/uri.html)
  + [User Agent Class](../libraries/user_agent.html)
  + [Validation](../libraries/validation.html)

* [Helpers](index.html)
  + [Array Helper](array_helper.html)
  + Cookie Helper
  + [Date Helper](date_helper.html)
  + [Filesystem Helper](filesystem_helper.html)
  + [Form Helper](form_helper.html)
  + [HTML Helper](html_helper.html)
  + [Inflector Helper](inflector_helper.html)
  + [Number Helper](number_helper.html)
  + [Security Helper](security_helper.html)
  + [Test Helper](test_helper.html)
  + [Text Helper](text_helper.html)
  + [URL Helper](url_helper.html)
  + [XML Helper](xml_helper.html)

* [Testing](../testing/index.html)
  + [Getting Started](../testing/overview.html)
  + [Database](../testing/database.html)
  + [Generating Data](../testing/fabricator.html)
  + [Controller Testing](../testing/controllers.html)
  + [HTTP Testing](../testing/feature.html)
  + [Testing Responses](../testing/response.html)
  + [Testing CLI Commands](../testing/cli.html)
  + [Mocking](../testing/mocking.html)
  + [Benchmarking](../testing/benchmark.html)
  + [Debugging Your Application](../testing/debugging.html)

* [Command Line Usage](../cli/index.html)
  + [CLI Overview](../cli/cli_overview.html)
  + [Running Controllers via CLI](../cli/cli_controllers.html)
  + [Spark Commands](../cli/spark_commands.html)
  + [Creating Spark Commands](../cli/cli_commands.html)
  + [CLI Generators](../cli/cli_generators.html)
  + [CLI Library](../cli/cli_library.html)
  + [CLIRequest Class](../cli/cli_request.html)

* [Extending CodeIgniter](../extending/index.html)
  + [Creating Core System Classes](../extending/core_classes.html)
  + [Replacing Common Functions](../extending/common.html)
  + [Events](../extending/events.html)
  + [Extending the Controller](../extending/basecontroller.html)
  + [Authentication](../extending/authentication.html)
  + [Creating Composer Packages](../extending/composer_packages.html)
  + [Contributing to CodeIgniter](../extending/contributing.html)

* [Official Packages](../libraries/official_packages.html)

[CodeIgniter](../index.html)

* [Helpers](index.html)
* Cookie Helper

---

# Cookie Helper[](#cookie-helper "Permalink to this heading")

The Cookie Helper file contains functions that assist in working with
cookies.

* [Loading this Helper](#loading-this-helper)
* [Available Functions](#available-functions)

## [Loading this Helper](#id1)[](#loading-this-helper "Permalink to this heading")

This helper is loaded using the following code:

```
<?php

helper('cookie');

```

## [Available Functions](#id2)[](#available-functions "Permalink to this heading")

The following functions are available:

set\_cookie(*$name*[, *$value = ''*[, *$expire = 0*[, *$domain = ''*[, *$path = '/'*[, *$prefix = ''*[, *$secure = false*[, *$httpOnly = false*[, *$sameSite = ''*]]]]]]]])[](#set_cookie "Permalink to this definition")
Parameters:

* **$name** (`array|Cookie|string`) – Cookie name *or* associative array of all of the parameters available to this function *or* an instance of `CodeIgniter\Cookie\Cookie`
* **$value** (`string`) – Cookie value
* **$expire** (`int`) – Number of seconds until expiration. If set to `0` the cookie will only last as long as the browser is open
* **$domain** (`string`) – Cookie domain (usually: .yourdomain.com)
* **$path** (`string`) – Cookie path
* **$prefix** (`string`) – Cookie name prefix. If `''`, the default from **app/Config/Cookie.php** is used
* **$secure** (`bool`) – Whether to only send the cookie through HTTPS. If `null`, the default from **app/Config/Cookie.php** is used
* **$httpOnly** (`bool`) – Whether to hide the cookie from JavaScript. If `null`, the default from **app/Config/Cookie.php** is used
* **$sameSite** (`string`) – The value for the SameSite cookie parameter. If `null`, the default from **app/Config/Cookie.php** is used

Return type:

`void`

Note

Prior to v4.2.7, the default values of `$secure` and `$httpOnly` were `false`
due to a bug, and these values from **app/Config/Cookie.php** were never used.

This helper function gives you friendlier syntax to set browser
cookies. Refer to the [Response Library](../outgoing/response.html) for
a description of its use, as this function is an alias for
[`CodeIgniter\HTTP\Response::setCookie()`](../outgoing/response.html#CodeIgniter\HTTP\Response::setCookie "CodeIgniter\HTTP\Response::setCookie").

Note

This helper function just sets browser cookies to the global response
instance that `Services::response()` returns. So, if you create and
return another response instance (e.g., if you call [`redirect()`](../general/common_functions.html#redirect "redirect")),
the cookies set here will not be sent automatically.

get\_cookie(*$index*[, *$xssClean = false*[, *$prefix = ''*]])[](#get_cookie "Permalink to this definition")
Parameters:

* **$index** (`string`) – Cookie name
* **$xssClean** (`bool`) – Whether to apply XSS filtering to the returned value
* **$prefix** (`string|null`) – Cookie name prefix. If set to `''`, the default value from **app/Config/Cookie.php** will be used. If set to `null`, no prefix

Returns:

The cookie value or null if not found

Return type:

`mixed`

Note

Since v4.2.1, the third parameter `$prefix` has been introduced and the behavior has been changed a bit due to a bug fix. See [Upgrading](../installation/upgrade_421.html#upgrade-421-get-cookie) for details.

This helper function gives you friendlier syntax to get browser
cookies. Refer to the [IncomingRequest Library](../incoming/incomingrequest.html) for
detailed description of its use, as this function acts very
similarly to [`CodeIgniter\HTTP\IncomingRequest::getCookie()`](../incoming/incomingrequest.html#CodeIgniter\HTTP\IncomingRequest::getCookie "CodeIgniter\HTTP\IncomingRequest::getCookie"),
except it will also prepend
the `Config\Cookie::$prefix` that you might’ve set in your
**app/Config/Cookie.php** file.

Warning

Using XSS filtering is a bad practice. It does not prevent XSS attacks perfectly. Using [`esc()`](../general/common_functions.html#esc "esc") with the correct `$context` in the views is recommended.

delete\_cookie(*$name*[, *$domain = ''*[, *$path = '/'*[, *$prefix = ''*]]])[](#delete_cookie "Permalink to this definition")
Parameters:

* **$name** (`string`) – Cookie name
* **$domain** (`string`) – Cookie domain (usually: .yourdomain.com)
* **$path** (`string`) – Cookie path
* **$prefix** (`string`) – Cookie name prefix

Return type:

`void`

Lets you delete a cookie. Unless you’ve set a custom path or other
values, only the name of the cookie is needed.

```
<?php

delete_cookie('name');

```

This function is otherwise identical to [`set_cookie()`](#set_cookie "set_cookie"), except that it
does not have the `value` and `expire` parameters.

This also just sets browser cookies for deleting the cookies to the global
response instance that `Services::response()` returns.

Note

When you use [`set_cookie()`](#set_cookie "set_cookie"),
if the `value` is set to empty string and the `expire` is set to `0`, the cookie will be deleted.
If the `value` is set to non-empty string and the `expire` is set to `0`, the cookie will only last as long as the browser is open.

You can submit an
array of values in the first parameter or you can set discrete
parameters.

```
<?php

delete_cookie($name, $domain, $path, $prefix);

```

has\_cookie(*string $name*[, *?string $value = null*[, *string $prefix = ''*]])[](#has_cookie "Permalink to this definition")
Parameters:

* **$name** (`string`) – Cookie name
* **$value** (`string|null`) – Cookie value
* **$prefix** (`string`) – Cookie prefix

Return type:

`bool`

Checks if a cookie exists by name in the global response instance that
`Services::response()` returns. This is an alias of
[`CodeIgniter\HTTP\Response::hasCookie()`](../outgoing/response.html#CodeIgniter\HTTP\Response::hasCookie "CodeIgniter\HTTP\Response::hasCookie").

 [Previous](array_helper.html "Array Helper")
[Next](date_helper.html "Date Helper")

---

© Copyright 2019-2024 CodeIgniter Foundation.
Last updated on Dec 31, 2024.

Built with [Sphinx](https://www.sphinx-doc.org/) using a
[theme](https://github.com/readthedocs/sphinx_rtd_theme)
provided by [Read the Docs](https://readthedocs.org).



=== Content from github.com_503e7dec_20250108_113303.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fpull%2F6544)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fpull%2F6544)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=codeigniter4%2FCodeIgniter4)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[codeigniter4](/codeigniter4)
/
**[CodeIgniter4](/codeigniter4/CodeIgniter4)**
Public

* [Notifications](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4) You must be signed in to change notification settings
* [Fork
  1.9k](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4)
* [Star
   5.5k](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4)

* [Code](/codeigniter4/CodeIgniter4)
* [Issues
  72](/codeigniter4/CodeIgniter4/issues)
* [Pull requests
  16](/codeigniter4/CodeIgniter4/pulls)
* [Actions](/codeigniter4/CodeIgniter4/actions)
* [Projects
  0](/codeigniter4/CodeIgniter4/projects)
* [Security](/codeigniter4/CodeIgniter4/security)
* [Insights](/codeigniter4/CodeIgniter4/pulse)

Additional navigation options

* [Code](/codeigniter4/CodeIgniter4)
* [Issues](/codeigniter4/CodeIgniter4/issues)
* [Pull requests](/codeigniter4/CodeIgniter4/pulls)
* [Actions](/codeigniter4/CodeIgniter4/actions)
* [Projects](/codeigniter4/CodeIgniter4/projects)
* [Security](/codeigniter4/CodeIgniter4/security)
* [Insights](/codeigniter4/CodeIgniter4/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# fix: set\_cookie() does not use Config\Cookie values #6544

 Merged

[kenjis](/kenjis)
merged 6 commits into
[codeigniter4:develop](/codeigniter4/CodeIgniter4/tree/develop "codeigniter4/CodeIgniter4:develop")
from
[kenjis:fix-set-cookie](/kenjis/CodeIgniter4/tree/fix-set-cookie "kenjis/CodeIgniter4:fix-set-cookie")

Sep 20, 2022

 Merged

# [fix: set\_cookie() does not use Config\Cookie values](#top) #6544

[kenjis](/kenjis)
merged 6 commits into
[codeigniter4:develop](/codeigniter4/CodeIgniter4/tree/develop "codeigniter4/CodeIgniter4:develop")
from
[kenjis:fix-set-cookie](/kenjis/CodeIgniter4/tree/fix-set-cookie "kenjis/CodeIgniter4:fix-set-cookie")

Sep 20, 2022

[Conversation
6](/codeigniter4/CodeIgniter4/pull/6544)
[Commits
6](/codeigniter4/CodeIgniter4/pull/6544/commits)
[Checks
0](/codeigniter4/CodeIgniter4/pull/6544/checks)
[Files changed](/codeigniter4/CodeIgniter4/pull/6544/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![kenjis](https://avatars.githubusercontent.com/u/87955?s=60&v=4)](/kenjis)

Copy link

Member

### @kenjis **[kenjis](/kenjis)** commented [Sep 15, 2022](#issue-1374266708) • edited Loading

**Description**

Fixes [#6540](https://github.com/codeigniter4/CodeIgniter4/issues/6540)

**Checklist:**

* Securely signed commits
* Component(s) with PHPDoc blocks, only if necessary or adds value
* Unit testing, with >80% coverage
* User guide updated
* Conforms to style guide

Sorry, something went wrong.

All reactions

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
added
[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them
[breaking change](/codeigniter4/CodeIgniter4/labels/breaking%20change)
Pull requests that may break existing functionalities
labels
[Sep 15, 2022](#event-7393449052)

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
mentioned this pull request
[Sep 15, 2022](#ref-issue-1373176564)

[Bug: set\_cookie not using default value of $secure from config
#6540](/codeigniter4/CodeIgniter4/issues/6540)

Closed

[![MGatner](https://avatars.githubusercontent.com/u/17572847?s=60&v=4)](/MGatner)

**[MGatner](/MGatner)**
approved these changes
[Sep 15, 2022](#pullrequestreview-1108929655)

 [View reviewed changes](/codeigniter4/CodeIgniter4/pull/6544/files)

Copy link

Member

### @MGatner **[MGatner](/MGatner)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Yikes. Should this merit a security advisory?

Sorry, something went wrong.

 👍
1
 datamweb reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

 [kenjis](/kenjis)
added 3 commits
[September 16, 2022 11:53](#commits-pushed-47ab7c5)

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)

`[fix: set_cookie() does not use Config\Cookie values](/codeigniter4/CodeIgniter4/pull/6544/commits/47ab7c5acc90a2bf40d32fbdc539d01bce8c3ad1 "fix: set_cookie() does not use Config\Cookie values")`

`[47ab7c5](/codeigniter4/CodeIgniter4/pull/6544/commits/47ab7c5acc90a2bf40d32fbdc539d01bce8c3ad1)`

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)

`[test: update $response->setCookie() test](/codeigniter4/CodeIgniter4/pull/6544/commits/7a30b75acc14cb9ebb0f1d516d1a1f35c3118fa4 "test: update $response->setCookie() test")`

`[7a30b75](/codeigniter4/CodeIgniter4/pull/6544/commits/7a30b75acc14cb9ebb0f1d516d1a1f35c3118fa4)`

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)

`[test: add test](/codeigniter4/CodeIgniter4/pull/6544/commits/7e92bc476a60212282ba90e05eb8c98e7769939d "test: add test")`

`[7e92bc4](/codeigniter4/CodeIgniter4/pull/6544/commits/7e92bc476a60212282ba90e05eb8c98e7769939d)`

 [![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
[force-pushed](/codeigniter4/CodeIgniter4/compare/a0be8756b0379ca18dcdbecc7863bfe2d74f2327..97e2bb7dbe5a974932d2c8387a8a75f9486ffadc)
the
fix-set-cookie

branch
4 times, most recently
from
[`a0be875`](/codeigniter4/CodeIgniter4/commit/a0be8756b0379ca18dcdbecc7863bfe2d74f2327) to
[`97e2bb7`](/codeigniter4/CodeIgniter4/commit/97e2bb7dbe5a974932d2c8387a8a75f9486ffadc)  [Compare](/codeigniter4/CodeIgniter4/compare/a0be8756b0379ca18dcdbecc7863bfe2d74f2327..97e2bb7dbe5a974932d2c8387a8a75f9486ffadc)
[September 16, 2022 08:42](#event-7401295005)

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)

`[docs: add user guide](/codeigniter4/CodeIgniter4/pull/6544/commits/4a19fdad5caad06ca97140ea75570bb7732b0243 "docs: add user guide")`

`[4a19fda](/codeigniter4/CodeIgniter4/pull/6544/commits/4a19fdad5caad06ca97140ea75570bb7732b0243)`

 [![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
[force-pushed](/codeigniter4/CodeIgniter4/compare/97e2bb7dbe5a974932d2c8387a8a75f9486ffadc..4a19fdad5caad06ca97140ea75570bb7732b0243)
the
fix-set-cookie

branch
from
[`97e2bb7`](/codeigniter4/CodeIgniter4/commit/97e2bb7dbe5a974932d2c8387a8a75f9486ffadc) to
[`4a19fda`](/codeigniter4/CodeIgniter4/commit/4a19fdad5caad06ca97140ea75570bb7732b0243)  [Compare](/codeigniter4/CodeIgniter4/compare/97e2bb7dbe5a974932d2c8387a8a75f9486ffadc..4a19fdad5caad06ca97140ea75570bb7732b0243)
[September 16, 2022 09:21](#event-7401580041)

[![MGatner](https://avatars.githubusercontent.com/u/17572847?s=60&v=4)](/MGatner)

**[MGatner](/MGatner)**
approved these changes
[Sep 16, 2022](#pullrequestreview-1110461845)

 [View reviewed changes](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243)

[![samsonasik](https://avatars.githubusercontent.com/u/459648?s=60&v=4)](/samsonasik)

**[samsonasik](/samsonasik)**
reviewed
[Sep 18, 2022](#pullrequestreview-1111568401)

 [View reviewed changes](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243)

[system/HTTP/ResponseTrait.php](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243#diff-349b19ee5875d4d6167ced15992f89ee545d741f53c0cc2a4adafdf1915b9ba9)
Outdated

Show resolved

Hide resolved

[![samsonasik](https://avatars.githubusercontent.com/u/459648?s=60&v=4)](/samsonasik)

**[samsonasik](/samsonasik)**
reviewed
[Sep 18, 2022](#pullrequestreview-1111568556)

 [View reviewed changes](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243)

[tests/system/HTTP/ResponseCookieTest.php](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243#diff-12526d5332505a54d01c82c7d75fe367f0ebe2aef6ff0b08886847a31613bc66)
Outdated

Show resolved

Hide resolved

[![samsonasik](https://avatars.githubusercontent.com/u/459648?s=60&v=4)](/samsonasik)

**[samsonasik](/samsonasik)**
reviewed
[Sep 18, 2022](#pullrequestreview-1111568587)

 [View reviewed changes](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243)

[tests/system/HTTP/ResponseCookieTest.php](/codeigniter4/CodeIgniter4/pull/6544/files/4a19fdad5caad06ca97140ea75570bb7732b0243#diff-12526d5332505a54d01c82c7d75fe367f0ebe2aef6ff0b08886847a31613bc66)
Outdated

Show resolved

Hide resolved

 [kenjis](/kenjis)
and others
added 2 commits
[September 19, 2022 07:13](#commits-pushed-620b389)

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis) [![@samsonasik](https://avatars.githubusercontent.com/u/459648?s=40&v=4)](/samsonasik)

`[refactor: add instanceof](/codeigniter4/CodeIgniter4/pull/6544/commits/620b3893a13568231e02f5722a36feccf56546ff "refactor: add instanceof

Co-authored-by: Abdul Malik Ikhsan <samsonasik@gmail.com>")`
 …

`[620b389](/codeigniter4/CodeIgniter4/pull/6544/commits/620b3893a13568231e02f5722a36feccf56546ff)`

```
Co-authored-by: Abdul Malik Ikhsan <samsonasik@gmail.com>
```

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)

`[docs: use classname alias](/codeigniter4/CodeIgniter4/pull/6544/commits/295525347de5391bc597037072742b17587bd244 "docs: use classname alias")`

`[2955253](/codeigniter4/CodeIgniter4/pull/6544/commits/295525347de5391bc597037072742b17587bd244)`

[![samsonasik](https://avatars.githubusercontent.com/u/459648?s=60&v=4)](/samsonasik)

**[samsonasik](/samsonasik)**
approved these changes
[Sep 19, 2022](#pullrequestreview-1111615362)

 [View reviewed changes](/codeigniter4/CodeIgniter4/pull/6544/files/295525347de5391bc597037072742b17587bd244)

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
merged commit [`5a0f1e3`](/codeigniter4/CodeIgniter4/commit/5a0f1e38c515d0e7ab640f5cfb54c61f1d131275)
into
codeigniter4:develop

[Sep 20, 2022](https://github.com/codeigniter4/CodeIgniter4/pull/6544#event-7418052694)

 [![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
deleted the
fix-set-cookie

branch
[September 20, 2022 01:50](#event-7418052810)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fpull%2F6544)

Reviewers

[![@MGatner](https://avatars.githubusercontent.com/u/17572847?s=40&v=4)](/MGatner) [MGatner](/MGatner)

MGatner approved these changes

[![@samsonasik](https://avatars.githubusercontent.com/u/459648?s=40&v=4)](/samsonasik) [samsonasik](/samsonasik)

samsonasik approved these changes

Assignees

No one assigned

Labels

[breaking change](/codeigniter4/CodeIgniter4/labels/breaking%20change)
Pull requests that may break existing functionalities
[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [Bug: set\_cookie not using default value of $secure from config](https://github.com/codeigniter4/CodeIgniter4/issues/6540)

3 participants

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=52&v=4)](/kenjis) [![@samsonasik](https://avatars.githubusercontent.com/u/459648?s=52&v=4)](/samsonasik) [![@MGatner](https://avatars.githubusercontent.com/u/17572847?s=52&v=4)](/MGatner)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_77436b75_20250108_113302.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2F6540)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2F6540)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=codeigniter4%2FCodeIgniter4)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[codeigniter4](/codeigniter4)
/
**[CodeIgniter4](/codeigniter4/CodeIgniter4)**
Public

* [Notifications](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4) You must be signed in to change notification settings
* [Fork
  1.9k](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4)
* [Star
   5.5k](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4)

* [Code](/codeigniter4/CodeIgniter4)
* [Issues
  72](/codeigniter4/CodeIgniter4/issues)
* [Pull requests
  16](/codeigniter4/CodeIgniter4/pulls)
* [Actions](/codeigniter4/CodeIgniter4/actions)
* [Projects
  0](/codeigniter4/CodeIgniter4/projects)
* [Security](/codeigniter4/CodeIgniter4/security)
* [Insights](/codeigniter4/CodeIgniter4/pulse)

Additional navigation options

* [Code](/codeigniter4/CodeIgniter4)
* [Issues](/codeigniter4/CodeIgniter4/issues)
* [Pull requests](/codeigniter4/CodeIgniter4/pulls)
* [Actions](/codeigniter4/CodeIgniter4/actions)
* [Projects](/codeigniter4/CodeIgniter4/projects)
* [Security](/codeigniter4/CodeIgniter4/security)
* [Insights](/codeigniter4/CodeIgniter4/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Bug: set\_cookie not using default value of $secure from config #6540

Closed

[hamzawain7](/hamzawain7) opened this issue
Sep 14, 2022
· 6 comments
 · Fixed by [#6544](https://github.com/codeigniter4/CodeIgniter4/pull/6544)

Closed

# [Bug: set\_cookie not using default value of $secure from config](#top) #6540

[hamzawain7](/hamzawain7) opened this issue
Sep 14, 2022
· 6 comments
 · Fixed by [#6544](https://github.com/codeigniter4/CodeIgniter4/pull/6544)

Labels
[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them

## Comments

[![@hamzawain7](https://avatars.githubusercontent.com/u/20171624?s=80&u=7c1437e2c704bc018658b82883fc26b1cea7ec35&v=4)](/hamzawain7)

Copy link

### **[hamzawain7](/hamzawain7)** commented [Sep 14, 2022](#issue-1373176564) • edited by kenjis Loading

| PHP Version 7.4 CodeIgniter4 Version 4.2.6 CodeIgniter4 Installation Method Manual (zip or tar.gz) Which operating systems have you tested for this bug? macOS Which server did you use? apache Database *No response* What happened? set\_cookie function in Helpers/cookie\_helper.php is not using the default value $secure i specified in app/Config/Cookie.php.  This used to work in CI3 because I think the default value of $secure param of set\_cookie function used to be null which later on fallback to default.\*\*\*\* Steps to Reproduce  1. Set public $secure = true in /app/Config/Cookie.php' 2. Call the helper function set\_cookie    ```         helper('cookie');         set_cookie([             'name' => 'pmw',             'value' => 2,             'samesite' => 'None',         ]);    ``` 3. CookieException::forInvalidSameSiteNone() is thrown although $secure was suppose to be true  Expected Output No exception Anything else? *No response* |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@hamzawain7](https://avatars.githubusercontent.com/u/20171624?s=40&u=7c1437e2c704bc018658b82883fc26b1cea7ec35&v=4)](/hamzawain7)
[hamzawain7](/hamzawain7)
added
the
[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them
label
[Sep 14, 2022](#event-7386951510)

[![@ddevsr](https://avatars.githubusercontent.com/u/97607754?s=80&u=922bb8e98abd77e50acb7b88fb23fc296d991f7e&v=4)](/ddevsr)

Copy link

Collaborator

### **[ddevsr](/ddevsr)** commented [Sep 15, 2022](#issuecomment-1247469359) • edited Loading

| You must set variable secure to true, by default function set\_cookie `secure = false`  ``` set_cookie([          'name' => 'pmw',          'value' => 2,          'secure' => true,          'samesite' => 'None', ]); ```  If you want create cookie with default config (see <https://codeigniter.com/user_guide/libraries/cookies.html#creating-cookies>) or you can using `set_cookie` helper  ``` $cookieConfig = config('cookie');   set_cookie([            'name'     => 'pmw',            'value'    => 2,            'expire'   => $cookieConfig->expires,            'domain'   => $cookieConfig->domain,            'path'     => $cookieConfig->path,            'prefix'   => $cookieConfig->prefix,            'secure'   => $cookieConfig->secure,            'httponly' => $cookieConfig->httponly,            'samesite' => $cookieConfig->samesite, ]); ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@hamzawain7](https://avatars.githubusercontent.com/u/20171624?s=80&u=7c1437e2c704bc018658b82883fc26b1cea7ec35&v=4)](/hamzawain7)

Copy link

Author

### **[hamzawain7](/hamzawain7)** commented [Sep 15, 2022](#issuecomment-1247668393)

| set\_cookie function uses new Cookie in its implementation which makes it get the default value of "domain", "samesite" and other non bool config values, but doesn't for "secure". Isn't that inconsistency? Won't it better for all of them to fallback to values in config? |
| --- |

All reactions

Sorry, something went wrong.

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
added
[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them
and removed
[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them
labels
[Sep 15, 2022](#event-7392172000)

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=80&v=4)](/kenjis)

Copy link

Member

### **[kenjis](/kenjis)** commented [Sep 15, 2022](#issuecomment-1247696115) • edited Loading

| When constructing the Cookie object, only the name attribute is required. All other else are optional. If the optional attributes are not modified, their values will be filled up by the default values saved in the Cookie class. To override the defaults currently stored in the class, you can pass a Config\Cookie instance or an array of defaults to the static Cookie::setDefaults() method. <https://codeigniter4.github.io/CodeIgniter4/libraries/cookies.html#creating-cookies>  Reading the user guide, I think the values in the Config file should be used for unspecified items. |
| --- |

All reactions

Sorry, something went wrong.

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=80&v=4)](/kenjis)

Copy link

Member

### **[kenjis](/kenjis)** commented [Sep 15, 2022](#issuecomment-1247733068) • edited Loading

| This used to work in CI3 because I think the default value of $secure param of set\_cookie function used to be null which later on fallback to default.  Exactly. <https://github.com/bcit-ci/CodeIgniter/blob/9b8f2b7a8405acd1b8ad5956ada3d84472b1e8ae/system/helpers/cookie_helper.php#L71>  Ref,   [CodeIgniter4/system/Helpers/cookie\_helper.php](https://github.com/codeigniter4/CodeIgniter4/blob/354b43ab90b76a4f5c15292963bc402a12caa775/system/Helpers/cookie_helper.php#L39-L49)  Lines 39 to 49 in [354b43a](/codeigniter4/CodeIgniter4/commit/354b43ab90b76a4f5c15292963bc402a12caa775)   |  | function set\_cookie( | | --- | --- | |  | $name, | |  | string $value = '', | |  | string $expire = '', | |  | string $domain = '', | |  | string $path = '/', | |  | string $prefix = '', | |  | bool $secure = false, | |  | bool $httpOnly = false, | |  | ?string $sameSite = null | |  | ) { | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

All reactions

Sorry, something went wrong.

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=80&v=4)](/kenjis)

Copy link

Member

### **[kenjis](/kenjis)** commented [Sep 15, 2022](#issuecomment-1247774733)

| This seems the first commit: <https://github.com/codeigniter4/CodeIgniter4/pull/241/files#diff-1ee301297e39aa12b421d2ad72d266269f4fc8fe56c01c366fbcdf16056a942dR82> However, no reason is given for the change in behavior from CI3. |
| --- |

All reactions

Sorry, something went wrong.

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
mentioned this issue
[Sep 15, 2022](#ref-pullrequest-1374266708)

[fix: set\_cookie() does not use Config\Cookie values
#6544](/codeigniter4/CodeIgniter4/pull/6544)
 Merged

5 tasks

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=80&v=4)](/kenjis)

Copy link

Member

### **[kenjis](/kenjis)** commented [Sep 15, 2022](#issuecomment-1247879426)

| I sent a PR: [#6544](https://github.com/codeigniter4/CodeIgniter4/pull/6544) |
| --- |

All reactions

Sorry, something went wrong.

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=40&v=4)](/kenjis)
[kenjis](/kenjis)
closed this as [completed](/codeigniter4/CodeIgniter4/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#6544](/codeigniter4/CodeIgniter4/pull/6544)
[Sep 20, 2022](#event-7418052740)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fcodeigniter4%2FCodeIgniter4%2Fissues%2F6540)

Assignees

No one assigned

Labels

[bug](/codeigniter4/CodeIgniter4/labels/bug)
Verified issues on the current code behavior or pull requests that will fix them

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [fix: set\_cookie() does not use Config\Cookie values](/codeigniter4/CodeIgniter4/pull/6544)
 [kenjis/CodeIgniter4](/kenjis/CodeIgniter4)

3 participants

[![@kenjis](https://avatars.githubusercontent.com/u/87955?s=52&v=4)](/kenjis) [![@hamzawain7](https://avatars.githubusercontent.com/u/20171624?s=52&v=4)](/hamzawain7) [![@ddevsr](https://avatars.githubusercontent.com/u/97607754?s=52&v=4)](/ddevsr)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


