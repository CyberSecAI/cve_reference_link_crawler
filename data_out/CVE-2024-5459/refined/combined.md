=== Content from plugins.trac.wordpress.org_41f329c1_20250110_230045.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffood-and-drink-menu%2Ftrunk%2Fincludes%2Fclass-installation-walkthrough.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403 "Revision 2679403")
* Next Revision →
* [Blame](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

---

# [source:](/browser?order=name "Go to repository root") [food-and-drink-menu](/browser/food-and-drink-menu?order=name "View food-and-drink-menu")/[trunk](/browser/food-and-drink-menu/trunk?order=name "View trunk")/[includes](/browser/food-and-drink-menu/trunk/includes?order=name "View includes")/[class-installation-walkthrough.php](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?order=name "View class-installation-walkthrough.php")

View diff against:

View revision:

| [Last change](/changeset/3097599/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php "View differences") on this file was [3097599](/changeset/3097599/ "View changeset 3097599"), checked in by Rustaurius, [7 months ago](/timeline?from=2024-06-04T19%3A52%3A29Z&precision=second "See timeline at 06/04/2024 07:52:29 PM") |
| --- |
| v2.4.17 released and tagged |
| **File size:** 13.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* Class to handle everything related to the walk-through that runs on plugin activation |
| [5](#L5) | \*/ |
| [6](#L6) |  |
| [7](#L7) | if ( !defined( 'ABSPATH' ) ) |
| [8](#L8) | exit; |
| [9](#L9) |  |
| [10](#L10) | class fdmInstallationWalkthrough { |
| [11](#L11) |  |
| [12](#L12) | public function \_\_construct() { |
| [13](#L13) |  |
| [14](#L14) | add\_action( 'admin\_menu', array($this, 'register\_install\_screen' )); |
| [15](#L15) | add\_action( 'admin\_head', array($this, 'hide\_install\_screen\_menu\_item' )); |
| [16](#L16) | add\_action( 'admin\_init', array($this, 'redirect'), 9999); |
| [17](#L17) |  |
| [18](#L18) | add\_action('admin\_head', array($this, 'admin\_enqueue')); |
| [19](#L19) |  |
| [20](#L20) | add\_action('wp\_ajax\_fdm\_welcome\_add\_section', array($this, 'add\_section')); |
| [21](#L21) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_item', array($this, 'add\_menu\_item')); |
| [22](#L22) | add\_action('wp\_ajax\_fdm\_welcome\_create\_menu', array($this, 'add\_menu')); |
| [23](#L23) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_page', array($this, 'add\_menu\_page')); |
| [24](#L24) | } |
| [25](#L25) |  |
| [26](#L26) | public function redirect() { |
| [27](#L27) |  |
| [28](#L28) | if ( ! get\_transient( 'fdm-getting-started' ) ) |
| [29](#L29) | return; |
| [30](#L30) |  |
| [31](#L31) | delete\_transient( 'fdm-getting-started' ); |
| [32](#L32) |  |
| [33](#L33) | if ( is\_network\_admin() || isset( $\_GET['activate-multi'] ) ) |
| [34](#L34) | return; |
| [35](#L35) |  |
| [36](#L36) | $menu\_items = get\_posts(array('post\_type' => 'fdm-menu-item')); |
| [37](#L37) | if (!empty($menu\_items)) { |
| [38](#L38) | set\_transient('fdm-admin-install-notice', true, 5); |
| [39](#L39) | return; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | wp\_safe\_redirect( admin\_url( 'index.php?page=fdm-getting-started' ) ); |
| [43](#L43) | exit; |
| [44](#L44) | } |
| [45](#L45) |  |
| [46](#L46) | public function register\_install\_screen() { |
| [47](#L47) |  |
| [48](#L48) | add\_dashboard\_page( |
| [49](#L49) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [50](#L50) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [51](#L51) | 'manage\_options', |
| [52](#L52) | 'fdm-getting-started', |
| [53](#L53) | array($this, 'display\_install\_screen') |
| [54](#L54) | ); |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | public function hide\_install\_screen\_menu\_item() { |
| [58](#L58) |  |
| [59](#L59) | remove\_submenu\_page( 'index.php', 'fdm-getting-started' ); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | public function add\_section() { |
| [63](#L63) |  |
| [64](#L64) | // Authenticate request |
| [65](#L65) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [66](#L66) |  |
| [67](#L67) | fdmHelper::admin\_nopriv\_ajax(); |
| [68](#L68) | } |
| [69](#L69) |  |
| [70](#L70) | $section\_name = (isset($\_POST['section\_name']) ? sanitize\_text\_field( $\_POST['section\_name'] ) : ''); |
| [71](#L71) | $section\_description = (isset($\_POST['section\_description']) ? sanitize\_text\_field( $\_POST['section\_description'] ) : ''); |
| [72](#L72) |  |
| [73](#L73) | $section\_term\_ids = wp\_insert\_term( $section\_name, 'fdm-menu-section', array('description' => $section\_description) ); |
| [74](#L74) |  |
| [75](#L75) | echo json\_encode(array('section\_name' => $section\_name, 'section\_id' => $section\_term\_ids['term\_id'])); |
| [76](#L76) |  |
| [77](#L77) | exit(); |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | public function add\_menu\_item() { |
| [81](#L81) |  |
| [82](#L82) | // Authenticate request |
| [83](#L83) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [84](#L84) |  |
| [85](#L85) | fdmHelper::admin\_nopriv\_ajax(); |
| [86](#L86) | } |
| [87](#L87) |  |
| [88](#L88) | $menu\_item\_post\_id = wp\_insert\_post(array( |
| [89](#L89) | 'post\_title' => isset( $\_POST['item\_name'] ) ? sanitize\_text\_field( $\_POST['item\_name'] ) : '', |
| [90](#L90) | 'post\_content' => isset( $\_POST['item\_description'] ) ? sanitize\_text\_field( $\_POST['item\_description'] ) : '', |
| [91](#L91) | 'post\_status' => 'publish', |
| [92](#L92) | 'post\_type' => FDM\_MENUITEM\_POST\_TYPE |
| [93](#L93) | )); |
| [94](#L94) |  |
| [95](#L95) | update\_post\_meta ($menu\_item\_post\_id, 'fdm\_item\_price', sanitize\_text\_field( $\_POST['item\_price'] ) ); |
| [96](#L96) |  |
| [97](#L97) | if ( isset($\_POST['item\_image']) and $\_POST['item\_image'] ) { |
| [98](#L98) |  |
| [99](#L99) | set\_post\_thumbnail( $menu\_item\_post\_id, attachment\_url\_to\_postid( $\_POST['item\_image'] ) ); |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) | if ( isset( $\_POST['item\_section'] ) and $\_POST['item\_section'] ) { |
| [103](#L103) |  |
| [104](#L104) | $section = get\_term( sanitize\_text\_field( $\_POST['item\_section'] ), 'fdm-menu-section'); |
| [105](#L105) | wp\_set\_post\_terms($menu\_item\_post\_id, $section->name, 'fdm-menu-section'); |
| [106](#L106) | } |
| [107](#L107) |  |
| [108](#L108) | exit(); |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | public function add\_menu() { |
| [112](#L112) |  |
| [113](#L113) | // Authenticate request |
| [114](#L114) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [115](#L115) |  |
| [116](#L116) | fdmHelper::admin\_nopriv\_ajax(); |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | $menu\_post\_id = wp\_insert\_post(array( |
| [120](#L120) | 'post\_title' => isset( $\_POST['menu\_name'] ) ? sanitize\_text\_field( $\_POST['menu\_name'] ) : '', |
| [121](#L121) | 'post\_content' => isset( $\_POST['menu\_description'] ) ? sanitize\_text\_field( $\_POST['menu\_description'] ) : '', |
| [122](#L122) | 'post\_status' => 'publish', |
| [123](#L123) | 'post\_type' => FDM\_MENU\_POST\_TYPE |
| [124](#L124) | )); |
| [125](#L125) |  |
| [126](#L126) | $sections = isset( $\_POST['sections'] ) ? json\_decode( sanitize\_text\_field( $\_POST['sections'] ) ) : array(); |
| [127](#L127) |  |
| [128](#L128) | if ( empty( $sections ) ) { |
| [129](#L129) | $section\_objects = get\_terms( array( 'hide\_empty' => false, 'taxonomy' => 'fdm-menu-section' ) ); |
| [130](#L130) |  |
| [131](#L131) | $sections\_string = ''; |
| [132](#L132) |  |
| [133](#L133) | foreach ( $section\_objects as $section\_object ) { $sections\_string .= ( strlen($sections\_string) ? ',' : '' ) . $section\_object->term\_id; } |
| [134](#L134) | } |
| [135](#L135) | else { |
| [136](#L136) | $sections\_string = implode(",", $sections); |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | update\_post\_meta( $menu\_post\_id, 'fdm\_menu\_column\_one', $sections\_string); |
| [140](#L140) |  |
| [141](#L141) | exit(); |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | public function add\_menu\_page() { |
| [145](#L145) |  |
| [146](#L146) | // Authenticate request |
| [147](#L147) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [148](#L148) |  |
| [149](#L149) | fdmHelper::admin\_nopriv\_ajax(); |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | $menu\_posts = get\_posts( array( 'post\_type' => FDM\_MENU\_POST\_TYPE ) ); |
| [153](#L153) | $menu = reset($menu\_posts); |
| [154](#L154) |  |
| [155](#L155) | $post\_content = $menu ? "<!-- wp:paragraph --><p> [fdm-menu id='" . $menu->ID . "'] </p><!-- /wp:paragraph -->" : ''; |
| [156](#L156) |  |
| [157](#L157) | wp\_insert\_post(array( |
| [158](#L158) | 'post\_title' => isset( $\_POST['menu\_page\_title'] ) ? sanitize\_text\_field( $\_POST['menu\_page\_title'] ) : '', |
| [159](#L159) | 'post\_content' => $post\_content, |
| [160](#L160) | 'post\_status' => 'publish', |
| [161](#L161) | 'post\_type' => 'page' |
| [162](#L162) | )); |
| [163](#L163) |  |
| [164](#L164) | exit(); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | function admin\_enqueue() { |
| [168](#L168) |  |
| [169](#L169) | if ( isset( $\_GET['page'] ) && $\_GET['page'] == 'fdm-getting-started' ) { |
| [170](#L170) |  |
| [171](#L171) | wp\_enqueue\_style( 'fdm-welcome-screen', FDM\_PLUGIN\_URL . '/assets/css/admin-fdm-welcome-screen.css', array(), FDM\_VERSION ); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | wp\_enqueue\_media(); |
| [175](#L175) |  |
| [176](#L176) | wp\_enqueue\_script( 'fdm-getting-started', FDM\_PLUGIN\_URL . '/assets/js/admin-fdm-welcome-screen.js', array('jquery'), FDM\_VERSION ); |
| [177](#L177) | wp\_enqueue\_script( 'fdm-uploader', FDM\_PLUGIN\_URL . '/assets/js/admin-wp-fdm-uploader.js', array('jquery'), FDM\_VERSION ); |
| [178](#L178) |  |
| [179](#L179) | wp\_localize\_script( |
| [180](#L180) | 'fdm-getting-started', |
| [181](#L181) | 'fdm\_getting\_started', |
| [182](#L182) | array( |
| [183](#L183) | 'nonce' => wp\_create\_nonce( 'fdm-getting-started' ) |
| [184](#L184) | ) |
| [185](#L185) | ); |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) | public function display\_install\_screen() { ?> |
| [189](#L189) | <div class='fdm-welcome-screen'> |
| [190](#L190) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [191](#L191) | <div class='fdm-welcome-screen-header'> |
| [192](#L192) | <h1><?php \_e('Welcome to the Five-Star Restaurant Menu Plugin', 'food-and-drink-menu'); ?></h1> |
| [193](#L193) | <p><?php \_e('Thanks for choosing the Five-Star Restaurant Menu! The following will help you get started with the setup of your menu by creating your first sections, menu items and menu page, as well as configuring a few key options.', 'food-and-drink-menu'); ?></p> |
| [194](#L194) | </div> |
| [195](#L195) | <?php } ?> |
| [196](#L196) |  |
| [197](#L197) | <div class='fdm-welcome-screen-box fdm-welcome-screen-sections fdm-welcome-screen-open' data-screen='sections'> |
| [198](#L198) | <h2><?php \_e('1. Create Sections', 'food-and-drink-menu'); ?></h2> |
| [199](#L199) | <div class='fdm-welcome-screen-box-content'> |
| [200](#L200) | <p><?php \_e('Sections let you organize your menu in a way that is easy for you - and your customers - to find (like "Drinks", "Appetizers", etc.).', 'food-and-drink-menu'); ?></p> |
| [201](#L201) | <div class='fdm-welcome-screen-created-sections'> |
| [202](#L202) | <div class='fdm-welcome-screen-add-section-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [203](#L203) | <div class='fdm-welcome-screen-add-section-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [204](#L204) | <div class='fdm-welcome-screen-add-section-button'><?php \_e('Add Section', 'food-and-drink-menu'); ?></div> |
| [205](#L205) | <div class="fdm-welcome-clear"></div> |
| [206](#L206) | <div class="fdm-welcome-screen-show-created-sections"> |
| [207](#L207) | <h3><?php \_e('Created Sections:', 'food-and-drink-menu'); ?></h3> |
| [208](#L208) | <div class="fdm-welcome-screen-show-created-sections-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [209](#L209) | <div class="fdm-welcome-screen-show-created-sections-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [210](#L210) | </div> |
| [211](#L211) | </div> |
| [212](#L212) | <div class='fdm-welcome-screen-next-button fdm-welcome-screen-next-button-not-top-margin' data-nextaction='menu\_items'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [213](#L213) | <div class='clear'></div> |
| [214](#L214) | </div> |
| [215](#L215) | </div> |
| [216](#L216) |  |
| [217](#L217) | <div class='fdm-welcome-screen-box fdm-welcome-screen-menu\_items' data-screen='menu\_items'> |
| [218](#L218) | <h2><?php \_e('2. Add Menu Items', 'food-and-drink-menu'); ?></h2> |
| [219](#L219) | <div class='fdm-welcome-screen-box-content'> |
| [220](#L220) | <div class='fdm-welcome-screen-created-menu\_items'> |
| [221](#L221) | <div class='fdm-welcome-screen-add-menu\_item-image fdm-welcome-screen-box-content-divs'> |
| [222](#L222) | <label><?php \_e('Image:', 'food-and-drink-menu'); ?></label> |
| [223](#L223) | <div class='fdm-welcome-screen-image-preview-container'> |
| [224](#L224) | <div class='fdm-hidden fdm-welcome-screen-image-preview'> |
| [225](#L225) | <img /> |
| [226](#L226) | </div> |
| [227](#L227) | <input type='hidden' name='menu\_item\_image\_url' /> |
| [228](#L228) | <input id="Welcome\_Item\_Image\_button" class="button" type="button" value="Upload Image" /> |
| [229](#L229) | </div> |
| [230](#L230) | </div> |
| [231](#L231) | <div class='fdm-welcome-screen-add-menu\_item-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [232](#L232) | <div class='fdm-welcome-screen-add-menu\_item-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [233](#L233) | <div class='fdm-welcome-screen-add-menu\_item-section fdm-welcome-screen-box-content-divs'><label><?php \_e('Section:', 'food-and-drink-menu'); ?></label><select></select></div> |
| [234](#L234) | <div class='fdm-welcome-screen-add-menu\_item-price fdm-welcome-screen-box-content-divs'><label><?php \_e('Price:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [235](#L235) | <div class='fdm-welcome-screen-add-menu\_item-button'><?php \_e('Add Item', 'food-and-drink-menu'); ?></div> |
| [236](#L236) | <div class="fdm-welcome-clear"></div> |
| [237](#L237) | <div class="fdm-welcome-screen-show-created-menu\_items"> |
| [238](#L238) | <h3><?php \_e('Created Items:', 'food-and-drink-menu'); ?></h3> |
| [239](#L239) | <div class="fdm-welcome-screen-show-created-menu\_items-image"><?php \_e('Image', 'food-and-drink-menu'); ?></div> |
| [240](#L240) | <div class="fdm-welcome-screen-show-created-menu\_items-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [241](#L241) | <div class="fdm-welcome-screen-show-created-menu\_items-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [242](#L242) | <div class="fdm-welcome-screen-show-created-menu\_items-price"><?php \_e('Price', 'food-and-drink-menu'); ?></div> |
| [243](#L243) | </div> |
| [244](#L244) | </div> |
| [245](#L245) | <div class="fdm-welcome-clear"></div> |
| [246](#L246) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [247](#L247) | <div class='fdm-welcome-screen-next-button' data-nextaction='create\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [248](#L248) | <?php } else { ?> |
| [249](#L249) | <div class='fdm-welcome-screen-finish-button' data-link='edit.php?post\_type=fdm-menu'><?php \_e('Save and Continue', 'food-and-drink-menu'); ?></div> |
| [250](#L250) | <?php } ?> |
| [251](#L251) | <div class='fdm-welcome-screen-previous-button' data-previousaction='sections'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [252](#L252) | <div class='clear'></div> |
| [253](#L253) | </div> |
| [254](#L254) | </div> |
| [255](#L255) |  |
| [256](#L256) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [257](#L257) |  |
| [258](#L258) | <div class='fdm-welcome-screen-box fdm-welcome-screen-create\_menu' data-screen='create\_menu'> |
| [259](#L259) | <h2><?php \_e('3. Create a Menu', 'food-and-drink-menu'); ?></h2> |
| [260](#L260) | <div class='fdm-welcome-screen-box-content'> |
| [261](#L261) | <p><?php \_e('You can make multiple menus, but one menu with all of your sections is a great place to start.', 'food-and-drink-menu'); ?></p> |
| [262](#L262) | <div class='fdm-welcome-screen-create\_menu'> |
| [263](#L263) | <div class='fdm-welcome-screen-add-create\_menu-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Menu Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [264](#L264) | <div class='fdm-welcome-screen-add-create\_menu-sections'><h3><?php \_e('Sections:', 'food-and-drink-menu'); ?></h3><br /></div> |
| [265](#L265) | <div class='fdm-welcome-screen-add-create\_menu-button'><?php \_e('Create Menu', 'food-and-drink-menu'); ?></div> |
| [266](#L266) | </div> |
| [267](#L267) | <div class="fdm-welcome-clear"></div> |
| [268](#L268) | <div class='fdm-welcome-screen-next-button' data-nextaction='display\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [269](#L269) | <div class='fdm-welcome-screen-previous-button' data-previousaction='menu\_items'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [270](#L270) | <div class='clear'></div> |
| [271](#L271) | </div> |
| [272](#L272) | </div> |
| [273](#L273) |  |
| [274](#L274) | <div class='fdm-welcome-screen-box fdm-welcome-screen-display\_menu' data-screen='display\_menu'> |
| [275](#L275) | <h2><?php \_e('4. Add a Menu Page', 'food-and-drink-menu'); ?></h2> |
| [276](#L276) | <div class='fdm-welcome-screen-box-content'> |
| [277](#L277) | <p><?php \_e('You can create a dedicated menu page below, or skip this step and add your menu to a page you\'ve already created manually.', 'food-and-drink-menu'); ?></p> |
| [278](#L278) | <div class='fdm-welcome-screen-menu-page'> |
| [279](#L279) | <div class='fdm-welcome-screen-add-menu-page-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Page Title:', 'food-and-drink-menu'); ?></label><input type='text' value='Menu' /></div> |
| [280](#L280) | <div class='fdm-welcome-screen-add-menu-page-button'><?php \_e('Create Page', 'food-and-drink-menu'); ?></div> |
| [281](#L281) | </div> |
| [282](#L282) | <div class="fdm-welcome-clear"></div> |
| [283](#L283) | <div class='fdm-welcome-screen-previous-button' data-previousaction='create\_menu'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [284](#L284) | <div class='fdm-welcome-screen-finish-button'><a href='edit.php?post\_type=fdm-menu'><?php \_e('Finish', 'food-and-drink-menu'); ?></a></div> |
| [285](#L285) | <div class='clear'></div> |
| [286](#L286) | </div> |
| [287](#L287) | </div> |
| [288](#L288) |  |
| [289](#L289) | <div class='fdm-welcome-screen-skip-container'> |
| [290](#L290) | <a href='edit.php?post\_type=fdm-menu'><div class='fdm-welcome-screen-skip-button'><?php \_e('Skip Setup', 'food-and-drink-menu'); ?></div></a> |
| [291](#L291) | </div> |
| [292](#L292) |  |
| [293](#L293) | <?php } ?> |
| [294](#L294) |  |
| [295](#L295) | </div> |
| [296](#L296) | <?php } |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) |  |
| [300](#L300) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?format=txt)
* [Original Format](/export/3220488/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_dcbc06a2_20250110_230045.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffood-and-drink-menu%2Ftrunk%2Fincludes%2Fclass-installation-walkthrough.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403 "Revision 2679403")
* Next Revision →
* [Blame](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

---

# [source:](/browser?order=name "Go to repository root") [food-and-drink-menu](/browser/food-and-drink-menu?order=name "View food-and-drink-menu")/[trunk](/browser/food-and-drink-menu/trunk?order=name "View trunk")/[includes](/browser/food-and-drink-menu/trunk/includes?order=name "View includes")/[class-installation-walkthrough.php](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?order=name "View class-installation-walkthrough.php")

View diff against:

View revision:

| [Last change](/changeset/3097599/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php "View differences") on this file was [3097599](/changeset/3097599/ "View changeset 3097599"), checked in by Rustaurius, [7 months ago](/timeline?from=2024-06-04T19%3A52%3A29Z&precision=second "See timeline at 06/04/2024 07:52:29 PM") |
| --- |
| v2.4.17 released and tagged |
| **File size:** 13.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* Class to handle everything related to the walk-through that runs on plugin activation |
| [5](#L5) | \*/ |
| [6](#L6) |  |
| [7](#L7) | if ( !defined( 'ABSPATH' ) ) |
| [8](#L8) | exit; |
| [9](#L9) |  |
| [10](#L10) | class fdmInstallationWalkthrough { |
| [11](#L11) |  |
| [12](#L12) | public function \_\_construct() { |
| [13](#L13) |  |
| [14](#L14) | add\_action( 'admin\_menu', array($this, 'register\_install\_screen' )); |
| [15](#L15) | add\_action( 'admin\_head', array($this, 'hide\_install\_screen\_menu\_item' )); |
| [16](#L16) | add\_action( 'admin\_init', array($this, 'redirect'), 9999); |
| [17](#L17) |  |
| [18](#L18) | add\_action('admin\_head', array($this, 'admin\_enqueue')); |
| [19](#L19) |  |
| [20](#L20) | add\_action('wp\_ajax\_fdm\_welcome\_add\_section', array($this, 'add\_section')); |
| [21](#L21) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_item', array($this, 'add\_menu\_item')); |
| [22](#L22) | add\_action('wp\_ajax\_fdm\_welcome\_create\_menu', array($this, 'add\_menu')); |
| [23](#L23) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_page', array($this, 'add\_menu\_page')); |
| [24](#L24) | } |
| [25](#L25) |  |
| [26](#L26) | public function redirect() { |
| [27](#L27) |  |
| [28](#L28) | if ( ! get\_transient( 'fdm-getting-started' ) ) |
| [29](#L29) | return; |
| [30](#L30) |  |
| [31](#L31) | delete\_transient( 'fdm-getting-started' ); |
| [32](#L32) |  |
| [33](#L33) | if ( is\_network\_admin() || isset( $\_GET['activate-multi'] ) ) |
| [34](#L34) | return; |
| [35](#L35) |  |
| [36](#L36) | $menu\_items = get\_posts(array('post\_type' => 'fdm-menu-item')); |
| [37](#L37) | if (!empty($menu\_items)) { |
| [38](#L38) | set\_transient('fdm-admin-install-notice', true, 5); |
| [39](#L39) | return; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | wp\_safe\_redirect( admin\_url( 'index.php?page=fdm-getting-started' ) ); |
| [43](#L43) | exit; |
| [44](#L44) | } |
| [45](#L45) |  |
| [46](#L46) | public function register\_install\_screen() { |
| [47](#L47) |  |
| [48](#L48) | add\_dashboard\_page( |
| [49](#L49) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [50](#L50) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [51](#L51) | 'manage\_options', |
| [52](#L52) | 'fdm-getting-started', |
| [53](#L53) | array($this, 'display\_install\_screen') |
| [54](#L54) | ); |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | public function hide\_install\_screen\_menu\_item() { |
| [58](#L58) |  |
| [59](#L59) | remove\_submenu\_page( 'index.php', 'fdm-getting-started' ); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | public function add\_section() { |
| [63](#L63) |  |
| [64](#L64) | // Authenticate request |
| [65](#L65) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [66](#L66) |  |
| [67](#L67) | fdmHelper::admin\_nopriv\_ajax(); |
| [68](#L68) | } |
| [69](#L69) |  |
| [70](#L70) | $section\_name = (isset($\_POST['section\_name']) ? sanitize\_text\_field( $\_POST['section\_name'] ) : ''); |
| [71](#L71) | $section\_description = (isset($\_POST['section\_description']) ? sanitize\_text\_field( $\_POST['section\_description'] ) : ''); |
| [72](#L72) |  |
| [73](#L73) | $section\_term\_ids = wp\_insert\_term( $section\_name, 'fdm-menu-section', array('description' => $section\_description) ); |
| [74](#L74) |  |
| [75](#L75) | echo json\_encode(array('section\_name' => $section\_name, 'section\_id' => $section\_term\_ids['term\_id'])); |
| [76](#L76) |  |
| [77](#L77) | exit(); |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | public function add\_menu\_item() { |
| [81](#L81) |  |
| [82](#L82) | // Authenticate request |
| [83](#L83) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [84](#L84) |  |
| [85](#L85) | fdmHelper::admin\_nopriv\_ajax(); |
| [86](#L86) | } |
| [87](#L87) |  |
| [88](#L88) | $menu\_item\_post\_id = wp\_insert\_post(array( |
| [89](#L89) | 'post\_title' => isset( $\_POST['item\_name'] ) ? sanitize\_text\_field( $\_POST['item\_name'] ) : '', |
| [90](#L90) | 'post\_content' => isset( $\_POST['item\_description'] ) ? sanitize\_text\_field( $\_POST['item\_description'] ) : '', |
| [91](#L91) | 'post\_status' => 'publish', |
| [92](#L92) | 'post\_type' => FDM\_MENUITEM\_POST\_TYPE |
| [93](#L93) | )); |
| [94](#L94) |  |
| [95](#L95) | update\_post\_meta ($menu\_item\_post\_id, 'fdm\_item\_price', sanitize\_text\_field( $\_POST['item\_price'] ) ); |
| [96](#L96) |  |
| [97](#L97) | if ( isset($\_POST['item\_image']) and $\_POST['item\_image'] ) { |
| [98](#L98) |  |
| [99](#L99) | set\_post\_thumbnail( $menu\_item\_post\_id, attachment\_url\_to\_postid( $\_POST['item\_image'] ) ); |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) | if ( isset( $\_POST['item\_section'] ) and $\_POST['item\_section'] ) { |
| [103](#L103) |  |
| [104](#L104) | $section = get\_term( sanitize\_text\_field( $\_POST['item\_section'] ), 'fdm-menu-section'); |
| [105](#L105) | wp\_set\_post\_terms($menu\_item\_post\_id, $section->name, 'fdm-menu-section'); |
| [106](#L106) | } |
| [107](#L107) |  |
| [108](#L108) | exit(); |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | public function add\_menu() { |
| [112](#L112) |  |
| [113](#L113) | // Authenticate request |
| [114](#L114) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [115](#L115) |  |
| [116](#L116) | fdmHelper::admin\_nopriv\_ajax(); |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | $menu\_post\_id = wp\_insert\_post(array( |
| [120](#L120) | 'post\_title' => isset( $\_POST['menu\_name'] ) ? sanitize\_text\_field( $\_POST['menu\_name'] ) : '', |
| [121](#L121) | 'post\_content' => isset( $\_POST['menu\_description'] ) ? sanitize\_text\_field( $\_POST['menu\_description'] ) : '', |
| [122](#L122) | 'post\_status' => 'publish', |
| [123](#L123) | 'post\_type' => FDM\_MENU\_POST\_TYPE |
| [124](#L124) | )); |
| [125](#L125) |  |
| [126](#L126) | $sections = isset( $\_POST['sections'] ) ? json\_decode( sanitize\_text\_field( $\_POST['sections'] ) ) : array(); |
| [127](#L127) |  |
| [128](#L128) | if ( empty( $sections ) ) { |
| [129](#L129) | $section\_objects = get\_terms( array( 'hide\_empty' => false, 'taxonomy' => 'fdm-menu-section' ) ); |
| [130](#L130) |  |
| [131](#L131) | $sections\_string = ''; |
| [132](#L132) |  |
| [133](#L133) | foreach ( $section\_objects as $section\_object ) { $sections\_string .= ( strlen($sections\_string) ? ',' : '' ) . $section\_object->term\_id; } |
| [134](#L134) | } |
| [135](#L135) | else { |
| [136](#L136) | $sections\_string = implode(",", $sections); |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | update\_post\_meta( $menu\_post\_id, 'fdm\_menu\_column\_one', $sections\_string); |
| [140](#L140) |  |
| [141](#L141) | exit(); |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | public function add\_menu\_page() { |
| [145](#L145) |  |
| [146](#L146) | // Authenticate request |
| [147](#L147) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [148](#L148) |  |
| [149](#L149) | fdmHelper::admin\_nopriv\_ajax(); |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | $menu\_posts = get\_posts( array( 'post\_type' => FDM\_MENU\_POST\_TYPE ) ); |
| [153](#L153) | $menu = reset($menu\_posts); |
| [154](#L154) |  |
| [155](#L155) | $post\_content = $menu ? "<!-- wp:paragraph --><p> [fdm-menu id='" . $menu->ID . "'] </p><!-- /wp:paragraph -->" : ''; |
| [156](#L156) |  |
| [157](#L157) | wp\_insert\_post(array( |
| [158](#L158) | 'post\_title' => isset( $\_POST['menu\_page\_title'] ) ? sanitize\_text\_field( $\_POST['menu\_page\_title'] ) : '', |
| [159](#L159) | 'post\_content' => $post\_content, |
| [160](#L160) | 'post\_status' => 'publish', |
| [161](#L161) | 'post\_type' => 'page' |
| [162](#L162) | )); |
| [163](#L163) |  |
| [164](#L164) | exit(); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | function admin\_enqueue() { |
| [168](#L168) |  |
| [169](#L169) | if ( isset( $\_GET['page'] ) && $\_GET['page'] == 'fdm-getting-started' ) { |
| [170](#L170) |  |
| [171](#L171) | wp\_enqueue\_style( 'fdm-welcome-screen', FDM\_PLUGIN\_URL . '/assets/css/admin-fdm-welcome-screen.css', array(), FDM\_VERSION ); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | wp\_enqueue\_media(); |
| [175](#L175) |  |
| [176](#L176) | wp\_enqueue\_script( 'fdm-getting-started', FDM\_PLUGIN\_URL . '/assets/js/admin-fdm-welcome-screen.js', array('jquery'), FDM\_VERSION ); |
| [177](#L177) | wp\_enqueue\_script( 'fdm-uploader', FDM\_PLUGIN\_URL . '/assets/js/admin-wp-fdm-uploader.js', array('jquery'), FDM\_VERSION ); |
| [178](#L178) |  |
| [179](#L179) | wp\_localize\_script( |
| [180](#L180) | 'fdm-getting-started', |
| [181](#L181) | 'fdm\_getting\_started', |
| [182](#L182) | array( |
| [183](#L183) | 'nonce' => wp\_create\_nonce( 'fdm-getting-started' ) |
| [184](#L184) | ) |
| [185](#L185) | ); |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) | public function display\_install\_screen() { ?> |
| [189](#L189) | <div class='fdm-welcome-screen'> |
| [190](#L190) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [191](#L191) | <div class='fdm-welcome-screen-header'> |
| [192](#L192) | <h1><?php \_e('Welcome to the Five-Star Restaurant Menu Plugin', 'food-and-drink-menu'); ?></h1> |
| [193](#L193) | <p><?php \_e('Thanks for choosing the Five-Star Restaurant Menu! The following will help you get started with the setup of your menu by creating your first sections, menu items and menu page, as well as configuring a few key options.', 'food-and-drink-menu'); ?></p> |
| [194](#L194) | </div> |
| [195](#L195) | <?php } ?> |
| [196](#L196) |  |
| [197](#L197) | <div class='fdm-welcome-screen-box fdm-welcome-screen-sections fdm-welcome-screen-open' data-screen='sections'> |
| [198](#L198) | <h2><?php \_e('1. Create Sections', 'food-and-drink-menu'); ?></h2> |
| [199](#L199) | <div class='fdm-welcome-screen-box-content'> |
| [200](#L200) | <p><?php \_e('Sections let you organize your menu in a way that is easy for you - and your customers - to find (like "Drinks", "Appetizers", etc.).', 'food-and-drink-menu'); ?></p> |
| [201](#L201) | <div class='fdm-welcome-screen-created-sections'> |
| [202](#L202) | <div class='fdm-welcome-screen-add-section-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [203](#L203) | <div class='fdm-welcome-screen-add-section-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [204](#L204) | <div class='fdm-welcome-screen-add-section-button'><?php \_e('Add Section', 'food-and-drink-menu'); ?></div> |
| [205](#L205) | <div class="fdm-welcome-clear"></div> |
| [206](#L206) | <div class="fdm-welcome-screen-show-created-sections"> |
| [207](#L207) | <h3><?php \_e('Created Sections:', 'food-and-drink-menu'); ?></h3> |
| [208](#L208) | <div class="fdm-welcome-screen-show-created-sections-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [209](#L209) | <div class="fdm-welcome-screen-show-created-sections-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [210](#L210) | </div> |
| [211](#L211) | </div> |
| [212](#L212) | <div class='fdm-welcome-screen-next-button fdm-welcome-screen-next-button-not-top-margin' data-nextaction='menu\_items'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [213](#L213) | <div class='clear'></div> |
| [214](#L214) | </div> |
| [215](#L215) | </div> |
| [216](#L216) |  |
| [217](#L217) | <div class='fdm-welcome-screen-box fdm-welcome-screen-menu\_items' data-screen='menu\_items'> |
| [218](#L218) | <h2><?php \_e('2. Add Menu Items', 'food-and-drink-menu'); ?></h2> |
| [219](#L219) | <div class='fdm-welcome-screen-box-content'> |
| [220](#L220) | <div class='fdm-welcome-screen-created-menu\_items'> |
| [221](#L221) | <div class='fdm-welcome-screen-add-menu\_item-image fdm-welcome-screen-box-content-divs'> |
| [222](#L222) | <label><?php \_e('Image:', 'food-and-drink-menu'); ?></label> |
| [223](#L223) | <div class='fdm-welcome-screen-image-preview-container'> |
| [224](#L224) | <div class='fdm-hidden fdm-welcome-screen-image-preview'> |
| [225](#L225) | <img /> |
| [226](#L226) | </div> |
| [227](#L227) | <input type='hidden' name='menu\_item\_image\_url' /> |
| [228](#L228) | <input id="Welcome\_Item\_Image\_button" class="button" type="button" value="Upload Image" /> |
| [229](#L229) | </div> |
| [230](#L230) | </div> |
| [231](#L231) | <div class='fdm-welcome-screen-add-menu\_item-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [232](#L232) | <div class='fdm-welcome-screen-add-menu\_item-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [233](#L233) | <div class='fdm-welcome-screen-add-menu\_item-section fdm-welcome-screen-box-content-divs'><label><?php \_e('Section:', 'food-and-drink-menu'); ?></label><select></select></div> |
| [234](#L234) | <div class='fdm-welcome-screen-add-menu\_item-price fdm-welcome-screen-box-content-divs'><label><?php \_e('Price:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [235](#L235) | <div class='fdm-welcome-screen-add-menu\_item-button'><?php \_e('Add Item', 'food-and-drink-menu'); ?></div> |
| [236](#L236) | <div class="fdm-welcome-clear"></div> |
| [237](#L237) | <div class="fdm-welcome-screen-show-created-menu\_items"> |
| [238](#L238) | <h3><?php \_e('Created Items:', 'food-and-drink-menu'); ?></h3> |
| [239](#L239) | <div class="fdm-welcome-screen-show-created-menu\_items-image"><?php \_e('Image', 'food-and-drink-menu'); ?></div> |
| [240](#L240) | <div class="fdm-welcome-screen-show-created-menu\_items-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [241](#L241) | <div class="fdm-welcome-screen-show-created-menu\_items-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [242](#L242) | <div class="fdm-welcome-screen-show-created-menu\_items-price"><?php \_e('Price', 'food-and-drink-menu'); ?></div> |
| [243](#L243) | </div> |
| [244](#L244) | </div> |
| [245](#L245) | <div class="fdm-welcome-clear"></div> |
| [246](#L246) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [247](#L247) | <div class='fdm-welcome-screen-next-button' data-nextaction='create\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [248](#L248) | <?php } else { ?> |
| [249](#L249) | <div class='fdm-welcome-screen-finish-button' data-link='edit.php?post\_type=fdm-menu'><?php \_e('Save and Continue', 'food-and-drink-menu'); ?></div> |
| [250](#L250) | <?php } ?> |
| [251](#L251) | <div class='fdm-welcome-screen-previous-button' data-previousaction='sections'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [252](#L252) | <div class='clear'></div> |
| [253](#L253) | </div> |
| [254](#L254) | </div> |
| [255](#L255) |  |
| [256](#L256) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [257](#L257) |  |
| [258](#L258) | <div class='fdm-welcome-screen-box fdm-welcome-screen-create\_menu' data-screen='create\_menu'> |
| [259](#L259) | <h2><?php \_e('3. Create a Menu', 'food-and-drink-menu'); ?></h2> |
| [260](#L260) | <div class='fdm-welcome-screen-box-content'> |
| [261](#L261) | <p><?php \_e('You can make multiple menus, but one menu with all of your sections is a great place to start.', 'food-and-drink-menu'); ?></p> |
| [262](#L262) | <div class='fdm-welcome-screen-create\_menu'> |
| [263](#L263) | <div class='fdm-welcome-screen-add-create\_menu-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Menu Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [264](#L264) | <div class='fdm-welcome-screen-add-create\_menu-sections'><h3><?php \_e('Sections:', 'food-and-drink-menu'); ?></h3><br /></div> |
| [265](#L265) | <div class='fdm-welcome-screen-add-create\_menu-button'><?php \_e('Create Menu', 'food-and-drink-menu'); ?></div> |
| [266](#L266) | </div> |
| [267](#L267) | <div class="fdm-welcome-clear"></div> |
| [268](#L268) | <div class='fdm-welcome-screen-next-button' data-nextaction='display\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [269](#L269) | <div class='fdm-welcome-screen-previous-button' data-previousaction='menu\_items'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [270](#L270) | <div class='clear'></div> |
| [271](#L271) | </div> |
| [272](#L272) | </div> |
| [273](#L273) |  |
| [274](#L274) | <div class='fdm-welcome-screen-box fdm-welcome-screen-display\_menu' data-screen='display\_menu'> |
| [275](#L275) | <h2><?php \_e('4. Add a Menu Page', 'food-and-drink-menu'); ?></h2> |
| [276](#L276) | <div class='fdm-welcome-screen-box-content'> |
| [277](#L277) | <p><?php \_e('You can create a dedicated menu page below, or skip this step and add your menu to a page you\'ve already created manually.', 'food-and-drink-menu'); ?></p> |
| [278](#L278) | <div class='fdm-welcome-screen-menu-page'> |
| [279](#L279) | <div class='fdm-welcome-screen-add-menu-page-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Page Title:', 'food-and-drink-menu'); ?></label><input type='text' value='Menu' /></div> |
| [280](#L280) | <div class='fdm-welcome-screen-add-menu-page-button'><?php \_e('Create Page', 'food-and-drink-menu'); ?></div> |
| [281](#L281) | </div> |
| [282](#L282) | <div class="fdm-welcome-clear"></div> |
| [283](#L283) | <div class='fdm-welcome-screen-previous-button' data-previousaction='create\_menu'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [284](#L284) | <div class='fdm-welcome-screen-finish-button'><a href='edit.php?post\_type=fdm-menu'><?php \_e('Finish', 'food-and-drink-menu'); ?></a></div> |
| [285](#L285) | <div class='clear'></div> |
| [286](#L286) | </div> |
| [287](#L287) | </div> |
| [288](#L288) |  |
| [289](#L289) | <div class='fdm-welcome-screen-skip-container'> |
| [290](#L290) | <a href='edit.php?post\_type=fdm-menu'><div class='fdm-welcome-screen-skip-button'><?php \_e('Skip Setup', 'food-and-drink-menu'); ?></div></a> |
| [291](#L291) | </div> |
| [292](#L292) |  |
| [293](#L293) | <?php } ?> |
| [294](#L294) |  |
| [295](#L295) | </div> |
| [296](#L296) | <?php } |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) |  |
| [300](#L300) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?format=txt)
* [Original Format](/export/3220488/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_0f6e67aa_20250110_230044.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffood-and-drink-menu%2Ftrunk%2Fincludes%2Fclass-installation-walkthrough.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403 "Revision 2679403")
* Next Revision →
* [Blame](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

---

# [source:](/browser?order=name "Go to repository root") [food-and-drink-menu](/browser/food-and-drink-menu?order=name "View food-and-drink-menu")/[trunk](/browser/food-and-drink-menu/trunk?order=name "View trunk")/[includes](/browser/food-and-drink-menu/trunk/includes?order=name "View includes")/[class-installation-walkthrough.php](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?order=name "View class-installation-walkthrough.php")

View diff against:

View revision:

| [Last change](/changeset/3097599/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php "View differences") on this file was [3097599](/changeset/3097599/ "View changeset 3097599"), checked in by Rustaurius, [7 months ago](/timeline?from=2024-06-04T19%3A52%3A29Z&precision=second "See timeline at 06/04/2024 07:52:29 PM") |
| --- |
| v2.4.17 released and tagged |
| **File size:** 13.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* Class to handle everything related to the walk-through that runs on plugin activation |
| [5](#L5) | \*/ |
| [6](#L6) |  |
| [7](#L7) | if ( !defined( 'ABSPATH' ) ) |
| [8](#L8) | exit; |
| [9](#L9) |  |
| [10](#L10) | class fdmInstallationWalkthrough { |
| [11](#L11) |  |
| [12](#L12) | public function \_\_construct() { |
| [13](#L13) |  |
| [14](#L14) | add\_action( 'admin\_menu', array($this, 'register\_install\_screen' )); |
| [15](#L15) | add\_action( 'admin\_head', array($this, 'hide\_install\_screen\_menu\_item' )); |
| [16](#L16) | add\_action( 'admin\_init', array($this, 'redirect'), 9999); |
| [17](#L17) |  |
| [18](#L18) | add\_action('admin\_head', array($this, 'admin\_enqueue')); |
| [19](#L19) |  |
| [20](#L20) | add\_action('wp\_ajax\_fdm\_welcome\_add\_section', array($this, 'add\_section')); |
| [21](#L21) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_item', array($this, 'add\_menu\_item')); |
| [22](#L22) | add\_action('wp\_ajax\_fdm\_welcome\_create\_menu', array($this, 'add\_menu')); |
| [23](#L23) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_page', array($this, 'add\_menu\_page')); |
| [24](#L24) | } |
| [25](#L25) |  |
| [26](#L26) | public function redirect() { |
| [27](#L27) |  |
| [28](#L28) | if ( ! get\_transient( 'fdm-getting-started' ) ) |
| [29](#L29) | return; |
| [30](#L30) |  |
| [31](#L31) | delete\_transient( 'fdm-getting-started' ); |
| [32](#L32) |  |
| [33](#L33) | if ( is\_network\_admin() || isset( $\_GET['activate-multi'] ) ) |
| [34](#L34) | return; |
| [35](#L35) |  |
| [36](#L36) | $menu\_items = get\_posts(array('post\_type' => 'fdm-menu-item')); |
| [37](#L37) | if (!empty($menu\_items)) { |
| [38](#L38) | set\_transient('fdm-admin-install-notice', true, 5); |
| [39](#L39) | return; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | wp\_safe\_redirect( admin\_url( 'index.php?page=fdm-getting-started' ) ); |
| [43](#L43) | exit; |
| [44](#L44) | } |
| [45](#L45) |  |
| [46](#L46) | public function register\_install\_screen() { |
| [47](#L47) |  |
| [48](#L48) | add\_dashboard\_page( |
| [49](#L49) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [50](#L50) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [51](#L51) | 'manage\_options', |
| [52](#L52) | 'fdm-getting-started', |
| [53](#L53) | array($this, 'display\_install\_screen') |
| [54](#L54) | ); |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | public function hide\_install\_screen\_menu\_item() { |
| [58](#L58) |  |
| [59](#L59) | remove\_submenu\_page( 'index.php', 'fdm-getting-started' ); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | public function add\_section() { |
| [63](#L63) |  |
| [64](#L64) | // Authenticate request |
| [65](#L65) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [66](#L66) |  |
| [67](#L67) | fdmHelper::admin\_nopriv\_ajax(); |
| [68](#L68) | } |
| [69](#L69) |  |
| [70](#L70) | $section\_name = (isset($\_POST['section\_name']) ? sanitize\_text\_field( $\_POST['section\_name'] ) : ''); |
| [71](#L71) | $section\_description = (isset($\_POST['section\_description']) ? sanitize\_text\_field( $\_POST['section\_description'] ) : ''); |
| [72](#L72) |  |
| [73](#L73) | $section\_term\_ids = wp\_insert\_term( $section\_name, 'fdm-menu-section', array('description' => $section\_description) ); |
| [74](#L74) |  |
| [75](#L75) | echo json\_encode(array('section\_name' => $section\_name, 'section\_id' => $section\_term\_ids['term\_id'])); |
| [76](#L76) |  |
| [77](#L77) | exit(); |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | public function add\_menu\_item() { |
| [81](#L81) |  |
| [82](#L82) | // Authenticate request |
| [83](#L83) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [84](#L84) |  |
| [85](#L85) | fdmHelper::admin\_nopriv\_ajax(); |
| [86](#L86) | } |
| [87](#L87) |  |
| [88](#L88) | $menu\_item\_post\_id = wp\_insert\_post(array( |
| [89](#L89) | 'post\_title' => isset( $\_POST['item\_name'] ) ? sanitize\_text\_field( $\_POST['item\_name'] ) : '', |
| [90](#L90) | 'post\_content' => isset( $\_POST['item\_description'] ) ? sanitize\_text\_field( $\_POST['item\_description'] ) : '', |
| [91](#L91) | 'post\_status' => 'publish', |
| [92](#L92) | 'post\_type' => FDM\_MENUITEM\_POST\_TYPE |
| [93](#L93) | )); |
| [94](#L94) |  |
| [95](#L95) | update\_post\_meta ($menu\_item\_post\_id, 'fdm\_item\_price', sanitize\_text\_field( $\_POST['item\_price'] ) ); |
| [96](#L96) |  |
| [97](#L97) | if ( isset($\_POST['item\_image']) and $\_POST['item\_image'] ) { |
| [98](#L98) |  |
| [99](#L99) | set\_post\_thumbnail( $menu\_item\_post\_id, attachment\_url\_to\_postid( $\_POST['item\_image'] ) ); |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) | if ( isset( $\_POST['item\_section'] ) and $\_POST['item\_section'] ) { |
| [103](#L103) |  |
| [104](#L104) | $section = get\_term( sanitize\_text\_field( $\_POST['item\_section'] ), 'fdm-menu-section'); |
| [105](#L105) | wp\_set\_post\_terms($menu\_item\_post\_id, $section->name, 'fdm-menu-section'); |
| [106](#L106) | } |
| [107](#L107) |  |
| [108](#L108) | exit(); |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | public function add\_menu() { |
| [112](#L112) |  |
| [113](#L113) | // Authenticate request |
| [114](#L114) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [115](#L115) |  |
| [116](#L116) | fdmHelper::admin\_nopriv\_ajax(); |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | $menu\_post\_id = wp\_insert\_post(array( |
| [120](#L120) | 'post\_title' => isset( $\_POST['menu\_name'] ) ? sanitize\_text\_field( $\_POST['menu\_name'] ) : '', |
| [121](#L121) | 'post\_content' => isset( $\_POST['menu\_description'] ) ? sanitize\_text\_field( $\_POST['menu\_description'] ) : '', |
| [122](#L122) | 'post\_status' => 'publish', |
| [123](#L123) | 'post\_type' => FDM\_MENU\_POST\_TYPE |
| [124](#L124) | )); |
| [125](#L125) |  |
| [126](#L126) | $sections = isset( $\_POST['sections'] ) ? json\_decode( sanitize\_text\_field( $\_POST['sections'] ) ) : array(); |
| [127](#L127) |  |
| [128](#L128) | if ( empty( $sections ) ) { |
| [129](#L129) | $section\_objects = get\_terms( array( 'hide\_empty' => false, 'taxonomy' => 'fdm-menu-section' ) ); |
| [130](#L130) |  |
| [131](#L131) | $sections\_string = ''; |
| [132](#L132) |  |
| [133](#L133) | foreach ( $section\_objects as $section\_object ) { $sections\_string .= ( strlen($sections\_string) ? ',' : '' ) . $section\_object->term\_id; } |
| [134](#L134) | } |
| [135](#L135) | else { |
| [136](#L136) | $sections\_string = implode(",", $sections); |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | update\_post\_meta( $menu\_post\_id, 'fdm\_menu\_column\_one', $sections\_string); |
| [140](#L140) |  |
| [141](#L141) | exit(); |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | public function add\_menu\_page() { |
| [145](#L145) |  |
| [146](#L146) | // Authenticate request |
| [147](#L147) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [148](#L148) |  |
| [149](#L149) | fdmHelper::admin\_nopriv\_ajax(); |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | $menu\_posts = get\_posts( array( 'post\_type' => FDM\_MENU\_POST\_TYPE ) ); |
| [153](#L153) | $menu = reset($menu\_posts); |
| [154](#L154) |  |
| [155](#L155) | $post\_content = $menu ? "<!-- wp:paragraph --><p> [fdm-menu id='" . $menu->ID . "'] </p><!-- /wp:paragraph -->" : ''; |
| [156](#L156) |  |
| [157](#L157) | wp\_insert\_post(array( |
| [158](#L158) | 'post\_title' => isset( $\_POST['menu\_page\_title'] ) ? sanitize\_text\_field( $\_POST['menu\_page\_title'] ) : '', |
| [159](#L159) | 'post\_content' => $post\_content, |
| [160](#L160) | 'post\_status' => 'publish', |
| [161](#L161) | 'post\_type' => 'page' |
| [162](#L162) | )); |
| [163](#L163) |  |
| [164](#L164) | exit(); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | function admin\_enqueue() { |
| [168](#L168) |  |
| [169](#L169) | if ( isset( $\_GET['page'] ) && $\_GET['page'] == 'fdm-getting-started' ) { |
| [170](#L170) |  |
| [171](#L171) | wp\_enqueue\_style( 'fdm-welcome-screen', FDM\_PLUGIN\_URL . '/assets/css/admin-fdm-welcome-screen.css', array(), FDM\_VERSION ); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | wp\_enqueue\_media(); |
| [175](#L175) |  |
| [176](#L176) | wp\_enqueue\_script( 'fdm-getting-started', FDM\_PLUGIN\_URL . '/assets/js/admin-fdm-welcome-screen.js', array('jquery'), FDM\_VERSION ); |
| [177](#L177) | wp\_enqueue\_script( 'fdm-uploader', FDM\_PLUGIN\_URL . '/assets/js/admin-wp-fdm-uploader.js', array('jquery'), FDM\_VERSION ); |
| [178](#L178) |  |
| [179](#L179) | wp\_localize\_script( |
| [180](#L180) | 'fdm-getting-started', |
| [181](#L181) | 'fdm\_getting\_started', |
| [182](#L182) | array( |
| [183](#L183) | 'nonce' => wp\_create\_nonce( 'fdm-getting-started' ) |
| [184](#L184) | ) |
| [185](#L185) | ); |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) | public function display\_install\_screen() { ?> |
| [189](#L189) | <div class='fdm-welcome-screen'> |
| [190](#L190) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [191](#L191) | <div class='fdm-welcome-screen-header'> |
| [192](#L192) | <h1><?php \_e('Welcome to the Five-Star Restaurant Menu Plugin', 'food-and-drink-menu'); ?></h1> |
| [193](#L193) | <p><?php \_e('Thanks for choosing the Five-Star Restaurant Menu! The following will help you get started with the setup of your menu by creating your first sections, menu items and menu page, as well as configuring a few key options.', 'food-and-drink-menu'); ?></p> |
| [194](#L194) | </div> |
| [195](#L195) | <?php } ?> |
| [196](#L196) |  |
| [197](#L197) | <div class='fdm-welcome-screen-box fdm-welcome-screen-sections fdm-welcome-screen-open' data-screen='sections'> |
| [198](#L198) | <h2><?php \_e('1. Create Sections', 'food-and-drink-menu'); ?></h2> |
| [199](#L199) | <div class='fdm-welcome-screen-box-content'> |
| [200](#L200) | <p><?php \_e('Sections let you organize your menu in a way that is easy for you - and your customers - to find (like "Drinks", "Appetizers", etc.).', 'food-and-drink-menu'); ?></p> |
| [201](#L201) | <div class='fdm-welcome-screen-created-sections'> |
| [202](#L202) | <div class='fdm-welcome-screen-add-section-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [203](#L203) | <div class='fdm-welcome-screen-add-section-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [204](#L204) | <div class='fdm-welcome-screen-add-section-button'><?php \_e('Add Section', 'food-and-drink-menu'); ?></div> |
| [205](#L205) | <div class="fdm-welcome-clear"></div> |
| [206](#L206) | <div class="fdm-welcome-screen-show-created-sections"> |
| [207](#L207) | <h3><?php \_e('Created Sections:', 'food-and-drink-menu'); ?></h3> |
| [208](#L208) | <div class="fdm-welcome-screen-show-created-sections-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [209](#L209) | <div class="fdm-welcome-screen-show-created-sections-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [210](#L210) | </div> |
| [211](#L211) | </div> |
| [212](#L212) | <div class='fdm-welcome-screen-next-button fdm-welcome-screen-next-button-not-top-margin' data-nextaction='menu\_items'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [213](#L213) | <div class='clear'></div> |
| [214](#L214) | </div> |
| [215](#L215) | </div> |
| [216](#L216) |  |
| [217](#L217) | <div class='fdm-welcome-screen-box fdm-welcome-screen-menu\_items' data-screen='menu\_items'> |
| [218](#L218) | <h2><?php \_e('2. Add Menu Items', 'food-and-drink-menu'); ?></h2> |
| [219](#L219) | <div class='fdm-welcome-screen-box-content'> |
| [220](#L220) | <div class='fdm-welcome-screen-created-menu\_items'> |
| [221](#L221) | <div class='fdm-welcome-screen-add-menu\_item-image fdm-welcome-screen-box-content-divs'> |
| [222](#L222) | <label><?php \_e('Image:', 'food-and-drink-menu'); ?></label> |
| [223](#L223) | <div class='fdm-welcome-screen-image-preview-container'> |
| [224](#L224) | <div class='fdm-hidden fdm-welcome-screen-image-preview'> |
| [225](#L225) | <img /> |
| [226](#L226) | </div> |
| [227](#L227) | <input type='hidden' name='menu\_item\_image\_url' /> |
| [228](#L228) | <input id="Welcome\_Item\_Image\_button" class="button" type="button" value="Upload Image" /> |
| [229](#L229) | </div> |
| [230](#L230) | </div> |
| [231](#L231) | <div class='fdm-welcome-screen-add-menu\_item-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [232](#L232) | <div class='fdm-welcome-screen-add-menu\_item-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [233](#L233) | <div class='fdm-welcome-screen-add-menu\_item-section fdm-welcome-screen-box-content-divs'><label><?php \_e('Section:', 'food-and-drink-menu'); ?></label><select></select></div> |
| [234](#L234) | <div class='fdm-welcome-screen-add-menu\_item-price fdm-welcome-screen-box-content-divs'><label><?php \_e('Price:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [235](#L235) | <div class='fdm-welcome-screen-add-menu\_item-button'><?php \_e('Add Item', 'food-and-drink-menu'); ?></div> |
| [236](#L236) | <div class="fdm-welcome-clear"></div> |
| [237](#L237) | <div class="fdm-welcome-screen-show-created-menu\_items"> |
| [238](#L238) | <h3><?php \_e('Created Items:', 'food-and-drink-menu'); ?></h3> |
| [239](#L239) | <div class="fdm-welcome-screen-show-created-menu\_items-image"><?php \_e('Image', 'food-and-drink-menu'); ?></div> |
| [240](#L240) | <div class="fdm-welcome-screen-show-created-menu\_items-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [241](#L241) | <div class="fdm-welcome-screen-show-created-menu\_items-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [242](#L242) | <div class="fdm-welcome-screen-show-created-menu\_items-price"><?php \_e('Price', 'food-and-drink-menu'); ?></div> |
| [243](#L243) | </div> |
| [244](#L244) | </div> |
| [245](#L245) | <div class="fdm-welcome-clear"></div> |
| [246](#L246) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [247](#L247) | <div class='fdm-welcome-screen-next-button' data-nextaction='create\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [248](#L248) | <?php } else { ?> |
| [249](#L249) | <div class='fdm-welcome-screen-finish-button' data-link='edit.php?post\_type=fdm-menu'><?php \_e('Save and Continue', 'food-and-drink-menu'); ?></div> |
| [250](#L250) | <?php } ?> |
| [251](#L251) | <div class='fdm-welcome-screen-previous-button' data-previousaction='sections'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [252](#L252) | <div class='clear'></div> |
| [253](#L253) | </div> |
| [254](#L254) | </div> |
| [255](#L255) |  |
| [256](#L256) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [257](#L257) |  |
| [258](#L258) | <div class='fdm-welcome-screen-box fdm-welcome-screen-create\_menu' data-screen='create\_menu'> |
| [259](#L259) | <h2><?php \_e('3. Create a Menu', 'food-and-drink-menu'); ?></h2> |
| [260](#L260) | <div class='fdm-welcome-screen-box-content'> |
| [261](#L261) | <p><?php \_e('You can make multiple menus, but one menu with all of your sections is a great place to start.', 'food-and-drink-menu'); ?></p> |
| [262](#L262) | <div class='fdm-welcome-screen-create\_menu'> |
| [263](#L263) | <div class='fdm-welcome-screen-add-create\_menu-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Menu Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [264](#L264) | <div class='fdm-welcome-screen-add-create\_menu-sections'><h3><?php \_e('Sections:', 'food-and-drink-menu'); ?></h3><br /></div> |
| [265](#L265) | <div class='fdm-welcome-screen-add-create\_menu-button'><?php \_e('Create Menu', 'food-and-drink-menu'); ?></div> |
| [266](#L266) | </div> |
| [267](#L267) | <div class="fdm-welcome-clear"></div> |
| [268](#L268) | <div class='fdm-welcome-screen-next-button' data-nextaction='display\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [269](#L269) | <div class='fdm-welcome-screen-previous-button' data-previousaction='menu\_items'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [270](#L270) | <div class='clear'></div> |
| [271](#L271) | </div> |
| [272](#L272) | </div> |
| [273](#L273) |  |
| [274](#L274) | <div class='fdm-welcome-screen-box fdm-welcome-screen-display\_menu' data-screen='display\_menu'> |
| [275](#L275) | <h2><?php \_e('4. Add a Menu Page', 'food-and-drink-menu'); ?></h2> |
| [276](#L276) | <div class='fdm-welcome-screen-box-content'> |
| [277](#L277) | <p><?php \_e('You can create a dedicated menu page below, or skip this step and add your menu to a page you\'ve already created manually.', 'food-and-drink-menu'); ?></p> |
| [278](#L278) | <div class='fdm-welcome-screen-menu-page'> |
| [279](#L279) | <div class='fdm-welcome-screen-add-menu-page-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Page Title:', 'food-and-drink-menu'); ?></label><input type='text' value='Menu' /></div> |
| [280](#L280) | <div class='fdm-welcome-screen-add-menu-page-button'><?php \_e('Create Page', 'food-and-drink-menu'); ?></div> |
| [281](#L281) | </div> |
| [282](#L282) | <div class="fdm-welcome-clear"></div> |
| [283](#L283) | <div class='fdm-welcome-screen-previous-button' data-previousaction='create\_menu'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [284](#L284) | <div class='fdm-welcome-screen-finish-button'><a href='edit.php?post\_type=fdm-menu'><?php \_e('Finish', 'food-and-drink-menu'); ?></a></div> |
| [285](#L285) | <div class='clear'></div> |
| [286](#L286) | </div> |
| [287](#L287) | </div> |
| [288](#L288) |  |
| [289](#L289) | <div class='fdm-welcome-screen-skip-container'> |
| [290](#L290) | <a href='edit.php?post\_type=fdm-menu'><div class='fdm-welcome-screen-skip-button'><?php \_e('Skip Setup', 'food-and-drink-menu'); ?></div></a> |
| [291](#L291) | </div> |
| [292](#L292) |  |
| [293](#L293) | <?php } ?> |
| [294](#L294) |  |
| [295](#L295) | </div> |
| [296](#L296) | <?php } |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) |  |
| [300](#L300) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?format=txt)
* [Original Format](/export/3220488/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_045c5c61_20250110_230048.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Restaurant Menu and Food Ordering <= 2.4.16 - Missing Authorization to Menu Creation

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Restaurant Menu and Food Ordering <= 2.4.16 - Missing Authorization to Menu Creation

4.3

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

| CVE | [CVE-2024-5459](https://www.cve.org/CVERecord?id=CVE-2024-5459) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | June 4, 2024 |
| Last Updated | June 5, 2024 |
| Researcher | [Lucio Sá](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/lucio-sa) |

### Description

The Restaurant Menu and Food Ordering plugin for WordPress is vulnerable to unauthorized creation of data due to a missing capability check on 'add\_section', 'add\_menu', 'add\_menu\_item', and 'add\_menu\_page' functions in all versions up to, and including, 2.4.16. This makes it possible for authenticated attackers, with Subscriber-level access and above, to create menu sections, menus, food items, and new menu pages.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php#L62)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php#L80)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php#L111)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php#L144)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3097599/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Ffood-and-drink-menu%2Frestaurant-menu-and-food-ordering-2416-missing-authorization-to-menu-creation&t=Restaurant%20Menu%20and%20Food%20Ordering%20%3C%3D%202.4.16%20-%20Missing%20Authorization%20to%20Menu%20Creation "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Ffood-and-drink-menu%2Frestaurant-menu-and-food-ordering-2416-missing-authorization-to-menu-creation&text=Restaurant%20Menu%20and%20Food%20Ordering%20%3C%3D%202.4.16%20-%20Missing%20Authorization%20to%20Menu%20Creation "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Ffood-and-drink-menu%2Frestaurant-menu-and-food-ordering-2416-missing-authorization-to-menu-creation "LinkedIn")
Email

## Vulnerability Details for Five Star Restaurant Menu and Food Ordering

#### [Five Star Restaurant Menu and Food Ordering](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/food-and-drink-menu)

| Software Type | Plugin |
| --- | --- |
| Software Slug | food-and-drink-menu [(view on wordpress.org)](https://wordpress.org/plugins/food-and-drink-menu) |
| Patched? | Yes |
| Remediation | Update to version 2.4.17, or a newer patched version |
| Affected Version | * <= 2.4.16 |
| Patched Version | * 2.4.17 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_9f42cd03_20250110_230047.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3097599)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3097598 "Changeset 3097598")
* [Next Changeset](/changeset/3097600 "Changeset 3097600") →

---

# Changeset 3097599

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/04/2024 07:52:29 PM
([7 months](/timeline?from=2024-06-04T19%3A52%3A29Z&precision=second "See timeline at 06/04/2024 07:52:29 PM") ago)

Author:
Rustaurius
Message:

v2.4.17 released and tagged

Location:
[food-and-drink-menu](/browser/food-and-drink-menu?rev=3097599)
Files:

6 edited
1 copied

* [tags/2.4.17](/browser/food-and-drink-menu/tags/2.4.17?rev=3097599 "Show entry in browser")
  (copied)
  *(copied from [food-and-drink-menu/trunk](/browser/food-and-drink-menu/trunk?rev=3064857 "Show original file (revision 3097597)"))*
* [tags/2.4.17/food-and-drink-menu.php](/browser/food-and-drink-menu/tags/2.4.17/food-and-drink-menu.php?rev=3097599 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [tags/2.4.17/includes/class-installation-walkthrough.php](/browser/food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php?rev=3097599 "Show entry in browser")
  (modified)
  ([4 diffs](#file2 "Show differences"))
* [tags/2.4.17/readme.txt](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599 "Show entry in browser")
  (modified)
  ([13 diffs](#file3 "Show differences"))
* [trunk/food-and-drink-menu.php](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3097599 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [trunk/includes/class-installation-walkthrough.php](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=3097599 "Show entry in browser")
  (modified)
  ([4 diffs](#file5 "Show differences"))
* [trunk/readme.txt](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599 "Show entry in browser")
  (modified)
  ([13 diffs](#file6 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [food-and-drink-menu/tags/2.4.17/food-and-drink-menu.php](/changeset/3097599/food-and-drink-menu/tags/2.4.17/food-and-drink-menu.php "Show the changeset 3097599 restricted to food-and-drink-menu/tags/2.4.17/food-and-drink-menu.php")

  | [r3064857](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3064857#L1 "Show revision 3064857 of this file in browser") | [r3097599](/browser/food-and-drink-menu/tags/2.4.17/food-and-drink-menu.php?rev=3097599#L1 "Show revision 3097599 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | /\*\* |
  | 3 |  | \* Plugin Name: Restaurant Menu and Food Ordering |
  |  | 3 | \* Plugin Name: Five Star Restaurant Menu and Food Ordering |
  | 4 | 4 | \* Plugin URI: https://www.fivestarplugins.com/plugins/five-star-restaurant-menu/ |
  | 5 |  | \* Description: Restaurant menu and food ordering system that is easy to set up and in~~cludes blocks, patterns and shortcodes for integration with any theme~~. |
  | 6 |  | \* Version: 2.4.1~~6~~ |
  |  | 5 | \* Description: Restaurant menu and food ordering system that is easy to set up and integrates with any theme. Includes restaurant menu blocks and patterns. |
  |  | 6 | \* Version: 2.4.17 |
  | 7 | 7 | \* Requires at least: 6.0 |
  | 8 | 8 | \* Author: Five Star Plugins |
  | […](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3064857#L44) | […](/browser/food-and-drink-menu/tags/2.4.17/food-and-drink-menu.php?rev=3097599#L44) |  |
  | 44 | 44 | define( 'FDM\_UPGRADE\_URL', 'https://www.fivestarplugins.com/license-payment/?Selected=FDM&Quantity=1' ); |
  | 45 | 45 | define( 'FDM\_TEMPLATE\_DIR', 'fdm-templates' ); |
  | 46 |  | define( 'FDM\_VERSION', '2.4.1~~6~~' ); |
  |  | 46 | define( 'FDM\_VERSION', '2.4.17' ); |
  | 47 | 47 | define( 'FDM\_MENU\_POST\_TYPE', 'fdm-menu' ); |
  | 48 | 48 | define( 'FDM\_MENUITEM\_POST\_TYPE', 'fdm-menu-item' ); |
* ## [food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php](/changeset/3097599/food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php "Show the changeset 3097599 restricted to food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php")

  | [r2679403](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L63 "Show revision 2679403 of this file in browser") | [r3097599](/browser/food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php?rev=3097599#L63 "Show revision 3097599 of this file in browser") |  |
  | --- | --- | --- |
  | 63 | 63 |  |
  | 64 | 64 | // Authenticate request |
  | 65 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 66 |  |  |
  |  | 65 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 66 |  |
  | 67 | 67 | fdmHelper::admin\_nopriv\_ajax(); |
  | 68 | 68 | } |
  | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L81) | […](/browser/food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php?rev=3097599#L81) |  |
  | 81 | 81 |  |
  | 82 | 82 | // Authenticate request |
  | 83 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 84 |  |  |
  |  | 83 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 84 |  |
  | 85 | 85 | fdmHelper::admin\_nopriv\_ajax(); |
  | 86 | 86 | } |
  | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L112) | […](/browser/food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php?rev=3097599#L112) |  |
  | 112 | 112 |  |
  | 113 | 113 | // Authenticate request |
  | 114 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 115 |  |  |
  |  | 114 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 115 |  |
  | 116 | 116 | fdmHelper::admin\_nopriv\_ajax(); |
  | 117 | 117 | } |
  | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L145) | […](/browser/food-and-drink-menu/tags/2.4.17/includes/class-installation-walkthrough.php?rev=3097599#L145) |  |
  | 145 | 145 |  |
  | 146 | 146 | // Authenticate request |
  | 147 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 148 |  |  |
  |  | 147 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 148 |  |
  | 149 | 149 | fdmHelper::admin\_nopriv\_ajax(); |
  | 150 | 150 | } |
* ## [food-and-drink-menu/tags/2.4.17/readme.txt](/changeset/3097599/food-and-drink-menu/tags/2.4.17/readme.txt "Show the changeset 3097599 restricted to food-and-drink-menu/tags/2.4.17/readme.txt")

  | [r3064857](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L1 "Show revision 3064857 of this file in browser") | [r3097599](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L1 "Show revision 3097599 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | === Restaurant Menu and Food Ordering === |
  |  | 1 | === Five Star Restaurant Menu and Food Ordering === |
  | 2 | 2 | Contributors: rustaurius |
  | 3 | 3 | Donate Link: https://www.etoilewebdesign.com/plugin-donations/ |
  | 4 |  | Tags: restaurant~~menu, food ordering, food menu, restaurant~~, food order, food delivery, takeaway, food pickup, online food ordering |
  |  | 4 | Tags: restaurant, restaurant menu, online restaurant, restaurant order, mobile restaurant menu, food ordering, mobile food ordering, food menu, food order, food delivery, takeaway, food pickup, online food ordering |
  | 5 | 5 | Requires at Least: 6.0 |
  | 6 | 6 | Tested Up To: 6.5 |
  | 7 |  | Stable tag: 2.4.16 |
  | 8 |  | Requires PHP: 7.4 |
  |  | 7 | Stable tag: 2.4.17 |
  | 9 | 8 | License: GPLv3 |
  | 10 | 9 | License URI: https://www.gnu.org/licenses/gpl-3.0.html |
  | 11 |  | Restaurant menu and food ordering system that is easy to set up and includes blocks, patterns and shortcodes for integration with any theme. |
  |  | 10 |  |
  |  | 11 | Restaurant menu and food ordering system that is easy to set up and integrates with any theme. Includes restaurant menu blocks and patterns. |
  | 12 | 12 |  |
  | 13 | 13 | == Description == |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L21) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L21) |  |
  | 21 | 21 | [Menu Demo](https://www.fivestarplugins.com/five-star-restaurant-menu-demo/) |
  | 22 | 22 |  |
  | 23 |  | = Key Features = |
  | 24 |  |  |
  | 25 |  | ~~\*~~ Unlimited restaurant menus and menu items. |
  | 26 |  | ~~\* Responsive layout that~~ looks great on mobile and all devices. |
  | 27 |  | ~~\*~~ Add your restaurant menu to any page via the included \*\*Gutenberg blocks and shortcodes\*\*. |
  | 28 |  | ~~\*~~ Add a menu directly into any of your restaurant site's block theme templates via the included \*\*patterns\*\*. |
  | 29 |  | ~~\*~~ Add unique photos and prices to each food or drink menu item . |
  | 30 |  | ~~\* Optional sidebar to display your~~ sections, for quick navigation. |
  | 31 |  | ~~\*~~ Full restaurant menu schema structured data automatically integrated, so Google can correctly identify your page as a menu and use it accordingly in search results. |
  | 32 |  | ~~\*~~ Create a QR code that you can use in restaurant to let your guests see your online menu. |
  |  | 23 | ### Key Features |
  |  | 24 |  |
  |  | 25 | - Unlimited restaurant menus and menu items. |
  |  | 26 | - Responsive layout, so your restaurant menu looks great on mobile and all devices. |
  |  | 27 | - Add your restaurant menu to any page via the included \*\*Gutenberg blocks and shortcodes\*\*. |
  |  | 28 | - Add a menu directly into any of your restaurant site's block theme templates via the included \*\*patterns\*\*. |
  |  | 29 | - Add unique photos and prices to each food or drink menu item . |
  |  | 30 | - Optional sidebar to display your restaurant menu sections, for quick navigation. |
  |  | 31 | - Full restaurant menu schema structured data automatically integrated, so Google can correctly identify your page as a menu and use it accordingly in search results. |
  |  | 32 | - Create a QR code that you can use in restaurant to let your guests see your online menu. |
  | 33 | 33 |  |
  | 34 | 34 | \*\*\*Five Star Restaurant Menu\*\* is very user friendly and comes with a walk-through that runs automatically when you activate the plugin and will help you create your first menu items, add the menu to your site and set key options!\* |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L36) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L36) |  |
  | 36 | 36 | [youtube https://www.youtube.com/watch?v=F30zoC0D55o] |
  | 37 | 37 |  |
  | 38 |  | = Menu QR Code = |
  | 39 |  |  |
  | 40 |  | The plugin comes with the ability for you to generate a QR code that leads directly to your online menu. You can place these, for example, at the tables in your restaurant, so guests can scan them and gain easy and quick access to the menu page on your website. |
  |  | 38 | ### Restaurant Menu QR Code |
  |  | 39 |  |
  |  | 40 | The plugin comes with the ability for you to generate a QR code that leads directly to your online menu. You can place these, for example, at the tables in your restaurant, so guests can scan them and gain easy and quick access to the restaurant menu page on your website. |
  | 41 | 41 |  |
  | 42 | 42 | There are several great benefits to utilizing your online menu in your restaurant, including: |
  | 43 | 43 |  |
  | 44 |  | ~~\* Quick updates: You can instantaneously make changes to your~~ menu. No matter how small or big the change you need to make is, you won't need to reprint anything or explain it to every customer. |
  | 45 |  | ~~\* Save money and trees by avoiding the need to print your~~ menus. |
  | 46 |  | ~~\*~~ Creates a more contactless experience, no longer having menus shared between all customers. |
  | 47 |  |  |
  | 48 |  | = Menu Sections = |
  | 49 |  |  |
  | 50 |  | The plugin comes with the ability to create separate menu sections. This allows you to divide a menu into multiple parts, making it more clear for your customers. You can even include a note for a section (e.g. "All items in this section come with salad or fries."). Some examples of sections you can create are: |
  | 51 |  |  |
  | 52 |  | ~~\*~~ Appetizers |
  | 53 |  | ~~\*~~ Main Course |
  | 54 |  | ~~\*~~ Dessert Menu |
  | 55 |  | ~~\*~~ Kid's Menu |
  | 56 |  | ~~\*~~ Gluten Free Menu |
  | 57 |  | ~~\*~~ Weekly Specials |
  |  | 44 | - Quick updates: You can instantaneously make changes to your restaurant menu. No matter how small or big the change you need to make is, you won't need to reprint anything or explain it to every customer. |
  |  | 45 | - Save money and trees by avoiding the need to print your restaurant menus. |
  |  | 46 | - Creates a more contactless experience, no longer having menus shared between all customers. |
  |  | 47 |  |
  |  | 48 | ### Restaurant Menu Sections |
  |  | 49 |  |
  |  | 50 | The plugin comes with the ability to create separate restaurant menu sections. This allows you to divide a menu into multiple parts, making it more clear for your customers. You can even include a note for a section (e.g. "All items in this section come with salad or fries."). Some examples of sections you can create are: |
  |  | 51 |  |
  |  | 52 | - Appetizers |
  |  | 53 | - Main Course |
  |  | 54 | - Dessert Menu |
  |  | 55 | - Kid's Menu |
  |  | 56 | - Gluten Free Menu |
  |  | 57 | - Weekly Specials |
  | 58 | 58 |  |
  | 59 | 59 | You can then add a sidebar to your restaurant menu page, which lists all your sections, so your guests can quickly find what they're looking for. |
  | 60 | 60 |  |
  | 61 |  | In addition to this, you can also create completely separate and customizable menus. This feature can be used for several different purposes including individual menus for different meals, but also separate menus for drinks or snacks. It even works great if your restaurant is split up into different areas (e.g. a dining hall, a cafe, a bistro, etc.). Some examples of individual menus you can create are: |
  | 62 |  |  |
  | 63 |  | ~~\*~~ Breakfast |
  | 64 |  | ~~\*~~ Brunch |
  | 65 |  | ~~\*~~ Lunch |
  | 66 |  | ~~\*~~ Dinner |
  | 67 |  | ~~\*~~ Wine |
  | 68 |  | ~~\*~~ Drinks |
  | 69 |  | ~~\*~~ Snacks |
  | 70 |  | ~~\*~~ Cafe Menu |
  | 71 |  | ~~\*~~ Specialties |
  | 72 |  | ~~\*~~ The possibilities are endless! |
  | 73 |  |  |
  | 74 |  | = More Features! = |
  | 75 |  |  |
  | 76 |  | Several additional features are included that will help ensure you're able to set your menu up easily and with all the options you need. They will also enable you to deliver the best and easiest drink and food menu experience for the visitors to your restaurant's website. These features include: |
  | 77 |  |  |
  | 78 |  | ~~\*~~ Extra Gutenberg blocks to display individual sections or items on a page (instead of just a whole menu). |
  | 79 |  | ~~\* Several extra patterns, so you can integrate~~ menus, sections and individual items directly into your block theme. |
  | 80 |  | ~~\*~~ Ability to add multiple prices for a single item. |
  | 81 |  | ~~\* Advanced template system for further layout customization of your~~ menu(s). |
  | 82 |  | ~~\*~~ Simple compatibility with WPML for multi-language sites. |
  | 83 |  | ~~\*~~ Restaurants can add a footer to each drink or food menu for legal disclaimers or other notes. |
  | 84 |  | ~~\* Display reviews for~~ menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  | 85 |  | ~~\* Add a submit review form to~~ menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  | 86 |  | ~~\*~~ Widgets to display quick restaurant menu items in your sidebar or footer. |
  | 87 |  |  |
  | 88 |  | = Premium Restaurant Menu = |
  | 89 |  |  |
  | 90 |  | With the premium version of the plugin, you can extend the functionality of your menu to offer your guests the best possible experience. This includes multiple layout options, the ability to add custom fields to your menu items, sorting and filtering options, and much more. |
  |  | 61 | In addition to this, you can also create completely separate and customizable restaurant menus. This feature can be used for several different purposes including individual menus for different meals, but also separate menus for drinks or snacks. It even works great if your restaurant is split up into different areas (e.g. a dining hall, a cafe, a bistro, etc.). Some examples of individual menus you can create are: |
  |  | 62 |  |
  |  | 63 | - Breakfast |
  |  | 64 | - Brunch |
  |  | 65 | - Lunch |
  |  | 66 | - Dinner |
  |  | 67 | - Wine |
  |  | 68 | - Drinks |
  |  | 69 | - Snacks |
  |  | 70 | - Cafe Menu |
  |  | 71 | - Specialties |
  |  | 72 | - The possibilities are endless! |
  |  | 73 |  |
  |  | 74 | ### More Features! |
  |  | 75 |  |
  |  | 76 | Several additional features are included that will help ensure you're able to set your restaurant menu up easily and with all the options you need. They will also enable you to deliver the best and easiest drink and food menu experience for the visitors to your restaurant's website. These features include: |
  |  | 77 |  |
  |  | 78 | - Extra Gutenberg blocks to display individual sections or items on a page (instead of just a whole menu). |
  |  | 79 | - Several extra patterns, so you can integrate restaurant menus, sections and individual items directly into your block theme. |
  |  | 80 | - Ability to add multiple prices for a single item. |
  |  | 81 | - Advanced template system for further layout customization of your restaurant menu(s). |
  |  | 82 | - Simple compatibility with WPML for multi-language sites. |
  |  | 83 | - Restaurants can add a footer to each drink or food menu for legal disclaimers or other notes. |
  |  | 84 | - Display reviews for restaurant menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  |  | 85 | - Add a submit review form to restaurant menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  |  | 86 | - Widgets to display quick restaurant menu items in your sidebar or footer. |
  |  | 87 |  |
  |  | 88 | ### Premium Restaurant Menu |
  |  | 89 |  |
  |  | 90 | With the premium version of the plugin, you can extend the functionality of your restaurant menu to offer your guests the best possible experience. This includes multiple layout options, the ability to add custom fields to your menu items, sorting and filtering options, and much more. |
  | 91 | 91 |  |
  | 92 | 92 | Premium features include: |
  | 93 | 93 |  |
  | 94 |  | \* Additional responsive menu styles/layouts, including: |
  | 95 |  | \* The \*\*Refined\*\* style, which displays your menu in an elegant layout, without images, like you may find in an upscale restaurant. |
  | 96 |  | \* The \*\*Image\*\* style: Perfect for showcasing all the great photos you have of your menu items. |
  | 97 |  | \* The \*new\* \*\*Ordering\*\* style: Designed and adapted for use specifically with the ordering features available in the ultimate version, this layout makes browsing, adding to cart and checking out a breeze. |
  | 98 |  | \* Custom fields to add any extra info you want to your menu items. |
  | 99 |  | \* Sorting, filtering and search options to let your customers find the exact meal or item they're looking for. |
  | 100 |  | \* Icons to indicate dietary and ethical requirements, including organic, gluten-free, kosher, halal and many more. |
  | 101 |  | \* Badges for item features, specials and sales. |
  | 102 |  | \* Special/discount pricing. |
  | 103 |  | \* Google maps to show off local suppliers or ethical sourcing programs. |
  | 104 |  | \* Add a related items section to the single menu item page. |
  | 105 |  | \* Labelling options that let you change the wording for all the labels displayed on the front end of the plugin. |
  | 106 |  | \* Advanced styling options to change the fonts, colors, widths, borders, etc. of the different menu elements on your restaurant site. |
  |  | 94 | - Additional responsive restaurant menu styles/layouts, including: |
  |  | 95 | - The \*\*Refined\*\* style, which displays your restaurant menu in an elegant layout, without images, like you may find in an upscale restaurant. |
  |  | 96 | - The \*\*Image\*\* style: Perfect for showcasing all the great photos you have of your restaurant menu items. |
  |  | 97 | - The \*\*Ordering\*\* style: Designed and adapted for use specifically with the ordering features available in the ultimate version, this layout makes browsing, adding to cart and checking out a breeze. |
  |  | 98 | - The \*\*Luxe\*\* style: A variation on the Refined style, this minimalist layout gives a luxury feel to your restaurant menu and fits in any theme. |
  |  | 99 | - Custom fields to add any extra info you want to your restaurant menu items. |
  |  | 100 | - Sorting, filtering and search options to let your customers find the exact meal or item they're looking for. |
  |  | 101 | - Icons to indicate dietary and ethical requirements, including organic, gluten-free, kosher, halal and many more. |
  |  | 102 | - Badges for item features, specials and sales. |
  |  | 103 | - Special/discount pricing. |
  |  | 104 | - Google maps to show off local suppliers or ethical sourcing programs. |
  |  | 105 | - Add a related items section to the single menu item page. |
  |  | 106 | - Labelling options that let you change the wording for all the labels displayed on the front end of the plugin. |
  |  | 107 | - Advanced styling options to change the fonts, colors, widths, borders, etc. of the different restaurant menu elements on your restaurant site. |
  | 107 | 108 |  |
  | 108 | 109 | By combining the sorting/filtering/search options with the badges, dietary icons and specials, you can be sure that your guests will be able to locate the best possible menu items for them in no time at all. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L110) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L111) |  |
  | 110 | 111 | [youtube https://www.youtube.com/watch?v=2NCgp67M\_k4] |
  | 111 | 112 |  |
  | 112 |  | = Food Ordering (Requires Ultimate Version) = |
  |  | 113 | ### Food Ordering (Requires Ultimate Version) |
  | 113 | 114 |  |
  | 114 | 115 | The ultimate version of the Five Star Restaurant Menu plugin lets you add a complete food ordering system to your restaurant website. Stop paying commissions to third-party services and start offering ordering directly on your site. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L116) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L117) |  |
  | 116 | 117 | Key features of the food ordering platform include: |
  | 117 | 118 |  |
  | 118 |  | ~~\* Add-to-cart buttons for all~~ menu items. |
  | 119 |  | ~~\* Intuitive cart that fits into any theme and lets customers easily add items~~ and check out. |
  | 120 |  | ~~\*~~ Options to have the responsive cart display at the bottom of the screen or on the side. |
  | 121 |  | ~~\*~~ Require payment immediately or give your customer the option to pay at the restaurant. |
  | 122 |  | ~~\*~~ Use Stripe payment intents (see below for details) or PayPal as your payment gateway. |
  | 123 |  | ~~\*~~ Create unlimited notifications, which can be sent via email and/or SMS to the restaurant admin and the customer when a new order is placed and/or whenever the status is changed for a food order. |
  | 124 |  | ~~\*~~ Easy-to-use admin interface lets you quickly manage your orders. |
  | 125 |  | ~~\*~~ Advanced order edit screen, via which you can update the customer information, the items in the order, the order status as well as the payment amount. |
  | 126 |  | ~~\*~~ Syncs directly with the Five Star Restaurant Manager mobile app (iOS and Android), so you can receive push notifications for new orders and manage your orders in the restaurant kitchen or on the go. |
  | 127 |  |  |
  | 128 |  | Setting it up couldn't be easier. When you enable the ordering feature, an "Add to Cart" button will appear on each menu item, which will let you add as many items as you want to the cart. There are also options to enable advanced ordering features, which let you have multiple prices per item as well as add-ons that guests can select when adding items to their cart. |
  |  | 119 | - Add-to-cart buttons for all restaurant menu items. |
  |  | 120 | - Intuitive cart that fits into any theme and lets customers easily add items directly from the your restaurant menu and check out. |
  |  | 121 | - Options to have the responsive cart display at the bottom of the screen or on the side. |
  |  | 122 | - Require payment immediately or give your customer the option to pay at the restaurant. |
  |  | 123 | - Use Stripe payment intents (see below for details) or PayPal as your payment gateway. |
  |  | 124 | - Create unlimited notifications, which can be sent via email and/or SMS to the restaurant admin and the customer when a new order is placed and/or whenever the status is changed for a food order. |
  |  | 125 | - Easy-to-use admin interface lets you quickly manage your orders. |
  |  | 126 | - Advanced order edit screen, via which you can update the customer information, the items in the order, the order status as well as the payment amount. |
  |  | 127 | - Syncs directly with the Five Star Restaurant Manager mobile app (iOS and Android), so you can receive push notifications for new orders and manage your orders in the restaurant kitchen or on the go. |
  |  | 128 |  |
  |  | 129 | Setting it up couldn't be easier. When you enable the ordering feature, an "Add to Cart" button will appear on each restaurant menu item, which will let you add as many items as you want to the cart. There are also options to enable advanced ordering features, which let you have multiple prices per item as well as add-ons that guests can select when adding items to their cart. |
  | 129 | 130 |  |
  | 130 | 131 | From the cart, you can then increase and decrease the quantity, remove items and view any special requests or add-ons. Checkout is a breeze with the included options. You can set it so that customers are required to pay right away at checkout or give them the option to pay when they pick the food up at your restaurant. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L140) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L141) |  |
  | 140 | 141 | Further customization features for the restaurant ordering system include: |
  | 141 | 142 |  |
  | 142 |  | ~~\*~~ Add-ons for menu items, which can be selected when adding to cart (e.g. extra toppings). |
  | 143 |  | ~~\*~~ Restrict when ordering should be available by setting up a schedule. |
  | 144 |  | ~~\*~~ Set a minimum order total (e.g. in dollars, euros, etc., depending on your chosen currency). |
  | 145 |  | ~~\*~~ Option to temporarily pause ordering (e.g. you are at capacity in your restaurant or for orders). |
  | 146 |  | ~~\*~~ Alternatively, set a maximum number of orders that you can take. |
  | 147 |  | ~~\*~~ Fields for the customer to leave notes for both individual items and the overall order. |
  | 148 |  | ~~\*~~ Add custom fields to the order form (e.g. if you require extra info from your customers, want to offer delivery, etc.). |
  | 149 |  | ~~\*~~ Styling and labelling options to further customize the order form. |
  |  | 143 | - Add-ons for menu items, which can be selected when adding to cart (e.g. extra toppings). |
  |  | 144 | - Restrict when ordering should be available by setting up a schedule. |
  |  | 145 | - Set a minimum order total (e.g. in dollars, euros, etc., depending on your chosen currency). |
  |  | 146 | - Option to temporarily pause ordering (e.g. you are at capacity in your restaurant or for orders). |
  |  | 147 | - Alternatively, set a maximum number of orders that you can take. |
  |  | 148 | - Fields for the customer to leave notes for both individual items and the overall order. |
  |  | 149 | - Add custom fields to the order form (e.g. if you require extra info from your customers, want to offer delivery, etc.). |
  |  | 150 | - Styling and labelling options to further customize the order form. |
  | 150 | 151 |  |
  | 151 | 152 | Once an order is placed, you will receive a customizable notification that contains all of the order information. This is also created as an order in the plugin admin panel, where you can view all the details and also change the status and edit the order. Your customers can then view the order status right on your menu page via an intuitive order progress bar. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L153) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L154) |  |
  | 153 | 154 | There are further options to customize the ordering experience by setting specific hours when the ordering should be available as well as advanced features that let you add customization options to each menu item (e.g. "Add bacon", "Upgrade to onion rings", etc.). There is also an array of styling options to modify the colors of the ordering elements, including the buttons, the cart and the progress bar. |
  | 154 | 155 |  |
  | 155 |  | = Five Star Restaurant Manager Mobile App = |
  |  | 156 | ### Five Star Restaurant Manager Mobile App |
  | 156 | 157 |  |
  | 157 | 158 | The ultimate version also syncs directly with our Five Star Restaurant Manager mobile app, for iOS and Android, which lets you manage your orders from your phone or tablet without needing to log in to your site/WordPress. With this, you can: |
  | 158 | 159 |  |
  | 159 |  | ~~\*~~ Receive push notifications when new orders are submitted. |
  | 160 |  | ~~\*~~ View all orders directly in the app. |
  | 161 |  | ~~\*~~ Change the status of individual orders (e.g. to preparing or ready). |
  | 162 |  | ~~\*~~ Access the customer's phone number or email address to quickly get in touch with them. |
  |  | 160 | - Receive push notifications when new orders are submitted. |
  |  | 161 | - View all orders directly in the app. |
  |  | 162 | - Change the status of individual orders (e.g. to preparing or ready). |
  |  | 163 | - Access the customer's phone number or email address to quickly get in touch with them. |
  | 163 | 164 |  |
  | 164 | 165 | With these features, you can set the app up on a tablet in the restaurant kitchen, to prepare orders as they come in, or for you to manage them anywhere on the go! |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L170) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L171) |  |
  | 170 | 171 | This plugin is one part of our suite designed to give you the best WordPress restaurant experience. Check out the powerful [Restaurant Reservations](https://wordpress.org/plugins/restaurant-reservations/) plugin and let your customers reserve a table directly on your site. With its intuitive and easy-to-use interface, you'll be sure to not lose out on business to your competitors. |
  | 171 | 172 |  |
  | 172 |  | = For help and support, please see: = |
  | 173 |  |  |
  | 174 |  | \* Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  | 175 |  | \* Our FAQ page, here: [https://wordpress.org/plugins/food-and-drink-menu/faq/](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  | 176 |  | \* Our installation guide, here: [https://wordpress.org/plugins/food-and-drink-menu/installation/](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  | 177 |  | \* Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  | 178 |  | \* The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  | 179 |  | \* Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  | 180 |  |  |
  |  | 173 | ### Help and support |
  |  | 174 |  |
  |  | 175 | - [Our documentation and user guide](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  |  | 176 | - [Our installation guide](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  |  | 177 | - [FAQs](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  |  | 178 | - [Our tutorial videos](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  |  | 179 | - [The support forum](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  |  | 180 | - [Our Support Center](https://www.fivestarplugins.com/support-center/) |
  | 181 | 181 |  |
  | 182 | 182 | == Installation == |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L198) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L198) |  |
  | 198 | 198 |  |
  | 199 | 199 | 1. To create a menu section: |
  | 200 |  | ~~\*~~ Open the 'Sections' tab in the plugin admin panel. |
  | 201 |  | ~~\*~~ The 'Add New Menu Section' area will be on the left. Fill in the fields and click the 'Add New Menu Section' button. |
  | 202 |  | ~~\*~~ Your new section will show in the table on the right. You can click on it there to edit it. |
  | 203 |  | ~~\*~~ You can now assign menu items to specific sections from the menu item create/edit screen. |
  |  | 200 | - Open the 'Sections' tab in the plugin admin panel. |
  |  | 201 | - The 'Add New Menu Section' area will be on the left. Fill in the fields and click the 'Add New Menu Section' button. |
  |  | 202 | - Your new section will show in the table on the right. You can click on it there to edit it. |
  |  | 203 | - You can now assign menu items to specific sections from the menu item create/edit screen. |
  | 204 | 204 |  |
  | 205 | 205 | 2. To create menu items: |
  | 206 |  | ~~\*~~ Open the 'Menu Items' tab in the plugin admin panel. |
  | 207 |  | ~~\*~~ Click on the 'Add Menu Item' button. |
  | 208 |  | ~~\*~~ Fill in the title, description and price fields, add a photo, and then choose the corresponding menu section. |
  | 209 |  | ~~\*~~ Once you've filled everything in, click the Publish button. This menu item will now be created and added to the menu section you chose. |
  |  | 206 | - Open the 'Menu Items' tab in the plugin admin panel. |
  |  | 207 | - Click on the 'Add Menu Item' button. |
  |  | 208 | - Fill in the title, description and price fields, add a photo, and then choose the corresponding menu section. |
  |  | 209 | - Once you've filled everything in, click the Publish button. This menu item will now be created and added to the menu section you chose. |
  | 210 | 210 |  |
  | 211 | 211 | 3. To create a menu: |
  | 212 |  | ~~\*~~ Open the 'Menus' tab in the plugin admin panel. |
  | 213 |  | ~~\*~~ Click on the 'Add Menu' button |
  | 214 |  | ~~\*~~ Type in a title for your menu |
  | 215 |  | ~~\*~~ Now use the Menu Layout area to drag and drop the different menu sections you've created into your menu |
  | 216 |  | ~~\*~~ Use the Menu Footer area to specify any extra notes that you want to display in your menu |
  | 217 |  | ~~\*~~ Now you can place the included 'Menu' Gutenberg block or the the [fdm-menu] shortcode in the content area of any page you've created and it will display your menu. (Please note that it's usually best to display your menu on a page that uses a full-width page templage [i.e. no sidebar].) |
  |  | 212 | - Open the 'Menus' tab in the plugin admin panel. |
  |  | 213 | - Click on the 'Add Menu' button |
  |  | 214 | - Type in a title for your menu |
  |  | 215 | - Now use the Menu Layout area to drag and drop the different menu sections you've created into your menu |
  |  | 216 | - Use the Menu Footer area to specify any extra notes that you want to display in your menu |
  |  | 217 | - Now you can place the included 'Menu' Gutenberg block or the the [fdm-menu] shortcode in the content area of any page you've created and it will display your menu. (Please note that it's usually best to display your menu on a page that uses a full-width page templage [i.e. no sidebar].) |
  | 218 | 218 |  |
  | 219 | 219 | 4. Customize your experience by making use of the available options, found in the Settings area of the plugin admin. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L223) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L223) |  |
  | 223 | 223 | = For help and support, please see: = |
  | 224 | 224 |  |
  | 225 |  | ~~\*~~ Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  | 226 |  | ~~\*~~ Our FAQ page, here: [https://wordpress.org/plugins/food-and-drink-menu/faq/](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  | 227 |  | ~~\*~~ Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  | 228 |  | ~~\*~~ The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  | 229 |  | ~~\*~~ Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  |  | 225 | - Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  |  | 226 | - Our FAQ page, here: [https://wordpress.org/plugins/food-and-drink-menu/faq/](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  |  | 227 | - Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  |  | 228 | - The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  |  | 229 | - Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  | 230 | 230 |  |
  | 231 | 231 |  |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L254) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L254) |  |
  | 254 | 254 | On the Edit screen, you’ll see an area to type in a description. This is a great place to put in details such as: |
  | 255 | 255 |  |
  | 256 |  | ~~\*~~ All entrees come with a side salad or fries. |
  | 257 |  | ~~\*~~ Add cheese to any burger for $1. Add bacon for $2. |
  | 258 |  | ~~\*~~ Add fries and a coke to any order during lunchtime for just $10. |
  |  | 256 | - All entrees come with a side salad or fries. |
  |  | 257 | - Add cheese to any burger for $1. Add bacon for $2. |
  |  | 258 | - Add fries and a coke to any order during lunchtime for just $10. |
  | 259 | 259 |  |
  | 260 | 260 | = Can I have different sections with the same name? = |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L280) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L280) |  |
  | 280 | 280 | The Menu Footer is a great place to add details such as: |
  | 281 | 281 |  |
  | 282 |  | ~~\*~~ All parties of 6 or more will automatically be charged a gratuity of 10%. |
  | 283 |  | ~~\*~~ All dishes are cooked in a kitchen with nuts. |
  | 284 |  | ~~\*~~ All of our meat is free-range and sourced from local producers. |
  |  | 282 | - All parties of 6 or more will automatically be charged a gratuity of 10%. |
  |  | 283 | - All dishes are cooked in a kitchen with nuts. |
  |  | 284 | - All of our meat is free-range and sourced from local producers. |
  | 285 | 285 |  |
  | 286 | 286 | = I need to mark some dishes as vegetarian, spicy or similar? = |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L294) | […](/browser/food-and-drink-menu/tags/2.4.17/readme.txt?rev=3097599#L294) |  |
  | 294 | 294 | = For help and support, please see: = |
  | 295 | 295 |  |
  | 296 |  | \* Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  | 297 |  | \* Our installation guide, here: [https://wordpress.org/plugins/food-and-drink-menu/installation/](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  | 298 |  | \* Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  | 299 |  | \* The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  | 300 |  | \* Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  | 301 |  |  |
  | 302 |  | == Screenshots == |
  | 303 |  |  |
  | 304 |  | 1. Menu with sidebar and using the Refined style. |
  | 305 |  | 2. Menu using the Image style. |
  | 306 |  | 3. Classic menu style in a single-column layout and with sidebar. |
  | 307 |  | 4. Classic menu style in a two-column layout. |
  | 308 |  | 5. Menu making use of the dietary icons and specials labels. |
  | 309 |  | 6. Refined menu style in two columns. |
  | 310 |  | 7. Lightbox showing menu item details and custom fields. |
  | 311 |  | 8. Ordering enabled and an add-to-cart button displaying for each item. |
  | 312 |  | 9. Select extra options and leave a note when adding an item to the cart. |
  | 313 |  | 10. View of the ordering cart showing added items, selected options, notes, quantities and the total. |
  | 314 |  | 11. The customer can hide the cart for a better browsing experience. |
  | 315 |  | 12. View of the cart checkout screen. |
  | 316 |  | 13. The plugin dashboard. |
  | 317 |  | 14. Add menu items with photos like regular WordPress posts. |
  | 318 |  | 15. Lay out your menu with a point-and-click interface. |
  | 319 |  | 16. Create and edit custom fields. |
  | 320 |  | 17. Some of the available ordering options, including the scheduler. |
  | 321 |  | 18. The styling options. |
  | 322 |  |  |
  |  | 296 | - [Our documentation and user guide](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  |  | 297 | - [Our installation guide](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  |  | 298 | - [Our tutorial videos](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  |  | 299 | - [The support forum](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  |  | 300 | - [Our Support Center](https://www.fivestarplugins.com/support-center/) |
  | 323 | 301 |  |
  | 324 | 302 | == Changelog == |
  | 325 | 303 |  |
  | 326 |  | = 2.4.16 (2024-04-04) = |
  | 327 |  | - Ratings (from Five Star Restaurant Reviews plugin) can now be displayed on the main menu page. |
  | 328 |  | - Tested for compatibility with WP 6.5 and PHP 8.2, and eliminated/fixed deprecated notices associated with this. |
  | 329 |  |  |
  | 330 |  | = 2.4.15 (2024-01-31) = |
  | 331 |  | - Added a new menu style (Luxe) |
  | 332 |  | - Added a shortcode attribute to be able to hide the sidebar on a per-menu basis. |
  | 333 |  | - Fix for a styling issue with the Ordering menu style when the sidebar was disabled/hidden. |
  | 334 |  |  |
  | 335 |  | = 2.4.14 (2023-12-05) = |
  | 336 |  | - Correcting a CSS issue causing the details lightbox to show on page load in some instances. |
  | 337 |  |  |
  | 338 |  | = 2.4.13 (2023-12-04) = |
  | 339 |  | - Added a new responsive menu style adapted for use with the food ordering functionality. |
  | 340 |  | - Added styling settings for the new menu style that let you choose the number of columns and the accent color. |
  | 341 |  | - Added a new option to change the ordering cart location from the side to the bottom. |
  | 342 |  | - The new bottom panel location has a unique responsive design to enhance the ordering/checkout process. |
  | 343 |  | - Choose from two variations for the bottom location cart. |
  | 344 |  | - Added a new styling settings section for ordering elements and several new styling options for the the bottom location cart. |
  | 345 |  | - Styling updates to streamline look of all modals and correct a few small styling issues/conflicts. |
  | 346 |  |  |
  | 347 |  | = 2.4.12 (2023-11-07) = |
  | 348 |  | - Tested for WordPress 6.4 compatibility/support. |
  | 349 |  |  |
  | 350 |  | = 2.4.11 (2023-10-17) = |
  | 351 |  | - Fix for dropdown field values not displaying correctly on the admin edit order screen. |
  | 352 |  | - Fix for certain custom field values not being saved correctly on the admin edit order screen. |
  | 353 |  | - Fix for a couple of warnings on the admin edit order screen. |
  | 354 |  | - Updated nonces related to ordering functionality. |
  | 355 |  |  |
  | 356 |  | = 2.4.10 (2023-08-22) = |
  | 357 |  | - Styling updates for a few ordering elements. |
  | 358 |  | - Styling fixes/updates for the item icons (flags). |
  | 359 |  | - Fix for "On Sale" text using wrong labelling option. |
  | 360 |  | - Updated .pot translation file. |
  | 361 |  |  |
  | 362 |  | = 2.4.9 (2023-08-18) = |
  | 363 |  | - Updated the Stripe payment gateway (for food ordering in the ultimate version) to now use the Stripe payment intents system, so you can now enable many different payment methods. |
  | 364 |  | - With this new system, you can now also take payments as holds and charge/capture later. |
  | 365 |  | - Added an option to disable decimals in prices. |
  | 366 |  | - Updated styling for the order payment submit button to make it more obvious that the button is disabled. |
  | 367 |  | - Fixed issue with the sorting of orders not applying across additional pages in the admin orders overview table. |
  | 368 |  |  |
  | 369 |  | = 2.4.8 (2023-08-08) = |
  | 370 |  | - Tested for WordPress 6.3 compatibility/support. |
  | 371 |  |  |
  | 372 |  | = 2.4.7 (2023-07-05) = |
  | 373 |  | - Fixed error with duplicate menu item feature. |
  | 374 |  |  |
  | 375 |  | = 2.4.6 (2023-06-21) = |
  | 376 |  | - Fix for an issue in which, when updating existing items via spreadsheet import, it would add prices instead of replacing them. |
  | 377 |  |  |
  | 378 |  | = 2.4.5 (2023-06-16) = |
  | 379 |  | - Updating/correcting styling and content in the admin/dashboard. |
  | 380 |  |  |
  | 381 |  | = 2.4.4 (2023-04-14) = |
  | 382 |  | - Fixed an issue causing the advanced ordering modal to sometimes show right away on page load. |
  | 383 |  | - Fixed a styling conflict with the advanced ordering modal and the the Twenty Twenty-Three theme. |
  | 384 |  |  |
  | 385 |  | = 2.4.3 (2023-03-30) = |
  | 386 |  | - Updating blocks for compatibility with WordPress 6.2. |
  | 387 |  | - Fixed an issue with an undefined JavaScript function. |
  | 388 |  |  |
  | 389 |  | = 2.4.2 (2023-02-28) = |
  | 390 |  | - Correcting an issue with the decimal rounding that was causing the price to show as 0.00 if you were including a currency symbol directly in the price for an item instead of using the currency symbol settings. |
  | 391 |  |  |
  | 392 |  | = 2.4.1 (2023-02-23) = |
  | 393 |  | - Added the ability to modify existing orders with an all new order edit screen. |
  | 394 |  | - Updated the order notifications configuration area to allow for more flexibility in the creation and use of notifications. |
  | 395 |  | - Added the ability to specify an ETA time for orders, and to include that info in notifications. |
  | 396 |  | - Added the ability to specify a global tax percentage applied to all items/orders. |
  | 397 |  | - Added the ability to mark an item as sold out, so that it still shows in your menu, but is not available for purchase. |
  | 398 |  | - Added labelling option. |
  | 399 |  | - Updated the styling of modals in the admin and on the front end. |
  | 400 |  | - Updated some of the text in the admin and settings screen for clarity. |
  | 401 |  | - For ultimate users, your SMS credit balance and expiry now show below the notifications table in the admin. |
  | 402 |  | - Added a list of template tags available for the notifications. |
  | 403 |  | - Updated the SMS notifications with regard to the template tags. |
  | 404 |  | - Removed/eliminated a few notices. |
  | 405 |  |  |
  | 406 |  | = 2.4.0 (2023-01-24) = |
  | 407 |  | - This update introduces the new Ultimate version of the plugin, with features to allow ordering and payments directly from your menu page, to send SMS notifications for new orders, to sync with the Five Star Restaurant Manager mobile app (and receive push notifications for new orders) and more. |
  |  | 304 | = 2.4.17 (2024-06-04) = |
  |  | 305 | - Updating the security of walk-through steps. |
  | 408 | 306 |  |
  | 409 | 307 | [See changelog for all versions](https://www.fivestarplugins.com/changelogs/food-and-drink-menu.txt). |
* ## [food-and-drink-menu/trunk/food-and-drink-menu.php](/changeset/3097599/food-and-drink-menu/trunk/food-and-drink-menu.php "Show the changeset 3097599 restricted to food-and-drink-menu/trunk/food-and-drink-menu.php")

  | [r3064857](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3064857#L1 "Show revision 3064857 of this file in browser") | [r3097599](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3097599#L1 "Show revision 3097599 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | /\*\* |
  | 3 |  | \* Plugin Name: Restaurant Menu and Food Ordering |
  |  | 3 | \* Plugin Name: Five Star Restaurant Menu and Food Ordering |
  | 4 | 4 | \* Plugin URI: https://www.fivestarplugins.com/plugins/five-star-restaurant-menu/ |
  | 5 |  | \* Description: Restaurant menu and food ordering system that is easy to set up and in~~cludes blocks, patterns and shortcodes for integration with any theme~~. |
  | 6 |  | \* Version: 2.4.1~~6~~ |
  |  | 5 | \* Description: Restaurant menu and food ordering system that is easy to set up and integrates with any theme. Includes restaurant menu blocks and patterns. |
  |  | 6 | \* Version: 2.4.17 |
  | 7 | 7 | \* Requires at least: 6.0 |
  | 8 | 8 | \* Author: Five Star Plugins |
  | […](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3064857#L44) | […](/browser/food-and-drink-menu/trunk/food-and-drink-menu.php?rev=3097599#L44) |  |
  | 44 | 44 | define( 'FDM\_UPGRADE\_URL', 'https://www.fivestarplugins.com/license-payment/?Selected=FDM&Quantity=1' ); |
  | 45 | 45 | define( 'FDM\_TEMPLATE\_DIR', 'fdm-templates' ); |
  | 46 |  | define( 'FDM\_VERSION', '2.4.1~~6~~' ); |
  |  | 46 | define( 'FDM\_VERSION', '2.4.17' ); |
  | 47 | 47 | define( 'FDM\_MENU\_POST\_TYPE', 'fdm-menu' ); |
  | 48 | 48 | define( 'FDM\_MENUITEM\_POST\_TYPE', 'fdm-menu-item' ); |
* ## [food-and-drink-menu/trunk/includes/class-installation-walkthrough.php](/changeset/3097599/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php "Show the changeset 3097599 restricted to food-and-drink-menu/trunk/includes/class-installation-walkthrough.php")

  | [r2679403](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L63 "Show revision 2679403 of this file in browser") | [r3097599](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=3097599#L63 "Show revision 3097599 of this file in browser") |  |
  | --- | --- | --- |
  | 63 | 63 |  |
  | 64 | 64 | // Authenticate request |
  | 65 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 66 |  |  |
  |  | 65 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 66 |  |
  | 67 | 67 | fdmHelper::admin\_nopriv\_ajax(); |
  | 68 | 68 | } |
  | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L81) | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=3097599#L81) |  |
  | 81 | 81 |  |
  | 82 | 82 | // Authenticate request |
  | 83 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 84 |  |  |
  |  | 83 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 84 |  |
  | 85 | 85 | fdmHelper::admin\_nopriv\_ajax(); |
  | 86 | 86 | } |
  | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L112) | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=3097599#L112) |  |
  | 112 | 112 |  |
  | 113 | 113 | // Authenticate request |
  | 114 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 115 |  |  |
  |  | 114 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 115 |  |
  | 116 | 116 | fdmHelper::admin\_nopriv\_ajax(); |
  | 117 | 117 | } |
  | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403#L145) | […](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=3097599#L145) |  |
  | 145 | 145 |  |
  | 146 | 146 | // Authenticate request |
  | 147 |  | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) ) { |
  | 148 |  |  |
  |  | 147 | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
  |  | 148 |  |
  | 149 | 149 | fdmHelper::admin\_nopriv\_ajax(); |
  | 150 | 150 | } |
* ## [food-and-drink-menu/trunk/readme.txt](/changeset/3097599/food-and-drink-menu/trunk/readme.txt "Show the changeset 3097599 restricted to food-and-drink-menu/trunk/readme.txt")

  | [r3064857](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L1 "Show revision 3064857 of this file in browser") | [r3097599](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L1 "Show revision 3097599 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | === Restaurant Menu and Food Ordering === |
  |  | 1 | === Five Star Restaurant Menu and Food Ordering === |
  | 2 | 2 | Contributors: rustaurius |
  | 3 | 3 | Donate Link: https://www.etoilewebdesign.com/plugin-donations/ |
  | 4 |  | Tags: restaurant~~menu, food ordering, food menu, restaurant~~, food order, food delivery, takeaway, food pickup, online food ordering |
  |  | 4 | Tags: restaurant, restaurant menu, online restaurant, restaurant order, mobile restaurant menu, food ordering, mobile food ordering, food menu, food order, food delivery, takeaway, food pickup, online food ordering |
  | 5 | 5 | Requires at Least: 6.0 |
  | 6 | 6 | Tested Up To: 6.5 |
  | 7 |  | Stable tag: 2.4.16 |
  | 8 |  | Requires PHP: 7.4 |
  |  | 7 | Stable tag: 2.4.17 |
  | 9 | 8 | License: GPLv3 |
  | 10 | 9 | License URI: https://www.gnu.org/licenses/gpl-3.0.html |
  | 11 |  | Restaurant menu and food ordering system that is easy to set up and includes blocks, patterns and shortcodes for integration with any theme. |
  |  | 10 |  |
  |  | 11 | Restaurant menu and food ordering system that is easy to set up and integrates with any theme. Includes restaurant menu blocks and patterns. |
  | 12 | 12 |  |
  | 13 | 13 | == Description == |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L21) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L21) |  |
  | 21 | 21 | [Menu Demo](https://www.fivestarplugins.com/five-star-restaurant-menu-demo/) |
  | 22 | 22 |  |
  | 23 |  | = Key Features = |
  | 24 |  |  |
  | 25 |  | ~~\*~~ Unlimited restaurant menus and menu items. |
  | 26 |  | ~~\* Responsive layout that~~ looks great on mobile and all devices. |
  | 27 |  | ~~\*~~ Add your restaurant menu to any page via the included \*\*Gutenberg blocks and shortcodes\*\*. |
  | 28 |  | ~~\*~~ Add a menu directly into any of your restaurant site's block theme templates via the included \*\*patterns\*\*. |
  | 29 |  | ~~\*~~ Add unique photos and prices to each food or drink menu item . |
  | 30 |  | ~~\* Optional sidebar to display your~~ sections, for quick navigation. |
  | 31 |  | ~~\*~~ Full restaurant menu schema structured data automatically integrated, so Google can correctly identify your page as a menu and use it accordingly in search results. |
  | 32 |  | ~~\*~~ Create a QR code that you can use in restaurant to let your guests see your online menu. |
  |  | 23 | ### Key Features |
  |  | 24 |  |
  |  | 25 | - Unlimited restaurant menus and menu items. |
  |  | 26 | - Responsive layout, so your restaurant menu looks great on mobile and all devices. |
  |  | 27 | - Add your restaurant menu to any page via the included \*\*Gutenberg blocks and shortcodes\*\*. |
  |  | 28 | - Add a menu directly into any of your restaurant site's block theme templates via the included \*\*patterns\*\*. |
  |  | 29 | - Add unique photos and prices to each food or drink menu item . |
  |  | 30 | - Optional sidebar to display your restaurant menu sections, for quick navigation. |
  |  | 31 | - Full restaurant menu schema structured data automatically integrated, so Google can correctly identify your page as a menu and use it accordingly in search results. |
  |  | 32 | - Create a QR code that you can use in restaurant to let your guests see your online menu. |
  | 33 | 33 |  |
  | 34 | 34 | \*\*\*Five Star Restaurant Menu\*\* is very user friendly and comes with a walk-through that runs automatically when you activate the plugin and will help you create your first menu items, add the menu to your site and set key options!\* |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L36) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L36) |  |
  | 36 | 36 | [youtube https://www.youtube.com/watch?v=F30zoC0D55o] |
  | 37 | 37 |  |
  | 38 |  | = Menu QR Code = |
  | 39 |  |  |
  | 40 |  | The plugin comes with the ability for you to generate a QR code that leads directly to your online menu. You can place these, for example, at the tables in your restaurant, so guests can scan them and gain easy and quick access to the menu page on your website. |
  |  | 38 | ### Restaurant Menu QR Code |
  |  | 39 |  |
  |  | 40 | The plugin comes with the ability for you to generate a QR code that leads directly to your online menu. You can place these, for example, at the tables in your restaurant, so guests can scan them and gain easy and quick access to the restaurant menu page on your website. |
  | 41 | 41 |  |
  | 42 | 42 | There are several great benefits to utilizing your online menu in your restaurant, including: |
  | 43 | 43 |  |
  | 44 |  | ~~\* Quick updates: You can instantaneously make changes to your~~ menu. No matter how small or big the change you need to make is, you won't need to reprint anything or explain it to every customer. |
  | 45 |  | ~~\* Save money and trees by avoiding the need to print your~~ menus. |
  | 46 |  | ~~\*~~ Creates a more contactless experience, no longer having menus shared between all customers. |
  | 47 |  |  |
  | 48 |  | = Menu Sections = |
  | 49 |  |  |
  | 50 |  | The plugin comes with the ability to create separate menu sections. This allows you to divide a menu into multiple parts, making it more clear for your customers. You can even include a note for a section (e.g. "All items in this section come with salad or fries."). Some examples of sections you can create are: |
  | 51 |  |  |
  | 52 |  | ~~\*~~ Appetizers |
  | 53 |  | ~~\*~~ Main Course |
  | 54 |  | ~~\*~~ Dessert Menu |
  | 55 |  | ~~\*~~ Kid's Menu |
  | 56 |  | ~~\*~~ Gluten Free Menu |
  | 57 |  | ~~\*~~ Weekly Specials |
  |  | 44 | - Quick updates: You can instantaneously make changes to your restaurant menu. No matter how small or big the change you need to make is, you won't need to reprint anything or explain it to every customer. |
  |  | 45 | - Save money and trees by avoiding the need to print your restaurant menus. |
  |  | 46 | - Creates a more contactless experience, no longer having menus shared between all customers. |
  |  | 47 |  |
  |  | 48 | ### Restaurant Menu Sections |
  |  | 49 |  |
  |  | 50 | The plugin comes with the ability to create separate restaurant menu sections. This allows you to divide a menu into multiple parts, making it more clear for your customers. You can even include a note for a section (e.g. "All items in this section come with salad or fries."). Some examples of sections you can create are: |
  |  | 51 |  |
  |  | 52 | - Appetizers |
  |  | 53 | - Main Course |
  |  | 54 | - Dessert Menu |
  |  | 55 | - Kid's Menu |
  |  | 56 | - Gluten Free Menu |
  |  | 57 | - Weekly Specials |
  | 58 | 58 |  |
  | 59 | 59 | You can then add a sidebar to your restaurant menu page, which lists all your sections, so your guests can quickly find what they're looking for. |
  | 60 | 60 |  |
  | 61 |  | In addition to this, you can also create completely separate and customizable menus. This feature can be used for several different purposes including individual menus for different meals, but also separate menus for drinks or snacks. It even works great if your restaurant is split up into different areas (e.g. a dining hall, a cafe, a bistro, etc.). Some examples of individual menus you can create are: |
  | 62 |  |  |
  | 63 |  | ~~\*~~ Breakfast |
  | 64 |  | ~~\*~~ Brunch |
  | 65 |  | ~~\*~~ Lunch |
  | 66 |  | ~~\*~~ Dinner |
  | 67 |  | ~~\*~~ Wine |
  | 68 |  | ~~\*~~ Drinks |
  | 69 |  | ~~\*~~ Snacks |
  | 70 |  | ~~\*~~ Cafe Menu |
  | 71 |  | ~~\*~~ Specialties |
  | 72 |  | ~~\*~~ The possibilities are endless! |
  | 73 |  |  |
  | 74 |  | = More Features! = |
  | 75 |  |  |
  | 76 |  | Several additional features are included that will help ensure you're able to set your menu up easily and with all the options you need. They will also enable you to deliver the best and easiest drink and food menu experience for the visitors to your restaurant's website. These features include: |
  | 77 |  |  |
  | 78 |  | ~~\*~~ Extra Gutenberg blocks to display individual sections or items on a page (instead of just a whole menu). |
  | 79 |  | ~~\* Several extra patterns, so you can integrate~~ menus, sections and individual items directly into your block theme. |
  | 80 |  | ~~\*~~ Ability to add multiple prices for a single item. |
  | 81 |  | ~~\* Advanced template system for further layout customization of your~~ menu(s). |
  | 82 |  | ~~\*~~ Simple compatibility with WPML for multi-language sites. |
  | 83 |  | ~~\*~~ Restaurants can add a footer to each drink or food menu for legal disclaimers or other notes. |
  | 84 |  | ~~\* Display reviews for~~ menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  | 85 |  | ~~\* Add a submit review form to~~ menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  | 86 |  | ~~\*~~ Widgets to display quick restaurant menu items in your sidebar or footer. |
  | 87 |  |  |
  | 88 |  | = Premium Restaurant Menu = |
  | 89 |  |  |
  | 90 |  | With the premium version of the plugin, you can extend the functionality of your menu to offer your guests the best possible experience. This includes multiple layout options, the ability to add custom fields to your menu items, sorting and filtering options, and much more. |
  |  | 61 | In addition to this, you can also create completely separate and customizable restaurant menus. This feature can be used for several different purposes including individual menus for different meals, but also separate menus for drinks or snacks. It even works great if your restaurant is split up into different areas (e.g. a dining hall, a cafe, a bistro, etc.). Some examples of individual menus you can create are: |
  |  | 62 |  |
  |  | 63 | - Breakfast |
  |  | 64 | - Brunch |
  |  | 65 | - Lunch |
  |  | 66 | - Dinner |
  |  | 67 | - Wine |
  |  | 68 | - Drinks |
  |  | 69 | - Snacks |
  |  | 70 | - Cafe Menu |
  |  | 71 | - Specialties |
  |  | 72 | - The possibilities are endless! |
  |  | 73 |  |
  |  | 74 | ### More Features! |
  |  | 75 |  |
  |  | 76 | Several additional features are included that will help ensure you're able to set your restaurant menu up easily and with all the options you need. They will also enable you to deliver the best and easiest drink and food menu experience for the visitors to your restaurant's website. These features include: |
  |  | 77 |  |
  |  | 78 | - Extra Gutenberg blocks to display individual sections or items on a page (instead of just a whole menu). |
  |  | 79 | - Several extra patterns, so you can integrate restaurant menus, sections and individual items directly into your block theme. |
  |  | 80 | - Ability to add multiple prices for a single item. |
  |  | 81 | - Advanced template system for further layout customization of your restaurant menu(s). |
  |  | 82 | - Simple compatibility with WPML for multi-language sites. |
  |  | 83 | - Restaurants can add a footer to each drink or food menu for legal disclaimers or other notes. |
  |  | 84 | - Display reviews for restaurant menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  |  | 85 | - Add a submit review form to restaurant menu items (requires the premium version of the Five Star Restaurant Reviews plugin). |
  |  | 86 | - Widgets to display quick restaurant menu items in your sidebar or footer. |
  |  | 87 |  |
  |  | 88 | ### Premium Restaurant Menu |
  |  | 89 |  |
  |  | 90 | With the premium version of the plugin, you can extend the functionality of your restaurant menu to offer your guests the best possible experience. This includes multiple layout options, the ability to add custom fields to your menu items, sorting and filtering options, and much more. |
  | 91 | 91 |  |
  | 92 | 92 | Premium features include: |
  | 93 | 93 |  |
  | 94 |  | \* Additional responsive menu styles/layouts, including: |
  | 95 |  | \* The \*\*Refined\*\* style, which displays your menu in an elegant layout, without images, like you may find in an upscale restaurant. |
  | 96 |  | \* The \*\*Image\*\* style: Perfect for showcasing all the great photos you have of your menu items. |
  | 97 |  | \* The \*new\* \*\*Ordering\*\* style: Designed and adapted for use specifically with the ordering features available in the ultimate version, this layout makes browsing, adding to cart and checking out a breeze. |
  | 98 |  | \* Custom fields to add any extra info you want to your menu items. |
  | 99 |  | \* Sorting, filtering and search options to let your customers find the exact meal or item they're looking for. |
  | 100 |  | \* Icons to indicate dietary and ethical requirements, including organic, gluten-free, kosher, halal and many more. |
  | 101 |  | \* Badges for item features, specials and sales. |
  | 102 |  | \* Special/discount pricing. |
  | 103 |  | \* Google maps to show off local suppliers or ethical sourcing programs. |
  | 104 |  | \* Add a related items section to the single menu item page. |
  | 105 |  | \* Labelling options that let you change the wording for all the labels displayed on the front end of the plugin. |
  | 106 |  | \* Advanced styling options to change the fonts, colors, widths, borders, etc. of the different menu elements on your restaurant site. |
  |  | 94 | - Additional responsive restaurant menu styles/layouts, including: |
  |  | 95 | - The \*\*Refined\*\* style, which displays your restaurant menu in an elegant layout, without images, like you may find in an upscale restaurant. |
  |  | 96 | - The \*\*Image\*\* style: Perfect for showcasing all the great photos you have of your restaurant menu items. |
  |  | 97 | - The \*\*Ordering\*\* style: Designed and adapted for use specifically with the ordering features available in the ultimate version, this layout makes browsing, adding to cart and checking out a breeze. |
  |  | 98 | - The \*\*Luxe\*\* style: A variation on the Refined style, this minimalist layout gives a luxury feel to your restaurant menu and fits in any theme. |
  |  | 99 | - Custom fields to add any extra info you want to your restaurant menu items. |
  |  | 100 | - Sorting, filtering and search options to let your customers find the exact meal or item they're looking for. |
  |  | 101 | - Icons to indicate dietary and ethical requirements, including organic, gluten-free, kosher, halal and many more. |
  |  | 102 | - Badges for item features, specials and sales. |
  |  | 103 | - Special/discount pricing. |
  |  | 104 | - Google maps to show off local suppliers or ethical sourcing programs. |
  |  | 105 | - Add a related items section to the single menu item page. |
  |  | 106 | - Labelling options that let you change the wording for all the labels displayed on the front end of the plugin. |
  |  | 107 | - Advanced styling options to change the fonts, colors, widths, borders, etc. of the different restaurant menu elements on your restaurant site. |
  | 107 | 108 |  |
  | 108 | 109 | By combining the sorting/filtering/search options with the badges, dietary icons and specials, you can be sure that your guests will be able to locate the best possible menu items for them in no time at all. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L110) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L111) |  |
  | 110 | 111 | [youtube https://www.youtube.com/watch?v=2NCgp67M\_k4] |
  | 111 | 112 |  |
  | 112 |  | = Food Ordering (Requires Ultimate Version) = |
  |  | 113 | ### Food Ordering (Requires Ultimate Version) |
  | 113 | 114 |  |
  | 114 | 115 | The ultimate version of the Five Star Restaurant Menu plugin lets you add a complete food ordering system to your restaurant website. Stop paying commissions to third-party services and start offering ordering directly on your site. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L116) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L117) |  |
  | 116 | 117 | Key features of the food ordering platform include: |
  | 117 | 118 |  |
  | 118 |  | ~~\* Add-to-cart buttons for all~~ menu items. |
  | 119 |  | ~~\* Intuitive cart that fits into any theme and lets customers easily add items~~ and check out. |
  | 120 |  | ~~\*~~ Options to have the responsive cart display at the bottom of the screen or on the side. |
  | 121 |  | ~~\*~~ Require payment immediately or give your customer the option to pay at the restaurant. |
  | 122 |  | ~~\*~~ Use Stripe payment intents (see below for details) or PayPal as your payment gateway. |
  | 123 |  | ~~\*~~ Create unlimited notifications, which can be sent via email and/or SMS to the restaurant admin and the customer when a new order is placed and/or whenever the status is changed for a food order. |
  | 124 |  | ~~\*~~ Easy-to-use admin interface lets you quickly manage your orders. |
  | 125 |  | ~~\*~~ Advanced order edit screen, via which you can update the customer information, the items in the order, the order status as well as the payment amount. |
  | 126 |  | ~~\*~~ Syncs directly with the Five Star Restaurant Manager mobile app (iOS and Android), so you can receive push notifications for new orders and manage your orders in the restaurant kitchen or on the go. |
  | 127 |  |  |
  | 128 |  | Setting it up couldn't be easier. When you enable the ordering feature, an "Add to Cart" button will appear on each menu item, which will let you add as many items as you want to the cart. There are also options to enable advanced ordering features, which let you have multiple prices per item as well as add-ons that guests can select when adding items to their cart. |
  |  | 119 | - Add-to-cart buttons for all restaurant menu items. |
  |  | 120 | - Intuitive cart that fits into any theme and lets customers easily add items directly from the your restaurant menu and check out. |
  |  | 121 | - Options to have the responsive cart display at the bottom of the screen or on the side. |
  |  | 122 | - Require payment immediately or give your customer the option to pay at the restaurant. |
  |  | 123 | - Use Stripe payment intents (see below for details) or PayPal as your payment gateway. |
  |  | 124 | - Create unlimited notifications, which can be sent via email and/or SMS to the restaurant admin and the customer when a new order is placed and/or whenever the status is changed for a food order. |
  |  | 125 | - Easy-to-use admin interface lets you quickly manage your orders. |
  |  | 126 | - Advanced order edit screen, via which you can update the customer information, the items in the order, the order status as well as the payment amount. |
  |  | 127 | - Syncs directly with the Five Star Restaurant Manager mobile app (iOS and Android), so you can receive push notifications for new orders and manage your orders in the restaurant kitchen or on the go. |
  |  | 128 |  |
  |  | 129 | Setting it up couldn't be easier. When you enable the ordering feature, an "Add to Cart" button will appear on each restaurant menu item, which will let you add as many items as you want to the cart. There are also options to enable advanced ordering features, which let you have multiple prices per item as well as add-ons that guests can select when adding items to their cart. |
  | 129 | 130 |  |
  | 130 | 131 | From the cart, you can then increase and decrease the quantity, remove items and view any special requests or add-ons. Checkout is a breeze with the included options. You can set it so that customers are required to pay right away at checkout or give them the option to pay when they pick the food up at your restaurant. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L140) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L141) |  |
  | 140 | 141 | Further customization features for the restaurant ordering system include: |
  | 141 | 142 |  |
  | 142 |  | ~~\*~~ Add-ons for menu items, which can be selected when adding to cart (e.g. extra toppings). |
  | 143 |  | ~~\*~~ Restrict when ordering should be available by setting up a schedule. |
  | 144 |  | ~~\*~~ Set a minimum order total (e.g. in dollars, euros, etc., depending on your chosen currency). |
  | 145 |  | ~~\*~~ Option to temporarily pause ordering (e.g. you are at capacity in your restaurant or for orders). |
  | 146 |  | ~~\*~~ Alternatively, set a maximum number of orders that you can take. |
  | 147 |  | ~~\*~~ Fields for the customer to leave notes for both individual items and the overall order. |
  | 148 |  | ~~\*~~ Add custom fields to the order form (e.g. if you require extra info from your customers, want to offer delivery, etc.). |
  | 149 |  | ~~\*~~ Styling and labelling options to further customize the order form. |
  |  | 143 | - Add-ons for menu items, which can be selected when adding to cart (e.g. extra toppings). |
  |  | 144 | - Restrict when ordering should be available by setting up a schedule. |
  |  | 145 | - Set a minimum order total (e.g. in dollars, euros, etc., depending on your chosen currency). |
  |  | 146 | - Option to temporarily pause ordering (e.g. you are at capacity in your restaurant or for orders). |
  |  | 147 | - Alternatively, set a maximum number of orders that you can take. |
  |  | 148 | - Fields for the customer to leave notes for both individual items and the overall order. |
  |  | 149 | - Add custom fields to the order form (e.g. if you require extra info from your customers, want to offer delivery, etc.). |
  |  | 150 | - Styling and labelling options to further customize the order form. |
  | 150 | 151 |  |
  | 151 | 152 | Once an order is placed, you will receive a customizable notification that contains all of the order information. This is also created as an order in the plugin admin panel, where you can view all the details and also change the status and edit the order. Your customers can then view the order status right on your menu page via an intuitive order progress bar. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L153) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L154) |  |
  | 153 | 154 | There are further options to customize the ordering experience by setting specific hours when the ordering should be available as well as advanced features that let you add customization options to each menu item (e.g. "Add bacon", "Upgrade to onion rings", etc.). There is also an array of styling options to modify the colors of the ordering elements, including the buttons, the cart and the progress bar. |
  | 154 | 155 |  |
  | 155 |  | = Five Star Restaurant Manager Mobile App = |
  |  | 156 | ### Five Star Restaurant Manager Mobile App |
  | 156 | 157 |  |
  | 157 | 158 | The ultimate version also syncs directly with our Five Star Restaurant Manager mobile app, for iOS and Android, which lets you manage your orders from your phone or tablet without needing to log in to your site/WordPress. With this, you can: |
  | 158 | 159 |  |
  | 159 |  | ~~\*~~ Receive push notifications when new orders are submitted. |
  | 160 |  | ~~\*~~ View all orders directly in the app. |
  | 161 |  | ~~\*~~ Change the status of individual orders (e.g. to preparing or ready). |
  | 162 |  | ~~\*~~ Access the customer's phone number or email address to quickly get in touch with them. |
  |  | 160 | - Receive push notifications when new orders are submitted. |
  |  | 161 | - View all orders directly in the app. |
  |  | 162 | - Change the status of individual orders (e.g. to preparing or ready). |
  |  | 163 | - Access the customer's phone number or email address to quickly get in touch with them. |
  | 163 | 164 |  |
  | 164 | 165 | With these features, you can set the app up on a tablet in the restaurant kitchen, to prepare orders as they come in, or for you to manage them anywhere on the go! |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L170) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L171) |  |
  | 170 | 171 | This plugin is one part of our suite designed to give you the best WordPress restaurant experience. Check out the powerful [Restaurant Reservations](https://wordpress.org/plugins/restaurant-reservations/) plugin and let your customers reserve a table directly on your site. With its intuitive and easy-to-use interface, you'll be sure to not lose out on business to your competitors. |
  | 171 | 172 |  |
  | 172 |  | = For help and support, please see: = |
  | 173 |  |  |
  | 174 |  | \* Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  | 175 |  | \* Our FAQ page, here: [https://wordpress.org/plugins/food-and-drink-menu/faq/](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  | 176 |  | \* Our installation guide, here: [https://wordpress.org/plugins/food-and-drink-menu/installation/](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  | 177 |  | \* Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  | 178 |  | \* The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  | 179 |  | \* Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  | 180 |  |  |
  |  | 173 | ### Help and support |
  |  | 174 |  |
  |  | 175 | - [Our documentation and user guide](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  |  | 176 | - [Our installation guide](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  |  | 177 | - [FAQs](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  |  | 178 | - [Our tutorial videos](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  |  | 179 | - [The support forum](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  |  | 180 | - [Our Support Center](https://www.fivestarplugins.com/support-center/) |
  | 181 | 181 |  |
  | 182 | 182 | == Installation == |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L198) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L198) |  |
  | 198 | 198 |  |
  | 199 | 199 | 1. To create a menu section: |
  | 200 |  | ~~\*~~ Open the 'Sections' tab in the plugin admin panel. |
  | 201 |  | ~~\*~~ The 'Add New Menu Section' area will be on the left. Fill in the fields and click the 'Add New Menu Section' button. |
  | 202 |  | ~~\*~~ Your new section will show in the table on the right. You can click on it there to edit it. |
  | 203 |  | ~~\*~~ You can now assign menu items to specific sections from the menu item create/edit screen. |
  |  | 200 | - Open the 'Sections' tab in the plugin admin panel. |
  |  | 201 | - The 'Add New Menu Section' area will be on the left. Fill in the fields and click the 'Add New Menu Section' button. |
  |  | 202 | - Your new section will show in the table on the right. You can click on it there to edit it. |
  |  | 203 | - You can now assign menu items to specific sections from the menu item create/edit screen. |
  | 204 | 204 |  |
  | 205 | 205 | 2. To create menu items: |
  | 206 |  | ~~\*~~ Open the 'Menu Items' tab in the plugin admin panel. |
  | 207 |  | ~~\*~~ Click on the 'Add Menu Item' button. |
  | 208 |  | ~~\*~~ Fill in the title, description and price fields, add a photo, and then choose the corresponding menu section. |
  | 209 |  | ~~\*~~ Once you've filled everything in, click the Publish button. This menu item will now be created and added to the menu section you chose. |
  |  | 206 | - Open the 'Menu Items' tab in the plugin admin panel. |
  |  | 207 | - Click on the 'Add Menu Item' button. |
  |  | 208 | - Fill in the title, description and price fields, add a photo, and then choose the corresponding menu section. |
  |  | 209 | - Once you've filled everything in, click the Publish button. This menu item will now be created and added to the menu section you chose. |
  | 210 | 210 |  |
  | 211 | 211 | 3. To create a menu: |
  | 212 |  | ~~\*~~ Open the 'Menus' tab in the plugin admin panel. |
  | 213 |  | ~~\*~~ Click on the 'Add Menu' button |
  | 214 |  | ~~\*~~ Type in a title for your menu |
  | 215 |  | ~~\*~~ Now use the Menu Layout area to drag and drop the different menu sections you've created into your menu |
  | 216 |  | ~~\*~~ Use the Menu Footer area to specify any extra notes that you want to display in your menu |
  | 217 |  | ~~\*~~ Now you can place the included 'Menu' Gutenberg block or the the [fdm-menu] shortcode in the content area of any page you've created and it will display your menu. (Please note that it's usually best to display your menu on a page that uses a full-width page templage [i.e. no sidebar].) |
  |  | 212 | - Open the 'Menus' tab in the plugin admin panel. |
  |  | 213 | - Click on the 'Add Menu' button |
  |  | 214 | - Type in a title for your menu |
  |  | 215 | - Now use the Menu Layout area to drag and drop the different menu sections you've created into your menu |
  |  | 216 | - Use the Menu Footer area to specify any extra notes that you want to display in your menu |
  |  | 217 | - Now you can place the included 'Menu' Gutenberg block or the the [fdm-menu] shortcode in the content area of any page you've created and it will display your menu. (Please note that it's usually best to display your menu on a page that uses a full-width page templage [i.e. no sidebar].) |
  | 218 | 218 |  |
  | 219 | 219 | 4. Customize your experience by making use of the available options, found in the Settings area of the plugin admin. |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L223) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L223) |  |
  | 223 | 223 | = For help and support, please see: = |
  | 224 | 224 |  |
  | 225 |  | ~~\*~~ Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  | 226 |  | ~~\*~~ Our FAQ page, here: [https://wordpress.org/plugins/food-and-drink-menu/faq/](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  | 227 |  | ~~\*~~ Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  | 228 |  | ~~\*~~ The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  | 229 |  | ~~\*~~ Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  |  | 225 | - Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  |  | 226 | - Our FAQ page, here: [https://wordpress.org/plugins/food-and-drink-menu/faq/](https://wordpress.org/plugins/food-and-drink-menu/faq/) |
  |  | 227 | - Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  |  | 228 | - The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  |  | 229 | - Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  | 230 | 230 |  |
  | 231 | 231 |  |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L254) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L254) |  |
  | 254 | 254 | On the Edit screen, you’ll see an area to type in a description. This is a great place to put in details such as: |
  | 255 | 255 |  |
  | 256 |  | ~~\*~~ All entrees come with a side salad or fries. |
  | 257 |  | ~~\*~~ Add cheese to any burger for $1. Add bacon for $2. |
  | 258 |  | ~~\*~~ Add fries and a coke to any order during lunchtime for just $10. |
  |  | 256 | - All entrees come with a side salad or fries. |
  |  | 257 | - Add cheese to any burger for $1. Add bacon for $2. |
  |  | 258 | - Add fries and a coke to any order during lunchtime for just $10. |
  | 259 | 259 |  |
  | 260 | 260 | = Can I have different sections with the same name? = |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L280) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L280) |  |
  | 280 | 280 | The Menu Footer is a great place to add details such as: |
  | 281 | 281 |  |
  | 282 |  | ~~\*~~ All parties of 6 or more will automatically be charged a gratuity of 10%. |
  | 283 |  | ~~\*~~ All dishes are cooked in a kitchen with nuts. |
  | 284 |  | ~~\*~~ All of our meat is free-range and sourced from local producers. |
  |  | 282 | - All parties of 6 or more will automatically be charged a gratuity of 10%. |
  |  | 283 | - All dishes are cooked in a kitchen with nuts. |
  |  | 284 | - All of our meat is free-range and sourced from local producers. |
  | 285 | 285 |  |
  | 286 | 286 | = I need to mark some dishes as vegetarian, spicy or similar? = |
  | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3064857#L294) | […](/browser/food-and-drink-menu/trunk/readme.txt?rev=3097599#L294) |  |
  | 294 | 294 | = For help and support, please see: = |
  | 295 | 295 |  |
  | 296 |  | \* Our documentation and user guide, here: [https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  | 297 |  | \* Our installation guide, here: [https://wordpress.org/plugins/food-and-drink-menu/installation/](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  | 298 |  | \* Our tutorial videos, here: [https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  | 299 |  | \* The support forum, here: [https://wordpress.org/support/plugin/food-and-drink-menu/](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  | 300 |  | \* Our Support Center, here: [https://www.fivestarplugins.com/support-center/](https://www.fivestarplugins.com/support-center/) |
  | 301 |  |  |
  | 302 |  | == Screenshots == |
  | 303 |  |  |
  | 304 |  | 1. Menu with sidebar and using the Refined style. |
  | 305 |  | 2. Menu using the Image style. |
  | 306 |  | 3. Classic menu style in a single-column layout and with sidebar. |
  | 307 |  | 4. Classic menu style in a two-column layout. |
  | 308 |  | 5. Menu making use of the dietary icons and specials labels. |
  | 309 |  | 6. Refined menu style in two columns. |
  | 310 |  | 7. Lightbox showing menu item details and custom fields. |
  | 311 |  | 8. Ordering enabled and an add-to-cart button displaying for each item. |
  | 312 |  | 9. Select extra options and leave a note when adding an item to the cart. |
  | 313 |  | 10. View of the ordering cart showing added items, selected options, notes, quantities and the total. |
  | 314 |  | 11. The customer can hide the cart for a better browsing experience. |
  | 315 |  | 12. View of the cart checkout screen. |
  | 316 |  | 13. The plugin dashboard. |
  | 317 |  | 14. Add menu items with photos like regular WordPress posts. |
  | 318 |  | 15. Lay out your menu with a point-and-click interface. |
  | 319 |  | 16. Create and edit custom fields. |
  | 320 |  | 17. Some of the available ordering options, including the scheduler. |
  | 321 |  | 18. The styling options. |
  | 322 |  |  |
  |  | 296 | - [Our documentation and user guide](https://doc.fivestarplugins.com/plugins/food-and-drink-menu/user/) |
  |  | 297 | - [Our installation guide](https://wordpress.org/plugins/food-and-drink-menu/installation/) |
  |  | 298 | - [Our tutorial videos](https://www.youtube.com/playlist?list=PLEndQUuhlvSqy2KjpKfGpd-vAUJLfdYMI) |
  |  | 299 | - [The support forum](https://wordpress.org/support/plugin/food-and-drink-menu/) |
  |  | 300 | - [Our Support Center](https://www.fivestarplugins.com/support-center/) |
  | 323 | 301 |  |
  | 324 | 302 | == Changelog == |
  | 325 | 303 |  |
  | 326 |  | = 2.4.16 (2024-04-04) = |
  | 327 |  | - Ratings (from Five Star Restaurant Reviews plugin) can now be displayed on the main menu page. |
  | 328 |  | - Tested for compatibility with WP 6.5 and PHP 8.2, and eliminated/fixed deprecated notices associated with this. |
  | 329 |  |  |
  | 330 |  | = 2.4.15 (2024-01-31) = |
  | 331 |  | - Added a new menu style (Luxe) |
  | 332 |  | - Added a shortcode attribute to be able to hide the sidebar on a per-menu basis. |
  | 333 |  | - Fix for a styling issue with the Ordering menu style when the sidebar was disabled/hidden. |
  | 334 |  |  |
  | 335 |  | = 2.4.14 (2023-12-05) = |
  | 336 |  | - Correcting a CSS issue causing the details lightbox to show on page load in some instances. |
  | 337 |  |  |
  | 338 |  | = 2.4.13 (2023-12-04) = |
  | 339 |  | - Added a new responsive menu style adapted for use with the food ordering functionality. |
  | 340 |  | - Added styling settings for the new menu style that let you choose the number of columns and the accent color. |
  | 341 |  | - Added a new option to change the ordering cart location from the side to the bottom. |
  | 342 |  | - The new bottom panel location has a unique responsive design to enhance the ordering/checkout process. |
  | 343 |  | - Choose from two variations for the bottom location cart. |
  | 344 |  | - Added a new styling settings section for ordering elements and several new styling options for the the bottom location cart. |
  | 345 |  | - Styling updates to streamline look of all modals and correct a few small styling issues/conflicts. |
  | 346 |  |  |
  | 347 |  | = 2.4.12 (2023-11-07) = |
  | 348 |  | - Tested for WordPress 6.4 compatibility/support. |
  | 349 |  |  |
  | 350 |  | = 2.4.11 (2023-10-17) = |
  | 351 |  | - Fix for dropdown field values not displaying correctly on the admin edit order screen. |
  | 352 |  | - Fix for certain custom field values not being saved correctly on the admin edit order screen. |
  | 353 |  | - Fix for a couple of warnings on the admin edit order screen. |
  | 354 |  | - Updated nonces related to ordering functionality. |
  | 355 |  |  |
  | 356 |  | = 2.4.10 (2023-08-22) = |
  | 357 |  | - Styling updates for a few ordering elements. |
  | 358 |  | - Styling fixes/updates for the item icons (flags). |
  | 359 |  | - Fix for "On Sale" text using wrong labelling option. |
  | 360 |  | - Updated .pot translation file. |
  | 361 |  |  |
  | 362 |  | = 2.4.9 (2023-08-18) = |
  | 363 |  | - Updated the Stripe payment gateway (for food ordering in the ultimate version) to now use the Stripe payment intents system, so you can now enable many different payment methods. |
  | 364 |  | - With this new system, you can now also take payments as holds and charge/capture later. |
  | 365 |  | - Added an option to disable decimals in prices. |
  | 366 |  | - Updated styling for the order payment submit button to make it more obvious that the button is disabled. |
  | 367 |  | - Fixed issue with the sorting of orders not applying across additional pages in the admin orders overview table. |
  | 368 |  |  |
  | 369 |  | = 2.4.8 (2023-08-08) = |
  | 370 |  | - Tested for WordPress 6.3 compatibility/support. |
  | 371 |  |  |
  | 372 |  | = 2.4.7 (2023-07-05) = |
  | 373 |  | - Fixed error with duplicate menu item feature. |
  | 374 |  |  |
  | 375 |  | = 2.4.6 (2023-06-21) = |
  | 376 |  | - Fix for an issue in which, when updating existing items via spreadsheet import, it would add prices instead of replacing them. |
  | 377 |  |  |
  | 378 |  | = 2.4.5 (2023-06-16) = |
  | 379 |  | - Updating/correcting styling and content in the admin/dashboard. |
  | 380 |  |  |
  | 381 |  | = 2.4.4 (2023-04-14) = |
  | 382 |  | - Fixed an issue causing the advanced ordering modal to sometimes show right away on page load. |
  | 383 |  | - Fixed a styling conflict with the advanced ordering modal and the the Twenty Twenty-Three theme. |
  | 384 |  |  |
  | 385 |  | = 2.4.3 (2023-03-30) = |
  | 386 |  | - Updating blocks for compatibility with WordPress 6.2. |
  | 387 |  | - Fixed an issue with an undefined JavaScript function. |
  | 388 |  |  |
  | 389 |  | = 2.4.2 (2023-02-28) = |
  | 390 |  | - Correcting an issue with the decimal rounding that was causing the price to show as 0.00 if you were including a currency symbol directly in the price for an item instead of using the currency symbol settings. |
  | 391 |  |  |
  | 392 |  | = 2.4.1 (2023-02-23) = |
  | 393 |  | - Added the ability to modify existing orders with an all new order edit screen. |
  | 394 |  | - Updated the order notifications configuration area to allow for more flexibility in the creation and use of notifications. |
  | 395 |  | - Added the ability to specify an ETA time for orders, and to include that info in notifications. |
  | 396 |  | - Added the ability to specify a global tax percentage applied to all items/orders. |
  | 397 |  | - Added the ability to mark an item as sold out, so that it still shows in your menu, but is not available for purchase. |
  | 398 |  | - Added labelling option. |
  | 399 |  | - Updated the styling of modals in the admin and on the front end. |
  | 400 |  | - Updated some of the text in the admin and settings screen for clarity. |
  | 401 |  | - For ultimate users, your SMS credit balance and expiry now show below the notifications table in the admin. |
  | 402 |  | - Added a list of template tags available for the notifications. |
  | 403 |  | - Updated the SMS notifications with regard to the template tags. |
  | 404 |  | - Removed/eliminated a few notices. |
  | 405 |  |  |
  | 406 |  | = 2.4.0 (2023-01-24) = |
  | 407 |  | - This update introduces the new Ultimate version of the plugin, with features to allow ordering and payments directly from your menu page, to send SMS notifications for new orders, to sync with the Five Star Restaurant Manager mobile app (and receive push notifications for new orders) and more. |
  |  | 304 | = 2.4.17 (2024-06-04) = |
  |  | 305 | - Updating the security of walk-through steps. |
  | 408 | 306 |  |
  | 409 | 307 | [See changelog for all versions](https://www.fivestarplugins.com/changelogs/food-and-drink-menu.txt). |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3097599)
* [Zip Archive](?format=zip&new=3097599)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_0c804f92_20250110_230046.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffood-and-drink-menu%2Ftrunk%2Fincludes%2Fclass-installation-walkthrough.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?rev=2679403 "Revision 2679403")
* Next Revision →
* [Blame](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

---

# [source:](/browser?order=name "Go to repository root") [food-and-drink-menu](/browser/food-and-drink-menu?order=name "View food-and-drink-menu")/[trunk](/browser/food-and-drink-menu/trunk?order=name "View trunk")/[includes](/browser/food-and-drink-menu/trunk/includes?order=name "View includes")/[class-installation-walkthrough.php](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?order=name "View class-installation-walkthrough.php")

View diff against:

View revision:

| [Last change](/changeset/3097599/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php "View differences") on this file was [3097599](/changeset/3097599/ "View changeset 3097599"), checked in by Rustaurius, [7 months ago](/timeline?from=2024-06-04T19%3A52%3A29Z&precision=second "See timeline at 06/04/2024 07:52:29 PM") |
| --- |
| v2.4.17 released and tagged |
| **File size:** 13.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* Class to handle everything related to the walk-through that runs on plugin activation |
| [5](#L5) | \*/ |
| [6](#L6) |  |
| [7](#L7) | if ( !defined( 'ABSPATH' ) ) |
| [8](#L8) | exit; |
| [9](#L9) |  |
| [10](#L10) | class fdmInstallationWalkthrough { |
| [11](#L11) |  |
| [12](#L12) | public function \_\_construct() { |
| [13](#L13) |  |
| [14](#L14) | add\_action( 'admin\_menu', array($this, 'register\_install\_screen' )); |
| [15](#L15) | add\_action( 'admin\_head', array($this, 'hide\_install\_screen\_menu\_item' )); |
| [16](#L16) | add\_action( 'admin\_init', array($this, 'redirect'), 9999); |
| [17](#L17) |  |
| [18](#L18) | add\_action('admin\_head', array($this, 'admin\_enqueue')); |
| [19](#L19) |  |
| [20](#L20) | add\_action('wp\_ajax\_fdm\_welcome\_add\_section', array($this, 'add\_section')); |
| [21](#L21) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_item', array($this, 'add\_menu\_item')); |
| [22](#L22) | add\_action('wp\_ajax\_fdm\_welcome\_create\_menu', array($this, 'add\_menu')); |
| [23](#L23) | add\_action('wp\_ajax\_fdm\_welcome\_add\_menu\_page', array($this, 'add\_menu\_page')); |
| [24](#L24) | } |
| [25](#L25) |  |
| [26](#L26) | public function redirect() { |
| [27](#L27) |  |
| [28](#L28) | if ( ! get\_transient( 'fdm-getting-started' ) ) |
| [29](#L29) | return; |
| [30](#L30) |  |
| [31](#L31) | delete\_transient( 'fdm-getting-started' ); |
| [32](#L32) |  |
| [33](#L33) | if ( is\_network\_admin() || isset( $\_GET['activate-multi'] ) ) |
| [34](#L34) | return; |
| [35](#L35) |  |
| [36](#L36) | $menu\_items = get\_posts(array('post\_type' => 'fdm-menu-item')); |
| [37](#L37) | if (!empty($menu\_items)) { |
| [38](#L38) | set\_transient('fdm-admin-install-notice', true, 5); |
| [39](#L39) | return; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | wp\_safe\_redirect( admin\_url( 'index.php?page=fdm-getting-started' ) ); |
| [43](#L43) | exit; |
| [44](#L44) | } |
| [45](#L45) |  |
| [46](#L46) | public function register\_install\_screen() { |
| [47](#L47) |  |
| [48](#L48) | add\_dashboard\_page( |
| [49](#L49) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [50](#L50) | esc\_html\_\_( 'Five-Star Restaurant Menu - Welcome!', 'food-and-drink-menu' ), |
| [51](#L51) | 'manage\_options', |
| [52](#L52) | 'fdm-getting-started', |
| [53](#L53) | array($this, 'display\_install\_screen') |
| [54](#L54) | ); |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | public function hide\_install\_screen\_menu\_item() { |
| [58](#L58) |  |
| [59](#L59) | remove\_submenu\_page( 'index.php', 'fdm-getting-started' ); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | public function add\_section() { |
| [63](#L63) |  |
| [64](#L64) | // Authenticate request |
| [65](#L65) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [66](#L66) |  |
| [67](#L67) | fdmHelper::admin\_nopriv\_ajax(); |
| [68](#L68) | } |
| [69](#L69) |  |
| [70](#L70) | $section\_name = (isset($\_POST['section\_name']) ? sanitize\_text\_field( $\_POST['section\_name'] ) : ''); |
| [71](#L71) | $section\_description = (isset($\_POST['section\_description']) ? sanitize\_text\_field( $\_POST['section\_description'] ) : ''); |
| [72](#L72) |  |
| [73](#L73) | $section\_term\_ids = wp\_insert\_term( $section\_name, 'fdm-menu-section', array('description' => $section\_description) ); |
| [74](#L74) |  |
| [75](#L75) | echo json\_encode(array('section\_name' => $section\_name, 'section\_id' => $section\_term\_ids['term\_id'])); |
| [76](#L76) |  |
| [77](#L77) | exit(); |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | public function add\_menu\_item() { |
| [81](#L81) |  |
| [82](#L82) | // Authenticate request |
| [83](#L83) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [84](#L84) |  |
| [85](#L85) | fdmHelper::admin\_nopriv\_ajax(); |
| [86](#L86) | } |
| [87](#L87) |  |
| [88](#L88) | $menu\_item\_post\_id = wp\_insert\_post(array( |
| [89](#L89) | 'post\_title' => isset( $\_POST['item\_name'] ) ? sanitize\_text\_field( $\_POST['item\_name'] ) : '', |
| [90](#L90) | 'post\_content' => isset( $\_POST['item\_description'] ) ? sanitize\_text\_field( $\_POST['item\_description'] ) : '', |
| [91](#L91) | 'post\_status' => 'publish', |
| [92](#L92) | 'post\_type' => FDM\_MENUITEM\_POST\_TYPE |
| [93](#L93) | )); |
| [94](#L94) |  |
| [95](#L95) | update\_post\_meta ($menu\_item\_post\_id, 'fdm\_item\_price', sanitize\_text\_field( $\_POST['item\_price'] ) ); |
| [96](#L96) |  |
| [97](#L97) | if ( isset($\_POST['item\_image']) and $\_POST['item\_image'] ) { |
| [98](#L98) |  |
| [99](#L99) | set\_post\_thumbnail( $menu\_item\_post\_id, attachment\_url\_to\_postid( $\_POST['item\_image'] ) ); |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) | if ( isset( $\_POST['item\_section'] ) and $\_POST['item\_section'] ) { |
| [103](#L103) |  |
| [104](#L104) | $section = get\_term( sanitize\_text\_field( $\_POST['item\_section'] ), 'fdm-menu-section'); |
| [105](#L105) | wp\_set\_post\_terms($menu\_item\_post\_id, $section->name, 'fdm-menu-section'); |
| [106](#L106) | } |
| [107](#L107) |  |
| [108](#L108) | exit(); |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | public function add\_menu() { |
| [112](#L112) |  |
| [113](#L113) | // Authenticate request |
| [114](#L114) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [115](#L115) |  |
| [116](#L116) | fdmHelper::admin\_nopriv\_ajax(); |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | $menu\_post\_id = wp\_insert\_post(array( |
| [120](#L120) | 'post\_title' => isset( $\_POST['menu\_name'] ) ? sanitize\_text\_field( $\_POST['menu\_name'] ) : '', |
| [121](#L121) | 'post\_content' => isset( $\_POST['menu\_description'] ) ? sanitize\_text\_field( $\_POST['menu\_description'] ) : '', |
| [122](#L122) | 'post\_status' => 'publish', |
| [123](#L123) | 'post\_type' => FDM\_MENU\_POST\_TYPE |
| [124](#L124) | )); |
| [125](#L125) |  |
| [126](#L126) | $sections = isset( $\_POST['sections'] ) ? json\_decode( sanitize\_text\_field( $\_POST['sections'] ) ) : array(); |
| [127](#L127) |  |
| [128](#L128) | if ( empty( $sections ) ) { |
| [129](#L129) | $section\_objects = get\_terms( array( 'hide\_empty' => false, 'taxonomy' => 'fdm-menu-section' ) ); |
| [130](#L130) |  |
| [131](#L131) | $sections\_string = ''; |
| [132](#L132) |  |
| [133](#L133) | foreach ( $section\_objects as $section\_object ) { $sections\_string .= ( strlen($sections\_string) ? ',' : '' ) . $section\_object->term\_id; } |
| [134](#L134) | } |
| [135](#L135) | else { |
| [136](#L136) | $sections\_string = implode(",", $sections); |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | update\_post\_meta( $menu\_post\_id, 'fdm\_menu\_column\_one', $sections\_string); |
| [140](#L140) |  |
| [141](#L141) | exit(); |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | public function add\_menu\_page() { |
| [145](#L145) |  |
| [146](#L146) | // Authenticate request |
| [147](#L147) | if ( ! check\_ajax\_referer( 'fdm-getting-started', 'nonce' ) || ! current\_user\_can( 'edit\_posts' ) ) { |
| [148](#L148) |  |
| [149](#L149) | fdmHelper::admin\_nopriv\_ajax(); |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | $menu\_posts = get\_posts( array( 'post\_type' => FDM\_MENU\_POST\_TYPE ) ); |
| [153](#L153) | $menu = reset($menu\_posts); |
| [154](#L154) |  |
| [155](#L155) | $post\_content = $menu ? "<!-- wp:paragraph --><p> [fdm-menu id='" . $menu->ID . "'] </p><!-- /wp:paragraph -->" : ''; |
| [156](#L156) |  |
| [157](#L157) | wp\_insert\_post(array( |
| [158](#L158) | 'post\_title' => isset( $\_POST['menu\_page\_title'] ) ? sanitize\_text\_field( $\_POST['menu\_page\_title'] ) : '', |
| [159](#L159) | 'post\_content' => $post\_content, |
| [160](#L160) | 'post\_status' => 'publish', |
| [161](#L161) | 'post\_type' => 'page' |
| [162](#L162) | )); |
| [163](#L163) |  |
| [164](#L164) | exit(); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | function admin\_enqueue() { |
| [168](#L168) |  |
| [169](#L169) | if ( isset( $\_GET['page'] ) && $\_GET['page'] == 'fdm-getting-started' ) { |
| [170](#L170) |  |
| [171](#L171) | wp\_enqueue\_style( 'fdm-welcome-screen', FDM\_PLUGIN\_URL . '/assets/css/admin-fdm-welcome-screen.css', array(), FDM\_VERSION ); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | wp\_enqueue\_media(); |
| [175](#L175) |  |
| [176](#L176) | wp\_enqueue\_script( 'fdm-getting-started', FDM\_PLUGIN\_URL . '/assets/js/admin-fdm-welcome-screen.js', array('jquery'), FDM\_VERSION ); |
| [177](#L177) | wp\_enqueue\_script( 'fdm-uploader', FDM\_PLUGIN\_URL . '/assets/js/admin-wp-fdm-uploader.js', array('jquery'), FDM\_VERSION ); |
| [178](#L178) |  |
| [179](#L179) | wp\_localize\_script( |
| [180](#L180) | 'fdm-getting-started', |
| [181](#L181) | 'fdm\_getting\_started', |
| [182](#L182) | array( |
| [183](#L183) | 'nonce' => wp\_create\_nonce( 'fdm-getting-started' ) |
| [184](#L184) | ) |
| [185](#L185) | ); |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) | public function display\_install\_screen() { ?> |
| [189](#L189) | <div class='fdm-welcome-screen'> |
| [190](#L190) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [191](#L191) | <div class='fdm-welcome-screen-header'> |
| [192](#L192) | <h1><?php \_e('Welcome to the Five-Star Restaurant Menu Plugin', 'food-and-drink-menu'); ?></h1> |
| [193](#L193) | <p><?php \_e('Thanks for choosing the Five-Star Restaurant Menu! The following will help you get started with the setup of your menu by creating your first sections, menu items and menu page, as well as configuring a few key options.', 'food-and-drink-menu'); ?></p> |
| [194](#L194) | </div> |
| [195](#L195) | <?php } ?> |
| [196](#L196) |  |
| [197](#L197) | <div class='fdm-welcome-screen-box fdm-welcome-screen-sections fdm-welcome-screen-open' data-screen='sections'> |
| [198](#L198) | <h2><?php \_e('1. Create Sections', 'food-and-drink-menu'); ?></h2> |
| [199](#L199) | <div class='fdm-welcome-screen-box-content'> |
| [200](#L200) | <p><?php \_e('Sections let you organize your menu in a way that is easy for you - and your customers - to find (like "Drinks", "Appetizers", etc.).', 'food-and-drink-menu'); ?></p> |
| [201](#L201) | <div class='fdm-welcome-screen-created-sections'> |
| [202](#L202) | <div class='fdm-welcome-screen-add-section-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [203](#L203) | <div class='fdm-welcome-screen-add-section-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Section Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [204](#L204) | <div class='fdm-welcome-screen-add-section-button'><?php \_e('Add Section', 'food-and-drink-menu'); ?></div> |
| [205](#L205) | <div class="fdm-welcome-clear"></div> |
| [206](#L206) | <div class="fdm-welcome-screen-show-created-sections"> |
| [207](#L207) | <h3><?php \_e('Created Sections:', 'food-and-drink-menu'); ?></h3> |
| [208](#L208) | <div class="fdm-welcome-screen-show-created-sections-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [209](#L209) | <div class="fdm-welcome-screen-show-created-sections-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [210](#L210) | </div> |
| [211](#L211) | </div> |
| [212](#L212) | <div class='fdm-welcome-screen-next-button fdm-welcome-screen-next-button-not-top-margin' data-nextaction='menu\_items'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [213](#L213) | <div class='clear'></div> |
| [214](#L214) | </div> |
| [215](#L215) | </div> |
| [216](#L216) |  |
| [217](#L217) | <div class='fdm-welcome-screen-box fdm-welcome-screen-menu\_items' data-screen='menu\_items'> |
| [218](#L218) | <h2><?php \_e('2. Add Menu Items', 'food-and-drink-menu'); ?></h2> |
| [219](#L219) | <div class='fdm-welcome-screen-box-content'> |
| [220](#L220) | <div class='fdm-welcome-screen-created-menu\_items'> |
| [221](#L221) | <div class='fdm-welcome-screen-add-menu\_item-image fdm-welcome-screen-box-content-divs'> |
| [222](#L222) | <label><?php \_e('Image:', 'food-and-drink-menu'); ?></label> |
| [223](#L223) | <div class='fdm-welcome-screen-image-preview-container'> |
| [224](#L224) | <div class='fdm-hidden fdm-welcome-screen-image-preview'> |
| [225](#L225) | <img /> |
| [226](#L226) | </div> |
| [227](#L227) | <input type='hidden' name='menu\_item\_image\_url' /> |
| [228](#L228) | <input id="Welcome\_Item\_Image\_button" class="button" type="button" value="Upload Image" /> |
| [229](#L229) | </div> |
| [230](#L230) | </div> |
| [231](#L231) | <div class='fdm-welcome-screen-add-menu\_item-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [232](#L232) | <div class='fdm-welcome-screen-add-menu\_item-description fdm-welcome-screen-box-content-divs'><label><?php \_e('Description:', 'food-and-drink-menu'); ?></label><textarea></textarea></div> |
| [233](#L233) | <div class='fdm-welcome-screen-add-menu\_item-section fdm-welcome-screen-box-content-divs'><label><?php \_e('Section:', 'food-and-drink-menu'); ?></label><select></select></div> |
| [234](#L234) | <div class='fdm-welcome-screen-add-menu\_item-price fdm-welcome-screen-box-content-divs'><label><?php \_e('Price:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [235](#L235) | <div class='fdm-welcome-screen-add-menu\_item-button'><?php \_e('Add Item', 'food-and-drink-menu'); ?></div> |
| [236](#L236) | <div class="fdm-welcome-clear"></div> |
| [237](#L237) | <div class="fdm-welcome-screen-show-created-menu\_items"> |
| [238](#L238) | <h3><?php \_e('Created Items:', 'food-and-drink-menu'); ?></h3> |
| [239](#L239) | <div class="fdm-welcome-screen-show-created-menu\_items-image"><?php \_e('Image', 'food-and-drink-menu'); ?></div> |
| [240](#L240) | <div class="fdm-welcome-screen-show-created-menu\_items-name"><?php \_e('Name', 'food-and-drink-menu'); ?></div> |
| [241](#L241) | <div class="fdm-welcome-screen-show-created-menu\_items-description"><?php \_e('Description', 'food-and-drink-menu'); ?></div> |
| [242](#L242) | <div class="fdm-welcome-screen-show-created-menu\_items-price"><?php \_e('Price', 'food-and-drink-menu'); ?></div> |
| [243](#L243) | </div> |
| [244](#L244) | </div> |
| [245](#L245) | <div class="fdm-welcome-clear"></div> |
| [246](#L246) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [247](#L247) | <div class='fdm-welcome-screen-next-button' data-nextaction='create\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [248](#L248) | <?php } else { ?> |
| [249](#L249) | <div class='fdm-welcome-screen-finish-button' data-link='edit.php?post\_type=fdm-menu'><?php \_e('Save and Continue', 'food-and-drink-menu'); ?></div> |
| [250](#L250) | <?php } ?> |
| [251](#L251) | <div class='fdm-welcome-screen-previous-button' data-previousaction='sections'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [252](#L252) | <div class='clear'></div> |
| [253](#L253) | </div> |
| [254](#L254) | </div> |
| [255](#L255) |  |
| [256](#L256) | <?php  if ( ! isset( $\_GET['exclude'] ) ) { ?> |
| [257](#L257) |  |
| [258](#L258) | <div class='fdm-welcome-screen-box fdm-welcome-screen-create\_menu' data-screen='create\_menu'> |
| [259](#L259) | <h2><?php \_e('3. Create a Menu', 'food-and-drink-menu'); ?></h2> |
| [260](#L260) | <div class='fdm-welcome-screen-box-content'> |
| [261](#L261) | <p><?php \_e('You can make multiple menus, but one menu with all of your sections is a great place to start.', 'food-and-drink-menu'); ?></p> |
| [262](#L262) | <div class='fdm-welcome-screen-create\_menu'> |
| [263](#L263) | <div class='fdm-welcome-screen-add-create\_menu-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Menu Name:', 'food-and-drink-menu'); ?></label><input type='text' /></div> |
| [264](#L264) | <div class='fdm-welcome-screen-add-create\_menu-sections'><h3><?php \_e('Sections:', 'food-and-drink-menu'); ?></h3><br /></div> |
| [265](#L265) | <div class='fdm-welcome-screen-add-create\_menu-button'><?php \_e('Create Menu', 'food-and-drink-menu'); ?></div> |
| [266](#L266) | </div> |
| [267](#L267) | <div class="fdm-welcome-clear"></div> |
| [268](#L268) | <div class='fdm-welcome-screen-next-button' data-nextaction='display\_menu'><?php \_e('Next Step', 'food-and-drink-menu'); ?></div> |
| [269](#L269) | <div class='fdm-welcome-screen-previous-button' data-previousaction='menu\_items'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [270](#L270) | <div class='clear'></div> |
| [271](#L271) | </div> |
| [272](#L272) | </div> |
| [273](#L273) |  |
| [274](#L274) | <div class='fdm-welcome-screen-box fdm-welcome-screen-display\_menu' data-screen='display\_menu'> |
| [275](#L275) | <h2><?php \_e('4. Add a Menu Page', 'food-and-drink-menu'); ?></h2> |
| [276](#L276) | <div class='fdm-welcome-screen-box-content'> |
| [277](#L277) | <p><?php \_e('You can create a dedicated menu page below, or skip this step and add your menu to a page you\'ve already created manually.', 'food-and-drink-menu'); ?></p> |
| [278](#L278) | <div class='fdm-welcome-screen-menu-page'> |
| [279](#L279) | <div class='fdm-welcome-screen-add-menu-page-name fdm-welcome-screen-box-content-divs'><label><?php \_e('Page Title:', 'food-and-drink-menu'); ?></label><input type='text' value='Menu' /></div> |
| [280](#L280) | <div class='fdm-welcome-screen-add-menu-page-button'><?php \_e('Create Page', 'food-and-drink-menu'); ?></div> |
| [281](#L281) | </div> |
| [282](#L282) | <div class="fdm-welcome-clear"></div> |
| [283](#L283) | <div class='fdm-welcome-screen-previous-button' data-previousaction='create\_menu'><?php \_e('Previous Step', 'food-and-drink-menu'); ?></div> |
| [284](#L284) | <div class='fdm-welcome-screen-finish-button'><a href='edit.php?post\_type=fdm-menu'><?php \_e('Finish', 'food-and-drink-menu'); ?></a></div> |
| [285](#L285) | <div class='clear'></div> |
| [286](#L286) | </div> |
| [287](#L287) | </div> |
| [288](#L288) |  |
| [289](#L289) | <div class='fdm-welcome-screen-skip-container'> |
| [290](#L290) | <a href='edit.php?post\_type=fdm-menu'><div class='fdm-welcome-screen-skip-button'><?php \_e('Skip Setup', 'food-and-drink-menu'); ?></div></a> |
| [291](#L291) | </div> |
| [292](#L292) |  |
| [293](#L293) | <?php } ?> |
| [294](#L294) |  |
| [295](#L295) | </div> |
| [296](#L296) | <?php } |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) |  |
| [300](#L300) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php?format=txt)
* [Original Format](/export/3220488/food-and-drink-menu/trunk/includes/class-installation-walkthrough.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


