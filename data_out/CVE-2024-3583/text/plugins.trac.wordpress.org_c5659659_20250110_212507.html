

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3092346%2Fsimple-facebook-plugin%2Ftrunk%3Fcontextall%3D1%26old%3D3051436%26old_path%3D%252Fsimple-facebook-plugin%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3051436/simple-facebook-plugin/trunk?old=3092346&old_path=%2Fsimple-facebook-plugin%2Ftrunk)

---

# Changes in [simple-facebook-plugin/trunk](/browser/simple-facebook-plugin/trunk?rev=3092346 "Show entry in browser") [[3051436:3092346]](/log/simple-facebook-plugin/trunk?rev=3092346&stop_rev=3051436 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[simple-facebook-plugin/trunk](/browser/simple-facebook-plugin/trunk?rev=3092346)
Files:

3 edited

* [readme.txt](/browser/simple-facebook-plugin/trunk/readme.txt?rev=3092346 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [simple-facebook-plugin.php](/browser/simple-facebook-plugin/trunk/simple-facebook-plugin.php?rev=3092346 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [views/view-page-plugin.php](/browser/simple-facebook-plugin/trunk/views/view-page-plugin.php?rev=3092346 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [simple-facebook-plugin/trunk/readme.txt](/changeset/3092346/simple-facebook-plugin/trunk/readme.txt?old=3051436&old_path=simple-facebook-plugin%2Ftrunk%2Freadme.txt "Show the [3051436:3092346] differences restricted to simple-facebook-plugin/trunk/readme.txt")

  | [r3051436](/browser/simple-facebook-plugin/trunk/readme.txt?rev=3051436#L1 "Show revision 3051436 of this file in browser") | [r3092346](/browser/simple-facebook-plugin/trunk/readme.txt?rev=3092346#L1 "Show revision 3092346 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | ﻿=== Simple Like Page Plugin === |
  | 2 | 2 |  |
  | 3 | 3 | Contributors: topdevs, illiaonline |
  | 4 | 4 | Tags: social, facebook, fb, fb like, like box, likebox, page plugin, widget, shortcode, responsive, template tag, sidebar, fb page plugin |
  | 5 | 5 | Requires at least: 4.0 |
  | 6 |  | Tested up to: 6.~~4~~.3 |
  |  | 6 | Tested up to: 6.5.3 |
  | 7 | 7 | Stable tag: trunk |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 |  |
  | 10 | 10 | Lets you easily embed and promote any public Facebook Page on your WordPress website. Your visitors can like, share, see Page events or even sand a message without having to leave your site. You can use the Like Page plugin for any Page that is not restricted, for example, by country or age. |
  | 11 | 11 |  |
  | 12 | 12 | == Description == |
  | 13 | 13 |  |
  | 14 | 14 | = Description = |
  | 15 | 15 |  |
  | 16 | 16 | Simple Like Page Plugin enables Facebook Page admins to promote their Pages and embed a simple feed of content from a Page into any WordPress blog. The Facebook \*\*Page Plugin\*\* we use in our plugin enables users to: |
  | 17 | 17 |  |
  | 18 | 18 | \* See how many users already like this Page, and which of their friends like it too |
  | 19 | 19 | \* Read recent posts from the Page |
  | 20 | 20 | \* Like the Page with one click, without needing to visit the Page |
  | 21 | 21 | \* See Page Events |
  | 22 | 22 | \* Send messages to your Page\\* |
  | 23 | 23 |  |
  | 24 | 24 | \\*\*To enable messaging on your Facebook page go to your Page Settings. In the row Messages check Allow people to contact my Page privately by showing the Message button\* |
  | 25 | 25 |  |
  | 26 | 26 | You can easily integrate Like Page using WordPress Widgets and Shortcodes. Visit [Plugin Page](http://topdevs.net/simple-like-page-plugin/ "See 'Simple Like Page Plugin' Page") for more info and examples. |
  | 27 | 27 |  |
  | 28 | 28 | = Our Premium Plugins = |
  | 29 | 29 |  |
  | 30 | 30 | \* [Smart Grid Gallery](http://topdevs.net/smart-grid-gallery/ "See plugin demo") - Responsive WordPress Gallery |
  | 31 | 31 | \* [Smart Product Viewer](http://topdevs.net/smart-product-viewer/ "See plugin demo") - 360º Animation Plugin |
  | 32 | 32 | \* [Smart Before After Viewer](http://topdevs.net/before-after-viewer/ "See plugin demo") - Image Comparison Plugin |
  | 33 | 33 | \* [Smart Photo Gallery](http://topdevs.net/smart-photo-gallery/ "See plugin demo") - Responsive WordPress Gallery |
  | 34 | 34 |  |
  | 35 | 35 | Visit our [CodeCanyon Portfolio](http://codecanyon.net/user/topdevs/portfolio?ref=topdevs "Our Plugins on CodeCanyon") to see plugins reviews and prices. |
  | 36 | 36 |  |
  | 37 | 37 |  |
  | 38 | 38 | == Installation == |
  | 39 | 39 | \*\*Installation\*\* |
  | 40 | 40 |  |
  | 41 | 41 | 1. Upload `simple-facebook-plugin` directory to your `/wp-content/plugins` directory |
  | 42 | 42 | 1. Activate plugin in WordPress admin |
  | 43 | 43 |  |
  | 44 | 44 | \*\*Customization\*\* |
  | 45 | 45 |  |
  | 46 | 46 | 1. In WordPress dashboard, go to \*\*Appearance > Widgets\*\*. |
  | 47 | 47 | 1. Drag and Drop \*\*SFP - Like Page Plugin\*\* into your sidebar. |
  | 48 | 48 | 1. Click triangle near \*\*SFP - Like Page Plugin\*\* header. |
  | 49 | 49 | 1. Enter your Facebook Page URL (not your profile URL). |
  | 50 | 50 | 1. Choose width, height and other options you like. |
  | 51 | 51 |  |
  | 52 | 52 | \*\*or\*\* |
  | 53 | 53 |  |
  | 54 | 54 | Use `[sfp-page-plugin]` shortcode inside your post or page. This shortcode support all default parametrs: |
  | 55 | 55 |  |
  | 56 | 56 |  |
  | 57 | 57 | \* url - any Fan Page URL (not your personal page!) |
  | 58 | 58 | \* width - number (min 280, max 500) |
  | 59 | 59 | \* height - number |
  | 60 | 60 | \* hide\_cover - \*true\* or \*false\* |
  | 61 | 61 | \* show\_facepile - \*true\* or \*false\* |
  | 62 | 62 | \* small\_header - \*true\* or \*false\* |
  | 63 | 63 | \* timeline - \*true\* or \*false\* |
  | 64 | 64 | \* events - \*true\* or \*false\* |
  | 65 | 65 | \* messages - \*true\* or \*false\* |
  | 66 | 66 | \* locale - valid language code (e.g. \*en\_US\* or \*es\_MX\*) see [.xml file](http://www.facebook.com/translations/FacebookLocales.xml "Facebook locales XML") with all Facebook locales |
  | 67 | 67 |  |
  | 68 | 68 |  |
  | 69 | 69 | If you want Page Plugin \*320 pixels width\* and \*showing posts\* you need to use it next way: |
  | 70 | 70 |  |
  | 71 | 71 | `[sfp-page-plugin width=320 show\_posts=true url=http://www.facebook.com/yourPageName]` |
  | 72 | 72 |  |
  | 73 | 73 | \*\*or\*\* |
  | 74 | 74 |  |
  | 75 | 75 | Use `sfp\_page\_plugin()` template tag in your theme files. |
  | 76 | 76 |  |
  | 77 | 77 | `<?php if ( function\_exists("sfp\_page\_plugin") ) { |
  | 78 | 78 | $args = array( |
  | 79 | 79 | 'url'           => 'https://www.facebook.com/WordPress/', |
  | 80 | 80 | 'width'     => '300', |
  | 81 | 81 | 'hide\_cover'=> true, |
  | 82 | 82 | 'locale'        => 'en\_US' |
  | 83 | 83 | ); |
  | 84 | 84 | sfp\_page\_plugin( $args ); |
  | 85 | 85 | } ?>` |
  | 86 | 86 |  |
  | 87 | 87 | == Frequently Asked Questions == |
  | 88 | 88 |  |
  | 89 | 89 | = I see the message “Error: Not a valid Facebook Page url.”. What am I doing wrong? = |
  | 90 | 90 |  |
  | 91 | 91 | Page Plugin is only for Pages and \*\*not\*\* for Profiles, Events and Groups. |
  | 92 | 92 |  |
  | 93 | 93 | == Screenshots == |
  | 94 | 94 |  |
  | 95 | 95 | 1. Widget in the dashboard. |
  | 96 | 96 | 2. Simple Widget on your website. |
  | 97 | 97 | 3. Widget with posts on your website. |
  | 98 | 98 |  |
  | 99 | 99 | == Changelog == |
  | 100 | 100 |  |
  | 101 | 101 | = 1.5.2 = |
  | 102 | 102 | \* Teseted up to WordPress 6.3.2 |
  | 103 | 103 | \* PHP8.x Compatibility check |
  | 104 | 104 | \* Security fixes for minor Authenticated (Contributor+) XSS vulnerability |
  | 105 | 105 |  |
  | 106 | 106 | = 1.5.1 = |
  | 107 | 107 | \* Teseted up to WordPress 4.9.6 |
  | 108 | 108 |  |
  | 109 | 109 | = 1.5 = |
  | 110 | 110 | \* Added Events and Messages tabs |
  | 111 | 111 | \* Added Small Header Option |
  | 112 | 112 | \* Fixed PHP7 Warning and Notice messages |
  | 113 | 113 | \* Removed deprecated Like Box widget |
  | 114 | 114 |  |
  | 115 | 115 | = 1.4.1 = |
  | 116 | 116 | \* Redirect issue fixed |
  | 117 | 117 |  |
  | 118 | 118 | = 1.4 = |
  | 119 | 119 | \* Deprecated "Like Box" replaced with new Facebook "Page Plugin" |
  | 120 | 120 |  |
  | 121 | 121 | = 1.3 = |
  | 122 | 122 | \* Add-on support added |
  | 123 | 123 |  |
  | 124 | 124 | = 1.2.2 = |
  | 125 | 125 | \* Option to show Like Box with no border changed to native Facebook data-show-border=false |
  | 126 | 126 |  |
  | 127 | 127 | = 1.2.1 = |
  | 128 | 128 | \* Added option to show Like Box with no border |
  | 129 | 129 | \* Added Norwegian(bokmal) locale to widget |
  | 130 | 130 |  |
  | 131 | 131 | = 1.2 = |
  | 132 | 132 | Plugin structure reorganized. Shortcode and template tag functionality added |
  | 133 | 133 |  |
  | 134 | 134 | = 1.1 = |
  | 135 | 135 | More than 20 Facebook Locales added |
* ## [simple-facebook-plugin/trunk/simple-facebook-plugin.php](/changeset/3092346/simple-facebook-plugin/trunk/simple-facebook-plugin.php?old=2988694&old_path=simple-facebook-plugin%2Ftrunk%2Fsimple-facebook-plugin.php "Show the [3051436:3092346] differences restricted to simple-facebook-plugin/trunk/simple-facebook-plugin.php")

  | [r3051436](/browser/simple-facebook-plugin/trunk/simple-facebook-plugin.php?rev=2988694#L1 "Show revision 3051436 of this file in browser") | [r3092346](/browser/simple-facebook-plugin/trunk/simple-facebook-plugin.php?rev=3092346#L1 "Show revision 3092346 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | /\* |
  | 3 | 3 | Plugin Name: Simple Like Page Plugin |
  | 4 | 4 | Plugin URI: http://plugins.topdevs.net/simple-like-page-plugin |
  | 5 | 5 | Description: Allows you to integrate Facebook "Page Plugin" into your WordPress Site. |
  | 6 |  | Version: 1.5.~~2~~ |
  | 7 |  | Author: ~~topdevs.net~~ |
  | 8 |  | Author URI: http~~://codecanyon.net/user/topdevs/portfolio?ref=topdevs~~ |
  |  | 6 | Version: 1.5.3 |
  |  | 7 | Author: Illia Online |
  |  | 8 | Author URI: https://illia.onine |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | \*/ |
  | 11 | 11 |  |
  | 12 |  | define( "SFP\_VERSION", '1.5.~~2~~' ); |
  |  | 12 | define( "SFP\_VERSION", '1.5.3' ); |
  | 13 | 13 |  |
  | 14 | 14 | /\*\* |
  | 15 | 15 | \* Main SF Plugin Class |
  | 16 | 16 | \* |
  | 17 | 17 | \* Contains the main functions for SF and stores variables |
  | 18 | 18 | \* |
  | 19 | 19 | \* @since SF Plugin 1.2 |
  | 20 | 20 | \* @author Ilya K. |
  | 21 | 21 | \*/ |
  | 22 | 22 |  |
  | 23 | 23 | // Check if class already exist |
  | 24 | 24 | if ( !class\_exists( 'SFPlugin' ) ) { |
  | 25 | 25 |  |
  | 26 | 26 | // Main plugin class |
  | 27 | 27 | class SFPlugin { |
  | 28 | 28 |  |
  | 29 | 29 | public $pluginPath; |
  | 30 | 30 | public $pluginUrl; |
  | 31 | 31 | public $pluginName; |
  | 32 | 32 | public $optionName; |
  | 33 | 33 |  |
  | 34 | 34 | public $facebookLocalesUrl = "http://www.facebook.com/translations/FacebookLocales.xml"; |
  | 35 | 35 | public $locales; |
  | 36 | 36 |  |
  | 37 | 37 | /\*\* |
  | 38 | 38 | \* SF Plugin Constructor |
  | 39 | 39 | \* |
  | 40 | 40 | \* Gets things started |
  | 41 | 41 | \*/ |
  | 42 | 42 | public function \_\_construct( ) { |
  | 43 | 43 | $this->pluginPath   = plugin\_dir\_path(\_\_FILE\_\_); |
  | 44 | 44 | $this->pluginUrl    = plugin\_dir\_url(\_\_FILE\_\_); |
  | 45 | 45 |  |
  | 46 | 46 | $this->optionName   = "simple\_facebook\_plugin\_options"; |
  | 47 | 47 |  |
  | 48 | 48 | $this->locales      = $this->parseLocales($this->facebookLocalesUrl); |
  | 49 | 49 |  |
  | 50 | 50 | $this->loadFiles(); |
  | 51 | 51 | $this->addActions(); |
  | 52 | 52 | $this->addShortcodes(); |
  | 53 | 53 | } |
  | 54 | 54 |  |
  | 55 | 55 | /\*\* |
  | 56 | 56 | \* Load all the required files. |
  | 57 | 57 | \*/ |
  | 58 | 58 | protected function loadFiles() { |
  | 59 | 59 | // Include social plugins files |
  | 60 | 60 | require\_once( $this->pluginPath . 'lib/sfp-page-plugin.php' ); |
  | 61 | 61 |  |
  | 62 | 62 | // Allow addons load files |
  | 63 | 63 | do\_action('sfp\_load\_files'); |
  | 64 | 64 | } |
  | 65 | 65 |  |
  | 66 | 66 | /\*\* |
  | 67 | 67 | \* Add all the required actions. |
  | 68 | 68 | \*/ |
  | 69 | 69 | protected function addActions() { |
  | 70 | 70 |  |
  | 71 | 71 | //add\_action( 'admin\_menu',     array( $this, 'pluginMenu') ); |
  | 72 | 72 | add\_action( 'admin\_notices',    array( $this, 'adminNotice') ); |
  | 73 | 73 | add\_action( 'widgets\_init',     array( $this, 'addWidgets') ); |
  | 74 | 74 | //add\_action( 'wp\_footer',      array( $this, 'addJavaScriptSDK') ); |
  | 75 | 75 | add\_action( 'admin\_init',       array( $this, 'saveOptions' ) ); |
  | 76 | 76 | add\_action( 'admin\_init',       array( $this, 'ignoreNotices' ) ); |
  | 77 | 77 | add\_action( 'admin\_enqueue\_scripts',    array( $this, 'enqueueScriptsAdmin') ); |
  | 78 | 78 |  |
  | 79 | 79 | // Add settings link on Plugins page |
  | 80 | 80 | $plugin = "simple-facebook-plugin/simple-facebook-plugin.php"; |
  | 81 | 81 | //add\_filter( "plugin\_action\_links\_$plugin", array( $this, 'pluginSettingsLink') ); |
  | 82 | 82 |  |
  | 83 | 83 | // Allow addons add actions |
  | 84 | 84 | do\_action( 'sfp\_add\_actions', $this ); |
  | 85 | 85 | } |
  | 86 | 86 |  |
  | 87 | 87 | /\*\* |
  | 88 | 88 | \* Register all widgets |
  | 89 | 89 | \*/ |
  | 90 | 90 | public function addWidgets() { |
  | 91 | 91 |  |
  | 92 | 92 | register\_widget('SFPPagePluginWidget'); |
  | 93 | 93 |  |
  | 94 | 94 | // Allow addons add widgets |
  | 95 | 95 | do\_action('sfp\_add\_widgets'); |
  | 96 | 96 | } |
  | 97 | 97 |  |
  | 98 | 98 | /\*\* |
  | 99 | 99 | \* Register all shortcodes |
  | 100 | 100 | \*/ |
  | 101 | 101 | public function addShortcodes() { |
  | 102 | 102 |  |
  | 103 | 103 | add\_shortcode('sfp-page-plugin', 'sfp\_page\_plugin\_shortcode'); |
  | 104 | 104 |  |
  | 105 | 105 | // Allow addons add shortcodes |
  | 106 | 106 | do\_action('sfp\_add\_shortcodes'); |
  | 107 | 107 | } |
  | 108 | 108 |  |
  | 109 | 109 | /\*\* |
  | 110 | 110 | \* Get remote XML file by URL |
  | 111 | 111 | \* |
  | 112 | 112 | \* @param  string $url |
  | 113 | 113 | \* @return array |
  | 114 | 114 | \* @since 1.3 |
  | 115 | 115 | \*/ |
  | 116 | 116 | public function parseLocales ( $url = "" ) { |
  | 117 | 117 |  |
  | 118 | 118 | if ( file\_exists( $url ) && function\_exists( "simplexml\_load\_file" ) ) { |
  | 119 | 119 |  |
  | 120 | 120 | $locales    = array(); |
  | 121 | 121 | $xml        = simplexml\_load\_file( $url ); |
  | 122 | 122 |  |
  | 123 | 123 | foreach ( $xml as $key => $locale ) { |
  | 124 | 124 |  |
  | 125 | 125 | $name = (array) $locale->englishName; |
  | 126 | 126 | $name = $name[0]; |
  | 127 | 127 |  |
  | 128 | 128 | $code = (array) $locale->codes->code->standard->representation; |
  | 129 | 129 | $code = $code[0]; |
  | 130 | 130 |  |
  | 131 | 131 | $locales[$code] = $name; |
  | 132 | 132 | }; |
  | 133 | 133 | } |
  | 134 | 134 | else |
  | 135 | 135 | $locales = array( |
  | 136 | 136 | "af\_ZA"=>   "Afrikaans", |
  | 137 | 137 | "ar\_AR"=>   "Arabic", |
  | 138 | 138 | "az\_AZ"=>   "Azerbaijani", |
  | 139 | 139 | "be\_BY"=>   "Belarusian", |
  | 140 | 140 | "bg\_BG"=>   "Bulgarian", |
  | 141 | 141 | "bn\_IN"=>   "Bengali", |
  | 142 | 142 | "bs\_BA"=>   "Bosnian", |
  | 143 | 143 | "ca\_ES"=>   "Catalan", |
  | 144 | 144 | "cs\_CZ"=>   "Czech", |
  | 145 | 145 | "cy\_GB"=>   "Welsh", |
  | 146 | 146 | "da\_DK"=>   "Danish", |
  | 147 | 147 | "de\_DE"=>   "German", |
  | 148 | 148 | "el\_GR"=>   "Greek", |
  | 149 | 149 | "en\_GB"=>   "English (UK)", |
  | 150 | 150 | "en\_PI"=>   "English (Pirate)", |
  | 151 | 151 | "en\_UD"=>   "English (Upside Down)", |
  | 152 | 152 | "en\_US"=>   "English (US)", |
  | 153 | 153 | "eo\_EO"=>   "Esperanto", |
  | 154 | 154 | "es\_ES"=>   "Spanish (Spain)", |
  | 155 | 155 | "es\_LA"=>   "Spanish", |
  | 156 | 156 | "et\_EE"=>   "Estonian", |
  | 157 | 157 | "eu\_ES"=>   "Basque", |
  | 158 | 158 | "fa\_IR"=>   "Persian", |
  | 159 | 159 | "fb\_LT"=>   "Leet Speak", |
  | 160 | 160 | "fi\_FI"=>   "Finnish", |
  | 161 | 161 | "fo\_FO"=>   "Faroese", |
  | 162 | 162 | "fr\_CA"=>   "French (Canada)", |
  | 163 | 163 | "fr\_FR"=>   "French (France)", |
  | 164 | 164 | "fy\_NL"=>   "Frisian", |
  | 165 | 165 | "ga\_IE"=>   "Irish", |
  | 166 | 166 | "gl\_ES"=>   "Galician", |
  | 167 | 167 | "he\_IL"=>   "Hebrew", |
  | 168 | 168 | "hi\_IN"=>   "Hindi", |
  | 169 | 169 | "hr\_HR"=>   "Croatian", |
  | 170 | 170 | "hu\_HU"=>   "Hungarian", |
  | 171 | 171 | "hy\_AM"=>   "Armenian", |
  | 172 | 172 | "id\_ID"=>   "Indonesian", |
  | 173 | 173 | "is\_IS"=>   "Icelandic", |
  | 174 | 174 | "it\_IT"=>   "Italian", |
  | 175 | 175 | "ja\_JP"=>   "Japanese", |
  | 176 | 176 | "ka\_GE"=>   "Georgian", |
  | 177 | 177 | "km\_KH"=>   "Khmer", |
  | 178 | 178 | "ko\_KR"=>   "Korean", |
  | 179 | 179 | "ku\_TR"=>   "Kurdish", |
  | 180 | 180 | "la\_VA"=>   "Latin", |
  | 181 | 181 | "lt\_LT"=>   "Lithuanian", |
  | 182 | 182 | "lv\_LV"=>   "Latvian", |
  | 183 | 183 | "mk\_MK"=>   "Macedonian", |
  | 184 | 184 | "ml\_IN"=>   "Malayalam", |
  | 185 | 185 | "ms\_MY"=>   "Malay", |
  | 186 | 186 | "nb\_NO"=>   "Norwegian (bokmal)", |
  | 187 | 187 | "ne\_NP"=>   "Nepali", |
  | 188 | 188 | "nl\_NL"=>   "Dutch", |
  | 189 | 189 | "nn\_NO"=>   "Norwegian (nynorsk)", |
  | 190 | 190 | "pa\_IN"=>   "Punjabi", |
  | 191 | 191 | "pl\_PL"=>   "Polish", |
  | 192 | 192 | "ps\_AF"=>   "Pashto", |
  | 193 | 193 | "pt\_BR"=>   "Portuguese (Brazil)", |
  | 194 | 194 | "pt\_PT"=>   "Portuguese (Portugal)", |
  | 195 | 195 | "ro\_RO"=>   "Romanian", |
  | 196 | 196 | "ru\_RU"=>   "Russian", |
  | 197 | 197 | "sk\_SK"=>   "Slovak", |
  | 198 | 198 | "sl\_SI"=>   "Slovenian", |
  | 199 | 199 | "sq\_AL"=>   "Albanian", |
  | 200 | 200 | "sr\_RS"=>   "Serbian", |
  | 201 | 201 | "sv\_SE"=>   "Swedish", |
  | 202 | 202 | "sw\_KE"=>   "Swahili", |
  | 203 | 203 | "ta\_IN"=>   "Tamil", |
  | 204 | 204 | "te\_IN"=>   "Telugu", |
  | 205 | 205 | "th\_TH"=>   "Thai", |
  | 206 | 206 | "tl\_PH"=>   "Filipino", |
  | 207 | 207 | "tr\_TR"=>   "Turkish", |
  | 208 | 208 | "uk\_UA"=>   "Ukrainian", |
  | 209 | 209 | "vi\_VN"=>   "Vietnamese", |
  | 210 | 210 | "zh\_CN"=>   "Simplified Chinese (China)", |
  | 211 | 211 | "zh\_HK"=>   "Traditional Chinese (Hong Kong)", |
  | 212 | 212 | "zh\_TW"=>   "Traditional Chinese (Taiwan)" |
  | 213 | 213 | ); |
  | 214 | 214 |  |
  | 215 | 215 | return $locales; |
  | 216 | 216 | } |
  | 217 | 217 |  |
  | 218 | 218 | /\*\* |
  | 219 | 219 | \* Load styles for dashboard |
  | 220 | 220 | \* |
  | 221 | 221 | \* @since 1.3.1 |
  | 222 | 222 | \*/ |
  | 223 | 223 |  |
  | 224 | 224 | static function enqueueScriptsAdmin() { |
  | 225 | 225 |  |
  | 226 | 226 | // add custom css |
  | 227 | 227 | wp\_register\_style( 'sfp-admin-style', plugin\_dir\_url(\_\_FILE\_\_) . '/lib/css/sfp-admin-style.css' ); |
  | 228 | 228 | wp\_enqueue\_style( 'sfp-admin-style' ); |
  | 229 | 229 | } |
  | 230 | 230 |  |
  | 231 | 231 | /\*\* |
  | 232 | 232 | \* Load Facebook JavaScript SDK |
  | 233 | 233 | \* |
  | 234 | 234 | \* @since 1.3 |
  | 235 | 235 | \*/ |
  | 236 | 236 |  |
  | 237 | 237 | public function addJavaScriptSDK() { |
  | 238 | 238 |  |
  | 239 | 239 | $options    = $this->getPluginOptions(); |
  | 240 | 240 | $locale     = $options['locale']; |
  | 241 | 241 |  |
  | 242 | 242 | ?> |
  | 243 | 243 |  |
  | 244 | 244 | <div id="fb-root"></div> |
  | 245 | 245 | <script> |
  | 246 | 246 | (function(d){ |
  | 247 | 247 | var js, id = 'facebook-jssdk'; |
  | 248 | 248 | if (d.getElementById(id)) {return;} |
  | 249 | 249 | js = d.createElement('script'); |
  | 250 | 250 | js.id = id; |
  | 251 | 251 | js.async = true; |
  | 252 | 252 | js.src = "//connect.facebook.net/<?php echo $locale; ?>/all.js#xfbml=1"; |
  | 253 | 253 | d.getElementsByTagName('head')[0].appendChild(js); |
  | 254 | 254 | }(document)); |
  | 255 | 255 | </script> |
  | 256 | 256 |  |
  | 257 | 257 | <?php } |
  | 258 | 258 |  |
  | 259 | 259 | /\*\* |
  | 260 | 260 | \* Add Dashboard > Plugins Menu Page |
  | 261 | 261 | \* |
  | 262 | 262 | \* @since 1.3 |
  | 263 | 263 | \*/ |
  | 264 | 264 |  |
  | 265 | 265 | public function pluginMenu() { |
  | 266 | 266 |  |
  | 267 | 267 | add\_plugins\_page('Simple Facebook Plugin Menu', 'Simple Facebook', 'read', 'simple\_facebook\_plugin', array( $this, "pluginMenuView" ) ); |
  | 268 | 268 | } |
  | 269 | 269 |  |
  | 270 | 270 | /\*\* |
  | 271 | 271 | \* Show Menu Page View |
  | 272 | 272 | \* |
  | 273 | 273 | \* @since 1.3 |
  | 274 | 274 | \*/ |
  | 275 | 275 |  |
  | 276 | 276 | public function pluginMenuView() { |
  | 277 | 277 |  |
  | 278 | 278 | $options = $this->getPluginOptions(); |
  | 279 | 279 |  |
  | 280 | 280 | // include Like Box view |
  | 281 | 281 | include( $sfplugin->pluginPath . 'views/view-menu.php' ); |
  | 282 | 282 |  |
  | 283 | 283 | } |
  | 284 | 284 |  |
  | 285 | 285 | /\*\* |
  | 286 | 286 | \* Show admin notice |
  | 287 | 287 | \* |
  | 288 | 288 | \* @since 1.3 |
  | 289 | 289 | \*/ |
  | 290 | 290 |  |
  | 291 | 291 | public function adminNotice() { |
  | 292 | 292 |  |
  | 293 | 293 | global $current\_user; |
  | 294 | 294 | $user\_id = $current\_user->ID; |
  | 295 | 295 |  |
  | 296 | 296 | /\* Check that the user hasn't already clicked to ignore the message \*/ |
  | 297 | 297 | if ( ! get\_user\_meta( $user\_id, 'sfp\_ignore\_notice\_4') ) { |
  | 298 | 298 |  |
  | 299 | 299 | echo '<div class="updated"><p>'; |
  | 300 | 300 |  |
  | 301 | 301 | printf( \_\_('Thanks for using our <strong>Simple Facebook Plugin</strong>! We have some other great WordPress plugins <a href="http://codecanyon.net/user/topdevs/portfolio?ref=topdevs">View Portfolio</a> | <a href="%1$s">Hide this</a>'), '?sfp\_ignore\_4=0'); |
  | 302 | 302 |  |
  | 303 | 303 | echo "</p></div>"; |
  | 304 | 304 |  |
  | 305 | 305 | } |
  | 306 | 306 | } |
  | 307 | 307 |  |
  | 308 | 308 | public function ignoreNotices() { |
  | 309 | 309 |  |
  | 310 | 310 | global $current\_user; |
  | 311 | 311 | $user\_id = $current\_user->ID; |
  | 312 | 312 |  |
  | 313 | 313 | /\* If user clicks to ignore the notice, add that to their user meta \*/ |
  | 314 | 314 | if ( isset( $\_GET['sfp\_ignore\_4'] ) && '0' == $\_GET['sfp\_ignore\_4'] ) { |
  | 315 | 315 | add\_user\_meta( $user\_id, 'sfp\_ignore\_notice\_4', 'true', true); |
  | 316 | 316 | } |
  | 317 | 317 | } |
  | 318 | 318 |  |
  | 319 | 319 | /\*\* |
  | 320 | 320 | \* Add status link on plugins page |
  | 321 | 321 | \* |
  | 322 | 322 | \* @since 1.3 |
  | 323 | 323 | \*/ |
  | 324 | 324 |  |
  | 325 | 325 | public function pluginSettingsLink ( $links ) { |
  | 326 | 326 |  |
  | 327 | 327 | $settings\_link = '<a href="' . menu\_page\_url( "simple\_facebook\_plugin", false ) . '">Settings</a>'; |
  | 328 | 328 |  |
  | 329 | 329 | array\_unshift( $links, $settings\_link ); |
  | 330 | 330 |  |
  | 331 | 331 | return $links; |
  | 332 | 332 | } |
  | 333 | 333 |  |
  | 334 | 334 | /\*\* |
  | 335 | 335 | \* Get plugin options |
  | 336 | 336 | \* |
  | 337 | 337 | \* @since 1.3 |
  | 338 | 338 | \*/ |
  | 339 | 339 |  |
  | 340 | 340 | public function getPluginOptions() { |
  | 341 | 341 |  |
  | 342 | 342 | $defaults = array( |
  | 343 | 343 | 'locale' => "en\_US" ); |
  | 344 | 344 |  |
  | 345 | 345 | $defaults = apply\_filters( "sfp\_default\_options", $defaults ); |
  | 346 | 346 |  |
  | 347 | 347 | $options = get\_option( $this->optionName, $defaults ); |
  | 348 | 348 |  |
  | 349 | 349 | return $options; |
  | 350 | 350 | } |
  | 351 | 351 |  |
  | 352 | 352 | /\*\* |
  | 353 | 353 | \* Save plugin options |
  | 354 | 354 | \* |
  | 355 | 355 | \* @since 1.3 |
  | 356 | 356 | \*/ |
  | 357 | 357 |  |
  | 358 | 358 | public function savePluginOptions( $options = array() ) { |
  | 359 | 359 |  |
  | 360 | 360 | update\_option( $this->optionName, $options ); |
  | 361 | 361 | } |
  | 362 | 362 |  |
  | 363 | 363 | /\*\* |
  | 364 | 364 | \* Trigger when settings page form submitted |
  | 365 | 365 | \* |
  | 366 | 366 | \* @since 1.3 |
  | 367 | 367 | \*/ |
  | 368 | 368 |  |
  | 369 | 369 | public function saveOptions() { |
  | 370 | 370 |  |
  | 371 | 371 | //delete\_option( $this->optionName ); |
  | 372 | 372 |  |
  | 373 | 373 | // If submit button pressed |
  | 374 | 374 | if ( isset( $\_POST['sfp\_options\_saved'] ) ) { |
  | 375 | 375 |  |
  | 376 | 376 | $options = $this->getPluginOptions(); |
  | 377 | 377 |  |
  | 378 | 378 | if ( isset( $\_POST['locale'] ) && !empty( $\_POST['locale'] ) ) { |
  | 379 | 379 |  |
  | 380 | 380 | $options['locale'] = $\_POST['locale']; |
  | 381 | 381 | } |
  | 382 | 382 |  |
  | 383 | 383 | $this->savePluginOptions( $options ); |
  | 384 | 384 | } |
  | 385 | 385 | } |
  | 386 | 386 |  |
  | 387 | 387 | } // end SFPlugin class |
  | 388 | 388 |  |
  | 389 | 389 | } // end if !class\_exists |
  | 390 | 390 |  |
  | 391 | 391 | // Create new SFPlugin instance |
  | 392 | 392 | $GLOBALS["sfplugin"] = new SFPlugin(); |
  | 393 | 393 |  |
  | 394 | 394 | ?> |
* ## [simple-facebook-plugin/trunk/views/view-page-plugin.php](/changeset/3092346/simple-facebook-plugin/trunk/views/view-page-plugin.php?old=2988694&old_path=simple-facebook-plugin%2Ftrunk%2Fviews%2Fview-page-plugin.php "Show the [3051436:3092346] differences restricted to simple-facebook-plugin/trunk/views/view-page-plugin.php")

  | [r3051436](/browser/simple-facebook-plugin/trunk/views/view-page-plugin.php?rev=2988694#L1 "Show revision 3051436 of this file in browser") | [r3092346](/browser/simple-facebook-plugin/trunk/views/view-page-plugin.php?rev=3092346#L1 "Show revision 3092346 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | // Check if shortcode return string and not bool |
  | 3 | 3 | if ( is\_string( $hide\_cover ) )     $hide\_cover     = ( $hide\_cover     == 'true') ? true : false; |
  | 4 | 4 | if ( is\_string( $show\_facepile  ) ) $show\_facepile  = ( $show\_facepile  == 'true') ? true : false; |
  | 5 | 5 | if ( is\_string( $small\_header   ) ) $small\_header   = ( $small\_header   == 'true') ? true : false; |
  | 6 | 6 | if ( is\_string( $timeline ) )       $timeline       = ( $timeline       == 'true') ? true : false; |
  | 7 | 7 | if ( is\_string( $events ) )         $events         = ( $events         == 'true') ? true : false; |
  | 8 | 8 | if ( is\_string( $messages ) )       $messages       = ( $messages       == 'true') ? true : false; |
  | 9 | 9 |  |
  | 10 | 10 | $like\_box\_classes = array( "sfp-container" ); |
  | 11 | 11 | $like\_box\_classes = apply\_filters( "sfp\_like\_box\_classes", $like\_box\_classes, $instance ); |
  | 12 | 12 | $like\_box\_classes = implode( " ", $like\_box\_classes ); |
  | 13 | 13 |  |
  | 14 | 14 | $tabs = array(); |
  | 15 | 15 |  |
  | 16 | 16 | if ( $timeline === true )   $tabs[] = "timeline"; |
  | 17 | 17 | if ( $events === true )     $tabs[] = "events"; |
  | 18 | 18 | if ( $messages === true )   $tabs[] = "messages"; |
  | 19 | 19 |  |
  | 20 | 20 | ?> |
  | 21 | 21 | <div id="fb-root"></div> |
  | 22 | 22 | <script> |
  | 23 | 23 | (function(d){ |
  | 24 | 24 | var js, id = 'facebook-jssdk'; |
  | 25 | 25 | if (d.getElementById(id)) {return;} |
  | 26 | 26 | js = d.createElement('script'); |
  | 27 | 27 | js.id = id; |
  | 28 | 28 | js.async = true; |
  | 29 |  | js.src = "//connect.facebook.net/<?php echo ~~$locale~~; ?>/all.js#xfbml=1"; |
  |  | 29 | js.src = "//connect.facebook.net/<?php echo esc\_js($locale); ?>/all.js#xfbml=1"; |
  | 30 | 30 | d.getElementsByTagName('head')[0].appendChild(js); |
  | 31 | 31 | }(document)); |
  | 32 | 32 | </script> |
  | 33 | 33 | <!-- SFPlugin by topdevs.net --> |
  | 34 | 34 | <!-- Page Plugin Code START --> |
  | 35 |  | <div class="<?php echo ~~$like\_box\_classes~~; ?>"> |
  |  | 35 | <div class="<?php echo esc\_attr($like\_box\_classes); ?>"> |
  | 36 | 36 | <div class="fb-page" |
  | 37 | 37 | data-href="<?php echo esc\_url( $url ); ?>" |
  | 38 | 38 | data-width="<?php echo esc\_attr( $width ); ?>" |
  | 39 | 39 | data-height="<?php echo esc\_attr( $height ); ?>" |
  | 40 | 40 | data-hide-cover="<?php echo esc\_attr( ( $hide\_cover ) ? 'true' : 'false'); ?>" |
  | 41 | 41 | data-show-facepile="<?php echo esc\_attr( ( $show\_facepile ) ? 'true' : 'false'); ?>" |
  | 42 | 42 | data-small-header="<?php echo esc\_attr( ( $small\_header ) ? 'true' : 'false'); ?>" |
  | 43 | 43 | data-tabs="<?php echo esc\_attr( implode(",", $tabs) ); ?>"> |
  | 44 | 44 | </div> |
  | 45 | 45 | </div> |
  | 46 | 46 | <!-- Page Plugin Code END --> |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3092346&old=3051436&new_path=%2Fsimple-facebook-plugin%2Ftrunk&old_path=%2Fsimple-facebook-plugin%2Ftrunk)
* [Zip Archive](?format=zip&new=3092346&old=3051436&new_path=%2Fsimple-facebook-plugin%2Ftrunk&old_path=%2Fsimple-facebook-plugin%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

