

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3042177%2540custom-field-suite%26old%3D3042177%2540custom-field-suite)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2931047/custom-field-suite "Changeset 2931047 for custom-field-suite")
* [Next Change](/changeset/3080330/custom-field-suite "Changeset 3080330 for custom-field-suite") →

---

# Changeset [3042177](/changeset/3042177 "Show full changeset") for [custom-field-suite](/browser/custom-field-suite?rev=3042177 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
02/27/2024 07:11:53 PM
([11 months](/timeline?from=2024-02-27T19%3A11%3A53Z&precision=second "See timeline at 02/27/2024 07:11:53 PM") ago)

Author:
mgibbs189
Message:

CFS 2.6.5

Location:
[custom-field-suite/trunk](/browser/custom-field-suite/trunk?rev=3042177)
Files:

10 edited

* [cfs.php](/browser/custom-field-suite/trunk/cfs.php?rev=3042177 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [includes/field.php](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177 "Show entry in browser")
  (modified)
  ([8 diffs](#file1 "Show differences"))
* [includes/fields/file.php](/browser/custom-field-suite/trunk/includes/fields/file.php?rev=3042177 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [includes/fields/loop.php](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=3042177 "Show entry in browser")
  (modified)
  ([3 diffs](#file3 "Show differences"))
* [includes/fields/relationship.php](/browser/custom-field-suite/trunk/includes/fields/relationship.php?rev=3042177 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [includes/fields/select.php](/browser/custom-field-suite/trunk/includes/fields/select.php?rev=3042177 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [includes/fields/textarea.php](/browser/custom-field-suite/trunk/includes/fields/textarea.php?rev=3042177 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [includes/fields/true\_false.php](/browser/custom-field-suite/trunk/includes/fields/true_false.php?rev=3042177 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [includes/fields/wysiwyg.php](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=3042177 "Show entry in browser")
  (modified)
  ([4 diffs](#file8 "Show differences"))
* [readme.txt](/browser/custom-field-suite/trunk/readme.txt?rev=3042177 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [custom-field-suite/trunk/cfs.php](/changeset/3042177/custom-field-suite/trunk/cfs.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/cfs.php")

  | [r2931047](/browser/custom-field-suite/trunk/cfs.php?rev=2931047#L3 "Show revision 2931047 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/cfs.php?rev=3042177#L3 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Plugin Name: Custom Field Suite |
  | 4 | 4 | Description: Visually add custom fields to your WordPress edit pages. |
  | 5 |  | Version: 2.6.~~4~~ |
  |  | 5 | Version: 2.6.5 |
  | 6 | 6 | Author: Matt Gibbs |
  | 7 | 7 | Text Domain: cfs |
  | […](/browser/custom-field-suite/trunk/cfs.php?rev=2931047#L22) | […](/browser/custom-field-suite/trunk/cfs.php?rev=3042177#L22) |  |
  | 22 | 22 |  |
  | 23 | 23 | // setup variables |
  | 24 |  | define( 'CFS\_VERSION', '2.6.~~4~~' ); |
  |  | 24 | define( 'CFS\_VERSION', '2.6.5' ); |
  | 25 | 25 | define( 'CFS\_DIR', dirname( \_\_FILE\_\_ ) ); |
  | 26 | 26 | define( 'CFS\_URL', plugins\_url( '', \_\_FILE\_\_ ) ); |
* ## [custom-field-suite/trunk/includes/field.php](/changeset/3042177/custom-field-suite/trunk/includes/field.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/field.php")

  | [r2287953](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L9 "Show revision 2287953 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L9 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 | /\*\* |
  | 10 | 10 | \* Constructor |
  | 11 |  | \* @param object $parent |
  |  | 11 | \* @param object $parent |
  | 12 | 12 | \* @since 1.0.5 |
  | 13 | 13 | \*/ |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L20) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L20) |  |
  | 20 | 20 | /\*\* |
  | 21 | 21 | \* Generate the field HTML |
  | 22 |  | \* @param object $field |
  |  | 22 | \* @param object $field |
  | 23 | 23 | \* @since 1.0.5 |
  | 24 | 24 | \*/ |
  | 25 | 25 | function html( $field ) { |
  | 26 | 26 | ?> |
  | 27 |  | <input type="text" name="<?php echo ~~$field->input\_name; ?>" class="<?php echo $field->input\_class; ?>" value="<?php echo $field->value~~; ?>" /> |
  |  | 27 | <input type="text" name="<?php echo esc\_attr( $field->input\_name ); ?>" class="<?php echo esc\_attr( $field->input\_class ); ?>" value="<?php echo esc\_attr( $field->value ); ?>" /> |
  | 28 | 28 | <?php |
  | 29 | 29 | } |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L33) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L33) |  |
  | 33 | 33 | \* Generate settings HTML for the field group edit screen |
  | 34 | 34 | \* @param int $key The unique field identifier |
  | 35 |  | \* @param object $field |
  |  | 35 | \* @param object $field |
  | 36 | 36 | \* @since 1.0.5 |
  | 37 | 37 | \*/ |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L70) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L70) |  |
  | 70 | 70 | /\*\* |
  | 71 | 71 | \* Format the value directly after database load |
  | 72 |  | \* |
  |  | 72 | \* |
  | 73 | 73 | \* Values are retrieved from the database as an array, even for field types that |
  | 74 | 74 | \* don't expect arrays. For field types that should return array values, make |
  | 75 | 75 | \* sure to override this method and return $value. |
  | 76 |  | \* |
  | 77 |  | \* @param mixed $value |
  |  | 76 | \* |
  |  | 77 | \* @param mixed $value |
  | 78 | 78 | \* @param mixed $field The field object (optional) |
  | 79 | 79 | \* @return mixed The field value |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L87) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L87) |  |
  | 87 | 87 | /\*\* |
  | 88 | 88 | \* Format the value for use with $cfs->get |
  | 89 |  | \* @param mixed $value |
  |  | 89 | \* @param mixed $value |
  | 90 | 90 | \* @param mixed $field The field object (optional) |
  | 91 | 91 | \* @return mixed |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L99) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L99) |  |
  | 99 | 99 | /\*\* |
  | 100 | 100 | \* Format the value for use with HTML input elements |
  | 101 |  | \* @param mixed $value |
  |  | 101 | \* @param mixed $value |
  | 102 | 102 | \* @param mixed $field The field object (optional) |
  | 103 | 103 | \* @return mixed |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L111) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L111) |  |
  | 111 | 111 | /\*\* |
  | 112 | 112 | \* Format the value before saving to DB |
  | 113 |  | \* @param mixed $value |
  |  | 113 | \* @param mixed $value |
  | 114 | 114 | \* @param mixed $field The field object (optional) |
  | 115 | 115 | \* @return mixed |
  | […](/browser/custom-field-suite/trunk/includes/field.php?rev=2287953#L134) | […](/browser/custom-field-suite/trunk/includes/field.php?rev=3042177#L134) |  |
  | 134 | 134 | /\*\* |
  | 135 | 135 | \* Helper method to retrieve a field setting |
  | 136 |  | \* @param object $field |
  | 137 |  | \* @param string $option\_name |
  | 138 |  | \* @param mixed $default\_value |
  |  | 136 | \* @param object $field |
  |  | 137 | \* @param string $option\_name |
  |  | 138 | \* @param mixed $default\_value |
  | 139 | 139 | \* @return mixed |
  | 140 | 140 | \* @since 1.4.3 |
* ## [custom-field-suite/trunk/includes/fields/file.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/file.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/file.php")

  | [r2287953](/browser/custom-field-suite/trunk/includes/fields/file.php?rev=2287953#L32 "Show revision 2287953 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/file.php?rev=3042177#L32 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | <input type="button" class="media button add<?php echo $css[0]; ?>" value="<?php \_e( 'Add File', 'cfs' ); ?>" /> |
  | 33 | 33 | <input type="button" class="media button remove<?php echo $css[1]; ?>" value="<?php \_e( 'Remove', 'cfs' ); ?>" /> |
  | 34 |  | <input type="hidden" name="<?php echo ~~$field->input\_name; ?>" class="file\_value" value="<?php echo $field->value~~; ?>" /> |
  |  | 34 | <input type="hidden" name="<?php echo esc\_attr( $field->input\_name ); ?>" class="file\_value" value="<?php echo esc\_attr( $field->value ); ?>" /> |
  | 35 | 35 | <?php |
  | 36 | 36 | } |
  | […](/browser/custom-field-suite/trunk/includes/fields/file.php?rev=2287953#L110) | […](/browser/custom-field-suite/trunk/includes/fields/file.php?rev=3042177#L110) |  |
  | 110 | 110 | display: none; |
  | 111 | 111 | } |
  | 112 |  |  |
  |  | 112 |  |
  | 113 | 113 | .cfs\_frame .media-frame-title, |
  | 114 | 114 | .cfs\_frame .media-frame-router, |
* ## [custom-field-suite/trunk/includes/fields/loop.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/loop.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/loop.php")

  | [r2931047](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=2931047#L126 "Show revision 2931047 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=3042177#L126 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 126 | 126 | <div class="cfs\_loop\_body open"> |
  | 127 | 127 | <?php foreach ( $results as $field ) : ?> |
  | 128 |  | <label><?php echo ~~$field->label~~; ?></label> |
  |  | 128 | <label><?php echo esc\_html( $field->label ); ?></label> |
  | 129 | 129 |  |
  | 130 | 130 | <?php if ( ! empty( $field->notes ) ) : ?> |
  | 131 |  | <p class="notes"><?php echo ~~$field->notes~~; ?></p> |
  |  | 131 | <p class="notes"><?php echo esc\_html( $field->notes ); ?></p> |
  | 132 | 132 | <?php endif; ?> |
  | 133 | 133 |  |
  | 134 |  | <div class="field field-<?php echo ~~$field->name; ?> cfs\_<?php echo $field->type~~; ?>"> |
  |  | 134 | <div class="field field-<?php echo esc\_attr( $field->name ); ?> cfs\_<?php echo esc\_attr( $field->type ); ?>"> |
  | 135 | 135 | <?php |
  | 136 | 136 | if ( 'loop' == $field->type ) : |
  | […](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=2931047#L214) | […](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=3042177#L214) |  |
  | 214 | 214 | <div class="cfs\_loop\_body<?php echo $css\_class; ?>"> |
  | 215 | 215 | <?php foreach ( $results as $field ) : ?> |
  | 216 |  | <label><?php echo ~~$field->label~~; ?></label> |
  |  | 216 | <label><?php echo esc\_html( $field->label ); ?></label> |
  | 217 | 217 |  |
  | 218 | 218 | <?php if ( ! empty( $field->notes ) ) : ?> |
  | 219 |  | <p class="notes"><?php echo ~~$field->notes~~; ?></p> |
  |  | 219 | <p class="notes"><?php echo esc\_html( $field->notes ); ?></p> |
  | 220 | 220 | <?php endif; ?> |
  | 221 | 221 |  |
  | 222 |  | <div class="field field-<?php echo ~~$field->name; ?> cfs\_<?php echo $field->type~~; ?>"> |
  |  | 222 | <div class="field field-<?php echo esc\_attr( $field->name ); ?> cfs\_<?php echo esc\_attr( $field->type ); ?>"> |
  | 223 | 223 | <?php if ( 'loop' == $field->type ) : ?> |
  | 224 | 224 | <?php $this->recursive\_html( $group\_id, $field->id, "{$parent\_tag}[$i][$field->id]", $i ); ?> |
  | […](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=2931047#L250) | […](/browser/custom-field-suite/trunk/includes/fields/loop.php?rev=3042177#L250) |  |
  | 250 | 250 |  |
  | 251 | 251 | <div class="table\_footer"> |
  | 252 |  | <input type="button" class="button-primary cfs\_add\_field" value="<?php echo esc\_attr( $button\_label ); ?>" data-loop-tag="<?php echo ~~$parent\_tag~~; ?>" data-rows="<?php echo ( $row\_offset + 1 ); ?>" /> |
  |  | 252 | <input type="button" class="button-primary cfs\_add\_field" value="<?php echo esc\_attr( $button\_label ); ?>" data-loop-tag="<?php echo esc\_attr( $parent\_tag ); ?>" data-rows="<?php echo ( $row\_offset + 1 ); ?>" /> |
  | 253 | 253 | </div> |
  | 254 | 254 | <?php |
* ## [custom-field-suite/trunk/includes/fields/relationship.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/relationship.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/relationship.php")

  | [r2287953](/browser/custom-field-suite/trunk/includes/fields/relationship.php?rev=2287953#L62 "Show revision 2287953 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/relationship.php?rev=3042177#L62 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 62 | 62 | <?php foreach ( $available\_posts as $post ) : ?> |
  | 63 | 63 | <?php $class = ( isset( $selected\_posts[ $post->ID ] ) ) ? ' class="used"' : ''; ?> |
  | 64 |  | <div rel="<?php echo $post->ID; ?>"<?php echo $class; ?> title="<?php echo ~~$post->post\_type~~; ?>"><?php echo apply\_filters( 'cfs\_relationship\_display', $post->post\_title, $post->ID, $field ); ?></div> |
  |  | 64 | <div rel="<?php echo $post->ID; ?>"<?php echo $class; ?> title="<?php echo esc\_attr( $post->post\_type ); ?>"><?php echo apply\_filters( 'cfs\_relationship\_display', $post->post\_title, $post->ID, $field ); ?></div> |
  | 65 | 65 | <?php endforeach; ?> |
  | 66 | 66 | </div> |
  | […](/browser/custom-field-suite/trunk/includes/fields/relationship.php?rev=2287953#L72) | […](/browser/custom-field-suite/trunk/includes/fields/relationship.php?rev=3042177#L72) |  |
  | 72 | 72 | </div> |
  | 73 | 73 | <div class="clear"></div> |
  | 74 |  | <input type="hidden" name="<?php echo ~~$field->input\_name; ?>" class="<?php echo $field->input\_class; ?>" value="<?php echo $field->value~~; ?>" /> |
  |  | 74 | <input type="hidden" name="<?php echo esc\_attr( $field->input\_name ); ?>" class="<?php echo esc\_attr( $field->input\_class ); ?>" value="<?php echo esc\_attr( $field->value ); ?>" /> |
  | 75 | 75 | <?php |
  | 76 | 76 | } |
* ## [custom-field-suite/trunk/includes/fields/select.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/select.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/select.php")

  | [r2931047](/browser/custom-field-suite/trunk/includes/fields/select.php?rev=2931047#L33 "Show revision 2931047 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/select.php?rev=3042177#L33 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 | } |
  | 34 | 34 | ?> |
  | 35 |  | <select name="<?php echo ~~$field->input\_name; ?>" class="<?php echo trim~~( $field->input\_class ); ?>"<?php echo $multiple; ?>> |
  |  | 35 | <select name="<?php echo esc\_attr( $field->input\_name ); ?>" class="<?php echo esc\_attr( $field->input\_class ); ?>"<?php echo $multiple; ?>> |
  | 36 | 36 | <?php foreach ( $field->options['choices'] as $val => $label ) : ?> |
  | 37 | 37 | <?php $val = ( '{empty}' == $val ) ? '' : $val; ?> |
* ## [custom-field-suite/trunk/includes/fields/textarea.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/textarea.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/textarea.php")

  | [r2287953](/browser/custom-field-suite/trunk/includes/fields/textarea.php?rev=2287953#L12 "Show revision 2287953 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/textarea.php?rev=3042177#L12 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | function html( $field ) { |
  | 13 | 13 | ?> |
  | 14 |  | <textarea name="<?php echo ~~$field->input\_name; ?>" class="<?php echo $field->input\_class~~; ?>" rows="4"><?php echo $field->value; ?></textarea> |
  |  | 14 | <textarea name="<?php echo esc\_attr( $field->input\_name ); ?>" class="<?php echo esc\_attr( $field->input\_class ); ?>" rows="4"><?php echo $field->value; ?></textarea> |
  | 15 | 15 | <?php |
  | 16 | 16 | } |
* ## [custom-field-suite/trunk/includes/fields/true\_false.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/true_false.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/true_false.php")

  | [r2287953](/browser/custom-field-suite/trunk/includes/fields/true_false.php?rev=2287953#L18 "Show revision 2287953 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/true_false.php?rev=3042177#L18 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | <input type="checkbox" <?php echo $field->value ? ' checked' : ''; ?>> |
  | 19 | 19 | <span><?php echo $field->options['message']; ?></span> |
  | 20 |  | <input type="hidden" name="<?php echo ~~$field->input\_name; ?>" class="<?php echo $field->input\_class; ?>" value="<?php echo $field->value~~; ?>" /> |
  |  | 20 | <input type="hidden" name="<?php echo esc\_attr( $field->input\_name ); ?>" class="<?php echo esc\_attr( $field->input\_class ); ?>" value="<?php echo esc\_attr( $field->value ); ?>" /> |
  | 21 | 21 | </label> |
  | 22 | 22 | <?php |
* ## [custom-field-suite/trunk/includes/fields/wysiwyg.php](/changeset/3042177/custom-field-suite/trunk/includes/fields/wysiwyg.php "Show the changeset 3042177 restricted to custom-field-suite/trunk/includes/fields/wysiwyg.php")

  | [r2910695](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=2910695#L20 "Show revision 2910695 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=3042177#L20 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 20 | 20 | </div> |
  | 21 | 21 | <div class="wp-editor-container"> |
  | 22 |  | <textarea name="<?php echo ~~$field->input\_name; ?>" class="wp-editor-area <?php echo $field->input\_class~~; ?>" style="height:300px"><?php echo $field->value; ?></textarea> |
  |  | 22 | <textarea name="<?php echo esc\_attr( $field->input\_name ); ?>" class="wp-editor-area <?php echo esc\_attr( $field->input\_class ); ?>" style="height:300px"><?php echo $field->value; ?></textarea> |
  | 23 | 23 | </div> |
  | 24 | 24 | </div> |
  | […](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=2910695#L111) | […](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=3042177#L111) |  |
  | 111 | 111 | $(this).find('.wysiwyg').attr('id', input\_id); |
  | 112 | 112 | $(this).find('a.add\_media').attr('data-editor', input\_id); |
  | 113 |  |  |
  |  | 113 |  |
  | 114 | 114 | // if all editors on page are in 'text' tab, tinyMCE.settings will not be set |
  | 115 |  | if ('undefined' ==~~typeof tinyMCE.settings~~) { |
  |  | 115 | if ('undefined' === typeof tinyMCE.settings || Object.keys(tinyMCE.settings).length === 0) { |
  | 116 | 116 |  |
  | 117 | 117 | // let's pull from tinyMCEPreInit for main content area (if it's set) |
  | 118 |  | if ('undefined' !=~~typeof tinyMCEPreInit && 'undefined' !~~= typeof tinyMCEPreInit.mceInit.content) { |
  |  | 118 | if ('undefined' !== typeof tinyMCEPreInit && 'undefined' !== typeof tinyMCEPreInit.mceInit.content) { |
  | 119 | 119 | tinyMCE.settings = tinyMCEPreInit.mceInit.content; |
  | 120 | 120 | } |
  | […](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=2910695#L125) | […](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=3042177#L125) |  |
  | 125 | 125 | resize : 'vertical', |
  | 126 | 126 | toolbar2 : 'code' |
  | 127 |  | }; |
  |  | 127 | }; |
  | 128 | 128 | } |
  | 129 | 129 | } |
  | 130 |  |  |
  |  | 130 |  |
  | 131 | 131 | // add the "code" button |
  | 132 | 132 | if ('undefined' !== typeof tinyMCE.settings.toolbar2) { |
  | […](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=2910695#L139) | […](/browser/custom-field-suite/trunk/includes/fields/wysiwyg.php?rev=3042177#L139) |  |
  | 139 | 139 | wpautop = tinyMCE.settings.wpautop; |
  | 140 | 140 | resize = tinyMCE.settings.resize; |
  | 141 |  |  |
  | 142 |  | tinyMCE.settings.plugins = 'code,link'; |
  |  | 141 |  |
  |  | 142 | if (tinyMCE.settings.plugins){ |
  |  | 143 | if ( tinyMCE.settings.plugins.indexOf('code,link') === -1 ){ |
  |  | 144 | tinyMCE.settings.plugins = tinyMCE.settings.plugins + ',code,link'; |
  |  | 145 | } |
  |  | 146 | } else { |
  |  | 147 | tinyMCE.settings.plugins = 'code,link'; |
  |  | 148 | } |
  | 143 | 149 |  |
  | 144 | 150 | tinyMCE.settings.wpautop = false; |
* ## [custom-field-suite/trunk/readme.txt](/changeset/3042177/custom-field-suite/trunk/readme.txt "Show the changeset 3042177 restricted to custom-field-suite/trunk/readme.txt")

  | [r2931047](/browser/custom-field-suite/trunk/readme.txt?rev=2931047#L3 "Show revision 2931047 of this file in browser") | [r3042177](/browser/custom-field-suite/trunk/readme.txt?rev=3042177#L3 "Show revision 3042177 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Tags: custom fields, fields, postmeta, relationship, repeater, file upload |
  | 4 | 4 | Requires at least: 5.0 |
  | 5 |  | Tested up to: 6.~~2.2~~ |
  |  | 5 | Tested up to: 6.4.3 |
  | 6 | 6 | Stable tag: trunk |
  | 7 | 7 | License: GPLv2 |
  | […](/browser/custom-field-suite/trunk/readme.txt?rev=2931047#L47) | […](/browser/custom-field-suite/trunk/readme.txt?rev=3042177#L47) |  |
  | 47 | 47 | == Changelog == |
  | 48 | 48 |  |
  |  | 49 | = 2.6.5 = |
  |  | 50 | \* Extra sanitization to prevent XSS via admin-imported field groups (props WordFence) |
  |  | 51 |  |
  | 49 | 52 | = 2.6.4 = |
  | 50 | 53 | \* Fixed: cleared PHP8 deprecation notices |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3042177)
* [Zip Archive](?format=zip&new=3042177)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

