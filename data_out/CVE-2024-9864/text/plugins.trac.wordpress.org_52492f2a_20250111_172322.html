

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3170503)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3170502 "Changeset 3170502")
* [Next Changeset](/changeset/3170504 "Changeset 3170504") →

---

# Changeset 3170503

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/17/2024 07:02:35 AM
([3 months](/timeline?from=2024-10-17T07%3A02%3A35Z&precision=second "See timeline at 10/17/2024 07:02:35 AM") ago)

Author:
metagauss
Message:

Release 4.0.4.8

Location:
[eventprime-event-calendar-management/trunk](/browser/eventprime-event-calendar-management/trunk?rev=3170503)
Files:

5 edited

* [admin/partials/metaboxes/meta-box-transaction-log.php](/browser/eventprime-event-calendar-management/trunk/admin/partials/metaboxes/meta-box-transaction-log.php?rev=3170503 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [event-prime.php](/browser/eventprime-event-calendar-management/trunk/event-prime.php?rev=3170503 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [includes/class-ep-ajax.php](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3170503 "Show entry in browser")
  (modified)
  ([5 diffs](#file2 "Show differences"))
* [public/partials/events/list/load\_more.php](/browser/eventprime-event-calendar-management/trunk/public/partials/events/list/load_more.php?rev=3170503 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [readme.txt](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3170503 "Show entry in browser")
  (modified)
  ([3 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [eventprime-event-calendar-management/trunk/admin/partials/metaboxes/meta-box-transaction-log.php](/changeset/3170503/eventprime-event-calendar-management/trunk/admin/partials/metaboxes/meta-box-transaction-log.php "Show the changeset 3170503 restricted to eventprime-event-calendar-management/trunk/admin/partials/metaboxes/meta-box-transaction-log.php")

  | [r3163065](/browser/eventprime-event-calendar-management/trunk/admin/partials/metaboxes/meta-box-transaction-log.php?rev=3163065#L17 "Show revision 3163065 of this file in browser") | [r3170503](/browser/eventprime-event-calendar-management/trunk/admin/partials/metaboxes/meta-box-transaction-log.php?rev=3170503#L17 "Show revision 3170503 of this file in browser") |  |
  | --- | --- | --- |
  | 17 | 17 | <span class="ep-booking-transaction-log" style="display: none;"> |
  | 18 | 18 | <?php echo "<pre>"; |
  | 19 |  | ~~print\_r( wp\_json\_encode(~~ $booking->em\_payment\_log, JSON\_PRETTY\_PRINT ) ); |
  |  | 19 | echo esc\_html( wp\_json\_encode($booking->em\_payment\_log, JSON\_PRETTY\_PRINT ) ); |
  | 20 | 20 | echo "</pre>";?> |
  | 21 | 21 | </span> |
* ## [eventprime-event-calendar-management/trunk/event-prime.php](/changeset/3170503/eventprime-event-calendar-management/trunk/event-prime.php "Show the changeset 3170503 restricted to eventprime-event-calendar-management/trunk/event-prime.php")

  | [r3168585](/browser/eventprime-event-calendar-management/trunk/event-prime.php?rev=3168585#L17 "Show revision 3168585 of this file in browser") | [r3170503](/browser/eventprime-event-calendar-management/trunk/event-prime.php?rev=3170503#L17 "Show revision 3170503 of this file in browser") |  |
  | --- | --- | --- |
  | 17 | 17 | \* Plugin URI:        https://theeventprime.com |
  | 18 | 18 | \* Description:       Beginner-friendly Events Calendar plugin to create free as well as paid Events. Includes Event Types, Event Sites & Performers too. |
  | 19 |  | \* Version:           4.0.4.~~7~~ |
  |  | 19 | \* Version:           4.0.4.8 |
  | 20 | 20 | \* Author:            EventPrime Events |
  | 21 | 21 | \* Author URI:        https://theeventprime.com/ |
  | […](/browser/eventprime-event-calendar-management/trunk/event-prime.php?rev=3168585#L36) | […](/browser/eventprime-event-calendar-management/trunk/event-prime.php?rev=3170503#L36) |  |
  | 36 | 36 | \* Rename this for your plugin and update it as you release new versions. |
  | 37 | 37 | \*/ |
  | 38 |  | define( 'EVENTPRIME\_VERSION', '4.0.4.~~7~~' ); |
  |  | 38 | define( 'EVENTPRIME\_VERSION', '4.0.4.8' ); |
  | 39 | 39 | define('EM\_DB\_VERSION',4.0); |
  | 40 | 40 | if( ! defined( 'EP\_PLUGIN\_FILE' ) ) { |
* ## [eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php](/changeset/3170503/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php "Show the changeset 3170503 restricted to eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php")

  | [r3168585](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3168585#L633 "Show revision 3168585 of this file in browser") | [r3170503](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3170503#L633 "Show revision 3170503 of this file in browser") |  |
  | --- | --- | --- |
  | 633 | 633 | $ep\_functions = new Eventprime\_Basic\_Functions; |
  | 634 | 634 | $notifications = new EventM\_Notification\_Service; |
  |  | 635 | $sanitizer = new EventPrime\_sanitizer; |
  | 635 | 636 | $em\_name = htmlspecialchars\_decode( sanitize\_text\_field( $data['em\_name'] ) ); |
  | 636 | 637 |  |
  | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3168585#L956) | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3170503#L957) |  |
  | 956 | 957 | $cat\_priority = 1; |
  | 957 | 958 | foreach( $em\_ticket\_category\_data as $cat ) { |
  |  | 959 | $cat = $sanitizer->sanitize($cat); |
  | 958 | 960 | $cat\_id = $cat['id']; |
  | 959 | 961 | $get\_field\_data = ''; |
  | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3168585#L987) | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3170503#L989) |  |
  | 987 | 989 | $cat\_ticket\_priority = 1; |
  | 988 | 990 | foreach( $cat['tickets'] as $ticket ) { |
  |  | 991 | $ticket = $sanitizer->sanitize($ticket); |
  | 989 | 992 | $ticket\_data = array(); |
  | 990 | 993 | if( isset( $ticket['id'] ) && ! empty( $ticket['id'] && is\_int( $ticket['id'] ) ) ) { |
  | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3168585#L1228) | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3170503#L1231) |  |
  | 1228 | 1231 | if( isset( $em\_ticket\_individual\_data ) && ! empty( $em\_ticket\_individual\_data ) ) { |
  | 1229 | 1232 | foreach( $em\_ticket\_individual\_data as $ticket ) { |
  |  | 1233 | $ticket = $sanitizer->sanitize($ticket); |
  | 1230 | 1234 | if( isset( $ticket['id'] ) && ! empty( $ticket['id'] ) && is\_int( $ticket['id'] ) ) { |
  | 1231 | 1235 | $ticket\_id = $ticket['id']; |
  | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3168585#L1517) | […](/browser/eventprime-event-calendar-management/trunk/includes/class-ep-ajax.php?rev=3170503#L1521) |  |
  | 1517 | 1521 | if ( ! is\_wp\_error( $attachment\_id ) ) { |
  | 1518 | 1522 | require\_once(ABSPATH . "wp-admin" . '/includes/file.php'); |
  | 1519 |  | $attachment\_data = wp\_generate\_attachment\_metadata( $attachment\_id, $upload~~ed\_file['upload\_url']~~ ); |
  |  | 1523 | $attachment\_data = wp\_generate\_attachment\_metadata( $attachment\_id, $upload\_dir['path'] . "/" . $filename ); |
  | 1520 | 1524 | wp\_update\_attachment\_metadata( $attachment\_id,  $attachment\_data ); |
  | 1521 | 1525 | $returnData['success'] = array( 'attachment\_id' => $attachment\_id ); |
* ## [eventprime-event-calendar-management/trunk/public/partials/events/list/load\_more.php](/changeset/3170503/eventprime-event-calendar-management/trunk/public/partials/events/list/load_more.php "Show the changeset 3170503 restricted to eventprime-event-calendar-management/trunk/public/partials/events/list/load_more.php")

  | [r3168585](/browser/eventprime-event-calendar-management/trunk/public/partials/events/list/load_more.php?rev=3168585#L12 "Show revision 3168585 of this file in browser") | [r3170503](/browser/eventprime-event-calendar-management/trunk/public/partials/events/list/load_more.php?rev=3170503#L12 "Show revision 3170503 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 |  |
  | 13 | 13 | $load\_more = isset( $args->load\_more ) ? $args->load\_more : 0; |
  | 14 |  | if ( count( $args->event\_atts ) > 0 ) { |
  |  | 14 | //print\_r($args); |
  |  | 15 | if ( isset($args->event\_atts) && !empty($args->event\_atts) && count( $args->event\_atts ) > 0 ) { |
  | 15 | 16 | $load\_more = $args->event\_atts['load\_more']; |
  | 16 | 17 | } |
* ## [eventprime-event-calendar-management/trunk/readme.txt](/changeset/3170503/eventprime-event-calendar-management/trunk/readme.txt "Show the changeset 3170503 restricted to eventprime-event-calendar-management/trunk/readme.txt")

  | [r3168585](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3168585#L6 "Show revision 3168585 of this file in browser") | [r3170503](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3170503#L6 "Show revision 3170503 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Tested up to: 6.6 |
  | 7 | 7 | Requires PHP: 7.2 |
  | 8 |  | Stable tag: 4.0.4.~~7~~ |
  |  | 8 | Stable tag: 4.0.4.8 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 |  |
  | […](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3168585#L668) | […](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3170503#L668) |  |
  | 668 | 668 | == Changelog == |
  | 669 | 669 |  |
  |  | 670 | = 4.0.4.8: October 17, 2024 = |
  |  | 671 | \* Added: Security Update. |
  |  | 672 | \* Multiple bug fixes. |
  |  | 673 |  |
  | 670 | 674 | = 4.0.4.7: October 14, 2024 = |
  | 671 | 675 | \* Added: Security Update. |
  | […](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3168585#L2013) | […](/browser/eventprime-event-calendar-management/trunk/readme.txt?rev=3170503#L2017) |  |
  | 2013 | 2017 | == Upgrade Notice == |
  | 2014 | 2018 |  |
  |  | 2019 | = 4.0.4.8: October 17, 2024 = |
  |  | 2020 | \* Added: Security Update. |
  |  | 2021 | \* Multiple bug fixes. |
  |  | 2022 |  |
  | 2015 | 2023 | = 4.0.4.7: October 14, 2024 = |
  | 2016 | 2024 | \* Added: Security Update. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3170503)
* [Zip Archive](?format=zip&new=3170503)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

