=== Content from git.kernel.org_26019dc1_20250110_222923.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d52c04474feac8e305814a5228e622afe481b2ef)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d52c04474feac8e305814a5228e622afe481b2ef)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d52c04474feac8e305814a5228e622afe481b2ef)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d52c04474feac8e305814a5228e622afe481b2ef)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-30 09:43:58 +0200 |
| commit | [d52c04474feac8e305814a5228e622afe481b2ef](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d52c04474feac8e305814a5228e622afe481b2ef) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d52c04474feac8e305814a5228e622afe481b2ef)) | |
| tree | [5cc90fa6022ec30e3a7513d6dbaf6dcbebaa870c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d52c04474feac8e305814a5228e622afe481b2ef) | |
| parent | [fa5703bfa1e6002a1541cba93df7e312a2cf7ec0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fa5703bfa1e6002a1541cba93df7e312a2cf7ec0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d52c04474feac8e305814a5228e622afe481b2ef&id2=fa5703bfa1e6002a1541cba93df7e312a2cf7ec0)) | |
| download | [linux-d52c04474feac8e305814a5228e622afe481b2ef.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d52c04474feac8e305814a5228e622afe481b2ef.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d52c04474feac8e305814a5228e622afe481b2ef)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=d52c04474feac8e305814a5228e622afe481b2ef) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex 736c2eb8c0f37d..f677ad2177c2f2 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=fa5703bfa1e6002a1541cba93df7e312a2cf7ec0)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=d52c04474feac8e305814a5228e622afe481b2ef)@@ -574,7 +574,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:28:00 +0000



=== Content from git.kernel.org_fc01cc37_20250110_222924.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-30 09:48:41 +0200 |
| commit | [eb1ea64328d4cc7d7a912c563f8523d5259716ef](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)) | |
| tree | [ecc12c3cfaf2112f8962a363044e89c750dd628d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef) | |
| parent | [14b6646ff6e6f7526edd7fb559a9a56f3c767506](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=14b6646ff6e6f7526edd7fb559a9a56f3c767506) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef&id2=14b6646ff6e6f7526edd7fb559a9a56f3c767506)) | |
| download | [linux-eb1ea64328d4cc7d7a912c563f8523d5259716ef.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-eb1ea64328d4cc7d7a912c563f8523d5259716ef.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex 736c2eb8c0f37d..f677ad2177c2f2 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=14b6646ff6e6f7526edd7fb559a9a56f3c767506)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=eb1ea64328d4cc7d7a912c563f8523d5259716ef)@@ -574,7 +574,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:28:01 +0000



=== Content from git.kernel.org_231690c4_20250110_222921.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=504178fb7d9f6cdb0496d5491efb05f45597e535)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=504178fb7d9f6cdb0496d5491efb05f45597e535)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=504178fb7d9f6cdb0496d5491efb05f45597e535)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=504178fb7d9f6cdb0496d5491efb05f45597e535)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:39:11 +0200 |
| commit | [504178fb7d9f6cdb0496d5491efb05f45597e535](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=504178fb7d9f6cdb0496d5491efb05f45597e535) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=504178fb7d9f6cdb0496d5491efb05f45597e535)) | |
| tree | [4fb482c09637d7021d01aef98fe2efba50ae4cdb](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=504178fb7d9f6cdb0496d5491efb05f45597e535) | |
| parent | [ab1e76993c2a8f1ee4d8f6832b437b60fee2d723](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ab1e76993c2a8f1ee4d8f6832b437b60fee2d723) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=504178fb7d9f6cdb0496d5491efb05f45597e535&id2=ab1e76993c2a8f1ee4d8f6832b437b60fee2d723)) | |
| download | [linux-504178fb7d9f6cdb0496d5491efb05f45597e535.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-504178fb7d9f6cdb0496d5491efb05f45597e535.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=504178fb7d9f6cdb0496d5491efb05f45597e535)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=504178fb7d9f6cdb0496d5491efb05f45597e535) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex b70489d998d763..3c3e9111416475 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=ab1e76993c2a8f1ee4d8f6832b437b60fee2d723)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=504178fb7d9f6cdb0496d5491efb05f45597e535)@@ -573,7 +573,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:58 +0000



=== Content from git.kernel.org_1a5c8857_20250110_222922.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-12 11:11:18 +0200 |
| commit | [c6e1650cf5df1bd6638eeee231a683ef30c7d4eb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)) | |
| tree | [54f162cfbfc5ed1a1bf8a913263474446092f853](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb) | |
| parent | [62c3763dcb03a929ef50b33fb6f3d052b68d6c53](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=62c3763dcb03a929ef50b33fb6f3d052b68d6c53) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb&id2=62c3763dcb03a929ef50b33fb6f3d052b68d6c53)) | |
| download | [linux-c6e1650cf5df1bd6638eeee231a683ef30c7d4eb.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c6e1650cf5df1bd6638eeee231a683ef30c7d4eb.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex 736c2eb8c0f37d..f677ad2177c2f2 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=62c3763dcb03a929ef50b33fb6f3d052b68d6c53)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=c6e1650cf5df1bd6638eeee231a683ef30c7d4eb)@@ -574,7 +574,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:59 +0000



=== Content from git.kernel.org_6d983e96_20250110_222918.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-08 19:44:21 +0100 |
| commit | [008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)) | |
| tree | [0b3997b99341fe783a64a376586d65bc96cf0548](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b) | |
| parent | [dd5a440a31fae6e459c0d6271dddd62825505361](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dd5a440a31fae6e459c0d6271dddd62825505361) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b&id2=dd5a440a31fae6e459c0d6271dddd62825505361)) | |
| download | [linux-008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugThe "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex 736c2eb8c0f37d..f677ad2177c2f2 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=dd5a440a31fae6e459c0d6271dddd62825505361)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b)@@ -574,7 +574,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:56 +0000



=== Content from git.kernel.org_d3e736fb_20250110_222920.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:23:22 +0200 |
| commit | [42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)) | |
| tree | [470dc9f291a172eafabcbf50ce21fb402a93c7bc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358) | |
| parent | [bfaadbda9b75e4726783f8ca55ceac1fedbf2deb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bfaadbda9b75e4726783f8ca55ceac1fedbf2deb) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358&id2=bfaadbda9b75e4726783f8ca55ceac1fedbf2deb)) | |
| download | [linux-42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)

| -rw-r--r-- | [drivers/staging/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/speakup/main.c?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/staging/speakup/main.c b/drivers/staging/speakup/main.cindex 0b537efcee05db..ba1beff7af4ed9 100644--- a/[drivers/staging/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/speakup/main.c?id=bfaadbda9b75e4726783f8ca55ceac1fedbf2deb)+++ b/[drivers/staging/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/speakup/main.c?id=42f0a3f67158ed6b2908d2b9ffbf7e96d23fd358)@@ -577,7 +577,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:58 +0000



=== Content from git.kernel.org_eaa42bfa_20250110_222922.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:28:30 +0200 |
| commit | [cd7f3978c2ec741aedd1d860b2adb227314cf996](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)) | |
| tree | [224a962b7fe17edcf87a050702cdabae5ce23506](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996) | |
| parent | [b229bc6c6ea9fe459fc3fa94fd0a27a2f32aca56](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b229bc6c6ea9fe459fc3fa94fd0a27a2f32aca56) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996&id2=b229bc6c6ea9fe459fc3fa94fd0a27a2f32aca56)) | |
| download | [linux-cd7f3978c2ec741aedd1d860b2adb227314cf996.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-cd7f3978c2ec741aedd1d860b2adb227314cf996.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)

| -rw-r--r-- | [drivers/staging/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/speakup/main.c?id=cd7f3978c2ec741aedd1d860b2adb227314cf996) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/staging/speakup/main.c b/drivers/staging/speakup/main.cindex 08b07e77bb9d1a..876122503c8a53 100644--- a/[drivers/staging/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/speakup/main.c?id=b229bc6c6ea9fe459fc3fa94fd0a27a2f32aca56)+++ b/[drivers/staging/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/speakup/main.c?id=cd7f3978c2ec741aedd1d860b2adb227314cf996)@@ -577,7 +577,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:59 +0000



=== Content from git.kernel.org_0369c59b_20250110_222919.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=07ef95cc7a579731198c93beed281e3a79a0e586)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=07ef95cc7a579731198c93beed281e3a79a0e586)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=07ef95cc7a579731198c93beed281e3a79a0e586)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=07ef95cc7a579731198c93beed281e3a79a0e586)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:31:59 +0200 |
| commit | [07ef95cc7a579731198c93beed281e3a79a0e586](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=07ef95cc7a579731198c93beed281e3a79a0e586) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=07ef95cc7a579731198c93beed281e3a79a0e586)) | |
| tree | [4e7777369d72496a754098e079515573ff801f81](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=07ef95cc7a579731198c93beed281e3a79a0e586) | |
| parent | [0fb736c9931e02dbc7d9a75044c8e1c039e50f04](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0fb736c9931e02dbc7d9a75044c8e1c039e50f04) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=07ef95cc7a579731198c93beed281e3a79a0e586&id2=0fb736c9931e02dbc7d9a75044c8e1c039e50f04)) | |
| download | [linux-07ef95cc7a579731198c93beed281e3a79a0e586.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-07ef95cc7a579731198c93beed281e3a79a0e586.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=07ef95cc7a579731198c93beed281e3a79a0e586)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=07ef95cc7a579731198c93beed281e3a79a0e586) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex 7598778cf37fbd..60c059c74fb60d 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=0fb736c9931e02dbc7d9a75044c8e1c039e50f04)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=07ef95cc7a579731198c93beed281e3a79a0e586)@@ -576,7 +576,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:56 +0000



=== Content from git.kernel.org_28395d5e_20250110_222920.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-04-15 14:02:23 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-12 11:02:55 +0200 |
| commit | [3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)) | |
| tree | [d2f6c01d4f3aa2aad55df3326db69f42ef9724b0](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e) | |
| parent | [8a6e6b1644e9c2f8b11882ee928a2a92bc81b332](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8a6e6b1644e9c2f8b11882ee928a2a92bc81b332) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e&id2=8a6e6b1644e9c2f8b11882ee928a2a92bc81b332)) | |
| download | [linux-3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e.tar.gz) | |

speakup: Fix sizeof() vs ARRAY\_SIZE() bugcommit 008ab3c53bc4f0b2f20013c8f6c204a3203d0b8b upstream.
The "buf" pointer is an array of u16 values. This code should be
using ARRAY\_SIZE() (which is 256) instead of sizeof() (which is 512),
otherwise it can the still got out of bounds.
Fixes: c8d2f34ea96e ("speakup: Avoid crash on very long word")
Cc: stable@vger.kernel.org
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Reviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
Link: [https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa@moroto.mountain](https://lore.kernel.org/r/d16f67d2-fd0a-4d45-adac-75ddd11001aa%40moroto.mountain)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)

| -rw-r--r-- | [drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/accessibility/speakup/main.c?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/accessibility/speakup/main.c b/drivers/accessibility/speakup/main.cindex 45d906f17ea3d0..10aa9c2ec400ed 100644--- a/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=8a6e6b1644e9c2f8b11882ee928a2a92bc81b332)+++ b/[drivers/accessibility/speakup/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/accessibility/speakup/main.c?id=3726f75a1ccc16cd335c0ccfad1d92ee08ecba5e)@@ -573,7 +573,7 @@ static u\_long get\_word(struct vc\_data \*vc) } attr\_ch = get\_char(vc, (u\_short \*)tmp\_pos, &spk\_attr); buf[cnt++] = attr\_ch;- while (tmpx < vc->vc\_cols - 1 && cnt < sizeof(buf) - 1) {+ while (tmpx < vc->vc\_cols - 1 && cnt < ARRAY\_SIZE(buf) - 1) { tmp\_pos += 2; tmpx++; ch = get\_char(vc, (u\_short \*)tmp\_pos, &temp); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 22:27:57 +0000


