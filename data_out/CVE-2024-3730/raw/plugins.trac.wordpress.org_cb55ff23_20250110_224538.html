<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  






  <head>
    <title>
      Changeset 3076221 for simple-membership – WordPress Plugin Repository
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
          <link rel="search" href="/search" />
          <link rel="help" href="/wiki/TracGuide" />
          <link rel="alternate" href="?format=diff&amp;new=3076221" type="text/plain" class="diff" title="Unified Diff" />
          <link rel="alternate" href="?format=zip&amp;new=3076221" type="application/zip" class="zip" title="Zip Archive" />
          <link rel="next" href="/changeset/3077940/simple-membership" title="Changeset 3077940 for simple-membership" />
          <link rel="start" href="/wiki" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/trac.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/changeset.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/diff.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/code.css?v=212" />
          <link rel="prev" href="/changeset/3076216/simple-membership" title="Changeset 3076216 for simple-membership" />
          <link rel="icon" href="/chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Search WordPress Plugin Repository" />
	<link rel="dns-prefetch" href="//s.w.org" />
	<link rel="dns-prefetch" href="//fonts.googleapis.com" />
	<link rel="dns-prefetch" href="//fonts.gstatic.com" />
	<link rel="dns-prefetch" href="//www.googletagmanager.com" />
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s);j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5Z8B3BX');</script>
	
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="preload" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/global-fonts/Inter/Inter-latin.woff2" as="font" crossorigin="crossorigin" type="font/woff2" />
<meta name="robots" content="max-image-preview:large" />
<link rel="dns-prefetch" href="//s.w.org" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//v0.wordpress.com" />
<link rel="dns-prefetch" href="//i0.wp.com" />
<script>//<![CDATA[
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');
//]]></script>
	<script type="text/javascript">//<![CDATA[
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/wordpress.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.3-alpha-55651"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!s("\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!s("\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!s("\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c\udfff","\ud83e\udef1\ud83c\udffb\u200b\ud83e\udef2\ud83c\udfff")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
//]]></script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="open-sans-css" href="https://fonts.googleapis.com/css2?family=Open+Sans%3Aital%2Cwght%400%2C300%3B0%2C400%3B0%2C600%3B1%2C300%3B1%2C400%3B1%2C600&amp;display=swap" type="text/css" media="all" />
<link rel="stylesheet" id="wp4-styles-css" href="https://s.w.org/style/wp4.css?ver=1645139188" type="text/css" media="all" />
<link rel="stylesheet" id="wp-block-library-css" href="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/style.css?ver=15.4.0" type="text/css" media="all" />
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<style id="wporg-language-suggest-style-inline-css" type="text/css">
.wp-block-wporg-language-suggest{background-color:#eff2ff;color:#1e1e1e;font-size:12px;line-height:1;text-align:center}.wp-block-wporg-language-suggest&gt;*{padding:10px 4px}
</style>
<style id="wporg-latest-news-style-inline-css" type="text/css">
.wporg-latest-news{list-style:none;margin:0;padding:0}.wporg-latest-news li:not(:last-child){padding-bottom:var(--wp--custom--latest-news--spacing,16px)}.wporg-latest-news li a{text-decoration:none}.wporg-latest-news li a:hover{text-decoration:underline}.wporg-latest-news li&gt;a{color:var(--wp--custom--latest-news--link--color);display:block;font-family:var(--wp--custom--latest-news--title--font-family);font-size:var(--wp--custom--latest-news--title--font-size,24px);line-height:var(--wp--custom--latest-news--title--line-height);margin-bottom:var(--wp--custom--latest-news--link--spacing,4px)}.wporg-latest-news__details{font-size:var(--wp--custom--latest-news--link--details-font-size,14px)}.wporg-latest-news__details&gt;:not(:last-child){margin-right:4px}.wporg-latest-news__category{text-transform:uppercase}
</style>
<style id="wporg-notice-style-inline-css" type="text/css">
.wp-block-wporg-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--acid-green-3);--wp--custom--wporg-notice--color--text:var(--wp--preset--color--charcoal-1)}.wp-block-wporg-notice.is-info-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--blueberry-4)}.wp-block-wporg-notice.is-alert-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--lemon-3)}.wp-block-wporg-notice.is-warning-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--pomegrade-3)}.wp-block-wporg-notice{background-color:var(--wp--custom--wporg-notice--color--background);color:var(--wp--custom--wporg-notice--color--text);display:grid;gap:.5em;grid-template-columns:auto 1fr;padding:1.25em}.wp-block-wporg-notice&gt;*{align-self:start}.wp-block-wporg-notice p:first-child{margin-block-start:0}.wp-block-wporg-notice p:last-child{margin-block-end:0}.wp-block-wporg-notice a:active,.wp-block-wporg-notice a:focus,.wp-block-wporg-notice a:hover,.wp-block-wporg-notice a:link,.wp-block-wporg-notice a:visited{color:var(--wp--custom--wporg-notice--color--text)}.wp-block-wporg-notice.alignleft,.wp-block-wporg-notice.alignright{max-width:calc(var(--wp--style--global--content-size)*.66)}.wp-block-wporg-notice__icon{align-self:flex-start;background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/tip.svg);background-position:50%;background-repeat:no-repeat;background-size:24px 24px;display:flex;height:1.875em;width:24px}.is-info-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/info.svg)}.is-alert-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/alert.svg)}.is-warning-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/warning.svg)}.wp-block-wporg-notice__content{align-self:center}
</style>
<style id="wporg-site-breadcrumbs-style-inline-css" type="text/css">
.wp-block-wporg-site-breadcrumbs{align-items:center;display:flex}.wp-block-wporg-site-breadcrumbs a{color:var(--wp--preset--color--charcoal-1)}.wp-block-wporg-site-breadcrumbs a:hover{text-decoration-line:underline}.wp-block-wporg-site-breadcrumbs&gt;span:not(:first-child){align-items:center;display:flex;margin-top:0}.wp-block-wporg-site-breadcrumbs&gt;span:not(:first-child):before{content:"/";display:inline-block;font-weight:400;margin:0 .5rem}.wp-block-wporg-site-breadcrumbs .is-current-page{font-weight:700}
</style>
<style id="wporg-table-of-contents-style-inline-css" type="text/css">
@media (min-width:890px){#wp--skip-link--target,.is-toc-heading{scroll-margin-top:var(--wp-local-header-offset,0)}}.is-toc-heading a{--local--icon-size:24px;color:inherit;display:inline-block;padding-right:calc(var(--local--icon-size) + .1em)}.is-toc-heading a,.is-toc-heading a:after{text-decoration:none!important}.is-toc-heading a:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.083 17.639H8.444a5.194 5.194 0 1 1 0-10.389h1.64v1.5H8.443a3.694 3.694 0 0 0 0 7.389h1.641v1.5ZM13.917 7.25h1.639a5.194 5.194 0 0 1 0 10.39h-1.641v-1.5h1.642a3.694 3.694 0 0 0 0-7.39h-1.642v-1.5Zm-4.584 6.084h5.334v-1.5H9.333v1.5Z' fill='%233858E9'/%3E%3C/svg%3E");background-position:100%;background-repeat:no-repeat;background-size:contain;content:"";display:inline-block;height:var(--local--icon-size);margin-right:calc(var(--local--icon-size)*-1 - .1em);opacity:0;vertical-align:baseline;width:calc(var(--local--icon-size) + .1em)}.is-toc-heading a:focus:after,.is-toc-heading a:hover:after,.is-toc-heading:focus a:after{opacity:1}.is-toc-heading:focus,.is-toc-heading:focus-visible{outline:none}.is-toc-heading:target{border-left:2px solid var(--wp--preset--color--blueberry-1);padding-left:8px}
</style>
<style id="wporg-two-factor-settings-style-inline-css" type="text/css">
.wp-block-wporg-two-factor-settings{position:relative}.wp-block-wporg-two-factor-settings h3{clear:none;font-size:14px}.bbp-single-user .wp-block-wporg-two-factor-settings input[type=email],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=number],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=password],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=search],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=text]{font-family:Open Sans,sans-serif;font-size:14px;padding:6px 10px}.wp-block-wporg-two-factor-settings .components-button{margin-right:20px}.wporg-2fa__navigation{justify-content:center!important;padding:24px 0!important;position:relative}.wporg-2fa__navigation a{align-items:center;display:flex;left:24px;position:absolute}.wporg-2fa__navigation svg{fill:#4ca6cf}.wporg-2fa__navigation h3{margin:unset;text-transform:capitalize}.wporg-2fa__token{letter-spacing:.3em}.components-notice{margin-left:0;margin-right:0}.components-notice.is-error,.components-notice.is-success{margin:0}.components-notice .components-notice__content{align-items:center;display:flex;gap:8px}.components-notice .components-notice__content svg{flex-shrink:0}.wporg-2fa__account-status .wporg-2fa__status-card:focus-within,.wporg-2fa__account-status .wporg-2fa__status-card:hover{z-index:1}.wporg-2fa__account-status .wporg-2fa__status-card a{display:block;text-decoration:none}.wporg-2fa__account-status .wporg-2fa__status-card a:focus,.wporg-2fa__account-status .wporg-2fa__status-card a:hover{outline:var(--wp-admin-border-width-focus) solid var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline-offset:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body{grid-column-gap:10px;display:grid;grid-template-areas:"status header      open" "status description open";grid-template-columns:min-content auto min-content;padding:18px 14px}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body .wporg-2fa__status-icon{-ms-grid-row-span:2;align-self:center;grid-area:status;-ms-grid-column:1;-ms-grid-row:1}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body h3{align-self:end;color:#1e1e1e;font-size:1.1em;grid-area:header;-ms-grid-column:3;-ms-grid-row:1;margin:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body p{align-self:start;color:#757575;grid-area:description;-ms-grid-column:3;-ms-grid-row:2;margin:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body .wporg-2fa__status-card-open{-ms-grid-row-span:2;align-self:center;grid-area:open;-ms-grid-column:5;-ms-grid-row:1}.wporg-2fa__account-status .wporg-2fa__status-icon.is-enabled,.wporg-2fa__account-status .wporg-2fa__status-icon.is-ok{fill:#4ab866}.wporg-2fa__account-status .wporg-2fa__status-icon.is-pending{fill:#f0b849}.wporg-2fa__account-status .wporg-2fa__status-icon.is-disabled,.wporg-2fa__account-status .wporg-2fa__status-icon.is-error{fill:#cc1818}.bbp-single-user .wporg-2fa__password .wporg-2fa__password_container,.wporg-2fa__password .wporg-2fa__password_container{align-items:flex-start;justify-content:flex-start;position:relative;width:-moz-fit-content;width:fit-content}.bbp-single-user .wporg-2fa__password .wporg-2fa__password_container input,.wporg-2fa__password .wporg-2fa__password_container input{padding-right:35px}.bbp-single-user .wporg-2fa__password .wporg-2fa__show-password,.wporg-2fa__password .wporg-2fa__show-password{height:31px;margin:0;padding:0 5px;position:absolute;right:1px;top:24px}.wporg-2fa__email .components-notice.actions-on-right&gt;div{display:flex}.wporg-2fa__email .components-notice.actions-on-right&gt;div&gt;p{flex-grow:1;margin:initial}.wporg-2fa__email .email-error{color:#cc1818}.wporg-2fa__qr-code{text-align:center}#bbpress-forums .wporg-2fa__qr-code&gt;a{display:inline-block}#bbpress-forums .wporg-2fa__qr-code&gt;a:focus,#bbpress-forums .wporg-2fa__qr-code&gt;a:hover{box-shadow:0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline:3px solid transparent}.wporg-2fa__manual-code{font-family:monospace;font-weight:700;letter-spacing:.1em}.wporg-2fa__verify-code{margin-bottom:20px;width:23ch}.wporg-2fa__submit-btn-wrapper{margin-bottom:15px}.wporg-2fa__enabled-status{color:#4ab866;text-transform:uppercase}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list{background-color:#ddd;margin:1em 0;padding:15px 20px}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list ol{-moz-column-count:2;-moz-column-width:110px;columns:110px 2;margin:0}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list li::marker{color:#757575}.wporg-2fa__backup-codes .components-notice{margin:0 0 1em}#bbpress-forums .wporg-2fa__backup-codes .wporg-2fa__backup-codes-list li{list-style-position:inside;list-style-type:decimal}#bbpress-forums .wporg-2fa__progress-bar,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar,.wporg-2fa__progress-bar{--color-enabled:#0475c4;--color-disabled:#ccc;--color-disabled-text:#757575;margin:0 -24px;position:relative}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps,.wporg-2fa__progress-bar .wporg-2fa__setup-steps{display:flex;justify-content:space-evenly;position:relative;z-index:2}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li{text-align:center}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps svg{border:1px solid;border-radius:30px;box-sizing:content-box;padding:15px}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled{color:var(--color-enabled);font-weight:700}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg{fill:#fff;background-color:var(--color-enabled);border-color:var(--color-enabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled{color:var(--color-disabled-text)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg{fill:var(--color-disabled);background-color:#fff;border-color:var(--color-disabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators{display:flex;justify-content:space-between;position:absolute;top:27px;width:100%;z-index:1}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li{flex-basis:33%;flex-grow:1;flex-shrink:1;height:3px}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled{background-color:var(--color-enabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled{background-color:var(--color-disabled)}.wporg-2fa__global-notice{position:absolute;right:0;top:-60px;z-index:2}.wporg-2fa__global-notice .components-snackbar__content,.wporg-2fa__global-notice.components-snackbar{cursor:auto}.wporg-2fa__global-notice .components-snackbar__content{position:relative}.wporg-2fa__global-notice .components-snackbar .components-snackbar__icon,.wporg-2fa__global-notice .components-snackbar__icon{fill:#4ab866;left:-34px!important;position:absolute;top:-6px!important;width:30px}#bbpress-forums .wp-block-wporg-two-factor-settings a.components-button.is-secondary{box-shadow:inset 0 0 0 1px var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));text-decoration:none}#bbpress-forums .wp-block-wporg-two-factor-settings a.components-button.is-secondary:not(:disabled):focus{box-shadow:inset 0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline:3px solid transparent}
</style>
<link rel="stylesheet" id="dashicons-css" href="https://s.w.org/wp-includes/css/dashicons.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<link rel="stylesheet" id="wp-components-css" href="https://wordpress.org/wp-content/plugins/gutenberg/build/components/style.css?ver=15.4.0" type="text/css" media="all" />
<link rel="stylesheet" id="mediaelement-css" href="https://wordpress.org/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all" />
<link rel="stylesheet" id="wp-mediaelement-css" href="https://wordpress.org/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<link rel="stylesheet" id="classic-theme-styles-css" href="https://wordpress.org/wp-includes/css/classic-themes.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow &gt; .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow &gt; .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow &gt; .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained &gt; .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained &gt; .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex &gt; *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
</style>
<link rel="stylesheet" id="wporg-global-fonts-css" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/global-fonts/style.css?ver=1675220034" type="text/css" media="all" />
<link rel="stylesheet" id="wporg-global-header-footer-css" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/blocks/global-header-footer/build/style.css?ver=1681488560" type="text/css" media="all" />
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/blocks/navigation/view.min.js?ver=aa58d4d058136adf2722" id="wp-block-navigation-view-js"></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/blocks/navigation/view-modal.min.js?ver=774770b5630ff20f41e1" id="wp-block-navigation-view-modal-js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
	<style>img#wpstats{display:none}</style>
		<link rel="icon" href="https://s.w.org/style/trac/common/trac.ico?v=67c19393add65fcabf9516a6475c2be5" sizes="32x32" />
<link rel="icon" href="https://s.w.org/style/trac/common/trac.ico?v=67c19393add65fcabf9516a6475c2be5" sizes="192x192" />
<link rel="apple-touch-icon" href="https://s.w.org/images/wmark.png" />
<meta name="msapplication-TileImage" content="https://s.w.org/images/wmark.png" />
	
	<meta name="viewport" content="width=device-width" />
	<link rel="stylesheet" href="https://s.w.org/wp-includes/css/dashicons.min.css?20150710" type="text/css" />
	<link rel="stylesheet" type="text/css" href="https://s.w.org/style/trac/wp-trac.css?212" />
	<script src="https://s.w.org/style/trac/common/js/jquery.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/babel.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/trac.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/search.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/diff.js?v=212"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        if ($.ui) { /* is jquery-ui added? */
          $(".trac-datepicker:not([readonly])").prop("autocomplete", "off").datepicker();
          $(".trac-datetimepicker:not([readonly])").prop("autocomplete", "off").datetimepicker();
          $("#main").addClass("trac-nodatetimehint");
        }
        $(".trac-disable").disableSubmit(".trac-disable-determinant");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $(".trac-toggledeleted").show().click(function() {
                  $(this).siblings().find(".trac-deleted").toggle();
                  return false;
        }).click();
        $("#content").find("li.entry h2 a").parent().addAnchor(_("Link to this diff"));
      });
    </script>
  </head>
  <body id="wordpress-org" class="plugins trac wporg-make make-plugins">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Z8B3BX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	
		<a id="wporg-skip-link" tabindex="" class="skip-link screen-reader-text" href="#main" data-selector="#main">Skip to content</a>
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<header class="global-header wp-block-group wp-block-wporg-global-header">
<figure class="wp-block-image global-header__wporg-logo-mark">
	<a href="https://wordpress.org/">
		<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewbox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z"></path>
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z"></path>
</svg>	</a>
</figure>
<nav class="is-responsive global-header__navigation wp-block-navigation is-horizontal is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open " data-micromodal-trigger="modal-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5"></rect><rect x="4" y="15" width="16" height="1.5"></rect></svg></button>
			<div class="wp-block-navigation__responsive-container  " style="" id="modal-1">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close="">
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close="" class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-1-content">
							<ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/">Download &amp; Extend</a><button aria-label="Download &amp; Extend submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/mobile/"><span class="wp-block-navigation-item__label">Mobile</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://openverse.org/"><span class="wp-block-navigation-item__label">Openverse ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/">Learn</a><button aria-label="Learn submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/documentation/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/support/forums/"><span class="wp-block-navigation-item__label">Forums</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://developer.wordpress.org/"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.tv ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/">Community</a><button aria-label="Community submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Make WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/photos/"><span class="wp-block-navigation-item__label">Photo Directory</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/five-for-the-future/"><span class="wp-block-navigation-item__label">Five for the Future</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://www.meetup.com/pro/wordpress/"><span class="wp-block-navigation-item__label">Meetups ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://jobs.wordpress.net/"><span class="wp-block-navigation-item__label">Job Board ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/">About</a><button aria-label="About submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/enterprise/"><span class="wp-block-navigation-item__label">Enterprise</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/gutenberg/"><span class="wp-block-navigation-item__label">Gutenberg ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://mercantile.wordpress.org/"><span class="wp-block-navigation-item__label">WordPress Swag Store ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item global-header__mobile-get-wordpress global-header__get-wordpress wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li></ul>
						</div>
					</div>
				</div>
			</div></nav>
<nav class="is-responsive  is-vertical global-header__search wp-block-navigation is-layout-flex wp-container-6 wp-block-navigation-is-layout-flex" aria-label=""><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open always-shown" data-micromodal-trigger="modal-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5"></rect><rect x="4" y="15" width="16" height="1.5"></rect></svg></button>
			<div class="wp-block-navigation__responsive-container hidden-by-default " style="" id="modal-5">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close="">
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close="" class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-5-content">
							<form role="search" method="GET" action="/search" class="wp-block-search__button-inside wp-block-search__icon-button wp-block-search"><label for="wp-block-search__input-4" class="wp-block-search__label">Search Trac</label><div class="wp-block-search__inside-wrapper "><input type="search" id="wp-block-search__input-4" class="wp-block-search__input" name="q" value="" placeholder="Type to search…" required="" /><button type="submit" class="wp-block-search__button has-icon wp-element-button" aria-label="Search"><svg class="search-icon" viewbox="0 0 24 24" width="24" height="24">
					<path d="M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"></path>
				</svg></button></div></form>
						</div>
					</div>
				</div>
			</div></nav>
<div class="global-header__desktop-get-wordpress-container is-layout-flow wp-block-group-is-layout-flow">
	<a href="https://wordpress.org/download/" class="global-header__desktop-get-wordpress global-header__get-wordpress">
		Get WordPress	</a>
</div>
</header>
	
	<div id="headline" class="no-menu">
		<div class="wrapper">
			<h2><a href="//wordpress.org/plugins/">Plugin Directory</a></h2>
		</div>
	</div>

    <div id="banner">
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="last first">
	<a href="https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3076221%2540simple-membership%26old%3D3076221%2540simple-membership" class="login">Login</a>
</li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="/timeline">Timeline</a></li><li><a href="/report">View Tickets</a></li><li class="last active"><a href="/browser">Browse Source</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="/changeset/3076216/simple-membership" title="Changeset 3076216 for simple-membership">Previous Change</a></span></li><li class="last"><span><a class="next" href="/changeset/3077940/simple-membership" title="Changeset 3077940 for simple-membership">Next Change</a> &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="changeset">
      <div id="title">
            <h1>Changeset <a title="Show full changeset" href="/changeset/3076221">3076221</a>
              for <a title="Show entry in browser" href="/browser/simple-membership?rev=3076221">simple-membership</a></h1>
      </div>
      <form id="prefs" action="">
        <div>
          
  <label for="style">View differences</label>
  <select id="style" name="style">
    <option selected="selected" value="inline">inline</option>
    <option value="sidebyside">side by side</option>
  </select>
  <div class="field">
    <label><input type="radio" name="contextall" value="0" checked="checked" />
             Show</label>
      <label><input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
             lines around each change</label><br />
    <label><input type="radio" name="contextall" value="1" />
           Show the changes in full context</label>
  </div>
  <fieldset id="ignore">
    <legend>Ignore:</legend>
    <div class="field">
      <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
      <label for="ignoreblanklines">Blank lines</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorecase" name="ignorecase" />
      <label for="ignorecase">Case changes</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
      <label for="ignorewhitespace">White space changes</label>
    </div>
  </fieldset>
  <div style="display:none;"><input type="text" name="sfp_email" value="" /><input type="hidden" name="sfph_mail" value="" /></div><div class="buttons">
    <input type="submit" name="update" value="Update" />
  </div>

        </div>
      </form>
      <dl id="overview">
          <dt class="property time">Timestamp:</dt>
          <dd class="time">
             04/24/2024 07:35:50 AM
             (<a class="timeline" href="/timeline?from=2024-04-24T07%3A35%3A50Z&amp;precision=second" title="See timeline at 04/24/2024 07:35:50 AM">9 months</a> ago)
          </dd>
          <dt class="property author">Author:</dt>
          <dd class="author"><span class="trac-author">mra13</span></dd>
          <dt class="property message">Message:</dt>
          <dd class="message searchable">
            
            
              <ul><li>Added an option to configure a Cancel URL for Stripe SCA Subscription type buttons.
</li><li>Some options related to hiding the WP Admin Bar have been moved from the General Settings menu to the Advanced Settings tab.
</li><li>A warning message is displayed when editing membership levels if both manual approval and email activation settings are enabled simultaneously.
</li><li>Output escaping added to the shortcode output of the subscription cancel shortcode.
</li><li>PayPal PPCP button's JS SDK related code has been converted to use vanilla <a class="wiki" href="/wiki/JavaScript">JavaScript</a> to eliminate the dependency on jQuery.
</li><li>Stripe promotion code feature added for Stripe SCA Buy Now type buttons.
</li><li>The Payments menu now shows the transactions from the SWPM_Transactions custom post type. This will allow us to add more features to the transaction records in the future.
</li><li>Added the option to edit a transaction record from the payments menu of the plugin.
</li><li>Added a new shortcode that can show any active subscriptions and offer an option to cancel it for the logged-in member.
</li></ul>
            
            
          </dd>
          <dt class="property location">Location:</dt>
          <dd class="searchable"><a href="/browser/simple-membership?rev=3076221">simple-membership</a></dd>
        <dt class="property files">
          Files:
        </dt>
        <dd class="files">
          <div class="legend" id="file-legend">
            <dl>
              <dt class="add"></dt><dd>5 added</dd>
              <dt class="mod"></dt><dd>28 edited</dd>
            </dl>
          </div>
          <br />
          <ul>
            <li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/assets/blueprints?rev=3076221">
              assets/blueprints
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/assets/blueprints/blueprint.json?rev=3076221">
              assets/blueprints/blueprint.json
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/change-log-old-versions.txt?rev=3076221">
              trunk/change-log-old-versions.txt
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php?rev=3076221">
              trunk/classes/admin-includes/class.swpm-payments-admin-menu.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file3">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221">
              trunk/classes/admin-includes/class.swpm-payments-list-table.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file4">7 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.simple-wp-membership.php?rev=3076221">
              trunk/classes/class.simple-wp-membership.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file5">1 diff</a>)
            </li><li>
              <!-- ignored change (maybe because of diff options or ignored prop.) -->
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3076221">
              trunk/classes/class.swpm-settings.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file7">4 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.swpm-transactions.php?rev=3076221">
              trunk/classes/class.swpm-transactions.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file8">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils-misc.php?rev=3076221">
              trunk/classes/class.swpm-utils-misc.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file9">1 diff</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils-subscription.php?rev=3076221">
              trunk/classes/class.swpm-utils-subscription.php
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils.php?rev=3076221">
              trunk/classes/class.swpm-utils.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file11">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php?rev=3076221">
              trunk/classes/class.swpm-wp-loaded-tasks.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file12">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221">
              trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file13">13 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/css/swpm.common.css?rev=3076221">
              trunk/css/swpm.common.css
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file14">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=3076221">
              trunk/ipn/swpm-stripe-sca-buy-now-ipn.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file15">4 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3076221">
              trunk/ipn/swpm-stripe-sca-checkout-session-create.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file16">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/ipn/swpm_handle_pp_ipn.php?rev=3076221">
              trunk/ipn/swpm_handle_pp_ipn.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file17">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/ipn/swpm_handle_subsc_ipn.php?rev=3076221">
              trunk/ipn/swpm_handle_subsc_ipn.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file18">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3076221">
              trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file19">3 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3076221">
              trunk/lib/paypal/class-swpm-paypal-js-button-embed.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file20">3 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3076221">
              trunk/lib/paypal/class-swpm-paypal-request-api-injector.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file21">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3076221">
              trunk/lib/paypal/class-swpm-paypal-request-api.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file22">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php?rev=3076221">
              trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file23">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php?rev=3076221">
              trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file24">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/readme.txt?rev=3076221">
              trunk/readme.txt
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file25">3 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/simple-wp-membership.php?rev=3076221">
              trunk/simple-wp-membership.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file26">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/admin_edit_level.php?rev=3076221">
              trunk/views/admin_edit_level.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file27">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/payments/admin_all_payment_transactions.php?rev=3076221">
              trunk/views/payments/admin_all_payment_transactions.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file28">2 diffs</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/payments/admin_edit_transaction.php?rev=3076221">
              trunk/views/payments/admin_edit_transaction.php
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3076221">
              trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file30">5 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221">
              trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file31">6 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221">
              trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file32">7 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221">
              trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file33">6 diffs</a>)
            </li>
          </ul>
        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file3">
          <a href="/changeset/3076221/simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php">simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3010737">
                    <a title="Show revision 3010737 of this file in browser" href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php?rev=3010737#L32">
                      r3010737</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php?rev=3076221#L32">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>32</th><th>32</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($tab == 'edit_button') {//Only show the "edit button" tab when a button is being edited.</span></td>
                  </tr><tr>
                          <th>33</th><th>33</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;a class="nav-tab nav-tab-active" href="#"&gt;Edit Button&lt;/a&gt;';</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>34</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>35</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($tab == 'add_new_txn') {//Only show the "add txn manually" tab when a transaction is being added.</ins></td>
                  </tr><tr>
                          <th> </th><th>36</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;a class="nav-tab nav-tab-active" href="#"&gt;Add Transaction Manually&lt;/a&gt;';</ins></td>
                  </tr><tr>
                          <th> </th><th>37</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins></td>
                  </tr><tr>
                          <th> </th><th>38</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($tab == 'edit_txn') {//Only show the "edit txn" tab when a transaction is being edited.</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>39</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;a class="nav-tab nav-tab-active" href="#"&gt;Edit/View Transaction&lt;/a&gt;';</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>34</th><th>40</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>35</th><th>41</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php?rev=3010737#L88">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-admin-menu.php?rev=3076221#L94">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>88</th><th>94</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swpm_handle_add_new_txn_manually();</span></td>
                  </tr><tr>
                          <th>89</th><th>95</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>96</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'edit_txn':</ins></td>
                  </tr><tr>
                          <th> </th><th>97</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; include_once(SIMPLE_WP_MEMBERSHIP_PATH . '/views/payments/admin_edit_transaction.php');</ins></td>
                  </tr><tr>
                          <th> </th><th>98</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swpm_handle_edit_txn();</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>99</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>90</th><th>100</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default:</span></td>
                  </tr><tr>
                          <th>91</th><th>101</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; include_once(SIMPLE_WP_MEMBERSHIP_PATH . '/views/payments/admin_all_payment_transactions.php');</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file4">
          <a href="/changeset/3076221/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php">simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2902081">
                    <a title="Show revision 2902081 of this file in browser" href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L6">
                      r2902081</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L6">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>6</th><th>6</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>7</th><th>7</th><td class="l"><span>class SWPMPaymentsListTable extends WP_List_Table {</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>8</th><td class="r"><ins></ins></td>
                  </tr><tr class="last">
                          <th> </th><th>9</th><td class="r"><ins>&nbsp; &nbsp; public $items = array();</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>8</th><th>10</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>9</th><th>11</th><td class="l"><span>&nbsp; &nbsp; public function __construct() {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L37">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L39">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>37</th><th>39</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Build row actions</span></td>
                  </tr><tr>
                          <th>38</th><th>40</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $actions = array(</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>39</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* 'edit' =&gt; sprintf('&lt;a href="admin.php?page=simple_wp_membership_payments&amp;edit_txn=%s"&gt;Edit&lt;/a&gt;', $item['id']),//TODO - Will be implemented in a future date */</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>41</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 'edit' =&gt; sprintf('&lt;a href="admin.php?page=simple_wp_membership_payments&amp;action=edit_txn&amp;id=%s"&gt;Edit&lt;/a&gt;', $item['id']),//TODO - Need to fix</span></td>
                      </tr><tr class="last">
                        <th> </th><th>42</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'edit' =&gt; sprintf('&lt;a href="admin.php?page=simple_wp_membership_payments&amp;tab=edit_txn&amp;id=%s""&gt;Edit/View&lt;/a&gt;', $item['id']),</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>40</th><th>43</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'delete' =&gt; sprintf( '&lt;a href="admin.php?page=simple_wp_membership_payments&amp;action=delete_txn&amp;id=%s&amp;_wpnonce=%s" onclick="return confirm(\'Are you sure you want to delete this record?\')"&gt;Delete&lt;/a&gt;', $item['id'], wp_create_nonce( 'swpm_delete_txn_' . $item['id'] ) ),</span></td>
                  </tr><tr>
                          <th>41</th><th>44</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L79">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L82">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>79</th><th>82</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>80</th><th>83</th><td class="l"><span>&nbsp; &nbsp; function column_status( $item ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>81</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $status = <del>$item['status']</del>;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>84</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $status = <ins>ucfirst($item['status'])</ins>;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>82</th><th>85</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $column_value = '';</span></td>
                  </tr><tr>
                          <th>83</th><th>86</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L107">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L110">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>107</th><th>110</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $columns = array(</span></td>
                  </tr><tr>
                          <th>108</th><th>111</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'cb'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; '&lt;input type="checkbox" /&gt;', // Render a checkbox instead of text</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>109</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'id'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'Row ID' </del>),</span></td>
                      </tr><tr>
                        <th>110</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'email'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <del>SwpmUtils::_( 'Email Address' </del>),</span></td>
                      </tr><tr>
                        <th>111</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'first_name'&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'First Name' </del>),</span></td>
                      </tr><tr>
                        <th>112</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'last_name'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <del>SwpmUtils::_( 'Last Name' </del>),</span></td>
                      </tr><tr>
                        <th>113</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'member_profile'&nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'Member Profile' </del>),</span></td>
                      </tr><tr>
                        <th>114</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'txn_date'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'Date' </del>),</span></td>
                      </tr><tr>
                        <th>115</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'txn_id'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'Transaction ID' </del>),</span></td>
                      </tr><tr>
                        <th>116</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'subscr_id'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <del>SwpmUtils::_( 'Subscriber ID' </del>),</span></td>
                      </tr><tr>
                        <th>117</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'payment_amount'&nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'Amount' </del>),</span></td>
                      </tr><tr>
                        <th>118</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'membership_level' =&gt; <del>SwpmUtils::_( 'Membership Level' </del>),</span></td>
                      </tr><tr>
                        <th>119</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'status'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <del>SwpmUtils::_( 'Status/Note' </del>),</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>112</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'id'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <ins>__( 'ID' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>113</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'email'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <ins>__( 'Email Address' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>114</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'first_name'&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <ins>__( 'First Name' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>115</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'last_name'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <ins>__( 'Last Name' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>116</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'member_profile'&nbsp; &nbsp;=&gt; <ins>__( 'Member Profile' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>117</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'txn_date'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <ins>__( 'Date' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>118</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'txn_id'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <ins>__( 'Transaction ID' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>119</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'subscr_id'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <ins>__( 'Subscriber ID' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>120</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'payment_amount'&nbsp; &nbsp;=&gt; <ins>__( 'Amount' , 'simple-membership'</ins>),</span></td>
                      </tr><tr>
                        <th> </th><th>121</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'membership_level' =&gt; <ins>__( 'Membership Level' , 'simple-membership'</ins>),</span></td>
                      </tr><tr class="last">
                        <th> </th><th>122</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'status'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <ins>__( 'Status/Note' , 'simple-membership'</ins>),</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>120</th><th>123</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr><tr>
                          <th>121</th><th>124</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $columns;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L134">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L137">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>134</th><th>137</th><td class="l"><span>&nbsp; &nbsp; function get_bulk_actions() {</span></td>
                  </tr><tr>
                          <th>135</th><th>138</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $actions = array(</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>136</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'delete' =&gt; <del>SwpmUtils::_( 'Delete</del>' ),</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>139</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'delete' =&gt; <ins>__( 'Delete', 'simple-membership</ins>' ),</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>137</th><th>140</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr><tr>
                          <th>138</th><th>141</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $actions;</span></td>
                  </tr><tr>
                          <th>139</th><th>142</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>140</th><th>143</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>141</th><th> </th><td class="l"><span>&nbsp; &nbsp; <del></del>function process_bulk_action() {</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>144</th><td class="r"><span>&nbsp; &nbsp; <ins>public </ins>function process_bulk_action() {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>142</th><th>145</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Detect when a bulk action is being triggered...</span></td>
                  </tr><tr>
                          <th>143</th><th>146</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( 'delete' === $this-&gt;current_action() ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>144</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $records_to_delete = array_map( 'sanitize_text_field', $_GET['transaction'] );</span></td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $records_to_delete ) ) {</span></td>
                      </tr><tr>
                        <th>146</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;div id="message" class="updated fade"&gt;&lt;p&gt;Error! You need to select multiple records to perform a bulk action!&lt;/p&gt;&lt;/div&gt;';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>147</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $_GET['transaction'] ) ) {</span></td>
                      </tr><tr class="last">
                        <th> </th><th>148</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;div id="message" class="notice notice-error"&gt;&lt;p&gt;'.__('Error! You need to select multiple records to perform a bulk action!', 'simple-membership').'&lt;/p&gt;&lt;/div&gt;';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>147</th><th>149</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span></td>
                  </tr><tr>
                          <th>148</th><th>150</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>151</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $records_to_delete = array_map( 'sanitize_text_field', $_GET['transaction'] );</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>149</th><th>152</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>150</th><th>153</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $action = 'bulk-' . $this-&gt;_args['plural'];</span></td>
                  </tr><tr>
                          <th>151</th><th>154</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; check_admin_referer( $action );</span></td>
                  </tr><tr>
                          <th>152</th><th>155</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>153</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ( $records_to_delete as $record_id ) {</span></td>
                      </tr><tr>
                        <th>154</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! is_numeric( $record_id ) ) {</span></td>
                      </tr><tr>
                        <th>155</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_die( 'Error! ID must be numeric.' );</span></td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>157</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; global $wpdb;</span></td>
                      </tr><tr>
                        <th>158</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $wpdb-&gt;query( $wpdb-&gt;prepare( 'DELETE FROM ' . $wpdb-&gt;prefix . 'swpm_payments_tbl WHERE id = %d', $record_id ) );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>156</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ( $records_to_delete as $post_id ) {</span></td>
                      </tr><tr class="last">
                        <th> </th><th>157</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;delete_record($post_id);</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>159</th><th>158</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>160</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;div id="message" class="updated fade"&gt;&lt;p&gt;Selected records deleted successfully!&lt;/p&gt;&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th>161</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>162</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>163</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>164</th><th> </th><td class="l"><span>&nbsp; &nbsp; function delete_record( $record_id ) {</span></td>
                      </tr><tr>
                        <th>165</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; global $wpdb;</span></td>
                      </tr><tr>
                        <th>166</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $wpdb-&gt;query( $wpdb-&gt;prepare( 'DELETE FROM ' . $wpdb-&gt;prefix . 'swpm_payments_tbl WHERE id = %d', $record_id ) );</span></td>
                      </tr><tr>
                        <th>167</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // also delete record from swpm_transactions CPT</span></td>
                      </tr><tr>
                        <th>168</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $trans = get_posts(</span></td>
                      </tr><tr>
                        <th>169</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th>170</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'meta_key'&nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'db_row_id',</span></td>
                      </tr><tr>
                        <th>171</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'meta_value'&nbsp; &nbsp; &nbsp;=&gt; $record_id,</span></td>
                      </tr><tr>
                        <th>172</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'posts_per_page' =&gt; 1,</span></td>
                      </tr><tr>
                        <th>173</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'offset'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 0,</span></td>
                      </tr><tr>
                        <th>174</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_type'&nbsp; &nbsp; &nbsp; =&gt; 'swpm_transactions',</span></td>
                      </tr><tr>
                        <th>175</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                      </tr><tr>
                        <th>176</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>159</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>160</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;div id="message" class="notice notice-success"&gt;&lt;p&gt;'.__('Selected records deleted successfully!', 'simple-membership').'&lt;/p&gt;&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>161</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>162</th><td class="r"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>163</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>164</th><td class="r"><span>&nbsp; &nbsp; /**</span></td>
                      </tr><tr>
                        <th> </th><th>165</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* Deletes a record by post id.</span></td>
                      </tr><tr>
                        <th> </th><th>166</th><td class="r"><span>&nbsp; &nbsp; &nbsp;*</span></td>
                      </tr><tr>
                        <th> </th><th>167</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* @param int|string $post_id</span></td>
                      </tr><tr>
                        <th> </th><th>168</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* </span></td>
                      </tr><tr>
                        <th> </th><th>169</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* @return bool TRUE if deletion successful, FALSE otherwise.</span></td>
                      </tr><tr>
                        <th> </th><th>170</th><td class="r"><span>&nbsp; &nbsp; &nbsp;*/</span></td>
                      </tr><tr>
                        <th> </th><th>171</th><td class="r"><span>&nbsp; &nbsp; public function delete_record( $post_id ) {</span></td>
                      </tr><tr>
                        <th> </th><th>172</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! is_numeric( $post_id ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>173</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_die( __('Error! ID must be numeric.', 'simple-membership') );</span></td>
                      </tr><tr>
                        <th> </th><th>174</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>175</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Delete the record form posts table</span></td>
                      </tr><tr>
                        <th> </th><th>176</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $deletion_result = wp_delete_post( $post_id, true );</span></td>
                      </tr><tr>
                        <th> </th><th>177</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>178</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Delete the record from old custom swpm_payments_tbl table as well (if exists).</span></td>
                      </tr><tr>
                        <th> </th><th>179</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $db_row_id = get_post_meta($post_id, 'db_row_id', true);</span></td>
                      </tr><tr>
                        <th> </th><th>180</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!empty($db_row_id)) {</span></td>
                      </tr><tr>
                        <th> </th><th>181</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; global $wpdb;</span></td>
                      </tr><tr>
                        <th> </th><th>182</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $wpdb-&gt;query( $wpdb-&gt;prepare( 'DELETE FROM ' . $wpdb-&gt;prefix . 'swpm_payments_tbl WHERE id = %d', $db_row_id ) );</span></td>
                      </tr><tr>
                        <th> </th><th>183</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr class="last">
                        <th> </th><th>184</th><td class="r"><span></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>177</th><th>185</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; wp_reset_postdata();</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>178</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $trans ) ) {</span></td>
                      </tr><tr>
                        <th>179</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span></td>
                      </tr><tr>
                        <th>180</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>181</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $trans = $trans[0];</span></td>
                      </tr><tr>
                        <th>182</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; wp_delete_post( $trans-&gt;ID, true );</span></td>
                      </tr><tr>
                        <th>183</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>186</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>187</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $deletion_result instanceof \WP_Post ? true : false;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>184</th><th>188</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>185</th><th>189</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L220">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L224">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>220</th><th>224</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $search_term = trim( $search_term );</span></td>
                  </tr><tr>
                          <th>221</th><th>225</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>222</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( $search_term ) {// Only load the searched records.</span></td>
                      </tr><tr>
                        <th>223</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $like&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = $wpdb-&gt;esc_like( $search_term );</span></td>
                      </tr><tr>
                        <th>224</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $like&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = '%' . $like . '%';</span></td>
                      </tr><tr>
                        <th>225</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $prepare_query = $wpdb-&gt;prepare( "SELECT * FROM&nbsp; {$wpdb-&gt;prefix}swpm_payments_tbl WHERE `email` LIKE %s OR `txn_id` LIKE %s OR `first_name` LIKE %s OR `last_name` LIKE %s OR `subscr_id` LIKE %s", $like, $like, $like, $like, $like );</span></td>
                      </tr><tr>
                        <th>226</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $data&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = $wpdb-&gt;get_results( $prepare_query, ARRAY_A );</span></td>
                      </tr><tr>
                        <th>227</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $total_items&nbsp; &nbsp;= count( $data );</span></td>
                      </tr><tr>
                        <th>228</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else { // Load all data in an optimized way (so it is only loading data for the current page)</span></td>
                      </tr><tr>
                        <th>229</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $query&nbsp; &nbsp; &nbsp; &nbsp;= "SELECT COUNT(*) FROM {$wpdb-&gt;prefix}swpm_payments_tbl";</span></td>
                      </tr><tr>
                        <th>230</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $total_items = $wpdb-&gt;get_var( $query );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>226</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( $search_term ) {</span></td>
                      </tr><tr>
                        <th> </th><th>227</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Only load the searched records.</span></td>
                      </tr><tr>
                        <th> </th><th>228</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>229</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $search_str = esc_sql( $search_term );</span></td>
                      </tr><tr>
                        <th> </th><th>230</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>231</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Get the post ids if searched transaction post type.</span></td>
                      </tr><tr>
                        <th> </th><th>232</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post_ids = get_posts(</span></td>
                      </tr><tr>
                        <th> </th><th>233</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>234</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_type'&nbsp; =&gt; 'swpm_transactions',</span></td>
                      </tr><tr>
                        <th> </th><th>235</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'posts_per_page' =&gt; -1,</span></td>
                      </tr><tr>
                        <th> </th><th>236</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'fields'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'ids',</span></td>
                      </tr><tr>
                        <th> </th><th>237</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'meta_query' =&gt; array(</span></td>
                      </tr><tr>
                        <th> </th><th>238</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'relation' =&gt; 'OR',</span></td>
                      </tr><tr>
                        <th> </th><th>239</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>240</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key'&nbsp; &nbsp; &nbsp;=&gt; 'email',</span></td>
                      </tr><tr>
                        <th> </th><th>241</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp;=&gt; $search_str,</span></td>
                      </tr><tr>
                        <th> </th><th>242</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'compare' =&gt; 'LIKE'</span></td>
                      </tr><tr>
                        <th> </th><th>243</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>244</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>245</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key'&nbsp; &nbsp; &nbsp;=&gt; 'txn_id',</span></td>
                      </tr><tr>
                        <th> </th><th>246</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp;=&gt; $search_str,</span></td>
                      </tr><tr>
                        <th> </th><th>247</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'compare' =&gt; 'LIKE'</span></td>
                      </tr><tr>
                        <th> </th><th>248</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>249</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>250</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key'&nbsp; &nbsp; &nbsp;=&gt; 'first_name',</span></td>
                      </tr><tr>
                        <th> </th><th>251</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp;=&gt; $search_str,</span></td>
                      </tr><tr>
                        <th> </th><th>252</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'compare' =&gt; 'LIKE'</span></td>
                      </tr><tr>
                        <th> </th><th>253</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>254</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>255</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key'&nbsp; &nbsp; &nbsp;=&gt; 'last_name',</span></td>
                      </tr><tr>
                        <th> </th><th>256</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp;=&gt; $search_str,</span></td>
                      </tr><tr>
                        <th> </th><th>257</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'compare' =&gt; 'LIKE'</span></td>
                      </tr><tr>
                        <th> </th><th>258</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>259</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>260</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key'&nbsp; &nbsp; &nbsp;=&gt; 'subscr_id',</span></td>
                      </tr><tr>
                        <th> </th><th>261</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp;=&gt; $search_str,</span></td>
                      </tr><tr>
                        <th> </th><th>262</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'compare' =&gt; 'LIKE'</span></td>
                      </tr><tr>
                        <th> </th><th>263</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),</span></td>
                      </tr><tr>
                        <th> </th><th>264</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),</span></td>
                      </tr><tr>
                        <th> </th><th>265</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                      </tr><tr>
                        <th> </th><th>266</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                      </tr><tr>
                        <th> </th><th>267</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>268</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $total_items&nbsp; &nbsp;= count( $post_ids );</span></td>
                      </tr><tr>
                        <th> </th><th>269</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>270</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else { </span></td>
                      </tr><tr>
                        <th> </th><th>271</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Load all data in an optimized way (so it is only loading data for the current page)</span></td>
                      </tr><tr>
                        <th> </th><th>272</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>273</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Get the total transaction post counts.</span></td>
                      </tr><tr>
                        <th> </th><th>274</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $transactions_count_query = "SELECT COUNT(*) FROM {$wpdb-&gt;prefix}posts WHERE post_type='swpm_transactions'";</span></td>
                      </tr><tr>
                        <th> </th><th>275</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $total_items = $wpdb-&gt;get_var( $transactions_count_query );</span></td>
                      </tr><tr>
                        <th> </th><th>276</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>277</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $offset = ( $current_page - 1 ) * $per_page;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>231</th><th>278</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>232</th><th>279</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // pagination requirement</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>233</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $query = "SELECT * FROM {$wpdb-&gt;prefix}swpm_payments_tbl ORDER BY $orderby_column $sort_order";</span></td>
                      </tr><tr>
                        <th>234</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>235</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $offset = ( $current_page - 1 ) * $per_page;</span></td>
                      </tr><tr>
                        <th>236</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $query .= ' LIMIT ' . (int) $offset . ',' . (int) $per_page;</span></td>
                      </tr><tr>
                        <th>237</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>238</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $data = $wpdb-&gt;get_results( $query, ARRAY_A );</span></td>
                      </tr><tr>
                        <th>239</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>240</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>280</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // $query = "SELECT * FROM {$wpdb-&gt;prefix}swpm_payments_tbl ORDER BY $orderby_column $sort_order";</span></td>
                      </tr><tr>
                        <th> </th><th>281</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // $query .= ' LIMIT ' . (int) $offset . ',' . (int) $per_page;</span></td>
                      </tr><tr>
                        <th> </th><th>282</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // $data = $wpdb-&gt;get_results( $query, ARRAY_A );</span></td>
                      </tr><tr>
                        <th> </th><th>283</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>284</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Get the post ids of all transaction post type with pagination.</span></td>
                      </tr><tr>
                        <th> </th><th>285</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post_ids = get_posts(</span></td>
                      </tr><tr>
                        <th> </th><th>286</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>287</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_type' =&gt; 'swpm_transactions',</span></td>
                      </tr><tr>
                        <th> </th><th>288</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'posts_per_page' =&gt; (int) $per_page,</span></td>
                      </tr><tr>
                        <th> </th><th>289</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'offset' =&gt; (int) $offset,</span></td>
                      </tr><tr>
                        <th> </th><th>290</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'fields' =&gt; 'ids',</span></td>
                      </tr><tr>
                        <th> </th><th>291</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                      </tr><tr>
                        <th> </th><th>292</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                      </tr><tr>
                        <th> </th><th>293</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>294</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>295</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;process_txn_records_from_post_ids($post_ids);</span></td>
                      </tr><tr class="last">
                        <th> </th><th>296</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>241</th><th>297</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Now we add our *sorted* data to the items property, where it can be used by the rest of the class.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>242</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;items = $data;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>298</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // $this-&gt;items = $transaction_records;</span></td>
                      </tr><tr class="last">
                        <th> </th><th>299</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // wp_die('&lt;pre&gt;'. print_r($transaction_records, true) .'&lt;/pre&gt;');</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>243</th><th>300</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>244</th><th>301</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // pagination requirement</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=2902081#L252">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/admin-includes/class.swpm-payments-list-table.php?rev=3076221#L309">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>252</th><th>309</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>253</th><th>310</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>311</th><td class="r"><ins>&nbsp; &nbsp; /**</ins></td>
                  </tr><tr>
                          <th> </th><th>312</th><td class="r"><ins>&nbsp; &nbsp; &nbsp;* Populate the $items property with appropriate fields by their post ids.</ins></td>
                  </tr><tr>
                          <th> </th><th>313</th><td class="r"><ins>&nbsp; &nbsp; &nbsp;*</ins></td>
                  </tr><tr>
                          <th> </th><th>314</th><td class="r"><ins>&nbsp; &nbsp; &nbsp;* @param array $post_ids Post IDs of transaction post type.</ins></td>
                  </tr><tr>
                          <th> </th><th>315</th><td class="r"><ins>&nbsp; &nbsp; &nbsp;* </ins></td>
                  </tr><tr>
                          <th> </th><th>316</th><td class="r"><ins>&nbsp; &nbsp; &nbsp;* @return void</ins></td>
                  </tr><tr>
                          <th> </th><th>317</th><td class="r"><ins>&nbsp; &nbsp; &nbsp;*/</ins></td>
                  </tr><tr>
                          <th> </th><th>318</th><td class="r"><ins>&nbsp; &nbsp; private function process_txn_records_from_post_ids(&amp;$post_ids){</ins></td>
                  </tr><tr>
                          <th> </th><th>319</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; foreach ($post_ids as $post_id) {</ins></td>
                  </tr><tr>
                          <th> </th><th>320</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array_push($this-&gt;items, array(</ins></td>
                  </tr><tr>
                          <th> </th><th>321</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'id' =&gt; $post_id,</ins></td>
                  </tr><tr>
                          <th> </th><th>322</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'db_row_id' =&gt; get_post_meta($post_id, 'db_row_id', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>323</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'email' =&gt; get_post_meta($post_id, 'email', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>324</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'first_name' =&gt; get_post_meta($post_id, 'first_name', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>325</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'last_name' =&gt; get_post_meta($post_id, 'last_name', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>326</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'member_id' =&gt; get_post_meta($post_id, 'member_id', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>327</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'membership_level' =&gt; get_post_meta($post_id, 'membership_level', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>328</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'txn_date' =&gt; get_post_meta($post_id, 'txn_date', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>329</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'txn_id' =&gt; get_post_meta($post_id, 'txn_id', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>330</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'subscr_id' =&gt; get_post_meta($post_id, 'subscr_id', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>331</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'reference' =&gt; get_post_meta($post_id, 'reference', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>332</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'payment_amount' =&gt; get_post_meta($post_id, 'payment_amount', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>333</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'gateway' =&gt; get_post_meta($post_id, 'gateway', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>334</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'status' =&gt; get_post_meta($post_id, 'status', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>335</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'ip_address' =&gt; get_post_meta($post_id, 'ip_address', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>336</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'payment_button_id' =&gt; get_post_meta($post_id, 'payment_button_id', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>337</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'is_live' =&gt; get_post_meta($post_id, 'is_live', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>338</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'discount_amount' =&gt; get_post_meta($post_id, 'discount_amount', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>339</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'custom' =&gt; get_post_meta($post_id, 'custom', true),</ins></td>
                  </tr><tr>
                          <th> </th><th>340</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ));</ins></td>
                  </tr><tr>
                          <th> </th><th>341</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>342</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>343</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>254</th><th>344</th><td class="l"><span>}</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file5">
          <a href="/changeset/3076221/simple-membership/trunk/classes/class.simple-wp-membership.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/class.simple-wp-membership.php">simple-membership/trunk/classes/class.simple-wp-membership.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/classes/class.simple-wp-membership.php?rev=3045036#L32">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/class.simple-wp-membership.php?rev=3076221#L32">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>32</th><th>32</th><td class="l"><span>include_once('class.swpm-transactions.php');</span></td>
                  </tr><tr>
                          <th>33</th><th>33</th><td class="l"><span>include_once('shortcode-related/class.swpm-shortcodes-handler.php');</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>34</th><th> </th><td class="l"><span>include_once('class<del>-swpm-member-subscriptions</del>.php');</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>34</th><td class="r"><span>include_once('class<ins>.swpm-utils-subscription</ins>.php');</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>35</th><th>35</th><td class="l"><span>include_once( SIMPLE_WP_MEMBERSHIP_PATH . 'ipn/swpm_handle_subsc_ipn.php' );</span></td>
                  </tr><tr>
                          <th>36</th><th>36</th><td class="l"><span>include_once( SIMPLE_WP_MEMBERSHIP_PATH . 'lib/paypal/class-swpm-paypal-main.php' );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file7">
          <a href="/changeset/3076221/simple-membership/trunk/classes/class.swpm-settings.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/class.swpm-settings.php">simple-membership/trunk/classes/class.swpm-settings.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3045036#L106">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3076221#L106">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>106</th><th>106</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                  </tr><tr>
                          <th>107</th><th>107</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>108</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</del></td>
                  </tr><tr>
                          <th>109</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'hide-adminbar',</del></td>
                  </tr><tr>
                          <th>110</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmUtils::_( 'Hide Adminbar' ),</del></td>
                  </tr><tr>
                          <th>111</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( &amp;$this, 'checkbox_callback' ),</del></td>
                  </tr><tr>
                          <th>112</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'simple_wp_membership_settings',</del></td>
                  </tr><tr>
                          <th>113</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'general-settings',</del></td>
                  </tr><tr>
                          <th>114</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</del></td>
                  </tr><tr>
                          <th>115</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'hide-adminbar',</del></td>
                  </tr><tr>
                          <th>116</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; SwpmUtils::_( 'WordPress shows an admin toolbar to the logged in users of the site. Check this if you want to hide that admin toolbar in the frontend of your site.' ),</del></td>
                  </tr><tr>
                          <th>117</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</del></td>
                  </tr><tr>
                          <th>118</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; );</del></td>
                  </tr><tr>
                          <th>119</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</del></td>
                  </tr><tr>
                          <th>120</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'show-adminbar-admin-only',</del></td>
                  </tr><tr>
                          <th>121</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmUtils::_( 'Show Adminbar to Admin' ),</del></td>
                  </tr><tr>
                          <th>122</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( &amp;$this, 'checkbox_callback' ),</del></td>
                  </tr><tr>
                          <th>123</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'simple_wp_membership_settings',</del></td>
                  </tr><tr>
                          <th>124</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'general-settings',</del></td>
                  </tr><tr>
                          <th>125</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</del></td>
                  </tr><tr>
                          <th>126</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'show-adminbar-admin-only',</del></td>
                  </tr><tr>
                          <th>127</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; SwpmUtils::_( 'Use this option if you want to show the admin toolbar to admin users only. The admin toolbar will be hidden for all other users.' ),</del></td>
                  </tr><tr>
                          <th>128</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</del></td>
                  </tr><tr>
                          <th>129</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; );</del></td>
                  </tr><tr>
                          <th>130</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</del></td>
                  </tr><tr>
                          <th>131</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'disable-access-to-wp-dashboard',</del></td>
                  </tr><tr>
                          <th>132</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmUtils::_( 'Disable Access to WP Dashboard' ),</del></td>
                  </tr><tr>
                          <th>133</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( &amp;$this, 'checkbox_callback' ),</del></td>
                  </tr><tr>
                          <th>134</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'simple_wp_membership_settings',</del></td>
                  </tr><tr>
                          <th>135</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'general-settings',</del></td>
                  </tr><tr>
                          <th>136</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</del></td>
                  </tr><tr>
                          <th>137</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'disable-access-to-wp-dashboard',</del></td>
                  </tr><tr>
                          <th>138</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; SwpmUtils::_( 'WordPress allows a standard wp user to be able to go to the wp-admin URL and access his profile from the wp dashboard. Using this option will prevent any non-admin users from going to the wp dashboard.' ),</del></td>
                  </tr><tr>
                          <th>139</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</del></td>
                  </tr><tr class="last">
                          <th>140</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; );</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>141</th><th>108</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>142</th><th>109</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3045036#L794">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3076221#L761">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>794</th><th>761</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'use-new-form-ui',</span></td>
                  </tr><tr>
                          <th>795</th><th>762</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; __( 'Enable the improved user interface for registration and profile editing, featuring enhanced validation that adapts seamlessly across various devices and screen sizes.' ),</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>763</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</ins></td>
                  </tr><tr>
                          <th> </th><th>764</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; );</ins></td>
                  </tr><tr>
                          <th> </th><th>765</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>766</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</ins></td>
                  </tr><tr>
                          <th> </th><th>767</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'hide-adminbar',</ins></td>
                  </tr><tr>
                          <th> </th><th>768</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __( 'Hide Adminbar' , 'simple-membership'),</ins></td>
                  </tr><tr>
                          <th> </th><th>769</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( &amp;$this, 'checkbox_callback' ),</ins></td>
                  </tr><tr>
                          <th> </th><th>770</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'simple_wp_membership_settings',</ins></td>
                  </tr><tr>
                          <th> </th><th>771</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'advanced-settings',</ins></td>
                  </tr><tr>
                          <th> </th><th>772</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</ins></td>
                  </tr><tr>
                          <th> </th><th>773</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'hide-adminbar',</ins></td>
                  </tr><tr>
                          <th> </th><th>774</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; __( 'WordPress shows an admin toolbar to the logged in users of the site. Check this if you want to hide that admin toolbar in the frontend of your site.' , 'simple-membership'),</ins></td>
                  </tr><tr>
                          <th> </th><th>775</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</ins></td>
                  </tr><tr>
                          <th> </th><th>776</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; );</ins></td>
                  </tr><tr>
                          <th> </th><th>777</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>778</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</ins></td>
                  </tr><tr>
                          <th> </th><th>779</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'show-adminbar-admin-only',</ins></td>
                  </tr><tr>
                          <th> </th><th>780</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __( 'Show Adminbar to Admin' , 'simple-membership'),</ins></td>
                  </tr><tr>
                          <th> </th><th>781</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( &amp;$this, 'checkbox_callback' ),</ins></td>
                  </tr><tr>
                          <th> </th><th>782</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'simple_wp_membership_settings',</ins></td>
                  </tr><tr>
                          <th> </th><th>783</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'advanced-settings',</ins></td>
                  </tr><tr>
                          <th> </th><th>784</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</ins></td>
                  </tr><tr>
                          <th> </th><th>785</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'show-adminbar-admin-only',</ins></td>
                  </tr><tr>
                          <th> </th><th>786</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; __( 'Use this option if you want to show the admin toolbar to admin users only. The admin toolbar will be hidden for all other users.' , 'simple-membership'),</ins></td>
                  </tr><tr>
                          <th> </th><th>787</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</ins></td>
                  </tr><tr>
                          <th> </th><th>788</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; );</ins></td>
                  </tr><tr>
                          <th> </th><th>789</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>790</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; add_settings_field(</ins></td>
                  </tr><tr>
                          <th> </th><th>791</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'disable-access-to-wp-dashboard',</ins></td>
                  </tr><tr>
                          <th> </th><th>792</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __( 'Disable Access to WP Dashboard' , 'simple-membership'),</ins></td>
                  </tr><tr>
                          <th> </th><th>793</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( &amp;$this, 'checkbox_callback' ),</ins></td>
                  </tr><tr>
                          <th> </th><th>794</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'simple_wp_membership_settings',</ins></td>
                  </tr><tr>
                          <th> </th><th>795</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'advanced-settings',</ins></td>
                  </tr><tr>
                          <th> </th><th>796</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</ins></td>
                  </tr><tr>
                          <th> </th><th>797</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'item'&nbsp; &nbsp; =&gt; 'disable-access-to-wp-dashboard',</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>798</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'message' =&gt; __( 'WordPress allows a standard wp user to be able to go to the wp-admin URL and access his profile from the wp dashboard. Using this option will prevent any non-admin users from going to the wp dashboard.' , 'simple-membership'),</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>796</th><th>799</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                  </tr><tr>
                          <th>797</th><th>800</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3045036#L1263">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3076221#L1266">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1263</th><th>1266</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output = $this-&gt;settings;</span></td>
                  </tr><tr>
                          <th>1264</th><th>1267</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //general settings block</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>1265</th><th> </th><td class="l"><del></del></td>
                  </tr><tr>
                          <th>1266</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $output['hide-adminbar']&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = isset( $input['hide-adminbar'] ) ? esc_attr( $input['hide-adminbar'] ) : '';</del></td>
                  </tr><tr>
                          <th>1267</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $output['show-adminbar-admin-only']&nbsp; &nbsp; &nbsp; &nbsp;= isset( $input['show-adminbar-admin-only'] ) ? esc_attr( $input['show-adminbar-admin-only'] ) : '';</del></td>
                  </tr><tr class="last">
                          <th>1268</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $output['disable-access-to-wp-dashboard'] = isset( $input['disable-access-to-wp-dashboard'] ) ? esc_attr( $input['disable-access-to-wp-dashboard'] ) : '';</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1269</th><th>1268</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>1270</th><th>1269</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output['protect-everything']&nbsp; &nbsp; &nbsp;= isset( $input['protect-everything'] ) ? esc_attr( $input['protect-everything'] ) : '';</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3045036#L1350">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3076221#L1349">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1350</th><th>1349</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output['payment-notification-forward-url']&nbsp; = esc_url( $input['payment-notification-forward-url'] );</span></td>
                  </tr><tr>
                          <th>1351</th><th>1350</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output['use-new-form-ui']&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= isset( $input['use-new-form-ui'] ) ? esc_attr( $input['use-new-form-ui'] ) : '';</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>1351</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $output['hide-adminbar']&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = isset( $input['hide-adminbar'] ) ? esc_attr( $input['hide-adminbar'] ) : '';</ins></td>
                  </tr><tr>
                          <th> </th><th>1352</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $output['show-adminbar-admin-only']&nbsp; &nbsp; &nbsp; &nbsp;= isset( $input['show-adminbar-admin-only'] ) ? esc_attr( $input['show-adminbar-admin-only'] ) : '';</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>1353</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $output['disable-access-to-wp-dashboard'] = isset( $input['disable-access-to-wp-dashboard'] ) ? esc_attr( $input['disable-access-to-wp-dashboard'] ) : '';</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1352</th><th>1354</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>1353</th><th>1355</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Auto create swpm user related settings</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file8">
          <a href="/changeset/3076221/simple-membership/trunk/classes/class.swpm-transactions.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/class.swpm-transactions.php">simple-membership/trunk/classes/class.swpm-transactions.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2922078">
                    <a title="Show revision 2922078 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-transactions.php?rev=2922078#L82">
                      r2922078</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-transactions.php?rev=3076221#L82">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>82</th><th>82</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset( $subscr_id ) &amp;&amp; ! empty( $subscr_id ) ) {</span></td>
                  </tr><tr>
                          <th>83</th><th>83</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $post_id, 'subscr_id', $subscr_id );</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>84</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }<del>&nbsp; &nbsp; &nbsp; &nbsp;</del></span></td>
                      </tr><tr>
                        <th>85</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>86</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>//Add the payment_button_id to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>84</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }<ins></ins></span></td>
                      </tr><tr>
                        <th> </th><th>85</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>86</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>//Add the payment_button_id to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>87</th><th>87</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset( $ipn_data['payment_button_id'] ) ) {</span></td>
                  </tr><tr>
                          <th>88</th><th>88</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_data['payment_button_id'] = $ipn_data['payment_button_id'];</span></td>
                  </tr><tr>
                          <th>89</th><th>89</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>90</th><th>90</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>91</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>//Add the is_live to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>91</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>//Add the is_live to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>92</th><th>92</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset( $ipn_data['is_live'] ) ) {</span></td>
                  </tr><tr>
                          <th>93</th><th>93</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_data['is_live'] = $ipn_data['is_live'];</span></td>
                  </tr><tr>
                          <th>94</th><th>94</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>95</th><th>95</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>96</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>//Add the custom value to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>96</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>//Add the custom value to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>97</th><th>97</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset( $ipn_data['custom'] ) ) {</span></td>
                  </tr><tr>
                          <th>98</th><th>98</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_data['custom'] = $ipn_data['custom'];</span></td>
                  </tr><tr>
                          <th>99</th><th>99</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>100</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>101</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Save the $txn_data to the swpm_transactions CPT as post meta.</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>100</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>101</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Add the discount_amount value to the txn_data array so it can be saved to the swpm_transactions CPT.</span></td>
                      </tr><tr>
                        <th> </th><th>102</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset( $ipn_data['discount_amount'] ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>103</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_data['discount_amount'] = $ipn_data['discount_amount'];</span></td>
                      </tr><tr>
                        <th> </th><th>104</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>105</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>106</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Save the $txn_data to the swpm_transactions CPT as post meta.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>102</th><th>107</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; foreach ( $txn_data as $key =&gt; $value ) {</span></td>
                  </tr><tr>
                          <th>103</th><th>108</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $post_id, $key, $value );</span></td>
                  </tr><tr>
                          <th>104</th><th>109</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>105</th><th>110</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>106</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>//Trigger the action hook.</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>111</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>//Trigger the action hook.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>107</th><th>112</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; do_action( 'swpm_txn_record_saved', $txn_data, $db_row_id, $post_id );</span></td>
                  </tr><tr>
                          <th>108</th><th>113</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-transactions.php?rev=2922078#L152">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-transactions.php?rev=3076221#L157">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>152</th><th>157</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>153</th><th>158</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>154</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span></td>
                      </tr><tr>
                        <th>155</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Get the custom field data of the original subscription checkout from the user profile (if available).</span></td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* The Transaction CPT Post ID is saved in the member's profile when the subscription is created.</span></td>
                      </tr><tr>
                        <th>157</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @param string $subscr_id</span></td>
                      </tr><tr>
                        <th>158</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return string</span></td>
                      </tr><tr>
                        <th>159</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span></td>
                      </tr><tr>
                        <th>160</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; public static function get_original_custom_value_from_transactions_cpt ( $subscr_id ) {</span></td>
                      </tr><tr>
                        <th>161</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $extra_info = SwpmMemberUtils::get_account_extra_info_by_subscr_id( $subscr_id );</span></td>
                      </tr><tr>
                        <th>162</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( isset( $extra_info['orig_swpm_txn_cpt_id'] ) &amp;&amp; !empty( $extra_info['orig_swpm_txn_cpt_id'] )){</span></td>
                      </tr><tr>
                        <th>163</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_post_id = $extra_info['orig_swpm_txn_cpt_id'];</span></td>
                      </tr><tr>
                        <th>164</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Example value: subsc_ref=2&amp;orig_swpm_txn_cpt_id=123</span></td>
                      </tr><tr>
                        <th>165</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $custom = get_post_meta( $txn_cpt_post_id, 'custom', true );</span></td>
                      </tr><tr>
                        <th>166</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug('Custom field data from the original subscription checkout: ' . $custom, true);</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>159</th><td class="r"><span>&nbsp; &nbsp; /**</span></td>
                      </tr><tr>
                        <th> </th><th>160</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* Get the original subscription checkout transaction CPT Post ID by the subscriber ID.</span></td>
                      </tr><tr>
                        <th> </th><th>161</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* Get's the original transaction CPT Post ID from the member's profile (we save it in the extra_info when the subscription is created).</span></td>
                      </tr><tr>
                        <th> </th><th>162</th><td class="r"><span>&nbsp; &nbsp; &nbsp;*/</span></td>
                      </tr><tr>
                        <th> </th><th>163</th><td class="r"><span>&nbsp; &nbsp; public static function get_original_swpm_txn_cpt_id_by_subscr_id ( $subscr_id ) {</span></td>
                      </tr><tr>
                        <th> </th><th>164</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $extra_info = SwpmMemberUtils::get_account_extra_info_by_subscr_id( $subscr_id );</span></td>
                      </tr><tr>
                        <th> </th><th>165</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if( isset( $extra_info['orig_swpm_txn_cpt_id'] ) &amp;&amp; !empty( $extra_info['orig_swpm_txn_cpt_id'] )){</span></td>
                      </tr><tr>
                        <th> </th><th>166</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_post_id = $extra_info['orig_swpm_txn_cpt_id'];</span></td>
                      </tr><tr>
                        <th> </th><th>167</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $txn_cpt_post_id;</span></td>
                      </tr><tr>
                        <th> </th><th>168</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>169</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return '';</span></td>
                      </tr><tr>
                        <th> </th><th>170</th><td class="r"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>171</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>172</th><td class="r"><span>&nbsp; &nbsp; /**</span></td>
                      </tr><tr>
                        <th> </th><th>173</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* Get the custom field data of the original subscription checkout from the user profile (if available).</span></td>
                      </tr><tr>
                        <th> </th><th>174</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* The Transaction CPT Post ID is saved in the member's profile when the subscription is created.</span></td>
                      </tr><tr>
                        <th> </th><th>175</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* @param string $subscr_id</span></td>
                      </tr><tr>
                        <th> </th><th>176</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* @return string</span></td>
                      </tr><tr>
                        <th> </th><th>177</th><td class="r"><span>&nbsp; &nbsp; &nbsp;*/</span></td>
                      </tr><tr>
                        <th> </th><th>178</th><td class="r"><span>&nbsp; &nbsp; public static function get_original_custom_value_from_transactions_cpt ( $subscr_id ) {</span></td>
                      </tr><tr>
                        <th> </th><th>179</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $extra_info = SwpmMemberUtils::get_account_extra_info_by_subscr_id( $subscr_id );</span></td>
                      </tr><tr>
                        <th> </th><th>180</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if( isset( $extra_info['orig_swpm_txn_cpt_id'] ) &amp;&amp; !empty( $extra_info['orig_swpm_txn_cpt_id'] )){</span></td>
                      </tr><tr>
                        <th> </th><th>181</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_post_id = $extra_info['orig_swpm_txn_cpt_id'];</span></td>
                      </tr><tr>
                        <th> </th><th>182</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Example value: subsc_ref=2&amp;orig_swpm_txn_cpt_id=123</span></td>
                      </tr><tr>
                        <th> </th><th>183</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $custom = get_post_meta( $txn_cpt_post_id, 'custom', true );</span></td>
                      </tr><tr>
                        <th> </th><th>184</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug('Custom field data from the original subscription checkout: ' . $custom, true);</span></td>
                      </tr><tr>
                        <th> </th><th>185</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>186</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; else{</span></td>
                      </tr><tr>
                        <th> </th><th>187</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $custom = '';</span></td>
                      </tr><tr>
                        <th> </th><th>188</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug('Could not find the original subscription checkout custom field data.', true);</span></td>
                      </tr><tr>
                        <th> </th><th>189</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>190</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $custom;</span></td>
                      </tr><tr>
                        <th> </th><th>191</th><td class="r"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>192</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>193</th><td class="r"><span>&nbsp; &nbsp; public static function get_original_custom_value_for_subscription_payment ( $subscr_id ) {</span></td>
                      </tr><tr>
                        <th> </th><th>194</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset ( $subscr_id )){</span></td>
                      </tr><tr>
                        <th> </th><th>195</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Lets check if a proper custom field value is already saved in the CPT for this stripe subscription.</span></td>
                      </tr><tr>
                        <th> </th><th>196</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_qry_args = array(</span></td>
                      </tr><tr>
                        <th> </th><th>197</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_type'&nbsp; =&gt; 'swpm_transactions',</span></td>
                      </tr><tr>
                        <th> </th><th>198</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'orderby'&nbsp; &nbsp; =&gt; 'post_id',</span></td>
                      </tr><tr>
                        <th> </th><th>199</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'order'&nbsp; &nbsp; &nbsp; =&gt; 'ASC',</span></td>
                      </tr><tr>
                        <th> </th><th>200</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'meta_query' =&gt; array(</span></td>
                      </tr><tr>
                        <th> </th><th>201</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th> </th><th>202</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key' =&gt; 'subscr_id',</span></td>
                      </tr><tr>
                        <th> </th><th>203</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value' =&gt; $subscr_id</span></td>
                      </tr><tr>
                        <th> </th><th>204</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),</span></td>
                      </tr><tr>
                        <th> </th><th>205</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                      </tr><tr>
                        <th> </th><th>206</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                      </tr><tr>
                        <th> </th><th>207</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_qry = new WP_Query( $txn_cpt_qry_args );</span></td>
                      </tr><tr>
                        <th> </th><th>208</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>209</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $found_posts = $txn_cpt_qry-&gt;found_posts;</span></td>
                      </tr><tr>
                        <th> </th><th>210</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $found_posts ) {</span></td>
                      </tr><tr>
                        <th> </th><th>211</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Found a match so this is a subscription payment notification.</span></td>
                      </tr><tr>
                        <th> </th><th>212</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Read the posts array.</span></td>
                      </tr><tr>
                        <th> </th><th>213</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $posts = $txn_cpt_qry-&gt;posts;</span></td>
                      </tr><tr>
                        <th> </th><th>214</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>215</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //The fist post entry will be the original stripe webhook notification.</span></td>
                      </tr><tr>
                        <th> </th><th>216</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $first_entry = array_shift($posts);</span></td>
                      </tr><tr>
                        <th> </th><th>217</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Get the ID of the post.</span></td>
                      </tr><tr>
                        <th> </th><th>218</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $cpt_post_id = $first_entry-&gt;ID;</span></td>
                      </tr><tr>
                        <th> </th><th>219</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Retrieve the original custom value saved for this post.</span></td>
                      </tr><tr>
                        <th> </th><th>220</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $orig_custom_value = get_post_meta( $cpt_post_id, 'custom', true );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>221</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $orig_custom_value;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>167</th><th>222</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>168</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</span></td>
                      </tr><tr>
                        <th>169</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $custom = '';</span></td>
                      </tr><tr>
                        <th>170</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug('Could not find the original subscription checkout custom field data.', true);</span></td>
                      </tr><tr>
                        <th>171</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>172</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $custom;</span></td>
                      </tr><tr>
                        <th>173</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>174</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>175</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; public static function get_original_custom_value_for_subscription_payment ( $subscr_id ) {</span></td>
                      </tr><tr>
                        <th>176</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( isset ( $subscr_id )){</span></td>
                      </tr><tr>
                        <th>177</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Lets check if a proper custom field value is already saved in the CPT for this stripe subscription.</span></td>
                      </tr><tr>
                        <th>178</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_qry_args = array(</span></td>
                      </tr><tr>
                        <th>179</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_type'&nbsp; =&gt; 'swpm_transactions',</span></td>
                      </tr><tr>
                        <th>180</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'orderby'&nbsp; &nbsp; =&gt; 'post_id',</span></td>
                      </tr><tr>
                        <th>181</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'order'&nbsp; &nbsp; &nbsp; =&gt; 'ASC',</span></td>
                      </tr><tr>
                        <th>182</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'meta_query' =&gt; array(</span></td>
                      </tr><tr>
                        <th>183</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(</span></td>
                      </tr><tr>
                        <th>184</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'key' =&gt; 'subscr_id',</span></td>
                      </tr><tr>
                        <th>185</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value' =&gt; $subscr_id</span></td>
                      </tr><tr>
                        <th>186</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),</span></td>
                      </tr><tr>
                        <th>187</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></td>
                      </tr><tr>
                        <th>188</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                      </tr><tr>
                        <th>189</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $txn_cpt_qry = new WP_Query( $txn_cpt_qry_args );</span></td>
                      </tr><tr>
                        <th>190</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>191</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $found_posts = $txn_cpt_qry-&gt;found_posts;</span></td>
                      </tr><tr>
                        <th>192</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $found_posts ) {</span></td>
                      </tr><tr>
                        <th>193</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Found a match so this is a subscription payment notification.</span></td>
                      </tr><tr>
                        <th>194</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Read the posts array.</span></td>
                      </tr><tr>
                        <th>195</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $posts = $txn_cpt_qry-&gt;posts;</span></td>
                      </tr><tr>
                        <th>196</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>197</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //The fist post entry will be the original stripe webhook notification.</span></td>
                      </tr><tr>
                        <th>198</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $first_entry = array_shift($posts);</span></td>
                      </tr><tr>
                        <th>199</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Get the ID of the post.</span></td>
                      </tr><tr>
                        <th>200</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $cpt_post_id = $first_entry-&gt;ID;</span></td>
                      </tr><tr>
                        <th>201</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Retrieve the original custom value saved for this post.</span></td>
                      </tr><tr>
                        <th>202</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $orig_custom_value = get_post_meta( $cpt_post_id, 'custom', true );</span></td>
                      </tr><tr>
                        <th>203</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $orig_custom_value;</span></td>
                      </tr><tr>
                        <th>204</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>205</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>206</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return '';</span></td>
                      </tr><tr>
                        <th>207</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>223</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>224</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return '';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>225</th><td class="r"><span>&nbsp; &nbsp; }</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>208</th><th>226</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>209</th><th>227</th><td class="l"><span>}</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file9">
          <a href="/changeset/3076221/simple-membership/trunk/classes/class.swpm-utils-misc.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/class.swpm-utils-misc.php">simple-membership/trunk/classes/class.swpm-utils-misc.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3015294">
                    <a title="Show revision 3015294 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils-misc.php?rev=3015294#L10">
                      r3015294</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils-misc.php?rev=3076221#L10">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>10</th><th>10</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Create join us page</span></td>
                  </tr><tr>
                          <th>11</th><th>11</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $swpm_join_page_content&nbsp; = '&lt;p style="color:red;font-weight:bold;"&gt;This page and the content has been automatically generated for you to give you a basic idea of how a "Join Us" page should look like. You can customize this page however you like it by editing this page from your WordPress page editor.&lt;/p&gt;';</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>12</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $swpm_join_page_content .= '&lt;p style="font-weight:bold;"&gt;If you end up changing the URL of this page then make sure to update the URL value in the settings menu of the plugin.&lt;/p&gt;';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>12</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $swpm_join_page_content .= '&lt;p style="font-weight:bold;"&gt;If you change the URL of this page, make sure to update the URL value in the settings menu of the plugin.&lt;/p&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>13</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $swpm_join_page_content .= '&lt;p style="font-weight:bold;"&gt;If you delete any of the essential pages required by the plugin, &lt;a href="https://simple-membership-plugin.com/recreating-required-pages-simple-membership-plugin/" target="_blank"&gt;this documentation&lt;/a&gt; will guide you in recreating them.&lt;/p&gt;';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>13</th><th>14</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $swpm_join_page_content .= '&lt;p style="border-top:1px solid #ccc;padding-top:10px;margin-top:10px;"&gt;&lt;/p&gt;</span></td>
                  </tr><tr>
                          <th>14</th><th>15</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;strong&gt;Free Membership&lt;/strong&gt;</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file11">
          <a href="/changeset/3076221/simple-membership/trunk/classes/class.swpm-utils.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/class.swpm-utils.php">simple-membership/trunk/classes/class.swpm-utils.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3010737">
                    <a title="Show revision 3010737 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils.php?rev=3010737#L721">
                      r3010737</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-utils.php?rev=3076221#L721">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>721</th><th>721</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr><tr>
                          <th>722</th><th>722</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>723</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>724</th><td class="r"><ins>&nbsp; &nbsp; public static function get_formatted_payment_gateway_name($gateway){</ins></td>
                  </tr><tr>
                          <th> </th><th>725</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; switch ($gateway) {</ins></td>
                  </tr><tr>
                          <th> </th><th>726</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'stripe':</ins></td>
                  </tr><tr>
                          <th> </th><th>727</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'Stripe (Legacy)';</ins></td>
                  </tr><tr>
                          <th> </th><th>728</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'stripe-sca':</ins></td>
                  </tr><tr>
                          <th> </th><th>729</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'Stripe Buy Now';</ins></td>
                  </tr><tr>
                          <th> </th><th>730</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'stripe-sca-subs':</ins></td>
                  </tr><tr>
                          <th> </th><th>731</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'Stripe Subscription';</ins></td>
                  </tr><tr>
                          <th> </th><th>732</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'paypal':</ins></td>
                  </tr><tr>
                          <th> </th><th>733</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'PayPal Standard';</ins></td>
                  </tr><tr>
                          <th> </th><th>734</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'paypal_buy_now_checkout':</ins></td>
                  </tr><tr>
                          <th> </th><th>735</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'PayPal Buy Now (PPCP)';</ins></td>
                  </tr><tr>
                          <th> </th><th>736</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'paypal_subscription_checkout':</ins></td>
                  </tr><tr>
                          <th> </th><th>737</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'PayPal Subscription (PPCP)';</ins></td>
                  </tr><tr>
                          <th> </th><th>738</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'braintree':</ins></td>
                  </tr><tr>
                          <th> </th><th>739</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 'Braintree';&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</ins></td>
                  </tr><tr>
                          <th> </th><th>740</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default:</ins></td>
                  </tr><tr>
                          <th> </th><th>741</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $gateway;</ins></td>
                  </tr><tr>
                          <th> </th><th>742</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>743</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>723</th><th>744</th><td class="l"><span>}</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file12">
          <a href="/changeset/3076221/simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php">simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2991476">
                    <a title="Show revision 2991476 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php?rev=2991476#L21">
                      r2991476</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php?rev=3076221#L21">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>21</th><th>21</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>22</th><th>22</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! empty( $cancel_sub_action ) ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>23</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;do_cancel_sub();</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>23</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! SwpmMemberUtils::is_member_logged_in() ) {</span></td>
                      </tr><tr>
                        <th> </th><th>24</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //member not logged in</span></td>
                      </tr><tr>
                        <th> </th><th>25</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SWPM_Utils_Subscriptions::cancel_msg( __( 'You are not logged in.', 'simple-membership' ) );</span></td>
                      </tr><tr>
                        <th> </th><th>26</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>27</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $member_id = SwpmMemberUtils::get_logged_in_members_id();</span></td>
                      </tr><tr class="last">
                        <th> </th><th>28</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (new SWPM_Utils_Subscriptions( $member_id ))-&gt;load()-&gt;handle_cancel_sub();</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>24</th><th>29</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>25</th><th> </th><td class="l"><del></del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>26</th><th>30</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>27</th><th>31</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php?rev=2991476#L111">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/class.swpm-wp-loaded-tasks.php?rev=3076221#L115">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>111</th><th>115</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>112</th><th>116</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>113</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>114</th><th> </th><td class="l"><span>&nbsp; &nbsp; private function do_cancel_sub() {</span></td>
                      </tr><tr>
                        <th>115</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>116</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function msg( $msg, $is_error = true ) {</span></td>
                      </tr><tr>
                        <th>117</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo $msg;</span></td>
                      </tr><tr>
                        <th>118</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;br&gt;&lt;br&gt;';</span></td>
                      </tr><tr>
                        <th>119</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo SwpmUtils::_( 'You will be redirected to the previous page in a few seconds. If not, please &lt;a href=""&gt;click here&lt;/a&gt;.' );</span></td>
                      </tr><tr>
                        <th>120</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;script&gt;function toPrevPage(){window.location = window.location.href;}setTimeout(toPrevPage,5000);&lt;/script&gt;';</span></td>
                      </tr><tr>
                        <th>121</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! $is_error ) {</span></td>
                      </tr><tr>
                        <th>122</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_die( '', SwpmUtils::_( 'Success!' ), array( 'response' =&gt; 200 ) );</span></td>
                      </tr><tr>
                        <th>123</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>124</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_die();</span></td>
                      </tr><tr>
                        <th>125</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>126</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>127</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $token = isset( $_POST['swpm_cancel_sub_token'] ) ? sanitize_text_field( stripslashes ( $_POST['swpm_cancel_sub_token'] ) ) : '';</span></td>
                      </tr><tr>
                        <th>128</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $token ) ) {</span></td>
                      </tr><tr>
                        <th>129</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //no token</span></td>
                      </tr><tr>
                        <th>130</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msg( SwpmUtils::_( 'No token provided.' ) );</span></td>
                      </tr><tr>
                        <th>131</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>132</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>133</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //check nonce</span></td>
                      </tr><tr>
                        <th>134</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $nonce = isset( $_POST['swpm_cancel_sub_nonce'] ) ? sanitize_text_field( stripslashes ( $_POST['swpm_cancel_sub_nonce'] ) ) : '';</span></td>
                      </tr><tr>
                        <th>135</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $nonce ) || ! wp_verify_nonce( $nonce, $token ) ) {</span></td>
                      </tr><tr>
                        <th>136</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //nonce check failed</span></td>
                      </tr><tr>
                        <th>137</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msg( SwpmUtils::_( 'Nonce check failed.' ) );</span></td>
                      </tr><tr>
                        <th>138</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>139</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>140</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! SwpmMemberUtils::is_member_logged_in() ) {</span></td>
                      </tr><tr>
                        <th>141</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //member not logged in</span></td>
                      </tr><tr>
                        <th>142</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msg( SwpmUtils::_( 'You are not logged in.' ) );</span></td>
                      </tr><tr>
                        <th>143</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>144</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $member_id = SwpmMemberUtils::get_logged_in_members_id();</span></td>
                      </tr><tr>
                        <th>146</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>147</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $subs = new SWPM_Member_Subscriptions( $member_id );</span></td>
                      </tr><tr>
                        <th>148</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>149</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $sub = $subs-&gt;find_by_token( $token );</span></td>
                      </tr><tr>
                        <th>150</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>151</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $sub ) ) {</span></td>
                      </tr><tr>
                        <th>152</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //no subscription found</span></td>
                      </tr><tr>
                        <th>153</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;</span></td>
                      </tr><tr>
                        <th>154</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>155</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $res = $subs-&gt;cancel( $sub['sub_id'] );</span></td>
                      </tr><tr>
                        <th>157</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>158</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( $res !== true ) {</span></td>
                      </tr><tr>
                        <th>159</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msg( $res );</span></td>
                      </tr><tr>
                        <th>160</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>161</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>162</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data = array();</span></td>
                      </tr><tr>
                        <th>163</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['member_id'] = $member_id;</span></td>
                      </tr><tr>
                        <th>164</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; do_action( 'swpm_subscription_payment_cancelled', $ipn_data ); // Hook for subscription payment cancelled.</span></td>
                      </tr><tr>
                        <th>165</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>166</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; msg( SwpmUtils::_( 'Subscription has been cancelled.' ), false );</span></td>
                      </tr><tr>
                        <th>167</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>168</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>169</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>117</th><td class="r"><span>&nbsp; &nbsp; </span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>170</th><th>118</th><td class="l"><span>}</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file13">
          <a href="/changeset/3076221/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php">simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3010737">
                    <a title="Show revision 3010737 of this file in browser" href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L15">
                      r3010737</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L15">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>15</th><th>15</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>16</th><th>16</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_shortcode( 'swpm_stripe_subscription_cancel_link', array( $this, 'swpm_stripe_cancel_subs_link_sc' ) );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>17</th><td class="r"><ins></ins></td>
                  </tr><tr class="last">
                          <th> </th><th>18</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; add_shortcode( 'swpm_show_subscriptions_and_cancel_link', array( $this, 'swpm_show_subscriptions_and_cancel_link' ) );</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>17</th><th>19</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>18</th><th>20</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //TODO - WIP (Later, this will be moved to the shortcode implementation section like the other ones)</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L46">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L48">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>46</th><th>48</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $button_type ) ) {</span></td>
                  </tr><tr>
                          <th>47</th><th>49</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg&nbsp; = '&lt;p class="swpm-red-box"&gt;';</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>48</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg .= 'Error! The button ID (' . <del>$button_id</del> . ') you specified in the shortcode does not exist. You may have deleted this payment button. ';</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>50</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg .= 'Error! The button ID (' . <ins>esc_attr($button_id)</ins> . ') you specified in the shortcode does not exist. You may have deleted this payment button. ';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>49</th><th>51</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg .= 'Go to the Manage Payment Buttons interface then copy and paste the correct button ID in the shortcode.';</span></td>
                  </tr><tr>
                          <th>50</th><th>52</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg .= '&lt;/p&gt;';</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L77">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L79">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>77</th><th>79</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $username = SwpmMemberUtils::get_logged_in_members_username();</span></td>
                  </tr><tr>
                          <th>78</th><th>80</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;div class="swpm-ty-page-registration-logged-in swpm-yellow-box"&gt;';</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>79</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;p&gt;' . <del>SwpmUtils::_( 'Your membership profile will be updated to reflect the payment.</del>' ) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th>80</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= <del>SwpmUtils::_( 'Your profile username: ' ) . $username</del>;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>81</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;p&gt;' . <ins>__( 'Your membership profile will be updated to reflect the payment.', 'simple-membership</ins>' ) . '&lt;/p&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>82</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= <ins>__( 'Your profile username: ', 'simple-membership' ) . esc_attr($username)</ins>;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>81</th><th>83</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;/div&gt;';</span></td>
                  </tr><tr>
                          <th>82</th><th>84</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output = apply_filters( 'swpm_ty_page_registration_msg_to_logged_in_member', $output );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L97">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L99">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>97</th><th>99</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></td>
                  </tr><tr>
                          <th>98</th><th>100</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;div class="swpm-ty-page-registration-link swpm-yellow-box"&gt;';</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>99</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;' . <del>SwpmUtils::_( 'Click on the following link to complete the registration.</del>' ) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th>100</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;&lt;a href="' . <del>$rego_complete_url . '"&gt;' . SwpmUtils::_( 'Click here to complete your paid registration</del>' ) . '&lt;/a&gt;&lt;/p&gt;';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>101</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;' . <ins>__( 'Click on the following link to complete the registration.', 'simple-membership</ins>' ) . '&lt;/p&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>102</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;&lt;a href="' . <ins>esc_url($rego_complete_url) . '"&gt;' . __( 'Click here to complete your paid registration', 'simple-membership</ins>' ) . '&lt;/a&gt;&lt;/p&gt;';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>101</th><th>103</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/div&gt;';</span></td>
                  </tr><tr>
                          <th>102</th><th>104</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Allow addons to modify the output</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L105">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L107">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>105</th><th>107</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Nothing found. Check again later.</span></td>
                  </tr><tr>
                          <th>106</th><th>108</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;div class="swpm-ty-page-registration-link swpm-yellow-box"&gt;';</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>107</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <del>SwpmUtils::_( 'If you have just made a membership payment then your payment is yet to be processed. Please check back in a few minutes. An email will be sent to you with the details shortly.</del>' );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>109</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <ins>__( 'If you have just made a membership payment then your payment is yet to be processed. Please check back in a few minutes. An email will be sent to you with the details shortly.', 'simple-membership</ins>' );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>108</th><th>110</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/div&gt;';</span></td>
                  </tr><tr>
                          <th>109</th><th>111</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Allow addons to modify the output</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L122">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L124">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>122</th><th>124</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $auth&nbsp; &nbsp; &nbsp; &nbsp; = SwpmAuth::get_instance();</span></td>
                  </tr><tr>
                          <th>123</th><th>125</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $expiry_date = $auth-&gt;get_expire_date();</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>124</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; &nbsp; &nbsp;.= <del>SwpmUtils::_( 'Expiry: ' ) . $expiry_date</del>;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>126</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; &nbsp; &nbsp;.= <ins>__( 'Expiry: ', 'simple-membership' ) . esc_attr($expiry_date)</ins>;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>125</th><th>127</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>126</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <del>SwpmUtils::_( 'You are not logged-in as a member</del>' );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>128</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <ins>__( 'You are not logged-in as a member', 'simple-membership</ins>' );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>127</th><th>129</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>128</th><th>130</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/div&gt;';</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L146">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L148">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>146</th><th>148</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //User is logged in</span></td>
                  </tr><tr>
                          <th>147</th><th>149</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $username = $auth-&gt;get( 'user_name' );</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>148</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_label"&gt;' . <del>SwpmUtils::_( 'Logged in as: ' </del>) . '&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th>149</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_username"&gt;' . <del>$username</del> . '&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th>150</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_profile"&gt; | &lt;a href="' . <del>$profile_page_url . '"&gt;' . SwpmUtils::_( 'Profile' </del>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th>151</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_logout"&gt; | &lt;a href="' . <del>$logout_url . '"&gt;' . SwpmUtils::_( 'Logout' </del>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>150</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_label"&gt;' . <ins>__( 'Logged in as: ', 'simple-membership'</ins>) . '&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>151</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_username"&gt;' . <ins>esc_attr($username)</ins> . '&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>152</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_profile"&gt; | &lt;a href="' . <ins>esc_url($profile_page_url) . '"&gt;' . __( 'Profile', 'simple-membership'</ins>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>153</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output&nbsp; .= '&lt;span class="swpm_mini_login_logout"&gt; | &lt;a href="' . <ins>esc_url($logout_url) . '"&gt;' . __( 'Logout', 'simple-membership'</ins>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>152</th><th>154</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr><tr>
                          <th>153</th><th>155</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //User not logged in.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>154</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;span class="swpm_mini_login_login_here"&gt;&lt;a href="' . <del>$filtered_login_url . '"&gt;' . SwpmUtils::_( 'Login Here' </del>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th>155</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;span class="swpm_mini_login_no_membership"&gt; | ' . <del>SwpmUtils::_( 'Not a member? ' </del>) . '&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;span class="swpm_mini_login_join_now"&gt;&lt;a href="' . <del>$join_page_url . '"&gt;' . SwpmUtils::_( 'Join Now' </del>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>156</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;span class="swpm_mini_login_login_here"&gt;&lt;a href="' . <ins>esc_url($filtered_login_url) . '"&gt;' . __( 'Login Here', 'simple-membership'</ins>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>157</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;span class="swpm_mini_login_no_membership"&gt; | ' . <ins>__( 'Not a member? ', 'simple-membership'</ins>) . '&lt;/span&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>158</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;span class="swpm_mini_login_join_now"&gt;&lt;a href="' . <ins>esc_url($join_page_url) . '"&gt;' . __( 'Join Now', 'simple-membership'</ins>) . '&lt;/a&gt;&lt;/span&gt;';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>157</th><th>159</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>158</th><th>160</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L165">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L167">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>165</th><th>167</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>166</th><th>168</th><td class="l"><span>&nbsp; &nbsp; public function swpm_stripe_cancel_subs_link_sc( $args ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>167</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>//Shortcode parameters: ['anchor_text']</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>169</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>//Shortcode parameters: ['anchor_text']</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>168</th><th>170</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>169</th><th>171</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! SwpmMemberUtils::is_member_logged_in() ) {</span></td>
                  </tr><tr>
                          <th>170</th><th>172</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //member not logged in</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>171</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SwpmUtils::_( 'You are not logged-in as a member' );</span></td>
                      </tr><tr>
                        <th>172</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>173</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = '&lt;div class="swpm-stripe-cancel-error-msg"&gt;' . __( 'You are not logged-in as a member', 'simple-membership' ) . '&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>174</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $error_msg;</span></td>
                      </tr><tr>
                        <th> </th><th>175</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>176</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>177</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Get the member ID</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>173</th><th>178</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $member_id = SwpmMemberUtils::get_logged_in_members_id();</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>174</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>175</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $subs = new SWPM_Member_Subscriptions( $member_id );</span></td>
                      </tr><tr>
                        <th>176</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>179</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $subs = (new SWPM_Utils_Subscriptions( $member_id ))-&gt;load_stripe_subscriptions();</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>177</th><th>180</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $subs-&gt;get_active_subs_count() ) ) {</span></td>
                  </tr><tr>
                          <th>178</th><th>181</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //no active subscriptions found</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>179</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SwpmUtils::_( 'No active subscriptions' );</span></td>
                      </tr><tr>
                        <th>180</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>181</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>182</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output = $subs-&gt;get_stripe_subs_cancel_url($args, false);</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>182</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = '&lt;div class="swpm-stripe-cancel-error-msg"&gt;' . __( 'No active subscriptions', 'simple-membership' ) . '&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>183</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $error_msg;</span></td>
                      </tr><tr>
                        <th> </th><th>184</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>185</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>186</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output = $subs-&gt;get_stripe_subs_cancel_url($args, false);</span></td>
                      </tr><tr>
                        <th> </th><th>187</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>188</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output = '&lt;div class="swpm-stripe-subscription-cancel-link"&gt;' . $output . '&lt;/div&gt;';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>183</th><th>189</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>184</th><th>190</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $output;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L186">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L192">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>186</th><th>192</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>187</th><th>193</th><td class="l"><span>&nbsp; &nbsp; public function swpm_pp_cancel_subs_link_sc( $args ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>188</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>//Shortcode parameters: ['anchor_text'], ['merchant_id']</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>194</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>//Shortcode parameters: ['anchor_text'], ['merchant_id']</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>189</th><th>195</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>190</th><th>196</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; extract(</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L193">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L199">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>193</th><th>199</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'merchant_id' =&gt; '',</span></td>
                  </tr><tr>
                          <th>194</th><th>200</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'anchor_text' =&gt; '',</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>195</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>'new_window' =&gt; '',</span></td>
                      </tr><tr>
                        <th>196</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>'css_class' =&gt; '',</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>201</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>'new_window' =&gt; '',</span></td>
                      </tr><tr class="last">
                        <th> </th><th>202</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>'css_class' =&gt; '',</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>197</th><th>203</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),</span></td>
                  </tr><tr>
                          <th>198</th><th>204</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $args</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L215">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L221">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>215</th><th>221</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //The user is logged-in</span></td>
                  </tr><tr>
                          <th>216</th><th>222</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>217</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>//Set the default window target (if it is set via the shortcode).</span></td>
                      </tr><tr>
                        <th>218</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>if ( empty( $new_window ) ) {</span></td>
                      </tr><tr>
                        <th>219</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>$window_target = '';</span></td>
                      </tr><tr>
                        <th>220</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>} else {</span></td>
                      </tr><tr>
                        <th>221</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>$window_target = ' target="_blank"';</span></td>
                      </tr><tr>
                        <th>222</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>}</span></td>
                      </tr><tr>
                        <th>223</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>224</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>//Set the CSS class (if it is set via the shortcode).</span></td>
                      </tr><tr>
                        <th>225</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>if ( empty( $css_class ) ) {</span></td>
                      </tr><tr>
                        <th>226</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>$link_css_class = '';</span></td>
                      </tr><tr>
                        <th>227</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>} else {</span></td>
                      </tr><tr>
                        <th>228</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>$link_css_class = ' class="' . $css_class . '"';</span></td>
                      </tr><tr>
                        <th>229</th><th> </th><td class="l"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>}</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>223</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>//Set the default window target (if it is set via the shortcode).</span></td>
                      </tr><tr>
                        <th> </th><th>224</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>if ( empty( $new_window ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>225</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>$window_target = '';</span></td>
                      </tr><tr>
                        <th> </th><th>226</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>} else {</span></td>
                      </tr><tr>
                        <th> </th><th>227</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>$window_target = ' target="_blank"';</span></td>
                      </tr><tr>
                        <th> </th><th>228</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>}</span></td>
                      </tr><tr>
                        <th> </th><th>229</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>230</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>//Set the CSS class (if it is set via the shortcode).</span></td>
                      </tr><tr>
                        <th> </th><th>231</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>if ( empty( $css_class ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>232</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>$link_css_class = '';</span></td>
                      </tr><tr>
                        <th> </th><th>233</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>} else {</span></td>
                      </tr><tr>
                        <th> </th><th>234</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>$link_css_class = ' class="' . $css_class . '"';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>235</th><td class="r"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>}</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>230</th><th>236</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>231</th><th>237</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Set the default anchor text (if one is provided via the shortcode).</span></td>
                  </tr><tr>
                          <th>232</th><th>238</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $anchor_text ) ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>233</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $anchor_text = <del>SwpmUtils::_( 'Unsubscribe from PayPal</del>' );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>239</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $anchor_text = <ins>__( 'Unsubscribe from PayPal', 'simple-membership</ins>' );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>234</th><th>240</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>235</th><th>241</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L238">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L244">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>238</th><th>244</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $sandbox_enabled ) {</span></td>
                  </tr><tr>
                          <th>239</th><th>245</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Sandbox mode</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>240</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;a href="https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . <del>$merchant_id . '" _fcksavedurl="https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . $merchant_id</del> . '" '. $window_target . esc_attr($link_css_class) .'&gt;';</span></td>
                      </tr><tr>
                        <th>241</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <del>$anchor_text</del>;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>246</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;a href="https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . <ins>esc_attr($merchant_id) . '" _fcksavedurl="https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . esc_attr($merchant_id)</ins> . '" '. $window_target . esc_attr($link_css_class) .'&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>247</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <ins>esc_attr($anchor_text)</ins>;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>242</th><th>248</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/a&gt;';</span></td>
                  </tr><tr>
                          <th>243</th><th>249</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr><tr>
                          <th>244</th><th>250</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Live mode</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>245</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;a href="https://www.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . <del>$merchant_id . '" _fcksavedurl="https://www.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . $merchant_id</del> . '" '.$window_target . esc_attr($link_css_class) .'&gt;';</span></td>
                      </tr><tr>
                        <th>246</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <del>$anchor_text</del>;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>251</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;a href="https://www.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . <ins>esc_attr($merchant_id) . '" _fcksavedurl="https://www.paypal.com/cgi-bin/webscr?cmd=_subscr-find&amp;alias=' . esc_attr($merchant_id)</ins> . '" '.$window_target . esc_attr($link_css_class) .'&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>252</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= <ins>esc_attr($anchor_text)</ins>;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>247</th><th>253</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/a&gt;';</span></td>
                  </tr><tr>
                          <th>248</th><th>254</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3010737#L251">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/classes/shortcode-related/class.swpm-shortcodes-handler.php?rev=3076221#L257">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>251</th><th>257</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr><tr>
                          <th>252</th><th>258</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //The user is NOT logged-in</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>253</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;' . SwpmUtils::_( 'You are not logged-in as a member' ) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th>254</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>259</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;' . __( 'You are not logged-in as a member.', 'simple-membership' ) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>260</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>261</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $output;</span></td>
                      </tr><tr>
                        <th> </th><th>262</th><td class="r"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>263</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>264</th><td class="r"><span>&nbsp; &nbsp; public function swpm_show_subscriptions_and_cancel_link($atts){</span></td>
                      </tr><tr>
                        <th> </th><th>265</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output = '';</span></td>
                      </tr><tr>
                        <th> </th><th>266</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>267</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $atts = shortcode_atts(array(</span></td>
                      </tr><tr>
                        <th> </th><th>268</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'show_all_status' =&gt; ''</span></td>
                      </tr><tr>
                        <th> </th><th>269</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; ), $atts);</span></td>
                      </tr><tr>
                        <th> </th><th>270</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>271</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! SwpmMemberUtils::is_member_logged_in() ) {</span></td>
                      </tr><tr>
                        <th> </th><th>272</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //member not logged in</span></td>
                      </tr><tr>
                        <th> </th><th>273</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return '&lt;p&gt;'.__( 'You are not logged-in as a member.', 'simple-membership' ).'&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>274</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>275</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>276</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Get the member ID and load subscriptions utils class.</span></td>
                      </tr><tr>
                        <th> </th><th>277</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $member_username = SwpmMemberUtils::get_logged_in_members_username();</span></td>
                      </tr><tr>
                        <th> </th><th>278</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $member_id = SwpmMemberUtils::get_logged_in_members_id();</span></td>
                      </tr><tr>
                        <th> </th><th>279</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $subscriptions = new SWPM_Utils_Subscriptions( $member_id );</span></td>
                      </tr><tr>
                        <th> </th><th>280</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $subscriptions = $subscriptions-&gt;load_subs_data();</span></td>
                      </tr><tr>
                        <th> </th><th>281</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>282</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span></td>
                      </tr><tr>
                        <th> </th><th>283</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Display any API key error messages (if subscription exists but api keys are not saved). </span></td>
                      </tr><tr>
                        <th> </th><th>284</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* The error message is only shown when the subscription of the corresponding payment gateway is present.</span></td>
                      </tr><tr>
                        <th> </th><th>285</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* For example: If there are no stripe sca subscriptions, stripe api error wont be shown.</span></td>
                      </tr><tr>
                        <th> </th><th>286</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; */</span></td>
                      </tr><tr>
                        <th> </th><th>287</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $any_stripe_api_key_error_msg = $subscriptions-&gt;get_any_stripe_sca_api_key_error();</span></td>
                      </tr><tr>
                        <th> </th><th>288</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( !empty( $any_stripe_api_key_error_msg ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>289</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p class="swpm-active-subs-api-key-error-msg"&gt;'. esc_attr($any_stripe_api_key_error_msg) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>290</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>291</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $any_paypal_api_key_error_msg = $subscriptions-&gt;get_any_paypal_ppcp_api_key_error();</span></td>
                      </tr><tr>
                        <th> </th><th>292</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( !empty( $any_paypal_api_key_error_msg ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>293</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p class="swpm-active-subs-api-key-error-msg"&gt;'. esc_attr($any_paypal_api_key_error_msg) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>294</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>295</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>296</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Check if we need to show all subscriptions or just the active ones</span></td>
                      </tr><tr>
                        <th> </th><th>297</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $show_all_subscriptions = !empty($atts['show_all_status']) ? true : false;</span></td>
                      </tr><tr>
                        <th> </th><th>298</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>299</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Get the list of subscriptions</span></td>
                      </tr><tr>
                        <th> </th><th>300</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($show_all_subscriptions) {</span></td>
                      </tr><tr>
                        <th> </th><th>301</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $subscriptions_list = $subscriptions-&gt;get_all_subscriptions();</span></td>
                      </tr><tr>
                        <th> </th><th>302</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }else{</span></td>
                      </tr><tr>
                        <th> </th><th>303</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $subscriptions_list = $subscriptions-&gt;get_active_subscriptions();</span></td>
                      </tr><tr>
                        <th> </th><th>304</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>305</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>306</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Display the list of subscriptions</span></td>
                      </tr><tr>
                        <th> </th><th>307</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;div class="swpm-active-subs-table-wrap"&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>308</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>309</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (count($subscriptions_list)) {</span></td>
                      </tr><tr>
                        <th> </th><th>310</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;table class="swpm-active-subs-table"&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>311</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>312</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Header section</span></td>
                      </tr><tr>
                        <th> </th><th>313</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;thead&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>314</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;tr&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>315</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;th&gt;'. __('Subscription', 'simple-membership').'&lt;/th&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>316</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;th&gt;'. __('Action', 'simple-membership') .'&lt;/th&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>317</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/tr&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>318</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/thead&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>319</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>320</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;tbody&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>321</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($subscriptions_list as $subscription) {</span></td>
                      </tr><tr>
                        <th> </th><th>322</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;tr&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>323</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;td&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>324</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;div class="swpm-sub-name"&gt;'. esc_attr($subscription['plan']).'&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>325</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( isset ( $subscription['is_attached_to_profile'] ) &amp;&amp; $subscription['is_attached_to_profile'] == 'yes'&nbsp; ){</span></td>
                      </tr><tr>
                        <th> </th><th>326</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //This subscription is attached to the profile currently. Show a message.</span></td>
                      </tr><tr>
                        <th> </th><th>327</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;div class="swpm-sub-attached-to-profile"&gt;'. __('Currently providing your membership access.', 'simple-membership').'&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>328</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>329</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/td&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>330</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>331</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;td&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>332</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= SWPM_Utils_Subscriptions::get_cancel_subscription_output($subscription);</span></td>
                      </tr><tr>
                        <th> </th><th>333</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/td&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>334</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/tr&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>335</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>336</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/tbody&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>337</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>338</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/table&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>339</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }else{</span></td>
                      </tr><tr>
                        <th> </th><th>340</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;p&gt;'.__( 'Active subscription not detected for the member account with the username: ', 'simple-membership' ). esc_attr($member_username) . '&lt;/p&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>341</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>342</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>343</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //This is used to refresh the page so this shortcode is reloaded after a new subscription is added. </span></td>
                      </tr><tr>
                        <th> </th><th>344</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //This is needed for the newly created subscription to show up in the list.</span></td>
                      </tr><tr>
                        <th> </th><th>345</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;script&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>346</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output .= 'document.addEventListener( "swpm_paypal_subscriptions_complete", function(){ window.location = window.location.href });';</span></td>
                      </tr><tr>
                        <th> </th><th>347</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/script&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>348</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>349</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $output .= '&lt;/div&gt;';</span></td>
                      </tr><tr class="last">
                        <th> </th><th>350</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>255</th><th>351</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $output;</span></td>
                  </tr><tr>
                          <th>256</th><th>352</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file14">
          <a href="/changeset/3076221/simple-membership/trunk/css/swpm.common.css" title="Show the changeset 3076221 restricted to simple-membership/trunk/css/swpm.common.css">simple-membership/trunk/css/swpm.common.css</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3010737">
                    <a title="Show revision 3010737 of this file in browser" href="/browser/simple-membership/trunk/css/swpm.common.css?rev=3010737#L267">
                      r3010737</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/css/swpm.common.css?rev=3076221#L267">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>267</th><th>267</th><td class="l"><span>&nbsp; &nbsp; background-color: #b6dee4;</span></td>
                  </tr><tr>
                          <th>268</th><th>268</th><td class="l"><span>}</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>269</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>270</th><td class="r"><ins>.swpm-active-subs-table{</ins></td>
                  </tr><tr>
                          <th> </th><th>271</th><td class="r"><ins>&nbsp; &nbsp; width: 100%;</ins></td>
                  </tr><tr>
                          <th> </th><th>272</th><td class="r"><ins>}</ins></td>
                  </tr><tr>
                          <th> </th><th>273</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>274</th><td class="r"><ins>.swpm-active-subs-table td, .swpm-active-subs-table th{</ins></td>
                  </tr><tr>
                          <th> </th><th>275</th><td class="r"><ins>&nbsp; &nbsp; text-align: left;</ins></td>
                  </tr><tr>
                          <th> </th><th>276</th><td class="r"><ins>&nbsp; &nbsp; padding: 6px 10px;</ins></td>
                  </tr><tr>
                          <th> </th><th>277</th><td class="r"><ins>}</ins></td>
                  </tr><tr>
                          <th> </th><th>278</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>279</th><td class="r"><ins>.swpm-sub-attached-to-profile{</ins></td>
                  </tr><tr>
                          <th> </th><th>280</th><td class="r"><ins>&nbsp; &nbsp; font-style: italic;</ins></td>
                  </tr><tr>
                          <th> </th><th>281</th><td class="r"><ins>&nbsp; &nbsp; opacity: 0.7;</ins></td>
                  </tr><tr>
                          <th> </th><th>282</th><td class="r"><ins>}</ins></td>
                  </tr><tr>
                          <th> </th><th>283</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>284</th><td class="r"><ins>.swpm-cancel-subscription-button{</ins></td>
                  </tr><tr>
                          <th> </th><th>285</th><td class="r"><ins>&nbsp; &nbsp; padding: 8px 15px;</ins></td>
                  </tr><tr>
                          <th> </th><th>286</th><td class="r"><ins>&nbsp; &nbsp; text-align: center;</ins></td>
                  </tr><tr>
                          <th> </th><th>287</th><td class="r"><ins>&nbsp; &nbsp; border-radius: 4px;</ins></td>
                  </tr><tr>
                          <th> </th><th>288</th><td class="r"><ins>&nbsp; &nbsp; border: none; </ins></td>
                  </tr><tr>
                          <th> </th><th>289</th><td class="r"><ins>&nbsp; &nbsp; outline: none; </ins></td>
                  </tr><tr>
                          <th> </th><th>290</th><td class="r"><ins>&nbsp; &nbsp; margin: auto;</ins></td>
                  </tr><tr>
                          <th> </th><th>291</th><td class="r"><ins>}</ins></td>
                  </tr><tr>
                          <th> </th><th>292</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>293</th><td class="r"><ins>.swpm-cancel-subscription-button-active{</ins></td>
                  </tr><tr>
                          <th> </th><th>294</th><td class="r"><ins>&nbsp; &nbsp; background-color: #ff6a6a;</ins></td>
                  </tr><tr>
                          <th> </th><th>295</th><td class="r"><ins>&nbsp; &nbsp; cursor: pointer;</ins></td>
                  </tr><tr>
                          <th> </th><th>296</th><td class="r"><ins>&nbsp; &nbsp; color: white;</ins></td>
                  </tr><tr>
                          <th> </th><th>297</th><td class="r"><ins>}</ins></td>
                  </tr><tr>
                          <th> </th><th>298</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>299</th><td class="r"><ins>.swpm-cancel-subscription-button-active:hover{</ins></td>
                  </tr><tr>
                          <th> </th><th>300</th><td class="r"><ins>&nbsp; &nbsp; background-color: #d95e5e;</ins></td>
                  </tr><tr>
                          <th> </th><th>301</th><td class="r"><ins>&nbsp; &nbsp; transition: 200ms;</ins></td>
                  </tr><tr>
                          <th> </th><th>302</th><td class="r"><ins>}</ins></td>
                  </tr><tr>
                          <th> </th><th>303</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>304</th><td class="r"><ins>.swpm-active-subs-api-key-error-msg{</ins></td>
                  </tr><tr>
                          <th> </th><th>305</th><td class="r"><ins>&nbsp; &nbsp; color: #cc0000;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>306</th><td class="r"><ins>}</ins></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file15">
          <a href="/changeset/3076221/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php">simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2991476">
                    <a title="Show revision 2991476 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=2991476#L35">
                      r2991476</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=3076221#L35">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>35</th><th>35</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>36</th><th>36</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>37</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $settings&nbsp; &nbsp; &nbsp; &nbsp; = SwpmSettings::get_instance();</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>37</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $discount_amount = 0;</span></td>
                      </tr><tr>
                        <th> </th><th>38</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>39</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $settings = SwpmSettings::get_instance();</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>38</th><th>40</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $sandbox_enabled = $settings-&gt;get_value( 'enable-sandbox-testing' );</span></td>
                  </tr><tr>
                          <th>39</th><th>41</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=2991476#L76">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=3076221#L78">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>76</th><th>78</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>77</th><th>79</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $pi = \Stripe\PaymentIntent::retrieve( $pi_id );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>80</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>81</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Check if any coupon/promo code was applied</ins></td>
                  </tr><tr>
                          <th> </th><th>82</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($sess instanceof \Stripe\Checkout\Session &amp;&amp; isset($sess-&gt;allow_promotion_codes) &amp;&amp; $sess-&gt;allow_promotion_codes == '1') {</ins></td>
                  </tr><tr>
                          <th> </th><th>83</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isset($sess-&gt;total_details) &amp;&amp; isset($sess-&gt;total_details-&gt;amount_discount)) {</ins></td>
                  </tr><tr>
                          <th> </th><th>84</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $discount_amount_in_cents = floatval($sess-&gt;total_details-&gt;amount_discount);</ins></td>
                  </tr><tr>
                          <th> </th><th>85</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug( 'Discount amount (in cents) applied to this Stripe checkout session is: ' . $discount_amount_in_cents . ' (amount in cents).', true );</ins></td>
                  </tr><tr>
                          <th> </th><th>86</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>87</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>88</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>78</th><th>89</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; } catch ( Exception $e ) {</span></td>
                  </tr><tr>
                          <th>79</th><th>90</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = 'Error occurred: ' . $e-&gt;getMessage();</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=2991476#L142">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=3076221#L153">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>142</th><th>153</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $currency_code&nbsp; = strtoupper( $pi-&gt;currency );</span></td>
                  </tr><tr>
                          <th>143</th><th>154</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>144</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $zero_cents = unserialize( SIMPLE_WP_MEMBERSHIP_STRIPE_ZERO_CENTS );</span></td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( in_array( $currency_code, $zero_cents, true ) ) {</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>155</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Check and convert the amounts to dollars or equivalent (if needed).</span></td>
                      </tr><tr>
                        <th> </th><th>156</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $zero_cents_currency = unserialize( SIMPLE_WP_MEMBERSHIP_STRIPE_ZERO_CENTS );</span></td>
                      </tr><tr>
                        <th> </th><th>157</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( in_array( $currency_code, $zero_cents_currency, true ) ) {</span></td>
                      </tr><tr class="last">
                        <th> </th><th>158</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // No decimal (zero cents) currency. Use the amount as is.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>146</th><th>159</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $payment_amount = $price_in_cents;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>160</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $discount_amount = $discount_amount_in_cents;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>147</th><th>161</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>148</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $payment_amount = $price_in_cents / 100;// The amount (in cents). This value is used in Stripe API.</span></td>
                      </tr><tr>
                        <th>149</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>150</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>162</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Currency has decimal. Convert the amount to dollars or equivalent.</span></td>
                      </tr><tr>
                        <th> </th><th>163</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $payment_amount = $price_in_cents / 100;</span></td>
                      </tr><tr>
                        <th> </th><th>164</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $discount_amount = $discount_amount_in_cents / 100;</span></td>
                      </tr><tr>
                        <th> </th><th>165</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>166</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>167</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Round to 2 decimal places. Round should be used when math operations are involved. We will compare the payment amount with the expected amount.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>151</th><th>168</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $payment_amount = floatval( $payment_amount );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>169</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $payment_amount = round( $payment_amount, 2 );</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>152</th><th>170</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>153</th><th>171</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $membership_level_id = get_post_meta( $button_id, 'membership_level_id', true );</span></td>
                  </tr><tr>
                          <th>154</th><th>172</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>155</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Validate and verify some of the main values.</span></td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $true_payment_amount = get_post_meta( $button_id, 'payment_amount', true );</span></td>
                      </tr><tr>
                        <th>157</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $true_payment_amount = apply_filters( 'swpm_payment_amount_filter', $true_payment_amount, $button_id );</span></td>
                      </tr><tr>
                        <th>158</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $true_payment_amount = floatval( $true_payment_amount );</span></td>
                      </tr><tr>
                        <th>159</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>160</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( $payment_amount !== $true_payment_amount ) {</span></td>
                      </tr><tr>
                        <th>161</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Fatal error. Payment amount may have been tampered with.</span></td>
                      </tr><tr>
                        <th>162</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = 'Fatal Error! Received payment amount (' . $payment_amount . ') does not match with the original amount (' . $true_payment_amount . ')';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>173</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // === Validate and verify some of the main values ===</span></td>
                      </tr><tr>
                        <th> </th><th>174</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $expected_amount = get_post_meta( $button_id, 'payment_amount', true );</span></td>
                      </tr><tr>
                        <th> </th><th>175</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>176</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Check if this button has Stripe promo code enabled</span></td>
                      </tr><tr>
                        <th> </th><th>177</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $allow_promotion_codes = get_post_meta( $button_id, 'allow_promotion_codes', true );</span></td>
                      </tr><tr>
                        <th> </th><th>178</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( !empty($allow_promotion_codes) &amp;&amp; $allow_promotion_codes == '1' ) {</span></td>
                      </tr><tr>
                        <th> </th><th>179</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Promo code option is enabled for this button. Let's decuct any discount (if it was applied in the transation).</span></td>
                      </tr><tr>
                        <th> </th><th>180</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $expected_amount = $expected_amount - $discount_amount;</span></td>
                      </tr><tr>
                        <th> </th><th>181</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug( 'Promo code is enabled for this button. Setting expected payment amount to: ' . $expected_amount . '. Discount amount: ' . $discount_amount, true );</span></td>
                      </tr><tr>
                        <th> </th><th>182</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>183</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $expected_amount = apply_filters( 'swpm_payment_amount_filter', $expected_amount, $button_id );</span></td>
                      </tr><tr>
                        <th> </th><th>184</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>185</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Round to 2 decimal places. Round should be used when math operations are involved. We will use this amount for comparison.</span></td>
                      </tr><tr>
                        <th> </th><th>186</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $expected_amount = floatval( $expected_amount );//Convert to float (in case it is a string)</span></td>
                      </tr><tr>
                        <th> </th><th>187</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $expected_amount = round( $expected_amount, 2 );</span></td>
                      </tr><tr>
                        <th> </th><th>188</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug( 'Expected payment amount for this transaction: ' . $expected_amount, true );</span></td>
                      </tr><tr>
                        <th> </th><th>189</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>190</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Check if the payment amount matches the expected amount</span></td>
                      </tr><tr>
                        <th> </th><th>191</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Since floating-point numbers are not always stored exactly as they appear due to their binary representation, we will use a precision tolerance.</span></td>
                      </tr><tr>
                        <th> </th><th>192</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $precision = 0.01;//our precision tolerance.</span></td>
                      </tr><tr>
                        <th> </th><th>193</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (abs($expected_amount - $payment_amount) &gt;= $precision) {</span></td>
                      </tr><tr>
                        <th> </th><th>194</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //The difference is greater than the precision value.</span></td>
                      </tr><tr>
                        <th> </th><th>195</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Fatal error. Payment amount may have been tampered with.</span></td>
                      </tr><tr>
                        <th> </th><th>196</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Alternatively, we can also use ($payment_amount &lt; $expected_amount) expression. </span></td>
                      </tr><tr class="last">
                        <th> </th><th>197</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = 'Fatal Error! Received payment amount (' . $payment_amount . ') does not match with the expected amount (' . $expected_amount . ')';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>163</th><th>198</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug( $error_msg, false );</span></td>
                  </tr><tr>
                          <th>164</th><th>199</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_die( esc_html( $error_msg ) );</span></td>
                  </tr><tr>
                          <th>165</th><th>200</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>166</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $<del>true</del>_currency_code = get_post_meta( $button_id, 'payment_currency', true );</span></td>
                      </tr><tr>
                        <th>167</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( $currency_code !== $<del>true</del>_currency_code ) {</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>201</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $<ins>expected</ins>_currency_code = get_post_meta( $button_id, 'payment_currency', true );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>202</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( $currency_code !== $<ins>expected</ins>_currency_code ) {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>168</th><th>203</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Fatal error. Currency code may have been tampered with.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>169</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = 'Fatal Error! Received currency code (' . $currency_code . ') does not match with the <del>original code (' . $true</del>_currency_code . ')';</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>204</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $error_msg = 'Fatal Error! Received currency code (' . $currency_code . ') does not match with the <ins>expected currency code (' . $expected</ins>_currency_code . ')';</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>170</th><th>205</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwpmLog::log_simple_debug( $error_msg, false );</span></td>
                  </tr><tr>
                          <th>171</th><th>206</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_die( esc_html( $error_msg ) );</span></td>
                  </tr><tr>
                          <th>172</th><th>207</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>208</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; //=== End of validation and verification ===</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>173</th><th>209</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>174</th><th>210</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Everything went ahead smoothly with the charge.</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=2991476#L223">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-buy-now-ipn.php?rev=3076221#L259">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>223</th><th>259</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>224</th><th>260</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['payment_button_id'] = $button_id;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>225</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['is_live']&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= ! $sandbox_enabled;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>261</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['is_live'] = ! $sandbox_enabled;</span></td>
                      </tr><tr>
                        <th> </th><th>262</th><td class="r"><span></span></td>
                      </tr><tr class="last">
                        <th> </th><th>263</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['discount_amount'] = $discount_amount;//Discount amount applied to the payment.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>226</th><th>264</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>227</th><th>265</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Handle the membership signup related tasks.</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file16">
          <a href="/changeset/3076221/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php">simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3045036#L198">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3076221#L198">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>198</th><th>198</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $opts["automatic_tax"] = array( "enabled" =&gt; true );</span></td>
                  </tr><tr>
                          <th>199</th><th>199</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>200</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>201</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $allow_promotion_codes = get_post_meta( $button_id, 'allow_promotion_codes', true );</ins></td>
                  </tr><tr>
                          <th> </th><th>202</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( !empty($allow_promotion_codes) &amp;&amp; $allow_promotion_codes == '1' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>203</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $opts["allow_promotion_codes"] = true;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>204</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>200</th><th>205</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                  </tr><tr>
                          <th>201</th><th>206</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $opts = apply_filters( 'swpm_stripe_sca_session_opts', $opts, $button_id );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file17">
          <a href="/changeset/3076221/simple-membership/trunk/ipn/swpm_handle_pp_ipn.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/ipn/swpm_handle_pp_ipn.php">simple-membership/trunk/ipn/swpm_handle_pp_ipn.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2875084">
                    <a title="Show revision 2875084 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm_handle_pp_ipn.php?rev=2875084#L9">
                      r2875084</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm_handle_pp_ipn.php?rev=3076221#L9">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>9</th><th>9</th><td class="l"><span>&nbsp; &nbsp; public $fields&nbsp; &nbsp; &nbsp; &nbsp;= array();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// array holds the fields to submit to paypal</span></td>
                  </tr><tr>
                          <th>10</th><th>10</th><td class="l"><span>&nbsp; &nbsp; public $sandbox_mode = false;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>11</th><td class="r"><ins>&nbsp; &nbsp; public $paypal_url = '';</ins></td>
                  </tr><tr>
                          <th> </th><th>12</th><td class="r"><ins>&nbsp; &nbsp; public $post_string = '';</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>13</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>11</th><th>14</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>12</th><th>15</th><td class="l"><span>&nbsp; &nbsp; public function __construct() {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm_handle_pp_ipn.php?rev=2875084#L232">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/ipn/swpm_handle_pp_ipn.php?rev=3076221#L235">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>232</th><th>235</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;debug_log( 'Saving transaction data to the database table.', true );</span></td>
                  </tr><tr>
                          <th>233</th><th>236</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ipn_data['gateway'] = 'paypal';</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>237</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ipn_data['payment_button_id'] = $button_id;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>234</th><th>238</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ipn_data['status']&nbsp; = $this-&gt;ipn_data['payment_status'];</span></td>
                  </tr><tr>
                          <th>235</th><th>239</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file18">
          <a href="/changeset/3076221/simple-membership/trunk/ipn/swpm_handle_subsc_ipn.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/ipn/swpm_handle_subsc_ipn.php">simple-membership/trunk/ipn/swpm_handle_subsc_ipn.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2960602">
                    <a title="Show revision 2960602 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm_handle_subsc_ipn.php?rev=2960602#L333">
                      r2960602</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/ipn/swpm_handle_subsc_ipn.php?rev=3076221#L333">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>333</th><th>333</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>334</th><th>334</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>335</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; //Update the swpm_transactions CPT record to mark the subscription as "Cancelled".</ins></td>
                  </tr><tr>
                          <th> </th><th>336</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $swpm_txn_cpt_id = SwpmTransactions::get_original_swpm_txn_cpt_id_by_subscr_id( $subscr_id );</ins></td>
                  </tr><tr>
                          <th> </th><th>337</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! empty( $swpm_txn_cpt_id ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>338</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swpm_debug_log_subsc( 'Updating the the swpm_transaction CPT record (Post ID: '.$swpm_txn_cpt_id.') to mark the subscription as "cancelled".', true );</ins></td>
                  </tr><tr>
                          <th> </th><th>339</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $swpm_txn_cpt_id, 'subscr_status', 'cancelled' );</ins></td>
                  </tr><tr>
                          <th> </th><th>340</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>341</th><td class="r"><ins></ins></td>
                  </tr><tr class="last">
                          <th> </th><th>342</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; // Trigger hook for subscription payment cancelled.</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>335</th><th>343</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['member_id'] = $member_id;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>336</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; do_action( 'swpm_subscription_payment_cancelled', $ipn_data ); <del>// Hook for subscription payment cancelled.</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>344</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; do_action( 'swpm_subscription_payment_cancelled', $ipn_data ); <ins></ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>337</th><th>345</th><td class="l"><span>&nbsp; &nbsp; } else {</span></td>
                  </tr><tr>
                          <th>338</th><th>346</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; swpm_debug_log_subsc( 'No associated active member record found for this notification.', false );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file19">
          <a href="/changeset/3076221/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php">simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3045036#L153">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3076221#L153">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>153</th><th>153</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>154</th><th>154</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Get the data from the request</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>155</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $data = isset( $_POST['data'] ) ? <del>stripslashes_deep( $_POST['data']</del> ) : array();</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>155</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $data = isset( $_POST['data'] ) ? <ins>json_decode( stripslashes_deep( $_POST['data'] ), true</ins> ) : array();</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>156</th><th>156</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $data ) ) {</span></td>
                  </tr><tr>
                          <th>157</th><th>157</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_send_json(</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3045036#L179">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3076221#L179">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>179</th><th>179</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>180</th><th>180</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Get the transaction data from the request</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>181</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $txn_data = isset( $_POST['txn_data'] ) ? stripslashes_deep( $_POST['txn_data'] ) : array();</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>181</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $txn_data = isset( $_POST['txn_data'] ) ? json_decode( stripslashes_deep( $_POST['txn_data'] ), true ) : array();</span></td>
                      </tr><tr class="last">
                        <th> </th><th>182</th><td class="r"><span></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>182</th><th>183</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $txn_data ) ) {</span></td>
                  </tr><tr>
                          <th>183</th><th>184</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_send_json(</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3045036#L244">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3076221#L245">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>244</th><th>245</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn['txn_type'] = 'pp_subscription_new';&nbsp; &nbsp; &nbsp; &nbsp;</span></td>
                  </tr><tr>
                          <th>245</th><th>246</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn['custom'] = isset($data['custom_field']) ? $data['custom_field'] : '';</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>247</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>248</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; //This will save the button ID (in the save_txn_record function) in the swpm_transactions CPT (for a reference to the button used for the payment)</ins></td>
                  </tr><tr>
                          <th> </th><th>249</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $ipn['payment_button_id'] = isset($data['button_id']) ? $data['button_id'] : '';</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>250</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>246</th><th>251</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn['item_number'] = isset($data['button_id']) ? $data['button_id'] : '';</span></td>
                  </tr><tr>
                          <th>247</th><th>252</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn['item_name'] = isset($data['item_name']) ? $data['item_name'] : '';&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file20">
          <a href="/changeset/3076221/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php">simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3013562">
                    <a title="Show revision 3013562 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3013562#L108">
                      r3013562</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3076221#L108">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>108</th><th>108</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ?&gt;</span></td>
                  </tr><tr>
                          <th>109</th><th>109</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;script type="text/javascript"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>110</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var script = document.createElement( 'script' );</span></td>
                      </tr><tr>
                        <th>111</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.type = 'text/javascript';</span></td>
                      </tr><tr>
                        <th>112</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.setAttribute( 'data-partner-attribution-id', 'TipsandTricks_SP_PPCP' );</span></td>
                      </tr><tr>
                        <th>113</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.async = true;</span></td>
                      </tr><tr>
                        <th>114</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.src = '&lt;?php echo esc_url_raw( $script_url ); ?&gt;';</span></td>
                      </tr><tr>
                        <th>115</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.onload = function() {</span></td>
                      </tr><tr>
                        <th>116</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jQuery( function( $ ) { $( document ).trigger( 'swpm_paypal_sdk_loaded' ) } );</span></td>
                      </tr><tr>
                        <th>117</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></td>
                      </tr><tr>
                        <th>118</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementsByTagName( 'head' )[0].appendChild( script );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>110</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swpm_load_paypal_sdk_onDomReady(function(){</span></td>
                      </tr><tr>
                        <th> </th><th>111</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const script = document.createElement( 'script' );</span></td>
                      </tr><tr>
                        <th> </th><th>112</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.type = 'text/javascript';</span></td>
                      </tr><tr>
                        <th> </th><th>113</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.setAttribute( 'data-partner-attribution-id', 'TipsandTricks_SP_PPCP' );</span></td>
                      </tr><tr>
                        <th> </th><th>114</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.async = true;</span></td>
                      </tr><tr>
                        <th> </th><th>115</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.src = '&lt;?php echo esc_url_raw( $script_url ); ?&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>116</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script.onload = function() {</span></td>
                      </tr><tr>
                        <th> </th><th>117</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.dispatchEvent(new Event('swpm_paypal_sdk_loaded'));</span></td>
                      </tr><tr>
                        <th> </th><th>118</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></td>
                      </tr><tr>
                        <th> </th><th>119</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementsByTagName( 'head' )[0].appendChild( script );</span></td>
                      </tr><tr>
                        <th> </th><th>120</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })</span></td>
                      </tr><tr>
                        <th> </th><th>121</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>122</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; function swpm_load_paypal_sdk_onDomReady(callback) {</span></td>
                      </tr><tr>
                        <th> </th><th>123</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // If the document is already loaded, execute the callback immediately</span></td>
                      </tr><tr>
                        <th> </th><th>124</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (document.readyState !== 'loading') {</span></td>
                      </tr><tr>
                        <th> </th><th>125</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; callback();</span></td>
                      </tr><tr>
                        <th> </th><th>126</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                      </tr><tr>
                        <th> </th><th>127</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Otherwise, wait for the DOMContentLoaded event</span></td>
                      </tr><tr>
                        <th> </th><th>128</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.addEventListener('DOMContentLoaded', callback);</span></td>
                      </tr><tr>
                        <th> </th><th>129</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr class="last">
                        <th> </th><th>130</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>119</th><th>131</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/script&gt;</span></td>
                  </tr><tr>
                          <th>120</th><th>132</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;?php</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3013562#L125">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3076221#L137">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>125</th><th>137</th><td class="l"><span>&nbsp; &nbsp; &nbsp;* </span></td>
                  </tr><tr>
                          <th>126</th><th>138</th><td class="l"><span>&nbsp; &nbsp; &nbsp;* It will be called from the button's shortcode (using a hook) if at least one button is present on the page.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>127</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp;* The button's JS code needs to be executed after the SDK is loaded. Check for 'swpm_paypal_sdk_<del></del>loaded' event.</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>139</th><td class="r"><span>&nbsp; &nbsp; &nbsp;* The button's JS code needs to be executed after the SDK is loaded. Check for 'swpm_paypal_sdk_<ins>subscriptions_</ins>loaded' event.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>128</th><th>140</th><td class="l"><span>&nbsp; &nbsp; &nbsp;*/</span></td>
                  </tr><tr>
                          <th>129</th><th>141</th><td class="l"><span>&nbsp; &nbsp; public function load_paypal_sdk_for_subscriptions() {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3013562#L134">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-js-button-embed.php?rev=3076221#L146">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>134</th><th>146</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ?&gt;</span></td>
                  </tr><tr>
                          <th>135</th><th>147</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;script type="text/javascript"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>136</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var script_sub = document.createElement( 'script' );</span></td>
                      </tr><tr>
                        <th>137</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.type = 'text/javascript';</span></td>
                      </tr><tr>
                        <th>138</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.setAttribute( 'data-partner-attribution-id', 'TipsandTricks_SP_PPCP' );</span></td>
                      </tr><tr>
                        <th>139</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.setAttribute( 'data-namespace', 'swpm_paypal_subscriptions' );//Use a different namespace for the subscription buttons.</span></td>
                      </tr><tr>
                        <th>140</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.async = true;</span></td>
                      </tr><tr>
                        <th>141</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.src = '&lt;?php echo esc_url_raw( $script_url ); ?&gt;';</span></td>
                      </tr><tr>
                        <th>142</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.onload = function() {</span></td>
                      </tr><tr>
                        <th>143</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jQuery( function( $ ) { $( document ).trigger( 'swpm_paypal_sdk_subscriptions_loaded' ) } );</span></td>
                      </tr><tr>
                        <th>144</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementsByTagName( 'head' )[0].appendChild( script_sub );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>148</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swpm_load_paypal_subs_sdk_onDomReady(function(){</span></td>
                      </tr><tr>
                        <th> </th><th>149</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const script_sub = document.createElement( 'script' );</span></td>
                      </tr><tr>
                        <th> </th><th>150</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.type = 'text/javascript';</span></td>
                      </tr><tr>
                        <th> </th><th>151</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.setAttribute( 'data-partner-attribution-id', 'TipsandTricks_SP_PPCP' );</span></td>
                      </tr><tr>
                        <th> </th><th>152</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.setAttribute( 'data-namespace', 'swpm_paypal_subscriptions' );//Use a different namespace for the subscription buttons.</span></td>
                      </tr><tr>
                        <th> </th><th>153</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.async = true;</span></td>
                      </tr><tr>
                        <th> </th><th>154</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.src = '&lt;?php echo esc_url_raw( $script_url ); ?&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>155</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script_sub.onload = function() {</span></td>
                      </tr><tr>
                        <th> </th><th>156</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.dispatchEvent(new Event('swpm_paypal_sdk_subscriptions_loaded'));</span></td>
                      </tr><tr>
                        <th> </th><th>157</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></td>
                      </tr><tr>
                        <th> </th><th>158</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementsByTagName( 'head' )[0].appendChild( script_sub );</span></td>
                      </tr><tr>
                        <th> </th><th>159</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })</span></td>
                      </tr><tr>
                        <th> </th><th>160</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>161</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; function swpm_load_paypal_subs_sdk_onDomReady(callback) {</span></td>
                      </tr><tr>
                        <th> </th><th>162</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // If the document is already loaded, execute the callback immediately</span></td>
                      </tr><tr>
                        <th> </th><th>163</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (document.readyState !== 'loading') {</span></td>
                      </tr><tr>
                        <th> </th><th>164</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; callback();</span></td>
                      </tr><tr>
                        <th> </th><th>165</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                      </tr><tr>
                        <th> </th><th>166</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Otherwise, wait for the DOMContentLoaded event</span></td>
                      </tr><tr>
                        <th> </th><th>167</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.addEventListener('DOMContentLoaded', callback);</span></td>
                      </tr><tr>
                        <th> </th><th>168</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr class="last">
                        <th> </th><th>169</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>146</th><th>170</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/script&gt;</span></td>
                  </tr><tr>
                          <th>147</th><th>171</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;?php</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file21">
          <a href="/changeset/3076221/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php">simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3045036#L240">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3076221#L240">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>240</th><th>240</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;</span></td>
                  </tr><tr>
                          <th>241</th><th>241</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>242</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }<del>&nbsp;</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>242</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }<ins></ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>243</th><th>243</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                  </tr><tr>
                          <th>244</th><th>244</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3045036#L273">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3076221#L273">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>273</th><th>273</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $transactions;</span></td>
                  </tr><tr>
                          <th>274</th><th>274</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>275</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;</ins></td>
                  </tr><tr>
                          <th> </th><th>276</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>277</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>278</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>279</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /*</ins></td>
                  </tr><tr>
                          <th> </th><th>280</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Cancel a paypal subscription (for the given subscription ID).</ins></td>
                  </tr><tr>
                          <th> </th><th>281</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions_cancel</ins></td>
                  </tr><tr>
                          <th> </th><th>282</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</ins></td>
                  </tr><tr>
                          <th> </th><th>283</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; public function cancel_paypal_subscription( $sub_id ){</ins></td>
                  </tr><tr>
                          <th> </th><th>284</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $endpoint = '/v1/billing/subscriptions/' . $sub_id . '/cancel';</ins></td>
                  </tr><tr>
                          <th> </th><th>285</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>286</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //A successful cancel request returns the HTTP '204 No Content' status code with no JSON response body.</ins></td>
                  </tr><tr>
                          <th> </th><th>287</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //We need to setup the additional args to return the raw response (so the post function doesn't try to process the response using the usual method).</ins></td>
                  </tr><tr>
                          <th> </th><th>288</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $additional_args = array('return_raw_response' =&gt; true);</ins></td>
                  </tr><tr>
                          <th> </th><th>289</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //We also need to pass the reason for the cancellation.</ins></td>
                  </tr><tr>
                          <th> </th><th>290</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $params = array('reason' =&gt; 'User requested to cancel the subscription.');</ins></td>
                  </tr><tr>
                          <th> </th><th>291</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>292</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Do the API call.</ins></td>
                  </tr><tr>
                          <th> </th><th>293</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $response = $this-&gt;paypal_req_api-&gt;post($endpoint, $params, $additional_args);</ins></td>
                  </tr><tr>
                          <th> </th><th>294</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>295</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset($response['response']['code']) &amp;&amp; $response['response']['code'] == 204){</ins></td>
                  </tr><tr>
                          <th> </th><th>296</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //The subscription was successfully cancelled.</ins></td>
                  </tr><tr>
                          <th> </th><th>297</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;</ins></td>
                  </tr><tr>
                          <th> </th><th>298</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>299</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Failed to cancel the subscription.</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>275</th><th>300</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;</span></td>
                  </tr><tr>
                          <th>276</th><th>301</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file22">
          <a href="/changeset/3076221/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php">simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036#L88">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3076221#L88">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>88</th><th>88</th><td class="l"><span>&nbsp; &nbsp; private function before_request() {</span></td>
                  </tr><tr>
                          <th>89</th><th>89</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Reset the last_error variable before making a request.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>90</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;last_error = array(<del></del>);</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>90</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;last_error = array(<ins>'error_message' =&gt; ''</ins>);</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>91</th><th>91</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>92</th><th>92</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file23">
          <a href="/changeset/3076221/simple-membership/trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php">simple-membership/trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3021218">
                    <a title="Show revision 3021218 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php?rev=3021218#L36">
                      r3021218</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-utility-ipn-related.php?rev=3076221#L36">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>36</th><th>36</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['txn_id'] = $txn_id;</span></td>
                  </tr><tr>
                          <th>37</th><th>37</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['subscr_id'] = $txn_id;//Same as txn_id for one-time payments.</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>38</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>39</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; //This will save the button ID in the swpm_transactions CPT (for a reference to the button used for the payment)</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>40</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['payment_button_id'] = isset($data['button_id']) ? $data['button_id'] : '';</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>38</th><th>41</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>39</th><th>42</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['item_number'] = isset($data['button_id']) ? $data['button_id'] : '';</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file24">
          <a href="/changeset/3076221/simple-membership/trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php">simple-membership/trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3021218">
                    <a title="Show revision 3021218 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php?rev=3021218#L137">
                      r3021218</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-webhook-event-handler.php?rev=3076221#L137">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>137</th><th>137</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Handle the account status update according to the membership level's expiry settings.</span></td>
                  </tr><tr>
                          <th>138</th><th>138</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ipn_data = array();</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>139</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['subscr_id'] = $subscription_id;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>139</th><th>140</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ipn_data['custom'] = 'swpm_id=' . $member_id;</span></td>
                  </tr><tr>
                          <th>140</th><th>141</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swpm_handle_subsc_cancel_stand_alone( $ipn_data );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file25">
          <a href="/changeset/3076221/simple-membership/trunk/readme.txt" title="Show the changeset 3076221 restricted to simple-membership/trunk/readme.txt">simple-membership/trunk/readme.txt</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3058054">
                    <a title="Show revision 3058054 of this file in browser" href="/browser/simple-membership/trunk/readme.txt?rev=3058054#L6">
                      r3058054</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/readme.txt?rev=3076221#L6">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>6</th><th>6</th><td class="l"><span>Requires PHP: 5.6</span></td>
                  </tr><tr>
                          <th>7</th><th>7</th><td class="l"><span>Tested up to: 6.5</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>8</th><th> </th><td class="l"><span>Stable tag: 4.4.<del>3</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>8</th><td class="r"><span>Stable tag: 4.4.<ins>4</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>9</th><th>9</th><td class="l"><span>License: GPLv2 or later</span></td>
                  </tr><tr>
                          <th>10</th><th>10</th><td class="l"><span>License URI: http://www.gnu.org/licenses/gpl-2.0.html</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/readme.txt?rev=3058054#L171">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/readme.txt?rev=3076221#L171">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>171</th><th>171</th><td class="l"><span>== Changelog ==</span></td>
                  </tr><tr>
                          <th>172</th><th>172</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>173</th><td class="r"><ins>= 4.4.4 =</ins></td>
                  </tr><tr>
                          <th> </th><th>174</th><td class="r"><ins>- Added an option to configure a Cancel URL for Stripe SCA Subscription type buttons.</ins></td>
                  </tr><tr>
                          <th> </th><th>175</th><td class="r"><ins>- Some options related to hiding the WP Admin Bar have been moved from the General Settings menu to the Advanced Settings tab.</ins></td>
                  </tr><tr>
                          <th> </th><th>176</th><td class="r"><ins>- A warning message is displayed when editing membership levels if both manual approval and email activation settings are enabled simultaneously.</ins></td>
                  </tr><tr>
                          <th> </th><th>177</th><td class="r"><ins>- Output escaping added to the shortcode output of the subscription cancel shortcode.</ins></td>
                  </tr><tr>
                          <th> </th><th>178</th><td class="r"><ins>- PayPal PPCP button's JS SDK related code has been converted to use vanilla JavaScript to eliminate the dependency on jQuery.</ins></td>
                  </tr><tr>
                          <th> </th><th>179</th><td class="r"><ins>- Stripe promotion code feature added for Stripe SCA Buy Now type buttons.</ins></td>
                  </tr><tr>
                          <th> </th><th>180</th><td class="r"><ins>- The Payments menu now shows the transactions from the SWPM_Transactions custom post type. This will allow us to add more features to the transaction records in the future.</ins></td>
                  </tr><tr>
                          <th> </th><th>181</th><td class="r"><ins>- Added the option to edit a transaction record from the payments menu of the plugin.</ins></td>
                  </tr><tr>
                          <th> </th><th>182</th><td class="r"><ins>- Added a new shortcode that can show any active subscriptions and offer an option to cancel it for the logged-in member. It works for the New PayPal API and Stripe Subscription buttons.</ins></td>
                  </tr><tr>
                          <th> </th><th>183</th><td class="r"><ins>- [Documentation for the new subscription cancel shortcode](https://simple-membership-plugin.com/show-active-subscriptions-and-providing-a-cancellation-option/)</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>184</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>173</th><th>185</th><td class="l"><span>= 4.4.3 =</span></td>
                  </tr><tr>
                          <th>174</th><th>186</th><td class="l"><span>- The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods.</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/readme.txt?rev=3058054#L200">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/readme.txt?rev=3076221#L212">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>200</th><th>212</th><td class="l"><span>- This will remove confusion for some users when they login from the standard WP login form (not the simple membership's login form) and then the page redirects to the after login redirection URL.</span></td>
                  </tr><tr>
                          <th>201</th><th>213</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>202</th><th> </th><td class="l"><span>= 4.3.9 = </span></td>
                      </tr><tr>
                        <th>203</th><th> </th><td class="l"><span>- Note: Significant updates have been made to the PayPal's new API related code in this release. Please take a backup of your site before updating.</span></td>
                      </tr><tr>
                        <th>204</th><th> </th><td class="l"><span>- The 'Payment Settings' tab has been moved to the 'Payments' menu. Allowing all payment configuration related functions to be under one menu.</span></td>
                      </tr><tr>
                        <th>205</th><th> </th><td class="l"><span>- The 'Payment Settings' menu has been divided into multiple sub-menus for better organization.</span></td>
                      </tr><tr>
                        <th>206</th><th> </th><td class="l"><span>- Added a new option in the PayPal API tab to allow manual deletion of the PayPal API access token cache.</span></td>
                      </tr><tr>
                        <th>207</th><th> </th><td class="l"><span>- The PayPal buy now (New API) button's JavaScript code has been updated to reflect the latest PayPal API related changes.</span></td>
                      </tr><tr>
                        <th>208</th><th> </th><td class="l"><span>- If WP Login form is used, our plugin will let WP handle the post-login redirection.</span></td>
                      </tr><tr>
                        <th>209</th><th> </th><td class="l"><span>- Honor the 'redirect_to' parameter in the post login redirection function.</span></td>
                      </tr><tr>
                        <th>210</th><th> </th><td class="l"><span>- Added an empty check to the Stripe buy now IPN handling function.</span></td>
                      </tr><tr>
                        <th>211</th><th> </th><td class="l"><span>- Translation improvement for 'activation-required' account status display in the user's profile.</span></td>
                      </tr><tr>
                        <th>212</th><th> </th><td class="l"><span>- Better formatting for the admin edit interface error message.</span></td>
                      </tr><tr>
                        <th>213</th><th> </th><td class="l"><span>- Added output escaping in the new PayPal API settings tab.</span></td>
                      </tr><tr>
                        <th>214</th><th> </th><td class="l"><span>- Added a new filter 'swpm_send_direct_email_body_settings'.</span></td>
                      </tr><tr>
                        <th>215</th><th> </th><td class="l"><span>- The following new options has been added in the 'Send Direct Email' feature. Thanks to Dennis.</span></td>
                      </tr><tr>
                        <th>216</th><th> </th><td class="l"><span>- Send Direct Email -&gt; Send email based on member's account status.</span></td>
                      </tr><tr>
                        <th>217</th><th> </th><td class="l"><span>- Send Direct Email -&gt; Send a copy of email to the site admin.</span></td>
                      </tr><tr>
                        <th>218</th><th> </th><td class="l"><span>- Send Direct Email -&gt; List email recipients as a preview.</span></td>
                      </tr><tr>
                        <th>219</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>220</th><th> </th><td class="l"><span>= 4.3.8 =</span></td>
                      </tr><tr>
                        <th>221</th><th> </th><td class="l"><span>- Minor translation related update in the admin edit member interface.</span></td>
                      </tr><tr>
                        <th>222</th><th> </th><td class="l"><span>- Fixed an issue with the new PayPal buy now type button not rendering correctly with the item description.</span></td>
                      </tr><tr>
                        <th>223</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>224</th><th> </th><td class="l"><span>= 4.3.7 =</span></td>
                      </tr><tr>
                        <th>225</th><th> </th><td class="l"><span>- Added new form and validation Interface for registration and edit profile forms. </span></td>
                      </tr><tr>
                        <th>226</th><th> </th><td class="l"><span>- New settings field added to turn on/off the new UI for the registration and profile forms. This option is located in the Advanced Settings menu.</span></td>
                      </tr><tr>
                        <th>227</th><th> </th><td class="l"><span>- The goal with this new option is to offer a more mobile responsive UI for the registration and profile forms.</span></td>
                      </tr><tr>
                        <th>228</th><th> </th><td class="l"><span>- Added a new action hook (swpm_before_login_form_widget) in the login.php file.</span></td>
                      </tr><tr>
                        <th>229</th><th> </th><td class="l"><span>- Added a new action hook (swpm_before_loggedin_widget) in the loggedin.php file.</span></td>
                      </tr><tr>
                        <th>230</th><th> </th><td class="l"><span>- The edit membership level interface shows the currently editing membership level's ID.</span></td>
                      </tr><tr>
                        <th>231</th><th> </th><td class="l"><span>- Added a new action hook (swpm_front_end_reset_password_using_link_completed). Thanks to @MedTRGit.</span></td>
                      </tr><tr>
                        <th>232</th><th> </th><td class="l"><span>- Updated the translation POT file.</span></td>
                      </tr><tr>
                        <th>233</th><th> </th><td class="l"><span>- Refactored the Stripe session create code to a separate class.</span></td>
                      </tr><tr>
                        <th>234</th><th> </th><td class="l"><span>- Filter hooks updated to to customize password validation rules and messages for the new form UI.</span></td>
                      </tr><tr>
                        <th>235</th><th> </th><td class="l"><span>- Updated the Swedish translation files.</span></td>
                      </tr><tr>
                        <th>236</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>237</th><th> </th><td class="l"><span>= 4.3.6 =</span></td>
                      </tr><tr>
                        <th>238</th><th> </th><td class="l"><span>- Added output escaping to the 'list_type' parameter in the 'Post and Page Protection' menu tab.</span></td>
                      </tr><tr>
                        <th>239</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>240</th><th> </th><td class="l"><span>= 4.3.5 =</span></td>
                      </tr><tr>
                        <th>241</th><th> </th><td class="l"><span>- Updated the German language translation file. Thanks to Stefan.</span></td>
                      </tr><tr>
                        <th>242</th><th> </th><td class="l"><span>- Show strong password requirement message on the password reset page (if the feature is enabled). Thanks to Darwin for submitting this update.</span></td>
                      </tr><tr>
                        <th>243</th><th> </th><td class="l"><span>- After submitting the password reset form, a message displaying "Processing request" is shown. Thanks to Darwin for submitting this update.</span></td>
                      </tr><tr>
                        <th>244</th><th> </th><td class="l"><span>- Added a new filter hook for the Thank You page message.</span></td>
                      </tr><tr>
                        <th>245</th><th> </th><td class="l"><span>- Fixed a small bug with the newly added "Send Direct Email" feature. It was not setting the "From Email Address" field's value.</span></td>
                      </tr><tr>
                        <th>246</th><th> </th><td class="l"><span>- Added a new option labeled "Default Account Status After Payment". This should be helpful with certain types of manual approval configuration.</span></td>
                      </tr><tr>
                        <th>247</th><th> </th><td class="l"><span>- Updated the code so it stops going forwared if the update user command fails.</span></td>
                      </tr><tr>
                        <th>248</th><th> </th><td class="l"><span>- Added validation to the password reset by link feature. Thanks to Rafie for the report.</span></td>
                      </tr><tr>
                        <th>249</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>250</th><th> </th><td class="l"><span>= 4.3.4 =</span></td>
                      </tr><tr>
                        <th>251</th><th> </th><td class="l"><span>- Readability improvement for the 'remember me' checkbox field's code.</span></td>
                      </tr><tr>
                        <th>252</th><th> </th><td class="l"><span>- Spanish language translation file updated.</span></td>
                      </tr><tr>
                        <th>253</th><th> </th><td class="l"><span>- Added more debug logging text to the Stripe webhook handling script.</span></td>
                      </tr><tr>
                        <th>254</th><th> </th><td class="l"><span>- Added CSS class to the notice message output.</span></td>
                      </tr><tr>
                        <th>255</th><th> </th><td class="l"><span>- Allow any field with class 'swpm-date-picker' to use the datepicker function in the members menu.</span></td>
                      </tr><tr>
                        <th>256</th><th> </th><td class="l"><span>- Added a new hook that gets triggered when the account status is updated to expired in the daily cronjob.</span></td>
                      </tr><tr>
                        <th>257</th><th> </th><td class="l"><span>- Added a new hook that gets triggered when an existing member pays for a membership and the account status is refreshed.</span></td>
                      </tr><tr>
                        <th>258</th><th> </th><td class="l"><span>- The original transaction post ID is saved with the user profile for Stripe subscription transactions.</span></td>
                      </tr><tr>
                        <th>259</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>260</th><th> </th><td class="l"><span>= 4.3.3 =</span></td>
                      </tr><tr>
                        <th>261</th><th> </th><td class="l"><span>- Added new feature to confiugre an "after email activation redirection" for any membership level.</span></td>
                      </tr><tr>
                        <th>262</th><th> </th><td class="l"><span>- Renamed the SimpleWpMembership::wp_logout() function to SimpleWpMembership::wp_logout_handler().</span></td>
                      </tr><tr>
                        <th>263</th><th> </th><td class="l"><span>- The auth cookie will be set to session cookie if the 'force-wp-user-sync' feature is enable when 'remember me' is unchecked.</span></td>
                      </tr><tr>
                        <th>264</th><th> </th><td class="l"><span>- Added a silent logout option so the logout function can be called without triggering the action hook.</span></td>
                      </tr><tr>
                        <th>265</th><th> </th><td class="l"><span>- Added the 'swpm_subscription_payment_cancelled' hook to the cancel stripe subscription via URL feature.</span></td>
                      </tr><tr>
                        <th>266</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>267</th><th> </th><td class="l"><span>= 4.3.2 =</span></td>
                      </tr><tr>
                        <th>268</th><th> </th><td class="l"><span>- Added CSS to highlight the order status in the payments menu.</span></td>
                      </tr><tr>
                        <th>269</th><th> </th><td class="l"><span>- Added a new utility function compare_url_without_http(). This function is used for matching the system generated pages.</span></td>
                      </tr><tr>
                        <th>270</th><th> </th><td class="l"><span>- Added a new CSS div for the activation required error message.</span></td>
                      </tr><tr>
                        <th>271</th><th> </th><td class="l"><span>- New Gutenberg Block for Payment Buttons.</span></td>
                      </tr><tr>
                        <th>272</th><th> </th><td class="l"><span>- Updated the system page URL check function to include the edit profile, join and the password reset pages.</span></td>
                      </tr><tr>
                        <th>273</th><th> </th><td class="l"><span>- New feature to send direct email to a group of members (for example: send an email to all members of a membership level).</span></td>
                      </tr><tr>
                        <th>274</th><th> </th><td class="l"><span>- Minor PHP 8.2 related deprecation notice fixes.</span></td>
                      </tr><tr>
                        <th>275</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>276</th><th> </th><td class="l"><span>= 4.3.1 =</span></td>
                      </tr><tr>
                        <th>277</th><th> </th><td class="l"><span>- Updated the Turkish language translation file.</span></td>
                      </tr><tr>
                        <th>278</th><th> </th><td class="l"><span>- Minor - Spelling mistake fixed in the Blacklisting feature.</span></td>
                      </tr><tr>
                        <th>279</th><th> </th><td class="l"><span>- Fixed Warning: Undefined variable $all_items</span></td>
                      </tr><tr>
                        <th>280</th><th> </th><td class="l"><span>- Stripe Buy Now button's webhook handling code updated for the new Stripe API version.</span></td>
                      </tr><tr>
                        <th>281</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>282</th><th> </th><td class="l"><span>= 4.3.0 =</span></td>
                      </tr><tr>
                        <th>283</th><th> </th><td class="l"><span>- Regenerated the Translation POT file.</span></td>
                      </tr><tr>
                        <th>284</th><th> </th><td class="l"><span>- Language strings updated in various admin interfaces.</span></td>
                      </tr><tr>
                        <th>285</th><th> </th><td class="l"><span>- Removed the use of the FILTER_SANITIZE_STRING flag for PHP8.1 compatibility.</span></td>
                      </tr><tr>
                        <th>286</th><th> </th><td class="l"><span>- Minor enhancement - verify the custom field value is set in the IPN data.</span></td>
                      </tr><tr>
                        <th>287</th><th> </th><td class="l"><span>- Updated the session variable name in the SwpmMessages class.</span></td>
                      </tr><tr>
                        <th>288</th><th> </th><td class="l"><span>- Fixed an issue with the password reset using link option showing an incorrect message after the reset operation is successful.</span></td>
                      </tr><tr>
                        <th>289</th><th> </th><td class="l"><span>- Enhancement to the 'user can delete account' feature. The page title, header and the confirmation text is worded better.</span></td>
                      </tr><tr>
                        <th>290</th><th> </th><td class="l"><span>- Accessibility related updates to the "Show Password" checkbox of the login form.</span></td>
                      </tr><tr>
                        <th>291</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>292</th><th> </th><td class="l"><span>= 4.2.9 =</span></td>
                      </tr><tr>
                        <th>293</th><th> </th><td class="l"><span>- Added filter hooks to the Thank you page output message so it can be customized using custom code.</span></td>
                      </tr><tr>
                        <th>294</th><th> </th><td class="l"><span>- The address data (if available) will be collected when using the new PayPal checkout buttons.</span></td>
                      </tr><tr>
                        <th>295</th><th> </th><td class="l"><span>- Fixed a warning that was generating after Stripe Buy Now button checkout.</span></td>
                      </tr><tr>
                        <th>296</th><th> </th><td class="l"><span>- Added a new option so the directory listing addon can display the address fields separately (by using shortcode parameters).</span></td>
                      </tr><tr>
                        <th>297</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>298</th><th> </th><td class="l"><span>= 4.2.8 =</span></td>
                      </tr><tr>
                        <th>299</th><th> </th><td class="l"><span>- The country code from Stripe webhook notification is now converted to the full country name for better selection in the dropdown menu.</span></td>
                      </tr><tr>
                        <th>300</th><th> </th><td class="l"><span>- Prevent the newly added unique registration link validity check from incorrectly showing on registration form submission.</span></td>
                      </tr><tr>
                        <th>301</th><th> </th><td class="l"><span>- Removed the option to create new Smart checkout buttons as it has been deprecated by PayPal. You can get the same functionality from the new PayPal checkout buttons that have been added to the plugin.</span></td>
                      </tr><tr>
                        <th>302</th><th> </th><td class="l"><span>- Note: All the existing paypal buttons will continue to work as usual. We have added the new PayPal buttons as per PayPal's guidelines to make sure that in the future the plugin remains compatible with PayPal's latest API.</span></td>
                      </tr><tr>
                        <th>303</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>304</th><th> </th><td class="l"><span>= 4.2.7 =</span></td>
                      </tr><tr>
                        <th>305</th><th> </th><td class="l"><span>- Added an alternative method of getting the URL if SERVER_NAME is not set in an install.</span></td>
                      </tr><tr>
                        <th>306</th><th> </th><td class="l"><span>- Fixed an error that was triggering after the transaction.</span></td>
                      </tr><tr>
                        <th>307</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>308</th><th> </th><td class="l"><span>= 4.2.6 =</span></td>
                      </tr><tr>
                        <th>309</th><th> </th><td class="l"><span>- Spelling mistake fixed in the PayPal button creation interface.</span></td>
                      </tr><tr>
                        <th>310</th><th> </th><td class="l"><span>- Regenerated the translation POT file.</span></td>
                      </tr><tr>
                        <th>311</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>312</th><th> </th><td class="l"><span>= 4.2.5 =</span></td>
                      </tr><tr>
                        <th>313</th><th> </th><td class="l"><span>- Added new membership payment button options using the new PayPal API. You can find it under the Create New Buttons menu tab. </span></td>
                      </tr><tr>
                        <th>314</th><th> </th><td class="l"><span>- Moved the Sandbox/Test Mode option to the "Payment Settings" tab.</span></td>
                      </tr><tr>
                        <th>315</th><th> </th><td class="l"><span>- Added an appropriate error message for when a user tries to re-use the special registration complete link.</span></td>
                      </tr><tr>
                        <th>316</th><th> </th><td class="l"><span>- Check if the registration completion link (if present in the URL) is valid. Show an appropriate error message to prevent confusion.</span></td>
                      </tr><tr>
                        <th>317</th><th> </th><td class="l"><span>- The bulk membership level change feature will update the WP user role also (if specified in the target membership level configuration).</span></td>
                      </tr><tr>
                        <th>318</th><th> </th><td class="l"><span>- The transactions in the payments menu can now be searched using a Subscriber ID values also.</span></td>
                      </tr><tr>
                        <th>319</th><th> </th><td class="l"><span>- Spanish language translation file updated.</span></td>
                      </tr><tr>
                        <th>320</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>321</th><th> </th><td class="l"><span>= 4.2.4 =</span></td>
                      </tr><tr>
                        <th>322</th><th> </th><td class="l"><span>- Improved the enqueue_validation_scripts() function to work better with block themes.</span></td>
                      </tr><tr>
                        <th>323</th><th> </th><td class="l"><span>- Better Stripe payment button compatibility with some wp themes.</span></td>
                      </tr><tr>
                        <th>324</th><th> </th><td class="l"><span>- Improved the login form's error message output. The error message will be shown in red so it is can be easily noticed.</span></td>
                      </tr><tr>
                        <th>325</th><th> </th><td class="l"><span>- Fixed the terms and conditions checkbox validation error not displaying correctly on some themes.</span></td>
                      </tr><tr>
                        <th>326</th><th> </th><td class="l"><span>- Fixed password reset success message showing an incorrect CSS class.</span></td>
                      </tr><tr>
                        <th>327</th><th> </th><td class="l"><span>- Regenerated the main translation POT file.</span></td>
                      </tr><tr>
                        <th>328</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>329</th><th> </th><td class="l"><span>= 4.2.3 =</span></td>
                      </tr><tr>
                        <th>330</th><th> </th><td class="l"><span>- Added an option in the Stripe button configuration to use the Stripe's automatic tax feature.</span></td>
                      </tr><tr>
                        <th>331</th><th> </th><td class="l"><span>- Usability improvement: the payment button shortcode can be selected easily (for better copy and paste operation).</span></td>
                      </tr><tr>
                        <th>332</th><th> </th><td class="l"><span>- Added an option to specify the payment_method_types parameter in the Stripe payment button shortcode. It can be used to enable ACH payment option for a specific Stripe payment button.</span></td>
                      </tr><tr>
                        <th>333</th><th> </th><td class="l"><span>- Fixed: The Payment Settings tab not showing the settings updated message correctly.</span></td>
                      </tr><tr>
                        <th>334</th><th> </th><td class="l"><span>- Fixed: The new password reset via link feature not seeing the already present {password_reset_link} email merge tag.</span></td>
                      </tr><tr>
                        <th>335</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>336</th><th> </th><td class="l"><span>= 4.2.2 =</span></td>
                      </tr><tr>
                        <th>337</th><th> </th><td class="l"><span>- The Braintree transactions will send the customer's name and email address to the API also.</span></td>
                      </tr><tr>
                        <th>338</th><th> </th><td class="l"><span>- Added a new filter hook to the registration form so that the strong password validation string can be overridden and customized.</span></td>
                      </tr><tr>
                        <th>339</th><th> </th><td class="l"><span>- Added a new filter hook to the edit profile form so that the strong password validation string can be overridden and customized.</span></td>
                      </tr><tr>
                        <th>340</th><th> </th><td class="l"><span>- The get_current_page_url() function will clean the 8080 port number from URL for better compatibility on some servers.</span></td>
                      </tr><tr>
                        <th>341</th><th> </th><td class="l"><span>- Added output escaping to the payment button shortcode.</span></td>
                      </tr><tr>
                        <th>342</th><th> </th><td class="l"><span>- Added a new option in the settings menu to offer password reset function using a reset link.</span></td>
                      </tr><tr>
                        <th>343</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>344</th><th> </th><td class="l"><span>= 4.2.1 =</span></td>
                      </tr><tr>
                        <th>345</th><th> </th><td class="l"><span>- Updated the Braintree payments integration to require the customer's name and email address during checkout.</span></td>
                      </tr><tr>
                        <th>346</th><th> </th><td class="l"><span>- Updated the Spanish Mexican language translation file.</span></td>
                      </tr><tr>
                        <th>347</th><th> </th><td class="l"><span>- Updated the default content protection message.</span></td>
                      </tr><tr>
                        <th>348</th><th> </th><td class="l"><span>- Updated the text of the login form button.</span></td>
                      </tr><tr>
                        <th>349</th><th> </th><td class="l"><span>- Added sanitization to the email body fields.</span></td>
                      </tr><tr>
                        <th>350</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>351</th><th> </th><td class="l"><span>= 4.2.0 =</span></td>
                      </tr><tr>
                        <th>352</th><th> </th><td class="l"><span>- Braintree SDK updated for the Braintree payment gateway.</span></td>
                      </tr><tr>
                        <th>353</th><th> </th><td class="l"><span>- Google reCAPTCHA enterprise option is now [available as a free addon](https://simple-membership-plugin.com/simple-membership-google-recaptcha-enterprise-option/).</span></td>
                      </tr><tr>
                        <th>354</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>355</th><th> </th><td class="l"><span>= 4.1.9 =</span></td>
                      </tr><tr>
                        <th>356</th><th> </th><td class="l"><span>- Stripe Button's code updated to use the latest Stripe API version.</span></td>
                      </tr><tr>
                        <th>357</th><th> </th><td class="l"><span>- Allow apostrophe character in the email address field of the registration form.</span></td>
                      </tr><tr>
                        <th>358</th><th> </th><td class="l"><span>- Preserve address information of a profile when submitting the registration form (if the data was received from the payment gateway).</span></td>
                      </tr><tr>
                        <th>359</th><th> </th><td class="l"><span>- Added a workaround for sites using the Batcache caching system.</span></td>
                      </tr><tr>
                        <th>360</th><th> </th><td class="l"><span>- Updated the swpm_admin_members_table_column_&lt;column_name&gt; filter hook to check if the column value exists.</span></td>
                      </tr><tr>
                        <th>361</th><th> </th><td class="l"><span>- Fixed an issue with the email address whitelisting pattern feature.</span></td>
                      </tr><tr>
                        <th>362</th><th> </th><td class="l"><span>- Improved how the current_page URL value is retrieved for the Stripe payment buttons.</span></td>
                      </tr><tr>
                        <th>363</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>364</th><th> </th><td class="l"><span>= 4.1.8 =</span></td>
                      </tr><tr>
                        <th>365</th><th> </th><td class="l"><span>- Improved the view debug log operation to check if the file exists before trying to open the file. If the file doesn't exist, it will show a message to reset the debug file.</span></td>
                      </tr><tr>
                        <th>366</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>367</th><th> </th><td class="l"><span>= 4.1.7 =</span></td>
                      </tr><tr>
                        <th>368</th><th> </th><td class="l"><span>- Added a new Blacklisting &amp; Whitelisting feature. [Usage documentation here](https://simple-membership-plugin.com/blacklisting-whitelisting-feature/)</span></td>
                      </tr><tr>
                        <th>369</th><th> </th><td class="l"><span>- The member search option in the members interface will now work correctly with names containing apostrophe character.</span></td>
                      </tr><tr>
                        <th>370</th><th> </th><td class="l"><span>- Added a new filter hook in the password reset function: swpm_password_reset_generated_pass</span></td>
                      </tr><tr>
                        <th>371</th><th> </th><td class="l"><span>- Optimized the Stripe library loading for Stripe payment buttons so it can work with the partial protection addon.</span></td>
                      </tr><tr>
                        <th>372</th><th> </th><td class="l"><span>- If after login redirection addon is not used, the redirection after login will be sent to the current page instead of the home URL.</span></td>
                      </tr><tr>
                        <th>373</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>374</th><th> </th><td class="l"><span>= 4.1.6 =</span></td>
                      </tr><tr>
                        <th>375</th><th> </th><td class="l"><span>- Added a new action hook - swpm_front_end_edit_profile_form_submitted.</span></td>
                      </tr><tr>
                        <th>376</th><th> </th><td class="l"><span>- Added a new action hook - swpm_do_init_time_tasks_front_end.</span></td>
                      </tr><tr>
                        <th>377</th><th> </th><td class="l"><span>- Translation POT file has been regenerated.</span></td>
                      </tr><tr>
                        <th>378</th><th> </th><td class="l"><span>- Apostrophe characters will now be accepted in the name and address fields.</span></td>
                      </tr><tr>
                        <th>379</th><th> </th><td class="l"><span>- Fixed the validation error message positioning in the edit profile form when Force Strong Password option is enabled.</span></td>
                      </tr><tr>
                        <th>380</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>381</th><th> </th><td class="l"><span>= 4.1.5 =</span></td>
                      </tr><tr>
                        <th>382</th><th> </th><td class="l"><span>- Added a new feature to toggle password visibility option in the login form. [Password toggle documentation](https://simple-membership-plugin.com/show-password-option-in-the-login-form-toggle-password-visibility/)</span></td>
                      </tr><tr>
                        <th>383</th><th> </th><td class="l"><span>- Updated the Dutch language translation files.</span></td>
                      </tr><tr>
                        <th>384</th><th> </th><td class="l"><span>- Fixed a minor PHP notice with PayPal smart checkout button configuration.</span></td>
                      </tr><tr>
                        <th>385</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>386</th><th> </th><td class="l"><span>= 4.1.4 = </span></td>
                      </tr><tr>
                        <th>387</th><th> </th><td class="l"><span>- PayPal smart checkout will pass the item name set in the payment button to PayPal's API.</span></td>
                      </tr><tr>
                        <th>388</th><th> </th><td class="l"><span>- The PayPal smart checkout transactions will try to find a member profile using the Transaction ID and show it in the Transactions tab (if found).</span></td>
                      </tr><tr>
                        <th>389</th><th> </th><td class="l"><span>- WooCommerce checkout integration will add the collected billing address to SWPM member record when available.</span></td>
                      </tr><tr>
                        <th>390</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>391</th><th> </th><td class="l"><span>= 4.1.3 =</span></td>
                      </tr><tr>
                        <th>392</th><th> </th><td class="l"><span>- Added a warning in the edit member interface for situation when a member account is created without a membership level value.</span></td>
                      </tr><tr>
                        <th>393</th><th> </th><td class="l"><span>- Small user edit interface improvement.</span></td>
                      </tr><tr>
                        <th>394</th><th> </th><td class="l"><span>- Added 'French Polynesia' country to the countries dropdown list.</span></td>
                      </tr><tr>
                        <th>395</th><th> </th><td class="l"><span>- Removes the membership_level data (if posted) from the edit profile update operation (since this data is not needed for this operation). Thanks to Vladimir for pointing this out.</span></td>
                      </tr><tr>
                        <th>396</th><th> </th><td class="l"><span>- Added an additional hash check for the level_identified on registration form.</span></td>
                      </tr><tr>
                        <th>397</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>398</th><th> </th><td class="l"><span>= 4.1.2 =</span></td>
                      </tr><tr>
                        <th>399</th><th> </th><td class="l"><span>- Fixed a minor Undefined array key warning.</span></td>
                      </tr><tr>
                        <th>400</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>401</th><th> </th><td class="l"><span>= 4.1.1 =</span></td>
                      </tr><tr>
                        <th>402</th><th> </th><td class="l"><span>- Tested on WordPress 6.0.</span></td>
                      </tr><tr>
                        <th>403</th><th> </th><td class="l"><span>- Added output escaping to the email validation ajax request.</span></td>
                      </tr><tr>
                        <th>404</th><th> </th><td class="l"><span>- Added output escaping to the username validation ajax request.</span></td>
                      </tr><tr>
                        <th>405</th><th> </th><td class="l"><span>- Added sanitization to the account status field of the member listing page.</span></td>
                      </tr><tr>
                        <th>406</th><th> </th><td class="l"><span>- Removed some use of the FILTER_SANITIZE_STRING flag to be compatible with PHP8.1.</span></td>
                      </tr><tr>
                        <th>407</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>408</th><th> </th><td class="l"><span>= 4.1.0 =</span></td>
                      </tr><tr>
                        <th>409</th><th> </th><td class="l"><span>- Added the text 'Username or Email' to the language translation POT file.</span></td>
                      </tr><tr>
                        <th>410</th><th> </th><td class="l"><span>- Added a new action hook (swpm_front_end_registration_form_submitted) for when the front-end registration form is submitted</span></td>
                      </tr><tr>
                        <th>411</th><th> </th><td class="l"><span>- Added nonce check for the "Delete Transaction" action in the payments menu.</span></td>
                      </tr><tr>
                        <th>412</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>413</th><th> </th><td class="l"><span>= 4.0.9 =</span></td>
                      </tr><tr>
                        <th>414</th><th> </th><td class="l"><span>- Added do_blocks() to the more tag protection feature's content formatting to improve compatibility with the link preview plugin. Thanks to @brechtvds for providing the code adjustment.</span></td>
                      </tr><tr>
                        <th>415</th><th> </th><td class="l"><span>- Added a new filter for the more tag protection feature (swpm_format_raw_content_for_front_end_display).</span></td>
                      </tr><tr>
                        <th>416</th><th> </th><td class="l"><span>- Added a new filter for the login form action message output (swpm_login_form_action_msg).</span></td>
                      </tr><tr>
                        <th>417</th><th> </th><td class="l"><span>- Added a new filter for the "Hide Registration Form to Logged Users" feature. It will allow additional content to be added below the message.</span></td>
                      </tr><tr>
                        <th>418</th><th> </th><td class="l"><span>- Added a new filter for the user delete action.</span></td>
                      </tr><tr>
                        <th>419</th><th> </th><td class="l"><span>- Updated the Norwegian language file.</span></td>
                      </tr><tr>
                        <th>420</th><th> </th><td class="l"><span>- Added nonce check to the bulk delete feature of the members menu.</span></td>
                      </tr><tr>
                        <th>421</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>422</th><th> </th><td class="l"><span>= 4.0.8 =</span></td>
                      </tr><tr>
                        <th>423</th><th> </th><td class="l"><span>- Added a new utility function in the plugin to retrieve wp user roles by ID.</span></td>
                      </tr><tr>
                        <th>424</th><th> </th><td class="l"><span>- Added French (Canadian) language translation file to the plugin. Thank you to Ariane Larivière.</span></td>
                      </tr><tr>
                        <th>425</th><th> </th><td class="l"><span>- Added a check to prevent an extra empty line output with a notice/message.</span></td>
                      </tr><tr>
                        <th>426</th><th> </th><td class="l"><span>- Updated the HTML ID value for the privacy policy checkbox item.</span></td>
                      </tr><tr>
                        <th>427</th><th> </th><td class="l"><span>- The debug log file names are uniquely generated on per install.</span></td>
                      </tr><tr>
                        <th>428</th><th> </th><td class="l"><span>- Added nonce check to the debug log file reset action.</span></td>
                      </tr><tr>
                        <th>429</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>430</th><th> </th><td class="l"><span>= 4.0.7 =</span></td>
                      </tr><tr>
                        <th>431</th><th> </th><td class="l"><span>- Stripe sca subscriptions enhancement: restore the custom field value from the original webhook notification (when available).</span></td>
                      </tr><tr>
                        <th>432</th><th> </th><td class="l"><span>- Custom fields data (if available) is also saved in the swpm_transactions custom post type after a transaction.</span></td>
                      </tr><tr>
                        <th>433</th><th> </th><td class="l"><span>- Updated the Dutch language file.</span></td>
                      </tr><tr>
                        <th>434</th><th> </th><td class="l"><span>- Integration with the [WP Express Checkout plugin](https://wordpress.org/plugins/wp-express-checkout/).</span></td>
                      </tr><tr>
                        <th>435</th><th> </th><td class="l"><span>- WordPress 5.8 compatibility.</span></td>
                      </tr><tr>
                        <th>436</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>437</th><th> </th><td class="l"><span>= 4.0.6 =</span></td>
                      </tr><tr>
                        <th>438</th><th> </th><td class="l"><span>- Added an option in the [swpm_paypal_subscription_cancel_link] shortcode to allow opening the window in a new tab.</span></td>
                      </tr><tr>
                        <th>439</th><th> </th><td class="l"><span>- Added an option in the [swpm_paypal_subscription_cancel_link] shortcode to add CSS class for customization purpose.</span></td>
                      </tr><tr>
                        <th>440</th><th> </th><td class="l"><span>- Added a new shortcode to display the total number of members (just display the total number). This shortcode is available in the free Miscellaneous Shortcodes addon.</span></td>
                      </tr><tr>
                        <th>441</th><th> </th><td class="l"><span>- Fixed a calculation in the auto delete pending email activation data function. Thanks to @satoshi for pointing it out.</span></td>
                      </tr><tr>
                        <th>442</th><th> </th><td class="l"><span>- Spelling fixes for some of the description field and error messages. Thanks to @Ronaldo for pointing it out.</span></td>
                      </tr><tr>
                        <th>443</th><th> </th><td class="l"><span>- Regenerated the language translation POT file.</span></td>
                      </tr><tr>
                        <th>444</th><th> </th><td class="l"><span>- Updated the Spanish language file.</span></td>
                      </tr><tr>
                        <th>445</th><th> </th><td class="l"><span>- Updated the Czech language file.</span></td>
                      </tr><tr>
                        <th>446</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>447</th><th> </th><td class="l"><span>= 4.0.5 =</span></td>
                      </tr><tr>
                        <th>448</th><th> </th><td class="l"><span>- Added a new filter hook to allow overriding of the display_name field when adding a member via the admin interface.</span></td>
                      </tr><tr>
                        <th>449</th><th> </th><td class="l"><span>- Added a new filter hook to allow overriding of the account status value when a subscription renewal payment comes in. The filter name is: swpm_account_status_for_subscription_start_date_update</span></td>
                      </tr><tr>
                        <th>450</th><th> </th><td class="l"><span>- Added slovenian language translation file to the plugin.</span></td>
                      </tr><tr>
                        <th>451</th><th> </th><td class="l"><span>- The {membership_level_name} email merge tag will now work for the "Notify User" feature that can be used when editing a member's profile (from the admin dashboard).</span></td>
                      </tr><tr>
                        <th>452</th><th> </th><td class="l"><span>- Updated the Dutch translation file.</span></td>
                      </tr><tr>
                        <th>453</th><th> </th><td class="l"><span>- Fixed the positioning of the validation result message for the username field in the "Add New Member" interface.</span></td>
                      </tr><tr>
                        <th>454</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>455</th><th> </th><td class="l"><span>= 4.0.4 = </span></td>
                      </tr><tr>
                        <th>456</th><th> </th><td class="l"><span>- Added a new filter to allow overriding the auth cookie value for when the "Logout Member on Browser Close" feature is enabled.</span></td>
                      </tr><tr>
                        <th>457</th><th> </th><td class="l"><span>- Updated the Swedish translation file.</span></td>
                      </tr><tr>
                        <th>458</th><th> </th><td class="l"><span>- Added more sanitization to the search query of members and membership level menu in the admin interface. Thanks to @Martin Vierula for pointing it out.</span></td>
                      </tr><tr>
                        <th>459</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>460</th><th> </th><td class="l"><span>= 4.0.3 =</span></td>
                      </tr><tr>
                        <th>461</th><th> </th><td class="l"><span>- WP 5.6 compatibility update with jQuery script. This will fix an issue whereby error messages on registration form weren't showing correctly.</span></td>
                      </tr><tr>
                        <th>462</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>463</th><th> </th><td class="l"><span>= 4.0.2 =</span></td>
                      </tr><tr>
                        <th>464</th><th> </th><td class="l"><span>- Added a new filter "swpm_admin_registration_add_user_template_path"</span></td>
                      </tr><tr>
                        <th>465</th><th> </th><td class="l"><span>- Added a new filter "swpm_admin_registration_edit_user_template_path"</span></td>
                      </tr><tr>
                        <th>466</th><th> </th><td class="l"><span>- Added an option to auto downgrade expired members to a free level. This feature is handled via the following addon:</span></td>
                      </tr><tr>
                        <th>467</th><th> </th><td class="l"><span>https://simple-membership-plugin.com/simple-membership-miscellaneous-shortcodes-addon/</span></td>
                      </tr><tr>
                        <th>468</th><th> </th><td class="l"><span>- Fixed a typo in a variable name.</span></td>
                      </tr><tr>
                        <th>469</th><th> </th><td class="l"><span>- The "Gender" value in the members menu is translatable. Thanks to @Th0masL for making this improvement.</span></td>
                      </tr><tr>
                        <th>470</th><th> </th><td class="l"><span>- Updated the French language translation file.</span></td>
                      </tr><tr>
                        <th>471</th><th> </th><td class="l"><span>- The "Bulk Account Activate &amp; Notify" option now sends the email one by one to all the selected members (instead of a batch email). To prevent email issue when used with SMTP solution.</span></td>
                      </tr><tr>
                        <th>472</th><th> </th><td class="l"><span>- Added more filters in the registration, edit profile and login forms.</span></td>
                      </tr><tr>
                        <th>473</th><th> </th><td class="l"><span>- The Stripe SDK library has been updated to latest. Minimum PHP version required for it is PHP5.6</span></td>
                      </tr><tr>
                        <th>474</th><th> </th><td class="l"><span>- Added new shortcode for Stripe subscription cancellation. The new shortcode is: [swpm_stripe_subscription_cancel_link]</span></td>
                      </tr><tr>
                        <th>475</th><th> </th><td class="l"><span>- Added a check to prevent duplicate IPN notification creating duplicate entries. Thanks to @Th0masL for making this improvement.</span></td>
                      </tr><tr>
                        <th>476</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>477</th><th> </th><td class="l"><span>= 4.0.1 =</span></td>
                      </tr><tr>
                        <th>478</th><th> </th><td class="l"><span>- Added the "Button Image URL" field for the Stripe Buy Now type buttons (to allow button image customization).</span></td>
                      </tr><tr>
                        <th>479</th><th> </th><td class="l"><span>- The user role options for the "Admin Dashboard Access Permission" settings field will show the translated values.</span></td>
                      </tr><tr>
                        <th>480</th><th> </th><td class="l"><span>- The settings menu update capability will also respects the "Role" permission set in the "Admin Dashboard Access Permission" settings.</span></td>
                      </tr><tr>
                        <th>481</th><th> </th><td class="l"><span>- Added a check to see if an username exists in the create_wp_user() function.</span></td>
                      </tr><tr>
                        <th>482</th><th> </th><td class="l"><span>- Stripe SCA Subscription button configuration interface - renamed the label from "Stripe Plan ID" to "Stripe API ID" (to match with Stripe's recent interface changes).</span></td>
                      </tr><tr>
                        <th>483</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>484</th><th> </th><td class="l"><span>= 4.0.0 =</span></td>
                      </tr><tr>
                        <th>485</th><th> </th><td class="l"><span>- Removed the "Use WordPress Timezone" settings option from the advanced settings menu. This option can conflict with some events management type plugins.</span></td>
                      </tr><tr>
                        <th>486</th><th> </th><td class="l"><span>- The plugin will now record the date values according to your WordPress timezone settings (by default).</span></td>
                      </tr><tr>
                        <th>487</th><th> </th><td class="l"><span>- The debug log file will record timestamp values in the format ['Y/m/d H:i:s']. Example Value: [2020/07/24 11:58:39]</span></td>
                      </tr><tr>
                        <th>488</th><th> </th><td class="l"><span>- Added help text to the "Admin Dashboard Access Permission" field to explain that it should not be used with the "Disable Access to WP Dashboard" option. </span></td>
                      </tr><tr>
                        <th>489</th><th> </th><td class="l"><span>- Added a note for when a user enables conflicting options in the advanced settings.</span></td>
                      </tr><tr>
                        <th>490</th><th> </th><td class="l"><span>- Completed testing on WP 5.5 version.</span></td>
                      </tr><tr>
                        <th>491</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>492</th><th> </th><td class="l"><span>= 3.9.9 =</span></td>
                      </tr><tr>
                        <th>493</th><th> </th><td class="l"><span>- Added an enhancement to accept empty address value and force updating (when admin updates the address of a member profile from admin interface).</span></td>
                      </tr><tr>
                        <th>494</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>495</th><th> </th><td class="l"><span>= 3.9.8 = </span></td>
                      </tr><tr>
                        <th>496</th><th> </th><td class="l"><span>- Added a new action hook 'swpm_validate_login_hash_mismatch'</span></td>
                      </tr><tr>
                        <th>497</th><th> </th><td class="l"><span>- Ability to manually add a transaction record in the Payments menu of the plugin</span></td>
                      </tr><tr>
                        <th>498</th><th> </th><td class="l"><span>- Added a new feature to hide the registration from to logged-in members. The new option is available in the Advanced settings menu.</span></td>
                      </tr><tr>
                        <th>499</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>500</th><th> </th><td class="l"><span>= 3.9.7 =</span></td>
                      </tr><tr>
                        <th>501</th><th> </th><td class="l"><span>- Added minor improvements to the get_current_page_url() function to increase compatibility with some servers.</span></td>
                      </tr><tr>
                        <th>502</th><th> </th><td class="l"><span>- The mini login shortcode will also work with the "Enable Redirect to Last Page" feature from the after login redirection addon.</span></td>
                      </tr><tr>
                        <th>503</th><th> </th><td class="l"><span>- Updated the Japanese language translation file.</span></td>
                      </tr><tr>
                        <th>504</th><th> </th><td class="l"><span>- Minor Stripe SCA button related enhancements (added filter).</span></td>
                      </tr><tr>
                        <th>505</th><th> </th><td class="l"><span>- Stripe buy now transactions (One-time payments) will now have a link to the user "profile" in the "payments" menu.</span></td>
                      </tr><tr>
                        <th>506</th><th> </th><td class="l"><span>- Chinese language file name changed from zh_Hans to zh_HK.</span></td>
                      </tr><tr>
                        <th>507</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>508</th><th> </th><td class="l"><span>= 3.9.6 =</span></td>
                      </tr><tr>
                        <th>509</th><th> </th><td class="l"><span>- Added a new global settings for Stripe API keys in the "Payment Settings" tab. It can be used to enter your API keys (instead of individual buttons each time).</span></td>
                      </tr><tr>
                        <th>510</th><th> </th><td class="l"><span>- Added a new filter to allow customization of the email activation message (if the email activation feature is enabled).</span></td>
                      </tr><tr>
                        <th>511</th><th> </th><td class="l"><span>- The subsequent payments for stripe subscription will also be captured in the payments menu. Need to add the "invoice.payment_succeeded" to the webhook events monitoring. </span></td>
                      </tr><tr>
                        <th>512</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>513</th><th> </th><td class="l"><span>= 3.9.5 =</span></td>
                      </tr><tr>
                        <th>514</th><th> </th><td class="l"><span>- Added a new filter (swpm_mini_login_output). It can be used to override the [swpm_mini_login] shortcode's output.</span></td>
                      </tr><tr>
                        <th>515</th><th> </th><td class="l"><span>- The "Edit" link in the members menu has been renamed to "Edit/View" to make it more user-friendly.</span></td>
                      </tr><tr>
                        <th>516</th><th> </th><td class="l"><span>- Updated the German language file.</span></td>
                      </tr><tr>
                        <th>517</th><th> </th><td class="l"><span>- The members listing in the members menu can now be sorted by the "Access Starts" column.</span></td>
                      </tr><tr>
                        <th>518</th><th> </th><td class="l"><span>- Fixed an issue with Stripe SCA buttons whereby duplicate "incomplete" entries were being created. This started happening recently from a new change that Stripe made.</span></td>
                      </tr><tr>
                        <th>519</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>520</th><th> </th><td class="l"><span>= 3.9.4 =</span></td>
                      </tr><tr>
                        <th>521</th><th> </th><td class="l"><span>- Commented out call to date_default_timezone_set() function for WP5.3.</span></td>
                      </tr><tr>
                        <th>522</th><th> </th><td class="l"><span>- Updated some comments in the SwpmAjax class.</span></td>
                      </tr><tr>
                        <th>523</th><th> </th><td class="l"><span>- Added an extra content protection check for post preview URL.</span></td>
                      </tr><tr>
                        <th>524</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>525</th><th> </th><td class="l"><span>= 3.9.3 =</span></td>
                      </tr><tr>
                        <th>526</th><th> </th><td class="l"><span>- Added the option to enable HTML email in the email settings menu of the plugin.</span></td>
                      </tr><tr>
                        <th>527</th><th> </th><td class="l"><span>- The Stripe subscription updated event is now handled by the plugin.</span></td>
                      </tr><tr>
                        <th>528</th><th> </th><td class="l"><span>- A new shortcode to create a PayPal subscription cancellation link that a member can use to view the subscription from their account and cancel.</span></td>
                      </tr><tr>
                        <th>529</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>530</th><th> </th><td class="l"><span>= 3.9.2 =</span></td>
                      </tr><tr>
                        <th>531</th><th> </th><td class="l"><span>- Spanish translation language files updated.</span></td>
                      </tr><tr>
                        <th>532</th><th> </th><td class="l"><span>- Added more debug logging statement in the IPN handling script for easier troubleshooting.</span></td>
                      </tr><tr>
                        <th>533</th><th> </th><td class="l"><span>- Fixed an issue with the new SCA stripe subscription cancellation webhook.</span></td>
                      </tr><tr>
                        <th>534</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>535</th><th> </th><td class="l"><span>= 3.9.1 =</span></td>
                      </tr><tr>
                        <th>536</th><th> </th><td class="l"><span>- Fixed excessive debug log output in the log file when the New SCA compatible Stripe subscription button is used.</span></td>
                      </tr><tr>
                        <th>537</th><th> </th><td class="l"><span>- Stripe library is only loaded if another plugin hasn't loaded it already.</span></td>
                      </tr><tr>
                        <th>538</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>539</th><th> </th><td class="l"><span>= 3.9.0 =</span></td>
                      </tr><tr>
                        <th>540</th><th> </th><td class="l"><span>- Added new Stripe SCA button types. You can now go to the Payments -&gt; Create New Button interface to create SCA compatible Stripe payment buttons.</span></td>
                      </tr><tr>
                        <th>541</th><th> </th><td class="l"><span>- Please note that we have tested the new SCA compatible buttons. However, it may have some compatibility issues that we will be addressing over the next few days as we receive feedback from the users.</span></td>
                      </tr><tr>
                        <th>542</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>543</th><th> </th><td class="l"><span>= 3.8.9 =</span></td>
                      </tr><tr>
                        <th>544</th><th> </th><td class="l"><span>- Added a new feature in the email settings menu to allow disabling of the "Account Upgraded" email notification.</span></td>
                      </tr><tr>
                        <th>545</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>546</th><th> </th><td class="l"><span>= 3.8.8 =</span></td>
                      </tr><tr>
                        <th>547</th><th> </th><td class="l"><span>- The expiry date in the login widget now shows the translated date value for Non-English installs.</span></td>
                      </tr><tr>
                        <th>548</th><th> </th><td class="l"><span>- Updated the German language translation files.</span></td>
                      </tr><tr>
                        <th>549</th><th> </th><td class="l"><span>- Integration with the Super Socializer plugin for social login.</span></td>
                      </tr><tr>
                        <th>550</th><th> </th><td class="l"><span>&nbsp; https://simple-membership-plugin.com/social-login-plugin-simple-membership/</span></td>
                      </tr><tr>
                        <th>551</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>552</th><th> </th><td class="l"><span>= 3.8.7 =</span></td>
                      </tr><tr>
                        <th>553</th><th> </th><td class="l"><span>- Removed a PHP warning in the wp_password_reset_hook(). Thanks to John Wick for pointing this out.</span></td>
                      </tr><tr>
                        <th>554</th><th> </th><td class="l"><span>- Small improvement to the PayPal subscription IPN handling script.</span></td>
                      </tr><tr>
                        <th>555</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>556</th><th> </th><td class="l"><span>= 3.8.6 =</span></td>
                      </tr><tr>
                        <th>557</th><th> </th><td class="l"><span>- Added nonce check to the "Addons settings" tab.</span></td>
                      </tr><tr>
                        <th>558</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>559</th><th> </th><td class="l"><span>= 3.8.5 =</span></td>
                      </tr><tr>
                        <th>560</th><th> </th><td class="l"><span>- Fixed CSRF issue in the Bulk Operation menu tab.</span></td>
                      </tr><tr>
                        <th>561</th><th> </th><td class="l"><span>- Fixed Braintree payment issue that could occur if customer pays via PayPal.</span></td>
                      </tr><tr>
                        <th>562</th><th> </th><td class="l"><span>- Fixed Stripe library conflict if other Stripe plugin is installed.</span></td>
                      </tr><tr>
                        <th>563</th><th> </th><td class="l"><span>- Added support for the coupons addon.</span></td>
                      </tr><tr>
                        <th>564</th><th> </th><td class="l"><span>- Added current_user_can() check to the admin menu handling function.</span></td>
                      </tr><tr>
                        <th>565</th><th> </th><td class="l"><span>- Added nonce check to wp_ajax.</span></td>
                      </tr><tr>
                        <th>566</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>567</th><th> </th><td class="l"><span>= 3.8.4 =</span></td>
                      </tr><tr>
                        <th>568</th><th> </th><td class="l"><span>- More strings from the settings admin interface of the plugin are translatable.</span></td>
                      </tr><tr>
                        <th>569</th><th> </th><td class="l"><span>- The strong password validation error message is now translatable (if you are using this feature).</span></td>
                      </tr><tr>
                        <th>570</th><th> </th><td class="l"><span>- Minor enhancement in the PayPal IPN handling code.</span></td>
                      </tr><tr>
                        <th>571</th><th> </th><td class="l"><span>- Fixed an issue with some profile data not updating when password is also updated at the same time.</span></td>
                      </tr><tr>
                        <th>572</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>573</th><th> </th><td class="l"><span>= 3.8.3 =</span></td>
                      </tr><tr>
                        <th>574</th><th> </th><td class="l"><span>- Updated Braintree PHP SDK to prevent deprecation notice when using PHP 7+.</span></td>
                      </tr><tr>
                        <th>575</th><th> </th><td class="l"><span>- The "Expiry Date" of a member is now shown in the member's profile of the admin dashboard.</span></td>
                      </tr><tr>
                        <th>576</th><th> </th><td class="l"><span>- Compatibility with Wordfence plugin's captcha feature.</span></td>
                      </tr><tr>
                        <th>577</th><th> </th><td class="l"><span>- German translation file updated.</span></td>
                      </tr><tr>
                        <th>578</th><th> </th><td class="l"><span>- Japanese translation file updated.</span></td>
                      </tr><tr>
                        <th>579</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>580</th><th> </th><td class="l"><span>= 3.8.2 =</span></td>
                      </tr><tr>
                        <th>581</th><th> </th><td class="l"><span>- Added membership level and account status filter in the member search function (Members menu of admin dashboard).</span></td>
                      </tr><tr>
                        <th>582</th><th> </th><td class="l"><span>- Updated the Polish language translation.</span></td>
                      </tr><tr>
                        <th>583</th><th> </th><td class="l"><span>- Added a filter hook in the get_current_page_url() function.</span></td>
                      </tr><tr>
                        <th>584</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>585</th><th> </th><td class="l"><span>= 3.8.1 =</span></td>
                      </tr><tr>
                        <th>586</th><th> </th><td class="l"><span>- [Important Note] If you are using the Braintree gateway, please take a backup before updating. Do a test transaction using Braintree gateway on live mode to make sure the new 3D Secure changes are working fine. </span></td>
                      </tr><tr>
                        <th>587</th><th> </th><td class="l"><span>- Added 3D Secure support for Braintree payment gateway buttons. It automatically tries to detect if 3DS is enabled, then shows the additional steps.</span></td>
                      </tr><tr>
                        <th>588</th><th> </th><td class="l"><span>- Added note for email activation feature regarding temporary passwords storage.</span></td>
                      </tr><tr>
                        <th>589</th><th> </th><td class="l"><span>- Added "swpm_email_activation_data" filter to modify user email activation data.</span></td>
                      </tr><tr>
                        <th>590</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>591</th><th> </th><td class="l"><span>= 3.8.0 =</span></td>
                      </tr><tr>
                        <th>592</th><th> </th><td class="l"><span>- Email activation's temporary data is now stored in an encrypted format.</span></td>
                      </tr><tr>
                        <th>593</th><th> </th><td class="l"><span>- Fixed email activation data leftovers removal in the DB.</span></td>
                      </tr><tr>
                        <th>594</th><th> </th><td class="l"><span>- Updated some translation strings.</span></td>
                      </tr><tr>
                        <th>595</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>596</th><th> </th><td class="l"><span>= 3.7.9 =</span></td>
                      </tr><tr>
                        <th>597</th><th> </th><td class="l"><span>- Added new shortcode [swpm_show_after_login_page_link] via the swpm misc shortcodes addon.</span></td>
                      </tr><tr>
                        <th>598</th><th> </th><td class="l"><span>- More characters are now allowed in the "username" field.</span></td>
                      </tr><tr>
                        <th>599</th><th> </th><td class="l"><span>- Fixed a minor bug with the plugin not finding the corresponding member's profile when a subscritpion is canceled.</span></td>
                      </tr><tr>
                        <th>600</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>601</th><th> </th><td class="l"><span>= 3.7.8 =</span></td>
                      </tr><tr>
                        <th>602</th><th> </th><td class="l"><span>- Added a new feature to allow forwarding of the payment notification to an external URL. This option can be found in the "Advanced Settings" of the plugin.</span></td>
                      </tr><tr>
                        <th>603</th><th> </th><td class="l"><span>- The "Forgot Password?" translation string in the login form will allow the "?" character to be translated/customized.</span></td>
                      </tr><tr>
                        <th>604</th><th> </th><td class="l"><span>- Fixed a PHP7 related warning.</span></td>
                      </tr><tr>
                        <th>605</th><th> </th><td class="l"><span>- Updated some translation strings.</span></td>
                      </tr><tr>
                        <th>606</th><th> </th><td class="l"><span>- Corrected an spelling mistake.</span></td>
                      </tr><tr>
                        <th>607</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>608</th><th> </th><td class="l"><span>= 3.7.7 =</span></td>
                      </tr><tr>
                        <th>609</th><th> </th><td class="l"><span>- Added a new filter hook that can be used to override the account status of the email activation feature. swpm_activation_feature_override_account_status</span></td>
                      </tr><tr>
                        <th>610</th><th> </th><td class="l"><span>- Added email activation support for Form Builder.</span></td>
                      </tr><tr>
                        <th>611</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>612</th><th> </th><td class="l"><span>= 3.7.6 =</span></td>
                      </tr><tr>
                        <th>613</th><th> </th><td class="l"><span>- Updated the DB version number.</span></td>
                      </tr><tr>
                        <th>614</th><th> </th><td class="l"><span>- Updated the German language file.</span></td>
                      </tr><tr>
                        <th>615</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>616</th><th> </th><td class="l"><span>= 3.7.5.1 =</span></td>
                      </tr><tr>
                        <th>617</th><th> </th><td class="l"><span>- Fixed a minor bug with the new email activation feature.</span></td>
                      </tr><tr>
                        <th>618</th><th> </th><td class="l"><span>- Changed Stripe plan name to use the nickname.</span></td>
                      </tr><tr>
                        <th>619</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>620</th><th> </th><td class="l"><span>= 3.7.5 =</span></td>
                      </tr><tr>
                        <th>621</th><th> </th><td class="l"><span>- Added a new feature to enable email activation/confirmation. Useful if you want to enable this for your free membership level.</span></td>
                      </tr><tr>
                        <th>622</th><th> </th><td class="l"><span>- Username can only contain: letters, numbers and .-*@. This is so the username field accepts what is allowed by WordPress for that field.</span></td>
                      </tr><tr>
                        <th>623</th><th> </th><td class="l"><span>- Added a new utility function.</span></td>
                      </tr><tr>
                        <th>624</th><th> </th><td class="l"><span>- Added a function to show formatted expiry date.</span></td>
                      </tr><tr>
                        <th>625</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>626</th><th> </th><td class="l"><span>= 3.7.4 =</span></td>
                      </tr><tr>
                        <th>627</th><th> </th><td class="l"><span>- Stripe Subscription now considers plan trial period settings.</span></td>
                      </tr><tr>
                        <th>628</th><th> </th><td class="l"><span>- Added CSS class names to the fields in the admin add/edit members interface.</span></td>
                      </tr><tr>
                        <th>629</th><th> </th><td class="l"><span>- Added more translatable strings to the POT file.</span></td>
                      </tr><tr>
                        <th>630</th><th> </th><td class="l"><span>- WordPress 5.0 compatibility</span></td>
                      </tr><tr>
                        <th>631</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>632</th><th> </th><td class="l"><span>= 3.7.3 =</span></td>
                      </tr><tr>
                        <th>633</th><th> </th><td class="l"><span>- Created a new free addon to offer full page style protection. https://simple-membership-plugin.com/full-page-protection-addon-simple-membership/</span></td>
                      </tr><tr>
                        <th>634</th><th> </th><td class="l"><span>- The mini login shortcode output is now translatable</span></td>
                      </tr><tr>
                        <th>635</th><th> </th><td class="l"><span>- Fixed Smart Checkout buttons were not working in live mode under some circumstances</span></td>
                      </tr><tr>
                        <th>636</th><th> </th><td class="l"><span>- Fixed minor display issues for PayPal Smart Checkout buttons</span></td>
                      </tr><tr>
                        <th>637</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>638</th><th> </th><td class="l"><span>= 3.7.2 =</span></td>
                      </tr><tr>
                        <th>639</th><th> </th><td class="l"><span>- Added a new feature that allows you to automatically logout the users when they close the browser.</span></td>
                      </tr><tr>
                        <th>640</th><th> </th><td class="l"><span>- Added support for Two-Factor Authentication addon.</span></td>
                      </tr><tr>
                        <th>641</th><th> </th><td class="l"><span>- Added a new utility function.</span></td>
                      </tr><tr>
                        <th>642</th><th> </th><td class="l"><span>- Improved the social login functionality.</span></td>
                      </tr><tr>
                        <th>643</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>644</th><th> </th><td class="l"><span>= 3.7.1 =</span></td>
                      </tr><tr>
                        <th>645</th><th> </th><td class="l"><span>- Moved the IPN handling code from "init" hook to "wp_loaded" hook for better compatibility.</span></td>
                      </tr><tr>
                        <th>646</th><th> </th><td class="l"><span>- The configuration fields for "Publishable" and "Secret" keys for Stripe has been swapped. This will align them better with how you get the info from your Stripe account.</span></td>
                      </tr><tr>
                        <th>647</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>648</th><th> </th><td class="l"><span>= 3.7.0 =</span></td>
                      </tr><tr>
                        <th>649</th><th> </th><td class="l"><span>- Added PayPal smart checkout button option. https://simple-membership-plugin.com/creating-paypal-smart-checkout-buttons-for-membership-payment/</span></td>
                      </tr><tr>
                        <th>650</th><th> </th><td class="l"><span>- Added a new filter hook swpm_edit_profile_form_before_username</span></td>
                      </tr><tr>
                        <th>651</th><th> </th><td class="l"><span>- Added a new filter hook swpm_edit_profile_form_before_submit</span></td>
                      </tr><tr>
                        <th>652</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>653</th><th> </th><td class="l"><span>= 3.6.9 =</span></td>
                      </tr><tr>
                        <th>654</th><th> </th><td class="l"><span>- Added a new feature that allows you to configure an after logout redirect URL. This new feature is available in the "Advanced Settings" tab of the plugin.</span></td>
                      </tr><tr>
                        <th>655</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>656</th><th> </th><td class="l"><span>= 3.6.8 =</span></td>
                      </tr><tr>
                        <th>657</th><th> </th><td class="l"><span>- Fixed an Warning: count(): Parameter must be an array or an object that implements Countable.</span></td>
                      </tr><tr>
                        <th>658</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>659</th><th> </th><td class="l"><span>= 3.6.7 =</span></td>
                      </tr><tr>
                        <th>660</th><th> </th><td class="l"><span>- Captcha addon has the "Light" or "Dark" theme options. It also has the compact captcha option.</span></td>
                      </tr><tr>
                        <th>661</th><th> </th><td class="l"><span>- German language translation file updated. Thanks to Herbert Heupke.</span></td>
                      </tr><tr>
                        <th>662</th><th> </th><td class="l"><span>- Membership level update action will update the member's wp user role (if specified in the membership level).</span></td>
                      </tr><tr>
                        <th>663</th><th> </th><td class="l"><span>- Fixed rare issue when selected currency for Stripe buttons was ignored.</span></td>
                      </tr><tr>
                        <th>664</th><th> </th><td class="l"><span>- Fixed typo in configuration parameter for Stripe buttons that was producing warning in browser console.</span></td>
                      </tr><tr>
                        <th>665</th><th> </th><td class="l"><span>- Stripe is now tries to detect visitor's language and use it in payment pop-up.</span></td>
                      </tr><tr>
                        <th>666</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>667</th><th> </th><td class="l"><span>= 3.6.6 =</span></td>
                      </tr><tr>
                        <th>668</th><th> </th><td class="l"><span>- Added a new feature to show a terms and conditon checkbox. Users must agree to your terms before they can register for an account. Useful for GDPR.</span></td>
                      </tr><tr>
                        <th>669</th><th> </th><td class="l"><span>- Added a new feature to show a privacy policy checkbox. Users must agree to your privacy policy before they can register for an account. Useful for GDPR.</span></td>
                      </tr><tr>
                        <th>670</th><th> </th><td class="l"><span>- Last login date of the members are now shown in the members listing page in the admin dashboard.</span></td>
                      </tr><tr>
                        <th>671</th><th> </th><td class="l"><span>- Added a feature in the tools menu of the plugin to re-create the required pages of the membership plugin.</span></td>
                      </tr><tr>
                        <th>672</th><th> </th><td class="l"><span>- Fixed a typo in the country name "Colombia".</span></td>
                      </tr><tr>
                        <th>673</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>674</th><th> </th><td class="l"><span>= 3.6.5 =</span></td>
                      </tr><tr>
                        <th>675</th><th> </th><td class="l"><span>- Updated the Swedish translation file. Thanks to Andreas Damberg for submitting the translation file.</span></td>
                      </tr><tr>
                        <th>676</th><th> </th><td class="l"><span>- Developer API to query, update, create member accounts.</span></td>
                      </tr><tr>
                        <th>677</th><th> </th><td class="l"><span>- Added a new feature in the advanced settings to allow automatic member creation for WP users that get created by other plugins.</span></td>
                      </tr><tr>
                        <th>678</th><th> </th><td class="l"><span>- Added a couple of utility functions in the membership level class.</span></td>
                      </tr><tr>
                        <th>679</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>680</th><th> </th><td class="l"><span>= 3.6.4 = </span></td>
                      </tr><tr>
                        <th>681</th><th> </th><td class="l"><span>- Added a new shortcode to show a mini login form. This can be useful to show a mini login form on the sidebar, header or footer area of the site.</span></td>
                      </tr><tr>
                        <th>682</th><th> </th><td class="l"><span>- Fixed an issue with the auto login after registration feature when used with form builder addon.</span></td>
                      </tr><tr>
                        <th>683</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>684</th><th> </th><td class="l"><span>= 3.6.3 =</span></td>
                      </tr><tr>
                        <th>685</th><th> </th><td class="l"><span>- Added a new feature to enable auto login after registration for the members.</span></td>
                      </tr><tr>
                        <th>686</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>687</th><th> </th><td class="l"><span>= 3.6.2 =</span></td>
                      </tr><tr>
                        <th>688</th><th> </th><td class="l"><span>- Added a new feature to enforce strong password on the password field. When this option is enabled in the advanced settings, the members will be required to use a strong password.</span></td>
                      </tr><tr>
                        <th>689</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>690</th><th> </th><td class="l"><span>= 3.6.1 =</span></td>
                      </tr><tr>
                        <th>691</th><th> </th><td class="l"><span>- Langauge POT file regenerated.</span></td>
                      </tr><tr>
                        <th>692</th><th> </th><td class="l"><span>- Added a new filter so the registration complete email body can be overriden and the email can be disabled using a small tweak.</span></td>
                      </tr><tr>
                        <th>693</th><th> </th><td class="l"><span>- The member gets logged out of the wp user session when the password is changed from profile edit page.</span></td>
                      </tr><tr>
                        <th>694</th><th> </th><td class="l"><span>- Force logout is called when bad login hash is detected.</span></td>
                      </tr><tr>
                        <th>695</th><th> </th><td class="l"><span>- Fixed a bug in the tools menu (prompt to complete registration email sending).</span></td>
                      </tr><tr>
                        <th>696</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>697</th><th> </th><td class="l"><span>= 3.6.0 =</span></td>
                      </tr><tr>
                        <th>698</th><th> </th><td class="l"><span>- Added a new feature to allow configuration of an after registration redirect. The advanced settings tab has the new option.</span></td>
                      </tr><tr>
                        <th>699</th><th> </th><td class="l"><span>- Added extra help text in the email settings menu.</span></td>
                      </tr><tr>
                        <th>700</th><th> </th><td class="l"><span>- The subscription cancellation code will now use the subscriber ID.</span></td>
                      </tr><tr>
                        <th>701</th><th> </th><td class="l"><span>- Changed the "Edit Membership Level" button label to say "Save Membership Level"</span></td>
                      </tr><tr>
                        <th>702</th><th> </th><td class="l"><span>- Updated the local copy of the German language file. Thanks to Herbert Heupke.</span></td>
                      </tr><tr>
                        <th>703</th><th> </th><td class="l"><span>- Created a new free addon to handle bulk member import from a CSV file.</span></td>
                      </tr><tr>
                        <th>704</th><th> </th><td class="l"><span>- Added a new filter to allow overriding of the after registration redirection URL.</span></td>
                      </tr><tr>
                        <th>705</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>706</th><th> </th><td class="l"><span>= 3.5.9 =</span></td>
                      </tr><tr>
                        <th>707</th><th> </th><td class="l"><span>- Japanese Yen currency fix for Stripe subscription.</span></td>
                      </tr><tr>
                        <th>708</th><th> </th><td class="l"><span>- Added a new email merge tag for membership level name {membership_level_name}</span></td>
                      </tr><tr>
                        <th>709</th><th> </th><td class="l"><span>- There is a new option called "Force WP User Synchronization" in the advanced settings menu of the plugin.</span></td>
                      </tr><tr>
                        <th>710</th><th> </th><td class="l"><span>- Fixed an warning that can appear sometime when updating the advanced settings interface.</span></td>
                      </tr><tr>
                        <th>711</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>712</th><th> </th><td class="l"><span>= 3.5.8 =</span></td>
                      </tr><tr>
                        <th>713</th><th> </th><td class="l"><span>- Changed the "Edit Member" button text to "Save Data" in the admin member edit interface.</span></td>
                      </tr><tr>
                        <th>714</th><th> </th><td class="l"><span>- Added a new function to logout the user from the swpm system if the corresponding wp user session is logged out.</span></td>
                      </tr><tr>
                        <th>715</th><th> </th><td class="l"><span>- The company name field will now be shown in the edit profile form.</span></td>
                      </tr><tr>
                        <th>716</th><th> </th><td class="l"><span>- The stripe button configuration allows you to enable an option to collect billing address</span></td>
                      </tr><tr>
                        <th>717</th><th> </th><td class="l"><span>- The country field is now a dropdown option.</span></td>
                      </tr><tr>
                        <th>718</th><th> </th><td class="l"><span>- Added a filter hook for the paypal email address in the payment button.</span></td>
                      </tr><tr>
                        <th>719</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>720</th><th> </th><td class="l"><span>= 3.5.7 =</span></td>
                      </tr><tr>
                        <th>721</th><th> </th><td class="l"><span>- Added updated German translation file.</span></td>
                      </tr><tr>
                        <th>722</th><th> </th><td class="l"><span>- Fixed a permissions check bug (thanks to Neb).</span></td>
                      </tr><tr>
                        <th>723</th><th> </th><td class="l"><span>- Fixed a potential XSS vulnerability.</span></td>
                      </tr><tr>
                        <th>724</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>725</th><th> </th><td class="l"><span>= 3.5.6 =</span></td>
                      </tr><tr>
                        <th>726</th><th> </th><td class="l"><span>- Russian Ruble (₽) currency added for PayPal Buy Now and Subscription buttons. </span></td>
                      </tr><tr>
                        <th>727</th><th> </th><td class="l"><span>- "Return URL" and "Button Image URL" options for Stripe Subscription button are now properly saved and handled.</span></td>
                      </tr><tr>
                        <th>728</th><th> </th><td class="l"><span>- Stripe Subscription is now automatically cancelled when a member deletes his account. Will not work for members registered prior to this update.</span></td>
                      </tr><tr>
                        <th>729</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>730</th><th> </th><td class="l"><span>= 3.5.5 =</span></td>
                      </tr><tr>
                        <th>731</th><th> </th><td class="l"><span>- Updated the language text domain from "swpm" to "simple-membership". This will make it easy for the translation to be handled via https://translate.wordpress.org/</span></td>
                      </tr><tr>
                        <th>732</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>733</th><th> </th><td class="l"><span>= 3.5.4 =</span></td>
                      </tr><tr>
                        <th>734</th><th> </th><td class="l"><span>- Added a check for PHP5.4 to detect if a server is using very old version of PHP and show an appropriate warning message. This will prevent an error on server's using old PHP version.</span></td>
                      </tr><tr>
                        <th>735</th><th> </th><td class="l"><span>- Added a new feature in the paypal button configuration so you can specify a custom checkout page header/logo.</span></td>
                      </tr><tr>
                        <th>736</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>737</th><th> </th><td class="l"><span>= 3.5.3 =</span></td>
                      </tr><tr>
                        <th>738</th><th> </th><td class="l"><span>- The login widget now shows a link to the edit profile page (for the logged in members).</span></td>
                      </tr><tr>
                        <th>739</th><th> </th><td class="l"><span>- Applied a fix in the validation JS code that was preventing paid membership registration to be completed properly if the email field was skipped.</span></td>
                      </tr><tr>
                        <th>740</th><th> </th><td class="l"><span>- Added Stripe subscription checkout option.</span></td>
                      </tr><tr>
                        <th>741</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>742</th><th> </th><td class="l"><span>= 3.5.2 =</span></td>
                      </tr><tr>
                        <th>743</th><th> </th><td class="l"><span>- There is a new feature to apply protection to posts and pages in bulk. The following documentation explains how to use this feature:</span></td>
                      </tr><tr>
                        <th>744</th><th> </th><td class="l"><span>https://simple-membership-plugin.com/apply-protection-posts-pages-bulk/</span></td>
                      </tr><tr>
                        <th>745</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>746</th><th> </th><td class="l"><span>- Added a new utility function in the SwpmMemberUtils class.</span></td>
                      </tr><tr>
                        <th>747</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>748</th><th> </th><td class="l"><span>= 3.5.1 =</span></td>
                      </tr><tr>
                        <th>749</th><th> </th><td class="l"><span>- Added a new action hook (swpm_before_login_request_is_processed) that can be used to check stuff before the login request is processed by the plugin.</span></td>
                      </tr><tr>
                        <th>750</th><th> </th><td class="l"><span>- Stripe button: zero-decimal currencies (like JPY) are no longer multiplied by 100.</span></td>
                      </tr><tr>
                        <th>751</th><th> </th><td class="l"><span>- Turned off autocomplete for the email input field in the registration and edit profile forms.</span></td>
                      </tr><tr>
                        <th>752</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>753</th><th> </th><td class="l"><span>= 3.5.0 =</span></td>
                      </tr><tr>
                        <th>754</th><th> </th><td class="l"><span>- Updated the Spanish language translation file.</span></td>
                      </tr><tr>
                        <th>755</th><th> </th><td class="l"><span>- Added translation for Spanish (Venezuela). Translation was done by Santos Guerra.</span></td>
                      </tr><tr>
                        <th>756</th><th> </th><td class="l"><span>- Improved the current page URL check for the renewal page.</span></td>
                      </tr><tr>
                        <th>757</th><th> </th><td class="l"><span>- The {member_since} and {subscription_starts} email merge tags will output a formatted date value.</span></td>
                      </tr><tr>
                        <th>758</th><th> </th><td class="l"><span>- Turned off autocomplete in the edit profile's password field.</span></td>
                      </tr><tr>
                        <th>759</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>760</th><th> </th><td class="l"><span>= 3.4.9 =</span></td>
                      </tr><tr>
                        <th>761</th><th> </th><td class="l"><span>- Fixed a member profile edit issue that was introduced in the previous version from JavaScript library update.</span></td>
                      </tr><tr>
                        <th>762</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>763</th><th> </th><td class="l"><span>= 3.4.8 =</span></td>
                      </tr><tr>
                        <th>764</th><th> </th><td class="l"><span>- The password reset form will be hidden after a successful reset request.</span></td>
                      </tr><tr>
                        <th>765</th><th> </th><td class="l"><span>- Added a new utility function to write array content to the debug log file.</span></td>
                      </tr><tr>
                        <th>766</th><th> </th><td class="l"><span>- Added apply_filters() for all email subjects and bodies. This should be useful for a multi-lingual site.</span></td>
                      </tr><tr>
                        <th>767</th><th> </th><td class="l"><span>- Updated the validation JS library to the latest.</span></td>
                      </tr><tr>
                        <th>768</th><th> </th><td class="l"><span>- Updated the French language translation file.</span></td>
                      </tr><tr>
                        <th>769</th><th> </th><td class="l"><span>- Updated the Spanish language translation file.</span></td>
                      </tr><tr>
                        <th>770</th><th> </th><td class="l"><span>- Added Czech language translation to the plugin. The translation was submitted by Novakovska Eva.</span></td>
                      </tr><tr>
                        <th>771</th><th> </th><td class="l"><span>- Added Finnish language translation to the plugin. The translation was submitted by Lars Timberg.</span></td>
                      </tr><tr>
                        <th>772</th><th> </th><td class="l"><span>- The password field in the edit profile page has been changed to a "password" type field.</span></td>
                      </tr><tr>
                        <th>773</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>774</th><th> </th><td class="l"><span>= 3.4.7 = </span></td>
                      </tr><tr>
                        <th>775</th><th> </th><td class="l"><span>- There is a new feature for applying partial or section protection to posts and pages. This feature is available via a free addon.</span></td>
                      </tr><tr>
                        <th>776</th><th> </th><td class="l"><span>- Removed bundled jquery.tools18.min.js, switched to built-in WP jQuery UI.</span></td>
                      </tr><tr>
                        <th>777</th><th> </th><td class="l"><span>- Fixed a typo in the manage content protection menu tab.</span></td>
                      </tr><tr>
                        <th>778</th><th> </th><td class="l"><span>- Created a free addon for misc shortcodes.</span></td>
                      </tr><tr>
                        <th>779</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>780</th><th> </th><td class="l"><span>= 3.4.6 = </span></td>
                      </tr><tr>
                        <th>781</th><th> </th><td class="l"><span>- Added Arabic language translation to the plugin. The translation was submitted by Hanin Fatani.</span></td>
                      </tr><tr>
                        <th>782</th><th> </th><td class="l"><span>- Added an email tag {primary_address} that can be used in the notification email when address field is used in the form builder addon.</span></td>
                      </tr><tr>
                        <th>783</th><th> </th><td class="l"><span>- Removed the unnecessary $_SERVER["REQUEST_URI"] value from the post action.</span></td>
                      </tr><tr>
                        <th>784</th><th> </th><td class="l"><span>- Added reCAPTCHA support on the password reset form (for reCAPTCHA addon).</span></td>
                      </tr><tr>
                        <th>785</th><th> </th><td class="l"><span>- Added an option to specify a custom CSS class for Stripe and Braintree buttons to customize the button style. (The new shortcode parameter is "class").</span></td>
                      </tr><tr>
                        <th>786</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>787</th><th> </th><td class="l"><span>= 3.4.5 =</span></td>
                      </tr><tr>
                        <th>788</th><th> </th><td class="l"><span>- Added a new action hook that gets triggered when a member is added via the "Add Member" menu of admin dashboard.</span></td>
                      </tr><tr>
                        <th>789</th><th> </th><td class="l"><span>- The mailchimp addon will now add users to a list when added via the admin dashboard.</span></td>
                      </tr><tr>
                        <th>790</th><th> </th><td class="l"><span>- The paypal checkout custom field value will be encoded.</span></td>
                      </tr><tr>
                        <th>791</th><th> </th><td class="l"><span>- Fixed warning - Non-static method SimpleWpMembership::deactivate() should not be called statically.</span></td>
                      </tr><tr>
                        <th>792</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>793</th><th> </th><td class="l"><span>= 3.4.4 =</span></td>
                      </tr><tr>
                        <th>794</th><th> </th><td class="l"><span>- Updated the Spanish language translation file.</span></td>
                      </tr><tr>
                        <th>795</th><th> </th><td class="l"><span>- The {password} email merge tag will work in the admin notification email when a member submits the registration form.</span></td>
                      </tr><tr>
                        <th>796</th><th> </th><td class="l"><span>- Excluded the disable dashboard feature check from AJAX request.</span></td>
                      </tr><tr>
                        <th>797</th><th> </th><td class="l"><span>- Added a new filter to allow overriding of the registration complete email dynamically using custom code.</span></td>
                      </tr><tr>
                        <th>798</th><th> </th><td class="l"><span>- Added a placeholder text message for the password field in the "Edit Profile" page.</span></td>
                      </tr><tr>
                        <th>799</th><th> </th><td class="l"><span>- Added a new settings field to allow customization of the "Admin Notification Email Subject".</span></td>
                      </tr><tr>
                        <th>800</th><th> </th><td class="l"><span>- The manage members menu can be sorted using first name and last name.</span></td>
                      </tr><tr>
                        <th>801</th><th> </th><td class="l"><span>- Minor typo fix.</span></td>
                      </tr><tr>
                        <th>802</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>803</th><th> </th><td class="l"><span>= 3.4.3 =</span></td>
                      </tr><tr>
                        <th>804</th><th> </th><td class="l"><span>- Improved the formatting for the content that appears before the "more" tag on a more tag protected post.</span></td>
                      </tr><tr>
                        <th>805</th><th> </th><td class="l"><span>- Added a new feature to disable wp dashboard access for non-admin wp users. You can find this option under the general settings tab.</span></td>
                      </tr><tr>
                        <th>806</th><th> </th><td class="l"><span>- Added Mexican language translation file. The translation was submitted by Enrique alfonso.</span></td>
                      </tr><tr>
                        <th>807</th><th> </th><td class="l"><span>- Re-added the local copy of the Spanish translation files (Someone submitted incorrect translation to the translate.wordpress.org site overwriting the good translation)</span></td>
                      </tr><tr>
                        <th>808</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>809</th><th> </th><td class="l"><span>= 3.4.2 = </span></td>
                      </tr><tr>
                        <th>810</th><th> </th><td class="l"><span>- Fixed an issue with some sites getting a blank screen for the members menu due to a PHP short tag usage.</span></td>
                      </tr><tr>
                        <th>811</th><th> </th><td class="l"><span>- Added a new action hook that gets triggered after a member edits the profile from the edit profile page.</span></td>
                      </tr><tr>
                        <th>812</th><th> </th><td class="l"><span>- The edit_profile_front_end() function now returns true or false based on if the form was submitted successfully or not.</span></td>
                      </tr><tr>
                        <th>813</th><th> </th><td class="l"><span>- Added extra comment in the IPN handling code.</span></td>
                      </tr><tr>
                        <th>814</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>815</th><th> </th><td class="l"><span>= 3.4.1 =</span></td>
                      </tr><tr>
                        <th>816</th><th> </th><td class="l"><span>- Added an option to bulk update the "Membership Level" value of a group of members.</span></td>
                      </tr><tr>
                        <th>817</th><th> </th><td class="l"><span>- Added an option to bulk update the "Access Starts" date value of a group of members.</span></td>
                      </tr><tr>
                        <th>818</th><th> </th><td class="l"><span>- Added Norwegian language translation file. The translation was submitted by Tom Nordstrønen.</span></td>
                      </tr><tr>
                        <th>819</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>820</th><th> </th><td class="l"><span>= 3.4.0 =</span></td>
                      </tr><tr>
                        <th>821</th><th> </th><td class="l"><span>- Updated the Italian language file. Thanks to Nicolò Monili for updating the translation.</span></td>
                      </tr><tr>
                        <th>822</th><th> </th><td class="l"><span>- Deleted the German language files from the plugin folder so it can pull the language from translate.wordpress.org</span></td>
                      </tr><tr>
                        <th>823</th><th> </th><td class="l"><span>- Improved the member search functionality when used with pagination.</span></td>
                      </tr><tr>
                        <th>824</th><th> </th><td class="l"><span>- Added more sanitization on the registration form.</span></td>
                      </tr><tr>
                        <th>825</th><th> </th><td class="l"><span>- Added a few utility functions to the membership level utility class.</span></td>
                      </tr><tr>
                        <th>826</th><th> </th><td class="l"><span>- Google reCAPTCHA addon updated to enable captcha on the login form.</span></td>
                      </tr><tr>
                        <th>827</th><th> </th><td class="l"><span>- Stripe Checkout: The plugin now sets the "receipt_email" parameter for Stripe checkout so a receipt gets sent from Stripe.</span></td>
                      </tr><tr>
                        <th>828</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>829</th><th> </th><td class="l"><span>= 3.3.9 =</span></td>
                      </tr><tr>
                        <th>830</th><th> </th><td class="l"><span>- Deleted the Spanish language files from the plugin folder so it can pull the language from translate.wordpress.org</span></td>
                      </tr><tr>
                        <th>831</th><th> </th><td class="l"><span>- WordPress 4.7 compatibility.</span></td>
                      </tr><tr>
                        <th>832</th><th> </th><td class="l"><span>- Regenerated the POT file.</span></td>
                      </tr><tr>
                        <th>833</th><th> </th><td class="l"><span>- The after login redirection now uses home_url() instead of site_url(). The URL also gets passed via a filter.</span></td>
                      </tr><tr>
                        <th>834</th><th> </th><td class="l"><span>- Added a new filter for the after logout redirection URL.</span></td>
                      </tr><tr>
                        <th>835</th><th> </th><td class="l"><span>- Renamed the swpm-ja_JP language filename to swpmp-ja</span></td>
                      </tr><tr>
                        <th>836</th><th> </th><td class="l"><span>- Added the Braintree payment gateway so you can accept membership payments using Braintree. Details in the following documentation:</span></td>
                      </tr><tr>
                        <th>837</th><th> </th><td class="l"><span>&nbsp; https://simple-membership-plugin.com/create-braintree-buy-now-button-for-membership-payment/</span></td>
                      </tr><tr>
                        <th>838</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>839</th><th> </th><td class="l"><span>= 3.3.8 =</span></td>
                      </tr><tr>
                        <th>840</th><th> </th><td class="l"><span>- The account renewal payment will take into account any remaining time (when the user's level is using a duration type expiry).</span></td>
                      </tr><tr>
                        <th>841</th><th> </th><td class="l"><span>- The members can now user their email address (instead of username) and password to log into the site. The username field of the member login form will accept either the email address or the username.</span></td>
                      </tr><tr>
                        <th>842</th><th> </th><td class="l"><span>- The set_user_role action hook will not be triggered by the plugin as the wp_update_user() function will take care of it automatically.</span></td>
                      </tr><tr>
                        <th>843</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>844</th><th> </th><td class="l"><span>= 3.3.7 =</span></td>
                      </tr><tr>
                        <th>845</th><th> </th><td class="l"><span>- Added Italian language translation file. The translation was submitted by Roberto Paura.</span></td>
                      </tr><tr>
                        <th>846</th><th> </th><td class="l"><span>- Improved the paypal refund handling.</span></td>
                      </tr><tr>
                        <th>847</th><th> </th><td class="l"><span>- The subscription payment cancellation sequence/code has been improved. Details in the following documentation:</span></td>
                      </tr><tr>
                        <th>848</th><th> </th><td class="l"><span>https://simple-membership-plugin.com/what-happens-when-paypal-subscription-cancelled/</span></td>
                      </tr><tr>
                        <th>849</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>850</th><th> </th><td class="l"><span>= 3.3.6 =</span></td>
                      </tr><tr>
                        <th>851</th><th> </th><td class="l"><span>- Added a new option so the admin notification email content can be customized from the email settings menu of the plugin.</span></td>
                      </tr><tr>
                        <th>852</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>853</th><th> </th><td class="l"><span>= 3.3.5 =</span></td>
                      </tr><tr>
                        <th>854</th><th> </th><td class="l"><span>- Added nonce check on the edit profile form.</span></td>
                      </tr><tr>
                        <th>855</th><th> </th><td class="l"><span>- Added an extra check for the membership level data on the registration form.</span></td>
                      </tr><tr>
                        <th>856</th><th> </th><td class="l"><span>- Minimum WordPress version requirement updated to v4.0.</span></td>
                      </tr><tr>
                        <th>857</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>858</th><th> </th><td class="l"><span>= 3.3.4 =</span></td>
                      </tr><tr>
                        <th>859</th><th> </th><td class="l"><span>- If you are editing the post protection settings of a post that belongs to a protected category, it will now show a message in the protection settings box to let you know.</span></td>
                      </tr><tr>
                        <th>860</th><th> </th><td class="l"><span>- Improved nonce check with the protection settings saving functionality.</span></td>
                      </tr><tr>
                        <th>861</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>862</th><th> </th><td class="l"><span>= 3.3.3 =</span></td>
                      </tr><tr>
                        <th>863</th><th> </th><td class="l"><span>- Improvements for a recurring payment received transaction. It will update the profile even if the membership level setting is using a duration type value.</span></td>
                      </tr><tr>
                        <th>864</th><th> </th><td class="l"><span>- Fixed CSRF vulnerabilies.</span></td>
                      </tr><tr>
                        <th>865</th><th> </th><td class="l"><span>- Added nonce verification check in various admin side actions.</span></td>
                      </tr><tr>
                        <th>866</th><th> </th><td class="l"><span>- Added is_admin() check for various admin side actions.</span></td>
                      </tr><tr>
                        <th>867</th><th> </th><td class="l"><span>- Added current_user_can() check for various admin side actions.</span></td>
                      </tr><tr>
                        <th>868</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>869</th><th> </th><td class="l"><span>= 3.3.2 =</span></td>
                      </tr><tr>
                        <th>870</th><th> </th><td class="l"><span>- You can now view a member's last accessed date and time value by editing the member's profile from the admin dashboard.</span></td>
                      </tr><tr>
                        <th>871</th><th> </th><td class="l"><span>- The "Registration Successful" message can now be customized using the custom messages addon.</span></td>
                      </tr><tr>
                        <th>872</th><th> </th><td class="l"><span>- The edit profile template file can now also be overridden using the swpm_load_template_files filter.</span></td>
                      </tr><tr>
                        <th>873</th><th> </th><td class="l"><span>- Updated the Dutch language translation file.</span></td>
                      </tr><tr>
                        <th>874</th><th> </th><td class="l"><span>- Added Estonian language translation file.</span></td>
                      </tr><tr>
                        <th>875</th><th> </th><td class="l"><span>- Updated the Stripe payment gateway library to the latest version.</span></td>
                      </tr><tr>
                        <th>876</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>877</th><th> </th><td class="l"><span>= 3.3.1 =</span></td>
                      </tr><tr>
                        <th>878</th><th> </th><td class="l"><span>- Added an option in the advanced settings menu to use the timezone value specified in your WordPress General Settings interface.</span></td>
                      </tr><tr>
                        <th>879</th><th> </th><td class="l"><span>- WordPress 4.6 compatibility.</span></td>
                      </tr><tr>
                        <th>880</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>881</th><th> </th><td class="l"><span>= 3.3.0 =</span></td>
                      </tr><tr>
                        <th>882</th><th> </th><td class="l"><span>- Updated the Hungarian language file.</span></td>
                      </tr><tr>
                        <th>883</th><th> </th><td class="l"><span>- Improved input sanitization.</span></td>
                      </tr><tr>
                        <th>884</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>885</th><th> </th><td class="l"><span>= 3.2.9 =</span></td>
                      </tr><tr>
                        <th>886</th><th> </th><td class="l"><span>- Lowered the priority of "the_content" filter processing (this should be helpful for compatibility with some of the content builder type plugins).</span></td>
                      </tr><tr>
                        <th>887</th><th> </th><td class="l"><span>- Added Slovak language translation file. The translation was submitted by Marek Kucak.</span></td>
                      </tr><tr>
                        <th>888</th><th> </th><td class="l"><span>- XSS vulnerability fix for page request parameter.</span></td>
                      </tr><tr>
                        <th>889</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>890</th><th> </th><td class="l"><span>= 3.2.8 =</span></td>
                      </tr><tr>
                        <th>891</th><th> </th><td class="l"><span>- Added Stripe Buy Now option for membership payment.</span></td>
                      </tr><tr>
                        <th>892</th><th> </th><td class="l"><span>&nbsp; Stripe payment usage documentation: https://simple-membership-plugin.com/create-stripe-buy-now-button-for-membership-payment/</span></td>
                      </tr><tr>
                        <th>893</th><th> </th><td class="l"><span>- Added a notice in the admin interface to notify you when you keep the sandbox payment mode enabled.</span></td>
                      </tr><tr>
                        <th>894</th><th> </th><td class="l"><span>- Added a check in the authentication system to stop login request processing if the user is already logged into the site as ADMIN.</span></td>
                      </tr><tr>
                        <th>895</th><th> </th><td class="l"><span>- The payment button shortcode will now check to make sure you entered a valid button ID in the shortcode.</span></td>
                      </tr><tr>
                        <th>896</th><th> </th><td class="l"><span>- Fixed a couple of minor debug notice warnings.</span></td>
                      </tr><tr>
                        <th>897</th><th> </th><td class="l"><span>- Bugfix: Admin Dashboard Access Permission setting not saving correctly.</span></td>
                      </tr><tr>
                        <th>898</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>899</th><th> </th><td class="l"><span>= 3.2.7 =</span></td>
                      </tr><tr>
                        <th>900</th><th> </th><td class="l"><span>- Added a new option in the plugin settings so you can specify other WP user role (example: editor) to be able to use/see the plugin's admin interface.</span></td>
                      </tr><tr>
                        <th>901</th><th> </th><td class="l"><span>- Added a "user profile delete" option in the admin profile edit interface of the plugin. Admins can use it to delete a user record while in the member edit interface.</span></td>
                      </tr><tr>
                        <th>902</th><th> </th><td class="l"><span>- Added a new option so the member registration complete email notification can be sent to multiple site admins.</span></td>
                      </tr><tr>
                        <th>903</th><th> </th><td class="l"><span>- Added Bosnian language translation file. The translation was submitted by Rejhan Puskar.</span></td>
                      </tr><tr>
                        <th>904</th><th> </th><td class="l"><span>- Updated the Japanese language file.</span></td>
                      </tr><tr>
                        <th>905</th><th> </th><td class="l"><span>- Updated the Dutch language file. Thanks to R.H.J. Roelofsen.</span></td>
                      </tr><tr>
                        <th>906</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>907</th><th> </th><td class="l"><span>= 3.2.6 =</span></td>
                      </tr><tr>
                        <th>908</th><th> </th><td class="l"><span>- Added Hungarian language translation file. The translation was submitted by Laura Szitar.</span></td>
                      </tr><tr>
                        <th>909</th><th> </th><td class="l"><span>- Improved the members menu navigation menu so the tabs are always visible (even when you go to the add or edit members screen).</span></td>
                      </tr><tr>
                        <th>910</th><th> </th><td class="l"><span>- Added 2 new action hooks (They are triggered when subscription is cancelled and when a recurring payment is received).</span></td>
                      </tr><tr>
                        <th>911</th><th> </th><td class="l"><span>- Improved the membership levels navigation menu tabs.</span></td>
                      </tr><tr>
                        <th>912</th><th> </th><td class="l"><span>- The "Edit Member" interface now shows the member ID of the currently editing member.</span></td>
                      </tr><tr>
                        <th>913</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>914</th><th> </th><td class="l"><span>= 3.2.5 =</span></td>
                      </tr><tr>
                        <th>915</th><th> </th><td class="l"><span>- Added a new feature to enable redirection to the last page after login (where they clicked the login link). </span></td>
                      </tr><tr>
                        <th>916</th><th> </th><td class="l"><span>This new option is available in the after login redirection addon.</span></td>
                      </tr><tr>
                        <th>917</th><th> </th><td class="l"><span>https://wordpress.org/plugins/simple-membership-after-login-redirection/</span></td>
                      </tr><tr>
                        <th>918</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>919</th><th> </th><td class="l"><span>= 3.2.4 =</span></td>
                      </tr><tr>
                        <th>920</th><th> </th><td class="l"><span>- Fixed a bug with attachment protection showing an error message.</span></td>
                      </tr><tr>
                        <th>921</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>922</th><th> </th><td class="l"><span>= 3.2.3 =</span></td>
                      </tr><tr>
                        <th>923</th><th> </th><td class="l"><span>- Added a new option so you can configure a membership account renewal page in the plugin.</span></td>
                      </tr><tr>
                        <th>924</th><th> </th><td class="l"><span>- The account expiry message will include the renewal page link (if you configure the renewal page).</span></td>
                      </tr><tr>
                        <th>925</th><th> </th><td class="l"><span>- Removed login link from the comment protection message. You can customize the comment protection message using the custom message addon.</span></td>
                      </tr><tr>
                        <th>926</th><th> </th><td class="l"><span>- Updated the Russian language file. Thanks to @dimabuko for updating the language file.</span></td>
                      </tr><tr>
                        <th>927</th><th> </th><td class="l"><span>- Updated the Portuguese language file. Thanks to @Juan for updating the language file.</span></td>
                      </tr><tr>
                        <th>928</th><th> </th><td class="l"><span>- Added a new addon for better custom post type protection.</span></td>
                      </tr><tr>
                        <th>929</th><th> </th><td class="l"><span>- Made an improvement to the wp user delete function.</span></td>
                      </tr><tr>
                        <th>930</th><th> </th><td class="l"><span>- More tag protection check improvements.</span></td>
                      </tr><tr>
                        <th>931</th><th> </th><td class="l"><span>- Account with "inactive" status can also log into the site if the "Allows expired login" feature is enabled.</span></td>
                      </tr><tr>
                        <th>932</th><th> </th><td class="l"><span>- Updated the PayPal IPN validation code so it is compatible with the upcoming PayPal changes.</span></td>
                      </tr><tr>
                        <th>933</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>934</th><th> </th><td class="l"><span>= 3.2.2 =</span></td>
                      </tr><tr>
                        <th>935</th><th> </th><td class="l"><span>- New feature to only allow the members of the site to be able to post a comment.</span></td>
                      </tr><tr>
                        <th>936</th><th> </th><td class="l"><span>- Moved the "Allow Account Deletion" option to the Advanced Settings tab of the plugin.</span></td>
                      </tr><tr>
                        <th>937</th><th> </th><td class="l"><span>- Moved the "Auto Delete Pending Account" option to the Advanced Settings tab of the plugin.</span></td>
                      </tr><tr>
                        <th>938</th><th> </th><td class="l"><span>- WordPress 4.5 compatibility.</span></td>
                      </tr><tr>
                        <th>939</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>940</th><th> </th><td class="l"><span>= 3.2.1 =</span></td>
                      </tr><tr>
                        <th>941</th><th> </th><td class="l"><span>- Added a new filter (swpm_transactions_menu_items_per_page) that can be used to customize the number of items that is listed in the transactions menu.</span></td>
                      </tr><tr>
                        <th>942</th><th> </th><td class="l"><span>- Added more sorting option in the transactions table.</span></td>
                      </tr><tr>
                        <th>943</th><th> </th><td class="l"><span>- Added sanitization for the sort inputs in the member transactions table.</span></td>
                      </tr><tr>
                        <th>944</th><th> </th><td class="l"><span>- Fixed an issue with the auto delete pending account settings.</span></td>
                      </tr><tr>
                        <th>945</th><th> </th><td class="l"><span>- Changed admin heading structure from h2 to h1.</span></td>
                      </tr><tr>
                        <th>946</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>947</th><th> </th><td class="l"><span>= 3.2.0 =</span></td>
                      </tr><tr>
                        <th>948</th><th> </th><td class="l"><span>- Added Catalan language translation file. The translation was submitted by Josep Ramon.</span></td>
                      </tr><tr>
                        <th>949</th><th> </th><td class="l"><span>- Custom post type categories are also listed in the category protection menu.</span></td>
                      </tr><tr>
                        <th>950</th><th> </th><td class="l"><span>- Added a new filter (swpm_members_menu_items_per_page) that can be used to customize the number of items that is listed in the members menu.</span></td>
                      </tr><tr>
                        <th>951</th><th> </th><td class="l"><span>- The default number of items listed in the members menu by default has been increased to 50.</span></td>
                      </tr><tr>
                        <th>952</th><th> </th><td class="l"><span>- Comment protection fix for posts using "more" tag.</span></td>
                      </tr><tr>
                        <th>953</th><th> </th><td class="l"><span>- Comments of protected posts are also protected.</span></td>
                      </tr><tr>
                        <th>954</th><th> </th><td class="l"><span>- Added CSS classes for all the field rows in the standard membership registration form.</span></td>
                      </tr><tr>
                        <th>955</th><th> </th><td class="l"><span>- Added CSS classes for all the field rows in the edit profile form.</span></td>
                      </tr><tr>
                        <th>956</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>957</th><th> </th><td class="l"><span>= 3.1.9 =</span></td>
                      </tr><tr>
                        <th>958</th><th> </th><td class="l"><span>- Added new merge vars that can be used in the registration complete email. These are {member_id}, {account_state}, {email}, {member_since}</span></td>
                      </tr><tr>
                        <th>959</th><th> </th><td class="l"><span>- Added trailingslashit() to the after logout redirect URL.</span></td>
                      </tr><tr>
                        <th>960</th><th> </th><td class="l"><span>- Created a new extension to show member info. [usage documentation](https://simple-membership-plugin.com/simple-membership-addon-show-member-info/)</span></td>
                      </tr><tr>
                        <th>961</th><th> </th><td class="l"><span>- A new cookie is dropped when a member logs into the site. It can be used for caching plugin compatibility.</span></td>
                      </tr><tr>
                        <th>962</th><th> </th><td class="l"><span>- Added a new function to load the template for login widget and password reset form. This will allow customization of the login widget by adding the custom template to the theme folder.</span></td>
                      </tr><tr>
                        <th>963</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>964</th><th> </th><td class="l"><span>= 3.1.8 =</span></td>
                      </tr><tr>
                        <th>965</th><th> </th><td class="l"><span>- Improved the members and payments menu rendering for smaller screen devices.</span></td>
                      </tr><tr>
                        <th>966</th><th> </th><td class="l"><span>- Added a utility function to easily output a formatted date in the plugin according to the WordPress's date format settings.</span></td>
                      </tr><tr>
                        <th>967</th><th> </th><td class="l"><span>- Fixed a bug in the wp username and email validation functionality. Thanks to Klaas van der Linden for pointing it out.</span></td>
                      </tr><tr>
                        <th>968</th><th> </th><td class="l"><span>- The membership password reset form has been restructured (the HTML table has been removed).</span></td>
                      </tr><tr>
                        <th>969</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>970</th><th> </th><td class="l"><span>= 3.1.7 =</span></td>
                      </tr><tr>
                        <th>971</th><th> </th><td class="l"><span>- Added debug logging for after a password is reset successfully.</span></td>
                      </tr><tr>
                        <th>972</th><th> </th><td class="l"><span>- The plugin will prevent WordPress's default password reset email notification from going out when a member resets the password.</span></td>
                      </tr><tr>
                        <th>973</th><th> </th><td class="l"><span>- Added a new bulk action item. Activate account and notify members in bulk. Customize the activation email from the email settings menu of the plugin.</span></td>
                      </tr><tr>
                        <th>974</th><th> </th><td class="l"><span>- Added validation in the bulk operation function to check and make sure that multiple records were selected before trying the bulk action.</span></td>
                      </tr><tr>
                        <th>975</th><th> </th><td class="l"><span>- Updated the Portuguese (Brazil) language translation file. The translation was updated by Fernando Telles.</span></td>
                      </tr><tr>
                        <th>976</th><th> </th><td class="l"><span>- Updated the Tools interface of the plugin.</span></td>
                      </tr><tr>
                        <th>977</th><th> </th><td class="l"><span>- The members list can now be filtered by account status (from the members interface)</span></td>
                      </tr><tr>
                        <th>978</th><th> </th><td class="l"><span>- The members list now shows "incomplete" keyword in the username field for the member profiles that are incomplete.</span></td>
                      </tr><tr>
                        <th>979</th><th> </th><td class="l"><span>- Added an "Add Member" tab in the members menu.</span></td>
                      </tr><tr>
                        <th>980</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>981</th><th> </th><td class="l"><span>= 3.1.6 =</span></td>
                      </tr><tr>
                        <th>982</th><th> </th><td class="l"><span>- Added a new feature to show the admin toolbar to admin users only.</span></td>
                      </tr><tr>
                        <th>983</th><th> </th><td class="l"><span>- Added CSS for membership buy buttons to force their width and height to be auto.</span></td>
                      </tr><tr>
                        <th>984</th><th> </th><td class="l"><span>- Added a few utility functions to retrieve a member's record from custom PHP code (useful for developers).</span></td>
                      </tr><tr>
                        <th>985</th><th> </th><td class="l"><span>- Added the free Google recaptcha addon for registration forms.</span></td>
                      </tr><tr>
                        <th>986</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>987</th><th> </th><td class="l"><span>= 3.1.5 =</span></td>
                      </tr><tr>
                        <th>988</th><th> </th><td class="l"><span>- Added a new shortcode [swpm_show_expiry_date] to show the logged-in member's expiry details.</span></td>
                      </tr><tr>
                        <th>989</th><th> </th><td class="l"><span>- The search feature in the members menu will search the company name, city, state, country fields also.</span></td>
                      </tr><tr>
                        <th>990</th><th> </th><td class="l"><span>- The subscription profile ID (if any) for subscription payment is now shown in the "payments" interface of the plugin.</span></td>
                      </tr><tr>
                        <th>991</th><th> </th><td class="l"><span>- Added new filter hook so additional fields can be added to the payment button form (example: specify country or language code).</span></td>
                      </tr><tr>
                        <th>992</th><th> </th><td class="l"><span>- Updated the language POT file.</span></td>
                      </tr><tr>
                        <th>993</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>994</th><th> </th><td class="l"><span>= 3.1.4 =</span></td>
                      </tr><tr>
                        <th>995</th><th> </th><td class="l"><span>- Added an option in the "Payments" menu to link a payment to the corresponding membership profile (when applicable).</span></td>
                      </tr><tr>
                        <th>996</th><th> </th><td class="l"><span>- Fixed an issue with the subscriber ID not saving with the member profile (for PayPal subscription payments).</span></td>
                      </tr><tr>
                        <th>997</th><th> </th><td class="l"><span>- Added Hebrew language translation file. The translation was submitted by Merom Harpaz.</span></td>
                      </tr><tr>
                        <th>998</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>999</th><th> </th><td class="l"><span>= 3.1.3 =</span></td>
                      </tr><tr>
                        <th>1000</th><th> </th><td class="l"><span>- Added Indonesian language translation file. The translation was submitted by Hermanudin.</span></td>
                      </tr><tr>
                        <th>1001</th><th> </th><td class="l"><span>- Removed a couple of "notice" warnings from the installer.</span></td>
                      </tr><tr>
                        <th>1002</th><th> </th><td class="l"><span>- Added option to bulk change members account status.</span></td>
                      </tr><tr>
                        <th>1003</th><th> </th><td class="l"><span>- Updated the CSS class for postbox h3 elements.</span></td>
                      </tr><tr>
                        <th>1004</th><th> </th><td class="l"><span>- The member search feature (in the admin side) can now search the list based on email address.</span></td>
                      </tr><tr>
                        <th>1005</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1006</th><th> </th><td class="l"><span>= 3.1.2 =</span></td>
                      </tr><tr>
                        <th>1007</th><th> </th><td class="l"><span>- Added more sortable columns in the members menu.</span></td>
                      </tr><tr>
                        <th>1008</th><th> </th><td class="l"><span>- Adjusted the CSS for the registration and edit profile forms so they render better in small screen devices.</span></td>
                      </tr><tr>
                        <th>1009</th><th> </th><td class="l"><span>- Changed the "User name" string to "Username"</span></td>
                      </tr><tr>
                        <th>1010</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1011</th><th> </th><td class="l"><span>= 3.1.1 =</span></td>
                      </tr><tr>
                        <th>1012</th><th> </th><td class="l"><span>- Fix for some special characters in the email not getting decoded correctly.</span></td>
                      </tr><tr>
                        <th>1013</th><th> </th><td class="l"><span>- Updated the membership upgrade email header to use the "from email address" value from the email settings.</span></td>
                      </tr><tr>
                        <th>1014</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1015</th><th> </th><td class="l"><span>= 3.1.0 =</span></td>
                      </tr><tr>
                        <th>1016</th><th> </th><td class="l"><span>- Fixed an email validation issue for when the plugin is used with the form builder addon.</span></td>
                      </tr><tr>
                        <th>1017</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1018</th><th> </th><td class="l"><span>= 3.0.9 =</span></td>
                      </tr><tr>
                        <th>1019</th><th> </th><td class="l"><span>- Updated the Spanish language translation file.</span></td>
                      </tr><tr>
                        <th>1020</th><th> </th><td class="l"><span>- Updated the POT file for language translation.</span></td>
                      </tr><tr>
                        <th>1021</th><th> </th><td class="l"><span>- Added Dutch (Belgium) language translation file. The translation was submitted by Johan Calu.</span></td>
                      </tr><tr>
                        <th>1022</th><th> </th><td class="l"><span>- Fixed an email validation issue.</span></td>
                      </tr><tr>
                        <th>1023</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1024</th><th> </th><td class="l"><span>= 3.0.8 =</span></td>
                      </tr><tr>
                        <th>1025</th><th> </th><td class="l"><span>- Added Latvian language translation file. The translation was submitted by Uldis Kalnins.</span></td>
                      </tr><tr>
                        <th>1026</th><th> </th><td class="l"><span>- Updated the POT file for language translation.</span></td>
                      </tr><tr>
                        <th>1027</th><th> </th><td class="l"><span>- Added a placeholder get_real_ip_addr() function for backwards compatibility.</span></td>
                      </tr><tr>
                        <th>1028</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1029</th><th> </th><td class="l"><span>= 3.0.7 =</span></td>
                      </tr><tr>
                        <th>1030</th><th> </th><td class="l"><span>- Fixed a typo in the password reset message.</span></td>
                      </tr><tr>
                        <th>1031</th><th> </th><td class="l"><span>- Removed the get_real_ip_addr() function (using get_user_ip_address() from the "SwpmUtils" class).</span></td>
                      </tr><tr>
                        <th>1032</th><th> </th><td class="l"><span>- Simplified the message class interaction.</span></td>
                      </tr><tr>
                        <th>1033</th><th> </th><td class="l"><span>- Added CSS classes to the registration, edit profile and login submit buttons.</span></td>
                      </tr><tr>
                        <th>1034</th><th> </th><td class="l"><span>- Added confirmation in the member's menu bulk operation function.</span></td>
                      </tr><tr>
                        <th>1035</th><th> </th><td class="l"><span>- Fixed the bulk delete and delete functionality in the members list menu.</span></td>
                      </tr><tr>
                        <th>1036</th><th> </th><td class="l"><span>- Fixed the category protection confirmation message.</span></td>
                      </tr><tr>
                        <th>1037</th><th> </th><td class="l"><span>- Added Greek language translation file. The translation was submitted by Christos Papafilopoulos.</span></td>
                      </tr><tr>
                        <th>1038</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1039</th><th> </th><td class="l"><span>= 3.0.6 =</span></td>
                      </tr><tr>
                        <th>1040</th><th> </th><td class="l"><span>- Corrected the Danish language file name.</span></td>
                      </tr><tr>
                        <th>1041</th><th> </th><td class="l"><span>- Fixed an issue with the profile update success message sticking.</span></td>
                      </tr><tr>
                        <th>1042</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1043</th><th> </th><td class="l"><span>= 3.0.5 =</span></td>
                      </tr><tr>
                        <th>1044</th><th> </th><td class="l"><span>- Added a fix to prevent an error from showing when a member record is edited from the admin side.</span></td>
                      </tr><tr>
                        <th>1045</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1046</th><th> </th><td class="l"><span>= 3.0.4 =</span></td>
                      </tr><tr>
                        <th>1047</th><th> </th><td class="l"><span>- Added a new utility function so a member's particular info can be retrieved using this function.</span></td>
                      </tr><tr>
                        <th>1048</th><th> </th><td class="l"><span>- Added extra guard to prevent the following error "Call to member function get () on a non object".</span></td>
                      </tr><tr>
                        <th>1049</th><th> </th><td class="l"><span>- Updated the langguage POT file.</span></td>
                      </tr><tr>
                        <th>1050</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1051</th><th> </th><td class="l"><span>= 3.0.3 =</span></td>
                      </tr><tr>
                        <th>1052</th><th> </th><td class="l"><span>- Increased the database character limit size of the user_name field.</span></td>
                      </tr><tr>
                        <th>1053</th><th> </th><td class="l"><span>- Refactored the 'swpm_registration_form_override' filter.</span></td>
                      </tr><tr>
                        <th>1054</th><th> </th><td class="l"><span>- Added integration with iDevAffiliate.</span></td>
                      </tr><tr>
                        <th>1055</th><th> </th><td class="l"><span>- Added integration with Affiliate Platform plugin.</span></td>
                      </tr><tr>
                        <th>1056</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1057</th><th> </th><td class="l"><span>= 3.0.2 =</span></td>
                      </tr><tr>
                        <th>1058</th><th> </th><td class="l"><span>- Added a new shortcode that can be used on your thank you page. This will allow your users to complete paid registration from the thank you page after payment.</span></td>
                      </tr><tr>
                        <th>1059</th><th> </th><td class="l"><span>- The last accessed from IP address of a member is shown to the admin in the member edit screen.</span></td>
                      </tr><tr>
                        <th>1060</th><th> </th><td class="l"><span>- The debug log (if enabled) for authentication request is written to the "log-auth.txt" file.</span></td>
                      </tr><tr>
                        <th>1061</th><th> </th><td class="l"><span>- Fixed a bug with the bulk member delete option from the bottom bulk action form.</span></td>
                      </tr><tr>
                        <th>1062</th><th> </th><td class="l"><span>- Fixed a bug with the bulk membership level delete option from the bottom bulk action form.</span></td>
                      </tr><tr>
                        <th>1063</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1064</th><th> </th><td class="l"><span>= 3.0.1 =</span></td>
                      </tr><tr>
                        <th>1065</th><th> </th><td class="l"><span>- Added a new CSS class to the registration complete message.</span></td>
                      </tr><tr>
                        <th>1066</th><th> </th><td class="l"><span>- Added Portuguese (Portugal) language translation file. The translation was submitted by Edgar Sprecher.</span></td>
                      </tr><tr>
                        <th>1067</th><th> </th><td class="l"><span>- Replaced mysql_real_escape_string() with esc_sql()</span></td>
                      </tr><tr>
                        <th>1068</th><th> </th><td class="l"><span>- Members list in the admin is now sorted by member_id by default.</span></td>
                      </tr><tr>
                        <th>1069</th><th> </th><td class="l"><span>- Added a new filter in the registration form so Google recaptcha can be added to it.</span></td>
                      </tr><tr>
                        <th>1070</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1071</th><th> </th><td class="l"><span>= 3.0 =</span></td>
                      </tr><tr>
                        <th>1072</th><th> </th><td class="l"><span>- Updated the swedish langauge translation</span></td>
                      </tr><tr>
                        <th>1073</th><th> </th><td class="l"><span>- Added a new option to enable opening of the PayPal buy button in a new window (using the "new_window" parameter in the shortcode).</span></td>
                      </tr><tr>
                        <th>1074</th><th> </th><td class="l"><span>- You can now create and configure PayPal Subscription button for membership payment from the payments menu.</span></td>
                      </tr><tr>
                        <th>1075</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1076</th><th> </th><td class="l"><span>= 2.2.9 =</span></td>
                      </tr><tr>
                        <th>1077</th><th> </th><td class="l"><span>- Added a new feature to customize the password reset email.</span></td>
                      </tr><tr>
                        <th>1078</th><th> </th><td class="l"><span>- Added a new feature to customize the admin notification email address.</span></td>
                      </tr><tr>
                        <th>1079</th><th> </th><td class="l"><span>- Improved the help text for a few of the email settings fields.</span></td>
                      </tr><tr>
                        <th>1080</th><th> </th><td class="l"><span>- Updated the message that gets displayed after a member updates the profile.</span></td>
                      </tr><tr>
                        <th>1081</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1082</th><th> </th><td class="l"><span>= 2.2.8 =</span></td>
                      </tr><tr>
                        <th>1083</th><th> </th><td class="l"><span>- Updated the swedish language translation file.</span></td>
                      </tr><tr>
                        <th>1084</th><th> </th><td class="l"><span>- Code refactoring: moved all the init hook tasks to a separate class.</span></td>
                      </tr><tr>
                        <th>1085</th><th> </th><td class="l"><span>- Increased the size of admin nav tab menu items so they are easy to see.</span></td>
                      </tr><tr>
                        <th>1086</th><th> </th><td class="l"><span>- Made all the admin menu title size consistent accross all the menus.</span></td>
                      </tr><tr>
                        <th>1087</th><th> </th><td class="l"><span>- Updated the admin menu dashicon icon to a nicer looking one.</span></td>
                      </tr><tr>
                        <th>1088</th><th> </th><td class="l"><span>- You can now create and configure PayPal buy now button for membership payment from the payments menu.</span></td>
                      </tr><tr>
                        <th>1089</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1090</th><th> </th><td class="l"><span>= 2.2.7 =</span></td>
                      </tr><tr>
                        <th>1091</th><th> </th><td class="l"><span>- Added Japanese language translation to the plugin. The translation was submitted by Mana.</span></td>
                      </tr><tr>
                        <th>1092</th><th> </th><td class="l"><span>- Added Serbian language translation to the plugin. The translation was submitted by Zoran Milijanovic.</span></td>
                      </tr><tr>
                        <th>1093</th><th> </th><td class="l"><span>- All member fields will be loaded in the edit page (instead of just two).</span></td>
                      </tr><tr>
                        <th>1094</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1095</th><th> </th><td class="l"><span>= 2.2.6 =</span></td>
                      </tr><tr>
                        <th>1096</th><th> </th><td class="l"><span>- Fixed an issue with the category protection menu after the class refactoring work.</span></td>
                      </tr><tr>
                        <th>1097</th><th> </th><td class="l"><span>- Fixed the unique key in the DB table</span></td>
                      </tr><tr>
                        <th>1098</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1099</th><th> </th><td class="l"><span>= 2.2.5 =</span></td>
                      </tr><tr>
                        <th>1100</th><th> </th><td class="l"><span>- Refactored all the class names to use the "swpm" slug to remove potential conflict with other plugins with similar class names.</span></td>
                      </tr><tr>
                        <th>1101</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1102</th><th> </th><td class="l"><span>= 2.2.4 =</span></td>
                      </tr><tr>
                        <th>1103</th><th> </th><td class="l"><span>- Fixed an issue with not being able to unprotect the category protection.</span></td>
                      </tr><tr>
                        <th>1104</th><th> </th><td class="l"><span>- Minor refactoring work with the classes.</span></td>
                      </tr><tr>
                        <th>1105</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1106</th><th> </th><td class="l"><span>= 2.2.3 =</span></td>
                      </tr><tr>
                        <th>1107</th><th> </th><td class="l"><span>- Updated the category protection interface to use the get_terms() function.</span></td>
                      </tr><tr>
                        <th>1108</th><th> </th><td class="l"><span>- Added a new Utility class that has some helpful functions (example: check if a member is logged into the site). </span></td>
                      </tr><tr>
                        <th>1109</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1110</th><th> </th><td class="l"><span>= 2.2.2 =</span></td>
                      </tr><tr>
                        <th>1111</th><th> </th><td class="l"><span>- All the membership payments are now recorded in the payments table.</span></td>
                      </tr><tr>
                        <th>1112</th><th> </th><td class="l"><span>- Added a new menu item (Payments) to show all the membership payments and transactions.</span></td>
                      </tr><tr>
                        <th>1113</th><th> </th><td class="l"><span>- Added Lithuanian language translation to the plugin. The translation was submitted by Daiva Pakalne.</span></td>
                      </tr><tr>
                        <th>1114</th><th> </th><td class="l"><span>- Fixed an invalid argument error.</span></td>
                      </tr><tr>
                        <th>1115</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1116</th><th> </th><td class="l"><span>= 2.2.1 =</span></td>
                      </tr><tr>
                        <th>1117</th><th> </th><td class="l"><span>- Added a new table for logging the membership payments/transactions in the future.</span></td>
                      </tr><tr>
                        <th>1118</th><th> </th><td class="l"><span>- Made some enhancements in the installer class so it can handle both the WP Multi-site and single site setup via the same function.</span></td>
                      </tr><tr>
                        <th>1119</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1120</th><th> </th><td class="l"><span>= 2.2 =</span></td>
                      </tr><tr>
                        <th>1121</th><th> </th><td class="l"><span>- Added a new feature to allow expired members to be able to log into the system (to allow easy account renewal).</span></td>
                      </tr><tr>
                        <th>1122</th><th> </th><td class="l"><span>- The email address value of a member is now editable from the admin dashboard and in the profile edit form.</span></td>
                      </tr><tr>
                        <th>1123</th><th> </th><td class="l"><span>- Added CSS classes around some of the messages for styling purpose.</span></td>
                      </tr><tr>
                        <th>1124</th><th> </th><td class="l"><span>- Some translation updates.</span></td>
                      </tr><tr>
                        <th>1125</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1126</th><th> </th><td class="l"><span>= 2.1.9 =</span></td>
                      </tr><tr>
                        <th>1127</th><th> </th><td class="l"><span>- Improved the password reset functionality.</span></td>
                      </tr><tr>
                        <th>1128</th><th> </th><td class="l"><span>- Improved the message that gets displayed after the password reset functionality is used.</span></td>
                      </tr><tr>
                        <th>1129</th><th> </th><td class="l"><span>- Updated the Portuguese (Brazil) language file.</span></td>
                      </tr><tr>
                        <th>1130</th><th> </th><td class="l"><span>- Improved the user login handling code.</span></td>
                      </tr><tr>
                        <th>1131</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1132</th><th> </th><td class="l"><span>= 2.1.8 =</span></td>
                      </tr><tr>
                        <th>1133</th><th> </th><td class="l"><span>- Improved the after logout redirection so it uses the home_url() value.</span></td>
                      </tr><tr>
                        <th>1134</th><th> </th><td class="l"><span>- Fixed a bug in the member table sorting functionality.</span></td>
                      </tr><tr>
                        <th>1135</th><th> </th><td class="l"><span>- The members table can now be sorted using ID column.</span></td>
                      </tr><tr>
                        <th>1136</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1137</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1138</th><th> </th><td class="l"><span>= 2.1.7 =</span></td>
                      </tr><tr>
                        <th>1139</th><th> </th><td class="l"><span>- Added a new feature to automatically delete pending membership accounts that are older than 1 or 2 months.</span></td>
                      </tr><tr>
                        <th>1140</th><th> </th><td class="l"><span>- Fixed an issue with the send notification to admin email settings not saving.</span></td>
                      </tr><tr>
                        <th>1141</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1142</th><th> </th><td class="l"><span>= 2.1.6 =</span></td>
                      </tr><tr>
                        <th>1143</th><th> </th><td class="l"><span>- Fixed a bug with new membership level creation with a number of days or weeks duration value.</span></td>
                      </tr><tr>
                        <th>1144</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1145</th><th> </th><td class="l"><span>= 2.1.5 =</span></td>
                      </tr><tr>
                        <th>1146</th><th> </th><td class="l"><span>- Improved the attachment protection so it doesn't protect when viewing from the admin side also.</span></td>
                      </tr><tr>
                        <th>1147</th><th> </th><td class="l"><span>- Removed a dubug dump statement.</span></td>
                      </tr><tr>
                        <th>1148</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1149</th><th> </th><td class="l"><span>= 2.1.4 =</span></td>
                      </tr><tr>
                        <th>1150</th><th> </th><td class="l"><span>- Improved the login authentication handler logic.</span></td>
                      </tr><tr>
                        <th>1151</th><th> </th><td class="l"><span>- Fixed the restricted image icon URL.</span></td>
                      </tr><tr>
                        <th>1152</th><th> </th><td class="l"><span>- Updated the restricted attachment icon to use a better one.</span></td>
                      </tr><tr>
                        <th>1153</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1154</th><th> </th><td class="l"><span>= 2.1.3 =</span></td>
                      </tr><tr>
                        <th>1155</th><th> </th><td class="l"><span>- Added a new feature to allow the members to delete their accounts.</span></td>
                      </tr><tr>
                        <th>1156</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1157</th><th> </th><td class="l"><span>= 2.1.2 =</span></td>
                      </tr><tr>
                        <th>1158</th><th> </th><td class="l"><span>- Updated the membership subscription payment cancellation handler and made it more robust.</span></td>
                      </tr><tr>
                        <th>1159</th><th> </th><td class="l"><span>- Added an option in the settings to reset the debug log files.</span></td>
                      </tr><tr>
                        <th>1160</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1161</th><th> </th><td class="l"><span>= 2.1.1 =</span></td>
                      </tr><tr>
                        <th>1162</th><th> </th><td class="l"><span>- Enhanced the username exists function query.</span></td>
                      </tr><tr>
                        <th>1163</th><th> </th><td class="l"><span>- Updated one of the notice messages.</span></td>
                      </tr><tr>
                        <th>1164</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1165</th><th> </th><td class="l"><span>= 2.1 =</span></td>
                      </tr><tr>
                        <th>1166</th><th> </th><td class="l"><span>- Changed the PHP short tags to the standard tags</span></td>
                      </tr><tr>
                        <th>1167</th><th> </th><td class="l"><span>- Updated a message in the settings to make the usage instruction clear.</span></td>
                      </tr><tr>
                        <th>1168</th><th> </th><td class="l"><span>- Corrected a version number value.</span></td>
                      </tr><tr>
                        <th>1169</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1170</th><th> </th><td class="l"><span>= 2.0 =</span></td>
                      </tr><tr>
                        <th>1171</th><th> </th><td class="l"><span>- Improved some of the default content protection messages.</span></td>
                      </tr><tr>
                        <th>1172</th><th> </th><td class="l"><span>- Added Danish language translation to the plugin. The translation was submitted by Niels Boje Lund.</span></td>
                      </tr><tr>
                        <th>1173</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1174</th><th> </th><td class="l"><span>= 1.9.9 =</span></td>
                      </tr><tr>
                        <th>1175</th><th> </th><td class="l"><span>- WP Multi-site network activation error fix.</span></td>
                      </tr><tr>
                        <th>1176</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1177</th><th> </th><td class="l"><span>= 1.9.8 =</span></td>
                      </tr><tr>
                        <th>1178</th><th> </th><td class="l"><span>- Fixed an issue with the phone number not saving.</span></td>
                      </tr><tr>
                        <th>1179</th><th> </th><td class="l"><span>- Fixed an issue with the new fixed membership expiry date feature.</span></td>
                      </tr><tr>
                        <th>1180</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1181</th><th> </th><td class="l"><span>= 1.9.7 =</span></td>
                      </tr><tr>
                        <th>1182</th><th> </th><td class="l"><span>- Minor UI fix in the add new membership level menu.</span></td>
                      </tr><tr>
                        <th>1183</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1184</th><th> </th><td class="l"><span>= 1.9.6 =</span></td>
                      </tr><tr>
                        <th>1185</th><th> </th><td class="l"><span>- Added a new feature to allow fixed expiry date for membership levels.</span></td>
                      </tr><tr>
                        <th>1186</th><th> </th><td class="l"><span>- Added Russian language translation to the plugin. The translation was submitted by Vladimir Vaulin.</span></td>
                      </tr><tr>
                        <th>1187</th><th> </th><td class="l"><span>- Added Dutch language translation to the plugin. The translation was submitted by Henk Rostohar.</span></td>
                      </tr><tr>
                        <th>1188</th><th> </th><td class="l"><span>- Added Romanian language translation to the plugin. The translation was submitted by Iulian Cazangiu.</span></td>
                      </tr><tr>
                        <th>1189</th><th> </th><td class="l"><span>- Some minor code refactoring.</span></td>
                      </tr><tr>
                        <th>1190</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1191</th><th> </th><td class="l"><span>= 1.9.5 =</span></td>
                      </tr><tr>
                        <th>1192</th><th> </th><td class="l"><span>- Added a check to show the content of a protected post/page if the admin is previewing the post or page.</span></td>
                      </tr><tr>
                        <th>1193</th><th> </th><td class="l"><span>- Fixed an issue with the quick notification email feature not filtering the email shortcodes.</span></td>
                      </tr><tr>
                        <th>1194</th><th> </th><td class="l"><span>- Improved the login form's HTML and CSS.</span></td>
                      </tr><tr>
                        <th>1195</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1196</th><th> </th><td class="l"><span>= 1.9.4 =</span></td>
                      </tr><tr>
                        <th>1197</th><th> </th><td class="l"><span>- Added a new feature to send an email notification to a member when you edit a user's record. This will be helpful to notify members when you activate their account.</span></td>
                      </tr><tr>
                        <th>1198</th><th> </th><td class="l"><span>- Fixed an issue with "pending" member account getting set to active when the record is edited from admin side.</span></td>
                      </tr><tr>
                        <th>1199</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1200</th><th> </th><td class="l"><span>= 1.9.3 =</span></td>
                      </tr><tr>
                        <th>1201</th><th> </th><td class="l"><span>- Fixed an issue with the featured image not showing properly for some protected blog posts.</span></td>
                      </tr><tr>
                        <th>1202</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1203</th><th> </th><td class="l"><span>= 1.9.2 =</span></td>
                      </tr><tr>
                        <th>1204</th><th> </th><td class="l"><span>- Fixed the edit link in the member search interface.</span></td>
                      </tr><tr>
                        <th>1205</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1206</th><th> </th><td class="l"><span>= 1.9.1 =</span></td>
                      </tr><tr>
                        <th>1207</th><th> </th><td class="l"><span>- Added Turkish language translation to the plugin. The translation was submitted by Murat SEYISOGLU.</span></td>
                      </tr><tr>
                        <th>1208</th><th> </th><td class="l"><span>- WordPrss 4.1 compatibility.</span></td>
                      </tr><tr>
                        <th>1209</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1210</th><th> </th><td class="l"><span>= 1.9.0 =</span></td>
                      </tr><tr>
                        <th>1211</th><th> </th><td class="l"><span>- Fixed a bug in the default account setting option (the option to do manual approval for membership).</span></td>
                      </tr><tr>
                        <th>1212</th><th> </th><td class="l"><span>- Added Polish language translation to the plugin. The translation was submitted by Maytki.</span></td>
                      </tr><tr>
                        <th>1213</th><th> </th><td class="l"><span>- Added Macedonian language translation to the plugin. The translation was submitted by I. Ivanov.</span></td>
                      </tr><tr>
                        <th>1214</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1215</th><th> </th><td class="l"><span>= 1.8.9 =</span></td>
                      </tr><tr>
                        <th>1216</th><th> </th><td class="l"><span>- Added a new feature so you can set the default account status of your members. This can useful if you want to manually approve members after they signup.</span></td>
                      </tr><tr>
                        <th>1217</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1218</th><th> </th><td class="l"><span>= 1.8.8 =</span></td>
                      </tr><tr>
                        <th>1219</th><th> </th><td class="l"><span>- Fixed an issue with the account expiry when it is set to 1 year.</span></td>
                      </tr><tr>
                        <th>1220</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1221</th><th> </th><td class="l"><span>= 1.8.7 =</span></td>
                      </tr><tr>
                        <th>1222</th><th> </th><td class="l"><span>- Updated the registration form validation code to not accept apostrophe character in the username field.</span></td>
                      </tr><tr>
                        <th>1223</th><th> </th><td class="l"><span>- Added a new tab for showing addon settings options (some of the addons will be able to utilize this settings tab).</span></td>
                      </tr><tr>
                        <th>1224</th><th> </th><td class="l"><span>- Added a new action hook in the addon settings tab.</span></td>
                      </tr><tr>
                        <th>1225</th><th> </th><td class="l"><span>- Moved the plugin's main class initialization code outside of the plugins_loaded hook.</span></td>
                      </tr><tr>
                        <th>1226</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1227</th><th> </th><td class="l"><span>= 1.8.6 =</span></td>
                      </tr><tr>
                        <th>1228</th><th> </th><td class="l"><span>- Fixed an email validation issue with paid membership registration process.</span></td>
                      </tr><tr>
                        <th>1229</th><th> </th><td class="l"><span>- Added a new free addon to customize the protected content message.</span></td>
                      </tr><tr>
                        <th>1230</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1231</th><th> </th><td class="l"><span>= 1.8.5 =</span></td>
                      </tr><tr>
                        <th>1232</th><th> </th><td class="l"><span>- Added category protection feature under the membership level menu.</span></td>
                      </tr><tr>
                        <th>1233</th><th> </th><td class="l"><span>- Fixed a bug with paid membership paypal IPN processing code.</span></td>
                      </tr><tr>
                        <th>1234</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1235</th><th> </th><td class="l"><span>= 1.8.4 =</span></td>
                      </tr><tr>
                        <th>1236</th><th> </th><td class="l"><span>- The Password field won't use the browser's autofill option in the admin interface when editing a member info.</span></td>
                      </tr><tr>
                        <th>1237</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1238</th><th> </th><td class="l"><span>= 1.8.3 =</span></td>
                      </tr><tr>
                        <th>1239</th><th> </th><td class="l"><span>- Added Swedish language translation to the plugin. The translation was submitted by Geson Perry.</span></td>
                      </tr><tr>
                        <th>1240</th><th> </th><td class="l"><span>- There is now a cronjob in the plugin to expire the member profiles in the background.</span></td>
                      </tr><tr>
                        <th>1241</th><th> </th><td class="l"><span>- Released a new addon - https://simple-membership-plugin.com/simple-membership-registration-form-shortcode-generator/</span></td>
                      </tr><tr>
                        <th>1242</th><th> </th><td class="l"><span>- Added a menu called "Add-ons" for listing all the extensions of this plugin.</span></td>
                      </tr><tr>
                        <th>1243</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1244</th><th> </th><td class="l"><span>= 1.8.2 =</span></td>
                      </tr><tr>
                        <th>1245</th><th> </th><td class="l"><span>- Updated the members expiry check code at the time of login and made it more robust.</span></td>
                      </tr><tr>
                        <th>1246</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1247</th><th> </th><td class="l"><span>= 1.8.1 =</span></td>
                      </tr><tr>
                        <th>1248</th><th> </th><td class="l"><span>- MySQL database character set and collation values are read from the system when creating the tables.</span></td>
                      </tr><tr>
                        <th>1249</th><th> </th><td class="l"><span>- Added German language translation file to the plugin.</span></td>
                      </tr><tr>
                        <th>1250</th><th> </th><td class="l"><span>- Some code refactoring work.</span></td>
                      </tr><tr>
                        <th>1251</th><th> </th><td class="l"><span>- Added a new feature to allow admins to create a registration form for a particular membership level.</span></td>
                      </tr><tr>
                        <th>1252</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1253</th><th> </th><td class="l"><span>= 1.8.0 =</span></td>
                      </tr><tr>
                        <th>1254</th><th> </th><td class="l"><span>- Added a new feature called "more tag protection" to enable teaser content. Read the [teaser content documentation](https://simple-membership-plugin.com/creating-teaser-content-membership-site/) for more info.</span></td>
                      </tr><tr>
                        <th>1255</th><th> </th><td class="l"><span>- Added Portuguese (Brazil) language translation to the plugin. The translation was submitted by Rachel Oakes.</span></td>
                      </tr><tr>
                        <th>1256</th><th> </th><td class="l"><span>- Added cookiehash definition check (in case it is not defined already).</span></td>
                      </tr><tr>
                        <th>1257</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1258</th><th> </th><td class="l"><span>= 1.7.9 =</span></td>
                      </tr><tr>
                        <th>1259</th><th> </th><td class="l"><span>- Added Spanish language translation to the plugin. The translation was submitted by David Sanchez.</span></td>
                      </tr><tr>
                        <th>1260</th><th> </th><td class="l"><span>- Removed some hardcoded path from the auth class.</span></td>
                      </tr><tr>
                        <th>1261</th><th> </th><td class="l"><span>- WordPress 4.0 compatibility</span></td>
                      </tr><tr>
                        <th>1262</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1263</th><th> </th><td class="l"><span>= 1.7.8 =</span></td>
                      </tr><tr>
                        <th>1264</th><th> </th><td class="l"><span>- Architecture improvement for the [WP User import addon](https://simple-membership-plugin.com/import-existing-wordpress-users-simple-membership-plugin/)</span></td>
                      </tr><tr>
                        <th>1265</th><th> </th><td class="l"><span>- Updated the POT file with the new translation strings</span></td>
                      </tr><tr>
                        <th>1266</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1267</th><th> </th><td class="l"><span>= 1.7.7 =</span></td>
                      </tr><tr>
                        <th>1268</th><th> </th><td class="l"><span>- The plugin will now show the member account expiry date in the login widget (when a user is logged into the site).</span></td>
                      </tr><tr>
                        <th>1269</th><th> </th><td class="l"><span>- Added a couple of filters to the plugin.</span></td>
                      </tr><tr>
                        <th>1270</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1271</th><th> </th><td class="l"><span>= 1.7.6 =</span></td>
                      </tr><tr>
                        <th>1272</th><th> </th><td class="l"><span>- Fixed an issue with hiding the admin-bar. It will never be shown to non-members.</span></td>
                      </tr><tr>
                        <th>1273</th><th> </th><td class="l"><span>- Renamed the chinese language file to correct the name.</span></td>
                      </tr><tr>
                        <th>1274</th><th> </th><td class="l"><span>- Removed a lot of fields from the front-end registration form (after user feedback). The membership registration form is now a lot simpler with just a few fields.</span></td>
                      </tr><tr>
                        <th>1275</th><th> </th><td class="l"><span>- Fixed a bug with the member search option in the admin dashboard.</span></td>
                      </tr><tr>
                        <th>1276</th><th> </th><td class="l"><span>- Added a few new action hooks and filters.</span></td>
                      </tr><tr>
                        <th>1277</th><th> </th><td class="l"><span>- Fixed a bug with the media attachment protection.</span></td>
                      </tr><tr>
                        <th>1278</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1279</th><th> </th><td class="l"><span>= 1.7.5 = </span></td>
                      </tr><tr>
                        <th>1280</th><th> </th><td class="l"><span>- Fixed an issue with language file loading.</span></td>
                      </tr><tr>
                        <th>1281</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1282</th><th> </th><td class="l"><span>= 1.7.4 =</span></td>
                      </tr><tr>
                        <th>1283</th><th> </th><td class="l"><span>- Added capability to use any of the shortcodes (example: Login widget) in the sidebar text widget.</span></td>
                      </tr><tr>
                        <th>1284</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1285</th><th> </th><td class="l"><span>= 1.7.3 =</span></td>
                      </tr><tr>
                        <th>1286</th><th> </th><td class="l"><span>- Added french language translation to the plugin. The translation was submitted by Zeb.</span></td>
                      </tr><tr>
                        <th>1287</th><th> </th><td class="l"><span>- Fixed a few language textdomain issue.</span></td>
                      </tr><tr>
                        <th>1288</th><th> </th><td class="l"><span>- Fixed an issue with the the registration and login page shortcode (On some sites the registration form wasn't visible.)</span></td>
                      </tr><tr>
                        <th>1289</th><th> </th><td class="l"><span>- Added simplified Chinese language translation to the plugin. The translation was submitted by Ben.</span></td>
                      </tr><tr>
                        <th>1290</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1291</th><th> </th><td class="l"><span>= 1.7.2 =</span></td>
                      </tr><tr>
                        <th>1292</th><th> </th><td class="l"><span>- Added a new hook after the plugin's admin menu is rendered so addons can hook into the main plugin menu.</span></td>
                      </tr><tr>
                        <th>1293</th><th> </th><td class="l"><span>- Fixed another PHP 5.2 code compatibility issue.</span></td>
                      </tr><tr>
                        <th>1294</th><th> </th><td class="l"><span>- Fixed an issue with the bulk member delete functionality.</span></td>
                      </tr><tr>
                        <th>1295</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1296</th><th> </th><td class="l"><span>= 1.7.1 =</span></td>
                      </tr><tr>
                        <th>1297</th><th> </th><td class="l"><span>- Fixed another PHP 5.2 code compatibility issue.</span></td>
                      </tr><tr>
                        <th>1298</th><th> </th><td class="l"><span>- Updated the plugin's language file template.</span></td>
                      </tr><tr>
                        <th>1299</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1300</th><th> </th><td class="l"><span>= 1.7 = </span></td>
                      </tr><tr>
                        <th>1301</th><th> </th><td class="l"><span>- Tweaked code to make it compatible with PHP 5.2 (previously PHP 5.3 was the requirement).</span></td>
                      </tr><tr>
                        <th>1302</th><th> </th><td class="l"><span>- Added checks for checking if a WP user account already exists with the chosen username (when a member registers).</span></td>
                      </tr><tr>
                        <th>1303</th><th> </th><td class="l"><span>- Fixed a few translation strings.</span></td>
                      </tr><tr>
                        <th>1304</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1305</th><th> </th><td class="l"><span>= 1.6 =</span></td>
                      </tr><tr>
                        <th>1306</th><th> </th><td class="l"><span>- Added comment protection. Comments on your protected posts will also be protected automatically.</span></td>
                      </tr><tr>
                        <th>1307</th><th> </th><td class="l"><span>- Added a new feature to hide the admin toolbar for logged in users of the site.</span></td>
                      </tr><tr>
                        <th>1308</th><th> </th><td class="l"><span>- Bug fix: password reset email not sent correctly</span></td>
                      </tr><tr>
                        <th>1309</th><th> </th><td class="l"><span>- Bug fix: page rendering issue after the member updates the profile.</span></td>
                      </tr><tr>
                        <th>1310</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1311</th><th> </th><td class="l"><span>= 1.5.1 = </span></td>
                      </tr><tr>
                        <th>1312</th><th> </th><td class="l"><span>- Compatibility with the after login redirection addon:</span></td>
                      </tr><tr>
                        <th>1313</th><th> </th><td class="l"><span>http://wordpress.org/plugins/simple-membership-after-login-redirection/</span></td>
                      </tr><tr>
                        <th>1314</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1315</th><th> </th><td class="l"><span>= 1.5 =</span></td>
                      </tr><tr>
                        <th>1316</th><th> </th><td class="l"><span>- Fixed a bug with sending member email when added via admin dashboard.</span></td>
                      </tr><tr>
                        <th>1317</th><th> </th><td class="l"><span>- Fixed a bug with general settings values resetting.</span></td>
                      </tr><tr>
                        <th>1318</th><th> </th><td class="l"><span>- Added a few action hooks to the plugin.</span></td>
                      </tr><tr>
                        <th>1319</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1320</th><th> </th><td class="l"><span>= 1.4 =</span></td>
                      </tr><tr>
                        <th>1321</th><th> </th><td class="l"><span>- Refactored some code to enhance the architecture. This will help us add some good features in the future.</span></td>
                      </tr><tr>
                        <th>1322</th><th> </th><td class="l"><span>- Added debug logger to help troubleshoot after membership payment tasks.</span></td>
                      </tr><tr>
                        <th>1323</th><th> </th><td class="l"><span>- Added a new action hook for after paypal IPN is processed.</span></td>
                      </tr><tr>
                        <th>1324</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1325</th><th> </th><td class="l"><span>= 1.3 =</span></td>
                      </tr><tr>
                        <th>1326</th><th> </th><td class="l"><span>- Fixed a bug with premium membership registration.</span></td>
                      </tr><tr>
                        <th>1327</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>1328</th><th> </th><td class="l"><span>= 1.2 =</span></td>
                      </tr><tr>
                        <th>1329</th><th> </th><td class="l"><span>- First commit to WordPress repository.</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>214</th><td class="r"><span>Full changelog available at [change-log-of-old-versions.txt](https://plugins.svn.wordpress.org/simple-membership/trunk/change-log-old-versions.txt)</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1330</th><th>215</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>1331</th><th>216</th><td class="l"><span>== Upgrade Notice ==</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file26">
          <a href="/changeset/3076221/simple-membership/trunk/simple-wp-membership.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/simple-wp-membership.php">simple-membership/trunk/simple-wp-membership.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/simple-wp-membership.php?rev=3045036#L2">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/simple-wp-membership.php?rev=3076221#L2">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>2</th><th>2</th><td class="l"><span>/*</span></td>
                  </tr><tr>
                          <th>3</th><th>3</th><td class="l"><span>Plugin Name: Simple WordPress Membership</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>4</th><th> </th><td class="l"><span>Version: 4.4.<del>3</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>4</th><td class="r"><span>Version: 4.4.<ins>4</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>5</th><th>5</th><td class="l"><span>Plugin URI: https://simple-membership-plugin.com/</span></td>
                  </tr><tr>
                          <th>6</th><th>6</th><td class="l"><span>Author: smp7, wp.insider</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/simple-wp-membership.php?rev=3045036#L17">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/simple-wp-membership.php?rev=3076221#L17">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>17</th><th>17</th><td class="l"><span>}</span></td>
                  </tr><tr>
                          <th>18</th><th>18</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>19</th><th> </th><td class="l"><span>define( 'SIMPLE_WP_MEMBERSHIP_VER', '4.4.<del>3</del>' );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>19</th><td class="r"><span>define( 'SIMPLE_WP_MEMBERSHIP_VER', '4.4.<ins>4</ins>' );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>20</th><th>20</th><td class="l"><span>define( 'SIMPLE_WP_MEMBERSHIP_DB_VER', '1.3' );</span></td>
                  </tr><tr>
                          <th>21</th><th>21</th><td class="l"><span>define( 'SIMPLE_WP_MEMBERSHIP_SITE_HOME_URL', home_url() );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file27">
          <a href="/changeset/3076221/simple-membership/trunk/views/admin_edit_level.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/views/admin_edit_level.php">simple-membership/trunk/views/admin_edit_level.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2991476">
                    <a title="Show revision 2991476 of this file in browser" href="/browser/simple-membership/trunk/views/admin_edit_level.php?rev=2991476#L1">
                      r2991476</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/views/admin_edit_level.php?rev=3076221#L1">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="mod">
                      <tr class="first">
                        <th>1</th><th> </th><td class="l"><span>&lt;?php SimpleWpMembership::enqueue_validation_scripts(); ?&gt;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>1</th><td class="r"><span>&lt;?php</span></td>
                      </tr><tr>
                        <th> </th><th>2</th><td class="r"><span>SimpleWpMembership::enqueue_validation_scripts();</span></td>
                      </tr><tr>
                        <th> </th><th>3</th><td class="r"><span>$is_email_activation_conflicting = SwpmSettings::get_instance()-&gt;get_value( 'default-account-status' ) == 'pending' &amp;&amp; checked($email_activation, true, false) ? true : false;</span></td>
                      </tr><tr class="last">
                        <th> </th><th>4</th><td class="r"><span>?&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>2</th><th>5</th><td class="l"><span>&lt;div class="wrap" id="swpm-level-page"&gt;</span></td>
                  </tr><tr>
                          <th>3</th><th>6</th><td class="l"><span>&lt;form action="" method="post" name="swpm-edit-level" id="swpm-edit-level" class="validate swpm-validate-form"&lt;?php do_action('level_edit_form_tag');?&gt;&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/admin_edit_level.php?rev=2991476#L51">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/admin_edit_level.php?rev=3076221#L54">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>51</th><th>54</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;&nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                  </tr><tr>
                          <th>52</th><th>55</th><td class="l"><span>&nbsp; &nbsp; &lt;/tr&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>53</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr&gt;</span></td>
                      </tr><tr>
                        <th>54</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;</span></td>
                      </tr><tr>
                        <th>55</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label for="email_activation"&gt;&lt;?php echo&nbsp; SwpmUtils::_('Email Activation'); ?&gt;&lt;/label&gt;</span></td>
                      </tr><tr>
                        <th>56</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/th&gt;</span></td>
                      </tr><tr>
                        <th>57</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                      </tr><tr>
                        <th>58</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input name="email_activation" type="checkbox" value="1" &lt;?php checked($email_activation);?&gt;&gt;</span></td>
                      </tr><tr>
                        <th>59</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;</span></td>
                      </tr><tr>
                        <th>60</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo&nbsp; SwpmUtils::_('Enable new user activation via email. When enabled, members will need to click on an activation link that is sent to their email address to activate the account. Useful for free membership.');?&gt;</span></td>
                      </tr><tr>
                        <th>61</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo '&lt;a href="https://simple-membership-plugin.com/email-activation-for-members/" target="_blank"&gt;' . SwpmUtils::_('View Documentation') . '.&lt;/a&gt;'; ?&gt;</span></td>
                      </tr><tr>
                        <th>62</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo '&lt;br&gt;&lt;strong&gt;'.SwpmUtils::_('Note:').'&lt;/strong&gt; '.SwpmUtils::_('If enabled, decryptable member password is temporarily stored in the database until the account is activated.'); ?&gt;</span></td>
                      </tr><tr>
                        <th>63</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span></td>
                      </tr><tr>
                        <th>64</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;br /&gt;</span></td>
                      </tr><tr>
                        <th>65</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label for="after_activation_redirect_page"&gt;&lt;?php echo SwpmUtils::_( 'After Email Activation Redirection Page (optional)' ); ?&gt;&lt;/label&gt;</span></td>
                      </tr><tr>
                        <th>66</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input class="regular-text" name="after_activation_redirect_page" type="text" value="&lt;?php echo esc_url( $after_activation_redirect_page ); ?&gt;"&gt;</span></td>
                      </tr><tr>
                        <th>67</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;</span></td>
                      </tr><tr>
                        <th>68</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo SwpmUtils::_( 'This option can be used to redirect the users to a designated page after they click on the email activation link and activate the account.' ); ?&gt;</span></td>
                      </tr><tr>
                        <th>69</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span></td>
                      </tr><tr>
                        <th>70</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>56</th><td class="r"><span>&nbsp; &nbsp; &lt;tr&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>57</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>58</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label for="email_activation"&gt;&lt;?php echo&nbsp; SwpmUtils::_('Email Activation'); ?&gt;&lt;/label&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>59</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/th&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>60</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>61</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input name="email_activation" type="checkbox" value="1" &lt;?php echo $is_email_activation_conflicting ? 'disabled' : checked($email_activation) ;?&gt;&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>62</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php if ($is_email_activation_conflicting) { ?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>63</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- Display a warning message if manual approval and email activation both enabled at the same time (they are mutually exclusive) --&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>64</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class="swpm-yellow-box"&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>65</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>66</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&lt;?php _e( "Attention: ", 'simple-membership')?&gt;&lt;/b&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>67</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php _e( "Your current setting for the default account status is 'pending' as found in the", 'simple-membership');?&gt; </span></td>
                      </tr><tr>
                        <th> </th><th>68</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="admin.php?page=simple_wp_membership_settings"&gt;&lt;?php _e('general settings menu', 'simple-membership') ?&gt;&lt;/a&gt; </span></td>
                      </tr><tr>
                        <th> </th><th>69</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php _e( "This configuration conflicts with the email activation feature. To enable email activation, set the default account status back to the default setting of 'active'.", 'simple-membership');?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>70</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>71</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>72</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>73</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>74</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo&nbsp; SwpmUtils::_('Enable new user activation via email. When enabled, members will need to click on an activation link that is sent to their email address to activate the account. Useful for free membership.');?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>75</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo '&lt;a href="https://simple-membership-plugin.com/email-activation-for-members/" target="_blank"&gt;' . SwpmUtils::_('View Documentation') . '.&lt;/a&gt;'; ?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>76</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo '&lt;br&gt;&lt;strong&gt;'.SwpmUtils::_('Note:').'&lt;/strong&gt; '.SwpmUtils::_('If enabled, decryptable member password is temporarily stored in the database until the account is activated.'); ?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>77</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>78</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;br /&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>79</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label for="after_activation_redirect_page"&gt;&lt;?php echo SwpmUtils::_( 'After Email Activation Redirection Page (optional)' ); ?&gt;&lt;/label&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>80</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input class="regular-text" name="after_activation_redirect_page" type="text" value="&lt;?php echo esc_url( $after_activation_redirect_page ); ?&gt;"&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>81</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>82</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php echo SwpmUtils::_( 'This option can be used to redirect the users to a designated page after they click on the email activation link and activate the account.' ); ?&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>83</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span></td>
                      </tr><tr class="last">
                        <th> </th><th>84</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>71</th><th>85</th><td class="l"><span>&nbsp; &nbsp; &lt;/tr&gt;</span></td>
                  </tr><tr>
                          <th>72</th><th>86</th><td class="l"><span>&nbsp; &nbsp; &lt;?php echo apply_filters('swpm_admin_edit_membership_level_ui', '', $id); ?&gt;</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file28">
          <a href="/changeset/3076221/simple-membership/trunk/views/payments/admin_all_payment_transactions.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/views/payments/admin_all_payment_transactions.php">simple-membership/trunk/views/payments/admin_all_payment_transactions.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2867650">
                    <a title="Show revision 2867650 of this file in browser" href="/browser/simple-membership/trunk/views/payments/admin_all_payment_transactions.php?rev=2867650#L16">
                      r2867650</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/views/payments/admin_all_payment_transactions.php?rev=3076221#L16">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>16</th><th>16</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="submit" name="swpm_txn_search_btn" class="button" value="&lt;?php echo SwpmUtils::_('Search'); ?&gt;" /&gt;</span></td>
                  </tr><tr>
                          <th>17</th><th>17</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/form&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>18</th><th> </th><td class="l"><span>&nbsp; &nbsp; &lt;/div&gt;&lt;/div&gt;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>18</th><td class="r"><span>&nbsp; &nbsp; &lt;/div&gt;</span></td>
                      </tr><tr class="last">
                        <th> </th><th>19</th><td class="r"><span>&lt;/div&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>19</th><th>20</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>20</th><th>21</th><td class="l"><span>&lt;?php</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/admin_all_payment_transactions.php?rev=2867650#L25">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/admin_all_payment_transactions.php?rev=3076221#L26">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>25</th><th>26</th><td class="l"><span>//Check if an action was performed</span></td>
                  </tr><tr>
                          <th>26</th><th>27</th><td class="l"><span>if (isset($_REQUEST['action'])) { //Do list table form row action tasks</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>27</th><th> </th><td class="l"><span>&nbsp; &nbsp; if (isset($_REQUEST['action']) &amp;&amp; $_REQUEST['action'] == 'delete_txn') { //Delete link was clicked for a row in list table</span></td>
                      </tr><tr>
                        <th>28</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $record_id = sanitize_text_field($_REQUEST['id']);</span></td>
                      </tr><tr>
                        <th>29</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $record_id = absint($record_id);</span></td>
                      </tr><tr>
                        <th>30</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; check_admin_referer('swpm_delete_txn_'.$record_id);</span></td>
                      </tr><tr>
                        <th>31</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $payments_list_table-&gt;delete_record($record_id);</span></td>
                      </tr><tr>
                        <th>32</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $success_msg = '&lt;div id="message" class="updated"&gt;&lt;p&gt;&lt;strong&gt;';</span></td>
                      </tr><tr>
                        <th>33</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $success_msg .= SwpmUtils::_('The selected entry was deleted!');</span></td>
                      </tr><tr>
                        <th>34</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $success_msg .= '&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th>35</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; echo $success_msg;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>28</th><td class="r"><span>&nbsp; &nbsp; switch ($_REQUEST['action']) { </span></td>
                      </tr><tr>
                        <th> </th><th>29</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; case "delete_txn":</span></td>
                      </tr><tr>
                        <th> </th><th>30</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Delete link was clicked for a row in list table</span></td>
                      </tr><tr>
                        <th> </th><th>31</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post_id = sanitize_text_field($_REQUEST['id']);</span></td>
                      </tr><tr>
                        <th> </th><th>32</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post_id = absint($post_id);</span></td>
                      </tr><tr>
                        <th> </th><th>33</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; check_admin_referer('swpm_delete_txn_'.$post_id);</span></td>
                      </tr><tr>
                        <th> </th><th>34</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>35</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $result = $payments_list_table-&gt;delete_record($post_id);</span></td>
                      </tr><tr>
                        <th> </th><th>36</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($result) {</span></td>
                      </tr><tr>
                        <th> </th><th>37</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $success_msg = '&lt;div id="message" class="notice notice-success"&gt;&lt;p&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>38</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $success_msg .= __('The selected entry was deleted!', 'simple-membership');</span></td>
                      </tr><tr>
                        <th> </th><th>39</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $success_msg .= '&lt;/p&gt;&lt;/div&gt;';</span></td>
                      </tr><tr>
                        <th> </th><th>40</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo $success_msg;</span></td>
                      </tr><tr>
                        <th> </th><th>41</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>42</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></td>
                      </tr><tr>
                        <th> </th><th>43</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; default:</span></td>
                      </tr><tr class="last">
                        <th> </th><th>44</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>36</th><th>45</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>37</th><th>46</th><td class="l"><span>}</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file30">
          <a href="/changeset/3076221/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php">simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L164">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3076221#L164">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>164</th><th>164</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>165</th><th>165</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>166</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php _e( 'Allow Promotion Codes', 'simple-membership'); ?&gt;&lt;/th&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>167</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>168</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="checkbox" name="allow_promotion_codes" value="1"/&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>169</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;&lt;?php _e('Enable this option if you want to use the promotion codes feature of Stripe. You will need to enable this feature in your Stripe account before using it.', 'simple-membership') ?&gt;&lt;/p&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>170</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>171</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</ins></td>
                  </tr><tr>
                          <th> </th><th>172</th><td class="r"><ins></ins></td>
                  </tr><tr class="last">
                          <th> </th><th>173</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>166</th><th>174</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php echo SwpmUtils::_( 'Return URL' ); ?&gt;&lt;/th&gt;</span></td>
                  </tr><tr>
                          <th>167</th><th>175</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L238">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3076221#L246">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>238</th><th>246</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_post_meta( $button_id, 'payment_currency', sanitize_text_field( $_REQUEST['payment_currency'] ) );</span></td>
                  </tr><tr>
                          <th>239</th><th>247</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>248</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; add_post_meta( $button_id, 'allow_promotion_codes', sanitize_text_field( $_REQUEST['allow_promotion_codes'] ) );</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>249</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>240</th><th>250</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_post_meta( $button_id, 'stripe_test_secret_key', trim( sanitize_text_field( $_REQUEST['stripe_test_secret_key'] ) ) );</span></td>
                  </tr><tr>
                          <th>241</th><th>251</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_post_meta( $button_id, 'stripe_test_publishable_key', trim( sanitize_text_field( $_REQUEST['stripe_test_publishable_key'] ) ) );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L284">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3076221#L294">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>284</th><th>294</th><td class="l"><span>&nbsp; &nbsp; $payment_amount&nbsp; &nbsp; &nbsp; = get_post_meta( $button_id, 'payment_amount', true );</span></td>
                  </tr><tr>
                          <th>285</th><th>295</th><td class="l"><span>&nbsp; &nbsp; $payment_currency&nbsp; &nbsp; = get_post_meta( $button_id, 'payment_currency', true );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>296</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>297</th><td class="r"><ins>&nbsp; &nbsp; $allow_promotion_codes&nbsp; &nbsp; = get_post_meta( $button_id, 'allow_promotion_codes', true );</ins></td>
                  </tr><tr>
                          <th> </th><th>298</th><td class="r"><ins>&nbsp; &nbsp; if ( $allow_promotion_codes == '1' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>299</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $allow_promotion_codes = 'checked';</ins></td>
                  </tr><tr>
                          <th> </th><th>300</th><td class="r"><ins>&nbsp; &nbsp; } else {</ins></td>
                  </tr><tr>
                          <th> </th><th>301</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $allow_promotion_codes = '';</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>302</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>286</th><th>303</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>287</th><th>304</th><td class="l"><span>&nbsp; &nbsp; $stripe_test_secret_key&nbsp; &nbsp; &nbsp; = get_post_meta( $button_id, 'stripe_test_secret_key', true );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L456">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3076221#L473">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>456</th><th>473</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>457</th><th>474</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>475</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php _e( 'Allow Promotion Codes', 'simple-membership'); ?&gt;&lt;/th&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>476</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>477</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="checkbox" name="allow_promotion_codes" value="1" &lt;?php echo esc_attr($allow_promotion_codes) ?&gt; /&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>478</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;&lt;?php _e('Enable this option if you want to use the promotion codes feature of Stripe. You will need to enable this feature in your Stripe account before using it.', 'simple-membership') ?&gt;&lt;/p&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>479</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</ins></td>
                  </tr><tr>
                          <th> </th><th>480</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</ins></td>
                  </tr><tr>
                          <th> </th><th>481</th><td class="r"><ins></ins></td>
                  </tr><tr class="last">
                          <th> </th><th>482</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>458</th><th>483</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php echo SwpmUtils::_( 'Return URL' ); ?&gt;&lt;/th&gt;</span></td>
                  </tr><tr>
                          <th>459</th><th>484</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L531">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3076221#L556">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>531</th><th>556</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'payment_currency', sanitize_text_field( $_REQUEST['payment_currency'] ) );</span></td>
                  </tr><tr>
                          <th>532</th><th>557</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>558</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'allow_promotion_codes', isset( $_POST['allow_promotion_codes'] ) ? '1' : '' );</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>559</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>533</th><th>560</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $stripe_test_secret_key = isset( $_POST['stripe_test_secret_key'] ) ? sanitize_text_field( stripslashes ( $_POST['stripe_test_secret_key'] ) ) : '';</span></td>
                  </tr><tr>
                          <th>534</th><th>561</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $stripe_test_publishable_key = isset( $_POST['stripe_test_publishable_key'] ) ? sanitize_text_field( stripslashes ( $_POST['stripe_test_publishable_key'] ) ) : ''; </span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file31">
          <a href="/changeset/3076221/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php">simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L211">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221#L211">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>211</th><th>211</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>212</th><th>212</th><td class="l"><span>&nbsp; &nbsp; &lt;div class="postbox"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>213</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;h3 class="hndle"&gt;&lt;label for="title"&gt;&lt;?php <del>echo SwpmUtils::_( 'Optional Details' </del>); ?&gt;&lt;/label&gt;&lt;/h3&gt;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>213</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;h3 class="hndle"&gt;&lt;label for="title"&gt;&lt;?php <ins>_e( 'Optional Details' , 'simple-membership'</ins>); ?&gt;&lt;/label&gt;&lt;/h3&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>214</th><th>214</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class="inside"&gt;</span></td>
                  </tr><tr>
                          <th>215</th><th>215</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L217">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221#L217">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>217</th><th>217</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>218</th><th>218</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>219</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php <del>echo SwpmUtils::_( 'Collect Customer Address' </del>); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>219</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php <ins>_e( 'Collect Customer Address' , 'simple-membership'</ins>); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>220</th><th>220</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                  </tr><tr>
                          <th>221</th><th>221</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="checkbox" name="collect_address" value="1" &lt;?php echo ( $edit ? ( ( isset( $opts['stripe_collect_address'][0] ) &amp;&amp; $opts['stripe_collect_address'][0] === '1' ) ? ' checked' : '' ) : '' ); ?&gt; /&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L225">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221#L225">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>225</th><th>225</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>226</th><th>226</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>227</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php <del>echo SwpmUtils::_( 'Enable Automatic Tax' </del>); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>227</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php <ins>_e( 'Enable Automatic Tax' , 'simple-membership'</ins>); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>228</th><th>228</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                  </tr><tr>
                          <th>229</th><th>229</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="checkbox" name="automatic_tax" value="1" &lt;?php echo ( $edit ? ( ( isset( $opts['stripe_automatic_tax'][0] ) &amp;&amp; $opts['stripe_automatic_tax'][0] === '1' ) ? ' checked' : '' ) : '' ); ?&gt; /&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L233">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221#L233">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>233</th><th>233</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>234</th><th>234</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>235</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php <del>echo SwpmUtils::_( 'Return URL' </del>); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>235</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php <ins>_e( 'Return URL' , 'simple-membership'</ins>); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>236</th><th>236</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                  </tr><tr>
                          <th>237</th><th>237</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="text" size="100" name="return_url" value="&lt;?php echo ( $edit ? $opts['return_url'][0] : '' ); ?&gt;" /&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L241">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221#L241">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>241</th><th>241</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>242</th><th>242</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>243</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php echo SwpmUtils::_( 'Button Image URL' ); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>243</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php _e( 'Cancel URL' , 'simple-membership'); ?&gt;&lt;/th&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>244</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>245</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="text" size="100" name="cancel_url" value="&lt;?php echo $edit &amp;&amp; isset($opts['cancel_url'][0]) &amp;&amp; !empty($opts['cancel_url'][0]) ? esc_url_raw($opts['cancel_url'][0] ) : '' ?&gt;" /&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>246</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p class="description"&gt;This is the URL the user will be redirected to when a payment is canceled. Enter the URL of your preferred page here.&lt;/p&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>247</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>248</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;</span></td>
                      </tr><tr>
                        <th> </th><th>249</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>250</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr valign="top"&gt;</span></td>
                      </tr><tr class="last">
                        <th> </th><th>251</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th scope="row"&gt;&lt;?php _e( 'Button Image URL' , 'simple-membership'); ?&gt;&lt;/th&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>244</th><th>252</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span></td>
                  </tr><tr>
                          <th>245</th><th>253</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="text" size="100" name="button_image_url" value="&lt;?php echo ( $edit ? $opts['button_image_url'][0] : '' ); ?&gt;" /&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L329">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3076221#L337">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>329</th><th>337</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'membership_level_id', sanitize_text_field( $_REQUEST['membership_level_id'] ) );</span></td>
                  </tr><tr>
                          <th>330</th><th>338</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'return_url', trim( sanitize_text_field( $_REQUEST['return_url'] ) ) );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>339</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>340</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $cancel_url = isset($_POST['cancel_url']) &amp;&amp; !empty($_POST['cancel_url']) ? trim(sanitize_text_field($_POST['cancel_url'])) : '';</ins></td>
                  </tr><tr>
                          <th> </th><th>341</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'cancel_url',&nbsp; $cancel_url );</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>342</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>331</th><th>343</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'button_image_url', trim( sanitize_text_field( $_REQUEST['button_image_url'] ) ) );</span></td>
                  </tr><tr>
                          <th>332</th><th>344</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; update_post_meta( $button_id, 'stripe_collect_address', isset( $_POST['collect_address'] ) ? '1' : '' );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file32">
          <a href="/changeset/3076221/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php">simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L107">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L107">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>107</th><th>107</th><td class="l"><span>&nbsp; &nbsp; $wp_nonce = wp_create_nonce($on_page_embed_button_id);</span></td>
                  </tr><tr>
                          <th>108</th><th>108</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>109</th><td class="r"><ins>&nbsp; &nbsp; $swpm_button_wrapper_id = 'swpm-button-wrapper-'.$button_id;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>110</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>109</th><th>111</th><td class="l"><span>&nbsp; &nbsp; $output = '';</span></td>
                  </tr><tr>
                          <th>110</th><th>112</th><td class="l"><span>&nbsp; &nbsp; ob_start();</span></td>
                  </tr><tr>
                          <th>111</th><th>113</th><td class="l"><span>&nbsp; &nbsp; ?&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>112</th><th> </th><td class="l"><span>&nbsp; &nbsp; &lt;div <del></del>class="swpm-button-wrapper swpm-paypal-buy-now-button-wrapper"&gt;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>114</th><td class="r"><span>&nbsp; &nbsp; &lt;div <ins>id="&lt;?php echo esc_attr($swpm_button_wrapper_id); ?&gt;" </ins>class="swpm-button-wrapper swpm-paypal-buy-now-button-wrapper"&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>113</th><th>115</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>114</th><th>116</th><td class="l"><span>&nbsp; &nbsp; &lt;!-- PayPal button container where the button will be rendered --&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L118">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L120">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>118</th><th>120</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>119</th><th>121</th><td class="l"><span>&nbsp; &nbsp; &lt;script type="text/javascript"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>120</th><th> </th><td class="l"><span>&nbsp; &nbsp; jQuery( function( $ ) {</span></td>
                      </tr><tr>
                        <th>121</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $( document ).on( "swpm_paypal_sdk_loaded", function() { </span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>122</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; document.addEventListener( "swpm_paypal_sdk_loaded", function() { </span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>122</th><th>123</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Anything that goes here will only be executed after the PayPal SDK is loaded.</span></td>
                  </tr><tr>
                          <th>123</th><th>124</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log('PayPal JS SDK is loaded.');</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L140">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L141">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>140</th><th>141</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>141</th><th>142</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Setup the transaction.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>142</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>async createOrder</del>() {</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>143</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>createOrder: async function</ins>() {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>143</th><th>144</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Create the order in PayPal using the PayPal API.</span></td>
                  </tr><tr>
                          <th>144</th><th>145</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // https://developer.paypal.com/docs/checkout/standard/integrate/</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L180">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L181">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>180</th><th>181</th><td class="l"><span>&nbsp; &nbsp; </span></td>
                  </tr><tr>
                          <th>181</th><th>182</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // handle the onApprove event</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>182</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>async onApprove</del>(data, actions) {</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>183</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>onApprove: async function</ins>(data, actions) {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>183</th><th>184</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log('Successfully created a transaction.');</span></td>
                  </tr><tr>
                          <th>184</th><th>185</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>185</th><th>186</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Show the spinner while we process this transaction.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>186</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var pp_button_container = jQuery('#&lt;?php echo esc_js($on_page_embed_button_id); ?&gt;');</span></td>
                      </tr><tr>
                        <th>187</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var pp_button_spinner_conainer = pp_button_container.siblings('.swpm-pp-button-spinner-container');</span></td>
                      </tr><tr>
                        <th>188</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.hide();//Hide the buttons</span></td>
                      </tr><tr>
                        <th>189</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_conainer.css('display', 'inline-block');//Show the spinner.</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>187</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const pp_button_container = document.getElementById('&lt;?php echo esc_js($on_page_embed_button_id); ?&gt;');</span></td>
                      </tr><tr>
                        <th> </th><th>188</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const pp_button_container_wrapper = document.getElementById('&lt;?php echo esc_js($swpm_button_wrapper_id); ?&gt;');</span></td>
                      </tr><tr>
                        <th> </th><th>189</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const pp_button_spinner_container = pp_button_container_wrapper.querySelector('.swpm-pp-button-spinner-container');</span></td>
                      </tr><tr>
                        <th> </th><th>190</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.style.display = 'none'; //Hide the buttons</span></td>
                      </tr><tr class="last">
                        <th> </th><th>191</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_container.style.display = 'inline-block'; //Show the spinner.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>190</th><th>192</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>191</th><th>193</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Capture the order in PayPal using the PayPal API.</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L198">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L200">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>198</th><th>200</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_bn_data.on_page_button_id = '&lt;?php echo esc_js($on_page_embed_button_id); ?&gt;';</span></td>
                  </tr><tr>
                          <th>199</th><th>201</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_bn_data.item_name = '&lt;?php echo esc_js($item_name); ?&gt;';</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>202</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>200</th><th>203</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Add custom_field data. It is important to encode the custom_field data so it doesn't mess up the data with &amp; character.</span></td>
                  </tr><tr>
                          <th>201</th><th>204</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const custom_data = document.getElementById('&lt;?php echo esc_attr($on_page_embed_button_id."-custom-field"); ?&gt;').value;</span></td>
                  </tr><tr>
                          <th>202</th><th>205</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_bn_data.custom_field = encodeURIComponent(custom_data);</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>203</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let post_data = 'action=swpm_pp_capture_order&amp;data=' + JSON.stringify(pp_bn_data) + '&amp;_wpnonce=&lt;?php echo $wp_nonce; ?&gt;';</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>206</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr><tr>
                        <th> </th><th>207</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const post_data = new URLSearchParams({</span></td>
                      </tr><tr>
                        <th> </th><th>208</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; action: 'swpm_pp_capture_order',</span></td>
                      </tr><tr>
                        <th> </th><th>209</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data: JSON.stringify(pp_bn_data),</span></td>
                      </tr><tr>
                        <th> </th><th>210</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _wpnonce: '&lt;?php echo $wp_nonce; ?&gt;',</span></td>
                      </tr><tr>
                        <th> </th><th>211</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }).toString();</span></td>
                      </tr><tr class="last">
                        <th> </th><th>212</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>204</th><th>213</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try {</span></td>
                  </tr><tr>
                          <th>205</th><th>214</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const response = await fetch("&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;", {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L254">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L263">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>254</th><th>263</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>255</th><th>264</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Return the button and the spinner back to their orignal display state.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>256</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.s<del>how();//</del>Show the buttons</span></td>
                      </tr><tr>
                        <th>257</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_con<del>ainer.hide();//Hide the spinner.</del></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>265</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.s<ins>tyle.display = 'block'; // </ins>Show the buttons</span></td>
                      </tr><tr class="last">
                        <th> </th><th>266</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_con<ins>tainer.style.display = 'none'; // Hide the spinner</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>258</th><th>267</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>259</th><th>268</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } catch (error) {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L282">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3076221#L291">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>282</th><th>291</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                  </tr><tr>
                          <th>283</th><th>292</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>284</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>285</th><th>293</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                  </tr><tr>
                          <th>286</th><th>294</th><td class="l"><span>&nbsp; &nbsp; &lt;/script&gt;</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file33">
          <a href="/changeset/3076221/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php" title="Show the changeset 3076221 restricted to simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php">simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3045036">
                    <a title="Show revision 3045036 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L103">
                      r3045036</a>
                  </th>
                  <th title="Revision 3076221">
                    <a title="Show revision 3076221 of this file in browser" href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221#L103">
                      r3076221</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>103</th><th>103</th><td class="l"><span>&nbsp; &nbsp; $nonce = wp_create_nonce($on_page_embed_button_id);</span></td>
                  </tr><tr>
                          <th>104</th><th>104</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>105</th><td class="r"><ins>&nbsp; &nbsp; $swpm_button_wrapper_id = 'swpm-button-wrapper-'.$button_id;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>106</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>105</th><th>107</th><td class="l"><span>&nbsp; &nbsp; $output = '';</span></td>
                  </tr><tr>
                          <th>106</th><th>108</th><td class="l"><span>&nbsp; &nbsp; ob_start();</span></td>
                  </tr><tr>
                          <th>107</th><th>109</th><td class="l"><span>&nbsp; &nbsp; ?&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>108</th><th> </th><td class="l"><span>&nbsp; &nbsp; &lt;div <del></del>class="swpm-button-wrapper swpm-paypal-subscription-button-wrapper"&gt;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>110</th><td class="r"><span>&nbsp; &nbsp; &lt;div <ins>id="&lt;?php echo esc_attr($swpm_button_wrapper_id); ?&gt;" </ins>class="swpm-button-wrapper swpm-paypal-subscription-button-wrapper"&gt;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>109</th><th>111</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>110</th><th>112</th><td class="l"><span>&nbsp; &nbsp; &lt;!-- PayPal button container where the button will be rendered --&gt;</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L114">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221#L116">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>114</th><th>116</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>115</th><th>117</th><td class="l"><span>&nbsp; &nbsp; &lt;script type="text/javascript"&gt;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>116</th><th> </th><td class="l"><span>&nbsp; &nbsp; jQuery( function( $ ) {</span></td>
                      </tr><tr>
                        <th>117</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $( document ).on( "swpm_paypal_sdk_subscriptions_loaded", function() { </span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>118</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; document.addEventListener( "swpm_paypal_sdk_subscriptions_loaded", function() { </span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>118</th><th>119</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Anything that goes here will only be executed after the PayPal SDK is loaded.</span></td>
                  </tr><tr>
                          <th>119</th><th>120</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L130">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221#L131">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>130</th><th>131</th><td class="l"><span>&nbsp; &nbsp; </span></td>
                  </tr><tr>
                          <th>131</th><th>132</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Handle the createSubscription call</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>132</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>async createSubscrip</del>tion(data, actions) {</span></td>
                      </tr><tr>
                        <th>133</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del></del>console.log('createSubscription call triggered. Data: ' + JSON.stringify(data));</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>133</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>createSubscription: async func</ins>tion(data, actions) {</span></td>
                      </tr><tr class="last">
                        <th> </th><th>134</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>// </ins>console.log('createSubscription call triggered. Data: ' + JSON.stringify(data));</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>134</th><th>135</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>135</th><th>136</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //We will send ajax request that will create the subscription from the server side using PayPal API.</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L175">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221#L176">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>175</th><th>176</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>176</th><th>177</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Show the spinner while we process this transaction.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>177</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var pp_button_container = jQuery('#&lt;?php echo esc_js($on_page_embed_button_id); ?&gt;');</span></td>
                      </tr><tr>
                        <th>178</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var pp_button_spinner_conainer = pp_button_container.siblings('.swpm-pp-button-spinner-container');</span></td>
                      </tr><tr>
                        <th>179</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.hide();//Hide the buttons</span></td>
                      </tr><tr>
                        <th>180</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_conainer.css('display', 'inline-block');//Show the spinner.</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>178</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const pp_button_container = document.getElementById('&lt;?php echo esc_js($on_page_embed_button_id); ?&gt;');</span></td>
                      </tr><tr>
                        <th> </th><th>179</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const pp_button_container_wrapper = document.getElementById('&lt;?php echo esc_js($swpm_button_wrapper_id); ?&gt;');</span></td>
                      </tr><tr>
                        <th> </th><th>180</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const pp_button_spinner_container = pp_button_container_wrapper.querySelector('.swpm-pp-button-spinner-container');</span></td>
                      </tr><tr>
                        <th> </th><th>181</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.style.display = 'none'; //Hide the buttons</span></td>
                      </tr><tr class="last">
                        <th> </th><th>182</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_container.style.display = 'inline-block'; //Show the spinner.</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>181</th><th>183</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>182</th><th>184</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Get the subscription details and send AJAX request to process the transaction.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>183</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; actions.subscription.get().then( <del></del>function( txn_data ) {</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>185</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; actions.subscription.get().then( <ins>async </ins>function( txn_data ) {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>184</th><th>186</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //console.log( 'Subscription details: ' + JSON.stringify( txn_data ) );</span></td>
                  </tr><tr>
                          <th>185</th><th>187</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>186</th><th>188</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Ajax request to process the transaction. This will process it similar to how an IPN request is handled.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>187</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>var</del> custom = document.getElementById('&lt;?php echo esc_attr($on_page_embed_button_id."-custom-field"); ?&gt;').value;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>189</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>const</ins> custom = document.getElementById('&lt;?php echo esc_attr($on_page_embed_button_id."-custom-field"); ?&gt;').value;</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>188</th><th>190</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.custom_field = custom;</span></td>
                  </tr><tr>
                          <th>189</th><th>191</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.button_id = '&lt;?php echo esc_js($button_id); ?&gt;';</span></td>
                  </tr><tr>
                          <th>190</th><th>192</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.on_page_button_id = '&lt;?php echo esc_js($on_page_embed_button_id); ?&gt;';</span></td>
                  </tr><tr>
                          <th>191</th><th>193</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.item_name = '&lt;?php echo esc_js($item_name); ?&gt;';</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>192</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jQuery.post( '&lt;?php echo admin_url('admin-ajax.php'); ?&gt;', { action: 'swpm_onapprove_process_subscription', data: data, txn_data: txn_data, _wpnonce: '&lt;?php echo $nonce; ?&gt;'}, function( response ) {</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>194</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>195</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const post_data = new URLSearchParams({</span></td>
                      </tr><tr>
                        <th> </th><th>196</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; action: 'swpm_onapprove_process_subscription',</span></td>
                      </tr><tr>
                        <th> </th><th>197</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data: JSON.stringify(data),</span></td>
                      </tr><tr>
                        <th> </th><th>198</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; txn_data: JSON.stringify(txn_data),</span></td>
                      </tr><tr>
                        <th> </th><th>199</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _wpnonce: '&lt;?php echo $nonce; ?&gt;',</span></td>
                      </tr><tr>
                        <th> </th><th>200</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }).toString();</span></td>
                      </tr><tr>
                        <th> </th><th>201</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>202</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try {</span></td>
                      </tr><tr>
                        <th> </th><th>203</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const requestUrl = "&lt;?php echo admin_url( 'admin-ajax.php' ); ?&gt;";</span></td>
                      </tr><tr>
                        <th> </th><th>204</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const resp = await fetch( requestUrl, {</span></td>
                      </tr><tr>
                        <th> </th><th>205</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; method: "post",</span></td>
                      </tr><tr>
                        <th> </th><th>206</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; headers: {</span></td>
                      </tr><tr>
                        <th> </th><th>207</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Content-Type': 'application/x-www-form-urlencoded'</span></td>
                      </tr><tr>
                        <th> </th><th>208</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></td>
                      </tr><tr>
                        <th> </th><th>209</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; body: post_data</span></td>
                      </tr><tr>
                        <th> </th><th>210</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                      </tr><tr>
                        <th> </th><th>211</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>212</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const response = await resp.json();</span></td>
                      </tr><tr class="last">
                        <th> </th><th>213</th><td class="r"><span></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>193</th><th>214</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //console.log( 'Response from the server: ' + JSON.stringify( response ) );</span></td>
                  </tr><tr>
                          <th>194</th><th>215</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( response.success ) {</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>195</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Success response.</del></td>
                  </tr><tr class="last">
                          <th>196</th><th> </th><td class="l"><del></del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>197</th><th>216</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Redirect to the Thank you page URL if it is set.</span></td>
                  </tr><tr>
                          <th>198</th><th>217</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_url = '&lt;?php echo esc_url_raw($return_url); ?&gt;';</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L202">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221#L221">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>202</th><th>221</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; window.location.href = return_url;</span></td>
                  </tr><tr>
                          <th>203</th><th>222</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>204</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</del></td>
                  </tr><tr>
                          <th>205</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //No return URL is set. Just show a success message.</del></td>
                  </tr><tr>
                          <th>206</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; txn_success_msg = '&lt;?php echo esc_attr($txn_success_message); ?&gt;';</del></td>
                  </tr><tr class="last">
                          <th>207</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert(txn_success_msg);</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>208</th><th>223</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>209</th><th>224</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>225</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //No return URL is set. Just show a success message.</ins></td>
                  </tr><tr>
                          <th> </th><th>226</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; txn_success_msg = '&lt;?php echo esc_attr($txn_success_message); ?&gt;';</ins></td>
                  </tr><tr>
                          <th> </th><th>227</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins></td>
                  </tr><tr>
                          <th> </th><th>228</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert(txn_success_msg);</ins></td>
                  </tr><tr>
                          <th> </th><th>229</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>230</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Trigger a event on subscription complete </ins></td>
                  </tr><tr>
                          <th> </th><th>231</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.dispatchEvent(new Event('swpm_paypal_subscriptions_complete'));</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>232</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>210</th><th>233</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>211</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Error response from the AJAX IPN hanler. Show the error message.</span></td>
                      </tr><tr>
                        <th>212</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log( 'Error response: ' + JSON.stringify( response.err_msg ) );</span></td>
                      </tr><tr>
                        <th>213</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert( JSON.stringify( response ) );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>234</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Error response from the AJAX IPN hanler. Throw error.</span></td>
                      </tr><tr class="last">
                        <th> </th><th>235</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Error(response.err_msg);</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>214</th><th>236</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>215</th><th>237</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>216</th><th>238</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Return the button and the spinner back to their orignal display state.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>217</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.show();//Show the buttons</span></td>
                      </tr><tr>
                        <th>218</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_conainer.hide();//Hide the spinner.</span></td>
                      </tr><tr>
                        <th>219</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>220</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                      </tr><tr>
                        <th>221</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>239</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_container.style.display = 'block'; // Show the buttons</span></td>
                      </tr><tr>
                        <th> </th><th>240</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pp_button_spinner_container.style.display = 'none'; // Hide the spinner</span></td>
                      </tr><tr>
                        <th> </th><th>241</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>242</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } catch (error) {</span></td>
                      </tr><tr>
                        <th> </th><th>243</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Show the error message.</span></td>
                      </tr><tr>
                        <th> </th><th>244</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert(error.message);</span></td>
                      </tr><tr>
                        <th> </th><th>245</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.error( error.message );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>246</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>222</th><th>247</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                  </tr><tr>
                          <th>223</th><th>248</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L235">…</a></th>
                  <th><a href="/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3076221#L260">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>235</th><th>260</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.error('PayPal Buttons failed to render');</span></td>
                  </tr><tr>
                          <th>236</th><th>261</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>237</th><th> </th><td class="l"><del></del></td>
                  </tr><tr class="last">
                          <th>238</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>239</th><th>262</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; });</span></td>
                  </tr><tr>
                          <th>240</th><th>263</th><td class="l"><span>&nbsp; &nbsp; &lt;/script&gt;</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
        <div id="help"><strong>Note:</strong> See <a href="/wiki/TracChangeset">TracChangeset</a>
          for help on using the changeset viewer.</div>
      </div>
    </div>
    <div id="altlinks">
    <a class="preferences-link" href="/prefs">Trac UI Preferences</a>
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="?format=diff&amp;new=3076221" class="diff">Unified Diff</a>
        </li><li class="last">
          <a rel="nofollow" href="?format=zip&amp;new=3076221" class="zip">Zip Archive</a>
        </li>
      </ul>
</div>
    </div>
	<footer class="global-footer wp-block-group wp-block-wporg-global-footer">
<div class="wp-block-group global-footer__navigation-container is-layout-flow wp-block-group-is-layout-flow">
	<nav class="global-footer__navigation-important wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpressfoundation.org/donate/"><span class="wp-block-navigation-item__label">Donate</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://mercantile.wordpress.org/"><span class="wp-block-navigation-item__label">Swag</span></a></li></ul></nav>
	<nav class="global-footer__navigation-information wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/documentation/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://developer.wordpress.org/"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Get Involved</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn</span></a></li></ul></nav>
	<nav class="global-footer__navigation-resources wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li></ul></nav>
	<nav class="global-footer__navigation-community wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.TV</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://buddypress.org/"><span class="wp-block-navigation-item__label">BuddyPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://bbpress.org/"><span class="wp-block-navigation-item__label">bbPress</span></a></li></ul></nav>
	<nav class="global-footer__navigation-external wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.com/?ref=wporg-footer"><span class="wp-block-navigation-item__label">WordPress.com</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://ma.tt/"><span class="wp-block-navigation-item__label">Matt</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/privacy/"><span class="wp-block-navigation-item__label">Privacy</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://publiccode.eu/"><span class="wp-block-navigation-item__label">Public Code</span></a></li></ul></nav>
</div>
<div class="wp-block-group global-footer__logos-container is-layout-flow wp-block-group-is-layout-flow">
	<div class="wp-block-group is-content-justification-left is-nowrap is-layout-flex wp-container-19 wp-block-group-is-layout-flex">
			<figure class="wp-block-image global-footer__wporg-logo-mark">
				<a href="https://wordpress.org/">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewbox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z"></path>
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z"></path>
</svg>				</a>
			</figure>
			<figure class="wp-block-image global-footer__wporg-logo-full">
				<a href="https://wordpress.org/">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="329" height="52" viewbox="0 0 329 52">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M4.33 26a21.68 21.68 0 0 0 12.22 19.5L6.21 17.18A21.66 21.66 0 0 0 4.33 26ZM26.38 27.89l-6.5 18.89a21.31 21.31 0 0 0 6.12.89 21.77 21.77 0 0 0 7.2-1.23 1.429 1.429 0 0 1-.16-.3l-6.66-18.25Z"></path>
	<path fill="currentColor" d="M26 0a26 26 0 1 0 0 52 26 26 0 0 0 0-52Zm20.27 39.66a24.47 24.47 0 0 1-29.78 8.86 24.49 24.49 0 0 1-13-13 24.4 24.4 0 0 1 5.23-26.8 24.46 24.46 0 0 1 26.79-5.24 24.49 24.49 0 0 1 13 13 24.42 24.42 0 0 1-2.25 23.17l.01.01Z"></path>
	<path fill="currentColor" d="M45 15.61c.103.736.153 1.477.15 2.22a20.38 20.38 0 0 1-1.65 7.76l-6.61 19.14A21.65 21.65 0 0 0 45 15.61ZM40.63 24.91a11.45 11.45 0 0 0-1.79-6c-1.1-1.78-2.13-3.29-2.13-5.08A3.76 3.76 0 0 1 40.35 10h.28A21.65 21.65 0 0 0 7.9 14.1h1.39c2.27 0 5.78-.27 5.78-.27a.9.9 0 0 1 .13 1.79s-1.17.13-2.47.2l7.88 23.47 4.75-14.22L22 15.84c-1.17-.07-2.27-.2-2.27-.2a.9.9 0 0 1 .14-1.79s3.57.27 5.7.27c2.13 0 5.78-.27 5.78-.27a.9.9 0 0 1 .14 1.79s-1.18.13-2.48.2l7.83 23.29 2.23-7.08a25.171 25.171 0 0 0 1.56-7.14ZM145.83 19.3h-10.34v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85-2.48-.35-4.16-1.68-6.47-4.22l-2.66-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.24 0 3.76.69 3.76 4.79v7.4c0 4.1-.52 4.85-3.76 4.85v1.1h11.5v-1.1c-3.24 0-3.76-.75-3.76-4.85v-2.08h1l6.42 8h16.81c8.26 0 11.85-4.39 11.85-9.65 0-5.26-3.61-9.56-11.87-9.56Zm-24.21 9.42V21H124a3.551 3.551 0 0 1 3.76 3.87 3.536 3.536 0 0 1-3.76 3.85h-2.38Zm24.38 8h-.4c-2.08 0-2.37-.52-2.37-3.18V21H146c6 0 7.11 4.39 7.11 7.8S152 36.75 146 36.75v-.03ZM93.49 13.52H82.62v1.16c3.7 0 4.22 1 3.07 4.39l-4 11.78L76 13.52h-1.1l-5.85 17.33-3.87-11.78c-1.22-3.59-.29-4.39 3.12-4.39v-1.16H55.47v1.16c3.35 0 4.28.86 5.66 5.08l6.42 19.76h.75l6-18.08 5.9 18.08h.8l6.59-19.76c1.44-4.22 2.31-5.08 5.95-5.08l-.05-1.16ZM101.34 18.55c-6.35 0-11.55 4.68-11.55 10.34s5.2 10.4 11.55 10.4c6.35 0 11.56-4.68 11.56-10.4 0-5.72-5.2-10.34-11.56-10.34Zm0 18.89c-5.31 0-7.16-4.74-7.16-8.55 0-3.81 1.85-8.55 7.16-8.55 5.31 0 7.23 4.79 7.23 8.55 0 3.76-1.85 8.55-7.23 8.55ZM170.67 13.52h-12v1.16c3.88 0 4.57.92 4.57 6.7v9.24c0 5.78-.69 6.76-4.57 6.76v1.16H172v-1.16c-3.88 0-4.57-1-4.57-6.76v-2.83h3.29c6 0 9.25-3.12 9.25-7.11s-3.35-7.16-9.3-7.16Zm0 12.13h-3.29v-10h3.29c3.24 0 4.74 2.31 4.74 5.08s-1.5 4.92-4.74 4.92ZM219.32 34.15c-.52 1.9-1.15 2.6-5.26 2.6h-.81c-3 0-3.52-.7-3.52-4.8v-2.66c4.51 0 4.85.41 4.85 3.41h1.1v-8.61h-1.1c0 3-.34 3.41-4.85 3.41V21h3.18c4.1 0 4.74.69 5.26 2.6l.28 1.1h.93l-.38-5.4h-17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 3.75-.44 4.69-3 4.83-2.42-.37-4.09-1.69-6.37-4.2l-2.65-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85v1.1h11.49v-1.1c-3.23 0-3.75-.75-3.75-4.85v-2.08h1l6.41 8h23.75l.35-5.43h-.87l-.31 1.07ZM189 28.72V21h2.37a3.542 3.542 0 0 1 3.75 3.87 3.532 3.532 0 0 1-.998 2.77 3.532 3.532 0 0 1-2.752 1.05l-2.37.03ZM234.52 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85h-1.09a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7-2.54 7-6.18.07-1.77-1.03-3.9-3.8-5.23ZM252 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85H253a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7.05-2.54 7.05-6.18.07-1.77-1.03-3.9-3.79-5.23ZM277.56 18.75a10.481 10.481 0 0 0-10.68 10.17 10.47 10.47 0 0 0 10.68 10.16c5.9 0 10.71-4.58 10.71-10.16s-4.81-10.17-10.71-10.17Zm0 19c-5.52 0-7.63-4.91-7.63-8.88 0-3.97 2.07-8.87 7.63-8.87 5.56 0 7.66 4.94 7.66 8.92 0 3.98-2.11 8.88-7.66 8.88v-.05ZM301.71 33.79l-3.14-3.69c3.63-.38 5.71-2.59 5.71-5.38 0-3-2.44-5.42-6.89-5.42h-8.47v.7c2.66 0 3.05.51 3.05 3.72v10.39c0 3.21-.39 3.76-3.05 3.76v.67h8.66v-.67c-2.66 0-3.05-.55-3.05-3.76v-4H296l6.35 8.44h5.29v-.67c-1.88-.24-4.03-1.88-5.93-4.09ZM294.53 29v-8.52h2.82c2.79 0 4.08 1.93 4.08 4.24 0 2.31-1.29 4.28-4.08 4.28h-2.82ZM319.6 30.59v.64c2.21 0 3 .7 3 2.08 0 2.89-2.5 4.39-5.29 4.39-5.93 0-7.6-4.81-7.6-8.78 0-3.97 1.86-8.92 7-8.92 3.59 0 6.09 2.54 7 6.7h.64v-7h-.64a3.281 3.281 0 0 1-1.09 1.83 8.203 8.203 0 0 0-6-2.73 10.167 10.167 0 0 0-9.851 10.165 10.169 10.169 0 0 0 9.851 10.165c3.34 0 4.78-1.66 8.34-1.66V35c0-3.21.39-3.75 3.05-3.75v-.64l-8.41-.02ZM261.9 34.77a2.061 2.061 0 1 0 .288 4.112 2.061 2.061 0 0 0-.288-4.112Z"></path>
</svg>				</a>
			</figure>
			</div>
	<ul class="wp-block-social-links is-style-logos-only is-layout-flex wp-block-social-links-is-layout-flex">
		<li class="wp-social-link wp-social-link-facebook wp-block-social-link"><a href="https://www.facebook.com/WordPress/" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Facebook page</span></a></li>
		<li class="wp-social-link wp-social-link-twitter wp-block-social-link"><a href="https://twitter.com/WordPress" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M22.23,5.924c-0.736,0.326-1.527,0.547-2.357,0.646c0.847-0.508,1.498-1.312,1.804-2.27 c-0.793,0.47-1.671,0.812-2.606,0.996C18.324,4.498,17.257,4,16.077,4c-2.266,0-4.103,1.837-4.103,4.103 c0,0.322,0.036,0.635,0.106,0.935C8.67,8.867,5.647,7.234,3.623,4.751C3.27,5.357,3.067,6.062,3.067,6.814 c0,1.424,0.724,2.679,1.825,3.415c-0.673-0.021-1.305-0.206-1.859-0.513c0,0.017,0,0.034,0,0.052c0,1.988,1.414,3.647,3.292,4.023 c-0.344,0.094-0.707,0.144-1.081,0.144c-0.264,0-0.521-0.026-0.772-0.074c0.522,1.63,2.038,2.816,3.833,2.85 c-1.404,1.1-3.174,1.756-5.096,1.756c-0.331,0-0.658-0.019-0.979-0.057c1.816,1.164,3.973,1.843,6.29,1.843 c7.547,0,11.675-6.252,11.675-11.675c0-0.178-0.004-0.355-0.012-0.531C20.985,7.47,21.68,6.747,22.23,5.924z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Twitter account</span></a></li>
		<li class="wp-social-link wp-social-link-instagram wp-block-social-link"><a href="https://www.instagram.com/wordpress/" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M12,4.622c2.403,0,2.688,0.009,3.637,0.052c0.877,0.04,1.354,0.187,1.671,0.31c0.42,0.163,0.72,0.358,1.035,0.673 c0.315,0.315,0.51,0.615,0.673,1.035c0.123,0.317,0.27,0.794,0.31,1.671c0.043,0.949,0.052,1.234,0.052,3.637 s-0.009,2.688-0.052,3.637c-0.04,0.877-0.187,1.354-0.31,1.671c-0.163,0.42-0.358,0.72-0.673,1.035 c-0.315,0.315-0.615,0.51-1.035,0.673c-0.317,0.123-0.794,0.27-1.671,0.31c-0.949,0.043-1.233,0.052-3.637,0.052 s-2.688-0.009-3.637-0.052c-0.877-0.04-1.354-0.187-1.671-0.31c-0.42-0.163-0.72-0.358-1.035-0.673 c-0.315-0.315-0.51-0.615-0.673-1.035c-0.123-0.317-0.27-0.794-0.31-1.671C4.631,14.688,4.622,14.403,4.622,12 s0.009-2.688,0.052-3.637c0.04-0.877,0.187-1.354,0.31-1.671c0.163-0.42,0.358-0.72,0.673-1.035 c0.315-0.315,0.615-0.51,1.035-0.673c0.317-0.123,0.794-0.27,1.671-0.31C9.312,4.631,9.597,4.622,12,4.622 M12,3 C9.556,3,9.249,3.01,8.289,3.054C7.331,3.098,6.677,3.25,6.105,3.472C5.513,3.702,5.011,4.01,4.511,4.511 c-0.5,0.5-0.808,1.002-1.038,1.594C3.25,6.677,3.098,7.331,3.054,8.289C3.01,9.249,3,9.556,3,12c0,2.444,0.01,2.751,0.054,3.711 c0.044,0.958,0.196,1.612,0.418,2.185c0.23,0.592,0.538,1.094,1.038,1.594c0.5,0.5,1.002,0.808,1.594,1.038 c0.572,0.222,1.227,0.375,2.185,0.418C9.249,20.99,9.556,21,12,21s2.751-0.01,3.711-0.054c0.958-0.044,1.612-0.196,2.185-0.418 c0.592-0.23,1.094-0.538,1.594-1.038c0.5-0.5,0.808-1.002,1.038-1.594c0.222-0.572,0.375-1.227,0.418-2.185 C20.99,14.751,21,14.444,21,12s-0.01-2.751-0.054-3.711c-0.044-0.958-0.196-1.612-0.418-2.185c-0.23-0.592-0.538-1.094-1.038-1.594 c-0.5-0.5-1.002-0.808-1.594-1.038c-0.572-0.222-1.227-0.375-2.185-0.418C14.751,3.01,14.444,3,12,3L12,3z M12,7.378 c-2.552,0-4.622,2.069-4.622,4.622S9.448,16.622,12,16.622s4.622-2.069,4.622-4.622S14.552,7.378,12,7.378z M12,15 c-1.657,0-3-1.343-3-3s1.343-3,3-3s3,1.343,3,3S13.657,15,12,15z M16.804,6.116c-0.596,0-1.08,0.484-1.08,1.08 s0.484,1.08,1.08,1.08c0.596,0,1.08-0.484,1.08-1.08S17.401,6.116,16.804,6.116z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Instagram account</span></a></li>
		<li class="wp-social-link wp-social-link-linkedin wp-block-social-link"><a href="https://www.linkedin.com/company/wordpress" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our LinkedIn account</span></a></li>
	</ul>
		<figure class="wp-block-image is-resized global-footer__code_is_poetry">
			<img src="https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg" alt="Code is Poetry" width="188" height="13" />
		</figure>
	</div>
</footer>		<script>//<![CDATA[
			( function() {
				var skipLink = document.getElementById( 'wporg-skip-link' ),
					skipLinkTarget, skipLinkTargetID;
				if ( ! skipLink ) {
					return;
				}
				skipLinkTarget = document.querySelector( skipLink.dataset.selector );
				if ( ! skipLinkTarget ) {
					skipLink.remove();
					return;
				}
				skipLinkTargetID = skipLinkTarget.id;
				if ( ! skipLinkTargetID ) {
					skipLinkTargetID = 'wp--skip-link--target';
					skipLinkTarget.id = skipLinkTargetID;
				}
				skipLink.href = '#' + skipLinkTargetID;
				skipLink.tabIndex = '';
			}() );
//]]></script>
		<style id="core-block-supports-inline-css" type="text/css">
.wp-container-6.wp-container-6{flex-direction:column;align-items:flex-start;}.wp-container-19.wp-container-19{flex-wrap:nowrap;justify-content:flex-start;}
</style>
<script type="text/javascript" id="wporg-global-header-script-js-extra">//<![CDATA[
/* <![CDATA[ */
var wporgGlobalHeaderI18n = {"openSearchLabel":"Open Search","closeSearchLabel":"Close Search","overflowMenuLabel":"More menu"};
/* ]]]]><![CDATA[> */
//]]></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/jetpack/_inc/build/photon/photon.min.js?ver=20191001" id="jetpack-photon-js"></script>
<script type="text/javascript" src="https://s.w.org/wp-content/themes/pub/wporg/js/skip-link-focus-fix.min.js?ver=20151215" id="wporg-plugins-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/mu-plugins/pub-sync/blocks/global-header-footer/js/view.js?ver=1659374792" id="wporg-global-header-script-js"></script>
	<script>
	var wpTracCurrentUser = "anonymous";
	</script>
	<script src="https://s.w.org/style/js/navigation.min.js?20190128"></script>
	<script src="https://s.w.org/style/trac/jquery.caret.min.js?ver=2015-02-01"></script>
	<script src="https://s.w.org/style/trac/jquery.atwho.min.js?ver=1.0.1"></script>
	<script src="https://s.w.org/style/trac/wp-trac.js?212"></script>
</body>
</html>