=== Content from supportportal.juniper.net_dd86b082_20250111_063937.html ===
Loading×Sorry to interruptCSS ErrorRefresh

=== Content from www.juniper.net_ec4c8ef1_20250111_063938.html ===


X

![](https://junipernetworks.allegiancetech.com/surveys/images/MRVCXM/juniper_logo.jpg)

Help us improve your experience.

Let us know what you think.

Do you have time for a two-minute survey?

Yes

Maybe Later

Â
##### ON THIS PAGE

* [Link and Multilink Services Overview](#id-link-and-multilink-services-overview)
* [Multilink and Link Services PICs Overview](#id-multilink-and-link-services-pics-overview)
* [Multilink Interfaces on Channelized MICs Overview](#id-multilink-interfaces-on-channelized-mics-overview)
Â
# Understanding Link and Multilink Services

## Link and Multilink Services Overview

Multilink-based protocols enable you to split, recombine, and
sequence datagrams across multiple logical data links. The goal of
a multilink operation is to coordinate multiple independent links
between a fixed pair of systems, providing a virtual link with greater
bandwidth than any of the members. In addition to providing incremental
bandwidth, bundling multiple links can add a level of fault tolerance
to your dedicated access service, because you can implement bundling
across multiple PICs, protecting against the failure of any single
PIC.

Junos OS supports several multilink-based protocols including Multilink
Point-to-Point Protocol (MLPPP) and Multilink Frame Relay (MLFR).
MLPPP enables you to bundle multiple PPP links into a single logical
link. MLFR enables you to bundle multiple Frame Relay data-link connection
identifiers (DLCIs) into a single logical link. MLPPP and MLFR provide
service option granularity between low-speed T1 and E1 services and
higher-speed T3 and E3 services. You use MLPPP and MLFR to increase
bandwidth in smaller, more cost-effective increments.

The
multiclass extension to the MLPPP extension enables multiple classes
of service using MLPPP. For more information, see RFC 2686, The Multi-Class Extension to Multi-Link PPP. The Junos
OS PPP implementation does not support the negotiation of address
field compression and protocol field compression PPP NCP options.
The software always sends a full 4-byte PPP header.

### Standards

The standards for MLPPP, MLFR FRF.15, and MLFR FRF.16 are defined
in the following specifications:

* RFC 1990, The PPP Multilink Protocol (MP)
* FRF.15, End-to-End Multilink Frame Relay Implementation
  Agreement
* FRF.16.1, Multilink Frame Relay UNI/NNI Implementation
  Agreement

  Note:

  Endpoint Discriminator Class compatibility checking is enabled
  on MLPPP interfaces. Prior to Junos OS ReleaseÂ 8.0, when a Juniper
  Networks router received an unsupported Endpoint Discriminator Class
  message from an MLPPP session peer, it returned an ACK response.

## Multilink and Link Services PICs Overview

Each Multilink Services or Link Services PIC can support a number
of bundles. A bundle can contain up to eight
individual *links*.

For Multilink Services PICs, the links can be T1, E1, or DS0
physical interfaces, and each link is associated with a logical unit
number that you configure. For Link Services PICs, the links can be
E1, T1, channelized DS3-to-DS1, channelized DS3-to-DS0, channelized
E1, channelized STM1 interfaces, or channelized IQ interfaces. For
MLFR FRF.16 bundles, each link is associated with a channel number
that you configure.

You must configure a link before it can join a bundle. Each
bundle should consist solely of one type of link; the mixing of physical
interfaces of differing speeds within a bundle is not supported.

Three versions of Multilink Services and three
versions of Link Services PICs are available, as shown in [Table 1](#id-multilink-and-link-services-pics-overview__d24e35). The PIC hardware is identical, except
for different faceplates that enable you to identify which version
you are installing. The software limits the unit numbers and maximum
number of physical interfaces you assign to the PIC.

Table 1: Multilink
and Link Services PIC Capacities
| PIC Capacity | Unit Numbers | Maximum Number of T1/DS0 Interfaces | Maximum Number of E1 Interfaces |
| --- | --- | --- | --- |
| 4-bundle PIC | 0 through 3 | 32 links | 32 links |
| 32-bundle PIC | 0 through 31 | 256 links | 219 links |
| 128-bundle PIC | 0 through 127 | 292 links | 219 links |

A single PIC can support an aggregate bandwidth of 450 megabits
per second (Mbps).

You can configure a larger number of links, but the Multilink
Services and Link Services PICs can reliably process only 450Â Mbps
of traffic. A higher rate of traffic might degrade performance.

Note:

In Junos OS releases 9.0 and above you are not allowed
to configure a unit number greater than the maximum unit number available
on your link services PIC. Attempting to do so will cause an error
message.

* [Support on Service PICs](#id-multilink-and-link-services-pics-overview__d3219e183)
* [Support on Interface Types](#id-multilink-and-link-services-pics-overview__d3219e249)

### Support on Service PICs

Junos OS supports multilink-based protocols on services PICs
such as the Multilink Services PIC and the Link Services PIC, as well
as the link services intelligent queuing (IQ) and voice services configured
on the Adaptive Services (AS) and MultiServices PICs. For more information
about link services IQ, see [Layer 2 Service Package Capabilities and Interfaces](../concept/../../../interfaces-adaptive-services/topics/topic-map/link-service-interface-redundancy.html#id-layer-2-service-package-capabilities-and-interfaces). For more information about voice services, see [Configuring Services Interfaces for Voice Services](../concept/../../../interfaces-adaptive-services/topics/topic-map/voice-services.html#id-configuring-services-interfaces-for-voice-services).

Starting with Junos OS Release 12.1, the following channelized
MICs on MX240, MX480, and MX960 routers support Multilink Point-to-Point
Protocol (MLPPP)-based services:

* 4-port Channelized SONET/SDH OC3/STM1 (Multi-Rate) MIC
  with SFP (MIC-3D-4CHOC3-2CHOC12)
* 8-port Channelized SONET/SDH OC3/STM1 (Multi-Rate) MIC
  with SFP (MIC-3D-8CHOC3-4CHOC12)
* 8-port Channelized DS3/E3 MIC (MIC-3D-8CHDS3-E3-B)

For more information about MLPPP-based services MICs, see [Multilink Interfaces on Channelized MICs Overview](link-multilink-services-understanding.html#id-multilink-interfaces-on-channelized-mics-overview).

The Link Services and Multilink Services PICs support the following
encapsulation types:

* MLPPP
* MLFR

Starting with Junos OS Release 12.1, support for the following
encapsulation types and protocols has been extended to the MX240,
MX480, and MX960 routers with Multiservices DPCs:

* MLPPP
* Multiclass MLPPP
* MLFR end-to-end (FRF.15)
* MLFR UNI NNI (FRF.16) (also referred to as MFR)
* Compressed Real-Time Transport Protocol (CRTP)

Note:

Only MLPPP is supported on ACX Series routers. MLFR is not supported
on ACX Series routers.

At the logical unit level, the Multilink Services and Link Services
PICs support the MLPPP and MLFR Frame Relay Forum (FRF) 15 encapsulation
types. At the physicalÂ interface level, the Link Services PIC
also supports the MLFR FRF.16 encapsulation type.

Note:

On M Series Multiservice Edge Routers, only one DS3 link is
allowed in an MLFR bundle. MLPPP bundles can include two DS3 links.

On ACX Series routers, even if the PIC can support up to 4xDS3
total throughput, each aggregate can only run a volume of traffic
equal to one DS3 in bandwidth. Aggregating DS3 links is not supported.

### Support on Interface Types

MLPPP and MLFR FRF.15 are supported on interface types `ml-fpc/pic/port`, `ls-fpc/pic/port`, and `lsq-fpc/pic/port`. For MLFR
FRF.15, multiple permanent virtual circuits (PVCs) are combined into
one aggregated virtual circuit (AVC). This provides fragmentation
over multiple PVCs on one end and reassembly of the AVC on the other
end.

MLFR FRF.16 is supported on a channelized interface, `ls-fpc/pic/port:channel`, which denotes a single MLFR
FRF.16 bundle. For MLFR FRF.16, multiple links are combined to form
one logical link. Packet fragmentation and reassembly occur on a per-VC
basis. Each bundle can support multiple VCs. Link Services PICs can
support up to 256 DLCIs per MLFR FRF.16 bundle. The physical connections
must be E1, T1, channelized DS3-to-DS1, channelized DS3-to-DS0, channelized
E1, channelized STM1, or channelized IQ interfaces. When you bundle
channelized interfaces using the link services interface, the channelized
interfaces require M Series Enhanced Flexible PIC Concentrators (FPCs).

The `ml-` interface type is used to configure interfaces
on the Multilink Services PIC and does not support class-of-service
(CoS) features. The `ls-` interface type is used for limited
CoS configurations on the Link Services PIC, and the `lsq-` interface type is used for full CoS configurations on the Adaptive
Services and MultiServices PICs. The bundle interfaces are configured
on the Multiservices DPC as link services IQ (lsq) interfaces and
virtual LSQ redundancy (rlsq) interfaces.

For link services IQ (`lsq`) interfaces, Junos OS CoS
components are fully supported and are handled normally on M Series
and T Series routers, as described in the [Junos OS Class of Service User Guide for Routing Devices](https://www.juniper.net/documentation/en_US/junos/information-products/pathway-pages/cos/config-guide-cos.html). For
more information on link services IQ configuration, see [Layer 2 Service Package Capabilities and Interfaces](../concept/../../../interfaces-adaptive-services/topics/topic-map/link-service-interface-redundancy.html#id-layer-2-service-package-capabilities-and-interfaces).

When running MLPPP or MLFR on a non-QPP interface, you cannot
mix logical units that are members of an aggregate with logical units
configured using other families, such as `inet`. For example,
the following configuration is not valid:

```
interface e3-0/0/0 {
    encapsulation frame-relay;
    unit 99 {
        dlci 99;
        family mlfr-end-to-end {
            bundle ls-0/0/0.1;
        }
    }
    unit 100 {   ## mixes mlfr with family inet
        dlci 100;
        family inet {
            address 192.168.164.53/30;
        }
    }
}

```

### See Also

* [Configuring Link and Multilink
  Services Logical Interfaces](link-multilink-services-logical-interfaces-configuring.html)

## Multilink Interfaces on Channelized MICs Overview

Multiservices Modular Interface Cards (MICs) enable you to perform
multiple services on the same MIC by configuring a set of services
and applications such as voice services and Layer 2 Tunneling Protocol
(L2TP) services. On Juniper Networks MX Series 5G Universal Routing
Platforms, the Multiservices DPC provides essentially the same capabilities
as the Multiservices PIC. The interfaces on both platforms are configured
in the same way. The Multilink interfaces are hosted on a channelized
MIC. The bundle interfaces are configured on Multiservices DPC as
virtual LSQ redundancy (rlsq) interfaces.

Starting with Junos OS Release 12.1, the following channelized
MICs on MX240, MX480, and MX960 routers support Multilink Point-to-Point
Protocol (MLPPP)-based services:

* 4-port Channelized SONET/SDH OC3/STM1 (Multi-Rate) MIC
  with SFP (MIC-3D-4CHOC3-2CHOC12)
* 8-port Channelized SONET/SDH OC3/STM1 (Multi-Rate) MIC
  with SFP (MIC-3D-8CHOC3-4CHOC12)
* 8-port Channelized DS3/E3 MIC (MIC-3D-8CHDS3-E3-B)

The following encapsulations, interfaces, protocol, and
packet types are supported on the aforementioned MICs:

* Multilink Point-to-Point Protocol (MLPPP)âSupports Priority-based Flow Control (PFC) for data packets
  and Link Control Protocol (LCP) for control packets. Compressed Real-Time
  Transport Protocol (CRTP) and Multiclass MLPPP are supported for both
  data and control packets.
* Multilink Frame Relay (MLFR) end-to-end (FRF.15)âSupports
  Ethernet Local Management Interface (LMI), Consortium LMI (C-LMI),
  and Link Integrity Protocol (LIP) for data and control packets.
* Multilink Frame Relay (MFR) UNI NNI (FRF.16)âSupports
  Ethernet Local Management Interface (LMI), Consortium LMI (C-LMI),
  and Link Integrity Protocol (LIP) for data and control packets.
* Link fragmentation and interleaving (LFI) non multilink
  MLPPP and MLFR packets.

Layer 2 services and voice services functionality are
implemented on the Multiservices Dense Port Concentrators, which supports
the following two kinds of traffic that are routed by the Packet Forwarding
Engine:

* Customer-end to provider-end (also, known as customer
  traffic)âHere, the Multilink fragments from the customer end
  arrive at the Multiservices interfaces configured on the channelized
  MIC. These fragments are then transmitted to the Multiservices DPC
  for Layer 2 processing such as CoS and are reassembled by the Multiservices
  software running on the Multiservices DPC. These reassembled packets
  are sent to the Packet Forwarding Engine where they go through the
  regular router lookup process and are finally sent over the Internet
  to the provider end. The voice packets also go through the same process.
* Provider-end to customer-end (also, known as Internet
  traffic)âHere, the data packets that are sent from the Internet
  provider end are received at any generic ingress interface in the
  Packet Forwarding Engine. These packets are then sent to the Multiservices
  DPC for Layer 2 processing. The Multiservices software running on
  Multiservices DPC fragment these data packets and send it to the Packet
  Forwarding Engine. These Multilink fragments are sent over the channelized
  MIC interfaces to the customer end. The voice packets also go through
  the same process.

Note:

All the features that are supported on Multilink and Link
Services PICs are also supported on the Multilink Services or Link
Services MICs. For more information about Multilink and Link Services
PICs, see [Multilink and Link Services PICs Overview](link-multilink-services-understanding.html#id-multilink-and-link-services-pics-overview).

Support for the following encapsulations, interfaces,
protocol, and packet types are now extended to the aforementioned
MICs:

* Multilink Point-to-Point Protocol (MLPPP)âSupports
  priority-based flow control (PFC) for data packets and Link Control
  Protocol (LCP) for control packets. Compressed Real-Time Transport
  Protocol (CRTP) and multiclass MLPPP are supported for both data and
  control packets.
* Multilink Frame Relay (MLFR) end-to-end (FRF.15)âSupports
  Ethernet Local Management Interface (LMI) and Consortium LMI (C-LMI)
  for data and control packets.
* Multilink Frame Relay (MLFR) UNI NNI (FRF.16)âSupports
  Ethernet Local Management Interface (LMI), Consortium LMI (C-LMI),
  and Link Integrity Protocol (LIP) for data and control packets.
* Link fragmentation and interleaving (LFI) on multilink
  MLPPP and MLFR packetsâReduces delay and jitter on links by breaking up large data packets and interleaving delay-sensitive
  voice packets with the resulting smaller packets.

### Related Documentation

* [Configuring MLPPP](mlppp-configuring.html)
* [Example: Configuring an MLPPP Bundle](multiple-ppp-link-bundling.html#id-example-configuring-an-mlppp-bundle)
* [Example: Configuring Multilink Frame Relay FRF.15](multiple-frame-relay-dlci-bundling.html#id-example-configuring-multilink-frame-relay-frf15)
* [Example: Configuring Multilink Frame Relay FRF.16](multiple-frame-relay-dlci-bundling.html#id-example-configuring-multilink-frame-relay-frf16)
* [Example: Configuring Link
  Interfaces on Channelized MICs](../example/multilink-interfaces-mx.html)
Â Â
