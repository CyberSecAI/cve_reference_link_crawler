

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Fuserswp%252Ftags%252F1.2.7%26old%3D3051240%26new%3D3051240%26old_path%3D%252Fuserswp%252Ftags%252F1.2.6)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3051240/userswp/tags/1.2.6?old=3051240&old_path=%2Fuserswp%2Ftags%2F1.2.7)

---

# Changes from [userswp/tags/1.2.6](/browser/userswp/tags/1.2.6?rev=3051240 "Show entry in browser") at [r3051240](/changeset/3051240 "Show full changeset") to [userswp/tags/1.2.7](/browser/userswp/tags/1.2.7?rev=3051240 "Show entry in browser") at [r3051240](/changeset/3051240 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[userswp/tags/1.2.7](/browser/userswp/tags/1.2.7?rev=3051240)
Files:

4 edited

* [languages/userswp-en\_US.mo](/browser/userswp/trunk/languages/userswp-en_US.mo?rev=3050530 "Show entry in browser")
  (modified)
  ([previous](/browser/userswp/tags/1.2.6/languages/userswp-en_US.mo?rev=3050530 "Show previous version in browser"))
* [readme.txt](/browser/userswp/tags/1.2.7/readme.txt?rev=3051222 "Show entry in browser")
  (modified)
  ([2 diffs](#file38 "Show differences"))
* [userswp.php](/browser/userswp/tags/1.2.7/userswp.php?rev=3051222 "Show entry in browser")
  (modified)
  ([2 diffs](#file106 "Show differences"))
* [widgets/user-title.php](/browser/userswp/tags/1.2.7/widgets/user-title.php?rev=3051222 "Show entry in browser")
  (modified)
  ([2 diffs](#file118 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [userswp/tags/1.2.7/readme.txt](/changeset/3051222/userswp/tags/1.2.7/readme.txt?old=3050530&old_path=userswp%2Ftags%2F1.2.6%2Freadme.txt "Show the [3051240:3051240] differences restricted to userswp/tags/1.2.7/readme.txt")

  | [r3051240](/browser/userswp/tags/1.2.6/readme.txt?rev=3050530#L5 "Show revision 3051240 of this file in browser") | [r3051240](/browser/userswp/tags/1.2.7/readme.txt?rev=3051222#L5 "Show revision 3051240 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 4.9 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Stable tag: 1.2.~~6~~ |
  |  | 7 | Stable tag: 1.2.7 |
  | 8 | 8 | License: GPLv3 |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/userswp/tags/1.2.6/readme.txt?rev=3050530#L146) | […](/browser/userswp/tags/1.2.7/readme.txt?rev=3051222#L146) |  |
  | 146 | 146 |  |
  | 147 | 147 | == Changelog == |
  |  | 148 |  |
  |  | 149 | = 1.2.7 = |
  |  | 150 | \* Profile title tag could be changed to non heading tag by a contributor level user - FIXED |
  | 148 | 151 |  |
  | 149 | 152 | = 1.2.6 = |
* ## [userswp/tags/1.2.7/userswp.php](/changeset/3051222/userswp/tags/1.2.7/userswp.php?old=3050530&old_path=userswp%2Ftags%2F1.2.6%2Fuserswp.php "Show the [3051240:3051240] differences restricted to userswp/tags/1.2.7/userswp.php")

  | [r3051240](/browser/userswp/tags/1.2.6/userswp.php?rev=3050530#L4 "Show revision 3051240 of this file in browser") | [r3051240](/browser/userswp/tags/1.2.7/userswp.php?rev=3051222#L4 "Show revision 3051240 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://userswp.io/ |
  | 5 | 5 | Description: The only lightweight user profile plugin for WordPress. UsersWP features front end user profile, users directory, a registration and a login form. |
  | 6 |  | Version: 1.2.~~6~~ |
  |  | 6 | Version: 1.2.7 |
  | 7 | 7 | Author: AyeCode Ltd |
  | 8 | 8 | Author URI: https://userswp.io |
  | […](/browser/userswp/tags/1.2.6/userswp.php?rev=3050530#L25) | […](/browser/userswp/tags/1.2.7/userswp.php?rev=3051222#L25) |  |
  | 25 | 25 |  |
  | 26 | 26 | if ( ! defined( 'USERSWP\_VERSION' ) ) { |
  | 27 |  | define( 'USERSWP\_VERSION', '1.2.~~6~~' ); |
  |  | 27 | define( 'USERSWP\_VERSION', '1.2.7' ); |
  | 28 | 28 | } |
  | 29 | 29 |  |
* ## [userswp/tags/1.2.7/widgets/user-title.php](/changeset/3051222/userswp/tags/1.2.7/widgets/user-title.php?old=2603024&old_path=userswp%2Ftrunk%2Fwidgets%2Fuser-title.php "Show the [3051240:3051240] differences restricted to userswp/tags/1.2.7/widgets/user-title.php")

  | [r3051240](/browser/userswp/trunk/widgets/user-title.php?rev=2603024#L1 "Show revision 3051240 of this file in browser") | [r3051240](/browser/userswp/tags/1.2.7/widgets/user-title.php?rev=3051222#L1 "Show revision 3051240 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | if ( ! defined( 'ABSPATH' ) ) { |
  | 3 |  | exit; |
  |  | 3 | exit; |
  | 4 | 4 | } |
  | 5 | 5 |  |
  | […](/browser/userswp/trunk/widgets/user-title.php?rev=2603024#L11) | […](/browser/userswp/tags/1.2.7/widgets/user-title.php?rev=3051222#L11) |  |
  | 11 | 11 | class UWP\_User\_Title\_Widget extends WP\_Super\_Duper { |
  | 12 | 12 |  |
  | 13 |  | /\*\* |
  | 14 |  | \* Register the user title widget with WordPress. |
  | 15 |  | \* |
  | 16 |  | \*/ |
  | 17 |  | public function \_\_construct() { |
  |  | 13 | /\*\* |
  |  | 14 | \* Register the user title widget with WordPress. |
  |  | 15 | \* |
  |  | 16 | \*/ |
  |  | 17 | public function \_\_construct() { |
  | 18 | 18 |  |
  | 19 | 19 |  |
  | 20 |  | $options = array( |
  | 21 |  | ~~'textdomain'~~    => 'userswp', |
  | 22 |  | ~~'block-icon'~~    => 'admin-site', |
  | 23 |  | ~~'block-category'~~=> 'widgets', |
  | 24 |  | ~~'block-keywords'~~=> "['userswp','user']", |
  | 25 |  | 'class\_name'     => \_\_CLASS\_\_, |
  | 26 |  | ~~'base\_id'~~       => 'uwp\_user\_title', |
  | 27 |  | ~~'name'          => \_\_('UWP > User Title','userswp'~~), |
  | 28 |  | ~~'no\_wrap'~~       => true, |
  | 29 |  | ~~'widget\_ops'~~    => array( |
  | 30 |  | 'classname'   => 'uwp-user-title', |
  | 31 |  | ~~'description' => esc\_html\_\_('Displays user name.','userswp'~~), |
  | 32 |  | ), |
  | 33 |  | ~~'arguments'~~     => array( |
  | 34 |  | ~~'tag'~~  => array( |
  | 35 |  | ~~'title' => \_\_('Header Tag:', 'userswp'~~), |
  | 36 |  | ~~'desc' => \_\_('Header tag for the user title.', 'userswp'~~), |
  | 37 |  | ~~'type'~~ => 'select', |
  | 38 |  | ~~'options'   =>~~  array( |
  | 39 |  | "h1" => "h1", |
  | 40 |  | "h2" => "h2", |
  | 41 |  | "h3" => "h3", |
  | 42 |  | "h4" => "h4", |
  | 43 |  | "h5" => "h5", |
  | 44 |  | "h6" => "h6", |
  | 45 |  | ), |
  | 46 |  | 'default'  => 'h2', |
  | 47 |  | 'desc\_tip' => true, |
  | 48 |  | ), |
  | 49 |  | ~~'user\_id'~~  => array( |
  | 50 |  | ~~'title' => \_\_('User ID:', 'userswp'~~), |
  | 51 |  | ~~'desc' => \_\_('Leave blank to use current user ID or use post\_author for current post author ID. For profile page it will take displayed user ID. Input specific user ID for other pages.', 'userswp'~~), |
  | 52 |  | ~~'type'~~ => 'text', |
  | 53 |  | 'desc\_tip' => true, |
  | 54 |  | 'default'  => '', |
  | 55 |  | 'advanced' => true |
  | 56 |  | ), |
  | 57 |  | ) |
  |  | 20 | $options = array( |
  |  | 21 | 'textdomain'     => 'userswp', |
  |  | 22 | 'block-icon'     => 'admin-site', |
  |  | 23 | 'block-category' => 'widgets', |
  |  | 24 | 'block-keywords' => "['userswp','user']", |
  |  | 25 | 'class\_name'     => \_\_CLASS\_\_, |
  |  | 26 | 'base\_id'        => 'uwp\_user\_title', |
  |  | 27 | 'name'           => \_\_( 'UWP > User Title', 'userswp' ), |
  |  | 28 | 'no\_wrap'        => true, |
  |  | 29 | 'widget\_ops'     => array( |
  |  | 30 | 'classname'   => 'uwp-user-title', |
  |  | 31 | 'description' => esc\_html\_\_( 'Displays user name.', 'userswp' ), |
  |  | 32 | ), |
  |  | 33 | 'arguments'      => array( |
  |  | 34 | 'tag'     => array( |
  |  | 35 | 'title'    => \_\_( 'Header Tag:', 'userswp' ), |
  |  | 36 | 'desc'     => \_\_( 'Header tag for the user title.', 'userswp' ), |
  |  | 37 | 'type'     => 'select', |
  |  | 38 | 'options'  => array( |
  |  | 39 | "h1" => "h1", |
  |  | 40 | "h2" => "h2", |
  |  | 41 | "h3" => "h3", |
  |  | 42 | "h4" => "h4", |
  |  | 43 | "h5" => "h5", |
  |  | 44 | "h6" => "h6", |
  |  | 45 | ), |
  |  | 46 | 'default'  => 'h2', |
  |  | 47 | 'desc\_tip' => true, |
  |  | 48 | ), |
  |  | 49 | 'user\_id' => array( |
  |  | 50 | 'title'    => \_\_( 'User ID:', 'userswp' ), |
  |  | 51 | 'desc'     => \_\_( 'Leave blank to use current user ID or use post\_author for current post author ID. For profile page it will take displayed user ID. Input specific user ID for other pages.', 'userswp' ), |
  |  | 52 | 'type'     => 'text', |
  |  | 53 | 'desc\_tip' => true, |
  |  | 54 | 'default'  => '', |
  |  | 55 | 'advanced' => true |
  |  | 56 | ), |
  |  | 57 | ) |
  | 58 | 58 |  |
  | 59 |  | ); |
  |  | 59 | ); |
  | 60 | 60 |  |
  | 61 | 61 |  |
  | 62 |  | parent::\_\_construct( $options ); |
  | 63 |  | } |
  |  | 62 | parent::\_\_construct( $options ); |
  |  | 63 | } |
  | 64 | 64 |  |
  | 65 |  | public function output( $args = array(), $widget\_args = array(), $content = '' ) { |
  |  | 65 | public function output( $args = array(), $widget\_args = array(), $content = '' ) { |
  | 66 | 66 |  |
  | 67 |  | global $post; |
  |  | 67 | global $post; |
  | 68 | 68 |  |
  | 69 |  | $defaults = array( |
  | 70 |  | ~~'tag'~~ => 'h2', |
  | 71 |  | ); |
  |  | 69 | $defaults = array( |
  |  | 70 | 'tag' => 'h2', |
  |  | 71 | ); |
  | 72 | 72 |  |
  | 73 |  | $args = wp\_parse\_args( $args, $defaults ); |
  |  | 73 | $args = wp\_parse\_args( $args, $defaults ); |
  | 74 | 74 |  |
  | 75 |  | $args = apply\_filters( 'uwp\_widget\_user\_title\_args', $args, $widget\_args, $this ); |
  |  | 75 | $args = apply\_filters( 'uwp\_widget\_user\_title\_args', $args, $widget\_args, $this ); |
  | 76 | 76 |  |
  | 77 |  | $title\_tag = empty( $args['tag'] ) ? 'h2' : apply\_filters( 'uwp\_widget\_user\_title\_tag', $args['tag'], $args, $widget\_args, $this ); |
  |  | 77 | $allowed\_tags = array( 'h1', 'h2', 'h3', 'h4', 'h5', 'h6' ); |
  |  | 78 | $tag          = in\_array( $args['tag'], $allowed\_tags ) ? esc\_attr( $args['tag'] ) : 'h2'; |
  |  | 79 | $title\_tag    = empty( $args['tag'] ) ? 'h2' : apply\_filters( 'uwp\_widget\_user\_title\_tag', $tag, $args, $widget\_args, $this ); |
  | 78 | 80 |  |
  | 79 |  | ~~if('post\_author' == $args['user\_id'] && $post instanceof WP\_Post)~~{ |
  | 80 |  | ~~$user = get\_userdata($post->post\_author~~); |
  | 81 |  | $args['user\_id'] = $post->post\_author; |
  | 82 |  | ~~} else if(isset($args['user\_id']) && (int)$args['user\_id'] > 0)~~{ |
  | 83 |  | ~~$user = get\_userdata((int)$args['user\_id']~~); |
  | 84 |  | } else { |
  | 85 |  | $user = uwp\_get\_displayed\_user(); |
  | 86 |  | } |
  |  | 81 | if ( 'post\_author' == $args['user\_id'] && $post instanceof WP\_Post ) { |
  |  | 82 | $user            = get\_userdata( $post->post\_author ); |
  |  | 83 | $args['user\_id'] = $post->post\_author; |
  |  | 84 | } else if ( isset( $args['user\_id'] ) && (int) $args['user\_id'] > 0 ) { |
  |  | 85 | $user = get\_userdata( (int) $args['user\_id'] ); |
  |  | 86 | } else { |
  |  | 87 | $user = uwp\_get\_displayed\_user(); |
  |  | 88 | } |
  | 87 | 89 |  |
  | 88 |  | ~~if(empty($args['user\_id']) && !empty($user->ID))~~{ |
  | 89 |  | $args['user\_id'] = $user->ID; |
  | 90 |  | } |
  |  | 90 | if ( empty( $args['user\_id'] ) && ! empty( $user->ID ) ) { |
  |  | 91 | $args['user\_id'] = $user->ID; |
  |  | 92 | } |
  | 91 | 93 |  |
  | 92 |  | ~~if(!$user)~~{ |
  | 93 |  | return ''; |
  | 94 |  | } |
  |  | 94 | if ( ! $user ) { |
  |  | 95 | return ''; |
  |  | 96 | } |
  | 95 | 97 |  |
  | 96 |  | ob\_start(); |
  |  | 98 | ob\_start(); |
  | 97 | 99 |  |
  | 98 |  | ~~do\_action('uwp\_user\_title', $user, $title\_tag~~); |
  |  | 100 | do\_action( 'uwp\_user\_title', $user, $title\_tag ); |
  | 99 | 101 |  |
  | 100 |  | return ob\_get\_clean(); |
  |  | 102 | return ob\_get\_clean(); |
  | 101 | 103 |  |
  | 102 |  | } |
  |  | 104 | } |
  | 103 | 105 |  |
  | 104 | 106 | } |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3051240&old=3051240&new_path=%2Fuserswp%2Ftags%2F1.2.7&old_path=%2Fuserswp%2Ftags%2F1.2.6)
* [Zip Archive](?format=zip&new=3051240&old=3051240&new_path=%2Fuserswp%2Ftags%2F1.2.7&old_path=%2Fuserswp%2Ftags%2F1.2.6)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

