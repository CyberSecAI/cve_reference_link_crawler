
[Skip to main content](#main-content-start)

[Get help](/help/)
[Documentation](/doc/en/)

[Release Note](https://www.tuleap.org/resources/release-notes/tuleap-16-3/?utm_source=tuleap&utm_medium=forge&utm_campaign=tuleap-forge-icon-help-RN-link)

[API](/api/explorer/)
[Terms](/tos/tos.php)
[Contact](/contact.php)
Shortcuts

# Keyboard shortcuts

| Description | Shortcut |
| --- | --- |

Close

[Login](/account/login.php?return_to=%2Fplugins%2Fgit%2Ftuleap%2Ftuleap%2Fstable%3Fa%3Dcommit%26h%3D7e221a9d1893c13407b35008762757a76d8e5654 "Login")
[New User](/account/register.php "New User")

# Public

Project privacy set to public. By default, its content is available to everyone (authenticated or not). Please note that more restrictive permissions might exist on some items.

[ðŸŒ· Tuleap](/projects/tuleap "Tuleap")

[Git repositories](/plugins/git/tuleap/ "Git repositories")

[Fork repositories](/plugins/git/?group_id=101&action=fork_repositories "Fork repositories")

[tuleap/stable](/plugins/git/tuleap/tuleap/stable "tuleap/stable")

# stable

Clone

# Clone or download

HTTPS (Default)
Read-only

SSH

[Files](/plugins/git/tuleap/tuleap/stable?a=tree&hb=7e221a9d1893c13407b35008762757a76d8e5654)
[Commits](/plugins/git/tuleap/tuleap/stable?a=commit&h=7e221a9d1893c13407b35008762757a76d8e5654)
[Pull requests
0](/plugins/git/?action=pull-requests&repo_id=58&group_id=101&tab=homepage)

## [request #26816](https://tuleap.net/goto?key=request&val=26816&group_id=101 "Artefact - Bugs") Resources of private projects can be accessed by non project members

[Download](?a=commitdiff_plain&h=7e221a9d1893c13407b35008762757a76d8e5654&noheader=1 "Download commit as plain text file")
[Browse](?a=tree&hb=7e221a9d1893c13407b35008762757a76d8e5654 "Browse repository at this commit")

Authorizations are not properly verified when creating projects or
trackers from projects marked as templates : A classic user should not
be able create a project from a private template that he is not a
member.
Change-Id: Id8b599432923b32551379041a26d2acf0035a59d

+384
âˆ’54

Author
[![](https://tuleap.net/users/lorentzr/avatar-0bcfb9b84b2e0e95345bb518eee9a93750632980e8e5b25f8ef4918dcc65fa48.png)
Lorentz Romain (lorentzr)](/users/lorentzr)
 2022-05-24 13:56

Committer
[![](https://tuleap.net/users/lorentzr/avatar-0bcfb9b84b2e0e95345bb518eee9a93750632980e8e5b25f8ef4918dcc65fa48.png)
Lorentz Romain (lorentzr)](/users/lorentzr)
 2022-06-02 11:14

Hash
7e221a9d1893c13407b35008762757a76d8e5654

Parent
[8b709cac9f30aa4a226a9e7801724ca3bba0c304](?a=commit&h=8b709cac9f30aa4a226a9e7801724ca3bba0c304)

Reference
git #tuleap/stable/7e221a9d1893c13407b35008762757a76d8e5654

## Modified Files

 List

[Side by side diff](?a=commitdiff&h=7e221a9d1893c13407b35008762757a76d8e5654&o=side-by-side)

[Inline diff](?a=commitdiff&h=7e221a9d1893c13407b35008762757a76d8e5654)

|  | Name |  |  |  |
| --- | --- | --- | --- | --- |
| M | plugins/program\_management/tests/rest/v1/ProjectResourceTest.php | +1 | âˆ’1 | [Go to diff](?a=blobdiff&h=dec1098ad7d85c38535afab76722e79dbded7fe0&hp=2d4ce4a89f4dea0b0212e34a2de1d96d560d7bf1&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=plugins%2Fprogram_management%2Ftests%2Frest%2Fv1%2FProjectResourceTest.php)  [View file](?a=blob&h=dec1098ad7d85c38535afab76722e79dbded7fe0&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=plugins/program_management/tests/rest/v1/ProjectResourceTest.php) |
| M | site-content/fr\_FR/LC\_MESSAGES/tuleap-core.po | +10 | âˆ’2 | [Go to diff](?a=blobdiff&h=779bd733fce269d8ebf426a2873b2202066ab7e0&hp=3347c592cf49290efcf8ba239f1510f0cb3d405a&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=site-content%2Ffr_FR%2FLC_MESSAGES%2Ftuleap-core.po)  [View file](?a=blob&h=779bd733fce269d8ebf426a2873b2202066ab7e0&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=site-content/fr_FR/LC_MESSAGES/tuleap-core.po) |
| M | site-content/pt\_BR/LC\_MESSAGES/tuleap-core.po | +8 | âˆ’2 | [Go to diff](?a=blobdiff&h=9daad004d5f4d8a88a354f6f400238807aef4066&hp=4cce541af6316d80d4e27cdb83da7e54cf01aae3&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=site-content%2Fpt_BR%2FLC_MESSAGES%2Ftuleap-core.po)  [View file](?a=blob&h=9daad004d5f4d8a88a354f6f400238807aef4066&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=site-content/pt_BR/LC_MESSAGES/tuleap-core.po) |
| M | src/common/Project/REST/v1/ProjectCreationDataPOSTProjectBuilder.php | +4 | âˆ’1 | [Go to diff](?a=blobdiff&h=7e34e07cc8f6b057fc9aa326bb255102fe0ef002&hp=ddd4738792345e237dce4ace8a9b50cbf01364f8&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src%2Fcommon%2FProject%2FREST%2Fv1%2FProjectCreationDataPOSTProjectBuilder.php)  [View file](?a=blob&h=7e34e07cc8f6b057fc9aa326bb255102fe0ef002&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src/common/Project/REST/v1/ProjectCreationDataPOSTProjectBuilder.php) |
| M | src/common/Project/REST/v1/ProjectResource.class.php | +9 | âˆ’3 | [Go to diff](?a=blobdiff&h=e5b02ccf600ad95f4c52947bcc0af3416c9e87f6&hp=7ef894add7bb57924de8f803e9fa81d94655c184&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src%2Fcommon%2FProject%2FREST%2Fv1%2FProjectResource.class.php)  [View file](?a=blob&h=e5b02ccf600ad95f4c52947bcc0af3416c9e87f6&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src/common/Project/REST/v1/ProjectResource.class.php) |
| A | src/common/Project/Registration/Template/InsufficientPermissionToUseCompanyTemplateException.php | +37 | âˆ’0 | [Go to diff](?a=blobdiff&h=a1b45d1c1cf3ec0f1aa6715a1344a9f9c4d84c89&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src%2Fcommon%2FProject%2FRegistration%2FTemplate%2FInsufficientPermissionToUseCompanyTemplateException.php)  [View file](?a=blob&h=a1b45d1c1cf3ec0f1aa6715a1344a9f9c4d84c89&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src/common/Project/Registration/Template/InsufficientPermissionToUseCompanyTemplateException.php) |
| M | src/common/Project/Registration/Template/ProjectTemplateNotActiveException.php | +2 | âˆ’2 | [Go to diff](?a=blobdiff&h=30f73f0ec8942907358ce120284265d1271346c2&hp=683870affeeb6c2817f002e525a7226650c29c54&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src%2Fcommon%2FProject%2FRegistration%2FTemplate%2FProjectTemplateNotActiveException.php)  [View file](?a=blob&h=30f73f0ec8942907358ce120284265d1271346c2&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src/common/Project/Registration/Template/ProjectTemplateNotActiveException.php) |
| M | src/common/Project/Registration/Template/TemplateFactory.php | +23 | âˆ’6 | [Go to diff](?a=blobdiff&h=cd062038bbb23639e9d9c59e42ef4e5952ba212c&hp=1d1cca0215fd3bae28016a97c656c374494c470e&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src%2Fcommon%2FProject%2FRegistration%2FTemplate%2FTemplateFactory.php)  [View file](?a=blob&h=cd062038bbb23639e9d9c59e42ef4e5952ba212c&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src/common/Project/Registration/Template/TemplateFactory.php) |
| M | src/common/Project/Registration/Template/TemplateFromProjectForCreation.php | +42 | âˆ’7 | [Go to diff](?a=blobdiff&h=7ec4d26909223a2c71b3c316851ef1120d2bce62&hp=d5e439f7d77e00b3a2e264aa8e29c63011f8314b&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src%2Fcommon%2FProject%2FRegistration%2FTemplate%2FTemplateFromProjectForCreation.php)  [View file](?a=blob&h=7ec4d26909223a2c71b3c316851ef1120d2bce62&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=src/common/Project/Registration/Template/TemplateFromProjectForCreation.php) |
| M | tests/lib/TestDataBuilder.php | +2 | âˆ’0 | [Go to diff](?a=blobdiff&h=9a5821bdfbe59144d1fadb7da7f9c585576a0f65&hp=290018264e1221c8474dd554e56dbe53c401080e&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Flib%2FTestDataBuilder.php)  [View file](?a=blob&h=9a5821bdfbe59144d1fadb7da7f9c585576a0f65&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/lib/TestDataBuilder.php) |
| A | tests/rest/\_fixtures/16-public-template/project.xml | +7 | âˆ’0 | [Go to diff](?a=blobdiff&h=ae3e12fe7449bb93f5eadce2fdf8c7f0f647d81c&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2F_fixtures%2F16-public-template%2Fproject.xml)  [View file](?a=blob&h=ae3e12fe7449bb93f5eadce2fdf8c7f0f647d81c&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/_fixtures/16-public-template/project.xml) |
| A | tests/rest/\_fixtures/16-public-template/user\_map.csv | +1 | âˆ’0 | [Go to diff](?a=blobdiff&h=ead57d379498b79f676de95e3520eac4ccf94c89&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2F_fixtures%2F16-public-template%2Fuser_map.csv)  [View file](?a=blob&h=ead57d379498b79f676de95e3520eac4ccf94c89&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/_fixtures/16-public-template/user_map.csv) |
| A | tests/rest/\_fixtures/16-public-template/users.xml | +3 | âˆ’0 | [Go to diff](?a=blobdiff&h=6e009d2833097cb19b772cd6bf62238532ab3a81&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2F_fixtures%2F16-public-template%2Fusers.xml)  [View file](?a=blob&h=6e009d2833097cb19b772cd6bf62238532ab3a81&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/_fixtures/16-public-template/users.xml) |
| A | tests/rest/\_fixtures/17-private-template/project.xml | +20 | âˆ’0 | [Go to diff](?a=blobdiff&h=a9c1f88ee22696dd64608586cabab3e93b3fbd06&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2F_fixtures%2F17-private-template%2Fproject.xml)  [View file](?a=blob&h=a9c1f88ee22696dd64608586cabab3e93b3fbd06&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/_fixtures/17-private-template/project.xml) |
| A | tests/rest/\_fixtures/17-private-template/user\_map.csv | +1 | âˆ’0 | [Go to diff](?a=blobdiff&h=ead57d379498b79f676de95e3520eac4ccf94c89&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2F_fixtures%2F17-private-template%2Fuser_map.csv)  [View file](?a=blob&h=ead57d379498b79f676de95e3520eac4ccf94c89&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/_fixtures/17-private-template/user_map.csv) |
| A | tests/rest/\_fixtures/17-private-template/users.xml | +17 | âˆ’0 | [Go to diff](?a=blobdiff&h=4685679e3db454dfe27f27635c2841828a56ba8b&hp=0000000000000000000000000000000000000000&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2F_fixtures%2F17-private-template%2Fusers.xml)  [View file](?a=blob&h=4685679e3db454dfe27f27635c2841828a56ba8b&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/_fixtures/17-private-template/users.xml) |
| M | tests/rest/bin/init\_data.php | +1 | âˆ’0 | [Go to diff](?a=blobdiff&h=f9de41d5e9e117d1a99e8561cff20d4ca3459f5a&hp=45ac09c444d510263d38d2ae299e3490041ae3bc&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2Fbin%2Finit_data.php)  [View file](?a=blob&h=f9de41d5e9e117d1a99e8561cff20d4ca3459f5a&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/bin/init_data.php) |
| M | tests/rest/bin/setup.sh | +2 | âˆ’0 | [Go to diff](?a=blobdiff&h=c327d09ba36b10bfedf8efe1a3d963f4f0ff0cea&hp=02ab3420645dbfff78ff23c763ce3f5b3d9e8772&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2Fbin%2Fsetup.sh)  [View file](?a=blob&h=c327d09ba36b10bfedf8efe1a3d963f4f0ff0cea&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/bin/setup.sh) |
| M | tests/rest/lib/RestBase.php | +16 | âˆ’4 | [Go to diff](?a=blobdiff&h=d79e7bd41145cb93099b5ae835af322e27373369&hp=1c2221c595f63e1de703ab1896be72c9a257dc82&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2Flib%2FRestBase.php)  [View file](?a=blob&h=d79e7bd41145cb93099b5ae835af322e27373369&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/lib/RestBase.php) |
| M | tests/rest/lib/TestDataBuilder.php | +21 | âˆ’0 | [Go to diff](?a=blobdiff&h=9a42868d4b55c59e6261efbd8f0211b56c262839&hp=546ee73fcf50e5affbca349f0dbe93429699fb5b&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2Flib%2FTestDataBuilder.php)  [View file](?a=blob&h=9a42868d4b55c59e6261efbd8f0211b56c262839&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/lib/TestDataBuilder.php) |
| M | tests/rest/tests/ProjectTest.php | +55 | âˆ’9 | [Go to diff](?a=blobdiff&h=e0ee553ee41c689b2f2126cffd55e8e0ebc2b616&hp=1929bfb1c894dc3cfbbd6187ed6656b37c342589&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2Ftests%2FProjectTest.php)  [View file](?a=blob&h=e0ee553ee41c689b2f2126cffd55e8e0ebc2b616&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/tests/ProjectTest.php) |
| M | tests/rest/tests/ReadOnlyAdministrator/ProjectTest.php | +1 | âˆ’1 | [Go to diff](?a=blobdiff&h=aa140bc2165067fddda88f0352eb28a332863c55&hp=6df829b525ed7de9ee46c024a9d370467b26446d&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Frest%2Ftests%2FReadOnlyAdministrator%2FProjectTest.php)  [View file](?a=blob&h=aa140bc2165067fddda88f0352eb28a332863c55&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/rest/tests/ReadOnlyAdministrator/ProjectTest.php) |
| M | tests/unit/common/Project/REST/v1/ProjectCreationDataPOSTProjectBuilderTest.php | +2 | âˆ’1 | [Go to diff](?a=blobdiff&h=a79ddbce6f3d0b74bf4dd751917dd0969daefbc1&hp=ae90bc0900cac7e4cd19345ac5aa29562d4d1125&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Funit%2Fcommon%2FProject%2FREST%2Fv1%2FProjectCreationDataPOSTProjectBuilderTest.php)  [View file](?a=blob&h=a79ddbce6f3d0b74bf4dd751917dd0969daefbc1&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/unit/common/Project/REST/v1/ProjectCreationDataPOSTProjectBuilderTest.php) |
| M | tests/unit/common/Project/REST/v1/RestProjectCreatorTest.php | +9 | âˆ’3 | [Go to diff](?a=blobdiff&h=6a96ed13ee67ae3a28f5de43f4b02beeced1892c&hp=9905f86d6ad3a0772797ad9da36644c2a69a000c&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Funit%2Fcommon%2FProject%2FREST%2Fv1%2FRestProjectCreatorTest.php)  [View file](?a=blob&h=6a96ed13ee67ae3a28f5de43f4b02beeced1892c&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/unit/common/Project/REST/v1/RestProjectCreatorTest.php) |
| M | tests/unit/common/Project/Registration/Template/TemplateFactoryTest.php | +45 | âˆ’3 | [Go to diff](?a=blobdiff&h=17763cfdfa6958faf67d256d8c4513a05064c811&hp=16c004b453f3432823fdbbd10f2286db0222345b&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Funit%2Fcommon%2FProject%2FRegistration%2FTemplate%2FTemplateFactoryTest.php)  [View file](?a=blob&h=17763cfdfa6958faf67d256d8c4513a05064c811&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/unit/common/Project/Registration/Template/TemplateFactoryTest.php) |
| M | tests/unit/common/Project/Registration/Template/TemplateFromProjectForCreationTest.php | +45 | âˆ’9 | [Go to diff](?a=blobdiff&h=5b312713041cc74ab493d05228324bfd75ad0d37&hp=35f87fa3e7108541cba66874db9cc852ef8d2ab1&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests%2Funit%2Fcommon%2FProject%2FRegistration%2FTemplate%2FTemplateFromProjectForCreationTest.php)  [View file](?a=blob&h=5b312713041cc74ab493d05228324bfd75ad0d37&hb=7e221a9d1893c13407b35008762757a76d8e5654&f=tests/unit/common/Project/Registration/Template/TemplateFromProjectForCreationTest.php) |

