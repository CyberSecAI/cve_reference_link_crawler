
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ffranciscop%2Ftranslate%2Fcommit%2Fcc1ba03078102f83e0503a96f1a081489bb865d3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ffranciscop%2Ftranslate%2Fcommit%2Fcc1ba03078102f83e0503a96f1a081489bb865d3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=franciscop%2Ftranslate)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[franciscop](/franciscop)
/
**[translate](/franciscop/translate)**
Public

* [Notifications](/login?return_to=%2Ffranciscop%2Ftranslate) You must be signed in to change notification settings
* [Fork
  45](/login?return_to=%2Ffranciscop%2Ftranslate)
* [Star
   292](/login?return_to=%2Ffranciscop%2Ftranslate)

* [Code](/franciscop/translate)
* [Issues
  1](/franciscop/translate/issues)
* [Pull requests
  0](/franciscop/translate/pulls)
* [Actions](/franciscop/translate/actions)
* [Security](/franciscop/translate/security)
* [Insights](/franciscop/translate/pulse)

Additional navigation options

* [Code](/franciscop/translate)
* [Issues](/franciscop/translate/issues)
* [Pull requests](/franciscop/translate/pulls)
* [Actions](/franciscop/translate/actions)
* [Security](/franciscop/translate/security)
* [Insights](/franciscop/translate/pulse)

## Commit

[Permalink](/franciscop/translate/commit/cc1ba03078102f83e0503a96f1a081489bb865d3)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Made the usage options much simpler so that there's no chance of writ…

[Browse files](/franciscop/translate/tree/cc1ba03078102f83e0503a96f1a081489bb865d3)
Browse the repository at this point in the history

```
…ing runtime vulnerabilities. Favored instances. Fixed types
```

* Loading branch information

[![@franciscop](https://avatars.githubusercontent.com/u/2801252?s=40&v=4)](/franciscop)

[franciscop](/franciscop/translate/commits?author=franciscop "View all commits by franciscop")
committed
Mar 21, 2024

1 parent
[7a2bf8b](/franciscop/translate/commit/7a2bf8b9f05f7c45c09683973ef4d8e995804aa4)

commit cc1ba03

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**173 additions**
and
**63 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* README.md
  [README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5)
* index.d.ts
  [index.d.ts](#diff-7aa4473ede4abd9ec099e87fec67fd57afafaf39e05d493ab4533acc38547eb8)
* index.min.js
  [index.min.js](#diff-4756d91bf214842c0bd331fa1076eea263df7ed4c8ce892e23ff0fb4316f5b16)
* src

  + src/index.js
    [index.js](#diff-bfe9874d239014961b1ae4e89875a6155667db834a410aaaa2ebe3cf89820556)
* test

  + test/index.types.ts
    [index.types.ts](#diff-4ef368eb6ffed4517e8d50a750b4b43ff586aa372e8cf889a3423f61a4547091)

## There are no files selected for viewing

80 changes: 47 additions & 33 deletions

80
[README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5 "README.md")

Show comments

[View file](/franciscop/translate/blob/cc1ba03078102f83e0503a96f1a081489bb865d3/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -32,7 +32,7 @@ Alternatively for the browser you can use [Jsdelivr \*\*CDN\*\*](https://www.jsdeliv |
|  |  | ```html |
|  |  | <script |
|  |  | type="module" |
|  |  | src="https://cdn.jsdelivr.net/npm/translate@2/index.min.js" |
|  |  | src="https://cdn.jsdelivr.net/npm/translate/index.min.js" |
|  |  | ></script> |
|  |  | ``` |
|  |  |  |
| Expand All | | @@ -43,7 +43,7 @@ translate.engine = "deepl"; // "google", "yandex", "libre", "deepl" |
|  |  | translate.key = process.env.DEEPL\_KEY; |
|  |  | ``` |
|  |  |  |
|  |  | Then you can finally use it. Putting it all together: |
|  |  | Then you can use it. Putting it all together: |
|  |  |  |
|  |  | ```js |
|  |  | // Omit this line if loading form a CDN |
| Expand All | | @@ -59,18 +59,23 @@ console.log(text); |
|  |  |  |
|  |  | ## Options |
|  |  |  |
|  |  | The first parameter is the \*\*string\*\* that you want to translate. Right now only a single string of text is accepted. |
|  |  | Here is a list of all the options. They all can be set on the root instance like `translate[key] = value` and when creating a new instance `const t = Translate({ ... })`. The function has this signature: |
|  |  |  |
|  |  | The second parameter is the options. It accepts either a `String` of the language to translate \*\*to\*\* or a simple `Object` with the keys `to` and `from`. However, in total there are more options, so here is a list of all of them: |
|  |  | ```js |
|  |  | translate(text: string, to: string): Promise<string> |
|  |  | translate(text: string, { to: string, from: string }): Promise<string> |
|  |  | ``` |
|  |  |  |
|  |  | These are all of the options: |
|  |  |  |
|  |  | - \*\*`to`\*\*: the string of the language to translate to. It can be in any of the two ISO 639 (1 or 2) or the full name in English like `Spanish`. Defaults to \*\*en\*\*. |
|  |  | - \*\*`from`\*\*: the string of the language to translate to. It can be in any of the two ISO 639 (1 or 2) or the full name in English like `Spanish`. Also defaults to \*\*en\*\*. |
|  |  | - \*\*`cache`\*\* [instance]: a `Number` with the milliseconds that each translation should be cached. Leave it undefined to cache it indefinitely (until a server/browser restart). |
|  |  | - \*\*`engine`\*\* [instance]: a `String` containing the name of the engine to use for translation. Right now it defaults to `google`. Read more [in the engine section](#engines). |
|  |  | - \*\*`key`\*\* [instance]: the API Key for the engine of your choice. Read more [in the engine section](#engines). |
|  |  | - \*\*`url`\*\* [instance]: only available for those engines that you can install on your own server (like Libretranslate), allows you to specify a custom endpoint for the translations. [See this issue](https://github.com/franciscop/translate/issues/26#issuecomment-845038821) for more info. |
|  |  | - \*\*`cache`\*\* \\*: a `Number` with the milliseconds that each translation should be cached. Leave it undefined to cache it indefinitely (until a server/browser restart). |
|  |  | - \*\*`engine`\*\* \\* (& `engines`): a `String` containing the name of the engine to use for translation. Right now it defaults to `google`. Read more [in the engine section](#engines). |
|  |  | - \*\*`key`\*\* \\* (& `keys`): the API Key for the engine of your choice. Read more [in the engine section](#engines). |
|  |  | - \*\*`url`\*\* \\*: only available for those engines that you can install on your own server (like Libretranslate), allows you to specify a custom endpoint for the translations. [See this issue](https://github.com/franciscop/translate/issues/26#issuecomment-845038821) for more info. |
|  |  |  |
|  |  | > The options marked as [instance] can only be set to the root `translate.cache = 1000` or when creating a new instance `const myDeepL = translate.Translate()` |
|  |  | > \\* The options marked as can only be set to the root `translate.cache = 1000` or when creating a new instance `const myDeepL = translate.Translate()`, but not as the second parameter. |
|  |  |  |
|  |  | Examples: |
|  |  |  |
| Expand All | | @@ -80,27 +85,43 @@ const foo = await translate("Hello world", "es"); |
|  |  |  |
|  |  | // Same as this: |
|  |  | const bar = await translate("Hello world", { to: "es" }); |
|  |  |  |
|  |  | // INVALID: |
|  |  | const bar = await translate("Hello world", { to: "es", engine: "google" }); |
|  |  | ``` |
|  |  |  |
|  |  | > On both `to` and `from` defaulting to `en`: while I \_am\_ Spanish and was quite tempted to set this as one of those, English is the main language of the Internet and the main secondary language for those who have a different native language. This is why most of the translations will happen either to or from English. |
|  |  |  |
|  |  | ### Default options |
|  |  |  |
|  |  | You can change the default options for anything by calling the root library and the option name: |
|  |  | You can change the options in 3 ways. First, for the simple `from` and `to` options, set them as the second argument: |
|  |  |  |
|  |  | ```js |
|  |  | import translate from "translate"; |
|  |  |  |
|  |  | translate("Hello world", "es"); |
|  |  | translate("Hola mundo", { from: "en", to: "es" }); |
|  |  | ``` |
|  |  |  |
|  |  | You can also change the default options straight on the base instance, which should be common for the shared options such as the API key, engine, etc: |
|  |  |  |
|  |  | ```js |
|  |  | import translate from "translate"; |
|  |  |  |
|  |  | // Configure it, setting the "from" to "Spanish" as default! |
|  |  | translate.from = "es"; |
|  |  | translate.engine = "deepl"; |
|  |  | translate.key = process.env.DEEPL\_KEY; |
|  |  |  |
|  |  | // Use it |
|  |  | await translate("Hola mundo", "ja"); |
|  |  | ``` |
|  |  |  |
|  |  | You can also create a new instance with different default options: |
|  |  | Finally, you can combine multiple instances of Translate, which is useful to have different caches, or use different engines at the same time: |
|  |  |  |
|  |  | ```js |
|  |  | const myLib = translate.Translate({ engine: 'deepl', from: 'es', ... }); |
|  |  | // Import the constructor |
|  |  | import { Translate } from 'translate'; |
|  |  |  |
|  |  | // Create an instance |
|  |  | const myLib = Translate({ engine: 'deepl', from: 'es', ... }); |
|  |  |  |
|  |  | // Use it |
|  |  | await myLib("Hola mundo", "ja" ); |
|  |  | ``` |
|  |  |  |
| Expand All | | @@ -118,7 +139,7 @@ Several translating engines are available to translate your text: |
|  |  | Once you get the API key and if you are only going to be using one engine (very likely), we recommend setting this globally for your whole project: |
|  |  |  |
|  |  | ```js |
|  |  | // ... include translate |
|  |  | import translate from "translate"; |
|  |  |  |
|  |  | translate.engine = "deepl"; |
|  |  | translate.key = "YOUR-KEY-HERE"; |
| Expand All | | @@ -129,7 +150,7 @@ translate.key = "YOUR-KEY-HERE"; |
|  |  | If you are in Node.js, this likely comes from an environment variable: |
|  |  |  |
|  |  | ```js |
|  |  | // ... include translate |
|  |  | import translate from "translate"; |
|  |  |  |
|  |  | translate.engine = "deepl"; |
|  |  | translate.key = process.env.TRANSLATE\_KEY; |
| Expand All | | @@ -140,18 +161,11 @@ translate.key = process.env.TRANSLATE\_KEY; |
|  |  | You can create different instances if you want to combine different engines: |
|  |  |  |
|  |  | ```js |
|  |  | const gTranslate = translate.Translate({ |
|  |  | engine: "google", |
|  |  | key: "YOUR-KEY-HERE", |
|  |  | }); |
|  |  | const dTranslate = translate.Translate({ |
|  |  | engine: "deepl", |
|  |  | key: "YOUR-KEY-HERE", |
|  |  | }); |
|  |  | const lTranslate = translate.Translate({ |
|  |  | engine: "libre", |
|  |  | key: "YOUR-KEY-HERE", |
|  |  | }); |
|  |  | import { Translate } from "translate"; |
|  |  |  |
|  |  | const gTranslate = Translate({ engine: "google", key: "..." }); |
|  |  | const dTranslate = Translate({ engine: "deepl", key: "..." }); |
|  |  | const lTranslate = Translate({ engine: "libre", key: "..." }); |
|  |  | ``` |
|  |  |  |
|  |  | Specifically in Libretranslate, you can also add a `url` parameter if you install it on your own server: |
| Expand All | | @@ -162,7 +176,7 @@ translate.key = process.env.TRANSLATE\_KEY; |
|  |  |  |
|  |  | // or |
|  |  |  |
|  |  | const lTranslate = translate.Translate({ |
|  |  | const lTranslate = Translate({ |
|  |  | engine: "libre", |
|  |  | url: "...", |
|  |  | key: "YOUR-KEY-HERE", |
| Expand All | | @@ -171,7 +185,7 @@ const lTranslate = translate.Translate({ |
|  |  |  |
|  |  | ## Promises |
|  |  |  |
|  |  | Working with Promises and specially with [async/await](https://ponyfoo.com/articles/understanding-javascript-async-await) reduces [Callback Hell](http://callbackhell.com/). To see it in action, first you'll need an `async` function. Then put your `await` calls inside: |
|  |  | This library uses promises which need to be awaited for the translated result: |
|  |  |  |
|  |  | ```js |
|  |  | // Browser; jQuery for demonstration purposes |
| Expand Down | |  |

61 changes: 42 additions & 19 deletions

61
[index.d.ts](#diff-7aa4473ede4abd9ec099e87fec67fd57afafaf39e05d493ab4533acc38547eb8 "index.d.ts")

Show comments

[View file](/franciscop/translate/blob/cc1ba03078102f83e0503a96f1a081489bb865d3/index.d.ts)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -9,22 +9,45 @@ type Engine = { |
|  |  | parse: (res: { [key: string]: any }) => string; |
|  |  | }; |
|  |  |  |
|  |  | type Options = |
|  |  | | string |
|  |  | | { |
|  |  | // Basic types expected for everyday use |
|  |  | from?: string; |
|  |  | to?: string; |
|  |  | key?: string; |
|  |  | engine?: "google" | "deepl" | "libre" | "yandex"; |
|  |  |  |
|  |  | // More advanced types when tweaking the library |
|  |  | keys?: { [name: string]: string }; |
|  |  | cache?: number; |
|  |  | engines?: { [name: string]: Engine }; |
|  |  | }; |
|  |  |  |
|  |  | export default function Translate( |
|  |  | text: string, |
|  |  | options?: Options |
|  |  | ): Promise<string>; |
|  |  | type Options = string | { from?: string; to?: string }; |
|  |  |  |
|  |  | declare const translate: { |
|  |  | (text: string, opts?: Options): Promise<string>; |
|  |  |  |
|  |  | key?: string; |
|  |  | engine?: "google" | "deepl" | "libre" | "yandex"; |
|  |  |  |
|  |  | // More advanced types when tweaking the library |
|  |  | keys?: { [name: string]: string }; |
|  |  | cache?: number; |
|  |  | engines?: { [name: string]: Engine }; |
|  |  |  |
|  |  | Translate({}: { |
|  |  | from?: string; |
|  |  | to?: string; |
|  |  |  |
|  |  | key?: string; |
|  |  | engine?: "google" | "deepl" | "libre" | "yandex"; |
|  |  |  |
|  |  | // More advanced types when tweaking the library |
|  |  | keys?: { [name: string]: string }; |
|  |  | cache?: number; |
|  |  | engines?: { [name: string]: Engine }; |
|  |  | }): typeof translate; |
|  |  | }; |
|  |  |  |
|  |  | declare const Translate: ({}: { |
|  |  | from?: string; |
|  |  | to?: string; |
|  |  |  |
|  |  | key?: string; |
|  |  | engine?: "google" | "deepl" | "libre" | "yandex"; |
|  |  |  |
|  |  | // More advanced types when tweaking the library |
|  |  | keys?: { [name: string]: string }; |
|  |  | cache?: number; |
|  |  | engines?: { [name: string]: Engine }; |
|  |  | }) => typeof translate; |
|  |  |  |
|  |  | export default translate; |
|  |  | export { Translate }; |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `cc1ba03`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ffranciscop%2Ftranslate%2Fcommit%2Fcc1ba03078102f83e0503a96f1a081489bb865d3) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

