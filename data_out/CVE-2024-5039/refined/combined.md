=== Content from plugins.trac.wordpress.org_f56acb84_20250111_014635.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3093324)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3093323 "Changeset 3093323")
* [Next Changeset](/changeset/3093325 "Changeset 3093325") →

---

# Changeset 3093324

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/27/2024 03:17:35 PM
([8 months](/timeline?from=2024-05-27T15%3A17%3A35Z&precision=second "See timeline at 05/27/2024 03:17:35 PM") ago)

Author:
RealMag777
Message:

* security fix, thanks to Richard Telleng (stueotue) from wordfence.com
* bunch of small fixes
* new features [​https://products-filter.com/update-woocommerce-products-filter-v-3-3-6/](https://products-filter.com/update-woocommerce-products-filter-v-3-3-6/)

Location:
[woocommerce-products-filter/trunk](/browser/woocommerce-products-filter/trunk?rev=3093324)
Files:

81 edited

* [classes/alert.php](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324 "Show entry in browser")
  (modified)
  ([6 diffs](#file0 "Show differences"))
* [classes/helper.php](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324 "Show entry in browser")
  (modified)
  ([9 diffs](#file1 "Show differences"))
* [classes/rate\_alert.php](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))
* [css/front.css](/browser/woocommerce-products-filter/trunk/css/front.css?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [ext/acf\_filter/classes/woof\_type\_acf\_filter.php](/browser/woocommerce-products-filter/trunk/ext/acf_filter/classes/woof_type_acf_filter.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [ext/acf\_filter/html\_types/radio/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/radio/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [ext/acf\_filter/html\_types/select/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/select/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [ext/acf\_filter/html\_types/true\_false/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/true_false/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [ext/by\_author/views/shortcodes/woof\_author\_filter.php](/browser/woocommerce-products-filter/trunk/ext/by_author/views/shortcodes/woof_author_filter.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [ext/by\_featured/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/by_featured/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [ext/by\_instock/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file11 "Show differences"))
* [ext/by\_onsales/index.php](/browser/woocommerce-products-filter/trunk/ext/by_onsales/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))
* [ext/by\_onsales/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [ext/by\_rating/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/by_rating/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))
* [ext/by\_text/index.php](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([4 diffs](#file16 "Show differences"))
* [ext/by\_text/views/options.php](/browser/woocommerce-products-filter/trunk/ext/by_text/views/options.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [ext/by\_text/views/shortcodes/woof\_text\_filter.php](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file18 "Show differences"))
* [ext/by\_text\_2/views/options.php](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/options.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [ext/by\_text\_2/views/shortcodes/woof\_text\_filter.php](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [ext/export\_import/index.php](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file23 "Show differences"))
* [ext/export\_import/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/export_import/js/admin.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [ext/export\_import/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file25 "Show differences"))
* [ext/front\_builder/index.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([4 diffs](#file32 "Show differences"))
* [ext/front\_builder/views/shortcodes/woof\_front\_builder.php](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file37 "Show differences"))
* [ext/label/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/label/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file38 "Show differences"))
* [ext/meta\_filter/html\_types/checkbox/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/checkbox/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file39 "Show differences"))
* [ext/meta\_filter/html\_types/datepicker/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/datepicker/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file40 "Show differences"))
* [ext/meta\_filter/html\_types/mselect/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/mselect/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [ext/meta\_filter/html\_types/select/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/select/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file42 "Show differences"))
* [ext/meta\_filter/html\_types/slider/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/slider/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file43 "Show differences"))
* [ext/meta\_filter/html\_types/textinput/js/textinput.js](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/js/textinput.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file44 "Show differences"))
* [ext/meta\_filter/html\_types/textinput/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file45 "Show differences"))
* [ext/meta\_filter/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/meta_filter/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file46 "Show differences"))
* [ext/products\_messenger/index.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file47 "Show differences"))
* [ext/products\_messenger/views/email\_template.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/email_template.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file49 "Show differences"))
* [ext/products\_messenger/views/options.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/options.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file50 "Show differences"))
* [ext/products\_messenger/views/shortcodes/woof\_products\_messenger.php](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file51 "Show differences"))
* [ext/query\_save/index.php](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file53 "Show differences"))
* [ext/query\_save/views/options.php](/browser/woocommerce-products-filter/trunk/ext/query_save/views/options.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file55 "Show differences"))
* [ext/query\_save/views/shortcodes/woof\_save\_query.php](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file56 "Show differences"))
* [ext/quick\_search/index.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([5 diffs](#file58 "Show differences"))
* [ext/quick\_search/js/quick\_search.js](/browser/woocommerce-products-filter/trunk/ext/quick_search/js/quick_search.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file60 "Show differences"))
* [ext/quick\_search/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file61 "Show differences"))
* [ext/quick\_search/views/templates/grid\_1/output.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_1/output.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file62 "Show differences"))
* [ext/quick\_search/views/templates/grid\_2/output.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_2/output.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file63 "Show differences"))
* [ext/quick\_search/views/templates/list\_1/output.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_1/output.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file64 "Show differences"))
* [ext/quick\_search/views/templates/list\_2/output.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_2/output.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file65 "Show differences"))
* [ext/quick\_search/views/templates/list\_3/output.php](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_3/output.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file66 "Show differences"))
* [ext/sections/index.php](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file67 "Show differences"))
* [ext/sections/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file69 "Show differences"))
* [ext/slideout/index.php](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file70 "Show differences"))
* [ext/slideout/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file72 "Show differences"))
* [ext/smart\_designer/classes/presets.php](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file74 "Show differences"))
* [ext/smart\_designer/js/presets.js](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file76 "Show differences"))
* [ext/smart\_designer/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/smart_designer/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file78 "Show differences"))
* [ext/smart\_designer/views/woof.php](/browser/woocommerce-products-filter/trunk/ext/smart_designer/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file79 "Show differences"))
* [ext/stat/index.php](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([4 diffs](#file80 "Show differences"))
* [ext/stat/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([4 diffs](#file82 "Show differences"))
* [ext/step\_filer/views/shortcode/step\_filter.php](/browser/woocommerce-products-filter/trunk/ext/step_filer/views/shortcode/step_filter.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file83 "Show differences"))
* [ext/turbo\_mode/index.php](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([6 diffs](#file84 "Show differences"))
* [ext/turbo\_mode/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file85 "Show differences"))
* [ext/turbo\_mode/js/turbo\_mode.js](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file86 "Show differences"))
* [ext/turbo\_mode/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file87 "Show differences"))
* [ext/url\_request/classes/seo.php](/browser/woocommerce-products-filter/trunk/ext/url_request/classes/seo.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file88 "Show differences"))
* [ext/url\_request/css/admin.css](/browser/woocommerce-products-filter/trunk/ext/url_request/css/admin.css?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file89 "Show differences"))
* [ext/url\_request/index.php](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file90 "Show differences"))
* [ext/url\_request/js/admin.js](/browser/woocommerce-products-filter/trunk/ext/url_request/js/admin.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file91 "Show differences"))
* [ext/url\_request/views/tabs\_content.php](/browser/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file92 "Show differences"))
* [index.php](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([30 diffs](#file93 "Show differences"))
* [js/front.js](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324 "Show entry in browser")
  (modified)
  ([7 diffs](#file94 "Show differences"))
* [js/front\_comprssd.js](/browser/woocommerce-products-filter/trunk/js/front_comprssd.js?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file95 "Show differences"))
* [js/plugin\_options.js](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3093324 "Show entry in browser")
  (modified)
  ([3 diffs](#file97 "Show differences"))
* [lib/alert/index.php](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file98 "Show differences"))
* [readme.txt](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file99 "Show differences"))
* [views/ext\_options.php](/browser/woocommerce-products-filter/trunk/views/ext_options.php?rev=3093324 "Show entry in browser")
  (modified)
  ([1 diff](#file100 "Show differences"))
* [views/html\_types/checkbox.php](/browser/woocommerce-products-filter/trunk/views/html_types/checkbox.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file101 "Show differences"))
* [views/html\_types/mselect.php](/browser/woocommerce-products-filter/trunk/views/html_types/mselect.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file102 "Show differences"))
* [views/html\_types/radio.php](/browser/woocommerce-products-filter/trunk/views/html_types/radio.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file103 "Show differences"))
* [views/html\_types/select.php](/browser/woocommerce-products-filter/trunk/views/html_types/select.php?rev=3093324 "Show entry in browser")
  (modified)
  ([2 diffs](#file104 "Show differences"))
* [views/plugin\_options.php](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324 "Show entry in browser")
  (modified)
  ([16 diffs](#file105 "Show differences"))
* [views/woof.php](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324 "Show entry in browser")
  (modified)
  ([9 diffs](#file106 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [woocommerce-products-filter/trunk/classes/alert.php](/changeset/3093324/woocommerce-products-filter/trunk/classes/alert.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/classes/alert.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L98 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324#L98 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 98 | 98 | <div class="notice notice-info is-dismissible" id="woof\_alert\_woocs" style="display: none;"> |
  | 99 | 99 | <p class="plugin-card-woocommerce-currency-switcher" <?php if ($screen->id != 'plugin-install'): ?>id="plugin-filter"<?php endif; ?>> |
  | 100 |  | <?php esc\_html\_e('For more marketing attraction of your woocommerce shop HUSKY team recommends you to install', 'woocommerce-products-filter') ?> <a href="<?php echo ~~network\_admin\_url('plugin-install.php?tab=plugin-information'~~) ?>&amp;plugin=woocommerce-currency-switcher&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal" aria-label="HUSKY team recommends" data-title="WOOCS">WOOCS - WooCommerce Currency Switcher </a>. |
  | 101 |  | <a href="<?php echo ~~network\_admin\_url('plugin-install.php?tab=plugin-information'~~) ?>&amp;plugin=woocommerce-currency-switcher&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal button" aria-label="More information about WOOCS" data-title="WOOCS" id="woof\_alert\_install\_button"><?php esc\_html\_e('Install', 'woocommerce-products-filter') ?></a> |
  | 102 |  | <a class="install-now button" data-slug="woocommerce-currency-switcher" href="<?php echo ~~network\_admin\_url('update.php?action=install-plugin') ?>&amp;plugin=woocommerce-currency-switcher&amp;\_wpnonce=<?php echo wp\_create\_nonce('install-plugin-woocommerce-currency-switcher'~~) ?>" aria-label="Install woocommerce currency switcher now" data-name="WOOCS - Woocommerce currency switcher" style="display:none"><?php esc\_html\_e('Install Now', 'woocommerce-products-filter') ?></a> |
  |  | 100 | <?php esc\_html\_e('For more marketing attraction of your woocommerce shop HUSKY team recommends you to install', 'woocommerce-products-filter') ?> <a href="<?php echo esc\_url(network\_admin\_url('plugin-install.php?tab=plugin-information')) ?>&amp;plugin=woocommerce-currency-switcher&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal" aria-label="HUSKY team recommends" data-title="WOOCS">WOOCS - WooCommerce Currency Switcher </a>. |
  |  | 101 | <a href="<?php echo esc\_url(network\_admin\_url('plugin-install.php?tab=plugin-information')) ?>&amp;plugin=woocommerce-currency-switcher&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal button" aria-label="More information about WOOCS" data-title="WOOCS" id="woof\_alert\_install\_button"><?php esc\_html\_e('Install', 'woocommerce-products-filter') ?></a> |
  |  | 102 | <a class="install-now button" data-slug="woocommerce-currency-switcher" href="<?php echo esc\_url(network\_admin\_url('update.php?action=install-plugin')) ?>&amp;plugin=woocommerce-currency-switcher&amp;\_wpnonce=<?php echo esc\_attr(wp\_create\_nonce('install-plugin-woocommerce-currency-switcher')) ?>" aria-label="Install woocommerce currency switcher now" data-name="WOOCS - Woocommerce currency switcher" style="display:none"><?php esc\_html\_e('Install Now', 'woocommerce-products-filter') ?></a> |
  | 103 | 103 | </p> |
  | 104 | 104 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L114) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324#L114) |  |
  | 114 | 114 | $.post(ajaxurl, {action: 'woof\_dismiss\_alert', |
  | 115 | 115 | alert: 'woocommerce\_currency\_switcher', |
  | 116 |  | sec: <?php echo ~~wp\_create\_nonce('woof\_dissmiss\_alert'~~) ?> |
  |  | 116 | sec: <?php echo esc\_attr(wp\_create\_nonce('woof\_dissmiss\_alert')) ?> |
  | 117 | 117 | }); |
  | 118 | 118 | }); |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L142) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324#L142) |  |
  | 142 | 142 | <div class="notice notice-info is-dismissible" id="woof\_alert\_woobe" style="display: none;"> |
  | 143 | 143 | <p class="plugin-card-woo-bulk-editor" <?php if ($screen->id != 'plugin-install'): ?>id="plugin-woobe"<?php endif; ?>> |
  | 144 |  | <?php esc\_html\_e('Try plugin for managing and BULK edit WooCommerce Products data in robust and flexible way', 'woocommerce-products-filter') ?>: <a href="<?php echo ~~network\_admin\_url('plugin-install.php?tab=plugin-information'~~) ?>&amp;plugin=woo-bulk-editor&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal" aria-label="HUSKY team recommends" data-title="BEAR">BEAR - WooCommerce Bulk Editor Professional</a>. |
  | 145 |  | <a href="<?php echo ~~network\_admin\_url('plugin-install.php?tab=plugin-information'~~) ?>&amp;plugin=woo-bulk-editor&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal button" aria-label="More information about BEAR" data-title="BEAR" id="woof\_alert\_install\_button\_woobe"><?php esc\_html\_e('Install', 'woocommerce-products-filter') ?></a> |
  | 146 |  | <a class="install-now button" data-slug="woo-bulk-editor" href="<?php echo ~~network\_admin\_url('update.php?action=install-plugin') ?>&amp;plugin=woo-bulk-editor&amp;\_wpnonce=<?php echo wp\_create\_nonce('install-plugin-woo-bulk-editor'~~) ?>" aria-label="Install woocommerce bulk editor now" data-name="Woocommerce bulk editor" style="display:none"><?php esc\_html\_e('Install Now', 'woocommerce-products-filter') ?></a> |
  |  | 144 | <?php esc\_html\_e('Try plugin for managing and BULK edit WooCommerce Products data in robust and flexible way', 'woocommerce-products-filter') ?>: <a href="<?php echo esc\_url(network\_admin\_url('plugin-install.php?tab=plugin-information')) ?>&amp;plugin=woo-bulk-editor&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal" aria-label="HUSKY team recommends" data-title="BEAR">BEAR - WooCommerce Bulk Editor Professional</a>. |
  |  | 145 | <a href="<?php echo esc\_url(network\_admin\_url('plugin-install.php?tab=plugin-information')) ?>&amp;plugin=woo-bulk-editor&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal button" aria-label="More information about BEAR" data-title="BEAR" id="woof\_alert\_install\_button\_woobe"><?php esc\_html\_e('Install', 'woocommerce-products-filter') ?></a> |
  |  | 146 | <a class="install-now button" data-slug="woo-bulk-editor" href="<?php echo esc\_url(network\_admin\_url('update.php?action=install-plugin')) ?>&amp;plugin=woo-bulk-editor&amp;\_wpnonce=<?php echo esc\_attr(wp\_create\_nonce('install-plugin-woo-bulk-editor')) ?>" aria-label="Install woocommerce bulk editor now" data-name="Woocommerce bulk editor" style="display:none"><?php esc\_html\_e('Install Now', 'woocommerce-products-filter') ?></a> |
  | 147 | 147 | </p> |
  | 148 | 148 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L159) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324#L159) |  |
  | 159 | 159 | action: 'woof\_dismiss\_alert', |
  | 160 | 160 | alert: 'woocommerce\_bulk\_editor', |
  | 161 |  | sec: <?php echo ~~wp\_create\_nonce('woof\_dissmiss\_alert'~~) ?> |
  |  | 161 | sec: <?php echo esc\_attr(wp\_create\_nonce('woof\_dissmiss\_alert')) ?> |
  | 162 | 162 | }); |
  | 163 | 163 | }); |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L187) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324#L187) |  |
  | 187 | 187 | <div class="notice notice-info is-dismissible" id="woof\_alert\_woot" style="display: none;"> |
  | 188 | 188 | <p class="plugin-card-profit-products-tables-for-woocommerce" <?php if ($screen->id != 'plugin-install'): ?>id="plugin-woot"<?php endif; ?>> |
  | 189 |  | <?php esc\_html\_e('Try HUSKY compatible plugin for displaying your WooCommerce shop products in table format', 'woocommerce-products-filter') ?>: <a href="<?php echo ~~network\_admin\_url('plugin-install.php?tab=plugin-information'~~) ?>&amp;plugin=profit-products-tables-for-woocommerce&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal" aria-label="HUSKY team recommends" data-title="WOOT">WOOT - Active Products Tables for WooCommerce</a>. |
  | 190 |  | <a href="<?php echo ~~network\_admin\_url('plugin-install.php?tab=plugin-information'~~) ?>&amp;plugin=profit-products-tables-for-woocommerce&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal button" aria-label="More information about WOOT" data-title="WOOT" id="woof\_alert\_install\_button\_woot"><?php esc\_html\_e('Install', 'woocommerce-products-filter') ?></a> |
  | 191 |  | <a class="install-now button" data-slug="woot-products-tables" href="<?php echo ~~network\_admin\_url('update.php?action=install-plugin') ?>&amp;plugin=profit-products-tables-for-woocommerce&amp;\_wpnonce=<?php echo wp\_create\_nonce('install-plugin-woot-products-tables'~~) ?>" aria-label="Install woot now" data-name="Woocommerce woot" style="display:none"><?php esc\_html\_e('Install Now', 'woocommerce-products-filter') ?></a> |
  |  | 189 | <?php esc\_html\_e('Try HUSKY compatible plugin for displaying your WooCommerce shop products in table format', 'woocommerce-products-filter') ?>: <a href="<?php echo esc\_url(network\_admin\_url('plugin-install.php?tab=plugin-information')) ?>&amp;plugin=profit-products-tables-for-woocommerce&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal" aria-label="HUSKY team recommends" data-title="WOOT">WOOT - Active Products Tables for WooCommerce</a>. |
  |  | 190 | <a href="<?php echo esc\_url(network\_admin\_url('plugin-install.php?tab=plugin-information')) ?>&amp;plugin=profit-products-tables-for-woocommerce&amp;TB\_iframe=true&amp;width=600&amp;height=550" class="thickbox open-plugin-details-modal button" aria-label="More information about WOOT" data-title="WOOT" id="woof\_alert\_install\_button\_woot"><?php esc\_html\_e('Install', 'woocommerce-products-filter') ?></a> |
  |  | 191 | <a class="install-now button" data-slug="woot-products-tables" href="<?php echo esc\_url(network\_admin\_url('update.php?action=install-plugin')) ?>&amp;plugin=profit-products-tables-for-woocommerce&amp;\_wpnonce=<?php echo esc\_attr(wp\_create\_nonce('install-plugin-woot-products-tables')) ?>" aria-label="Install woot now" data-name="Woocommerce woot" style="display:none"><?php esc\_html\_e('Install Now', 'woocommerce-products-filter') ?></a> |
  | 192 | 192 | </p> |
  | 193 | 193 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3045600#L204) | […](/browser/woocommerce-products-filter/trunk/classes/alert.php?rev=3093324#L204) |  |
  | 204 | 204 | action: 'woof\_dismiss\_alert', |
  | 205 | 205 | alert: 'woot\_products\_tables', |
  | 206 |  | sec: <?php echo ~~wp\_create\_nonce('woof\_dissmiss\_alert'~~) ?> |
  |  | 206 | sec: <?php echo esc\_attr(wp\_create\_nonce('woof\_dissmiss\_alert')) ?> |
  | 207 | 207 | }); |
  | 208 | 208 | }); |
* ## [woocommerce-products-filter/trunk/classes/helper.php](/changeset/3093324/woocommerce-products-filter/trunk/classes/helper.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/classes/helper.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L32 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L32 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | if (is\_string($value)) { |
  | 33 | 33 | if ($echo) { |
  | 34 |  | echo ~~sanitize\_text\_field(esc\_html($value)~~); |
  |  | 34 | echo esc\_html($value); |
  | 35 | 35 | } else { |
  | 36 | 36 | return sanitize\_text\_field(esc\_html($value)); |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L56) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L56) |  |
  | 56 | 56 | $is\_textarea = array('init\_only\_on', 'custom\_css\_code', 'js\_after\_ajax\_done'); |
  | 57 | 57 | $is\_js = array(); |
  | 58 |  |  |
  | 59 |  | ~~$potential\_html = array\_intersect\_key(woof()->settings,array\_flip(['result\_count\_redraw',~~'order\_dropdown\_redraw', 'per\_page\_redraw'])); |
  | 60 |  | ~~$is\_html = array\_merge($is\_html ,~~array\_filter(array\_values($potential\_html))); |
  |  | 58 |  |
  |  | 59 | $potential\_html = array\_intersect\_key(woof()->settings, array\_flip(['result\_count\_redraw', 'order\_dropdown\_redraw', 'per\_page\_redraw'])); |
  |  | 60 | $is\_html = array\_merge($is\_html, array\_filter(array\_values($potential\_html))); |
  | 61 | 61 |  |
  | 62 | 62 | if (is\_array($array) && !empty($array)) { |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L134) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L134) |  |
  | 134 | 134 |  |
  | 135 | 135 | //\*\*\* |
  | 136 |  | if (isset(woof()->settings['cache\_terms']) AND ~~woof()->settings['cache\_terms']~~ == 1) { |
  |  | 136 | if (isset(woof()->settings['cache\_terms']) AND intval(woof()->settings['cache\_terms']) === 1) { |
  | 137 | 137 | $cache\_key = 'woof\_terms\_cache\_' . md5($taxonomy . '-' . (int) $hide\_empty . '-' . (int) $get\_childs . '-' . (int) $selected . '-' . (int) $category\_parent . '-' . $lang\_key); |
  | 138 | 138 | if (false !== ( $cats = get\_transient($cache\_key) )) { |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L206) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L206) |  |
  | 206 | 206 |  |
  | 207 | 207 | //\*\*\* |
  | 208 |  | if (isset(woof()->settings['cache\_terms']) AND ~~woof()->settings['cache\_terms']~~ == 1) { |
  |  | 208 | if (isset(woof()->settings['cache\_terms']) AND intval(woof()->settings['cache\_terms']) === 1) { |
  | 209 | 209 | $period = 0; |
  | 210 | 210 |  |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L329) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L329) |  |
  | 329 | 329 | } |
  | 330 | 330 |  |
  | 331 |  | return ~~$string~~; |
  |  | 331 | return apply\_filters('woof\_filter\_title', $string, $taxonomy\_info, $index); |
  | 332 | 332 | } |
  | 333 | 333 |  |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L582) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L582) |  |
  | 582 | 582 | continue; |
  | 583 | 583 | } |
  | 584 |  |  |
  |  | 584 |  |
  | 585 | 585 | //\*\*\* |
  | 586 | 586 | $r[$key] = $value; |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L590) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L590) |  |
  | 590 | 590 | $rc[$key] = 0; |
  | 591 | 591 | } |
  | 592 |  |  |
  | 593 | 592 | } |
  | 594 | 593 | $\_GET = WOOF\_HELPER::sanitize\_array($get); |
  | 595 |  |  |
  |  | 594 |  |
  | 596 | 595 | $ranges['options'] = $r; |
  | 597 | 596 | $ranges['count'] = $rc; |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L857) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L856) |  |
  | 857 | 856 | if (isset($\_GET['woof\_hide\_notice']) && isset($\_GET['\_wpnonce'])) { |
  | 858 | 857 | if (!wp\_verify\_nonce($\_GET['\_wpnonce'])) { |
  | 859 |  | wp\_die(\_\_('Action failed. Please refresh the page and retry.', 'woocommerce-products-filter')); |
  |  | 858 | wp\_die(esc\_html\_\_('Action failed. Please refresh the page and retry.', 'woocommerce-products-filter')); |
  | 860 | 859 | } |
  | 861 | 860 |  |
  | 862 | 861 | if (!current\_user\_can('manage\_woocommerce')) { |
  | 863 |  | wp\_die(\_\_('Cheatin&#8217; huh?', 'woocommerce-products-filter')); |
  |  | 862 | wp\_die(esc\_html\_\_('Cheatin&#8217; huh?', 'woocommerce-products-filter')); |
  | 864 | 863 | } |
  | 865 | 864 |  |
  | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3020561#L1125) | […](/browser/woocommerce-products-filter/trunk/classes/helper.php?rev=3093324#L1124) |  |
  | 1125 | 1124 | return apply\_filters('woof\_generate\_container\_css\_classes', $section\_key); |
  | 1126 | 1125 | } |
  | 1127 |  |  |
  | 1128 | 1126 | } |
* ## [woocommerce-products-filter/trunk/classes/rate\_alert.php](/changeset/3093324/woocommerce-products-filter/trunk/classes/rate_alert.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/classes/rate_alert.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3045600#L46 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3093324#L46 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 46 | 46 | <div style="background: #fff; padding: 15px; border-radius: 4px;" id="woof\_rate\_alert"> |
  | 47 | 47 | <p class="plugin-card-woocommerce-products-filter"> |
  | 48 |  | <?php printf("Hi, looks like you using <b>HUSKY - Products Filter for WooCommerce</b> for some time and I hope this software helped you with your business. If you satisfied with the plugin functionality, could you please give us BIG favor and give it a 5-star rating to help us spread the word and boost our motivation?<br /><br /><strong>~ PluginUs.NET developers team</strong>", "<a href='~~{$support\_link}' target='\_blank'>" .~~ \_\_('support', 'woocommerce-products-filter') . "</a>") ?> |
  |  | 48 | <?php printf("Hi, looks like you using <b>HUSKY - Products Filter for WooCommerce</b> for some time and I hope this software helped you with your business. If you satisfied with the plugin functionality, could you please give us BIG favor and give it a 5-star rating to help us spread the word and boost our motivation?<br /><br /><strong>~ PluginUs.NET developers team</strong>", "<a href='" . esc\_url($support\_link) . "' target='\_blank'>" . esc\_html\_\_('support', 'woocommerce-products-filter') . "</a>") ?> |
  | 49 | 49 | </p> |
  | 50 | 50 |  |
  | […](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3045600#L61) | […](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3093324#L61) |  |
  | 61 | 61 | <tr> |
  | 62 | 62 | <td style="width: 33%; text-align: left;"> |
  | 63 |  | <a href="javascript: woof\_manage\_alert(0);void(0);" class="button button-large dashicons-before dashicons-clock">&nbsp;<?php echo \_\_('Nope, maybe later!', 'woocommerce-products-filter') ?></a> |
  |  | 63 | <a href="javascript: woof\_manage\_alert(0);void(0);" class="button button-large dashicons-before dashicons-clock">&nbsp;<?php echo esc\_html\_\_('Nope, maybe later!', 'woocommerce-products-filter') ?></a> |
  | 64 | 64 | </td> |
  | 65 | 65 |  |
  | 66 | 66 | <td style="width: 33%; text-align: center;"> |
  | 67 |  | <a href="<?~~= $link ?>" target="\_blank" class="woof-panel-button dashicons-before dashicons-star-filled">&nbsp;<?php echo~~ \_\_('Ok, you deserve it', 'woocommerce-products-filter') ?></a> |
  |  | 67 | <a href="<?php echo esc\_url($link) ?>" target="\_blank" class="woof-panel-button dashicons-before dashicons-star-filled">&nbsp;<?php echo esc\_html\_\_('Ok, you deserve it', 'woocommerce-products-filter') ?></a> |
  | 68 | 68 | </td> |
  | 69 | 69 |  |
  | 70 | 70 | <td style="width: 33%; text-align: right;"> |
  | 71 |  | <a href="javascript: woof\_manage\_alert(1);void(0);" class="button button-large dashicons-before dashicons-thumbs-up">&nbsp;<?php echo \_\_('Thank you, I did it!', 'woocommerce-products-filter') ?></a> |
  |  | 71 | <a href="javascript: woof\_manage\_alert(1);void(0);" class="button button-large dashicons-before dashicons-thumbs-up">&nbsp;<?php echo esc\_html\_\_('Thank you, I did it!', 'woocommerce-products-filter') ?></a> |
  | 72 | 72 | </td> |
  | 73 | 73 | </tr> |
  | […](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3045600#L83) | […](/browser/woocommerce-products-filter/trunk/classes/rate_alert.php?rev=3093324#L83) |  |
  | 83 | 83 | action: "woof\_manage\_alert", |
  | 84 | 84 | value: value, |
  | 85 |  | sec: <?php echo ~~wp\_create\_nonce('woof\_dissmiss\_alert'~~) ?> |
  |  | 85 | sec: <?php echo esc\_attr(wp\_create\_nonce('woof\_dissmiss\_alert')) ?> |
  | 86 | 86 | }, function (data) { |
  | 87 | 87 | console.log(data); |
* ## [woocommerce-products-filter/trunk/css/front.css](/changeset/3093324/woocommerce-products-filter/trunk/css/front.css "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/css/front.css")

  | [r3020561](/browser/woocommerce-products-filter/trunk/css/front.css?rev=3020561#L1238 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/css/front.css?rev=3093324#L1238 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 1238 | 1238 | min-width: 200px; |
  | 1239 | 1239 | } |
  |  | 1240 |  |
  |  | 1241 | .woof\_redraw\_zone.woof\_blur\_redraw\_zone{ |
  |  | 1242 | position: relative; |
  |  | 1243 | filter: blur(12px); |
  |  | 1244 | background-image: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5) 50%, transparent 100%), linear-gradient(#DDD 100%, transparent 0); |
  |  | 1245 | background-repeat: no-repeat; |
  |  | 1246 | background-size: 75px 100%, 100% 100%, 100% 16px, 100% 30px; |
  |  | 1247 | background-position: -185px 0, center 0, center 115px, center 142px; |
  |  | 1248 | box-sizing: border-box; |
  |  | 1249 | animation: woof-animloader 1.3s ease-in-out infinite; |
  |  | 1250 | } |
  |  | 1251 |  |
  |  | 1252 | @keyframes woof-animloader { |
  |  | 1253 | to { |
  |  | 1254 | background-position: 100% 0, center 0, center 115px, center 142px; |
  |  | 1255 | } |
  |  | 1256 | } |
* ## [woocommerce-products-filter/trunk/ext/acf\_filter/classes/woof\_type\_acf\_filter.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/acf_filter/classes/woof_type_acf_filter.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/acf_filter/classes/woof_type_acf_filter.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/acf_filter/classes/woof_type_acf_filter.php?rev=3020561#L51 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/acf_filter/classes/woof_type_acf_filter.php?rev=3093324#L51 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 51 | 51 | <span class="icon-arrow-combo help\_tip woof\_drag\_and\_drope" data-tip="<?php esc\_html\_e("drag and drop", 'woocommerce-products-filter'); ?>"></span> |
  | 52 | 52 |  |
  | 53 |  | <strong class="woof\_fix1"><?php echo esc\_html($this->type\_options['title']) . " (" . ~~$this->type\_options['group\_name']~~ . ")" ?>:</strong> |
  |  | 53 | <strong class="woof\_fix1"><?php echo esc\_html($this->type\_options['title']) . " (" . esc\_html($this->type\_options['group\_name']) . ")" ?>:</strong> |
  | 54 | 54 |  |
  | 55 | 55 |  |
* ## [woocommerce-products-filter/trunk/ext/acf\_filter/html\_types/radio/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/acf_filter/html_types/radio/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/acf_filter/html_types/radio/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/radio/views/woof.php?rev=3020561#L112 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/radio/views/woof.php?rev=3093324#L112 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 112 | 112 | } |
  | 113 | 113 | ?> |
  | 114 |  | <div data-css-class="woof\_acf\_radio\_container" class="woof\_acf\_radio\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr($meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 114 | <div data-css-class="woof\_acf\_radio\_container" class="woof\_acf\_radio\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr($meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 115 | 115 | <div class="woof\_container\_inner"> |
  | 116 | 116 | <div class="woof\_container\_inner woof\_container\_inner\_acf\_radio"> |
* ## [woocommerce-products-filter/trunk/ext/acf\_filter/html\_types/select/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/acf_filter/html_types/select/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/acf_filter/html_types/select/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/select/views/woof.php?rev=3020561#L115 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/select/views/woof.php?rev=3093324#L115 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 115 | 115 | } |
  | 116 | 116 | ?> |
  | 117 |  | <div data-css-class="woof\_acf\_select\_container" class="woof\_acf\_select\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr( $meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 117 | <div data-css-class="woof\_acf\_select\_container" class="woof\_acf\_select\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr( $meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 118 | 118 | <div class="woof\_container\_inner"> |
  | 119 | 119 | <div class="woof\_container\_inner woof\_container\_inner\_meta\_select"> |
* ## [woocommerce-products-filter/trunk/ext/acf\_filter/html\_types/true\_false/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/acf_filter/html_types/true_false/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/acf_filter/html_types/true_false/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/true_false/views/woof.php?rev=3020561#L55 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/acf_filter/html_types/true_false/views/woof.php?rev=3093324#L55 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 55 | 55 | ?> |
  | 56 | 56 | <?php if ($show): ?> |
  | 57 |  | <div data-css-class="woof\_acf\_checkbox\_container" class="woof\_acf\_checkbox\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 57 | <div data-css-class="woof\_acf\_checkbox\_container" class="woof\_acf\_checkbox\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 58 | 58 | <div class="woof\_container\_overlay\_item"></div> |
  | 59 | 59 | <div class="woof\_container\_inner"> |
* ## [woocommerce-products-filter/trunk/ext/by\_author/views/shortcodes/woof\_author\_filter.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_author/views/shortcodes/woof_author_filter.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_author/views/shortcodes/woof_author_filter.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_author/views/shortcodes/woof_author_filter.php?rev=3020561#L1 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_author/views/shortcodes/woof_author_filter.php?rev=3093324#L1 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php if (!defined('ABSPATH')) die('No direct access allowed'); ?> |
  | 2 | 2 | <?php  ?> |
  | 3 |  | <div data-css-class="woof\_author\_search\_container" class="woof\_author\_search\_container woof\_container woof\_container\_woof\_author <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_author'~~) ?>"> |
  |  | 3 | <div data-css-class="woof\_author\_search\_container" class="woof\_author\_search\_container woof\_container woof\_container\_woof\_author <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_author')) ?>"> |
  | 4 | 4 | <div class="woof\_container\_overlay\_item"></div> |
  | 5 | 5 | <div class="woof\_container\_inner"> |
* ## [woocommerce-products-filter/trunk/ext/by\_featured/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_featured/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_featured/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_featured/views/woof.php?rev=3020561#L7 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_featured/views/woof.php?rev=3093324#L7 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | if (isset(woof()->settings['by\_featured']) AND woof()->settings['by\_featured']['show']) { |
  | 8 | 8 | ?> |
  | 9 |  | <div data-css-class="woof\_checkbox\_featured\_container" class="woof\_checkbox\_featured\_container woof\_container woof\_container\_product\_visibility <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_featured'~~) ?>"> |
  |  | 9 | <div data-css-class="woof\_checkbox\_featured\_container" class="woof\_checkbox\_featured\_container woof\_container woof\_container\_product\_visibility <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_featured')) ?>"> |
  | 10 | 10 | <div class="woof\_container\_overlay\_item"></div> |
  | 11 | 11 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_featured/views/woof.php?rev=3020561#L17) | […](/browser/woocommerce-products-filter/trunk/ext/by_featured/views/woof.php?rev=3093324#L17) |  |
  | 17 | 17 | <div class="switcher23-container"> |
  | 18 | 18 |  |
  | 19 |  | <input type="checkbox" class="woof\_checkbox\_featured\_as\_switcher switcher23" id="<?php echo ~~$unique\_id~~ ?>" name="product\_visibility" value="0" <?php checked('featured', woof()->is\_isset\_in\_request\_data('product\_visibility') ? 'featured' : '', true) ?> /> |
  |  | 19 | <input type="checkbox" class="woof\_checkbox\_featured\_as\_switcher switcher23" id="<?php echo esc\_attr($unique\_id) ?>" name="product\_visibility" value="0" <?php checked('featured', woof()->is\_isset\_in\_request\_data('product\_visibility') ? 'featured' : '', true) ?> /> |
  | 20 | 20 |  |
  | 21 |  | <label for="<?php echo ~~$unique\_id~~ ?>" class="switcher23-toggle"> |
  |  | 21 | <label for="<?php echo esc\_attr($unique\_id) ?>" class="switcher23-toggle"> |
  | 22 | 22 | <div class="switcher23-title2"><?php esc\_html\_e($woof\_ext\_featured\_label) ?></div> |
  | 23 | 23 | <span></span> |
* ## [woocommerce-products-filter/trunk/ext/by\_instock/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_instock/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3020561#L9 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3093324#L9 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 | $unique\_id = uniqid('woof\_checkbox\_instock-'); |
  | 10 | 10 | ?> |
  | 11 |  | <div data-css-class="woof\_checkbox\_instock\_container" class="woof\_checkbox\_instock\_container woof\_container woof\_container\_stock <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_instock'~~) ?>"> |
  |  | 11 | <div data-css-class="woof\_checkbox\_instock\_container" class="woof\_checkbox\_instock\_container woof\_container woof\_container\_stock <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_instock')) ?>"> |
  | 12 | 12 | <div class="woof\_container\_overlay\_item"></div> |
  | 13 | 13 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3020561#L15) | […](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3093324#L15) |  |
  | 15 | 15 | <div class="switcher23-container"> |
  | 16 | 16 |  |
  | 17 |  | <input type="checkbox" class="woof\_checkbox\_instock\_as\_switcher switcher23" id="<?php echo ~~$unique\_id~~ ?>" name="stock" value="0" <?php checked('instock', woof()->is\_isset\_in\_request\_data('stock') ? 'instock' : '', true) ?> /> |
  |  | 17 | <input type="checkbox" class="woof\_checkbox\_instock\_as\_switcher switcher23" id="<?php echo esc\_attr($unique\_id) ?>" name="stock" value="0" <?php checked('instock', woof()->is\_isset\_in\_request\_data('stock') ? 'instock' : '', true) ?> /> |
  | 18 | 18 |  |
  | 19 |  | <label for="<?php echo ~~$unique\_id~~ ?>" class="switcher23-toggle"> |
  |  | 19 | <label for="<?php echo esc\_attr($unique\_id) ?>" class="switcher23-toggle"> |
  | 20 | 20 | <div class="switcher23-title2"><?php esc\_html\_e($woof\_ext\_instock\_label) ?></div> |
  | 21 | 21 | <span></span> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3020561#L28) | […](/browser/woocommerce-products-filter/trunk/ext/by_instock/views/woof.php?rev=3093324#L28) |  |
  | 28 | 28 | } else { |
  | 29 | 29 | ?> |
  | 30 |  | <div data-css-class="woof\_checkbox\_instock\_container" class="woof\_checkbox\_instock\_container woof\_container woof\_container\_stock <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_instock'~~) ?>"> |
  |  | 30 | <div data-css-class="woof\_checkbox\_instock\_container" class="woof\_checkbox\_instock\_container woof\_container woof\_container\_stock <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_instock')) ?>"> |
  | 31 | 31 | <div class="woof\_container\_overlay\_item"></div> |
  | 32 | 32 | <div class="woof\_container\_inner"> |
* ## [woocommerce-products-filter/trunk/ext/by\_onsales/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_onsales/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_onsales/index.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_onsales/index.php?rev=3020561#L14 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_onsales/index.php?rev=3093324#L14 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | parent::\_\_construct(); |
  | 15 | 15 | $this->init(); |
  |  | 16 | add\_action('wp\_head', array($this, 'wp\_head')); |
  | 16 | 17 | } |
  | 17 |  |  |
  | 18 |  | public function get\_ext\_path() { |
  |  | 18 | public function wp\_head (){ |
  |  | 19 | self::$includes['js\_lang\_custom'][$this->index] = apply\_filters('woof\_ext\_custom\_title\_by\_onsales', esc\_html\_\_('On sale', 'woocommerce-products-filter')); |
  |  | 20 | } |
  |  | 21 | public function get\_ext\_path() { |
  | 19 | 22 | return plugin\_dir\_path(\_\_FILE\_\_); |
  | 20 | 23 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_onsales/index.php?rev=3020561#L41) | […](/browser/woocommerce-products-filter/trunk/ext/by_onsales/index.php?rev=3093324#L44) |  |
  | 41 | 44 | self::$includes['css']['woof\_' . $this->html\_type . '\_html\_items'] = $this->get\_ext\_link() . 'css/' . $this->html\_type . '.css'; |
  | 42 | 45 | self::$includes['js\_init\_functions'][$this->html\_type] = 'woof\_init\_onsales'; |
  | 43 |  | self::$includes['js\_lang\_custom'][$this->index] = ~~esc\_html\_\_('On sale', 'woocommerce-products-filter'~~); |
  |  | 46 | self::$includes['js\_lang\_custom'][$this->index] = apply\_filters('woof\_ext\_custom\_title\_by\_onsales', esc\_html\_\_('On sale', 'woocommerce-products-filter')); |
  | 44 | 47 |  |
  | 45 | 48 | add\_filter('woof\_dynamic\_count\_attr', array($this, 'dynamic\_recount'), 30, 2); |
* ## [woocommerce-products-filter/trunk/ext/by\_onsales/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php?rev=3020561#L42 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php?rev=3093324#L42 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 | } |
  | 43 | 43 | ?> |
  | 44 |  | <div data-css-class="woof\_checkbox\_sales\_container" class="woof\_checkbox\_sales\_container woof\_container woof\_container\_onsales <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_onsales'~~) ?>"> |
  |  | 44 | <div data-css-class="woof\_checkbox\_sales\_container" class="woof\_checkbox\_sales\_container woof\_container woof\_container\_onsales <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_onsales')) ?>"> |
  | 45 | 45 | <div class="woof\_container\_overlay\_item"></div> |
  | 46 | 46 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php?rev=3020561#L53) | […](/browser/woocommerce-products-filter/trunk/ext/by_onsales/views/woof.php?rev=3093324#L53) |  |
  | 53 | 53 | <div class="switcher23-container"> |
  | 54 | 54 |  |
  | 55 |  | <input type="checkbox" class="woof\_checkbox\_sales\_as\_switcher switcher23" id="<?php echo ~~$unique\_id~~ ?>" name="sales" value="0" <?php checked('salesonly', woof()->is\_isset\_in\_request\_data('onsales') ? 'salesonly' : '', true) ?> /> |
  |  | 55 | <input type="checkbox" class="woof\_checkbox\_sales\_as\_switcher switcher23" id="<?php echo esc\_attr($unique\_id) ?>" name="sales" value="0" <?php checked('salesonly', woof()->is\_isset\_in\_request\_data('onsales') ? 'salesonly' : '', true) ?> /> |
  | 56 | 56 |  |
  | 57 |  | <label for="<?php echo ~~$unique\_id~~ ?>" class="switcher23-toggle"> |
  | 58 |  | <div class="switcher23-title2"><?php echo esc\_html\_\_($woof\_ext\_onsales\_label) . ' ' .~~$count\_string~~ ?></div> |
  |  | 57 | <label for="<?php echo esc\_attr($unique\_id) ?>" class="switcher23-toggle"> |
  |  | 58 | <div class="switcher23-title2"><?php echo esc\_html\_\_($woof\_ext\_onsales\_label) . ' ' .wp\_kses\_post(wp\_unslash( $count\_string ))?></div> |
  | 59 | 59 | <span></span> |
  | 60 | 60 | </label> |
* ## [woocommerce-products-filter/trunk/ext/by\_rating/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_rating/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_rating/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_rating/views/woof.php?rev=3020561#L10 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_rating/views/woof.php?rev=3093324#L10 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | } |
  | 11 | 11 | ?> |
  | 12 |  | <div data-css-class="woof\_by\_rating\_container" class="woof\_by\_rating\_container woof\_container <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_rating'~~) ?>"> |
  |  | 12 | <div data-css-class="woof\_by\_rating\_container" class="woof\_by\_rating\_container woof\_container <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_rating')) ?>"> |
  | 13 | 13 | <div class="woof\_container\_overlay\_item"></div> |
  | 14 | 14 | <?php |
* ## [woocommerce-products-filter/trunk/ext/by\_text/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_text/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_text/index.php")

  | [r3051027](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3051027#L721 "Show revision 3051027 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3093324#L721 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 721 | 721 | } |
  | 722 | 722 | $word = $wpdb->esc\_like($term); |
  | 723 |  | if (isset($this->options['search\_by\_full\_word']) && ~~$this->options['search\_by\_full\_word']~~ == 1) { |
  |  | 723 | if (isset($this->options['search\_by\_full\_word']) && intval($this->options['search\_by\_full\_word']) === 1) { |
  | 724 | 724 | $search\_type = ' RLIKE '; |
  | 725 | 725 | $like = '[[:<:]]' . $wpdb->esc\_like($term) . '[[:>:]]'; |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3051027#L748) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3093324#L748) |  |
  | 748 | 748 | if (1 == $search\_on\_vardesc) { |
  | 749 | 749 |  |
  | 750 |  | if (isset($this->options['use\_cache']) && ~~(int) $this->options['use\_cache']~~ == 1) { |
  |  | 750 | if (isset($this->options['use\_cache']) && intval($this->options['use\_cache']) === 1) { |
  | 751 | 751 | $use\_cache = true; |
  | 752 | 752 | } else { |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3051027#L768) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3093324#L768) |  |
  | 768 | 768 | } |
  | 769 | 769 | $word = $wpdb->esc\_like($term); |
  | 770 |  | if (isset($this->options['search\_by\_full\_word']) && ~~$this->options['search\_by\_full\_word']~~ == 1) { |
  |  | 770 | if (isset($this->options['search\_by\_full\_word']) && intval($this->options['search\_by\_full\_word']) === 1) { |
  | 771 | 771 | $search\_type = ' RLIKE '; |
  | 772 | 772 | $like = '[[:<:]]' . $wpdb->esc\_like($term) . '[[:>:]]'; |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3051027#L843) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/index.php?rev=3093324#L843) |  |
  | 843 | 843 | } |
  | 844 | 844 |  |
  | 845 |  | if (isset($options['use\_cache']) && ~~(int) $options['use\_cache']~~ == 1) { |
  |  | 845 | if (isset($options['use\_cache']) && intval($options['use\_cache']) === 1) { |
  | 846 | 846 | $options['use\_cache'] = true; |
  | 847 | 847 | } else { |
* ## [woocommerce-products-filter/trunk/ext/by\_text/views/options.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_text/views/options.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_text/views/options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text/views/options.php?rev=3020561#L115 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_text/views/options.php?rev=3093324#L115 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 115 | 115 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][sku\_compatibility]" value="<?php echo intval($woof\_settings[$key]['sku\_compatibility']) ?>" /> |
  | 116 | 116 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])); ?>" /> |
  | 117 |  | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][template]" value="<?php echo ~~stripcslashes(esc\_html($woof\_settings[$key]['template'])~~); ?>" /> |
  |  | 117 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][template]" value="<?php echo esc\_html($woof\_settings[$key]['template']); ?>" /> |
  | 118 | 118 |  |
  | 119 | 119 | <div id="woof-modal-content-by\_text" style="display: none;"> |
* ## [woocommerce-products-filter/trunk/ext/by\_text/views/shortcodes/woof\_text\_filter.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3045600#L5 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3093324#L5 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | $search\_id = uniqid('woof\_txt\_search'); |
  | 6 | 6 | ?> |
  | 7 |  | <div data-css-class="woof\_text\_search\_container" class="woof\_text\_search\_container woof\_container woof\_container\_woof\_text <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_text'~~) ?>"> |
  |  | 7 | <div data-css-class="woof\_text\_search\_container" class="woof\_text\_search\_container woof\_container woof\_container\_woof\_text <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_text')) ?>"> |
  | 8 | 8 | <div class="woof\_container\_overlay\_item"></div> |
  | 9 | 9 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3045600#L33) | […](/browser/woocommerce-products-filter/trunk/ext/by_text/views/shortcodes/woof_text_filter.php?rev=3093324#L33) |  |
  | 33 | 33 |  |
  | 34 | 34 | <?php if (isset($data['notes\_for\_customer']) AND!empty($data['notes\_for\_customer'])): ?> |
  | 35 |  | <span class="woof\_text\_notes\_for\_customer"><?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash($data['notes\_for\_customer'])~~)); ?></span> |
  |  | 35 | <span class="woof\_text\_notes\_for\_customer"><?php echo wp\_kses\_post(wp\_unslash($data['notes\_for\_customer'])); ?></span> |
  | 36 | 36 | <?php endif; ?> |
  | 37 |  | <input type="hidden" class="woof\_text\_search\_nonce" value="<?php echo ~~wp\_create\_nonce('text\_search\_nonce'~~)?>"> |
  |  | 37 | <input type="hidden" class="woof\_text\_search\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('text\_search\_nonce'))?>"> |
  | 38 | 38 | </div> |
  | 39 | 39 | </div> |
* ## [woocommerce-products-filter/trunk/ext/by\_text\_2/views/options.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_text_2/views/options.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_text_2/views/options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/options.php?rev=3020561#L81 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/options.php?rev=3093324#L81 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 81 | 81 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][how\_to\_open\_links]" value="<?php echo intval($woof\_settings[$key]['how\_to\_open\_links']) ?>" /> |
  | 82 | 82 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][sku\_compatibility]" value="<?php echo intval($woof\_settings[$key]['sku\_compatibility']) ?>" /> |
  | 83 |  | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])~~)); ?>" /> |
  |  | 83 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])); ?>" /> |
  | 84 | 84 |  |
  | 85 | 85 | <div id="woof-modal-content-by\_text\_2" style="display: none;"> |
* ## [woocommerce-products-filter/trunk/ext/by\_text\_2/views/shortcodes/woof\_text\_filter.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3045600#L1 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3093324#L1 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php if (!defined('ABSPATH')) die('No direct access allowed'); ?> |
  | 2 |  | <div data-css-class="woof\_text\_search\_container" class="woof\_text\_search\_container woof\_container woof\_container\_woof\_text <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_text\_2'~~) ?>"> |
  |  | 2 | <div data-css-class="woof\_text\_search\_container" class="woof\_text\_search\_container woof\_container woof\_container\_woof\_text <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_text\_2')) ?>"> |
  | 3 | 3 | <div class="woof\_container\_overlay\_item"></div> |
  | 4 | 4 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3045600#L38) | […](/browser/woocommerce-products-filter/trunk/ext/by_text_2/views/shortcodes/woof_text_filter.php?rev=3093324#L38) |  |
  | 38 | 38 |  |
  | 39 | 39 | <?php if (isset(woof()->settings['by\_text\_2']['notes\_for\_customer']) AND!empty(woof()->settings['by\_text\_2']['notes\_for\_customer'])): ?> |
  | 40 |  | <span class="woof\_text\_notes\_for\_customer"><?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash(woof()->settings['by\_text\_2']['notes\_for\_customer'])~~)); ?></span> |
  |  | 40 | <span class="woof\_text\_notes\_for\_customer"><?php echo wp\_kses\_post(wp\_unslash(woof()->settings['by\_text\_2']['notes\_for\_customer'])); ?></span> |
  | 41 | 41 | <?php endif; ?> |
  | 42 |  | <input type="hidden" class="woof\_text\_search\_nonce" value="<?php echo ~~wp\_create\_nonce('text\_search\_nonce'~~)?>"> |
  |  | 42 | <input type="hidden" class="woof\_text\_search\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('text\_search\_nonce'))?>"> |
  | 43 | 43 | </div> |
  | 44 | 44 |  |
* ## [woocommerce-products-filter/trunk/ext/export\_import/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/export_import/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/export_import/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=3045600#L76 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/export_import/index.php?rev=3093324#L76 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 76 | 76 | die(json\_encode(array())); |
  | 77 | 77 | } |
  | 78 |  |  |
  | 79 |  | die($this->get\_all\_options()); |
  |  | 78 |  |
  |  | 79 | $data = json\_decode($this->get\_all\_options()); |
  |  | 80 |  |
  |  | 81 | wp\_send\_json($data); |
  |  | 82 |  |
  |  | 83 | //die(); |
  | 80 | 84 | } |
  | 81 | 85 |  |
* ## [woocommerce-products-filter/trunk/ext/export\_import/js/admin.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/export_import/js/admin.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/export_import/js/admin.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/export_import/js/admin.js?rev=3020561#L7 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/export_import/js/admin.js?rev=3093324#L7 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | }; |
  | 8 | 8 | jQuery.post(ajaxurl, data, function (answer) { |
  | 9 |  | jQuery('#woof\_export\_settings').text(answer); |
  |  | 9 |  |
  |  | 10 | jQuery('#woof\_export\_settings').text(JSON.stringify(answer)); |
  | 10 | 11 | }); |
  | 11 | 12 | }); |
* ## [woocommerce-products-filter/trunk/ext/export\_import/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php?rev=3093324#L13 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | <div class="woof-control"> |
  | 14 | 14 | <textarea id="woof\_import\_settings" ></textarea><br /> |
  | 15 |  | <input id="woof\_import\_settings\_nc" type="hidden" value="<?php echo ~~wp\_create\_nonce('woof\_import\_settings'~~);?>"> |
  |  | 15 | <input id="woof\_import\_settings\_nc" type="hidden" value="<?php echo esc\_attr(wp\_create\_nonce('woof\_import\_settings'));?>"> |
  | 16 | 16 | <input type="button" id="woof\_do\_import" class="woof-button" value="<?php esc\_html\_e('Import placed data', 'woocommerce-products-filter') ?>"> |
  | 17 | 17 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php?rev=3020561#L29) | […](/browser/woocommerce-products-filter/trunk/ext/export_import/views/tabs_content.php?rev=3093324#L29) |  |
  | 29 | 29 | <div class="woof-control"> |
  | 30 | 30 | <textarea readonly="readonly" id="woof\_export\_settings" ></textarea><br /> |
  | 31 |  | <input id="woof\_export\_settings\_nc" type="hidden" value="<?php echo ~~wp\_create\_nonce('woof\_export\_settings'~~);?>"> |
  |  | 31 | <input id="woof\_export\_settings\_nc" type="hidden" value="<?php echo esc\_attr(wp\_create\_nonce('woof\_export\_settings'));?>"> |
  | 32 | 32 | <input type="button" id="woof\_get\_export" class="woof-button" value="<?php esc\_html\_e('Generate data for export', 'woocommerce-products-filter') ?>"> |
  | 33 | 33 | </div> |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/front_builder/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/front_builder/index.php")

  | [r3051027](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3051027#L29 "Show revision 3051027 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3093324#L29 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | public function \_\_construct() { |
  | 30 | 30 | parent::\_\_construct(); |
  |  | 31 |  |
  |  | 32 | add\_action("woof\_after\_inline\_js", array($this, 'add\_js')); |
  |  | 33 |  |
  | 31 | 34 | global $wpdb; |
  | 32 | 35 | $this->db = $wpdb; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3051027#L81) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3093324#L84) |  |
  | 81 | 84 | } |
  | 82 | 85 |  |
  | 83 |  | public function get\_ext\_path() { |
  | 84 |  | return plugin\_dir\_path(\_\_FILE\_\_); |
  | 85 |  | } |
  | 86 |  |  |
  | 87 |  | public function get\_ext\_override\_path() { |
  | 88 |  | return get\_stylesheet\_directory() . DIRECTORY\_SEPARATOR . "woof" . DIRECTORY\_SEPARATOR . "ext" . DIRECTORY\_SEPARATOR . $this->folder\_name . DIRECTORY\_SEPARATOR; |
  | 89 |  | } |
  | 90 |  |  |
  | 91 |  | public function get\_ext\_link() { |
  | 92 |  | return plugin\_dir\_url(\_\_FILE\_\_); |
  | 93 |  | } |
  | 94 |  |  |
  | 95 |  | public function woof\_modify\_settings\_before\_action($settings, $atts) { |
  | 96 |  | if (isset($atts['name']) AND !empty($atts['name'])) { |
  | 97 |  | $filter\_id = 0; |
  | 98 |  | $name = $atts['name']; |
  | 99 |  |  |
  | 100 |  | if (isset($atts['filter\_id']) AND !empty(intval($atts['filter\_id']))) { |
  | 101 |  | if (wp\_doing\_ajax()) { |
  | 102 |  | //in non-ajax mode this interfere into query to below shortcode [woof\_products] |
  | 103 |  | self::$filter\_id = intval($atts['filter\_id']); |
  | 104 |  | } |
  | 105 |  |  |
  | 106 |  | $filter\_id = intval($atts['filter\_id']); |
  | 107 |  | } |
  | 108 |  |  |
  | 109 |  | //we need this trick for meta search query trought hook woof\_get\_meta\_query in this file |
  | 110 |  | if ($filter\_id && !isset($atts['by\_only']) && !isset($atts['tax\_only'])) { |
  | 111 |  | $atts['by\_only'] = $atts['tax\_only'] = $this->get\_selected\_by\_id($filter\_id); |
  | 112 |  | } |
  | 113 |  |  |
  | 114 |  | //fix: if $this->options\_sections not else created |
  | 115 |  | if (!isset($this->options\_sections)) { |
  | 116 |  | $this->options\_sections = new WOOF\_FRONT\_BUILDER\_OPTIONS\_SECTIONS($this->db, $this->table, $this->get\_ext\_path(), $this->demo, $this->is\_admin()); |
  | 117 |  | } |
  | 118 |  |  |
  | 119 |  | if (!isset($this->options\_layout)) { |
  | 120 |  | $this->options\_layout = new WOOF\_FRONT\_BUILDER\_OPTIONS\_LAYOUT($this->db, $this->table, $this->get\_ext\_path(), $this->demo, $this->is\_admin()); |
  | 121 |  | } |
  | 122 |  |  |
  | 123 |  | //+++ |
  | 124 |  |  |
  | 125 |  | $section\_options = $this->options\_sections->get\_options\_key\_value($name, $this->extract\_sections\_keys($atts)); |
  | 126 |  |  |
  | 127 |  | //https://share.pluginus.net/image/i20230614172809.png |
  | 128 |  | if (!empty($section\_options) AND is\_array($section\_options)) { |
  | 129 |  | foreach ($section\_options as $section\_key => $section\_options) { |
  | 130 |  | if (taxonomy\_exists($section\_key)) { |
  | 131 |  | //taxonomies |
  | 132 |  | if (!empty($section\_options) AND is\_array($section\_options)) { |
  | 133 |  | foreach ($section\_options as $key => $value) { |
  | 134 |  | $settings[$key][$section\_key] = $value; |
  | 135 |  | } |
  | 136 |  | } |
  | 137 |  | } else { |
  | 138 |  | //not taxonomies |
  | 139 |  | if (!empty($section\_options) AND is\_array($section\_options)) { |
  | 140 |  | foreach ($section\_options as $key => $value) { |
  | 141 |  | $settings[$section\_key][$key] = $value; |
  | 142 |  | } |
  | 143 |  | } |
  | 144 |  | } |
  | 145 |  | } |
  | 146 |  | } |
  | 147 |  | } |
  | 148 |  |  |
  | 149 |  | //+++ |
  | 150 |  | //fix: we use it also for some another options |
  | 151 |  | if (isset($name)) { |
  | 152 |  | $layout\_options = $this->options\_layout->get\_options\_key\_value($name); |
  | 153 |  |  |
  | 154 |  | $settings['icheck\_skin'] = $layout\_options['icheck\_skin']; //fix for icheck |
  | 155 |  | //fix for tax block heights |
  | 156 |  | $section\_options['tax\_block\_height'] = []; |
  | 157 |  | if (isset($settings['tax\_type']) && isset($layout\_options['--woof-fb-section-height'])) { |
  | 158 |  | foreach (array\_keys($settings['tax\_type']) as $key) { |
  | 159 |  | $settings['tax\_block\_height'][$key] = $layout\_options['--woof-fb-section-height']; |
  | 160 |  | } |
  | 161 |  | } |
  | 162 |  |  |
  | 163 |  | //fix for taxonomies just added to the system, but if not cliked save button on the HUSKY dashboard |
  | 164 |  | if (isset($settings['tax']) && !empty($settings['tax'])) { |
  | 165 |  | foreach ($settings['tax'] as $tax => $enabled) { |
  | 166 |  | if (intval($enabled) && !empty($tax) && !isset($settings['tax\_type'][$tax])) { |
  | 167 |  | $view\_type = 'radio'; |
  | 168 |  | if ($this->viewtypes) { |
  | 169 |  | $viewtypes = $this->viewtypes->get($name); |
  | 170 |  | if (isset($viewtypes[$tax])) { |
  | 171 |  | $view\_type = $viewtypes[$tax]; |
  | 172 |  | } |
  | 173 |  | } |
  | 174 |  |  |
  | 175 |  | $settings['tax\_type'][$tax] = $view\_type; |
  | 176 |  | } |
  | 177 |  | } |
  | 178 |  | } |
  | 179 |  | } |
  | 180 |  |  |
  | 181 |  | return $settings; |
  | 182 |  | } |
  | 183 |  |  |
  | 184 |  | private function extract\_sections\_keys($atts) { |
  | 185 |  | $sections = []; |
  | 186 |  | if (isset($atts['tax\_only']) && !empty($atts['tax\_only'])) { |
  | 187 |  | $sections = explode(',', $atts['tax\_only']); |
  | 188 |  | } |
  | 189 |  |  |
  | 190 |  | if (isset($atts['by\_only']) && !empty($atts['by\_only'])) { |
  | 191 |  | $sections = array\_merge($sections, explode(',', $atts['by\_only'])); |
  | 192 |  | } |
  | 193 |  |  |
  | 194 |  | return $sections; |
  | 195 |  | } |
  | 196 |  |  |
  | 197 |  | private function get\_name\_by\_id($filter\_id) { |
  | 198 |  | static $cache = []; |
  | 199 |  |  |
  | 200 |  | if (!$filter\_id) { |
  | 201 |  | return ''; |
  | 202 |  | } |
  | 203 |  |  |
  | 204 |  | if (!isset($cache[$filter\_id])) { |
  | 205 |  | $sql = $this->db->prepare("SELECT name FROM %i WHERE id=%d ", $this->table, $filter\_id); |
  | 206 |  | $cache[$filter\_id] = $this->db->get\_row($sql)->name; |
  | 207 |  | } |
  | 208 |  |  |
  | 209 |  | return $cache[$filter\_id]; |
  | 210 |  | } |
  | 211 |  |  |
  | 212 |  | private function get\_selected\_by\_id($filter\_id) { |
  | 213 |  | static $cache = []; |
  | 214 |  |  |
  | 215 |  | if (!isset($cache[$filter\_id])) { |
  | 216 |  | $sql = $this->db->prepare("SELECT selected FROM %i WHERE id=%d ", $this->table, $filter\_id); |
  | 217 |  | $cache[$filter\_id] = $this->db->get\_row($sql)->selected; |
  | 218 |  | } |
  | 219 |  |  |
  | 220 |  | return $cache[$filter\_id]; |
  | 221 |  | } |
  | 222 |  |  |
  | 223 |  | private function get\_selected\_by\_name($name) { |
  | 224 |  | static $cache = []; |
  | 225 |  |  |
  | 226 |  | if (!isset($cache[$name])) { |
  | 227 |  | $sql = $this->db->prepare("SELECT selected FROM %i WHERE name=%s ", $this->table, $name); |
  | 228 |  | $cache[$name] = $this->db->get\_row($sql)->selected; |
  | 229 |  | } |
  | 230 |  |  |
  | 231 |  | return $cache[$name]; |
  | 232 |  | } |
  | 233 |  |  |
  | 234 |  | private function decompose\_search\_slug($slug) { |
  | 235 |  | $filter\_id = preg\_replace('/[^0-9]/', '', $slug); |
  | 236 |  | $slug\_string = preg\_replace('/[^a-zA-Z]/', '', $slug); |
  | 237 |  | return ['filter\_id' => $filter\_id, 'slug' => $slug\_string]; |
  | 238 |  | } |
  | 239 |  |  |
  | 240 |  | private function init\_request() { |
  | 241 |  | $plugin\_options = get\_option('woof\_settings', []); |
  | 242 |  | $slug = 'swoof'; //default slug |
  | 243 |  | if (isset($plugin\_options['swoof\_search\_slug']) AND !empty(trim($plugin\_options['swoof\_search\_slug']))) { |
  | 244 |  | $slug = trim($plugin\_options['swoof\_search\_slug']); |
  | 245 |  | } |
  | 246 |  |  |
  | 247 |  | $parts = []; |
  | 248 |  |  |
  | 249 |  | if (isset($plugin\_options['woof\_url\_request']) AND intval($plugin\_options['woof\_url\_request']['enable'])) { |
  | 250 |  | //ext woof\_url\_request is enabled |
  | 251 |  | $request\_string = WOOF\_HELPER::get\_server\_var('REQUEST\_URI'); |
  | 252 |  | $parts = explode('/', $request\_string); |
  | 253 |  | //$search\_slug = woof()->get\_swoof\_search\_slug();//NULL |
  | 254 |  | //hook for SEO ext to make it possible filter items when they are has conditional logic 'NOT IN' |
  | 255 |  | add\_filter('woof\_url\_parser\_all\_data', function ($data) { |
  | 256 |  | if (isset($data['filters']) && !empty($data['filters']) && is\_array($data['filters'])) { |
  | 257 |  | foreach ($data['filters'] as $key => $value) { |
  | 258 |  | if (taxonomy\_exists($key)) { |
  | 259 |  | //just collect the data to make it possible filtration, no interference directly with the logic |
  | 260 |  | $data['filters']['rev\_' . $key] = $value; |
  | 261 |  | } |
  | 262 |  | } |
  | 263 |  | } |
  | 264 |  |  |
  | 265 |  | return $data; |
  | 266 |  | }); |
  | 267 |  | } else { |
  | 268 |  | if (!empty($\_GET)) { |
  | 269 |  | $parts = array\_keys($\_GET); |
  | 270 |  | } |
  | 271 |  | } |
  | 272 |  |  |
  | 273 |  | //lets get $filter\_id |
  | 274 |  | if (wp\_doing\_ajax()) { |
  | 275 |  | if (isset($\_REQUEST['woof\_shortcode'])) { |
  | 276 |  | $atts = shortcode\_parse\_atts($\_REQUEST['woof\_shortcode']); |
  | 277 |  | if (isset($atts['filter\_id'])) { |
  | 278 |  | $filter\_id = self::$filter\_id = intval($atts['filter\_id']); |
  | 279 |  | add\_filter('woof\_filter\_search\_slug', function ($slug)use ($filter\_id) { |
  | 280 |  | WOOF\_REQUEST::set('woof\_form\_builder\_filter\_id', $filter\_id); |
  | 281 |  | return $this->get\_alias\_by\_id($filter\_id); |
  | 282 |  | }); |
  | 283 |  | } |
  | 284 |  | } |
  | 285 |  | } else { |
  | 286 |  | if (!empty($parts)) { |
  | 287 |  |  |
  | 288 |  | foreach ($parts as $value) { |
  | 289 |  |  |
  | 290 |  |  |
  | 291 |  | $value = $this->get\_slug\_by\_alias($value); |
  | 292 |  |  |
  | 293 |  |  |
  | 294 |  |  |
  | 295 |  | if (substr($value, 0, strlen($slug)) === $slug) { |
  | 296 |  | $d = $this->decompose\_search\_slug($value); |
  | 297 |  | $filter\_id = intval($d['filter\_id']); |
  | 298 |  | $sql = $this->db->prepare("SELECT id FROM %i WHERE id=%d", $this->table, $filter\_id); |
  | 299 |  | if ($filter\_id > 0 AND $this->db->get\_row($sql, ARRAY\_A)) { |
  | 300 |  | add\_filter('woof\_filter\_search\_slug', function ($slug)use ($filter\_id) { |
  | 301 |  | WOOF\_REQUEST::set('woof\_form\_builder\_filter\_id', $filter\_id); |
  | 302 |  |  |
  | 303 |  | return $this->get\_alias\_by\_id($filter\_id); |
  | 304 |  | }); |
  | 305 |  | } |
  | 306 |  |  |
  | 307 |  | break; |
  | 308 |  | } |
  | 309 |  | } |
  | 310 |  | } |
  | 311 |  | } |
  | 312 |  | } |
  | 313 |  |  |
  | 314 |  | //we need it to overide woof settings related to logic 'OR' 'AND' 'NOT IN' in comparison\_logic, NO INFLUENT on request data |
  | 315 |  | public function woof\_get\_request\_data($data) { |
  | 316 |  |  |
  | 317 |  | if (wp\_doing\_ajax()) { |
  | 318 |  | $filter\_id = self::$filter\_id; |
  | 319 |  | } else { |
  | 320 |  | $filter\_id = intval(WOOF\_REQUEST::get('woof\_form\_builder\_filter\_id')); |
  | 321 |  | } |
  | 322 |  |  |
  | 323 |  | if ($filter\_id > 0) { |
  | 324 |  | woof()->settings = $this->woof\_modify\_settings\_before\_action(woof()->settings, ['name' => $this->get\_name\_by\_id($filter\_id), 'filter\_id' => $filter\_id]); |
  | 325 |  | } |
  | 326 |  |  |
  | 327 |  | return $data; |
  | 328 |  | } |
  | 329 |  |  |
  | 330 |  | //we need it to overide woof settings related to logic 'OR' 'AND' 'NOT IN' in comparison\_logic, NO INFLUENT on request data |
  | 331 |  | public function woof\_get\_meta\_query($meta\_query) { |
  | 332 |  |  |
  | 333 |  | if (wp\_doing\_ajax()) { |
  | 334 |  | $filter\_id = self::$filter\_id; |
  | 335 |  | } else { |
  | 336 |  | $filter\_id = intval(WOOF\_REQUEST::get('woof\_form\_builder\_filter\_id')); |
  | 337 |  | } |
  | 338 |  |  |
  | 339 |  | if ($filter\_id > 0) { |
  | 340 |  | woof()->settings = $this->woof\_modify\_settings\_before\_action(woof()->settings, ['name' => $this->get\_name\_by\_id($filter\_id), 'filter\_id' => $filter\_id]); |
  | 341 |  | } |
  | 342 |  |  |
  | 343 |  | return $meta\_query; |
  | 344 |  | } |
  | 345 |  |  |
  | 346 |  | //hook woof\_regulate\_by\_only\_show is need here only for price filter because its view depends of this value: 1,2,3,4,5 ... |
  | 347 |  | public function woof\_regulate\_by\_only\_show($value, $key) { |
  | 348 |  | if ($key === 'by\_price') { |
  | 349 |  | $value = intval(woof()->settings[$key]['show']); |
  | 350 |  | } |
  | 351 |  |  |
  | 352 |  | return $value; |
  | 353 |  | } |
  | 354 |  |  |
  | 355 |  | public function init() { |
  | 356 |  | add\_action('wp\_footer', array($this, 'wp\_footer'), 10); |
  | 357 |  | add\_action('admin\_footer', array($this, "admin\_footer")); |
  | 358 |  | add\_shortcode("woof\_front\_builder", array($this, "woof\_front\_builder")); |
  | 359 |  |  |
  | 360 |  | add\_action('woof\_wp\_load\_js', function ($str) { |
  | 361 |  |  |
  | 362 |  | if ($this->demo) { |
  | 363 |  | $str .= ';var woof\_front\_builder\_is\_demo=1;'; |
  | 364 |  | } |
  | 365 |  |  |
  | 366 |  | $str .= ';var woof\_front\_sd\_is\_a=' . intval(isset(WOOF\_EXT::$includes['applications']['sd'])) . ';'; |
  |  | 86 | public function add\_js() { |
  |  | 87 | $str = ""; |
  |  | 88 | if ($this->demo) { |
  |  | 89 | $str .= ' var woof\_front\_builder\_is\_demo=1;'; |
  |  | 90 | } |
  |  | 91 |  |
  |  | 92 | $str .= ' var woof\_front\_sd\_is\_a=' . intval(isset(WOOF\_EXT::$includes['applications']['sd'])) . ';'; |
  | 367 | 93 | $str .= 'var woof\_front\_show\_notes=' . intval(woof()->show\_notes) . ';'; |
  | 368 | 94 | $str .= 'var woof\_lang\_front\_builder\_del="' . esc\_html\_\_('Are you sure you want to delete this filter-section?', 'woocommerce-products-filter') . '";'; |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3051027#L385) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3093324#L111) |  |
  | 385 | 111 | $str .= 'var woof\_lang\_front\_builder\_title\_top\_info\_demo="' . esc\_html\_\_('demo mode is activated, and results are visible only to you', 'woocommerce-products-filter') . '";'; |
  | 386 | 112 |  |
  | 387 |  | return $str . ';var woof\_lang\_front\_builder\_select="+ ' . esc\_html\_\_('Add filter section', 'woocommerce-products-filter') . '";'; |
  | 388 |  | }); |
  |  | 113 | $str .= ';var woof\_lang\_front\_builder\_select="+ ' . esc\_html\_\_('Add filter section', 'woocommerce-products-filter') . '";'; |
  |  | 114 |  |
  |  | 115 | wp\_add\_inline\_script('woof\_front', $str, 'before'); |
  |  | 116 | } |
  |  | 117 | public function get\_ext\_path() { |
  |  | 118 | return plugin\_dir\_path(\_\_FILE\_\_); |
  |  | 119 | } |
  |  | 120 |  |
  |  | 121 | public function get\_ext\_override\_path() { |
  |  | 122 | return get\_stylesheet\_directory() . DIRECTORY\_SEPARATOR . "woof" . DIRECTORY\_SEPARATOR . "ext" . DIRECTORY\_SEPARATOR . $this->folder\_name . DIRECTORY\_SEPARATOR; |
  |  | 123 | } |
  |  | 124 |  |
  |  | 125 | public function get\_ext\_link() { |
  |  | 126 | return plugin\_dir\_url(\_\_FILE\_\_); |
  |  | 127 | } |
  |  | 128 |  |
  |  | 129 | public function woof\_modify\_settings\_before\_action($settings, $atts) { |
  |  | 130 | if (isset($atts['name']) AND !empty($atts['name'])) { |
  |  | 131 | $filter\_id = 0; |
  |  | 132 | $name = $atts['name']; |
  |  | 133 |  |
  |  | 134 | if (isset($atts['filter\_id']) AND !empty(intval($atts['filter\_id']))) { |
  |  | 135 | if (wp\_doing\_ajax()) { |
  |  | 136 | //in non-ajax mode this interfere into query to below shortcode [woof\_products] |
  |  | 137 | self::$filter\_id = intval($atts['filter\_id']); |
  |  | 138 | } |
  |  | 139 |  |
  |  | 140 | $filter\_id = intval($atts['filter\_id']); |
  |  | 141 | } |
  |  | 142 |  |
  |  | 143 | //we need this trick for meta search query trought hook woof\_get\_meta\_query in this file |
  |  | 144 | if ($filter\_id && !isset($atts['by\_only']) && !isset($atts['tax\_only'])) { |
  |  | 145 | $atts['by\_only'] = $atts['tax\_only'] = $this->get\_selected\_by\_id($filter\_id); |
  |  | 146 | } |
  |  | 147 |  |
  |  | 148 | //fix: if $this->options\_sections not else created |
  |  | 149 | if (!isset($this->options\_sections)) { |
  |  | 150 | $this->options\_sections = new WOOF\_FRONT\_BUILDER\_OPTIONS\_SECTIONS($this->db, $this->table, $this->get\_ext\_path(), $this->demo, $this->is\_admin()); |
  |  | 151 | } |
  |  | 152 |  |
  |  | 153 | if (!isset($this->options\_layout)) { |
  |  | 154 | $this->options\_layout = new WOOF\_FRONT\_BUILDER\_OPTIONS\_LAYOUT($this->db, $this->table, $this->get\_ext\_path(), $this->demo, $this->is\_admin()); |
  |  | 155 | } |
  |  | 156 |  |
  |  | 157 | //+++ |
  |  | 158 |  |
  |  | 159 | $section\_options = $this->options\_sections->get\_options\_key\_value($name, $this->extract\_sections\_keys($atts)); |
  |  | 160 |  |
  |  | 161 | //https://share.pluginus.net/image/i20230614172809.png |
  |  | 162 | if (!empty($section\_options) AND is\_array($section\_options)) { |
  |  | 163 | foreach ($section\_options as $section\_key => $section\_options) { |
  |  | 164 | if (taxonomy\_exists($section\_key)) { |
  |  | 165 | //taxonomies |
  |  | 166 | if (!empty($section\_options) AND is\_array($section\_options)) { |
  |  | 167 | foreach ($section\_options as $key => $value) { |
  |  | 168 | $settings[$key][$section\_key] = $value; |
  |  | 169 | } |
  |  | 170 | } |
  |  | 171 | } else { |
  |  | 172 | //not taxonomies |
  |  | 173 | if (!empty($section\_options) AND is\_array($section\_options)) { |
  |  | 174 | foreach ($section\_options as $key => $value) { |
  |  | 175 | $settings[$section\_key][$key] = $value; |
  |  | 176 | } |
  |  | 177 | } |
  |  | 178 | } |
  |  | 179 | } |
  |  | 180 | } |
  |  | 181 | } |
  |  | 182 |  |
  |  | 183 | //+++ |
  |  | 184 | //fix: we use it also for some another options |
  |  | 185 | if (isset($name)) { |
  |  | 186 | $layout\_options = $this->options\_layout->get\_options\_key\_value($name); |
  |  | 187 |  |
  |  | 188 | $settings['icheck\_skin'] = $layout\_options['icheck\_skin']; //fix for icheck |
  |  | 189 | //fix for tax block heights |
  |  | 190 | $section\_options['tax\_block\_height'] = []; |
  |  | 191 | if (isset($settings['tax\_type']) && isset($layout\_options['--woof-fb-section-height'])) { |
  |  | 192 | foreach (array\_keys($settings['tax\_type']) as $key) { |
  |  | 193 | $settings['tax\_block\_height'][$key] = $layout\_options['--woof-fb-section-height']; |
  |  | 194 | } |
  |  | 195 | } |
  |  | 196 |  |
  |  | 197 | //fix for taxonomies just added to the system, but if not cliked save button on the HUSKY dashboard |
  |  | 198 | if (isset($settings['tax']) && !empty($settings['tax'])) { |
  |  | 199 | foreach ($settings['tax'] as $tax => $enabled) { |
  |  | 200 | if (intval($enabled) && !empty($tax) && !isset($settings['tax\_type'][$tax])) { |
  |  | 201 | $view\_type = 'radio'; |
  |  | 202 | if ($this->viewtypes) { |
  |  | 203 | $viewtypes = $this->viewtypes->get($name); |
  |  | 204 | if (isset($viewtypes[$tax])) { |
  |  | 205 | $view\_type = $viewtypes[$tax]; |
  |  | 206 | } |
  |  | 207 | } |
  |  | 208 |  |
  |  | 209 | $settings['tax\_type'][$tax] = $view\_type; |
  |  | 210 | } |
  |  | 211 | } |
  |  | 212 | } |
  |  | 213 | } |
  |  | 214 |  |
  |  | 215 | return $settings; |
  |  | 216 | } |
  |  | 217 |  |
  |  | 218 | private function extract\_sections\_keys($atts) { |
  |  | 219 | $sections = []; |
  |  | 220 | if (isset($atts['tax\_only']) && !empty($atts['tax\_only'])) { |
  |  | 221 | $sections = explode(',', $atts['tax\_only']); |
  |  | 222 | } |
  |  | 223 |  |
  |  | 224 | if (isset($atts['by\_only']) && !empty($atts['by\_only'])) { |
  |  | 225 | $sections = array\_merge($sections, explode(',', $atts['by\_only'])); |
  |  | 226 | } |
  |  | 227 |  |
  |  | 228 | return $sections; |
  |  | 229 | } |
  |  | 230 |  |
  |  | 231 | private function get\_name\_by\_id($filter\_id) { |
  |  | 232 | static $cache = []; |
  |  | 233 |  |
  |  | 234 | if (!$filter\_id) { |
  |  | 235 | return ''; |
  |  | 236 | } |
  |  | 237 |  |
  |  | 238 | if (!isset($cache[$filter\_id])) { |
  |  | 239 | $sql = $this->db->prepare("SELECT name FROM %i WHERE id=%d ", $this->table, $filter\_id); |
  |  | 240 | $cache[$filter\_id] = $this->db->get\_row($sql)->name; |
  |  | 241 | } |
  |  | 242 |  |
  |  | 243 | return $cache[$filter\_id]; |
  |  | 244 | } |
  |  | 245 |  |
  |  | 246 | private function get\_selected\_by\_id($filter\_id) { |
  |  | 247 | static $cache = []; |
  |  | 248 |  |
  |  | 249 | if (!isset($cache[$filter\_id])) { |
  |  | 250 | $sql = $this->db->prepare("SELECT selected FROM %i WHERE id=%d ", $this->table, $filter\_id); |
  |  | 251 | $cache[$filter\_id] = $this->db->get\_row($sql)->selected; |
  |  | 252 | } |
  |  | 253 |  |
  |  | 254 | return $cache[$filter\_id]; |
  |  | 255 | } |
  |  | 256 |  |
  |  | 257 | private function get\_selected\_by\_name($name) { |
  |  | 258 | static $cache = []; |
  |  | 259 |  |
  |  | 260 | if (!isset($cache[$name])) { |
  |  | 261 | $sql = $this->db->prepare("SELECT selected FROM %i WHERE name=%s ", $this->table, $name); |
  |  | 262 | $cache[$name] = $this->db->get\_row($sql)->selected; |
  |  | 263 | } |
  |  | 264 |  |
  |  | 265 | return $cache[$name]; |
  |  | 266 | } |
  |  | 267 |  |
  |  | 268 | private function decompose\_search\_slug($slug) { |
  |  | 269 | $filter\_id = preg\_replace('/[^0-9]/', '', $slug); |
  |  | 270 | $slug\_string = preg\_replace('/[^a-zA-Z]/', '', $slug); |
  |  | 271 | return ['filter\_id' => $filter\_id, 'slug' => $slug\_string]; |
  |  | 272 | } |
  |  | 273 |  |
  |  | 274 | private function init\_request() { |
  |  | 275 | $plugin\_options = get\_option('woof\_settings', []); |
  |  | 276 | $slug = 'swoof'; //default slug |
  |  | 277 | if (isset($plugin\_options['swoof\_search\_slug']) AND !empty(trim($plugin\_options['swoof\_search\_slug']))) { |
  |  | 278 | $slug = trim($plugin\_options['swoof\_search\_slug']); |
  |  | 279 | } |
  |  | 280 |  |
  |  | 281 | $parts = []; |
  |  | 282 |  |
  |  | 283 | if (isset($plugin\_options['woof\_url\_request']) AND intval($plugin\_options['woof\_url\_request']['enable'])) { |
  |  | 284 | //ext woof\_url\_request is enabled |
  |  | 285 | $request\_string = WOOF\_HELPER::get\_server\_var('REQUEST\_URI'); |
  |  | 286 | $parts = explode('/', $request\_string); |
  |  | 287 | //$search\_slug = woof()->get\_swoof\_search\_slug();//NULL |
  |  | 288 | //hook for SEO ext to make it possible filter items when they are has conditional logic 'NOT IN' |
  |  | 289 | add\_filter('woof\_url\_parser\_all\_data', function ($data) { |
  |  | 290 | if (isset($data['filters']) && !empty($data['filters']) && is\_array($data['filters'])) { |
  |  | 291 | foreach ($data['filters'] as $key => $value) { |
  |  | 292 | if (taxonomy\_exists($key)) { |
  |  | 293 | //just collect the data to make it possible filtration, no interference directly with the logic |
  |  | 294 | $data['filters']['rev\_' . $key] = $value; |
  |  | 295 | } |
  |  | 296 | } |
  |  | 297 | } |
  |  | 298 |  |
  |  | 299 | return $data; |
  |  | 300 | }); |
  |  | 301 | } else { |
  |  | 302 | if (!empty($\_GET)) { |
  |  | 303 | $parts = array\_keys($\_GET); |
  |  | 304 | } |
  |  | 305 | } |
  |  | 306 |  |
  |  | 307 | //lets get $filter\_id |
  |  | 308 | if (wp\_doing\_ajax()) { |
  |  | 309 | if (isset($\_REQUEST['woof\_shortcode'])) { |
  |  | 310 | $atts = shortcode\_parse\_atts($\_REQUEST['woof\_shortcode']); |
  |  | 311 | if (isset($atts['filter\_id'])) { |
  |  | 312 | $filter\_id = self::$filter\_id = intval($atts['filter\_id']); |
  |  | 313 | add\_filter('woof\_filter\_search\_slug', function ($slug)use ($filter\_id) { |
  |  | 314 | WOOF\_REQUEST::set('woof\_form\_builder\_filter\_id', $filter\_id); |
  |  | 315 | return $this->get\_alias\_by\_id($filter\_id); |
  |  | 316 | }); |
  |  | 317 | } |
  |  | 318 | } |
  |  | 319 | } else { |
  |  | 320 | if (!empty($parts)) { |
  |  | 321 |  |
  |  | 322 | foreach ($parts as $value) { |
  |  | 323 |  |
  |  | 324 |  |
  |  | 325 | $value = $this->get\_slug\_by\_alias($value); |
  |  | 326 |  |
  |  | 327 |  |
  |  | 328 |  |
  |  | 329 | if (substr($value, 0, strlen($slug)) === $slug) { |
  |  | 330 | $d = $this->decompose\_search\_slug($value); |
  |  | 331 | $filter\_id = intval($d['filter\_id']); |
  |  | 332 | $sql = $this->db->prepare("SELECT id FROM %i WHERE id=%d", $this->table, $filter\_id); |
  |  | 333 | if ($filter\_id > 0 AND $this->db->get\_row($sql, ARRAY\_A)) { |
  |  | 334 | add\_filter('woof\_filter\_search\_slug', function ($slug)use ($filter\_id) { |
  |  | 335 | WOOF\_REQUEST::set('woof\_form\_builder\_filter\_id', $filter\_id); |
  |  | 336 |  |
  |  | 337 | return $this->get\_alias\_by\_id($filter\_id); |
  |  | 338 | }); |
  |  | 339 | } |
  |  | 340 |  |
  |  | 341 | break; |
  |  | 342 | } |
  |  | 343 | } |
  |  | 344 | } |
  |  | 345 | } |
  |  | 346 | } |
  |  | 347 |  |
  |  | 348 | //we need it to overide woof settings related to logic 'OR' 'AND' 'NOT IN' in comparison\_logic, NO INFLUENT on request data |
  |  | 349 | public function woof\_get\_request\_data($data) { |
  |  | 350 |  |
  |  | 351 | if (wp\_doing\_ajax()) { |
  |  | 352 | $filter\_id = self::$filter\_id; |
  |  | 353 | } else { |
  |  | 354 | $filter\_id = intval(WOOF\_REQUEST::get('woof\_form\_builder\_filter\_id')); |
  |  | 355 | } |
  |  | 356 |  |
  |  | 357 | if ($filter\_id > 0) { |
  |  | 358 | woof()->settings = $this->woof\_modify\_settings\_before\_action(woof()->settings, ['name' => $this->get\_name\_by\_id($filter\_id), 'filter\_id' => $filter\_id]); |
  |  | 359 | } |
  |  | 360 |  |
  |  | 361 | return $data; |
  |  | 362 | } |
  |  | 363 |  |
  |  | 364 | //we need it to overide woof settings related to logic 'OR' 'AND' 'NOT IN' in comparison\_logic, NO INFLUENT on request data |
  |  | 365 | public function woof\_get\_meta\_query($meta\_query) { |
  |  | 366 |  |
  |  | 367 | if (wp\_doing\_ajax()) { |
  |  | 368 | $filter\_id = self::$filter\_id; |
  |  | 369 | } else { |
  |  | 370 | $filter\_id = intval(WOOF\_REQUEST::get('woof\_form\_builder\_filter\_id')); |
  |  | 371 | } |
  |  | 372 |  |
  |  | 373 | if ($filter\_id > 0) { |
  |  | 374 | woof()->settings = $this->woof\_modify\_settings\_before\_action(woof()->settings, ['name' => $this->get\_name\_by\_id($filter\_id), 'filter\_id' => $filter\_id]); |
  |  | 375 | } |
  |  | 376 |  |
  |  | 377 | return $meta\_query; |
  |  | 378 | } |
  |  | 379 |  |
  |  | 380 | //hook woof\_regulate\_by\_only\_show is need here only for price filter because its view depends of this value: 1,2,3,4,5 ... |
  |  | 381 | public function woof\_regulate\_by\_only\_show($value, $key) { |
  |  | 382 | if ($key === 'by\_price') { |
  |  | 383 | $value = intval(woof()->settings[$key]['show']); |
  |  | 384 | } |
  |  | 385 |  |
  |  | 386 | return $value; |
  |  | 387 | } |
  |  | 388 |  |
  |  | 389 | public function init() { |
  |  | 390 | add\_action('wp\_footer', array($this, 'wp\_footer'), 10); |
  |  | 391 | add\_action('admin\_footer', array($this, "admin\_footer")); |
  |  | 392 | add\_shortcode("woof\_front\_builder", array($this, "woof\_front\_builder")); |
  |  | 393 |  |
  |  | 394 |  |
  | 389 | 395 | } |
  | 390 | 396 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3051027#L792) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/index.php?rev=3093324#L798) |  |
  | 792 | 798 | $woof\_settings = get\_option('woof\_settings', []); |
  | 793 | 799 | $slug = $alias; //default slug |
  |  | 800 | if (!is\_array($woof\_settings)) { |
  |  | 801 | $woof\_settings = array(); |
  |  | 802 | } |
  | 794 | 803 | if (!isset($woof\_settings['slug\_alias']) || !is\_array($woof\_settings['slug\_alias'])) { |
  | 795 | 804 | $woof\_settings['slug\_alias'] = array(); |
* ## [woocommerce-products-filter/trunk/ext/front\_builder/views/shortcodes/woof\_front\_builder.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3045600#L46 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3093324#L46 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 46 | 46 | <div><!-- avoid wpautop for button --> |
  | 47 | 47 | <?php if ($is\_admin): ?> |
  | 48 |  | <a href="javascript: void(0);" id="<?php echo esc\_html\_\_($shortcode\_id) ?>" data-selected="<?php echo esc\_html\_\_($selected\_list) ?>" data-slug="<?php echo ~~$swoof\_slug ?>" data-filter-id="<?php echo $id~~ ?>" data-name="<?php echo esc\_html\_\_($name) ?>" data-popup-width="<?php echo esc\_html\_\_($popup\_width) ?>" data-popup-height="<?php echo esc\_html\_\_($popup\_height) ?>" class="woof-form-builder-btn"> |
  | 49 |  | <img src="<?php echo ~~$ext\_link~~ . 'img/cog.svg' ?>" style="opacity: 0;" alt="<?php echo esc\_html\_\_($name) ?>"> |
  | 50 |  | <img src="<?php echo ~~$ext\_link~~ . 'img/husky.svg' ?>" alt="<?php echo esc\_html\_\_($name) ?>"> |
  |  | 48 | <a href="javascript: void(0);" id="<?php echo esc\_html\_\_($shortcode\_id) ?>" data-selected="<?php echo esc\_html\_\_($selected\_list) ?>" data-slug="<?php echo esc\_attr($swoof\_slug) ?>" data-filter-id="<?php echo esc\_attr($id) ?>" data-name="<?php echo esc\_html\_\_($name) ?>" data-popup-width="<?php echo esc\_html\_\_($popup\_width) ?>" data-popup-height="<?php echo esc\_html\_\_($popup\_height) ?>" class="woof-form-builder-btn"> |
  |  | 49 | <img src="<?php echo esc\_attr($ext\_link) . 'img/cog.svg' ?>" style="opacity: 0;" alt="<?php echo esc\_html\_\_($name) ?>"> |
  |  | 50 | <img src="<?php echo esc\_attr($ext\_link) . 'img/husky.svg' ?>" alt="<?php echo esc\_html\_\_($name) ?>"> |
  | 51 | 51 | </a> |
  | 52 | 52 | <?php endif; ?> |
  | 53 | 53 |  |
  | 54 |  | <div id="<?php echo $container\_id ?>" class="woof-front-builder-container woof\_section\_scrolled woof\_use\_beauty\_scroll" style="<?php echo $style ?>" data-name="<?php echo esc\_html\_\_($name) ?>" data-viewtypes='<?php echo json\_encode(woof()->html\_types) ?>'> |
  |  | 54 | <div id="<?php echo esc\_attr($container\_id) ?>" |
  |  | 55 | class="woof-front-builder-container woof\_section\_scrolled woof\_use\_beauty\_scroll" |
  |  | 56 | style="<?php echo wp\_kses($style,'default') ?>" |
  |  | 57 | data-name="<?php echo esc\_html\_\_($name) ?>" |
  |  | 58 | data-viewtypes='<?php echo json\_encode(woof()->html\_types) ?>'> |
  | 55 | 59 | <?php |
  | 56 | 60 | if (!empty($selected)) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3045600#L60) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3093324#L64) |  |
  | 60 | 64 |  |
  | 61 | 65 | </div> |
  | 62 |  | <input type="hidden" class="woof\_front\_builder\_nonce" value="<?php echo ~~wp\_create\_nonce('front\_builder\_nonce'~~)?>"> |
  | 63 |  | <style type="text/css" id="<?php echo ~~$shortcode\_id~~ ?>-styles"> |
  |  | 66 | <input type="hidden" class="woof\_front\_builder\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('front\_builder\_nonce'))?>"> |
  |  | 67 | <style type="text/css" id="<?php echo esc\_attr($shortcode\_id) ?>-styles"> |
  | 64 | 68 | /\* styles for the current HUSKY products filter form \*/ |
  | 65 | 69 | <?php |
  | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3045600#L67) | […](/browser/woocommerce-products-filter/trunk/ext/front_builder/views/shortcodes/woof_front_builder.php?rev=3093324#L71) |  |
  | 67 | 71 | foreach ($sections\_layout\_options as $section\_key => $values) { |
  | 68 | 72 | if (!empty($values)) { |
  | 69 |  | echo '#' . ~~$container\_id . ' .woof\_fs\_' . $section\_key~~ . '{'; |
  |  | 73 | echo '#' . esc\_attr($container\_id) . ' .woof\_fs\_' . esc\_attr($section\_key) . '{'; |
  | 70 | 74 | foreach ($values as $k => $v) { |
  | 71 |  | echo ~~$k . ': ' . $v . '; '~~; |
  |  | 75 | echo wp\_kses( $k . ': ' . $v . '; ','default'); |
  | 72 | 76 | } |
  | 73 | 77 | echo '}' . PHP\_EOL . PHP\_EOL; |
* ## [woocommerce-products-filter/trunk/ext/label/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/label/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/label/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/label/views/woof.php?rev=3020561#L89 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/label/views/woof.php?rev=3093324#L89 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 89 | 89 | <input type="checkbox" <?php if (!$count AND!in\_array($term['slug'], $current\_request) AND $show\_count): ?>disabled=""<?php endif; ?> id="<?php echo esc\_attr('woof\_' . $term['term\_id'] . '\_' . $inique\_id) ?>" class="woof\_label\_term" data-tax="<?php echo esc\_attr(woof()->check\_slug($tax\_slug)) ?>" name="<?php echo esc\_html($term['slug']) ?>" value="<?php echo esc\_html($term['term\_id']) ?>" <?php checked(in\_array($term['slug'], $current\_request)) ?> />&nbsp;<label for="<?php echo esc\_attr('woof\_' . $term['term\_id'] . '\_' . $inique\_id) ?>" <?php if (checked(in\_array($term['slug'], $current\_request))): ?>style="font-weight: bold;"<?php endif; ?>><?php |
  | 90 | 90 | if (has\_filter('woof\_before\_term\_name')) |
  | 91 |  | echo wp\_~~unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~)); |
  |  | 91 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 92 | 92 | else |
  | 93 | 93 | echo esc\_html($term['name']); |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/checkbox/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/checkbox/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/checkbox/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/checkbox/views/woof.php?rev=3020561#L64 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/checkbox/views/woof.php?rev=3093324#L64 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 64 | 64 | ?> |
  | 65 | 65 | <?php if ($show): ?> |
  | 66 |  | <div data-css-class="woof\_meta\_checkbox\_container" class="woof\_meta\_checkbox\_container woof\_container woof\_container\_<?php echo esc\_attr("checkbox\_" . $meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 66 | <div data-css-class="woof\_meta\_checkbox\_container" class="woof\_meta\_checkbox\_container woof\_container woof\_container\_<?php echo esc\_attr("checkbox\_" . $meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 67 | 67 | <div class="woof\_container\_overlay\_item"></div> |
  | 68 | 68 | <div class="woof\_container\_inner"> |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/datepicker/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/datepicker/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/datepicker/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/datepicker/views/woof.php?rev=3020561#L96 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/datepicker/views/woof.php?rev=3093324#L96 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 96 | 96 | } |
  | 97 | 97 | ?> |
  | 98 |  | <div data-css-class="woof\_meta\_datepicker\_container" class="woof\_meta\_datepicker\_container woof\_container woof\_container\_<?php echo esc\_attr("datepicker\_" . $meta\_key) ?>" <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>> |
  |  | 98 | <div data-css-class="woof\_meta\_datepicker\_container" class="woof\_meta\_datepicker\_container woof\_container woof\_container\_<?php echo esc\_attr("datepicker\_" . $meta\_key) ?>" <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>> |
  | 99 | 99 | <div class="woof\_container\_inner"> |
  | 100 | 100 | <div class="woof\_container\_inner woof\_container\_inner\_datepicker\_slider"> |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/mselect/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/mselect/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/mselect/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/mselect/views/woof.php?rev=3020561#L56 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/mselect/views/woof.php?rev=3093324#L56 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 56 | 56 | //\*\*\* |
  | 57 | 57 | ?> |
  | 58 |  | <div data-css-class="woof\_meta\_mselect\_container" class="woof\_meta\_mselect\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?> woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr("mselect\_" . $meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>" > |
  |  | 58 | <div data-css-class="woof\_meta\_mselect\_container" class="woof\_meta\_mselect\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?> woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr("mselect\_" . $meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>" > |
  | 59 | 59 | <div class="woof\_container\_inner"> |
  | 60 | 60 | <div class="woof\_container\_inner woof\_container\_inner\_meta\_mselect"> |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/select/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/select/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/select/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/select/views/woof.php?rev=3020561#L113 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/select/views/woof.php?rev=3093324#L113 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 113 | 113 | } |
  | 114 | 114 | ?> |
  | 115 |  | <div data-css-class="woof\_meta\_select\_container" class="woof\_meta\_select\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr("select\_" . $meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 115 | <div data-css-class="woof\_meta\_select\_container" class="woof\_meta\_select\_container woof\_container woof\_container\_<?php echo esc\_attr($meta\_key) ?>  woof\_container\_<?php echo esc\_attr("select\_" . $meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 116 | 116 | <div class="woof\_container\_inner"> |
  | 117 | 117 | <div class="woof\_container\_inner woof\_container\_inner\_meta\_select"> |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/slider/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/slider/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/slider/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/slider/views/woof.php?rev=3020561#L101 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/slider/views/woof.php?rev=3093324#L101 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 101 | 101 | $slider\_id = "woof\_meta\_slider\_" . $meta\_key; |
  | 102 | 102 | ?> |
  | 103 |  | <div data-css-class="woof\_meta\_slider\_container" class="woof\_meta\_slider\_container woof\_container woof\_container\_<?php echo esc\_attr("slider\_" . $meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 103 | <div data-css-class="woof\_meta\_slider\_container" class="woof\_meta\_slider\_container woof\_container woof\_container\_<?php echo esc\_attr("slider\_" . $meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 104 | 104 | <div class="woof\_container\_inner"> |
  | 105 | 105 | <div class="woof\_container\_inner woof\_container\_inner\_meta\_slider"> |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/textinput/js/textinput.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/js/textinput.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/js/textinput.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/js/textinput.js?rev=3020561#L7 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/js/textinput.js?rev=3093324#L7 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | val=val.replace("\'","\&#039;"); |
  | 8 | 8 |  |
  | 9 |  | ~~console.log(val)~~ |
  | 10 | 9 | var uid = jQuery(this).data('uid'); |
  | 11 | 10 | if (e.keyCode == 13 /\*&& val.length > 0\*/) { |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/html\_types/textinput/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/views/woof.php?rev=3020561#L1 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/html_types/textinput/views/woof.php?rev=3093324#L1 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php if (!defined('ABSPATH')) die('No direct access allowed'); ?> |
  | 2 |  | <div data-css-class="woof\_textinput\_container" class="woof\_textinput\_container woof\_container  woof\_container\_<?php echo esc\_attr("textinput\_".$meta\_key) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($meta\_key~~) ?>"> |
  |  | 2 | <div data-css-class="woof\_textinput\_container" class="woof\_textinput\_container woof\_container  woof\_container\_<?php echo esc\_attr("textinput\_".$meta\_key) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($meta\_key)) ?>"> |
  | 3 | 3 | <div class="woof\_container\_overlay\_item"></div> |
  | 4 | 4 | <div class="woof\_container\_inner"> |
* ## [woocommerce-products-filter/trunk/ext/meta\_filter/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/meta_filter/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/meta_filter/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/meta_filter/views/tabs_content.php?rev=3020561#L48 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/meta_filter/views/tabs_content.php?rev=3093324#L48 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 | <h5><?php esc\_html\_e('Get keys from any product by its ID', 'woocommerce-products-filter') ?>:</h5> |
  | 49 | 49 | <input type="number" min="1" class="woof\_meta\_keys\_get\_input woof\_width\_75p" value="" placeholder="<?php esc\_html\_e('enter product ID', 'woocommerce-products-filter') ?>">&nbsp;<a href="#" id="woof\_meta\_get\_btn" class="button button-primary button-large"><?php esc\_html\_e('Get', 'woocommerce-products-filter') ?></a> |
  | 50 |  | <input type="hidden" id="woof\_meta\_nonce" value="<?php echo ~~wp\_create\_nonce( 'woof\_get\_meta\_keys'~~ ) ?>"> |
  |  | 50 | <input type="hidden" id="woof\_meta\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce( 'woof\_get\_meta\_keys' )) ?>"> |
  | 51 | 51 |  |
  | 52 | 52 | </div> |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/products_messenger/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/products_messenger/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3045600#L284 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3093324#L284 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 284 | 284 | } |
  | 285 | 285 | if (count($subscr) >= $this->subscr\_count) { |
  | 286 |  | die('<li class="woof\_pm\_max\_count" >' . \_\_('Сount is max', 'woocommerce-products-filter') . '</li>'); // Check limit count on backend |
  |  | 286 | die('<li class="woof\_pm\_max\_count" >' . esc\_html\_\_('Сount is max', 'woocommerce-products-filter') . '</li>'); // Check limit count on backend |
  | 287 | 287 | } |
  | 288 | 288 | //+++ |
  | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3045600#L309) | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/index.php?rev=3093324#L309) |  |
  | 309 | 309 | //for Ajax redraw |
  | 310 | 310 | $cont = woof()->render\_html($this->get\_ext\_path() . 'views' . DIRECTORY\_SEPARATOR . 'item\_list\_subscr.php', $data); |
  | 311 |  | die($cont); |
  |  | 311 | wp\_send\_json($cont); |
  |  | 312 | //die($cont); |
  | 312 | 313 | } |
  | 313 | 314 |  |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/views/email\_template.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/products_messenger/views/email_template.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/products_messenger/views/email_template.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/email_template.php?rev=3020561#L3 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/email_template.php?rev=3093324#L3 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | $link = explode("?", $subscr['link']); |
  | 4 | 4 | $unsobscr\_link = $link[0] . "?id\_user=" . $subscr['user\_id'] . "&key=" . $subscr['key'] . "&woof\_skey=" . $subscr['secret\_key']; |
  | 5 |  | if (count($link) == 1) { |
  |  | 5 | if (count($link) === 1) { |
  | 6 | 6 | $subscr['link'] .= "?swoof=1"; |
  | 7 | 7 | } |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/views/options.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/products_messenger/views/options.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/products_messenger/views/options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/options.php?rev=3020561#L78 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/options.php?rev=3093324#L78 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 78 | 78 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][show\_title\_label]" value="<?php echo intval($woof\_settings[$key]['show\_title\_label']) ?>" /> |
  | 79 | 79 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][label]" value="<?php echo esc\_html($woof\_settings[$key]['label']) ?>" /> |
  | 80 |  | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])~~)); ?>" /> |
  |  | 80 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])); ?>" /> |
  | 81 | 81 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][show\_btn\_subscr]" value="<?php echo intval($woof\_settings[$key]['show\_btn\_subscr']) ?>" /> |
  | 82 | 82 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][wp\_cron\_period]" value="<?php echo esc\_html($woof\_settings[$key]['wp\_cron\_period']) ?>" /> |
  | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/options.php?rev=3020561#L164) | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/options.php?rev=3093324#L164) |  |
  | 164 | 164 | <div class="woof-name-description"> |
  | 165 | 165 | <strong><?php esc\_html\_e('External cron key (is recommended as flexible for timetable)', 'woocommerce-products-filter') ?></strong> |
  | 166 |  | <span><?php esc\_html\_e('For external cron use the next link', 'woocommerce-products-filter'); ?>: <i class="woof\_cron\_link" ><b><?php echo ~~get\_home\_url(~~) . "?woof\_pm\_cron\_key=" . esc\_html($cron\_key); ?></b></i><br /> |
  |  | 166 | <span><?php esc\_html\_e('For external cron use the next link', 'woocommerce-products-filter'); ?>: <i class="woof\_cron\_link" ><b><?php echo esc\_url(get\_home\_url()) . "?woof\_pm\_cron\_key=" . esc\_html($cron\_key); ?></b></i><br /> |
  | 167 | 167 | <?php esc\_html\_e('To update the key, just delete it and save the plugin settings. Key should be min 16 symbols.', 'woocommerce-products-filter'); ?> |
  | 168 | 168 | </span> |
* ## [woocommerce-products-filter/trunk/ext/products\_messenger/views/shortcodes/woof\_products\_messenger.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3045600#L23 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3093324#L23 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 | //var\_dump($user\_data\_mess); |
  | 24 | 24 | ?> |
  | 25 |  | <div data-css-class="woof\_products\_messenger\_container" class="woof\_products\_messenger\_container woof\_container <?php echo esc\_attr($adding\_class) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('products\_messenger'~~) ?>"> |
  |  | 25 | <div data-css-class="woof\_products\_messenger\_container" class="woof\_products\_messenger\_container woof\_container <?php echo esc\_attr($adding\_class) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('products\_messenger')) ?>"> |
  | 26 | 26 | <div class="woof\_container\_overlay\_item"></div> |
  | 27 | 27 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3045600#L64) | […](/browser/woocommerce-products-filter/trunk/ext/products_messenger/views/shortcodes/woof_products_messenger.php?rev=3093324#L64) |  |
  | 64 | 64 | <?php } ?> |
  | 65 | 65 | <?php if (isset($this->settings['products\_messenger']['notes\_for\_customer']) AND!empty($this->settings['products\_messenger']['notes\_for\_customer'])): ?> |
  | 66 |  | <span class="woof\_products\_messenger\_notes\_for\_customer"><?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash(do\_shortcode($this->settings['products\_messenger']['notes\_for\_customer'])~~))); ?></span> |
  |  | 66 | <span class="woof\_products\_messenger\_notes\_for\_customer"><?php echo wp\_kses\_post(wp\_unslash(do\_shortcode($this->settings['products\_messenger']['notes\_for\_customer']))); ?></span> |
  | 67 | 67 | <?php endif; ?> |
  | 68 |  | <input type="hidden" class="woof\_product\_messenger\_nonce" value="<?php echo ~~wp\_create\_nonce('product\_messenger\_nonce'~~)?>"> |
  |  | 68 | <input type="hidden" class="woof\_product\_messenger\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('product\_messenger\_nonce'))?>"> |
  | 69 | 69 | </div> |
  | 70 | 70 | </div> |
* ## [woocommerce-products-filter/trunk/ext/query\_save/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/query_save/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/query_save/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L147 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3093324#L147 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 147 | 147 |  |
  | 148 | 148 | $cont = woof()->render\_html($this->get\_ext\_path() . 'views' . DIRECTORY\_SEPARATOR . 'item\_list\_query.php', $data); |
  | 149 |  |  |
  | 150 |  | die($cont); |
  |  | 149 | wp\_send\_json($cont); |
  |  | 150 | //die($cont); |
  | 151 | 151 | } |
  | 152 | 152 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3045600#L292) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/index.php?rev=3093324#L292) |  |
  | 292 | 292 | ?> |
  | 293 | 293 | <div class="woof\_query\_save\_notice\_product woof\_query\_save\_notice\_product\_<?php echo esc\_attr($id) ?>" data-id="<?php echo esc\_attr($id) ?>" ></div> |
  | 294 |  | <input type="hidden" class="woof\_query\_save\_notice\_nonce" value="<?php echo ~~wp\_create\_nonce('query\_save\_nonce'~~)?>"> |
  |  | 294 | <input type="hidden" class="woof\_query\_save\_notice\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('query\_save\_nonce'))?>"> |
  | 295 | 295 | <?php |
  | 296 | 296 | } |
* ## [woocommerce-products-filter/trunk/ext/query\_save/views/options.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/query_save/views/options.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/query_save/views/options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/query_save/views/options.php?rev=3020561#L70 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/query_save/views/options.php?rev=3093324#L70 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][placeholder]" value="<?php echo esc\_html($woof\_settings[$key]['placeholder']) ?>" /> |
  | 71 | 71 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][btn\_label]" value="<?php echo esc\_html($woof\_settings[$key]['btn\_label']) ?>" /> |
  | 72 |  | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])~~)); ?>" /> |
  |  | 72 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][notes\_for\_customer]" value="<?php echo wp\_kses\_post(wp\_unslash($woof\_settings[$key]['notes\_for\_customer'])); ?>" /> |
  | 73 | 73 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][search\_count]" value="<?php echo intval($woof\_settings[$key]['search\_count']) ?>" /> |
  | 74 | 74 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][show\_notice]" value="<?php echo intval($woof\_settings[$key]['show\_notice']) ?>" /> |
* ## [woocommerce-products-filter/trunk/ext/query\_save/views/shortcodes/woof\_save\_query.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3045600#L29 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3093324#L29 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | $user\_data\_queries = get\_user\_meta($cur\_user\_id, 'woof\_user\_search\_query', true); |
  | 30 | 30 | ?> |
  | 31 |  | <div data-css-class="woof\_query\_save\_container" class="woof\_query\_save\_container woof\_container <?php echo esc\_attr($adding\_class) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('query\_save'~~) ?>"> |
  |  | 31 | <div data-css-class="woof\_query\_save\_container" class="woof\_query\_save\_container woof\_container <?php echo esc\_attr($adding\_class) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('query\_save')) ?>"> |
  | 32 | 32 | <div class="woof\_container\_overlay\_item"></div> |
  | 33 | 33 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3045600#L102) | […](/browser/woocommerce-products-filter/trunk/ext/query_save/views/shortcodes/woof_save_query.php?rev=3093324#L102) |  |
  | 102 | 102 | <span class="woof\_query\_save\_notes\_for\_customer"><?php echo do\_shortcode(wp\_kses\_post(wp\_unslash($this->settings['query\_save']['notes\_for\_customer']))) ?></span> |
  | 103 | 103 | <?php endif; ?> |
  | 104 |  | <input type="hidden" class="woof\_query\_save\_nonce" value="<?php echo ~~wp\_create\_nonce('query\_save\_nonce'~~)?>"> |
  |  | 104 | <input type="hidden" class="woof\_query\_save\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('query\_save\_nonce'))?>"> |
  | 105 | 105 | </div> |
  | 106 | 106 | </div> |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L206 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3093324#L206 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 206 | 206 | $data = array(); |
  | 207 | 207 | $data['woof\_settings'] = $this->woof\_settings; |
  | 208 |  | echo woof()->render\_html($this->get\_ext\_path() . 'views/tabs\_content.php', $data); |
  |  | 208 |  |
  |  | 209 | woof()->render\_html\_e($this->get\_ext\_path() . 'views/tabs\_content.php', $data); |
  | 209 | 210 | } |
  | 210 | 211 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L611) | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3093324#L612) |  |
  | 611 | 612 | return self::show\_sort\_html('title-asc', 'title-desc'); |
  | 612 | 613 | } |
  | 613 |  |  |
  |  | 614 | public static function show\_sort\_html\_by\_title\_e() { |
  |  | 615 | self::show\_sort\_html\_e('title-asc', 'title-desc'); |
  |  | 616 | } |
  | 614 | 617 | public static function show\_sort\_html\_by\_price() { |
  | 615 | 618 | return self::show\_sort\_html('price-asc', 'price-desc'); |
  | 616 | 619 | } |
  |  | 620 | public static function show\_sort\_html\_by\_price\_e() { |
  |  | 621 | self::show\_sort\_html\_e('price-asc', 'price-desc'); |
  |  | 622 | } |
  | 617 | 623 |  |
  | 618 | 624 | public static function show\_sort\_html\_select() { |
  | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L625) | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3093324#L631) |  |
  | 625 | 631 | return self::show\_sort\_select\_html(apply\_filters('woof\_qs\_sort\_select\_data', $data)); |
  | 626 | 632 | } |
  | 627 |  |  |
  |  | 633 | public static function show\_sort\_html\_select\_e() { |
  |  | 634 | $data = array( |
  |  | 635 | 'price-asc' => sprintf(\_\_('Price- %s ', 'woocommerce-products-filter'), '&uarr;'), |
  |  | 636 | 'price-desc' => sprintf(\_\_('Price- %s ', 'woocommerce-products-filter'), '&darr;'), |
  |  | 637 | 'title-asc' => sprintf(\_\_('Title- %s ', 'woocommerce-products-filter'), '&uarr;'), |
  |  | 638 | 'title-desc' => sprintf(\_\_('Title- %s ', 'woocommerce-products-filter'), '&darr;'), |
  |  | 639 | ); |
  |  | 640 | self::show\_sort\_select\_html\_e(apply\_filters('woof\_qs\_sort\_select\_data', $data)); |
  |  | 641 | } |
  | 628 | 642 | public static function show\_sort\_html($asc = 'title-asc', $desc = 'title-desc') { |
  | 629 | 643 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L634) | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3093324#L648) |  |
  | 634 | 648 | return woof()->render\_html(WOOF\_EXT\_PATH . 'quick\_search' . DIRECTORY\_SEPARATOR . 'views/sort\_html.php', $data); |
  | 635 | 649 | } |
  | 636 |  |  |
  |  | 650 | public static function show\_sort\_html\_e($asc = 'title-asc', $desc = 'title-desc') { |
  |  | 651 |  |
  |  | 652 | $data = array( |
  |  | 653 | 'asc' => $asc, |
  |  | 654 | 'desc' => $desc, |
  |  | 655 | ); |
  |  | 656 | woof()->render\_html\_e(WOOF\_EXT\_PATH . 'quick\_search' . DIRECTORY\_SEPARATOR . 'views/sort\_html.php', $data); |
  |  | 657 | } |
  | 637 | 658 | public static function show\_sort\_select\_html($args) { |
  | 638 | 659 | $data = array( |
  | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3045600#L642) | […](/browser/woocommerce-products-filter/trunk/ext/quick_search/index.php?rev=3093324#L663) |  |
  | 642 | 663 | return woof()->render\_html(WOOF\_EXT\_PATH . 'quick\_search' . DIRECTORY\_SEPARATOR . 'views/sort\_select\_html.php', $data); |
  | 643 | 664 | } |
  | 644 |  |  |
  |  | 665 | public static function show\_sort\_select\_html\_e($args) { |
  |  | 666 | $data = array( |
  |  | 667 | 'sort' => $args, |
  |  | 668 | ); |
  |  | 669 |  |
  |  | 670 | woof()->render\_html\_e(WOOF\_EXT\_PATH . 'quick\_search' . DIRECTORY\_SEPARATOR . 'views/sort\_select\_html.php', $data); |
  |  | 671 | } |
  | 645 | 672 | //+++ |
  | 646 | 673 | public static function parse\_template\_structure($str) { |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/js/quick\_search.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/js/quick_search.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/js/quick_search.js")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/js/quick_search.js?rev=3020561#L1310 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/js/quick_search.js?rev=3093324#L1310 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 1310 | 1310 | } |
  | 1311 | 1311 | init\_text\_filter\_content(); |
  | 1312 |  | if (~~woof\_qt\_form.attr('data-preload')~~ == 1) { |
  |  | 1312 | if (parseInt(woof\_qt\_form.attr('data-preload')) === 1) { |
  | 1313 | 1313 | woof\_load\_serch\_data(); |
  | 1314 | 1314 | } |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/tabs_content.php?rev=3020561#L130 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/tabs_content.php?rev=3093324#L130 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 130 | 130 |  |
  | 131 | 131 | <div class="woof-control-container"> |
  | 132 |  | <input type="hidden" id="woof\_qs\_update\_nonce"  value="<?php echo ~~wp\_create\_nonce('woof-qs-nonce'~~); ?>"> |
  |  | 132 | <input type="hidden" id="woof\_qs\_update\_nonce"  value="<?php echo esc\_attr(wp\_create\_nonce('woof-qs-nonce')); ?>"> |
  | 133 | 133 | <div class="woof-control"> |
  | 134 | 134 | <a id="woof\_quick\_search\_update" class="button" ><span class="icon-up"></span><?php esc\_html\_e('Update now!', 'woocommerce-products-filter') ?></a><span class="woof\_qt\_messange"></span><span class="woof\_qt\_product\_count"></span> |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/views/templates/grid\_1/output.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_1/output.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_1/output.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_1/output.php?rev=3020561#L5 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_1/output.php?rev=3093324#L5 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | <div class="woof\_qs\_result  woof\_qs\_list\_<?php echo esc\_attr($template\_result) ?>   text\_res\_page\_0" > |
  | 6 | 6 | <div class=" woof\_qs\_table\_<?php echo esc\_attr($template\_result) ?>\_header"><?php echo wp\_kses\_post(wp\_unslash($header\_text)) ?></div> |
  | 7 |  | <?php ~~echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_select~~() ?> |
  |  | 7 | <?php  WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_select\_e() ?> |
  | 8 | 8 | \_\_PAGINATION\_\_ |
  | 9 | 9 | <ul class="cards table-hover woof\_qs\_container"> |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/views/templates/grid\_2/output.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_2/output.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_2/output.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_2/output.php?rev=3020561#L5 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/grid_2/output.php?rev=3093324#L5 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | <div class="woof\_qs\_result  woof\_qs\_list\_<?php echo esc\_attr($template\_result) ?>   text\_res\_page\_0"> |
  | 6 | 6 | <div class=" woof\_qs\_table\_<?php echo esc\_attr($template\_result) ?>\_header"><?php echo wp\_kses\_post(wp\_unslash($header\_text)) ?></div> |
  | 7 |  | <?php ~~echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_select~~() ?> |
  |  | 7 | <?php WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_select\_e() ?> |
  | 8 | 8 | \_\_PAGINATION\_\_ |
  | 9 | 9 | <div class="qs\_cards woof\_qs\_container"> |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/views/templates/list\_1/output.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_1/output.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_1/output.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_1/output.php?rev=3020561#L11 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_1/output.php?rev=3093324#L11 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 11 | 11 | <?php |
  | 12 | 12 | if ($item['key'] == 'price') { |
  | 13 |  | echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_price(); |
  |  | 13 | // echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_price(); |
  |  | 14 | WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_price\_e(); |
  | 14 | 15 | } elseif ($item['key'] == 'title') { |
  | 15 |  | ~~echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_titl~~e(); |
  |  | 16 | WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_title\_e(); |
  | 16 | 17 | } |
  | 17 | 18 | ?> |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/views/templates/list\_2/output.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_2/output.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_2/output.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_2/output.php?rev=3020561#L13 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_2/output.php?rev=3093324#L13 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | <?php |
  | 14 | 14 | if ($item['key'] == 'price') { |
  | 15 |  | ~~echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_pric~~e(); |
  |  | 15 | WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_price\_e(); |
  | 16 | 16 | } elseif ($item['key'] == 'title') { |
  | 17 |  | ~~echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_titl~~e(); |
  |  | 17 | WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_by\_title\_e(); |
  | 18 | 18 | } |
  | 19 | 19 | ?> |
* ## [woocommerce-products-filter/trunk/ext/quick\_search/views/templates/list\_3/output.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_3/output.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_3/output.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_3/output.php?rev=3020561#L5 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/quick_search/views/templates/list_3/output.php?rev=3093324#L5 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | <div class="woof\_qs\_result  woof\_qs\_list\_<?php echo esc\_attr($template\_result) ?>  text\_res\_page\_0 "> |
  | 6 | 6 | <div class=" woof\_qs\_table\_<?php echo esc\_attr($template\_result) ?>\_header"><?php echo wp\_kses\_post(wp\_unslash($header\_text)) ?></div> |
  | 7 |  | <?php ~~echo WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_select();~~ ?> |
  |  | 7 | <?php WOOF\_EXT\_QUICK\_TEXT::show\_sort\_html\_select\_e() ?> |
  | 8 | 8 | \_\_PAGINATION\_\_ |
  | 9 | 9 | <div class="woof\_qs\_container"> |
* ## [woocommerce-products-filter/trunk/ext/sections/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/sections/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/sections/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3045600#L72 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3093324#L72 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 72 | 72 | $this->woof\_draw\_sctions\_item(); |
  | 73 | 73 | $section = ob\_get\_clean(); |
  | 74 |  | die($section); |
  |  | 74 | wp\_send\_json($section); |
  |  | 75 | //die($section); |
  | 75 | 76 | } |
  | 76 | 77 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3045600#L168) | […](/browser/woocommerce-products-filter/trunk/ext/sections/index.php?rev=3093324#L169) |  |
  | 168 | 169 |  |
  | 169 | 170 | $settings = woof()->settings; |
  | 170 |  | if (!isset($attr['shortcode\_atts']['sections']) && isset($settings['woof\_init\_sections']) && ~~$settings['woof\_init\_sections']~~ == 1) { |
  |  | 171 | if (!isset($attr['shortcode\_atts']['sections']) && isset($settings['woof\_init\_sections']) && intval($settings['woof\_init\_sections']) === 1) { |
  | 171 | 172 | $attr['shortcode\_atts'] = array(); |
  | 172 | 173 | if (isset($settings['sections']) && is\_array($settings['sections'])) { |
* ## [woocommerce-products-filter/trunk/ext/sections/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php?rev=3045600#L155 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/sections/views/tabs_content.php?rev=3093324#L155 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 155 | 155 |  |
  | 156 | 156 | </div> |
  | 157 |  | <input type="hidden" id="woof\_sections\_nonce"  value="<?php echo ~~wp\_create\_nonce('sections\_nonce'~~); ?>"> |
  |  | 157 | <input type="hidden" id="woof\_sections\_nonce"  value="<?php echo esc\_attr(wp\_create\_nonce('sections\_nonce')); ?>"> |
  | 158 | 158 | </section> |
* ## [woocommerce-products-filter/trunk/ext/slideout/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/slideout/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/slideout/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3045600#L167 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3093324#L167 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 167 | 167 |  |
  | 168 | 168 | $show = true; |
  | 169 |  | if (~~$atts['mobile\_behavior']~~ == 1 AND!wp\_is\_mobile()) { |
  |  | 169 | if (intval($atts['mobile\_behavior']) === 1 AND!wp\_is\_mobile()) { |
  | 170 | 170 | $show = false; |
  | 171 | 171 | } |
  | 172 |  | if (~~$atts['mobile\_behavior']~~ == 2 AND wp\_is\_mobile()) { |
  |  | 172 | if (intval($atts['mobile\_behavior']) === 2 AND wp\_is\_mobile()) { |
  | 173 | 173 | $show = false; |
  | 174 | 174 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3045600#L213) | […](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3093324#L213) |  |
  | 213 | 213 | ); |
  | 214 | 214 |  |
  | 215 |  | if (isset($attr['woof\_slideout\_type\_btn']) AND ~~$attr['woof\_slideout\_type\_btn']~~ == 1) { |
  |  | 215 | if (isset($attr['woof\_slideout\_type\_btn']) AND intval($attr['woof\_slideout\_type\_btn']) === 1) { |
  | 216 | 216 | $attr['woof\_slideout\_img'] = 'null'; |
  | 217 | 217 | $deff\_attr['woof\_slideout\_txt'] = "text="; |
  | […](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3045600#L259) | […](/browser/woocommerce-products-filter/trunk/ext/slideout/index.php?rev=3093324#L259) |  |
  | 259 | 259 | } |
  | 260 | 260 | $shortcode = $this->generate\_shortcode(wc\_clean($\_POST)); |
  | 261 |  | die($shortcode); |
  |  | 261 | wp\_send\_json($shortcode); |
  |  | 262 | // die($shortcode); |
  | 262 | 263 | } |
  | 263 | 264 |  |
* ## [woocommerce-products-filter/trunk/ext/slideout/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3045600#L101 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3093324#L101 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 101 | 101 | } |
  | 102 | 102 | ?> |
  | 103 |  | <div class="woof-control-section" <?php if (~~$woof\_settings['woof\_slideout\_type\_btn']~~ == 1) : ?>style="display:none"<?php endif; ?> > |
  |  | 103 | <div class="woof-control-section" <?php if (intval($woof\_settings['woof\_slideout\_type\_btn']) === 1) : ?>style="display:none"<?php endif; ?> > |
  | 104 | 104 | <h4><?php esc\_html\_e('Slideout image', 'woocommerce-products-filter') ?></h4> |
  | 105 | 105 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3045600#L133) | […](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3093324#L133) |  |
  | 133 | 133 | </div><!--/ .woof-control-section--> |
  | 134 | 134 |  |
  | 135 |  | <div class="woof-control-section" <?php if (~~$woof\_settings['woof\_slideout\_type\_btn']~~ == 1) : ?>style="display:none"<?php endif; ?>> |
  |  | 135 | <div class="woof-control-section" <?php if (intval($woof\_settings['woof\_slideout\_type\_btn']) === 1) : ?>style="display:none"<?php endif; ?>> |
  | 136 | 136 |  |
  | 137 | 137 | <h4><?php esc\_html\_e('Button image size', 'woocommerce-products-filter') ?></h4> |
  | […](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3045600#L390) | […](/browser/woocommerce-products-filter/trunk/ext/slideout/views/tabs_content.php?rev=3093324#L390) |  |
  | 390 | 390 |  |
  | 391 | 391 | </div> |
  | 392 |  | <input type="hidden" id="woof\_slideout\_nonce"  value="<?php echo ~~wp\_create\_nonce('slideout\_nonce'~~); ?>"> |
  |  | 392 | <input type="hidden" id="woof\_slideout\_nonce"  value="<?php echo esc\_attr(wp\_create\_nonce('slideout\_nonce')); ?>"> |
  | 393 | 393 | </section> |
  | 394 | 394 |  |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/classes/presets.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php")

  | [r3051027](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3051027#L34 "Show revision 3051027 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3093324#L34 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | if (!current\_user\_can('manage\_woocommerce')) { |
  | 35 | 35 | die('0'); |
  | 36 |  | } |
  | 37 |  | die(strval($this->create(esc\_html($\_REQUEST['title']), esc\_html($\_REQUEST['type']), intval($\_REQUEST['element\_id'])))); |
  |  | 36 | } |
  |  | 37 | wp\_send\_json(strval($this->create(esc\_html($\_REQUEST['title']), esc\_html($\_REQUEST['type']), intval($\_REQUEST['element\_id'])))); |
  |  | 38 | //die(strval($this->create(esc\_html($\_REQUEST['title']), esc\_html($\_REQUEST['type']), intval($\_REQUEST['element\_id'])))); |
  | 38 | 39 | }); |
  | 39 | 40 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3051027#L48) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3093324#L49) |  |
  | 48 | 49 | $preset = $this->get(intval($\_REQUEST['option\_id'])); |
  | 49 | 50 | $this->db->update($this->table\_main, array('options' => $preset), array('id' => $element\_id)); |
  | 50 |  | die(strval($preset)); |
  |  | 51 | wp\_send\_json(strval($preset)); |
  |  | 52 | //die(strval($preset)); |
  | 51 | 53 | }); |
  | 52 | 54 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3051027#L59) | […](/browser/woocommerce-products-filter/trunk/ext/smart_designer/classes/presets.php?rev=3093324#L61) |  |
  | 59 | 61 | } |
  | 60 | 62 | $preset = $this->get(intval($\_REQUEST['option\_id'])); |
  | 61 |  | die(strval($preset)); |
  |  | 63 | wp\_send\_json(strval($preset)); |
  |  | 64 | //wp\_die(strval($preset)); |
  | 62 | 65 | }); |
  | 63 | 66 |  |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/js/presets.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3045600#L181 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/smart_designer/js/presets.js?rev=3093324#L181 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 181 | 181 | Helper.message(woof\_sd.lang.loaded); |
  | 182 | 182 | popup.set\_content(''); |
  | 183 |  | let textarea = Helper.create\_element('textarea', {rows: 10, disabled: 'disabled'}, ~~JSON.stringify(code)~~); |
  |  | 183 | let textarea = Helper.create\_element('textarea', {rows: 10, disabled: 'disabled'}, code); |
  | 184 | 184 | popup.append\_content(textarea); |
  | 185 | 185 | }); |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/smart_designer/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/smart_designer/views/tabs_content.php")

  | [r3022329](/browser/woocommerce-products-filter/trunk/ext/smart_designer/views/tabs_content.php?rev=3022329#L42 "Show revision 3022329 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/smart_designer/views/tabs_content.php?rev=3093324#L42 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 | </div> |
  | 43 | 43 |  |
  | 44 |  | <input type="hidden" id="woof\_sd\_nonce"  value="<?php echo ~~wp\_create\_nonce('woof\_sd\_nonce'~~); ?>"> |
  |  | 44 | <input type="hidden" id="woof\_sd\_nonce"  value="<?php echo esc\_attr(wp\_create\_nonce('woof\_sd\_nonce')); ?>"> |
  | 45 | 45 | </div><!--/ .woof-control-section--> |
  | 46 | 46 |  |
* ## [woocommerce-products-filter/trunk/ext/smart\_designer/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/smart_designer/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/smart_designer/views/woof.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/smart_designer/views/woof.php?rev=3020561#L250 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/smart_designer/views/woof.php?rev=3093324#L250 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 250 | 250 |  |
  | 251 | 251 | if (!empty($terms) AND is\_array($terms)) { |
  | 252 |  | echo woof\_sd\_assemble\_terms($tax\_slug, $terms, $hidden\_terms, $hide\_childs, $sd\_data, $sd\_template, $sd\_template\_num, $current\_request, $show\_count, $show\_count\_dynamic, $hide\_dynamic\_empty\_pos, $not\_toggled\_terms\_count, $sd\_type, 0); |
  |  | 252 | echo woof\_sd\_assemble\_terms( |
  |  | 253 | $tax\_slug, |
  |  | 254 | $terms, |
  |  | 255 | $hidden\_terms, |
  |  | 256 | $hide\_childs, |
  |  | 257 | $sd\_data, |
  |  | 258 | $sd\_template, |
  |  | 259 | $sd\_template\_num, |
  |  | 260 | $current\_request, |
  |  | 261 | $show\_count, |
  |  | 262 | $show\_count\_dynamic, |
  |  | 263 | $hide\_dynamic\_empty\_pos, |
  |  | 264 | $not\_toggled\_terms\_count, |
  |  | 265 | $sd\_type, |
  |  | 266 | 0 |
  |  | 267 | ); |
  | 253 | 268 |  |
  | 254 | 269 | if ($not\_toggled\_terms\_count > 0 AND count($terms) > $not\_toggled\_terms\_count) { |
* ## [woocommerce-products-filter/trunk/ext/stat/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/stat/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/stat/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3045600#L234 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3093324#L234 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 234 | 234 | <p class="description"> |
  | 235 | 235 | <?php |
  | 236 |  | printf(\_\_('PHP extension PDO\_MYSQL is not enabled on your server, not possible to collect statistic data! Contact your hosting support to about enabling PDO\_MYSQL.', 'woocommerce-products-filter')); |
  |  | 236 | printf(esc\_html\_\_('PHP extension PDO\_MYSQL is not enabled on your server, not possible to collect statistic data! Contact your hosting support to about enabling PDO\_MYSQL.', 'woocommerce-products-filter')); |
  | 237 | 237 | ?> |
  | 238 | 238 | </p> |
  | […](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3045600#L253) | […](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3093324#L253) |  |
  | 253 | 253 | <p class="description"> |
  | 254 | 254 | <?php |
  | 255 |  | printf(~~\_\_('Very recommend for the statistic not less than %s of the memory to avoid malfunctionality. Now is on the site %s', 'woocommerce-products-filter'), size\_format($min\_memory\_mb), size\_format($memory~~)); |
  |  | 255 | printf(esc\_html\_\_('Very recommend for the statistic not less than %s of the memory to avoid malfunctionality. Now is on the site %s', 'woocommerce-products-filter'), esc\_html(size\_format($min\_memory\_mb)), esc\_html(size\_format($memory))); |
  | 256 | 256 | ?> |
  | 257 | 257 | </p> |
  | […](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3045600#L282) | […](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3093324#L282) |  |
  | 282 | 282 | <p class="description"> |
  | 283 | 283 | <?php |
  | 284 |  | printf(\_\_('Wrong data for "Server options for statistic stock" options', 'woocommerce-products-filter')); |
  |  | 284 | printf(esc\_html\_\_('Wrong data for "Server options for statistic stock" options', 'woocommerce-products-filter')); |
  | 285 | 285 | ?> |
  | 286 | 286 | </p> |
  | […](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3045600#L433) | […](/browser/woocommerce-products-filter/trunk/ext/stat/index.php?rev=3093324#L433) |  |
  | 433 | 433 | foreach ($search\_template as &$value) { |
  | 434 | 434 | $value = explode(',', $value); |
  | 435 |  | if (count($value) == 1 AND empty($value[0])) { |
  |  | 435 | if (count($value) === 1 AND empty($value[0])) { |
  | 436 | 436 | $value = array(); |
  | 437 | 437 | } |
* ## [woocommerce-products-filter/trunk/ext/stat/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3020561#L68 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3093324#L68 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 68 | 68 | <?php if (!empty($stat\_min\_date)): ?> |
  | 69 | 69 | <div class="woof\_fix4"> |
  | 70 |  | <?php printf(esc\_html\_\_('(Statistic collected from: %s %d)', 'woocommerce-products-filter'), ~~$wp\_locale->get\_month($stat\_min\_date[1]), $stat\_min\_date[0]~~) ?> |
  |  | 70 | <?php printf(esc\_html\_\_('(Statistic collected from: %s %d)', 'woocommerce-products-filter'), esc\_html($wp\_locale->get\_month($stat\_min\_date[1])), esc\_html($stat\_min\_date[0])) ?> |
  | 71 | 71 | </div> |
  | 72 | 72 | <?php endif; ?> |
  | […](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3020561#L230) | […](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3093324#L230) |  |
  | 230 | 230 | <p class="description"> |
  | 231 | 231 | <?php |
  | 232 |  | printf(\_\_('Statistic extension is activated but statistics collection is not enabled. Enable it on: tab Statistic -> tab Options -> "Statistics collection enabled"', 'woocommerce-products-filter')); |
  |  | 232 | printf(esc\_html\_\_('Statistic extension is activated but statistics collection is not enabled. Enable it on: tab Statistic -> tab Options -> "Statistics collection enabled"', 'woocommerce-products-filter')); |
  | 233 | 233 | ?> |
  | 234 | 234 | </p> |
  | […](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3020561#L276) | […](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3093324#L276) |  |
  | 276 | 276 | <p class="description"> |
  | 277 | 277 | <?php |
  | 278 |  | printf(\_\_('Statistic -> tab Options -> "Stat server options" inputs should be filled in by right data, another way not possible to collect statistical data!', 'woocommerce-products-filter')); |
  |  | 278 | printf(esc\_html\_\_('Statistic -> tab Options -> "Stat server options" inputs should be filled in by right data, another way not possible to collect statistical data!', 'woocommerce-products-filter')); |
  | 279 | 279 | ?> |
  | 280 | 280 | </p> |
  | […](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3020561#L646) | […](/browser/woocommerce-products-filter/trunk/ext/stat/views/tabs_content.php?rev=3093324#L646) |  |
  | 646 | 646 |  |
  | 647 | 647 | </div> |
  | 648 |  | <input type="hidden" id="woof\_stat\_nonce" value="<?php echo  ~~wp\_create\_nonce( 'woof\_stat\_nonce'~~ ); ?>"> |
  |  | 648 | <input type="hidden" id="woof\_stat\_nonce" value="<?php echo  esc\_attr(wp\_create\_nonce( 'woof\_stat\_nonce' )); ?>"> |
  | 649 | 649 | </div> |
  | 650 | 650 | </section> |
* ## [woocommerce-products-filter/trunk/ext/step\_filer/views/shortcode/step\_filter.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/step_filer/views/shortcode/step_filter.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/step_filer/views/shortcode/step_filter.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/step_filer/views/shortcode/step_filter.php?rev=3020561#L29 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/step_filer/views/shortcode/step_filter.php?rev=3093324#L29 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | </div> |
  | 30 | 30 | <?php if ($images): ?> |
  | 31 |  | <input class="woof\_step\_filter\_images" type="hidden" value=<?php echo ~~base64\_encode(json\_encode($images~~)) ?> data-selector="<?php echo esc\_attr($selector) ?>" data-behavior="<?php echo esc\_attr($img\_behavior) ?>" > |
  |  | 31 | <input class="woof\_step\_filter\_images" type="hidden" value=<?php echo esc\_attr(base64\_encode(json\_encode($images))) ?> data-selector="<?php echo esc\_attr($selector) ?>" data-behavior="<?php echo esc\_attr($img\_behavior) ?>" > |
  | 32 | 32 | <?php endif; ?> |
  | 33 | 33 | </div> |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/turbo_mode/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L62 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324#L62 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 62 | 62 | } |
  | 63 | 63 |  |
  |  | 64 |  |
  |  | 65 |  |
  | 64 | 66 | add\_action($this->crone\_hook, array($this, 'do\_recreate\_file'), 10, 3); |
  | 65 | 67 | add\_filter($this->crone\_filter, array($this, 'get\_cron\_ids'), 10, 2); |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L97) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324#L99) |  |
  | 97 | 99 | add\_action('wp\_ajax\_woof\_turbo\_mode\_update\_file', array($this, 'ajax\_create\_data\_search\_files')); |
  | 98 | 100 | add\_action('wp\_ajax\_nopriv\_woof\_turbo\_mode\_update\_file', array($this, 'ajax\_create\_data\_search\_files')); |
  |  | 101 |  |
  | 99 | 102 | } |
  | 100 | 103 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L107) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324#L110) |  |
  | 107 | 110 | return $txt; |
  | 108 | 111 | } |
  |  | 112 | public function get\_schedules(){ |
  |  | 113 | return apply\_filters('woof\_turbo\_mode\_schedules', |
  |  | 114 | array( |
  |  | 115 | 'daily' => array( |
  |  | 116 | 'value' => DAY\_IN\_SECONDS, |
  |  | 117 | 'name' => esc\_html\_\_('daily', 'woocommerce-products-filter') |
  |  | 118 | ), |
  |  | 119 | 'weekly' => array( |
  |  | 120 | 'value' => WEEK\_IN\_SECONDS, |
  |  | 121 | 'name' => esc\_html\_\_('weekly', 'woocommerce-products-filter') |
  |  | 122 | ), |
  |  | 123 | 'twicemonthly' => array( |
  |  | 124 | 'value' => WEEK\_IN\_SECONDS \* 2, |
  |  | 125 | 'name' => esc\_html\_\_('twicemonthly', 'woocommerce-products-filter') |
  |  | 126 | ), |
  |  | 127 | 'month' => array( |
  |  | 128 | 'value' => WEEK\_IN\_SECONDS \* 4, |
  |  | 129 | 'name' => esc\_html\_\_('monthly', 'woocommerce-products-filter') |
  |  | 130 | ), |
  |  | 131 | 'min1' => array( |
  |  | 132 | 'value' => MINUTE\_IN\_SECONDS, |
  |  | 133 | 'name' => esc\_html\_\_('min1', 'woocommerce-products-filter') |
  |  | 134 | ), |
  |  | 135 | 'no' => array( |
  |  | 136 | 'value' => -1, |
  |  | 137 | 'name' => esc\_html\_\_('without update', 'woocommerce-products-filter') |
  |  | 138 | ) |
  |  | 139 | ) |
  |  | 140 | ); |
  |  | 141 | } |
  | 109 | 142 |  |
  | 110 | 143 | public function wp\_footer() { |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L171) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324#L204) |  |
  | 171 | 204 | var woof\_turbo\_creating = "<?php esc\_html\_e('Creating', 'woocommerce-products-filter') ?>"; |
  | 172 | 205 | var woof\_turbo\_products = "<?php esc\_html\_e('Products and Variants', 'woocommerce-products-filter') ?>"; |
  | 173 |  | var woof\_turbo\_nonce = "<?php echo ~~wp\_create\_nonce( 'woof\_turbo\_nonce'~~ ); ?>"; |
  |  | 206 | var woof\_turbo\_nonce = "<?php echo esc\_attr(wp\_create\_nonce( 'woof\_turbo\_nonce' )); ?>"; |
  | 174 | 207 | <?php |
  | 175 | 208 | $txt\_js = ob\_get\_clean(); |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L182) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324#L215) |  |
  | 182 | 215 |  |
  | 183 | 216 | $data['woof\_settings'] = $this->woof\_settings; |
  | 184 |  |  |
  |  | 217 | $data['schedules'] = $this->get\_schedules(); |
  | 185 | 218 | woof()->render\_html\_e($this->get\_ext\_path() . 'views/tabs\_content.php', $data); |
  | 186 | 219 | } |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3045600#L605) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/index.php?rev=3093324#L638) |  |
  | 605 | 638 |  |
  | 606 | 639 | public function get\_woof\_cron\_schedules($key = '') { |
  | 607 |  | ~~$schedules = array(~~ |
  | 608 |  | ~~'daily' => DAY\_IN\_SECONDS,~~ |
  | 609 |  | ~~'weekly' => WEEK\_IN\_SECONDS,~~ |
  | 610 |  | ~~'twicemonthly' => WEEK\_IN\_SECONDS \* 2,~~ |
  | 611 |  | ~~'month' => WEEK\_IN\_SECONDS \* 4,~~ |
  | 612 |  | ~~'min1' => MINUTE\_IN\_SECONDS,~~ |
  | 613 |  | ~~'no' => -1~~ |
  | 614 |  | ~~);~~ |
  | 615 | 640 |  |
  | 616 | 641 | if (empty($key)) { |
  | 617 | 642 | $key = 'weekly'; |
  | 618 | 643 | } |
  | 619 |  |  |
  |  | 644 | $schedules = $this->get\_schedules(); |
  | 620 | 645 | if (isset($schedules[$key])) { |
  | 621 |  | return $schedules[$key]; |
  |  | 646 | return $schedules[$key]['value']; |
  | 622 | 647 | } |
  | 623 | 648 |  |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/js/admin.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3045600#L80 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/admin.js?rev=3093324#L80 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 80 | 80 | //to avoid logic errors with the count options |
  | 81 | 81 | jQuery('#woof\_hide\_dynamic\_empty\_pos\_turbo\_mode').change(function () { |
  | 82 |  | if (~~jQuery(this).val()~~ == 1) { |
  |  | 82 | if (parseInt(jQuery(this).val()) === 1) { |
  | 83 | 83 | jQuery('#woof\_show\_count\_turbo\_mode').val(1); |
  | 84 | 84 | jQuery('#woof\_show\_count\_dynamic\_turbo\_mode').val(1); |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/js/turbo\_mode.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3045600#L50 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/js/turbo_mode.js?rev=3093324#L50 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 50 | 50 | } |
  | 51 | 51 | if (data.settings[i] != undefined) { |
  | 52 |  | if (data.settings[i]['search\_option'] != undefined && ~~data.settings[i]['search\_option']~~ == 1) { |
  |  | 52 | if (data.settings[i]['search\_option'] != undefined && parseInt(data.settings[i]['search\_option']) === 1) { |
  | 53 | 53 | checkbox\_logic = "exist"; |
  | 54 | 54 | } else if (data.settings[i]['search\_option'] != undefined && data.settings[i]['search\_value'] != undefined && data.settings[i]['search\_option'] == 0) { |
* ## [woocommerce-products-filter/trunk/ext/turbo\_mode/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3045600#L130 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3093324#L130 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 130 | 130 |  |
  | 131 | 131 | <?php |
  | 132 |  | ~~$wp\_cron\_periods = array(~~ |
  | 133 |  | ~~'daily' => esc\_html\_\_('daily', 'woocommerce-products-filter'),~~ |
  | 134 |  | ~~'weekly' => esc\_html\_\_('weekly', 'woocommerce-products-filter'),~~ |
  | 135 |  | ~~'twicemonthly' => esc\_html\_\_('twicemonthly', 'woocommerce-products-filter'),~~ |
  | 136 |  | ~~'month' => esc\_html\_\_('monthly', 'woocommerce-products-filter'),~~ |
  | 137 |  | ~~'min1' => esc\_html\_\_('min1', 'woocommerce-products-filter'),~~ |
  | 138 |  | ~~'no' => esc\_html\_\_('without update', 'woocommerce-products-filter'),~~ |
  | 139 |  | ~~);~~ |
  | 140 | 132 |  |
  | 141 | 133 | if (!isset($woof\_settings['woof\_turbo\_mode']['wp\_cron\_period'])) { |
  | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3045600#L147) | […](/browser/woocommerce-products-filter/trunk/ext/turbo_mode/views/tabs_content.php?rev=3093324#L139) |  |
  | 147 | 139 | <div class="select-wrap"> |
  | 148 | 140 | <select name="woof\_settings[woof\_turbo\_mode][wp\_cron\_period]" class="chosen\_select"> |
  | 149 |  | <?php foreach ($~~wp\_cron\_period~~s as $key => $value) : ?> |
  | 150 |  | <option value="<?php echo esc\_attr($key) ?>" <?php selected($wp\_cron\_period == $key) ?>><?php esc\_html\_e($value) ?></option> |
  |  | 141 | <?php foreach ($schedules as $key => $value) : ?> |
  |  | 142 | <option value="<?php echo esc\_attr($key) ?>" <?php selected($wp\_cron\_period == $key) ?>><?php esc\_html\_e($value['name']) ?></option> |
  | 151 | 143 | <?php endforeach; ?> |
  | 152 | 144 | </select> |
* ## [woocommerce-products-filter/trunk/ext/url\_request/classes/seo.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/url_request/classes/seo.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/url_request/classes/seo.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/url_request/classes/seo.php?rev=3020561#L70 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/url_request/classes/seo.php?rev=3093324#L70 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | foreach ($rules as $key => $rule\_data) { |
  | 71 | 71 | if (isset($rule\_data['url'])) { |
  | 72 |  | ~~$needle = array('{any}', '/~~'); |
  | 73 |  | $replase = array('.\*', '\/'); |
  |  | 72 | $needle = array('{any}', '/', 'end'); |
  |  | 73 | $replase = array('.\*', '\/', '$'); |
  | 74 | 74 | $url = str\_replace($needle, $replase, $rule\_data['url']); |
  | 75 | 75 | preg\_match('/' . $url . '/', $current\_url, $matches); |
* ## [woocommerce-products-filter/trunk/ext/url\_request/css/admin.css](/changeset/3093324/woocommerce-products-filter/trunk/ext/url_request/css/admin.css "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/url_request/css/admin.css")

  | [r3020561](/browser/woocommerce-products-filter/trunk/ext/url_request/css/admin.css?rev=3020561#L24 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/url_request/css/admin.css?rev=3093324#L24 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | width: fit-content; |
  | 25 | 25 | vertical-align: top; |
  |  | 26 | } |
  |  | 27 | .woof\_seo\_rule\_up, .woof\_seo\_rule\_down{ |
  |  | 28 | display: inline-block; |
  |  | 29 | width: fit-content; |
  |  | 30 | vertical-align: top; |
  | 26 | 31 | } |
  | 27 | 32 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/url_request/css/admin.css?rev=3020561#L89) | […](/browser/woocommerce-products-filter/trunk/ext/url_request/css/admin.css?rev=3093324#L94) |  |
  | 89 | 94 | } |
  | 90 | 95 |  |
  |  | 96 | .woof\_seo\_rule\_up .dashicons-arrow-up-alt, .woof\_seo\_rule\_down .dashicons-arrow-down-alt{ |
  |  | 97 | line-height: 1.6em; |
  |  | 98 | } |
  |  | 99 | #woof\_seo\_rules\_list > .woof\_seo\_rules\_item:last-of-type .woof\_seo\_rule\_down{ |
  |  | 100 | display: none; |
  |  | 101 | } |
  |  | 102 |  |
  |  | 103 | #woof\_seo\_rules\_list > .woof\_seo\_rules\_item:first-of-type .woof\_seo\_rule\_up{ |
  |  | 104 | display: none; |
  |  | 105 | } |
* ## [woocommerce-products-filter/trunk/ext/url\_request/index.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/url_request/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/url_request/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3045600#L124 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3093324#L124 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 124 | 124 | $this->woof\_draw\_seo\_rules\_item('', $lang, $url); |
  | 125 | 125 | $seo\_rule = ob\_get\_clean(); |
  | 126 |  | die($seo\_rule); |
  |  | 126 | wp\_send\_json($seo\_rule); |
  |  | 127 | //die($seo\_rule); |
  | 127 | 128 | } |
  | 128 | 129 |  |
  | […](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3045600#L187) | […](/browser/woocommerce-products-filter/trunk/ext/url_request/index.php?rev=3093324#L188) |  |
  | 187 | 188 | <div class='woof\_seo\_rule\_delete' > |
  | 188 | 189 | <a href="#" class="button button-primary woof\_seo\_rules\_delete woof-button" data-key='<?php echo esc\_attr($ukey); ?>' title="delete"><span class="dashicons dashicons-trash"></span></a> |
  | 189 |  | </div> |
  |  | 190 | </div> |
  |  | 191 | <div class='woof\_seo\_rule\_up' > |
  |  | 192 | <a href="#" class="button button-primary woof\_seo\_rules\_move\_up woof-button" data-key='<?php echo esc\_attr($ukey); ?>' title="delete"><span class="dashicons dashicons-arrow-up-alt"></span></a> |
  |  | 193 | </div> |
  |  | 194 | <div class='woof\_seo\_rule\_down' > |
  |  | 195 | <a href="#" class="button button-primary woof\_seo\_rules\_move\_down woof-button" data-key='<?php echo esc\_attr($ukey); ?>' title="delete"><span class="dashicons dashicons-arrow-down-alt"></span></a> |
  |  | 196 | </div> |
  | 190 | 197 | </li> |
  | 191 | 198 | <?php |
* ## [woocommerce-products-filter/trunk/ext/url\_request/js/admin.js](/changeset/3093324/woocommerce-products-filter/trunk/ext/url_request/js/admin.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/url_request/js/admin.js")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/url_request/js/admin.js?rev=3045600#L60 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/url_request/js/admin.js?rev=3093324#L60 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 60 | 60 | return false; |
  | 61 | 61 | }); |
  |  | 62 | jQuery('.woof\_seo\_rules\_move\_down').off('click'); |
  |  | 63 | jQuery('.woof\_seo\_rules\_move\_down').on('click', function () { |
  |  | 64 | var key = jQuery(this).data('key'); |
  |  | 65 | var item = jQuery("li[data-key='" + key + "']"); |
  |  | 66 | var after = item.next(); |
  |  | 67 | item.insertAfter(after); |
  |  | 68 |  |
  |  | 69 | return false; |
  |  | 70 | }); |
  |  | 71 | jQuery('.woof\_seo\_rules\_move\_up').off('click'); |
  |  | 72 | jQuery('.woof\_seo\_rules\_move\_up').on('click', function () { |
  |  | 73 | var key = jQuery(this).data('key'); |
  |  | 74 | var item = jQuery("li[data-key='" + key + "']"); |
  |  | 75 | var after = item.prev(); |
  |  | 76 | item.insertBefore(after); |
  |  | 77 |  |
  |  | 78 | return false; |
  |  | 79 | }); |
  | 62 | 80 | } |
* ## [woocommerce-products-filter/trunk/ext/url\_request/views/tabs\_content.php](/changeset/3093324/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php?rev=3045600#L240 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/ext/url_request/views/tabs_content.php?rev=3093324#L240 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 240 | 240 |  |
  | 241 | 241 | </div> |
  | 242 |  | <input id="woof\_url\_request\_nonce" type="hidden" value="<?php echo ~~wp\_create\_nonce('woof\_url\_request\_nonce'~~);?>"> |
  |  | 242 | <input id="woof\_url\_request\_nonce" type="hidden" value="<?php echo esc\_attr(wp\_create\_nonce('woof\_url\_request\_nonce'));?>"> |
  | 243 | 243 | </div> |
  | 244 | 244 | </section> |
* ## [woocommerce-products-filter/trunk/index.php](/changeset/3093324/woocommerce-products-filter/trunk/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/index.php")

  | [r3087562](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L4 "Show revision 3087562 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L4 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://products-filter.com/ |
  | 5 | 5 | Description: HUSKY - WooCommerce Products Filter Professional. Flexible, easy and robust products filter for WooCommerce store site! |
  | 6 |  | Requires at least: WP ~~5.2~~.0 |
  |  | 6 | Requires at least: WP 6.0.0 |
  | 7 | 7 | Tested up to: WP 6.5 |
  | 8 | 8 | Author: realmag777 |
  | 9 | 9 | Author URI: https://pluginus.net/ |
  | 10 |  | Version: 1.3.~~5.3~~ |
  | 11 |  | Requires PHP: 7.~~3~~ |
  |  | 10 | Version: 1.3.6 |
  |  | 11 | Requires PHP: 7.4 |
  | 12 | 12 | Tags: filter,search,woocommerce,woocommerce filter,woocommerce product filter,woocommerce products filter,products filter,product filter,filter of products,filter for products,filter for woocommerce |
  | 13 | 13 | Text Domain: woocommerce-products-filter |
  | 14 | 14 | Domain Path: /languages |
  | 15 | 15 | Forum URI: https://pluginus.net/support/forum/woof-woocommerce-products-filter/ |
  | 16 |  | WC requires at least: ~~5.2~~.0 |
  | 17 |  | WC tested up to: 8.~~9~~ |
  |  | 16 | WC requires at least: 6.0.0 |
  |  | 17 | WC tested up to: 8.8 |
  | 18 | 18 | \*/ |
  | 19 | 19 |  |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L57) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L57) |  |
  | 57 | 57 | define('WOOF\_PLUGIN\_NAME', plugin\_basename(\_\_FILE\_\_)); |
  | 58 | 58 | define('WOOF\_EXT\_PATH', WOOF\_PATH . 'ext/'); |
  | 59 |  | define('WOOF\_VERSION', '1.3.~~5.3~~'); |
  | 60 |  | //define('WOOF\_VERSION', uniqid('woof-')); //for dev only |
  | 61 |  | define('WOOF\_MIN\_WOOCOMMERCE\_VERSION', '~~5.2~~'); |
  |  | 59 | define('WOOF\_VERSION', '1.3.6'); |
  |  | 60 | //define('WOOF\_VERSION', uniqid('woof-')); //for dev only to avoid js/css cache |
  |  | 61 | define('WOOF\_MIN\_WOOCOMMERCE\_VERSION', '6.0'); |
  | 62 | 62 | //classes |
  | 63 | 63 | include WOOF\_PATH . 'classes/request.php'; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L75) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L75) |  |
  | 75 | 75 | include WOOF\_PATH . 'installer/first\_settings.php'; |
  | 76 | 76 |  |
  | 77 |  | //~~14-03~~-2024 |
  |  | 77 | //27-05-2024 |
  | 78 | 78 | final class WOOF { |
  | 79 | 79 |  |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L318) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L318) |  |
  | 318 | 318 | //\*\*\* |
  | 319 | 319 |  |
  | 320 |  | $data = WOOF\_HELPER::sanitize\_array(json\_decode(stripcslashes(WOOF\_REQUEST::get('formdata')),true)); |
  |  | 320 | $data = WOOF\_HELPER::sanitize\_array(json\_decode(stripcslashes(WOOF\_REQUEST::get('formdata')), true)); |
  | 321 | 321 |  |
  | 322 | 322 | if (isset($data['woof\_settings'])) { |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L325) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L325) |  |
  | 325 | 325 | } |
  | 326 | 326 |  |
  | 327 |  | //WC\_Admin\_Settings |
  | 328 |  | $allowed\_keys\_post = array\_column($this->get\_options(), 'id'); |
  | 329 |  | $post\_data = array\_intersect\_key($data, array\_flip($allowed\_keys\_post)); |
  |  | 327 | //WC\_Admin\_Settings |
  |  | 328 | $allowed\_keys\_post = array\_column($this->get\_options(), 'id'); |
  |  | 329 | $post\_data = array\_intersect\_key($data, array\_flip($allowed\_keys\_post)); |
  | 330 | 330 | $\_POST = WOOF\_HELPER::sanitize\_array($post\_data); //for WC\_Admin\_Settings |
  | 331 | 331 | WC\_Admin\_Settings::save\_fields($this->get\_options()); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L397) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L397) |  |
  | 397 | 397 | ob\_start(); |
  | 398 | 398 | ?> |
  | 399 |  | var woof\_save\_link = "<?php echo ~~admin\_url('admin.php?page=wc-settings&tab=woof&settings\_saved=1')~~ ?>"; |
  |  | 399 | var woof\_save\_link = "<?php echo esc\_url(admin\_url('admin.php')) . '?page=wc-settings&tab=woof&settings\_saved=1' ?>"; |
  | 400 | 400 | var woof\_lang\_saving = "<?php esc\_html\_e('HUSKY settings saving ...', 'woocommerce-products-filter') ?>"; |
  | 401 |  | var woof\_abspath = "<?php echo ~~realpath(ABSPATH~~) ?>"; |
  | 402 |  | var woof\_ext\_path = "<?php echo ~~realpath($this->get\_custom\_ext\_path(~~)) . '/' ?>"; |
  | 403 |  | var woof\_ext\_url = "<?php echo ~~sprintf("%s?action=woof\_upload\_ext&extnonce=%s", admin\_url('admin-ajax.php'),~~ wp\_create\_nonce('add-ext-nonce')) ?>"; |
  |  | 401 | var woof\_abspath = "<?php echo esc\_html(realpath(ABSPATH)) ?>"; |
  |  | 402 | var woof\_ext\_path = "<?php echo esc\_html(realpath($this->get\_custom\_ext\_path())) . '/' ?>"; |
  |  | 403 | var woof\_ext\_url = "<?php echo esc\_url(admin\_url('admin-ajax.php')) . '?action=woof\_upload\_ext&extnonce=' . esc\_html(wp\_create\_nonce('add-ext-nonce')) ?>"; |
  | 404 | 404 | var woof\_ext\_custom = "<?php echo intval($is\_custom\_extensions) ?>"; |
  | 405 | 405 | var woof\_show\_notes = <?php echo intval($this->show\_notes ? 1 : 0) ?>; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L504) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L504) |  |
  | 504 | 504 | $show\_price\_search\_button = (int) $this->settings['by\_price']['show\_button']; |
  | 505 | 505 | } |
  | 506 |  | if (isset($this->settings['by\_price']['show']) AND ~~(int) $this->settings['by\_price']['show']~~ == 1) { |
  |  | 506 | if (isset($this->settings['by\_price']['show']) AND intval($this->settings['by\_price']['show']) === 1) { |
  | 507 | 507 | if (!$show\_price\_search\_button == 1) { |
  | 508 | 508 | $css\_data .= PHP\_EOL . ".woof\_price\_search\_container .price\_slider\_amount button.button{ |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L885) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L885) |  |
  | 885 | 885 |  |
  | 886 | 886 | public function wp\_head() { |
  | 887 |  |  |
  |  | 887 |  |
  | 888 | 888 | if (!defined('DOING\_AJAX') && !is\_page()) { |
  | 889 | 889 | global $wp\_query; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L915) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L915) |  |
  | 915 | 915 | /\* dynamic js assemble vars \*/ |
  | 916 | 916 | ?> |
  | 917 |  | ~~const woof\_front\_nonce = "<?php echo wp\_create\_nonce('woof\_front\_nonce'~~); ?>"; |
  |  | 917 | const woof\_front\_nonce = "<?php echo esc\_html(wp\_create\_nonce('woof\_front\_nonce')); ?>"; |
  | 918 | 918 | var woof\_is\_permalink =<?php echo intval((bool) $this->is\_permalink\_activated()) ?>; |
  | 919 | 919 | var woof\_shop\_page = ""; |
  | 920 | 920 | <?php if (!$this->is\_permalink\_activated()): ?> |
  | 921 |  | woof\_shop\_page = "<?php echo ~~home\_url('/?post\_type=product'~~) ?>"; |
  |  | 921 | woof\_shop\_page = "<?php echo esc\_url\_raw(home\_url('/?post\_type=product')) ?>"; |
  | 922 | 922 | <?php endif; ?> |
  | 923 | 923 | var woof\_m\_b\_container ="<?php echo esc\_html(apply\_filters('woof\_mobile\_btn\_place\_container', '.woocommerce-products-header')); ?>"; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L958) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L958) |  |
  | 958 | 958 | ?> |
  | 959 | 959 |  |
  | 960 |  | var woof\_ajaxurl = "<?php echo ~~admin\_url('admin-ajax.php'~~) ?>"; |
  |  | 960 | var woof\_ajaxurl = "<?php echo esc\_url(admin\_url('admin-ajax.php')) ?>"; |
  | 961 | 961 |  |
  | 962 | 962 | var woof\_lang = { |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L1043) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L1043) |  |
  | 1043 | 1043 |  |
  | 1044 | 1044 | var woof\_autosubmit =<?php echo intval(get\_option('woof\_autosubmit', 0)) ?>; |
  | 1045 |  | var woof\_ajaxurl = "<?php echo ~~admin\_url('admin-ajax.php'~~) ?>"; |
  |  | 1045 | var woof\_ajaxurl = "<?php echo esc\_url(admin\_url('admin-ajax.php')) ?>"; |
  | 1046 | 1046 | /\*var woof\_submit\_link = "";\*/ |
  | 1047 | 1047 | var woof\_is\_ajax = 0; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L1122) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L1122) |  |
  | 1122 | 1122 |  |
  | 1123 | 1123 | <?php |
  | 1124 |  | ~~echo apply\_filters('woof\_wp\_load\_js', '') . ';'; //vars from another exts~~ |
  | 1125 |  |  |
  | 1126 | 1124 | $stxt = ob\_get\_clean(); |
  | 1127 |  | $stxt .= PHP\_EOL . " function woof\_js\_after\_ajax\_done() { jQuery(document).trigger('woof\_ajax\_done'); " . PHP\_EOL |
  |  | 1125 | $stxt .= PHP\_EOL . " function woof\_js\_after\_ajax\_done() { jQuery(document).trigger('woof\_ajax\_done'); " . PHP\_EOL |
  | 1128 | 1126 | . (isset($this->settings['js\_after\_ajax\_done']) ? stripcslashes(html\_entity\_decode($this->settings['js\_after\_ajax\_done'])) : '') . |
  | 1129 | 1127 | PHP\_EOL . "}"; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L1151) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L1149) |  |
  | 1151 | 1149 | wp\_enqueue\_script('woof\_mselect\_html\_items', WOOF\_LINK . 'js/html\_types/mselect.js', array('jquery'), WOOF\_VERSION); |
  | 1152 | 1150 | } |
  |  | 1151 |  |
  | 1153 | 1152 | wp\_add\_inline\_script('woof\_front', $stxt, 'before'); |
  |  | 1153 | do\_action("woof\_after\_inline\_js"); |
  | 1154 | 1154 | wp\_localize\_script('woof\_front', 'woof\_filter\_titles', $this->get\_all\_filter\_titles()); |
  | 1155 | 1155 | $text\_data = array(); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L1303) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L1303) |  |
  | 1303 | 1303 | static $taxonomies = array(); |
  | 1304 | 1304 | //if (empty($taxonomies)) { |
  | 1305 |  | $taxonomies = get\_object\_taxonomies('product', 'objects'); |
  | 1306 |  | unset($taxonomies['product\_shipping\_class']); |
  | 1307 |  | unset($taxonomies['product\_type']); |
  | 1308 |  | //unset($taxonomies['product\_visibility']); |
  | 1309 |  | // } |
  |  | 1305 | $taxonomies = get\_object\_taxonomies('product', 'objects'); |
  |  | 1306 | unset($taxonomies['product\_shipping\_class']); |
  |  | 1307 | unset($taxonomies['product\_type']); |
  |  | 1308 | //unset($taxonomies['product\_visibility']); |
  |  | 1309 | // } |
  | 1310 | 1310 | return $taxonomies; |
  | 1311 | 1311 | } |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L1966) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L1966) |  |
  | 1966 | 1966 |  |
  | 1967 | 1967 | $data = WOOF\_HELPER::sanitize\_array($\_GET); |
  | 1968 |  |  |
  |  | 1968 |  |
  | 1969 | 1969 | // fix for special simbols |
  | 1970 | 1970 | $woof\_text\_urlencode = apply\_filters('woof\_text\_urlencode', 0); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L2544) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L2544) |  |
  | 2544 | 2544 | ?> |
  | 2545 | 2545 |  |
  | 2546 |  | <?php //wc\_get\_template('loop/loop-end.php');                                                                                                                         ?> |
  |  | 2546 | <?php //wc\_get\_template('loop/loop-end.php');                                                                                                                          ?> |
  | 2547 | 2547 |  |
  | 2548 | 2548 | <?php |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L2630) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L2630) |  |
  | 2630 | 2630 | //shortcode, works when ajax mode only for shop/category page |
  | 2631 | 2631 | public function woof\_draw\_products() { |
  | 2632 |  |  |
  | 2633 |  | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  | 2634 |  | die('nonce error'); |
  | 2635 |  | } |
  | 2636 |  |  |
  |  | 2632 |  |
  |  | 2633 | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  |  | 2634 | die('nonce error'); |
  |  | 2635 | } |
  |  | 2636 |  |
  | 2637 | 2637 | if (WOOF\_REQUEST::isset('link')) { |
  | 2638 | 2638 | $link = parse\_url(WOOF\_REQUEST::get('link'), PHP\_URL\_QUERY); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L2700) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L2700) |  |
  | 2700 | 2700 | $args = array(); |
  | 2701 | 2701 | //this for synhronizating shortcode woof\_products if its has attribute taxonomies |
  | 2702 |  | $atts = wc\_clean($atts); |
  |  | 2702 | $atts = wc\_clean($atts); |
  | 2703 | 2703 | if (isset($atts['taxonomies'])) { |
  | 2704 | 2704 | $args['additional\_taxes'] = apply\_filters('woof\_set\_shortcode\_taxonomyattr\_behaviour', $atts['taxonomies']); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L2715) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L2715) |  |
  | 2715 | 2715 | if (isset($atts['mobile\_mode'])) { |
  | 2716 | 2716 | $args['mobile\_mode'] = $atts['mobile\_mode']; |
  |  | 2717 | } |
  |  | 2718 |  |
  |  | 2719 | if (isset($atts['filter\_blur'])) { |
  |  | 2720 | $args['filter\_blur'] = $atts['filter\_blur']; |
  |  | 2721 | } elseif (isset($this->settings['filter\_blur'])) { |
  |  | 2722 | $args['filter\_blur'] = $this->settings['filter\_blur']; |
  | 2717 | 2723 | } |
  | 2718 | 2724 |  |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L2767) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L2773) |  |
  | 2767 | 2773 | $tmp = $args['taxonomies'][$tax\_key]; |
  | 2768 | 2774 | foreach ($parents\_ids as $id) { |
  |  | 2775 | if (!isset($tmp[$id])) { |
  |  | 2776 | continue; |
  |  | 2777 | } |
  | 2769 | 2778 | $tmp = $tmp[$id]['childs']; |
  | 2770 | 2779 | } |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L2983) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L2992) |  |
  | 2983 | 2992 | //redraw search form |
  | 2984 | 2993 | public function woof\_redraw\_woof() { |
  | 2985 |  |  |
  | 2986 |  | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  | 2987 |  | die('nonce error'); |
  | 2988 |  | } |
  | 2989 |  |  |
  |  | 2994 |  |
  |  | 2995 | if (!isset($\_REQUEST['nonce\_filter']) || !wp\_verify\_nonce($\_REQUEST['nonce\_filter'], 'woof\_front\_nonce')) { |
  |  | 2996 | die('nonce error'); |
  |  | 2997 | } |
  |  | 2998 |  |
  | 2990 | 2999 | $shortcode = sanitize\_text\_field(WOOF\_REQUEST::get('shortcode')); |
  | 2991 | 3000 | WOOF\_REQUEST::set('woof\_shortcode\_txt', $shortcode); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3001) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3010) |  |
  | 3001 | 3010 | public function get\_really\_current\_term() { |
  | 3002 | 3011 |  |
  | 3003 |  | if (wc\_current\_theme\_is\_fse\_theme()) { |
  | 3004 |  | if (!defined('DOING\_AJAX') && !is\_page()) { |
  | 3005 |  | global $wp\_query; |
  | 3006 |  | $queried\_obj = get\_queried\_object(); |
  | 3007 |  | if (isset($wp\_query->query\_vars['taxonomy']) and is\_object($queried\_obj) and get\_class(get\_queried\_object()) == 'WP\_Term' and !isset($request\_data['really\_curr\_tax'])) { |
  | 3008 |  | if (is\_object($queried\_obj)) { |
  | 3009 |  | $this->set\_really\_current\_term($queried\_obj); |
  | 3010 |  | } |
  | 3011 |  | } elseif (isset($request\_data['really\_curr\_tax'])) { |
  | 3012 |  | $tmp = explode('-', $request\_data['really\_curr\_tax'], 2); |
  | 3013 |  | $res = get\_term($tmp[0], $tmp[1]); |
  | 3014 |  | $this->set\_really\_current\_term($res); |
  | 3015 |  | } else { |
  | 3016 |  | $this->set\_really\_current\_term(); |
  | 3017 |  | } |
  | 3018 |  | } |
  | 3019 |  | } |
  |  | 3012 | if (wc\_current\_theme\_is\_fse\_theme() || (isset($this->settings['check\_really\_tax']) && intval($this->settings['check\_really\_tax']) === 1)) { |
  |  | 3013 |  |
  |  | 3014 | if (!defined('DOING\_AJAX') && !is\_page()) { |
  |  | 3015 | global $wp\_query; |
  |  | 3016 | $queried\_obj = get\_queried\_object(); |
  |  | 3017 | if (isset($wp\_query->query\_vars['taxonomy']) and is\_object($queried\_obj) and get\_class(get\_queried\_object()) == 'WP\_Term' and !isset($request\_data['really\_curr\_tax'])) { |
  |  | 3018 | if (is\_object($queried\_obj)) { |
  |  | 3019 | $this->set\_really\_current\_term($queried\_obj); |
  |  | 3020 | } |
  |  | 3021 | } elseif (isset($request\_data['really\_curr\_tax'])) { |
  |  | 3022 | $tmp = explode('-', $request\_data['really\_curr\_tax'], 2); |
  |  | 3023 | $res = get\_term($tmp[0], $tmp[1]); |
  |  | 3024 | $this->set\_really\_current\_term($res); |
  |  | 3025 | } else { |
  |  | 3026 | $this->set\_really\_current\_term(); |
  |  | 3027 | } |
  |  | 3028 | } |
  |  | 3029 | } |
  | 3020 | 3030 | $res = NULL; |
  | 3021 | 3031 | $key = $this->session\_rct\_key; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3067) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3077) |  |
  | 3067 | 3077 | return $queried\_obj; |
  | 3068 | 3078 | } |
  | 3069 |  |  |
  | 3070 | 3079 |  |
  | 3071 | 3080 | //ajax + wp\_cron |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3076) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3085) |  |
  | 3076 | 3085 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  | 3077 | 3086 | return; |
  | 3078 |  | } |
  | 3079 |  | $this->cache\_count\_data\_clear(); |
  | 3080 |  | } |
  |  | 3087 | } |
  |  | 3088 | $this->cache\_count\_data\_clear(); |
  |  | 3089 | } |
  |  | 3090 |  |
  | 3081 | 3091 | public function cache\_count\_data\_clear() { |
  | 3082 | 3092 | global $wpdb; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3086) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3096) |  |
  | 3086 | 3096 | //ajax only |
  | 3087 | 3097 | public function woof\_cache\_terms\_clear() { |
  | 3088 |  |  |
  |  | 3098 |  |
  | 3089 | 3099 | if (!isset($\_REQUEST['\_wpnonce\_woof']) || !wp\_verify\_nonce(WOOF\_REQUEST::get('\_wpnonce\_woof'), 'woof\_save\_option')) { |
  | 3090 | 3100 | return; |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3092) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3102) |  |
  | 3092 | 3102 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  | 3093 | 3103 | return; |
  | 3094 |  | } |
  |  | 3104 | } |
  | 3095 | 3105 | global $wpdb; |
  | 3096 | 3106 | $res = $wpdb->get\_results("SELECT \* FROM {$wpdb->options} WHERE option\_name LIKE '\_transient\_woof\_terms\_cache\_%'"); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3104) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3114) |  |
  | 3104 | 3114 | //wp\_die('done'); |
  | 3105 | 3115 | } |
  |  | 3116 |  |
  | 3106 | 3117 | public function ajax\_woof\_price\_transient\_clear() { |
  | 3107 | 3118 | if (!isset($\_REQUEST['\_wpnonce\_woof']) || !wp\_verify\_nonce(WOOF\_REQUEST::get('\_wpnonce\_woof'), 'woof\_save\_option')) { |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3110) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3121) |  |
  | 3110 | 3121 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  | 3111 | 3122 | return; |
  | 3112 |  | } |
  | 3113 |  |  |
  | 3114 |  | $this->woof\_price\_transient\_clear(); |
  | 3115 |  | } |
  |  | 3123 | } |
  |  | 3124 |  |
  |  | 3125 | $this->woof\_price\_transient\_clear(); |
  |  | 3126 | } |
  |  | 3127 |  |
  | 3116 | 3128 | public function woof\_price\_transient\_clear() { |
  | 3117 | 3129 | delete\_transient('woof\_min\_max\_prices'); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3302) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3314) |  |
  | 3302 | 3314 | if (!current\_user\_can('manage\_woocommerce') OR !current\_user\_can('activate\_plugins')) { |
  | 3303 | 3315 | return; |
  | 3304 |  | } |
  |  | 3316 | } |
  | 3305 | 3317 | if (WOOF\_REQUEST::get('taxonomy') == null || WOOF\_REQUEST::get('taxonomy') == -1 || !WOOF\_REQUEST::get('taxonomy')) { |
  | 3306 | 3318 | wp\_send\_json(array()); |
  | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3087562#L3951) | […](/browser/woocommerce-products-filter/trunk/index.php?rev=3093324#L3963) |  |
  | 3951 | 3963 | ); |
  | 3952 | 3964 | } |
  | 3953 |  |  |
  | 3954 | 3965 | } |
  | 3955 | 3966 |  |
* ## [woocommerce-products-filter/trunk/js/front.js](/changeset/3093324/woocommerce-products-filter/trunk/js/front.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/js/front.js")

  | [r3045600](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L267 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L267 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 267 | 267 | //\*\*\* |
  | 268 | 268 | woof\_remove\_empty\_elements(); |
  |  | 269 | woof\_unblur\_filter(); |
  | 269 | 270 |  |
  | 270 | 271 | woof\_init\_search\_form(); |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L1432) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L1433) |  |
  | 1432 | 1433 | woof\_recount\_text\_price\_filter(); |
  | 1433 | 1434 | woof\_draw\_products\_top\_panel(); |
  | 1434 |  | } |
  |  | 1435 | woof\_unblur\_filter(); |
  |  | 1436 | } |
  |  | 1437 | function woof\_unblur\_filter(){ |
  |  | 1438 |  |
  |  | 1439 | jQuery('.woof\_redraw\_zone.woof\_blur\_redraw\_zone').removeClass('woof\_blur\_redraw\_zone'); |
  |  | 1440 | } |
  |  | 1441 |  |
  | 1435 | 1442 |  |
  | 1436 | 1443 | function woof\_recount\_text\_price\_filter() { |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L1444) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L1451) |  |
  | 1444 | 1451 |  |
  | 1445 | 1452 | function woof\_init\_toggles() { |
  | 1446 |  |  |
  | 1447 | 1453 | jQuery('body').off('click', '.woof\_front\_toggle'); |
  | 1448 | 1454 | jQuery('body').on('click', '.woof\_front\_toggle', function () { |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L1602) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L1608) |  |
  | 1602 | 1608 |  |
  | 1603 | 1609 |  |
  | 1604 |  |  |
  | 1605 |  | ~~//compatibility with YITH Infinite Scrolling~~ |
  | 1606 | 1610 | function woof\_serialize(serializedString) { |
  | 1607 | 1611 | var str = decodeURI(serializedString); |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L1630) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L1634) |  |
  | 1630 | 1634 | function woof\_infinite() { |
  | 1631 | 1635 |  |
  |  | 1636 | if( typeof yith\_infs\_premium !== 'undefined' && yith\_infs\_premium.options ) { |
  |  | 1637 |  |
  |  | 1638 | woof\_change\_ajax\_next\_link(); |
  |  | 1639 | return false; |
  |  | 1640 |  |
  |  | 1641 | } |
  |  | 1642 |  |
  | 1632 | 1643 | if (typeof yith\_infs === 'undefined') { |
  | 1633 | 1644 | return; |
  | 1634 | 1645 | } |
  | 1635 |  |  |
  | 1636 | 1646 |  |
  | 1637 | 1647 | //\*\*\* |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L1645) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L1655) |  |
  | 1645 | 1655 | 'is\_shop': yith\_infs.shop |
  | 1646 | 1656 | }; |
  |  | 1657 | woof\_change\_ajax\_next\_link(); |
  |  | 1658 | jQuery(window).off("yith\_infs\_start"), jQuery(yith\_infs.contentSelector).yit\_infinitescroll(infinite\_scroll1) |
  |  | 1659 | } |
  |  | 1660 |  |
  |  | 1661 | function woof\_change\_ajax\_next\_link(){ |
  |  | 1662 | if (!jQuery('.woocommerce-pagination li .next').length) { |
  |  | 1663 | return false; |
  |  | 1664 | } |
  | 1647 | 1665 | var curr\_l = window.location.href; |
  | 1648 | 1666 | var curr\_link = curr\_l.split('?'); |
  | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3045600#L1670) | […](/browser/woocommerce-products-filter/trunk/js/front.js?rev=3093324#L1688) |  |
  | 1670 | 1688 |  |
  | 1671 | 1689 | page\_link = curr\_link[0].replace(/\/$/, "") + page + '?' + get; |
  | 1672 |  |  |
  | 1673 |  | jQuery('.woocommerce-pagination li .next').attr('href', page\_link); |
  | 1674 |  |  |
  | 1675 |  | jQuery(window).off("yith\_infs\_start"), jQuery(yith\_infs.contentSelector).yit\_infinitescroll(infinite\_scroll1) |
  |  | 1690 |  |
  |  | 1691 | jQuery('.woocommerce-pagination li .next').attr('href', page\_link); |
  | 1676 | 1692 | } |
  | 1677 | 1693 | //End infinity scroll |
* ## [woocommerce-products-filter/trunk/js/front\_comprssd.js](/changeset/3093324/woocommerce-products-filter/trunk/js/front_comprssd.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/js/front_comprssd.js")

  | [r3051027](/browser/woocommerce-products-filter/trunk/js/front_comprssd.js?rev=3051027#L1 "Show revision 3051027 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/js/front_comprssd.js?rev=3093324#L1 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | /\* https://jscompress.com/ v 3.3.~~5.3 \*/"use strict";var woof\_redirect="",woof\_reset\_btn\_action=!1,woof\_additional\_fields={};if(jQuery(function(){try{woof\_current\_values=JSON.parse(woof\_current\_values)}catch(o){woof\_current\_values=null}(null==woof\_current\_values||0==woof\_current\_values.length)&&(woof\_current\_values={})}),"undefined"==typeof woof\_lang\_custom)var woof\_lang\_custom={};"undefined"!=typeof woof\_ext\_filter\_titles&&(woof\_lang\_custom=Object.assign({},woof\_lang\_custom,woof\_ext\_filter\_titles)),jQuery(function(){jQuery("body").append("<div id=\"woof\_html\_buffer\" class=\"woof\_info\_popup\" style=\"display: none;\"></div>"),jQuery.extend(jQuery.fn,{within:function(e){return this.filter(function(){return jQuery(this).closest(e).length})}});let e=document.querySelectorAll(".woof[data-slug]");e.length&&e.forEach(e=>{0<e.dataset.slug.length&&(swoof\_search\_slug=e.dataset.slug)}),0<jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1),woof\_autosubmit=parseInt(jQuery(".woof").eq(0).data("autosubmit"),10),woof\_ajax\_redraw=parseInt(jQuery(".woof").eq(0).data("ajax-redraw"),10),woof\_ext\_init\_functions=JSON.parse(woof\_ext\_init\_functions),woof\_init\_native\_woo\_price\_filter(),jQuery("body").on("price\_slider\_change",function(){if(woof\_autosubmit&&!woof\_show\_price\_search\_button&&3>jQuery(".price\_slider\_wrapper").length)jQuery(".woof .widget\_price\_filter form").trigger("submit");else{var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o}}),jQuery("body").on("change",".woof\_price\_filter\_dropdown",function(){var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1]}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),woof\_recount\_text\_price\_filter(),jQuery("body").on("change",".woof\_price\_filter\_txt",function(){var e=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_from").val(),10),o=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_to").val(),10);o<e||0>e?(delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price):("undefined"!=typeof woocs\_current\_currency&&(e=Math.ceil(e/parseFloat(woocs\_current\_currency.rate)),o=Math.ceil(o/parseFloat(woocs\_current\_currency.rate))),woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o),(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),jQuery("body").on("click",".woof\_open\_hidden\_li\_btn",function(){var e=jQuery(this).data("state"),o=jQuery(this).data("type");return"closed"==e?(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").addClass("woof\_hidden\_term2"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").removeClass("woof\_hidden\_term"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("opened")):jQuery(this).html(jQuery(this).data("opened")),jQuery(this).data("state","opened")):(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").addClass("woof\_hidden\_term"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").removeClass("woof\_hidden\_term2"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("closed")):jQuery(this).text(jQuery(this).data("closed")),jQuery(this).data("state","closed")),!1}),woof\_open\_hidden\_li(),jQuery(".widget\_rating\_filter li.wc-layered-nav-rating a").on("click",function(){var e=jQuery(this).parent().hasClass("chosen"),o=woof\_parse\_url(jQuery(this).attr("href")),t=0;if(void 0!==o.query&&-1!==o.query.indexOf("min\_rating")){var i=o.query.split("min\_rating=");t=parseInt(i[1],10)}return jQuery(this).parents("ul").find("li").removeClass("chosen"),e?delete woof\_current\_values.min\_rating:(woof\_current\_values.min\_rating=t,jQuery(this).parent().addClass("chosen")),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("body").on("click",".woof\_start\_filtering\_btn",function(){var e=jQuery(this).parents(".woof").data("shortcode");jQuery(this).html(woof\_lang\_loading),jQuery(this).addClass("woof\_start\_filtering\_btn2"),jQuery(this).removeClass("woof\_start\_filtering\_btn");var o={action:"woof\_draw\_products",page:1,shortcode:"woof\_nothing",woof\_shortcode:e,nonce\_filter:woof\_front\_nonce};return jQuery.post(woof\_ajaxurl,o,function(e){e=JSON.parse(e),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(e.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_init\_tooltip()}),!1}),window.addEventListener("pageshow",function(e){var o=e.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type;o&&(woof\_hide\_info\_popup(),woof\_submit\_link\_locked=!1)});var o=window.location.href;window.onpopstate=function(){try{if(Object.keys(woof\_current\_values).length){var e=o.split("?"),t="";null!=e[1]&&(t=e[1].split("#"));var i=window.location.href,a=i.split("?");if(null==a[1])var r={0:"",1:""};else var r=a[1].split("#");return r[0]!=t[0]&&(woof\_show\_info\_popup(woof\_lang\_loading),window.location.reload()),!1}}catch(o){console.log(o)}},woof\_init\_ion\_sliders(),woof\_init\_show\_auto\_form(),woof\_init\_hide\_auto\_form(),woof\_remove\_empty\_elements(),woof\_init\_search\_form(),woof\_init\_pagination(),woof\_init\_orderby(),woof\_init\_reset\_button(),woof\_init\_beauty\_scroll(),woof\_draw\_products\_top\_panel(),woof\_shortcode\_observer(),woof\_init\_tooltip(),woof\_init\_mobile\_filter(),woof\_is\_ajax||woof\_redirect\_init(),woof\_init\_toggles()});function woof\_redirect\_init(){try{if(jQuery(".woof").length&&void 0!==jQuery(".woof").val())return woof\_redirect=jQuery(".woof").eq(0).data("redirect"),0<woof\_redirect.length&&(woof\_shop\_page=woof\_current\_page\_link=woof\_redirect),woof\_redirect}catch(o){console.log(o)}}function woof\_init\_orderby(){jQuery("body").on("submit","form.woocommerce-ordering",function(){if(!jQuery("#is\_woo\_shortcode").length)return!1}),jQuery("body").on("change","form.woocommerce-ordering select.orderby",function(){if(!jQuery("#is\_woo\_shortcode").length)return woof\_current\_values.orderby=jQuery(this).val(),woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_reset\_button(){jQuery("body").on("click",".woof\_reset\_search\_form",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1})}function woof\_init\_pagination(){1===woof\_is\_ajax&&jQuery("body").on("click",".woocommerce-pagination a.page-numbers",function(){var e=jQuery(this).attr("href");if(woof\_ajax\_first\_done){var o=e.split("paged=");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}else{var o=e.split("page/");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}return woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_search\_form(){woof\_init\_checkboxes(),woof\_init\_mselects(),woof\_init\_radios(),woof\_price\_filter\_radio\_init(),woof\_init\_selects(),null!==woof\_ext\_init\_functions&&jQuery.each(woof\_ext\_init\_functions,function(type,func){eval(func+"()")}),jQuery(".woof\_submit\_search\_form").on("click",function(){return woof\_ajax\_redraw&&(woof\_ajax\_redraw=0,woof\_is\_ajax=0),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("ul.woof\_childs\_list").parent("li").addClass("woof\_childs\_list\_li"),woof\_remove\_class\_widget(),woof\_checkboxes\_slide(),document.dispatchEvent(new CustomEvent("woof\_init\_search\_form",{detail:{}}))}var woof\_submit\_link\_locked=!1;function woof\_submit\_link(e,o){if(!woof\_submit\_link\_locked){if("undefined"!=typeof WoofTurboMode)return void WoofTurboMode.woof\_submit\_link(e);if("undefined"==typeof o&&(o=woof\_ajax\_redraw),woof\_submit\_link\_locked=!0,woof\_show\_info\_popup(woof\_lang\_loading),1===woof\_is\_ajax&&!o){woof\_ajax\_first\_done=!0;var t={action:"woof\_draw\_products",link:e,page:woof\_ajax\_page\_num,shortcode:jQuery("#woof\_results\_by\_ajax").data("shortcode"),woof\_shortcode:jQuery("div.woof").data("shortcode"),nonce\_filter:woof\_front\_nonce};jQuery.post(woof\_ajaxurl,t,function(o){if(o=JSON.parse(o),woof\_before\_ajax\_form\_redrawing(),!jQuery(".woof\_results\_by\_ajax\_shortcode").length)"undefined"!=typeof o.products&&jQuery(".woof\_shortcode\_output").replaceWith(o.products);else if("undefined"!=typeof o.products){jQuery("#woof\_results\_by\_ajax").replaceWith(o.products);var t=jQuery(".woof\_found\_count");if(jQuery(t).show(),0<t.length){var i=jQuery("#woof\_results\_by\_ajax").data("count");"undefined"!=typeof i&&jQuery(t).text(i)}}"undefined"!=typeof o.additional\_fields&&(jQuery.each(o.additional\_fields,function(e,o){"undefined"==typeof woof\_additional\_fields[e]&&(woof\_additional\_fields[e]=jQuery(e)),jQuery(e).replaceWith(o)}),jQuery.each(woof\_additional\_fields,function(e,t){"undefined"==typeof o.additional\_fields[e]&&jQuery(e).replaceWith(t)})),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_draw\_products\_top\_panel(),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,jQuery.each(jQuery("#woof\_results\_by\_ajax"),function(e,o){0==e||jQuery(o).removeAttr("id")}),jQuery(".woof").removeClass("woof\_show\_filter\_for\_mobile"),woof\_infinite(),woof\_js\_after\_ajax\_done(),woof\_change\_link\_addtocart(),woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else if(o){var t={action:"woof\_draw\_products",link:e,page:1,shortcode:"woof\_nothing",woof\_shortcode:jQuery("div.woof").eq(0).data("shortcode"),nonce\_filter:woof\_front\_nonce};jQuery.post(woof\_ajaxurl,t,function(o){woof\_before\_ajax\_form\_redrawing(),o=JSON.parse(o),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else window.location=e,woof\_show\_info\_popup(woof\_lang\_loading)}}function woof\_remove\_empty\_elements(){jQuery.each(jQuery(".woof\_container select"),function(e,o){var t=jQuery(o).find("option").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery("ul.woof\_list"),function(e,o){var t=jQuery(o).find("li").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery(".woof\_container .woof\_list\_sd"),function(e,o){var t=jQuery(o).find(".woof-sd-ie").length;0===t&&jQuery(o).parents(".woof\_container").remove()})}function woof\_get\_submit\_link(){if(woof\_is\_ajax&&(woof\_current\_values.page=woof\_ajax\_page\_num),0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e){e==swoof\_search\_slug&&delete woof\_current\_values[e],"s"==e&&delete woof\_current\_values[e],"product"==e&&delete woof\_current\_values[e],"really\_curr\_tax"==e&&delete woof\_current\_values[e]}),2===Object.keys(woof\_current\_values).length&&"min\_price"in woof\_current\_values&&"max\_price"in woof\_current\_values){woof\_current\_page\_link=woof\_current\_page\_link.replace(new RegExp(/page\/(\d+)/),"");var e=woof\_current\_page\_link+"?min\_price="+woof\_current\_values.min\_price+"&max\_price="+woof\_current\_values.max\_price;return woof\_is\_ajax&&history.pushState({},"",e),e}if(0===Object.keys(woof\_current\_values).length)return woof\_is\_ajax&&history.pushState({},"",woof\_current\_page\_link),woof\_current\_page\_link;0<Object.keys(woof\_really\_curr\_tax).length&&(woof\_current\_values.really\_curr\_tax=woof\_really\_curr\_tax.term\_id+"-"+woof\_really\_curr\_tax.taxonomy);var o=woof\_current\_page\_link+"?"+swoof\_search\_slug+"=1";woof\_is\_permalink||(0<woof\_redirect.length?(o=woof\_redirect+"?"+swoof\_search\_slug+"=1",woof\_current\_values.hasOwnProperty("page\_id")&&delete woof\_current\_values.page\_id):o=location.protocol+"//"+location.host+"?"+swoof\_search\_slug+"=1");var t=["path"];return 0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e,i){"page"==e&&woof\_is\_ajax&&(e="paged"),"product-page"==e||"undefined"!=typeof i&&(typeof i&&0<i.length||"number"==typeof i)&&-1==jQuery.inArray(e,t)&&(o=o+"&"+e+"="+i)}),o=o.replace(new RegExp(/page\/(\d+)/),""),woof\_is\_ajax&&history.pushState({},"",o),o}function woof\_show\_info\_popup(e){"default"==woof\_overlay\_skin?(jQuery("#woof\_html\_buffer").text(e),jQuery("#woof\_html\_buffer").fadeTo(200,.9)):"loading-balls"===woof\_overlay\_skin||"loading-bars"===woof\_overlay\_skin||"loading-bubbles"===woof\_overlay\_skin||"loading-cubes"===woof\_overlay\_skin||"loading-cylon"===woof\_overlay\_skin||"loading-spin"===woof\_overlay\_skin||"loading-spinning-bubbles"===woof\_overlay\_skin||"loading-spokes"===woof\_overlay\_skin?jQuery("body").plainOverlay("show",{progress:function(){return jQuery("<div id=\"woof\_svg\_load\_container\"><img style=\"height: 100%; width: 100%\" src=\""+woof\_link+"img/loading-master/"+woof\_overlay\_skin+".svg\" alt=\"\"></div>")}}):jQuery("body").plainOverlay("show",{duration:-1})}function woof\_hide\_info\_popup(){"default"==woof\_overlay\_skin?window.setTimeout(function(){jQuery("#woof\_html\_buffer").fadeOut(400)},200):jQuery("body").plainOverlay("hide")}function woof\_draw\_products\_top\_panel(){woof\_is\_ajax&&jQuery("#woof\_results\_by\_ajax").prev(".woof\_products\_top\_panel").remove();var e=jQuery(".woof\_products\_top\_panel");if(e.html(""),0<Object.keys(woof\_current\_values).length){e.show(),e.html("<ul></ul>"),e.find("ul").attr("class","woof\_products\_top\_panel\_ul");var o=!1;jQuery.each(woof\_current\_values,function(t,i){if((-1!=jQuery.inArray(t,woof\_accept\_array)||-1!=jQuery.inArray(t.replace("rev\_",""),woof\_accept\_array))&&!(("min\_price"==t||"max\_price"==t)&&o)){"min\_price"!=t&&"max\_price"!=t||o||(o=!0,t="price",i=woof\_lang\_pricerange);var a=!1,r=jQuery("input[data-anchor='woof\_n\_"+t+"\_all\_range']").val();if("undefined"!=typeof r&&(a=!0),i=i.toString().trim(),i.search(",")&&(i=i.split(",")),!a)jQuery.each(i,function(o,a){if("page"!=t&&"post\_type"!=t){var r=a;if("orderby"==t)r=void 0===woof\_lang[a]?woof\_lang.orderby+": "+a:woof\_lang.orderby+": "+woof\_lang[a];else if("perpage"==t)r=woof\_lang.perpage;else if("price"==t)r=woof\_lang.pricerange;else{var \_=!1;if(0<Object.keys(woof\_lang\_custom).length&&jQuery.each(woof\_lang\_custom,function(e,o){e==t&&(\_=!0,r=o,"woof\_sku"==t&&(r+=" "+a))}),!\_){try{r=jQuery("input[data-anchor='woof\_n\_"+t+"\_"+a+"']").val()}catch(o){console.log(o)}"undefined"==typeof r&&(r=a)}}if("undefined"!=typeof woof\_filter\_titles[t]){var n=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");n.length?n.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}});else if("undefined"!=typeof woof\_filter\_titles[t]){var \_=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");\_.length?\_.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}})}0!=jQuery(e).find("li").length&&jQuery(".woof\_products\_top\_panel").length?e.find("ul.woof\_products\_top\_panel\_ul").prepend(jQuery("<li>").append(jQuery("<button>").attr("class","woof\_reset\_button\_2").append(woof\_lang.clear\_all))):e.hide(),jQuery(".woof\_reset\_button\_2").on("click",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1}),jQuery(".woof\_remove\_ppi").parent().on("click",function(e){e.preventDefault();var o=jQuery(this).data("tax"),t=jQuery(this).data("slug");if("all\_range"==t)delete woof\_current\_values[o];else if("price"!=o){var i=woof\_current\_values[o];i=i.split(",");var a=[];jQuery.each(i,function(e,o){o!=t&&a.push(o)}),i=a,i.length?woof\_current\_values[o]=i.join(","):delete woof\_current\_values[o]}else delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;return woof\_ajax\_page\_num=1,woof\_reset\_btn\_action=!0,woof\_submit\_link(woof\_get\_submit\_link()),jQuery(".woof\_products\_top\_panel").find("[data-tax='"+o+"'][href='"+t+"']").hide(333),!1})}function woof\_shortcode\_observer(){var e=!0;(jQuery(".woof\_shortcode\_output").length||jQuery(".woocommerce .products").length&&!jQuery(".single-product").length)&&(e=!1),jQuery(".woocommerce .woocommerce-info").length&&(e=!1),"undefined"!=typeof woof\_not\_redirect&&1==woof\_not\_redirect&&(e=!1),jQuery(".woot-data-table").length&&(e=!1),e||(woof\_current\_page\_link=location.protocol+"//"+location.host+location.pathname),jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1)}function woof\_init\_beauty\_scroll(){if(woof\_use\_beauty\_scroll)try{jQuery(".woof\_section\_scrolled, .woof\_sid\_auto\_shortcode .woof\_container").addClass("woof\_use\_beauty\_scroll")}catch(o){console.log(o)}}function woof\_remove\_class\_widget(){jQuery(".woof\_container\_inner").find(".widget").removeClass("widget")}function woof\_init\_show\_auto\_form(){jQuery(".woof\_show\_auto\_form").off("click"),jQuery(".woof\_show\_auto\_form.woof\_btn").length&&jQuery(".woof\_btn\_default").remove(),jQuery(".woof\_show\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_hide\_auto\_form").removeClass("woof\_show\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:jQuery(e).parent().find(".woof\_auto\_show\_indent").height()+20+"px",opacity:.96},377,function(){woof\_init\_hide\_auto\_form(),jQuery(e).parent().find(".woof\_auto\_show").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show").height("auto")}),!1})}document.addEventListener("click",function(o){let e=document.querySelectorAll(".woof\_auto\_show"),t=o.target,i=!t.classList.contains("woof\_sid");return!(i&&(i=!t.closest(".woof\_sid")),!t.classList.contains("woof\_show\_auto\_form"))||(i&&0<Array.from(e).length&&Array.from(e).forEach(function(e){e.parentNode.querySelector(".woof\_hide\_auto\_form")&&e.parentNode.querySelector(".woof\_hide\_auto\_form").click()}),!0)});function woof\_init\_hide\_auto\_form(){jQuery(".woof\_hide\_auto\_form").off("click"),jQuery(".woof\_hide\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_show\_auto\_form").removeClass("woof\_hide\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:"1px",opacity:0},377,function(){jQuery(e).parent().find(".woof\_auto\_show").addClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").addClass("woof\_overflow\_hidden"),woof\_init\_show\_auto\_form()}),!1})}function woof\_checkboxes\_slide(){if(woof\_checkboxes\_slide\_flag){var e=jQuery("ul.woof\_childs\_list");e.length&&(jQuery.each(e,function(e,o){if(!jQuery(o).parents(".woof\_no\_close\_childs").length&&0!=jQuery(o).find("input").length){var t="woof\_is\_closed";if(woof\_supports\_html5\_storage()){var i=localStorage.getItem(jQuery(o).closest("li").attr("class"));if(i&&"woof\_is\_opened"==i){var t="woof\_is\_opened";jQuery(o).show()}jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}else jQuery(o).find("input[type=checkbox],input[type=radio]").is(":checked")&&(jQuery(o).show(),t="woof\_is\_opened"),jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}}),jQuery.each(jQuery("a.woof\_childs\_list\_opener span"),function(e,o){jQuery(o).on("click",function(){var e=jQuery(this),o=jQuery(this).parent(".woof\_childs\_list\_opener");if(e.hasClass("woof\_is\_closed")?(jQuery(o).parent().find("ul.woof\_childs\_list").first().show(333),e.removeClass("woof\_is\_closed"),e.addClass("woof\_is\_opened")):(jQuery(o).parent().find("ul.woof\_childs\_list").first().hide(333),e.removeClass("woof\_is\_opened"),e.addClass("woof\_is\_closed")),woof\_supports\_html5\_storage()){var t=jQuery(o).closest("li").attr("class"),i=jQuery(o).children("span").attr("class");localStorage.setItem(t,i)}return!1})}))}}function woof\_init\_ion\_sliders(){jQuery.each(jQuery(".woof\_range\_slider"),function(e,o){try{jQuery(o).ionRangeSlider({min:jQuery(o).data("min"),max:jQuery(o).data("max"),from:jQuery(o).data("min-now"),to:jQuery(o).data("max-now"),type:"double",prefix:jQuery(o).data("slider-prefix"),postfix:jQuery(o).data("slider-postfix"),prettify:!0,prettify\_separator:",",prettify\_enabled:!0,hideMinMax:!1,hideFromTo:!1,grid:!0,step:jQuery(o).data("step"),onFinish:function(e){var t=jQuery(o).data("taxes");return woof\_current\_values.min\_price=parseFloat(e.from,10)/t,woof\_current\_values.max\_price=parseFloat(e.to,10)/t,"undefined"!=typeof woocs\_current\_currency&&(woof\_current\_values.min\_price/=parseFloat(woocs\_current\_currency.rate),woof\_current\_values.max\_price/=parseFloat(woocs\_current\_currency.rate)),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(o).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link()),!1},onChange:function(e){if(jQuery(".woof\_price\_filter\_txt")){var t=jQuery(o).data("taxes");jQuery(".woof\_price\_filter\_txt\_from").val(parseInt(e.from,10)/t),jQuery(".woof\_price\_filter\_txt\_to").val(parseInt(e.to,10)/t),"undefined"!=typeof woocs\_current\_currency&&(jQuery(".woof\_price\_filter\_txt\_from").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_from").val()/parseFloat(woocs\_current\_currency.rate))),jQuery(".woof\_price\_filter\_txt\_to").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_to").val()/parseFloat(woocs\_current\_currency.rate))))}}})}catch(o){}})}function woof\_init\_native\_woo\_price\_filter(){jQuery(".widget\_price\_filter form").off("submit"),jQuery(".widget\_price\_filter form").on("submit",function(){var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();return woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o,woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_reinit\_native\_woo\_price\_filter(){if("undefined"==typeof woocommerce\_price\_slider\_params)return!1;jQuery("input#min\_price, input#max\_price").hide(),jQuery(".price\_slider, .price\_label").show();var e=jQuery(".price\_slider\_amount #min\_price").data("min"),o=jQuery(".price\_slider\_amount #max\_price").data("max"),t=parseInt(e,10),i=parseInt(o,10);woof\_current\_values.hasOwnProperty("min\_price")?(t=parseInt(woof\_current\_values.min\_price,10),i=parseInt(woof\_current\_values.max\_price,10)):(woocommerce\_price\_slider\_params.min\_price&&(t=parseInt(woocommerce\_price\_slider\_params.min\_price,10)),woocommerce\_price\_slider\_params.max\_price&&(i=parseInt(woocommerce\_price\_slider\_params.max\_price,10)));var a=woocommerce\_price\_slider\_params.currency\_symbol;"undefined"==typeof a&&(a=woocommerce\_price\_slider\_params.currency\_format\_symbol),jQuery(document.body).on("price\_slider\_create price\_slider\_slide",function(e,o,t){if("undefined"!=typeof woocs\_current\_currency){var i=o,r=t;"undefined"==typeof a&&(a=woocs\_current\_currency.symbol),1!==woocs\_current\_currency.rate&&(i=Math.ceil(i\*parseFloat(woocs\_current\_currency.rate)),r=Math.ceil(r\*parseFloat(woocs\_current\_currency.rate))),i=woof\_front\_number\_format(i,2,".",","),r=woof\_front\_number\_format(r,2,".",","),(jQuery.inArray(woocs\_current\_currency.name,woocs\_array\_no\_cents)||1==woocs\_current\_currency.hide\_cents)&&(i=i.replace(".00",""),r=r.replace(".00","")),"left"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+i),jQuery(".price\_slider\_amount span.to").html(a+r)):"left\_space"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+" "+i),jQuery(".price\_slider\_amount span.to").html(a+" "+r)):"right"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(i+a),jQuery(".price\_slider\_amount span.to").html(r+a)):"right\_space"===woocs\_current\_currency.position&&(jQuery(".price\_slider\_amount span.from").html(i+" "+a),jQuery(".price\_slider\_amount span.to").html(r+" "+a))}else"left"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+o),jQuery(".price\_slider\_amount span.to").html(a+t)):"left\_space"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+" "+o),jQuery(".price\_slider\_amount span.to").html(a+" "+t)):"right"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(o+a),jQuery(".price\_slider\_amount span.to").html(t+a)):"right\_space"===woocommerce\_price\_slider\_params.currency\_pos&&(jQuery(".price\_slider\_amount span.from").html(o+" "+a),jQuery(".price\_slider\_amount span.to").html(t+" "+a));jQuery(document.body).trigger("price\_slider\_updated",[o,t])}),jQuery(".price\_slider").slider({range:!0,animate:!0,min:e,max:o,values:[t,i],create:function(){jQuery(".price\_slider\_amount #min\_price").val(t),jQuery(".price\_slider\_amount #max\_price").val(i),jQuery(document.body).trigger("price\_slider\_create",[t,i])},slide:function(e,o){jQuery("input#min\_price").val(o.values[0]),jQuery("input#max\_price").val(o.values[1]),jQuery(document.body).trigger("price\_slider\_slide",[o.values[0],o.values[1]])},change:function(e,o){jQuery(document.body).trigger("price\_slider\_change",[o.values[0],o.values[1]])}}),woof\_init\_native\_woo\_price\_filter()}function woof\_mass\_reinit(){woof\_remove\_empty\_elements(),woof\_open\_hidden\_li(),woof\_init\_search\_form(),woof\_hide\_info\_popup(),woof\_init\_beauty\_scroll(),woof\_init\_ion\_sliders(),woof\_reinit\_native\_woo\_price\_filter(),woof\_recount\_text\_price\_filter(),woof\_draw\_products\_top\_panel()}function woof\_recount\_text\_price\_filter(){"undefined"!=typeof woocs\_current\_currency&&jQuery.each(jQuery(".woof\_price\_filter\_txt\_from, .woof\_price\_filter\_txt\_to"),function(){jQuery(this).val(Math.ceil(jQuery(this).data("value")))})}function woof\_init\_toggles(){jQuery("body").off("click",".woof\_front\_toggle"),jQuery("body").on("click",".woof\_front\_toggle",function(){"opened"==jQuery(this).data("condition")?(jQuery(this).removeClass("woof\_front\_toggle\_opened"),jQuery(this).addClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","closed"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_closed\_text):jQuery(this).find("img").prop("src",woof\_toggle\_closed\_image)):(jQuery(this).addClass("woof\_front\_toggle\_opened"),jQuery(this).removeClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","opened"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_opened\_text):jQuery(this).find("img").prop("src",woof\_toggle\_opened\_image)),jQuery(this).parents(".woof\_container\_inner").find(".woof\_block\_html\_items").slideToggle(500);var e=jQuery(this).parents(".woof\_container\_inner").find(".chosen-container");return e.length&&jQuery(this).hasClass("woof\_front\_toggle\_opened")&&(jQuery(this).parents(".woof\_container\_inner").find("select").chosen("destroy").trigger("liszt:updated"),jQuery(this).parents(".woof\_container\_inner").find("select").chosen()),jQuery(this).hasClass("woof\_front\_toggle\_opened")&&woof\_reinit\_selects(),!1})}function woof\_open\_hidden\_li(){0<jQuery(".woof\_open\_hidden\_li\_btn").length&&jQuery.each(jQuery(".woof\_open\_hidden\_li\_btn"),function(e,o){jQuery(o).parents("ul").find("li.woof\_hidden\_term input[type=checkbox],li.woof\_hidden\_term input[type=radio]").is(":checked")&&jQuery(o).trigger("click")})}function $\_woof\_GET(e,o){o=o?o:window.location.search;var t=new RegExp("&"+e+"=([^&]\*)","i");return(o=o.replace(/^\?/,"&").match(t))?o=o[1]:o=""}function woof\_parse\_url(e){var o=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]\*))?([^?#]\*)(\?([^#]\*))?(#(.\*))?/);return{scheme:o[2],authority:o[4],path:o[5],query:o[7],fragment:o[9]}}function woof\_price\_filter\_radio\_init(){if("none"!=icheck\_skin){jQuery(".woof\_price\_filter\_radio").iCheck("destroy");let e=jQuery(".woof\_price\_filter\_radio").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_price\_filter\_radio").siblings("div").removeClass("checked"),jQuery(".woof\_price\_filter\_radio").off("ifChecked"),jQuery(".woof\_price\_filter\_radio").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_price\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())})}else jQuery("body").on("change",".woof\_price\_filter\_radio",function(){var e=jQuery(this).val();if(jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())});jQuery(".woof\_radio\_price\_reset").on("click",function(){return delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).siblings("div").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_serialize(e){for(var o,t,a=decodeURI(e),r=a.split("&"),\_={},s=0,d=r.length;s<d;s++)if(o=r[s].split("="),t=o[0],t.indexOf("[]")==t.length-2){var n=t.substring(0,t.length-2);void 0===\_[n]&&(\_[n]=[]),\_[n].push(o[1])}else \_[t]=o[1];return \_}function woof\_infinite(){if("undefined"!=typeof yith\_infs){var e={nextSelector:".woocommerce-pagination li .next",navSelector:yith\_infs.navSelector,itemSelector:yith\_infs.itemSelector,contentSelector:yith\_infs.contentSelector,loader:"<img src=\""+yith\_infs.loader+"\">",is\_shop:yith\_infs.shop},o=window.location.href,t=o.split("?"),i="";if(null!=t[1]){var a=woof\_serialize(t[1]);delete a.paged,i=decodeURIComponent(jQuery.param(a))}var r=jQuery(".woocommerce-pagination li .next").attr("href");null==r&&(r=t+"page/1/");var \_=r.split("?"),n="";if(null!=\_[1]){var s=woof\_serialize(\_[1]);null!=s.paged&&(n="/page/"+s.paged+"/")}r=t[0].replace(/\/$/,"")+n+"?"+i,jQuery(".woocommerce-pagination li .next").attr("href",r),jQuery(window).off("yith\_infs\_start"),jQuery(yith\_infs.contentSelector).yit\_infinitescroll(e)}~~}function woof\_change\_link\_addtocart(){woof\_is\_ajax&&jQuery(".add\_to\_cart\_button").each(function(e,o){var t=jQuery(o).attr("href");if(t){var i=t.split("?"),a=window.location.href.split("?");i[1]!=null&&(t=a[0]+"?"+i[1],jQuery(o).attr("href",t))}})}function woof\_front\_number\_format(e,o,t,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,r=isFinite(+o)?Math.abs(o):0,\_="undefined"==typeof i?",":i,n="undefined"==typeof t?".":t,d="";return d=(r?function(e,o){var t=Math.pow(10,o);return""+(Math.round(e\*t)/t).toFixed(o)}(a,r):""+Math.round(a)).split("."),3<d[0].length&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,\_)),(d[1]||"").length<r&&(d[1]=d[1]||"",d[1]+=Array(r-d[1].length+1).join("0")),d.join(n)}function woof\_supports\_html5\_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(o){return!1}}function woof\_init\_tooltip(){var e=jQuery(".woof\_tooltip\_header");e.length&&jQuery(e).tooltipster({theme:"tooltipster-noir",side:"right",trigger:"click"})}function woof\_before\_ajax\_form\_redrawing(){if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_mselect").selectWoo("destroy")}catch(o){return!1}}function woof\_reinit\_selects(){if("chosen"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_select, select.woof\_mselect").chosen(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen()}catch(o){}else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_select, select.woof\_mselect").selectWoo(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo()}catch(o){}}function woof\_init\_mobile\_filter(){var e=jQuery(".woof\_show\_mobile\_filter"),o=jQuery(".woof\_show\_mobile\_filter\_container"),t=jQuery(woof\_m\_b\_container);o.length||(o=t),e&&o&&jQuery(o).append(e),jQuery(".woof\_show\_mobile\_filter").on("click",function(){var e=jQuery(this).data("sid");0<jQuery(".woof.woof\_sid\_front\_builder").length?(e="front\_builder",jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile")):jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile"),setTimeout(function(){try{jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen(),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen()}catch(o){}},300)}),jQuery(".woof\_hide\_mobile\_filter").on("click",function(){jQuery(this).parents(".woof").toggleClass("woof\_show\_filter\_for\_mobile")})}function woof\_init\_radios(){if("none"!=icheck\_skin){jQuery(".woof\_radio\_term").iCheck("destroy");let e=jQuery(".woof\_radio\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_radio\_term").off("ifChecked"),jQuery(".woof\_radio\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");woof\_radio\_direct\_search(t,o,e)})}else jQuery(".woof\_radio\_term").on("change",function(){jQuery(this).attr("checked",!0);var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible"),woof\_radio\_direct\_search(t,o,e)});jQuery(".woof\_radio\_term\_reset").on("click",function(){return woof\_radio\_direct\_search(jQuery(this).data("term-id"),jQuery(this).attr("data-name"),0),jQuery(this).parents(".woof\_list").find(".checked").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),!1})}function woof\_radio\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0==t?(jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).attr("checked",!1),jQuery("woof\_radio\_term\_"+e).parent().removeClass("checked"),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"})):(woof\_current\_values[o]=t,jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("a.woof\_radio\_term\_reset").show(),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"}),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("label.woof\_radio\_label\_"+t).css({fontWeight:"bold"})),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_checkboxes(){if("none"!=icheck\_skin){jQuery(".woof\_checkbox\_term").iCheck("destroy");let e=jQuery(".woof\_checkbox\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+e[0]+"-"+e[1]})):jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_checkbox\_term").off("ifChecked"),jQuery(".woof\_checkbox\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),woof\_checkbox\_process\_data(this,!0)}),jQuery(".woof\_checkbox\_term").off("ifUnchecked"),jQuery(".woof\_checkbox\_term").on("ifUnchecked",function(){jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1)}),jQuery(".woof\_checkbox\_label").off(),jQuery("label.woof\_checkbox\_label").on("click",function(){return!jQuery(this).prev().find(".woof\_checkbox\_term").is(":disabled")&&void("undefined"==typeof jQuery(this).prev().find(".woof\_checkbox\_term").attr("checked")?(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifChecked"),jQuery(this).prev().addClass("checked")):(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifUnchecked"),jQuery(this).prev().removeClass("checked")))})}else jQuery(".woof\_checkbox\_term").on("change",function(){jQuery(this).is(":checked")?(jQuery(this).attr("checked",!0),woof\_checkbox\_process\_data(this,!0)):(jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1))})}function woof\_checkbox\_process\_data(e,o){var t=jQuery(e).data("tax"),i=jQuery(e).attr("name"),a=jQuery(e).data("term-id");woof\_checkbox\_direct\_search(a,i,t,o)}function woof\_checkbox\_direct\_search(e,o,t,i){var a="",r=!0;if(i)woof\_current\_values[t]=t in woof\_current\_values?woof\_current\_values[t]+","+o:o,r=!0;else{a=woof\_current\_values[t],a=a.split(",");var \_=[];jQuery.each(a,function(e,t){t!=o&&\_.push(t)}),a=\_,a.length?woof\_current\_values[t]=a.join(","):delete woof\_current\_values[t],r=!1}jQuery(".woof\_checkbox\_term\_"+e).attr("checked",r),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_selects(){"chosen"==woof\_select\_type?jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").chosen():"selectwoo"==woof\_select\_type&&jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").selectWoo(),jQuery(".woof\_select").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");woof\_select\_direct\_search(this,o,e)});var e=jQuery(".woof\_hide\_empty\_container");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_select\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0!=t&&(woof\_current\_values[o]=t),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(e).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_mselects(){if("chosen"==woof\_select\_type)jQuery("select.woof\_mselect").chosen();else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo()}catch(o){console.log(o)}jQuery(".woof\_mselect").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");if("chosen"==woof\_select\_type){var t=jQuery(this).chosen().val();jQuery(".woof\_mselect[name="+o+"] option:selected").removeAttr("selected"),jQuery(".woof\_mselect[name="+o+"] option").each(function(){var e=jQuery(this).val();-1!==jQuery.inArray(e,t)&&jQuery(this).prop("selected",!0)})}return woof\_mselect\_direct\_search(o,e),!0});var e=jQuery(".woof\_hide\_empty\_container\_ms");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_mselect\_direct\_search(e){var o=[];jQuery(".woof\_mselect[name="+e+"] option:selected").each(function(){o.push(jQuery(this).val())}),o=o.filter(function(e,t){return o.indexOf(e)==t}),o=o.join(","),o.length?woof\_current\_values[e]=o:delete woof\_current\_values[e],woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())} |
  |  | 1 | /\* https://jscompress.com/ v 3.3.6 \*/"use strict";var woof\_redirect="",woof\_reset\_btn\_action=!1,woof\_additional\_fields={};if(jQuery(function(){try{woof\_current\_values=JSON.parse(woof\_current\_values)}catch(o){woof\_current\_values=null}(null==woof\_current\_values||0==woof\_current\_values.length)&&(woof\_current\_values={})}),"undefined"==typeof woof\_lang\_custom)var woof\_lang\_custom={};"undefined"!=typeof woof\_ext\_filter\_titles&&(woof\_lang\_custom=Object.assign({},woof\_lang\_custom,woof\_ext\_filter\_titles)),jQuery(function(){jQuery("body").append("<div id=\"woof\_html\_buffer\" class=\"woof\_info\_popup\" style=\"display: none;\"></div>"),jQuery.extend(jQuery.fn,{within:function(e){return this.filter(function(){return jQuery(this).closest(e).length})}});let e=document.querySelectorAll(".woof[data-slug]");e.length&&e.forEach(e=>{0<e.dataset.slug.length&&(swoof\_search\_slug=e.dataset.slug)}),0<jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1),woof\_autosubmit=parseInt(jQuery(".woof").eq(0).data("autosubmit"),10),woof\_ajax\_redraw=parseInt(jQuery(".woof").eq(0).data("ajax-redraw"),10),woof\_ext\_init\_functions=JSON.parse(woof\_ext\_init\_functions),woof\_init\_native\_woo\_price\_filter(),jQuery("body").on("price\_slider\_change",function(){if(woof\_autosubmit&&!woof\_show\_price\_search\_button&&3>jQuery(".price\_slider\_wrapper").length)jQuery(".woof .widget\_price\_filter form").trigger("submit");else{var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o}}),jQuery("body").on("change",".woof\_price\_filter\_dropdown",function(){var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1]}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),woof\_recount\_text\_price\_filter(),jQuery("body").on("change",".woof\_price\_filter\_txt",function(){var e=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_from").val(),10),o=parseInt(jQuery(this).parent().find(".woof\_price\_filter\_txt\_to").val(),10);o<e||0>e?(delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price):("undefined"!=typeof woocs\_current\_currency&&(e=Math.ceil(e/parseFloat(woocs\_current\_currency.rate)),o=Math.ceil(o/parseFloat(woocs\_current\_currency.rate))),woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o),(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}),jQuery("body").on("click",".woof\_open\_hidden\_li\_btn",function(){var e=jQuery(this).data("state"),o=jQuery(this).data("type");return"closed"==e?(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").addClass("woof\_hidden\_term2"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term").removeClass("woof\_hidden\_term"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("opened")):jQuery(this).html(jQuery(this).data("opened")),jQuery(this).data("state","opened")):(jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").addClass("woof\_hidden\_term"),jQuery(this).parents(".woof\_list").find(".woof\_hidden\_term2").removeClass("woof\_hidden\_term2"),"image"==o?jQuery(this).find("img").attr("src",jQuery(this).data("closed")):jQuery(this).text(jQuery(this).data("closed")),jQuery(this).data("state","closed")),!1}),woof\_open\_hidden\_li(),jQuery(".widget\_rating\_filter li.wc-layered-nav-rating a").on("click",function(){var e=jQuery(this).parent().hasClass("chosen"),o=woof\_parse\_url(jQuery(this).attr("href")),t=0;if(void 0!==o.query&&-1!==o.query.indexOf("min\_rating")){var i=o.query.split("min\_rating=");t=parseInt(i[1],10)}return jQuery(this).parents("ul").find("li").removeClass("chosen"),e?delete woof\_current\_values.min\_rating:(woof\_current\_values.min\_rating=t,jQuery(this).parent().addClass("chosen")),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("body").on("click",".woof\_start\_filtering\_btn",function(){var e=jQuery(this).parents(".woof").data("shortcode");jQuery(this).html(woof\_lang\_loading),jQuery(this).addClass("woof\_start\_filtering\_btn2"),jQuery(this).removeClass("woof\_start\_filtering\_btn");var o={action:"woof\_draw\_products",page:1,shortcode:"woof\_nothing",woof\_shortcode:e,nonce\_filter:woof\_front\_nonce};return jQuery.post(woof\_ajaxurl,o,function(e){e=JSON.parse(e),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(e.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_init\_tooltip()}),!1}),window.addEventListener("pageshow",function(e){var o=e.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type;o&&(woof\_hide\_info\_popup(),woof\_submit\_link\_locked=!1)});var o=window.location.href;window.onpopstate=function(){try{if(Object.keys(woof\_current\_values).length){var e=o.split("?"),t="";null!=e[1]&&(t=e[1].split("#"));var i=window.location.href,a=i.split("?");if(null==a[1])var r={0:"",1:""};else var r=a[1].split("#");return r[0]!=t[0]&&(woof\_show\_info\_popup(woof\_lang\_loading),window.location.reload()),!1}}catch(o){console.log(o)}},woof\_init\_ion\_sliders(),woof\_init\_show\_auto\_form(),woof\_init\_hide\_auto\_form(),woof\_remove\_empty\_elements(),woof\_unblur\_filter(),woof\_init\_search\_form(),woof\_init\_pagination(),woof\_init\_orderby(),woof\_init\_reset\_button(),woof\_init\_beauty\_scroll(),woof\_draw\_products\_top\_panel(),woof\_shortcode\_observer(),woof\_init\_tooltip(),woof\_init\_mobile\_filter(),woof\_is\_ajax||woof\_redirect\_init(),woof\_init\_toggles()});function woof\_redirect\_init(){try{if(jQuery(".woof").length&&void 0!==jQuery(".woof").val())return woof\_redirect=jQuery(".woof").eq(0).data("redirect"),0<woof\_redirect.length&&(woof\_shop\_page=woof\_current\_page\_link=woof\_redirect),woof\_redirect}catch(o){console.log(o)}}function woof\_init\_orderby(){jQuery("body").on("submit","form.woocommerce-ordering",function(){if(!jQuery("#is\_woo\_shortcode").length)return!1}),jQuery("body").on("change","form.woocommerce-ordering select.orderby",function(){if(!jQuery("#is\_woo\_shortcode").length)return woof\_current\_values.orderby=jQuery(this).val(),woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_reset\_button(){jQuery("body").on("click",".woof\_reset\_search\_form",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1})}function woof\_init\_pagination(){1===woof\_is\_ajax&&jQuery("body").on("click",".woocommerce-pagination a.page-numbers",function(){var e=jQuery(this).attr("href");if(woof\_ajax\_first\_done){var o=e.split("paged=");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}else{var o=e.split("page/");woof\_ajax\_page\_num="undefined"==typeof o[1]?1:parseInt(o[1]);var t=e.split("product-page=");"undefined"!=typeof t[1]&&(woof\_ajax\_page\_num=parseInt(t[1]))}return woof\_submit\_link(woof\_get\_submit\_link(),0),!1})}function woof\_init\_search\_form(){woof\_init\_checkboxes(),woof\_init\_mselects(),woof\_init\_radios(),woof\_price\_filter\_radio\_init(),woof\_init\_selects(),null!==woof\_ext\_init\_functions&&jQuery.each(woof\_ext\_init\_functions,function(type,func){eval(func+"()")}),jQuery(".woof\_submit\_search\_form").on("click",function(){return woof\_ajax\_redraw&&(woof\_ajax\_redraw=0,woof\_is\_ajax=0),woof\_submit\_link(woof\_get\_submit\_link()),!1}),jQuery("ul.woof\_childs\_list").parent("li").addClass("woof\_childs\_list\_li"),woof\_remove\_class\_widget(),woof\_checkboxes\_slide(),document.dispatchEvent(new CustomEvent("woof\_init\_search\_form",{detail:{}}))}var woof\_submit\_link\_locked=!1;function woof\_submit\_link(e,o){if(!woof\_submit\_link\_locked){if("undefined"!=typeof WoofTurboMode)return void WoofTurboMode.woof\_submit\_link(e);if("undefined"==typeof o&&(o=woof\_ajax\_redraw),woof\_submit\_link\_locked=!0,woof\_show\_info\_popup(woof\_lang\_loading),1===woof\_is\_ajax&&!o){woof\_ajax\_first\_done=!0;var t={action:"woof\_draw\_products",link:e,page:woof\_ajax\_page\_num,shortcode:jQuery("#woof\_results\_by\_ajax").data("shortcode"),woof\_shortcode:jQuery("div.woof").data("shortcode"),nonce\_filter:woof\_front\_nonce};jQuery.post(woof\_ajaxurl,t,function(o){if(o=JSON.parse(o),woof\_before\_ajax\_form\_redrawing(),!jQuery(".woof\_results\_by\_ajax\_shortcode").length)"undefined"!=typeof o.products&&jQuery(".woof\_shortcode\_output").replaceWith(o.products);else if("undefined"!=typeof o.products){jQuery("#woof\_results\_by\_ajax").replaceWith(o.products);var t=jQuery(".woof\_found\_count");if(jQuery(t).show(),0<t.length){var i=jQuery("#woof\_results\_by\_ajax").data("count");"undefined"!=typeof i&&jQuery(t).text(i)}}"undefined"!=typeof o.additional\_fields&&(jQuery.each(o.additional\_fields,function(e,o){"undefined"==typeof woof\_additional\_fields[e]&&(woof\_additional\_fields[e]=jQuery(e)),jQuery(e).replaceWith(o)}),jQuery.each(woof\_additional\_fields,function(e,t){"undefined"==typeof o.additional\_fields[e]&&jQuery(e).replaceWith(t)})),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_draw\_products\_top\_panel(),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,jQuery.each(jQuery("#woof\_results\_by\_ajax"),function(e,o){0==e||jQuery(o).removeAttr("id")}),jQuery(".woof").removeClass("woof\_show\_filter\_for\_mobile"),woof\_infinite(),woof\_js\_after\_ajax\_done(),woof\_change\_link\_addtocart(),woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else if(o){var t={action:"woof\_draw\_products",link:e,page:1,shortcode:"woof\_nothing",woof\_shortcode:jQuery("div.woof").eq(0).data("shortcode"),nonce\_filter:woof\_front\_nonce};jQuery.post(woof\_ajaxurl,t,function(o){woof\_before\_ajax\_form\_redrawing(),o=JSON.parse(o),jQuery("div.woof\_redraw\_zone").replaceWith(jQuery(o.form).find(".woof\_redraw\_zone")),woof\_mass\_reinit(),woof\_submit\_link\_locked=!1,woof\_init\_tooltip(),document.dispatchEvent(new CustomEvent("woof-ajax-form-redrawing",{detail:{link:e}}))})}else window.location=e,woof\_show\_info\_popup(woof\_lang\_loading)}}function woof\_remove\_empty\_elements(){jQuery.each(jQuery(".woof\_container select"),function(e,o){var t=jQuery(o).find("option").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery("ul.woof\_list"),function(e,o){var t=jQuery(o).find("li").length;0===t&&jQuery(o).parents(".woof\_container").remove()}),jQuery.each(jQuery(".woof\_container .woof\_list\_sd"),function(e,o){var t=jQuery(o).find(".woof-sd-ie").length;0===t&&jQuery(o).parents(".woof\_container").remove()})}function woof\_get\_submit\_link(){if(woof\_is\_ajax&&(woof\_current\_values.page=woof\_ajax\_page\_num),0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e){e==swoof\_search\_slug&&delete woof\_current\_values[e],"s"==e&&delete woof\_current\_values[e],"product"==e&&delete woof\_current\_values[e],"really\_curr\_tax"==e&&delete woof\_current\_values[e]}),2===Object.keys(woof\_current\_values).length&&"min\_price"in woof\_current\_values&&"max\_price"in woof\_current\_values){woof\_current\_page\_link=woof\_current\_page\_link.replace(new RegExp(/page\/(\d+)/),"");var e=woof\_current\_page\_link+"?min\_price="+woof\_current\_values.min\_price+"&max\_price="+woof\_current\_values.max\_price;return woof\_is\_ajax&&history.pushState({},"",e),e}if(0===Object.keys(woof\_current\_values).length)return woof\_is\_ajax&&history.pushState({},"",woof\_current\_page\_link),woof\_current\_page\_link;0<Object.keys(woof\_really\_curr\_tax).length&&(woof\_current\_values.really\_curr\_tax=woof\_really\_curr\_tax.term\_id+"-"+woof\_really\_curr\_tax.taxonomy);var o=woof\_current\_page\_link+"?"+swoof\_search\_slug+"=1";woof\_is\_permalink||(0<woof\_redirect.length?(o=woof\_redirect+"?"+swoof\_search\_slug+"=1",woof\_current\_values.hasOwnProperty("page\_id")&&delete woof\_current\_values.page\_id):o=location.protocol+"//"+location.host+"?"+swoof\_search\_slug+"=1");var t=["path"];return 0<Object.keys(woof\_current\_values).length&&jQuery.each(woof\_current\_values,function(e,i){"page"==e&&woof\_is\_ajax&&(e="paged"),"product-page"==e||"undefined"!=typeof i&&(typeof i&&0<i.length||"number"==typeof i)&&-1==jQuery.inArray(e,t)&&(o=o+"&"+e+"="+i)}),o=o.replace(new RegExp(/page\/(\d+)/),""),woof\_is\_ajax&&history.pushState({},"",o),o}function woof\_show\_info\_popup(e){"default"==woof\_overlay\_skin?(jQuery("#woof\_html\_buffer").text(e),jQuery("#woof\_html\_buffer").fadeTo(200,.9)):"loading-balls"===woof\_overlay\_skin||"loading-bars"===woof\_overlay\_skin||"loading-bubbles"===woof\_overlay\_skin||"loading-cubes"===woof\_overlay\_skin||"loading-cylon"===woof\_overlay\_skin||"loading-spin"===woof\_overlay\_skin||"loading-spinning-bubbles"===woof\_overlay\_skin||"loading-spokes"===woof\_overlay\_skin?jQuery("body").plainOverlay("show",{progress:function(){return jQuery("<div id=\"woof\_svg\_load\_container\"><img style=\"height: 100%; width: 100%\" src=\""+woof\_link+"img/loading-master/"+woof\_overlay\_skin+".svg\" alt=\"\"></div>")}}):jQuery("body").plainOverlay("show",{duration:-1})}function woof\_hide\_info\_popup(){"default"==woof\_overlay\_skin?window.setTimeout(function(){jQuery("#woof\_html\_buffer").fadeOut(400)},200):jQuery("body").plainOverlay("hide")}function woof\_draw\_products\_top\_panel(){woof\_is\_ajax&&jQuery("#woof\_results\_by\_ajax").prev(".woof\_products\_top\_panel").remove();var e=jQuery(".woof\_products\_top\_panel");if(e.html(""),0<Object.keys(woof\_current\_values).length){e.show(),e.html("<ul></ul>"),e.find("ul").attr("class","woof\_products\_top\_panel\_ul");var o=!1;jQuery.each(woof\_current\_values,function(t,i){if((-1!=jQuery.inArray(t,woof\_accept\_array)||-1!=jQuery.inArray(t.replace("rev\_",""),woof\_accept\_array))&&!(("min\_price"==t||"max\_price"==t)&&o)){"min\_price"!=t&&"max\_price"!=t||o||(o=!0,t="price",i=woof\_lang\_pricerange);var a=!1,r=jQuery("input[data-anchor='woof\_n\_"+t+"\_all\_range']").val();if("undefined"!=typeof r&&(a=!0),i=i.toString().trim(),i.search(",")&&(i=i.split(",")),!a)jQuery.each(i,function(o,a){if("page"!=t&&"post\_type"!=t){var r=a;if("orderby"==t)r=void 0===woof\_lang[a]?woof\_lang.orderby+": "+a:woof\_lang.orderby+": "+woof\_lang[a];else if("perpage"==t)r=woof\_lang.perpage;else if("price"==t)r=woof\_lang.pricerange;else{var \_=!1;if(0<Object.keys(woof\_lang\_custom).length&&jQuery.each(woof\_lang\_custom,function(e,o){e==t&&(\_=!0,r=o,"woof\_sku"==t&&(r+=" "+a))}),!\_){try{r=jQuery("input[data-anchor='woof\_n\_"+t+"\_"+a+"']").val()}catch(o){console.log(o)}"undefined"==typeof r&&(r=a)}}if("undefined"!=typeof woof\_filter\_titles[t]){var n=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");n.length?n.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug",a).append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}});else if("undefined"!=typeof woof\_filter\_titles[t]){var \_=e.find("ul.woof\_products\_top\_panel\_ul li ul[data-container="+t+"]");\_.length?\_.append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r)))):e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<ul>").attr("data-container",t).append(jQuery("<li>").text(woof\_filter\_titles[t]+":")).append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))))}else e.find("ul.woof\_products\_top\_panel\_ul").append(jQuery("<li>").append(jQuery("<a>").attr("href","").attr("data-tax",t).attr("data-slug","all\_range").append(jQuery("<span>").attr("class","woof\_remove\_ppi").append(r))))}})}0!=jQuery(e).find("li").length&&jQuery(".woof\_products\_top\_panel").length?e.find("ul.woof\_products\_top\_panel\_ul").prepend(jQuery("<li>").append(jQuery("<button>").attr("class","woof\_reset\_button\_2").append(woof\_lang.clear\_all))):e.hide(),jQuery(".woof\_reset\_button\_2").on("click",function(){if(woof\_ajax\_page\_num=1,woof\_ajax\_redraw=0,woof\_reset\_btn\_action=!0,woof\_is\_permalink)woof\_current\_values={},woof\_submit\_link(woof\_get\_submit\_link().split("page/")[0]);else{var e=woof\_shop\_page;woof\_current\_values.hasOwnProperty("page\_id")&&(e=location.protocol+"//"+location.host+"/?page\_id="+woof\_current\_values.page\_id,woof\_current\_values={page\_id:woof\_current\_values.page\_id},woof\_get\_submit\_link()),woof\_submit\_link(e),woof\_is\_ajax&&(history.pushState({},"",e),woof\_current\_values=woof\_current\_values.hasOwnProperty("page\_id")?{page\_id:woof\_current\_values.page\_id}:{})}return!1}),jQuery(".woof\_remove\_ppi").parent().on("click",function(e){e.preventDefault();var o=jQuery(this).data("tax"),t=jQuery(this).data("slug");if("all\_range"==t)delete woof\_current\_values[o];else if("price"!=o){var i=woof\_current\_values[o];i=i.split(",");var a=[];jQuery.each(i,function(e,o){o!=t&&a.push(o)}),i=a,i.length?woof\_current\_values[o]=i.join(","):delete woof\_current\_values[o]}else delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price;return woof\_ajax\_page\_num=1,woof\_reset\_btn\_action=!0,woof\_submit\_link(woof\_get\_submit\_link()),jQuery(".woof\_products\_top\_panel").find("[data-tax='"+o+"'][href='"+t+"']").hide(333),!1})}function woof\_shortcode\_observer(){var e=!0;(jQuery(".woof\_shortcode\_output").length||jQuery(".woocommerce .products").length&&!jQuery(".single-product").length)&&(e=!1),jQuery(".woocommerce .woocommerce-info").length&&(e=!1),"undefined"!=typeof woof\_not\_redirect&&1==woof\_not\_redirect&&(e=!1),jQuery(".woot-data-table").length&&(e=!1),e||(woof\_current\_page\_link=location.protocol+"//"+location.host+location.pathname),jQuery("#woof\_results\_by\_ajax").length&&(woof\_is\_ajax=1)}function woof\_init\_beauty\_scroll(){if(woof\_use\_beauty\_scroll)try{jQuery(".woof\_section\_scrolled, .woof\_sid\_auto\_shortcode .woof\_container").addClass("woof\_use\_beauty\_scroll")}catch(o){console.log(o)}}function woof\_remove\_class\_widget(){jQuery(".woof\_container\_inner").find(".widget").removeClass("widget")}function woof\_init\_show\_auto\_form(){jQuery(".woof\_show\_auto\_form").off("click"),jQuery(".woof\_show\_auto\_form.woof\_btn").length&&jQuery(".woof\_btn\_default").remove(),jQuery(".woof\_show\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_hide\_auto\_form").removeClass("woof\_show\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:jQuery(e).parent().find(".woof\_auto\_show\_indent").height()+20+"px",opacity:.96},377,function(){woof\_init\_hide\_auto\_form(),jQuery(e).parent().find(".woof\_auto\_show").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").removeClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show").height("auto")}),!1})}document.addEventListener("click",function(o){let e=document.querySelectorAll(".woof\_auto\_show"),t=o.target,i=!t.classList.contains("woof\_sid");return!(i&&(i=!t.closest(".woof\_sid")),!t.classList.contains("woof\_show\_auto\_form"))||(i&&0<Array.from(e).length&&Array.from(e).forEach(function(e){e.parentNode.querySelector(".woof\_hide\_auto\_form")&&e.parentNode.querySelector(".woof\_hide\_auto\_form").click()}),!0)});function woof\_init\_hide\_auto\_form(){jQuery(".woof\_hide\_auto\_form").off("click"),jQuery(".woof\_hide\_auto\_form").on("click",function(){var e=this;return jQuery(e).addClass("woof\_show\_auto\_form").removeClass("woof\_hide\_auto\_form"),jQuery(e).parent().find(".woof\_auto\_show").show().animate({height:"1px",opacity:0},377,function(){jQuery(e).parent().find(".woof\_auto\_show").addClass("woof\_overflow\_hidden"),jQuery(e).parent().find(".woof\_auto\_show\_indent").addClass("woof\_overflow\_hidden"),woof\_init\_show\_auto\_form()}),!1})}function woof\_checkboxes\_slide(){if(woof\_checkboxes\_slide\_flag){var e=jQuery("ul.woof\_childs\_list");e.length&&(jQuery.each(e,function(e,o){if(!jQuery(o).parents(".woof\_no\_close\_childs").length&&0!=jQuery(o).find("input").length){var t="woof\_is\_closed";if(woof\_supports\_html5\_storage()){var i=localStorage.getItem(jQuery(o).closest("li").attr("class"));if(i&&"woof\_is\_opened"==i){var t="woof\_is\_opened";jQuery(o).show()}jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}else jQuery(o).find("input[type=checkbox],input[type=radio]").is(":checked")&&(jQuery(o).show(),t="woof\_is\_opened"),jQuery(o).parent("li").children("label").after("<a href=\"javascript:void(0);\" class=\"woof\_childs\_list\_opener\" title=\""+woof\_lang.list\_opener+"\" ><span class=\""+t+"\"></span></a>")}}),jQuery.each(jQuery("a.woof\_childs\_list\_opener span"),function(e,o){jQuery(o).on("click",function(){var e=jQuery(this),o=jQuery(this).parent(".woof\_childs\_list\_opener");if(e.hasClass("woof\_is\_closed")?(jQuery(o).parent().find("ul.woof\_childs\_list").first().show(333),e.removeClass("woof\_is\_closed"),e.addClass("woof\_is\_opened")):(jQuery(o).parent().find("ul.woof\_childs\_list").first().hide(333),e.removeClass("woof\_is\_opened"),e.addClass("woof\_is\_closed")),woof\_supports\_html5\_storage()){var t=jQuery(o).closest("li").attr("class"),i=jQuery(o).children("span").attr("class");localStorage.setItem(t,i)}return!1})}))}}function woof\_init\_ion\_sliders(){jQuery.each(jQuery(".woof\_range\_slider"),function(e,o){try{jQuery(o).ionRangeSlider({min:jQuery(o).data("min"),max:jQuery(o).data("max"),from:jQuery(o).data("min-now"),to:jQuery(o).data("max-now"),type:"double",prefix:jQuery(o).data("slider-prefix"),postfix:jQuery(o).data("slider-postfix"),prettify:!0,prettify\_separator:",",prettify\_enabled:!0,hideMinMax:!1,hideFromTo:!1,grid:!0,step:jQuery(o).data("step"),onFinish:function(e){var t=jQuery(o).data("taxes");return woof\_current\_values.min\_price=parseFloat(e.from,10)/t,woof\_current\_values.max\_price=parseFloat(e.to,10)/t,"undefined"!=typeof woocs\_current\_currency&&(woof\_current\_values.min\_price/=parseFloat(woocs\_current\_currency.rate),woof\_current\_values.max\_price/=parseFloat(woocs\_current\_currency.rate)),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(o).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link()),!1},onChange:function(e){if(jQuery(".woof\_price\_filter\_txt")){var t=jQuery(o).data("taxes");jQuery(".woof\_price\_filter\_txt\_from").val(parseInt(e.from,10)/t),jQuery(".woof\_price\_filter\_txt\_to").val(parseInt(e.to,10)/t),"undefined"!=typeof woocs\_current\_currency&&(jQuery(".woof\_price\_filter\_txt\_from").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_from").val()/parseFloat(woocs\_current\_currency.rate))),jQuery(".woof\_price\_filter\_txt\_to").val(Math.ceil(jQuery(".woof\_price\_filter\_txt\_to").val()/parseFloat(woocs\_current\_currency.rate))))}}})}catch(o){}})}function woof\_init\_native\_woo\_price\_filter(){jQuery(".widget\_price\_filter form").off("submit"),jQuery(".widget\_price\_filter form").on("submit",function(){var e=jQuery(this).find(".price\_slider\_amount #min\_price").val(),o=jQuery(this).find(".price\_slider\_amount #max\_price").val();return woof\_current\_values.min\_price=e,woof\_current\_values.max\_price=o,woof\_ajax\_page\_num=1,woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_reinit\_native\_woo\_price\_filter(){if("undefined"==typeof woocommerce\_price\_slider\_params)return!1;jQuery("input#min\_price, input#max\_price").hide(),jQuery(".price\_slider, .price\_label").show();var e=jQuery(".price\_slider\_amount #min\_price").data("min"),o=jQuery(".price\_slider\_amount #max\_price").data("max"),t=parseInt(e,10),i=parseInt(o,10);woof\_current\_values.hasOwnProperty("min\_price")?(t=parseInt(woof\_current\_values.min\_price,10),i=parseInt(woof\_current\_values.max\_price,10)):(woocommerce\_price\_slider\_params.min\_price&&(t=parseInt(woocommerce\_price\_slider\_params.min\_price,10)),woocommerce\_price\_slider\_params.max\_price&&(i=parseInt(woocommerce\_price\_slider\_params.max\_price,10)));var a=woocommerce\_price\_slider\_params.currency\_symbol;"undefined"==typeof a&&(a=woocommerce\_price\_slider\_params.currency\_format\_symbol),jQuery(document.body).on("price\_slider\_create price\_slider\_slide",function(e,o,t){if("undefined"!=typeof woocs\_current\_currency){var i=o,r=t;"undefined"==typeof a&&(a=woocs\_current\_currency.symbol),1!==woocs\_current\_currency.rate&&(i=Math.ceil(i\*parseFloat(woocs\_current\_currency.rate)),r=Math.ceil(r\*parseFloat(woocs\_current\_currency.rate))),i=woof\_front\_number\_format(i,2,".",","),r=woof\_front\_number\_format(r,2,".",","),(jQuery.inArray(woocs\_current\_currency.name,woocs\_array\_no\_cents)||1==woocs\_current\_currency.hide\_cents)&&(i=i.replace(".00",""),r=r.replace(".00","")),"left"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+i),jQuery(".price\_slider\_amount span.to").html(a+r)):"left\_space"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(a+" "+i),jQuery(".price\_slider\_amount span.to").html(a+" "+r)):"right"===woocs\_current\_currency.position?(jQuery(".price\_slider\_amount span.from").html(i+a),jQuery(".price\_slider\_amount span.to").html(r+a)):"right\_space"===woocs\_current\_currency.position&&(jQuery(".price\_slider\_amount span.from").html(i+" "+a),jQuery(".price\_slider\_amount span.to").html(r+" "+a))}else"left"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+o),jQuery(".price\_slider\_amount span.to").html(a+t)):"left\_space"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(a+" "+o),jQuery(".price\_slider\_amount span.to").html(a+" "+t)):"right"===woocommerce\_price\_slider\_params.currency\_pos?(jQuery(".price\_slider\_amount span.from").html(o+a),jQuery(".price\_slider\_amount span.to").html(t+a)):"right\_space"===woocommerce\_price\_slider\_params.currency\_pos&&(jQuery(".price\_slider\_amount span.from").html(o+" "+a),jQuery(".price\_slider\_amount span.to").html(t+" "+a));jQuery(document.body).trigger("price\_slider\_updated",[o,t])}),jQuery(".price\_slider").slider({range:!0,animate:!0,min:e,max:o,values:[t,i],create:function(){jQuery(".price\_slider\_amount #min\_price").val(t),jQuery(".price\_slider\_amount #max\_price").val(i),jQuery(document.body).trigger("price\_slider\_create",[t,i])},slide:function(e,o){jQuery("input#min\_price").val(o.values[0]),jQuery("input#max\_price").val(o.values[1]),jQuery(document.body).trigger("price\_slider\_slide",[o.values[0],o.values[1]])},change:function(e,o){jQuery(document.body).trigger("price\_slider\_change",[o.values[0],o.values[1]])}}),woof\_init\_native\_woo\_price\_filter()}function woof\_mass\_reinit(){woof\_remove\_empty\_elements(),woof\_open\_hidden\_li(),woof\_init\_search\_form(),woof\_hide\_info\_popup(),woof\_init\_beauty\_scroll(),woof\_init\_ion\_sliders(),woof\_reinit\_native\_woo\_price\_filter(),woof\_recount\_text\_price\_filter(),woof\_draw\_products\_top\_panel(),woof\_unblur\_filter()}function woof\_unblur\_filter(){jQuery(".woof\_redraw\_zone.woof\_blur\_redraw\_zone").removeClass("woof\_blur\_redraw\_zone")}function woof\_recount\_text\_price\_filter(){"undefined"!=typeof woocs\_current\_currency&&jQuery.each(jQuery(".woof\_price\_filter\_txt\_from, .woof\_price\_filter\_txt\_to"),function(){jQuery(this).val(Math.ceil(jQuery(this).data("value")))})}function woof\_init\_toggles(){jQuery("body").off("click",".woof\_front\_toggle"),jQuery("body").on("click",".woof\_front\_toggle",function(){"opened"==jQuery(this).data("condition")?(jQuery(this).removeClass("woof\_front\_toggle\_opened"),jQuery(this).addClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","closed"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_closed\_text):jQuery(this).find("img").prop("src",woof\_toggle\_closed\_image)):(jQuery(this).addClass("woof\_front\_toggle\_opened"),jQuery(this).removeClass("woof\_front\_toggle\_closed"),jQuery(this).data("condition","opened"),"text"==woof\_toggle\_type?jQuery(this).text(woof\_toggle\_opened\_text):jQuery(this).find("img").prop("src",woof\_toggle\_opened\_image)),jQuery(this).parents(".woof\_container\_inner").find(".woof\_block\_html\_items").slideToggle(500);var e=jQuery(this).parents(".woof\_container\_inner").find(".chosen-container");return e.length&&jQuery(this).hasClass("woof\_front\_toggle\_opened")&&(jQuery(this).parents(".woof\_container\_inner").find("select").chosen("destroy").trigger("liszt:updated"),jQuery(this).parents(".woof\_container\_inner").find("select").chosen()),jQuery(this).hasClass("woof\_front\_toggle\_opened")&&woof\_reinit\_selects(),!1})}function woof\_open\_hidden\_li(){0<jQuery(".woof\_open\_hidden\_li\_btn").length&&jQuery.each(jQuery(".woof\_open\_hidden\_li\_btn"),function(e,o){jQuery(o).parents("ul").find("li.woof\_hidden\_term input[type=checkbox],li.woof\_hidden\_term input[type=radio]").is(":checked")&&jQuery(o).trigger("click")})}function $\_woof\_GET(e,o){o=o?o:window.location.search;var t=new RegExp("&"+e+"=([^&]\*)","i");return(o=o.replace(/^\?/,"&").match(t))?o=o[1]:o=""}function woof\_parse\_url(e){var o=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]\*))?([^?#]\*)(\?([^#]\*))?(#(.\*))?/);return{scheme:o[2],authority:o[4],path:o[5],query:o[7],fragment:o[9]}}function woof\_price\_filter\_radio\_init(){if("none"!=icheck\_skin){jQuery(".woof\_price\_filter\_radio").iCheck("destroy");let e=jQuery(".woof\_price\_filter\_radio").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_price\_filter\_radio").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_price\_filter\_radio").siblings("div").removeClass("checked"),jQuery(".woof\_price\_filter\_radio").off("ifChecked"),jQuery(".woof\_price\_filter\_radio").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_price\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_price\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).val();if(-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())})}else jQuery("body").on("change",".woof\_price\_filter\_radio",function(){var e=jQuery(this).val();if(jQuery(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible"),-1==parseInt(e,10))delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).removeAttr("checked"),jQuery(this).siblings(".woof\_radio\_price\_reset").removeClass("woof\_radio\_term\_reset\_visible");else{var e=e.split("-");woof\_current\_values.min\_price=e[0],woof\_current\_values.max\_price=e[1],jQuery(this).siblings(".woof\_radio\_price\_reset").addClass("woof\_radio\_term\_reset\_visible"),jQuery(this).attr("checked",!0)}(woof\_autosubmit||0==jQuery(this).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())});jQuery(".woof\_radio\_price\_reset").on("click",function(){return delete woof\_current\_values.min\_price,delete woof\_current\_values.max\_price,jQuery(this).siblings("div").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link()),!1})}function woof\_serialize(e){for(var o,t,a=decodeURI(e),r=a.split("&"),\_={},s=0,d=r.length;s<d;s++)if(o=r[s].split("="),t=o[0],t.indexOf("[]")==t.length-2){var n=t.substring(0,t.length-2);void 0===\_[n]&&(\_[n]=[]),\_[n].push(o[1])}else \_[t]=o[1];return \_}function woof\_infinite(){if("undefined"!=typeof yith\_infs\_premium&&yith\_infs\_premium.options)return woof\_change\_ajax\_next\_link(),!1;if("undefined"!=typeof yith\_infs){var e={nextSelector:".woocommerce-pagination li .next",navSelector:yith\_infs.navSelector,itemSelector:yith\_infs.itemSelector,contentSelector:yith\_infs.contentSelector,loader:"<img src=\""+yith\_infs.loader+"\">",is\_shop:yith\_infs.shop};woof\_change\_ajax\_next\_link(),jQuery(window).off("yith\_infs\_start"),jQuery(yith\_infs.contentSelector).yit\_infinitescroll(e)}}function woof\_change\_ajax\_next\_link(){if(!jQuery(".woocommerce-pagination li .next").length)return!1;var e=window.location.href,o=e.split("?"),t="";if(o[1]!=null){var i=woof\_serialize(o[1]);delete i.paged,t=decodeURIComponent(jQuery.param(i))}var a=jQuery(".woocommerce-pagination li .next").attr("href");a==null&&(a=o+"page/1/");var r=a.split("?"),\_="";if(r[1]!=null){var n=woof\_serialize(r[1]);n.paged!=null&&(\_="/page/"+n.paged+"/")}a=o[0].replace(/\/$/,"")+\_+"?"+t,jQuery(".woocommerce-pagination li .next").attr("href",a)}function woof\_change\_link\_addtocart(){woof\_is\_ajax&&jQuery(".add\_to\_cart\_button").each(function(e,o){var t=jQuery(o).attr("href");if(t){var i=t.split("?"),a=window.location.href.split("?");i[1]!=null&&(t=a[0]+"?"+i[1],jQuery(o).attr("href",t))}})}function woof\_front\_number\_format(e,o,t,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,r=isFinite(+o)?Math.abs(o):0,\_="undefined"==typeof i?",":i,n="undefined"==typeof t?".":t,d="";return d=(r?function(e,o){var t=Math.pow(10,o);return""+(Math.round(e\*t)/t).toFixed(o)}(a,r):""+Math.round(a)).split("."),3<d[0].length&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,\_)),(d[1]||"").length<r&&(d[1]=d[1]||"",d[1]+=Array(r-d[1].length+1).join("0")),d.join(n)}function woof\_supports\_html5\_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(o){return!1}}function woof\_init\_tooltip(){var e=jQuery(".woof\_tooltip\_header");e.length&&jQuery(e).tooltipster({theme:"tooltipster-noir",side:"right",trigger:"click"})}function woof\_before\_ajax\_form\_redrawing(){if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_mselect").selectWoo("destroy")}catch(o){return!1}}function woof\_reinit\_selects(){if("chosen"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_select, select.woof\_mselect").chosen(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen("destroy").trigger("liszt:updated"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").chosen()}catch(o){}else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_select, select.woof\_mselect").selectWoo("destroy"),jQuery("select.woof\_select, select.woof\_mselect").selectWoo(),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo("destroy"),jQuery("select.woof\_meta\_select, select.woof\_meta\_mselect").selectWoo()}catch(o){}}function woof\_init\_mobile\_filter(){var e=jQuery(".woof\_show\_mobile\_filter"),o=jQuery(".woof\_show\_mobile\_filter\_container"),t=jQuery(woof\_m\_b\_container);o.length||(o=t),e&&o&&jQuery(o).append(e),jQuery(".woof\_show\_mobile\_filter").on("click",function(){var e=jQuery(this).data("sid");0<jQuery(".woof.woof\_sid\_front\_builder").length?(e="front\_builder",jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile")):jQuery(".woof.woof\_sid\_"+e).toggleClass("woof\_show\_filter\_for\_mobile"),setTimeout(function(){try{jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen("destroy"),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_mselect").chosen(),jQuery(".woof.woof\_sid\_"+e).find("select.woof\_select").chosen()}catch(o){}},300)}),jQuery(".woof\_hide\_mobile\_filter").on("click",function(){jQuery(this).parents(".woof").toggleClass("woof\_show\_filter\_for\_mobile")})}function woof\_init\_radios(){if("none"!=icheck\_skin){jQuery(".woof\_radio\_term").iCheck("destroy");let e=jQuery(".woof\_radio\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+e[0]+"-"+e[1]})):jQuery(".woof\_radio\_term").iCheck({radioClass:"iradio\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_radio\_term").off("ifChecked"),jQuery(".woof\_radio\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible");var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");woof\_radio\_direct\_search(t,o,e)})}else jQuery(".woof\_radio\_term").on("change",function(){jQuery(this).attr("checked",!0);var e=jQuery(this).data("slug"),o=jQuery(this).attr("name"),t=jQuery(this).data("term-id");jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").removeClass("woof\_radio\_term\_reset\_visible"),jQuery(this).parents(".woof\_list").find(".woof\_radio\_term\_reset").hide(),jQuery(this).parents("li").eq(0).find(".woof\_radio\_term\_reset").eq(0).addClass("woof\_radio\_term\_reset\_visible"),woof\_radio\_direct\_search(t,o,e)});jQuery(".woof\_radio\_term\_reset").on("click",function(){return woof\_radio\_direct\_search(jQuery(this).data("term-id"),jQuery(this).attr("data-name"),0),jQuery(this).parents(".woof\_list").find(".checked").removeClass("checked"),jQuery(this).parents(".woof\_list").find("input[type=radio]").removeAttr("checked"),jQuery(this).removeClass("woof\_radio\_term\_reset\_visible"),!1})}function woof\_radio\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0==t?(jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).attr("checked",!1),jQuery("woof\_radio\_term\_"+e).parent().removeClass("checked"),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"})):(woof\_current\_values[o]=t,jQuery("a.woof\_radio\_term\_reset\_"+e).hide(),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("a.woof\_radio\_term\_reset").show(),jQuery("woof\_radio\_term\_"+e).parents("ul.woof\_list").find("label").css({fontWeight:"normal"}),jQuery("woof\_radio\_term\_"+e).filter(":checked").parents("li").find("label.woof\_radio\_label\_"+t).css({fontWeight:"bold"})),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_checkboxes(){if("none"!=icheck\_skin){jQuery(".woof\_checkbox\_term").iCheck("destroy");let e=jQuery(".woof\_checkbox\_term").parents(".woof\_redraw\_zone").eq(0).data("icheck-skin");e?(e=e.split("\_"),jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+e[0]+"-"+e[1]})):jQuery(".woof\_checkbox\_term").iCheck({checkboxClass:"icheckbox\_"+icheck\_skin.skin+"-"+icheck\_skin.color}),jQuery(".woof\_checkbox\_term").off("ifChecked"),jQuery(".woof\_checkbox\_term").on("ifChecked",function(){jQuery(this).attr("checked",!0),woof\_checkbox\_process\_data(this,!0)}),jQuery(".woof\_checkbox\_term").off("ifUnchecked"),jQuery(".woof\_checkbox\_term").on("ifUnchecked",function(){jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1)}),jQuery(".woof\_checkbox\_label").off(),jQuery("label.woof\_checkbox\_label").on("click",function(){return!jQuery(this).prev().find(".woof\_checkbox\_term").is(":disabled")&&void("undefined"==typeof jQuery(this).prev().find(".woof\_checkbox\_term").attr("checked")?(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifChecked"),jQuery(this).prev().addClass("checked")):(jQuery(this).prev().find(".woof\_checkbox\_term").trigger("ifUnchecked"),jQuery(this).prev().removeClass("checked")))})}else jQuery(".woof\_checkbox\_term").on("change",function(){jQuery(this).is(":checked")?(jQuery(this).attr("checked",!0),woof\_checkbox\_process\_data(this,!0)):(jQuery(this).attr("checked",!1),woof\_checkbox\_process\_data(this,!1))})}function woof\_checkbox\_process\_data(e,o){var t=jQuery(e).data("tax"),i=jQuery(e).attr("name"),a=jQuery(e).data("term-id");woof\_checkbox\_direct\_search(a,i,t,o)}function woof\_checkbox\_direct\_search(e,o,t,i){var a="",r=!0;if(i)woof\_current\_values[t]=t in woof\_current\_values?woof\_current\_values[t]+","+o:o,r=!0;else{a=woof\_current\_values[t],a=a.split(",");var \_=[];jQuery.each(a,function(e,t){t!=o&&\_.push(t)}),a=\_,a.length?woof\_current\_values[t]=a.join(","):delete woof\_current\_values[t],r=!1}jQuery(".woof\_checkbox\_term\_"+e).attr("checked",r),woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_selects(){"chosen"==woof\_select\_type?jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").chosen():"selectwoo"==woof\_select\_type&&jQuery("select.woof\_select, select.woof\_price\_filter\_dropdown").selectWoo(),jQuery(".woof\_select").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");woof\_select\_direct\_search(this,o,e)});var e=jQuery(".woof\_hide\_empty\_container");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_select\_direct\_search(e,o,t){jQuery.each(woof\_current\_values,function(e){if(e==o)return void delete woof\_current\_values[o]}),0!=t&&(woof\_current\_values[o]=t),woof\_ajax\_page\_num=1,(woof\_autosubmit||0==jQuery(e).within(".woof").length)&&woof\_submit\_link(woof\_get\_submit\_link())}function woof\_init\_mselects(){if("chosen"==woof\_select\_type)jQuery("select.woof\_mselect").chosen();else if("selectwoo"==woof\_select\_type)try{jQuery("select.woof\_mselect").selectWoo()}catch(o){console.log(o)}jQuery(".woof\_mselect").change(function(){var e=jQuery(this).val(),o=jQuery(this).attr("name");if("chosen"==woof\_select\_type){var t=jQuery(this).chosen().val();jQuery(".woof\_mselect[name="+o+"] option:selected").removeAttr("selected"),jQuery(".woof\_mselect[name="+o+"] option").each(function(){var e=jQuery(this).val();-1!==jQuery.inArray(e,t)&&jQuery(this).prop("selected",!0)})}return woof\_mselect\_direct\_search(o,e),!0});var e=jQuery(".woof\_hide\_empty\_container\_ms");jQuery.each(e,function(e,o){var t=jQuery(o).val();t&&jQuery(t).hide()})}function woof\_mselect\_direct\_search(e){var o=[];jQuery(".woof\_mselect[name="+e+"] option:selected").each(function(){o.push(jQuery(this).val())}),o=o.filter(function(e,t){return o.indexOf(e)==t}),o=o.join(","),o.length?woof\_current\_values[e]=o:delete woof\_current\_values[e],woof\_ajax\_page\_num=1,woof\_autosubmit&&woof\_submit\_link(woof\_get\_submit\_link())} |
* ## [woocommerce-products-filter/trunk/js/plugin\_options.js](/changeset/3093324/woocommerce-products-filter/trunk/js/plugin_options.js "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/js/plugin_options.js")

  | [r3045600](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L565 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3093324#L565 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 565 | 565 | //to avoid logic errors with the count options |
  | 566 | 566 | $('#woof\_hide\_dynamic\_empty\_pos').change(function () { |
  | 567 |  | if (~~$(this).val()~~ == 1) { |
  |  | 567 | if (parseInt($(this).val()) === 1) { |
  | 568 | 568 | $('#woof\_show\_count').val(1); |
  | 569 | 569 | $('#woof\_show\_count\_dynamic').val(1); |
  | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L572) | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3093324#L572) |  |
  | 572 | 572 |  |
  | 573 | 573 | $('#woof\_show\_count\_dynamic').change(function () { |
  | 574 |  | if (~~$(this).val()~~ == 1) { |
  |  | 574 | if (parseInt($(this).val()) === 1) { |
  | 575 | 575 | $('#woof\_show\_count').val(1); |
  | 576 | 576 | } else { |
  | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3045600#L652) | […](/browser/woocommerce-products-filter/trunk/js/plugin_options.js?rev=3093324#L652) |  |
  | 652 | 652 | var sortcode\_txt = ""; |
  | 653 | 653 | $.each(values, function (index, element) { |
  | 654 |  | console.log(jQuery(element).attr("name")); |
  | 655 |  | console.log(jQuery(element).val()); |
  |  | 654 | //console.log(jQuery(element).attr("name")); |
  |  | 655 | //console.log(jQuery(element).val()); |
  | 656 | 656 | var value = jQuery(element).val(); |
  | 657 | 657 | var name = jQuery(element).attr("name"); |
* ## [woocommerce-products-filter/trunk/lib/alert/index.php](/changeset/3093324/woocommerce-products-filter/trunk/lib/alert/index.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/lib/alert/index.php")

  | [r3045600](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3045600#L64 "Show revision 3045600 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3093324#L64 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 64 | 64 |  |
  | 65 | 65 | <div id="pn\_<?php echo esc\_attr($slug) ?>\_review\_yes" style="display: none;"> |
  | 66 |  | <p><?php printf(~~\_\_('That\'s awesome! Could you please do us a BIG favor and give it a 5-star rating on %s to help us spread the word and boost our motivation?', 'woocommerce-products-filter'), $on~~) ?></p> |
  |  | 66 | <p><?php printf(esc\_html\_\_('That\'s awesome! Could you please do us a BIG favor and give it a 5-star rating on %s to help us spread the word and boost our motivation?', 'woocommerce-products-filter'), esc\_html($on)) ?></p> |
  | 67 | 67 | <p><b>~ PluginUs.NET developers team</b></p> |
  | 68 | 68 | <p> |
  | […](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3045600#L82) | […](/browser/woocommerce-products-filter/trunk/lib/alert/index.php?rev=3093324#L82) |  |
  | 82 | 82 | </p> |
  | 83 | 83 | </div> |
  | 84 |  | <input type="hidden" class="woof\_alert\_nonce" value="<?php echo ~~wp\_create\_nonce('alert\_nonce'~~)?>"> |
  |  | 84 | <input type="hidden" class="woof\_alert\_nonce" value="<?php echo esc\_attr(wp\_create\_nonce('alert\_nonce'))?>"> |
  | 85 | 85 | </div> |
  | 86 | 86 | <?php |
* ## [woocommerce-products-filter/trunk/readme.txt](/changeset/3093324/woocommerce-products-filter/trunk/readme.txt "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/readme.txt")

  | [r3051027](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3051027#L3 "Show revision 3051027 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3093324#L3 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Donate link: https://pluginus.net/affiliate/woocommerce-products-filter |
  | 4 | 4 | Tags: filter, product filter, woocommerce, woof, ajax filter |
  | 5 |  | Requires at least: ~~5.2~~.0 |
  |  | 5 | Requires at least: 6.0.0 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Requires PHP: 7.~~3~~ |
  | 8 |  | Stable tag: 1.3.~~5.3~~ |
  |  | 7 | Requires PHP: 7.4 |
  |  | 8 | Stable tag: 1.3.6 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: https://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3051027#L175) | […](/browser/woocommerce-products-filter/trunk/readme.txt?rev=3093324#L175) |  |
  | 175 | 175 |  |
  | 176 | 176 | == Changelog == |
  |  | 177 |  |
  |  | 178 | = 1.3.6 = |
  |  | 179 | \* security fix, thanks to Richard Telleng (stueotue) from wordfence.com |
  |  | 180 | \* bunch of small fixes |
  |  | 181 | \* [new features](https://products-filter.com/update-woocommerce-products-filter-v-3-3-6/) |
  | 177 | 182 |  |
  | 178 | 183 | = 1.3.5.3 = |
* ## [woocommerce-products-filter/trunk/views/ext\_options.php](/changeset/3093324/woocommerce-products-filter/trunk/views/ext_options.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/ext_options.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/ext_options.php?rev=3020561#L21 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/ext_options.php?rev=3093324#L21 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 21 | 21 | case 'textinput': |
  | 22 | 22 | ?> |
  | 23 |  | <input type="text" placeholder="<?php echo esc\_attr($placeholder) ?>" name="woof\_settings[<?php echo esc\_attr($key) ?>]" value="<?php echo ~~stripcslashes(wp\_kses\_post(wp\_unslash($woof\_settings[$key])~~)) ?>" id="<?php echo esc\_attr($key) ?>" /> |
  |  | 23 | <input type="text" placeholder="<?php echo esc\_attr($placeholder) ?>" name="woof\_settings[<?php echo esc\_attr($key) ?>]" value="<?php echo wp\_kses\_post(wp\_unslash($woof\_settings[$key])) ?>" id="<?php echo esc\_attr($key) ?>" /> |
  | 24 | 24 | <?php |
  | 25 | 25 | break; |
* ## [woocommerce-products-filter/trunk/views/html\_types/checkbox.php](/changeset/3093324/woocommerce-products-filter/trunk/views/html_types/checkbox.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/html_types/checkbox.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/html_types/checkbox.php?rev=3020561#L102 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/html_types/checkbox.php?rev=3093324#L102 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 102 | 102 | <label <?php do\_action('woof\_print\_label\_attributes', $term) ?>   class="woof\_checkbox\_label <?php if (in\_array($term['slug'], $current\_request)): ?>woof\_checkbox\_label\_selected<?php endif; ?>" for="<?php echo esc\_attr('woof\_' . $term['term\_id'] . '\_' . $inique\_id) ?>"><?php |
  | 103 | 103 | if (has\_filter('woof\_before\_term\_name')) |
  | 104 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 104 | echo   wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 105 | 105 | else |
  | 106 | 106 | echo esc\_attr($term['name']); |
  | […](/browser/woocommerce-products-filter/trunk/views/html_types/checkbox.php?rev=3020561#L209) | […](/browser/woocommerce-products-filter/trunk/views/html_types/checkbox.php?rev=3093324#L209) |  |
  | 209 | 209 | <label <?php do\_action('woof\_print\_label\_attributes', $term) ?>  class="woof\_checkbox\_label <?php if (in\_array($term['slug'], $current\_request)): ?>woof\_checkbox\_label\_selected<?php endif; ?>" for="<?php echo esc\_attr('woof\_' . $term['term\_id'] . '\_' . $inique\_id) ?>"><?php |
  | 210 | 210 | if (has\_filter('woof\_before\_term\_name')) |
  | 211 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 211 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 212 | 212 | else |
  | 213 | 213 | echo esc\_html($term['name']); |
* ## [woocommerce-products-filter/trunk/views/html\_types/mselect.php](/changeset/3093324/woocommerce-products-filter/trunk/views/html_types/mselect.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/html_types/mselect.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/html_types/mselect.php?rev=3020561#L86 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/html_types/mselect.php?rev=3093324#L86 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 86 | 86 | <option <?php if ($show\_count AND $count == 0 AND!in\_array($term['slug'], $current\_request)): ?>disabled=""<?php endif; ?> value="<?php echo esc\_attr($term['slug']) ?>" <?php selected(in\_array($term['slug'], $current\_request)) ?> class="woof-padding-<?php echo esc\_attr($level) ?>"><?php /\* echo str\_repeat('&nbsp;&nbsp;&nbsp;', esc\_attr($level)) \*/ ?><?php |
  | 87 | 87 | if (has\_filter('woof\_before\_term\_name')) |
  | 88 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 88 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 89 | 89 | else |
  | 90 | 90 | echo esc\_html($term['name']); |
  | […](/browser/woocommerce-products-filter/trunk/views/html_types/mselect.php?rev=3020561#L169) | […](/browser/woocommerce-products-filter/trunk/views/html_types/mselect.php?rev=3093324#L169) |  |
  | 169 | 169 | <option <?php if ($show\_count AND $count == 0 AND!in\_array($term['slug'], $current\_request)): ?>disabled=""<?php endif; ?> value="<?php echo esc\_attr($term['slug']) ?>" <?php selected(in\_array($term['slug'], $current\_request)) ?>><?php |
  | 170 | 170 | if (has\_filter('woof\_before\_term\_name')) |
  | 171 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 171 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 172 | 172 | else |
  | 173 | 173 | echo esc\_html($term['name']); |
* ## [woocommerce-products-filter/trunk/views/html\_types/radio.php](/changeset/3093324/woocommerce-products-filter/trunk/views/html_types/radio.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/html_types/radio.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/html_types/radio.php?rev=3020561#L101 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/html_types/radio.php?rev=3093324#L101 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 101 | 101 | <label <?php do\_action('woof\_print\_label\_attributes', $term) ?>  class="woof\_radio\_label woof\_radio\_label\_<?php echo esc\_attr($term['slug']) ?> <?php if (in\_array($term['slug'], $current\_request)): ?>woof\_radio\_label\_selected<?php endif; ?>" for="<?php echo esc\_attr('woof\_' . $term['term\_id'] . '\_' . $inique\_id) ?>"><?php |
  | 102 | 102 | if (has\_filter('woof\_before\_term\_name')) |
  | 103 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 103 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 104 | 104 | else |
  | 105 | 105 | echo esc\_html($term['name']); |
  | […](/browser/woocommerce-products-filter/trunk/views/html_types/radio.php?rev=3020561#L208) | […](/browser/woocommerce-products-filter/trunk/views/html_types/radio.php?rev=3093324#L208) |  |
  | 208 | 208 | <label <?php do\_action('woof\_print\_label\_attributes', $term) ?>  class="woof\_radio\_label <?php if (in\_array($term['slug'], $current\_request)): ?>woof\_radio\_label\_selected<?php endif; ?>" for="<?php echo esc\_attr('woof\_' . $term['term\_id'] . '\_' . $inique\_id) ?>"><?php |
  | 209 | 209 | if (has\_filter('woof\_before\_term\_name')) |
  | 210 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 210 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 211 | 211 | else |
  | 212 | 212 | echo esc\_html($term['name']); |
* ## [woocommerce-products-filter/trunk/views/html\_types/select.php](/changeset/3093324/woocommerce-products-filter/trunk/views/html_types/select.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/html_types/select.php")

  | [r3020561](/browser/woocommerce-products-filter/trunk/views/html_types/select.php?rev=3020561#L85 "Show revision 3020561 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/html_types/select.php?rev=3093324#L85 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 85 | 85 | } |
  | 86 | 86 | ?> |
  | 87 |  | <option <?php if ($show\_count AND $count == 0 AND!in\_array($term['slug'], $current\_request)): ?>disabled=""<?php endif; ?> value="<?php echo esc\_attr($term['slug']) ?>" <?php selected(in\_array($term['slug'], $current\_request)) ?> class="woof-padding-<?php echo esc\_attr($level) ?>"><?php echo ~~str\_repeat(' ', esc\_attr(~~$level)) ?><?php |
  |  | 87 | <option <?php if ($show\_count AND $count == 0 AND!in\_array($term['slug'], $current\_request)): ?>disabled=""<?php endif; ?> value="<?php echo esc\_attr($term['slug']) ?>" <?php selected(in\_array($term['slug'], $current\_request)) ?> class="woof-padding-<?php echo esc\_attr($level) ?>"><?php echo esc\_html(str\_repeat(' ', $level)) ?><?php |
  | 88 | 88 | if (has\_filter('woof\_before\_term\_name')) |
  | 89 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 89 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 90 | 90 | else |
  | 91 | 91 | echo esc\_html($term['name']); |
  | […](/browser/woocommerce-products-filter/trunk/views/html_types/select.php?rev=3020561#L172) | […](/browser/woocommerce-products-filter/trunk/views/html_types/select.php?rev=3093324#L172) |  |
  | 172 | 172 | <option <?php if ($show\_count AND $count == 0 AND!in\_array($term['slug'], $current\_request)): ?>disabled=""<?php endif; ?> value="<?php echo esc\_attr($term['slug']) ?>" <?php selected(in\_array($term['slug'], $current\_request)) ?>><?php |
  | 173 | 173 | if (has\_filter('woof\_before\_term\_name')) |
  | 174 |  | echo ~~apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info~~); |
  |  | 174 | echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_before\_term\_name', $term, $taxonomy\_info))); |
  | 175 | 175 | else |
  | 176 | 176 | echo esc\_html($term['name']); |
* ## [woocommerce-products-filter/trunk/views/plugin\_options.php](/changeset/3093324/woocommerce-products-filter/trunk/views/plugin_options.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/plugin_options.php")

  | [r3058442](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L23 "Show revision 3058442 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L23 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 | <div> |
  | 24 | 24 | <h3 class="woof\_plugin\_name"><?php esc\_html\_e('HUSKY - Products Filter Professional for WooCommerce', 'woocommerce-products-filter') ?>&nbsp;<span class="woof\_\_text-success">v.<?php echo esc\_attr(WOOF\_VERSION) ?></span>&nbsp;<span id="woof-head"><img src="<?php echo esc\_url(WOOF\_LINK) ?>/img/husky.png" width="80" alt=""></span></h3> |
  | 25 |  | <i><?php printf(esc\_html\_\_('Actualized for WooCommerce v.%s.x', 'woocommerce-products-filter'), ~~WOOCOMMERCE\_VERSION~~) ?></i><br /> |
  |  | 25 | <i><?php printf(esc\_html\_\_('Actualized for WooCommerce v.%s.x', 'woocommerce-products-filter'), esc\_html(WOOCOMMERCE\_VERSION)) ?></i><br /> |
  | 26 | 26 | </div> |
  | 27 | 27 | <div> |
  | 28 | 28 | <?php if ($this->show\_notes): ?> |
  | 29 |  |  |
  | 30 |  |  |
  | 31 |  | <?php if (time() < 1711893655): ?> |
  | 32 |  |  |
  | 33 |  | <br> |
  | 34 |  | <a href="https://products-filter.com/downloads" target="\_blank"> |
  | 35 |  | <img src="https://pluginus.net/wp-content/uploads/2024/03/spring-sale-2024-33.png" width="120" alt="Spring 2024 Sale" /> |
  | 36 |  | </a> |
  | 37 |  |  |
  | 38 |  | <?php else: ?> |
  | 39 |  |  |
  | 40 |  | <br> |
  | 41 |  | <a href="https://codecanyon.pluginus.net/item/woof-woocommerce-products-filter/11498469" target="\_blank" class="woof-button"><span class="icon-upload"></span><?php esc\_html\_e('Upgrade', 'woocommerce-products-filter') ?></a> |
  | 42 |  |  |
  | 43 |  |  |
  | 44 |  | <?php endif; ?> |
  | 45 |  |  |
  | 46 |  |  |
  |  | 29 | <br> |
  |  | 30 | <a href="https://codecanyon.pluginus.net/item/woof-woocommerce-products-filter/11498469" target="\_blank" class="woof-button"><span class="icon-upload"></span><?php esc\_html\_e('Upgrade', 'woocommerce-products-filter') ?></a> |
  | 47 | 31 | <?php endif; ?> |
  | 48 | 32 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L51) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L35) |  |
  | 51 | 35 | <input type="hidden" name="woof\_settings" value="" /> |
  | 52 | 36 | <input type="hidden" name="woof\_settings[items\_order]" value="<?php echo esc\_html(isset($woof\_settings['items\_order']) ? $woof\_settings['items\_order'] : '') ?>" /> |
  | 53 |  | <input type="hidden" name="\_wpnonce\_woof" value="<?php echo ~~wp\_create\_nonce('woof\_save\_option'~~); ?>"> |
  |  | 37 | <input type="hidden" name="\_wpnonce\_woof" value="<?php echo esc\_attr(wp\_create\_nonce('woof\_save\_option')); ?>"> |
  | 54 | 38 | <?php if (version\_compare(WOOCOMMERCE\_VERSION, WOOF\_MIN\_WOOCOMMERCE\_VERSION, '<')): ?> |
  | 55 | 39 |  |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L286) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L270) |  |
  | 286 | 270 |  |
  | 287 | 271 |  |
  |  | 272 | <div class="woof-control-section"> |
  |  | 273 |  |
  |  | 274 | <h4><?php esc\_html\_e('Use filter blur', 'woocommerce-products-filter') ?></h4> |
  |  | 275 |  |
  |  | 276 | <div class="woof-control-container"> |
  |  | 277 |  |
  |  | 278 | <div class="woof-control"> |
  |  | 279 |  |
  |  | 280 | <?php |
  |  | 281 | $use\_filter\_blur = array( |
  |  | 282 | 0 => esc\_html\_\_('No', 'woocommerce-products-filter'), |
  |  | 283 | 1 => esc\_html\_\_('Yes', 'woocommerce-products-filter') |
  |  | 284 | ); |
  |  | 285 |  |
  |  | 286 | if (!isset($woof\_settings['filter\_blur'])) { |
  |  | 287 | $woof\_settings['filter\_blur'] = 0; |
  |  | 288 | } |
  |  | 289 | $filter\_blur = intval($woof\_settings['filter\_blur']); |
  |  | 290 | ?> |
  |  | 291 |  |
  |  | 292 | <div class="select-wrap"> |
  |  | 293 | <select name="woof\_settings[filter\_blur]" class="chosen\_select"> |
  |  | 294 | <?php foreach ($use\_filter\_blur as $key => $value) : ?> |
  |  | 295 | <option value="<?php echo esc\_attr($key) ?>" <?php selected($filter\_blur == $key) ?>><?php esc\_html\_e($value) ?></option> |
  |  | 296 | <?php endforeach; ?> |
  |  | 297 | </select> |
  |  | 298 | </div> |
  |  | 299 |  |
  |  | 300 |  |
  |  | 301 | </div> |
  |  | 302 | <div class="woof-description"> |
  |  | 303 | <p class="description"> |
  |  | 304 | <?php esc\_html\_e('Blur the filter form until styles and JS scripts are loaded', 'woocommerce-products-filter') ?> |
  |  | 305 | </p> |
  |  | 306 | </div> |
  |  | 307 | </div> |
  |  | 308 | </div><!--/ .woof-control-section--> |
  |  | 309 |  |
  |  | 310 |  |
  | 288 | 311 | <div class="woof-control-section" <?php if ($skin != 'default'): ?>style="display: none;"<?php endif; ?>> |
  | 289 | 312 |  |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L358) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L381) |  |
  | 358 | 381 | </div> |
  | 359 | 382 | </div><!--/ .woof-control-section--> |
  |  | 383 |  |
  | 360 | 384 |  |
  | 361 | 385 |  |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1014) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1038) |  |
  | 1014 | 1038 | <th scope="row"><label for="js\_after\_ajax\_done"><?php esc\_html\_e('JavaScript code after AJAX is done', 'woocommerce-products-filter') ?></label></th> |
  | 1015 | 1039 | <td> |
  | 1016 |  | <textarea class="wide woof\_custom\_css" id="js\_after\_ajax\_done" name="woof\_settings[js\_after\_ajax\_done]"><?php if (isset($this->settings['js\_after\_ajax\_done'])): ?><?php echo stripcslashes(esc\_js(str\_replace('"', "'", $this->settings['js\_after\_ajax\_done']))) ?><?php endif; ?></textarea> |
  |  | 1040 | <textarea class="wide woof\_custom\_css" id="js\_after\_ajax\_done" name="woof\_settings[js\_after\_ajax\_done]"> |
  |  | 1041 | <?php if (isset($this->settings['js\_after\_ajax\_done'])): ?> |
  |  | 1042 | <?php echo esc\_textarea(stripcslashes(esc\_js(str\_replace('"', "'", $this->settings['js\_after\_ajax\_done'])))) ?> |
  |  | 1043 | <?php endif; ?> |
  |  | 1044 | </textarea> |
  | 1017 | 1045 | <p class="description"><?php esc\_html\_e('Use it when you are need additional action after AJAX redraw your products in shop page or in page with shortcode! For use when you need additional functionality after AJAX redraw of your products on the shop page or on pages with shortcodes.', 'woocommerce-products-filter') ?></p> |
  | 1018 | 1046 | </td> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1061) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1089) |  |
  | 1061 | 1089 | } |
  | 1062 | 1090 | ?> |
  | 1063 |  | <textarea class="wide woof\_custom\_css" id="init\_only\_on" name="woof\_settings[init\_only\_on]"><?php echo ~~stripcslashes(trim(esc\_textarea~~($this->settings['init\_only\_on']))) ?></textarea> |
  |  | 1091 | <textarea class="wide woof\_custom\_css" id="init\_only\_on" name="woof\_settings[init\_only\_on]"><?php echo esc\_textarea(stripcslashes(trim($this->settings['init\_only\_on']))) ?></textarea> |
  | 1064 | 1092 | <p class="description"><?php esc\_html\_e('This option enables or disables initialization of the plugin on all pages of the site except links and link-masks in the textarea. One row - one link (or link-mask)! Example of link: http://site.com/ajaxed-search-7. Example of link-mask: product-category . Leave it empty to allow the plugin initialization on all pages of the site!', 'woocommerce-products-filter') ?></p> |
  | 1065 | 1093 | <p class="description"><?php esc\_html\_e('Use sign # before link to apply strict compliance. Example: #https://your\_site.com/product-category/man/', 'woocommerce-products-filter') ?></p> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1313) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1341) |  |
  | 1313 | 1341 | <?php |
  | 1314 | 1342 | if (!isset($woof\_settings['listen\_catalog\_visibility']) OR empty($woof\_settings['listen\_catalog\_visibility'])) { |
  | 1315 |  | $woof\_settings['listen\_catalog\_visibility'] = ~~0~~; |
  |  | 1343 | $woof\_settings['listen\_catalog\_visibility'] = 1; |
  | 1316 | 1344 | } |
  | 1317 | 1345 | ?> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1366) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1394) |  |
  | 1366 | 1394 | <div class="woof-description"> |
  | 1367 | 1395 | <p class="description"><?php esc\_html\_e("Sometimes code 'wp\_query->is\_post\_type\_archive = true' does not necessary. Try to disable this and try woof-search on your site. If all is ok - leave its disabled. Disabled code by this option you can find in index.php by mark disable\_swoof\_influence.", 'woocommerce-products-filter') ?></p> |
  |  | 1396 | </div> |
  |  | 1397 | </div> |
  |  | 1398 |  |
  |  | 1399 | </div><!--/ .woof-control-section--> |
  |  | 1400 |  |
  |  | 1401 | <div class="woof-control-section"> |
  |  | 1402 |  |
  |  | 1403 | <h5><?php esc\_html\_e("Additional check of the category page", 'woocommerce-products-filter') ?></h5> |
  |  | 1404 |  |
  |  | 1405 | <div class="woof-control-container"> |
  |  | 1406 | <div class="woof-control"> |
  |  | 1407 |  |
  |  | 1408 | <?php |
  |  | 1409 | $check\_category\_page = array( |
  |  | 1410 | 0 => esc\_html\_\_("No", 'woocommerce-products-filter'), |
  |  | 1411 | 1 => esc\_html\_\_("Yes", 'woocommerce-products-filter') |
  |  | 1412 | ); |
  |  | 1413 | ?> |
  |  | 1414 |  |
  |  | 1415 | <?php |
  |  | 1416 | if (!isset($woof\_settings['check\_really\_tax']) OR empty($woof\_settings['check\_really\_tax'])) { |
  |  | 1417 | $woof\_settings['check\_really\_tax'] = 0; |
  |  | 1418 | } |
  |  | 1419 | ?> |
  |  | 1420 |  |
  |  | 1421 | <select name="woof\_settings[check\_really\_tax]"> |
  |  | 1422 | <?php foreach ($check\_category\_page as $key => $value) : ?> |
  |  | 1423 | <option value="<?php echo esc\_attr($key) ?>" <?php selected($woof\_settings['check\_really\_tax'] == $key) ?>><?php esc\_html\_e($value) ?></option> |
  |  | 1424 | <?php endforeach; ?> |
  |  | 1425 | </select> |
  |  | 1426 |  |
  |  | 1427 |  |
  |  | 1428 | </div> |
  |  | 1429 | <div class="woof-description"> |
  |  | 1430 | <p class="description"><?php esc\_html\_e("Sometimes in block themes the plugin may not detect the current taxonomy (archive page). In this case, activate this option.", 'woocommerce-products-filter') ?></p> |
  | 1368 | 1431 | </div> |
  | 1369 | 1432 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1630) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1693) |  |
  | 1630 | 1693 | </div> |
  | 1631 | 1694 | <div class="woof-description"> |
  | 1632 |  | <p class="description"><?php printf(~~\_\_('Custom extensions folder path relative to: %s', 'woocommerce-products-filter'), WP\_CONTENT\_DIR . DIRECTORY\_SEPARATOR~~) ?></p> |
  |  | 1695 | <p class="description"><?php printf(esc\_html\_\_('Custom extensions folder path relative to: %s', 'woocommerce-products-filter'), esc\_html(WP\_CONTENT\_DIR) . esc\_html(DIRECTORY\_SEPARATOR)) ?></p> |
  | 1633 | 1696 | </div> |
  | 1634 | 1697 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1837) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1900) |  |
  | 1837 | 1900 |  |
  | 1838 | 1901 | <?php else: ?> |
  | 1839 |  | <span class="woof\_orangered"><?php printf(~~\_\_('Note for admin: Folder %s for extensions is not writable OR doesn exists! Ignore this message if you not planning using HUSKY custom extensions!', 'woocommerce-products-filter'), $this->get\_custom\_ext\_path(~~)) ?></span> |
  |  | 1902 | <span class="woof\_orangered"><?php printf(esc\_html\_\_('Note for admin: Folder %s for extensions is not writable OR doesn exists! Ignore this message if you not planning using HUSKY custom extensions!', 'woocommerce-products-filter'), esc\_html($this->get\_custom\_ext\_path())) ?></span> |
  | 1840 | 1903 | <?php endif; ?> |
  | 1841 | 1904 | </div> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1855) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1918) |  |
  | 1855 | 1918 | <?php if (!empty($extensions) AND is\_array($extensions)): ?> |
  | 1856 | 1919 |  |
  | 1857 |  | <input type="hidden" id="rm-ext-nonce" value="<?php echo ~~wp\_create\_nonce('rm-ext-nonce'~~) ?>"> |
  |  | 1920 | <input type="hidden" id="rm-ext-nonce" value="<?php echo esc\_attr(wp\_create\_nonce('rm-ext-nonce')) ?>"> |
  | 1858 | 1921 | <ul class="woof\_extensions woof\_custom\_extensions"> |
  | 1859 | 1922 |  |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1908) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L1971) |  |
  | 1908 | 1971 | } |
  | 1909 | 1972 | } else { |
  | 1910 |  | printf(~~\_\_('Looks like its not the HUSKY extension here %s!', 'woocommerce-products-filter'), $dir~~); |
  |  | 1973 | printf(esc\_html('Looks like its not the HUSKY extension here %s!', 'woocommerce-products-filter'), esc\_html($dir)); |
  | 1911 | 1974 | } |
  | 1912 | 1975 | ?> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L1997) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L2060) |  |
  | 1997 | 2060 |  |
  | 1998 | 2061 | <?php |
  | 1999 |  | echo '<h5>' . esc\_html($info['title']) . ' [<span style="font-weight: normal;">' . ~~$ext\_key~~ . '</span>]' . '</h5>'; |
  |  | 2062 | echo '<h5>' . esc\_html($info['title']) . ' [<span style="font-weight: normal;">' . esc\_html($ext\_key) . '</span>]' . '</h5>'; |
  | 2000 | 2063 | if (isset($info['link'])) { |
  | 2001 | 2064 | echo '<a href="' . esc\_attr($info['link']) . '" class="woof\_ext\_title" target="\_blank"><span class="icon-link"></span></a>'; |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L2080) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L2143) |  |
  | 2080 | 2143 | } |
  | 2081 | 2144 | ?> |
  | 2082 |  | <a href="#tabs-<?php echo esc\_attr($obj->folder\_name) ?>" title="<?php printf(esc\_html\_\_("%s", 'woocommerce-products-filter'), ~~$name~~) ?>"> |
  | 2083 |  | <span><?php printf(esc\_html\_\_("%s", 'woocommerce-products-filter'), ~~$name~~) ?></span> |
  |  | 2145 | <a href="#tabs-<?php echo esc\_attr($obj->folder\_name) ?>" title="<?php printf(esc\_html\_\_("%s", 'woocommerce-products-filter'), esc\_html($name)) ?>"> |
  |  | 2146 | <span><?php printf(esc\_html\_\_("%s", 'woocommerce-products-filter'), esc\_html($name)) ?></span> |
  | 2084 | 2147 | </a> |
  | 2085 | 2148 | </li> |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L2450) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L2513) |  |
  | 2450 | 2513 | <strong><?php esc\_html\_e('Not toggled terms count', 'woocommerce-products-filter') ?></strong> |
  | 2451 | 2514 | <span><?php esc\_html\_e('Enter count of terms which should be visible to make all other collapsible. "Show more" button will be appeared. This feature is works with: radio, checkboxes, labels, colors, smart designer items.', 'woocommerce-products-filter') ?></span> |
  | 2452 |  | <span><?php printf(\_\_('Advanced info is <a href="%s" target="\_blank">here</a>', 'woocommerce-products-filter'), 'https://products-filter.com/hook/woof\_get\_more\_less\_button\_xxxx/') ?></span> |
  |  | 2515 |  |
  |  | 2516 | <span><?php esc\_html\_e('Advanced info is ', 'woocommerce-products-filter') ?> |
  |  | 2517 | <a href="https://products-filter.com/hook/woof\_get\_more\_less\_button\_xxxx/" target="\_blank"> |
  |  | 2518 | <?php esc\_html\_e('here', 'woocommerce-products-filter') ?> |
  |  | 2519 | </a> |
  |  | 2520 | </span> |
  | 2453 | 2521 | </div> |
  | 2454 | 2522 |  |
  | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3058442#L3256) | […](/browser/woocommerce-products-filter/trunk/views/plugin_options.php?rev=3093324#L3324) |  |
  | 3256 | 3324 | } |
  | 3257 | 3325 | ?> |
  | 3258 |  | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][tooltip\_text]" placeholder="" value="<?php echo ~~stripcslashes(esc\_html($woof\_settings[$key]['tooltip\_text'])~~) ?>" /> |
  |  | 3326 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][tooltip\_text]" placeholder="" value="<?php echo esc\_html($woof\_settings[$key]['tooltip\_text']) ?>" /> |
  | 3259 | 3327 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][show\_button]" value="<?php echo intval($woof\_settings[$key]['show\_button']) ?>" /> |
  | 3260 | 3328 | <input type="hidden" name="woof\_settings[<?php echo esc\_attr($key) ?>][title\_text]" value="<?php echo esc\_html($woof\_settings[$key]['title\_text']) ?>" /> |
* ## [woocommerce-products-filter/trunk/views/woof.php](/changeset/3093324/woocommerce-products-filter/trunk/views/woof.php "Show the changeset 3093324 restricted to woocommerce-products-filter/trunk/views/woof.php")

  | [r3051027](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L154 "Show revision 3051027 of this file in browser") | [r3093324](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L154 "Show revision 3093324 of this file in browser") |  |
  | --- | --- | --- |
  | 154 | 154 | $primax\_class = sanitize\_key(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug] ?? '')); |
  | 155 | 155 | ?> |
  | 156 |  | <div data-css-class="woof\_container\_<?php echo esc\_attr($tax\_slug) ?>" class="woof\_container woof\_container\_<?php echo esc\_attr(isset($woof\_settings['tax\_type'][$tax\_slug]) ? $woof\_settings['tax\_type'][$tax\_slug] : '') ?> woof\_container\_<?php echo esc\_attr($tax\_slug) ?> woof\_container\_<?php echo esc\_attr($counter) ?> woof\_container\_<?php echo esc\_attr($primax\_class) ?> <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes($tax\_slug~~) ?>"> |
  |  | 156 | <div data-css-class="woof\_container\_<?php echo esc\_attr($tax\_slug) ?>" class="woof\_container woof\_container\_<?php echo esc\_attr(isset($woof\_settings['tax\_type'][$tax\_slug]) ? $woof\_settings['tax\_type'][$tax\_slug] : '') ?> woof\_container\_<?php echo esc\_attr($tax\_slug) ?> woof\_container\_<?php echo esc\_attr($counter) ?> woof\_container\_<?php echo esc\_attr($primax\_class) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($tax\_slug)) ?>"> |
  | 157 | 157 | <div class="woof\_container\_overlay\_item"></div> |
  | 158 | 158 | <div class="woof\_container\_inner woof\_container\_inner\_<?php echo esc\_attr($primax\_class) ?>"> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L361) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L361) |  |
  | 361 | 361 | } |
  | 362 | 362 | ?> |
  | 363 |  | <div data-css-class="woof\_price\_search\_container" class="woof\_price\_search\_container woof\_container woof\_price\_filter <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_price'~~) ?>"> |
  |  | 363 | <div data-css-class="woof\_price\_search\_container" class="woof\_price\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
  | 364 | 364 | <div class="woof\_container\_overlay\_item"></div> |
  | 365 | 365 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L380) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L380) |  |
  | 380 | 380 |  |
  | 381 | 381 | <?php if ($price\_filter == 2): ?> |
  | 382 |  | <div data-css-class="woof\_price2\_search\_container" class="woof\_price2\_search\_container woof\_container woof\_price\_filter <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_price'~~) ?>"> |
  |  | 382 | <div data-css-class="woof\_price2\_search\_container" class="woof\_price2\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
  | 383 | 383 | <div class="woof\_container\_overlay\_item"></div> |
  | 384 | 384 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L404) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L404) |  |
  | 404 | 404 | } |
  | 405 | 405 | ?> |
  | 406 |  | <div data-css-class="woof\_price3\_search\_container" class="woof\_price3\_search\_container woof\_container woof\_price\_filter <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_price'~~) ?>"> |
  |  | 406 | <div data-css-class="woof\_price3\_search\_container" class="woof\_price3\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
  | 407 | 407 | <div class="woof\_container\_overlay\_item"></div> |
  | 408 | 408 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L422) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L422) |  |
  | 422 | 422 |  |
  | 423 | 423 | <?php if ($price\_filter == 4): ?> |
  | 424 |  | <div data-css-class="woof\_price4\_search\_container" class="woof\_price4\_search\_container woof\_container woof\_price\_filter <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_price'~~) ?>"> |
  |  | 424 | <div data-css-class="woof\_price4\_search\_container" class="woof\_price4\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
  | 425 | 425 | <div class="woof\_container\_overlay\_item"></div> |
  | 426 | 426 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L438) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L438) |  |
  | 438 | 438 | <?php endif; ?> |
  | 439 | 439 | <?php if ($price\_filter == 5): ?> |
  | 440 |  | <div data-css-class="woof\_price5\_search\_container" class="woof\_price5\_search\_container woof\_container woof\_price\_filter <?php echo ~~WOOF\_HELPER::generate\_container\_css\_classes('by\_price'~~) ?>"> |
  |  | 440 | <div data-css-class="woof\_price5\_search\_container" class="woof\_price5\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
  | 441 | 441 | <div class="woof\_container\_overlay\_item"></div> |
  | 442 | 442 | <div class="woof\_container\_inner"> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L523) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L523) |  |
  | 523 | 523 | ?> |
  | 524 | 524 |  |
  | 525 |  | <div data-slug="<?php echo esc\_attr(isset($swoof\_slug) ? $swoof\_slug : '') ?>" class="woof <?php if (!empty($sid)): ?>woof\_sid woof\_sid\_<?php echo esc\_attr($sid) ?><?php endif; ?> <?php echo esc\_attr($woof\_class) ?>" <?php if (!empty($sid)): ?>data-sid="<?php echo esc\_attr($sid); ?>"<?php endif; ?> data-shortcode="<?php echo esc\_html(WOOF\_REQUEST::isset('woof\_shortcode\_txt') ? WOOF\_REQUEST::get('woof\_shortcode\_txt') : 'woof') ?>" data-redirect="<?php echo esc\_attr($redirect) ?>" data-autosubmit="<?php echo esc\_attr($autosubmit) ?>" data-ajax-redraw="<?php echo esc\_attr($ajax\_redraw) ?>"> |
  | 526 |  | <?php |
  | 527 |  | if (wp\_is\_mobile() && (isset($mobile\_mode) && $mobile\_mode) && isset($sid)) { |
  | 528 |  | $image\_mb\_open = (isset($this->settings['image\_mobile\_behavior\_open'])) ? $this->settings['image\_mobile\_behavior\_open'] : ''; |
  | 529 |  | $image\_mb\_close = (isset($this->settings['image\_mobile\_behavior\_close'])) ? $this->settings['image\_mobile\_behavior\_close'] : ''; |
  | 530 |  | if ($image\_mb\_open != -1 && empty($image\_mb\_open)) { |
  | 531 |  | $image\_mb\_open = WOOF\_LINK . "img/open\_filter.png"; |
  | 532 |  | } |
  | 533 |  | if ($image\_mb\_close != -1 && empty($image\_mb\_close)) { |
  | 534 |  | $image\_mb\_close = WOOF\_LINK . "img/close\_filter.png"; |
  | 535 |  | } |
  | 536 |  | $text\_mb\_open = (isset($this->settings['text\_mobile\_behavior\_open'])) ? $this->settings['text\_mobile\_behavior\_open'] : esc\_html\_\_('Open filter', 'woocommerce-products-filter'); |
  | 537 |  | $text\_mb\_close = (isset($this->settings['text\_mobile\_behavior\_close'])) ? $this->settings['text\_mobile\_behavior\_close'] : esc\_html\_\_('Close filter', 'woocommerce-products-filter'); |
  | 538 |  | ?> |
  |  | 525 | <div data-slug="<?php echo esc\_attr(isset($swoof\_slug) ? $swoof\_slug : '') ?>" |
  |  | 526 | class="woof <?php if (!empty($sid)): ?>woof\_sid woof\_sid\_<?php echo esc\_attr($sid) ?><?php endif; ?> <?php echo esc\_attr($woof\_class) ?>" |
  |  | 527 | <?php if (!empty($sid)): ?> |
  |  | 528 | data-sid="<?php echo esc\_attr($sid); ?>" |
  |  | 529 | <?php endif; ?> |
  |  | 530 | data-shortcode="<?php echo esc\_html(WOOF\_REQUEST::isset('woof\_shortcode\_txt') ? WOOF\_REQUEST::get('woof\_shortcode\_txt') : 'woof') ?>" |
  |  | 531 | data-redirect="<?php echo esc\_url($redirect) ?>" |
  |  | 532 | data-autosubmit="<?php echo esc\_attr($autosubmit) ?>" |
  |  | 533 | data-ajax-redraw="<?php echo esc\_attr($ajax\_redraw) ?>" |
  |  | 534 | > |
  |  | 535 | <?php |
  |  | 536 | if (wp\_is\_mobile() && (isset($mobile\_mode) && $mobile\_mode) && isset($sid)) { |
  |  | 537 | $image\_mb\_open = (isset($this->settings['image\_mobile\_behavior\_open'])) ? $this->settings['image\_mobile\_behavior\_open'] : ''; |
  |  | 538 | $image\_mb\_close = (isset($this->settings['image\_mobile\_behavior\_close'])) ? $this->settings['image\_mobile\_behavior\_close'] : ''; |
  |  | 539 | if ($image\_mb\_open != -1 && empty($image\_mb\_open)) { |
  |  | 540 | $image\_mb\_open = WOOF\_LINK . "img/open\_filter.png"; |
  |  | 541 | } |
  |  | 542 | if ($image\_mb\_close != -1 && empty($image\_mb\_close)) { |
  |  | 543 | $image\_mb\_close = WOOF\_LINK . "img/close\_filter.png"; |
  |  | 544 | } |
  |  | 545 | $text\_mb\_open = (isset($this->settings['text\_mobile\_behavior\_open'])) ? $this->settings['text\_mobile\_behavior\_open'] : esc\_html\_\_('Open filter', 'woocommerce-products-filter'); |
  |  | 546 | $text\_mb\_close = (isset($this->settings['text\_mobile\_behavior\_close'])) ? $this->settings['text\_mobile\_behavior\_close'] : esc\_html\_\_('Close filter', 'woocommerce-products-filter'); |
  |  | 547 | ?> |
  | 539 | 548 | <div class="woof\_show\_mobile\_filter" data-sid="<?php echo esc\_attr($sid); ?>"> |
  | 540 | 549 | <?php if ($image\_mb\_open != -1) : ?> |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L561) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L570) |  |
  | 561 | 570 | <?php endif; ?> |
  | 562 | 571 |  |
  |  | 572 | <?php |
  |  | 573 | $woof\_filter\_class = "woof\_redraw\_zone"; |
  |  | 574 |  |
  |  | 575 | if (isset($filter\_blur) && intval($filter\_blur) === 1) { |
  |  | 576 | $woof\_filter\_class .= " woof\_blur\_redraw\_zone"; |
  |  | 577 | } |
  |  | 578 | ?> |
  | 563 | 579 | <!--- here is possible to drop html code which is never redraws by AJAX ----> |
  | 564 | 580 | <?php echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_print\_content\_before\_redraw\_zone', ''))) ?> |
  | 565 | 581 |  |
  | 566 |  | <div class="~~woof\_redraw\_zone" data-woof-ver="<?php echo esc\_attr(WOOF\_VERSION) ?>" data-icheck-skin="<?php echo woof()->settings['icheck\_skin']~~ ?>"> |
  |  | 582 | <div class="<?php echo esc\_attr($woof\_filter\_class) ?>" data-woof-ver="<?php echo esc\_attr(WOOF\_VERSION) ?>" data-icheck-skin="<?php echo esc\_attr(woof()->settings['icheck\_skin']) ?>"> |
  | 567 | 583 | <?php echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_print\_content\_before\_search\_form', ''))) ?> |
  | 568 | 584 | <?php |
  | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027#L692) | […](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3093324#L708) |  |
  | 692 | 708 |  |
  | 693 | 709 | <?php endif; ?> |
  | 694 |  |  |
  | 695 | 710 | </div> |
  | 696 | 711 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3093324)
* [Zip Archive](?format=zip&new=3093324)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_f0a3edf6_20250111_014636.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# HUSKY – Products Filter Professional for WooCommerce <= 1.3.5.3 - Authenticated (Contributor+) Stored Cross-Site Scripting via Shortcode

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   HUSKY – Products Filter Professional for WooCommerce <= 1.3.5.3 - Authenticated (Contributor+) Stored Cross-Site Scripting via Shortcode

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-5039](https://www.cve.org/CVERecord?id=CVE-2024-5039) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | May 28, 2024 |
| Last Updated | May 29, 2024 |
| Researcher | [Richard Telleng (stueotue)](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/richard-telleng) |

### Description

The HUSKY – Products Filter Professional for WooCommerce plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's shortcode(s) in all versions up to, and including, 1.3.5.3 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/woocommerce-products-filter/trunk/views/woof.php#L525)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3093324/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwoocommerce-products-filter%2Fhusky-products-filter-professional-for-woocommerce-1353-authenticated-contributor-stored-cross-site-scripting-via-shortcode&t=HUSKY%20%E2%80%93%20Products%20Filter%20Professional%20for%20WooCommerce%20%3C%3D%201.3.5.3%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Shortcode "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwoocommerce-products-filter%2Fhusky-products-filter-professional-for-woocommerce-1353-authenticated-contributor-stored-cross-site-scripting-via-shortcode&text=HUSKY%20%E2%80%93%20Products%20Filter%20Professional%20for%20WooCommerce%20%3C%3D%201.3.5.3%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Shortcode "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwoocommerce-products-filter%2Fhusky-products-filter-professional-for-woocommerce-1353-authenticated-contributor-stored-cross-site-scripting-via-shortcode "LinkedIn")
Email

## Vulnerability Details for HUSKY – Products Filter Professional for WooCommerce

#### [HUSKY – Products Filter Professional for WooCommerce](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/woocommerce-products-filter)

| Software Type | Plugin |
| --- | --- |
| Software Slug | woocommerce-products-filter [(view on wordpress.org)](https://wordpress.org/plugins/woocommerce-products-filter) |
| Patched? | Yes |
| Remediation | Update to version 1.3.6, or a newer patched version |
| Affected Version | * <= 1.3.5.3 |
| Patched Version | * 1.3.6 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_0e6f8509_20250111_014628.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwoocommerce-products-filter%2Ftrunk%2Fviews%2Fwoof.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/woocommerce-products-filter/trunk/views/woof.php?rev=3051027 "Revision 3051027")
* Next Revision →
* [Blame](/browser/woocommerce-products-filter/trunk/views/woof.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/woocommerce-products-filter/trunk/views/woof.php)

---

# [source:](/browser?order=name "Go to repository root") [woocommerce-products-filter](/browser/woocommerce-products-filter?order=name "View woocommerce-products-filter")/[trunk](/browser/woocommerce-products-filter/trunk?order=name "View trunk")/[views](/browser/woocommerce-products-filter/trunk/views?order=name "View views")/[woof.php](/browser/woocommerce-products-filter/trunk/views/woof.php?order=name "View woof.php")

View diff against:

View revision:

| [Last change](/changeset/3093324/woocommerce-products-filter/trunk/views/woof.php "View differences") on this file was [3093324](/changeset/3093324/ "View changeset 3093324"), checked in by RealMag777, [8 months ago](/timeline?from=2024-05-27T15%3A17%3A35Z&precision=second "See timeline at 05/27/2024 03:17:35 PM") |
| --- |
| * security fix, thanks to Richard Telleng (stueotue) from wordfence.com * bunch of small fixes * new features [​https://products-filter.com/update-woocommerce-products-filter-v-3-3-6/](https://products-filter.com/update-woocommerce-products-filter-v-3-3-6/) |
| **File size:** 38.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php if (!defined('ABSPATH')) die('No direct access allowed'); ?> |
| [2](#L2) |  |
| [3](#L3) | <?php |
| [4](#L4) | //+++ |
| [5](#L5) | $args = array(); |
| [6](#L6) | $args['show\_count'] = get\_option('woof\_show\_count', 0); |
| [7](#L7) | if ($dynamic\_recount == -1) { |
| [8](#L8) | $args['show\_count\_dynamic'] = get\_option('woof\_show\_count\_dynamic', 0); |
| [9](#L9) | } else { |
| [10](#L10) | $args['show\_count\_dynamic'] = $dynamic\_recount; |
| [11](#L11) | } |
| [12](#L12) | $args['hide\_dynamic\_empty\_pos'] = (intval(WOOF\_VERSION) === 1) ? 0 : get\_option('woof\_hide\_dynamic\_empty\_pos', 0); |
| [13](#L13) | $args['woof\_autosubmit'] = $autosubmit; |
| [14](#L14) | //\*\*\* |
| [15](#L15) |  |
| [16](#L16) | WOOF\_REQUEST::set('tax\_only', $tax\_only); |
| [17](#L17) | WOOF\_REQUEST::set('tax\_exclude', $tax\_exclude); |
| [18](#L18) | WOOF\_REQUEST::set('by\_only', $by\_only); |
| [19](#L19) |  |
| [20](#L20) | if (!function\_exists('woof\_show\_btn')) { |
| [21](#L21) |  |
| [22](#L22) | function woof\_show\_btn($autosubmit = 1, $ajax\_redraw = 0) { |
| [23](#L23) | ?> |
| [24](#L24) | <div class="woof\_submit\_search\_form\_container"><?php |
| [25](#L25) | $is\_searh\_active = woof()->is\_isset\_in\_request\_data(woof()->get\_swoof\_search\_slug()); |
| [26](#L26) | $request = woof()->get\_request\_data(true); |
| [27](#L27) |  |
| [28](#L28) | if ($is\_searh\_active AND ($request AND is\_array($request))) { |
| [29](#L29) | $not\_search\_request = [woof()->get\_swoof\_search\_slug(), 'paged', 'really\_curr\_tax']; |
| [30](#L30) | $request = array\_diff(array\_keys($request), $not\_search\_request); |
| [31](#L31) |  |
| [32](#L32) | if (!count($request)) { |
| [33](#L33) | $is\_searh\_active = false; |
| [34](#L34) | } |
| [35](#L35) | } |
| [36](#L36) |  |
| [37](#L37) | if ($is\_searh\_active OR woof()->is\_isset\_in\_request\_data('min\_price') OR ( class\_exists("WOOF\_EXT\_TURBO\_MODE") AND isset(woof()->settings["woof\_turbo\_mode"]["enable"]) AND woof()->settings["woof\_turbo\_mode"]["enable"] )): |
| [38](#L38) | global $woof\_link; |
| [39](#L39) | $woof\_reset\_btn\_txt = get\_option('woof\_reset\_btn\_txt', ''); |
| [40](#L40) | if (empty($woof\_reset\_btn\_txt) OR woof()->show\_notes) { |
| [41](#L41) | $woof\_reset\_btn\_txt = esc\_html\_\_('Reset', 'woocommerce-products-filter'); |
| [42](#L42) | } |
| [43](#L43) | $woof\_reset\_btn\_txt = WOOF\_HELPER::wpml\_translate(null, $woof\_reset\_btn\_txt); |
| [44](#L44) | ?><?php if ($woof\_reset\_btn\_txt != 'none'): ?> |
| [45](#L45) | <button  class="button woof\_reset\_search\_form" data-link="<?php echo esc\_url\_raw($woof\_link ?: '') ?>"><?php esc\_html\_e($woof\_reset\_btn\_txt) ?></button> |
| [46](#L46) | <?php endif; ?><?php endif; ?><?php if (!$autosubmit OR $ajax\_redraw): ?> |
| [47](#L47) | <?php |
| [48](#L48) | $woof\_filter\_btn\_txt = get\_option('woof\_filter\_btn\_txt', ''); |
| [49](#L49) | if (empty($woof\_filter\_btn\_txt) OR woof()->show\_notes) { |
| [50](#L50) | $woof\_filter\_btn\_txt = esc\_html\_\_('Filter', 'woocommerce-products-filter'); |
| [51](#L51) | } |
| [52](#L52) |  |
| [53](#L53) | $woof\_filter\_btn\_txt = WOOF\_HELPER::wpml\_translate(null, $woof\_filter\_btn\_txt); |
| [54](#L54) | ?> |
| [55](#L55) | <button class="button woof\_submit\_search\_form"><?php esc\_html\_e($woof\_filter\_btn\_txt) ?></button> |
| [56](#L56) | <?php endif; ?></div> |
| [57](#L57) | <?php |
| [58](#L58) | } |
| [59](#L59) |  |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | if (!function\_exists('woof\_only')) { |
| [63](#L63) |  |
| [64](#L64) | function woof\_only($key\_slug, $type = 'taxonomy') { |
| [65](#L65) |  |
| [66](#L66) | switch ($type) { |
| [67](#L67) | case 'taxonomy': |
| [68](#L68) |  |
| [69](#L69) | if (!empty(WOOF\_REQUEST::get('tax\_only'))) { |
| [70](#L70) | if (!in\_array($key\_slug, WOOF\_REQUEST::get('tax\_only'))) { |
| [71](#L71) | return FALSE; |
| [72](#L72) | } |
| [73](#L73) | } |
| [74](#L74) |  |
| [75](#L75) | if (!empty(WOOF\_REQUEST::get('tax\_exclude'))) { |
| [76](#L76) | if (in\_array($key\_slug, WOOF\_REQUEST::get('tax\_exclude'))) { |
| [77](#L77) | return FALSE; |
| [78](#L78) | } |
| [79](#L79) | } |
| [80](#L80) |  |
| [81](#L81) | break; |
| [82](#L82) |  |
| [83](#L83) | case 'item': |
| [84](#L84) | if (!empty(WOOF\_REQUEST::get('by\_only'))) { |
| [85](#L85) | if (!in\_array($key\_slug, WOOF\_REQUEST::get('by\_only'))) { |
| [86](#L86) | return FALSE; |
| [87](#L87) | } |
| [88](#L88) | } |
| [89](#L89) | if (!empty(WOOF\_REQUEST::get('tax\_exclude'))) { |
| [90](#L90) | if (in\_array($key\_slug, WOOF\_REQUEST::get('tax\_exclude'))) { |
| [91](#L91) | return FALSE; |
| [92](#L92) | } |
| [93](#L93) | } |
| [94](#L94) | break; |
| [95](#L95) | } |
| [96](#L96) |  |
| [97](#L97) |  |
| [98](#L98) | return TRUE; |
| [99](#L99) | } |
| [100](#L100) |  |
| [101](#L101) | } |
| [102](#L102) |  |
| [103](#L103) | //Sort logic  for shortcode [woof] attr tax\_only |
| [104](#L104) | if (!function\_exists('woof\_print\_tax')) { |
| [105](#L105) |  |
| [106](#L106) | function get\_order\_by\_tax\_only($t\_order, $t\_only) { |
| [107](#L107) | $temp\_array = array\_intersect($t\_order, $t\_only); |
| [108](#L108) | $i = 0; |
| [109](#L109) | foreach ($temp\_array as $key => $val) { |
| [110](#L110) | $t\_order[$key] = $t\_only[$i]; |
| [111](#L111) | $i++; |
| [112](#L112) | } |
| [113](#L113) | return $t\_order; |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | } |
| [117](#L117) | //\*\*\* |
| [118](#L118) | if (!function\_exists('woof\_print\_tax')) { |
| [119](#L119) |  |
| [120](#L120) | function woof\_print\_tax($taxonomies, $tax\_slug, $terms, $exclude\_tax\_key, $taxonomies\_info, $additional\_taxes, $woof\_settings, $args, $counter) { |
| [121](#L121) |  |
| [122](#L122) |  |
| [123](#L123) |  |
| [124](#L124) | if ($exclude\_tax\_key == $tax\_slug) { |
| [125](#L125) | if (empty($terms)) { |
| [126](#L126) | return; |
| [127](#L127) | } |
| [128](#L128) | } |
| [129](#L129) |  |
| [130](#L130) | //\*\*\* |
| [131](#L131) |  |
| [132](#L132) | if (!woof\_only($tax\_slug, 'taxonomy')) { |
| [133](#L133) | return; |
| [134](#L134) | } |
| [135](#L135) |  |
| [136](#L136) | //\*\*\* |
| [137](#L137) |  |
| [138](#L138) |  |
| [139](#L139) | $args['taxonomy\_info'] = $taxonomies\_info[$tax\_slug] ?? ''; |
| [140](#L140) | $args['tax\_slug'] = $tax\_slug; |
| [141](#L141) | $args['terms'] = $terms; |
| [142](#L142) | $args['all\_terms\_hierarchy'] = $taxonomies[$tax\_slug] ?? []; |
| [143](#L143) | $args['additional\_taxes'] = $additional\_taxes; |
| [144](#L144) |  |
| [145](#L145) | //\*\*\* |
| [146](#L146) | $woof\_container\_styles = ""; |
| [147](#L147) | if (isset($woof\_settings['tax\_type']) && isset($woof\_settings['tax\_type'][$tax\_slug]) && ( in\_array($woof\_settings['tax\_type'][$tax\_slug], ['radio', 'checkbox', 'image', 'color', 'label']) OR substr($woof\_settings['tax\_type'][$tax\_slug], 0, 8) === 'woof\_sd\_')) { |
| [148](#L148) | if (isset(woof()->settings['tax\_block\_height']) && isset(woof()->settings['tax\_block\_height'][$tax\_slug]) && intval(woof()->settings['tax\_block\_height'][$tax\_slug]) > 0) { |
| [149](#L149) | $woof\_container\_styles = "max-height:" . sanitize\_text\_field(woof()->settings['tax\_block\_height'][$tax\_slug]) . "px; overflow-y: auto;"; |
| [150](#L150) | } |
| [151](#L151) | } |
| [152](#L152) | //\*\*\* |
| [153](#L153) | //https://wordpress.org/support/topic/adding-classes-woof\_container-div |
| [154](#L154) | $primax\_class = sanitize\_key(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug] ?? '')); |
| [155](#L155) | ?> |
| [156](#L156) | <div data-css-class="woof\_container\_<?php echo esc\_attr($tax\_slug) ?>" class="woof\_container woof\_container\_<?php echo esc\_attr(isset($woof\_settings['tax\_type'][$tax\_slug]) ? $woof\_settings['tax\_type'][$tax\_slug] : '') ?> woof\_container\_<?php echo esc\_attr($tax\_slug) ?> woof\_container\_<?php echo esc\_attr($counter) ?> woof\_container\_<?php echo esc\_attr($primax\_class) ?> <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes($tax\_slug)) ?>"> |
| [157](#L157) | <div class="woof\_container\_overlay\_item"></div> |
| [158](#L158) | <div class="woof\_container\_inner woof\_container\_inner\_<?php echo esc\_attr($primax\_class) ?>"> |
| [159](#L159) | <?php |
| [160](#L160) | $css\_classes = "woof\_block\_html\_items"; |
| [161](#L161) | $show\_toggle = 0; |
| [162](#L162) | if (isset(woof()->settings['show\_toggle\_button'][$tax\_slug])) { |
| [163](#L163) | $show\_toggle = (int) woof()->settings['show\_toggle\_button'][$tax\_slug]; |
| [164](#L164) | } |
| [165](#L165) | $tooltip\_text = ""; |
| [166](#L166) | if (isset(woof()->settings['tooltip\_text'][$tax\_slug])) { |
| [167](#L167) | $tooltip\_text = woof()->settings['tooltip\_text'][$tax\_slug]; |
| [168](#L168) | } |
| [169](#L169) | //\*\*\* |
| [170](#L170) | $search\_query = woof()->get\_request\_data(); |
| [171](#L171) | $block\_is\_closed = true; |
| [172](#L172) | if (in\_array($tax\_slug, array\_keys($search\_query))) { |
| [173](#L173) | $block\_is\_closed = false; |
| [174](#L174) | } |
| [175](#L175) | if ($show\_toggle === 1 AND !in\_array($tax\_slug, array\_keys($search\_query))) { |
| [176](#L176) | $css\_classes .= " woof\_closed\_block"; |
| [177](#L177) | } |
| [178](#L178) |  |
| [179](#L179) | if ($show\_toggle === 2 AND !in\_array($tax\_slug, array\_keys($search\_query))) { |
| [180](#L180) | $block\_is\_closed = false; |
| [181](#L181) | } |
| [182](#L182) |  |
| [183](#L183) | if (in\_array($show\_toggle, array(1, 2))) { |
| [184](#L184) | $block\_is\_closed = apply\_filters('woof\_block\_toggle\_state', $block\_is\_closed); |
| [185](#L185) | if ($block\_is\_closed) { |
| [186](#L186) | $css\_classes .= " woof\_closed\_block"; |
| [187](#L187) | } else { |
| [188](#L188) | $css\_classes = str\_replace('woof\_closed\_block', '', $css\_classes); |
| [189](#L189) | } |
| [190](#L190) | } |
| [191](#L191) | //\*\*\* |
| [192](#L192) | if (isset($woof\_settings['tax\_type'][$tax\_slug])) { |
| [193](#L193) | switch ($woof\_settings['tax\_type'][$tax\_slug]) { |
| [194](#L194) | case 'checkbox': |
| [195](#L195) | if (woof()->settings['show\_title\_label'][$tax\_slug]) { |
| [196](#L196) | ?> |
| [197](#L197) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [198](#L198) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug])) ?> |
| [199](#L199) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug]), $tooltip\_text) ?> |
| [200](#L200) | <?php WOOF\_HELPER::draw\_title\_toggle($show\_toggle, $block\_is\_closed); ?> |
| [201](#L201) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [202](#L202) | <?php |
| [203](#L203) | } |
| [204](#L204) |  |
| [205](#L205) | if (!empty($woof\_container\_styles)) { |
| [206](#L206) | $css\_classes .= " woof\_section\_scrolled"; |
| [207](#L207) | } |
| [208](#L208) | ?> |
| [209](#L209) | <div class="<?php echo esc\_attr($css\_classes) ?>" <?php if (!empty($woof\_container\_styles)): ?>style="<?php echo wp\_kses\_post(wp\_unslash($woof\_container\_styles)) ?>"<?php endif; ?>> |
| [210](#L210) | <?php |
| [211](#L211) | woof()->render\_html\_e(apply\_filters('woof\_html\_types\_view\_checkbox', WOOF\_PATH . 'views/html\_types/checkbox.php'), $args); |
| [212](#L212) | ?> |
| [213](#L213) | </div> |
| [214](#L214) | <?php |
| [215](#L215) | break; |
| [216](#L216) | case 'select': |
| [217](#L217) | if (woof()->settings['show\_title\_label'][$tax\_slug]) { |
| [218](#L218) | ?> |
| [219](#L219) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [220](#L220) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug])) ?> |
| [221](#L221) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug]), $tooltip\_text) ?> |
| [222](#L222) | <?php WOOF\_HELPER::draw\_title\_toggle($show\_toggle, $block\_is\_closed); ?> |
| [223](#L223) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [224](#L224) | <?php |
| [225](#L225) | } |
| [226](#L226) | ?> |
| [227](#L227) | <div class="<?php echo esc\_html($css\_classes) ?>"> |
| [228](#L228) | <?php |
| [229](#L229) | woof()->render\_html\_e(apply\_filters('woof\_html\_types\_view\_select', WOOF\_PATH . 'views/html\_types/select.php'), $args); |
| [230](#L230) | ?> |
| [231](#L231) | </div> |
| [232](#L232) | <?php |
| [233](#L233) | break; |
| [234](#L234) | case 'mselect': |
| [235](#L235) | if (woof()->settings['show\_title\_label'][$tax\_slug]) { |
| [236](#L236) | ?> |
| [237](#L237) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [238](#L238) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug])) ?> |
| [239](#L239) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug]), $tooltip\_text) ?> |
| [240](#L240) | <?php WOOF\_HELPER::draw\_title\_toggle($show\_toggle, $block\_is\_closed); ?> |
| [241](#L241) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [242](#L242) | <?php |
| [243](#L243) | } |
| [244](#L244) | ?> |
| [245](#L245) | <div class="<?php echo esc\_html($css\_classes) ?>"> |
| [246](#L246) | <?php |
| [247](#L247) | woof()->render\_html\_e(apply\_filters('woof\_html\_types\_view\_mselect', WOOF\_PATH . 'views/html\_types/mselect.php'), $args); |
| [248](#L248) | ?> |
| [249](#L249) | </div> |
| [250](#L250) | <?php |
| [251](#L251) | break; |
| [252](#L252) |  |
| [253](#L253) | default: |
| [254](#L254) | if (woof()->settings['show\_title\_label'][$tax\_slug]) { |
| [255](#L255) | $title = WOOF\_HELPER::wpml\_translate($taxonomies\_info[$tax\_slug] ?? ''); |
| [256](#L256) | $title = explode('^', $title); //for hierarchy drop-down and any future manipulations |
| [257](#L257) | if (isset($title[1])) { |
| [258](#L258) | $title = $title[1]; |
| [259](#L259) | } else { |
| [260](#L260) | $title = $title[0]; |
| [261](#L261) | } |
| [262](#L262) | ?> |
| [263](#L263) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [264](#L264) | <?php echo esc\_html($title) ?> |
| [265](#L265) | <?php WOOF\_HELPER::draw\_tooltipe($title, $tooltip\_text) ?> |
| [266](#L266) | <?php WOOF\_HELPER::draw\_title\_toggle($show\_toggle, $block\_is\_closed); ?> |
| [267](#L267) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [268](#L268) | <?php |
| [269](#L269) | } |
| [270](#L270) |  |
| [271](#L271) | if (!empty($woof\_container\_styles)) { |
| [272](#L272) | $css\_classes .= " woof\_section\_scrolled"; |
| [273](#L273) | } |
| [274](#L274) | ?> |
| [275](#L275) |  |
| [276](#L276) | <div class="<?php echo esc\_attr($css\_classes) ?>" <?php if (!empty($woof\_container\_styles)): ?>style="<?php echo wp\_kses\_post(wp\_unslash($woof\_container\_styles)) ?>"<?php endif; ?>> |
| [277](#L277) |  |
| [278](#L278) | <?php |
| [279](#L279) | if (!empty(WOOF\_EXT::$includes['taxonomy\_type\_objects'])) { |
| [280](#L280) | $is\_custom = false; |
| [281](#L281) | foreach (WOOF\_EXT::$includes['taxonomy\_type\_objects'] as $obj) { |
| [282](#L282) |  |
| [283](#L283) | $is = $obj->html\_type === $woof\_settings['tax\_type'][$tax\_slug]; |
| [284](#L284) |  |
| [285](#L285) | $info = apply\_filters('woof\_taxonomy\_type\_objects\_front\_render', |
| [286](#L286) | $is, |
| [287](#L287) | $obj->html\_type, |
| [288](#L288) | $woof\_settings['tax\_type'][$tax\_slug], |
| [289](#L289) | $args); |
| [290](#L290) |  |
| [291](#L291) | if (!empty($info) && isset($info['args'])) { |
| [292](#L292) | $args = $info['args']; |
| [293](#L293) | $is = $info['is']; |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | if ($is) { |
| [297](#L297) | $is\_custom = true; |
| [298](#L298) | $args['woof\_settings'] = $woof\_settings; |
| [299](#L299) | $args['taxonomies\_info'] = $taxonomies\_info; |
| [300](#L300) | woof()->render\_html\_e($obj->get\_html\_type\_view(), $args); |
| [301](#L301) | break; |
| [302](#L302) | } |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) |  |
| [306](#L306) | if (!$is\_custom) { |
| [307](#L307) | woof()->render\_html\_e(apply\_filters('woof\_html\_types\_view\_radio', WOOF\_PATH . 'views/html\_types/radio.php'), $args); |
| [308](#L308) | } |
| [309](#L309) | } else { |
| [310](#L310) | woof()->render\_html\_e(apply\_filters('woof\_html\_types\_view\_radio', WOOF\_PATH . 'views/html\_types/radio.php'), $args); |
| [311](#L311) | } |
| [312](#L312) | ?> |
| [313](#L313) |  |
| [314](#L314) | </div> |
| [315](#L315) | <?php |
| [316](#L316) | break; |
| [317](#L317) | } |
| [318](#L318) | } |
| [319](#L319) | ?> |
| [320](#L320) |  |
| [321](#L321) | <?php if ($taxonomies\_info[$tax\_slug]): ?> |
| [322](#L322) | <input type="hidden" name="woof\_t\_<?php echo esc\_attr($tax\_slug) ?>" value="<?php echo esc\_html($taxonomies\_info[$tax\_slug]->labels->name) ?>" /><!-- for red button search nav panel --> |
| [323](#L323) | <?php endif; ?> |
| [324](#L324) | </div> |
| [325](#L325) | </div> |
| [326](#L326) | <?php |
| [327](#L327) | } |
| [328](#L328) |  |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | if (!function\_exists('woof\_print\_item\_by\_key')) { |
| [332](#L332) |  |
| [333](#L333) | function woof\_print\_item\_by\_key($key, $woof\_settings, $additional\_taxes) { |
| [334](#L334) |  |
| [335](#L335) | if (!woof\_only($key, 'item')) { |
| [336](#L336) | return; |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | //\*\*\* |
| [340](#L340) |  |
| [341](#L341) |  |
| [342](#L342) | switch ($key) { |
| [343](#L343) | case 'by\_price': |
| [344](#L344) | $price\_filter = 0; |
| [345](#L345) | if (isset(woof()->settings['by\_price']['show'])) { |
| [346](#L346) | $price\_filter = (int) woof()->settings['by\_price']['show']; |
| [347](#L347) | } |
| [348](#L348) | $tooltip\_text = ""; |
| [349](#L349) | if (isset(woof()->settings['by\_price']['tooltip\_text'])) { |
| [350](#L350) | $tooltip\_text = woof()->settings['by\_price']['tooltip\_text']; |
| [351](#L351) | } |
| [352](#L352) |  |
| [353](#L353) | $min\_pf = apply\_filters('woof\_min\_price\_filter', WOOF\_HELPER::get\_min\_price($additional\_taxes)); |
| [354](#L354) | $max\_pf = apply\_filters('woof\_max\_price\_filter', WOOF\_HELPER::get\_max\_price($additional\_taxes)); |
| [355](#L355) |  |
| [356](#L356) | //+++ |
| [357](#L357) |  |
| [358](#L358) | if ($price\_filter == 1): |
| [359](#L359) | if ($min\_pf == $max\_pf) { |
| [360](#L360) | break; |
| [361](#L361) | } |
| [362](#L362) | ?> |
| [363](#L363) | <div data-css-class="woof\_price\_search\_container" class="woof\_price\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
| [364](#L364) | <div class="woof\_container\_overlay\_item"></div> |
| [365](#L365) | <div class="woof\_container\_inner"> |
| [366](#L366) | <div class="woocommerce widget\_price\_filter"> |
| [367](#L367) | <?php //the\_widget('WC\_Widget\_Price\_Filter', array('title' => ''));          ?> |
| [368](#L368) | <?php if (isset(woof()->settings['by\_price']['title\_text']) AND !empty(woof()->settings['by\_price']['title\_text'])): ?> |
| [369](#L369) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [370](#L370) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text'])); ?> |
| [371](#L371) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text']), $tooltip\_text) ?> |
| [372](#L372) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [373](#L373) | <?php endif; ?> |
| [374](#L374) | <?php WOOF\_HELPER::price\_filter\_e($additional\_taxes, $min\_pf, $max\_pf); ?> |
| [375](#L375) | </div> |
| [376](#L376) | </div> |
| [377](#L377) | </div> |
| [378](#L378) | <!-- <div style="clear:both;"></div> --> |
| [379](#L379) | <?php endif; ?> |
| [380](#L380) |  |
| [381](#L381) | <?php if ($price\_filter == 2): ?> |
| [382](#L382) | <div data-css-class="woof\_price2\_search\_container" class="woof\_price2\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
| [383](#L383) | <div class="woof\_container\_overlay\_item"></div> |
| [384](#L384) | <div class="woof\_container\_inner"> |
| [385](#L385) | <?php if (isset(woof()->settings['by\_price']['title\_text']) AND !empty(woof()->settings['by\_price']['title\_text'])): ?> |
| [386](#L386) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [387](#L387) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text'])); ?> |
| [388](#L388) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text']), $tooltip\_text) ?> |
| [389](#L389) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [390](#L390) | <?php endif; ?> |
| [391](#L391) |  |
| [392](#L392) | <?php echo do\_shortcode('[woof\_price\_filter type="select" additional\_taxes="' . esc\_attr($additional\_taxes) . '"]'); ?> |
| [393](#L393) |  |
| [394](#L394) | </div> |
| [395](#L395) | </div> |
| [396](#L396) | <?php endif; ?> |
| [397](#L397) |  |
| [398](#L398) |  |
| [399](#L399) | <?php |
| [400](#L400) | if ($price\_filter == 3): |
| [401](#L401) |  |
| [402](#L402) | if ($min\_pf == $max\_pf) { |
| [403](#L403) | break; |
| [404](#L404) | } |
| [405](#L405) | ?> |
| [406](#L406) | <div data-css-class="woof\_price3\_search\_container" class="woof\_price3\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
| [407](#L407) | <div class="woof\_container\_overlay\_item"></div> |
| [408](#L408) | <div class="woof\_container\_inner"> |
| [409](#L409) | <?php if (isset(woof()->settings['by\_price']['title\_text']) AND !empty(woof()->settings['by\_price']['title\_text'])): ?> |
| [410](#L410) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [411](#L411) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text'])); ?> |
| [412](#L412) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text']), $tooltip\_text) ?> |
| [413](#L413) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [414](#L414) | <?php endif; ?> |
| [415](#L415) |  |
| [416](#L416) | <?php echo do\_shortcode('[woof\_price\_filter range\_min=' . esc\_attr($min\_pf) . ' range\_max=' . esc\_attr($max\_pf) . ' type="slider" additional\_taxes="' . esc\_attr($additional\_taxes) . '"]'); ?> |
| [417](#L417) |  |
| [418](#L418) | </div> |
| [419](#L419) | </div> |
| [420](#L420) | <?php endif; ?> |
| [421](#L421) |  |
| [422](#L422) |  |
| [423](#L423) | <?php if ($price\_filter == 4): ?> |
| [424](#L424) | <div data-css-class="woof\_price4\_search\_container" class="woof\_price4\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
| [425](#L425) | <div class="woof\_container\_overlay\_item"></div> |
| [426](#L426) | <div class="woof\_container\_inner"> |
| [427](#L427) | <?php if (isset(woof()->settings['by\_price']['title\_text']) AND !empty(woof()->settings['by\_price']['title\_text'])): ?> |
| [428](#L428) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [429](#L429) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text'])); ?> |
| [430](#L430) | <?php WOOF\_HELPER::draw\_tooltipe(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text']), $tooltip\_text) ?> |
| [431](#L431) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [432](#L432) | <?php endif; ?> |
| [433](#L433) |  |
| [434](#L434) | <?php echo do\_shortcode('[woof\_price\_filter type="text" additional\_taxes="' . esc\_attr($additional\_taxes) . '"]'); ?> |
| [435](#L435) |  |
| [436](#L436) | </div> |
| [437](#L437) | </div> |
| [438](#L438) | <?php endif; ?> |
| [439](#L439) | <?php if ($price\_filter == 5): ?> |
| [440](#L440) | <div data-css-class="woof\_price5\_search\_container" class="woof\_price5\_search\_container woof\_container woof\_price\_filter <?php echo esc\_attr(WOOF\_HELPER::generate\_container\_css\_classes('by\_price')) ?>"> |
| [441](#L441) | <div class="woof\_container\_overlay\_item"></div> |
| [442](#L442) | <div class="woof\_container\_inner"> |
| [443](#L443) | <?php |
| [444](#L444) | $css\_classes = "woof\_block\_html\_items"; |
| [445](#L445) | $show\_toggle = 0; |
| [446](#L446) | if (isset(woof()->settings[$key]['show\_toggle\_button'])) { |
| [447](#L447) | $show\_toggle = (int) woof()->settings[$key]['show\_toggle\_button']; |
| [448](#L448) | } |
| [449](#L449) | $tooltip\_text = ""; |
| [450](#L450) | if (isset(woof()->settings['tooltip\_text'][$key])) { |
| [451](#L451) | $tooltip\_text = woof()->settings['tooltip\_text'][$key]; |
| [452](#L452) | } |
| [453](#L453) | //\*\*\* |
| [454](#L454) | $search\_query = woof()->get\_request\_data(); |
| [455](#L455) | $block\_is\_closed = true; |
| [456](#L456) | if (in\_array("min\_price", array\_keys($search\_query))) { |
| [457](#L457) | $block\_is\_closed = false; |
| [458](#L458) | } |
| [459](#L459) | if ($show\_toggle === 1 AND !in\_array("min\_price", array\_keys($search\_query))) { |
| [460](#L460) | $css\_classes .= " woof\_closed\_block"; |
| [461](#L461) | } |
| [462](#L462) |  |
| [463](#L463) | if ($show\_toggle === 2 AND !in\_array("min\_price", array\_keys($search\_query))) { |
| [464](#L464) | $block\_is\_closed = false; |
| [465](#L465) | } |
| [466](#L466) |  |
| [467](#L467) | if (in\_array($show\_toggle, array(1, 2))) { |
| [468](#L468) | $block\_is\_closed = apply\_filters('woof\_block\_toggle\_state', $block\_is\_closed); |
| [469](#L469) | if ($block\_is\_closed) { |
| [470](#L470) | $css\_classes .= " woof\_closed\_block"; |
| [471](#L471) | } else { |
| [472](#L472) | $css\_classes = str\_replace('woof\_closed\_block', '', $css\_classes); |
| [473](#L473) | } |
| [474](#L474) | } |
| [475](#L475) | ?> |
| [476](#L476) | <?php if (isset(woof()->settings['by\_price']['title\_text']) AND !empty(woof()->settings['by\_price']['title\_text'])): ?> |
| [477](#L477) | <<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [478](#L478) | <?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, woof()->settings['by\_price']['title\_text'])); ?> |
| [479](#L479) | <?php WOOF\_HELPER::draw\_title\_toggle($show\_toggle, $block\_is\_closed); ?> |
| [480](#L480) | </<?php echo esc\_html(apply\_filters('woof\_title\_tag', 'h4')); ?>> |
| [481](#L481) | <?php endif; ?> |
| [482](#L482) | <div class="<?php echo esc\_attr($css\_classes) ?>" <?php if (!empty($woof\_container\_styles)): ?>style="<?php echo wp\_kses\_post(wp\_unslash($woof\_container\_styles)); ?>"<?php endif; ?>> |
| [483](#L483) | <?php echo do\_shortcode('[woof\_price\_filter type="radio" additional\_taxes="' . esc\_attr($additional\_taxes) . '"]'); ?> |
| [484](#L484) | </div> |
| [485](#L485) |  |
| [486](#L486) | </div> |
| [487](#L487) | </div> |
| [488](#L488) | <?php endif; ?> |
| [489](#L489) |  |
| [490](#L490) | <?php |
| [491](#L491) | break; |
| [492](#L492) |  |
| [493](#L493) | default: |
| [494](#L494) | do\_action('woof\_print\_html\_type\_' . $key); |
| [495](#L495) | break; |
| [496](#L496) | } |
| [497](#L497) | } |
| [498](#L498) |  |
| [499](#L499) | } |
| [500](#L500) | ?> |
| [501](#L501) |  |
| [502](#L502) |  |
| [503](#L503) | <?php if ($autohide): ?> |
| [504](#L504) | <div class='woof\_autohide\_wrapper' > |
| [505](#L505) | <?php |
| [506](#L506) | //\*\*\* |
| [507](#L507) | $woof\_auto\_hide\_button\_txt = ''; |
| [508](#L508) | if (isset($this->settings['woof\_auto\_hide\_button\_txt'])) { |
| [509](#L509) | $woof\_auto\_hide\_button\_txt = WOOF\_HELPER::wpml\_translate(null, $this->settings['woof\_auto\_hide\_button\_txt']); |
| [510](#L510) | } |
| [511](#L511) | ?> |
| [512](#L512) | <a href="javascript:void(0);" class="woof\_show\_auto\_form woof\_btn\_default <?php if (isset($this->settings['woof\_auto\_hide\_button\_img']) AND $this->settings['woof\_auto\_hide\_button\_img'] == 'none') echo esc\_attr('woof\_show\_auto\_form\_txt'); ?>"><?php esc\_html\_e($woof\_auto\_hide\_button\_txt) ?></a><br /> |
| [513](#L513) | <!-------------------- inline css for js anim -----------------------> |
| [514](#L514) | <div class="woof\_auto\_show woof\_overflow\_hidden" style="opacity: 0; height: 1px;"> |
| [515](#L515) | <div class="woof\_auto\_show\_indent woof\_overflow\_hidden"> |
| [516](#L516) | <?php |
| [517](#L517) | endif; |
| [518](#L518) |  |
| [519](#L519) | $woof\_class = ""; |
| [520](#L520) | if (wp\_is\_mobile() && (isset($mobile\_mode) && $mobile\_mode == 1) && isset($sid)) { |
| [521](#L521) | $woof\_class = 'woof\_hide\_filter'; |
| [522](#L522) | } |
| [523](#L523) | ?> |
| [524](#L524) |  |
| [525](#L525) | <div data-slug="<?php echo esc\_attr(isset($swoof\_slug) ? $swoof\_slug : '') ?>" |
| [526](#L526) | class="woof <?php if (!empty($sid)): ?>woof\_sid woof\_sid\_<?php echo esc\_attr($sid) ?><?php endif; ?> <?php echo esc\_attr($woof\_class) ?>" |
| [527](#L527) | <?php if (!empty($sid)): ?> |
| [528](#L528) | data-sid="<?php echo esc\_attr($sid); ?>" |
| [529](#L529) | <?php endif; ?> |
| [530](#L530) | data-shortcode="<?php echo esc\_html(WOOF\_REQUEST::isset('woof\_shortcode\_txt') ? WOOF\_REQUEST::get('woof\_shortcode\_txt') : 'woof') ?>" |
| [531](#L531) | data-redirect="<?php echo esc\_url($redirect) ?>" |
| [532](#L532) | data-autosubmit="<?php echo esc\_attr($autosubmit) ?>" |
| [533](#L533) | data-ajax-redraw="<?php echo esc\_attr($ajax\_redraw) ?>" |
| [534](#L534) | > |
| [535](#L535) | <?php |
| [536](#L536) | if (wp\_is\_mobile() && (isset($mobile\_mode) && $mobile\_mode) && isset($sid)) { |
| [537](#L537) | $image\_mb\_open = (isset($this->settings['image\_mobile\_behavior\_open'])) ? $this->settings['image\_mobile\_behavior\_open'] : ''; |
| [538](#L538) | $image\_mb\_close = (isset($this->settings['image\_mobile\_behavior\_close'])) ? $this->settings['image\_mobile\_behavior\_close'] : ''; |
| [539](#L539) | if ($image\_mb\_open != -1 && empty($image\_mb\_open)) { |
| [540](#L540) | $image\_mb\_open = WOOF\_LINK . "img/open\_filter.png"; |
| [541](#L541) | } |
| [542](#L542) | if ($image\_mb\_close != -1 && empty($image\_mb\_close)) { |
| [543](#L543) | $image\_mb\_close = WOOF\_LINK . "img/close\_filter.png"; |
| [544](#L544) | } |
| [545](#L545) | $text\_mb\_open = (isset($this->settings['text\_mobile\_behavior\_open'])) ? $this->settings['text\_mobile\_behavior\_open'] : esc\_html\_\_('Open filter', 'woocommerce-products-filter'); |
| [546](#L546) | $text\_mb\_close = (isset($this->settings['text\_mobile\_behavior\_close'])) ? $this->settings['text\_mobile\_behavior\_close'] : esc\_html\_\_('Close filter', 'woocommerce-products-filter'); |
| [547](#L547) | ?> |
| [548](#L548) | <div class="woof\_show\_mobile\_filter" data-sid="<?php echo esc\_attr($sid); ?>"> |
| [549](#L549) | <?php if ($image\_mb\_open != -1) : ?> |
| [550](#L550) | <img src="<?php echo esc\_url($image\_mb\_open); ?>" alt=""> |
| [551](#L551) | <?php endif; ?> |
| [552](#L552) | <?php if ($text\_mb\_open != -1) : ?> |
| [553](#L553) | <span><?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, $text\_mb\_open)); ?></span> |
| [554](#L554) | <?php endif; ?> |
| [555](#L555) | </div> |
| [556](#L556) | <div class="woof\_hide\_mobile\_filter" > |
| [557](#L557) | <?php if ($image\_mb\_close != -1) : ?> |
| [558](#L558) | <img src="<?php echo esc\_url($image\_mb\_close); ?>" alt=""> |
| [559](#L559) | <?php endif; ?> |
| [560](#L560) | <?php if ($text\_mb\_close != -1) : ?> |
| [561](#L561) | <span><?php echo esc\_html(WOOF\_HELPER::wpml\_translate(null, $text\_mb\_close)); ?></span> |
| [562](#L562) | <?php endif; ?> |
| [563](#L563) | </div> |
| [564](#L564) | <?php |
| [565](#L565) | } |
| [566](#L566) | ?> |
| [567](#L567) | <?php if ($show\_woof\_edit\_view AND !empty($sid)): ?> |
| [568](#L568) | <a href="#" class="woof\_edit\_view" data-sid="<?php echo esc\_attr($sid) ?>"><?php esc\_html\_e('show blocks helper', 'woocommerce-products-filter') ?></a> |
| [569](#L569) | <div></div> |
| [570](#L570) | <?php endif; ?> |
| [571](#L571) |  |
| [572](#L572) | <?php |
| [573](#L573) | $woof\_filter\_class = "woof\_redraw\_zone"; |
| [574](#L574) |  |
| [575](#L575) | if (isset($filter\_blur) && intval($filter\_blur) === 1) { |
| [576](#L576) | $woof\_filter\_class .= " woof\_blur\_redraw\_zone"; |
| [577](#L577) | } |
| [578](#L578) | ?> |
| [579](#L579) | <!--- here is possible to drop html code which is never redraws by AJAX ----> |
| [580](#L580) | <?php echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_print\_content\_before\_redraw\_zone', ''))) ?> |
| [581](#L581) |  |
| [582](#L582) | <div class="<?php echo esc\_attr($woof\_filter\_class) ?>" data-woof-ver="<?php echo esc\_attr(WOOF\_VERSION) ?>" data-icheck-skin="<?php echo esc\_attr(woof()->settings['icheck\_skin']) ?>"> |
| [583](#L583) | <?php echo wp\_kses\_post(wp\_unslash(apply\_filters('woof\_print\_content\_before\_search\_form', ''))) ?> |
| [584](#L584) | <?php |
| [585](#L585) | if (isset($start\_filtering\_btn) AND (int) $start\_filtering\_btn == 1) { |
| [586](#L586) | $start\_filtering\_btn = true; |
| [587](#L587) | } else { |
| [588](#L588) | $start\_filtering\_btn = false; |
| [589](#L589) | } |
| [590](#L590) |  |
| [591](#L591) | if (wp\_doing\_ajax() && !isset($\_REQUEST['woof\_form\_builder'])) { |
| [592](#L592) | $start\_filtering\_btn = false; |
| [593](#L593) | } |
| [594](#L594) |  |
| [595](#L595) | if ($this->is\_isset\_in\_request\_data($this->get\_swoof\_search\_slug())) { |
| [596](#L596) | $start\_filtering\_btn = false; |
| [597](#L597) | } |
| [598](#L598) | ?> |
| [599](#L599) |  |
| [600](#L600) | <?php if ($start\_filtering\_btn): ?> |
| [601](#L601) | <a href="#" class="<?php echo esc\_attr(apply\_filters('woof\_button\_css\_classes', 'woof\_button')) ?> woof\_start\_filtering\_btn"><?php echo wp\_kses\_post($woof\_start\_filtering\_btn\_txt) ?></a> |
| [602](#L602) | <?php else: ?> |
| [603](#L603) | <?php |
| [604](#L604) | if ($btn\_position == 't' OR $btn\_position == 'tb' OR $btn\_position == 'bt') { |
| [605](#L605) | woof\_show\_btn($autosubmit, $ajax\_redraw); |
| [606](#L606) | } |
| [607](#L607) | global $wp\_query; |
| [608](#L608) | //+++ |
| [609](#L609) | { |
| [610](#L610) | $exclude\_tax\_key = ''; |
| [611](#L611) | //code-bone for pages like |
| [612](#L612) | //http://dev.pluginus.net/product-category/clothing/ with GET params |
| [613](#L613) | //another way when GET is actual no possibility get current taxonomy |
| [614](#L614) | if ($this->is\_really\_current\_term\_exists()) { |
| [615](#L615) | $o = $this->get\_really\_current\_term(); |
| [616](#L616) | $exclude\_tax\_key = $o->taxonomy; |
| [617](#L617) | } |
| [618](#L618) | //\*\*\* |
| [619](#L619) | if (!empty($wp\_query->query)) { |
| [620](#L620) | if (isset($wp\_query->query\_vars['taxonomy']) AND in\_array($wp\_query->query\_vars['taxonomy'], get\_object\_taxonomies('product'))) { |
| [621](#L621) | $taxes = $wp\_query->query; |
| [622](#L622) | if (isset($taxes['paged'])) { |
| [623](#L623) | unset($taxes['paged']); |
| [624](#L624) | } |
| [625](#L625) |  |
| [626](#L626) | foreach ($taxes as $key => $value) { |
| [627](#L627) | if (in\_array($key, array\_keys($this->get\_request\_data()))) { |
| [628](#L628) | unset($taxes[$key]); |
| [629](#L629) | } |
| [630](#L630) | } |
| [631](#L631) | //\*\*\* |
| [632](#L632) | if (!empty($taxes)) { |
| [633](#L633) | $t = array\_keys($taxes); |
| [634](#L634) | $v = array\_values($taxes); |
| [635](#L635) | //\*\*\* |
| [636](#L636) | $exclude\_tax\_key = $t[0]; |
| [637](#L637) | WOOF\_REQUEST::set('WOOF\_IS\_TAX\_PAGE', $exclude\_tax\_key); |
| [638](#L638) | } |
| [639](#L639) | } |
| [640](#L640) | } |
| [641](#L641) |  |
| [642](#L642) | //\*\*\* |
| [643](#L643) |  |
| [644](#L644) | $items\_order = array(); |
| [645](#L645) |  |
| [646](#L646) | $taxonomies\_keys = array\_keys($taxonomies); |
| [647](#L647) |  |
| [648](#L648) | if (isset($woof\_settings['items\_order']) AND !empty($woof\_settings['items\_order'])) { |
| [649](#L649) | $items\_order = explode(',', $woof\_settings['items\_order']); |
| [650](#L650) | } else { |
| [651](#L651) | $items\_order = array\_merge($this->items\_keys, $taxonomies\_keys); |
| [652](#L652) | } |
| [653](#L653) |  |
| [654](#L654) | //\*\*\* lets check if we have new taxonomies added in woocommerce or new item |
| [655](#L655) | foreach (array\_merge($this->items\_keys, $taxonomies\_keys) as $key) { |
| [656](#L656) | if (!in\_array($key, $items\_order)) { |
| [657](#L657) | $items\_order[] = $key; |
| [658](#L658) | } |
| [659](#L659) | } |
| [660](#L660) |  |
| [661](#L661) | //lets print our items and taxonomies |
| [662](#L662) | $counter = 0; |
| [663](#L663) |  |
| [664](#L664) | if (count($tax\_only) > 0) { |
| [665](#L665) | $items\_order = get\_order\_by\_tax\_only($items\_order, $tax\_only); |
| [666](#L666) | } |
| [667](#L667) |  |
| [668](#L668) | if (isset($by\_step)) { |
| [669](#L669) | $new\_items\_order = explode(',', $by\_step); |
| [670](#L670) | $items\_order = array\_map('trim', $new\_items\_order); |
| [671](#L671) | } |
| [672](#L672) |  |
| [673](#L673) | $items\_order = apply\_filters('woof\_custom\_filter\_items\_order', $items\_order, (isset($shortcode\_atts['id']) ? $shortcode\_atts['id'] : '')); |
| [674](#L674) |  |
| [675](#L675) | $tax\_show = array(); |
| [676](#L676) | if (isset($shortcode\_atts['tax\_only'])) { |
| [677](#L677) | $tax\_show = explode(',', $shortcode\_atts['tax\_only']); |
| [678](#L678) | } |
| [679](#L679) |  |
| [680](#L680) | foreach ($items\_order as $key) { |
| [681](#L681) |  |
| [682](#L682) | do\_action('woof\_before\_draw\_filter', $key, $shortcode\_atts); |
| [683](#L683) |  |
| [684](#L684) | if (in\_array($key, $this->items\_keys)) { |
| [685](#L685) | woof\_print\_item\_by\_key($key, $woof\_settings, $additional\_taxes); |
| [686](#L686) | } else { |
| [687](#L687) | if (!isset($woof\_settings['tax'][$key])) { |
| [688](#L688) | continue; |
| [689](#L689) | } |
| [690](#L690) |  |
| [691](#L691) | if ($key && isset($taxonomies[$key])) { |
| [692](#L692) | woof\_print\_tax($taxonomies, $key, $taxonomies[$key], $exclude\_tax\_key, $taxonomies\_info, $additional\_taxes, $woof\_settings, $args, $counter); |
| [693](#L693) | } |
| [694](#L694) | } |
| [695](#L695) | do\_action('woof\_after\_draw\_filter', $key, $shortcode\_atts); |
| [696](#L696) | $counter++; |
| [697](#L697) | } |
| [698](#L698) | } |
| [699](#L699) | ?> |
| [700](#L700) |  |
| [701](#L701) |  |
| [702](#L702) | <?php |
| [703](#L703) | //submit form |
| [704](#L704) | if ($btn\_position == 'b' OR $btn\_position == 'tb' OR $btn\_position == 'bt') { |
| [705](#L705) | woof\_show\_btn($autosubmit, $ajax\_redraw); |
| [706](#L706) | } |
| [707](#L707) | ?> |
| [708](#L708) |  |
| [709](#L709) | <?php endif; ?> |
| [710](#L710) | </div> |
| [711](#L711) |  |
| [712](#L712) | </div> |
| [713](#L713) |  |
| [714](#L714) |  |
| [715](#L715) |  |
| [716](#L716) | <?php if ($autohide): ?> |
| [717](#L717) | </div> |
| [718](#L718) | </div> |
| [719](#L719) |  |
| [720](#L720) | </div> |
| [721](#L721) | <?php endif; ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/woocommerce-products-filter/trunk/views/woof.php?format=txt)
* [Original Format](/export/3220505/woocommerce-products-filter/trunk/views/woof.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


