=== Content from git.kernel.org_8488ac6e_20250111_193843.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f921335123f6620c3dce5c96fbb95f18524a021c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f921335123f6620c3dce5c96fbb95f18524a021c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f921335123f6620c3dce5c96fbb95f18524a021c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f921335123f6620c3dce5c96fbb95f18524a021c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:08:16 +0200 |
| commit | [f921335123f6620c3dce5c96fbb95f18524a021c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f921335123f6620c3dce5c96fbb95f18524a021c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f921335123f6620c3dce5c96fbb95f18524a021c)) | |
| tree | [555555f1f3393d4381025b26f45b1b15ae7a6dcf](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f921335123f6620c3dce5c96fbb95f18524a021c) | |
| parent | [7ab69af56a23859b647dee69fa1052c689343621](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7ab69af56a23859b647dee69fa1052c689343621) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f921335123f6620c3dce5c96fbb95f18524a021c&id2=7ab69af56a23859b647dee69fa1052c689343621)) | |
| download | [linux-f921335123f6620c3dce5c96fbb95f18524a021c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f921335123f6620c3dce5c96fbb95f18524a021c.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f921335123f6620c3dce5c96fbb95f18524a021c)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=f921335123f6620c3dce5c96fbb95f18524a021c) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=f921335123f6620c3dce5c96fbb95f18524a021c) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 6a6d5970d1d583..0388694572f583 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=7ab69af56a23859b647dee69fa1052c689343621)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=f921335123f6620c3dce5c96fbb95f18524a021c)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex dc1c81a6e37716..8593fd07116a76 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=7ab69af56a23859b647dee69fa1052c689343621)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=f921335123f6620c3dce5c96fbb95f18524a021c)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:20 +0000



=== Content from git.kernel.org_fea9ab7b_20250111_193842.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-10 12:00:35 +0200 |
| commit | [bc00d211da4ffad5314a2043b50bdc8ff8a33724](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)) | |
| tree | [c83a7c8f6e13d0f76b78c85bc0a96ec30e180df8](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724) | |
| parent | [26ced9d86240868f5b41708ceee02e6ec2924498](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=26ced9d86240868f5b41708ceee02e6ec2924498) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724&id2=26ced9d86240868f5b41708ceee02e6ec2924498)) | |
| download | [linux-bc00d211da4ffad5314a2043b50bdc8ff8a33724.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-bc00d211da4ffad5314a2043b50bdc8ff8a33724.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 0fc9f3e3ffaefd..f603486af6e306 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=26ced9d86240868f5b41708ceee02e6ec2924498)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex 618f4b682ab1b1..9f28e4d3c664c7 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=26ced9d86240868f5b41708ceee02e6ec2924498)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=bc00d211da4ffad5314a2043b50bdc8ff8a33724)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:19 +0000



=== Content from git.kernel.org_14b454ed_20250111_193841.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4067f4fa0423a89fb19a30b57231b384d77d2610)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4067f4fa0423a89fb19a30b57231b384d77d2610)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4067f4fa0423a89fb19a30b57231b384d77d2610)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4067f4fa0423a89fb19a30b57231b384d77d2610)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Alex Deucher <alexander.deucher@amd.com> | 2024-07-27 17:35:44 -0400 |
| commit | [4067f4fa0423a89fb19a30b57231b384d77d2610](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4067f4fa0423a89fb19a30b57231b384d77d2610) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4067f4fa0423a89fb19a30b57231b384d77d2610)) | |
| tree | [b38b32cd73394053165ce1c4fa9c27c2f36b51f4](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4067f4fa0423a89fb19a30b57231b384d77d2610) | |
| parent | [6eb1fe53ee94cffd7187844d08d46ba8659d667a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6eb1fe53ee94cffd7187844d08d46ba8659d667a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4067f4fa0423a89fb19a30b57231b384d77d2610&id2=6eb1fe53ee94cffd7187844d08d46ba8659d667a)) | |
| download | [linux-4067f4fa0423a89fb19a30b57231b384d77d2610.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4067f4fa0423a89fb19a30b57231b384d77d2610.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4067f4fa0423a89fb19a30b57231b384d77d2610)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=4067f4fa0423a89fb19a30b57231b384d77d2610) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=4067f4fa0423a89fb19a30b57231b384d77d2610) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 3d95bfa5aca23b..ae525104172801 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=6eb1fe53ee94cffd7187844d08d46ba8659d667a)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=4067f4fa0423a89fb19a30b57231b384d77d2610)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex 98502a4f056726..9e1c18b90805d2 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=6eb1fe53ee94cffd7187844d08d46ba8659d667a)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=4067f4fa0423a89fb19a30b57231b384d77d2610)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:18 +0000



=== Content from git.kernel.org_f996166d_20250111_193841.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=8f0abb39c16e719129de10596b3ae3363fa178b4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8f0abb39c16e719129de10596b3ae3363fa178b4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8f0abb39c16e719129de10596b3ae3363fa178b4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8f0abb39c16e719129de10596b3ae3363fa178b4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:20:39 +0100 |
| commit | [8f0abb39c16e719129de10596b3ae3363fa178b4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8f0abb39c16e719129de10596b3ae3363fa178b4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=8f0abb39c16e719129de10596b3ae3363fa178b4)) | |
| tree | [32bec61cfe0d0ddb2c909f713f9cb638f0c4815f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8f0abb39c16e719129de10596b3ae3363fa178b4) | |
| parent | [f5f6d90087131812c1e4b9d3103f400f1624396d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f5f6d90087131812c1e4b9d3103f400f1624396d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8f0abb39c16e719129de10596b3ae3363fa178b4&id2=f5f6d90087131812c1e4b9d3103f400f1624396d)) | |
| download | [linux-8f0abb39c16e719129de10596b3ae3363fa178b4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-8f0abb39c16e719129de10596b3ae3363fa178b4.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8f0abb39c16e719129de10596b3ae3363fa178b4)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=8f0abb39c16e719129de10596b3ae3363fa178b4) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=8f0abb39c16e719129de10596b3ae3363fa178b4) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex ed8bf5f723c93b..3278a3f46296b9 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=f5f6d90087131812c1e4b9d3103f400f1624396d)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=8f0abb39c16e719129de10596b3ae3363fa178b4)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex a1f207cbb96688..a52cee502a26e4 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=f5f6d90087131812c1e4b9d3103f400f1624396d)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=8f0abb39c16e719129de10596b3ae3363fa178b4)@@ -54,7 +54,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:19 +0000



=== Content from git.kernel.org_3faea07e_20250111_193843.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-10 11:57:36 +0200 |
| commit | [c7630935d9a4986e8c0ed91658a781b7a77d73f7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)) | |
| tree | [a78873f8dc20361b6ba67b7ce5f534a2f3deb51b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7) | |
| parent | [a1495acc6234fa79b775599d3f49009afd53299f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a1495acc6234fa79b775599d3f49009afd53299f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7&id2=a1495acc6234fa79b775599d3f49009afd53299f)) | |
| download | [linux-c7630935d9a4986e8c0ed91658a781b7a77d73f7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c7630935d9a4986e8c0ed91658a781b7a77d73f7.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 0fc9f3e3ffaefd..f603486af6e306 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=a1495acc6234fa79b775599d3f49009afd53299f)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex 618f4b682ab1b1..9f28e4d3c664c7 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=a1495acc6234fa79b775599d3f49009afd53299f)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=c7630935d9a4986e8c0ed91658a781b7a77d73f7)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:20 +0000



=== Content from git.kernel.org_7c438495_20250111_193840.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-10 12:03:33 +0200 |
| commit | [3334ab72cbba55a632f24579cd47c4a4e5e69cda](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)) | |
| tree | [0d9e95a7fd2559e585a3a82f26582e74bfca63af](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda) | |
| parent | [adeed800bc30ef718478b28c08f79231e5980e3d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=adeed800bc30ef718478b28c08f79231e5980e3d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda&id2=adeed800bc30ef718478b28c08f79231e5980e3d)) | |
| download | [linux-3334ab72cbba55a632f24579cd47c4a4e5e69cda.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-3334ab72cbba55a632f24579cd47c4a4e5e69cda.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 3d95bfa5aca23b..ae525104172801 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=adeed800bc30ef718478b28c08f79231e5980e3d)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex 98502a4f056726..9e1c18b90805d2 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=adeed800bc30ef718478b28c08f79231e5980e3d)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=3334ab72cbba55a632f24579cd47c4a4e5e69cda)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:18 +0000



=== Content from git.kernel.org_6878aae5_20250111_193840.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:11:31 +0200 |
| commit | [1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)) | |
| tree | [07b49c364084f97915e50d92664aa5b56151662e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76) | |
| parent | [c13f9c62015c56a938304cef6d507227ea3e0039](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c13f9c62015c56a938304cef6d507227ea3e0039) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76&id2=c13f9c62015c56a938304cef6d507227ea3e0039)) | |
| download | [linux-1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 26ececfd40cdca..99b19d1c7e0b04 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=c13f9c62015c56a938304cef6d507227ea3e0039)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex 736978c4d40a12..9a6d5a6b6748b6 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=c13f9c62015c56a938304cef6d507227ea3e0039)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=1f9f8186e239222f1c8d3dd73bf3bc6ae86c5e76)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:17 +0000



=== Content from git.kernel.org_e55daa97_20250111_193842.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a23d6029e730f8a151b1a34afb169baac1274583)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a23d6029e730f8a151b1a34afb169baac1274583)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a23d6029e730f8a151b1a34afb169baac1274583)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a23d6029e730f8a151b1a34afb169baac1274583)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alex Hung <alex.hung@amd.com> | 2024-07-15 09:57:01 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:21:46 +0200 |
| commit | [a23d6029e730f8a151b1a34afb169baac1274583](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a23d6029e730f8a151b1a34afb169baac1274583) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a23d6029e730f8a151b1a34afb169baac1274583)) | |
| tree | [baf7a85b1d3805346913247b8265b4e31f0cf6b9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a23d6029e730f8a151b1a34afb169baac1274583) | |
| parent | [0f1e222a4b41d77c442901d166fbdca967af0d86](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0f1e222a4b41d77c442901d166fbdca967af0d86) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a23d6029e730f8a151b1a34afb169baac1274583&id2=0f1e222a4b41d77c442901d166fbdca967af0d86)) | |
| download | [linux-a23d6029e730f8a151b1a34afb169baac1274583.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a23d6029e730f8a151b1a34afb169baac1274583.tar.gz) | |

drm/amd/display: Initialize get\_bytes\_per\_element's default to 1[ Upstream commit 4067f4fa0423a89fb19a30b57231b384d77d2610 ]
Variables, used as denominators and maybe not assigned to other values,
should not be 0. bytes\_per\_element\_y & bytes\_per\_element\_c are
initialized by get\_bytes\_per\_element() which should never return 0.
This fixes 10 DIVIDE\_BY\_ZERO issues reported by Coverity.
Signed-off-by: Alex Hung <alex.hung@amd.com>
Reviewed-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Rodrigo Siqueira <rodrigo.siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a23d6029e730f8a151b1a34afb169baac1274583)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=a23d6029e730f8a151b1a34afb169baac1274583) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=a23d6029e730f8a151b1a34afb169baac1274583) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c b/drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.cindex 0fc9f3e3ffaefd..f603486af6e306 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=0f1e222a4b41d77c442901d166fbdca967af0d86)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn20/display\_rq\_dlg\_calc\_20v2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn20/display_rq_dlg_calc_20v2.c?id=a23d6029e730f8a151b1a34afb169baac1274583)@@ -78,7 +78,7 @@ static void calculate\_ttu\_cursor(struct display\_mode\_lib \*mode\_lib,  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma)diff --git a/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c b/drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.cindex 618f4b682ab1b1..9f28e4d3c664c7 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=0f1e222a4b41d77c442901d166fbdca967af0d86)+++ b/[drivers/gpu/drm/amd/display/dc/dml/dcn21/display\_rq\_dlg\_calc\_21.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/dcn21/display_rq_dlg_calc_21.c?id=a23d6029e730f8a151b1a34afb169baac1274583)@@ -53,7 +53,7 @@ static void calculate\_ttu\_cursor(  static unsigned int get\_bytes\_per\_element(enum source\_format\_class source\_format, bool is\_chroma) {- unsigned int ret\_val = 0;+ unsigned int ret\_val = 1;  if (source\_format == dm\_444\_16) { if (!is\_chroma) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:37:19 +0000


