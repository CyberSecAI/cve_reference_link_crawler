
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>
Issue 40791: hmac.compare_digest could try harder to be constant-time. - Python tracker

</title>
<link rel="shortcut icon" href="@@file/favicon.ico" />
<link rel="stylesheet" type="text/css" href="@@file/main.css" />
<link rel="stylesheet" type="text/css" href="@@file/style.css" />
<link rel="search" type="application/opensearchdescription+xml" href="@@file/osd.xml" title="Python bug tracker search" />
<meta http-equiv="Content-Type"
      content="text/html; charset=utf-8" />

<script nonce="cf13b7188aaef4161f6ef17a93a916edd08133e0ba5603a2f3799116b424548c" type="text/javascript">
submitted = false;
function submit_once() {
    if (submitted) {
        alert("Your request is being processed.\nPlease be patient.");
        return false;
    }
    submitted = true;
    return true;
}

function help_window(helpurl, width, height) {
    HelpWin = window.open('https://bugs.python.org/' + helpurl, 'RoundupHelpWindow', 'scrollbars=yes,resizable=yes,toolbar=no,height='+height+',width='+width);
    HelpWin.focus ()
}
</script>


<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.js"></script>
<script type="text/javascript" src="@@file/issue.item.js"></script>
<link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/smoothness/jquery-ui.css" />


</head>
<body>
  <!--  Logo  -->
  <h1 id="logoheader">
    <a accesskey="1" href="." id="logolink">
       <img src="@@file/python-logo.gif" alt="homepage" border="0" id="logo" /></a>
  </h1>

<div id="utility-menu">
<!-- Search Box -->
<div id="searchbox">
    <form name="searchform" method="get" action="issue" id="searchform">
      <div id="search">
       <input type="hidden" name="@columns"
              value="id,github,activity,title,creator,assignee,status,type" />
       <input type="hidden" name="@sort" value="-activity" />
       <input type="hidden" name="@filter" value="status" />
       <input type="hidden" name="@action" value="searchid" />
       <input type="hidden" name="ignore" value="file:content" />
       <input class="input-text" id="search-text"
              name="@search_text" size="10" />
       <input type="submit" id="submit" value="search" name="submit" class="input-button" />
       <input type="radio" name="status"
              id="status_notresolved" value="-1,1,3" />
       <label for="status_notresolved">open</label>
       <input type="radio" name="status" checked="checked"
              id="status_all" value="-1,1,2,3" />
       <label for="status_all">all</label>
      </div>
     </form>
</div>
</div>


<div id="left-hand-navigation">
<!--  Main Menu NEED LEVEL TWO HEADER AND FOOTER -->
<div id="menu">
  <ul class="level-one">
    <li><a href="https://www.python.org/" title="Go to the Python homepage">Python Home</a></li>
    <li><a href="https://www.python.org/about/" title="About The Python Language">About</a></li>
    <li><a href="https://www.python.org/blogs/" title="">News</a></li>
    <li><a href="https://www.python.org/doc/" title="">Documentation</a></li>
    <li><a href="https://www.python.org/downloads/" title="">Downloads</a></li>
    <li><a href="https://www.python.org/community/" title="">Community</a></li>
    <li><a href="https://www.python.org/psf/" title="Python Software Foundation">Foundation</a></li>
    <li><a href="https://devguide.python.org/" title="Python Developer's Guide">Developer's Guide</a></li>
    <li class="selected"><a href="." class="selected" title="Python Issue Tracker">Issue Tracker</a>
      <ul class="level-two">
        <li>
          <strong>Issues</strong>
          <ul class="level-three">
            
            <li><a href="issue?@template=search&amp;status=1">Search</a></li>
            <li><a href="issue?@action=random">Random Issue</a></li>
            <li>
              <form method="post" action="issue40791">
                <input type="submit" class="form-small"
                       value="Show issue:" />
                <input class="form-small" size="4" type="text" name="@number" />
                <input type="hidden" name="@type" value="issue" />
                <input type="hidden" name="@action" value="show" />
              </form>
            </li>
          </ul>
        </li>


        <li>
          <strong>Summaries</strong>
          <ul class="level-three">
            

            

            

            <li>
              <a href="issue?status=1&amp;@sort=-activity&amp;@columns=id%2Cgithub%2Cactivity%2Ctitle%2Ccreator%2Cstatus&amp;@dispname=Issues%20with%20patch&amp;@startwith=0&amp;@group=priority&amp;keywords=2&amp;@action=search&amp;@filter=&amp;@pagesize=50">Issues with patch</a>
            </li>

            <li>
              <a href="issue?status=1&amp;@sort=-activity&amp;@columns=id%2Cgithub%2Cactivity%2Ctitle%2Ccreator%2Cstatus&amp;@dispname=Easy%20issues&amp;@startwith=0&amp;@group=priority&amp;keywords=6&amp;@action=search&amp;@filter=&amp;@pagesize=50">Easy issues</a>
            </li>

            <li>
              <a href="issue?@template=stats">Stats</a>
            </li>

          </ul>
        </li>


        <li>
          <strong>User</strong>
          <form method="post" action="issue40791">
          <ul class="level-three">
            <li>
                Login<br />
                <input size="10" name="openid_identifier" style="" /><br />
                <input size="10" type="password" name="__login_password" /><br />
                <input type="hidden" name="@action" value="Login" />
                <input type="checkbox" name="remember" id="remember" />
                <label for="remember">Remember me?</label><br />
                <input class="form-small" type="submit"
                       value="Login" /><br />
                <input type="hidden" name="__came_from"
                       value="https://bugs.python.org/issue40791?">
                
                <input type="hidden" name="@sort" value=""/>
<input type="hidden" name="@group" value=""/>
<input type="hidden" name="@pagesize" value="50"/>
<input type="hidden" name="@startwith" value="0"/>
            </li>
            <li>
                
            </li>
            <li><a href="user?@template=forgotten">Lost&nbsp;your&nbsp;login?</a></li>
          </ul>
          </form>
        </li>

        

        

        <li>
          <strong>Administration</strong>
          <ul class="level-three">
            
            <li>
                <a href="user?@sort=username">User List</a></li>
            <li>
                <a href="user?iscommitter=1&amp;@action=search&amp;@sort=username&amp;@pagesize=300">Committer List</a></li>
            
            
            
          </ul>
        </li>

        <li>
          <strong>Help</strong>
          <ul class="level-three">
            <li><a href="http://docs.python.org/devguide/triaging.html">
                Tracker Documentation</a></li>
            <li><a href="http://wiki.python.org/moin/TrackerDevelopment">
                Tracker Development</a></li>
            <li><a href="https://github.com/python/psf-infra-meta/issues">
                Report Tracker Problem</a></li>
          </ul>
        </li>

      </ul>
    </li>
  </ul>
</div> <!-- menu -->
</div> <!-- left-hand-navigation -->

<div id="content-body">
<div id="body-main">
<div id="content">
<div id="breadcrumb">
 
 
 Issue40791
 
</div>
<div id="migration-notice">
    <div id="migration-images">
        <img width="32" src="@@file/python-logo-small.png" />
        âžœ
        <a href="https://github.com/python/cpython/issues"><img width="32" src="@@file/gh-icon.png" /></a>
    </div>
    <p>This issue tracker <b>has been migrated to <a href="https://github.com/python/cpython/issues">GitHub</a></b>,
    and is currently <b>read-only</b>.<br />
    For more information, <a title="GitHub FAQs" href="https://devguide.python.org/gh-faq/">
    see the GitHub FAQs in the Python's Developer Guide.</a></p>
</div>
 
 





<div>

<form method="post" name="itemSynopsis"
      onsubmit="return submit_once()"
      enctype="multipart/form-data" action="issue40791">

<div id="gh-issue-link">
    <a href="https://github.com/python/cpython/issues/84968">
        <img width="32" src="@@file/gh-icon.png" />
        <p>
            <span>This issue has been migrated to GitHub:</span>
            https://github.com/python/cpython/issues/84968
        </p>
    </a>
</div>

<fieldset><legend>classification</legend>
<table class="form">
<tr>
 <th class="required"><a href="http://docs.python.org/devguide/triaging.html#title" target="_blank">Title</a>:</th>
 
 <td colspan="3">
  <span>hmac.compare_digest could try harder to be constant-time.</span>
  <input type="hidden" name="title"
         value="hmac.compare_digest could try harder to be constant-time.">
 </td>
</tr>

<tr>
 <th class="required"><a href="http://docs.python.org/devguide/triaging.html#type" target="_blank">Type</a>:</th>
 <td>security</td>
 <th><a href="http://docs.python.org/devguide/triaging.html#stage" target="_blank">Stage</a>:</th>
 <td>resolved</td>
</tr>

<tr>
 <th><a href="http://docs.python.org/devguide/triaging.html#components" target="_blank">Components</a>:</th>
 <td>Library (Lib)</td>
 <th><a href="http://docs.python.org/devguide/triaging.html#versions" target="_blank">Versions</a>:</th>
 <td>Python 3.10, Python 3.9, Python 3.8, Python 3.7, Python 3.6</td>
</tr>
</table>
</fieldset>

<fieldset><legend>process</legend>
<table class="form">
<tr>
  <th><a href="http://docs.python.org/devguide/triaging.html#status" target="_blank">Status</a>:</th>
  <td>closed</td>
  <th><a href="http://docs.python.org/devguide/triaging.html#resolution" target="_blank">Resolution</a>:</th>
  <td>fixed</td>
</tr>

<tr>
 <th>
    <a href="http://docs.python.org/devguide/triaging.html#dependencies"
       target="_blank">Dependencies</a>:
 </th>
 <td>
  
  
 </td>
 <th><a href="http://docs.python.org/devguide/triaging.html#superseder" target="_blank">Superseder</a>:</th>
 <td>
  
 
 </td>
 </tr>
 <tr>
 <th>
   <a href="http://docs.python.org/devguide/triaging.html#assigned-to"
      target="_blank">Assigned To</a>:
 </th>
 
 <td>
  christian.heimes
 </td>
 <th>
   <a href="http://docs.python.org/devguide/triaging.html#nosy-list"
      target="_blank">Nosy List</a><!--
        <span tal:condition="context/nosy_count" tal:replace="python: ' (%d)' % context.nosy_count" /> -->:
 </th>
 <td>
     Devin Jeanpierre, benjamin.peterson, christian.heimes, gregory.p.smith, mgorny, miss-islington, ned.deily, rhettinger
     
 </td>
</tr>
<tr>
 <th>
   <a href="http://docs.python.org/devguide/triaging.html#priority"
      target="_blank">Priority</a>:
 </th>
 <td>normal</td>
 <th>
    <a href="http://docs.python.org/devguide/triaging.html#keywords"
       target="_blank">Keywords</a>:
 </th>
 <td>patch</td>


</tr>









</table>
</fieldset>

</form>

<p>Created on <strong>2020-05-27 07:41</strong> by <strong>Devin Jeanpierre</strong>, last changed <strong>2022-04-11 14:59</strong> by <strong>admin</strong>. This issue is now <strong style="color:#00F; background-color:inherit;">closed</strong>.</p>



<table class="files">
 <tr><th class="header" colspan="4">Pull Requests</th></tr>
 <tr>
  <th>URL</th>
  <th>Status</th>
  <th>Linked</th>
  <th>Edit</th>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/20444" title="bpo-40791: Make compare_digest more constant-time.">PR 20444</a></td>
  <td>merged</td>
  <td>
   <span>Devin Jeanpierre</span>,
   <span>2020-05-27 09:00</span>
  </td>
  <td>
    
  </td>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/20456" title="bpo-40791: Use CRYPTO_memcmp() for compare_digest">PR 20456</a></td>
  <td>merged</td>
  <td>
   <span>christian.heimes</span>,
   <span>2020-05-27 16:12</span>
  </td>
  <td>
    
  </td>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/20461" title="[3.9] bpo-40791: Use CRYPTO_memcmp() for compare_digest (GH-20456)">PR 20461</a></td>
  <td>merged</td>
  <td>
   <span>christian.heimes</span>,
   <span>2020-05-27 19:51</span>
  </td>
  <td>
    
  </td>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/23436" title="[3.9] bpo-40791: Make compare_digest more constant-time. (GH-20444)">PR 23436</a></td>
  <td>merged</td>
  <td>
   <span>miss-islington</span>,
   <span>2020-11-21 08:55</span>
  </td>
  <td>
    
  </td>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/23437" title="[3.8] bpo-40791: Make compare_digest more constant-time. (GH-20444)">PR 23437</a></td>
  <td>merged</td>
  <td>
   <span>miss-islington</span>,
   <span>2020-11-21 08:55</span>
  </td>
  <td>
    
  </td>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/23438" title="[3.7] bpo-40791: Make compare_digest more constant-time. (GH-20444)">PR 23438</a></td>
  <td>merged</td>
  <td>
   <span>miss-islington</span>,
   <span>2020-11-21 08:56</span>
  </td>
  <td>
    
  </td>
 </tr>
 <tr>
  <td><a href="https://github.com/python/cpython/pull/23767" title="[3.6] bpo-40791: Make compare_digest more constant-time. (GH-23438)">PR 23767</a></td>
  <td>merged</td>
  <td>
   <span>miss-islington</span>,
   <span>2020-12-14 16:41</span>
  </td>
  <td>
    
  </td>
 </tr>
</table>





<table class="messages">
 <tr><th colspan="4" class="header">Messages (15)</th></tr>
 
  <tr>
    <th>
     <a href="#msg370053" id="msg370053">msg370053</a> - <a
    href="msg370053">(view)</a></th>
   <th>Author: Devin Jeanpierre (Devin Jeanpierre) <span title="Contributor form received">*</span></th>
   <th>Date: 2020-05-27 07:41</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>`hmac.compare_digest` (via `_tscmp`) does not mark the accumulator variable `result` as volatile, which means that the compiler is allowed to short-circuit the comparison loop as long as it still reads from both strings.

In particular, when `result` is non-volatile, the compiler is allowed to change the loop from this:


```c
for (i=0; i &lt; length; i++) {
    result |= *left++ ^ *right++;
}
return (result == 0);
```

into (the moral equivalent of) this:


```c
for (i=0; i &lt; length; i++) {
    result |= *left++ ^ *right++;
    if (result) {
        for (; ++i &lt; length;) {
            *left++; *right++;
        }
        return 1;
    }
}
return (result == 0);
```

(Code not tested.)

This might not seem like much, but it cuts out almost all of the data dependencies between `result`, `left`, and `right`, which in theory would free the CPU to race ahead using out of order execution -- it could execute code that depends on the result of `_tscmp`, even while `_tscmp` is still performing the volatile reads. (I have not actually benchmarked this. :)) In other words, this weird short circuiting could still actually improve performance. That, in turn, means that it would break constant-time guarantees.

(This is different from saying that it _would_ increase performance, but marking it volatile removes the worry.)

(Prior art/discussion: <a href="https://github.com/google/tink/commit/335291c42eecf29fca3d85fed6179d11287d253e">https://github.com/google/tink/commit/335291c42eecf29fca3d85fed6179d11287d253e</a> )


I propose two changes, one trivial, and one that's more invasive:

1) Make `result` a `volatile unsigned char` instead of `unsigned char`. 

2) When SSL is available, instead use `CRYPTO_memcmp` from OpenSSL/BoringSSL. We are, in effect, "rolling our own crypto". The SSL libraries are more strictly audited for timing issues, down to actually checking the generated machine code. As tools improve, those libraries will grow to use those tools. If we use their functions, we get the benefit of those audits and improvements.</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370094" id="msg370094">msg370094</a> - <a
    href="msg370094">(view)</a></th>
   <th>Author: Raymond Hettinger (rhettinger) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-05-27 15:26</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>+1 for both of these suggestions</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370108" id="msg370108">msg370108</a> - <a
    href="msg370108">(view)</a></th>
   <th>Author: Gregory P. Smith (gregory.p.smith) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-05-27 16:05</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>Christian - Devin could likely use some help with the build/ifdef plumbing required for (2) to use CRYPTO_memcmp from <a href="https://github.com/python/cpython/blob/master/Modules/_operator.c">Modules/_operator.c</a> when OpenSSL is available.</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370109" id="msg370109">msg370109</a> - <a
    href="msg370109">(view)</a></th>
   <th>Author: Christian Heimes (christian.heimes) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-05-27 16:14</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>GPS, I got you covered :)

CRYPTO_memcmp() was on my TODO list for a while. Thanks for nagging me.

_operator is a built-in module. I don't want to add libcrypto dependency to libpython. I copied the code, made some adjustments and added it to _hashopenssl.c.</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370121" id="msg370121">msg370121</a> - <a
    href="msg370121">(view)</a></th>
   <th>Author: Christian Heimes (christian.heimes) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-05-27 19:18</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>Greg, is <a href="https://github.com/python/cpython/pull/20456" class="closed" title="GitHub PR 20456: [merged] bpo-40791: Use CRYPTO_memcmp() for compare_digest">GH-20456</a> a bug fix / security enhancement or a new feature? I'm hesitant to backport it to 3.7 and 3.8. 3.9 might be ok.</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370122" id="msg370122">msg370122</a> - <a
    href="msg370122">(view)</a></th>
   <th>Author: Gregory P. Smith (gregory.p.smith) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-05-27 19:46</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>I'd feel fine doing that for 3.9 given 3.9.0 is only in beta and this changes no public APIs.  For 3.8 and 3.7 i wouldn't.

Be sure to update the versionchanged in the docs if you choose to do it for 3.9.</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370124" id="msg370124">msg370124</a> - <a
    href="msg370124">(view)</a></th>
   <th>Author: Christian Heimes (christian.heimes) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-05-27 19:50</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/db5aed931f8a617f7b63e773f62db468fe9c5ca1">db5aed931f8a617f7b63e773f62db468fe9c5ca1</a> by Christian Heimes in branch 'master':
<a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Use CRYPTO_memcmp() for compare_digest (<a class="closed" title="[closed] Argument Clinic rollup patch, 2014/01/31" href="issue20456">#20456</a>)
<a href="https://github.com/python/cpython/commit/db5aed931f8a617f7b63e773f62db468fe9c5ca1">https://github.com/python/cpython/commit/db5aed931f8a617f7b63e773f62db468fe9c5ca1</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg370195" id="msg370195">msg370195</a> - <a
    href="msg370195">(view)</a></th>
   <th>Author: miss-islington (miss-islington)</th>
   <th>Date: 2020-05-28 12:10</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/8183e11d87388e4e44e3242c42085b87a878f781">8183e11d87388e4e44e3242c42085b87a878f781</a> by Christian Heimes in branch '3.9':
[3.9] <a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Use CRYPTO_memcmp() for compare_digest (<a href="https://github.com/python/cpython/pull/20456" class="closed" title="GitHub PR 20456: [merged] bpo-40791: Use CRYPTO_memcmp() for compare_digest">GH-20456</a>) (<a href="https://github.com/python/cpython/pull/20461" class="closed" title="GitHub PR 20461: [merged] [3.9] bpo-40791: Use CRYPTO_memcmp() for compare_digest (GH-20456)">GH-20461</a>)
<a href="https://github.com/python/cpython/commit/8183e11d87388e4e44e3242c42085b87a878f781">https://github.com/python/cpython/commit/8183e11d87388e4e44e3242c42085b87a878f781</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg381530" id="msg381530">msg381530</a> - <a
    href="msg381530">(view)</a></th>
   <th>Author: Gregory P. Smith (gregory.p.smith) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-11-21 08:55</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/31729366e2bc09632e78f3896dbce0ae64914f28">31729366e2bc09632e78f3896dbce0ae64914f28</a> by Devin Jeanpierre in branch 'master':
<a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Make compare_digest more constant-time. (<a href="https://github.com/python/cpython/pull/20444" class="closed" title="GitHub PR 20444: [merged] bpo-40791: Make compare_digest more constant-time.">GH-20444</a>)
<a href="https://github.com/python/cpython/commit/31729366e2bc09632e78f3896dbce0ae64914f28">https://github.com/python/cpython/commit/31729366e2bc09632e78f3896dbce0ae64914f28</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg381531" id="msg381531">msg381531</a> - <a
    href="msg381531">(view)</a></th>
   <th>Author: miss-islington (miss-islington)</th>
   <th>Date: 2020-11-21 09:12</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/97136d71a78a4b6b816f7e14acc52be426efcb6f">97136d71a78a4b6b816f7e14acc52be426efcb6f</a> by Miss Islington (bot) in branch '3.8':
<a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Make compare_digest more constant-time. (<a href="https://github.com/python/cpython/pull/20444" class="closed" title="GitHub PR 20444: [merged] bpo-40791: Make compare_digest more constant-time.">GH-20444</a>)
<a href="https://github.com/python/cpython/commit/97136d71a78a4b6b816f7e14acc52be426efcb6f">https://github.com/python/cpython/commit/97136d71a78a4b6b816f7e14acc52be426efcb6f</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg381533" id="msg381533">msg381533</a> - <a
    href="msg381533">(view)</a></th>
   <th>Author: miss-islington (miss-islington)</th>
   <th>Date: 2020-11-21 09:18</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/c1bbca5b004b3f74d240ef8a76ff445cc1a27efb">c1bbca5b004b3f74d240ef8a76ff445cc1a27efb</a> by Miss Islington (bot) in branch '3.9':
<a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Make compare_digest more constant-time. (<a href="https://github.com/python/cpython/pull/20444" class="closed" title="GitHub PR 20444: [merged] bpo-40791: Make compare_digest more constant-time.">GH-20444</a>)
<a href="https://github.com/python/cpython/commit/c1bbca5b004b3f74d240ef8a76ff445cc1a27efb">https://github.com/python/cpython/commit/c1bbca5b004b3f74d240ef8a76ff445cc1a27efb</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg381624" id="msg381624">msg381624</a> - <a
    href="msg381624">(view)</a></th>
   <th>Author: Benjamin Peterson (benjamin.peterson) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-11-22 17:33</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/db95802bdfac4d13db3e2a391ec7b9e2f8d92dbe">db95802bdfac4d13db3e2a391ec7b9e2f8d92dbe</a> by Miss Islington (bot) in branch '3.7':
<a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Make compare_digest more constant-time. (<a href="https://github.com/python/cpython/pull/23438" class="closed" title="GitHub PR 23438: [merged] [3.7] bpo-40791: Make compare_digest more constant-time. (GH-20444)">GH-23438</a>)
<a href="https://github.com/python/cpython/commit/db95802bdfac4d13db3e2a391ec7b9e2f8d92dbe">https://github.com/python/cpython/commit/db95802bdfac4d13db3e2a391ec7b9e2f8d92dbe</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg382972" id="msg382972">msg382972</a> - <a
    href="msg382972">(view)</a></th>
   <th>Author: MichaÅ‚ GÃ³rny (mgorny) <span title="Contributor form received">*</span></th>
   <th>Date: 2020-12-14 10:12</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>Any reason this wasn't backported to 3.6?  FWICS it's supposed to be security supported still.</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg382993" id="msg382993">msg382993</a> - <a
    href="msg382993">(view)</a></th>
   <th>Author: Ned Deily (ned.deily) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-12-14 17:05</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>
New changeset <a href="https://hg.python.org/lookup/8bef9ebb1b88cfa4b2a38b93fe4ea22015d8254a">8bef9ebb1b88cfa4b2a38b93fe4ea22015d8254a</a> by Miss Islington (bot) in branch '3.6':
<a class="closed" title="[closed] hmac.compare_digest could try harder to be constant-time." href="issue40791">bpo-40791</a>: Make compare_digest more constant-time. (<a href="https://github.com/python/cpython/pull/23438" class="closed" title="GitHub PR 23438: [merged] [3.7] bpo-40791: Make compare_digest more constant-time. (GH-20444)">GH-23438</a>) (<a href="https://github.com/python/cpython/pull/23767" class="closed" title="GitHub PR 23767: [merged] [3.6] bpo-40791: Make compare_digest more constant-time. (GH-23438)">GH-23767</a>)
<a href="https://github.com/python/cpython/commit/8bef9ebb1b88cfa4b2a38b93fe4ea22015d8254a">https://github.com/python/cpython/commit/8bef9ebb1b88cfa4b2a38b93fe4ea22015d8254a</a>
</pre>
   </td>
  </tr>
 
 
  <tr>
    <th>
     <a href="#msg382995" id="msg382995">msg382995</a> - <a
    href="msg382995">(view)</a></th>
   <th>Author: Ned Deily (ned.deily) <span title="Contributor form received">*</span> <img src="@@file/committer.png" title="Python committer" alt="(Python committer)" /></th>
   <th>Date: 2020-12-14 17:11</th>
  </tr>
  <tr>
   <td colspan="4" class="content">
    
    <pre>&gt; Any reason this wasn't backported to 3.6?

Just an oversight. Thanks for pointing it out.</pre>
   </td>
  </tr>
 
</table>

<table class="history table table-condensed table-striped"><tr><th colspan="4" class="header">
History
</th></tr><tr>
<th>Date</th>
<th>User</th>
<th>Action</th>
<th>Args</th>
</tr>
<tr><td>2022-04-11&nbsp;14:59:31</td><td>admin</td><td>set</td><td>github: 84968</td></tr>
<tr><td>2020-12-14&nbsp;17:11:27</td><td>ned.deily</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg382995">msg382995</a><br />versions:
  + Python 3.6</td></tr>
<tr><td>2020-12-14&nbsp;17:05:09</td><td>ned.deily</td><td>set</td><td>nosy:
  + <a rel="nofollow" href="user5248">ned.deily</a><br />messages:
  + <a rel="nofollow" href="msg382993">msg382993</a><br /></td></tr>
<tr><td>2020-12-14&nbsp;16:41:09</td><td>miss-islington</td><td>set</td><td>pull_requests:
  + <a rel="nofollow" href="pull_request22623">pull_request22623</a></td></tr>
<tr><td>2020-12-14&nbsp;10:12:35</td><td>mgorny</td><td>set</td><td>nosy:
  + <a rel="nofollow" href="user13113">mgorny</a><br />messages:
  + <a rel="nofollow" href="msg382972">msg382972</a><br /></td></tr>
<tr><td>2020-11-22&nbsp;17:34:28</td><td>benjamin.peterson</td><td>set</td><td>status: open -> closed<br />resolution: fixed<br />stage: patch review -> resolved</td></tr>
<tr><td>2020-11-22&nbsp;17:33:22</td><td>benjamin.peterson</td><td>set</td><td>nosy:
  + <a rel="nofollow" href="user4455">benjamin.peterson</a><br />messages:
  + <a rel="nofollow" href="msg381624">msg381624</a><br /></td></tr>
<tr><td>2020-11-21&nbsp;09:18:44</td><td>miss-islington</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg381533">msg381533</a></td></tr>
<tr><td>2020-11-21&nbsp;09:12:24</td><td>miss-islington</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg381531">msg381531</a></td></tr>
<tr><td>2020-11-21&nbsp;08:56:06</td><td>miss-islington</td><td>set</td><td>pull_requests:
  + <a rel="nofollow" href="pull_request22330">pull_request22330</a></td></tr>
<tr><td>2020-11-21&nbsp;08:55:58</td><td>miss-islington</td><td>set</td><td>pull_requests:
  + <a rel="nofollow" href="pull_request22329">pull_request22329</a></td></tr>
<tr><td>2020-11-21&nbsp;08:55:51</td><td>miss-islington</td><td>set</td><td>pull_requests:
  + <a rel="nofollow" href="pull_request22328">pull_request22328</a></td></tr>
<tr><td>2020-11-21&nbsp;08:55:27</td><td>gregory.p.smith</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg381530">msg381530</a></td></tr>
<tr><td>2020-05-28&nbsp;12:10:04</td><td>miss-islington</td><td>set</td><td>nosy:
  + <a rel="nofollow" href="user27838">miss-islington</a><br />messages:
  + <a rel="nofollow" href="msg370195">msg370195</a><br /></td></tr>
<tr><td>2020-05-27&nbsp;19:51:51</td><td>christian.heimes</td><td>set</td><td>pull_requests:
  + <a rel="nofollow" href="pull_request19714">pull_request19714</a></td></tr>
<tr><td>2020-05-27&nbsp;19:50:11</td><td>christian.heimes</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg370124">msg370124</a></td></tr>
<tr><td>2020-05-27&nbsp;19:46:01</td><td>gregory.p.smith</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg370122">msg370122</a></td></tr>
<tr><td>2020-05-27&nbsp;19:18:24</td><td>christian.heimes</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg370121">msg370121</a></td></tr>
<tr><td>2020-05-27&nbsp;16:14:21</td><td>christian.heimes</td><td>set</td><td>messages:
  + <a rel="nofollow" href="msg370109">msg370109</a></td></tr>
<tr><td>2020-05-27&nbsp;16:12:11</td><td>christian.heimes</td><td>set</td><td>pull_requests:
  + <a rel="nofollow" href="pull_request19711">pull_request19711</a></td></tr>
<tr><td>2020-05-27&nbsp;16:05:20</td><td>gregory.p.smith</td><td>set</td><td>assignee: <a rel="nofollow" href="user3108">christian.heimes</a><br />messages:
  + <a rel="nofollow" href="msg370108">msg370108</a></td></tr>
<tr><td>2020-05-27&nbsp;15:26:51</td><td>rhettinger</td><td>set</td><td>versions:
  - Python 3.5, Python 3.6<br />nosy:
  + <a rel="nofollow" href="user114">rhettinger</a><br /><br />messages:
  + <a rel="nofollow" href="msg370094">msg370094</a><br /><br />type: security</td></tr>
<tr><td>2020-05-27&nbsp;15:25:47</td><td>zach.ware</td><td>set</td><td>nosy:
  + <a rel="nofollow" href="user252">gregory.p.smith</a>, <a rel="nofollow" href="user3108">christian.heimes</a><br /></td></tr>
<tr><td>2020-05-27&nbsp;09:00:48</td><td>Devin Jeanpierre</td><td>set</td><td>keywords:
  + <a rel="nofollow" href="keyword2">patch</a><br />stage: patch review<br />pull_requests:
  + <a rel="nofollow" href="pull_request19700">pull_request19700</a></td></tr>
<tr><td>2020-05-27&nbsp;07:41:07</td><td>Devin Jeanpierre</td><td>create</td><td></td></tr>
</table>

</div>


</div> <!-- content-body -->
<div id="footer">
<div id="credits">
  Supported by <a href="https://python.org/psf-landing/" title="The Python Software Foundation">The Python Software Foundation</a>,
  <br>
  Powered by <a href="http://roundup.sourceforge.net" title="Powered by the Roundup Issue Tracker">Roundup</a>
</div> <!-- credits -->
Copyright &copy; 1990-2022, <a href="http://python.org/psf">Python Software Foundation</a><br />
<a href="http://python.org/about/legal">Legal Statements</a>
</div> <!-- footer -->
</div> <!-- body-main -->
</div> <!-- content -->



</body>
</html>

