=== Content from www.mozilla.org_e6b091cb_20250111_152958.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    #### Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [#### Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    #### Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    #### Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    #### Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    #### Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    #### MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    #### Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    #### Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [#### About Mozilla](/en-US/about/)
  + [#### The Mozilla Manifesto](/en-US/about/manifesto/)
  + [#### Get Involved](/en-US/contribute/)
  + [#### Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [#### Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-36

## Security Vulnerabilities fixed in Firefox ESR 115.2

Announced
August 29, 2023
Impact
high
Products
Firefox ESR
Fixed in

* Firefox ESR 115.2

#### [#CVE-2023-4573: Memory corruption in IPC CanvasTranslator](#CVE-2023-4573)

Reporter
sonakkbi
Impact
high
##### Description

When receiving rendering data over IPC `mStream` could have been destroyed when initialized, which could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846687](https://bugzilla.mozilla.org/show_bug.cgi?id=1846687)

#### [#CVE-2023-4574: Memory corruption in IPC ColorPickerShownCallback](#CVE-2023-4574)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the Color Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846688](https://bugzilla.mozilla.org/show_bug.cgi?id=1846688)

#### [#CVE-2023-4575: Memory corruption in IPC FilePickerShownCallback](#CVE-2023-4575)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the File Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846689](https://bugzilla.mozilla.org/show_bug.cgi?id=1846689)

#### [#CVE-2023-4576: Integer Overflow in RecordedSourceSurfaceCreation](#CVE-2023-4576)

Reporter
fffvr
Impact
high
##### Description

On Windows, an integer overflow could occur in `RecordedSourceSurfaceCreation` which resulted in a heap buffer overflow potentially leaking sensitive data that could have led to a sandbox escape.
*This bug only affects Firefox on Windows. Other operating systems are unaffected.*

##### References

* [Bug 1846694](https://bugzilla.mozilla.org/show_bug.cgi?id=1846694)

#### [#CVE-2023-4577: Memory corruption in JIT UpdateRegExpStatics](#CVE-2023-4577)

Reporter
Lukas Bernhard
Impact
high
##### Description

When `UpdateRegExpStatics` attempted to access `initialStringHeap` it could already have been garbage collected prior to entering the function, which could potentially have led to an exploitable crash.

##### References

* [Bug 1847397](https://bugzilla.mozilla.org/show_bug.cgi?id=1847397)

#### [#CVE-2023-4051: Full screen notification obscured by file open dialog](#CVE-2023-4051)

Reporter
Hafiizh
Impact
moderate
##### Description

A website could have obscured the full screen notification by using the file open dialog. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1821884](https://bugzilla.mozilla.org/show_bug.cgi?id=1821884)

#### [#CVE-2023-4578: Error reporting methods in SpiderMonkey could have triggered an Out of Memory Exception](#CVE-2023-4578)

Reporter
Irvan Kurniawan (@sourc7)
Impact
moderate
##### Description

When calling `JS::CheckRegExpSyntax` a Syntax Error could have been set which would end in calling `convertToRuntimeErrorAndClear`. A path in the function could attempt to allocate memory when none is available which would have caused a newly created Out of Memory exception to be mishandled as a Syntax Error.

##### References

* [Bug 1839007](https://bugzilla.mozilla.org/show_bug.cgi?id=1839007)

#### [#CVE-2023-4053: Full screen notification obscured by external program](#CVE-2023-4053)

Reporter
Umar Farooq
Impact
moderate
##### Description

A website could have obscured the full screen notification by using a URL with a scheme handled by an external program, such as a mailto URL. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1839079](https://bugzilla.mozilla.org/show_bug.cgi?id=1839079)

#### [#CVE-2023-4580: Push notifications saved to disk unencrypted](#CVE-2023-4580)

Reporter
Harveer Singh
Impact
moderate
##### Description

Push notifications stored on disk in private browsing mode were not being encrypted potentially allowing the leak of sensitive information.

##### References

* [Bug 1843046](https://bugzilla.mozilla.org/show_bug.cgi?id=1843046)

#### [#CVE-2023-4581: XLL file extensions were downloadable without warnings](#CVE-2023-4581)

Reporter
Umar Farooq (@Puf)
Impact
moderate
##### Description

Excel `.xll` add-in files did not have a blocklist entry in Firefox's executable blocklist which allowed them to be downloaded without any warning of their potential harm.

##### References

* [Bug 1843758](https://bugzilla.mozilla.org/show_bug.cgi?id=1843758)

#### [#CVE-2023-4582: Buffer Overflow in WebGL glGetProgramiv](#CVE-2023-4582)

Reporter
Dohyun Lee (@l33d0hyun) of SSD-Disclosure Labs & DNSLab, Korea Univ.
Impact
low
##### Description

Due to large allocation checks in Angle for glsl shaders being too lenient a buffer overflow could have occured when allocating too much private shader memory on mac OS.
*This bug only affects Firefox on macOS. Other operating systems are unaffected.*

##### References

* [Bug 1773874](https://bugzilla.mozilla.org/show_bug.cgi?id=1773874)

#### [#CVE-2023-4583: Browsing Context potentially not cleared when closing Private Window](#CVE-2023-4583)

Reporter
Thejaka Maldeniya
Impact
low
##### Description

When checking if the Browsing Context had been discarded in `HttpBaseChannel`, if the load group was not available then it was assumed to have already been discarded which was not always the case for private channels after the private session had ended.

##### References

* [Bug 1842030](https://bugzilla.mozilla.org/show_bug.cgi?id=1842030)

#### [#CVE-2023-4584: Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](#CVE-2023-4584)

Reporter
Randell Jesup, Andrew McCreight, the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 102.14, Firefox ESR 115.1, Thunderbird 102.14, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1843968%2C1845205%2C1846080%2C1846526%2C1847529)

#### [#CVE-2023-4585: Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](#CVE-2023-4585)

Reporter
Donal Meehan, Sebastian Hengst, and the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 115.1, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1751583%2C1833504%2C1841082%2C1847904%2C1848999)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_61f780b1_20250111_152957.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    #### Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [#### Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    #### Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    #### Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    #### Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    #### Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    #### MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    #### Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    #### Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [#### About Mozilla](/en-US/about/)
  + [#### The Mozilla Manifesto](/en-US/about/manifesto/)
  + [#### Get Involved](/en-US/contribute/)
  + [#### Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [#### Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-34

## Security Vulnerabilities fixed in Firefox 117

Announced
August 29, 2023
Impact
high
Products
Firefox
Fixed in

* Firefox 117

This advisory was updated October 24, 2023 to add CVE-2023-5732 which was included in the original release of Firefox 117, but did not appear in the advisory published at that time.

#### [#CVE-2023-4573: Memory corruption in IPC CanvasTranslator](#CVE-2023-4573)

Reporter
sonakkbi
Impact
high
##### Description

When receiving rendering data over IPC `mStream` could have been destroyed when initialized, which could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846687](https://bugzilla.mozilla.org/show_bug.cgi?id=1846687)

#### [#CVE-2023-4574: Memory corruption in IPC ColorPickerShownCallback](#CVE-2023-4574)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the Color Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846688](https://bugzilla.mozilla.org/show_bug.cgi?id=1846688)

#### [#CVE-2023-4575: Memory corruption in IPC FilePickerShownCallback](#CVE-2023-4575)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the File Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846689](https://bugzilla.mozilla.org/show_bug.cgi?id=1846689)

#### [#CVE-2023-4576: Integer Overflow in RecordedSourceSurfaceCreation](#CVE-2023-4576)

Reporter
fffvr
Impact
high
##### Description

On Windows, an integer overflow could occur in `RecordedSourceSurfaceCreation` which resulted in a heap buffer overflow potentially leaking sensitive data that could have led to a sandbox escape.
*This bug only affects Firefox on Windows. Other operating systems are unaffected.*

##### References

* [Bug 1846694](https://bugzilla.mozilla.org/show_bug.cgi?id=1846694)

#### [#CVE-2023-4577: Memory corruption in JIT UpdateRegExpStatics](#CVE-2023-4577)

Reporter
Lukas Bernhard
Impact
high
##### Description

When `UpdateRegExpStatics` attempted to access `initialStringHeap` it could already have been garbage collected prior to entering the function, which could potentially have led to an exploitable crash.

##### References

* [Bug 1847397](https://bugzilla.mozilla.org/show_bug.cgi?id=1847397)

#### [#CVE-2023-5732: Address bar spoofing via bidirectional characters](#CVE-2023-5732)

Reporter
Armin Ebert
Impact
moderate
##### Description

An attacker could have created a malicious link using bidirectional characters to spoof the location in the address bar when visited.

##### References

* [Bug 1690979](https://bugzilla.mozilla.org/show_bug.cgi?id=1690979)
* [Bug 1836962](https://bugzilla.mozilla.org/show_bug.cgi?id=1836962)

#### [#CVE-2023-4578: Error reporting methods in SpiderMonkey could have triggered an Out of Memory Exception](#CVE-2023-4578)

Reporter
Irvan Kurniawan (@sourc7)
Impact
moderate
##### Description

When calling `JS::CheckRegExpSyntax` a Syntax Error could have been set which would end in calling `convertToRuntimeErrorAndClear`. A path in the function could attempt to allocate memory when none is available which would have caused a newly created Out of Memory exception to be mishandled as a Syntax Error.

##### References

* [Bug 1839007](https://bugzilla.mozilla.org/show_bug.cgi?id=1839007)

#### [#CVE-2023-4579: Persisted search terms were formatted as URLs](#CVE-2023-4579)

Reporter
Malte Jürgens
Impact
moderate
##### Description

Search queries in the default search engine could appear to have been the currently navigated URL if the search query itself was a well formed URL. This could have led to a site spoofing another if it had been maliciously set as the default search engine.

##### References

* [Bug 1842766](https://bugzilla.mozilla.org/show_bug.cgi?id=1842766)

#### [#CVE-2023-4580: Push notifications saved to disk unencrypted](#CVE-2023-4580)

Reporter
Harveer Singh
Impact
moderate
##### Description

Push notifications stored on disk in private browsing mode were not being encrypted potentially allowing the leak of sensitive information.

##### References

* [Bug 1843046](https://bugzilla.mozilla.org/show_bug.cgi?id=1843046)

#### [#CVE-2023-4581: XLL file extensions were downloadable without warnings](#CVE-2023-4581)

Reporter
Umar Farooq (@Puf)
Impact
moderate
##### Description

Excel `.xll` add-in files did not have a blocklist entry in Firefox's executable blocklist which allowed them to be downloaded without any warning of their potential harm.

##### References

* [Bug 1843758](https://bugzilla.mozilla.org/show_bug.cgi?id=1843758)

#### [#CVE-2023-4582: Buffer Overflow in WebGL glGetProgramiv](#CVE-2023-4582)

Reporter
Dohyun Lee (@l33d0hyun) of SSD-Disclosure Labs & DNSLab, Korea Univ.
Impact
low
##### Description

Due to large allocation checks in Angle for glsl shaders being too lenient a buffer overflow could have occured when allocating too much private shader memory on mac OS.
*This bug only affects Firefox on macOS. Other operating systems are unaffected.*

##### References

* [Bug 1773874](https://bugzilla.mozilla.org/show_bug.cgi?id=1773874)

#### [#CVE-2023-4583: Browsing Context potentially not cleared when closing Private Window](#CVE-2023-4583)

Reporter
Thejaka Maldeniya
Impact
low
##### Description

When checking if the Browsing Context had been discarded in `HttpBaseChannel`, if the load group was not available then it was assumed to have already been discarded which was not always the case for private channels after the private session had ended.

##### References

* [Bug 1842030](https://bugzilla.mozilla.org/show_bug.cgi?id=1842030)

#### [#CVE-2023-4584: Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](#CVE-2023-4584)

Reporter
Randell Jesup, Andrew McCreight, the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 102.14, Firefox ESR 115.1, Thunderbird 102.14, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1843968%2C1845205%2C1846080%2C1846526%2C1847529)

#### [#CVE-2023-4585: Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](#CVE-2023-4585)

Reporter
Donal Meehan, Sebastian Hengst, and the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 115.1, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1751583%2C1841082%2C1847904%2C1848999)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_8ea4e939_20250111_152958.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    #### Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [#### Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    #### Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    #### Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    #### Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    #### Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    #### MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    #### Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    #### Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [#### About Mozilla](/en-US/about/)
  + [#### The Mozilla Manifesto](/en-US/about/manifesto/)
  + [#### Get Involved](/en-US/contribute/)
  + [#### Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [#### Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-38

## Security Vulnerabilities fixed in Thunderbird 115.2

Announced
August 29, 2023
Impact
high
Products
Thunderbird
Fixed in

* Thunderbird 115.2

*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

#### [#CVE-2023-4573: Memory corruption in IPC CanvasTranslator](#CVE-2023-4573)

Reporter
sonakkbi
Impact
high
##### Description

When receiving rendering data over IPC `mStream` could have been destroyed when initialized, which could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846687](https://bugzilla.mozilla.org/show_bug.cgi?id=1846687)

#### [#CVE-2023-4574: Memory corruption in IPC ColorPickerShownCallback](#CVE-2023-4574)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the Color Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846688](https://bugzilla.mozilla.org/show_bug.cgi?id=1846688)

#### [#CVE-2023-4575: Memory corruption in IPC FilePickerShownCallback](#CVE-2023-4575)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the File Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846689](https://bugzilla.mozilla.org/show_bug.cgi?id=1846689)

#### [#CVE-2023-4576: Integer Overflow in RecordedSourceSurfaceCreation](#CVE-2023-4576)

Reporter
fffvr
Impact
high
##### Description

On Windows, an integer overflow could occur in `RecordedSourceSurfaceCreation` which resulted in a heap buffer overflow potentially leaking sensitive data that could have led to a sandbox escape.
*This bug only affects Firefox on Windows. Other operating systems are unaffected.*

##### References

* [Bug 1846694](https://bugzilla.mozilla.org/show_bug.cgi?id=1846694)

#### [#CVE-2023-4577: Memory corruption in JIT UpdateRegExpStatics](#CVE-2023-4577)

Reporter
Lukas Bernhard
Impact
high
##### Description

When `UpdateRegExpStatics` attempted to access `initialStringHeap` it could already have been garbage collected prior to entering the function, which could potentially have led to an exploitable crash.

##### References

* [Bug 1847397](https://bugzilla.mozilla.org/show_bug.cgi?id=1847397)

#### [#CVE-2023-4051: Full screen notification obscured by file open dialog](#CVE-2023-4051)

Reporter
Hafiizh
Impact
moderate
##### Description

A website could have obscured the full screen notification by using the file open dialog. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1821884](https://bugzilla.mozilla.org/show_bug.cgi?id=1821884)

#### [#CVE-2023-4578: Error reporting methods in SpiderMonkey could have triggered an Out of Memory Exception](#CVE-2023-4578)

Reporter
Irvan Kurniawan (@sourc7)
Impact
moderate
##### Description

When calling `JS::CheckRegExpSyntax` a Syntax Error could have been set which would end in calling `convertToRuntimeErrorAndClear`. A path in the function could attempt to allocate memory when none is available which would have caused a newly created Out of Memory exception to be mishandled as a Syntax Error.

##### References

* [Bug 1839007](https://bugzilla.mozilla.org/show_bug.cgi?id=1839007)

#### [#CVE-2023-4053: Full screen notification obscured by external program](#CVE-2023-4053)

Reporter
Umar Farooq
Impact
moderate
##### Description

A website could have obscured the full screen notification by using a URL with a scheme handled by an external program, such as a mailto URL. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1839079](https://bugzilla.mozilla.org/show_bug.cgi?id=1839079)

#### [#CVE-2023-4580: Push notifications saved to disk unencrypted](#CVE-2023-4580)

Reporter
Harveer Singh
Impact
moderate
##### Description

Push notifications stored on disk in private browsing mode were not being encrypted potentially allowing the leak of sensitive information.

##### References

* [Bug 1843046](https://bugzilla.mozilla.org/show_bug.cgi?id=1843046)

#### [#CVE-2023-4581: XLL file extensions were downloadable without warnings](#CVE-2023-4581)

Reporter
Umar Farooq (@Puf)
Impact
moderate
##### Description

Excel `.xll` add-in files did not have a blocklist entry in Firefox's executable blocklist which allowed them to be downloaded without any warning of their potential harm.

##### References

* [Bug 1843758](https://bugzilla.mozilla.org/show_bug.cgi?id=1843758)

#### [#CVE-2023-4582: Buffer Overflow in WebGL glGetProgramiv](#CVE-2023-4582)

Reporter
Dohyun Lee (@l33d0hyun) of SSD-Disclosure Labs & DNSLab, Korea Univ.
Impact
low
##### Description

Due to large allocation checks in Angle for glsl shaders being too lenient a buffer overflow could have occured when allocating too much private shader memory on mac OS.
*This bug only affects Firefox on macOS. Other operating systems are unaffected.*

##### References

* [Bug 1773874](https://bugzilla.mozilla.org/show_bug.cgi?id=1773874)

#### [#CVE-2023-4583: Browsing Context potentially not cleared when closing Private Window](#CVE-2023-4583)

Reporter
Thejaka Maldeniya
Impact
low
##### Description

When checking if the Browsing Context had been discarded in `HttpBaseChannel`, if the load group was not available then it was assumed to have already been discarded which was not always the case for private channels after the private session had ended.

##### References

* [Bug 1842030](https://bugzilla.mozilla.org/show_bug.cgi?id=1842030)

#### [#CVE-2023-4584: Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](#CVE-2023-4584)

Reporter
Randell Jesup, Andrew McCreight, the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 102.14, Firefox ESR 115.1, Thunderbird 102.14, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1843968%2C1845205%2C1846080%2C1846526%2C1847529)

#### [#CVE-2023-4585: Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](#CVE-2023-4585)

Reporter
Donal Meehan, Sebastian Hengst, and the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 115.1, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1751583%2C1833504%2C1841082%2C1847904%2C1848999)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_2b1ab444_20250111_152956.html ===


![](/static/v20250108.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1842030)
* [XML](/show_bug.cgi?ctype=xml&id=1842030)

Closed
[Bug 1842030](/show_bug.cgi?id=1842030)
(CVE-2023-4583)

Opened 2 years ago
Closed 1 years ago

# After closing the last Private Window, context is not always reset/cleared...

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

After closing the last Private Window, context is not always reset/cleared...

## Categories

### (Firefox :: Private Browsing, defect, P2)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
▾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Private%20Browsing#Private%20Browsing)

Private Browsing
▾

Firefox :: Private Browsing
For bugs and feature requests in Firefox's Private Browsing implementation.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Private%20Browsing&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Private%20Browsing&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Private%20Browsing)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Firefox 115

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Windows 11

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P2

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S2

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

117 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr102 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix) |
| firefox-esr115 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fixed) |
| firefox116 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox116&o1=equals&v1=wontfix) |
| firefox117 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr102 |  | wontfix |
| firefox-esr115 | --- | fixed |
| firefox-esr128 | --- | --- |
| firefox116 |  | wontfix |
| firefox117 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: thejaka.dev, Assigned: timhuang, NeedInfo)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/9c043b04a6702f66940ab8ea398e08a3?d=mm&size=40)  [timhuang](/user_profile?user_id=547199)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/c1ef0d12b0c564c59d46bfca0e0ebfa0?d=mm&size=40)  [thejaka.dev](/user_profile?user_id=391229)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/9c043b04a6702f66940ab8ea398e08a3?d=mm&size=40)  [timhuang](/user_profile?user_id=547199)

NeedInfo From:

 [thejaka.dev](/user_profile?user_id=391229)

[1 year ago](#c15)

[NeedInfo:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#needinfo)

Update

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

10 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: privacy, reporter-external, sec-low, Whiteboard: [adv-main117+] [adv-esr115.2+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2023-4583

[Keywords:](/describekeywords.cgi)

[privacy](/buglist.cgi?keywords=privacy&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main117+] [adv-esr115.2+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [RyanVM](/user_profile?user_id=75935) | [in-testsuite](#c13 "1 year ago") | + |
| --- | --- | --- |
| [RyanVM](/user_profile?user_id=75935) | in-testsuite | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (5 files, 1 obsolete file)

| [Application Basics ------------------ Name: Firefox Version: 115.0.2 Build ID: 20230710165010 Distribution ID: Update Channel: release User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0 OS: Windows\_NT 10.0 22621](/attachment.cgi?id=9343705)  [2 years ago](#c4)  [Thejaka Maldeniya](/user_profile?user_id=391229)   31.07 KB, text/plain |  | [Details](/attachment.cgi?id=9343705&action=edit) |
| --- | --- | --- |
| [Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!](/attachment.cgi?id=9344673)  [1 years ago](#c6)  [Tim Huang[:timhuang]](/user_profile?user_id=547199)   48 bytes, text/x-phabricator-request | dmeehan : [approval-mozilla-esr115+](#c17 "1 year ago") | [Details](/attachment.cgi?id=9344673&action=edit) | [Review](/attachment.cgi?id=9344673) |
| [Bug 1842030 - Part 2: Don't set cookies for private channels if there is no active private browsing session. r?#necko](/attachment.cgi?id=9344674)  [1 years ago](#c7)  [Tim Huang[:timhuang]](/user_profile?user_id=547199)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9344674&action=edit) | [Review](/attachment.cgi?id=9344674) |
| [Bug 1842030 - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking](/attachment.cgi?id=9344675)  [1 years ago](#c8)  [Tim Huang[:timhuang]](/user_profile?user_id=547199)   48 bytes, text/x-phabricator-request | dmeehan : [approval-mozilla-esr115+](#c18 "1 year ago") | [Details](/attachment.cgi?id=9344675&action=edit) | [Review](/attachment.cgi?id=9344675) |
| [Bug 1842030 - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko](/attachment.cgi?id=9345569)  [1 years ago](#c9)  [Tim Huang[:timhuang]](/user_profile?user_id=547199)   48 bytes, text/x-phabricator-request | dmeehan : [approval-mozilla-esr115+](#c19 "1 year ago") | [Details](/attachment.cgi?id=9345569&action=edit) | [Review](/attachment.cgi?id=9345569) |
| [advisory.txt](/attachment.cgi?id=9350226)  [1 year ago](#c16)  [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341)   354 bytes, text/plain |  | [Details](/attachment.cgi?id=9350226&action=edit) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Thejaka Maldeniya](/user_profile?user_id=391229)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1842030#c0)• 2 years ago |
|  | |

Regression of [Bug 1585306](https://bugzilla.mozilla.org/show_bug.cgi?id=1585306)

I have previously reported the regression a long time ago, but it hasn't been addressed yet.

See previous STR first.

I have now found new STR:

1. Open a new Firefox instance. Alternatively, start by closing all private windows and tabs.
2. Open two successive (empty) tabs, loading [Google](https://www.google.com) in each.
3. Close the entire private window that contains the two tabs.
4. Immediately after closing in step 3, open a new private window and navigate to [Gmail](https://mail.google.com).

Expected Result: The Gmail login page (see original STR screenshot) should be loaded.

Actual Result: The Gmail home page (see original STR screenshot) is loaded.

The original screenshots may be different from the current screens, but should suffice.

As a security and privacy issue, I wonder why this hasn't been addressed sooner.

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1842030#c1)• 2 years ago |
|  | |

Thanks for reporting,

I have some questions regarding the STR.

In step 2, should the two tabs be opened inside a private window? Do we need to sign in for these two tabs?

In step 3, how fast do we need to open a new private window? I am wondering if this is a time racing issue.

Last, do you test these with permanent private browsing enabled?

Thanks,

Flags: needinfo?(thejaka.dev)

|  | [Thejaka Maldeniya](/user_profile?user_id=391229)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1842030#c2)• 2 years ago |
|  | |

Sorry, I hadn’t stated it clearly.

Yes, the two tabs have to be opened as private.

The first can be opened by using “New private window” from hamburger menu.

The second tab can be opened using the + for new tab.

Alternatively, I guess you could use bookmarks.

Time seems to be irrelevant. I have waited for more than a minute or so.

No, I haven’t enabled permanent private browsing.

Updated STR:

1. Open a new Firefox instance. Alternatively, start by closing all private windows and tabs.
2. Open a private window and open a second private tab as well, loading [Google](https://www.google.com) in each tab.
3. Close the entire private window that contains the two tabs.
4. After closing in step 3, open a new private window and navigate to [Gmail](https://mail.google.com).
Flags: needinfo?(thejaka.dev)

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1842030#c3)• 2 years ago |
|  | |

We try to reproduce this issue with the updated steps, but we couldn't successfully reproduce it. Would you be able to provide your troubleshooting information on your `about:support` page to help us analyze the issue? Thanks.

Flags: needinfo?(thejaka.dev)

|  | [Thejaka Maldeniya](/user_profile?user_id=391229)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1842030#c4)• 2 years ago |
|  | |

Attached file
[Application Basics ------------------ Name: Firefox Version: 115.0.2 Build ID: 20230710165010 Distribution ID: Update Channel: release User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0 OS: Windows\_NT 10.0 22621](attachment.cgi?id=9343705)
— [Details](attachment.cgi?id=9343705&action=edit)

Note:

|  | [Thejaka Maldeniya](/user_profile?user_id=391229)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a595057_391229)• 2 years ago |

Flags: needinfo?(thejaka.dev)

|  | [Thejaka Maldeniya](/user_profile?user_id=391229)  Reporter |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1842030#c5)• 2 years ago |
|  | |

Note: When closing in step 3, close the entire window with the X on the window. not the tabs individually.

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a1117619_547199)• 1 years ago |

Assignee: nobody → tihuangStatus: UNCONFIRMED → NEWEver confirmed: true

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1842030#c6)• 1 years ago |
|  | |

Attached file
[Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!](attachment.cgi?id=9344673)
— [Details](attachment.cgi?id=9344673&action=edit)

The CanonicalBrowsingContext::IsPrivateBrowsingActive() function allows

us to know if private browsing is active. We need it to prevent setting

cookies if there is no active private browsing session.

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1842030#c7)• 1 years ago |
|  | |

Attached file
[Bug 1842030 - Part 2: Don't set cookies for private channels if there is no active private browsing session. r?#necko](attachment.cgi?id=9344674) (obsolete)
— [Details](attachment.cgi?id=9344674&action=edit)

Depends on D184010

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1842030#c8)• 1 years ago |
|  | |

Attached file
[Bug 1842030 - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking](attachment.cgi?id=9344675)
— [Details](attachment.cgi?id=9344675&action=edit)

Depends on D184011

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a1205753_1689)• 1 years ago |

Keywords: [privacy](/buglist.cgi?keywords=privacy&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a1527944_600971)• 1 years ago |

[Attachment #9344673](/attachment.cgi?id=9344673&action=edit "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!") -
Attachment is obsolete: true

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a1527955_600971)• 1 years ago |

[Attachment #9344674](/attachment.cgi?id=9344674&action=edit "Bug 1842030 - Part 2: Don't set cookies for private channels if there is no active private browsing session. r?#necko") -
Attachment is obsolete: true

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a1544598_600971)• 1 years ago |

[Attachment #9344673](/attachment.cgi?id=9344673&action=edit "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!") -
Attachment is obsolete: false

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1842030#c9)• 1 years ago |
|  | |

Attached file
[Bug 1842030 - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko](attachment.cgi?id=9345569)
— [Details](attachment.cgi?id=9345569&action=edit)

The HttpBaseChannel::IsBrowsingContextDiscarded() did always return

false if the loadGroup is not avaiable. But, this may not be correct for

the private channels if the private session has been ended. To fix this,

we make the function to check the global private browsing state

if the loadGroup is not available for private channels.

Depends on D184010

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a1640195_547199)• 1 years ago |

Severity: -- → S2Status: NEW → ASSIGNEDPriority: -- → P2

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1842030#c10)• 1 years ago |
|  | |

Pushed by tihuang@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/b26aeacc05b3>
Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r=nika
<https://hg.mozilla.org/integration/autoland/rev/bb290a3bdead>
Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r=necko-reviewers,jesup
<https://hg.mozilla.org/integration/autoland/rev/62a2a4cf426a>
Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r=anti-tracking-reviewers,pbz

|  | [Atila Butkovits](/user_profile?user_id=661920) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1842030#c11)• 1 years ago |
| bugherder | |

<https://hg.mozilla.org/mozilla-central/rev/b26aeacc05b3>

<https://hg.mozilla.org/mozilla-central/rev/bb290a3bdead>

<https://hg.mozilla.org/mozilla-central/rev/62a2a4cf426a>

Status: ASSIGNED → RESOLVEDClosed: 1 years ago
[status-firefox117](/buglist.cgi?f1=cf_status_firefox117&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → 117 Branch

|  | [Ina Popescu, Desktop QA](/user_profile?user_id=704256) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1842030#c12)• 1 years ago |
|  | |

Unfortunately I was not able either to reproduce this issue by following the STR mentioned in [Comment 2](/show_bug.cgi?id=1842030#c2 "RESOLVED FIXED - After closing the last Private Window, context is not always reset/cleared...").

Thejaka, could you please check if the issue no longer persists in the latest Nightly 117.0a1 version? Thanks

Flags: needinfo?(thejaka.dev)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a2156796_578488)• 1 years ago |

[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=%3F)
[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=%3F)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a2192724_75935)• 1 years ago |

[status-firefox116](/buglist.cgi?f1=cf_status_firefox116&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox116&o1=equals&v1=wontfix)
[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=%3F) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix)
[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=%3F) → [fix-optional](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fix-optional)Flags: needinfo?(thejaka.dev)

|  | [Anca Soncutean, Desktop QA](/user_profile?user_id=606068) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a2234000_606068)• 1 years ago |

Flags: qe-verify+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1842030#c13)• 1 year ago |
|  | |

It sounds like we might want to uplift this to ESR115? Please nominate if yes - it grafts cleanly.

Flags: needinfo?(tihuang)Flags: in-testsuite+

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1842030#c14)• 1 year ago |
|  | |

Comment on [attachment 9344673](/attachment.cgi?id=9344673 "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!") [[details]](/attachment.cgi?id=9344673&action=edit "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!")

[Bug 1842030](/show_bug.cgi?id=1842030 "RESOLVED FIXED - After closing the last Private Window, context is not always reset/cleared...") - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**: The bug affects the users who are using private windows in ESR.
* **User impact if declined**: Cookies could leak across different private browsing sessions.
* **Fix Landed on Version**: 117
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: The fix is small and doesn't change user behaviors.
Flags: needinfo?(tihuang)
[Attachment #9344673](/attachment.cgi?id=9344673&action=edit "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!") -
Flags: approval-mozilla-esr115?

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a4051834_547199)• 1 year ago |

[Attachment #9344675](/attachment.cgi?id=9344675&action=edit "Bug 1842030 - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking") -
Flags: approval-mozilla-esr115?

|  | [Tim Huang[:timhuang]](/user_profile?user_id=547199)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a4051835_547199)• 1 year ago |

[Attachment #9345569](/attachment.cgi?id=9345569&action=edit "Bug 1842030 - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko") -
Flags: approval-mozilla-esr115?

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a4118331_553429)• 1 year ago |

QA Whiteboard: [qa-triaged]

|  | [Monica Chiorean](/user_profile?user_id=692211) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1842030#c15)• 1 year ago |
|  | |

I am not able to reproduce the issue on Win11 using FF build 115.0.2 and the steps provided in [comment#2](/show_bug.cgi?id=1842030#c2 "RESOLVED FIXED - After closing the last Private Window, context is not always reset/cleared..."), so I can not confirm the fix.

Reporter, can you please verify the fix on build 115.2.0esr (<https://archive.mozilla.org/pub/firefox/candidates/115.2.0esr-candidates/build1/win64/>). Thank you.

QA Whiteboard: [qa-triaged]Flags: needinfo?(thejaka.dev)

|  | [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1842030#c16)• 1 year ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9350226)
— [Details](attachment.cgi?id=9350226&action=edit)

|  | [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a4286764_626341)• 1 year ago |

Whiteboard: [adv-main117+] [adv-esr115.2+]

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1842030#c17)• 1 year ago |
|  | |

Comment on [attachment 9344673](/attachment.cgi?id=9344673 "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!") [[details]](/attachment.cgi?id=9344673&action=edit "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!")

[Bug 1842030](/show_bug.cgi?id=1842030 "RESOLVED FIXED - After closing the last Private Window, context is not always reset/cleared...") - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!

Approved for 115.3esr.

[Attachment #9344673](/attachment.cgi?id=9344673&action=edit "Bug 1842030 - Part 1: Adding CanonicalBrowsingContext::IsPrivateBrowsingActive(). r?nika!") -
Flags: approval-mozilla-esr115? → approval-mozilla-esr115+

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1842030#c18)• 1 year ago |
|  | |

Comment on [attachment 9344675](/attachment.cgi?id=9344675 "Bug 1842030 - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking") [[details]](/attachment.cgi?id=9344675&action=edit "Bug 1842030 - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking")

[Bug 1842030](/show_bug.cgi?id=1842030 "RESOLVED FIXED - After closing the last Private Window, context is not always reset/cleared...") - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking

Approved for 115.3esr.

[Attachment #9344675](/attachment.cgi?id=9344675&action=edit "Bug 1842030 - Part 3: Add a test to ensure a beacon response for a private session won't set cookie after private session ends. r?#anti-tracking") -
Flags: approval-mozilla-esr115? → approval-mozilla-esr115+

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1842030#c19)• 1 year ago |
|  | |

Comment on [attachment 9345569](/attachment.cgi?id=9345569 "Bug 1842030 - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko") [[details]](/attachment.cgi?id=9345569&action=edit "Bug 1842030 - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko")

[Bug 1842030](/show_bug.cgi?id=1842030 "RESOLVED FIXED - After closing the last Private Window, context is not always reset/cleared...") - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko

Approved for 115.3esr.

[Attachment #9345569](/attachment.cgi?id=9345569&action=edit "Bug 1842030 - Part 2: Check the global private browsing state for HttpBaseChannel::IsBrowsingContextDiscarded() if the loadGroup is not avaiable. r?#necko") -
Flags: approval-mozilla-esr115? → approval-mozilla-esr115+

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1842030#c20)• 1 year ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr115/rev/155e00db2f45>
<https://hg.mozilla.org/releases/mozilla-esr115/rev/a5e801062c13>
<https://hg.mozilla.org/releases/mozilla-esr115/rev/9d8a85f62f6d>

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a4831091_695136)• 1 year ago |

[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fix-optional) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fixed)

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a11806554_553429)• 1 year ago |

Flags: qe-verify+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1842030#a15701973_1689)• 1 year ago |

Alias: CVE-2023-4583

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1842030#c21)• 7 months ago |
|  | |

Sorry for the burst of bugspam: filter on tinkling-glitter-filtrate

Adding `reporter-external` keyword to security bugs found by non-employees for accounting reasons

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1842030&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Thejaka Maldeniya](/user_profile?user_id=391229)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review


