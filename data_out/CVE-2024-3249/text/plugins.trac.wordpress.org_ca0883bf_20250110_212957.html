

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3100431%2Fzita-site-library)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2851020/zita-site-library "Changeset 2851020 for zita-site-library")
* [Next Change](/changeset/3103907/zita-site-library "Changeset 3103907 for zita-site-library") →

---

# Changeset [3100431](/changeset/3100431 "Show full changeset") for [zita-site-library](/browser/zita-site-library?rev=3100431 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/10/2024 10:09:52 AM
([7 months](/timeline?from=2024-06-10T10%3A09%3A52Z&precision=second "See timeline at 06/10/2024 10:09:52 AM") ago)

Author:
wpzita
Message:

version 1.6.2 updated

Location:
[zita-site-library/trunk](/browser/zita-site-library/trunk?rev=3100431)
Files:

5 edited

* [assets/js/admin-load.js](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431 "Show entry in browser")
  (modified)
  ([6 diffs](#file0 "Show differences"))
* [inc/admin-ajax.php](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431 "Show entry in browser")
  (modified)
  ([6 diffs](#file1 "Show differences"))
* [inc/admin-load-page.php](/browser/zita-site-library/trunk/inc/admin-load-page.php?rev=3100431 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [readme.txt](/browser/zita-site-library/trunk/readme.txt?rev=3100431 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [zita-site-library.php](/browser/zita-site-library/trunk/zita-site-library.php?rev=3100431 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [zita-site-library/trunk/assets/js/admin-load.js](/changeset/3100431/zita-site-library/trunk/assets/js/admin-load.js "Show the changeset 3100431 restricted to zita-site-library/trunk/assets/js/admin-load.js")

  | [r2360079](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=2360079#L867 "Show revision 2360079 of this file in browser") | [r3100431](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431#L867 "Show revision 3100431 of this file in browser") |  |
  | --- | --- | --- |
  | 867 | 867 | 'action'  : 'zita-import-demo-data', |
  | 868 | 868 | 'api\_url' : apiURL, |
  |  | 869 | 'zita\_nonce': zitaAdmin.zita\_nonce |
  | 869 | 870 | }, |
  | 870 | 871 | }) |
  | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=2360079#L1021) | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431#L1022) |  |
  | 1021 | 1022 | data : { |
  | 1022 | 1023 | action : 'zita-site-library-import-close', |
  |  | 1024 | zita\_nonce: zitaAdmin.zita\_nonce |
  | 1023 | 1025 | }, |
  | 1024 | 1026 | beforeSend: function() { |
  | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=2360079#L1058) | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431#L1060) |  |
  | 1058 | 1060 | action          : 'zita-site-library-import-customizer', |
  | 1059 | 1061 | customizer\_data : ZitaTemplateAdmin.customizer\_data, |
  |  | 1062 | zita\_nonce: zitaAdmin.zita\_nonce |
  |  | 1063 |  |
  | 1060 | 1064 | }, |
  | 1061 | 1065 | beforeSend: function() { |
  | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=2360079#L1088) | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431#L1092) |  |
  | 1088 | 1092 | 'action'  : 'zita-import-xml', |
  | 1089 | 1093 | 'xml\_url' : ZitaTemplateAdmin.xml\_url, |
  |  | 1094 | 'zita\_nonce': zitaAdmin.zita\_nonce |
  | 1090 | 1095 | }, |
  | 1091 | 1096 | beforeSend: function() { |
  | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=2360079#L1159) | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431#L1164) |  |
  | 1159 | 1164 | action       : 'zita-site-library-import-options', |
  | 1160 | 1165 | options\_data : ZitaTemplateAdmin.options\_data, |
  |  | 1166 | zita\_nonce: zitaAdmin.zita\_nonce |
  | 1161 | 1167 | }, |
  | 1162 | 1168 | beforeSend: function() { |
  | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=2360079#L1194) | […](/browser/zita-site-library/trunk/assets/js/admin-load.js?rev=3100431#L1200) |  |
  | 1194 | 1200 | action       : 'zita-site-library-import-widgets', |
  | 1195 | 1201 | widgets\_data : ZitaTemplateAdmin.widgets\_data, |
  |  | 1202 | zita\_nonce: zitaAdmin.zita\_nonce |
  | 1196 | 1203 | }, |
  | 1197 | 1204 | beforeSend: function() { |
* ## [zita-site-library/trunk/inc/admin-ajax.php](/changeset/3100431/zita-site-library/trunk/inc/admin-ajax.php "Show the changeset 3100431 restricted to zita-site-library/trunk/inc/admin-ajax.php")

  | [r2514596](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=2514596#L205 "Show revision 2514596 of this file in browser") | [r3100431](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431#L205 "Show revision 3100431 of this file in browser") |  |
  | --- | --- | --- |
  | 205 | 205 | function import\_demo\_data() { |
  | 206 | 206 |  |
  |  | 207 | if ( ! isset( $\_POST['zita\_nonce'] ) || ! wp\_verify\_nonce( $\_POST['zita\_nonce'], 'zita\_site\_nonce' ) ) { |
  |  | 208 | wp\_send\_json\_error( \_\_( 'wp nonce not verify', 'zita-site-library' ) ); |
  |  | 209 | wp\_die(); |
  |  | 210 | } |
  |  | 211 |  |
  |  | 212 |  |
  | 207 | 213 | if ( ! current\_user\_can( 'customize' ) ) { |
  | 208 | 214 | wp\_send\_json\_error( \_\_( 'You have not "customize" access to import the Zita site library.', 'zita-site-library' ) ); |
  | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=2514596#L234) | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431#L240) |  |
  | 234 | 240 |  |
  | 235 | 241 | function import\_xml\_data($wxr\_url) { |
  |  | 242 |  |
  |  | 243 | if ( ! isset( $\_POST['zita\_nonce'] ) || ! wp\_verify\_nonce( $\_POST['zita\_nonce'], 'zita\_site\_nonce' ) ) { |
  |  | 244 | wp\_send\_json\_error( \_\_( 'wp nonce not verify', 'zita-site-library' ) ); |
  |  | 245 | wp\_die(); |
  |  | 246 | } |
  |  | 247 |  |
  |  | 248 |  |
  |  | 249 | if ( ! current\_user\_can( 'customize' ) ) { |
  |  | 250 | wp\_send\_json\_error( \_\_( 'You have not "customize" access to import the Zita site library.', 'zita-site-library' ) ); |
  |  | 251 | } |
  |  | 252 |  |
  | 236 | 253 |  |
  | 237 | 254 | $xml\_url = ( isset( $\_REQUEST['xml\_url'] ) ) ? urldecode( $\_REQUEST['xml\_url'] ) : ''; |
  | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=2514596#L265) | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431#L282) |  |
  | 265 | 282 | function import\_customizer\_settings() { |
  | 266 | 283 |  |
  |  | 284 |  |
  |  | 285 | if ( ! isset( $\_POST['zita\_nonce'] ) || ! wp\_verify\_nonce( $\_POST['zita\_nonce'], 'zita\_site\_nonce' ) ) { |
  |  | 286 | wp\_send\_json\_error( \_\_( 'wp nonce not verify', 'zita-site-library' ) ); |
  |  | 287 | wp\_die(); |
  |  | 288 | } |
  |  | 289 |  |
  |  | 290 | if ( ! current\_user\_can( 'customize' ) ) { |
  |  | 291 | wp\_send\_json\_error( \_\_( 'You have not "customize" access to import the Zita site library.', 'zita-site-library' ) ); |
  |  | 292 | } |
  |  | 293 |  |
  |  | 294 |  |
  |  | 295 |  |
  | 267 | 296 | $customizer\_data = ( isset( $\_POST['customizer\_data'] ) ) ? $this->recursive\_sanitize\_text\_field((array) json\_decode( stripcslashes( $\_POST['customizer\_data'] ), 1 )) : ''; |
  | 268 | 297 |  |
  | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=2514596#L279) | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431#L308) |  |
  | 279 | 308 |  |
  | 280 | 309 | function import\_option\_data(){ |
  |  | 310 | if ( ! isset( $\_POST['zita\_nonce'] ) || ! wp\_verify\_nonce( $\_POST['zita\_nonce'], 'zita\_site\_nonce' ) ) { |
  |  | 311 | wp\_send\_json\_error( \_\_( 'wp nonce not verify', 'zita-site-library' ) ); |
  |  | 312 | wp\_die(); |
  |  | 313 | } |
  |  | 314 |  |
  |  | 315 | if ( ! current\_user\_can( 'customize' ) ) { |
  |  | 316 | wp\_send\_json\_error( \_\_( 'You have not "customize" access to import the Zita site library.', 'zita-site-library' ) ); |
  |  | 317 | } |
  |  | 318 |  |
  |  | 319 |  |
  | 281 | 320 | $options\_data = ( isset( $\_POST['options\_data'] ) ) ? $this->recursive\_sanitize\_text\_field((array) json\_decode( stripcslashes( $\_POST['options\_data'] ), 1 )) : ''; |
  | 282 | 321 | if ( isset( $options\_data ) ) { |
  | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=2514596#L299) | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431#L338) |  |
  | 299 | 338 | function import\_widgets() { |
  | 300 | 339 |  |
  |  | 340 |  |
  |  | 341 | if ( ! isset( $\_POST['zita\_nonce'] ) || ! wp\_verify\_nonce( $\_POST['zita\_nonce'], 'zita\_site\_nonce' ) ) { |
  |  | 342 | wp\_send\_json\_error( \_\_( 'wp nonce not verify', 'zita-site-library' ) ); |
  |  | 343 | wp\_die(); |
  |  | 344 | } |
  |  | 345 |  |
  |  | 346 | if ( ! current\_user\_can( 'customize' ) ) { |
  |  | 347 | wp\_send\_json\_error( \_\_( 'You have not "customize" access to import the Zita site library.', 'zita-site-library' ) ); |
  |  | 348 | } |
  |  | 349 |  |
  |  | 350 |  |
  |  | 351 |  |
  | 301 | 352 | $widgets\_data = ( isset( $\_POST['widgets\_data'] ) ) ? $this->recursive\_sanitize\_text\_field((object) json\_decode( stripcslashes( $\_POST['widgets\_data'] ) )) : ''; |
  | 302 | 353 |  |
  | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=2514596#L317) | […](/browser/zita-site-library/trunk/inc/admin-ajax.php?rev=3100431#L368) |  |
  | 317 | 368 | \*/ |
  | 318 | 369 | function import\_end() { |
  |  | 370 |  |
  |  | 371 |  |
  |  | 372 | if ( ! isset( $\_POST['zita\_nonce'] ) || ! wp\_verify\_nonce( $\_POST['zita\_nonce'], 'zita\_site\_nonce' ) ) { |
  |  | 373 | wp\_send\_json\_error( \_\_( 'wp nonce not verify', 'zita-site-library' ) ); |
  |  | 374 | wp\_die(); |
  |  | 375 | } |
  |  | 376 |  |
  |  | 377 | if ( ! current\_user\_can( 'customize' ) ) { |
  |  | 378 | wp\_send\_json\_error( \_\_( 'You have not "customize" access to import the Zita site library.', 'zita-site-library' ) ); |
  |  | 379 | } |
  |  | 380 |  |
  |  | 381 |  |
  | 319 | 382 | do\_action( 'zita\_site\_library\_import\_complete' ); |
  | 320 | 383 | } |
* ## [zita-site-library/trunk/inc/admin-load-page.php](/changeset/3100431/zita-site-library/trunk/inc/admin-load-page.php "Show the changeset 3100431 restricted to zita-site-library/trunk/inc/admin-load-page.php")

  | [r2851020](/browser/zita-site-library/trunk/inc/admin-load-page.php?rev=2851020#L126 "Show revision 2851020 of this file in browser") | [r3100431](/browser/zita-site-library/trunk/inc/admin-load-page.php?rev=3100431#L126 "Show revision 3100431 of this file in browser") |  |
  | --- | --- | --- |
  | 126 | 126 | 'debug'           => ( ( defined( 'WP\_DEBUG' ) && WP\_DEBUG ) || isset( $\_GET['debug'] ) ) ? true : false, |
  | 127 | 127 | 'ajax\_url'         => esc\_url( admin\_url( 'admin-ajax.php' ) ), |
  |  | 128 | 'zita\_nonce'        => wp\_create\_nonce( 'zita\_site\_nonce' ), |
  | 128 | 129 | 'siteURL'         => site\_url(), |
  | 129 | 130 | 'getProText'      => \_\_( 'Purchase', 'zita-site-library' ), |
  | […](/browser/zita-site-library/trunk/inc/admin-load-page.php?rev=2851020#L155) | […](/browser/zita-site-library/trunk/inc/admin-load-page.php?rev=3100431#L156) |  |
  | 155 | 156 | 'importingWidgets'        => \_\_( 'Importing Widgets..', 'zita-site-library' ), |
  | 156 | 157 | 'importingOptions'        => \_\_( 'Importing Options Data..', 'zita-site-library' ), |
  | 157 |  |  |
  | 158 | 158 | 'gettingData'             => \_\_( 'Getting Site Information..', 'zita-site-library' ), |
  | 159 | 159 | 'serverConfiguration'     => esc\_url( 'https://wpzita.com/docs/?p=1314&utm\_source=demo-import-panel&utm\_campaign=import-error&utm\_medium=wp-dashboard' ), |
* ## [zita-site-library/trunk/readme.txt](/changeset/3100431/zita-site-library/trunk/readme.txt "Show the changeset 3100431 restricted to zita-site-library/trunk/readme.txt")

  | [r2851020](/browser/zita-site-library/trunk/readme.txt?rev=2851020#L4 "Show revision 2851020 of this file in browser") | [r3100431](/browser/zita-site-library/trunk/readme.txt?rev=3100431#L4 "Show revision 3100431 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: demo, theme demos, one click import |
  | 5 | 5 | Requires at least: 5.5 |
  | 6 |  | Tested up to: 6.~~1~~ |
  | 7 |  | Stable tag: 1.6.~~1~~ |
  |  | 6 | Tested up to: 6.5 |
  |  | 7 | Stable tag: 1.6.2 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/zita-site-library/trunk/readme.txt?rev=2851020#L29) | […](/browser/zita-site-library/trunk/readme.txt?rev=3100431#L29) |  |
  | 29 | 29 |  |
  | 30 | 30 | == Changelog == |
  |  | 31 |  |
  |  | 32 | = Version 1.6.2 10/06/2024 = |
  |  | 33 | \* Security issue fixed. |
  |  | 34 |  |
  | 31 | 35 | = Version 1.6.1 19/01/2023 = |
  | 32 | 36 | \* buy link change |
* ## [zita-site-library/trunk/zita-site-library.php](/changeset/3100431/zita-site-library/trunk/zita-site-library.php "Show the changeset 3100431 restricted to zita-site-library/trunk/zita-site-library.php")

  | [r2851020](/browser/zita-site-library/trunk/zita-site-library.php?rev=2851020#L4 "Show revision 2851020 of this file in browser") | [r3100431](/browser/zita-site-library/trunk/zita-site-library.php?rev=3100431#L4 "Show revision 3100431 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://wpzita.com/zita-site-library |
  | 5 | 5 | \* Description: Zita site library is a addon plugin for Zita WordPress theme. This plugin contain lot of pre made sites for nearly all niches (like : Corporate, E-commerce, Small businesses ). You can import these sites with a single click. |
  | 6 |  | \* Version: 1.6.~~1~~ |
  |  | 6 | \* Version: 1.6.2 |
  | 7 | 7 | \* Author: WPZita |
  | 8 | 8 | \* Author URI: https://wpzita.com |
  | […](/browser/zita-site-library/trunk/zita-site-library.php?rev=2851020#L15) | […](/browser/zita-site-library/trunk/zita-site-library.php?rev=3100431#L15) |  |
  | 15 | 15 | } |
  | 16 | 16 | if ( ! defined( 'ZITA\_SITE\_LIBRARY\_VER' ) ) { |
  | 17 |  | define( 'ZITA\_SITE\_LIBRARY\_VER', '1.6.~~1~~' ); |
  |  | 17 | define( 'ZITA\_SITE\_LIBRARY\_VER', '1.6.2' ); |
  | 18 | 18 | } |
  | 19 | 19 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3100431)
* [Zip Archive](?format=zip&new=3100431)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

