=== Content from github.com_a7881355_20250110_105846.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapollographql%2Frouter%2Fsecurity%2Fadvisories%2FGHSA-r344-xw3p-2frj)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapollographql%2Frouter%2Fsecurity%2Fadvisories%2FGHSA-r344-xw3p-2frj)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=apollographql%2Frouter)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apollographql](/apollographql)
/
**[router](/apollographql/router)**
Public

* [Notifications](/login?return_to=%2Fapollographql%2Frouter) You must be signed in to change notification settings
* [Fork
  273](/login?return_to=%2Fapollographql%2Frouter)
* [Star
   829](/login?return_to=%2Fapollographql%2Frouter)

* [Code](/apollographql/router)
* [Issues
  428](/apollographql/router/issues)
* [Pull requests
  80](/apollographql/router/pulls)
* [Discussions](/apollographql/router/discussions)
* [Actions](/apollographql/router/actions)
* [Projects
  0](/apollographql/router/projects)
* [Security](/apollographql/router/security)
* [Insights](/apollographql/router/pulse)

Additional navigation options

* [Code](/apollographql/router)
* [Issues](/apollographql/router/issues)
* [Pull requests](/apollographql/router/pulls)
* [Discussions](/apollographql/router/discussions)
* [Actions](/apollographql/router/actions)
* [Projects](/apollographql/router/projects)
* [Security](/apollographql/router/security)
* [Insights](/apollographql/router/pulse)

# Improper Check or Handling of Exceptional Conditions in apollo-router

High

[abernix](/abernix)
published
GHSA-r344-xw3p-2frj
Oct 18, 2023

## Package

cargo

apollo-router
([Rust](/advisories?query=ecosystem%3Arust))

## Affected versions

>= 1.31.0 <=1.32.0

## Patched versions

1.33.0

apollographql/helm-charts/router
(GitHub Packages Container Registry)

>= 1.31.0 <=1.32.0

1.33.0

apollographql/router
(GitHub Packages Container Registry)

>= 1.31.0 <=1.32.0

1.33.0

apollographql/router
(GitHub Releases)

>= 1.31.0 <=1.32.0

1.33.0

## Description

### Impact

The Apollo Router is a configurable, high-performance graph router written in Rust to run a federated supergraph that uses Apollo Federation. Affected versions are subject to a Denial-of-Service (DoS) type vulnerability which causes the Router to panic and terminate when a multi-part response is sent. When users send queries to the router that uses the `@defer` or Subscriptions, the Router will panic.

To be vulnerable, users of Router must have a coprocessor with `coprocessor.supergraph.response` configured in their `router.yaml` and also to support either `@defer` or Subscriptions.

### Patches

Router version 1.33.0 has a fix for this vulnerability. [#4014](https://github.com/apollographql/router/pull/4014) fixes the issue.

### Workarounds

For affected versions, avoid using the coprocessor supergraph response:

```
# do not use this stage in your coprocessor configuration
coprocessor:
  supergraph:
    response:
```

Or you can disable defer and subscriptions support:

```
# disable defer and subscriptions:
supergraph:
  defer_support: false # enabled by default
subscription:
  enabled: false # disabled by default
```

and continue to use the coprocessor supergraph response.

### References

[#4013](https://github.com/apollographql/router/issues/4013)

### Severity

High

7.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H

### CVE ID

CVE-2023-45812

### Weaknesses

[CWE-703](/advisories?query=cwe%3A703)

### Credits

* [![@garypen](https://avatars.githubusercontent.com/u/107218?s=40&v=4)](/garypen)
  [garypen](/garypen)
  Finder
* [![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&v=4)](/BrynCooke)
  [BrynCooke](/BrynCooke)
  Finder
* [![@BryanBarron](https://avatars.githubusercontent.com/u/126112497?s=40&v=4)](/BryanBarron)
  [BryanBarron](/BryanBarron)
  Coordinator
* [![@jasonbarnett667](https://avatars.githubusercontent.com/u/38733417?s=40&v=4)](/jasonbarnett667)
  [jasonbarnett667](/jasonbarnett667)
  Coordinator
* [![@shorgi](https://avatars.githubusercontent.com/u/18322228?s=40&v=4)](/shorgi)
  [shorgi](/shorgi)
  Coordinator

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_53100776_20250110_105846.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapollographql%2Frouter%2Fpull%2F4014)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapollographql%2Frouter%2Fpull%2F4014)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=apollographql%2Frouter)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apollographql](/apollographql)
/
**[router](/apollographql/router)**
Public

* [Notifications](/login?return_to=%2Fapollographql%2Frouter) You must be signed in to change notification settings
* [Fork
  273](/login?return_to=%2Fapollographql%2Frouter)
* [Star
   829](/login?return_to=%2Fapollographql%2Frouter)

* [Code](/apollographql/router)
* [Issues
  428](/apollographql/router/issues)
* [Pull requests
  80](/apollographql/router/pulls)
* [Discussions](/apollographql/router/discussions)
* [Actions](/apollographql/router/actions)
* [Projects
  0](/apollographql/router/projects)
* [Security](/apollographql/router/security)
* [Insights](/apollographql/router/pulse)

Additional navigation options

* [Code](/apollographql/router)
* [Issues](/apollographql/router/issues)
* [Pull requests](/apollographql/router/pulls)
* [Discussions](/apollographql/router/discussions)
* [Actions](/apollographql/router/actions)
* [Projects](/apollographql/router/projects)
* [Security](/apollographql/router/security)
* [Insights](/apollographql/router/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fapollographql%2Frouter%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fapollographql%2Frouter%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix and add test for co-processors handling of streaming responses #4014

 Merged

[BrynCooke](/BrynCooke)
merged 1 commit into
[dev](/apollographql/router/tree/dev "apollographql/router:dev")
from
[bryn/fix-coprocessor-stream](/apollographql/router/tree/bryn/fix-coprocessor-stream "apollographql/router:bryn/fix-coprocessor-stream")

Oct 11, 2023

 Merged

# [Fix and add test for co-processors handling of streaming responses](#top) #4014

[BrynCooke](/BrynCooke)
merged 1 commit into
[dev](/apollographql/router/tree/dev "apollographql/router:dev")
from
[bryn/fix-coprocessor-stream](/apollographql/router/tree/bryn/fix-coprocessor-stream "apollographql/router:bryn/fix-coprocessor-stream")

Oct 11, 2023

[Conversation
2](/apollographql/router/pull/4014)
[Commits
1](/apollographql/router/pull/4014/commits)
[Checks
2](/apollographql/router/pull/4014/checks)
[Files changed](/apollographql/router/pull/4014/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![BrynCooke](https://avatars.githubusercontent.com/u/747836?s=60&v=4)](/BrynCooke)

Copy link

Contributor

### @BrynCooke **[BrynCooke](/BrynCooke)** commented [Oct 11, 2023](#issue-1937424335)

The logic for supporting deferred responses can't work.

The issues is here: [router/apollo-router/src/plugins/coprocessor/supergraph.rs](https://github.com/apollographql/router/blob/cf4a79a126132eb30e368bdf2277a89278ae2a9b/apollo-router/src/plugins/coprocessor/supergraph.rs#L431-L432)

This will always panic as the wrong builder is used for the stage.

Fixes [#4013](https://github.com/apollographql/router/issues/4013)

---

**Checklist**

Complete the checklist (and note appropriate exceptions) before the PR is marked ready-for-review.

* Changes are compatible[1](#user-content-fn-1-cd78fc110f6b8ee5209aee5cb439a2fe)
* Documentation[2](#user-content-fn-2-cd78fc110f6b8ee5209aee5cb439a2fe) completed
* Performance impact assessed and acceptable
* Tests added and passing[3](#user-content-fn-3-cd78fc110f6b8ee5209aee5cb439a2fe)
  + Unit Tests
  + Integration Tests
  + Manual Tests

**Exceptions**

*Note any exceptions here*

**Notes**

## Footnotes

1. It may be appropriate to bring upcoming changes to the attention of other (impacted) groups. Please endeavour to do this before seeking PR approval. The mechanism for doing this will vary considerably, so use your judgement as to how and when to do this. [‚Ü©](#user-content-fnref-1-cd78fc110f6b8ee5209aee5cb439a2fe)
2. Configuration is an important part of many changes. Where applicable please try to document configuration examples. [‚Ü©](#user-content-fnref-2-cd78fc110f6b8ee5209aee5cb439a2fe)
3. Tick whichever testing boxes are applicable. If you are adding Manual Tests, please document the manual testing (extensively) in the Exceptions. [‚Ü©](#user-content-fnref-3-cd78fc110f6b8ee5209aee5cb439a2fe)

Sorry, something went wrong.

All reactions

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)

### This comment has been minimized.

[Sign in to view](/login?return_to=https%3A%2F%2Fgithub.com%2Fapollographql%2Frouter%2Fpull%2F4014)

[![@apollo-bot2](https://avatars.githubusercontent.com/u/50160705?s=40&u=1fac7c7be931e7b9fcd341e4b9d97c23400073d1&v=4)](/apollo-bot2)
[apollo-bot2](/apollo-bot2)
assigned [BrynCooke](/BrynCooke)
[Oct 11, 2023](#event-10616658621)

[![@router-perf](https://avatars.githubusercontent.com/u/17189275?s=80&v=4)](/apps/router-perf)

Copy link

### **[router-perf](/apps/router-perf) bot** commented [Oct 11, 2023](#issuecomment-1757368933)

| *CI performance tests*   * events\_big\_cap\_high\_rate - Stress test for events with a lot of users, deduplication enabled and high rate event with a big queue capacity * events\_without\_dedup - Stress test for events with a lot of users and deduplication DISABLED * events - Stress test for events with a lot of users and deduplication ENABLED * large-request - Stress test with a 1 MB request payload * step - Basic stress test that steps up the number of users over time * xlarge-request - Stress test with 10 MB request payload * reload - Reload test over a long period of time at a constant rate of users * no-graphos - Basic stress test, no GraphOS. * xxlarge-request - Stress test with 100 MB request payload * step-jemalloc-tuning - Clone of the basic stress test for jemalloc tuning * const - Basic stress test that runs with a constant number of users |
| --- |

All reactions

Sorry, something went wrong.

[![garypen](https://avatars.githubusercontent.com/u/107218?s=60&v=4)](/garypen)

**[garypen](/garypen)**
approved these changes
[Oct 11, 2023](#pullrequestreview-1670738886)

 [View reviewed changes](/apollographql/router/pull/4014/files)

`[Fix and add test for co-processors handling of streaming responses.](/apollographql/router/pull/4014/commits/bfd17efb1bd3183c4a7b4e61280ee9769befd1e6 "Fix and add test for co-processors handling of streaming responses.

Fixes #4013")`
 ‚Ä¶

`[bfd17ef](/apollographql/router/pull/4014/commits/bfd17efb1bd3183c4a7b4e61280ee9769befd1e6)`

```
Fixes [#4013](https://github.com/apollographql/router/issues/4013)
```

 [![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&u=5a9cf479b6d2e5252c97db5ad6212af2bf4304b6&v=4)](/BrynCooke)
[BrynCooke](/BrynCooke)
[force-pushed](/apollographql/router/compare/c4006bd64b34c09347d50f3b179b483c505966b5..bfd17efb1bd3183c4a7b4e61280ee9769befd1e6)
the
bryn/fix-coprocessor-stream

branch
from
[`c4006bd`](/apollographql/router/commit/c4006bd64b34c09347d50f3b179b483c505966b5) to
[`bfd17ef`](/apollographql/router/commit/bfd17efb1bd3183c4a7b4e61280ee9769befd1e6)  [Compare](/apollographql/router/compare/c4006bd64b34c09347d50f3b179b483c505966b5..bfd17efb1bd3183c4a7b4e61280ee9769befd1e6)
[October 11, 2023 10:38](#event-10616694811)

[![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&u=5a9cf479b6d2e5252c97db5ad6212af2bf4304b6&v=4)](/BrynCooke)
[BrynCooke](/BrynCooke)
enabled auto-merge (squash)
[October 11, 2023 10:39](#event-10616699141)

[![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&u=5a9cf479b6d2e5252c97db5ad6212af2bf4304b6&v=4)](/BrynCooke)
[BrynCooke](/BrynCooke)
changed the title
~~Fix and add test for co-processors handling of streaming responses.~~
Fix and add test for co-processors handling of streaming responses
[Oct 11, 2023](#event-10616872473)

 Hide details
View details

[![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&u=5a9cf479b6d2e5252c97db5ad6212af2bf4304b6&v=4)](/BrynCooke)
[BrynCooke](/BrynCooke)
merged commit [`b917b8c`](/apollographql/router/commit/b917b8c117b46a2d508428c0856f4927dfcfc341)
into
dev

[Oct 11, 2023](https://github.com/apollographql/router/pull/4014#event-10616920801)
1 of 2 checks passed

 [![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&u=5a9cf479b6d2e5252c97db5ad6212af2bf4304b6&v=4)](/BrynCooke)
[BrynCooke](/BrynCooke)
deleted the
bryn/fix-coprocessor-stream

branch
[October 11, 2023 10:58](#event-10616921048)

This was referenced Oct 17, 2023

[prep release: v1.32.1
#4045](/apollographql/router/pull/4045)
 Closed

[prep release: v1.33.0
#4046](/apollographql/router/pull/4046)
 Merged

[EverlastingBugstopper](/EverlastingBugstopper)
referenced
this pull request
in apollographql/rover
[Oct 20, 2023](#ref-commit-b9da8c5)
[![@renovate](https://avatars.githubusercontent.com/in/2740?s=40&v=4)](/marketplace/renovate)

`[chore(deps): update dependency apollographql/router to v1.33.0 (](/apollographql/rover/commit/b9da8c5953642f3ebd95a9f6ad9b19cce500c188 "chore(deps): update dependency apollographql/router to v1.33.0 (#1767)

[![Mend
Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Update | Change |
|---|---|---|
| [apollographql/router](https://togithub.com/apollographql/router) |
minor | `v1.32.0` -> `v1.33.0` |

---

### Release Notes

<details>
<summary>apollographql/router (apollographql/router)</summary>

###
[`v1.33.0`](https://togithub.com/apollographql/router/releases/tag/v1.33.0)

[Compare
Source](https://togithub.com/apollographql/router/compare/v1.32.0-alpha.0...v1.33.0)

#### üöÄ Features

##### Add `hasNext` to SupergraphRequest ([Issue
#&#8203;4016](https://togithub.com/apollographql/router/issues/4016))

Coprocessors multi-part response support has been enhanced to include
`hasNext`, allowing you to determine when a request has completed.

When `stage` is `SupergraphResponse`, `hasNext` if present and `true`
indicates that there will be subsequent `SupergraphResponse` calls to
the co-processor for each multi-part (`@defer`/subscriptions) response.

See the [coprocessor
documentation](https://www.apollographql.com/docs/router/customizations/coprocessor/)
for more details.

By [@&#8203;BrynCooke](https://togithub.com/BrynCooke) in
[https://github.com/apollographql/router/pull/4017](https://togithub.com/apollographql/router/pull/4017)

##### Expose the ability to set topology spread constraints on the helm
chart ([3891](https://togithub.com/apollographql/router/issues/3891))

Give developers the ability to set topology spread constraints that can
be used to guarantee that federation pods are spread out evenly across
AZs.

By [@&#8203;bjoernw](https://togithub.com/bjoernw) in
[https://github.com/apollographql/router/pull/3892](https://togithub.com/apollographql/router/pull/3892)

#### üêõ Fixes

##### Ignore JWKS keys which aren't supported by the router ([Issue
#&#8203;3853](https://togithub.com/apollographql/router/issues/3853))

If you have a JWKS which contains a key which has an algorithm (alg)
which the router doesn't recognise, then the entire JWKS is disregarded
even if there were other keys in the JWKS which the router could use.

We have changed the JWKS processing logic so that we remove entries with
an unrecognised algorithm from the list of available keys. We print a
warning with the name of the algorithm for each removed entry.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/3922](https://togithub.com/apollographql/router/pull/3922)

##### Fix panic when streaming responses to co-processor ([Issue
#&#8203;4013](https://togithub.com/apollographql/router/issues/4013))

Streamed responses will no longer cause a panic in the co-processor
plugin. This affected defer and stream queries.

By [@&#8203;BrynCooke](https://togithub.com/BrynCooke) in
[https://github.com/apollographql/router/pull/4014](https://togithub.com/apollographql/router/pull/4014)

##### Only reject defer/subscriptions if actually part of a batch
([Issue
#&#8203;3956](https://togithub.com/apollographql/router/issues/3956))

Fix the checking logic so that deferred queries or subscriptions will
only be rejected when experimental batching is enabled and the
operations are part of a batch.

Without this fix, all subscriptions or deferred queries would be
rejected when experimental batching support was enabled.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/3959](https://togithub.com/apollographql/router/pull/3959)

##### Fix requires selection in arrays ([Issue
#&#8203;3972](https://togithub.com/apollographql/router/issues/3972))

When a field has a `@requires` annotation that selects an array, and
some fields are missing in that array or some of the elements are null,
the router would short circuit the selection and remove the entire
array. This relaxes the condition to allow nulls in the selected array

By [@&#8203;Geal](https://togithub.com/Geal) in
[https://github.com/apollographql/router/pull/3975](https://togithub.com/apollographql/router/pull/3975)

##### Fix router hang when opening the explorer, prometheus or health
check page ([Issue
#&#8203;3941](https://togithub.com/apollographql/router/issues/3941))

The Router did not gracefully shutdown when an idle connections are made
by a client, and would instead hang. In particular, web browsers make
such connection in anticipation of future traffic.

This is now fixed, and the Router will now gracefully shut down in a
timely fashion.

By [@&#8203;Geal](https://togithub.com/Geal) in
[https://github.com/apollographql/router/pull/3969](https://togithub.com/apollographql/router/pull/3969)

##### Fix hang and high CPU usage when compressing small responses ([PR
#&#8203;3961](https://togithub.com/apollographql/router/pull/3961))

When returning small responses (less than 10 bytes) and compressing them
using gzip, the router could go into an infinite loop

By [@&#8203;Geal](https://togithub.com/Geal) in
[https://github.com/apollographql/router/pull/3961](https://togithub.com/apollographql/router/pull/3961)

#### üìÉ Configuration

##### Add `enabled` field for telemetry exporters ([PR
#&#8203;3952](https://togithub.com/apollographql/router/pull/3952))

Telemetry configuration now supports `enabled` on all exporters. This
allows exporters to be disabled without removing them from the
configuration and in addition allows for a more streamlined default
configuration.

```diff
telemetry:
  tracing:
    datadog:
+      enabled: true
    jaeger:
+      enabled: true
    otlp:
+      enabled: true
    zipkin:
+      enabled: true
```

Existing configurations will be migrated to the new format automatically
on startup. However, you should update your configuration to use the new
format as soon as possible.

By [@&#8203;BrynCooke](https://togithub.com/BrynCooke) in
[https://github.com/apollographql/router/pull/3952](https://togithub.com/apollographql/router/pull/3952)

#### üõ† Maintenance

##### Create a replacement self-signed server certificate: 10 years
lifespan ([Issue
#&#8203;3998](https://togithub.com/apollographql/router/issues/3998))

This certificate is only used for testing, so 10 years lifespan is
acceptable.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/4009](https://togithub.com/apollographql/router/pull/4009)

#### üìö Documentation

##### Updated documentation for deploying router ([PR
#&#8203;3943](https://togithub.com/apollographql/router/pull/3943))

Updated documentation for containerized router deployments, with guides
and examples for [deploying on
Kubernetes](https://www.apollographql.com/docs/router/containerization/kubernetes)
and [running on
Docker](https://www.apollographql.com/docs/router/containerization/docker).

By [@&#8203;shorgi](https://togithub.com/shorgi) in
[https://github.com/apollographql/router/pull/3943](https://togithub.com/apollographql/router/pull/3943)

##### Document guidance for request and response buffering ([Issue
#&#8203;3838](https://togithub.com/apollographql/router/issues/3838))

Provides specific guidance on request and response buffering within the
router.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/3970](https://togithub.com/apollographql/router/pull/3970)

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - At any time (no schedule defined),
Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Enabled.

‚ôª **Rebasing**: Whenever PR is behind base branch, or you tick the
rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update
again.

---

- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check
this box

---

This PR has been generated by [Mend
Renovate](https://www.mend.io/free-developer-tools/renovate/). View
repository job log
[here](https://developer.mend.io/github/apollographql/rover).

<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xOS4yIiwidXBkYXRlZEluVmVyIjoiMzcuMTkuMiIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>")[#1767](https://github.com/apollographql/rover/pull/1767)[)](/apollographql/rover/commit/b9da8c5953642f3ebd95a9f6ad9b19cce500c188 "chore(deps): update dependency apollographql/router to v1.33.0 (#1767)

[![Mend
Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Update | Change |
|---|---|---|
| [apollographql/router](https://togithub.com/apollographql/router) |
minor | `v1.32.0` -> `v1.33.0` |

---

### Release Notes

<details>
<summary>apollographql/router (apollographql/router)</summary>

###
[`v1.33.0`](https://togithub.com/apollographql/router/releases/tag/v1.33.0)

[Compare
Source](https://togithub.com/apollographql/router/compare/v1.32.0-alpha.0...v1.33.0)

#### üöÄ Features

##### Add `hasNext` to SupergraphRequest ([Issue
#&#8203;4016](https://togithub.com/apollographql/router/issues/4016))

Coprocessors multi-part response support has been enhanced to include
`hasNext`, allowing you to determine when a request has completed.

When `stage` is `SupergraphResponse`, `hasNext` if present and `true`
indicates that there will be subsequent `SupergraphResponse` calls to
the co-processor for each multi-part (`@defer`/subscriptions) response.

See the [coprocessor
documentation](https://www.apollographql.com/docs/router/customizations/coprocessor/)
for more details.

By [@&#8203;BrynCooke](https://togithub.com/BrynCooke) in
[https://github.com/apollographql/router/pull/4017](https://togithub.com/apollographql/router/pull/4017)

##### Expose the ability to set topology spread constraints on the helm
chart ([3891](https://togithub.com/apollographql/router/issues/3891))

Give developers the ability to set topology spread constraints that can
be used to guarantee that federation pods are spread out evenly across
AZs.

By [@&#8203;bjoernw](https://togithub.com/bjoernw) in
[https://github.com/apollographql/router/pull/3892](https://togithub.com/apollographql/router/pull/3892)

#### üêõ Fixes

##### Ignore JWKS keys which aren't supported by the router ([Issue
#&#8203;3853](https://togithub.com/apollographql/router/issues/3853))

If you have a JWKS which contains a key which has an algorithm (alg)
which the router doesn't recognise, then the entire JWKS is disregarded
even if there were other keys in the JWKS which the router could use.

We have changed the JWKS processing logic so that we remove entries with
an unrecognised algorithm from the list of available keys. We print a
warning with the name of the algorithm for each removed entry.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/3922](https://togithub.com/apollographql/router/pull/3922)

##### Fix panic when streaming responses to co-processor ([Issue
#&#8203;4013](https://togithub.com/apollographql/router/issues/4013))

Streamed responses will no longer cause a panic in the co-processor
plugin. This affected defer and stream queries.

By [@&#8203;BrynCooke](https://togithub.com/BrynCooke) in
[https://github.com/apollographql/router/pull/4014](https://togithub.com/apollographql/router/pull/4014)

##### Only reject defer/subscriptions if actually part of a batch
([Issue
#&#8203;3956](https://togithub.com/apollographql/router/issues/3956))

Fix the checking logic so that deferred queries or subscriptions will
only be rejected when experimental batching is enabled and the
operations are part of a batch.

Without this fix, all subscriptions or deferred queries would be
rejected when experimental batching support was enabled.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/3959](https://togithub.com/apollographql/router/pull/3959)

##### Fix requires selection in arrays ([Issue
#&#8203;3972](https://togithub.com/apollographql/router/issues/3972))

When a field has a `@requires` annotation that selects an array, and
some fields are missing in that array or some of the elements are null,
the router would short circuit the selection and remove the entire
array. This relaxes the condition to allow nulls in the selected array

By [@&#8203;Geal](https://togithub.com/Geal) in
[https://github.com/apollographql/router/pull/3975](https://togithub.com/apollographql/router/pull/3975)

##### Fix router hang when opening the explorer, prometheus or health
check page ([Issue
#&#8203;3941](https://togithub.com/apollographql/router/issues/3941))

The Router did not gracefully shutdown when an idle connections are made
by a client, and would instead hang. In particular, web browsers make
such connection in anticipation of future traffic.

This is now fixed, and the Router will now gracefully shut down in a
timely fashion.

By [@&#8203;Geal](https://togithub.com/Geal) in
[https://github.com/apollographql/router/pull/3969](https://togithub.com/apollographql/router/pull/3969)

##### Fix hang and high CPU usage when compressing small responses ([PR
#&#8203;3961](https://togithub.com/apollographql/router/pull/3961))

When returning small responses (less than 10 bytes) and compressing them
using gzip, the router could go into an infinite loop

By [@&#8203;Geal](https://togithub.com/Geal) in
[https://github.com/apollographql/router/pull/3961](https://togithub.com/apollographql/router/pull/3961)

#### üìÉ Configuration

##### Add `enabled` field for telemetry exporters ([PR
#&#8203;3952](https://togithub.com/apollographql/router/pull/3952))

Telemetry configuration now supports `enabled` on all exporters. This
allows exporters to be disabled without removing them from the
configuration and in addition allows for a more streamlined default
configuration.

```diff
telemetry:
  tracing:
    datadog:
+      enabled: true
    jaeger:
+      enabled: true
    otlp:
+      enabled: true
    zipkin:
+      enabled: true
```

Existing configurations will be migrated to the new format automatically
on startup. However, you should update your configuration to use the new
format as soon as possible.

By [@&#8203;BrynCooke](https://togithub.com/BrynCooke) in
[https://github.com/apollographql/router/pull/3952](https://togithub.com/apollographql/router/pull/3952)

#### üõ† Maintenance

##### Create a replacement self-signed server certificate: 10 years
lifespan ([Issue
#&#8203;3998](https://togithub.com/apollographql/router/issues/3998))

This certificate is only used for testing, so 10 years lifespan is
acceptable.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/4009](https://togithub.com/apollographql/router/pull/4009)

#### üìö Documentation

##### Updated documentation for deploying router ([PR
#&#8203;3943](https://togithub.com/apollographql/router/pull/3943))

Updated documentation for containerized router deployments, with guides
and examples for [deploying on
Kubernetes](https://www.apollographql.com/docs/router/containerization/kubernetes)
and [running on
Docker](https://www.apollographql.com/docs/router/containerization/docker).

By [@&#8203;shorgi](https://togithub.com/shorgi) in
[https://github.com/apollographql/router/pull/3943](https://togithub.com/apollographql/router/pull/3943)

##### Document guidance for request and response buffering ([Issue
#&#8203;3838](https://togithub.com/apollographql/router/issues/3838))

Provides specific guidance on request and response buffering within the
router.

By [@&#8203;garypen](https://togithub.com/garypen) in
[https://github.com/apollographql/router/pull/3970](https://togithub.com/apollographql/router/pull/3970)

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - At any time (no schedule defined),
Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Enabled.

‚ôª **Rebasing**: Whenever PR is behind base branch, or you tick the
rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update
again.

---

- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check
this box

---

This PR has been generated by [Mend
Renovate](https://www.mend.io/free-developer-tools/renovate/). View
repository job log
[here](https://developer.mend.io/github/apollographql/rover).

<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xOS4yIiwidXBkYXRlZEluVmVyIjoiMzcuMTkuMiIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>")`
‚Ä¶

`[b9da8c5](/apollographql/rover/commit/b9da8c5953642f3ebd95a9f6ad9b19cce500c188)`

```
[![Mend
Renovate]([https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com](https://app.renovatebot.com/images/banner.svg%29%5D%28https%3A//renovatebot.com))

This PR contains the following updates:

| Package | Update | Change |
|---|---|---|
| [apollographql/router](<https://togithub.com/apollographql/router>) |
minor | `v1.32.0` -> `v1.33.0` |

---

### Release Notes

<details>
<summary>apollographql/router (apollographql/router)</summary>

###
[`v1.33.0`](<https://togithub.com/apollographql/router/releases/tag/v1.33.0>)

[Compare
Source](<https://togithub.com/apollographql/router/compare/v1.32.0-alpha.0...v1.33.0>)

#### üöÄ Features

##### Add `hasNext` to SupergraphRequest ([Issue
#&#8203;4016](<https://togithub.com/apollographql/router/issues/4016>))

Coprocessors multi-part response support has been enhanced to include
`hasNext`, allowing you to determine when a request has completed.

When `stage` is `SupergraphResponse`, `hasNext` if present and `true`
indicates that there will be subsequent `SupergraphResponse` calls to
the co-processor for each multi-part (`@defer`/subscriptions) response.

See the [coprocessor
documentation](<https://www.apollographql.com/docs/router/customizations/coprocessor/>)
for more details.

By [@&#8203;BrynCooke](<https://togithub.com/BrynCooke>) in
[[https://github.com/apollographql/router/pull/4017](https://togithub.com/apollographql/router/pull/4017)](https://github.com/apollographql/router/pull/4017%5D%28https%3A//togithub.com/apollographql/router/pull/4017%29)

##### Expose the ability to set topology spread constraints on the helm
chart ([3891](<https://togithub.com/apollographql/router/issues/3891>))

Give developers the ability to set topology spread constraints that can
be used to guarantee that federation pods are spread out evenly across
AZs.

By [@&#8203;bjoernw](<https://togithub.com/bjoernw>) in
[[https://github.com/apollographql/router/pull/3892](https://togithub.com/apollographql/router/pull/3892)](https://github.com/apollographql/router/pull/3892%5D%28https%3A//togithub.com/apollographql/router/pull/3892%29)

#### üêõ Fixes

##### Ignore JWKS keys which aren't supported by the router ([Issue
#&#8203;3853](<https://togithub.com/apollographql/router/issues/3853>))

If you have a JWKS which contains a key which has an algorithm (alg)
which the router doesn't recognise, then the entire JWKS is disregarded
even if there were other keys in the JWKS which the router could use.

We have changed the JWKS processing logic so that we remove entries with
an unrecognised algorithm from the list of available keys. We print a
warning with the name of the algorithm for each removed entry.

By [@&#8203;garypen](<https://togithub.com/garypen>) in
[[https://github.com/apollographql/router/pull/3922](https://togithub.com/apollographql/router/pull/3922)](https://github.com/apollographql/router/pull/3922%5D%28https%3A//togithub.com/apollographql/router/pull/3922%29)

##### Fix panic when streaming responses to co-processor ([Issue
#&#8203;4013](<https://togithub.com/apollographql/router/issues/4013>))

Streamed responses will no longer cause a panic in the co-processor
plugin. This affected defer and stream queries.

By [@&#8203;BrynCooke](<https://togithub.com/BrynCooke>) in
[[https://github.com/apollographql/router/pull/4014](https://togithub.com/apollographql/router/pull/4014)](https://github.com/apollographql/router/pull/4014%5D%28https%3A//togithub.com/apollographql/router/pull/4014%29)

##### Only reject defer/subscriptions if actually part of a batch
([Issue
#&#8203;3956](<https://togithub.com/apollographql/router/issues/3956>))

Fix the checking logic so that deferred queries or subscriptions will
only be rejected when experimental batching is enabled and the
operations are part of a batch.

Without this fix, all subscriptions or deferred queries would be
rejected when experimental batching support was enabled.

By [@&#8203;garypen](<https://togithub.com/garypen>) in
[[https://github.com/apollographql/router/pull/3959](https://togithub.com/apollographql/router/pull/3959)](https://github.com/apollographql/router/pull/3959%5D%28https%3A//togithub.com/apollographql/router/pull/3959%29)

##### Fix requires selection in arrays ([Issue
#&#8203;3972](<https://togithub.com/apollographql/router/issues/3972>))

When a field has a `@requires` annotation that selects an array, and
some fields are missing in that array or some of the elements are null,
the router would short circuit the selection and remove the entire
array. This relaxes the condition to allow nulls in the selected array

By [@&#8203;Geal](<https://togithub.com/Geal>) in
[[https://github.com/apollographql/router/pull/3975](https://togithub.com/apollographql/router/pull/3975)](https://github.com/apollographql/router/pull/3975%5D%28https%3A//togithub.com/apollographql/router/pull/3975%29)

##### Fix router hang when opening the explorer, prometheus or health
check page ([Issue
#&#8203;3941](<https://togithub.com/apollographql/router/issues/3941>))

The Router did not gracefully shutdown when an idle connections are made
by a client, and would instead hang. In particular, web browsers make
such connection in anticipation of future traffic.

This is now fixed, and the Router will now gracefully shut down in a
timely fashion.

By [@&#8203;Geal](<https://togithub.com/Geal>) in
[[https://github.com/apollographql/router/pull/3969](https://togithub.com/apollographql/router/pull/3969)](https://github.com/apollographql/router/pull/3969%5D%28https%3A//togithub.com/apollographql/router/pull/3969%29)

##### Fix hang and high CPU usage when compressing small responses ([PR
#&#8203;3961](<https://togithub.com/apollographql/router/pull/3961>))

When returning small responses (less than 10 bytes) and compressing them
using gzip, the router could go into an infinite loop

By [@&#8203;Geal](<https://togithub.com/Geal>) in
[[https://github.com/apollographql/router/pull/3961](https://togithub.com/apollographql/router/pull/3961)](https://github.com/apollographql/router/pull/3961%5D%28https%3A//togithub.com/apollographql/router/pull/3961%29)

#### üìÉ Configuration

##### Add `enabled` field for telemetry exporters ([PR
#&#8203;3952](<https://togithub.com/apollographql/router/pull/3952>))

Telemetry configuration now supports `enabled` on all exporters. This
allows exporters to be disabled without removing them from the
configuration and in addition allows for a more streamlined default
configuration.

```diff
telemetry:
  tracing:
    datadog:
+      enabled: true
    jaeger:
+      enabled: true
    otlp:
+      enabled: true
    zipkin:
+      enabled: true
```

Existing configurations will be migrated to the new format automatically
on startup. However, you should update your configuration to use the new
format as soon as possible.

By [@&#8203;BrynCooke](<https://togithub.com/BrynCooke>) in
[[https://github.com/apollographql/router/pull/3952](https://togithub.com/apollographql/router/pull/3952)](https://github.com/apollographql/router/pull/3952%5D%28https%3A//togithub.com/apollographql/router/pull/3952%29)

#### üõ† Maintenance

##### Create a replacement self-signed server certificate: 10 years
lifespan ([Issue
#&#8203;3998](<https://togithub.com/apollographql/router/issues/3998>))

This certificate is only used for testing, so 10 years lifespan is
acceptable.

By [@&#8203;garypen](<https://togithub.com/garypen>) in
[[https://github.com/apollographql/router/pull/4009](https://togithub.com/apollographql/router/pull/4009)](https://github.com/apollographql/router/pull/4009%5D%28https%3A//togithub.com/apollographql/router/pull/4009%29)

#### üìö Documentation

##### Updated documentation for deploying router ([PR
#&#8203;3943](<https://togithub.com/apollographql/router/pull/3943>))

Updated documentation for containerized router deployments, with guides
and examples for [deploying on
Kubernetes](<https://www.apollographql.com/docs/router/containerization/kubernetes>)
and [running on
Docker](<https://www.apollographql.com/docs/router/containerization/docker>).

By [@&#8203;shorgi](<https://togithub.com/shorgi>) in
[[https://github.com/apollographql/router/pull/3943](https://togithub.com/apollographql/router/pull/3943)](https://github.com/apollographql/router/pull/3943%5D%28https%3A//togithub.com/apollographql/router/pull/3943%29)

##### Document guidance for request and response buffering ([Issue
#&#8203;3838](<https://togithub.com/apollographql/router/issues/3838>))

Provides specific guidance on request and response buffering within the
router.

By [@&#8203;garypen](<https://togithub.com/garypen>) in
[[https://github.com/apollographql/router/pull/3970](https://togithub.com/apollographql/router/pull/3970)](https://github.com/apollographql/router/pull/3970%5D%28https%3A//togithub.com/apollographql/router/pull/3970%29)

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - At any time (no schedule defined),
Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Enabled.

‚ôª **Rebasing**: Whenever PR is behind base branch, or you tick the
rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update
again.

---

- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check
this box

---

This PR has been generated by [Mend
Renovate](<https://www.mend.io/free-developer-tools/renovate/>). View
repository job log
[here](<https://developer.mend.io/github/apollographql/rover>).

<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xOS4yIiwidXBkYXRlZEluVmVyIjoiMzcuMTkuMiIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fapollographql%2Frouter%2Fpull%2F4014)

Reviewers

[![@garypen](https://avatars.githubusercontent.com/u/107218?s=40&v=4)](/garypen) [garypen](/garypen)

garypen approved these changes

Assignees

[![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=40&v=4)](/BrynCooke) [BrynCooke](/BrynCooke)

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [Coprocessor with streaming responses panics when supergraph\_response is configured](https://github.com/apollographql/router/issues/4013)

2 participants

[![@BrynCooke](https://avatars.githubusercontent.com/u/747836?s=52&v=4)](/BrynCooke) [![@garypen](https://avatars.githubusercontent.com/u/107218?s=52&v=4)](/garypen)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


