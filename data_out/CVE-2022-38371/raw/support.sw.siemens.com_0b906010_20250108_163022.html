<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Siemens Digital Industry Software: Sign In</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>

    const enableSiemensIDLogin = true;
    function isSiemensIDLoginEnabled() {
      return enableSiemensIDLogin;
    }

    const disableSiemensEntraIDLogin = true;
    function isSiemensEntraIDLoginDisabled() {
      return disableSiemensEntraIDLogin
    }

    const appConfig = JSON.parse(decodeURIComponent(escape(window.atob('eyJpY29uIjoiaHR0cHM6Ly9pZGVudGl0eS5pbmR1c3RyeXNvZnR3YXJlLmF1dG9tYXRpb24uc2llbWVucy5jb20vV2Via2V5TG9naW4vaW1nL3NpZW1lbnNfbG9nb19zbWFsbC5qcGciLCJhc3NldHNVcmwiOiIiLCJhdXRoMERvbWFpbiI6ImRpc3dsb2dpbi5zaWVtZW5zLmNvbSIsImF1dGgwVGVuYW50Ijoid2Via2V5IiwiY2xpZW50Q29uZmlndXJhdGlvbkJhc2VVcmwiOiJodHRwczovL2Rpc3dsb2dpbi5zaWVtZW5zLmNvbS8iLCJjYWxsYmFja09uTG9jYXRpb25IYXNoIjpmYWxzZSwiY2FsbGJhY2tVUkwiOiJodHRwczovL3N1cHBvcnQuc3cuc2llbWVucy5jb20vY2FsbGJhY2siLCJjZG4iOiJodHRwczovL2Nkbi5hdXRoMC5jb20vIiwiY2xpZW50SUQiOiJCNUpLQlEyZzdLSzUwck9DWnVHYjFrNVZLeXo1SUl1NyIsImRpY3QiOnsic2lnbmluIjp7InRpdGxlIjoiU3VwcG9ydCBDZW50ZXIgLSBFWFRfSURQKEVNUEwsR29vZ2xlLExpbmtlZEluKSJ9fSwiZXh0cmFQYXJhbXMiOnsicHJvdG9jb2wiOiJvYXV0aDIiLCJyZXNwb25zZVR5cGUiOiJjb2RlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBvZmZsaW5lX2FjY2VzcyIsInZpZXciOiJsb2dpbiIsImF1ZGllbmNlIjoiaHR0cHM6Ly9hY2NvdW50LnN3LnNpZW1lbnMuY29tL2FwaS92MSIsIm5vbmNlIjoiNjNjOTkzNDVlODI0OWQ2ODYwZjIwNjU2MDI5ZjRhNDciLCJyZXNwb25zZV90eXBlIjoiY29kZSIsIl9jc3JmIjoiMFF2c3RGRkstdWk1RXNscUZkdFRJbWFyUnBRZUt1TTZQT1RrIiwiX2ludHN0YXRlIjoiZGVwcmVjYXRlZCIsInN0YXRlIjoiaEtGbzJTQXhUMmRHYkRsR1dYVkJUMVZ6U0hsTWRVTklSbW93YVhOM1NXUkdNMEpLVDZGdXBXeHZaMmx1bzNScFpOa2dRMjQwU21WdmRWWjVaVkZ1ZFZoNU0xQmxWMlJCVDBGVFFWTTBkWEZVU25halkybGsyU0JDTlVwTFFsRXlaemRMU3pVd2NrOURXblZIWWpGck5WWkxlWG8xU1VsMU53In0sImludGVybmFsT3B0aW9ucyI6eyJwcm90b2NvbCI6Im9hdXRoMiIsInJlc3BvbnNlVHlwZSI6ImNvZGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIG9mZmxpbmVfYWNjZXNzIiwidmlldyI6ImxvZ2luIiwiYXVkaWVuY2UiOiJodHRwczovL2FjY291bnQuc3cuc2llbWVucy5jb20vYXBpL3YxIiwibm9uY2UiOiI2M2M5OTM0NWU4MjQ5ZDY4NjBmMjA2NTYwMjlmNGE0NyIsInJlc3BvbnNlX3R5cGUiOiJjb2RlIiwiX2NzcmYiOiIwUXZzdEZGSy11aTVFc2xxRmR0VEltYXJScFFlS3VNNlBPVGsiLCJfaW50c3RhdGUiOiJkZXByZWNhdGVkIiwic3RhdGUiOiJoS0ZvMlNBeFQyZEdiRGxHV1hWQlQxVnpTSGxNZFVOSVJtb3dhWE4zU1dSR00wSktUNkZ1cFd4dloybHVvM1JwWk5rZ1EyNDBTbVZ2ZFZaNVpWRnVkVmg1TTFCbFYyUkJUMEZUUVZNMGRYRlVTbmFqWTJsazJTQkNOVXBMUWxFeVp6ZExTelV3Y2s5RFduVkhZakZyTlZaTGVYbzFTVWwxTncifSwid2lkZ2V0VXJsIjoiaHR0cHM6Ly9jZG4uYXV0aDAuY29tL3cyL2F1dGgwLXdpZGdldC01LjIubWluLmpzIiwiaXNUaGlyZFBhcnR5Q2xpZW50IjpmYWxzZSwiYXV0aG9yaXphdGlvblNlcnZlciI6eyJ1cmwiOiJodHRwczovL2Rpc3dsb2dpbi5zaWVtZW5zLmNvbSIsImlzc3VlciI6Imh0dHBzOi8vZGlzd2xvZ2luLnNpZW1lbnMuY29tLyJ9LCJjb2xvcnMiOnsicGFnZV9iYWNrZ3JvdW5kIjoiIzAwMDAyOCIsInByaW1hcnkiOiIjMDBDQ0NDIn19'))));

    const customViewParams = [
      'CLOUDHPCLOGIN'
    ]
    function isCustomViewParam() {
      return (
        appConfig &&
        appConfig.internalOptions &&
        customViewParams.indexOf(appConfig.internalOptions.view) >= 0
      )
    }

    function isCustomIDPLoginStyle(clientID) {
      const idpUIStyleClientIDs = [
        'KxCOxZxA1BcFGT0z2DUZ9HXX7RxfMU8o',
        'Uv0pIfCAZkFlsDeXelARzOmapDSq0JEs',
        'UhWjTvBzEXV6UUd573lLUzhkOm6Fsa2N',
        '0OlEMFvV2VcirsTWQjrnUDFNjSCUPA5M',
        'BKmgjZfQwj4uGnDfKfOhuIHhFGCtCZEN',
        'CmxCuWBZzcPYFyCqPb9uBdKX5iBrWCf0'
      ];
      return idpUIStyleClientIDs.indexOf(clientID) >= 0
    }

    function setupSiemensIDPParams(idpMfa, idpConnections, idpConnectionsOption) {

      let displayIDPParam = [];
      const displayQueryParam = new RegExp('[?&#]display=[A-Za-z0-9\-\|]+[&#]?').test(window.location.search)
      if (!displayQueryParam) {

        const signUpView = new RegExp('[?&#]view=signup[&#]?').test(window.location.search);
        const resetView = new RegExp('[?&#]view=reset[&#]?').test(window.location.search);
        if (signUpView) {
          displayIDPParam.push('sup-active');
        } else if (resetView) {
          displayIDPParam.push('fp-active');
        }

        const hideSignUp = new RegExp('[?&#]allowSignup=false[&#]?').test(window.location.search)
        if (!hideSignUp) {
          displayIDPParam.push('sup');
          displayIDPParam.push('extra-fields');
        }

        idpConnectionsOption.forEach(function (idpConnectionOption) {
          switch (idpConnectionOption.key) {
            case 'EMPL', 'CES_MYID': {
              if ((idpConnections.indexOf('EMPL') >= 0) && !isSiemensEntraIDLoginDisabled()) {
                const hideEmplLogin = new RegExp('[?&#]hideEmplLogin=true[&#]?').test(window.location.search);
                const showMyID = new RegExp('[?&#]myid=true[&#]?').test(window.location.search);
                if (!showMyID && hideEmplLogin) {
                  displayIDPParam.push(idpConnectionOption.off);
                }
              } else {
                displayIDPParam.push(idpConnectionOption.off);
              }
              break;
            }
            default: {
              if (!(idpConnections.indexOf(idpConnectionOption.key) >= 0)) {
                displayIDPParam.push(idpConnectionOption.off);
              }
            }
          }
        });

      }

      let acrValuesIDPParam = [];
      const acrValuesQueryParam = new RegExp('[?&#]acr_values=[A-Za-z0-9\-\|]+[&#]?').test(window.location.search)
      if (idpMfa && !acrValuesQueryParam) {
        acrValuesIDPParam.push('aal2');
      }

      let idpCookieValue = undefined;
      if (displayIDPParam.length > 0 && acrValuesIDPParam.length > 0) {
        idpCookieValue = 'display=' + displayIDPParam.join('|') + '&acr_values=' + acrValuesIDPParam.join('|');
      } else if (displayIDPParam.length > 0) {
        idpCookieValue = 'display=' + displayIDPParam.join('|');
      } else if (acrValuesIDPParam.length > 0) {
        idpCookieValue = 'acr_values=' + acrValuesIDPParam.join('|');
      }

      if (idpCookieValue) {
        document.cookie = 'idp_login_query_param=' + idpCookieValue + '; domain=.siemens.com; path=/; max-age=600; Secure; SameSite=Lax;';
      }

    }

    let extIDPParams = [];
    if (appConfig && appConfig.dict && appConfig.dict.signin && appConfig.dict.signin.title) {
      const extIDP = appConfig.dict.signin.title.match(/EXT_IDP\({1}([A-Za-z0-9,\-\|]+)\){1}/);
      extIDPParams = (extIDP && Array.isArray(extIDP) && extIDP.length === 2 && extIDP[1]) ? extIDP[1].split('|') : undefined
    }

    let idpConnections = [];
    let idpMfa = false;
    if (extIDPParams && Array.isArray(extIDPParams) && extIDPParams.length > 0) {
      if (extIDPParams.length === 1 && extIDPParams[0] === 'MFA') {
        idpMfa = true;
      } else if (extIDPParams.length === 1 && extIDPParams[0] !== 'MFA') {
        idpConnections = extIDPParams[0].split(',');
      } else if (extIDPParams.length === 2) {
        idpConnections = extIDPParams[0].split(',');
        idpMfa = (extIDPParams[1] === 'MFA') ? true : false;
      }
    }

    let idpConnectionsOption = [
      {
        key: 'EMPL',
        off: 'azure-social-SAG-off'
      },
      {
        key: 'Apple',
        off: 'apple-off'
      },
      {
        key: 'Facebook',
        off: 'facebook-off'
      },
      {
        key: 'Github',
        off: 'github-off'
      },
      {
        key: 'Gitlab',
        off: 'gitlab-off'
      },
      {
        key: 'Google',
        off: 'google-off'
      },
      {
        key: 'LinkedIn',
        off: 'linkedin-off'
      },
      {
        key: 'Twitter',
        off: 'twitter-off'
      },
      {
        key: 'Flender',
        off: 'flender-off'
      },
      {
        key: 'CES_MYID',
        off: 'cidp-off'
      },
      {
        key: 'Koerber',
        off: 'koerber-off'
      },
      {
        key: 'Amazon',
        off: 'amazon-off'
      },
      {
        key: 'MSSL',
        off: 'azure-social-common-off'
      }
    ];

    idpKeys = [];
    idpConnectionsOption.forEach(function (idpConnectionOption) { idpKeys.push(idpConnectionOption.key) });

    if (idpConnections && idpConnections.length == 1 && !(idpKeys.indexOf(idpConnections[0]) >= 0)) {
      window.location.replace('https://' + appConfig.auth0Domain + '/authorize?connection=' + idpConnections[0] + '&state=' + appConfig.internalOptions.state);
    } else if (isSiemensIDLoginEnabled() && !isCustomViewParam() && !isCustomIDPLoginStyle(appConfig.clientID)) {
      setupSiemensIDPParams(idpMfa, idpConnections, idpConnectionsOption);
      window.location.replace('https://' + appConfig.auth0Domain + '/authorize?connection=main-tenant-oidc&state=' + appConfig.internalOptions.state);
    } else if (!isSiemensIDLoginEnabled() && new RegExp('[?&#]display=withConnection-google-oauth2[&#]?').test(window.location.search)) {
      window.location.replace('https://' + appConfig.auth0Domain + '/authorize?connection=google-oauth2&state=' + appConfig.internalOptions.state);
    } else if (!isSiemensIDLoginEnabled() && new RegExp('[?&#]display=withConnection-linkedin[&#]?').test(window.location.search)) {
      window.location.replace('https://' + appConfig.auth0Domain + '/authorize?connection=linkedin&state=' + appConfig.internalOptions.state);
    }

  </script>
  <link rel="icon" type="image/png"
    href="https://content.industrysoftware.automation.siemens.com/login/1.13.0/common/images/favicon.ico">
  <link rel="stylesheet"
    href="https://content.industrysoftware.automation.siemens.com/login/1.13.0/common/css/base.css">
  <script type="text/javascript"
    src="https://content.industrysoftware.automation.siemens.com/login/1.13.0/common/js/Intl.min.js"></script>
  <script type="text/javascript"
    src="https://content.industrysoftware.automation.siemens.com/login/1.13.0/browser.js"></script>
  <style>
    @media (max-height: 46em) {
      .m-b-md {
        margin-bottom: 1rem !important;
      }

      .m-y-md {
        margin-top: 1rem !important;
        margin-bottom: 1rem !important;
      }

      .p-lg-t-xl {
        padding-top: 1.5rem !important;
      }

      .display-2 {
        font-size: 1.6rem
      }

      .p-y-md {
        padding-top: 1.4rem !important;
        padding-bottom: 1rem !important;
      }
    }

    @media(min-width: 48em) and (max-width: 62em) {
      .col-s-md-12 {
        flex-basis: 100%;
        max-width: 100%;
      }
    }
  </style>
</head>

<body class="bg-white">
  <div id="main-container" class="container-xxs p-t-lg p-lg-t-xl">
    <header class="m-b-md text-center" role="banner">
      <img id="header-img" alt="Siemens Logo" width="150">
    </header>
    <main class="card m-b-sm p-t-sm br-a border-a border-1 border-gray-light">
      <div id="login"></div>
    </main>
    <div id="footer"></div>
  </div>
  <script>
    const config = JSON.parse(decodeURIComponent(escape(window.atob('eyJpY29uIjoiaHR0cHM6Ly9pZGVudGl0eS5pbmR1c3RyeXNvZnR3YXJlLmF1dG9tYXRpb24uc2llbWVucy5jb20vV2Via2V5TG9naW4vaW1nL3NpZW1lbnNfbG9nb19zbWFsbC5qcGciLCJhc3NldHNVcmwiOiIiLCJhdXRoMERvbWFpbiI6ImRpc3dsb2dpbi5zaWVtZW5zLmNvbSIsImF1dGgwVGVuYW50Ijoid2Via2V5IiwiY2xpZW50Q29uZmlndXJhdGlvbkJhc2VVcmwiOiJodHRwczovL2Rpc3dsb2dpbi5zaWVtZW5zLmNvbS8iLCJjYWxsYmFja09uTG9jYXRpb25IYXNoIjpmYWxzZSwiY2FsbGJhY2tVUkwiOiJodHRwczovL3N1cHBvcnQuc3cuc2llbWVucy5jb20vY2FsbGJhY2siLCJjZG4iOiJodHRwczovL2Nkbi5hdXRoMC5jb20vIiwiY2xpZW50SUQiOiJCNUpLQlEyZzdLSzUwck9DWnVHYjFrNVZLeXo1SUl1NyIsImRpY3QiOnsic2lnbmluIjp7InRpdGxlIjoiU3VwcG9ydCBDZW50ZXIgLSBFWFRfSURQKEVNUEwsR29vZ2xlLExpbmtlZEluKSJ9fSwiZXh0cmFQYXJhbXMiOnsicHJvdG9jb2wiOiJvYXV0aDIiLCJyZXNwb25zZVR5cGUiOiJjb2RlIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBvZmZsaW5lX2FjY2VzcyIsInZpZXciOiJsb2dpbiIsImF1ZGllbmNlIjoiaHR0cHM6Ly9hY2NvdW50LnN3LnNpZW1lbnMuY29tL2FwaS92MSIsIm5vbmNlIjoiNjNjOTkzNDVlODI0OWQ2ODYwZjIwNjU2MDI5ZjRhNDciLCJyZXNwb25zZV90eXBlIjoiY29kZSIsIl9jc3JmIjoiMFF2c3RGRkstdWk1RXNscUZkdFRJbWFyUnBRZUt1TTZQT1RrIiwiX2ludHN0YXRlIjoiZGVwcmVjYXRlZCIsInN0YXRlIjoiaEtGbzJTQXhUMmRHYkRsR1dYVkJUMVZ6U0hsTWRVTklSbW93YVhOM1NXUkdNMEpLVDZGdXBXeHZaMmx1bzNScFpOa2dRMjQwU21WdmRWWjVaVkZ1ZFZoNU0xQmxWMlJCVDBGVFFWTTBkWEZVU25halkybGsyU0JDTlVwTFFsRXlaemRMU3pVd2NrOURXblZIWWpGck5WWkxlWG8xU1VsMU53In0sImludGVybmFsT3B0aW9ucyI6eyJwcm90b2NvbCI6Im9hdXRoMiIsInJlc3BvbnNlVHlwZSI6ImNvZGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIG9mZmxpbmVfYWNjZXNzIiwidmlldyI6ImxvZ2luIiwiYXVkaWVuY2UiOiJodHRwczovL2FjY291bnQuc3cuc2llbWVucy5jb20vYXBpL3YxIiwibm9uY2UiOiI2M2M5OTM0NWU4MjQ5ZDY4NjBmMjA2NTYwMjlmNGE0NyIsInJlc3BvbnNlX3R5cGUiOiJjb2RlIiwiX2NzcmYiOiIwUXZzdEZGSy11aTVFc2xxRmR0VEltYXJScFFlS3VNNlBPVGsiLCJfaW50c3RhdGUiOiJkZXByZWNhdGVkIiwic3RhdGUiOiJoS0ZvMlNBeFQyZEdiRGxHV1hWQlQxVnpTSGxNZFVOSVJtb3dhWE4zU1dSR00wSktUNkZ1cFd4dloybHVvM1JwWk5rZ1EyNDBTbVZ2ZFZaNVpWRnVkVmg1TTFCbFYyUkJUMEZUUVZNMGRYRlVTbmFqWTJsazJTQkNOVXBMUWxFeVp6ZExTelV3Y2s5RFduVkhZakZyTlZaTGVYbzFTVWwxTncifSwid2lkZ2V0VXJsIjoiaHR0cHM6Ly9jZG4uYXV0aDAuY29tL3cyL2F1dGgwLXdpZGdldC01LjIubWluLmpzIiwiaXNUaGlyZFBhcnR5Q2xpZW50IjpmYWxzZSwiYXV0aG9yaXphdGlvblNlcnZlciI6eyJ1cmwiOiJodHRwczovL2Rpc3dsb2dpbi5zaWVtZW5zLmNvbSIsImlzc3VlciI6Imh0dHBzOi8vZGlzd2xvZ2luLnNpZW1lbnMuY29tLyJ9LCJjb2xvcnMiOnsicGFnZV9iYWNrZ3JvdW5kIjoiIzAwMDAyOCIsInByaW1hcnkiOiIjMDBDQ0NDIn19'))));
    const options = {
      clientID: config.clientID,
      domain: config.auth0Domain,
      auth0Cdn: 'diswlogin.siemens.com',
      redirectUri: config.callbackURL,
      protocol: config.protocol,
      loginContainer: document.getElementById('login'),
      FooterContainer: document.getElementById('footer'),
      sanitizeValueRegExp: /[<>'"/&]/g,
      overrides: {
        __tenant: config.auth0Tenant,
        __token_issuer: config.authorizationServer.issuer
      },
      assets: {
        contentVersion: "https://content.industrysoftware.automation.siemens.com/login/1.13.0"
      },
      helpUrl: "https://identity.industrysoftware.automation.siemens.com/WebkeyLogin/login/help"
    };

    const headerImgId = document.getElementById('header-img');
    if (options.clientID === 'Om2pzpbCgISXuP4tkKhEgeUNFsYAiiTE' ||
      options.clientID === 'aNpGsZ7LImS72bf1ZKJi3QN5UrV5SKk0' ||
      options.clientID === 'v3Mk1CwF4mQorh5GLUZ54OqGttrjVv7n') {
      headerImgId.src = 'https://static.eu1.mindsphere.io/osbar/v4/assets/img/industrial_cloud.svg';
      headerImgId.alt = 'Industrial Cloud'
      headerImgId.width = '250';
    } else {
      headerImgId.src = 'https://content.industrysoftware.automation.siemens.com/login/1.13.0/common/images/logo.svg';
      headerImgId.alt = 'Siemens'
      headerImgId.width = '150';
    }

    if (new RegExp('[?&#]view=signup[&#]?').test(window.location.search)) {
      options.view = 'signup';
    } else if (new RegExp('[?&#]view=reset[&#]?').test(window.location.search)) {
      options.view = 'reset';
    }

    if (new RegExp('[?&#]tc=la[&#]?').test(window.location.search)) {
      options.tc = 'la';
    }
    config.internalOptions.allowSignup = !new RegExp('[?&#]allowSignup=false[&#]?').test(window.location.search);
    config.internalOptions.hideEmplLogin = new RegExp('[?&#]hideEmplLogin=true[&#]?').test(window.location.search);

    Object.keys(config.internalOptions).forEach(function (i) {
      options[i] = config.internalOptions[i];
    });

    if (isCustomViewParam()) {
      options.view = 'login'
    }
    new Auth0ReactApp(options);

    function isBannerEnabled() {
      const disabledClientIDs = [
        // TEST
        'KxCOxZxA1BcFGT0z2DUZ9HXX7RxfMU8o', // Panasonic - OIDC
        'Uv0pIfCAZkFlsDeXelARzOmapDSq0JEs', // Mahle - OIDC
        'UhWjTvBzEXV6UUd573lLUzhkOm6Fsa2N', // Teamcenter X Panasonic HVAC Division
        //PROD
        'CmxCuWBZzcPYFyCqPb9uBdKX5iBrWCf0', // Teamcenter X Panasonic HVAC Division
        'BKmgjZfQwj4uGnDfKfOhuIHhFGCtCZEN', // Teamcenter X Panasonic - OIDC
        '0OlEMFvV2VcirsTWQjrnUDFNjSCUPA5M' // Mahle - OIDC
      ];
      return !(disabledClientIDs.indexOf(config.clientID) >= 0)
    }

    function printBanner() {
      if (isBannerEnabled()) {
        let bannerText = '<div>' +
          '<b>Siemens log in process changing July 15</b>' +
          '<br>Authentication by mobile devices is now required for some apps.&nbsp;' +
          '<a href="https://support.sw.siemens.com/en-US/knowledge-base/KB000133286_EN_US"' +
          'target="_blank" style="color:white;text-decoration:underline;">Learn more</a>' +
          '</div>';
        const template = document.createElement('div');
        template.innerHTML = bannerText;
        template.setAttribute("style", "background-color:#007993;font-size:18px;font-weight:400;color:white;display:flex;justify-content:center;padding:0.3rem 0;");
        document.body.insertBefore(template, document.getElementById('main-container'));
      }
    }
    printBanner();
  </script>
</body>

</html>