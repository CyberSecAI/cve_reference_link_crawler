

[Log in](/login.jsp?os_destination=%2Fbrowse%2FCXX-2028)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![MongoDB Jira](/s/ub562g/9160001/fy41z4/_/jira-logo-scaled.png)](https://jira.mongodb.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")
* [eazyBI](/plugins/servlet/eazybi)

* Give feedback to Atlassian
* [Help](/secure/ViewKeyboardShortcuts%21default.jspa "Help")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FCXX-2028)
  + [Acknowledged notifications](/plugins/servlet/wittified/profile/notifications)

![Uploaded image for project: 'C++ Driver'](https://jira.mongodb.org/secure/projectavatar?pid=11980&avatarId=13814)

1. [C++ Driver](/browse/CXX)
2. [CXX-2028](/browse/CXX-2028)

## Explicit write concern is incorrectly applied to collection::find\_one\_and\_\* methods

Schedule Issue[Undo Transition](/secure/UndoTransition%21default.jspa?id=1364662)ClosedExportnullXMLWordPrintableJSON
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Fixed
* **Priority:**
  ![Icon: Critical - P2](/images/icons/priorities/critical.svg "Critical - P2 - Crashes, loss of data, severe memory leak.") Critical - P2
* **Fix Version/s:**
  [3.2.1](/issues/?jql=project+%3D+CXX+AND+fixVersion+%3D+3.2.1 "3.2.1 Bug fix for find_one_and_* write concern."), [3.3.2](/issues/?jql=project+%3D+CXX+AND+fixVersion+%3D+3.3.2 "3.3.2 Bug fix for find_one_and_* write concern."), [3.4.2](/issues/?jql=project+%3D+CXX+AND+fixVersion+%3D+3.4.2 "3.4.2 Bug fix for find_one_and_* write concern."), [3.5.1](/issues/?jql=project+%3D+CXX+AND+fixVersion+%3D+3.5.1 "3.5.1 Bug fix for find_one_and_* write concern."), [3.6.0-rc0](/issues/?jql=project+%3D+CXX+AND+fixVersion+%3D+3.6.0-rc0 "3.6.0-rc0 4.4 and Client-Side Encryption support"), [3.6.0](/issues/?jql=project+%3D+CXX+AND+fixVersion+%3D+3.6.0 "3.6.0 4.4 and Client-Side Encryption support")
* **Affects Version/s:**
  3.2.0-rc0
* **Component/s:**
  None
* **Labels:**
  None

* **Case:**

  (copied to CRM)

### Description

**CVE ID:** CVE-2021-32050

**Title:** Some MongoDB Drivers may publish events containing authentication-related data to a command listener configured by an application

**Description**:

Some MongoDB Drivers may erroneously publish events containing authentication-related data to a command listener configured by an application. The published events may contain security-sensitive data when specific authentication-related commands are executed.

Without due care, an application may inadvertently expose this sensitive information, e.g., by writing it to a log file. This issue only arises if an application enables the command listener feature (this is not enabled by default).

This issue affects the MongoDB C Driver 1.0.0 prior to 1.17.7, MongoDB PHP Driver 1.0.0 prior to 1.9.2, MongoDB Swift Driver 1.0.0 prior to 1.1.1, MongoDB Node.js Driver 3.6 prior to 3.6.10, MongoDB Node.js Driver 4.0 prior to 4.17.0 and MongoDB Node.js Driver 5.0 prior to 5.8.0. This issue also affects users of the MongoDB C++ Driver dependent on the C driver 1.0.0 prior to 1.17.7 (C++ driver prior to 3.7.0).

**CVSS Score:** 4.2

CVSS:3.1/AV:L/AC:L/PR:H/UI:R/S:U/C:H/I:N/A:N

**CWE ID:** CWE-200 Exposure of Sensitive Information to an Unauthorized Actor

**Exact affected versions:**

MongoDB C Driver 1.0.0 prior to 1.17.7

MongoDB C++ Driver 3.0.0 prior to 3.7.0

MongoDB PHP Driver 1.0.0 prior to 1.9.2

MongoDB Swift Driver 1.0.0 prior to 1.1.1

MongoDB Node.js Driver 3.6 prior to  3.6.10

MongoDB Node.js Driver 4.0 prior to 4.17.0

MongoDB Node.js Driver 5.0 prior to 5.8.0

**Is fixed version available:**  Yes

**How the issue was discovered:** Internally

### Attachments

### Issue Links

is related to

![New Feature - A new feature of the product, which has yet to be developed.](/secure/viewavatar?size=xsmall&avatarId=14711&avatarType=issuetype "New Feature - A new feature of the product, which has yet to be developed.")
[CXX-1085](/browse/CXX-1085)
Inconsistent API for operation level write concern

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

![Task - A task that needs to be done.](/secure/viewavatar?size=xsmall&avatarId=14718&avatarType=issuetype "Task - A task that needs to be done.")
[CXX-1349](/browse/CXX-1349)
Implement manual read/write concern tests described in spec

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

### Activity

### People

Assignee:
![clyde.bazile@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Clyde Bazile III (Inactive)

Reporter:
![wan.bachtiar@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Wan Bachtiar

Votes:
1
Vote for this issue

Watchers:
6
Start watching this issue

### Dates

Created:

May 27 2020 10:42:55 PM UTC

Updated:

Oct 28 2023 11:27:02 AM UTC

Resolved:

Jun 01 2020 08:40:16 PM UTC

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for MongoDB. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)

