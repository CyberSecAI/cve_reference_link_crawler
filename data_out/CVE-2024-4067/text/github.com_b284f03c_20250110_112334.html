
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmicromatch%2Fmicromatch%2Fpull%2F266)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmicromatch%2Fmicromatch%2Fpull%2F266)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=micromatch%2Fmicromatch)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[micromatch](/micromatch)
/
**[micromatch](/micromatch/micromatch)**
Public

* [Notifications](/login?return_to=%2Fmicromatch%2Fmicromatch) You must be signed in to change notification settings
* [Fork
  168](/login?return_to=%2Fmicromatch%2Fmicromatch)
* [Star
   2.8k](/login?return_to=%2Fmicromatch%2Fmicromatch)

* [Code](/micromatch/micromatch)
* [Issues
  28](/micromatch/micromatch/issues)
* [Pull requests
  6](/micromatch/micromatch/pulls)
* [Actions](/micromatch/micromatch/actions)
* [Security](/micromatch/micromatch/security)
* [Insights](/micromatch/micromatch/pulse)

Additional navigation options

* [Code](/micromatch/micromatch)
* [Issues](/micromatch/micromatch/issues)
* [Pull requests](/micromatch/micromatch/pulls)
* [Actions](/micromatch/micromatch/actions)
* [Security](/micromatch/micromatch/security)
* [Insights](/micromatch/micromatch/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmicromatch%2Fmicromatch%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmicromatch%2Fmicromatch%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Backport CVE-2024-4067 fix from 4.0.6 over 4.0.7 #266

 Merged

[doowb](/doowb)
merged 7 commits into
[micromatch:v4](/micromatch/micromatch/tree/v4 "micromatch/micromatch:v4")
from
[hauserkristof:feature/v4.0.8](/hauserkristof/micromatch/tree/feature/v4.0.8 "hauserkristof/micromatch:feature/v4.0.8")

Aug 23, 2024

 Merged

# [Backport CVE-2024-4067 fix from 4.0.6 over 4.0.7](#top) #266

[doowb](/doowb)
merged 7 commits into
[micromatch:v4](/micromatch/micromatch/tree/v4 "micromatch/micromatch:v4")
from
[hauserkristof:feature/v4.0.8](/hauserkristof/micromatch/tree/feature/v4.0.8 "hauserkristof/micromatch:feature/v4.0.8")

Aug 23, 2024

+71

−18

[Conversation
27](/micromatch/micromatch/pull/266)
[Commits
7](/micromatch/micromatch/pull/266/commits)
[Checks
15](/micromatch/micromatch/pull/266/checks)
[Files changed
4](/micromatch/micromatch/pull/266/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=60&v=4)](/hauserkristof)

Copy link

Contributor

### @hauserkristof **[hauserkristof](/hauserkristof)** commented [Aug 22, 2024](#issue-2480820002) • edited Loading

* Version 4.0.6 breaks compatibility with 4.0.5 and previous versions
  + but fixes [CVE-2024-4067](https://github.com/advisories/GHSA-952p-6rrq-rcjv "CVE-2024-4067")
* Version 4.0.7 does not breaks the compatibility but does not have the fix

More info at [#264](https://github.com/micromatch/micromatch/issues/264)

## This PR maintains the compability with 4.0.5 and prior versions but backports the CVE fix.

Hello, and thanks for contributing to micromatch!

## tldr

There are three main goals in this document, depending on the nature of your pr:

* [description](#description): please tell us about your pr
* [checklist](#checklist): please review the checklist that is most closly related to your pr

The following sections provide more detail on each.

**Improve this document**

Please don't hesitate to [ask questions](../../issues) for clarification, or to [make suggestions](../../issues) (or a pull request) to improve this document.

## Description

To help the project's maintainers and community to quickly understand the nature of your pull request, please create a description that incorporates the following elements:

* what is accomplished by the pr
* if there is something potentially controversial in your pr, please take a moment to tell us about your choices

## Checklist

Please use the checklist that is most closely related to your pr *(you only need to use one checklist, and you can skip items that aren't applicable or don't make sense)*:

* fixing typos
* documentation
* bug fix
* new feature
* other

### Fixing typos

* Please review the readme advice section before submitting changes

### Documentation

* Please review the [readme advice](#readme-advice) section before submitting changes

### Bug Fix

* All existing unit tests are still passing (if applicable)
* Add new passing unit tests to cover the code introduced by your pr
* Update the readme (see [readme advice](#readme-advice))
* Update or add any necessary API documentation

### New Feature

* If this is a big feature with breaking changes, consider [opening an issue](../../issues) to discuss first. This is completely up to you, but please keep in mind that your pr might not be accepted.
* Run unit tests to ensure all existing tests are still passing
* Add new passing unit tests to cover the code introduced by your pr
* Update the readme (see [readme advice](#readme-advice))

Thanks for contributing!

## Readme advice

Please review this section if you are updating readme documentation.

**Readme template**

This project uses [verb](https://github.com/verbose/verb) for documentation. Verb generates the project's readme documentation from the [.verb.md](../.verb.md) template in the root of this project.

Make all documentation changes in `.verb.md`, and please *do not edit the readme.md directly*, or your changes might accidentally get overwritten.

**Code comments**

Please add code comments (following the same style as existing comments) to describe any code changes or new code introduced by your pull request.

**Optionally build the readme**

Any changes made `.verb.md` and/or code comments will be automatically incorporated into the README documentation the next time `verb` is run.

We can take care of building the documentation for you when we merge in your changes, or feel free to run [verb](https://github.com/verbose/verb) yourself. Whatever you prefer is fine with us.

Sorry, something went wrong.

 ❤️
15
 ppvg, service-paradis, jayvdb, tbeseda, GayKevin, jbrilhante-yogi, Chathula, pboos, IJuanI, PatrycjaKubiczek, and 5 more reacted with heart emoji

All reactions

* ❤️
  15 reactions

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[feat: backported CVE fix from 4.0.6 over to 4.0.7](/micromatch/micromatch/pull/266/commits/500d5d6f42f0e8dfa1cb5464c6cb420b1b6aaaa0 "feat: backported CVE fix from 4.0.6 over to 4.0.7

- 4.0.6 breaks API compatibility")`
 …

`[500d5d6](/micromatch/micromatch/pull/266/commits/500d5d6f42f0e8dfa1cb5464c6cb420b1b6aaaa0)`

```
- 4.0.6 breaks API compatibility
```

 [![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
changed the base branch from
master

to
v4

[August 22, 2024 13:38](#event-13977398381)

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
mentioned this pull request
[Aug 22, 2024](#ref-issue-2477611441)

[micromatch is vulnerable to Regular Expression Denial of Service (ReDoS)
#264](/micromatch/micromatch/issues/264)

Closed

[![graingert-coef](https://avatars.githubusercontent.com/u/151018808?s=60&v=4)](/graingert-coef)

**[graingert-coef](/graingert-coef)**
reviewed
[Aug 22, 2024](#pullrequestreview-2254561380)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/500d5d6f42f0e8dfa1cb5464c6cb420b1b6aaaa0)

[index.js](/micromatch/micromatch/pull/266/files/500d5d6f42f0e8dfa1cb5464c6cb420b1b6aaaa0#diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346)
Outdated

Show resolved

Hide resolved

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[fix: removed unused isObject function](/micromatch/micromatch/pull/266/commits/293fd9e7d8e88d92acc589d3b1b265e60347be0c "fix: removed unused isObject function")`

`[293fd9e](/micromatch/micromatch/pull/266/commits/293fd9e7d8e88d92acc589d3b1b265e60347be0c)`

[![@paulmillr](https://avatars.githubusercontent.com/u/574696?s=80&v=4)](/paulmillr)

Copy link

Contributor

### **[paulmillr](/paulmillr)** commented [Aug 22, 2024](#issuecomment-2304821108)

| tests are failing |
| --- |

All reactions

Sorry, something went wrong.

[![@graingert-coef](https://avatars.githubusercontent.com/u/151018808?s=80&v=4)](/graingert-coef)

Copy link

### **[graingert-coef](/graingert-coef)** commented [Aug 22, 2024](#issuecomment-2304898004) • edited Loading

| this is because macos-latest is now macos-14 which only supports arm (M1) cpus, and only node 16+, you'll need to either use macos-13 or macos-12 for the 10, 12 and 14 node versions or use `architecture: 'x64'`. See [actions/setup-node#1017 (comment)](https://github.com/actions/setup-node/issues/1017#issuecomment-2077478383) |
| --- |

All reactions

Sorry, something went wrong.

[![@ppvg](https://avatars.githubusercontent.com/u/67802?s=40&v=4)](/ppvg)
[ppvg](/ppvg)
mentioned this pull request
[Aug 22, 2024](#ref-pullrequest-2480843972)

[Prepare version 4.0.8
#267](/micromatch/micromatch/pull/267)
 Closed

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[feat: rework test to work on macos with node 10,12 and 14](/micromatch/micromatch/pull/266/commits/1406ea38f3e24b29f4d4f46908d5cffcb3e6c4ce "feat: rework test to work on macos with node 10,12 and 14")`

`[1406ea3](/micromatch/micromatch/pull/266/commits/1406ea38f3e24b29f4d4f46908d5cffcb3e6c4ce)`

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=80&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)

Copy link

Contributor

Author

### **[hauserkristof](/hauserkristof)** commented [Aug 22, 2024](#issuecomment-2305086954)

| Yeah, the issue with the test was the mentioned  this is because macos-latest is now macos-14 which only supports arm (M1) cpus, and only node 16+, you'll need to either use macos-13 or macos-12 for the 10, 12 and 14 node versions or use `architecture: 'x64'`. See [actions/setup-node#1017 (comment)](https://github.com/actions/setup-node/issues/1017#issuecomment-2077478383)  issue. I have modified the pipeline to properly run the tests on MacOs with Node version 10, 12 and 14 |
| --- |

All reactions

Sorry, something went wrong.

[![graingert-coef](https://avatars.githubusercontent.com/u/151018808?s=60&v=4)](/graingert-coef)

**[graingert-coef](/graingert-coef)**
reviewed
[Aug 22, 2024](#pullrequestreview-2255018892)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/1406ea38f3e24b29f4d4f46908d5cffcb3e6c4ce)

[.github/workflows/test.yml](/micromatch/micromatch/pull/266/files/293fd9e7d8e88d92acc589d3b1b265e60347be0c..1406ea38f3e24b29f4d4f46908d5cffcb3e6c4ce#diff-faff1af3d8ff408964a57b2e475f69a6b7c7b71c9978cccc8f471798caac2c88)
Outdated

Show resolved

Hide resolved

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[fix: use actions/setup-node@v4](/micromatch/micromatch/pull/266/commits/2ab13157f416679f54e3a32b1425e184bd16749e "fix: use actions/setup-node@v4")`

`[2ab1315](/micromatch/micromatch/pull/266/commits/2ab13157f416679f54e3a32b1425e184bd16749e)`

[![@graingert-coef](https://avatars.githubusercontent.com/u/151018808?s=80&v=4)](/graingert-coef)

Copy link

### **[graingert-coef](/graingert-coef)** commented [Aug 22, 2024](#issuecomment-2305148059)

| [@hauserkristof](https://github.com/hauserkristof) might be worth updating the changelog, with entries for the incorrect/breaking 4.0.6 and the insecure 4.0.7 and the secure+compatible 4.0.8? |
| --- |

 👍
3
 hauserkristof, graingert-coef, and graingert reacted with thumbs up emoji

All reactions

* 👍
  3 reactions

Sorry, something went wrong.

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[feat: updated CHANGELOG](/micromatch/micromatch/pull/266/commits/d9dbd9a266686f44afb38da26fe016f96d1ec04f "feat: updated CHANGELOG")`

`[d9dbd9a](/micromatch/micromatch/pull/266/commits/d9dbd9a266686f44afb38da26fe016f96d1ec04f)`

 [![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
[force-pushed](/micromatch/micromatch/compare/99e976329953d0f4ebbcc66ab02001f3dcf06683..d9dbd9a266686f44afb38da26fe016f96d1ec04f)
the
feature/v4.0.8

branch
from
[`99e9763`](/micromatch/micromatch/commit/99e976329953d0f4ebbcc66ab02001f3dcf06683) to
[`d9dbd9a`](/micromatch/micromatch/commit/d9dbd9a266686f44afb38da26fe016f96d1ec04f)  [Compare](/micromatch/micromatch/compare/99e976329953d0f4ebbcc66ab02001f3dcf06683..d9dbd9a266686f44afb38da26fe016f96d1ec04f)
[August 22, 2024 17:32](#event-13981901162)

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=80&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)

Copy link

Contributor

Author

### **[hauserkristof](/hauserkristof)** commented [Aug 22, 2024](#issuecomment-2305292086)

| I have extended the changelog. |
| --- |

All reactions

Sorry, something went wrong.

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
mentioned this pull request
[Aug 22, 2024](#ref-pullrequest-2480612026)

[[GHSA-952p-6rrq-rcjv] Regular Expression Denial of Service (ReDoS) in micromatch
github/advisory-database#4714](/github/advisory-database/pull/4714)
 Closed

 [![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
requested a review
from [graingert-coef](/graingert-coef)
[August 22, 2024 17:52](#event-13982103208)

This was referenced Aug 22, 2024

[Vulnerability reported in the dependent package "micromatch"
tailwindlabs/tailwindcss#14233](/tailwindlabs/tailwindcss/issues/14233)

Closed

[(Another) New fast-glob version required due to dependency CVE in micromatch
mrmlnc/fast-glob#454](/mrmlnc/fast-glob/issues/454)

Closed

[New awilix version required including new version of fast-glob (due to vulnerability in micromatch)
jeffijoe/awilix#366](/jeffijoe/awilix/issues/366)

Closed

[CVE-2024-4068 - Upgrade micromatch to 4.0.7
TypeStrong/ts-loader#1650](/TypeStrong/ts-loader/issues/1650)

Closed

[![jayvdb](https://avatars.githubusercontent.com/u/15092?s=60&v=4)](/jayvdb)

**[jayvdb](/jayvdb)**
reviewed
[Aug 22, 2024](#pullrequestreview-2255758393)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/d9dbd9a266686f44afb38da26fe016f96d1ec04f)

[CHANGELOG.md](/micromatch/micromatch/pull/266/files/d9dbd9a266686f44afb38da26fe016f96d1ec04f#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
Outdated

Show resolved

Hide resolved

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
changed the title
~~Backport CVE-2024-4067 & 4068 fix from 4.0.6 over 4.0.7~~
Backport CVE-2024-4067 fix from 4.0.6 over 4.0.7
[Aug 22, 2024](#event-13984592158)

[![jayvdb](https://avatars.githubusercontent.com/u/15092?s=60&v=4)](/jayvdb)

**[jayvdb](/jayvdb)**
reviewed
[Aug 22, 2024](#pullrequestreview-2255808679)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/d9dbd9a266686f44afb38da26fe016f96d1ec04f)

[CHANGELOG.md](/micromatch/micromatch/pull/266/files/d9dbd9a266686f44afb38da26fe016f96d1ec04f#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
Outdated

Show resolved

Hide resolved

[![jayvdb](https://avatars.githubusercontent.com/u/15092?s=60&v=4)](/jayvdb)

**[jayvdb](/jayvdb)**
reviewed
[Aug 22, 2024](#pullrequestreview-2255812191)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/d9dbd9a266686f44afb38da26fe016f96d1ec04f)

[CHANGELOG.md](/micromatch/micromatch/pull/266/files/d9dbd9a266686f44afb38da26fe016f96d1ec04f#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
Outdated

Show resolved

Hide resolved

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[fix: CVE numbers in CHANGELOG](/micromatch/micromatch/pull/266/commits/113f2e3fa7cb30b429eda7c4c38475a8e8ba1b30 "fix: CVE numbers in CHANGELOG")`

`[113f2e3](/micromatch/micromatch/pull/266/commits/113f2e3fa7cb30b429eda7c4c38475a8e8ba1b30)`

[![jayvdb](https://avatars.githubusercontent.com/u/15092?s=60&v=4)](/jayvdb)

**[jayvdb](/jayvdb)**
reviewed
[Aug 22, 2024](#pullrequestreview-2255863305)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/113f2e3fa7cb30b429eda7c4c38475a8e8ba1b30)

[CHANGELOG.md](/micromatch/micromatch/pull/266/files/113f2e3fa7cb30b429eda7c4c38475a8e8ba1b30#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)

Show resolved

Hide resolved

[![jayvdb](https://avatars.githubusercontent.com/u/15092?s=60&v=4)](/jayvdb)

**[jayvdb](/jayvdb)**
reviewed
[Aug 22, 2024](#pullrequestreview-2255864369)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/113f2e3fa7cb30b429eda7c4c38475a8e8ba1b30)

[CHANGELOG.md](/micromatch/micromatch/pull/266/files/113f2e3fa7cb30b429eda7c4c38475a8e8ba1b30#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
Outdated

Show resolved

Hide resolved

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&v=4)](/hauserkristof)

`[fix: CHANGELOG about braces &](/micromatch/micromatch/pull/266/commits/67fcce6a1077c2faf5ad0c5f998fa70202cc5dae "fix: CHANGELOG about braces & CVE-2024-4068, v4.0.5") [CVE-2024-4068](https://github.com/advisories/GHSA-grv7-fg5c-xmjg "CVE-2024-4068")[, v4.0.5](/micromatch/micromatch/pull/266/commits/67fcce6a1077c2faf5ad0c5f998fa70202cc5dae "fix: CHANGELOG about braces & CVE-2024-4068, v4.0.5")`

`[67fcce6](/micromatch/micromatch/pull/266/commits/67fcce6a1077c2faf5ad0c5f998fa70202cc5dae)`

[![paulmillr](https://avatars.githubusercontent.com/u/574696?s=60&v=4)](/paulmillr)

**[paulmillr](/paulmillr)**
approved these changes
[Aug 23, 2024](#pullrequestreview-2255994969)

 [View reviewed changes](/micromatch/micromatch/pull/266/files/67fcce6a1077c2faf5ad0c5f998fa70202cc5dae)

[![@Chathula](https://avatars.githubusercontent.com/u/4932296?s=80&u=d5da967a1c1eb16587e8e9583cf1747d0a883e5b&v=4)](/Chathula)

### This comment was marked as spam.

[Sign in to view](/login?return_to=https%3A%2F%2Fgithub.com%2Fmicromatch%2Fmicromatch%2Fpull%2F266)

[Julian](/Julian)
added a commit
to bowtie-json-schema/bowtie
that referenced
this pull request
[Aug 23, 2024](#ref-commit-8684844)
[![@Julian](https://avatars.githubusercontent.com/u/329822?s=40&u=90d2dd589d8944022f28f9465c177b10eac0801e&v=4)](/Julian)

`[Temporarily ignore the micromatch CVE.](/bowtie-json-schema/bowtie/commit/868484423642bf2569301f59cad37c4677a049cc "Temporarily ignore the micromatch CVE.

It will be fixed by micromatch/micromatch#266 followed by a release, and
is depended on by the estree stuff it looks like (so we don't use it in
the real site).")`
…

`[8684844](/bowtie-json-schema/bowtie/commit/868484423642bf2569301f59cad37c4677a049cc)`

```
It will be fixed by [micromatch/micromatch#266](https://github.com/micromatch/micromatch/pull/266) followed by a release, and
is depended on by the estree stuff it looks like (so we don't use it in
the real site).
```

[![@doowb](https://avatars.githubusercontent.com/u/995160?s=80&v=4)](/doowb)

Copy link

Member

### **[doowb](/doowb)** commented [Aug 23, 2024](#issuecomment-2307372890)

| [@hauserkristof](https://github.com/hauserkristof) thanks for this PR.  One nitpick... the code changes are not following the eslint rules, even though it looks like the code was copied from the changes in master. Specifically the quotes (should be single `'` vs double `"`).  I have my editor configured to run eslint fix when saving, so I can quickly fix this, but I just wanted to point it out in case you wanted to do another commit before this is merged. |
| --- |

 ❤️
1
 hauserkristof reacted with heart emoji

All reactions

* ❤️
  1 reaction

Sorry, something went wrong.

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=80&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)

Copy link

Contributor

Author

### **[hauserkristof](/hauserkristof)** commented [Aug 23, 2024](#issuecomment-2307380701)

| Hey [@doowb](https://github.com/doowb) , Yeah i noticed it, I had to you "save without formatting", because the other parts was did not formatted, I did not wanted to result too many changes to the original.  But I may change these.  It would be nice to know the agenda for the release before it. |
| --- |

All reactions

Sorry, something went wrong.

[![@doowb](https://avatars.githubusercontent.com/u/995160?s=80&v=4)](/doowb)

Copy link

Member

### **[doowb](/doowb)** commented [Aug 23, 2024](#issuecomment-2307394227)

| No problem. I'll make the change (only the new changes are formatting when I save). Thanks. |
| --- |

 ❤️
2
 jonschlinkert and hauserkristof reacted with heart emoji

All reactions

* ❤️
  2 reactions

Sorry, something went wrong.

 Hide details
View details

[![@doowb](https://avatars.githubusercontent.com/u/995160?s=40&v=4)](/doowb)
[doowb](/doowb)
merged commit [`03aa805`](/micromatch/micromatch/commit/03aa8052171e878897eee5d7bb2ae0ae83ec2ade)
into
micromatch:v4

[Aug 23, 2024](https://github.com/micromatch/micromatch/pull/266#event-13995282127)
15 checks passed

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=40&u=782687d1a10eca20fe911d62f78f3cd4a57a3a69&v=4)](/hauserkristof)
[hauserkristof](/hauserkristof)
mentioned this pull request
[Aug 23, 2024](#ref-issue-2368894721)

[Missing advisories for npm packages from CVE-2024-4067
github/advisory-database#4548](/github/advisory-database/issues/4548)

Closed

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
mentioned this pull request
[Aug 29, 2024](#ref-pullrequest-2480153439)

[feat: Dockerfile improvements for production
2pisoftware/cmfive-boilerplate#165](/2pisoftware/cmfive-boilerplate/pull/165)
 Merged

[![@asteriscos](https://avatars.githubusercontent.com/u/9343732?s=40&v=4)](/asteriscos)
[asteriscos](/asteriscos)
mentioned this pull request
[Aug 29, 2024](#ref-issue-2493824338)

[CVE-2024-4067 still exists in micromatch 4.0.7
opensearch-project/OpenSearch-Dashboards#7915](/opensearch-project/OpenSearch-Dashboards/issues/7915)

Open

This was referenced Aug 30, 2024

[Release develop changes
2pisoftware/cmfive-boilerplate#158](/2pisoftware/cmfive-boilerplate/pull/158)
 Merged

[Feature/patched dev testing workflow
2pisoftware/cmfive-boilerplate#167](/2pisoftware/cmfive-boilerplate/pull/167)
 Merged

[![@docJerem](https://avatars.githubusercontent.com/u/10330097?s=40&v=4)](/docJerem)
[docJerem](/docJerem)
mentioned this pull request
[Sep 3, 2024](#ref-pullrequest-2502773847)

[⬆️ Update dependencies / Micromatch v4.0.8
cryptr-auth/cryptr-spa-js#105](/cryptr-auth/cryptr-spa-js/pull/105)
 Merged

[![@RaedAbr](https://avatars.githubusercontent.com/u/28659334?s=40&v=4)](/RaedAbr)
[RaedAbr](/RaedAbr)
mentioned this pull request
[Sep 6, 2024](#ref-issue-2509705746)

[Vulnerability "Regular Expression Denial of Service (ReDoS)" found in package micromatch v4.0.7
mrmlnc/fast-glob#457](/mrmlnc/fast-glob/issues/457)

Closed

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
mentioned this pull request
[Sep 6, 2024](#ref-pullrequest-2509849865)

[Update EC2 scripts for docker deployment
2pisoftware/cmfive-boilerplate#168](/2pisoftware/cmfive-boilerplate/pull/168)
 Merged

4 tasks

[AmritSidhu](/AmritSidhu)
added a commit
to govuk-one-login/ipv-core-front
that referenced
this pull request
[Sep 10, 2024](#ref-commit-041a62e)
[![@AmritSidhu](https://avatars.githubusercontent.com/u/24409958?s=40&u=2a47aa211bc4c28f9443c899197b091b598a0274&v=4)](/AmritSidhu)

`[PYIC-7312: Regular Expression Denial of Service (ReDoS) in micromatch](/govuk-one-login/ipv-core-front/commit/041a62e08dd9c5efd557c6262ddc66a1cf389e0f "PYIC-7312: Regular Expression Denial of Service (ReDoS) in micromatch

The NPM package micromatch prior to version 4.0.8 is vulnerable to Regular Expression Denial of Service (ReDoS). The vulnerability occurs in micromatch.braces() in index.js because the pattern .* will greedily match anything. By passing a malicious payload, the pattern matching will keep backtracking to the input while it doesn't find the closing bracket. As the input size increases, the consumption time will also increase until it causes the application to hang or slow down. There was a merged fix but further testing shows the issue persisted prior to micromatch/micromatch#266. This issue should be mitigated by using a safe pattern that won't start backtracking the regular expression due to greedy matching.")`
…

`[041a62e](/govuk-one-login/ipv-core-front/commit/041a62e08dd9c5efd557c6262ddc66a1cf389e0f)`

```
The NPM package micromatch prior to version 4.0.8 is vulnerable to Regular Expression Denial of Service (ReDoS). The vulnerability occurs in micromatch.braces() in index.js because the pattern .* will greedily match anything. By passing a malicious payload, the pattern matching will keep backtracking to the input while it doesn't find the closing bracket. As the input size increases, the consumption time will also increase until it causes the application to hang or slow down. There was a merged fix but further testing shows the issue persisted prior to [micromatch/micromatch#266](https://github.com/micromatch/micromatch/pull/266). This issue should be mitigated by using a safe pattern that won't start backtracking the regular expression due to greedy matching.
```

This was referenced Sep 11, 2024

[Feat/armRunner
2pisoftware/cmfive-boilerplate#169](/2pisoftware/cmfive-boilerplate/pull/169)
 Closed

[Feat/tzdata
2pisoftware/cmfive-boilerplate#170](/2pisoftware/cmfive-boilerplate/pull/170)
 Closed

[Feat: Playwright testing for boilerplate
2pisoftware/cmfive-boilerplate#171](/2pisoftware/cmfive-boilerplate/pull/171)
 Merged

[Add core metadata
2pisoftware/cmfive-boilerplate#172](/2pisoftware/cmfive-boilerplate/pull/172)
 Merged

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fmicromatch%2Fmicromatch%2Fpull%2F266)

Reviewers

[![@jayvdb](https://avatars.githubusercontent.com/u/15092?s=40&v=4)](/jayvdb) [jayvdb](/jayvdb)

jayvdb left review comments

[![@paulmillr](https://avatars.githubusercontent.com/u/574696?s=40&v=4)](/paulmillr) [paulmillr](/paulmillr)

paulmillr approved these changes

[![@graingert-coef](https://avatars.githubusercontent.com/u/151018808?s=40&v=4)](/graingert-coef) [graingert-coef](/graingert-coef)

 Awaiting requested review from graingert-coef

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

7 participants

[![@hauserkristof](https://avatars.githubusercontent.com/u/1770194?s=52&v=4)](/hauserkristof) [![@paulmillr](https://avatars.githubusercontent.com/u/574696?s=52&v=4)](/paulmillr) [![@graingert-coef](https://avatars.githubusercontent.com/u/151018808?s=52&v=4)](/graingert-coef) [![@Chathula](https://avatars.githubusercontent.com/u/4932296?s=52&v=4)](/Chathula) [![@doowb](https://avatars.githubusercontent.com/u/995160?s=52&v=4)](/doowb) [![@jayvdb](https://avatars.githubusercontent.com/u/15092?s=52&v=4)](/jayvdb) [![@Benz19933](https://avatars.githubusercontent.com/u/166389216?s=52&v=4)](/Benz19933)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

