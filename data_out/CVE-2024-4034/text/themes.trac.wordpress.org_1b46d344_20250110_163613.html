

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Make WordPress Themes](//make.wordpress.org/themes/)

* [Blog](//make.wordpress.org/themes/)
* [Trac (Theme Reviews)](//themes.trac.wordpress.org/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fthemes.trac.wordpress.org%2Fbrowser%2Fvirtue%2F3.4.8%2Ftemplates%2Fhome%2Fblog-home.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)
* [Ticket Graph](/ticketgraph)

## Context Navigation

* [Blame](/browser/virtue/3.4.4/templates/home/blog-home.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/virtue/3.4.8/templates/home/blog-home.php)

---

# [source:](/browser?order=name "Go to repository root") [virtue](/browser/virtue?order=name "View virtue")/[3.4.8](/browser/virtue/3.4.8?order=name "View 3.4.8")/[templates](/browser/virtue/3.4.8/templates?order=name "View templates")/[home](/browser/virtue/3.4.8/templates/home?order=name "View home")/[blog-home.php](/browser/virtue/3.4.8/templates/home/blog-home.php?order=name "View blog-home.php")

View diff against:

View revision:

| [Last change](/changeset/139480/virtue/3.4.4/templates/home/blog-home.php "View differences") on this file was [139480](/changeset/139480/ "View changeset 139480"), checked in by themedropbox, [4 years ago](/timeline?from=2020-11-24T23%3A01%3A04Z&precision=second "See timeline at 11/24/2020 11:01:04 PM") |
| --- |
| New version of Virtue - 3.4.4 |
| **File size:** 6.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <div class="home\_blog home-margin clearfix home-padding"> |
| [2](#L2) | <?php if(virtue\_display\_sidebar()) { |
| [3](#L3) | $home\_sidebar   = true; |
| [4](#L4) | $img\_width              = 407; |
| [5](#L5) | $postwidthclass = 'col-md-6 col-sm-6 home-sidebar'; |
| [6](#L6) | } else { |
| [7](#L7) | $home\_sidebar   = false; |
| [8](#L8) | $img\_width              = 270; |
| [9](#L9) | $postwidthclass = 'col-md-6 col-sm-6'; |
| [10](#L10) | } |
| [11](#L11) | global $virtue; |
| [12](#L12) | if(isset($virtue['blog\_title'])) { |
| [13](#L13) | $btitle = $virtue['blog\_title']; |
| [14](#L14) | } else { |
| [15](#L15) | $btitle = \_\_('Latest from the Blog', 'virtue'); |
| [16](#L16) | } ?> |
| [17](#L17) | <div class="clearfix"><h3 class="hometitle"><?php echo esc\_html($btitle); ?></h3></div> |
| [18](#L18) | <div class="row"> |
| [19](#L19) | <?php if(isset($virtue['home\_post\_count'])) { |
| [20](#L20) | $blogcount = $virtue['home\_post\_count']; |
| [21](#L21) | } else { |
| [22](#L22) | $blogcount = '4'; |
| [23](#L23) | } |
| [24](#L24) | if(!empty($virtue['home\_post\_type'])) { |
| [25](#L25) | $blog\_cat          = get\_term\_by ('id',$virtue['home\_post\_type'],'category'); |
| [26](#L26) | $blog\_cat\_slug = $blog\_cat -> slug; |
| [27](#L27) | } else { |
| [28](#L28) | $blog\_cat\_slug = ''; |
| [29](#L29) | } |
| [30](#L30) |  |
| [31](#L31) | $temp     = $wp\_query; |
| [32](#L32) | $wp\_query = null; |
| [33](#L33) | $wp\_query = new WP\_Query(); |
| [34](#L34) | $wp\_query->query(array( |
| [35](#L35) | 'posts\_per\_page' => $blogcount, |
| [36](#L36) | 'category\_name'  => $blog\_cat\_slug, |
| [37](#L37) | 'ignore\_sticky\_posts' => true |
| [38](#L38) | ) |
| [39](#L39) | ); |
| [40](#L40) | $xyz = 0; |
| [41](#L41) | if ( $wp\_query ) : while ( $wp\_query->have\_posts() ) : $wp\_query->the\_post(); ?> |
| [42](#L42) | <div class="<?php echo esc\_attr($postwidthclass); ?> clearclass<?php echo esc\_attr( ($xyz++%2) ); ?>"> |
| [43](#L43) | <article id="post-<?php the\_ID(); ?>" <?php post\_class(); ?> itemscope="" itemtype="https://schema.org/BlogPosting"> |
| [44](#L44) | <div class="rowtight"> |
| [45](#L45) | <?php if(isset($virtue['post\_summery\_default']) && ($virtue['post\_summery\_default'] != 'text')) { |
| [46](#L46) | if($home\_sidebar == true) { |
| [47](#L47) | $textsize = 'tcol-md-12 tcol-sm-12 tcol-ss-12'; |
| [48](#L48) | $imagesize = 'tcol-md-12 tcol-sm-12 tcol-ss-12'; |
| [49](#L49) | } else { |
| [50](#L50) | $textsize = 'tcol-md-7 tcol-sm-12 tcol-ss-12'; |
| [51](#L51) | $imagesize = 'tcol-md-5 tcol-sm-12 tcol-ss-12'; |
| [52](#L52) | } ?> |
| [53](#L53) | <div class="<?php echo esc\_attr($imagesize);?>"> |
| [54](#L54) | <a href="<?php the\_permalink(); ?>" title="<?php the\_title\_attribute(); ?>"> |
| [55](#L55) | <?php echo virtue\_get\_full\_image\_output($img\_width, 270, true, 'imghoverclass', null, get\_post\_thumbnail\_id( $post->ID ), true, true );  ?> |
| [56](#L56) | </a> |
| [57](#L57) | </div> |
| [58](#L58) | <?php $image = null; ?> |
| [59](#L59) | <?php } else { |
| [60](#L60) | if (has\_post\_thumbnail( $post->ID ) ) { |
| [61](#L61) | if($home\_sidebar == true) { |
| [62](#L62) | $textsize = 'tcol-md-12 tcol-sm-12 tcol-ss-12'; |
| [63](#L63) | $imagesize = 'tcol-md-12 tcol-sm-12 tcol-ss-12'; |
| [64](#L64) | } else { |
| [65](#L65) | $textsize = 'tcol-md-7 tcol-sm-12 tcol-ss-12'; |
| [66](#L66) | $imagesize = 'tcol-md-5 tcol-sm-12 tcol-ss-12'; |
| [67](#L67) | } |
| [68](#L68) | ?> |
| [69](#L69) | <div class="<?php echo esc\_attr($imagesize);?>"> |
| [70](#L70) | <a href="<?php the\_permalink(); ?>" title="<?php the\_title\_attribute(); ?>"> |
| [71](#L71) | <?php echo virtue\_get\_full\_image\_output($img\_width, 270, true, 'imghoverclass', null, get\_post\_thumbnail\_id( $post->ID ), true, true );  ?> |
| [72](#L72) | </a> |
| [73](#L73) | </div> |
| [74](#L74) | <?php $image = null; $thumbnailURL = null; ?> |
| [75](#L75) | <?php } else { |
| [76](#L76) | $textsize = 'tcol-md-12 tcol-ss-12'; |
| [77](#L77) | } |
| [78](#L78) | }?> |
| [79](#L79) | <div class="<?php echo esc\_attr( $textsize );?> postcontent"> |
| [80](#L80) | <?php get\_template\_part('templates/post', 'date'); ?> |
| [81](#L81) | <header class="home\_blog\_title"> |
| [82](#L82) | <a href="<?php the\_permalink() ?>"> |
| [83](#L83) | <h4 class="entry-title" itemprop="name headline"><?php the\_title(); ?></h4> |
| [84](#L84) | </a> |
| [85](#L85) |  |
| [86](#L86) | <div class="subhead color\_gray"> |
| [87](#L87) | <span class="postauthortop author vcard" data-toggle="tooltip" data-placement="top" data-original-title="<?php echo get\_the\_author() ?>"> |
| [88](#L88) | <span itemprop="author" class="kt\_hidden"><a href="<?php echo esc\_url( get\_author\_posts\_url( get\_the\_author\_meta('ID') ) ); ?>" class="fn" rel="author"><?php echo get\_the\_author() ?></a></span> |
| [89](#L89) | <i class="icon-user"></i> |
| [90](#L90) | </span> |
| [91](#L91) | <span class="kad-hidepostauthortop"> | </span> |
| [92](#L92) | <?php $post\_category = get\_the\_category($post->ID); if (!empty($post\_category)) { ?> |
| [93](#L93) | <span class="postedintop" data-toggle="tooltip" data-placement="top" data-original-title="<?php |
| [94](#L94) | foreach ($post\_category as $category)  { |
| [95](#L95) | echo esc\_attr( $category->name ) .'&nbsp;'; |
| [96](#L96) | } ?>"><i class="icon-folder-open"></i></span> |
| [97](#L97) | <?php }?> |
| [98](#L98) | <?php if( comments\_open() ) { ?> |
| [99](#L99) | <span class="kad-hidepostedin">|</span> |
| [100](#L100) | <span class="postcommentscount" data-toggle="tooltip" data-placement="top" data-original-title="<?php $num\_comments = get\_comments\_number(); echo esc\_attr( $num\_comments ); ?>"> |
| [101](#L101) | <i class="icon-comments-alt"></i> |
| [102](#L102) | </span> |
| [103](#L103) | <?php } ?> |
| [104](#L104) | </div> |
| [105](#L105) | </header> |
| [106](#L106) | <div class="entry-content" itemprop="description"> |
| [107](#L107) | <p><?php echo wp\_kses\_post( virtue\_excerpt(34) ); ?> <a href="<?php the\_permalink() ?>"><?php esc\_html\_e('READ MORE', 'virtue');?></a></p> |
| [108](#L108) | </div> |
| [109](#L109) | <footer> |
| [110](#L110) | <?php do\_action( 'kadence\_post\_mini\_excerpt\_footer' ); ?> |
| [111](#L111) | </footer> |
| [112](#L112) | </div> |
| [113](#L113) | </div> |
| [114](#L114) | </article> |
| [115](#L115) | </div> |
| [116](#L116) |  |
| [117](#L117) | <?php endwhile; else: ?> |
| [118](#L118) | <li class="error-not-found"><?php esc\_html\_e('Sorry, no blog entries found.', 'virtue');?></li> |
| [119](#L119) | <?php endif; ?> |
| [120](#L120) |  |
| [121](#L121) |  |
| [122](#L122) | <?php $wp\_query = null; $wp\_query = $temp;  // Reset ?> |
| [123](#L123) | <?php wp\_reset\_query(); ?> |
| [124](#L124) |  |
| [125](#L125) | </div> |
| [126](#L126) | </div> <!--home-blog --> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/virtue/3.4.8/templates/home/blog-home.php?format=txt)
* [Original Format](/export/255539/virtue/3.4.8/templates/home/blog-home.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

