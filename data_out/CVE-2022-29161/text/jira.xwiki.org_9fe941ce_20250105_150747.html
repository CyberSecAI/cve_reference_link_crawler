

[Log in](/login.jsp?os_destination=%2Fbrowse%2FXWIKI-19676)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![XWiki.org JIRA](/s/-65z3d2/930000/8ws80b/_/jira-logo-scaled.png)](https://jira.xwiki.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")

* Give feedback to Atlassian
* [Help](https://docs.atlassian.com/jira/jcore-docs-093/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-093/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FXWIKI-19676)

![Uploaded image for project: 'XWiki Platform'](https://jira.xwiki.org/secure/projectavatar?pid=10010&avatarId=13602)

1. [XWiki Platform](/browse/XWIKI)
2. [XWIKI-19676](/browse/XWIKI-19676)

# Update the RSA Crypto script service to use SHA256 instead of SHA1 for certificate signature

[Log In](/login.jsp?os_destination=%2Fbrowse%2FXWIKI-19676 "Log In")ClosedExportnull

XMLWordPrintable
#### Details

* **Type:**
  ![](/secure/viewavatar?size=xsmall&avatarId=13518&avatarType=issuetype "Task - A task that needs to be done.") Task
* **Resolution:**
  Fixed
* **Priority:**
  ![](/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Fix Version/s:**
  [14.3.1](/issues/?jql=project+%3D+XWIKI+AND+fixVersion+%3D+14.3.1 "14.3.1 "), [14.4-rc-1](/issues/?jql=project+%3D+XWIKI+AND+fixVersion+%3D+14.4-rc-1 "14.4-rc-1 "), [13.10.6](/issues/?jql=project+%3D+XWIKI+AND+fixVersion+%3D+13.10.6 "13.10.6 ")
* **Affects Version/s:**
  13.10.5
* **Component/s:**
  [Crypto](/issues/?jql=project+%3D+XWIKI+AND+component+%3D+Crypto "Crypto ")
* **Labels:**
  + [security](/issues/?jql=labels+%3D+security "security")

* **Difficulty:**
  Unknown
* **Documentation:**
  N/A
* **Documentation in Release Notes:**
  <https://www.xwiki.org/xwiki/bin/view/ReleaseNotes/Data/XWiki/14.4RC1/Entry001/WebHome>
* **Similar issues:**

#### Description

[Since September 2021](https://github.com/openssl/openssl/blob/master/CHANGES.md?plain=1#L938), OpenSSL in version 3.0.0 discards by default certificates signed using SHA1, as techniques have been found to create collisions on SHA1 signatures.

In order to continue using SHA1-signed certificates, end users have to configure their OpenSSL installation to lower its security level, which will also allow other less-securely signed certificates to be validated by OpenSSL ([this issue](https://github.com/openssl/openssl/issues/16650) talks about it).

In XWiki, we use [SHA1 with RSA](https://github.com/xwiki/xwiki-platform/blob/3b871d906e664fa1875fbeb088404cf31e9f0094/xwiki-platform-core/xwiki-platform-crypto/xwiki-platform-crypto-script/src/main/java/org/xwiki/crypto/script/RSACryptoScriptService.java#L89) to sign certificates with the crypto APIs by default, this task is about switching to a more robust hashing algorithm.

Looking at what is done outside, it seems that SHA256-signed certificates have become the norm, and are now used by Let's Encrypt.

#### Attachments

#### Activity

#### People

Assignee:

![caubin](https://jira.xwiki.org/secure/useravatar?size=small&avatarId=10222)
Clément Aubin

Reporter:

![caubin](https://jira.xwiki.org/secure/useravatar?size=small&avatarId=10222)
Clément Aubin

Votes:
0
Vote for this issue

Watchers:
1
Start watching this issue

#### Dates

Created:

30/Apr/22 12:11

Updated:

07/Jul/22 10:16

Resolved:

30/Apr/22 12:20

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for XWiki.org. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)

