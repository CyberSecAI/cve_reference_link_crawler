

![](/static/v20250108.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1886852)
* [XML](/show_bug.cgi?ctype=xml&id=1886852)

Closed
[Bug 1886852](/show_bug.cgi?id=1886852)
(CVE-2024-29944)

Opened 10 months ago
Closed 10 months ago

# [pwn2own-2024] sandbox escape using non-SHIP session restore

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

[pwn2own-2024] sandbox escape using non-SHIP session restore

## Categories

### (Firefox :: Session Restore, defect)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
▾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Session%20Restore#Session%20Restore)

Session Restore
▾

Firefox :: Session Restore
For bugs in Firefox's session restore functionality, including the undo close tab feature.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Session%20Restore&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Session%20Restore&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Session%20Restore)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

--

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

126 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Accessibility Severity | --- |
| a11y-review | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr115 | [124+](/buglist.cgi?f1=cf_tracking_firefox_esr115&o1=equals&v1=124%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fixed) |
| firefox124 | [+](/buglist.cgi?f1=cf_tracking_firefox124&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox124&o1=equals&v1=fixed) |
| firefox125 | [+](/buglist.cgi?f1=cf_tracking_firefox125&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox125&o1=equals&v1=fixed) |
| firefox126 | [+](/buglist.cgi?f1=cf_tracking_firefox126&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox126&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr115 | 124+ | fixed |
| firefox-esr128 | --- | --- |
| firefox124 | + | fixed |
| firefox125 | + | fixed |
| firefox126 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: dveditz, Assigned: nika)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/fcf93a5a624020bf2256443c69e08b51?d=mm&size=40)  [nika](/user_profile?user_id=534482)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40)  [dveditz](/user_profile?user_id=1689)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/829febdab435f158003003158c098136?d=mm&size=40)  [sfoster](/user_profile?user_id=430165)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

32 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[1886892](/show_bug.cgi?id=1886892 "RESOLVED FIXED - Remove non-SHIP code from Desktop SessionStore")

Dependency [tree](/showdependencytree.cgi?id=1886852&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1886852)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2022-1802](/show_bug.cgi?id=1770137 "VERIFIED FIXED - Spot fix for pwn2own-2022 sandbox escape")

[1887029](/show_bug.cgi?id=1887029 "RESOLVED FIXED - Restrict tab attributes TabAttributes can restore")

## Details

### (Keywords: csectype-sandbox-escape, reporter-external, sec-critical, Whiteboard: [adv-main124.0.1+][adv-esr115.9.1+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2024-29944

[Keywords:](/describekeywords.cgi)

[csectype-sandbox-escape](/buglist.cgi?keywords=csectype-sandbox-escape&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main124.0.1+][adv-esr115.9.1+]

QA Whiteboard:

[post-critsmash-triage]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!](/attachment.cgi?id=9392594)  [10 months ago](#c2)  [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)   48 bytes, text/x-phabricator-request | diannaS : [approval-mozilla-beta+](#c11 "10 months ago")  diannaS : [approval-mozilla-release+](#c16 "10 months ago")  diannaS : [approval-mozilla-esr115+](#c12 "10 months ago")  tjr : [sec-approval+](#a6433_578488 "10 months ago") | [Details](/attachment.cgi?id=9392594&action=edit) | [Review](/attachment.cgi?id=9392594) |
| --- | --- | --- |
| [advisory.txt](/attachment.cgi?id=9392606)  [10 months ago](#c4)  [Tom Ritter [:tjr]](/user_profile?user_id=578488)   249 bytes, text/plain |  | [Details](/attachment.cgi?id=9392606&action=edit) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1886852#c0)• 10 months ago |
|  | |

*No description provided.*

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a275_1689)• 10 months ago |

[status-firefox124](/buglist.cgi?f1=cf_status_firefox124&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox124&o1=equals&v1=affected)
[status-firefox125](/buglist.cgi?f1=cf_status_firefox125&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox125&o1=equals&v1=affected)
[status-firefox126](/buglist.cgi?f1=cf_status_firefox126&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox126&o1=equals&v1=affected)
[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=affected)
[tracking-firefox-esr115](/buglist.cgi?f1=cf_tracking_firefox_esr115&o1=isnotempty):
--- → [124+](/buglist.cgi?f1=cf_tracking_firefox_esr115&o1=equals&v1=124%2B)Summary: pwn2own-2024 sandbox escape using session restore → [pwn2own-2024] sandbox escape using session restore

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a354_75935)• 10 months ago |

[tracking-firefox124](/buglist.cgi?f1=cf_tracking_firefox124&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox124&o1=equals&v1=%2B)
[tracking-firefox125](/buglist.cgi?f1=cf_tracking_firefox125&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox125&o1=equals&v1=%2B)
[tracking-firefox126](/buglist.cgi?f1=cf_tracking_firefox126&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox126&o1=equals&v1=%2B)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1886852#c1)• 10 months ago |
|  | |

The core of the sandbox escape is basically this:

```
const script = `
  dump("do whatever you want in parent process chrome JS");
`;

let attr = {"style":"text-indent: 500px;", "onoverflow":script, "onunderflow":script};
const data = {"epoch":0,"data":{"attributes":attr}};
mm.sendSyncMessage("SessionStore:update",data);

```

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1886852#c2)• 10 months ago |
|  | |

Attached file
[Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!](attachment.cgi?id=9392594)
— [Details](attachment.cgi?id=9392594&action=edit)

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a805_600971)• 10 months ago |

Assignee: nobody → nikaStatus: NEW → ASSIGNED

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1886852#c3)• 10 months ago |
|  | |

Nika said this code is dead on desktop because [bug 1804140](/show_bug.cgi?id=1804140 "RESOLVED FIXED - Require SHIP on desktop even when Fission is disabled") is on 114+, so we're always using SHIP. She also said that Android is not affected even though it is not using SHIP because the actual exploited code is not present on Android, or something like that.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a1856_406194)• 10 months ago |

Summary: [pwn2own-2024] sandbox escape using session restore → [pwn2own-2024] sandbox escape using non-SHIP session restore

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1886852#c4)• 10 months ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9392606)
— [Details](attachment.cgi?id=9392606&action=edit)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1886852#c5)• 10 months ago |
|  | |

I checked locally in an opt Nightly build with this patch that session restore still works even if Fission is disabled.

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a6433_578488)• 10 months ago |

[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: sec-approval+

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a6653_578488)• 10 months ago |

Alias: CVE-2024-29944

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1886852#c6)• 10 months ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1886852&comment_id=16855159 "1 revision") |
|  | |

As another double check that the patch worked as expected, I wrote a patch to log when we add a message listener or receive a message manager message, in the parent process. I tested starting the browser with "open previous tabs" enabled with a few tabs saved. On MacOS desktop, without the patch, we register 5 message listeners with "SessionStore" in the name. With the patch, we don't have any. So that is working as expected. Also as expected, in this simple scenario we don't receive any messages with SessionStore in the name, both with and without the patch.

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1886852#c7)• 10 months ago |
|  | |

Pushed by smolnar@mozilla.com:
<https://hg.mozilla.org/mozilla-central/rev/eccf7da6ea0f>
Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1886852#c8)• 10 months ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/eccf7da6ea0f>

Group: firefox-core-security → core-security-releaseStatus: ASSIGNED → RESOLVEDClosed: 10 months ago
[status-firefox126](/buglist.cgi?f1=cf_status_firefox126&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox126&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox126&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → 126 Branch

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a9559_406194)• 10 months ago |

Keywords: [csectype-sandbox-escape](/buglist.cgi?keywords=csectype-sandbox-escape&resolution=---)See Also: → [CVE-2022-1802](/show_bug.cgi?id=1770137 "VERIFIED FIXED - Spot fix for pwn2own-2022 sandbox escape")

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a10062_406194)• 10 months ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1886852#c9)• 10 months ago |
|  | |

Comment on [attachment 9392594](/attachment.cgi?id=9392594 "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") [[details]](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!")

[Bug 1886852](/show_bug.cgi?id=1886852 "RESOLVED FIXED - [pwn2own-2024] sandbox escape using non-SHIP session restore") - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**:
* **User impact if declined**: sandbox escape
* **Fix Landed on Version**: 126
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: Disabling dead code (as verified by ccov and code reading) which should have been behind a preference, and exposed a security vulnerability to content processes.

### Beta/Release Uplift Approval Request

* **User impact if declined**: sandbox escape
* **Is this code covered by automated tests?**: No
* **Has the fix been verified in Nightly?**: No
* **Needs manual test from QE?**: No
* **If yes, steps to reproduce**:
* **List of other uplifts needed**: None
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: Disabling dead code (as verified by ccov and code reading) which should have been behind a preference, and exposed a security vulnerability to content processes.
* **String changes made/needed**: none
* **Is Android affected?**: No
[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: approval-mozilla-release?
[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: approval-mozilla-esr115?
[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: approval-mozilla-beta?

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a10629_534482)• 10 months ago |

Blocks: [1886892](/show_bug.cgi?id=1886892 "RESOLVED FIXED - Remove non-SHIP code from Desktop SessionStore")

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1886852#c10)• 10 months ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/a840396413ab>

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1886852#c11)• 10 months ago |
|  | |

Comment on [attachment 9392594](/attachment.cgi?id=9392594 "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") [[details]](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!")

[Bug 1886852](/show_bug.cgi?id=1886852 "RESOLVED FIXED - [pwn2own-2024] sandbox escape using non-SHIP session restore") - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!

Approved for 125.0b3

[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: approval-mozilla-beta? → approval-mozilla-beta+

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a10989_690067)• 10 months ago |

[status-firefox125](/buglist.cgi?f1=cf_status_firefox125&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox125&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox125&o1=equals&v1=fixed)

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1886852#c12)• 10 months ago |
|  | |

Comment on [attachment 9392594](/attachment.cgi?id=9392594 "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") [[details]](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!")

[Bug 1886852](/show_bug.cgi?id=1886852 "RESOLVED FIXED - [pwn2own-2024] sandbox escape using non-SHIP session restore") - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!

Approved for 115.9.1esr

[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: approval-mozilla-esr115? → approval-mozilla-esr115+

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1886852#c13)• 10 months ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr115/rev/c7ef8840e93f>

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a11986_690067)• 10 months ago |

[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fixed)

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1886852#c14)• 10 months ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr115/rev/f65068dc82bf>

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1886852#c15)• 10 months ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-release/rev/00dc57b4677a>

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1886852#c16)• 10 months ago |
|  | |

Comment on [attachment 9392594](/attachment.cgi?id=9392594 "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") [[details]](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!")

[Bug 1886852](/show_bug.cgi?id=1886852 "RESOLVED FIXED - [pwn2own-2024] sandbox escape using non-SHIP session restore") - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!

Approved for 124.0.1 dot release

[Attachment #9392594](/attachment.cgi?id=9392594&action=edit "Bug 1886852 - Avoid registering unnecessary MessageManager listeners when SHIP is enabled, r=smaug!") -
Flags: approval-mozilla-release? → approval-mozilla-release+

|  | [Dianna Smith [:diannaS]](/user_profile?user_id=690067) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a15090_690067)• 10 months ago |

[status-firefox124](/buglist.cgi?f1=cf_status_firefox124&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox124&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox124&o1=equals&v1=fixed)

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1886852#c17)• 10 months ago |
|  | |

Smoke tested Session Restore with and without Fission on RC 124.0.1-build1 and ESR 115.9.1esr-build1 - all manual tests passed. More details on confluence page: [https://mozilla-hub.atlassian.net/wiki/spaces/FDPDT/pages/10617980/Firefox+regression+testing#Chemspill-124.0.1-build1](https://mozilla-hub.atlassian.net/wiki/spaces/FDPDT/pages/10617980/Firefox%2Bregression%2Btesting#Chemspill-124.0.1-build1)

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a70727_534482)• 10 months ago |

See Also: → [1887029](/show_bug.cgi?id=1887029 "RESOLVED FIXED - Restrict tab attributes TabAttributes can restore")

|  | [Andrei Vaida [:avaida]](/user_profile?user_id=488993) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a558104_488993)• 10 months ago |

QA Whiteboard: [post-critsmash-triage]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a6365497_1689)• 7 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a7717957_1689)• 7 months ago |

Whiteboard: [adv-main124.0.1+][adv-esr115.9.1+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1886852#a15424479_1689)• 4 months ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1886852&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review

