<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Upgrade to Vault 1.15.x - Guides | Vault | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Deprecations, important or breaking changes, and remediation recommendations
for anyone upgrading to 1.15.x from Vault 1.14.x."/><meta name="twitter:description" content="Deprecations, important or breaking changes, and remediation recommendations
for anyone upgrading to 1.15.x from Vault 1.14.x."/><meta property="og:site_name" content="Upgrade to Vault 1.15.x - Guides | Vault | HashiCorp Developer"/><meta property="og:title" content="Upgrade to Vault 1.15.x - Guides | Vault | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/vault.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/vault/docs/upgrading/upgrade-to-1.15.x"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/vault.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Vault","item":"https://developer.hashicorp.com/vault"},{"@type":"ListItem","position":3,"name":"Documentation","item":"https://developer.hashicorp.com/vault/docs"},{"@type":"ListItem","position":4,"name":"Upgrade Guides","item":"https://developer.hashicorp.com/vault/docs/upgrading"},{"@type":"ListItem","position":5,"name":"Upgrade to 1.15.x","item":"https://developer.hashicorp.com/vault/docs/upgrading/upgrade-to-1.15.x"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/c4e429bfa0a6a34b.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" as="style"/><link rel="stylesheet" href="/_next/static/css/c4e429bfa0a6a34b.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" data-n-g=""/><link rel="preload" href="/_next/static/css/82b9cc80b84d25f7.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" as="style"/><link rel="stylesheet" href="/_next/static/css/82b9cc80b84d25f7.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" data-n-p=""/><link rel="preload" href="/_next/static/css/ea6200fd19daadcf.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" as="style"/><link rel="stylesheet" href="/_next/static/css/ea6200fd19daadcf.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" data-n-p=""/><link rel="preload" href="/_next/static/css/17746cad20c495ec.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" as="style"/><link rel="stylesheet" href="/_next/static/css/17746cad20c495ec.css?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct"></script><script src="/_next/static/chunks/webpack-99561b02e77b2351.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/framework-f2b655730fee1ac7.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/main-b6dbe1ad05814f6e.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/pages/_app-a5710f0226cc5491.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/5902-87f33039e0eec3ac.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/1395-3123953bf33a1a96.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/2273-2d3c65b146eaf65e.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/5675-c6b9a81e33784fa8.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/6000-385d175dbbae1922.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/7181-01dcfe99b31b9f74.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/9554-fb60cf4618db227c.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/7427-6ce68182b58ee028.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/5261-0f909cfff7611a53.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/6787-0935f1e5edf0f0cf.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/3786-34abdb13b229e38d.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/6842-a56c44eb3b2b7c0c.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/chunks/pages/vault/docs/%5B...page%5D-4a40dcd9333e4dcd.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/bjndAIxCQduUB0Kudxmwg/_buildManifest.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script><script src="/_next/static/bjndAIxCQduUB0Kudxmwg/_ssgManifest.js?dpl=dpl_Gx12kwWDkwfpBruxEeWmB8dm3pct" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu style_isShown__D4mb6"><a href="https://hashi.co/hashitalks-2025" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">HashiTalks 2025<!-- --> </span><span class="style_text__rwS0u g-type-body-small">Learn about unique use cases, homelab setups, and best practices at scale at our 24-hour virtual knowledge sharing event.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Register</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_learn-about-unique-use-cases-homelab-setups-and-best-practices-at-scale-at-our-24-hour-virtual-knowledge-sharing-event.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-terraform-fill flight-icon-display-inline style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9imld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-packer-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Raimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-nomad-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rbimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-waypoint-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rcimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vagrant-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rdimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R9kmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-boundary-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rakmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Secrets - Manage secrets as a service" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-secrets"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-secrets flight-icon-display-inline style_hcpVaultSecrets__11wgG" aria-hidden="true" fill="currentColor" id=":Rbkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-secrets-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Secrets</span><span class="style_productDesc__bi44f">Manage secrets as a service</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-consul-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rckmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-radar flight-icon-display-inline style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rdkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="flight-icon flight-icon-hashicorp flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R36ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="flight-icon flight-icon-external-link flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R2l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-award flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rbald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-learn flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rdald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-layers flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rfald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Vault home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/vault"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Vault</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Vault Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Vault Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Vault Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Vault API" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">API</span></a></li><li><a aria-label="Vault Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Vault Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-8" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-8">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-9-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-9-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-11">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-narrow__FhCbs"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/vault"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Vault Home</span></div></a></div></div><div class="sidebar_filterInputWrapper__0_l_Y"><div class="filter-input_filterInputContainer__thZt3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="filter-input_filterIcon__UET0p filter-input_sharedIconColorAndPositioning__hXPit"><g fill="currentColor"><path d="M1 3.75A.75.75 0 011.75 3h12.5a.75.75 0 010 1.5H1.75A.75.75 0 011 3.75zM3.5 7.75A.75.75 0 014.25 7h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM6.75 11a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z"></path></g></svg><input class="filter-input_filterInput__hga4N g-focus-ring-from-box-shadow" placeholder="Filter sidebar" autoComplete="off" autoCorrect="off" autoCapitalize="none" spellcheck="false" value=""/></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div class="g-screen-reader-only"><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label">Documentation</h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-vault__GzzUx" href="/vault/docs"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Documentation</span></a></li><li id="sidebar-nav-item-0"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/what-is-vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">What is Vault?</span></a></li><li id="sidebar-nav-item-1"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/use-cases"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Use Cases</span></a></li><li id="sidebar-nav-item-2"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-2-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Get Started</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-7"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-8"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/browser-support"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Browser Support</span></a></li><li id="sidebar-nav-item-9"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-9-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Install Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-13"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/run-as-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Run Vault as a service</span></a></li><li id="sidebar-nav-item-14"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-14-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Internals</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-43"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-43-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Concepts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-85"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-85-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configuration</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-152"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-152-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault CLI</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-280"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-280-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault GUI</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-284"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-284-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault tools: Agent and Proxy</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-327"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-328"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-328-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Engines</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-421"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-421-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Sync</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_outlined-neutral__32YXY"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-428"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-428-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Import</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_outlined-neutral__32YXY"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-432"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-432-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Auth Methods</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-480"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-480-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Audit Devices</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-485"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-485-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Plugins</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-495"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/partnerships"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault Integration Program</span></a></li><li id="sidebar-nav-item-496"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/interoperability-matrix"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault interoperability matrix</span></a></li><li id="sidebar-nav-item-497"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-497-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Troubleshoot Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-502"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-503"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-503-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Platforms</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-581"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-582"><button aria-controls="sidebar-nav-item-582-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-582-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade Guides</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-582-list"><li id="sidebar-nav-item-583"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Overview</span></a></li><li id="sidebar-nav-item-584"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/vault-ha-upgrade"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade Vault HA installations</span></a></li><li id="sidebar-nav-item-585"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/plugins"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade Plugins</span></a></li><li id="sidebar-nav-item-586"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/raft-wal"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to Raft WAL</span></a></li><li id="sidebar-nav-item-587"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.18.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.18.x</span></a></li><li id="sidebar-nav-item-588"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.17.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.17.x</span></a></li><li id="sidebar-nav-item-589"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.16.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.16.x</span></a></li><li id="sidebar-nav-item-590"><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.15.x</span></a></li><li id="sidebar-nav-item-591"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.14.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.14.x</span></a></li><li id="sidebar-nav-item-592"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.13.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.13.x</span></a></li><li id="sidebar-nav-item-593"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.12.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.12.x</span></a></li><li id="sidebar-nav-item-594"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.11.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.11.x</span></a></li><li id="sidebar-nav-item-595"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.10.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.10.x</span></a></li><li id="sidebar-nav-item-596"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.9.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.9.x</span></a></li><li id="sidebar-nav-item-597"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.8.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.8.x</span></a></li><li id="sidebar-nav-item-598"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.7.x"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.7.x</span></a></li><li id="sidebar-nav-item-599"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.6.3"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.6.3</span></a></li><li id="sidebar-nav-item-600"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.6.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.6.2</span></a></li><li id="sidebar-nav-item-601"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.6.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.6.1</span></a></li><li id="sidebar-nav-item-602"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.6.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.6.0</span></a></li><li id="sidebar-nav-item-603"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.5.3"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.5.3</span></a></li><li id="sidebar-nav-item-604"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.5.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.5.2</span></a></li><li id="sidebar-nav-item-605"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.5.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.5.1</span></a></li><li id="sidebar-nav-item-606"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.5.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.5.0</span></a></li><li id="sidebar-nav-item-607"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.4.6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.4.6</span></a></li><li id="sidebar-nav-item-608"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.4.5"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.4.5</span></a></li><li id="sidebar-nav-item-609"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.4.4"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.4.4</span></a></li><li id="sidebar-nav-item-610"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.4.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.4.1</span></a></li><li id="sidebar-nav-item-611"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.4.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.4.0</span></a></li><li id="sidebar-nav-item-612"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.10"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.10</span></a></li><li id="sidebar-nav-item-613"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.9"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.9</span></a></li><li id="sidebar-nav-item-614"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.8"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.8</span></a></li><li id="sidebar-nav-item-615"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.5"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.5</span></a></li><li id="sidebar-nav-item-616"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.4"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.4</span></a></li><li id="sidebar-nav-item-617"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.3"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.3</span></a></li><li id="sidebar-nav-item-618"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.2</span></a></li><li id="sidebar-nav-item-619"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.3.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.3.0</span></a></li><li id="sidebar-nav-item-620"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.2.7"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.2.7</span></a></li><li id="sidebar-nav-item-621"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.2.6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.2.6</span></a></li><li id="sidebar-nav-item-622"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.2.5"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.2.5</span></a></li><li id="sidebar-nav-item-623"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.2.4"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.2.4</span></a></li><li id="sidebar-nav-item-624"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.2.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.2.1</span></a></li><li id="sidebar-nav-item-625"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.2.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.2.0</span></a></li><li id="sidebar-nav-item-626"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.1.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.1.2</span></a></li><li id="sidebar-nav-item-627"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.1.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.1.1</span></a></li><li id="sidebar-nav-item-628"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.1.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.1.0</span></a></li><li id="sidebar-nav-item-629"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.0.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 1.0.0</span></a></li><li id="sidebar-nav-item-630"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.11.6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.11.6</span></a></li><li id="sidebar-nav-item-631"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.11.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.11.2</span></a></li><li id="sidebar-nav-item-632"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.11.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.11.0</span></a></li><li id="sidebar-nav-item-633"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.10.4"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.10.4</span></a></li><li id="sidebar-nav-item-634"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.10.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.10.2</span></a></li><li id="sidebar-nav-item-635"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.10.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.10.0</span></a></li><li id="sidebar-nav-item-636"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.9.6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.9.6</span></a></li><li id="sidebar-nav-item-637"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.9.3"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.9.3</span></a></li><li id="sidebar-nav-item-638"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.9.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.9.2</span></a></li><li id="sidebar-nav-item-639"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.9.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.9.1</span></a></li><li id="sidebar-nav-item-640"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.9.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.9.0</span></a></li><li id="sidebar-nav-item-641"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.8.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.8.0</span></a></li><li id="sidebar-nav-item-642"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.7.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.7.0</span></a></li><li id="sidebar-nav-item-643"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.6.4"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.6.4</span></a></li><li id="sidebar-nav-item-644"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.6.3"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.6.3</span></a></li><li id="sidebar-nav-item-645"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.6.2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.6.2</span></a></li><li id="sidebar-nav-item-646"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.6.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.6.1</span></a></li><li id="sidebar-nav-item-647"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.6.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.6.0</span></a></li><li id="sidebar-nav-item-648"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.5.1"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.5.1</span></a></li><li id="sidebar-nav-item-649"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-0.5.0"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade to 0.5.0</span></a></li></ul></li><li id="sidebar-nav-item-650"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-651"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-651-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Release Notes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-667"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-668"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/deprecation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Deprecation notices</span></a></li><li id="sidebar-nav-item-669"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-670"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-670-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">FAQ</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-677"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-678"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/glossary"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Glossary</span></a></li><li id="sidebar-nav-item-679"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-680"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-680-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault Enterprise</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/certifications/security-automation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certifications</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-91" target="_blank" href="https://discuss.hashicorp.com/c/vault/30"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-91">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-92" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-92">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-93" target="_blank" href="https://github.com/hashicorp/vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-93">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault">Vault</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs">Documentation</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs/upgrading">Upgrade Guides</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">Upgrade to 1.15.x</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="docs-page-heading_root__QuBg_ docs-view_docsPageHeading___xkrK"><div class="docs-page-heading_versionSwitcherWrapper__bdlWl"><nav><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj version-switcher_root__5pTE6"><button aria-controls="disclosure-react-aria-98-content" aria-expanded="false" aria-label="Choose a Vault Documentation version. Currently viewing v1.18.x (latest)." class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.18.x (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-98-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-semibold list-item_label__9AZsc">Vault</span></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/vault/docs/v1.17.x/upgrading/upgrade-to-1.15.x" rel="nofollow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.17.x</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/vault/docs/v1.16.x/upgrading/upgrade-to-1.15.x" rel="nofollow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.16.x</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/vault/docs/v1.15.x/upgrading/upgrade-to-1.15.x" rel="nofollow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.15.x</span></a></li></ul></div></div></nav></div><div class="docs-page-heading_pageHeadingWrapper__LEMQ7"><h1 class="hds-typography-display-600 hds-font-weight-bold docs-plain-page-heading_root__HzRuX g-offset-scroll-margin-top" id="overview">Overview</h1></div></div><div class="dev-dot-content_root__UJDct hds-typography-body-300"><div class="docs-view_mdxContent___uMnx"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The Vault 1.15.x upgrade guide contains information on deprecations, important
or breaking changes, and remediation recommendations for anyone upgrading from
Vault 1.14. <strong>Please read carefully</strong>.</p><h2 id="consul-service-registration" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="consul service registration permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#consul-service-registration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Consul service registration</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As of version 1.15, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service_tags</code> supplied to Vault for the purpose of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/configuration/service-registration/consul#service_tags">Consul
service registration</a>
will be <strong>case-sensitive</strong>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In previous versions of Vault tags were converted to lowercase which led to issues,
for example when tags contained Traefik rules which use case-sensitive method names
such as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Host()</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you previously used Consul service registration tags ignoring case, or relied
on the lowercase tags created by Vault, then this change may cause unexpected behavior.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Please audit your Consul storage stanza to ensure that you either:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Manually convert your <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service_tags</code> to lowercase if required</li><li class="mdx-lists_listItem__nkqhg">Ensure that any system that relies on the tags is aware of the new case-preserving behavior</li></ul><h2 id="rollback-metrics" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="rollback metrics permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#rollback-metrics"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Rollback metrics</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault no longer measures and reports the metrics <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.rollback.attempts.{MOUNTPOINT}</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.route.rollback.{MOUNTPOINT}</code> by default. The new default metrics are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.rollback.attempts</code>
and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.route.rollback</code>, which <strong>do not</strong> contain the mount point in the metric name.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To continue measuring <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.rollback.attempts.{MOUNTPOINT}</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.route.rollback.{MOUNTPOINT}</code>, you must explicitly enable mount-specific
metrics in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">telemetry</code> stanza of your Vault configuration with the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/configuration/telemetry#add_mount_point_rollback_metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">add_mount_point_rollback_metrics</code></a>
option.</p><h2 id="application-of-sentinel-role-governing-policies-rgps-via-identity-groups" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="application of sentinel role governing policies rgps via identity groups permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#application-of-sentinel-role-governing-policies-rgps-via-identity-groups"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Application of Sentinel Role Governing Policies (RGPs) via identity groups</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As of versions <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.15.0</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.14.4</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.13.8</code>, <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/enterprise/sentinel#rgps-and-namespaces">the Sentinel RGPSs derived from membership in identity groups apply
only to entities in the same and child namespaces, relative to the identity group</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Also, the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/config-group-policy-application"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">group_policy_application_mode</code></a> only applies to
to ACL policies. Vault Sentinel Role Governing Policies (RGPs) are not affected by group policy application mode.</p><h3 id="docker-image-no-longer-contains-curl" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="docker image no longer contains curl permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#docker-image-no-longer-contains-curl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Docker image no longer contains <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">curl</code></h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As of 1.15.13 and later, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">curl</code> binary is no longer included in the published Docker container
images for Vault and Vault Enterprise. If your workflow depends on <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">curl</code> being available in the
container, consider one of the following strategies:</p><h4 id="create-a-wrapper-container-image" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="create a wrapper container image permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#create-a-wrapper-container-image"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Create a wrapper container image</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Use the HashiCorp image as a base image to create a new container image with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">curl</code> installed.</p><div class="hds-code-block hds-code-block--theme-dark language-dockerfile hds-code-block--is-standalone language-dockerfile mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R9ddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">FROM</span><span style="color:var(--hds-code-block-color-token)"> hashicorp/vault-enterprise</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">RUN</span><span style="color:var(--hds-code-block-color-token)"> apk add curl</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R9ddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R789ddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NOTE:</strong> While this is the preferred option it will require managing your own registry and rebuilding new images.</p><h4 id="install-it-at-runtime-dynamically" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="install it at runtime dynamically permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#install-it-at-runtime-dynamically"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Install it at runtime dynamically</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When running the image as root (not recommended), you can install it at runtime dynamically by using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">apk</code> package manager:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rbddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">docker exec &lt;CONTAINER-ID&gt; apk add curl</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rbddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R78bddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rbtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">kubectl exec -ti &lt;NAME&gt; -- apk add curl</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rbtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R78btdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When running the image as non-root without privilege escalation (recommended) you can use existing
tools to install a static binary of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">curl</code> into the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault</code> users home directory:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rctdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">docker exec &lt;CONTAINER-ID&gt; wget https://github.com/moparisthebest/static-curl/releases/latest/download/curl-amd64 -O /home/vault/curl &amp;&amp; chmod +x /home/vault/curl</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rctdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R78ctdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rdddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">kubectl exec -ti &lt;NAME&gt; -- wget https://github.com/moparisthebest/static-curl/releases/latest/download/curl-amd64 -O /home/vault/curl &amp;&amp; chmod +x /home/vault/curl</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rdddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R78dddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NOTE:</strong> When using this option you&#x27;ll want to verify that the static binary comes from a trusted source.</p><h2 id="activity-log-changes" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="activity log changes permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#activity-log-changes"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Activity Log Changes</h2><h3 id="disable-client-counting-activity" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="disable client counting activity permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#disable-client-counting-activity"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Disable client counting activity</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">License utilization cannot be reported if client counting is disabled. As of Vault Enterprise 1.15.6 and later, client counting cannot be disabled using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/sys/internal/counters/config</code> endpoint as manual license utilization reporting is always enabled.</p><h2 id="known-issues-and-workarounds" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="known issues and workarounds permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#known-issues-and-workarounds"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Known issues and workarounds</h2><a id="autopilot" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/upgrading/upgrade-to-1.15.x#"></a><h3 id="autopilot-upgrade-for-vault-enterprise-fails" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="autopilot upgrade for vault enterprise fails permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#autopilot-upgrade-for-vault-enterprise-fails"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Autopilot upgrade for Vault Enterprise fails</h3><h4 id="affected-versions" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.8 - 1.15.9</li></ul><h4 id="issue" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The expected process for voter status management does not occur during the
autopilot upgrade process. The autopilot upgrade process adds new nodes (new version) as
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">target_version_non_voters</code> then <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">target_version_voters</code> but existing nodes (old
version) fail to upgrade and maintain their current voter status.</p><h4 id="workaround" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Disable autopilot upgrades and manually upgrade all nodes in the cluster.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Explicitly set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">autopilot_upgrade_version</code> parameter to the desired
version in the raft <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">storage</code> stanza on your new nodes:</p><div class="hds-code-block hds-code-block--theme-dark language-hcl hds-code-block--is-standalone language-hcl mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2gjtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">storage</span><span style="color:var(--hds-code-block-color-constant)"> &quot;raft&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  autopilot_upgrade_version </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;1.15.8&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2gjtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mgjtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ol><h3 id="transit-encryption-with-cloud-kms-managed-keys-causes-a-panic" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="transit encryption with cloud kms managed keys causes a panic permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#transit-encryption-with-cloud-kms-managed-keys-causes-a-panic"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Transit Encryption with Cloud KMS managed keys causes a panic</h3><h4 id="affected-versions-1" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.13.1+ up to 1.13.8 inclusively</li><li class="mdx-lists_listItem__nkqhg">1.14.0+ up to 1.14.4 inclusively</li><li class="mdx-lists_listItem__nkqhg">1.15.0</li></ul><h4 id="issue-1" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault panics when it receives a Transit encryption API call that is backed by a Cloud KMS managed key (Azure, GCP, AWS).</p><div class="mdx-inline-alert_spacing___QlMF"><div class="inline-alert_default___c6Mu hds-typography-body-200 inline-alert_warning__2yPdZ mdx-inline-alert_typographyOverride__DHnxV"><span class="inline-alert_icon__b_Ema" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M11 17a1 1 0 011-1h.01a1 1 0 110 2H12a1 1 0 01-1-1zM12.75 8.75a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z"></path><path fill-rule="evenodd" d="M10.658 2.366a2.651 2.651 0 012.684 0c.407.239.745.581.984.99l.002.004 8.315 14.46a2.86 2.86 0 01.008 2.758 2.757 2.757 0 01-.976 1.03c-.41.25-.877.386-1.357.392H3.682a2.653 2.653 0 01-1.357-.393 2.757 2.757 0 01-.975-1.029 2.86 2.86 0 01.007-2.758l.006-.01 8.31-14.45.001-.004a2.75 2.75 0 01.984-.99zm.313 1.744v.001L2.665 18.552a1.36 1.36 0 000 1.306c.108.198.262.36.443.47.18.11.382.169.586.172h16.61c.204-.003.406-.061.586-.172.181-.11.335-.272.444-.47a1.361 1.361 0 00-.001-1.306L13.03 4.112l-.001-.002a1.25 1.25 0 00-.446-.45 1.151 1.151 0 00-1.166 0 1.25 1.25 0 00-.446.45z" clip-rule="evenodd"></path></g></svg></span><span class="inline-alert_content__fR9kv"><p class="inline-alert_title__20wIt">Note</p><span class="inline-alert_description__tisu9">The issue does not affect encryption and decryption with the following key types:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">PKCS#11 managed keys</li><li class="mdx-lists_listItem__nkqhg">Transit native keys</li></ul></span></span></div></div><h4 id="workaround-1" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">None at this time</p><h3 id="transit-sign-api-calls-with-managed-keys-fail" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="transit sign api calls with managed keys fail permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#transit-sign-api-calls-with-managed-keys-fail"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Transit Sign API calls with managed keys fail</h3><h4 id="affected-versions-2" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.14.0+ up to 1.14.4 inclusively</li><li class="mdx-lists_listItem__nkqhg">1.15.0</li></ul><h4 id="issue-2" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault responds to Transit sign API calls with the following error when the request uses a managed key:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">requested version for signing does not contain a private part</code></p><div class="mdx-inline-alert_spacing___QlMF"><div class="inline-alert_default___c6Mu hds-typography-body-200 inline-alert_warning__2yPdZ mdx-inline-alert_typographyOverride__DHnxV"><span class="inline-alert_icon__b_Ema" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M11 17a1 1 0 011-1h.01a1 1 0 110 2H12a1 1 0 01-1-1zM12.75 8.75a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z"></path><path fill-rule="evenodd" d="M10.658 2.366a2.651 2.651 0 012.684 0c.407.239.745.581.984.99l.002.004 8.315 14.46a2.86 2.86 0 01.008 2.758 2.757 2.757 0 01-.976 1.03c-.41.25-.877.386-1.357.392H3.682a2.653 2.653 0 01-1.357-.393 2.757 2.757 0 01-.975-1.029 2.86 2.86 0 01.007-2.758l.006-.01 8.31-14.45.001-.004a2.75 2.75 0 01.984-.99zm.313 1.744v.001L2.665 18.552a1.36 1.36 0 000 1.306c.108.198.262.36.443.47.18.11.382.169.586.172h16.61c.204-.003.406-.061.586-.172.181-.11.335-.272.444-.47a1.361 1.361 0 00-.001-1.306L13.03 4.112l-.001-.002a1.25 1.25 0 00-.446-.45 1.151 1.151 0 00-1.166 0 1.25 1.25 0 00-.446.45z" clip-rule="evenodd"></path></g></svg></span><span class="inline-alert_content__fR9kv"><p class="inline-alert_title__20wIt">Note</p><span class="inline-alert_description__tisu9">The issue does not affect signing with the following key types:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Transit native keys</li></ul></span></span></div></div><h4 id="workaround-2" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">None at this time</p><h3 id="panic-in-aws-auth-method-during-iam-based-login" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="panic in aws auth method during iam based login permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#panic-in-aws-auth-method-during-iam-based-login"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Panic in AWS auth method during IAM-based login</h3><h4 id="affected-versions-3" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.0</li></ul><h4 id="issue-3" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A panic can occur in the AWS auth method during <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/auth/aws#iam-auth-method">IAM-based</a>
login when a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#configure-client">client config</a> does not exist.</p><h4 id="workaround-3" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The panic can be avoided by writing an empty <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#configure-client">client config</a>:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R10ddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">vault write -f auth/aws/config/client</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R10ddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R790ddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 id="collapsed-navbar-does-not-allow-you-to-click-inside-the-console-or-namespace-picker" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="collapsed navbar does not allow you to click inside the console or namespace picker permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#collapsed-navbar-does-not-allow-you-to-click-inside-the-console-or-namespace-picker"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Collapsed navbar does not allow you to click inside the console or namespace picker</h3><h4 id="affected-versions-4" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-4"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The UI issue affects Vault versions 1.14.0+ and 1.15.0+.
A fix is expected for Vault 1.16.0.</p><h4 id="issue-4" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-4"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The Vauil UI currently uses a version of HDS that does not allow users to click
within collapsed elements. In particular, the dev console or namespace picker
become inaccessible when viewing the components in smaller viewports.</p><h4 id="workaround-4" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-4"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Expand the width of the screen until you deactivate the collapsed view. Once the full navbar is displayed, click the desired components.</p><h3 id="file-audit-devices-do-not-honor-sighup-signal-to-reload" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="file audit devices do not honor sighup signal to reload permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#file-audit-devices-do-not-honor-sighup-signal-to-reload"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>File audit devices do not honor SIGHUP signal to reload</h3><h4 id="affected-versions-5" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.0</li></ul><h4 id="issue-5" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The new underlying event framework for auditing causes Vault to continue using
audit log files instead of reopening the file paths even when you send
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/audit/file#log-file-rotation"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code></a> after log rotation. The
issue impacts any Vault cluster with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">file</code> audit devices enabled.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Not honoring the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code> signal has two key consequences when moving or
deleting audit files.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you <strong>move or rename your audit log file</strong> locally, Vault continues to log
data to the original file. For example, if you archive a file locally:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R17tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> mv /var/log/vault/audit.log /var/log/vault/archive/audit.log.bak</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R17tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R797tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault continues to write data to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/var/log/vault/archive/audit.log.bak</code>
instead of logging audit entries to a newly created file at
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/var/log/vault/audit.log</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you <strong>delete your audit log file</strong>, the OS unlinks the file from the
directory structure, but Vault still has the file open. Vault continues to write
data to the deleted file, which continues to consume disk space as it grows.
When Vault is sealed or restarted, the OS deletes the previously unlinked file,
and you will lose all data logged to the audit file after it was tagged for
deletion.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The issue with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">file</code> audit devices not honoring <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code> signals is fixed as a
patch release in Vault <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.15.1</code>.</p><h4 id="workaround-5" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_AUDIT_DISABLE_EVENTLOGGER</code> environment variable to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to
disable the new underlying event framework and restart Vault:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-keyword)"> export</span><span style="color:var(--hds-code-block-color-token)"> VAULT_AUDIT_DISABLE_EVENTLOGGER</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)">true</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79atdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">On startup, Vault reverts to the audit behavior used in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.14.x</code>.</p><h3 id="internal-error-when-vault-policy-in-namespace-does-not-exist" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="internal error when vault policy in namespace does not exist permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#internal-error-when-vault-policy-in-namespace-does-not-exist"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Internal error when vault policy in namespace does not exist</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If a user is a member of a group that gets a policy from a
namespace other than the one theyre trying to log into,
and that policy doesnt exist, Vault returns an internal error.
This impacts all auth methods.</p><h4 id="affected-versions-6" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-6"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.13.8 and 1.13.9</li><li class="mdx-lists_listItem__nkqhg">1.14.4 and 1.14.5</li><li class="mdx-lists_listItem__nkqhg">1.15.0 and 1.15.1</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A fix has been released in Vault 1.13.10, 1.14.6, and 1.15.2.</p><h3 id="workaround-6" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-6"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">During authentication, Vault derives inherited policies based on the groups an
entity belongs to. Vault returns an internal error when attaching the derived
policy to a token when:</p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">the token belongs to a different namespace than the one handling
authentication, and</li><li class="mdx-lists_listItem__nkqhg">the derived policy does not exist under the namespace.</li></ol><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can resolve the error by adding the policy to the relevant namespace or
deleting the group policy mapping that uses the derived policy.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As an example, consider the following userpass auth method failure. The error is
due to the fact that Vault expects a group policy under the namespace that does
not exist.</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1gtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">#</span><span style="color:var(--hds-code-block-color-token)"> Failed login</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault login -method=userpass username=user1 password=123</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">Error authenticating: Error making API request.</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">URL: PUT http://127.0.0.1:8200/v1/auth/userpass/login/user1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">Code: 500. Errors:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">* internal error</span></span>
</span></span></code></pre></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To confirm the problem is a missing policy, start by identifying the relevant
entity and group IDs:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1htdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault read -format=json identity/entity/name/user1 </span><span style="color:var(--hds-code-block-color-keyword)">|</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  jq &#x27;{&quot;entity_id&quot;: .data.id, &quot;group_ids&quot;: .data.group_ids} &#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  &quot;entity_id&quot;: &quot;420c82de-57c3-df2e-2ef6-0690073b1636&quot;,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  &quot;group_ids&quot;: [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    &quot;6cb152b7-955d-272b-4dcf-a2ed668ca1ea&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Use the group ID to fetch the relevant policies for the group under the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns1</code>
namespace:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1itdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault read -format=json -namespace=ns1 \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  identity/group/id/6cb152b7-955d-272b-4dcf-a2ed668ca1ea | \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  jq &#x27;.data.policies&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">[</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  &quot;group_policy&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Now that we know Vault is looking for a policy called <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">group_policy</code>, we can
check whether that policy exists under the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns1</code> namespace:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1jtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault policy list -namespace=ns1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">default</span></span>
</span></span></code></pre></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The only policy in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns1</code> namespace is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code>, which confirms that the
missing policy (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">group_policy</code>) is causing the error.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To fix the problem, we can either remove the missing policy from the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">6cb152b7-955d-272b-4dcf-a2ed668ca1ea</code> group or create the missing policy under
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns1</code> namespace.</p><div class="mdx-tabs_tabsWrapper__eBd6p"><div><div class="tabs_tabControls__T_UOv tabs_isCheckingOverflow__HYdy4 tabs_showAnchorLine__oSYFX tabs_allowNestedStyles__gpKFS"><div class="tab-button-controls_tabList__ueYEe" role="tablist"><button class="tab-button-controls_tabButton__l1jN9 g-focus-ring-from-box-shadow" aria-controls="panel-0-react-aria-108" aria-selected="true" id="tab-0-react-aria-108" role="tab" tabindex="0" type="button"><span class="tab-button-controls_label__GDzfu hds-typography-body-200">Remove the group policy</span></button><button class="tab-button-controls_tabButton__l1jN9 g-focus-ring-from-box-shadow" aria-controls="panel-1-react-aria-108" aria-selected="false" id="tab-1-react-aria-108" role="tab" tabindex="-1" type="button"><span class="tab-button-controls_label__GDzfu hds-typography-body-200">Add the policy to ns1</span></button></div></div><div aria-hidden="false" aria-labelledby="tab-0-react-aria-108" class="tabs_tabPanel__lKCo_ tabs_allowNestedStyles__gpKFS" id="panel-0-react-aria-108" role="tabpanel"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To remove <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">group_policy</code> from group ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">6cb152b7-955d-272b-4dcf-a2ed668ca1ea</code>,
use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault write</code> command to set the applicable policies to just include
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code>:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R9hlddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write                                             \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  -namespace=ns1                                          \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  identity/group/id/6cb152b7-955d-272b-4dcf-a2ed668ca1ea  \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  name=&quot;test&quot;                                             \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  policies=&quot;default&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R9hlddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rephlddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div><div aria-hidden="true" aria-labelledby="tab-1-react-aria-108" class="tabs_tabPanel__lKCo_ tabs_allowNestedStyles__gpKFS" id="panel-1-react-aria-108" role="tabpanel"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To create the missing policy, use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault policy write</code> and define the
appropriate capabilities:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rahlddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault policy write -namespace=ns1 group_policy - &lt;&lt; EOF</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    path &quot;secret/data/*&quot; {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        capabilities = [&quot;create&quot;, &quot;update&quot;]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">EOF</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rahlddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reqhlddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Verify the fix by re-running the login command:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1mddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault login -method=userpass username=user1 password=123</span></span>
</span></span></code></pre></div></div><h3 id="vault-is-storing-references-to-ephemeral-sub-loggers-leading-to-unbounded-memory-consumption" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="vault is storing references to ephemeral sub loggers leading to unbounded memory consumption permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#vault-is-storing-references-to-ephemeral-sub-loggers-leading-to-unbounded-memory-consumption"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Vault is storing references to ephemeral sub-loggers leading to unbounded memory consumption</h3><h4 id="affected-versions-7" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-7"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This memory consumption bug affects Vault Community and Enterprise versions:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.13.7 - 1.13.9</li><li class="mdx-lists_listItem__nkqhg">1.14.3 - 1.14.5</li><li class="mdx-lists_listItem__nkqhg">1.15.0 - 1.15.1</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This change that introduced this bug has been reverted as of 1.13.10, 1.14.6, and 1.15.2</p><h4 id="issue-6" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-6"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault is unexpectedly storing references to ephemeral sub-loggers which prevents them from being cleaned up, leading to
unbound memory consumption for loggers. This came about from a change to address a previously known issue around
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/upgrading/upgrade-to-1.15.x#sublogger-levels-unchanged-on-reload">sub-logger levels not being adjusted on reload</a>.
This impacts many areas of Vault, but primarily logins in Enterprise.</p><h4 id="workaround-7" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-7"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There is no workaround.</p><h3 id="sublogger-levels-not-adjusted-on-reload" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="sublogger levels not adjusted on reload permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#sublogger-levels-not-adjusted-on-reload"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="sublogger-levels-unchanged-on-reload" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/vault/docs/upgrading/upgrade-to-1.15.x#"></a>Sublogger levels not adjusted on reload</h3><h4 id="affected-versions-8" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-8"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This issue affects all Vault Community and Vault Enterprise versions.</p><h4 id="issue-7" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-7"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault does not honor a modified <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_level</code> configuration for certain subsystem
loggers on SIGHUP.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The issue is known to specifically affect <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resolver.watcher</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replication.index.*</code> subloggers.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">After modifying the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_level</code> and issuing a reload (SIGHUP), some loggers are
updated to reflect the new configuration, while some subsystem logger levels
remain unchanged.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For example, after starting a server with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_level: &quot;trace&quot;</code> and modifying it
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_level: &quot;info&quot;</code> the following lines appear after reload:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1vddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>[TRACE] resolver.watcher: dr mode doesn't have failover support, returning</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>...</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>[DEBUG] replication.index.perf: saved checkpoint: num_dirty=5</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>[DEBUG] replication.index.local: saved checkpoint: num_dirty=0</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>[DEBUG] replication.index.periodic: starting WAL GC: from=2531280 to=2531280 last=2531536</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1vddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79vddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="workaround-8" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-8"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The workaround is to restart the Vault server.</p><h3 id="url-change-for-kv-v2-secrets-engine" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="url change for kv v2 secrets engine permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#url-change-for-kv-v2-secrets-engine"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="kv2-url-change" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/vault/docs/upgrading/upgrade-to-1.15.x#"></a>URL change for KV v2 secrets engine</h3><h4 id="affected-versions-9" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-9"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">1.15.0+</p><h4 id="issue-8" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-8"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Recent improvements to the Vault UI updated the URL structure of the KV v2 secrets engine that affect existing URLs.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Previously, URLs for KV v2 used the pattern:
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui/vault/secrets/hma/show/${secretPath}</code>. With the recent refactor, KV v2 URLs
now use the following pattern:
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui/vault/secrets/hma/kv/${encodedUriComponent(secretPath)}/details</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Opening older URLs now result in 404 errors.</p><h4 id="workaround-9" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-9"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Currently, no workaround exists.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Improvements that include automatic redirects for older URLs are planned for
1.15.4.</p><h3 id="fatal-error-during-expiration-metrics-gathering-causing-vault-crash" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="fatal error during expiration metrics gathering causing vault crash permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#fatal-error-during-expiration-metrics-gathering-causing-vault-crash"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Fatal error during expiration metrics gathering causing Vault crash</h3><h4 id="affected-versions-10" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This issue affects Vault Community and Enterprise versions:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.13.9</li><li class="mdx-lists_listItem__nkqhg">1.14.5</li><li class="mdx-lists_listItem__nkqhg">1.15.1</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A fix has been issued in Vault 1.13.10, 1.14.6, and 1.15.2.</p><h4 id="issue-9" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-9"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A recent change to Vault to improve state change speed (e.g. becoming active or standby) introduced a concurrency issue
which can lead to a concurrent iteration and write on a map, causing a fatal error and crashing Vault. This error occurs
when gathering lease and token metrics from the expiration manager. These metrics originate from the active node in a HA
cluster, as such a standby node will take over active duties and the cluster will remain functional should the original
active node encounter this bug. The new active node will be vulnerable to the same bug, but may not encounter it immediately.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There is no workaround.</p><h3 id="audit-devices-could-log-raw-data-despite-configuration" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="audit devices could log raw data despite configuration permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#audit-devices-could-log-raw-data-despite-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Audit devices could log raw data despite configuration</h3><h4 id="affected-versions-11" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-11"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.0 - 1.15.4</li></ul><h4 id="issue-10" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Enabling an audit device which specifies the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/audit#log_raw"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_raw</code></a> option
could lead to raw data being logged to other audit devices, regardless of whether they
are configured to use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_raw</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The issue with raw data potentially appearing in logs where HMAC data as expected,
is fixed as a patch release in Vault <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.15.5</code>.</p><h4 id="workaround-10" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Do not enable any audit devices in Vault that use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_raw</code>. If any audit devices
are currently enabled with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_raw</code> set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> they should be <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/commands/audit/disable">disabled</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To view the options for audit devices via the CLI, use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">--detailed</code> flag for the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault audit list</code> command:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2eddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault audit list --detailed</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2eddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7aeddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The output will resemble the following, with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_raw</code> shown under <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Options</code> on
any device which has it enabled:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Example output:</strong> </p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ftdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">Path      Type    Description    Replication    Options</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">----      ----    -----------    -----------    -------</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">file1/    file    n/a            replicated     file_path=/var/log/vault/log1.json</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">file2/    file    n/a            replicated     file_path=/var/log/vault/log2.json log_raw=true</span></span>
</span></span></code></pre></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Disable any device with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_raw</code> option set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> using the command
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault audit disable {path}</code> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">file2</code> in the above output):</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2gtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault audit disable file2</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2gtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7agtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">See also: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/audit#disable-audit-device">Disable audit via API</a>.</p><h3 id="unable-to-rotate-ldap-credentials" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="unable to rotate ldap credentials permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#unable-to-rotate-ldap-credentials"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Unable to rotate ldap credentials</h3><h4 id="affected-versions-12" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-12"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.5</li></ul><h4 id="issue-11" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-11"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Depending on their LDAP configuration, some customers may encounter an error when attempting to rotate ldap credentials.
Static roles and root credentials are affected by this bug.
See this <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/vault/issues/25249">issue</a> for more details.</p><h4 id="workaround-11" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-11"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There is no workaround. Please update to Vault 1.15.6 or later.</p><h3 id="deadlock-can-occur-on-performance-secondary-clusters-with-many-mounts" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="deadlock can occur on performance secondary clusters with many mounts permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#deadlock-can-occur-on-performance-secondary-clusters-with-many-mounts"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Deadlock can occur on performance secondary clusters with many mounts</h3><h4 id="affected-versions-13" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-13"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.0 - 1.15.5</li><li class="mdx-lists_listItem__nkqhg">1.14.5 - 1.14.9</li><li class="mdx-lists_listItem__nkqhg">1.13.9 - 1.13.13</li></ul><h4 id="issue-12" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-12"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault 1.15.0, 1.14.5, and 1.13.9 introduced a worker pool to schedule periodic
rollback operations on all mounts. This worker pool defaulted to using 256
workers. The worker pool introduced a risk of deadlocking on the active node of
<strong>performance secondary clusters</strong>, leaving that cluster unable to service any
requests.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The conditions required to cause the deadlock on the performance secondary:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Performance replication is enabled</li><li class="mdx-lists_listItem__nkqhg">The performance primary cluster has more than 256 non-local mounts. The more
mounts the cluster has, the more likely the deadlock becomes</li><li class="mdx-lists_listItem__nkqhg">One of the following occurs:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">A replicated mount is unmounted or remounted OR</li><li class="mdx-lists_listItem__nkqhg">A replicated namespace is deleted OR</li><li class="mdx-lists_listItem__nkqhg">Replication paths filters are used to filter at least one mount or namespace</li></ul></li></ul><h4 id="workaround-12" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-12"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_ROLLBACK_WORKERS</code> environment variable to a number larger than
the number of mounts in your Vault cluster and restart Vault:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ptdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-keyword)"> export</span><span style="color:var(--hds-code-block-color-token)"> VAULT_ROLLBACK_WORKERS</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)">1000</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ptdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7aptdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 id="audit-fails-to-recover-from-panics-when-formatting-audit-entries" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="audit fails to recover from panics when formatting audit entries permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#audit-fails-to-recover-from-panics-when-formatting-audit-entries"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Audit fails to recover from panics when formatting audit entries</h3><h4 id="affected-versions-14" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-14"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.0 - 1.15.5</li></ul><h4 id="issue-13" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-13"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Due to an issue in the new event framework, Vault tries to resolve panics that
occur when formatting audit entries. Vault cannot resolve the panic correctly,
which results in the server terminating unexpectedly.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The panic issue was resolved in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.15.6</code>.</p><h4 id="workaround-13" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-13"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_AUDIT_DISABLE_EVENTLOGGER</code> environment variable to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to
disable the new underlying event framework and restart Vault:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2uddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-keyword)"> export</span><span style="color:var(--hds-code-block-color-token)"> VAULT_AUDIT_DISABLE_EVENTLOGGER</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)">true</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2uddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7auddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">On startup, Vault reverts to the audit behavior used in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.14.x</code>.</p><a id="pki-ocsp" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/upgrading/upgrade-to-1.15.x#"></a><h3 id="pki-ocsp-get-requests-can-return-http-redirect-responses" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="pki ocsp get requests can return http redirect responses permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#pki-ocsp-get-requests-can-return-http-redirect-responses"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>PKI OCSP GET requests can return HTTP redirect responses</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If a base64 encoded OCSP request contains consecutive &#x27;/&#x27; characters, the GET request
will return a 301 permanent redirect response. If the redirection is followed, the
request will not decode as it will not be a properly base64 encoded request.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As a workaround, OCSP POST requests can be used which are unaffected.</p><h4 id="impacted-versions" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="impacted versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#impacted-versions"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Impacted versions</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Affects all current versions of 1.12.x, 1.13.x, 1.14.x, 1.15.x, 1.16.x, 1.17.x.</p><h3 id="vault-enterprise-performance-standby-nodes-audit-all-request-headers" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="vault enterprise performance standby nodes audit all request headers permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#vault-enterprise-performance-standby-nodes-audit-all-request-headers"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Vault Enterprise Performance Standby nodes audit all request headers</h3><h4 id="affected-versions-15" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-15"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.0 - 1.15.7</li></ul><h4 id="issue-14" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-14"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Due to an issue in the new event framework, Performance Standby nodes in a Vault
Enterprise cluster do not correctly receive configuration regarding which request
headers should be written to the audit log.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Rather than no headers appearing in the audit logs by default, Vault Enterprise
logs <strong>all</strong> headers on Performance Standby nodes.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The header issue was resolved in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.15.8</code>.</p><h4 id="workaround-14" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-14"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_AUDIT_DISABLE_EVENTLOGGER</code> environment variable to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to
disable the new underlying event framework and restart Vault:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R36tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-keyword)"> export</span><span style="color:var(--hds-code-block-color-token)"> VAULT_AUDIT_DISABLE_EVENTLOGGER</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)">true</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R36tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7b6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">On startup, Vault reverts to the audit behavior used in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.14.x</code>.</p><h3 id="performance-standbys-revert-to-standby-mode-on-unseal" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="performance standbys revert to standby mode on unseal permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#performance-standbys-revert-to-standby-mode-on-unseal"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Performance Standbys revert to Standby mode on unseal</h3><h4 id="affected-versions-16" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-16"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.14.12</li><li class="mdx-lists_listItem__nkqhg">1.15.8</li><li class="mdx-lists_listItem__nkqhg">1.16.2</li></ul><h4 id="issue-15" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-15"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you previously set a value for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retention_months</code> via the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/internal-counters#update-the-client-count-configuration">sys/internal/counters/config</a>
endpoint, upgrading to Vault Enterprise versions 1.14.12, 1.15.8, and 1.16.2
will cause <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/enterprise/performance-standby">Performance Standby</a>
nodes to revert to Standby mode.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Adding nodes with Vault Enterprise versions 1.14.12, 1.15.8, or 1.16.2 to a
cluster with an older versioned leader will see any previously set
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retention_months</code> value and attempt to write the new minimum value of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">48</code>. The
storage write will result in a read-only error:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>[ERROR] core: performance standby post-unseal setup failed: error="cannot write to readonly storage"</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7batdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can verify the status of your nodes by checking the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/health">/sys/health</a> endpoint.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Deployments that rely on scaling across Performance Standbys will now forward
all requests to the active node, increasing the utilization of the active node.</p><div class="mdx-inline-alert_spacing___QlMF"><div class="inline-alert_default___c6Mu hds-typography-body-200 inline-alert_warning__2yPdZ mdx-inline-alert_typographyOverride__DHnxV"><span class="inline-alert_icon__b_Ema" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M11 17a1 1 0 011-1h.01a1 1 0 110 2H12a1 1 0 01-1-1zM12.75 8.75a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z"></path><path fill-rule="evenodd" d="M10.658 2.366a2.651 2.651 0 012.684 0c.407.239.745.581.984.99l.002.004 8.315 14.46a2.86 2.86 0 01.008 2.758 2.757 2.757 0 01-.976 1.03c-.41.25-.877.386-1.357.392H3.682a2.653 2.653 0 01-1.357-.393 2.757 2.757 0 01-.975-1.029 2.86 2.86 0 01.007-2.758l.006-.01 8.31-14.45.001-.004a2.75 2.75 0 01.984-.99zm.313 1.744v.001L2.665 18.552a1.36 1.36 0 000 1.306c.108.198.262.36.443.47.18.11.382.169.586.172h16.61c.204-.003.406-.061.586-.172.181-.11.335-.272.444-.47a1.361 1.361 0 00-.001-1.306L13.03 4.112l-.001-.002a1.25 1.25 0 00-.446-.45 1.151 1.151 0 00-1.166 0 1.25 1.25 0 00-.446.45z" clip-rule="evenodd"></path></g></svg></span><span class="inline-alert_content__fR9kv"><p class="inline-alert_title__20wIt">Post-upgrade cluster membership</p><span class="inline-alert_description__tisu9">During the last step of a full upgrade, the old leader steps down, causing one of the Standby nodes to become leader.</span></span></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A fix for the read-only storage error has been prioritized and escalated. The
fix will be in releases 1.14.13, 1.15.9 and 1.16.3.</p><div class="mdx-inline-alert_spacing___QlMF"><div class="inline-alert_default___c6Mu hds-typography-body-200 inline-alert_critical__De5HV mdx-inline-alert_typographyOverride__DHnxV"><span class="inline-alert_icon__b_Ema" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M12 7a.75.75 0 01.75.75v4.5a.75.75 0 11-1.5 0v-4.5A.75.75 0 0112 7zM12 15a1 1 0 000 2h.01a1 1 0 100-2H12z"></path><path fill-rule="evenodd" d="M1.884 10.056l8.171-8.172a2.75 2.75 0 013.89 0l8.171 8.172a2.75 2.75 0 010 3.889l-8.171 8.171a2.75 2.75 0 01-3.89 0l-8.171-8.171a2.75 2.75 0 010-3.89zm9.232-7.111l-8.172 8.171a1.25 1.25 0 000 1.768l8.172 8.172a1.25 1.25 0 001.768 0l8.171-8.172a1.25 1.25 0 000-1.768l-8.171-8.171a1.25 1.25 0 00-1.768 0z" clip-rule="evenodd"></path></g></svg></span><span class="inline-alert_content__fR9kv"><p class="inline-alert_title__20wIt">Important</p><span class="inline-alert_description__tisu9">If you have already upgraded to versions 1.14.12, 1.15.8, or 1.16.2, please refer to the workaround section for options.</span></span></div></div><h4 id="workaround-15" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-15"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Once the leader of the cluster has been updgraded to version 1.14.12, 1.15.8, or
1.16.2, the workaround is to update the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retention_months</code> value on the active
node via the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/internal-counters#update-the-client-count-configuration">sys/internal/counters/config</a>
endpoint:</p><div class="hds-code-block hds-code-block--theme-dark language-shell hds-code-block--is-standalone language-shell mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3etdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">$</span><span style="color:var(--hds-code-block-color-string)"> vault</span><span style="color:var(--hds-code-block-color-string)"> write</span><span style="color:var(--hds-code-block-color-string)"> sys/internal/counters/config</span><span style="color:var(--hds-code-block-color-string)"> retention_months=</span><span style="color:var(--hds-code-block-color-constant)">48</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3etdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7betdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This storage entry will be written to all nodes in the cluster, allowing them to
immediately unseal as Performance Standbys.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">After the new <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retention_months</code> value is written to storage on the active node,
adding new nodes to the cluster will not cause the read-only error.</p><h3 id="sending-sighup-to-vault-standby-node-causes-panic" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="sending sighup to vault standby node causes panic permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#sending-sighup-to-vault-standby-node-causes-panic"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Sending SIGHUP to vault standby node causes panic</h3><h4 id="affected-versions-17" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-17"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.13.4+</li><li class="mdx-lists_listItem__nkqhg">1.14.0+</li><li class="mdx-lists_listItem__nkqhg">1.15.0+</li><li class="mdx-lists_listItem__nkqhg">1.16.0+</li></ul><h4 id="issue-16" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-16"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Sending a SIGHUP to a vault standby node running an enterprise build can cause a panic
if there is a change to the license, or reporting configuration.
Active and performance standby nodes will perform fine. It is recommended that operators
stop and restart vault nodes individually if configuration changes are required.</p><h4 id="workaround-16" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-16"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Instead of issuing a SIGHUP, users should stop individual vault nodes, update the configuration
or license and then restart the node. </p><h3 id="new-nodes-added-by-autopilot-upgrades-provisioned-with-the-wrong-version" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="new nodes added by autopilot upgrades provisioned with the wrong version permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#new-nodes-added-by-autopilot-upgrades-provisioned-with-the-wrong-version"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>New nodes added by autopilot upgrades provisioned with the wrong version</h3><h4 id="affected-versions-18" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-18"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.15.3 - 1.15.9</li><li class="mdx-lists_listItem__nkqhg">1.16.1 - 1.16.3</li></ul><h4 id="issue-17" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-17"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">autopilot_upgrade_version</code> is not explicitly set in the Vault configuration file in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">storage</code>
section, new non-active nodes will retain their original Vault version as opposed to the new version.</p><h4 id="workaround-17" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-17"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Set the desired version in the configuration file as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">autopilot_upgrade_version=&lt;version string&gt;</code>. This will
allow all nodes to receive the proper version to upgrade to.</p><a id="listener-proxy-protocol-config" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/upgrading/upgrade-to-1.15.x#"></a><h3 id="potential-dos-when-using-the-deny_unauthorized-proxy-protocol-behavior-for-a-tcp-listener" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="potential dos when using the deny_unauthorized proxy protocol behavior for a tcp listener permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#potential-dos-when-using-the-deny_unauthorized-proxy-protocol-behavior-for-a-tcp-listener"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Potential DoS when using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">deny_unauthorized</code> proxy protocol behavior for a TCP listener</h3><h4 id="affected-versions-19" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-19"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><h5 id="community-edition-ce" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h5__d2ufM"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="community edition ce permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#community-edition-ce"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Community Edition (CE)</h5><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.10.x - 1.15.x</li><li class="mdx-lists_listItem__nkqhg">1.17.1</li></ul><h5 id="enterprise" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h5__d2ufM"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="enterprise permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#enterprise"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Enterprise</h5><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">1.10.x+ent - 1.15.11+ent</li><li class="mdx-lists_listItem__nkqhg">1.16.5+ent</li><li class="mdx-lists_listItem__nkqhg">1.17.1+ent</li></ul><h4 id="issue-18" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-18"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault TCP listeners configured with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">deny_unauthorized</code> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/configuration/listener/tcp#proxy_protocol_behavior">proxy_protocol_behavior</a>
close if they receive a request from an untrusted upstream connection. As a result,
Vault no longer responds to <em>any</em> request received through that listener.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Being able to force-close listeners with intentionally untrusted connections
leaves the Vault API vulnerable to a denial-of-service (DoS) attacks, which
could cause the API to become unavailable on that node.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The vulnerability is addressed in Vault 1.15.12+ent, 1.16.6+ent, 1.17.2, 1.17.2+ent and later.</p><h4 id="workaround-18" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-18"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Do not configure a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/configuration/listener/tcp#proxy_protocol_behavior">proxy_protocol_behavior</a>
with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">deny_unauthorized</code> value.</p><h3 id="duplicate-identity-groups-created-when-concurrent-requests-sent-to-the-primary-and-pr-secondary-cluster" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="duplicate identity groups created when concurrent requests sent to the primary and pr secondary cluster permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#duplicate-identity-groups-created-when-concurrent-requests-sent-to-the-primary-and-pr-secondary-cluster"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Duplicate identity groups created when concurrent requests sent to the primary and PR secondary cluster</h3><h4 id="affected-versions-20" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-20"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">All Enterprise versions from 0.7.0 up</li></ul><h4 id="issue-19" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-19"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Duplicate identity groups are groups that have the same name, and should not be possible in vault. However, there is a race condition
in which duplicate groups are possible. If more than 1 create group request is sent at the same time to a Primary Cluster and
the PR secondary cluster, it can result in group duplicates.</p><h4 id="workaround-19" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-19"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">All create group requests should be sent to the primary cluster.</p><h3 id="manual-entity-merges-sent-to-a-pr-secondary-cluster-are-not-persisted-to-storage" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="manual entity merges sent to a pr secondary cluster are not persisted to storage permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#manual-entity-merges-sent-to-a-pr-secondary-cluster-are-not-persisted-to-storage"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Manual entity merges sent to a PR secondary cluster are not persisted to storage</h3><h4 id="affected-versions-21" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="affected versions permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#affected-versions-21"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Affected versions</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Vault Enterprise v0.7.0+</li></ul><h4 id="issue-20" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="issue permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#issue-20"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issue</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you send a manual entity merge to a PR secondary cluster, the change is
temporarily reflected on the active node of the PR secondary cluster, but Vault
does not save the change to persistent storage. </p><h4 id="workaround-20" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="workaround permalink" href="/vault/docs/upgrading/upgrade-to-1.15.x#workaround-20"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Workaround</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Always send manual entity merge requests to the primary cluster.</p></div></div><a href="https://github.com/hashicorp/vault/blob/main/website/content/docs/upgrading/upgrade-to-1.15.x.mdx" target="_blank" class="edit-on-github-link_editLink__AsG8Z sidebar-sidecar-layout_editOnGithubLink__SDraB" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="edit-on-github-link_editLinkIcon__wMtY9"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg>Edit this page on GitHub</a></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-124"><p id="react-aria-124" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x#overview">Overview</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x#consul-service-registration">Consul service registration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x#rollback-metrics">Rollback metrics</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x#application-of-sentinel-role-governing-policies-rgps-via-identity-groups">Application of Sentinel Role Governing Policies (RGPs) via identity groups</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x#activity-log-changes">Activity Log Changes</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/upgrading/upgrade-to-1.15.x#known-issues-and-workarounds">Known issues and workarounds</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="254" height="53" fill="none" viewBox="0 0 254 53"><g fill="#000" clip-path="url(#clip0_1743_1384)"><g><path d="M63.01 12.22h5.32v11.43h12.19V12.22h5.36V40.2h-5.36V28.45H68.33V40.2h-5.32zM89.28 34.77c0-4.2 2.96-5.6 6.56-6.44l6.079-1.4v-.48c0-2.04-1.32-3.32-3.44-3.32s-3.36 1.16-3.76 3.08l-4.56-.52c.68-3.84 3.92-6.32 8.52-6.32 5.08 0 8.4 3.2 8.4 7.88v8.2c0 .52.16.68.52.68h1.12v4.08h-3.12c-1.96 0-2.84-.64-2.84-2.24 0-.48.08-1.04.28-1.76l-.44-.16c-1.44 3.12-3.56 4.48-6.56 4.48-4.12 0-6.76-2.28-6.76-5.76m8.12 2c2.639 0 4.519-1.92 4.519-4.96v-1.6l-4.36 1.04c-2.2.52-3.12 1.28-3.12 2.96s1.16 2.56 2.96 2.56M110.59 34.69l4.88-.96c.52 2.16 2.24 3.24 4.52 3.24 2.28 0 3.56-.92 3.56-2.48s-1.52-1.88-4.4-2.4c-3.64-.56-8.35-1.24-8.35-6.28 0-3.8 3.24-6.44 8.52-6.44 4.68 0 8.32 1.96 9.15 5.92l-4.92.8c-.44-2-2.08-3.04-4.24-3.04-2.36 0-3.48 1-3.48 2.36 0 1.56 1.56 1.88 4.44 2.4 3.6.56 8.32 1.24 8.32 6.28 0 3.96-3.2 6.6-8.6 6.6-4.88 0-8.52-2-9.4-6M136.94 40.21h-5.2V11.42h5.2v8.96c0 1.04-.2 2.04-.48 3.52l.48.16c1.24-2.96 3.12-4.68 6.6-4.68 4.44 0 6.8 2.8 6.8 7.56v13.27h-5.2V27.1c0-2.32-1.16-3.6-3.48-3.6-2.64 0-4.72 2-4.72 5.52zM161.01 35.05c0 .8.28 1.04.88 1.04h2.28v4.12h-4.72c-2.36 0-3.64-1.32-3.64-3.76V23.98h-2.88v-4.12h8.08zm-5.92-20.63c0-1.76 1.44-3.2 3.16-3.2 1.72 0 3.16 1.44 3.16 3.2 0 1.76-1.4 3.16-3.16 3.16-1.76 0-3.16-1.4-3.16-3.16M165.89 26.22c0-8.4 5.52-14.47 13.51-14.47 6.72 0 11.31 3.88 12.55 9.15l-5.28 1.28c-1-3.68-3.44-5.76-7.28-5.76-4.88 0-7.96 4.04-7.96 9.79 0 5.75 3.2 9.79 8.16 9.79 3.92 0 6.32-2.12 7.32-6.04l5 .56c-1.2 6.28-5.84 10.15-12.39 10.15-8.08 0-13.63-6.08-13.63-14.47zM194.08 30.01c0-6.2 4.36-10.63 10.39-10.63s10.39 4.44 10.39 10.63-4.36 10.67-10.39 10.67-10.39-4.48-10.39-10.67m15.59 0c0-3.84-2.04-6.4-5.2-6.4s-5.2 2.56-5.2 6.4c0 3.84 2.08 6.44 5.2 6.44s5.2-2.56 5.2-6.44M218.149 19.86h4.8v.8c0 1.08-.04 1.96-.36 3.6l.48.12c.76-2.68 2.16-4.52 5.44-4.52h1.48v5.04h-2.12c-2.92 0-4.52 1.76-4.52 5v10.31h-5.2zM232.43 19.86h5.12v.92c0 .92-.08 1.64-.36 3.28l.48.12c1.24-3.24 3.56-4.8 6.56-4.8 4.96 0 8.88 4.08 8.88 10.63 0 6.55-3.92 10.67-8.88 10.67-3 0-5.2-1.56-6.48-4.84l-.44.16c.24 1.6.32 2.36.32 3.24v9.15h-5.2V19.85zm15.51 10.15c0-3.96-2.16-6.4-5.2-6.4s-5.2 2.44-5.2 6.4c0 3.96 2.16 6.44 5.2 6.44s5.2-2.44 5.2-6.44"/></g><g><path d="M20.79.01.07 11.97v28.71l7.78 4.5V16.46l12.94-7.47z"/><path d="M29.06.01v22.87h-8.27v-8.54L13 18.84v29.3l7.79 4.5v-22.8h8.27v8.48l7.79-4.49V4.51z"/><path d="M29.06 52.65 49.78 40.7V11.99L42 7.49V36.2l-12.94 7.47z"/></g></g><defs><clipPath id="clip0_1743_1384"><path fill="#fff" d="M0 0h254v53H0z"/></clipPath></defs></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-131">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-140" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-140">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Vault","url":"/vault"},{"title":"Documentation","url":"/vault/docs","isCurrentPage":false},{"title":"Upgrade Guides","url":"/vault/docs/upgrading"},{"title":"Upgrade to 1.15.x","url":"/vault/docs/upgrading/upgrade-to-1.15.x","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Vault Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Vault","fullPath":"/vault","theme":"vault"},{"title":"Install","fullPath":"/vault/install"},{"title":"Tutorials","fullPath":"/vault/tutorials"},{"title":"Documentation","fullPath":"/vault/docs"},{"title":"API","fullPath":"/vault/api-docs"},{"title":"Integrations","fullPath":"/vault/integrations"}],"showFilterInput":false,"title":"Vault","visuallyHideTitle":true},{"backToLinkProps":{"text":"Vault Home","href":"/vault"},"levelButtonProps":{"levelUpButtonText":"Vault Home"},"menuItems":[{"title":"Documentation","fullPath":"/vault/docs","theme":"vault"},{"title":"What is Vault?","path":"what-is-vault","fullPath":"/vault/docs/what-is-vault","id":"sidebar-nav-item-0"},{"title":"Use Cases","path":"use-cases","fullPath":"/vault/docs/use-cases","id":"sidebar-nav-item-1"},{"title":"Get Started","routes":[{"title":"Developer quick start","path":"get-started/developer-qs","fullPath":"/vault/docs/get-started/developer-qs","id":"sidebar-nav-item-3"},{"title":"Operations quick start","path":"get-started/operations-qs","fullPath":"/vault/docs/get-started/operations-qs","id":"sidebar-nav-item-4"},{"title":"Vault foundations tutorials","href":null,"fullPath":"/vault/tutorials/get-started","id":"sidebar-nav-item-5","path":"/vault/tutorials/get-started"},{"title":"HCP Vault Dedicated tutorials","href":null,"fullPath":"/vault/tutorials/get-started-hcp-vault-dedicated","id":"sidebar-nav-item-6","path":"/vault/tutorials/get-started-hcp-vault-dedicated"}],"id":"sidebar-nav-item-2"},{"divider":true,"id":"sidebar-nav-item-7"},{"title":"Browser Support","path":"browser-support","fullPath":"/vault/docs/browser-support","id":"sidebar-nav-item-8"},{"title":"Install Vault","routes":[{"title":"Overview","path":"install","fullPath":"/vault/docs/install","id":"sidebar-nav-item-10"},{"title":"Install manually","path":"install/install-binary","fullPath":"/vault/docs/install/install-binary","id":"sidebar-nav-item-11"},{"title":"Build from code","path":"install/build-from-code","fullPath":"/vault/docs/install/build-from-code","id":"sidebar-nav-item-12"}],"id":"sidebar-nav-item-9"},{"title":"Run Vault as a service","path":"run-as-service","fullPath":"/vault/docs/run-as-service","id":"sidebar-nav-item-13"},{"title":"Internals","routes":[{"title":"Overview","path":"internals","fullPath":"/vault/docs/internals","id":"sidebar-nav-item-15"},{"title":"Architecture","path":"internals/architecture","fullPath":"/vault/docs/internals/architecture","id":"sidebar-nav-item-16"},{"title":"High Availability","path":"internals/high-availability","fullPath":"/vault/docs/internals/high-availability","id":"sidebar-nav-item-17"},{"title":"Integrated Storage","path":"internals/integrated-storage","fullPath":"/vault/docs/internals/integrated-storage","id":"sidebar-nav-item-18"},{"title":"Recommended patterns","path":"internals/recommended-patterns","fullPath":"/vault/docs/internals/recommended-patterns","id":"sidebar-nav-item-19"},{"title":"Security Model","path":"internals/security","fullPath":"/vault/docs/internals/security","id":"sidebar-nav-item-20"},{"title":"Telemetry","routes":[{"title":"Overview","path":"internals/telemetry","fullPath":"/vault/docs/internals/telemetry","id":"sidebar-nav-item-22"},{"title":"Enable telemetry gathering","path":"internals/telemetry/enable-telemetry","fullPath":"/vault/docs/internals/telemetry/enable-telemetry","id":"sidebar-nav-item-23"},{"title":"Key metrics","path":"internals/telemetry/key-metrics","fullPath":"/vault/docs/internals/telemetry/key-metrics","id":"sidebar-nav-item-24"},{"title":"Metric reference","routes":[{"title":"Overview","path":"internals/telemetry/metrics","fullPath":"/vault/docs/internals/telemetry/metrics","id":"sidebar-nav-item-26"},{"title":"Core system metrics","path":"internals/telemetry/metrics/core-system","fullPath":"/vault/docs/internals/telemetry/metrics/core-system","id":"sidebar-nav-item-27"},{"title":"Audit log metrics","path":"internals/telemetry/metrics/audit","fullPath":"/vault/docs/internals/telemetry/metrics/audit","id":"sidebar-nav-item-28"},{"title":"Authentication metrics","path":"internals/telemetry/metrics/authn","fullPath":"/vault/docs/internals/telemetry/metrics/authn","id":"sidebar-nav-item-29"},{"title":"Auto-snapshot metrics","path":"internals/telemetry/metrics/autosnap","fullPath":"/vault/docs/internals/telemetry/metrics/autosnap","id":"sidebar-nav-item-30"},{"title":"Availability metrics","path":"internals/telemetry/metrics/availability","fullPath":"/vault/docs/internals/telemetry/metrics/availability","id":"sidebar-nav-item-31"},{"title":"Database metrics","path":"internals/telemetry/metrics/database","fullPath":"/vault/docs/internals/telemetry/metrics/database","id":"sidebar-nav-item-32"},{"title":"Policy metrics","path":"internals/telemetry/metrics/policy","fullPath":"/vault/docs/internals/telemetry/metrics/policy","id":"sidebar-nav-item-33"},{"title":"Raft metrics","path":"internals/telemetry/metrics/raft","fullPath":"/vault/docs/internals/telemetry/metrics/raft","id":"sidebar-nav-item-34"},{"title":"Secrets Sync metrics","path":"internals/telemetry/metrics/secrets-sync","fullPath":"/vault/docs/internals/telemetry/metrics/secrets-sync","id":"sidebar-nav-item-35"},{"title":"Secrets metrics","path":"internals/telemetry/metrics/secrets","fullPath":"/vault/docs/internals/telemetry/metrics/secrets","id":"sidebar-nav-item-36"},{"title":"Storage plugin metrics","path":"internals/telemetry/metrics/storage","fullPath":"/vault/docs/internals/telemetry/metrics/storage","id":"sidebar-nav-item-37"},{"title":"Full metrics list","path":"internals/telemetry/metrics/all","fullPath":"/vault/docs/internals/telemetry/metrics/all","id":"sidebar-nav-item-38"}],"id":"sidebar-nav-item-25"}],"id":"sidebar-nav-item-21"},{"title":"Token Authentication","path":"internals/token","fullPath":"/vault/docs/internals/token","id":"sidebar-nav-item-39"},{"title":"Key Rotation","path":"internals/rotation","fullPath":"/vault/docs/internals/rotation","id":"sidebar-nav-item-40"},{"title":"Replication","path":"internals/replication","fullPath":"/vault/docs/internals/replication","id":"sidebar-nav-item-41"},{"title":"Limits and Maximums","path":"internals/limits","fullPath":"/vault/docs/internals/limits","id":"sidebar-nav-item-42"}],"id":"sidebar-nav-item-14"},{"title":"Concepts","routes":[{"title":"Overview","path":"concepts","fullPath":"/vault/docs/concepts","id":"sidebar-nav-item-44"},{"title":"'Dev' Server","path":"concepts/dev-server","fullPath":"/vault/docs/concepts/dev-server","id":"sidebar-nav-item-45"},{"title":"Seal/Unseal","path":"concepts/seal","fullPath":"/vault/docs/concepts/seal","id":"sidebar-nav-item-46"},{"title":"Namespace API Lock","path":"concepts/namespace-api-lock","fullPath":"/vault/docs/concepts/namespace-api-lock","id":"sidebar-nav-item-47"},{"title":"Lease, Renew, and Revoke","path":"concepts/lease","fullPath":"/vault/docs/concepts/lease","id":"sidebar-nav-item-48"},{"title":"Authentication","path":"concepts/auth","fullPath":"/vault/docs/concepts/auth","id":"sidebar-nav-item-49"},{"title":"Tokens","path":"concepts/tokens","fullPath":"/vault/docs/concepts/tokens","id":"sidebar-nav-item-50"},{"title":"Identity","path":"concepts/identity","fullPath":"/vault/docs/concepts/identity","id":"sidebar-nav-item-51"},{"title":"OIDC Provider","path":"concepts/oidc-provider","fullPath":"/vault/docs/concepts/oidc-provider","id":"sidebar-nav-item-52"},{"title":"Response Wrapping","path":"concepts/response-wrapping","fullPath":"/vault/docs/concepts/response-wrapping","id":"sidebar-nav-item-53"},{"title":"Policies","path":"concepts/policies","fullPath":"/vault/docs/concepts/policies","id":"sidebar-nav-item-54"},{"title":"Password Policies","path":"concepts/password-policies","fullPath":"/vault/docs/concepts/password-policies","id":"sidebar-nav-item-55"},{"title":"Username Templating","path":"concepts/username-templating","fullPath":"/vault/docs/concepts/username-templating","id":"sidebar-nav-item-56"},{"title":"High Availability","path":"concepts/ha","fullPath":"/vault/docs/concepts/ha","id":"sidebar-nav-item-57"},{"title":"Production hardening","path":"concepts/production-hardening","fullPath":"/vault/docs/concepts/production-hardening","id":"sidebar-nav-item-58"},{"title":"Storage","path":"concepts/storage","fullPath":"/vault/docs/concepts/storage","id":"sidebar-nav-item-59"},{"title":"Tune server performance","path":"concepts/tune-server-performance","fullPath":"/vault/docs/concepts/tune-server-performance","id":"sidebar-nav-item-60"},{"title":"Cloud access management","path":"concepts/cloud-access-management","fullPath":"/vault/docs/concepts/cloud-access-management","id":"sidebar-nav-item-61"},{"title":"Integrated Storage","routes":[{"title":"Overview","path":"concepts/integrated-storage","fullPath":"/vault/docs/concepts/integrated-storage","id":"sidebar-nav-item-63"},{"title":"Autopilot","path":"concepts/integrated-storage/autopilot","fullPath":"/vault/docs/concepts/integrated-storage/autopilot","id":"sidebar-nav-item-64"},{"title":"Migration checklist","path":"concepts/integrated-storage/migration-checklist","fullPath":"/vault/docs/concepts/integrated-storage/migration-checklist","id":"sidebar-nav-item-65"},{"title":"Migrate Consul storage","path":"concepts/integrated-storage/migrate-consul-storage","fullPath":"/vault/docs/concepts/integrated-storage/migrate-consul-storage","id":"sidebar-nav-item-66"}],"id":"sidebar-nav-item-62"},{"title":"PGP, GnuPG, and Keybase","path":"concepts/pgp-gpg-keybase","fullPath":"/vault/docs/concepts/pgp-gpg-keybase","id":"sidebar-nav-item-67"},{"title":"Recovery Mode","path":"concepts/recovery-mode","fullPath":"/vault/docs/concepts/recovery-mode","id":"sidebar-nav-item-68"},{"title":"Resource Quotas","path":"concepts/resource-quotas","fullPath":"/vault/docs/concepts/resource-quotas","id":"sidebar-nav-item-69"},{"title":"Billing Start Date","path":"concepts/billing-start-date","fullPath":"/vault/docs/concepts/billing-start-date","id":"sidebar-nav-item-70"},{"title":"Client count","routes":[{"title":"Clients and entities","path":"concepts/client-count","fullPath":"/vault/docs/concepts/client-count","id":"sidebar-nav-item-72"},{"title":"Client count calculation","path":"concepts/client-count/counting","fullPath":"/vault/docs/concepts/client-count/counting","id":"sidebar-nav-item-73"},{"title":"Usage metrics","path":"concepts/client-count/usage-metrics","fullPath":"/vault/docs/concepts/client-count/usage-metrics","id":"sidebar-nav-item-74"},{"title":"FAQ","path":"concepts/client-count/faq","fullPath":"/vault/docs/concepts/client-count/faq","id":"sidebar-nav-item-75"}],"id":"sidebar-nav-item-71"},{"title":"Transform","path":"concepts/transform","fullPath":"/vault/docs/concepts/transform","id":"sidebar-nav-item-76"},{"title":"Mount Migration","path":"concepts/mount-migration","fullPath":"/vault/docs/concepts/mount-migration","id":"sidebar-nav-item-77"},{"title":"Duration String Format","path":"concepts/duration-format","fullPath":"/vault/docs/concepts/duration-format","id":"sidebar-nav-item-78"},{"title":"User lockout","path":"concepts/user-lockout","fullPath":"/vault/docs/concepts/user-lockout","id":"sidebar-nav-item-79"},{"title":"Events","path":"concepts/events","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/concepts/events","id":"sidebar-nav-item-80"},{"title":"Filtering","path":"concepts/filtering","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/concepts/filtering","id":"sidebar-nav-item-81"},{"title":"Adaptive overload protection","badge":{"type":"outlined","color":"neutral","text":"ENT"},"routes":[{"title":"Overview","path":"concepts/adaptive-overload-protection","fullPath":"/vault/docs/concepts/adaptive-overload-protection","id":"sidebar-nav-item-83"},{"title":"Vault server temporarily overloaded","path":"concepts/adaptive-overload-protection/vault-server-temporarily-overloaded","fullPath":"/vault/docs/concepts/adaptive-overload-protection/vault-server-temporarily-overloaded","id":"sidebar-nav-item-84"}],"id":"sidebar-nav-item-82"}],"id":"sidebar-nav-item-43"},{"title":"Configuration","routes":[{"title":"Parameter overview ","path":"configuration","fullPath":"/vault/docs/configuration","id":"sidebar-nav-item-86"},{"title":"GUI configuration","path":"configuration/ui","fullPath":"/vault/docs/configuration/ui","id":"sidebar-nav-item-87"},{"title":"Programmatic best practices","path":"configuration/programmatic-best-practices","fullPath":"/vault/docs/configuration/programmatic-best-practices","id":"sidebar-nav-item-88"},{"title":"Manage resources programmatically","path":"configuration/programmatic-management","fullPath":"/vault/docs/configuration/programmatic-management","id":"sidebar-nav-item-89"},{"title":"Prevent lease explosions","path":"configuration/prevent-lease-explosions","fullPath":"/vault/docs/configuration/prevent-lease-explosions","id":"sidebar-nav-item-90"},{"title":"Create a lease count quota","path":"configuration/create-lease-count-quota","fullPath":"/vault/docs/configuration/create-lease-count-quota","id":"sidebar-nav-item-91"},{"title":"Configure completed request logging","path":"configuration/log-requests-level","fullPath":"/vault/docs/configuration/log-requests-level","id":"sidebar-nav-item-92"},{"title":"Configure entropy augmentation","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/entropy-augmentation","fullPath":"/vault/docs/configuration/entropy-augmentation","id":"sidebar-nav-item-93"},{"heading":"Configuration stanzas","id":"sidebar-nav-item-94"},{"title":"\u003ccode\u003eadaptive_overload_protection\u003c/code\u003e","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/adaptive-overload-protection","fullPath":"/vault/docs/configuration/adaptive-overload-protection","id":"sidebar-nav-item-95"},{"title":"\u003ccode\u003ekms_library\u003c/code\u003e","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/kms-library","fullPath":"/vault/docs/configuration/kms-library","id":"sidebar-nav-item-96"},{"title":"\u003ccode\u003elistener\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/listener","fullPath":"/vault/docs/configuration/listener","id":"sidebar-nav-item-98"},{"title":"TCP listener configuration","routes":[{"title":"Basic configuration","path":"configuration/listener/tcp","fullPath":"/vault/docs/configuration/listener/tcp","id":"sidebar-nav-item-100"},{"title":"Configure TLS","path":"configuration/listener/tcp/tcp-tls","fullPath":"/vault/docs/configuration/listener/tcp/tcp-tls","id":"sidebar-nav-item-101"}],"id":"sidebar-nav-item-99"},{"title":"Unix listener configuration","path":"configuration/listener/unix","fullPath":"/vault/docs/configuration/listener/unix","id":"sidebar-nav-item-102"}],"id":"sidebar-nav-item-97"},{"title":"\u003ccode\u003ereplication\u003c/code\u003e","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/replication","fullPath":"/vault/docs/configuration/replication","id":"sidebar-nav-item-103"},{"title":"\u003ccode\u003ereporting\u003c/code\u003e","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/reporting","fullPath":"/vault/docs/configuration/reporting","id":"sidebar-nav-item-104"},{"title":"\u003ccode\u003eseal\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/seal","fullPath":"/vault/docs/configuration/seal","id":"sidebar-nav-item-106"},{"title":"Sealing best practices","path":"configuration/seal/seal-best-practices","fullPath":"/vault/docs/configuration/seal/seal-best-practices","id":"sidebar-nav-item-107"},{"title":"Configure HA for seals","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/seal/seal-ha","fullPath":"/vault/docs/configuration/seal/seal-ha","id":"sidebar-nav-item-108"},{"heading":"Seal wrapper options","id":"sidebar-nav-item-109"},{"title":"AliCloud KMS","path":"configuration/seal/alicloudkms","fullPath":"/vault/docs/configuration/seal/alicloudkms","id":"sidebar-nav-item-110"},{"title":"AWS KMS","path":"configuration/seal/awskms","fullPath":"/vault/docs/configuration/seal/awskms","id":"sidebar-nav-item-111"},{"title":"Azure Key Vault","path":"configuration/seal/azurekeyvault","fullPath":"/vault/docs/configuration/seal/azurekeyvault","id":"sidebar-nav-item-112"},{"title":"GCP Cloud KMS","path":"configuration/seal/gcpckms","fullPath":"/vault/docs/configuration/seal/gcpckms","id":"sidebar-nav-item-113"},{"title":"OCI KMS","path":"configuration/seal/ocikms","fullPath":"/vault/docs/configuration/seal/ocikms","id":"sidebar-nav-item-114"},{"title":"HSM PKCS11","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/seal/pkcs11","fullPath":"/vault/docs/configuration/seal/pkcs11","id":"sidebar-nav-item-115"},{"title":"Transit plugin","path":"configuration/seal/transit","fullPath":"/vault/docs/configuration/seal/transit","id":"sidebar-nav-item-116"},{"title":"Auto-unseal best practices for Transit","path":"configuration/seal/transit-best-practices","fullPath":"/vault/docs/configuration/seal/transit-best-practices","id":"sidebar-nav-item-117"}],"id":"sidebar-nav-item-105"},{"title":"\u003ccode\u003esentinel\u003c/code\u003e","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"configuration/sentinel","fullPath":"/vault/docs/configuration/sentinel","id":"sidebar-nav-item-118"},{"title":"\u003ccode\u003eservice_registration\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/service-registration","fullPath":"/vault/docs/configuration/service-registration","id":"sidebar-nav-item-120"},{"heading":"Service registration options","id":"sidebar-nav-item-121"},{"title":"Consul","path":"configuration/service-registration/consul","fullPath":"/vault/docs/configuration/service-registration/consul","id":"sidebar-nav-item-122"},{"title":"Kubernetes","path":"configuration/service-registration/kubernetes","fullPath":"/vault/docs/configuration/service-registration/kubernetes","id":"sidebar-nav-item-123"}],"id":"sidebar-nav-item-119"},{"title":"\u003ccode\u003estorage\u003c/code\u003e","routes":[{"title":"Backend storage for Vault","path":"configuration/storage","fullPath":"/vault/docs/configuration/storage","id":"sidebar-nav-item-125"},{"heading":"Storage options","id":"sidebar-nav-item-126"},{"title":"Aerospike","path":"configuration/storage/aerospike","fullPath":"/vault/docs/configuration/storage/aerospike","id":"sidebar-nav-item-127"},{"title":"Alicloud OSS","path":"configuration/storage/alicloudoss","fullPath":"/vault/docs/configuration/storage/alicloudoss","id":"sidebar-nav-item-128"},{"title":"Azure","path":"configuration/storage/azure","fullPath":"/vault/docs/configuration/storage/azure","id":"sidebar-nav-item-129"},{"title":"Cassandra","path":"configuration/storage/cassandra","fullPath":"/vault/docs/configuration/storage/cassandra","id":"sidebar-nav-item-130"},{"title":"CockroachDB","path":"configuration/storage/cockroachdb","fullPath":"/vault/docs/configuration/storage/cockroachdb","id":"sidebar-nav-item-131"},{"title":"Consul","path":"configuration/storage/consul","fullPath":"/vault/docs/configuration/storage/consul","id":"sidebar-nav-item-132"},{"title":"CouchDB","path":"configuration/storage/couchdb","fullPath":"/vault/docs/configuration/storage/couchdb","id":"sidebar-nav-item-133"},{"title":"DynamoDB","path":"configuration/storage/dynamodb","fullPath":"/vault/docs/configuration/storage/dynamodb","id":"sidebar-nav-item-134"},{"title":"Etcd","path":"configuration/storage/etcd","fullPath":"/vault/docs/configuration/storage/etcd","id":"sidebar-nav-item-135"},{"title":"File system","path":"configuration/storage/filesystem","fullPath":"/vault/docs/configuration/storage/filesystem","id":"sidebar-nav-item-136"},{"title":"FoundationDB","path":"configuration/storage/foundationdb","fullPath":"/vault/docs/configuration/storage/foundationdb","id":"sidebar-nav-item-137"},{"title":"Google Cloud Spanner","path":"configuration/storage/google-cloud-spanner","fullPath":"/vault/docs/configuration/storage/google-cloud-spanner","id":"sidebar-nav-item-138"},{"title":"Google Cloud Storage","path":"configuration/storage/google-cloud-storage","fullPath":"/vault/docs/configuration/storage/google-cloud-storage","id":"sidebar-nav-item-139"},{"title":"In-memory storage","path":"configuration/storage/in-memory","fullPath":"/vault/docs/configuration/storage/in-memory","id":"sidebar-nav-item-140"},{"title":"Integrated storage (Raft)","path":"configuration/storage/raft","fullPath":"/vault/docs/configuration/storage/raft","id":"sidebar-nav-item-141"},{"title":"Manta","path":"configuration/storage/manta","fullPath":"/vault/docs/configuration/storage/manta","id":"sidebar-nav-item-142"},{"title":"MSSQL","path":"configuration/storage/mssql","fullPath":"/vault/docs/configuration/storage/mssql","id":"sidebar-nav-item-143"},{"title":"MySQL","path":"configuration/storage/mysql","fullPath":"/vault/docs/configuration/storage/mysql","id":"sidebar-nav-item-144"},{"title":"OCI Object Storage","path":"configuration/storage/oci-object-storage","fullPath":"/vault/docs/configuration/storage/oci-object-storage","id":"sidebar-nav-item-145"},{"title":"PostgreSQL","path":"configuration/storage/postgresql","fullPath":"/vault/docs/configuration/storage/postgresql","id":"sidebar-nav-item-146"},{"title":"S3","path":"configuration/storage/s3","fullPath":"/vault/docs/configuration/storage/s3","id":"sidebar-nav-item-147"},{"title":"Swift","path":"configuration/storage/swift","fullPath":"/vault/docs/configuration/storage/swift","id":"sidebar-nav-item-148"},{"title":"Zookeeper","path":"configuration/storage/zookeeper","fullPath":"/vault/docs/configuration/storage/zookeeper","id":"sidebar-nav-item-149"}],"id":"sidebar-nav-item-124"},{"title":"\u003ccode\u003etelemetry\u003c/code\u003e","path":"configuration/telemetry","fullPath":"/vault/docs/configuration/telemetry","id":"sidebar-nav-item-150"},{"title":"\u003ccode\u003euser_lockout\u003c/code\u003e","path":"configuration/user-lockout","fullPath":"/vault/docs/configuration/user-lockout","id":"sidebar-nav-item-151"}],"id":"sidebar-nav-item-85"},{"title":"Vault CLI","routes":[{"title":"Usage","path":"commands","fullPath":"/vault/docs/commands","id":"sidebar-nav-item-153"},{"title":"Use a custom token helper","path":"commands/token-helper","fullPath":"/vault/docs/commands/token-helper","id":"sidebar-nav-item-154"},{"divider":true,"id":"sidebar-nav-item-155"},{"heading":"CLI commands","id":"sidebar-nav-item-156"},{"title":"Vault Agent","routes":[{"title":"\u003ccode\u003eagent\u003c/code\u003e","path":"commands/agent","fullPath":"/vault/docs/commands/agent","id":"sidebar-nav-item-158"},{"title":"\u003ccode\u003egenerate-config\u003c/code\u003e","path":"commands/agent/generate-config","fullPath":"/vault/docs/commands/agent/generate-config","id":"sidebar-nav-item-159"}],"id":"sidebar-nav-item-157"},{"title":"\u003ccode\u003eaudit\u003c/code\u003e","routes":[{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/audit/disable","fullPath":"/vault/docs/commands/audit/disable","id":"sidebar-nav-item-161"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/audit/enable","fullPath":"/vault/docs/commands/audit/enable","id":"sidebar-nav-item-162"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/audit/list","fullPath":"/vault/docs/commands/audit/list","id":"sidebar-nav-item-163"}],"id":"sidebar-nav-item-160"},{"title":"\u003ccode\u003eauth\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/auth","fullPath":"/vault/docs/commands/auth","id":"sidebar-nav-item-165"},{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/auth/disable","fullPath":"/vault/docs/commands/auth/disable","id":"sidebar-nav-item-166"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/auth/enable","fullPath":"/vault/docs/commands/auth/enable","id":"sidebar-nav-item-167"},{"title":"\u003ccode\u003ehelp\u003c/code\u003e","path":"commands/auth/help","fullPath":"/vault/docs/commands/auth/help","id":"sidebar-nav-item-168"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/auth/list","fullPath":"/vault/docs/commands/auth/list","id":"sidebar-nav-item-169"},{"title":"\u003ccode\u003emove\u003c/code\u003e","path":"commands/auth/move","fullPath":"/vault/docs/commands/auth/move","id":"sidebar-nav-item-170"},{"title":"\u003ccode\u003etune\u003c/code\u003e","path":"commands/auth/tune","fullPath":"/vault/docs/commands/auth/tune","id":"sidebar-nav-item-171"}],"id":"sidebar-nav-item-164"},{"title":"\u003ccode\u003edebug\u003c/code\u003e","path":"commands/debug","fullPath":"/vault/docs/commands/debug","id":"sidebar-nav-item-172"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/delete","fullPath":"/vault/docs/commands/delete","id":"sidebar-nav-item-173"},{"title":"\u003ccode\u003eevents\u003c/code\u003e","path":"commands/events","fullPath":"/vault/docs/commands/events","id":"sidebar-nav-item-174"},{"title":"\u003ccode\u003ehcp\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/hcp","fullPath":"/vault/docs/commands/hcp","id":"sidebar-nav-item-176"},{"title":"\u003ccode\u003econnect\u003c/code\u003e","path":"commands/hcp/connect","fullPath":"/vault/docs/commands/hcp/connect","id":"sidebar-nav-item-177"},{"title":"\u003ccode\u003edisconnect\u003c/code\u003e","path":"commands/hcp/disconnect","fullPath":"/vault/docs/commands/hcp/disconnect","id":"sidebar-nav-item-178"}],"id":"sidebar-nav-item-175"},{"title":"\u003ccode\u003ekv\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/kv","fullPath":"/vault/docs/commands/kv","id":"sidebar-nav-item-180"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/kv/delete","fullPath":"/vault/docs/commands/kv/delete","id":"sidebar-nav-item-181"},{"title":"\u003ccode\u003edestroy\u003c/code\u003e","path":"commands/kv/destroy","fullPath":"/vault/docs/commands/kv/destroy","id":"sidebar-nav-item-182"},{"title":"\u003ccode\u003eenable-versioning\u003c/code\u003e","path":"commands/kv/enable-versioning","fullPath":"/vault/docs/commands/kv/enable-versioning","id":"sidebar-nav-item-183"},{"title":"\u003ccode\u003eget\u003c/code\u003e","path":"commands/kv/get","fullPath":"/vault/docs/commands/kv/get","id":"sidebar-nav-item-184"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/kv/list","fullPath":"/vault/docs/commands/kv/list","id":"sidebar-nav-item-185"},{"title":"\u003ccode\u003emetadata\u003c/code\u003e","path":"commands/kv/metadata","fullPath":"/vault/docs/commands/kv/metadata","id":"sidebar-nav-item-186"},{"title":"\u003ccode\u003epatch\u003c/code\u003e","path":"commands/kv/patch","fullPath":"/vault/docs/commands/kv/patch","id":"sidebar-nav-item-187"},{"title":"\u003ccode\u003eput\u003c/code\u003e","path":"commands/kv/put","fullPath":"/vault/docs/commands/kv/put","id":"sidebar-nav-item-188"},{"title":"\u003ccode\u003erollback\u003c/code\u003e","path":"commands/kv/rollback","fullPath":"/vault/docs/commands/kv/rollback","id":"sidebar-nav-item-189"},{"title":"\u003ccode\u003eundelete\u003c/code\u003e","path":"commands/kv/undelete","fullPath":"/vault/docs/commands/kv/undelete","id":"sidebar-nav-item-190"}],"id":"sidebar-nav-item-179"},{"title":"\u003ccode\u003elease\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/lease","fullPath":"/vault/docs/commands/lease","id":"sidebar-nav-item-192"},{"title":"\u003ccode\u003elookup\u003c/code\u003e","path":"commands/lease/lookup","fullPath":"/vault/docs/commands/lease/lookup","id":"sidebar-nav-item-193"},{"title":"\u003ccode\u003erenew\u003c/code\u003e","path":"commands/lease/renew","fullPath":"/vault/docs/commands/lease/renew","id":"sidebar-nav-item-194"},{"title":"\u003ccode\u003erevoke\u003c/code\u003e","path":"commands/lease/revoke","fullPath":"/vault/docs/commands/lease/revoke","id":"sidebar-nav-item-195"}],"id":"sidebar-nav-item-191"},{"title":"\u003ccode\u003elicense\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/license","fullPath":"/vault/docs/commands/license","id":"sidebar-nav-item-197"},{"title":"\u003ccode\u003eget\u003c/code\u003e","path":"commands/license/get","fullPath":"/vault/docs/commands/license/get","id":"sidebar-nav-item-198"},{"title":"\u003ccode\u003einspect\u003c/code\u003e","path":"commands/license/inspect","fullPath":"/vault/docs/commands/license/inspect","id":"sidebar-nav-item-199"}],"id":"sidebar-nav-item-196"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/list","fullPath":"/vault/docs/commands/list","id":"sidebar-nav-item-200"},{"title":"\u003ccode\u003elogin\u003c/code\u003e","path":"commands/login","fullPath":"/vault/docs/commands/login","id":"sidebar-nav-item-201"},{"title":"\u003ccode\u003emonitor\u003c/code\u003e","path":"commands/monitor","fullPath":"/vault/docs/commands/monitor","id":"sidebar-nav-item-202"},{"title":"\u003ccode\u003enamespace\u003c/code\u003e","path":"commands/namespace","fullPath":"/vault/docs/commands/namespace","id":"sidebar-nav-item-203"},{"title":"\u003ccode\u003eoperator\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/operator","fullPath":"/vault/docs/commands/operator","id":"sidebar-nav-item-205"},{"title":"\u003ccode\u003ediagnose\u003c/code\u003e","path":"commands/operator/diagnose","fullPath":"/vault/docs/commands/operator/diagnose","id":"sidebar-nav-item-206"},{"title":"\u003ccode\u003egenerate-root\u003c/code\u003e","path":"commands/operator/generate-root","fullPath":"/vault/docs/commands/operator/generate-root","id":"sidebar-nav-item-207"},{"title":"\u003ccode\u003eimport\u003c/code\u003e","path":"commands/operator/import","fullPath":"/vault/docs/commands/operator/import","id":"sidebar-nav-item-208"},{"title":"\u003ccode\u003einit\u003c/code\u003e","path":"commands/operator/init","fullPath":"/vault/docs/commands/operator/init","id":"sidebar-nav-item-209"},{"title":"\u003ccode\u003ekey-status\u003c/code\u003e","path":"commands/operator/key-status","fullPath":"/vault/docs/commands/operator/key-status","id":"sidebar-nav-item-210"},{"title":"\u003ccode\u003emembers\u003c/code\u003e","path":"commands/operator/members","fullPath":"/vault/docs/commands/operator/members","id":"sidebar-nav-item-211"},{"title":"\u003ccode\u003emigrate\u003c/code\u003e","path":"commands/operator/migrate","fullPath":"/vault/docs/commands/operator/migrate","id":"sidebar-nav-item-212"},{"title":"\u003ccode\u003eraft\u003c/code\u003e","path":"commands/operator/raft","fullPath":"/vault/docs/commands/operator/raft","id":"sidebar-nav-item-213"},{"title":"\u003ccode\u003erekey\u003c/code\u003e","path":"commands/operator/rekey","fullPath":"/vault/docs/commands/operator/rekey","id":"sidebar-nav-item-214"},{"title":"\u003ccode\u003erotate\u003c/code\u003e","path":"commands/operator/rotate","fullPath":"/vault/docs/commands/operator/rotate","id":"sidebar-nav-item-215"},{"title":"\u003ccode\u003eseal\u003c/code\u003e","path":"commands/operator/seal","fullPath":"/vault/docs/commands/operator/seal","id":"sidebar-nav-item-216"},{"title":"\u003ccode\u003estep-down\u003c/code\u003e","path":"commands/operator/step-down","fullPath":"/vault/docs/commands/operator/step-down","id":"sidebar-nav-item-217"},{"title":"\u003ccode\u003eunseal\u003c/code\u003e","path":"commands/operator/unseal","fullPath":"/vault/docs/commands/operator/unseal","id":"sidebar-nav-item-218"},{"title":"\u003ccode\u003eusage\u003c/code\u003e","path":"commands/operator/usage","fullPath":"/vault/docs/commands/operator/usage","id":"sidebar-nav-item-219"},{"title":"\u003ccode\u003eutilization\u003c/code\u003e","path":"commands/operator/utilization","fullPath":"/vault/docs/commands/operator/utilization","id":"sidebar-nav-item-220"}],"id":"sidebar-nav-item-204"},{"title":"\u003ccode\u003epatch\u003c/code\u003e","path":"commands/patch","fullPath":"/vault/docs/commands/patch","id":"sidebar-nav-item-221"},{"title":"\u003ccode\u003epath-help\u003c/code\u003e","path":"commands/path-help","fullPath":"/vault/docs/commands/path-help","id":"sidebar-nav-item-222"},{"title":"\u003ccode\u003epki\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/pki","fullPath":"/vault/docs/commands/pki","id":"sidebar-nav-item-224"},{"title":"\u003ccode\u003ehealth-check\u003c/code\u003e","path":"commands/pki/health-check","fullPath":"/vault/docs/commands/pki/health-check","id":"sidebar-nav-item-225"},{"title":"\u003ccode\u003everify-sign\u003c/code\u003e","path":"commands/pki/verify-sign","fullPath":"/vault/docs/commands/pki/verify-sign","id":"sidebar-nav-item-226"},{"title":"\u003ccode\u003elist-intermediates\u003c/code\u003e","path":"commands/pki/list-intermediates","fullPath":"/vault/docs/commands/pki/list-intermediates","id":"sidebar-nav-item-227"},{"title":"\u003ccode\u003eissue\u003c/code\u003e","path":"commands/pki/issue","fullPath":"/vault/docs/commands/pki/issue","id":"sidebar-nav-item-228"},{"title":"\u003ccode\u003ereissue\u003c/code\u003e","path":"commands/pki/reissue","fullPath":"/vault/docs/commands/pki/reissue","id":"sidebar-nav-item-229"}],"id":"sidebar-nav-item-223"},{"title":"\u003ccode\u003eplugin\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/plugin","fullPath":"/vault/docs/commands/plugin","id":"sidebar-nav-item-231"},{"title":"\u003ccode\u003ederegister\u003c/code\u003e","path":"commands/plugin/deregister","fullPath":"/vault/docs/commands/plugin/deregister","id":"sidebar-nav-item-232"},{"title":"\u003ccode\u003einfo\u003c/code\u003e","path":"commands/plugin/info","fullPath":"/vault/docs/commands/plugin/info","id":"sidebar-nav-item-233"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/plugin/list","fullPath":"/vault/docs/commands/plugin/list","id":"sidebar-nav-item-234"},{"title":"\u003ccode\u003eregister\u003c/code\u003e","path":"commands/plugin/register","fullPath":"/vault/docs/commands/plugin/register","id":"sidebar-nav-item-235"},{"title":"\u003ccode\u003ereload\u003c/code\u003e","path":"commands/plugin/reload","fullPath":"/vault/docs/commands/plugin/reload","id":"sidebar-nav-item-236"},{"title":"\u003ccode\u003eruntime\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/plugin/runtime","fullPath":"/vault/docs/commands/plugin/runtime","id":"sidebar-nav-item-238"},{"title":"\u003ccode\u003ederegister\u003c/code\u003e","path":"commands/plugin/runtime/deregister","fullPath":"/vault/docs/commands/plugin/runtime/deregister","id":"sidebar-nav-item-239"},{"title":"\u003ccode\u003einfo\u003c/code\u003e","path":"commands/plugin/runtime/info","fullPath":"/vault/docs/commands/plugin/runtime/info","id":"sidebar-nav-item-240"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/plugin/runtime/list","fullPath":"/vault/docs/commands/plugin/runtime/list","id":"sidebar-nav-item-241"},{"title":"\u003ccode\u003eregister\u003c/code\u003e","path":"commands/plugin/runtime/register","fullPath":"/vault/docs/commands/plugin/runtime/register","id":"sidebar-nav-item-242"}],"id":"sidebar-nav-item-237"}],"id":"sidebar-nav-item-230"},{"title":"\u003ccode\u003epolicy\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/policy","fullPath":"/vault/docs/commands/policy","id":"sidebar-nav-item-244"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/policy/delete","fullPath":"/vault/docs/commands/policy/delete","id":"sidebar-nav-item-245"},{"title":"\u003ccode\u003efmt\u003c/code\u003e","path":"commands/policy/fmt","fullPath":"/vault/docs/commands/policy/fmt","id":"sidebar-nav-item-246"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/policy/list","fullPath":"/vault/docs/commands/policy/list","id":"sidebar-nav-item-247"},{"title":"\u003ccode\u003eread\u003c/code\u003e","path":"commands/policy/read","fullPath":"/vault/docs/commands/policy/read","id":"sidebar-nav-item-248"},{"title":"\u003ccode\u003ewrite\u003c/code\u003e","path":"commands/policy/write","fullPath":"/vault/docs/commands/policy/write","id":"sidebar-nav-item-249"}],"id":"sidebar-nav-item-243"},{"title":"\u003ccode\u003eprint\u003c/code\u003e","path":"commands/print","fullPath":"/vault/docs/commands/print","id":"sidebar-nav-item-250"},{"title":"\u003ccode\u003eproxy\u003c/code\u003e","path":"commands/proxy","fullPath":"/vault/docs/commands/proxy","id":"sidebar-nav-item-251"},{"title":"\u003ccode\u003eread\u003c/code\u003e","path":"commands/read","fullPath":"/vault/docs/commands/read","id":"sidebar-nav-item-252"},{"title":"\u003ccode\u003esecrets\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/secrets","fullPath":"/vault/docs/commands/secrets","id":"sidebar-nav-item-254"},{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/secrets/disable","fullPath":"/vault/docs/commands/secrets/disable","id":"sidebar-nav-item-255"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/secrets/enable","fullPath":"/vault/docs/commands/secrets/enable","id":"sidebar-nav-item-256"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/secrets/list","fullPath":"/vault/docs/commands/secrets/list","id":"sidebar-nav-item-257"},{"title":"\u003ccode\u003emove\u003c/code\u003e","path":"commands/secrets/move","fullPath":"/vault/docs/commands/secrets/move","id":"sidebar-nav-item-258"},{"title":"\u003ccode\u003etune\u003c/code\u003e","path":"commands/secrets/tune","fullPath":"/vault/docs/commands/secrets/tune","id":"sidebar-nav-item-259"}],"id":"sidebar-nav-item-253"},{"title":"\u003ccode\u003eserver\u003c/code\u003e","path":"commands/server","fullPath":"/vault/docs/commands/server","id":"sidebar-nav-item-260"},{"title":"\u003ccode\u003essh\u003c/code\u003e","path":"commands/ssh","fullPath":"/vault/docs/commands/ssh","id":"sidebar-nav-item-261"},{"title":"\u003ccode\u003estatus\u003c/code\u003e","path":"commands/status","fullPath":"/vault/docs/commands/status","id":"sidebar-nav-item-262"},{"title":"\u003ccode\u003etoken\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/token","fullPath":"/vault/docs/commands/token","id":"sidebar-nav-item-264"},{"title":"\u003ccode\u003ecapabilities\u003c/code\u003e","path":"commands/token/capabilities","fullPath":"/vault/docs/commands/token/capabilities","id":"sidebar-nav-item-265"},{"title":"\u003ccode\u003ecreate\u003c/code\u003e","path":"commands/token/create","fullPath":"/vault/docs/commands/token/create","id":"sidebar-nav-item-266"},{"title":"\u003ccode\u003elookup\u003c/code\u003e","path":"commands/token/lookup","fullPath":"/vault/docs/commands/token/lookup","id":"sidebar-nav-item-267"},{"title":"\u003ccode\u003erenew\u003c/code\u003e","path":"commands/token/renew","fullPath":"/vault/docs/commands/token/renew","id":"sidebar-nav-item-268"},{"title":"\u003ccode\u003erevoke\u003c/code\u003e","path":"commands/token/revoke","fullPath":"/vault/docs/commands/token/revoke","id":"sidebar-nav-item-269"}],"id":"sidebar-nav-item-263"},{"title":"\u003ccode\u003etransit\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/transit","fullPath":"/vault/docs/commands/transit","id":"sidebar-nav-item-271"},{"title":"\u003ccode\u003eimport\u003c/code\u003e and \u003ccode\u003eimport-version\u003c/code\u003e","path":"commands/transit/import","fullPath":"/vault/docs/commands/transit/import","id":"sidebar-nav-item-272"}],"id":"sidebar-nav-item-270"},{"title":"\u003ccode\u003etransform\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/transform","fullPath":"/vault/docs/commands/transform","id":"sidebar-nav-item-274"},{"title":"\u003ccode\u003eimport\u003c/code\u003e and \u003ccode\u003eimport-version\u003c/code\u003e","path":"commands/transform/import","fullPath":"/vault/docs/commands/transform/import","id":"sidebar-nav-item-275"}],"id":"sidebar-nav-item-273"},{"title":"\u003ccode\u003eunwrap\u003c/code\u003e","path":"commands/unwrap","fullPath":"/vault/docs/commands/unwrap","id":"sidebar-nav-item-276"},{"title":"\u003ccode\u003eversion\u003c/code\u003e","path":"commands/version","fullPath":"/vault/docs/commands/version","id":"sidebar-nav-item-277"},{"title":"\u003ccode\u003eversion-history\u003c/code\u003e","path":"commands/version-history","fullPath":"/vault/docs/commands/version-history","id":"sidebar-nav-item-278"},{"title":"\u003ccode\u003ewrite\u003c/code\u003e","path":"commands/write","fullPath":"/vault/docs/commands/write","id":"sidebar-nav-item-279"}],"id":"sidebar-nav-item-152"},{"title":"Vault GUI","routes":[{"title":"Overview","path":"ui","fullPath":"/vault/docs/ui","id":"sidebar-nav-item-281"},{"title":"Custom Messages","path":"ui/custom-messages","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/ui/custom-messages","id":"sidebar-nav-item-282"},{"title":"CLI emulation","path":"ui/web-cli","fullPath":"/vault/docs/ui/web-cli","id":"sidebar-nav-item-283"}],"id":"sidebar-nav-item-280"},{"title":"Vault tools: Agent and Proxy","routes":[{"title":"Why use Agent or Proxy?","path":"agent-and-proxy","fullPath":"/vault/docs/agent-and-proxy","id":"sidebar-nav-item-285"},{"title":"Auto-authentication","routes":[{"title":"What is auto-authentication?","path":"agent-and-proxy/autoauth","fullPath":"/vault/docs/agent-and-proxy/autoauth","id":"sidebar-nav-item-287"},{"title":"Auto-auth methods","routes":[{"title":"AliCloud","path":"agent-and-proxy/autoauth/methods/alicloud","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/alicloud","id":"sidebar-nav-item-289"},{"title":"AppRole","path":"agent-and-proxy/autoauth/methods/approle","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/approle","id":"sidebar-nav-item-290"},{"title":"AWS","path":"agent-and-proxy/autoauth/methods/aws","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/aws","id":"sidebar-nav-item-291"},{"title":"Azure","path":"agent-and-proxy/autoauth/methods/azure","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/azure","id":"sidebar-nav-item-292"},{"title":"TLS certificates","path":"agent-and-proxy/autoauth/methods/cert","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/cert","id":"sidebar-nav-item-293"},{"title":"Cloud Foundry (CF)","path":"agent-and-proxy/autoauth/methods/cf","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/cf","id":"sidebar-nav-item-294"},{"title":"GCP","path":"agent-and-proxy/autoauth/methods/gcp","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/gcp","id":"sidebar-nav-item-295"},{"title":"JWT","path":"agent-and-proxy/autoauth/methods/jwt","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/jwt","id":"sidebar-nav-item-296"},{"title":"LDAP","path":"agent-and-proxy/autoauth/methods/ldap","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/ldap","id":"sidebar-nav-item-297"},{"title":"Kerberos","path":"agent-and-proxy/autoauth/methods/kerberos","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/kerberos","id":"sidebar-nav-item-298"},{"title":"Kubernetes","path":"agent-and-proxy/autoauth/methods/kubernetes","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/kubernetes","id":"sidebar-nav-item-299"},{"title":"Oracle Cloud Infrastructure (OCI","path":"agent-and-proxy/autoauth/methods/oci","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/oci","id":"sidebar-nav-item-300"},{"title":"Token file","path":"agent-and-proxy/autoauth/methods/token_file","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/token_file","id":"sidebar-nav-item-301"}],"id":"sidebar-nav-item-288"},{"title":"Sinks","routes":[{"title":"File","path":"agent-and-proxy/autoauth/sinks/file","fullPath":"/vault/docs/agent-and-proxy/autoauth/sinks/file","id":"sidebar-nav-item-303"}],"id":"sidebar-nav-item-302"}],"id":"sidebar-nav-item-286"},{"title":"Vault Proxy","routes":[{"title":"What is Vault Proxy?","path":"agent-and-proxy/proxy","fullPath":"/vault/docs/agent-and-proxy/proxy","id":"sidebar-nav-item-305"},{"title":"Vault Proxy as Vault API proxy","path":"agent-and-proxy/proxy/apiproxy","fullPath":"/vault/docs/agent-and-proxy/proxy/apiproxy","id":"sidebar-nav-item-306"},{"title":"Vault Proxy caching","routes":[{"title":"Overview","path":"agent-and-proxy/proxy/caching","fullPath":"/vault/docs/agent-and-proxy/proxy/caching","id":"sidebar-nav-item-308"},{"title":"Improve Vault traffic resiliency","path":"agent-and-proxy/proxy/caching/static-secret-caching","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/agent-and-proxy/proxy/caching/static-secret-caching","id":"sidebar-nav-item-309"},{"title":"Persistent Caching","routes":[{"title":"Use built-in persistent caching","path":"agent-and-proxy/proxy/caching/persistent-caches","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/persistent-caches","id":"sidebar-nav-item-311"},{"title":"Use Kubernetes persistent cache","path":"agent-and-proxy/proxy/caching/persistent-caches/kubernetes","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes","id":"sidebar-nav-item-312"}],"id":"sidebar-nav-item-310"}],"id":"sidebar-nav-item-307"},{"title":"Risks of inconsistent Proxy and Vault versions","path":"agent-and-proxy/proxy/versions","fullPath":"/vault/docs/agent-and-proxy/proxy/versions","id":"sidebar-nav-item-313"}],"id":"sidebar-nav-item-304"},{"title":"Vault Agent","routes":[{"title":"What is Vault Agent?","path":"agent-and-proxy/agent","fullPath":"/vault/docs/agent-and-proxy/agent","id":"sidebar-nav-item-315"},{"title":"Vault Agent as Vault API proxy","path":"agent-and-proxy/agent/apiproxy","fullPath":"/vault/docs/agent-and-proxy/agent/apiproxy","id":"sidebar-nav-item-316"},{"title":"Vault Agent caching","routes":[{"title":"Overview","path":"agent-and-proxy/agent/caching","fullPath":"/vault/docs/agent-and-proxy/agent/caching","id":"sidebar-nav-item-318"},{"title":"Persistent caching","routes":[{"title":"Use built-in persistent caching","path":"agent-and-proxy/agent/caching/persistent-caches","fullPath":"/vault/docs/agent-and-proxy/agent/caching/persistent-caches","id":"sidebar-nav-item-320"},{"title":"Use Kubernetes persistent cache","path":"agent-and-proxy/agent/caching/persistent-caches/kubernetes","fullPath":"/vault/docs/agent-and-proxy/agent/caching/persistent-caches/kubernetes","id":"sidebar-nav-item-321"}],"id":"sidebar-nav-item-319"}],"id":"sidebar-nav-item-317"},{"title":"Generate a development config file","path":"agent-and-proxy/agent/generate-config","fullPath":"/vault/docs/agent-and-proxy/agent/generate-config","id":"sidebar-nav-item-322"},{"title":"Run in process supervisor mode","path":"agent-and-proxy/agent/process-supervisor","fullPath":"/vault/docs/agent-and-proxy/agent/process-supervisor","id":"sidebar-nav-item-323"},{"title":"Use Vault Agent templates","path":"agent-and-proxy/agent/template","fullPath":"/vault/docs/agent-and-proxy/agent/template","id":"sidebar-nav-item-324"},{"title":"Run Vault Agent as a Windows service","path":"agent-and-proxy/agent/winsvc","fullPath":"/vault/docs/agent-and-proxy/agent/winsvc","id":"sidebar-nav-item-325"},{"title":"Risks of inconsistent Agent and Vault versions","path":"agent-and-proxy/agent/versions","fullPath":"/vault/docs/agent-and-proxy/agent/versions","id":"sidebar-nav-item-326"}],"id":"sidebar-nav-item-314"}],"id":"sidebar-nav-item-284"},{"divider":true,"id":"sidebar-nav-item-327"},{"title":"Secrets Engines","routes":[{"title":"Overview","path":"secrets","fullPath":"/vault/docs/secrets","id":"sidebar-nav-item-329"},{"title":"Active Directory","routes":[{"title":"Overview","path":"secrets/ad","fullPath":"/vault/docs/secrets/ad","id":"sidebar-nav-item-331"},{"title":"Migration Guide","path":"secrets/ad/migration-guide","fullPath":"/vault/docs/secrets/ad/migration-guide","id":"sidebar-nav-item-332"}],"id":"sidebar-nav-item-330"},{"title":"AliCloud","path":"secrets/alicloud","fullPath":"/vault/docs/secrets/alicloud","id":"sidebar-nav-item-333"},{"title":"AWS","path":"secrets/aws","fullPath":"/vault/docs/secrets/aws","id":"sidebar-nav-item-334"},{"title":"Azure","path":"secrets/azure","fullPath":"/vault/docs/secrets/azure","id":"sidebar-nav-item-335"},{"title":"Consul","path":"secrets/consul","fullPath":"/vault/docs/secrets/consul","id":"sidebar-nav-item-336"},{"title":"Cubbyhole","path":"secrets/cubbyhole","fullPath":"/vault/docs/secrets/cubbyhole","id":"sidebar-nav-item-337"},{"title":"Databases","routes":[{"title":"Overview","path":"secrets/databases","fullPath":"/vault/docs/secrets/databases","id":"sidebar-nav-item-339"},{"title":"Cassandra","path":"secrets/databases/cassandra","fullPath":"/vault/docs/secrets/databases/cassandra","id":"sidebar-nav-item-340"},{"title":"Couchbase","path":"secrets/databases/couchbase","fullPath":"/vault/docs/secrets/databases/couchbase","id":"sidebar-nav-item-341"},{"title":"Elasticsearch","path":"secrets/databases/elasticdb","fullPath":"/vault/docs/secrets/databases/elasticdb","id":"sidebar-nav-item-342"},{"title":"HanaDB","path":"secrets/databases/hanadb","fullPath":"/vault/docs/secrets/databases/hanadb","id":"sidebar-nav-item-343"},{"title":"IBM Db2","path":"secrets/databases/db2","fullPath":"/vault/docs/secrets/databases/db2","id":"sidebar-nav-item-344"},{"title":"InfluxDB","path":"secrets/databases/influxdb","fullPath":"/vault/docs/secrets/databases/influxdb","id":"sidebar-nav-item-345"},{"title":"MongoDB","path":"secrets/databases/mongodb","fullPath":"/vault/docs/secrets/databases/mongodb","id":"sidebar-nav-item-346"},{"title":"MongoDB Atlas","path":"secrets/databases/mongodbatlas","fullPath":"/vault/docs/secrets/databases/mongodbatlas","id":"sidebar-nav-item-347"},{"title":"MSSQL","path":"secrets/databases/mssql","fullPath":"/vault/docs/secrets/databases/mssql","id":"sidebar-nav-item-348"},{"title":"MySQL/MariaDB","path":"secrets/databases/mysql-maria","fullPath":"/vault/docs/secrets/databases/mysql-maria","id":"sidebar-nav-item-349"},{"title":"Oracle","path":"secrets/databases/oracle","fullPath":"/vault/docs/secrets/databases/oracle","id":"sidebar-nav-item-350"},{"title":"PostgreSQL","path":"secrets/databases/postgresql","fullPath":"/vault/docs/secrets/databases/postgresql","id":"sidebar-nav-item-351"},{"title":"Redis","path":"secrets/databases/redis","fullPath":"/vault/docs/secrets/databases/redis","id":"sidebar-nav-item-352"},{"title":"Redis ElastiCache","path":"secrets/databases/rediselasticache","fullPath":"/vault/docs/secrets/databases/rediselasticache","id":"sidebar-nav-item-353"},{"title":"Redshift","path":"secrets/databases/redshift","fullPath":"/vault/docs/secrets/databases/redshift","id":"sidebar-nav-item-354"},{"title":"Snowflake","path":"secrets/databases/snowflake","fullPath":"/vault/docs/secrets/databases/snowflake","id":"sidebar-nav-item-355"},{"title":"Custom","path":"secrets/databases/custom","fullPath":"/vault/docs/secrets/databases/custom","id":"sidebar-nav-item-356"}],"id":"sidebar-nav-item-338"},{"title":"Google Cloud","path":"secrets/gcp","fullPath":"/vault/docs/secrets/gcp","id":"sidebar-nav-item-357"},{"title":"Google Cloud KMS","path":"secrets/gcpkms","fullPath":"/vault/docs/secrets/gcpkms","id":"sidebar-nav-item-358"},{"title":"Identity","routes":[{"title":"Overview","path":"secrets/identity","fullPath":"/vault/docs/secrets/identity","id":"sidebar-nav-item-360"},{"title":"Identity Tokens","path":"secrets/identity/identity-token","fullPath":"/vault/docs/secrets/identity/identity-token","id":"sidebar-nav-item-361"},{"title":"OIDC Identity Provider","path":"secrets/identity/oidc-provider","fullPath":"/vault/docs/secrets/identity/oidc-provider","id":"sidebar-nav-item-362"}],"id":"sidebar-nav-item-359"},{"title":"Key Management","badge":{"type":"outlined","color":"neutral","text":"ENT"},"routes":[{"title":"Overview","path":"secrets/key-management","fullPath":"/vault/docs/secrets/key-management","id":"sidebar-nav-item-364"},{"title":"Azure Key Vault","routes":[{"title":"Overview","path":"secrets/key-management/azurekeyvault","fullPath":"/vault/docs/secrets/key-management/azurekeyvault","id":"sidebar-nav-item-366"},{"title":"Setup guide","path":"secrets/key-management/azurekeyvault/setup","fullPath":"/vault/docs/secrets/key-management/azurekeyvault/setup","id":"sidebar-nav-item-367"}],"id":"sidebar-nav-item-365"},{"title":"AWS KMS","path":"secrets/key-management/awskms","fullPath":"/vault/docs/secrets/key-management/awskms","id":"sidebar-nav-item-368"},{"title":"GCP Cloud KMS","routes":[{"title":"Overview","path":"secrets/key-management/gcpkms","fullPath":"/vault/docs/secrets/key-management/gcpkms","id":"sidebar-nav-item-370"},{"title":"Setup guide","path":"secrets/key-management/gcpkms/setup","fullPath":"/vault/docs/secrets/key-management/gcpkms/setup","id":"sidebar-nav-item-371"}],"id":"sidebar-nav-item-369"}],"id":"sidebar-nav-item-363"},{"title":"Key/Value","routes":[{"title":"Overview","path":"secrets/kv","fullPath":"/vault/docs/secrets/kv","id":"sidebar-nav-item-373"},{"title":"KV version  1","path":"secrets/kv/kv-v1","fullPath":"/vault/docs/secrets/kv/kv-v1","id":"sidebar-nav-item-374"},{"title":"KV version  2","routes":[{"title":"Overview","path":"secrets/kv/kv-v2","fullPath":"/vault/docs/secrets/kv/kv-v2","id":"sidebar-nav-item-376"},{"title":"Upgrade from v1","path":"secrets/kv/kv-v2/upgrade","fullPath":"/vault/docs/secrets/kv/kv-v2/upgrade","id":"sidebar-nav-item-377"},{"title":"Setup","path":"secrets/kv/kv-v2/setup","fullPath":"/vault/docs/secrets/kv/kv-v2/setup","id":"sidebar-nav-item-378"},{"title":"Save random strings","path":"secrets/kv/kv-v2/random-string","fullPath":"/vault/docs/secrets/kv/kv-v2/random-string","id":"sidebar-nav-item-379"},{"title":"Cookbook","routes":[{"title":"Read data","path":"secrets/kv/kv-v2/cookbook/read-data","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/read-data","id":"sidebar-nav-item-381"},{"title":"Read subkeys","path":"secrets/kv/kv-v2/cookbook/read-subkey","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/read-subkey","id":"sidebar-nav-item-382"},{"title":"Set max data versions","path":"secrets/kv/kv-v2/cookbook/max-versions","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/max-versions","id":"sidebar-nav-item-383"},{"title":"Write data","path":"secrets/kv/kv-v2/cookbook/write-data","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/write-data","id":"sidebar-nav-item-384"},{"title":"Patch/update data","path":"secrets/kv/kv-v2/cookbook/patch-data","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/patch-data","id":"sidebar-nav-item-385"},{"title":"Soft delete data","path":"secrets/kv/kv-v2/cookbook/delete-data","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/delete-data","id":"sidebar-nav-item-386"},{"title":"Restore soft deleted data","path":"secrets/kv/kv-v2/cookbook/undelete-data","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/undelete-data","id":"sidebar-nav-item-387"},{"title":"Destroy data","path":"secrets/kv/kv-v2/cookbook/destroy-data","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/destroy-data","id":"sidebar-nav-item-388"},{"title":"Write custom metadata","path":"secrets/kv/kv-v2/cookbook/custom-metadata","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/custom-metadata","id":"sidebar-nav-item-389"}],"id":"sidebar-nav-item-380"}],"id":"sidebar-nav-item-375"}],"id":"sidebar-nav-item-372"},{"title":"KMIP","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"secrets/kmip","fullPath":"/vault/docs/secrets/kmip","id":"sidebar-nav-item-390"},{"title":"Kubernetes","path":"secrets/kubernetes","fullPath":"/vault/docs/secrets/kubernetes","id":"sidebar-nav-item-391"},{"title":"MongoDB Atlas","path":"secrets/mongodbatlas","fullPath":"/vault/docs/secrets/mongodbatlas","id":"sidebar-nav-item-392"},{"title":"Nomad","path":"secrets/nomad","fullPath":"/vault/docs/secrets/nomad","id":"sidebar-nav-item-393"},{"title":"LDAP","path":"secrets/ldap","fullPath":"/vault/docs/secrets/ldap","id":"sidebar-nav-item-394"},{"title":"PKI (Certificates)","routes":[{"title":"Overview","path":"secrets/pki","fullPath":"/vault/docs/secrets/pki","id":"sidebar-nav-item-396"},{"title":"Setup and Usage","path":"secrets/pki/setup","fullPath":"/vault/docs/secrets/pki/setup","id":"sidebar-nav-item-397"},{"title":"Quick Start - Root CA Setup","path":"secrets/pki/quick-start-root-ca","fullPath":"/vault/docs/secrets/pki/quick-start-root-ca","id":"sidebar-nav-item-398"},{"title":"Quick Start - Intermediate CA Setup","path":"secrets/pki/quick-start-intermediate-ca","fullPath":"/vault/docs/secrets/pki/quick-start-intermediate-ca","id":"sidebar-nav-item-399"},{"title":"Considerations","path":"secrets/pki/considerations","fullPath":"/vault/docs/secrets/pki/considerations","id":"sidebar-nav-item-400"},{"title":"Rotation Primitives","path":"secrets/pki/rotation-primitives","fullPath":"/vault/docs/secrets/pki/rotation-primitives","id":"sidebar-nav-item-401"},{"title":"Certificate Issuance External Policy Service (CIEPS)","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"secrets/pki/cieps","fullPath":"/vault/docs/secrets/pki/cieps","id":"sidebar-nav-item-402"},{"title":"Enrollment over Secure Transport (EST)","path":"secrets/pki/est","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/secrets/pki/est","id":"sidebar-nav-item-403"},{"title":"Certificate Management Protocol (CMPv2)","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"secrets/pki/cmpv2","fullPath":"/vault/docs/secrets/pki/cmpv2","id":"sidebar-nav-item-404"},{"title":"Troubleshooting ACME","path":"secrets/pki/troubleshooting-acme","fullPath":"/vault/docs/secrets/pki/troubleshooting-acme","id":"sidebar-nav-item-405"}],"id":"sidebar-nav-item-395"},{"title":"RabbitMQ","path":"secrets/rabbitmq","fullPath":"/vault/docs/secrets/rabbitmq","id":"sidebar-nav-item-406"},{"title":"SSH","routes":[{"title":"Overview","path":"secrets/ssh","fullPath":"/vault/docs/secrets/ssh","id":"sidebar-nav-item-408"},{"title":"Signed Certificates","path":"secrets/ssh/signed-ssh-certificates","fullPath":"/vault/docs/secrets/ssh/signed-ssh-certificates","id":"sidebar-nav-item-409"},{"title":"SSH OTP","path":"secrets/ssh/one-time-ssh-passwords","fullPath":"/vault/docs/secrets/ssh/one-time-ssh-passwords","id":"sidebar-nav-item-410"}],"id":"sidebar-nav-item-407"},{"title":"HCP Terraform","path":"secrets/terraform","fullPath":"/vault/docs/secrets/terraform","id":"sidebar-nav-item-411"},{"title":"TOTP","path":"secrets/totp","fullPath":"/vault/docs/secrets/totp","id":"sidebar-nav-item-412"},{"title":"Transform","badge":{"type":"outlined","color":"neutral","text":"ENT"},"routes":[{"title":"Overview","path":"secrets/transform","fullPath":"/vault/docs/secrets/transform","id":"sidebar-nav-item-414"},{"title":"FF3-1 Tweak Usage","path":"secrets/transform/ff3-tweak-details","fullPath":"/vault/docs/secrets/transform/ff3-tweak-details","id":"sidebar-nav-item-415"},{"title":"Tokenization Transform","badge":{"type":"outlined","color":"neutral","text":"ENT"},"path":"secrets/transform/tokenization","fullPath":"/vault/docs/secrets/transform/tokenization","id":"sidebar-nav-item-416"}],"id":"sidebar-nav-item-413"},{"title":"Transit","routes":[{"title":"Overview","path":"secrets/transit","fullPath":"/vault/docs/secrets/transit","id":"sidebar-nav-item-418"},{"title":"Import Key Wrapping Guide","path":"secrets/transit/key-wrapping-guide","fullPath":"/vault/docs/secrets/transit/key-wrapping-guide","id":"sidebar-nav-item-419"}],"id":"sidebar-nav-item-417"},{"title":"Venafi (Certificates)","path":"secrets/venafi","fullPath":"/vault/docs/secrets/venafi","id":"sidebar-nav-item-420"}],"id":"sidebar-nav-item-328"},{"title":"Secrets Sync","badge":{"type":"outlined","color":"neutral","text":"ENT"},"routes":[{"title":"Overview","path":"sync","fullPath":"/vault/docs/sync","id":"sidebar-nav-item-422"},{"title":"Sync to AWS Secrets Manager","path":"sync/awssm","fullPath":"/vault/docs/sync/awssm","id":"sidebar-nav-item-423"},{"title":"Sync to Azure Key Vault","path":"sync/azurekv","fullPath":"/vault/docs/sync/azurekv","id":"sidebar-nav-item-424"},{"title":"Sync to GCP Secret Manager","path":"sync/gcpsm","fullPath":"/vault/docs/sync/gcpsm","id":"sidebar-nav-item-425"},{"title":"Sync to GitHub","path":"sync/github","fullPath":"/vault/docs/sync/github","id":"sidebar-nav-item-426"},{"title":"Sync to Vercel Project","path":"sync/vercelproject","fullPath":"/vault/docs/sync/vercelproject","id":"sidebar-nav-item-427"}],"id":"sidebar-nav-item-421"},{"title":"Secrets Import","badge":{"type":"outlined","color":"neutral","text":"ENT"},"routes":[{"title":"Overview","path":"import","badge":{"type":"outlined","color":"highlight","text":"ALPHA"},"fullPath":"/vault/docs/import","id":"sidebar-nav-item-429"},{"title":"GCP Secret Manager","path":"import/gcpsm","fullPath":"/vault/docs/import/gcpsm","id":"sidebar-nav-item-430"},{"title":"Mappings","path":"import/mappings","fullPath":"/vault/docs/import/mappings","id":"sidebar-nav-item-431"}],"id":"sidebar-nav-item-428"},{"title":"Auth Methods","routes":[{"title":"Overview","path":"auth","fullPath":"/vault/docs/auth","id":"sidebar-nav-item-433"},{"title":"AppRole","routes":[{"title":"Overview","path":"auth/approle","fullPath":"/vault/docs/auth/approle","id":"sidebar-nav-item-435"},{"title":"Recommended pattern","path":"auth/approle/approle-pattern","fullPath":"/vault/docs/auth/approle/approle-pattern","id":"sidebar-nav-item-436"}],"id":"sidebar-nav-item-434"},{"title":"AliCloud","path":"auth/alicloud","fullPath":"/vault/docs/auth/alicloud","id":"sidebar-nav-item-437"},{"title":"AWS","path":"auth/aws","fullPath":"/vault/docs/auth/aws","id":"sidebar-nav-item-438"},{"title":"Azure","path":"auth/azure","fullPath":"/vault/docs/auth/azure","id":"sidebar-nav-item-439"},{"title":"Cloud Foundry","path":"auth/cf","fullPath":"/vault/docs/auth/cf","id":"sidebar-nav-item-440"},{"title":"GitHub","path":"auth/github","fullPath":"/vault/docs/auth/github","id":"sidebar-nav-item-441"},{"title":"Google Cloud","path":"auth/gcp","fullPath":"/vault/docs/auth/gcp","id":"sidebar-nav-item-442"},{"title":"JWT/OIDC","routes":[{"title":"Overview","path":"auth/jwt","fullPath":"/vault/docs/auth/jwt","id":"sidebar-nav-item-444"},{"title":"OIDC Providers","routes":[{"title":"Overview","path":"auth/jwt/oidc-providers","fullPath":"/vault/docs/auth/jwt/oidc-providers","id":"sidebar-nav-item-446"},{"title":"ADFS","path":"auth/jwt/oidc-providers/adfs","fullPath":"/vault/docs/auth/jwt/oidc-providers/adfs","id":"sidebar-nav-item-447"},{"title":"Auth0","path":"auth/jwt/oidc-providers/auth0","fullPath":"/vault/docs/auth/jwt/oidc-providers/auth0","id":"sidebar-nav-item-448"},{"title":"Azure AD","path":"auth/jwt/oidc-providers/azuread","fullPath":"/vault/docs/auth/jwt/oidc-providers/azuread","id":"sidebar-nav-item-449"},{"title":"Forgerock","path":"auth/jwt/oidc-providers/forgerock","fullPath":"/vault/docs/auth/jwt/oidc-providers/forgerock","id":"sidebar-nav-item-450"},{"title":"Gitlab","path":"auth/jwt/oidc-providers/gitlab","fullPath":"/vault/docs/auth/jwt/oidc-providers/gitlab","id":"sidebar-nav-item-451"},{"title":"Google","path":"auth/jwt/oidc-providers/google","fullPath":"/vault/docs/auth/jwt/oidc-providers/google","id":"sidebar-nav-item-452"},{"title":"Keycloak","path":"auth/jwt/oidc-providers/keycloak","fullPath":"/vault/docs/auth/jwt/oidc-providers/keycloak","id":"sidebar-nav-item-453"},{"title":"Kubernetes","path":"auth/jwt/oidc-providers/kubernetes","fullPath":"/vault/docs/auth/jwt/oidc-providers/kubernetes","id":"sidebar-nav-item-454"},{"title":"Okta","path":"auth/jwt/oidc-providers/okta","fullPath":"/vault/docs/auth/jwt/oidc-providers/okta","id":"sidebar-nav-item-455"},{"title":"SecureAuth","path":"auth/jwt/oidc-providers/secureauth","fullPath":"/vault/docs/auth/jwt/oidc-providers/secureauth","id":"sidebar-nav-item-456"},{"title":"IBM ISAM","path":"auth/jwt/oidc-providers/ibmisam","fullPath":"/vault/docs/auth/jwt/oidc-providers/ibmisam","id":"sidebar-nav-item-457"}],"id":"sidebar-nav-item-445"}],"id":"sidebar-nav-item-443"},{"title":"Kerberos","path":"auth/kerberos","fullPath":"/vault/docs/auth/kerberos","id":"sidebar-nav-item-458"},{"title":"Kubernetes","path":"auth/kubernetes","fullPath":"/vault/docs/auth/kubernetes","id":"sidebar-nav-item-459"},{"title":"LDAP","path":"auth/ldap","fullPath":"/vault/docs/auth/ldap","id":"sidebar-nav-item-460"},{"title":"Login MFA","routes":[{"title":"Overview","path":"auth/login-mfa","fullPath":"/vault/docs/auth/login-mfa","id":"sidebar-nav-item-462"},{"title":"FAQ","path":"auth/login-mfa/faq","fullPath":"/vault/docs/auth/login-mfa/faq","id":"sidebar-nav-item-463"}],"id":"sidebar-nav-item-461"},{"title":"Oracle Cloud Infrastructure","path":"auth/oci","fullPath":"/vault/docs/auth/oci","id":"sidebar-nav-item-464"},{"title":"Okta","path":"auth/okta","fullPath":"/vault/docs/auth/okta","id":"sidebar-nav-item-465"},{"title":"RADIUS","path":"auth/radius","fullPath":"/vault/docs/auth/radius","id":"sidebar-nav-item-466"},{"title":"SAML","badge":{"type":"outlined","color":"neutral","text":"ENT"},"routes":[{"title":"Overview","path":"auth/saml","fullPath":"/vault/docs/auth/saml","id":"sidebar-nav-item-468"},{"title":"Use AD FS for SAML authN","path":"auth/saml/adfs","fullPath":"/vault/docs/auth/saml/adfs","id":"sidebar-nav-item-469"},{"title":"Link SAML AD groups to Vault","path":"auth/saml/link-vault-group-to-ad","fullPath":"/vault/docs/auth/saml/link-vault-group-to-ad","id":"sidebar-nav-item-470"},{"title":"Troubleshoot SAML+ADFS","routes":[{"title":"Before you start","path":"auth/saml/troubleshoot-adfs","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs","id":"sidebar-nav-item-472"},{"title":"Bad mapping","path":"auth/saml/troubleshoot-adfs/bad-mapping","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/bad-mapping","id":"sidebar-nav-item-473"},{"title":"Invalid `BoundSubjects`","path":"auth/saml/troubleshoot-adfs/boundsubjects","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/boundsubjects","id":"sidebar-nav-item-474"},{"title":"AD FS event 320","path":"auth/saml/troubleshoot-adfs/adfs-event-320","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/adfs-event-320","id":"sidebar-nav-item-475"}],"id":"sidebar-nav-item-471"}],"id":"sidebar-nav-item-467"},{"title":"TLS Certificates","path":"auth/cert","fullPath":"/vault/docs/auth/cert","id":"sidebar-nav-item-476"},{"title":"Tokens","path":"auth/token","fullPath":"/vault/docs/auth/token","id":"sidebar-nav-item-477"},{"title":"Username and Password","path":"auth/userpass","fullPath":"/vault/docs/auth/userpass","id":"sidebar-nav-item-478"},{"divider":true,"id":"sidebar-nav-item-479"}],"id":"sidebar-nav-item-432"},{"title":"Audit Devices","routes":[{"title":"Overview","path":"audit","fullPath":"/vault/docs/audit","id":"sidebar-nav-item-481"},{"title":"File","path":"audit/file","fullPath":"/vault/docs/audit/file","id":"sidebar-nav-item-482"},{"title":"Syslog","path":"audit/syslog","fullPath":"/vault/docs/audit/syslog","id":"sidebar-nav-item-483"},{"title":"Socket","path":"audit/socket","fullPath":"/vault/docs/audit/socket","id":"sidebar-nav-item-484"}],"id":"sidebar-nav-item-480"},{"title":"Plugins","routes":[{"title":"Overview","path":"plugins","fullPath":"/vault/docs/plugins","id":"sidebar-nav-item-486"},{"title":"Plugin Architecture","path":"plugins/plugin-architecture","fullPath":"/vault/docs/plugins/plugin-architecture","id":"sidebar-nav-item-487"},{"title":"Plugin Development","path":"plugins/plugin-development","fullPath":"/vault/docs/plugins/plugin-development","id":"sidebar-nav-item-488"},{"title":"Plugin Development  Event Notifications","path":"plugins/plugin-development-event-notifications","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/plugins/plugin-development-event-notifications","id":"sidebar-nav-item-489"},{"title":"Plugin Management","path":"plugins/plugin-management","fullPath":"/vault/docs/plugins/plugin-management","id":"sidebar-nav-item-490"},{"title":"Containerized plugins","routes":[{"title":"Overview","path":"plugins/containerized-plugins","fullPath":"/vault/docs/plugins/containerized-plugins","id":"sidebar-nav-item-492"},{"title":"Add a containerized plugin","path":"plugins/containerized-plugins/add-a-containerized-plugin","fullPath":"/vault/docs/plugins/containerized-plugins/add-a-containerized-plugin","id":"sidebar-nav-item-493"}],"id":"sidebar-nav-item-491"},{"title":"Integrations Library","href":null,"fullPath":"/vault/integrations","id":"sidebar-nav-item-494","path":"/vault/integrations"}],"id":"sidebar-nav-item-485"},{"title":"Vault Integration Program","path":"partnerships","fullPath":"/vault/docs/partnerships","id":"sidebar-nav-item-495"},{"title":"Vault interoperability matrix","path":"interoperability-matrix","fullPath":"/vault/docs/interoperability-matrix","id":"sidebar-nav-item-496"},{"title":"Troubleshoot Vault","routes":[{"title":"Generate a root token","path":"troubleshoot/generate-root-token","fullPath":"/vault/docs/troubleshoot/generate-root-token","id":"sidebar-nav-item-498"},{"title":"Troubleshoot lease errors","path":"troubleshoot/lease-issues","fullPath":"/vault/docs/troubleshoot/lease-issues","id":"sidebar-nav-item-499"},{"title":"Tune the lease TTL","path":"troubleshoot/tune-lease-ttl","fullPath":"/vault/docs/troubleshoot/tune-lease-ttl","id":"sidebar-nav-item-500"},{"title":"Troubleshooting tutorials","href":"/vault/tutorials/monitoring/troubleshooting-vault","id":"sidebar-nav-item-501"}],"id":"sidebar-nav-item-497"},{"divider":true,"id":"sidebar-nav-item-502"},{"title":"Platforms","routes":[{"title":"Overview","path":"platform","fullPath":"/vault/docs/platform","id":"sidebar-nav-item-504"},{"title":"AWS","routes":[{"title":"Overview","path":"platform/aws","fullPath":"/vault/docs/platform/aws","id":"sidebar-nav-item-506"},{"title":"Vault Lambda Extension","path":"platform/aws/lambda-extension","fullPath":"/vault/docs/platform/aws/lambda-extension","id":"sidebar-nav-item-507"},{"title":"Running Vault","path":"platform/aws/run","fullPath":"/vault/docs/platform/aws/run","id":"sidebar-nav-item-508"}],"id":"sidebar-nav-item-505"},{"title":"GitHub","routes":[{"title":"GitHub Actions","path":"platform/github-actions","fullPath":"/vault/docs/platform/github-actions","id":"sidebar-nav-item-510"}],"id":"sidebar-nav-item-509"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"platform/k8s","fullPath":"/vault/docs/platform/k8s","id":"sidebar-nav-item-512"},{"title":"Agent Injector vs. Vault CSI Provider","path":"platform/k8s/injector-csi","fullPath":"/vault/docs/platform/k8s/injector-csi","id":"sidebar-nav-item-513"},{"title":"Migrate Consul to Raft storage","path":"platform/k8s/consul-to-raft","fullPath":"/vault/docs/platform/k8s/consul-to-raft","id":"sidebar-nav-item-514"},{"title":"Helm Chart","routes":[{"title":"Overview","path":"platform/k8s/helm","fullPath":"/vault/docs/platform/k8s/helm","id":"sidebar-nav-item-516"},{"title":"Running Vault","path":"platform/k8s/helm/run","fullPath":"/vault/docs/platform/k8s/helm/run","id":"sidebar-nav-item-517"},{"title":"Enterprise Licensing","path":"platform/k8s/helm/enterprise","fullPath":"/vault/docs/platform/k8s/helm/enterprise","id":"sidebar-nav-item-518"},{"title":"Running Vault on OpenShift","path":"platform/k8s/helm/openshift","fullPath":"/vault/docs/platform/k8s/helm/openshift","id":"sidebar-nav-item-519"},{"title":"Configuration","path":"platform/k8s/helm/configuration","fullPath":"/vault/docs/platform/k8s/helm/configuration","id":"sidebar-nav-item-520"},{"title":"Terraform","path":"platform/k8s/helm/terraform","fullPath":"/vault/docs/platform/k8s/helm/terraform","id":"sidebar-nav-item-521"},{"title":"Examples","routes":[{"title":"Overview","path":"platform/k8s/helm/examples","fullPath":"/vault/docs/platform/k8s/helm/examples","id":"sidebar-nav-item-523"},{"title":"Development","path":"platform/k8s/helm/examples/development","fullPath":"/vault/docs/platform/k8s/helm/examples/development","id":"sidebar-nav-item-524"},{"title":"Standalone with Load Balanced UI","path":"platform/k8s/helm/examples/standalone-load-balanced-ui","fullPath":"/vault/docs/platform/k8s/helm/examples/standalone-load-balanced-ui","id":"sidebar-nav-item-525"},{"title":"Standalone with TLS","path":"platform/k8s/helm/examples/standalone-tls","fullPath":"/vault/docs/platform/k8s/helm/examples/standalone-tls","id":"sidebar-nav-item-526"},{"title":"Standalone with Audit Storage","path":"platform/k8s/helm/examples/standalone-audit","fullPath":"/vault/docs/platform/k8s/helm/examples/standalone-audit","id":"sidebar-nav-item-527"},{"title":"External Vault","path":"platform/k8s/helm/examples/external","fullPath":"/vault/docs/platform/k8s/helm/examples/external","id":"sidebar-nav-item-528"},{"title":"Using Kubernetes Auth Method","path":"platform/k8s/helm/examples/kubernetes-auth","fullPath":"/vault/docs/platform/k8s/helm/examples/kubernetes-auth","id":"sidebar-nav-item-529"},{"title":"HA Cluster with Consul","path":"platform/k8s/helm/examples/ha-with-consul","fullPath":"/vault/docs/platform/k8s/helm/examples/ha-with-consul","id":"sidebar-nav-item-530"},{"title":"HA Cluster with Raft","path":"platform/k8s/helm/examples/ha-with-raft","fullPath":"/vault/docs/platform/k8s/helm/examples/ha-with-raft","id":"sidebar-nav-item-531"},{"title":"HA Cluster with Raft and TLS","path":"platform/k8s/helm/examples/ha-tls","fullPath":"/vault/docs/platform/k8s/helm/examples/ha-tls","id":"sidebar-nav-item-532"},{"title":"HA Enterprise Cluster with Raft","path":"platform/k8s/helm/examples/enterprise-with-raft","fullPath":"/vault/docs/platform/k8s/helm/examples/enterprise-with-raft","id":"sidebar-nav-item-533"},{"title":"HA Enterprise DR Clusters with Raft","path":"platform/k8s/helm/examples/enterprise-dr-with-raft","fullPath":"/vault/docs/platform/k8s/helm/examples/enterprise-dr-with-raft","id":"sidebar-nav-item-534"},{"title":"HA Enterprise Performance Clusters with Raft","path":"platform/k8s/helm/examples/enterprise-perf-with-raft","fullPath":"/vault/docs/platform/k8s/helm/examples/enterprise-perf-with-raft","id":"sidebar-nav-item-535"},{"title":"Vault Agent Injector TLS Configuration","path":"platform/k8s/helm/examples/injector-tls","fullPath":"/vault/docs/platform/k8s/helm/examples/injector-tls","id":"sidebar-nav-item-536"},{"title":"Vault Agent Injector TLS with Cert-Manager","path":"platform/k8s/helm/examples/injector-tls-cert-manager","fullPath":"/vault/docs/platform/k8s/helm/examples/injector-tls-cert-manager","id":"sidebar-nav-item-537"}],"id":"sidebar-nav-item-522"}],"id":"sidebar-nav-item-515"},{"title":"Agent Injector","routes":[{"title":"Overview","path":"platform/k8s/injector","fullPath":"/vault/docs/platform/k8s/injector","id":"sidebar-nav-item-539"},{"title":"Annotations","path":"platform/k8s/injector/annotations","fullPath":"/vault/docs/platform/k8s/injector/annotations","id":"sidebar-nav-item-540"},{"title":"Installation","path":"platform/k8s/injector/installation","fullPath":"/vault/docs/platform/k8s/injector/installation","id":"sidebar-nav-item-541"},{"title":"Examples","path":"platform/k8s/injector/examples","fullPath":"/vault/docs/platform/k8s/injector/examples","id":"sidebar-nav-item-542"}],"id":"sidebar-nav-item-538"},{"title":"Vault CSI Provider","routes":[{"title":"Overview","path":"platform/k8s/csi","fullPath":"/vault/docs/platform/k8s/csi","id":"sidebar-nav-item-544"},{"title":"Installation","path":"platform/k8s/csi/installation","fullPath":"/vault/docs/platform/k8s/csi/installation","id":"sidebar-nav-item-545"},{"title":"Configurations","path":"platform/k8s/csi/configurations","fullPath":"/vault/docs/platform/k8s/csi/configurations","id":"sidebar-nav-item-546"},{"title":"Examples","path":"platform/k8s/csi/examples","fullPath":"/vault/docs/platform/k8s/csi/examples","id":"sidebar-nav-item-547"}],"id":"sidebar-nav-item-543"},{"title":"Vault Secrets Operator","routes":[{"title":"Overview","path":"platform/k8s/vso","fullPath":"/vault/docs/platform/k8s/vso","id":"sidebar-nav-item-549"},{"title":"Installation","path":"platform/k8s/vso/installation","fullPath":"/vault/docs/platform/k8s/vso/installation","id":"sidebar-nav-item-550"},{"title":"Secret Sources","routes":[{"title":"Overview","path":"platform/k8s/vso/sources","fullPath":"/vault/docs/platform/k8s/vso/sources","id":"sidebar-nav-item-552"},{"title":"Vault","routes":[{"title":"Overview","path":"platform/k8s/vso/sources/vault","fullPath":"/vault/docs/platform/k8s/vso/sources/vault","id":"sidebar-nav-item-554"},{"title":"Authentication","routes":[{"title":"Overview","path":"platform/k8s/vso/sources/vault/auth","fullPath":"/vault/docs/platform/k8s/vso/sources/vault/auth","id":"sidebar-nav-item-556"},{"title":"AWS","path":"platform/k8s/vso/sources/vault/auth/aws","fullPath":"/vault/docs/platform/k8s/vso/sources/vault/auth/aws","id":"sidebar-nav-item-557"},{"title":"GCP","path":"platform/k8s/vso/sources/vault/auth/gcp","fullPath":"/vault/docs/platform/k8s/vso/sources/vault/auth/gcp","id":"sidebar-nav-item-558"}],"id":"sidebar-nav-item-555"},{"title":"Encrypted client cache","path":"platform/k8s/vso/sources/vault/client-cache","fullPath":"/vault/docs/platform/k8s/vso/sources/vault/client-cache","id":"sidebar-nav-item-559"},{"title":"Instant updates","path":"platform/k8s/vso/sources/vault/instant-updates","fullPath":"/vault/docs/platform/k8s/vso/sources/vault/instant-updates","id":"sidebar-nav-item-560"}],"id":"sidebar-nav-item-553"},{"title":"HCP Vault Secrets","path":"platform/k8s/vso/sources/hvs","fullPath":"/vault/docs/platform/k8s/vso/sources/hvs","id":"sidebar-nav-item-561"}],"id":"sidebar-nav-item-551"},{"title":"Secret Data Transformation","path":"platform/k8s/vso/secret-transformation","fullPath":"/vault/docs/platform/k8s/vso/secret-transformation","id":"sidebar-nav-item-562"},{"title":"Helm Chart","path":"platform/k8s/vso/helm","fullPath":"/vault/docs/platform/k8s/vso/helm","id":"sidebar-nav-item-563"},{"title":"Examples","path":"platform/k8s/vso/examples","fullPath":"/vault/docs/platform/k8s/vso/examples","id":"sidebar-nav-item-564"},{"title":"Telemetry","path":"platform/k8s/vso/telemetry","fullPath":"/vault/docs/platform/k8s/vso/telemetry","id":"sidebar-nav-item-565"},{"title":"API Reference","path":"platform/k8s/vso/api-reference","fullPath":"/vault/docs/platform/k8s/vso/api-reference","id":"sidebar-nav-item-566"},{"title":"OpenShift","path":"platform/k8s/vso/openshift","fullPath":"/vault/docs/platform/k8s/vso/openshift","id":"sidebar-nav-item-567"}],"id":"sidebar-nav-item-548"}],"id":"sidebar-nav-item-511"},{"title":"Microsoft SQL Server EKM provider","routes":[{"title":"Overview","path":"platform/mssql","fullPath":"/vault/docs/platform/mssql","id":"sidebar-nav-item-569"},{"title":"Installation","path":"platform/mssql/installation","fullPath":"/vault/docs/platform/mssql/installation","id":"sidebar-nav-item-570"},{"title":"Configuration","path":"platform/mssql/configuration","fullPath":"/vault/docs/platform/mssql/configuration","id":"sidebar-nav-item-571"},{"title":"Key Rotation","path":"platform/mssql/rotation","fullPath":"/vault/docs/platform/mssql/rotation","id":"sidebar-nav-item-572"},{"title":"Upgrading","path":"platform/mssql/upgrading","fullPath":"/vault/docs/platform/mssql/upgrading","id":"sidebar-nav-item-573"},{"title":"Troubleshooting","path":"platform/mssql/troubleshooting","fullPath":"/vault/docs/platform/mssql/troubleshooting","id":"sidebar-nav-item-574"},{"title":"Release Notes","path":"platform/mssql/changelog","fullPath":"/vault/docs/platform/mssql/changelog","id":"sidebar-nav-item-575"}],"id":"sidebar-nav-item-568"},{"title":"ServiceNow","routes":[{"title":"Overview","path":"platform/servicenow","fullPath":"/vault/docs/platform/servicenow","id":"sidebar-nav-item-577"},{"title":"Installation","path":"platform/servicenow/installation","fullPath":"/vault/docs/platform/servicenow/installation","id":"sidebar-nav-item-578"},{"title":"Configuration","path":"platform/servicenow/configuration","fullPath":"/vault/docs/platform/servicenow/configuration","id":"sidebar-nav-item-579"},{"title":"Troubleshooting","path":"platform/servicenow/troubleshooting","fullPath":"/vault/docs/platform/servicenow/troubleshooting","id":"sidebar-nav-item-580"}],"id":"sidebar-nav-item-576"}],"id":"sidebar-nav-item-503"},{"divider":true,"id":"sidebar-nav-item-581"},{"title":"Upgrade Guides","routes":[{"title":"Overview","path":"upgrading","fullPath":"/vault/docs/upgrading","id":"sidebar-nav-item-583"},{"title":"Upgrade Vault HA installations","path":"upgrading/vault-ha-upgrade","fullPath":"/vault/docs/upgrading/vault-ha-upgrade","id":"sidebar-nav-item-584"},{"title":"Upgrade Plugins","path":"upgrading/plugins","fullPath":"/vault/docs/upgrading/plugins","id":"sidebar-nav-item-585"},{"title":"Upgrade to Raft WAL","path":"upgrading/raft-wal","fullPath":"/vault/docs/upgrading/raft-wal","id":"sidebar-nav-item-586"},{"title":"Upgrade to 1.18.x","path":"upgrading/upgrade-to-1.18.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.18.x","id":"sidebar-nav-item-587"},{"title":"Upgrade to 1.17.x","path":"upgrading/upgrade-to-1.17.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.17.x","id":"sidebar-nav-item-588"},{"title":"Upgrade to 1.16.x","path":"upgrading/upgrade-to-1.16.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.16.x","id":"sidebar-nav-item-589"},{"title":"Upgrade to 1.15.x","path":"upgrading/upgrade-to-1.15.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.15.x","id":"sidebar-nav-item-590"},{"title":"Upgrade to 1.14.x","path":"upgrading/upgrade-to-1.14.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.14.x","id":"sidebar-nav-item-591"},{"title":"Upgrade to 1.13.x","path":"upgrading/upgrade-to-1.13.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.13.x","id":"sidebar-nav-item-592"},{"title":"Upgrade to 1.12.x","path":"upgrading/upgrade-to-1.12.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.12.x","id":"sidebar-nav-item-593"},{"title":"Upgrade to 1.11.x","path":"upgrading/upgrade-to-1.11.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.11.x","id":"sidebar-nav-item-594"},{"title":"Upgrade to 1.10.x","path":"upgrading/upgrade-to-1.10.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.10.x","id":"sidebar-nav-item-595"},{"title":"Upgrade to 1.9.x","path":"upgrading/upgrade-to-1.9.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.9.x","id":"sidebar-nav-item-596"},{"title":"Upgrade to 1.8.x","path":"upgrading/upgrade-to-1.8.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.8.x","id":"sidebar-nav-item-597"},{"title":"Upgrade to 1.7.x","path":"upgrading/upgrade-to-1.7.x","fullPath":"/vault/docs/upgrading/upgrade-to-1.7.x","id":"sidebar-nav-item-598"},{"title":"Upgrade to 1.6.3","path":"upgrading/upgrade-to-1.6.3","fullPath":"/vault/docs/upgrading/upgrade-to-1.6.3","id":"sidebar-nav-item-599"},{"title":"Upgrade to 1.6.2","path":"upgrading/upgrade-to-1.6.2","fullPath":"/vault/docs/upgrading/upgrade-to-1.6.2","id":"sidebar-nav-item-600"},{"title":"Upgrade to 1.6.1","path":"upgrading/upgrade-to-1.6.1","fullPath":"/vault/docs/upgrading/upgrade-to-1.6.1","id":"sidebar-nav-item-601"},{"title":"Upgrade to 1.6.0","path":"upgrading/upgrade-to-1.6.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.6.0","id":"sidebar-nav-item-602"},{"title":"Upgrade to 1.5.3","path":"upgrading/upgrade-to-1.5.3","fullPath":"/vault/docs/upgrading/upgrade-to-1.5.3","id":"sidebar-nav-item-603"},{"title":"Upgrade to 1.5.2","path":"upgrading/upgrade-to-1.5.2","fullPath":"/vault/docs/upgrading/upgrade-to-1.5.2","id":"sidebar-nav-item-604"},{"title":"Upgrade to 1.5.1","path":"upgrading/upgrade-to-1.5.1","fullPath":"/vault/docs/upgrading/upgrade-to-1.5.1","id":"sidebar-nav-item-605"},{"title":"Upgrade to 1.5.0","path":"upgrading/upgrade-to-1.5.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.5.0","id":"sidebar-nav-item-606"},{"title":"Upgrade to 1.4.6","path":"upgrading/upgrade-to-1.4.6","fullPath":"/vault/docs/upgrading/upgrade-to-1.4.6","id":"sidebar-nav-item-607"},{"title":"Upgrade to 1.4.5","path":"upgrading/upgrade-to-1.4.5","fullPath":"/vault/docs/upgrading/upgrade-to-1.4.5","id":"sidebar-nav-item-608"},{"title":"Upgrade to 1.4.4","path":"upgrading/upgrade-to-1.4.4","fullPath":"/vault/docs/upgrading/upgrade-to-1.4.4","id":"sidebar-nav-item-609"},{"title":"Upgrade to 1.4.1","path":"upgrading/upgrade-to-1.4.1","fullPath":"/vault/docs/upgrading/upgrade-to-1.4.1","id":"sidebar-nav-item-610"},{"title":"Upgrade to 1.4.0","path":"upgrading/upgrade-to-1.4.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.4.0","id":"sidebar-nav-item-611"},{"title":"Upgrade to 1.3.10","path":"upgrading/upgrade-to-1.3.10","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.10","id":"sidebar-nav-item-612"},{"title":"Upgrade to 1.3.9","path":"upgrading/upgrade-to-1.3.9","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.9","id":"sidebar-nav-item-613"},{"title":"Upgrade to 1.3.8","path":"upgrading/upgrade-to-1.3.8","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.8","id":"sidebar-nav-item-614"},{"title":"Upgrade to 1.3.5","path":"upgrading/upgrade-to-1.3.5","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.5","id":"sidebar-nav-item-615"},{"title":"Upgrade to 1.3.4","path":"upgrading/upgrade-to-1.3.4","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.4","id":"sidebar-nav-item-616"},{"title":"Upgrade to 1.3.3","path":"upgrading/upgrade-to-1.3.3","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.3","id":"sidebar-nav-item-617"},{"title":"Upgrade to 1.3.2","path":"upgrading/upgrade-to-1.3.2","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.2","id":"sidebar-nav-item-618"},{"title":"Upgrade to 1.3.0","path":"upgrading/upgrade-to-1.3.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.3.0","id":"sidebar-nav-item-619"},{"title":"Upgrade to 1.2.7","path":"upgrading/upgrade-to-1.2.7","fullPath":"/vault/docs/upgrading/upgrade-to-1.2.7","id":"sidebar-nav-item-620"},{"title":"Upgrade to 1.2.6","path":"upgrading/upgrade-to-1.2.6","fullPath":"/vault/docs/upgrading/upgrade-to-1.2.6","id":"sidebar-nav-item-621"},{"title":"Upgrade to 1.2.5","path":"upgrading/upgrade-to-1.2.5","fullPath":"/vault/docs/upgrading/upgrade-to-1.2.5","id":"sidebar-nav-item-622"},{"title":"Upgrade to 1.2.4","path":"upgrading/upgrade-to-1.2.4","fullPath":"/vault/docs/upgrading/upgrade-to-1.2.4","id":"sidebar-nav-item-623"},{"title":"Upgrade to 1.2.1","path":"upgrading/upgrade-to-1.2.1","fullPath":"/vault/docs/upgrading/upgrade-to-1.2.1","id":"sidebar-nav-item-624"},{"title":"Upgrade to 1.2.0","path":"upgrading/upgrade-to-1.2.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.2.0","id":"sidebar-nav-item-625"},{"title":"Upgrade to 1.1.2","path":"upgrading/upgrade-to-1.1.2","fullPath":"/vault/docs/upgrading/upgrade-to-1.1.2","id":"sidebar-nav-item-626"},{"title":"Upgrade to 1.1.1","path":"upgrading/upgrade-to-1.1.1","fullPath":"/vault/docs/upgrading/upgrade-to-1.1.1","id":"sidebar-nav-item-627"},{"title":"Upgrade to 1.1.0","path":"upgrading/upgrade-to-1.1.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.1.0","id":"sidebar-nav-item-628"},{"title":"Upgrade to 1.0.0","path":"upgrading/upgrade-to-1.0.0","fullPath":"/vault/docs/upgrading/upgrade-to-1.0.0","id":"sidebar-nav-item-629"},{"title":"Upgrade to 0.11.6","path":"upgrading/upgrade-to-0.11.6","fullPath":"/vault/docs/upgrading/upgrade-to-0.11.6","id":"sidebar-nav-item-630"},{"title":"Upgrade to 0.11.2","path":"upgrading/upgrade-to-0.11.2","fullPath":"/vault/docs/upgrading/upgrade-to-0.11.2","id":"sidebar-nav-item-631"},{"title":"Upgrade to 0.11.0","path":"upgrading/upgrade-to-0.11.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.11.0","id":"sidebar-nav-item-632"},{"title":"Upgrade to 0.10.4","path":"upgrading/upgrade-to-0.10.4","fullPath":"/vault/docs/upgrading/upgrade-to-0.10.4","id":"sidebar-nav-item-633"},{"title":"Upgrade to 0.10.2","path":"upgrading/upgrade-to-0.10.2","fullPath":"/vault/docs/upgrading/upgrade-to-0.10.2","id":"sidebar-nav-item-634"},{"title":"Upgrade to 0.10.0","path":"upgrading/upgrade-to-0.10.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.10.0","id":"sidebar-nav-item-635"},{"title":"Upgrade to 0.9.6","path":"upgrading/upgrade-to-0.9.6","fullPath":"/vault/docs/upgrading/upgrade-to-0.9.6","id":"sidebar-nav-item-636"},{"title":"Upgrade to 0.9.3","path":"upgrading/upgrade-to-0.9.3","fullPath":"/vault/docs/upgrading/upgrade-to-0.9.3","id":"sidebar-nav-item-637"},{"title":"Upgrade to 0.9.2","path":"upgrading/upgrade-to-0.9.2","fullPath":"/vault/docs/upgrading/upgrade-to-0.9.2","id":"sidebar-nav-item-638"},{"title":"Upgrade to 0.9.1","path":"upgrading/upgrade-to-0.9.1","fullPath":"/vault/docs/upgrading/upgrade-to-0.9.1","id":"sidebar-nav-item-639"},{"title":"Upgrade to 0.9.0","path":"upgrading/upgrade-to-0.9.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.9.0","id":"sidebar-nav-item-640"},{"title":"Upgrade to 0.8.0","path":"upgrading/upgrade-to-0.8.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.8.0","id":"sidebar-nav-item-641"},{"title":"Upgrade to 0.7.0","path":"upgrading/upgrade-to-0.7.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.7.0","id":"sidebar-nav-item-642"},{"title":"Upgrade to 0.6.4","path":"upgrading/upgrade-to-0.6.4","fullPath":"/vault/docs/upgrading/upgrade-to-0.6.4","id":"sidebar-nav-item-643"},{"title":"Upgrade to 0.6.3","path":"upgrading/upgrade-to-0.6.3","fullPath":"/vault/docs/upgrading/upgrade-to-0.6.3","id":"sidebar-nav-item-644"},{"title":"Upgrade to 0.6.2","path":"upgrading/upgrade-to-0.6.2","fullPath":"/vault/docs/upgrading/upgrade-to-0.6.2","id":"sidebar-nav-item-645"},{"title":"Upgrade to 0.6.1","path":"upgrading/upgrade-to-0.6.1","fullPath":"/vault/docs/upgrading/upgrade-to-0.6.1","id":"sidebar-nav-item-646"},{"title":"Upgrade to 0.6.0","path":"upgrading/upgrade-to-0.6.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.6.0","id":"sidebar-nav-item-647"},{"title":"Upgrade to 0.5.1","path":"upgrading/upgrade-to-0.5.1","fullPath":"/vault/docs/upgrading/upgrade-to-0.5.1","id":"sidebar-nav-item-648"},{"title":"Upgrade to 0.5.0","path":"upgrading/upgrade-to-0.5.0","fullPath":"/vault/docs/upgrading/upgrade-to-0.5.0","id":"sidebar-nav-item-649"}],"id":"sidebar-nav-item-582"},{"divider":true,"id":"sidebar-nav-item-650"},{"title":"Release Notes","routes":[{"title":"Overview","path":"release-notes","fullPath":"/vault/docs/release-notes","id":"sidebar-nav-item-652"},{"title":"1.18.0","path":"release-notes/1.18.0","fullPath":"/vault/docs/release-notes/1.18.0","id":"sidebar-nav-item-653"},{"title":"1.17.0","path":"release-notes/1.17.0","fullPath":"/vault/docs/release-notes/1.17.0","id":"sidebar-nav-item-654"},{"title":"1.16.1","path":"release-notes/1.16.1","fullPath":"/vault/docs/release-notes/1.16.1","id":"sidebar-nav-item-655"},{"title":"1.15.0","path":"release-notes/1.15.0","fullPath":"/vault/docs/release-notes/1.15.0","id":"sidebar-nav-item-656"},{"title":"1.14.0","path":"release-notes/1.14.0","fullPath":"/vault/docs/release-notes/1.14.0","id":"sidebar-nav-item-657"},{"title":"1.13.0","path":"release-notes/1.13.0","fullPath":"/vault/docs/release-notes/1.13.0","id":"sidebar-nav-item-658"},{"title":"1.12.0","path":"release-notes/1.12.0","fullPath":"/vault/docs/release-notes/1.12.0","id":"sidebar-nav-item-659"},{"title":"1.11.0","path":"release-notes/1.11.0","fullPath":"/vault/docs/release-notes/1.11.0","id":"sidebar-nav-item-660"},{"title":"1.10.0","path":"release-notes/1.10.0","fullPath":"/vault/docs/release-notes/1.10.0","id":"sidebar-nav-item-661"},{"title":"1.9.0","path":"release-notes/1.9.0","fullPath":"/vault/docs/release-notes/1.9.0","id":"sidebar-nav-item-662"},{"title":"1.8.0","path":"release-notes/1.8.0","fullPath":"/vault/docs/release-notes/1.8.0","id":"sidebar-nav-item-663"},{"title":"1.7.0","path":"release-notes/1.7.0","fullPath":"/vault/docs/release-notes/1.7.0","id":"sidebar-nav-item-664"},{"title":"1.6.0","path":"release-notes/1.6.0","fullPath":"/vault/docs/release-notes/1.6.0","id":"sidebar-nav-item-665"},{"title":"1.5.0","path":"release-notes/1.5.0","fullPath":"/vault/docs/release-notes/1.5.0","id":"sidebar-nav-item-666"}],"id":"sidebar-nav-item-651"},{"divider":true,"id":"sidebar-nav-item-667"},{"title":"Deprecation notices","path":"deprecation","fullPath":"/vault/docs/deprecation","id":"sidebar-nav-item-668"},{"divider":true,"id":"sidebar-nav-item-669"},{"title":"FAQ","routes":[{"title":"Overview","path":"faq","fullPath":"/vault/docs/faq","id":"sidebar-nav-item-671"},{"title":"Feature Deprecation Notice and Plans","href":"https://developer.hashicorp.com/vault/docs/deprecation/faq","id":"sidebar-nav-item-672"},{"title":"License","href":"https://developer.hashicorp.com/vault/docs/enterprise/license/faq","id":"sidebar-nav-item-673"},{"title":"Client Count","href":"https://developer.hashicorp.com/vault/docs/concepts/client-count/faq","id":"sidebar-nav-item-674"},{"title":"Login MFA","href":"https://developer.hashicorp.com/vault/docs/auth/login-mfa/faq","id":"sidebar-nav-item-675"},{"title":"Server Side Consistent Token","path":"faq/ssct","fullPath":"/vault/docs/faq/ssct","id":"sidebar-nav-item-676"}],"id":"sidebar-nav-item-670"},{"divider":true,"id":"sidebar-nav-item-677"},{"title":"Glossary","path":"glossary","fullPath":"/vault/docs/glossary","id":"sidebar-nav-item-678"},{"divider":true,"id":"sidebar-nav-item-679"},{"title":"Vault Enterprise","routes":[{"title":"Overview","path":"enterprise","fullPath":"/vault/docs/enterprise","id":"sidebar-nav-item-681"},{"title":"License","routes":[{"title":"Overview","path":"enterprise/license","fullPath":"/vault/docs/enterprise/license","id":"sidebar-nav-item-683"},{"title":"Autoloading","path":"enterprise/license/autoloading","fullPath":"/vault/docs/enterprise/license/autoloading","id":"sidebar-nav-item-684"},{"title":"Automated license utilization reporting","path":"enterprise/license/utilization-reporting","fullPath":"/vault/docs/enterprise/license/utilization-reporting","id":"sidebar-nav-item-685"},{"title":"Manual license utilization reporting","path":"enterprise/license/manual-reporting","fullPath":"/vault/docs/enterprise/license/manual-reporting","id":"sidebar-nav-item-686"},{"title":"Product usage reporting","path":"enterprise/license/product-usage-reporting","fullPath":"/vault/docs/enterprise/license/product-usage-reporting","id":"sidebar-nav-item-687"},{"title":"FAQ","path":"enterprise/license/faq","fullPath":"/vault/docs/enterprise/license/faq","id":"sidebar-nav-item-688"}],"id":"sidebar-nav-item-682"},{"title":"Long-term support (LTS)","path":"enterprise/lts","fullPath":"/vault/docs/enterprise/lts","id":"sidebar-nav-item-689"},{"title":"Design your Vault Enterprise cluster","path":"enterprise/cluster-design","fullPath":"/vault/docs/enterprise/cluster-design","id":"sidebar-nav-item-690"},{"title":"Replication","routes":[{"title":"Overview","path":"enterprise/replication","fullPath":"/vault/docs/enterprise/replication","id":"sidebar-nav-item-692"},{"title":"Check for Merkle tree corruption","path":"enterprise/replication/check-merkle-tree-corruption","fullPath":"/vault/docs/enterprise/replication/check-merkle-tree-corruption","id":"sidebar-nav-item-693"}],"id":"sidebar-nav-item-691"},{"title":"HSM Support","routes":[{"title":"Overview","path":"enterprise/hsm","fullPath":"/vault/docs/enterprise/hsm","id":"sidebar-nav-item-695"},{"title":"Behavioral Changes","path":"enterprise/hsm/behavior","fullPath":"/vault/docs/enterprise/hsm/behavior","id":"sidebar-nav-item-696"},{"title":"Security","path":"enterprise/hsm/security","fullPath":"/vault/docs/enterprise/hsm/security","id":"sidebar-nav-item-697"}],"id":"sidebar-nav-item-694"},{"title":"PKCS11 Provider","routes":[{"title":"Overview","path":"enterprise/pkcs11-provider","fullPath":"/vault/docs/enterprise/pkcs11-provider","id":"sidebar-nav-item-699"},{"title":"AWS KMS XKS","path":"enterprise/pkcs11-provider/aws-xks","fullPath":"/vault/docs/enterprise/pkcs11-provider/aws-xks","id":"sidebar-nav-item-700"},{"title":"Oracle TDE","path":"enterprise/pkcs11-provider/oracle-tde","fullPath":"/vault/docs/enterprise/pkcs11-provider/oracle-tde","id":"sidebar-nav-item-701"}],"id":"sidebar-nav-item-698"},{"title":"Automated Integrated Storage Snapshots","path":"enterprise/automated-integrated-storage-snapshots","fullPath":"/vault/docs/enterprise/automated-integrated-storage-snapshots","id":"sidebar-nav-item-702"},{"title":"Automated Upgrades","path":"enterprise/automated-upgrades","fullPath":"/vault/docs/enterprise/automated-upgrades","id":"sidebar-nav-item-703"},{"title":"Redundancy Zones","path":"enterprise/redundancy-zones","fullPath":"/vault/docs/enterprise/redundancy-zones","id":"sidebar-nav-item-704"},{"title":"Lease Count Quotas","path":"enterprise/lease-count-quotas","fullPath":"/vault/docs/enterprise/lease-count-quotas","id":"sidebar-nav-item-705"},{"title":"Entropy Augmentation","path":"enterprise/entropy-augmentation","fullPath":"/vault/docs/enterprise/entropy-augmentation","id":"sidebar-nav-item-706"},{"title":"FIPS","routes":[{"title":"Overview","path":"enterprise/fips","fullPath":"/vault/docs/enterprise/fips","id":"sidebar-nav-item-708"},{"title":"FIPS 140-2 Inside Vault","path":"enterprise/fips/fips1402","fullPath":"/vault/docs/enterprise/fips/fips1402","id":"sidebar-nav-item-709"},{"title":"Seal Wrap for FIPS 140-2","path":"enterprise/fips/sealwrap","fullPath":"/vault/docs/enterprise/fips/sealwrap","id":"sidebar-nav-item-710"}],"id":"sidebar-nav-item-707"},{"title":"Seal Wrap","path":"enterprise/sealwrap","fullPath":"/vault/docs/enterprise/sealwrap","id":"sidebar-nav-item-711"},{"title":"Namespaces","routes":[{"title":"Overview","path":"enterprise/namespaces","fullPath":"/vault/docs/enterprise/namespaces","id":"sidebar-nav-item-713"},{"title":"Create an administrative namespace","path":"enterprise/namespaces/create-admin-namespace","fullPath":"/vault/docs/enterprise/namespaces/create-admin-namespace","id":"sidebar-nav-item-714"},{"title":"Run Vault with many namespaces","path":"enterprise/namespaces/namespace-limits","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/enterprise/namespaces/namespace-limits","id":"sidebar-nav-item-715"},{"title":"Configure cross namespace access","path":"enterprise/namespaces/configure-cross-namespace-access","badge":{"type":"outlined","color":"neutral","text":"ENT"},"fullPath":"/vault/docs/enterprise/namespaces/configure-cross-namespace-access","id":"sidebar-nav-item-716"},{"title":"Structure guide","path":"enterprise/namespaces/namespace-structure","fullPath":"/vault/docs/enterprise/namespaces/namespace-structure","id":"sidebar-nav-item-717"}],"id":"sidebar-nav-item-712"},{"title":"Performance Standbys","path":"enterprise/performance-standby","fullPath":"/vault/docs/enterprise/performance-standby","id":"sidebar-nav-item-718"},{"title":"Eventual Consistency","path":"enterprise/consistency","fullPath":"/vault/docs/enterprise/consistency","id":"sidebar-nav-item-719"},{"title":"Audit","routes":[{"title":"Audit Exclusion","path":"enterprise/audit/exclusion","fullPath":"/vault/docs/enterprise/audit/exclusion","id":"sidebar-nav-item-721"},{"title":"Audit Filtering","path":"enterprise/audit/filtering","fullPath":"/vault/docs/enterprise/audit/filtering","id":"sidebar-nav-item-722"}],"id":"sidebar-nav-item-720"},{"title":"Control Groups","path":"enterprise/control-groups","fullPath":"/vault/docs/enterprise/control-groups","id":"sidebar-nav-item-723"},{"title":"Managed Keys","path":"enterprise/managed-keys","fullPath":"/vault/docs/enterprise/managed-keys","id":"sidebar-nav-item-724"},{"title":"MFA","routes":[{"title":"Overview","path":"enterprise/mfa","fullPath":"/vault/docs/enterprise/mfa","id":"sidebar-nav-item-726"},{"title":"Duo MFA","path":"enterprise/mfa/mfa-duo","fullPath":"/vault/docs/enterprise/mfa/mfa-duo","id":"sidebar-nav-item-727"},{"title":"Okta MFA","path":"enterprise/mfa/mfa-okta","fullPath":"/vault/docs/enterprise/mfa/mfa-okta","id":"sidebar-nav-item-728"},{"title":"PingID MFA","path":"enterprise/mfa/mfa-pingid","fullPath":"/vault/docs/enterprise/mfa/mfa-pingid","id":"sidebar-nav-item-729"},{"title":"TOTP MFA","path":"enterprise/mfa/mfa-totp","fullPath":"/vault/docs/enterprise/mfa/mfa-totp","id":"sidebar-nav-item-730"}],"id":"sidebar-nav-item-725"},{"title":"Sentinel","routes":[{"title":"Overview","path":"enterprise/sentinel","fullPath":"/vault/docs/enterprise/sentinel","id":"sidebar-nav-item-732"},{"title":"Examples","path":"enterprise/sentinel/examples","fullPath":"/vault/docs/enterprise/sentinel/examples","id":"sidebar-nav-item-733"},{"title":"Properties","path":"enterprise/sentinel/properties","fullPath":"/vault/docs/enterprise/sentinel/properties","id":"sidebar-nav-item-734"}],"id":"sidebar-nav-item-731"},{"title":"HCP Vault","href":"/hcp/docs/vault","id":"sidebar-nav-item-735"}],"id":"sidebar-nav-item-680"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/content/docs/upgrading/upgrade-to-1.15.x.mdx"},"metadata":{"title":"Upgrade to Vault 1.15.x - Guides","description":"Deprecations, important or breaking changes, and remediation recommendations\nfor anyone upgrading to 1.15.x from Vault 1.14.x.","layout":null},"outlineItems":[{"title":"Overview","url":"#overview"},{"title":"Consul service registration","url":"#consul-service-registration"},{"title":"Rollback metrics","url":"#rollback-metrics"},{"title":"Application of Sentinel Role Governing Policies (RGPs) via identity groups","url":"#application-of-sentinel-role-governing-policies-rgps-via-identity-groups"},{"title":"Activity Log Changes","url":"#activity-log-changes"},{"title":"Known issues and workarounds","url":"#known-issues-and-workarounds"}],"pageHeading":{"id":"overview","title":"Overview"},"mdxSource":{"compiledSource":"const makeShortcode=name=\u003efunction MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return mdx(\"div\",props)};const Note=makeShortcode(\"Note\");const CodeBlockConfig=makeShortcode(\"CodeBlockConfig\");const Tabs=makeShortcode(\"Tabs\");const Tab=makeShortcode(\"Tab\");const Warning=makeShortcode(\"Warning\");const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`The Vault 1.15.x upgrade guide contains information on deprecations, important\nor breaking changes, and remediation recommendations for anyone upgrading from\nVault 1.14. `,mdx(\"strong\",{parentName:\"p\"},`Please read carefully`),`.`),mdx(\"h2\",{\"id\":\"consul-service-registration\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#consul-service-registration\",\"aria-label\":\"consul service registration permalink\"},`\\xbb`),`Consul service registration`),mdx(\"p\",null,`As of version 1.15, `,mdx(\"inlineCode\",{parentName:\"p\"},`service_tags`),` supplied to Vault for the purpose of `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/configuration/service-registration/consul#service_tags\"},`Consul\nservice registration`),`\nwill be `,mdx(\"strong\",{parentName:\"p\"},`case-sensitive`),`.`),mdx(\"p\",null,`In previous versions of Vault tags were converted to lowercase which led to issues,\nfor example when tags contained Traefik rules which use case-sensitive method names\nsuch as `,mdx(\"inlineCode\",{parentName:\"p\"},`Host()`),`.`),mdx(\"p\",null,`If you previously used Consul service registration tags ignoring case, or relied\non the lowercase tags created by Vault, then this change may cause unexpected behavior.`),mdx(\"p\",null,`Please audit your Consul storage stanza to ensure that you either:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Manually convert your `,mdx(\"inlineCode\",{parentName:\"li\"},`service_tags`),` to lowercase if required`),mdx(\"li\",{parentName:\"ul\"},`Ensure that any system that relies on the tags is aware of the new case-preserving behavior`)),mdx(\"h2\",{\"id\":\"rollback-metrics\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#rollback-metrics\",\"aria-label\":\"rollback metrics permalink\"},`\\xbb`),`Rollback metrics`),mdx(\"p\",null,`Vault no longer measures and reports the metrics `,mdx(\"inlineCode\",{parentName:\"p\"},`vault.rollback.attempts.{MOUNTPOINT}`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`vault.route.rollback.{MOUNTPOINT}`),` by default. The new default metrics are `,mdx(\"inlineCode\",{parentName:\"p\"},`vault.rollback.attempts`),`\nand `,mdx(\"inlineCode\",{parentName:\"p\"},`vault.route.rollback`),`, which `,mdx(\"strong\",{parentName:\"p\"},`do not`),` contain the mount point in the metric name.`),mdx(\"p\",null,`To continue measuring `,mdx(\"inlineCode\",{parentName:\"p\"},`vault.rollback.attempts.{MOUNTPOINT}`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`vault.route.rollback.{MOUNTPOINT}`),`, you must explicitly enable mount-specific\nmetrics in the `,mdx(\"inlineCode\",{parentName:\"p\"},`telemetry`),` stanza of your Vault configuration with the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/configuration/telemetry#add_mount_point_rollback_metrics\"},mdx(\"inlineCode\",{parentName:\"a\"},`add_mount_point_rollback_metrics`)),`\noption.`),mdx(\"h2\",{\"id\":\"application-of-sentinel-role-governing-policies-rgps-via-identity-groups\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#application-of-sentinel-role-governing-policies-rgps-via-identity-groups\",\"aria-label\":\"application of sentinel role governing policies rgps via identity groups permalink\"},`\\xbb`),`Application of Sentinel Role Governing Policies (RGPs) via identity groups`),mdx(\"p\",null,`As of versions `,mdx(\"inlineCode\",{parentName:\"p\"},`1.15.0`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`1.14.4`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`1.13.8`),`, `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/enterprise/sentinel#rgps-and-namespaces\"},`the Sentinel RGPSs derived from membership in identity groups apply\nonly to entities in the same and child namespaces, relative to the identity group`),`.`),mdx(\"p\",null,`Also, the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/config-group-policy-application\"},mdx(\"inlineCode\",{parentName:\"a\"},`group_policy_application_mode`)),` only applies to\nto ACL policies. Vault Sentinel Role Governing Policies (RGPs) are not affected by group policy application mode.`),mdx(\"h3\",{\"id\":\"docker-image-no-longer-contains-curl\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#docker-image-no-longer-contains-curl\",\"aria-label\":\"docker image no longer contains curl permalink\"},`\\xbb`),`Docker image no longer contains `,mdx(\"inlineCode\",{parentName:\"h3\"},`curl`)),mdx(\"p\",null,`As of 1.15.13 and later, the `,mdx(\"inlineCode\",{parentName:\"p\"},`curl`),` binary is no longer included in the published Docker container\nimages for Vault and Vault Enterprise. If your workflow depends on `,mdx(\"inlineCode\",{parentName:\"p\"},`curl`),` being available in the\ncontainer, consider one of the following strategies:`),mdx(\"h4\",{\"id\":\"create-a-wrapper-container-image\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#create-a-wrapper-container-image\",\"aria-label\":\"create a wrapper container image permalink\"},`\\xbb`),`Create a wrapper container image`),mdx(\"p\",null,`Use the HashiCorp image as a base image to create a new container image with `,mdx(\"inlineCode\",{parentName:\"p\"},`curl`),` installed.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"dockerfile\",\"className\":\"language-dockerfile\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-dockerfile\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`FROM`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` hashicorp/vault-enterprise`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`RUN`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` apk add curl`)),`\n`)),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`NOTE:`),` While this is the preferred option it will require managing your own registry and rebuilding new images.`),mdx(\"h4\",{\"id\":\"install-it-at-runtime-dynamically\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#install-it-at-runtime-dynamically\",\"aria-label\":\"install it at runtime dynamically permalink\"},`\\xbb`),`Install it at runtime dynamically`),mdx(\"p\",null,`When running the image as root (not recommended), you can install it at runtime dynamically by using the `,mdx(\"inlineCode\",{parentName:\"p\"},`apk`),` package manager:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`docker exec \u003cCONTAINER-ID\u003e apk add curl`)),`\n`)),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`kubectl exec -ti \u003cNAME\u003e -- apk add curl`)),`\n`)),mdx(\"p\",null,`When running the image as non-root without privilege escalation (recommended) you can use existing\ntools to install a static binary of `,mdx(\"inlineCode\",{parentName:\"p\"},`curl`),` into the `,mdx(\"inlineCode\",{parentName:\"p\"},`vault`),` users home directory:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`docker exec \u003cCONTAINER-ID\u003e wget https://github.com/moparisthebest/static-curl/releases/latest/download/curl-amd64 -O /home/vault/curl \u0026\u0026 chmod +x /home/vault/curl`)),`\n`)),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`kubectl exec -ti \u003cNAME\u003e -- wget https://github.com/moparisthebest/static-curl/releases/latest/download/curl-amd64 -O /home/vault/curl \u0026\u0026 chmod +x /home/vault/curl`)),`\n`)),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`NOTE:`),` When using this option you'll want to verify that the static binary comes from a trusted source.`),mdx(\"h2\",{\"id\":\"activity-log-changes\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#activity-log-changes\",\"aria-label\":\"activity log changes permalink\"},`\\xbb`),`Activity Log Changes`),mdx(\"h3\",{\"id\":\"disable-client-counting-activity\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#disable-client-counting-activity\",\"aria-label\":\"disable client counting activity permalink\"},`\\xbb`),`Disable client counting activity`),mdx(\"p\",null,`License utilization cannot be reported if client counting is disabled. As of Vault Enterprise 1.15.6 and later, client counting cannot be disabled using `,mdx(\"inlineCode\",{parentName:\"p\"},`/sys/internal/counters/config`),` endpoint as manual license utilization reporting is always enabled.`),mdx(\"h2\",{\"id\":\"known-issues-and-workarounds\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#known-issues-and-workarounds\",\"aria-label\":\"known issues and workarounds permalink\"},`\\xbb`),`Known issues and workarounds`),mdx(\"a\",{id:\"autopilot\"}),mdx(\"h3\",{\"id\":\"autopilot-upgrade-for-vault-enterprise-fails\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#autopilot-upgrade-for-vault-enterprise-fails\",\"aria-label\":\"autopilot upgrade for vault enterprise fails permalink\"},`\\xbb`),`Autopilot upgrade for Vault Enterprise fails`),mdx(\"h4\",{\"id\":\"affected-versions\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.8 - 1.15.9`)),mdx(\"h4\",{\"id\":\"issue\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`The expected process for voter status management does not occur during the\nautopilot upgrade process. The autopilot upgrade process adds new nodes (new version) as\n`,mdx(\"inlineCode\",{parentName:\"p\"},`target_version_non_voters`),` then `,mdx(\"inlineCode\",{parentName:\"p\"},`target_version_voters`),` but existing nodes (old\nversion) fail to upgrade and maintain their current voter status.`),mdx(\"h4\",{\"id\":\"workaround\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Disable autopilot upgrades and manually upgrade all nodes in the cluster.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Explicitly set the `,mdx(\"inlineCode\",{parentName:\"p\"},`autopilot_upgrade_version`),` parameter to the desired\nversion in the raft `,mdx(\"inlineCode\",{parentName:\"p\"},`storage`),` stanza on your new nodes:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"hcl\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`storage`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"raft\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  autopilot_upgrade_version `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"1.15.8\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)))),mdx(\"h3\",{\"id\":\"transit-encryption-with-cloud-kms-managed-keys-causes-a-panic\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#transit-encryption-with-cloud-kms-managed-keys-causes-a-panic\",\"aria-label\":\"transit encryption with cloud kms managed keys causes a panic permalink\"},`\\xbb`),`Transit Encryption with Cloud KMS managed keys causes a panic`),mdx(\"h4\",{\"id\":\"affected-versions-1\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-1\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.13.1+ up to 1.13.8 inclusively`),mdx(\"li\",{parentName:\"ul\"},`1.14.0+ up to 1.14.4 inclusively`),mdx(\"li\",{parentName:\"ul\"},`1.15.0`)),mdx(\"h4\",{\"id\":\"issue-1\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-1\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Vault panics when it receives a Transit encryption API call that is backed by a Cloud KMS managed key (Azure, GCP, AWS).`),mdx(Note,{mdxType:\"Note\"},\"The issue does not affect encryption and decryption with the following key types:\",mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`PKCS#11 managed keys`),mdx(\"li\",{parentName:\"ul\"},`Transit native keys`))),mdx(\"h4\",{\"id\":\"workaround-1\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-1\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`None at this time`),mdx(\"h3\",{\"id\":\"transit-sign-api-calls-with-managed-keys-fail\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#transit-sign-api-calls-with-managed-keys-fail\",\"aria-label\":\"transit sign api calls with managed keys fail permalink\"},`\\xbb`),`Transit Sign API calls with managed keys fail`),mdx(\"h4\",{\"id\":\"affected-versions-2\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-2\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.14.0+ up to 1.14.4 inclusively`),mdx(\"li\",{parentName:\"ul\"},`1.15.0`)),mdx(\"h4\",{\"id\":\"issue-2\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-2\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Vault responds to Transit sign API calls with the following error when the request uses a managed key:`),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},`requested version for signing does not contain a private part`)),mdx(Note,{mdxType:\"Note\"},\"The issue does not affect signing with the following key types:\",mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Transit native keys`))),mdx(\"h4\",{\"id\":\"workaround-2\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-2\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`None at this time`),mdx(\"h3\",{\"id\":\"panic-in-aws-auth-method-during-iam-based-login\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#panic-in-aws-auth-method-during-iam-based-login\",\"aria-label\":\"panic in aws auth method during iam based login permalink\"},`\\xbb`),`Panic in AWS auth method during IAM-based login`),mdx(\"h4\",{\"id\":\"affected-versions-3\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-3\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.0`)),mdx(\"h4\",{\"id\":\"issue-3\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-3\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`A panic can occur in the AWS auth method during `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/auth/aws#iam-auth-method\"},`IAM-based`),`\nlogin when a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#configure-client\"},`client config`),` does not exist.`),mdx(\"h4\",{\"id\":\"workaround-3\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-3\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`The panic can be avoided by writing an empty `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#configure-client\"},`client config`),`:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`vault write -f auth/aws/config/client`)),`\n`)),mdx(\"h3\",{\"id\":\"collapsed-navbar-does-not-allow-you-to-click-inside-the-console-or-namespace-picker\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#collapsed-navbar-does-not-allow-you-to-click-inside-the-console-or-namespace-picker\",\"aria-label\":\"collapsed navbar does not allow you to click inside the console or namespace picker permalink\"},`\\xbb`),`Collapsed navbar does not allow you to click inside the console or namespace picker`),mdx(\"h4\",{\"id\":\"affected-versions-4\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-4\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"p\",null,`The UI issue affects Vault versions 1.14.0+ and 1.15.0+.\nA fix is expected for Vault 1.16.0.`),mdx(\"h4\",{\"id\":\"issue-4\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-4\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`The Vauil UI currently uses a version of HDS that does not allow users to click\nwithin collapsed elements. In particular, the dev console or namespace picker\nbecome inaccessible when viewing the components in smaller viewports.`),mdx(\"h4\",{\"id\":\"workaround-4\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-4\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Expand the width of the screen until you deactivate the collapsed view. Once the full navbar is displayed, click the desired components.`),mdx(\"h3\",{\"id\":\"file-audit-devices-do-not-honor-sighup-signal-to-reload\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#file-audit-devices-do-not-honor-sighup-signal-to-reload\",\"aria-label\":\"file audit devices do not honor sighup signal to reload permalink\"},`\\xbb`),`File audit devices do not honor SIGHUP signal to reload`),mdx(\"h4\",{\"id\":\"affected-versions-5\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-5\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.0`)),mdx(\"h4\",{\"id\":\"issue-5\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-5\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`The new underlying event framework for auditing causes Vault to continue using\naudit log files instead of reopening the file paths even when you send\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/audit/file#log-file-rotation\"},mdx(\"inlineCode\",{parentName:\"a\"},`SIGHUP`)),` after log rotation. The\nissue impacts any Vault cluster with `,mdx(\"inlineCode\",{parentName:\"p\"},`file`),` audit devices enabled.`),mdx(\"p\",null,`Not honoring the `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),` signal has two key consequences when moving or\ndeleting audit files.`),mdx(\"p\",null,`If you `,mdx(\"strong\",{parentName:\"p\"},`move or rename your audit log file`),` locally, Vault continues to log\ndata to the original file. For example, if you archive a file locally:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` mv /var/log/vault/audit.log /var/log/vault/archive/audit.log.bak`)),`\n`)),mdx(\"p\",null,`Vault continues to write data to `,mdx(\"inlineCode\",{parentName:\"p\"},`/var/log/vault/archive/audit.log.bak`),`\ninstead of logging audit entries to a newly created file at\n`,mdx(\"inlineCode\",{parentName:\"p\"},`/var/log/vault/audit.log`),`.`),mdx(\"p\",null,`If you `,mdx(\"strong\",{parentName:\"p\"},`delete your audit log file`),`, the OS unlinks the file from the\ndirectory structure, but Vault still has the file open. Vault continues to write\ndata to the deleted file, which continues to consume disk space as it grows.\nWhen Vault is sealed or restarted, the OS deletes the previously unlinked file,\nand you will lose all data logged to the audit file after it was tagged for\ndeletion.`),mdx(\"p\",null,`The issue with `,mdx(\"inlineCode\",{parentName:\"p\"},`file`),` audit devices not honoring `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),` signals is fixed as a\npatch release in Vault `,mdx(\"inlineCode\",{parentName:\"p\"},`1.15.1`),`.`),mdx(\"h4\",{\"id\":\"workaround-5\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-5\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Set the `,mdx(\"inlineCode\",{parentName:\"p\"},`VAULT_AUDIT_DISABLE_EVENTLOGGER`),` environment variable to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to\ndisable the new underlying event framework and restart Vault:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` export`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` VAULT_AUDIT_DISABLE_EVENTLOGGER`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`true`)),`\n`)),mdx(\"p\",null,`On startup, Vault reverts to the audit behavior used in `,mdx(\"inlineCode\",{parentName:\"p\"},`1.14.x`),`.`),mdx(\"h3\",{\"id\":\"internal-error-when-vault-policy-in-namespace-does-not-exist\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#internal-error-when-vault-policy-in-namespace-does-not-exist\",\"aria-label\":\"internal error when vault policy in namespace does not exist permalink\"},`\\xbb`),`Internal error when vault policy in namespace does not exist`),mdx(\"p\",null,`If a user is a member of a group that gets a policy from a\nnamespace other than the one theyre trying to log into,\nand that policy doesnt exist, Vault returns an internal error.\nThis impacts all auth methods.`),mdx(\"h4\",{\"id\":\"affected-versions-6\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-6\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.13.8 and 1.13.9`),mdx(\"li\",{parentName:\"ul\"},`1.14.4 and 1.14.5`),mdx(\"li\",{parentName:\"ul\"},`1.15.0 and 1.15.1`)),mdx(\"p\",null,`A fix has been released in Vault 1.13.10, 1.14.6, and 1.15.2.`),mdx(\"h3\",{\"id\":\"workaround-6\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#workaround-6\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`During authentication, Vault derives inherited policies based on the groups an\nentity belongs to. Vault returns an internal error when attaching the derived\npolicy to a token when:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},`the token belongs to a different namespace than the one handling\nauthentication, and`),mdx(\"li\",{parentName:\"ol\"},`the derived policy does not exist under the namespace.`)),mdx(\"p\",null,`You can resolve the error by adding the policy to the relevant namespace or\ndeleting the group policy mapping that uses the derived policy.`),mdx(\"p\",null,`As an example, consider the following userpass auth method failure. The error is\ndue to the fact that Vault expects a group policy under the namespace that does\nnot exist.`),mdx(CodeBlockConfig,{hideClipboard:true,mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`#`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` Failed login`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault login -method=userpass username=user1 password=123`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`Error authenticating: Error making API request.`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`URL: PUT http://127.0.0.1:8200/v1/auth/userpass/login/user1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`Code: 500. Errors:`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`* internal error`)),`\n`))),mdx(\"p\",null,`To confirm the problem is a missing policy, start by identifying the relevant\nentity and group IDs:`),mdx(CodeBlockConfig,{hideClipboard:true,mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault read -format=json identity/entity/name/user1 `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`|`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  jq '{\"entity_id\": .data.id, \"group_ids\": .data.group_ids} '`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  \"entity_id\": \"420c82de-57c3-df2e-2ef6-0690073b1636\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  \"group_ids\": [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    \"6cb152b7-955d-272b-4dcf-a2ed668ca1ea\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`))),mdx(\"p\",null,`Use the group ID to fetch the relevant policies for the group under the `,mdx(\"inlineCode\",{parentName:\"p\"},`ns1`),`\nnamespace:`),mdx(CodeBlockConfig,{hideClipboard:true,mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault read -format=json -namespace=ns1 \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  identity/group/id/6cb152b7-955d-272b-4dcf-a2ed668ca1ea | \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  jq '.data.policies'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`[`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  \"group_policy\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`))),mdx(\"p\",null,`Now that we know Vault is looking for a policy called `,mdx(\"inlineCode\",{parentName:\"p\"},`group_policy`),`, we can\ncheck whether that policy exists under the `,mdx(\"inlineCode\",{parentName:\"p\"},`ns1`),` namespace:`),mdx(CodeBlockConfig,{hideClipboard:true,mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault policy list -namespace=ns1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`default`)),`\n`))),mdx(\"p\",null,`The only policy in the `,mdx(\"inlineCode\",{parentName:\"p\"},`ns1`),` namespace is `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),`, which confirms that the\nmissing policy (`,mdx(\"inlineCode\",{parentName:\"p\"},`group_policy`),`) is causing the error.`),mdx(\"p\",null,`To fix the problem, we can either remove the missing policy from the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`6cb152b7-955d-272b-4dcf-a2ed668ca1ea`),` group or create the missing policy under\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`ns1`),` namespace.`),mdx(Tabs,{mdxType:\"Tabs\"},mdx(Tab,{heading:\"Remove the group policy\",mdxType:\"Tab\"},mdx(\"p\",null,`To remove `,mdx(\"inlineCode\",{parentName:\"p\"},`group_policy`),` from group ID `,mdx(\"inlineCode\",{parentName:\"p\"},`6cb152b7-955d-272b-4dcf-a2ed668ca1ea`),`,\nuse the `,mdx(\"inlineCode\",{parentName:\"p\"},`vault write`),` command to set the applicable policies to just include\n`,mdx(\"inlineCode\",{parentName:\"p\"},`default`),`:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write                                             \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  -namespace=ns1                                          \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  identity/group/id/6cb152b7-955d-272b-4dcf-a2ed668ca1ea  \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  name=\"test\"                                             \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  policies=\"default\"`)),`\n`))),mdx(Tab,{heading:\"Add the policy to ns1\",mdxType:\"Tab\"},mdx(\"p\",null,`To create the missing policy, use `,mdx(\"inlineCode\",{parentName:\"p\"},`vault policy write`),` and define the\nappropriate capabilities:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault policy write -namespace=ns1 group_policy - \u003c\u003c EOF`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    path \"secret/data/*\" {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        capabilities = [\"create\", \"update\"]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`EOF`)),`\n`)))),mdx(\"p\",null,`Verify the fix by re-running the login command:`),mdx(CodeBlockConfig,{hideClipboard:true,mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault login -method=userpass username=user1 password=123`)),`\n`))),mdx(\"h3\",{\"id\":\"vault-is-storing-references-to-ephemeral-sub-loggers-leading-to-unbounded-memory-consumption\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#vault-is-storing-references-to-ephemeral-sub-loggers-leading-to-unbounded-memory-consumption\",\"aria-label\":\"vault is storing references to ephemeral sub loggers leading to unbounded memory consumption permalink\"},`\\xbb`),`Vault is storing references to ephemeral sub-loggers leading to unbounded memory consumption`),mdx(\"h4\",{\"id\":\"affected-versions-7\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-7\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"p\",null,`This memory consumption bug affects Vault Community and Enterprise versions:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.13.7 - 1.13.9`),mdx(\"li\",{parentName:\"ul\"},`1.14.3 - 1.14.5`),mdx(\"li\",{parentName:\"ul\"},`1.15.0 - 1.15.1`)),mdx(\"p\",null,`This change that introduced this bug has been reverted as of 1.13.10, 1.14.6, and 1.15.2`),mdx(\"h4\",{\"id\":\"issue-6\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-6\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Vault is unexpectedly storing references to ephemeral sub-loggers which prevents them from being cleaned up, leading to\nunbound memory consumption for loggers. This came about from a change to address a previously known issue around\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#sublogger-levels-unchanged-on-reload\"},`sub-logger levels not being adjusted on reload`),`.\nThis impacts many areas of Vault, but primarily logins in Enterprise.`),mdx(\"h4\",{\"id\":\"workaround-7\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-7\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`There is no workaround.`),mdx(\"h3\",{\"id\":\"sublogger-levels-not-adjusted-on-reload\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#sublogger-levels-unchanged-on-reload\",\"aria-label\":\"sublogger levels not adjusted on reload permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"sublogger-levels-unchanged-on-reload\",\"aria-hidden\":\"true\"}),`Sublogger levels not adjusted on reload`),mdx(\"h4\",{\"id\":\"affected-versions-8\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-8\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"p\",null,`This issue affects all Vault Community and Vault Enterprise versions.`),mdx(\"h4\",{\"id\":\"issue-7\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-7\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Vault does not honor a modified `,mdx(\"inlineCode\",{parentName:\"p\"},`log_level`),` configuration for certain subsystem\nloggers on SIGHUP.`),mdx(\"p\",null,`The issue is known to specifically affect `,mdx(\"inlineCode\",{parentName:\"p\"},`resolver.watcher`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`replication.index.*`),` subloggers.`),mdx(\"p\",null,`After modifying the `,mdx(\"inlineCode\",{parentName:\"p\"},`log_level`),` and issuing a reload (SIGHUP), some loggers are\nupdated to reflect the new configuration, while some subsystem logger levels\nremain unchanged.`),mdx(\"p\",null,`For example, after starting a server with `,mdx(\"inlineCode\",{parentName:\"p\"},`log_level: \"trace\"`),` and modifying it\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`log_level: \"info\"`),` the following lines appear after reload:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`[TRACE] resolver.watcher: dr mode doesn't have failover support, returning\n...\n[DEBUG] replication.index.perf: saved checkpoint: num_dirty=5\n[DEBUG] replication.index.local: saved checkpoint: num_dirty=0\n[DEBUG] replication.index.periodic: starting WAL GC: from=2531280 to=2531280 last=2531536\n`)),mdx(\"h4\",{\"id\":\"workaround-8\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-8\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`The workaround is to restart the Vault server.`),mdx(\"h3\",{\"id\":\"url-change-for-kv-v2-secrets-engine\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#kv2-url-change\",\"aria-label\":\"url change for kv v2 secrets engine permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"kv2-url-change\",\"aria-hidden\":\"true\"}),`URL change for KV v2 secrets engine`),mdx(\"h4\",{\"id\":\"affected-versions-9\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-9\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"p\",null,`1.15.0+`),mdx(\"h4\",{\"id\":\"issue-8\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-8\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Recent improvements to the Vault UI updated the URL structure of the KV v2 secrets engine that affect existing URLs.`),mdx(\"p\",null,`Previously, URLs for KV v2 used the pattern:\n`,mdx(\"inlineCode\",{parentName:\"p\"},`ui/vault/secrets/hma/show/\\${secretPath}`),`. With the recent refactor, KV v2 URLs\nnow use the following pattern:\n`,mdx(\"inlineCode\",{parentName:\"p\"},`ui/vault/secrets/hma/kv/\\${encodedUriComponent(secretPath)}/details`),`.`),mdx(\"p\",null,`Opening older URLs now result in 404 errors.`),mdx(\"h4\",{\"id\":\"workaround-9\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-9\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Currently, no workaround exists.`),mdx(\"p\",null,`Improvements that include automatic redirects for older URLs are planned for\n1.15.4.`),mdx(\"h3\",{\"id\":\"fatal-error-during-expiration-metrics-gathering-causing-vault-crash\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#fatal-error-during-expiration-metrics-gathering-causing-vault-crash\",\"aria-label\":\"fatal error during expiration metrics gathering causing vault crash permalink\"},`\\xbb`),`Fatal error during expiration metrics gathering causing Vault crash`),mdx(\"h4\",{\"id\":\"affected-versions-10\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-10\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"p\",null,`This issue affects Vault Community and Enterprise versions:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.13.9`),mdx(\"li\",{parentName:\"ul\"},`1.14.5`),mdx(\"li\",{parentName:\"ul\"},`1.15.1`)),mdx(\"p\",null,`A fix has been issued in Vault 1.13.10, 1.14.6, and 1.15.2.`),mdx(\"h4\",{\"id\":\"issue-9\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-9\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`A recent change to Vault to improve state change speed (e.g. becoming active or standby) introduced a concurrency issue\nwhich can lead to a concurrent iteration and write on a map, causing a fatal error and crashing Vault. This error occurs\nwhen gathering lease and token metrics from the expiration manager. These metrics originate from the active node in a HA\ncluster, as such a standby node will take over active duties and the cluster will remain functional should the original\nactive node encounter this bug. The new active node will be vulnerable to the same bug, but may not encounter it immediately.`),mdx(\"p\",null,`There is no workaround.`),mdx(\"h3\",{\"id\":\"audit-devices-could-log-raw-data-despite-configuration\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#audit-devices-could-log-raw-data-despite-configuration\",\"aria-label\":\"audit devices could log raw data despite configuration permalink\"},`\\xbb`),`Audit devices could log raw data despite configuration`),mdx(\"h4\",{\"id\":\"affected-versions-11\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-11\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.0 - 1.15.4`)),mdx(\"h4\",{\"id\":\"issue-10\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-10\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Enabling an audit device which specifies the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/audit#log_raw\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_raw`)),` option\ncould lead to raw data being logged to other audit devices, regardless of whether they\nare configured to use `,mdx(\"inlineCode\",{parentName:\"p\"},`log_raw`),`.`),mdx(\"p\",null,`The issue with raw data potentially appearing in logs where HMAC data as expected,\nis fixed as a patch release in Vault `,mdx(\"inlineCode\",{parentName:\"p\"},`1.15.5`),`.`),mdx(\"h4\",{\"id\":\"workaround-10\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-10\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Do not enable any audit devices in Vault that use `,mdx(\"inlineCode\",{parentName:\"p\"},`log_raw`),`. If any audit devices\nare currently enabled with `,mdx(\"inlineCode\",{parentName:\"p\"},`log_raw`),` set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` they should be `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/commands/audit/disable\"},`disabled`),`.`),mdx(\"p\",null,`To view the options for audit devices via the CLI, use the `,mdx(\"inlineCode\",{parentName:\"p\"},`--detailed`),` flag for the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`vault audit list`),` command:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault audit list --detailed`)),`\n`)),mdx(\"p\",null,`The output will resemble the following, with `,mdx(\"inlineCode\",{parentName:\"p\"},`log_raw`),` shown under `,mdx(\"inlineCode\",{parentName:\"p\"},`Options`),` on\nany device which has it enabled:`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`Example output:`),` `),mdx(CodeBlockConfig,{hideClipboard:true,mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`Path      Type    Description    Replication    Options`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`----      ----    -----------    -----------    -------`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`file1/    file    n/a            replicated     file_path=/var/log/vault/log1.json`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`file2/    file    n/a            replicated     file_path=/var/log/vault/log2.json log_raw=true`)),`\n`))),mdx(\"p\",null,`Disable any device with the `,mdx(\"inlineCode\",{parentName:\"p\"},`log_raw`),` option set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` using the command\n`,mdx(\"inlineCode\",{parentName:\"p\"},`vault audit disable {path}`),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`file2`),` in the above output):`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault audit disable file2`)),`\n`)),mdx(\"p\",null,`See also: `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/audit#disable-audit-device\"},`Disable audit via API`),`.`),mdx(\"h3\",{\"id\":\"unable-to-rotate-ldap-credentials\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#unable-to-rotate-ldap-credentials\",\"aria-label\":\"unable to rotate ldap credentials permalink\"},`\\xbb`),`Unable to rotate ldap credentials`),mdx(\"h4\",{\"id\":\"affected-versions-12\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-12\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.5`)),mdx(\"h4\",{\"id\":\"issue-11\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-11\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Depending on their LDAP configuration, some customers may encounter an error when attempting to rotate ldap credentials.\nStatic roles and root credentials are affected by this bug.\nSee this `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/vault/issues/25249\"},`issue`),` for more details.`),mdx(\"h4\",{\"id\":\"workaround-11\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-11\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`There is no workaround. Please update to Vault 1.15.6 or later.`),mdx(\"h3\",{\"id\":\"deadlock-can-occur-on-performance-secondary-clusters-with-many-mounts\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#deadlock-can-occur-on-performance-secondary-clusters-with-many-mounts\",\"aria-label\":\"deadlock can occur on performance secondary clusters with many mounts permalink\"},`\\xbb`),`Deadlock can occur on performance secondary clusters with many mounts`),mdx(\"h4\",{\"id\":\"affected-versions-13\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-13\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.0 - 1.15.5`),mdx(\"li\",{parentName:\"ul\"},`1.14.5 - 1.14.9`),mdx(\"li\",{parentName:\"ul\"},`1.13.9 - 1.13.13`)),mdx(\"h4\",{\"id\":\"issue-12\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-12\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Vault 1.15.0, 1.14.5, and 1.13.9 introduced a worker pool to schedule periodic\nrollback operations on all mounts. This worker pool defaulted to using 256\nworkers. The worker pool introduced a risk of deadlocking on the active node of\n`,mdx(\"strong\",{parentName:\"p\"},`performance secondary clusters`),`, leaving that cluster unable to service any\nrequests.`),mdx(\"p\",null,`The conditions required to cause the deadlock on the performance secondary:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Performance replication is enabled`),mdx(\"li\",{parentName:\"ul\"},`The performance primary cluster has more than 256 non-local mounts. The more\nmounts the cluster has, the more likely the deadlock becomes`),mdx(\"li\",{parentName:\"ul\"},`One of the following occurs:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`A replicated mount is unmounted or remounted OR`),mdx(\"li\",{parentName:\"ul\"},`A replicated namespace is deleted OR`),mdx(\"li\",{parentName:\"ul\"},`Replication paths filters are used to filter at least one mount or namespace`)))),mdx(\"h4\",{\"id\":\"workaround-12\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-12\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Set the `,mdx(\"inlineCode\",{parentName:\"p\"},`VAULT_ROLLBACK_WORKERS`),` environment variable to a number larger than\nthe number of mounts in your Vault cluster and restart Vault:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` export`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` VAULT_ROLLBACK_WORKERS`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`1000`)),`\n`)),mdx(\"h3\",{\"id\":\"audit-fails-to-recover-from-panics-when-formatting-audit-entries\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#audit-fails-to-recover-from-panics-when-formatting-audit-entries\",\"aria-label\":\"audit fails to recover from panics when formatting audit entries permalink\"},`\\xbb`),`Audit fails to recover from panics when formatting audit entries`),mdx(\"h4\",{\"id\":\"affected-versions-14\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-14\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.0 - 1.15.5`)),mdx(\"h4\",{\"id\":\"issue-13\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-13\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Due to an issue in the new event framework, Vault tries to resolve panics that\noccur when formatting audit entries. Vault cannot resolve the panic correctly,\nwhich results in the server terminating unexpectedly.`),mdx(\"p\",null,`The panic issue was resolved in `,mdx(\"inlineCode\",{parentName:\"p\"},`1.15.6`),`.`),mdx(\"h4\",{\"id\":\"workaround-13\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-13\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Set the `,mdx(\"inlineCode\",{parentName:\"p\"},`VAULT_AUDIT_DISABLE_EVENTLOGGER`),` environment variable to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to\ndisable the new underlying event framework and restart Vault:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` export`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` VAULT_AUDIT_DISABLE_EVENTLOGGER`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`true`)),`\n`)),mdx(\"p\",null,`On startup, Vault reverts to the audit behavior used in `,mdx(\"inlineCode\",{parentName:\"p\"},`1.14.x`),`.`),mdx(\"a\",{id:\"pki-ocsp\"}),mdx(\"h3\",{\"id\":\"pki-ocsp-get-requests-can-return-http-redirect-responses\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#pki-ocsp-get-requests-can-return-http-redirect-responses\",\"aria-label\":\"pki ocsp get requests can return http redirect responses permalink\"},`\\xbb`),`PKI OCSP GET requests can return HTTP redirect responses`),mdx(\"p\",null,`If a base64 encoded OCSP request contains consecutive '/' characters, the GET request\nwill return a 301 permanent redirect response. If the redirection is followed, the\nrequest will not decode as it will not be a properly base64 encoded request.`),mdx(\"p\",null,`As a workaround, OCSP POST requests can be used which are unaffected.`),mdx(\"h4\",{\"id\":\"impacted-versions\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#impacted-versions\",\"aria-label\":\"impacted versions permalink\"},`\\xbb`),`Impacted versions`),mdx(\"p\",null,`Affects all current versions of 1.12.x, 1.13.x, 1.14.x, 1.15.x, 1.16.x, 1.17.x.`),mdx(\"h3\",{\"id\":\"vault-enterprise-performance-standby-nodes-audit-all-request-headers\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#vault-enterprise-performance-standby-nodes-audit-all-request-headers\",\"aria-label\":\"vault enterprise performance standby nodes audit all request headers permalink\"},`\\xbb`),`Vault Enterprise Performance Standby nodes audit all request headers`),mdx(\"h4\",{\"id\":\"affected-versions-15\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-15\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.0 - 1.15.7`)),mdx(\"h4\",{\"id\":\"issue-14\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-14\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Due to an issue in the new event framework, Performance Standby nodes in a Vault\nEnterprise cluster do not correctly receive configuration regarding which request\nheaders should be written to the audit log.`),mdx(\"p\",null,`Rather than no headers appearing in the audit logs by default, Vault Enterprise\nlogs `,mdx(\"strong\",{parentName:\"p\"},`all`),` headers on Performance Standby nodes.`),mdx(\"p\",null,`The header issue was resolved in `,mdx(\"inlineCode\",{parentName:\"p\"},`1.15.8`),`.`),mdx(\"h4\",{\"id\":\"workaround-14\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-14\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Set the `,mdx(\"inlineCode\",{parentName:\"p\"},`VAULT_AUDIT_DISABLE_EVENTLOGGER`),` environment variable to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to\ndisable the new underlying event framework and restart Vault:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` export`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` VAULT_AUDIT_DISABLE_EVENTLOGGER`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`true`)),`\n`)),mdx(\"p\",null,`On startup, Vault reverts to the audit behavior used in `,mdx(\"inlineCode\",{parentName:\"p\"},`1.14.x`),`.`),mdx(\"h3\",{\"id\":\"performance-standbys-revert-to-standby-mode-on-unseal\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#performance-standbys-revert-to-standby-mode-on-unseal\",\"aria-label\":\"performance standbys revert to standby mode on unseal permalink\"},`\\xbb`),`Performance Standbys revert to Standby mode on unseal`),mdx(\"h4\",{\"id\":\"affected-versions-16\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-16\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.14.12`),mdx(\"li\",{parentName:\"ul\"},`1.15.8`),mdx(\"li\",{parentName:\"ul\"},`1.16.2`)),mdx(\"h4\",{\"id\":\"issue-15\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-15\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`If you previously set a value for `,mdx(\"inlineCode\",{parentName:\"p\"},`retention_months`),` via the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/internal-counters#update-the-client-count-configuration\"},`sys/internal/counters/config`),`\nendpoint, upgrading to Vault Enterprise versions 1.14.12, 1.15.8, and 1.16.2\nwill cause `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/enterprise/performance-standby\"},`Performance Standby`),`\nnodes to revert to Standby mode.`),mdx(\"p\",null,`Adding nodes with Vault Enterprise versions 1.14.12, 1.15.8, or 1.16.2 to a\ncluster with an older versioned leader will see any previously set\n`,mdx(\"inlineCode\",{parentName:\"p\"},`retention_months`),` value and attempt to write the new minimum value of `,mdx(\"inlineCode\",{parentName:\"p\"},`48`),`. The\nstorage write will result in a read-only error:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`[ERROR] core: performance standby post-unseal setup failed: error=\"cannot write to readonly storage\"\n`)),mdx(\"p\",null,`You can verify the status of your nodes by checking the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/health\"},`/sys/health`),` endpoint.`),mdx(\"p\",null,`Deployments that rely on scaling across Performance Standbys will now forward\nall requests to the active node, increasing the utilization of the active node.`),mdx(Note,{title:\"Post-upgrade cluster membership\",mdxType:\"Note\"},\"During the last step of a full upgrade, the old leader steps down, causing one of the Standby nodes to become leader.\"),mdx(\"p\",null,`A fix for the read-only storage error has been prioritized and escalated. The\nfix will be in releases 1.14.13, 1.15.9 and 1.16.3.`),mdx(Warning,{title:\"Important\",mdxType:\"Warning\"},\"If you have already upgraded to versions 1.14.12, 1.15.8, or 1.16.2, please refer to the workaround section for options.\"),mdx(\"h4\",{\"id\":\"workaround-15\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-15\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Once the leader of the cluster has been updgraded to version 1.14.12, 1.15.8, or\n1.16.2, the workaround is to update the `,mdx(\"inlineCode\",{parentName:\"p\"},`retention_months`),` value on the active\nnode via the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/internal-counters#update-the-client-count-configuration\"},`sys/internal/counters/config`),`\nendpoint:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shell\",\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` vault`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` write`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` sys/internal/counters/config`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` retention_months=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`48`)),`\n`)),mdx(\"p\",null,`This storage entry will be written to all nodes in the cluster, allowing them to\nimmediately unseal as Performance Standbys.`),mdx(\"p\",null,`After the new `,mdx(\"inlineCode\",{parentName:\"p\"},`retention_months`),` value is written to storage on the active node,\nadding new nodes to the cluster will not cause the read-only error.`),mdx(\"h3\",{\"id\":\"sending-sighup-to-vault-standby-node-causes-panic\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#sending-sighup-to-vault-standby-node-causes-panic\",\"aria-label\":\"sending sighup to vault standby node causes panic permalink\"},`\\xbb`),`Sending SIGHUP to vault standby node causes panic`),mdx(\"h4\",{\"id\":\"affected-versions-17\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-17\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.13.4+`),mdx(\"li\",{parentName:\"ul\"},`1.14.0+`),mdx(\"li\",{parentName:\"ul\"},`1.15.0+`),mdx(\"li\",{parentName:\"ul\"},`1.16.0+`)),mdx(\"h4\",{\"id\":\"issue-16\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-16\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Sending a SIGHUP to a vault standby node running an enterprise build can cause a panic\nif there is a change to the license, or reporting configuration.\nActive and performance standby nodes will perform fine. It is recommended that operators\nstop and restart vault nodes individually if configuration changes are required.`),mdx(\"h4\",{\"id\":\"workaround-16\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-16\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Instead of issuing a SIGHUP, users should stop individual vault nodes, update the configuration\nor license and then restart the node. `),mdx(\"h3\",{\"id\":\"new-nodes-added-by-autopilot-upgrades-provisioned-with-the-wrong-version\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#new-nodes-added-by-autopilot-upgrades-provisioned-with-the-wrong-version\",\"aria-label\":\"new nodes added by autopilot upgrades provisioned with the wrong version permalink\"},`\\xbb`),`New nodes added by autopilot upgrades provisioned with the wrong version`),mdx(\"h4\",{\"id\":\"affected-versions-18\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-18\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.15.3 - 1.15.9`),mdx(\"li\",{parentName:\"ul\"},`1.16.1 - 1.16.3`)),mdx(\"h4\",{\"id\":\"issue-17\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-17\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`If `,mdx(\"inlineCode\",{parentName:\"p\"},`autopilot_upgrade_version`),` is not explicitly set in the Vault configuration file in the `,mdx(\"inlineCode\",{parentName:\"p\"},`storage`),`\nsection, new non-active nodes will retain their original Vault version as opposed to the new version.`),mdx(\"h4\",{\"id\":\"workaround-17\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-17\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Set the desired version in the configuration file as `,mdx(\"inlineCode\",{parentName:\"p\"},`autopilot_upgrade_version=\u003cversion string\u003e`),`. This will\nallow all nodes to receive the proper version to upgrade to.`),mdx(\"a\",{id:\"listener-proxy-protocol-config\"}),mdx(\"h3\",{\"id\":\"potential-dos-when-using-the-deny_unauthorized-proxy-protocol-behavior-for-a-tcp-listener\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#potential-dos-when-using-the-deny_unauthorized-proxy-protocol-behavior-for-a-tcp-listener\",\"aria-label\":\"potential dos when using the deny_unauthorized proxy protocol behavior for a tcp listener permalink\"},`\\xbb`),`Potential DoS when using the `,mdx(\"inlineCode\",{parentName:\"h3\"},`deny_unauthorized`),` proxy protocol behavior for a TCP listener`),mdx(\"h4\",{\"id\":\"affected-versions-19\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-19\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"h5\",{\"id\":\"community-edition-ce\"},mdx(\"a\",{parentName:\"h5\",\"className\":\"__permalink-h\",\"href\":\"#community-edition-ce\",\"aria-label\":\"community edition ce permalink\"},`\\xbb`),`Community Edition (CE)`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.10.x - 1.15.x`),mdx(\"li\",{parentName:\"ul\"},`1.17.1`)),mdx(\"h5\",{\"id\":\"enterprise\"},mdx(\"a\",{parentName:\"h5\",\"className\":\"__permalink-h\",\"href\":\"#enterprise\",\"aria-label\":\"enterprise permalink\"},`\\xbb`),`Enterprise`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`1.10.x+ent - 1.15.11+ent`),mdx(\"li\",{parentName:\"ul\"},`1.16.5+ent`),mdx(\"li\",{parentName:\"ul\"},`1.17.1+ent`)),mdx(\"h4\",{\"id\":\"issue-18\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-18\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Vault TCP listeners configured with the `,mdx(\"inlineCode\",{parentName:\"p\"},`deny_unauthorized`),` `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/configuration/listener/tcp#proxy_protocol_behavior\"},`proxy_protocol_behavior`),`\nclose if they receive a request from an untrusted upstream connection. As a result,\nVault no longer responds to `,mdx(\"em\",{parentName:\"p\"},`any`),` request received through that listener.`),mdx(\"p\",null,`Being able to force-close listeners with intentionally untrusted connections\nleaves the Vault API vulnerable to a denial-of-service (DoS) attacks, which\ncould cause the API to become unavailable on that node.`),mdx(\"p\",null,`The vulnerability is addressed in Vault 1.15.12+ent, 1.16.6+ent, 1.17.2, 1.17.2+ent and later.`),mdx(\"h4\",{\"id\":\"workaround-18\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-18\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Do not configure a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/configuration/listener/tcp#proxy_protocol_behavior\"},`proxy_protocol_behavior`),`\nwith the `,mdx(\"inlineCode\",{parentName:\"p\"},`deny_unauthorized`),` value.`),mdx(\"h3\",{\"id\":\"duplicate-identity-groups-created-when-concurrent-requests-sent-to-the-primary-and-pr-secondary-cluster\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#duplicate-identity-groups-created-when-concurrent-requests-sent-to-the-primary-and-pr-secondary-cluster\",\"aria-label\":\"duplicate identity groups created when concurrent requests sent to the primary and pr secondary cluster permalink\"},`\\xbb`),`Duplicate identity groups created when concurrent requests sent to the primary and PR secondary cluster`),mdx(\"h4\",{\"id\":\"affected-versions-20\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-20\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`All Enterprise versions from 0.7.0 up`)),mdx(\"h4\",{\"id\":\"issue-19\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-19\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`Duplicate identity groups are groups that have the same name, and should not be possible in vault. However, there is a race condition\nin which duplicate groups are possible. If more than 1 create group request is sent at the same time to a Primary Cluster and\nthe PR secondary cluster, it can result in group duplicates.`),mdx(\"h4\",{\"id\":\"workaround-19\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-19\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`All create group requests should be sent to the primary cluster.`),mdx(\"h3\",{\"id\":\"manual-entity-merges-sent-to-a-pr-secondary-cluster-are-not-persisted-to-storage\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#manual-entity-merges-sent-to-a-pr-secondary-cluster-are-not-persisted-to-storage\",\"aria-label\":\"manual entity merges sent to a pr secondary cluster are not persisted to storage permalink\"},`\\xbb`),`Manual entity merges sent to a PR secondary cluster are not persisted to storage`),mdx(\"h4\",{\"id\":\"affected-versions-21\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#affected-versions-21\",\"aria-label\":\"affected versions permalink\"},`\\xbb`),`Affected versions`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Vault Enterprise v0.7.0+`)),mdx(\"h4\",{\"id\":\"issue-20\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#issue-20\",\"aria-label\":\"issue permalink\"},`\\xbb`),`Issue`),mdx(\"p\",null,`If you send a manual entity merge to a PR secondary cluster, the change is\ntemporarily reflected on the active node of the PR secondary cluster, but Vault\ndoes not save the change to persistent storage. `),mdx(\"h4\",{\"id\":\"workaround-20\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#workaround-20\",\"aria-label\":\"workaround permalink\"},`\\xbb`),`Workaround`),mdx(\"p\",null,`Always send manual entity merge requests to the primary cluster.`))};MDXContent.isMDXComponent=true;","scope":{"version":"latest"}},"product":{"name":"Vault","slug":"vault","version":"1.9.3","changelogUrl":null,"algoliaConfig":{"indexName":"product_VAULT","searchOnlyApiKey":"9c555e8fa951c1c53e726c0ce2eb3b73"},"analyticsConfig":{"includedDomains":"vaultproject.io www.vaultproject.io","segmentWriteKey":"OdSFDq9PfujQpmkZf03dFpcUlywme4sC"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Vault by HashiCorp","description":"Vault secures, stores, and tightly controls access to tokens, passwords, certificates, API keys, and other secrets in modern computing. Vault handles leasing, key revocation, key rolling, auditing, and provides secrets as a service through a unified API.","image":"https://www.vaultproject.io/vault-public/img/og-image.png","icon":[{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=16\u0026w=16","type":"image/png","sizes":"16x16"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=32\u0026w=32","type":"image/png","sizes":"32x32"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=96\u0026w=96","type":"image/png","sizes":"96x96"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=192\u0026w=192","type":"image/png","sizes":"192x192"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"subnavItems":[{"text":"Overview","url":"/"},{"text":"Use Cases","submenu":[{"text":"Secrets Management","url":"/use-cases/secrets-management"},{"text":"Data Encryption","url":"/use-cases/data-encryption"},{"text":"Identity-based Access","url":"/use-cases/identity-based-access"}]},{"text":"Enterprise","url":"https://www.hashicorp.com/products/vault/enterprise"},"divider",{"text":"Tutorials","url":"https://developer.hashicorp.com/vault/tutorials"},{"text":"Docs","url":"/docs"},{"text":"API","url":"/api-docs"},{"text":"Community","url":"/community"}],"packageManagers":[{"label":"Homebrew","commands":["brew tap hashicorp/tap","brew install hashicorp/tap/vault"],"os":"darwin"},{"label":"Ubuntu/Debian","commands":["wget -O - https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg","echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list","sudo apt-get update \u0026\u0026 sudo apt-get install vault"],"os":"linux"},{"label":"CentOS/RHEL","commands":["sudo yum install -y yum-utils","sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo","sudo yum -y install vault"],"os":"linux"},{"label":"Fedora","commands":["sudo dnf install -y dnf-plugins-core","sudo dnf config-manager addrepo --from-repofile=https://rpm.releases.hashicorp.com/fedora/hashicorp.repo","sudo dnf -y install vault"],"os":"linux"},{"label":"Amazon Linux","commands":["sudo yum install -y yum-utils","sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo","sudo yum -y install vault"],"os":"linux"},{"label":"Homebrew","commands":["brew tap hashicorp/tap","brew install hashicorp/tap/vault"],"os":"linux"}],"basePaths":["docs","api-docs","intro","tutorials","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Vault Integrations.","sidebarLinks":[{"title":"Plugin System Overview","href":"/vault/docs/plugins"},{"title":"Plugin Development","href":"/vault/docs/plugins/plugin-development"},{"title":"Custom Secrets Engine Tutorial","href":"/vault/tutorials/custom-secrets-engine"}]},"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":[{"name":"latest","label":"v1.18.x (latest)","isLatest":true,"releaseStage":"stable","version":"v1.18.x"},{"name":"v1.17.x","label":"v1.17.x","isLatest":false,"releaseStage":"stable","version":"v1.17.x"},{"name":"v1.16.x","label":"v1.16.x","isLatest":false,"releaseStage":"stable","version":"v1.16.x"},{"name":"v1.15.x","label":"v1.15.x","isLatest":false,"releaseStage":"stable","version":"v1.15.x"}]},"__N_SSG":true},"page":"/vault/docs/[...page]","query":{"page":["upgrading","upgrade-to-1.15.x"]},"buildId":"bjndAIxCQduUB0Kudxmwg","isFallback":false,"isExperimentalCompile":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>