

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fenhanced-e-commerce-for-woocommerce-store%2Ftags%2F7.1.0%2Fadmin%2Fpartials%2Fwizard-productfeed-odd.php%3Frev%3D3105213)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← Previous Revision
* [Latest Revision](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php)
* Next Revision →
* [Blame](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php?annotate=blame&rev=3105213 "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php?rev=3105213)

---

# [source:](/browser?rev=3105213&order=name "Go to repository root") [enhanced-e-commerce-for-woocommerce-store](/browser/enhanced-e-commerce-for-woocommerce-store?rev=3105213&order=name "View enhanced-e-commerce-for-woocommerce-store")/[tags](/browser/enhanced-e-commerce-for-woocommerce-store/tags?rev=3105213&order=name "View tags")/[7.1.0](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0?rev=3105213&order=name "View 7.1.0")/[admin](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin?rev=3105213&order=name "View admin")/[partials](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials?rev=3105213&order=name "View partials")/[wizard-productfeed-odd.php](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php?rev=3105213&order=name "View wizard-productfeed-odd.php") @ [3105213](/changeset/3105213/ "View changeset 3105213")

View diff against:

View revision:

| [Last change](/changeset/3105213/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php "View differences") on this file since 3105213 was [3105213](/changeset/3105213/ "View changeset 3105213"), checked in by vinayconversios, [7 months ago](/timeline?from=2024-06-20T14%3A45%3A18Z&precision=second "See timeline at 06/20/2024 02:45:18 PM") |
| --- |
| EcommerceEventLeadGenEvents |
| **File size:** 136.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly |
| [3](#L3) | require\_once ABSPATH . 'wp-admin/includes/class-wp-filesystem-base.php'; |
| [4](#L4) | require\_once ABSPATH . 'wp-admin/includes/class-wp-filesystem-direct.php'; |
| [5](#L5) |  |
| [6](#L6) | $TVC\_Admin\_Helper = new TVC\_Admin\_Helper(); |
| [7](#L7) | $customApiObj = new CustomApi(); |
| [8](#L8) | if(isset($\_GET['g\_mail']) && isset($\_GET['wizard\_channel']) && $\_GET['wizard\_channel'] == 'gmcsetting') { |
| [9](#L9) | update\_option('ee\_customer\_gmail', sanitize\_email($\_GET['g\_mail'])); |
| [10](#L10) | $TVC\_Admin\_Helper->update\_subscription\_details\_api\_to\_db(); |
| [11](#L11) | } |
| [12](#L12) | $ee\_options = unserialize(get\_option("ee\_options")); |
| [13](#L13) | $ee\_mapped\_attrs = unserialize(get\_option('ee\_prod\_mapped\_attrs')); |
| [14](#L14) | $tempAddAttr = $ee\_mapped\_attrs; |
| [15](#L15) |  |
| [16](#L16) | if (!class\_exists('TVCProductSyncHelper')) { |
| [17](#L17) | include(ENHANCAD\_PLUGIN\_DIR . 'includes/setup/class-tvc-product-sync-helper.php'); |
| [18](#L18) | } |
| [19](#L19) | $TVCProductSyncHelper = new TVCProductSyncHelper(); |
| [20](#L20) | $wooCommerceAttributes = array\_map("unserialize", array\_unique(array\_map("serialize", $TVCProductSyncHelper->wooCommerceAttributes()))); |
| [21](#L21) | $category\_wrapper\_obj = new Tatvic\_Category\_Wrapper(); |
| [22](#L22) | $tvc\_data = $TVC\_Admin\_Helper->get\_store\_data(); |
| [23](#L23) | $g\_mail = get\_option('ee\_customer\_gmail'); |
| [24](#L24) | if(isset($\_GET['g\_mail']) && isset($\_GET['wizard\_channel']) && $\_GET['wizard\_channel'] == 'gmcsetting') { |
| [25](#L25) | $g\_mail = sanitize\_email($\_GET['g\_mail']); |
| [26](#L26) | } |
| [27](#L27) | $tvc\_data['g\_mail'] = ""; |
| [28](#L28) | if ($g\_mail) { |
| [29](#L29) | $tvc\_data['g\_mail'] = sanitize\_email($g\_mail); |
| [30](#L30) | } |
| [31](#L31) | $subscriptionId = esc\_html($ee\_options['subscription\_id']); |
| [32](#L32) | $app\_id = 1; |
| [33](#L33) | $pixelprogressbarclass = 0; |
| [34](#L34) | $google\_merchant\_center\_id  = ''; |
| [35](#L35) | $merchan\_id = ''; |
| [36](#L36) | $is\_channel\_connected = false; |
| [37](#L37) | if(isset($ee\_options['google\_merchant\_center\_id']) && $ee\_options['google\_merchant\_center\_id'] !== ''){ |
| [38](#L38) | $google\_merchant\_center\_id  = esc\_html($ee\_options['google\_merchant\_center\_id']); |
| [39](#L39) | $merchan\_id = isset($ee\_options['merchant\_id']) ? esc\_html($ee\_options['merchant\_id']) : ''; |
| [40](#L40) | } |
| [41](#L41) | $is\_tiktok\_connected = false; |
| [42](#L42) | $tiktok\_mail = isset($ee\_options['tiktok\_setting']['tiktok\_mail']) === TRUE ? esc\_html($ee\_options['tiktok\_setting']['tiktok\_mail']) : ''; |
| [43](#L43) | $tiktok\_user\_id = isset($ee\_options['tiktok\_setting']['tiktok\_user\_id']) === TRUE ? esc\_html($ee\_options['tiktok\_setting']['tiktok\_user\_id']) : ''; |
| [44](#L44) | $tiktok\_business\_id = isset($ee\_options['tiktok\_setting']['tiktok\_business\_id']) === TRUE ? esc\_html($ee\_options['tiktok\_setting']['tiktok\_business\_id']) : ''; |
| [45](#L45) | $tiktok\_business\_name = isset($ee\_options['tiktok\_setting']['tiktok\_business\_name']) === TRUE ? esc\_html($ee\_options['tiktok\_setting']['tiktok\_business\_name']) : ''; |
| [46](#L46) | $fb\_business\_id = isset($ee\_options['facebook\_setting']['fb\_business\_id']) === TRUE ? esc\_html($ee\_options['facebook\_setting']['fb\_business\_id']) : ''; |
| [47](#L47) | if (isset($\_GET['tiktok\_mail']) == TRUE) { |
| [48](#L48) | $tiktok\_mail = sanitize\_email($\_GET['tiktok\_mail']); |
| [49](#L49) | $is\_tiktok\_connected = true; |
| [50](#L50) | } |
| [51](#L51) | if (isset($\_GET['tiktok\_user\_id']) == TRUE) { |
| [52](#L52) | $tiktok\_user\_id = sanitize\_text\_field($\_GET['tiktok\_user\_id']); |
| [53](#L53) | } |
| [54](#L54) | $connect\_gmc\_url = $TVC\_Admin\_Helper->get\_custom\_connect\_url(admin\_url() . 'admin.php?page=conversios&wizard=productFeedOdd\_gmcsetting'); |
| [55](#L55) | //$getCountris = @file\_get\_contents(ENHANCAD\_PLUGIN\_DIR . "includes/setup/json/countries.json"); |
| [56](#L56) |  |
| [57](#L57) | $filesystem = new WP\_Filesystem\_Direct( true ); |
| [58](#L58) | $getCountris = $filesystem->get\_contents(ENHANCAD\_PLUGIN\_DIR . "includes/setup/json/countries.json"); |
| [59](#L59) |  |
| [60](#L60) | $contData = json\_decode($getCountris); |
| [61](#L61) | $site\_url = "admin.php?page=conversios-google-shopping-feed&tab="; |
| [62](#L62) | $dashboard\_url = "admin.php?page=conversios"; |
| [63](#L63) | $is\_refresh\_token\_expire = false; |
| [64](#L64) | $google\_detail\_api = $googledetail =$customApiObj->getGoogleAnalyticDetail($subscriptionId); |
| [65](#L65) | ?> |
| [66](#L66) | <style> |
| [67](#L67) | body { |
| [68](#L68) | background: white !important; |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) | #conversioshead, |
| [72](#L72) | #conversioshead\_notice { |
| [73](#L73) | display: none; |
| [74](#L74) | } |
| [75](#L75) | .nav-item { |
| [76](#L76) | width: 24%; |
| [77](#L77) | } |
| [78](#L78) | .nav-link { |
| [79](#L79) | color:#495057; |
| [80](#L80) | background-color: #fff; |
| [81](#L81) | border-color: #fff; |
| [82](#L82) | padding: 0.2rem 1rem 0.5rem 0.2rem; |
| [83](#L83) | } |
| [84](#L84) | .nav-tabs .nav-link.active { |
| [85](#L85) | color:#0d6efd; |
| [86](#L86) | background-color: #fff; |
| [87](#L87) | border-color: #fff; |
| [88](#L88) | } |
| [89](#L89) | .nav-tabs .nav-link:hover { |
| [90](#L90) | background-color: #fff; |
| [91](#L91) | border-color: #fff; |
| [92](#L92) | } |
| [93](#L93) | .w-25 { |
| [94](#L94) | width: 25%!important; |
| [95](#L95) | } |
| [96](#L96) | .w-50 { |
| [97](#L97) | width: 50%!important; |
| [98](#L98) | } |
| [99](#L99) | .w-75 { |
| [100](#L100) | width: 75%!important; |
| [101](#L101) | } |
| [102](#L102) | .w-100 { |
| [103](#L103) | width: 100%!important; |
| [104](#L104) | } |
| [105](#L105) | img { |
| [106](#L106) | width: 24px; |
| [107](#L107) | height: 24px; |
| [108](#L108) | } |
| [109](#L109) | .span-text { |
| [110](#L110) | width: 240px; |
| [111](#L111) | height: 24px; |
| [112](#L112) | font-weight: 700; |
| [113](#L113) | font-size: 16px; |
| [114](#L114) | line-height: 24px; |
| [115](#L115) | } |
| [116](#L116) | .inner-text { |
| [117](#L117) | width: 226px; |
| [118](#L118) | height: 22px; |
| [119](#L119) | font-weight: 600; |
| [120](#L120) | font-size: 14px; |
| [121](#L121) | line-height: 24px; |
| [122](#L122) | color: #5F6368; |
| [123](#L123) | } |
| [124](#L124) | .form-control, .select2.select2-container--default .select2-selection--single { |
| [125](#L125) | border-radius: 4px; |
| [126](#L126) | padding-left: 0px; |
| [127](#L127) | height: 40px; |
| [128](#L128) | } |
| [129](#L129) | .fs-15 { |
| [130](#L130) | font-size: 15px; |
| [131](#L131) | } |
| [132](#L132) | .placeholder { |
| [133](#L133) | min-height: 0.5em; |
| [134](#L134) | vertical-align: bottom; |
| [135](#L135) | background-color: #387EF5; |
| [136](#L136) | } |
| [137](#L137) | .placeholder-wave { |
| [138](#L138) | margin: 0px !important; |
| [139](#L139) | } |
| [140](#L140) | .text-grey { |
| [141](#L141) | color: #5F6368; |
| [142](#L142) | } |
| [143](#L143) | .select2-results\_\_option--selectable { |
| [144](#L144) | font-size: 14px; |
| [145](#L145) | } |
| [146](#L146) | .select2-container--default .select2-selection--single .select2-selection\_\_rendered { |
| [147](#L147) | font-size: 14px; |
| [148](#L148) | } |
| [149](#L149) | .pointer { |
| [150](#L150) | cursor: pointer; |
| [151](#L151) | } |
| [152](#L152) | .google-btn img { |
| [153](#L153) | width: 100% !important; |
| [154](#L154) | height: auto !important; |
| [155](#L155) | } |
| [156](#L156) | .btn-channel-primary { |
| [157](#L157) | width: 183px; |
| [158](#L158) | height: 38px; |
| [159](#L159) | border-radius: 4px; |
| [160](#L160) | padding: 8px 10px 8px 10px; |
| [161](#L161) | gap: 10px; |
| [162](#L162) | color: #FFF; |
| [163](#L163) | background-color: #1085F1; |
| [164](#L164) | border-color: #1085F1; |
| [165](#L165) | } |
| [166](#L166) | .btn-channel-primary:hover { |
| [167](#L167) | color: #FFF; |
| [168](#L168) | } |
| [169](#L169) | .btn-channel { |
| [170](#L170) | width: 150px; |
| [171](#L171) | height: 38px; |
| [172](#L172) | border-radius: 4px; |
| [173](#L173) | padding: 8px 10px 8px 10px; |
| [174](#L174) | gap: 10px; |
| [175](#L175) | color: #FFF; |
| [176](#L176) | background-color: #1085F1; |
| [177](#L177) | border-color: #1085F1; |
| [178](#L178) | } |
| [179](#L179) | .btn-channel:hover { |
| [180](#L180) | color: #FFF; |
| [181](#L181) | } |
| [182](#L182) | .attributeMappingDiv { |
| [183](#L183) | height: 48px; |
| [184](#L184) | border-radius: 8px 8px 0px 0px; |
| [185](#L185) | padding: 0px 24px 0px 24px; |
| [186](#L186) | } |
| [187](#L187) | .attrDiv { |
| [188](#L188) | border-radius: 8px; |
| [189](#L189) | border: 1px solid #ccc; |
| [190](#L190) | } |
| [191](#L191) | .fw-semibold { |
| [192](#L192) | font-weight: 600; |
| [193](#L193) | } |
| [194](#L194) | .progress-materializecss { |
| [195](#L195) | z-index: 99; |
| [196](#L196) | } |
| [197](#L197) |  |
| [198](#L198) | .modal\_popup\_logo\_success { |
| [199](#L199) | color: #09BD83; |
| [200](#L200) | } |
| [201](#L201) | .modal\_popup\_logo\_error { |
| [202](#L202) | color: #ff3333; |
| [203](#L203) | } |
| [204](#L204) | .progressinfo { |
| [205](#L205) | text-align: right; |
| [206](#L206) | font-size: 12px; |
| [207](#L207) | line-height: 16px; |
| [208](#L208) | color: #515151; |
| [209](#L209) | margin-top: 9px; |
| [210](#L210) | } |
| [211](#L211) |  |
| [212](#L212) | .progress { |
| [213](#L213) | display: -ms-flexbox; |
| [214](#L214) | display: flex; |
| [215](#L215) | height: 10px; |
| [216](#L216) | overflow: hidden; |
| [217](#L217) | line-height: 0; |
| [218](#L218) | background-color: #F3F3F3; |
| [219](#L219) | border-radius: 100px; |
| [220](#L220) | } |
| [221](#L221) |  |
| [222](#L222) | .progress-bar { |
| [223](#L223) | display: -ms-flexbox; |
| [224](#L224) | display: flex; |
| [225](#L225) | -ms-flex-direction: column; |
| [226](#L226) | flex-direction: column; |
| [227](#L227) | -ms-flex-pack: center; |
| [228](#L228) | justify-content: center; |
| [229](#L229) | overflow: hidden; |
| [230](#L230) | color: #fff; |
| [231](#L231) | text-align: left; |
| [232](#L232) | padding-left: 24px; |
| [233](#L233) | white-space: nowrap; |
| [234](#L234) | background: #1085F1; |
| [235](#L235) | transition: width 0.6s ease; |
| [236](#L236) | border-radius: 100px; |
| [237](#L237) | } |
| [238](#L238) | .errorInput { |
| [239](#L239) | border: 1.3px solid #ef1717 !important ; |
| [240](#L240) | padding: 0px; |
| [241](#L241) | border-radius: 6px; |
| [242](#L242) | } |
| [243](#L243) | .form-check-input:checked { |
| [244](#L244) | border-radius: 4px !important; |
| [245](#L245) | } |
| [246](#L246) | #autoSync:checked { |
| [247](#L247) | border-radius: 2em !important; |
| [248](#L248) | } |
| [249](#L249) | .pawizard\_tab\_but { |
| [250](#L250) | pointer-events: auto !important; |
| [251](#L251) | } |
| [252](#L252) | .pawizard\_tab\_but h5:hover { |
| [253](#L253) | color: #36aefd; |
| [254](#L254) | } |
| [255](#L255) | </style> |
| [256](#L256) |  |
| [257](#L257) | <div class="container container-old conv-container conv-setting-container"> |
| [258](#L258) | <div class="row"> |
| [259](#L259) | <div class="mx-auto d-flex justify-content-end" style="max-width: 930px;"> |
| [260](#L260) | <div class="text-dark m-4 h6 d-flex align-items-center convexitwizard pointer" data-bs-toggle="modal" data-bs-target="#exitwizardconvmodal"> |
| [261](#L261) | <span class="material-symbols-outlined"> |
| [262](#L262) | cancel |
| [263](#L263) | </span> |
| [264](#L264) | <span><?php esc\_html\_e("Exit Wizard", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [265](#L265) | </div> |
| [266](#L266) | </div> |
| [267](#L267) | <div class="mx-auto convcard p-0 mt-0 rounded-3 shadow-lg" style="max-width:903px"> |
| [268](#L268) | <ul class="nav nav-tabs border-0 p-3 pb-0" id="myTab" role="tablist"> |
| [269](#L269) | <li class="nav-item" role="presentation"> |
| [270](#L270) | <button class="d-inline-flex align-items-center pawizard\_tab\_but border-0 nav-link active ps-0" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true"> |
| [271](#L271) | <span class="material-symbols-outlined add-channel mt-1 float-start <?php echo $is\_channel\_connected ? 'text-success' : 'text-warning'?>"> |
| [272](#L272) | <?php echo $is\_channel\_connected ? 'check\_circle' : 'history\_toggle\_off' ?> |
| [273](#L273) | </span> |
| [274](#L274) | <h5 class="text-start m-0 ps-1 mt-1"><?php esc\_html\_e("Channel Configuration", "enhanced-e-commerce-for-woocommerce-store"); ?></h5> |
| [275](#L275) | </button> |
| [276](#L276) | </li> |
| [277](#L277) | <li class="nav-item" role="presentation"> |
| [278](#L278) | <button class="d-inline-flex align-items-center pawizard\_tab\_but border-0 nav-link ps-0" id="category-tab" data-bs-toggle="tab" data-bs-target="#category" type="button" role="tab" aria-controls="category" aria-selected="false"> |
| [279](#L279) | <span class="material-symbols-outlined product-category float-start mt-1 text-warning"> |
| [280](#L280) | history\_toggle\_off |
| [281](#L281) | </span> |
| [282](#L282) | <h5 class="text-start m-0 ps-1 mt-1"><?php esc\_html\_e("Category Mapping", "enhanced-e-commerce-for-woocommerce-store"); ?></h5> |
| [283](#L283) | </button> |
| [284](#L284) | </li> |
| [285](#L285) | <li class="nav-item" role="presentation"> |
| [286](#L286) | <button class="d-inline-flex align-items-center pawizard\_tab\_but border-0 nav-link ps-0" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false"> |
| [287](#L287) | <span class="material-symbols-outlined product-attribute float-start mt-1 text-warning"> |
| [288](#L288) | history\_toggle\_off |
| [289](#L289) | </span> |
| [290](#L290) | <h5 class="text-start m-0 ps-1 mt-1"><?php esc\_html\_e("Product Attribute Mapping", "enhanced-e-commerce-for-woocommerce-store"); ?></h5> |
| [291](#L291) | </button> |
| [292](#L292) | </li> |
| [293](#L293) | <li class="nav-item" role="presentation"> |
| [294](#L294) | <button class="d-inline-flex align-items-center pawizard\_tab\_but border-0 nav-link ps-0" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false"> |
| [295](#L295) | <span class="material-symbols-outlined create-feed float-start mt-1 text-warning"> |
| [296](#L296) | history\_toggle\_off |
| [297](#L297) | </span> |
| [298](#L298) | <h5 class="text-start m-0 ps-1 mt-1"><?php esc\_html\_e("Create Product Feed", "enhanced-e-commerce-for-woocommerce-store"); ?></h5> |
| [299](#L299) | </button> |
| [300](#L300) | </li> |
| [301](#L301) | </ul> |
| [302](#L302) | <div class="tab-content p-3 pt-0" id="myTabContent"> |
| [303](#L303) | <div class="progress"> |
| [304](#L304) | <div class="progress-bar w-<?php echo esc\_attr($pixelprogressbarclass) ?>" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div> |
| [305](#L305) | </div> |
| [306](#L306) | <input type="hidden" id="pixelprogressbarclass" value="<?php echo esc\_attr($pixelprogressbarclass) ?>"> |
| [307](#L307) | <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab"> |
| [308](#L308) | <span class="channel\_notice d-none bg-warnings" style="width:100%; height: auto; display: block"> |
| [309](#L309) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/attention\_logo.png'); ?>"> |
| [310](#L310) | <span class="text-dark">Attention - Please Note That, If You Change Email or Channel Id, It Will Affect The Previous Feed!!!</span> |
| [311](#L311) | </span> |
| [312](#L312) | <div class="convcard p-4 mt-0 rounded-3 shadow-sm"> |
| [313](#L313) | <?php require\_once("wizardsettings/gmcsettings.php"); ?> |
| [314](#L314) |  |
| [315](#L315) | <div id="tiktokSetting\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [316](#L316) | <div class="indeterminate"></div> |
| [317](#L317) | </div> |
| [318](#L318) | <div class="tiktokSetting\_hr border-top mb-3"></div> |
| [319](#L319) | <?php |
| [320](#L320) | require\_once ENHANCAD\_PLUGIN\_DIR . 'admin/class-tvc-admin-helper.php'; |
| [321](#L321) | $tvcAdminHelper = new TVC\_Admin\_DB\_Helper(); |
| [322](#L322) | $catalogData = $tvcAdminHelper->tvc\_get\_results('ee\_tiktok\_catalog'); |
| [323](#L323) | $catalogCountry = array(); |
| [324](#L324) | $catalog\_business\_id = array(); |
| [325](#L325) | if (is\_array($catalogData) && !empty($catalogData)) { |
| [326](#L326) | foreach ($catalogData as $key => $value) { |
| [327](#L327) | $catalogCountry[$key] = $value->country; |
| [328](#L328) | $catalog\_business\_id[$key] = $value->catalog\_id; |
| [329](#L329) | } |
| [330](#L330) | } |
| [331](#L331) | //$connect\_url = $TVC\_Admin\_Helper->get\_custom\_connect\_url\_subpage(admin\_url() . 'admin.php?page=conversios-google-shopping-feed', "tiktokBusinessSettings"); |
| [332](#L332) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*Tiktok Auth start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [333](#L333) | $confirm\_url = "admin.php?page=conversios&wizard=productFeedOdd\_tiktoksetting"; |
| [334](#L334) | $state = ['confirm\_url' => admin\_url() . $confirm\_url, 'subscription\_id' => $subscriptionId]; |
| [335](#L335) | $tiktok\_auth\_url = "https://ads.tiktok.com/marketing\_api/auth?app\_id=7233778425326993409&redirect\_uri=https://laraveldev.tatvic.com/laravelapi/public/auth/tiktok/callback&rid=q6uerfg9osn&state=" . urlencode(wp\_json\_encode($state)); |
| [336](#L336) | ?> |
| [337](#L337) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conv\_tiktok\_logo.png'); ?>"> |
| [338](#L338) | <span class="span-text"><?php esc\_html\_e("TikTok Business Account", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [339](#L339) | <div class="mt-2"> |
| [340](#L340) | <span class="fs-12 fw-normal text-grey"> |
| [341](#L341) | <?php esc\_html\_e("Product feed to TikTok catalog help you to run ads on tiktok for your product and reach out to more than 900 Million people.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [342](#L342) | </span> |
| [343](#L343) | </div> |
| [344](#L344) | <div class="product-feed"> |
| [345](#L345) | <div class="card-body"> |
| [346](#L346) | <div class="progress-wholebox"> |
| [347](#L347) | <ul class="progress-steps"> |
| [348](#L348) | <li class="<?php echo ($tiktok\_mail && $tiktok\_user\_id) ? "" : "disable"; ?>" style="min-height:68px;"> |
| [349](#L349) | <div class="step-box"> |
| [350](#L350) | <div style="padding-top: 8px"> |
| [351](#L351) | <?php if ($tiktok\_mail === '' && $tiktok\_user\_id === '') { ?> |
| [352](#L352) | <a onclick='window.open("<?php echo esc\_url($tiktok\_auth\_url) ?>","MyWindow","width=800,height=700,left=300, top=150"); return false;' |
| [353](#L353) | href="#" class="signIn"> |
| [354](#L354) | <button class="btn btn-outline-dark" id=""><img style="width:19px" |
| [355](#L355) | src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conv\_tiktok\_logo.png'); ?>"> |
| [356](#L356) | &nbsp;Continue with TikTok</button> |
| [357](#L357) | </a> |
| [358](#L358) | <p class="mt-2" style="font-size: 10px;">Please login to the Email account linked to your TikTok Business account so that we can get you business accounts and catalogs and use Chrome for best experience.</p> |
| [359](#L359) |  |
| [360](#L360) | <?php } else { ?> |
| [361](#L361) | <span class="fs-14 fw-normal text-grey mb-1"> |
| [362](#L362) | <?php echo (esc\_html($tiktok\_mail) . ', <b>User Id: </b>' . esc\_html($tiktok\_user\_id) . ' '); ?> |
| [363](#L363) | </span> |
| [364](#L364) | <a onclick='window.open("<?php echo esc\_url($tiktok\_auth\_url) ?>","MyWindow","width=800,height=700,left=300, top=150"); return false;' |
| [365](#L365) | href="#" class="signIn">Change</a> |
| [366](#L366) | <?php } ?> |
| [367](#L367) | <input type="hidden" id="tiktok\_mail" value=<?php echo esc\_attr($tiktok\_mail) ?>> |
| [368](#L368) | <input type="hidden" id="tiktok\_user\_id" value=<?php echo esc\_attr($tiktok\_user\_id) ?>> |
| [369](#L369) | </div> |
| [370](#L370) | </div> |
| [371](#L371) | </li> |
| [372](#L372) | <li class="tiktok-step <?php echo ($tiktok\_business\_id) ? "" : "disable"; ?>" style="min-height:120px;"> |
| [373](#L373) | <div class="step-box"> |
| [374](#L374) | <span class="inner-text"><?php esc\_html\_e("TikTok Business Account ID", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [375](#L375) | <div class="row"> |
| [376](#L376) | <div class="col-6"> |
| [377](#L377) | <select id="tiktok\_business\_id" name="tiktok\_business\_id" |
| [378](#L378) | class="form-select selectthree" disabled style="width: 100%"> |
| [379](#L379) | <option value="">Select Tiktok Business Account Id</option> |
| [380](#L380) | </select> |
| [381](#L381) | </div> |
| [382](#L382) | <div class="col-4" style="padding-top: 10px;padding-left:0px"> |
| [383](#L383) | <?php if($tiktok\_user\_id) {?> |
| [384](#L384) | <span class="fs-14 text-primary pointer gettitokList"><span class="material-symbols-outlined md-18">edit</span>Edit</span> |
| [385](#L385) | <?php } ?> |
| [386](#L386) | </div> |
| [387](#L387) | <span class="fs-12 fw-normal text-grey"> |
| [388](#L388) | <?php esc\_html\_e("Choose your Tiktok Business account from the dropdown.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [389](#L389) | </span> |
| [390](#L390) | </div> |
| [391](#L391) | </div> |
| [392](#L392) | </li> |
| [393](#L393) | <li class="tiktok-catalog-step <?php echo (is\_array($catalogData) && !empty($catalogData)) ? "" : "disable"; ?>" style="min-height:68px;"> |
| [394](#L394) | <div class="step-box"> |
| [395](#L395) | <span class="inner-text"> |
| [396](#L396) | <?php esc\_html\_e(" Map Catalog For Target Country", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [397](#L397) | </span> |
| [398](#L398) | <div class="row pt-2"> |
| [399](#L399) | <div class="col-12"> |
| [400](#L400) | <table class="table table-bordered" id="map\_catalog\_table" style="width:100%"> |
| [401](#L401) | <thead> |
| [402](#L402) | <tr class=""> |
| [403](#L403) | <th scope="col" class="text-start "> |
| [404](#L404) | <?php esc\_html\_e("Target Country", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [405](#L405) | </th> |
| [406](#L406) | <th scope="col" class="text-start"> |
| [407](#L407) | <?php esc\_html\_e("Catalog Id", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [408](#L408) | </th> |
| [409](#L409) | </tr> |
| [410](#L410) | </thead> |
| [411](#L411) | <tbody id="table-body"> |
| [412](#L412) |  |
| [413](#L413) | </tbody> |
| [414](#L414) | </table> |
| [415](#L415) | </div> |
| [416](#L416) | </div> |
| [417](#L417) | </div> |
| [418](#L418) | </li> |
| [419](#L419) | </ul> |
| [420](#L420) | </div> |
| [421](#L421) | <button class="btn btn-primary fs-14 saveTiktok px-5 ms-3" disabled> |
| [422](#L422) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [423](#L423) | Save |
| [424](#L424) | </button> |
| [425](#L425) | </div> |
| [426](#L426) | </div> |
| [427](#L427) | <div id="fbSetting\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [428](#L428) | <div class="indeterminate"></div> |
| [429](#L429) | </div> |
| [430](#L430) | <div class="fbSetting\_hr border-top mb-3"></div> |
| [431](#L431) | <?php |
| [432](#L432) | $fb\_mail = isset($ee\_options['facebook\_setting']['fb\_mail']) ? $ee\_options['facebook\_setting']['fb\_mail'] : ''; |
| [433](#L433) |  |
| [434](#L434) | if (isset($\_GET['g\_mail']) == TRUE && isset($\_GET['wizard\_channel']) &&  $\_GET['wizard\_channel'] == 'fbsetting') { |
| [435](#L435) | $fb\_mail = sanitize\_email($\_GET['g\_mail']); |
| [436](#L436) | } |
| [437](#L437) | $store\_country = get\_option('woocommerce\_default\_country'); |
| [438](#L438) | $store\_country = explode(":",$store\_country); |
| [439](#L439) | if($store\_country[0]){ |
| [440](#L440) | $country = $store\_country[0]; |
| [441](#L441) | }else{ |
| [442](#L442) | $country = ''; |
| [443](#L443) | } |
| [444](#L444) | $woo\_currency = get\_option('woocommerce\_currency'); |
| [445](#L445) | $app\_id = 1; |
| [446](#L446) | $confirm\_fb\_url = "admin.php?page=conversios&wizard=productFeedOdd\_fbsetting"; |
| [447](#L447) | $signIn = (isset($ee\_options['facebook\_setting']['fb\_business\_id']) || $fb\_mail !== '') ? 'Change' : '<button class="btn conv-blue-bg text-white"><img style="width:24px" src="'. esc\_url\_raw(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/fb\_channel\_logo.png') .'" /> &nbsp;Sign In with Facebook</button>' ; |
| [448](#L448) | $businessId = ''; |
| [449](#L449) | $subId = esc\_html($subscriptionId); |
| [450](#L450) | $timezone = get\_option('timezone\_string'); |
| [451](#L451) | $facebook\_auth\_url = TVC\_API\_CALL\_URL\_TEMP . '/auth/facebook?domain='.esc\_url\_raw(get\_site\_url()).'&app\_id='.$app\_id.'&country='.$country.'&user\_currency='.$woo\_currency.'&subscription\_id='.$subId.'&confirm\_url='.admin\_url().$confirm\_fb\_url.'&timezone='.$timezone.'&scope=productFeed' ; |
| [452](#L452) |  |
| [453](#L453) | ?> |
| [454](#L454) | <img  src="<?php echo esc\_url\_raw(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conv\_fb\_logo.png'); ?>"> |
| [455](#L455) | <span class="span-text"><?php esc\_html\_e("Facebook Catalog", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [456](#L456) | <div class="mt-2"> |
| [457](#L457) | <span class="fs-12 fw-normal text-grey"> |
| [458](#L458) | <!-- <?php //esc\_html\_e("Facebook catalog feed management is in Beta currently. Reach out to info@conversios.io to get the free early access to the feature.", "enhanced-e-commerce-for-woocommerce-store"); ?> --> |
| [459](#L459) | </span> |
| [460](#L460) | </div> |
| [461](#L461) | <div class="product-feed"> |
| [462](#L462) | <div class="card-body"> |
| [463](#L463) | <div class="progress-wholebox"> |
| [464](#L464) | <ul class="progress-steps"> |
| [465](#L465) | <li class="<?php echo ($fb\_mail) ? "" : "disable"; ?>" style="min-height:68px;"> |
| [466](#L466) | <div class="step-box"> |
| [467](#L467) | <div style="padding-top: 3px"> |
| [468](#L468) | <span class="fs-14 fw-normal text-grey"> |
| [469](#L469) | <?php echo esc\_html($fb\_mail) ?> |
| [470](#L470) | <span class="conv-link-blue ps-2 facebookLogin" id="facebookLogin"> |
| [471](#L471) | <a onclick="window.open('<?php echo esc\_url($facebook\_auth\_url) ?>','MyWindow','width=800,height=700,left=300, top=150'); return false;" href="#" style="color:#1085F1"> |
| [472](#L472) | <?php echo $signIn; ?> |
| [473](#L473) | </a> |
| [474](#L474) | </span> |
| [475](#L475) | <input type="hidden" id="fb\_mail" value="<?php echo esc\_attr($fb\_mail) ?>" /> |
| [476](#L476) | </span> |
| [477](#L477) | </div> |
| [478](#L478) | </div> |
| [479](#L479) | </li> |
| [480](#L480) | <li class="fb-business-step <?php echo ($fb\_business\_id) ? "" : "disable"; ?>" style="min-height:120px;"> |
| [481](#L481) | <div class="step-box"> |
| [482](#L482) | <div class="row"> |
| [483](#L483) | <div class="col-5"> |
| [484](#L484) | <span class="inner-text"><?php esc\_html\_e("Facebook Business ID", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [485](#L485) | <div class="col-12"> |
| [486](#L486) | <select id="fb\_business\_id" name="fb\_business\_id" |
| [487](#L487) | class="form-select selectfour" disabled style="width: 100%"> |
| [488](#L488) | <option value="">Select Facebook Business Id</option> |
| [489](#L489) | </select> |
| [490](#L490) | </div> |
| [491](#L491) | </div> |
| [492](#L492) | <div class="col-5"> |
| [493](#L493) | <span class="inner-text"><?php esc\_html\_e("Facebook Catalog ID", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [494](#L494) | <div class="col-12"> |
| [495](#L495) | <select id="fb\_catalog\_id" name="fb\_catalog\_id" |
| [496](#L496) | class="form-select selectfive" disabled style="width: 100%"> |
| [497](#L497) | <option value="">Select Facebook Catalog</option> |
| [498](#L498) | </select> |
| [499](#L499) | </div> |
| [500](#L500) | </div> |
| [501](#L501) | <div class="col-2" style="padding-top: 35px;padding-left:0px"> |
| [502](#L502) | <?php if(esc\_html($fb\_business\_id)) {?> |
| [503](#L503) | <span class="fs-14 text-primary pointer getfbList"><span class="material-symbols-outlined md-18">edit</span>Edit</span> |
| [504](#L504) | <?php } ?> |
| [505](#L505) | </div> |
| [506](#L506) | </div> |
| [507](#L507) | <span class="fs-12 fw-normal text-grey"> |
| [508](#L508) | <?php esc\_html\_e("Choose your Facebook Business account and Facebook Catalog from the dropdown.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [509](#L509) | </span> |
| [510](#L510) | </div> |
| [511](#L511) | </li> |
| [512](#L512) | </ul> |
| [513](#L513) | </div> |
| [514](#L514) | <button class="btn btn-primary fs-14 saveFB px-5 ms-3" disabled> |
| [515](#L515) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [516](#L516) | Save |
| [517](#L517) | </button> |
| [518](#L518) | </div> |
| [519](#L519) | </div> |
| [520](#L520) | <div style="display: flex; justify-content: end"> |
| [521](#L521) | <button class="btn btn-channel-primary fs-14 channelTabSave">Next</button> |
| [522](#L522) | </div> |
| [523](#L523) |  |
| [524](#L524) | </div> |
| [525](#L525) | </div> |
| [526](#L526) | <div class="tab-pane fade" id="category" role="tabpanel" aria-labelledby="category-tab"> |
| [527](#L527) | <div id="category\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [528](#L528) | <div class="indeterminate"></div> |
| [529](#L529) | </div> |
| [530](#L530) | <div class="convcard p-4 mt-0 rounded-3 shadow-sm"> |
| [531](#L531) | <span class="span-text"><?php esc\_html\_e("Category Mapping for Products", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [532](#L532) | <div class="mt-2"> |
| [533](#L533) | <p class="fs-12 fw-normal text-grey"><?php esc\_html\_e("Correctly mapping your products to the appropriate category enhances their relevance to customers, potentially leading to improved conversion rates and boosted sales.", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [534](#L534) | <p class="fs-12 fw-normal text-grey"><?php esc\_html\_e("Map your Woocommerce product category against Conversios product category and we will make sure they are rightly synced in google merchant center and/or tiktok.", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [535](#L535) | </div> |
| [536](#L536) | <div class="categoryDiv"> |
| [537](#L537) | <div class="conv-light-grey-bg mb-2" > |
| [538](#L538) | <div class="row"> |
| [539](#L539) | <div class="col-6 pt-2"> |
| [540](#L540) | <span class="fs-14 fw-normal text-grey"> |
| [541](#L541) | <img |
| [542](#L542) | src="<?php echo esc\_url\_raw(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/woocommerce\_logo.png'); ?>" /> |
| [543](#L543) | <?php esc\_html\_e("WooCommerce Product Category", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [544](#L544) | </div> |
| [545](#L545) | <div class="col-6 pt-2 ps-0"> |
| [546](#L546) | <span class="ps-0 fs-14 fw-normal text-grey"> |
| [547](#L547) | <img |
| [548](#L548) | src="<?php echo esc\_url\_raw(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conversios\_logo.png'); ?>" /> |
| [549](#L549) | <?php esc\_html\_e("Conversios Product Category", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [550](#L550) | </div> |
| [551](#L551) | </div> |
| [552](#L552) | </div> |
| [553](#L553) | <div class="col-12 row bg-white m-0 p-0 mb-3"> |
| [554](#L554) | <div class="col-12 row categoryDiv" style="overflow-y: scroll;overflow-x: hidden; max-height:600px; position: relative;"> |
| [555](#L555) | <form id="category\_mapping"> |
| [556](#L556) | <?php echo $category\_wrapper\_obj->category\_table\_content(0, 0, 'mapping'); ?> |
| [557](#L557) | </form> |
| [558](#L558) | </div> |
| [559](#L559) | </div> |
| [560](#L560) | </div> |
| [561](#L561) | <div class="tab\_bottom\_buttons d-flex align-items-center mt-1"> |
| [562](#L562) | <div class="gobackwizard d-flex"> |
| [563](#L563) | <span class="material-symbols-outlined text-grey"> |
| [564](#L564) | keyboard\_backspace |
| [565](#L565) | </span> |
| [566](#L566) | <div class="align-self-baseline text-grey fs-14 goBackHome"> |
| [567](#L567) | <?php esc\_html\_e('Go Back', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [568](#L568) | </div> |
| [569](#L569) | </div> |
| [570](#L570) | <div class="ms-auto d-flex align-items-center"> |
| [571](#L571) | <div class="align-self-baseline text-grey fs-14 goToattribute ms-3 mt-1" style="border-bottom: 1px dashed; cursor: pointer"> |
| [572](#L572) | <?php esc\_html\_e('Skip To Next', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [573](#L573) | </div> |
| [574](#L574) | <button id="category\_mapping\_save" type="button" class="category\_mapping\_save btn btn-primary px-5 ms-3 fs-14"> |
| [575](#L575) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [576](#L576) | <?php esc\_html\_e('Save & Next', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [577](#L577) | </button> |
| [578](#L578) | </div> |
| [579](#L579) | </div> |
| [580](#L580) | </div> |
| [581](#L581) | </div> |
| [582](#L582) | <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab"> |
| [583](#L583) | <div id="attribute\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [584](#L584) | <div class="indeterminate"></div> |
| [585](#L585) | </div> |
| [586](#L586) | <div class="convcard p-4 mt-0 rounded-3 shadow-sm"> |
| [587](#L587) | <span class="span-text"><?php esc\_html\_e("Attribute Mapping for Products", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [588](#L588) | <div class="mt-2"> |
| [589](#L589) | <p class="fs-12 fw-normal text-grey"><?php esc\_html\_e("Correctly mapping your products to the appropriate attributes enhances their relevance to customers, potentially leading to improved conversion rates and boosted sales.", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [590](#L590) | <p class="fs-12 fw-normal text-grey"><?php esc\_html\_e("Map your Woocommerce product attributes against Conversios product attributes and we will make sure they are rightly synced in google merchant center, Facebook and/or tiktok.", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [591](#L591) | </div> |
| [592](#L592) | <div class="attrDiv"> |
| [593](#L593) | <div class="conv-light-grey-bg mb-2 attributeMappingDiv" > |
| [594](#L594) | <div class="row"> |
| [595](#L595) | <div class="col-6 pt-2"> |
| [596](#L596) | <span class="ps-2 fs-14 fw-normal text-grey"> |
| [597](#L597) | <img |
| [598](#L598) | src="<?php echo esc\_url\_raw(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conversios\_logo.png'); ?>" /> |
| [599](#L599) | <?php esc\_html\_e("Conversios Product Attribute", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [600](#L600) | </div> |
| [601](#L601) | <div class="col-6 pt-2 ps-0"> |
| [602](#L602) | <span class="ps-0 fs-14 fw-normal text-grey"> |
| [603](#L603) | <img |
| [604](#L604) | src="<?php echo esc\_url\_raw(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/woocommerce\_logo.png'); ?>" /> |
| [605](#L605) | <?php esc\_html\_e("WooCommerce Product Attribute", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [606](#L606) | </div> |
| [607](#L607) | </div> |
| [608](#L608) | </div> |
| [609](#L609) | <div class="col-12 row bg-white m-0 p-0 mb-3"> |
| [610](#L610) | <div class="col-12  attributeDiv" style="overflow-y: scroll;overflow-x: hidden; max-height:600px; position: relative;"> |
| [611](#L611) | <form id="attribute\_mapping" class="row"> |
| [612](#L612) | </form> |
| [613](#L613) | </div> |
| [614](#L614) | </div> |
| [615](#L615) | </div> |
| [616](#L616) | <div class="tab\_bottom\_buttons d-flex align-items-center mt-1"> |
| [617](#L617) | <div class="gobackwizard d-flex"> |
| [618](#L618) | <span class="material-symbols-outlined text-grey"> |
| [619](#L619) | keyboard\_backspace |
| [620](#L620) | </span> |
| [621](#L621) | <div class="align-self-baseline text-grey fs-14 goToCategory"> |
| [622](#L622) | <?php esc\_html\_e('Go Back', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [623](#L623) | </div> |
| [624](#L624) | </div> |
| [625](#L625) | <div class="ms-auto d-flex align-items-center"> |
| [626](#L626) | <div class="align-self-baseline text-grey fs-14 goToFeed ms-3 mt-1" style="border-bottom: 1px dashed; cursor: pointer"> |
| [627](#L627) | <?php esc\_html\_e('Skip To Next', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [628](#L628) | </div> |
| [629](#L629) | <button id="attr\_mapping\_save" type="button" class="attr\_mapping\_save btn btn-primary px-5 ms-3 fs-14"> |
| [630](#L630) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [631](#L631) | <?php esc\_html\_e('Save & Next', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [632](#L632) | </button> |
| [633](#L633) | </div> |
| [634](#L634) | </div> |
| [635](#L635) | </div> |
| [636](#L636) | </div> |
| [637](#L637) | <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab"> |
| [638](#L638) | <div id="createFeed\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [639](#L639) | <div class="indeterminate"></div> |
| [640](#L640) | </div> |
| [641](#L641) | <div class="convcard p-4 mt-0 rounded-3 shadow-sm"> |
| [642](#L642) | <span class="span-text"><?php esc\_html\_e("Create Product Feed", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [643](#L643) | <div class="mt-3 col-6"> |
| [644](#L644) | <span for="feed\_name" class="inner-text"> |
| [645](#L645) | <?php esc\_html\_e("Feed Name", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [646](#L646) | </span> |
| [647](#L647) | <span class="material-symbols-outlined fs-6 text-grey pointer " data-bs-toggle="tooltip" data-bs-placement="right" |
| [648](#L648) | title="Add a name to your feed for your reference, for example, 'April end-of-season sales' or 'Black Friday sales for the USA'."> |
| [649](#L649) | info |
| [650](#L650) | </span> |
| [651](#L651) | <input type="text" class="form-control fs-14" name="feedName" id="feedName" |
| [652](#L652) | placeholder="e.g. New Summer Collection"> |
| [653](#L653) | </div> |
| [654](#L654) | <div class="mt-3 col-6"> |
| [655](#L655) | <span for="" class="inner-text"> |
| [656](#L656) | <?php esc\_html\_e("Target Country", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [657](#L657) | </span> |
| [658](#L658) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" |
| [659](#L659) | title="Specify the target country for your product feed. Select the country where you intend to promote and sell your products."> |
| [660](#L660) | info |
| [661](#L661) | </span> |
| [662](#L662) | <select class="form-select form-select-sm mb-3" aria-label="form-select-sm example" |
| [663](#L663) | style="width: 100%" name="feed\_target\_country" id="feed\_target\_country"> |
| [664](#L664) | <option value="">Select Country</option> |
| [665](#L665) | <?php |
| [666](#L666) | $selecetdCountry = $tvc\_data['user\_country']; |
| [667](#L667) | foreach ($contData as $key => $value) { |
| [668](#L668) | ?> |
| [669](#L669) | <option value="<?php echo esc\_attr($value->code) ?>" <?php echo $selecetdCountry === $value->code ? 'selected = "selecetd"' : '' ?>><?php echo esc\_html($value->name) ?></option>" |
| [670](#L670) | <?php |
| [671](#L671) | } |
| [672](#L672) |  |
| [673](#L673) | ?> |
| [674](#L674) | </select> |
| [675](#L675) | </div> |
| [676](#L676) | <div class="mt-3 col-12"> |
| [677](#L677) | <span for="" class="inner-text"> |
| [678](#L678) | <?php esc\_html\_e("Select Channels", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [679](#L679) | </span> |
| [680](#L680) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" |
| [681](#L681) | title="Below is the list of channels that you have linked for product feed. Please note you will not be able to make any changes in the selected channels once product feed process is done."> |
| [682](#L682) | info |
| [683](#L683) | </span> |
| [684](#L684) | <div class=""> |
| [685](#L685) | <div class="form-check form-check-custom"> |
| [686](#L686) | <input class="form-check-input check-height fs-14 errorChannel" type="checkbox" |
| [687](#L687) | value="" id="gmc\_id" |
| [688](#L688) | name="gmc\_id" > |
| [689](#L689) | <span for="" class="fs-14 pt-0 text-grey fw-normal"> |
| [690](#L690) | <?php esc\_html\_e("Google Merchant Center Account :", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [691](#L691) | </span> |
| [692](#L692) | <label class="fs-14 pt-0 fw-normal text-grey google\_merchant\_center\_id"> |
| [693](#L693) |  |
| [694](#L694) | </label> |
| [695](#L695) | </div> |
| [696](#L696) | </div> |
| [697](#L697) | <div class=""> |
| [698](#L698) | <div class="form-check form-check-custom"> |
| [699](#L699) | <input class="form-check-input check-height fs-14 errorChannel" type="checkbox" |
| [700](#L700) | value="" id="tiktok\_id" |
| [701](#L701) | name="tiktok\_id" > |
| [702](#L702) | <span for="" class="fs-14 pt-0 text-grey fw-normal"> |
| [703](#L703) | <?php esc\_html\_e("TikTok Catalog Id :", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [704](#L704) | </span> |
| [705](#L705) | <label class="fs-14 pt-0 fw-normal text-grey tiktok\_catalog\_id"> |
| [706](#L706) |  |
| [707](#L707) | </label> |
| [708](#L708) | </div> |
| [709](#L709) | </div> |
| [710](#L710) | <div class=""> |
| [711](#L711) | <div class="form-check form-check-custom"> |
| [712](#L712) | <input class="form-check-input check-height fs-14 errorChannel" type="checkbox" |
| [713](#L713) | value="" id="fb\_id" |
| [714](#L714) | name="fb\_id" > |
| [715](#L715) | <span for="" class="fs-14 pt-0 text-grey fw-normal"> |
| [716](#L716) | <?php esc\_html\_e("Facebook Catalog Id :", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [717](#L717) | </span> |
| [718](#L718) | <label class="fs-14 pt-0 fw-normal text-grey fb\_id"> |
| [719](#L719) |  |
| [720](#L720) | </label> |
| [721](#L721) | </div> |
| [722](#L722) | </div> |
| [723](#L723) | </div> |
| [724](#L724) | <div class="row mt-3"> |
| [725](#L725) | <div class="col-4 row"> |
| [726](#L726) | <div class="col-6 pe-0"> |
| [727](#L727) | <span for="auto\_sync" class="inner-text pe-0">Auto Sync</span> |
| [728](#L728) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" |
| [729](#L729) | data-bs-placement="right" |
| [730](#L730) | title="Turn on this feature to schedule an automated product feed to keep your products up to date with the changes made in the products. You can come and change this any time."> |
| [731](#L731) | info |
| [732](#L732) | </span> |
| [733](#L733) | </div> |
| [734](#L734) | <div class="col-4 ps-0" style="cursor:none"> |
| [735](#L735) | <div class="form-check form-switch fs-5"> |
| [736](#L736) | <input class="form-check-input" type="checkbox" name="autoSync" id="autoSync" checked> |
| [737](#L737) | </div> |
| [738](#L738) | </div> |
| [739](#L739) | </div> |
| [740](#L740) | <div class="col-6"> |
| [741](#L741) | <span class="inner-text pe-2">Auto Sync Interval</span> |
| [742](#L742) | <input type="text" class="form-control-sm" readonly name="autoSyncIntvl" id="autoSyncIntvl" size="3" min="1" value="25" style="width: 42px" |
| [743](#L743) | onkeypress="return ( event.charCode === 8 || event.charCode === 0 || event.charCode === 13 || event.charCode === 96) ? null : event.charCode >= 48 && event.charCode <= 57"> |
| [744](#L744) | <span class="fs-14 fw-normal text-grey ps-2">Days</span> |
| [745](#L745) | <span class="conv-link-blue ms-2 fw-bold-500 upgradetopro\_badge fs-16" data-bs-toggle="modal" data-bs-target="#upgradetopromodal"> |
| [746](#L746) | <img style="width:14px; max-width:100%; height:auto" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/upgrade\_badge.png'); ?>" /> |
| [747](#L747) | <?php esc\_html\_e("Available In Pro", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [748](#L748) | </span> |
| [749](#L749) | </div> |
| [750](#L750) | </div> |
| [751](#L751) | <div class="mt-3"> |
| [752](#L752) | <span for="auto\_sync" class="inner-text">Product Selection</span> |
| [753](#L753) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" |
| [754](#L754) | data-bs-placement="right" |
| [755](#L755) | title="Select your woocommerce product to sync in channels."> |
| [756](#L756) | info |
| [757](#L757) | </span> |
| [758](#L758) | <div class="mt-1"> |
| [759](#L759) | <input type="radio" checked name="product\_selection" id="all\_product" value="all\_product"> |
| [760](#L760) | <label class="form-check-label ps-2 fs-14 fw-normal text-grey" for="all\_product"> |
| [761](#L761) | <?php esc\_html\_e("Select All Products", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [762](#L762) | </label> |
| [763](#L763) | <div class="totalCountDiv"><span class="text-grey fs-12"><span class="totalCount"></span> products are ready to sync</span></div> |
| [764](#L764) | </div> |
| [765](#L765) | <div class="mt-2"> |
| [766](#L766) | <input type="radio" name="product\_selection" id="filter\_product" value="filter\_product"> |
| [767](#L767) | <label class="form-check-label ps-2 fs-14 fw-normal text-grey" for="filter\_product"> |
| [768](#L768) | <?php esc\_html\_e("Filter Products", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [769](#L769) | </label> |
| [770](#L770) | </div> |
| [771](#L771) | <div class="col-12 mt-2 d-none AllFilters"> |
| [772](#L772) | <div class="row"> |
| [773](#L773) | <div class="col-3 productDiv"> |
| [774](#L774) | <select class="product createSelect" name="product" style="width: 100%"> |
| [775](#L775) | <option value="0"><?php esc\_html\_e("Select Attribute", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [776](#L776) | <option value="product\_cat"><?php esc\_html\_e("Category", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [777](#L777) | <option value="ID"><?php esc\_html\_e("Product Id", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [778](#L778) | <option value="\_stock\_status"><?php esc\_html\_e("Stock Status", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [779](#L779) | </select> |
| [780](#L780) | </div> |
| [781](#L781) | <div class="col-3 conditionDiv" > |
| [782](#L782) | <select class="condition createSelect" name="condition" style="width: 100%"> |
| [783](#L783) | <option value="0"><?php esc\_html\_e("Select Conditions", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [784](#L784) | </select> |
| [785](#L785) | </div> |
| [786](#L786) | <div class="col-3 textValue"> |
| [787](#L787) | <input type="text" class="form-control from-control-overload value" placeholder="Add value" name="value"> |
| [788](#L788) | </div> |
| [789](#L789) | <div class="col-3 mt-1"> |
| [790](#L790) | <span class="text-primary fs-14 applyFilter pointer">Apply Filter</span> |
| [791](#L791) | </div> |
| [792](#L792) | </div> |
| [793](#L793) | <div class="filterCard"> |
| [794](#L794) |  |
| [795](#L795) | </div> |
| [796](#L796) | <div class="totalCountDivFilter d-none"><span class="text-grey fs-12"><span class="totalCountFilter"></span> products are ready to sync</span></div> |
| [797](#L797) | <input type="hidden" id="productVal" value=""> |
| [798](#L798) | <input type="hidden" id="conditionVal" value=""> |
| [799](#L799) | <input type="hidden" id="valueVal" value=""> |
| [800](#L800) | <input type="hidden" name="syncProductCount" id="syncProductCount" value="<?php echo esc\_attr($google\_detail\_api->data->product\_count) ?>"> |
| [801](#L801) | </div> |
| [802](#L802) |  |
| [803](#L803) | <div class="mt-2"> |
| [804](#L804) | <input type="radio" name="product\_selection" id="specific\_product" value="specific\_product"> |
| [805](#L805) | <label class="form-check-label ps-2 fs-14 fw-normal text-grey" for=""> |
| [806](#L806) | <?php esc\_html\_e("Select Specific Products", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [807](#L807) | </label> |
| [808](#L808) | </div> |
| [809](#L809) | </div> |
| [810](#L810) | <div class="tab\_bottom\_buttons d-flex align-items-center border-top mt-1"> |
| [811](#L811) | <div class="gobackwizard d-flex mt-2"> |
| [812](#L812) | <span class="material-symbols-outlined text-grey"> |
| [813](#L813) | keyboard\_backspace |
| [814](#L814) | </span> |
| [815](#L815) | <div class="align-self-baseline text-grey fs-14 goBackAttr"> |
| [816](#L816) | <?php esc\_html\_e('Go Back', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [817](#L817) | </div> |
| [818](#L818) | </div> |
| [819](#L819) | <div class="ms-auto d-flex align-items-center mt-2"> |
| [820](#L820) | <button id="createFeed" type="button" class="btn btn-primary px-5 ms-3 fs-14"> |
| [821](#L821) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [822](#L822) | <?php esc\_html\_e('Create', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [823](#L823) | </button> |
| [824](#L824) | </div> |
| [825](#L825) | </div> |
| [826](#L826) | </div> |
| [827](#L827) | </div> |
| [828](#L828) | </div> |
| [829](#L829) | </div> |
| [830](#L830) | </div> |
| [831](#L831) | </div> |
| [832](#L832) |  |
| [833](#L833) | <div id="overlayanimation" class="overlay\_loader\_conv"> |
| [834](#L834) | <div class="overlay\_loader\_conv-content loaderopen-content d-none"> |
| [835](#L835) | <div class="spinner-border text-success" role="status"> |
| [836](#L836) | <span class="visually-hidden">Loading...</span> |
| [837](#L837) | </div> |
| [838](#L838) | </div> |
| [839](#L839) | <div class="overlay\_loader\_conv-content loadershow-content d-none"> |
| [840](#L840) | <img style="width:8%; height: auto" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/success\_check\_mark.gif'); ?>"> |
| [841](#L841) | <div class="overlaycontentbox"></div> |
| [842](#L842) | </div> |
| [843](#L843) | </div> |
| [844](#L844) | <!-- All Modals Here ---> |
| [845](#L845) |  |
| [846](#L846) |  |
| [847](#L847) | <div class="modal fade" id="conv\_modal\_popup" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" |
| [848](#L848) | aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [849](#L849) | <div class="modal-dialog modal-dialog-centered"> |
| [850](#L850) | <div class="modal-content"> |
| [851](#L851) | <div class="modal-body text-center p-2 pt-4"> |
| [852](#L852) | <span class="material-symbols-outlined modal\_popup\_logo" style="font-size: 60px;"> |
| [853](#L853) | check\_circle |
| [854](#L854) | </span> |
| [855](#L855) | <h3 class="fw-normal pt-3 conv\_popup\_txt"></h3> |
| [856](#L856) | <span id="conv\_popup\_txt\_msg" class="mb-1 lh-lg"></span> |
| [857](#L857) | </div> |
| [858](#L858) | <div class="modal-footer border-0 pb-4 mb-1"> |
| [859](#L859) | <button class="btn btn-primary m-auto text-white" data-bs-dismiss="modal">Ok, Done</button> |
| [860](#L860) | </div> |
| [861](#L861) | </div> |
| [862](#L862) | </div> |
| [863](#L863) | </div> |
| [864](#L864) | <div class="modal fade" id="conv\_modal\_create\_popup" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" |
| [865](#L865) | aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [866](#L866) | <div class="modal-dialog modal-dialog-centered"> |
| [867](#L867) | <div class="modal-content"> |
| [868](#L868) | <div class="modal-body text-center p-2 pt-4"> |
| [869](#L869) | <span class="material-symbols-outlined modal\_create\_popup\_logo text-success" style="font-size: 60px;"> |
| [870](#L870) | check\_circle |
| [871](#L871) | </span> |
| [872](#L872) | <h3 class="fw-normal pt-3 conv\_create\_popup\_txt"> Congratulation</h3> |
| [873](#L873) | <span id="conv\_create\_popup\_txt\_msg" class="mb-1 lh-lg"></span> |
| [874](#L874) | </div> |
| [875](#L875) | <div class="modal-footer border-0 pb-4 mb-1"> |
| [876](#L876) | <a href="<?php echo esc\_url($dashboard\_url) . '&returnFrom=productFeed'?>" class="btn btn-primary m-auto text-white">Take me to Dashboard</a> |
| [877](#L877) | </div> |
| [878](#L878) | </div> |
| [879](#L879) | </div> |
| [880](#L880) | </div> |
| [881](#L881) | <!-- Exit Wizard modal --> |
| [882](#L882) | <div class="modal fade" id="exitwizardconvmodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [883](#L883) | <div class="modal-dialog modal-dialog-centered"> |
| [884](#L884) | <div class="modal-content"> |
| [885](#L885) | <div class="modal-body"> |
| [886](#L886) | <p class="m-4 text-center h5"><?php esc\_html\_e("Are you sure you want to exit the setup?", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [887](#L887) | </div> |
| [888](#L888) | <div class="modal-footer"> |
| [889](#L889) | <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal"> |
| [890](#L890) | <?php esc\_html\_e("Continue Setup", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [891](#L891) | </button> |
| [892](#L892) | <a href="<?php echo esc\_url('admin.php?page=conversios&returnFrom=productFeed'); ?>" class="btn btn-primary"> |
| [893](#L893) | <?php esc\_html\_e("Exit Wizard", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [894](#L894) | </a> |
| [895](#L895) | </div> |
| [896](#L896) | </div> |
| [897](#L897) | </div> |
| [898](#L898) | </div> |
| [899](#L899) | <!-- Exit wizard modal End --> |
| [900](#L900) | <!-- Upgrade to PRO modal --> |
| [901](#L901) | <!-- Modal --> |
| [902](#L902) | <div class="modal fade" id="upgradetopromodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [903](#L903) | <div class="modal-dialog modal-dialog-centered modal-lg"> |
| [904](#L904) | <div class="modal-content"> |
| [905](#L905) |  |
| [906](#L906) | <div class="modal-body p-4 pb-0"> |
| [907](#L907) | <div class="container-fluid"> |
| [908](#L908) | <div class="row"> |
| [909](#L909) | <div class="col-12"> |
| [910](#L910) | <h3 class="fw-bold text-uppercase pt-0 d-flex"><img style="height:29px;max-width:100%;margin-right: 10px;" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/upgrade\_badge\_big.png'); ?>" /> |
| [911](#L911) | <?php esc\_html\_e("Upgrade to Pro now and enjoy exclusive benefits:", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [912](#L912) | </h3> |
| [913](#L913) | <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> |
| [914](#L914) | <ul class="conv-upgrade-banner-list ps-4 pt-4"> |
| [915](#L915) | <li>Take advantage of <span>Google Consent Mode V2</span> for enhanced tracking across all platforms.</li> |
| [916](#L916) | <li>Use your <span>own GTM container</span> with automated tag triggers.</li> |
| [917](#L917) | <li>Optimize <span>Google Ads conversion tracking</span> for Add To Cart and Begin Checkout.</li> |
| [918](#L918) | <li>Enable <span>Dynamic Remarketing</span> Tags for View\_item, Add\_to\_cart, Begin\_checkout, Purchase.</li> |
| [919](#L919) | <li>Integrate seamlessly with <span>FBCAPI, Snapchat CAPI, and TikTok Events API</span>.</li> |
| [920](#L920) | <li>Access detailed <span>GA4 e-commerce reporting</span>.</li> |
| [921](#L921) | <li>Maximize results with <span>Google Ads conversion reporting</span>.</li> |
| [922](#L922) | <li>Expand your reach with <span>unlimited product feed</span> for Google Merchant Center, FB Catalogue, and TikTok.</li> |
| [923](#L923) | <li>Experience dedicated <span>customer support</span>.</li> |
| [924](#L924) | <li>Implement <span>server-side tagging</span> for enhanced performance.</li> |
| [925](#L925) | </ul> |
| [926](#L926) | </div> |
| [927](#L927) | </div> |
| [928](#L928) | </div> |
| [929](#L929) |  |
| [930](#L930) |  |
| [931](#L931) | </div> |
| [932](#L932) | <div class="modal-footer border-0 pb-4 mb-1 pt-4"> |
| [933](#L933) | <a id="upgradetopro\_modal\_link" class="btn conv-yellow-bg m-auto w-100 mx-4 p-2" href="https://www.conversios.io/wordpress/all-in-one-google-analytics-pixels-and-product-feed-manager-for-woocommerce-pricing/?utm\_source=in\_app&utm\_medium=modal\_popup&utm\_campaign=upgrade" target="\_blank"> |
| [934](#L934) | <?php esc\_html\_e("Upgrade Now", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [935](#L935) | </a> |
| [936](#L936) | </div> |
| [937](#L937) |  |
| [938](#L938) | </div> |
| [939](#L939) | </div> |
| [940](#L940) | </div> |
| [941](#L941) | <!-- Upgrade to PRO modal End --> |
| [942](#L942) | <div class="modal fade" id="conv\_save\_error\_modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" |
| [943](#L943) | aria-labelledby="staticBackdropLabel" aria-hidden="true" style="z-index:9999"> |
| [944](#L944) | <div class="modal-dialog modal-dialog-centered"> |
| [945](#L945) | <div class="modal-content"> |
| [946](#L946) | <div class="modal-header border-0 pb-0"> |
| [947](#L947) | <h5 class="modal-title"></h5> |
| [948](#L948) | <button type="button" class="close btn" data-bs-dismiss="modal" aria-label="Close"> |
| [949](#L949) | <span aria-hidden="true" >&times;</span> |
| [950](#L950) | </button> |
| [951](#L951) | </div> |
| [952](#L952) | <div class="modal-body text-center p-0"> |
| [953](#L953) | <img style="width:184px;height:auto" |
| [954](#L954) | src="<?php echo esc\_url\_raw(ENHANCAD\_PLUGIN\_URL.'/admin/images/logos/error\_logo.png'); ?>"> |
| [955](#L955) | <h3 class="fw-normal pt-3 errorText">Error</h3> |
| [956](#L956) | <span id="conv\_save\_error\_txt" class="mb-1 lh-lg"></span> |
| [957](#L957) | </div> |
| [958](#L958) | <div class="modal-footer border-0 pb-4 mb-1 errorFooter"> |
| [959](#L959) |  |
| [960](#L960) | </div> |
| [961](#L961) | </div> |
| [962](#L962) | </div> |
| [963](#L963) | </div> |
| [964](#L964) | <!-- End ---------------> |
| [965](#L965) | <?php |
| [966](#L966) | $filesystem = new WP\_Filesystem\_Direct( true ); |
| [967](#L967) | $str = $filesystem->get\_contents(ENHANCAD\_PLUGIN\_DIR . 'includes/setup/json/category.json'); |
| [968](#L968) | $str = json\_decode($str);; |
| [969](#L969) | ?> |
| [970](#L970) | <script> |
| [971](#L971) | var cat\_json = <?php echo wp\_json\_encode($str) ?>; |
| [972](#L972) | var selected = Array(); |
| [973](#L973) | var cnt = ''; |
| [974](#L974) | jQuery(function () { |
| [975](#L975) | checkProgressBar() |
| [976](#L976) | jQuery('.selecttwo').select2(); |
| [977](#L977) | jQuery('.selectthree').select2(); |
| [978](#L978) | jQuery('.selectfour').select2(); |
| [979](#L979) | jQuery('.selectfive').select2(); |
| [980](#L980) |  |
| [981](#L981) | var tempArr = <?php echo wp\_json\_encode($tempAddAttr) ?> |
| [982](#L982) | var arr = Object.keys(tempArr).map(function (key) { return key; }); |
| [983](#L983) | selected = arr; |
| [984](#L984) | var tiktok\_user\_id = "<?php echo esc\_attr($tiktok\_user\_id) ?>"; |
| [985](#L985) | var fb\_business\_id = "<?php echo esc\_attr($fb\_business\_id) ?>"; |
| [986](#L986) | var tvc\_data = "<?php echo esc\_js(wp\_json\_encode($tvc\_data)); ?>"; |
| [987](#L987) | <?php if(isset($\_GET['g\_mail']) && isset($\_GET['wizard\_channel']) && $\_GET['wizard\_channel'] == 'gmcsetting') { ?> |
| [988](#L988) | jQuery('.getGMCList').addClass('d-none') |
| [989](#L989) | list\_google\_merchant\_account(tvc\_data); |
| [990](#L990) | jQuery('.saveGMC').prop('disabled', false) |
| [991](#L991) | jQuery('html, body').animate({ |
| [992](#L992) | scrollTop: jQuery("#gmcSetting\_loader").offset().top |
| [993](#L993) | }, 0); |
| [994](#L994) | <?php } |
| [995](#L995) | if (isset($\_GET['tiktok\_mail']) == TRUE) { ?> |
| [996](#L996) | jQuery('.gettitokList').addClass('d-none') |
| [997](#L997) | jQuery('#tiktok\_business\_id').prop('disabled', false) |
| [998](#L998) | list\_tiktok\_business\_account(); |
| [999](#L999) | jQuery('.saveTiktok').prop('disabled', false) |
| [1000](#L1000) | jQuery('html, body').animate({ |
| [1001](#L1001) | scrollTop: jQuery("#tiktokSetting\_loader").offset().top |
| [1002](#L1002) | }, 0); |
| [1003](#L1003) | <?php } |
| [1004](#L1004) | if (isset($\_GET['g\_mail']) == TRUE && isset($\_GET['wizard\_channel']) &&  $\_GET['wizard\_channel'] == 'fbsetting') { ?> |
| [1005](#L1005) | get\_facebook\_bussiness() |
| [1006](#L1006) | jQuery('#fb\_business\_id').prop('disabled', false) |
| [1007](#L1007) | jQuery('#fb\_catalog\_id').prop('disabled', false) |
| [1008](#L1008) | jQuery('.getfbList').addClass('d-none') |
| [1009](#L1009) | jQuery('.saveFB').prop('disabled', false) |
| [1010](#L1010) | jQuery('html, body').animate({ |
| [1011](#L1011) | scrollTop: jQuery("#fbSetting\_loader").offset().top |
| [1012](#L1012) | }, 0); |
| [1013](#L1013) | <?php } |
| [1014](#L1014) | ?> |
| [1015](#L1015) | if(tiktok\_user\_id !== '') { |
| [1016](#L1016) | list\_tiktok\_business\_account(); |
| [1017](#L1017) | } |
| [1018](#L1018) | if(fb\_business\_id !== '') { |
| [1019](#L1019) | get\_facebook\_bussiness(); |
| [1020](#L1020) | } |
| [1021](#L1021) | <?php if(isset($\_GET['wizard\_channel']) == false){ ?> |
| [1022](#L1022) | get\_facebook\_bussiness() |
| [1023](#L1023) | <?php  } ?> |
| [1024](#L1024) |  |
| [1025](#L1025) |  |
| [1026](#L1026) | jQuery(document).on('click', '#home-tab', function() { |
| [1027](#L1027) | if(jQuery("select").hasClass('catalogId')){ |
| [1028](#L1028) | if(jQuery('.catalogId').data('select2')) { |
| [1029](#L1029) | jQuery(".catalogId").select2('destroy') |
| [1030](#L1030) | } |
| [1031](#L1031) | } |
| [1032](#L1032) | if(jQuery('.createSelect').data('select2')) { |
| [1033](#L1033) | jQuery('.createSelect').select2('destroy'); |
| [1034](#L1034) | jQuery('#feed\_target\_country').select2('destroy'); |
| [1035](#L1035) | } |
| [1036](#L1036) | if(jQuery("select").hasClass('category\_mapping\_select')){ |
| [1037](#L1037) | if(jQuery('.category\_mapping\_select').data('select2')) { |
| [1038](#L1038) | jQuery(".category\_mapping\_select").select2('destroy') |
| [1039](#L1039) | } |
| [1040](#L1040) | } |
| [1041](#L1041) | jQuery('.selecttwo').select2(); |
| [1042](#L1042) | jQuery('.selectthree').select2(); |
| [1043](#L1043) | jQuery('.selectfour').select2(); |
| [1044](#L1044) | jQuery('.selectfive').select2(); |
| [1045](#L1045) | if(jQuery("select").hasClass('catalogId')){ |
| [1046](#L1046) | jQuery(".catalogId").select2({ dropdownCssClass: "fs-12" }) |
| [1047](#L1047) | } |
| [1048](#L1048) | }) |
| [1049](#L1049) | jQuery(document).on('click', '.getGMCList', function() { |
| [1050](#L1050) | jQuery('.getGMCList').addClass('d-none') |
| [1051](#L1051) | list\_google\_merchant\_account(tvc\_data); |
| [1052](#L1052) | jQuery('.saveGMC').prop('disabled', false) |
| [1053](#L1053) | }) |
| [1054](#L1054) | jQuery(document).on('click', '.gettitokList', function() { |
| [1055](#L1055) | jQuery('.gettitokList').addClass('d-none') |
| [1056](#L1056) | jQuery('#tiktok\_business\_id').prop('disabled', false) |
| [1057](#L1057) | list\_tiktok\_business\_account(); |
| [1058](#L1058) | jQuery('.saveTiktok').prop('disabled', false) |
| [1059](#L1059) | }) |
| [1060](#L1060) | jQuery(document).on('click', '.getfbList', function() { |
| [1061](#L1061) | jQuery('.getfbList').addClass('d-none') |
| [1062](#L1062) | jQuery('#fb\_business\_id').prop('disabled', false) |
| [1063](#L1063) | jQuery('#fb\_catalog\_id').prop('disabled', false) |
| [1064](#L1064) | get\_facebook\_bussiness(); |
| [1065](#L1065) | jQuery('.saveFB').prop('disabled', false) |
| [1066](#L1066) | }) |
| [1067](#L1067) | jQuery(document).on('change', '.catalogId', function() { |
| [1068](#L1068) | jQuery('.saveTiktok').prop('disabled', false) |
| [1069](#L1069) | }) |
| [1070](#L1070) | jQuery(document).on('click', '.goBackAttr', function() { |
| [1071](#L1071) | jQuery('[data-bs-target="#profile"]').trigger('click') |
| [1072](#L1072) | jQuery('html, body').animate({ |
| [1073](#L1073) | scrollTop: jQuery("#attribute\_loader").offset().top |
| [1074](#L1074) | }, 0); |
| [1075](#L1075) | }) |
| [1076](#L1076) | jQuery(document).on('click', '.goBackHome', function() { |
| [1077](#L1077) | list\_tiktok\_business\_account(); |
| [1078](#L1078) | get\_facebook\_bussiness() |
| [1079](#L1079) | jQuery('[data-bs-target="#home"]').trigger('click') |
| [1080](#L1080) | jQuery('html, body').animate({ |
| [1081](#L1081) | scrollTop: jQuery("#gmcSetting\_loader").offset().top |
| [1082](#L1082) | }, 0); |
| [1083](#L1083) | }) |
| [1084](#L1084) | jQuery(document).on('click', '.goToFeed', function() { |
| [1085](#L1085) | jQuery('[data-bs-target="#contact"]').trigger('click') |
| [1086](#L1086) | }) |
| [1087](#L1087) | jQuery(document).on('click', '.goToattribute', function() { |
| [1088](#L1088) | jQuery('[data-bs-target="#profile"]').trigger('click') |
| [1089](#L1089) | jQuery('html, body').animate({ |
| [1090](#L1090) | scrollTop: jQuery("#attribute\_loader").offset().top |
| [1091](#L1091) | }, 0); |
| [1092](#L1092) | }) |
| [1093](#L1093) | jQuery(document).on('click', '.goToCategory', function() { |
| [1094](#L1094) | if(jQuery('.selecttwo').data('select2')) { |
| [1095](#L1095) | jQuery('.selecttwo').select2('destroy'); |
| [1096](#L1096) | jQuery('.selectthree').select2('destroy'); |
| [1097](#L1097) | jQuery('.selectfour').select2('destroy'); |
| [1098](#L1098) | jQuery('.selectfive').select2('destroy'); |
| [1099](#L1099) | jQuery(".catalogId").select2('destroy'); |
| [1100](#L1100) | } |
| [1101](#L1101) | if(jQuery("select").hasClass('category\_mapping\_select')){ |
| [1102](#L1102) | if(jQuery('.category\_mapping\_select').data('select2')) { |
| [1103](#L1103) | jQuery(".category\_mapping\_select").select2('destroy') |
| [1104](#L1104) | } |
| [1105](#L1105) | } |
| [1106](#L1106) | jQuery('.category\_mapping\_select').select2() |
| [1107](#L1107) | jQuery('[data-bs-target="#category"]').trigger('click') |
| [1108](#L1108) | jQuery('html, body').animate({ |
| [1109](#L1109) | scrollTop: jQuery("#category\_loader").offset().top |
| [1110](#L1110) | }, 0); |
| [1111](#L1111) | }) |
| [1112](#L1112) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*document event start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1113](#L1113) | /\*\*\*\*\*\*\*\*\*\*Channel Configuration Events start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1114](#L1114) | jQuery(document).on("change", "#tiktok\_business\_id", function () { |
| [1115](#L1115) | get\_tiktok\_user\_catalogs() |
| [1116](#L1116) | }); |
| [1117](#L1117) | jQuery(document).on("change", "#fb\_business\_id", function () { |
| [1118](#L1118) | jQuery('.selection').find("[aria-labelledby='select2-fb\_business\_id-container']").removeClass('selectError'); |
| [1119](#L1119) | jQuery('.selection').find("[aria-labelledby='select2-fb\_catalog\_id-container']").removeClass('selectError'); |
| [1120](#L1120) | get\_fb\_catalog\_data() |
| [1121](#L1121) | }); |
| [1122](#L1122) | jQuery(document).on("change", "#fb\_catalog\_id", function () { |
| [1123](#L1123) | jQuery('.selection').find("[aria-labelledby='select2-fb\_catalog\_id-container']").removeClass('selectError'); |
| [1124](#L1124) | }); |
| [1125](#L1125) | jQuery(document).on('click', '.saveTiktok', function() { |
| [1126](#L1126) | saveChannel('Tiktok'); |
| [1127](#L1127) | }) |
| [1128](#L1128) | jQuery(document).on('click', '.saveFB', function() { |
| [1129](#L1129) | saveChannel('FB'); |
| [1130](#L1130) | }) |
| [1131](#L1131) | jQuery(document).on("change", "#google\_merchant\_center\_id", function () { |
| [1132](#L1132) | jQuery('.selection').find("[aria-labelledby='select2-google\_merchant\_center\_id-container']").removeClass('selectError'); |
| [1133](#L1133) | }) |
| [1134](#L1134) |  |
| [1135](#L1135) | /\*\*\*\*\*\*\*\*\*\*Channel Configuration Events end \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1136](#L1136) | //On click get Mapping html |
| [1137](#L1137) | jQuery(document).on('click', '#profile-tab', function() { |
| [1138](#L1138) | if(jQuery('.selecttwo').data('select2')) { |
| [1139](#L1139) | jQuery('.selecttwo').select2('destroy'); |
| [1140](#L1140) | jQuery('.selectthree').select2('destroy'); |
| [1141](#L1141) | jQuery('.selectfour').select2('destroy'); |
| [1142](#L1142) | jQuery('.selectfive').select2('destroy'); |
| [1143](#L1143) | jQuery(".catalogId").select2('destroy'); |
| [1144](#L1144) | } |
| [1145](#L1145) | if(jQuery('.createSelect').data('select2')) { |
| [1146](#L1146) | jQuery('.createSelect').select2('destroy'); |
| [1147](#L1147) | jQuery('#feed\_target\_country').select2('destroy'); |
| [1148](#L1148) | } |
| [1149](#L1149) | var classname = jQuery('#profile').attr('class') |
| [1150](#L1150) | if(classname.indexOf('active') != -1){ |
| [1151](#L1151) | return true; |
| [1152](#L1152) | } |
| [1153](#L1153) | getAttrubuteMappingDiv() |
| [1154](#L1154) | }) |
| [1155](#L1155) |  |
| [1156](#L1156) | //Vallidation for number input |
| [1157](#L1157) | jQuery(document).on('keydown', 'input[name="shipping"]', function (event) { |
| [1158](#L1158) | if (event.shiftKey == true) { |
| [1159](#L1159) | event.preventDefault(); |
| [1160](#L1160) | } |
| [1161](#L1161) | if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8 || event.keyCode == 9 || event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 46 || event.keyCode == 190) { |
| [1162](#L1162) |  |
| [1163](#L1163) |  |
| [1164](#L1164) | } else { |
| [1165](#L1165) | event.preventDefault(); |
| [1166](#L1166) | } |
| [1167](#L1167) |  |
| [1168](#L1168) | if (jQuery(this).val().indexOf('.') !== -1 && event.keyCode == 190) |
| [1169](#L1169) | event.preventDefault(); |
| [1170](#L1170) |  |
| [1171](#L1171) | }) |
| [1172](#L1172) | jQuery(document).on('input', 'input[name="tax"]', function() { |
| [1173](#L1173) | // Remove any non-numeric characters |
| [1174](#L1174) | jQuery(this).val(jQuery(this).val().replace(/[^0-9.]/g, '')); |
| [1175](#L1175) |  |
| [1176](#L1176) | // Ensure only one decimal point |
| [1177](#L1177) | if (jQuery(this).val().split('.').length > 2) { |
| [1178](#L1178) | jQuery(this).val(jQuery(this).val().substring(0, jQuery(this).val().lastIndexOf('.'))); |
| [1179](#L1179) | } |
| [1180](#L1180) |  |
| [1181](#L1181) | // Restrict the maximum value to 100 |
| [1182](#L1182) | if (parseFloat(jQuery(this).val()) > 100) { |
| [1183](#L1183) | jQuery(this).val('100'); |
| [1184](#L1184) | } |
| [1185](#L1185) | }); |
| [1186](#L1186) |  |
| [1187](#L1187) | //Add Additional Attribute options |
| [1188](#L1188) | jQuery(document).on('click', '.add\_additional\_attr', function() { |
| [1189](#L1189) | var additionalAttribute=[{"field":"condition"},{"field":"shipping\_weight"},{"field":"product\_weight"}, |
| [1190](#L1190) | {"field":"gender"},{"field":"sizes"},{"field":"color"},{"field":"age\_group"}, |
| [1191](#L1191) | {"field":"additional\_image\_links"},{"field":"sale\_price\_effective\_date"}, |
| [1192](#L1192) | {"field":"material"},{"field":"pattern"},{"field":"availability\_date"},{"field":"expiration\_date"}, |
| [1193](#L1193) | {"field":"product\_types"},{"field":"ads\_redirect"},{"field":"adult"},{"field":"shipping\_length"}, |
| [1194](#L1194) | {"field":"shipping\_width"},{"field":"shipping\_height"},{"field":"custom\_label\_0"},{"field":"custom\_label\_1"}, |
| [1195](#L1195) | {"field":"custom\_label\_2"},{"field":"custom\_label\_3"},{"field":"custom\_label\_4"},{"field":"mobile\_link"}, |
| [1196](#L1196) | {"field":"energy\_efficiency\_class"},{"field":"is\_bundle"},{"field":"promotion\_ids"},{"field":"loyalty\_points"}, |
| [1197](#L1197) | {"field":"unit\_pricing\_measure"},{"field":"unit\_pricing\_base\_measure"},{"field":"shipping\_label"}, |
| [1198](#L1198) | {"field":"excluded\_destinations"},{"field":"included\_destinations"},{"field":"tax\_category"}, |
| [1199](#L1199) | {"field":"multipack"},{"field":"installment"},{"field":"min\_handling\_time"},{"field":"max\_handling\_time"}, |
| [1200](#L1200) | {"field":"min\_energy\_efficiency\_class"},{"field":"max\_energy\_efficiency\_class"},{"field":"identifier\_exists"}, |
| [1201](#L1201) | {"field":"cost\_of\_goods\_sold"}]; |
| [1202](#L1202) | var count = Object.keys(additionalAttribute).length; |
| [1203](#L1203) | var option = '<option value="">Please Select Attribute</option>'; |
| [1204](#L1204) | jQuery.each(additionalAttribute, function (index, value) { |
| [1205](#L1205) | /\*\*\*\*\*Check for selected option to disabled start\*\*\*\*\*\*\*/ |
| [1206](#L1206) | var disabled = ""; |
| [1207](#L1207) | if(jQuery.inArray(value.field, selected) !== -1){ |
| [1208](#L1208) | disabled = "disabled"; |
| [1209](#L1209) | } |
| [1210](#L1210) | /\*\*\*\*\*Check for selected option to disabled end\*\*\*\*\*\*\*/ |
| [1211](#L1211) | option += '<option value="'+value.field+'" '+disabled+'>'+value.field+'</option>' |
| [1212](#L1212) | }); |
| [1213](#L1213) | var wooCommerceAttributes = <?php echo wp\_json\_encode($wooCommerceAttributes); ?>; |
| [1214](#L1214) | var option1 = '<option value="">Please Select Attribute</option>'; |
| [1215](#L1215) | jQuery.each(wooCommerceAttributes, function (index, value) { |
| [1216](#L1216) | option1 += '<option value="'+value.field+'">'+value.field+'</option>' |
| [1217](#L1217) | }); |
| [1218](#L1218) |  |
| [1219](#L1219) | var html = ''; |
| [1220](#L1220) | html += '<div class="row additinal\_attr\_div m-0 p-0" ><div class="col-6 mt-2">'; |
| [1221](#L1221) | html += '<select style="width:100%" id="'+ cnt++ +'" name="additional\_attr\_[]" class="additinal\_attr\_'+cnt+' additinal\_attr fw-light text-secondary fs-6 form-control form-select-sm select2">'; |
| [1222](#L1222) | html += option; |
| [1223](#L1223) | html += '</select></div>'; |
| [1224](#L1224) | html += '<div class="col-5 mt-2">'; |
| [1225](#L1225) | html += '<select style="width:100%" id="" name="additional\_attr\_value\_[]" class="additional\_attr\_value fw-light text-secondary fs-6 form-control form-select-sm select2">'; |
| [1226](#L1226) | html += option1; |
| [1227](#L1227) | html += '</select></div>'; |
| [1228](#L1228) | html += '<div class="col-1 mt-2">'; |
| [1229](#L1229) | html += '<span class="material-symbols-outlined text-danger remove\_additional\_attr fs-5 mt-2" title="Add Additional Attribute" style="cursor: pointer; margin-right:35px;">'; |
| [1230](#L1230) | html += 'delete'; |
| [1231](#L1231) | html += '</span>'; |
| [1232](#L1232) | html += '</div></div>'; |
| [1233](#L1233) | jQuery('.additinal\_attr\_main\_div').append(html); |
| [1234](#L1234) | setTimeout(function() { |
| [1235](#L1235) | jQuery('.additinal\_attr, .additional\_attr\_value, .select\_modal').select2({ |
| [1236](#L1236) | initSelection: function(element, callback) { |
| [1237](#L1237) | } |
| [1238](#L1238) | }); |
| [1239](#L1239) | }, 200); |
| [1240](#L1240) | jQuery('.add\_additional\_attr')[0].scrollIntoView(true); |
| [1241](#L1241) | var div\_count = jQuery('.additinal\_attr\_div').length; |
| [1242](#L1242) | if(count == div\_count){ |
| [1243](#L1243) | jQuery('.add\_additional\_attr').addClass('d-none'); |
| [1244](#L1244) | } |
| [1245](#L1245) | }); |
| [1246](#L1246) |  |
| [1247](#L1247) | //remove Additional Attribute options |
| [1248](#L1248) | jQuery(document).on('click', '.remove\_additional\_attr', function() { |
| [1249](#L1249) | jQuery('.remove\_additional\_attr \*').addClass('disabled'); |
| [1250](#L1250) | //get deleted selected tag value |
| [1251](#L1251) | var deleted = jQuery(this).parent().parent('.additinal\_attr\_div').find('.additinal\_attr').find(':selected').val(); |
| [1252](#L1252) | if(deleted != ''){ |
| [1253](#L1253) | //Remove value from array |
| [1254](#L1254) | selected = jQuery.grep(selected, function(value) { |
| [1255](#L1255) | return value != deleted; |
| [1256](#L1256) | }); |
| [1257](#L1257) | //Enable deleted value to other selecet tag |
| [1258](#L1258) | jQuery(".additinal\_attr option").each(function() { |
| [1259](#L1259) | var thisOption = jQuery(this); |
| [1260](#L1260) | var valueToCompare = deleted; |
| [1261](#L1261) | if(thisOption.val() == valueToCompare) { |
| [1262](#L1262) | thisOption.removeAttr("disabled"); |
| [1263](#L1263) | } |
| [1264](#L1264) | }); |
| [1265](#L1265) | } |
| [1266](#L1266) |  |
| [1267](#L1267) | jQuery(this).parent().parent('.additinal\_attr\_div').remove(); |
| [1268](#L1268) | jQuery('.add\_additional\_attr').removeClass('d-none'); |
| [1269](#L1269) | jQuery('.remove\_additional\_attr \*').removeClass('disabled'); |
| [1270](#L1270) | }); |
| [1271](#L1271) |  |
| [1272](#L1272) | //get Additional Attribute values |
| [1273](#L1273) | jQuery(document).on('change', '.additinal\_attr', function() { |
| [1274](#L1274) | selected = []; |
| [1275](#L1275) | jQuery(this).parent().find('.select2-selection').removeClass('selectError') |
| [1276](#L1276) | var sel =  jQuery(this).find(":selected").val(); |
| [1277](#L1277) | var id = jQuery(this).attr("id"); |
| [1278](#L1278) | //All empty select add more used, it will add disable attribute to selected value |
| [1279](#L1279) | jQuery(".additinal\_attr:not(#"+id+") option").each(function() { |
| [1280](#L1280) | var thisOption = jQuery(this); |
| [1281](#L1281) | var valueToCompare = sel; |
| [1282](#L1282) | if(thisOption.val() == valueToCompare) { |
| [1283](#L1283) | thisOption.attr("disabled", "disabled"); |
| [1284](#L1284) | } |
| [1285](#L1285) | }); |
| [1286](#L1286) | var attr\_choices = jQuery(".additinal\_attr option:selected"); |
| [1287](#L1287) | jQuery(attr\_choices).each(function(i, v) { |
| [1288](#L1288) | selected.push(attr\_choices.eq(i).val()); |
| [1289](#L1289) | }) |
| [1290](#L1290) | disableOptions(); |
| [1291](#L1291) | }) |
| [1292](#L1292) |  |
| [1293](#L1293) | //remove Additional Attribute error on change |
| [1294](#L1294) | jQuery(document).on('change', '.additional\_attr\_value', function() { |
| [1295](#L1295) | jQuery(this).parent().find('.select2-selection').removeClass('selectError') |
| [1296](#L1296) | }); |
| [1297](#L1297) | jQuery(document).on('change', '#id', function() { |
| [1298](#L1298) | jQuery('.selection').find("[aria-labelledby='select2-id-container']").removeClass('selectError'); |
| [1299](#L1299) | }) |
| [1300](#L1300) | jQuery(document).on('change', '#title', function() { |
| [1301](#L1301) | jQuery('.selection').find("[aria-labelledby='select2-title-container']").removeClass('selectError'); |
| [1302](#L1302) | }) |
| [1303](#L1303) | jQuery(document).on('change', '#description', function() { |
| [1304](#L1304) | jQuery('.selection').find("[aria-labelledby='select2-description-container']").removeClass('selectError'); |
| [1305](#L1305) | }) |
| [1306](#L1306) | jQuery(document).on('change', '#price', function() { |
| [1307](#L1307) | jQuery('.selection').find("[aria-labelledby='select2-price-container']").removeClass('selectError'); |
| [1308](#L1308) | }) |
| [1309](#L1309) |  |
| [1310](#L1310) | jQuery(document).on("click", "#category\_mapping\_save", function () { |
| [1311](#L1311) | let ee\_data = jQuery("#category\_mapping").find("input[value!=''], select:not(:empty), input[type='number']").serialize(); |
| [1312](#L1312) | var data = { |
| [1313](#L1313) | action: "save\_category\_mapping", |
| [1314](#L1314) | ee\_data: ee\_data, |
| [1315](#L1315) | auto\_product\_sync\_setting: "<?php echo esc\_html\_e(wp\_create\_nonce('auto\_product\_sync\_setting-nonce')); ?>" |
| [1316](#L1316) | }; |
| [1317](#L1317) | jQuery.ajax({ |
| [1318](#L1318) | type: "POST", |
| [1319](#L1319) | dataType: "json", |
| [1320](#L1320) | url: tvc\_ajax\_url, |
| [1321](#L1321) | data: data, |
| [1322](#L1322) | beforeSend: function () { |
| [1323](#L1323) | jQuery('#category\_mapping\_save').prop('disabled', true) |
| [1324](#L1324) | jQuery('#category\_mapping\_save > span').removeClass('d-none') |
| [1325](#L1325) | }, |
| [1326](#L1326) | success: function (response) { |
| [1327](#L1327) | jQuery('#category\_mapping\_save').prop('disabled', false) |
| [1328](#L1328) | jQuery('#category\_mapping\_save > span').addClass('d-none') |
| [1329](#L1329) | checkProgressBar(); |
| [1330](#L1330) | openOverlayLoader('openshow'); |
| [1331](#L1331) | setTimeout(function() { |
| [1332](#L1332) | openOverlayLoader('close'); |
| [1333](#L1333) | jQuery('[data-bs-target="#profile"]').trigger('click') |
| [1334](#L1334) | }, 2000); |
| [1335](#L1335) | } |
| [1336](#L1336) | }); |
| [1337](#L1337) | }) |
| [1338](#L1338) |  |
| [1339](#L1339) | //Save Attribute mapping |
| [1340](#L1340) | jQuery(document).on("click", "#attr\_mapping\_save", function () { |
| [1341](#L1341) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*Check  some mandatory filed\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1342](#L1342) | var attrCheck = ['id', 'title', 'description', 'price']; |
| [1343](#L1343) | var hasError = false; |
| [1344](#L1344) | jQuery.each(attrCheck, function (index, value) { |
| [1345](#L1345) | if(jQuery("#"+value).find(":selected").val() == '') { |
| [1346](#L1346) | jQuery('.selection').find("[aria-labelledby='select2-"+value+"-container']").addClass('selectError'); |
| [1347](#L1347) | hasError = true; |
| [1348](#L1348) | } |
| [1349](#L1349) | }) |
| [1350](#L1350) | if(hasError === true) { |
| [1351](#L1351) | return false |
| [1352](#L1352) | } |
| [1353](#L1353) |  |
| [1354](#L1354) | /\*\*\*\*additional Attribute validation start\*\*\*\*\*\*\*\*\*/ |
| [1355](#L1355) | var attrValidation = false; |
| [1356](#L1356) | jQuery(".additinal\_attr").each(function () { |
| [1357](#L1357) | if (this.selectedIndex === 0) { |
| [1358](#L1358) | jQuery(this).parent().find('.select2-selection').addClass('selectError') |
| [1359](#L1359) | attrValidation = true; |
| [1360](#L1360) | //return false; |
| [1361](#L1361) | } |
| [1362](#L1362) | }) |
| [1363](#L1363) |  |
| [1364](#L1364) | var attrValueValidation = false; |
| [1365](#L1365) | jQuery(".additional\_attr\_value").each(function () { |
| [1366](#L1366) | if (this.selectedIndex === 0) { |
| [1367](#L1367) | jQuery(this).parent().find('.select2-selection').addClass('selectError') |
| [1368](#L1368) | attrValueValidation = true; |
| [1369](#L1369) | //return false; |
| [1370](#L1370) | } |
| [1371](#L1371) | }) |
| [1372](#L1372) | if(attrValidation === true) { |
| [1373](#L1373) | return false; |
| [1374](#L1374) | } |
| [1375](#L1375) | if(attrValueValidation === true) { |
| [1376](#L1376) | return false; |
| [1377](#L1377) | } |
| [1378](#L1378) | /\*\*\*\*additional Attribute validation end\*\*\*\*\*\*\*\*\*/ |
| [1379](#L1379) | let ee\_data = jQuery("#attribute\_mapping").find("input[value!=''], select:not(:empty), input[type='number']").serialize(); |
| [1380](#L1380) | var data = { |
| [1381](#L1381) | action: "save\_attribute\_mapping", |
| [1382](#L1382) | ee\_data: ee\_data, |
| [1383](#L1383) | auto\_product\_sync\_setting: "<?php echo esc\_html(wp\_create\_nonce('auto\_product\_sync\_setting-nonce')); ?>" |
| [1384](#L1384) | }; |
| [1385](#L1385) | jQuery.ajax({ |
| [1386](#L1386) | type: "POST", |
| [1387](#L1387) | dataType: "json", |
| [1388](#L1388) | url: tvc\_ajax\_url, |
| [1389](#L1389) | data: data, |
| [1390](#L1390) | beforeSend: function () { |
| [1391](#L1391) | //manageattributeLoader('show'); |
| [1392](#L1392) | jQuery('#attr\_mapping\_save').prop('disabled', true) |
| [1393](#L1393) | jQuery('.add\_additional\_attr').prop('disabled', true) |
| [1394](#L1394) | jQuery('#attr\_mapping\_save > span').removeClass('d-none') |
| [1395](#L1395) |  |
| [1396](#L1396) | }, |
| [1397](#L1397) | success: function (response) { |
| [1398](#L1398) | //manageattributeLoader('hide'); |
| [1399](#L1399) | jQuery('#attr\_mapping\_save').prop('disabled', false) |
| [1400](#L1400) | jQuery('.add\_additional\_attr').prop('disabled', false) |
| [1401](#L1401) | jQuery('#attr\_mapping\_save > span').addClass('d-none') |
| [1402](#L1402) | checkProgressBar(); |
| [1403](#L1403) | openOverlayLoader('openshow'); |
| [1404](#L1404) | setTimeout(function() { |
| [1405](#L1405) | openOverlayLoader('close'); |
| [1406](#L1406) | jQuery('[data-bs-target="#contact"]').trigger('click') |
| [1407](#L1407) | }, 2000); |
| [1408](#L1408) |  |
| [1409](#L1409) | } |
| [1410](#L1410) | }); |
| [1411](#L1411) | }); |
| [1412](#L1412) | /\*\*\*\*\*\*\*\*\*\* Attribute Mapping End \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1413](#L1413) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*Create Feed Start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1414](#L1414) | jQuery(document).on('click', '#contact-tab', function() { |
| [1415](#L1415) | if(jQuery('.selecttwo').data('select2')) { |
| [1416](#L1416) | jQuery('.selecttwo').select2('destroy'); |
| [1417](#L1417) | jQuery('.selectthree').select2('destroy'); |
| [1418](#L1418) | jQuery('.selectfour').select2('destroy'); |
| [1419](#L1419) | jQuery('.selectfive').select2('destroy'); |
| [1420](#L1420) | } |
| [1421](#L1421) | jQuery('.createSelect').select2(); |
| [1422](#L1422) | jQuery('#feed\_target\_country').select2(); |
| [1423](#L1423) | if(jQuery('input#all\_product').is(':checked'))  { |
| [1424](#L1424) | jQuery('#all\_product').trigger('change'); |
| [1425](#L1425) | } |
| [1426](#L1426) | getAllChannel(); |
| [1427](#L1427) | }) |
| [1428](#L1428) | jQuery(document).on('change', '#filter\_product', function() { |
| [1429](#L1429) | if(jQuery('input#filter\_product').is(':checked')) { |
| [1430](#L1430) | jQuery('.AllFilters').removeClass('d-none') |
| [1431](#L1431) | } |
| [1432](#L1432) | jQuery('.totalCountDiv').addClass('d-none') |
| [1433](#L1433) | }) |
| [1434](#L1434) | jQuery(document).on('change', '#specific\_product', function() { |
| [1435](#L1435) | jQuery('.AllFilters').addClass('d-none') |
| [1436](#L1436) | jQuery('.totalCountDiv').addClass('d-none') |
| [1437](#L1437) | }) |
| [1438](#L1438) | jQuery(document).on('change', '#all\_product', function() { |
| [1439](#L1439) | jQuery('.AllFilters').addClass('d-none') |
| [1440](#L1440) | var data = { |
| [1441](#L1441) | action: "get\_category\_for\_filter", |
| [1442](#L1442) | type: "all\_product", |
| [1443](#L1443) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [1444](#L1444) | }; |
| [1445](#L1445) | jQuery.ajax({ |
| [1446](#L1446) | type: "POST", |
| [1447](#L1447) | dataType: "json", |
| [1448](#L1448) | url: tvc\_ajax\_url, |
| [1449](#L1449) | data: data, |
| [1450](#L1450) | beforeSend: function () { |
| [1451](#L1451) | }, |
| [1452](#L1452) | success: function (response) { |
| [1453](#L1453) | jQuery('.totalCountDiv').removeClass('d-none') |
| [1454](#L1454) | jQuery('.totalCount').text(response) |
| [1455](#L1455) | } |
| [1456](#L1456) | }); |
| [1457](#L1457) | }) |
| [1458](#L1458) | jQuery(document).on('change', '.product', function(event) { |
| [1459](#L1459) | var changeValue = jQuery(this).val(); |
| [1460](#L1460) | jQuery(this).parent().parent().children('div').eq(1).empty(); |
| [1461](#L1461) | var conditionDropDown = getConditionDropDown(changeValue); |
| [1462](#L1462) | jQuery(this).parent().parent().children('div').eq(1).append(conditionDropDown); |
| [1463](#L1463) | if (changeValue === 'product\_cat') { |
| [1464](#L1464) | var data = { |
| [1465](#L1465) | action: "get\_category\_for\_filter", |
| [1466](#L1466) | type: "category", |
| [1467](#L1467) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [1468](#L1468) | }; |
| [1469](#L1469) | jQuery.ajax({ |
| [1470](#L1470) | type: "POST", |
| [1471](#L1471) | dataType: "json", |
| [1472](#L1472) | url: tvc\_ajax\_url, |
| [1473](#L1473) | data: data, |
| [1474](#L1474) | beforeSend: function () { |
| [1475](#L1475) | jQuery('.condition, .value').css("pointer-events", "none"); |
| [1476](#L1476) | }, |
| [1477](#L1477) | success: function (response) { |
| [1478](#L1478) | jQuery('.condition, .value').css("pointer-events", "auto"); |
| [1479](#L1479) | var category = response; |
| [1480](#L1480) | let option = '<option value="0">Select Category</option>'; |
| [1481](#L1481) | jQuery.each(category, function(key, value) { |
| [1482](#L1482) | option += '<option value="' + key + '">' + value + '</option>'; |
| [1483](#L1483) | }); |
| [1484](#L1484) | jQuery(this).parent().parent().children('.textValue').empty(); |
| [1485](#L1485) | var html = '<select class="createSelect value" name="value" style="width:100%">' + |
| [1486](#L1486) | option + |
| [1487](#L1487) | '</select>'; |
| [1488](#L1488) | jQuery('.textValue').html(html); |
| [1489](#L1489) | jQuery('.createSelect').select2(); |
| [1490](#L1490) | } |
| [1491](#L1491) | }); |
| [1492](#L1492) |  |
| [1493](#L1493) | } else if (changeValue === '\_stock\_status'){ |
| [1494](#L1494) | jQuery(this).parent().parent().children('.textValue').empty(); |
| [1495](#L1495) | var html = '<select class="createSelect value" name="value" style="width:100%">'+ |
| [1496](#L1496) | '<option value="0">Select Stock Status</option>'+ |
| [1497](#L1497) | '<option value="instock">In Stock</option>'+ |
| [1498](#L1498) | '<option value="outofstock">Out Of Stock</option>'+ |
| [1499](#L1499) | '<option value="onbackorder">Back Order</option>'+ |
| [1500](#L1500) | '</select>'; |
| [1501](#L1501) | jQuery(this).parent().parent().children('.textValue').append(html); |
| [1502](#L1502) | } else { |
| [1503](#L1503) | jQuery(this).parent().parent().children('.textValue').empty(); |
| [1504](#L1504) | var html = '<input type="text" class="form-control from-control-overload value" placeholder="Add value" name="value" >'; |
| [1505](#L1505) | jQuery(this).parent().parent().children('.textValue').append(html); |
| [1506](#L1506) | } |
| [1507](#L1507) | jQuery('.createSelect').select2(); |
| [1508](#L1508) | }); |
| [1509](#L1509) | jQuery(document).on('click', '.applyFilter', function() { |
| [1510](#L1510) | var newProductVal = jQuery('.product').val(); |
| [1511](#L1511) | var newConditionVal = jQuery('.condition').val(); |
| [1512](#L1512) | var newValueVal = jQuery('.value').val(); |
| [1513](#L1513) | if( newProductVal != 0 && newConditionVal != 0 && newValueVal != 0 ) { |
| [1514](#L1514) | if( newProductVal !== '' && newConditionVal !== '' && newValueVal !== '' ) { |
| [1515](#L1515) | var count = jQuery('.removecardThis').length |
| [1516](#L1516) | var productVal= jQuery('#productVal').val(); |
| [1517](#L1517) | var conditionVal = jQuery('#conditionVal').val(); |
| [1518](#L1518) | var valueVal = jQuery('#valueVal').val(); |
| [1519](#L1519) |  |
| [1520](#L1520) | productVal == "" ? jQuery('#productVal').val(newProductVal) : jQuery('#productVal').val(productVal + "," +newProductVal); |
| [1521](#L1521) | conditionVal == "" ? jQuery('#conditionVal').val(newConditionVal) : jQuery('#conditionVal').val(conditionVal + "," +newConditionVal); |
| [1522](#L1522) | valueVal == "" ? jQuery('#valueVal').val(newValueVal) : jQuery('#valueVal').val(valueVal + "," +newValueVal); |
| [1523](#L1523) | if(newProductVal == 'product\_cat' || newProductVal == '\_stock\_status') { |
| [1524](#L1524) | newValueVal = jQuery("select[name='value'] option:selected").text(); |
| [1525](#L1525) | } |
| [1526](#L1526) | var newCard = '<div class="btn-group border rounded mt-1 me-1 removecardThis" >' + |
| [1527](#L1527) | '<button class="btn btn-light btn-sm text-secondary fs-7 ps-1 pe-1 pt-0 pb-0" type="button" value="'+count+'">' + newProductVal + ' <b>' + newConditionVal + '</b> ' + newValueVal + '</button>' + |
| [1528](#L1528) | '<button type="button" class="btn btn-sm btn-light onhover-close pt-0 pb-0" data-bs-toggle="" aria-expanded="false" style="cursor: pointer;">' + |
| [1529](#L1529) | '<span class="material-symbols-outlined fs-6 pt-1 onhover-close removecard">close</span></button></div>'; |
| [1530](#L1530) | jQuery('.filterCard').append(newCard) |
| [1531](#L1531) | jQuery('.product').val('0').trigger('change'); |
| [1532](#L1532) | jQuery('.condition').val('0').trigger('change'); |
| [1533](#L1533) | jQuery('.value').val('').trigger('change'); |
| [1534](#L1534) | getFilterCount(); |
| [1535](#L1535) | } |
| [1536](#L1536) | } |
| [1537](#L1537) | }) |
| [1538](#L1538) | jQuery(document).on('click', '#createFeed', function() { |
| [1539](#L1539) | let feedName = jQuery('#feedName').val(); |
| [1540](#L1540) | if (feedName === '') { |
| [1541](#L1541) | jQuery('#feedName').css('margin-left', '0px'); |
| [1542](#L1542) | jQuery('#feedName').css('margin-right', '0px'); |
| [1543](#L1543) | jQuery('#feedName').addClass('errorInput'); |
| [1544](#L1544) | var l = 4; |
| [1545](#L1545) | for (var i = 0; i <= 2; i++) { |
| [1546](#L1546) | jQuery('#feedName').animate({ |
| [1547](#L1547) | 'margin-left': '+=' + (l = -l) + 'px', |
| [1548](#L1548) | 'margin-right': '-=' + l + 'px' |
| [1549](#L1549) | }, 50); |
| [1550](#L1550) | } |
| [1551](#L1551) | return false; |
| [1552](#L1552) | } |
| [1553](#L1553) |  |
| [1554](#L1554) | let autoSyncIntvl = jQuery('#autoSyncIntvl').val(); |
| [1555](#L1555) | if (autoSyncIntvl === '') { |
| [1556](#L1556) | jQuery('#autoSyncIntvl').css('margin-left', '0px'); |
| [1557](#L1557) | jQuery('#autoSyncIntvl').css('margin-right', '0px'); |
| [1558](#L1558) | jQuery('#autoSyncIntvl').addClass('errorInput'); |
| [1559](#L1559) | var l = 4; |
| [1560](#L1560) | for (var i = 0; i <= 2; i++) { |
| [1561](#L1561) | jQuery('#autoSyncIntvl').animate({ |
| [1562](#L1562) | 'margin-left': '+=' + (l = -l) + 'px', |
| [1563](#L1563) | 'margin-right': '-=' + l + 'px' |
| [1564](#L1564) | }, 50); |
| [1565](#L1565) | } |
| [1566](#L1566) | return false; |
| [1567](#L1567) | } |
| [1568](#L1568) |  |
| [1569](#L1569) | let target\_country = jQuery('#feed\_target\_country').find(":selected").val(); |
| [1570](#L1570) | if (target\_country === "") { |
| [1571](#L1571) | jQuery('[aria-labelledby="select2-feed\_target\_country-container"]').css('border', '1px solid #ef1717'); |
| [1572](#L1572) | return false; |
| [1573](#L1573) | } |
| [1574](#L1574) |  |
| [1575](#L1575) | if (!jQuery('#gmc\_id').is(":checked") && !jQuery('#tiktok\_id').is(":checked") && !jQuery('#fb\_id').is(':checked')) { |
| [1576](#L1576) | jQuery('.errorChannel').not(':disabled').css('border', '1px solid red'); |
| [1577](#L1577) | return false; |
| [1578](#L1578) | } |
| [1579](#L1579) | var product\_selection = jQuery('input[name="product\_selection"]:checked').val(); |
| [1580](#L1580) | if(product\_selection == 'filter\_product') { |
| [1581](#L1581) | var productVal= jQuery('#productVal').val(); |
| [1582](#L1582) | var conditionVal = jQuery('#conditionVal').val(); |
| [1583](#L1583) | var valueVal = jQuery('#valueVal').val(); |
| [1584](#L1584) | if(productVal == '' || conditionVal == '' || valueVal == '') { |
| [1585](#L1585) | jQuery('.product').next().find('.select2-selection').css('border', '1px solid #ef1717') |
| [1586](#L1586) | jQuery('.condition').next().find('.select2-selection').css('border', '1px solid #ef1717') |
| [1587](#L1587) | jQuery('.value').next().find('.select2-selection').css('border', '1px solid #ef1717') |
| [1588](#L1588) | jQuery('.value').css('border', '1px solid #ef1717') |
| [1589](#L1589) | return false; |
| [1590](#L1590) | } |
| [1591](#L1591) | } |
| [1592](#L1592) | var totalProduct = parseInt(jQuery('.totalCount').text()); |
| [1593](#L1593) | if(product\_selection == 'filter\_product') { |
| [1594](#L1594) | totalProduct = parseInt(jQuery('.totalCountFilter').text()); |
| [1595](#L1595) | } |
| [1596](#L1596) | let syncProductCount = parseInt(jQuery('#syncProductCount').val()); |
| [1597](#L1597) | if(product\_selection !== 'specific\_product' && (totalProduct > 100 || (totalProduct + syncProductCount) > 100)){ |
| [1598](#L1598) | jQuery('#conv\_save\_error\_txt').html('') |
| [1599](#L1599) | jQuery('.errorText').text('Notice') |
| [1600](#L1600) | jQuery('#conv\_save\_error\_txt').html('According to your plan, the maximum limit for syncing products is 100') |
| [1601](#L1601) | jQuery('#conv\_save\_error\_modal').modal('show') |
| [1602](#L1602) | return false; |
| [1603](#L1603) | } |
| [1604](#L1604) | if(totalProduct == 0 && product\_selection !== 'specific\_product') { |
| [1605](#L1605) | jQuery('#conv\_save\_error\_txt').html('') |
| [1606](#L1606) | jQuery('.errorText').text('Notice') |
| [1607](#L1607) | jQuery('#conv\_save\_error\_txt').html('Please selecte atleast One product!!!') |
| [1608](#L1608) | jQuery('#conv\_save\_error\_modal').modal('show') |
| [1609](#L1609) | return false; |
| [1610](#L1610) | } |
| [1611](#L1611) | if(totalProduct > 100 && product\_selection !== 'specific\_product') { |
| [1612](#L1612) | jQuery('#conv\_save\_error\_txt').html('') |
| [1613](#L1613) | jQuery('.errorText').text('Notice') |
| [1614](#L1614) | jQuery('#conv\_save\_error\_txt').html('According to your plan, the maximum limit for syncing products is 100') |
| [1615](#L1615) | jQuery('#conv\_save\_error\_modal').modal('show') |
| [1616](#L1616) | return false; |
| [1617](#L1617) | } |
| [1618](#L1618) | save\_feed\_data(); |
| [1619](#L1619) |  |
| [1620](#L1620) | }) |
| [1621](#L1621) | jQuery(document).on('input', '#feedName', function (e) { |
| [1622](#L1622) | e.preventDefault(); |
| [1623](#L1623) | jQuery('#feedName').css('margin-left', '0px'); |
| [1624](#L1624) | jQuery('#feedName').css('margin-right', '0px'); |
| [1625](#L1625) | jQuery('#feedName').removeClass('errorInput'); |
| [1626](#L1626) | }); |
| [1627](#L1627) | jQuery(document).on('click', '#gmc\_id', function (e) { |
| [1628](#L1628) | jQuery('.errorChannel').css('border', ''); |
| [1629](#L1629) | }); |
| [1630](#L1630) | jQuery(document).on('click', '#tiktok\_id', function (e) { |
| [1631](#L1631) | jQuery('.errorChannel').css('border', ''); |
| [1632](#L1632) | }); |
| [1633](#L1633) | jQuery(document).on('click', '#fb\_id', function (e) { |
| [1634](#L1634) | jQuery('.errorChannel').css('border', ''); |
| [1635](#L1635) | }); |
| [1636](#L1636) | jQuery(document).on('change', '#feed\_target\_country', function (e) { |
| [1637](#L1637) | jQuery('.select2-selection').css('border', '1px solid #c6c6c6'); |
| [1638](#L1638) | let target\_country = jQuery('#feed\_target\_country').find(":selected").val(); |
| [1639](#L1639) | jQuery('#tiktok\_id').empty(); |
| [1640](#L1640) | jQuery('.tiktok\_catalog\_id').empty() |
| [1641](#L1641) | if (jQuery('input#tiktok\_id').is(':checked')) { |
| [1642](#L1642) | getCatalogId(target\_country); |
| [1643](#L1643) | } |
| [1644](#L1644) | }); |
| [1645](#L1645) | jQuery(document).on('change', '#tiktok\_id', function () { |
| [1646](#L1646) | jQuery('.tiktok\_catalog\_id').empty(); |
| [1647](#L1647) | jQuery('#tiktok\_id').val(''); |
| [1648](#L1648) | if (jQuery('#tiktok\_id').is(":checked")) { |
| [1649](#L1649) | getCatalogId(jQuery('#feed\_target\_country').find(":selected").val()) |
| [1650](#L1650) | } |
| [1651](#L1651) | }); |
| [1652](#L1652) | jQuery(document).on('change', '#autoSync', function () { |
| [1653](#L1653) | var autoSync = jQuery('input#autoSync').is(':checked'); |
| [1654](#L1654) | if (autoSync) { |
| [1655](#L1655) | jQuery('#autoSyncIntvl').attr('disabled', false); |
| [1656](#L1656) | } else { |
| [1657](#L1657) | jQuery('#autoSyncIntvl').attr('disabled', true); |
| [1658](#L1658) | jQuery('#autoSyncIntvl').val(25); |
| [1659](#L1659) | jQuery('#autoSyncIntvl').removeClass('errorInput'); |
| [1660](#L1660) | } |
| [1661](#L1661) | }); |
| [1662](#L1662) | jQuery(document).on('click', '.removecard', function(event) { |
| [1663](#L1663) | var ele = jQuery(this).parent(); |
| [1664](#L1664) | var productVal= jQuery('#productVal').val().split(','); |
| [1665](#L1665) | var conditionVal = jQuery('#conditionVal').val().split(','); |
| [1666](#L1666) | var valueVal = jQuery('#valueVal').val().split(','); |
| [1667](#L1667) | var val = ele.prev().val(); |
| [1668](#L1668) | jQuery(ele.parent()).remove(); |
| [1669](#L1669) | productVal.splice(val, 1); |
| [1670](#L1670) | conditionVal.splice(val, 1); |
| [1671](#L1671) | valueVal.splice(val, 1); |
| [1672](#L1672) |  |
| [1673](#L1673) | jQuery(".removecard").each(function(index, value) { |
| [1674](#L1674) | jQuery(this).parent().prev().val(index); |
| [1675](#L1675) | }); |
| [1676](#L1676) |  |
| [1677](#L1677) |  |
| [1678](#L1678) | productVal = productVal.join(); |
| [1679](#L1679) | conditionVal = conditionVal.join(); |
| [1680](#L1680) | valueVal = valueVal.join(); |
| [1681](#L1681) | jQuery('#productVal').val(productVal); |
| [1682](#L1682) | jQuery('#conditionVal').val(conditionVal); |
| [1683](#L1683) | jQuery('#valueVal').val(valueVal); |
| [1684](#L1684) | getFilterCount(); |
| [1685](#L1685) | //table.draw(); |
| [1686](#L1686) | }); |
| [1687](#L1687) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*Create Feed End \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1688](#L1688) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* document event end \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1689](#L1689) | }); |
| [1690](#L1690) |  |
| [1691](#L1691) | function list\_tiktok\_business\_account() { |
| [1692](#L1692) | var conversios\_onboarding\_nonce = "<?php echo esc\_attr(wp\_create\_nonce('conversios\_onboarding\_nonce')); ?>"; |
| [1693](#L1693) | jQuery.ajax({ |
| [1694](#L1694) | type: "POST", |
| [1695](#L1695) | dataType: "json", |
| [1696](#L1696) | url: tvc\_ajax\_url, |
| [1697](#L1697) | data: { |
| [1698](#L1698) | action: "get\_tiktok\_business\_account", |
| [1699](#L1699) | subscriptionId: "<?php echo esc\_attr($subscriptionId) ?>", |
| [1700](#L1700) | conversios\_onboarding\_nonce: conversios\_onboarding\_nonce |
| [1701](#L1701) | }, |
| [1702](#L1702) | beforeSend: function(){ |
| [1703](#L1703) | manageTiktokLoader('show') |
| [1704](#L1704) | }, |
| [1705](#L1705) | success: function (response) { |
| [1706](#L1706) | if (response.error === false) { |
| [1707](#L1707) | jQuery('#tiktok\_business\_id').empty(); |
| [1708](#L1708) | jQuery('#tiktok\_business\_id').append(jQuery('<option>', { |
| [1709](#L1709) | value: "", |
| [1710](#L1710) | text: "Select TikTok Business Account Id" |
| [1711](#L1711) | })); |
| [1712](#L1712) | if (response.data) { |
| [1713](#L1713) | var tiktok\_business\_id = "<?php echo esc\_attr($tiktok\_business\_id) ?>"; |
| [1714](#L1714) | jQuery.each(response.data, function (key, value) { |
| [1715](#L1715) | jQuery('#tiktok\_business\_id').append(jQuery('<option>', { |
| [1716](#L1716) | value: key, |
| [1717](#L1717) | "data-business\_name": value, |
| [1718](#L1718) | text: key + ' - ' + value, |
| [1719](#L1719) | selected: (key === tiktok\_business\_id) |
| [1720](#L1720) | })); |
| [1721](#L1721) | }); |
| [1722](#L1722) | } |
| [1723](#L1723) | get\_tiktok\_user\_catalogs(); |
| [1724](#L1724) | } else { |
| [1725](#L1725) | jQuery('#tiktok\_business\_id').empty(); |
| [1726](#L1726) | jQuery('#tiktok\_business\_id').append(jQuery('<option>', { |
| [1727](#L1727) | value: "", |
| [1728](#L1728) | text: "Select Tiktok Business Account Id" |
| [1729](#L1729) | })); |
| [1730](#L1730) | manageTiktokLoader('hide') |
| [1731](#L1731) | } |
| [1732](#L1732) | } |
| [1733](#L1733) | }) |
| [1734](#L1734) | } |
| [1735](#L1735) | function get\_tiktok\_user\_catalogs() { |
| [1736](#L1736) | var catalogCountry = <?php echo wp\_json\_encode($catalogCountry) ?>; |
| [1737](#L1737) | var catalog\_business\_id = <?php echo wp\_json\_encode($catalog\_business\_id) ?>; |
| [1738](#L1738) | var conversios\_onboarding\_nonce = "<?php echo esc\_attr(wp\_create\_nonce('conversios\_onboarding\_nonce')); ?>"; |
| [1739](#L1739) | var business\_id = jQuery('#tiktok\_business\_id').find(":selected").val(); |
| [1740](#L1740) | jQuery('.selection').find("[aria-labelledby='select2-tiktok\_business\_id-container']").removeClass('selectError'); |
| [1741](#L1741) | jQuery('#table-body').empty(); |
| [1742](#L1742) | jQuery.ajax({ |
| [1743](#L1743) | type: "POST", |
| [1744](#L1744) | dataType: "json", |
| [1745](#L1745) | url: tvc\_ajax\_url, |
| [1746](#L1746) | data: { |
| [1747](#L1747) | action: "get\_tiktok\_user\_catalogs", |
| [1748](#L1748) | customer\_subscription\_id: "<?php echo esc\_attr($subscriptionId) ?>", |
| [1749](#L1749) | business\_id: business\_id, |
| [1750](#L1750) | conversios\_onboarding\_nonce: conversios\_onboarding\_nonce |
| [1751](#L1751) | }, |
| [1752](#L1752) | beforeSend: function(){ |
| [1753](#L1753) | manageTiktokLoader('show') |
| [1754](#L1754) | }, |
| [1755](#L1755) | success: function (response) { |
| [1756](#L1756) | if (response.error === false) { |
| [1757](#L1757) | if (response.data) { |
| [1758](#L1758) | var tableBody = ''; |
| [1759](#L1759) | jQuery.each(response.data, function (key, value) { |
| [1760](#L1760) | tableBody += '<tr>'; |
| [1761](#L1761) | tableBody += '<td class="align-middle text-start">' + key + '</td>'; |
| [1762](#L1762) | tableBody += '<td class="align-middle text-start"><select id="" name="catalogId[]" class="form-select form-select-lg mb-3 catalogId" style="width: 100%">'; |
| [1763](#L1763) | jQuery.each(value, function (valKey, ValValue) { |
| [1764](#L1764) | var selected = ""; |
| [1765](#L1765) | if (jQuery.inArray(valKey, catalog\_business\_id) !== -1 && catalog\_business\_id.length > 0) { |
| [1766](#L1766) | var selected = 'selected="selected"'; |
| [1767](#L1767) | } |
| [1768](#L1768) | tableBody += '<option value="' + valKey + '"  data-catalog\_country="' + key + '" data-catalog\_name="' + ValValue + '" ' + selected + '>' + valKey + ' - ' + ValValue + '</option>'; |
| [1769](#L1769) | }) |
| [1770](#L1770) | tableBody += '</select></td></tr>'; |
| [1771](#L1771) | }); |
| [1772](#L1772) | jQuery('#table-body').html(tableBody); |
| [1773](#L1773) | jQuery(".catalogId").select2({ dropdownCssClass: "fs-12" }) |
| [1774](#L1774) | } |
| [1775](#L1775) | } |
| [1776](#L1776) | manageTiktokLoader('hide') |
| [1777](#L1777) | } |
| [1778](#L1778) | }) |
| [1779](#L1779) | } |
| [1780](#L1780) |  |
| [1781](#L1781) | function getAttrubuteMappingDiv() { |
| [1782](#L1782) | var data = { |
| [1783](#L1783) | action: "get\_attribute\_mappingv\_div", |
| [1784](#L1784) | fb\_business\_nonce: "<?php echo esc\_attr(wp\_create\_nonce('fb\_business\_nonce')); ?>" |
| [1785](#L1785) | } |
| [1786](#L1786) | jQuery.ajax({ |
| [1787](#L1787) | type: "POST", |
| [1788](#L1788) | dataType: "", |
| [1789](#L1789) | url: tvc\_ajax\_url, |
| [1790](#L1790) | data: data, |
| [1791](#L1791) | beforeSend: function(){ |
| [1792](#L1792) | jQuery('#attribute\_mapping').empty() |
| [1793](#L1793) | }, |
| [1794](#L1794) | success: function(response){ |
| [1795](#L1795) | jQuery('#attribute\_mapping').html(response) |
| [1796](#L1796) | jQuery('.select\_modal').select2(); |
| [1797](#L1797) | var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')) |
| [1798](#L1798) | var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { |
| [1799](#L1799) | return new bootstrap.Tooltip(tooltipTriggerEl) |
| [1800](#L1800) | }); |
| [1801](#L1801) | cnt = jQuery('#cnt').val(); |
| [1802](#L1802) | } |
| [1803](#L1803) | }); |
| [1804](#L1804) | } |
| [1805](#L1805) | function disableOptions() { |
| [1806](#L1806) | //remove attr |
| [1807](#L1807) | jQuery('.additinal\_attr \*').removeAttr("disabled"); |
| [1808](#L1808) | jQuery(selected).each(function(i, v) { |
| [1809](#L1809) | jQuery(".additinal\_attr option").each(function() { |
| [1810](#L1810) | var thisOption = jQuery(this); |
| [1811](#L1811) | var valueToCompare = v; |
| [1812](#L1812) | if(jQuery(this).parent().find(':selected').val() != v) { |
| [1813](#L1813) | if(thisOption.val() == valueToCompare) { |
| [1814](#L1814) | thisOption.attr("disabled", "disabled"); |
| [1815](#L1815) | } |
| [1816](#L1816) | } |
| [1817](#L1817) |  |
| [1818](#L1818) | }); |
| [1819](#L1819) | }) |
| [1820](#L1820) | } |
| [1821](#L1821) | function getConditionDropDown(val = '', condition = '') { |
| [1822](#L1822) | let conditionOption = '<select class="condition createSelect" name="condition[]" style="width: 100%"><option value="0">Select Condition</option>'; |
| [1823](#L1823) | if (val != '0') { |
| [1824](#L1824) | if (val != '' || condition != '') { |
| [1825](#L1825) | switch (val) { |
| [1826](#L1826) | case 'product\_cat': |
| [1827](#L1827) | case 'ID': |
| [1828](#L1828) | conditionOption += '<option value="=" ' + ((condition == "=") ? "selected" : "") + ' > = </option>' + |
| [1829](#L1829) | '<option value="!=" ' + ((condition == "!=") ? "selected" : "") + ' > != </option>'; |
| [1830](#L1830) | break; |
| [1831](#L1831) | case '\_stock\_status': |
| [1832](#L1832) | conditionOption += '<option value="=" ' + ((condition == "=") ? "selected" : "") + ' > = </option>' + |
| [1833](#L1833) | '<option value="!=" ' + ((condition == "!=") ? "selected" : "") + ' > != </option>'; |
| [1834](#L1834) | break; |
| [1835](#L1835) | } |
| [1836](#L1836) | } |
| [1837](#L1837) | } |
| [1838](#L1838) | conditionOption += '</select>'; |
| [1839](#L1839) | return conditionOption; |
| [1840](#L1840) | } |
| [1841](#L1841) | function getFilterCount() { |
| [1842](#L1842) | var productVal= jQuery('#productVal').val(); |
| [1843](#L1843) | var conditionVal = jQuery('#conditionVal').val(); |
| [1844](#L1844) | var valueVal = jQuery('#valueVal').val(); |
| [1845](#L1845) | jQuery('.totalCountDivFilter').addClass('d-none') |
| [1846](#L1846) | jQuery('.totalCountFilter').html('') |
| [1847](#L1847) | if(productVal !== '' && conditionVal !== '' && valueVal !== '') { |
| [1848](#L1848) | var data = { |
| [1849](#L1849) | action: "get\_product\_filter\_count", |
| [1850](#L1850) | productVal: productVal, |
| [1851](#L1851) | conditionVal: conditionVal, |
| [1852](#L1852) | valueVal: valueVal, |
| [1853](#L1853) | getFilterCount: "<?php echo esc\_html(wp\_create\_nonce('getFilterCount-nonce')); ?>" |
| [1854](#L1854) | }; |
| [1855](#L1855) | jQuery.ajax({ |
| [1856](#L1856) | type: "POST", |
| [1857](#L1857) | dataType: "json", |
| [1858](#L1858) | url: tvc\_ajax\_url, |
| [1859](#L1859) | data: data, |
| [1860](#L1860) | beforeSend: function () { |
| [1861](#L1861) | }, |
| [1862](#L1862) | success: function (response) { |
| [1863](#L1863) | jQuery('.totalCountDivFilter').removeClass('d-none') |
| [1864](#L1864) | jQuery('.totalCountFilter').html(response) |
| [1865](#L1865) | } |
| [1866](#L1866) | }); |
| [1867](#L1867) | } |
| [1868](#L1868) | } |
| [1869](#L1869) | function getAllChannel() { |
| [1870](#L1870) | let target\_country = jQuery('#feed\_target\_country').find(":selected").val(); |
| [1871](#L1871) | var data = { |
| [1872](#L1872) | action: "get\_category\_for\_filter", |
| [1873](#L1873) | type: "getAllChannel", |
| [1874](#L1874) | target\_country: target\_country, |
| [1875](#L1875) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [1876](#L1876) | }; |
| [1877](#L1877) | jQuery.ajax({ |
| [1878](#L1878) | type: "POST", |
| [1879](#L1879) | dataType: "json", |
| [1880](#L1880) | url: tvc\_ajax\_url, |
| [1881](#L1881) | data: data, |
| [1882](#L1882) | beforeSend: function () { |
| [1883](#L1883) | jQuery('#gmc\_id').prop('disabled', true) |
| [1884](#L1884) | jQuery('#fb\_id').prop('disabled', true) |
| [1885](#L1885) | jQuery('#tiktok\_id').prop('disabled', true) |
| [1886](#L1886) | }, |
| [1887](#L1887) | success: function (response) { |
| [1888](#L1888) | if(response.data.google\_merchant\_center\_id){ |
| [1889](#L1889) | jQuery('#gmc\_id').prop('disabled', false) |
| [1890](#L1890) | jQuery('#gmc\_id').prop('checked', true) |
| [1891](#L1891) | jQuery('.google\_merchant\_center\_id').text(response.data.google\_merchant\_center\_id) |
| [1892](#L1892) | } |
| [1893](#L1893) | if(response.data.fb\_catalog\_id){ |
| [1894](#L1894) | jQuery('#fb\_id').prop('disabled', false) |
| [1895](#L1895) | jQuery('#fb\_id').prop('checked', true) |
| [1896](#L1896) | jQuery('.fb\_id').text(response.data.fb\_catalog\_id) |
| [1897](#L1897) | } |
| [1898](#L1898) | if (response.data.tiktok\_setting == 1 && response.data.titkok\_catalog\_id !== '') { |
| [1899](#L1899) | jQuery('#tiktok\_id').prop('disabled', false) |
| [1900](#L1900) | jQuery('#tiktok\_id').prop('checked', true) |
| [1901](#L1901) | jQuery('#tiktok\_id').val(response.data.titkok\_catalog\_id); |
| [1902](#L1902) | jQuery('.tiktok\_catalog\_id').text(response.data.titkok\_catalog\_id) |
| [1903](#L1903) | } else if (response.data.tiktok\_setting == 1 && response.data.titkok\_catalog\_id == "") { |
| [1904](#L1904) | jQuery('#tiktok\_id').prop('disabled', false) |
| [1905](#L1905) | jQuery('#tiktok\_id').prop('checked', true) |
| [1906](#L1906) | jQuery('#tiktok\_id').val('Create New'); |
| [1907](#L1907) | jQuery('.tiktok\_catalog\_id').text('You do not have a catalog associated with the selected target country. Do not worry we will create a new catalog for you.'); |
| [1908](#L1908) | } |
| [1909](#L1909) | } |
| [1910](#L1910) | }); |
| [1911](#L1911) | } |
| [1912](#L1912) | function getCatalogId($countryCode) { |
| [1913](#L1913) | var conv\_country\_nonce = "<?php echo esc\_html(wp\_create\_nonce('conv\_country\_nonce')); ?>"; |
| [1914](#L1914) | var data = { |
| [1915](#L1915) | action: "ee\_getCatalogId", |
| [1916](#L1916) | countryCode: $countryCode, |
| [1917](#L1917) | conv\_country\_nonce: conv\_country\_nonce |
| [1918](#L1918) | } |
| [1919](#L1919) | jQuery.ajax({ |
| [1920](#L1920) | type: "POST", |
| [1921](#L1921) | dataType: "json", |
| [1922](#L1922) | url: tvc\_ajax\_url, |
| [1923](#L1923) | data: data, |
| [1924](#L1924) | beforeSend: function () { |
| [1925](#L1925) | }, |
| [1926](#L1926) | error: function (err, status) { |
| [1927](#L1927) | //conv\_change\_loadingbar\_modal('hide'); |
| [1928](#L1928) | }, |
| [1929](#L1929) | success: function (response) { |
| [1930](#L1930) | jQuery('.tiktok\_catalog\_id').empty() |
| [1931](#L1931) | jQuery('#tiktok\_id').empty(); |
| [1932](#L1932) | jQuery('.tiktok\_catalog\_id').removeClass('text-danger'); |
| [1933](#L1933) |  |
| [1934](#L1934) | if (response.error == false) { |
| [1935](#L1935) | if (response.data.catalog\_id !== '') { |
| [1936](#L1936) | jQuery('#tiktok\_id').val(response.data.catalog\_id); |
| [1937](#L1937) | jQuery('.tiktok\_catalog\_id').text(response.data.catalog\_id) |
| [1938](#L1938) | } else { |
| [1939](#L1939) | jQuery('#tiktok\_id').val('Create New'); |
| [1940](#L1940) | jQuery('.tiktok\_catalog\_id').text('You do not have a catalog associated with the selected target country. Do not worry we will create a new catalog for you.'); |
| [1941](#L1941) | } |
| [1942](#L1942) | } |
| [1943](#L1943) | } |
| [1944](#L1944) | }); |
| [1945](#L1945) | } |
| [1946](#L1946) |  |
| [1947](#L1947) | function save\_feed\_data() { |
| [1948](#L1948) | var conv\_onboarding\_nonce = "<?php echo esc\_html(wp\_create\_nonce('conv\_onboarding\_nonce')); ?>"; |
| [1949](#L1949) | var product\_selection = jQuery('input[name="product\_selection"]:checked').val(); |
| [1950](#L1950) | var productVal= jQuery('#productVal').val(); |
| [1951](#L1951) | var conditionVal = jQuery('#conditionVal').val(); |
| [1952](#L1952) | var valueVal = jQuery('#valueVal').val(); |
| [1953](#L1953) | if(product\_selection == 'specific\_product') { |
| [1954](#L1954) | productVal= ''; |
| [1955](#L1955) | conditionVal = ''; |
| [1956](#L1956) | valueVal = ''; |
| [1957](#L1957) | } |
| [1958](#L1958) | var data = { |
| [1959](#L1959) | action: "create\_dashboard\_feed\_data", |
| [1960](#L1960) | feedName: jQuery('#feedName').val(), |
| [1961](#L1961) | google\_merchant\_center: jQuery('input#gmc\_id').is(':checked') ? '1' : '', |
| [1962](#L1962) | fb\_catalog\_id:jQuery('input#fb\_id').is(':checked') ? '2' : '', |
| [1963](#L1963) | tiktok\_id: jQuery('input#tiktok\_id').is(':checked') ? '3' : '', |
| [1964](#L1964) | tiktok\_catalog\_id: jQuery('input#tiktok\_id').is(':checked') ? jQuery('input#tiktok\_id').val() : '', |
| [1965](#L1965) | autoSync: jQuery('input#autoSync').is(':checked') ? '1' : '0', |
| [1966](#L1966) | autoSyncIntvl: jQuery('#autoSyncIntvl').val(), |
| [1967](#L1967) | edit: '', |
| [1968](#L1968) | last\_sync\_date: '', |
| [1969](#L1969) | is\_mapping\_update: '', |
| [1970](#L1970) | target\_country: jQuery('#feed\_target\_country').find(":selected").val(), |
| [1971](#L1971) | customer\_subscription\_id: "<?php echo esc\_attr($subscriptionId) ?>", |
| [1972](#L1972) | tiktok\_business\_account: jQuery('#tiktok\_business\_id').find(":selected").val(), |
| [1973](#L1973) | product\_selection : product\_selection, |
| [1974](#L1974) | productVal : productVal, |
| [1975](#L1975) | conditionVal : conditionVal, |
| [1976](#L1976) | valueVal : valueVal, |
| [1977](#L1977) | conv\_onboarding\_nonce: conv\_onboarding\_nonce |
| [1978](#L1978) | } |
| [1979](#L1979) |  |
| [1980](#L1980) | jQuery.ajax({ |
| [1981](#L1981) | type: "POST", |
| [1982](#L1982) | dataType: "json", |
| [1983](#L1983) | url: tvc\_ajax\_url, |
| [1984](#L1984) | data: data, |
| [1985](#L1985) | beforeSend: function () { |
| [1986](#L1986) | //managecreateFeedLoader('show') |
| [1987](#L1987) | jQuery('#createFeed').prop('disabled', true) |
| [1988](#L1988) | jQuery('.applyFilter').prop('disabled', true) |
| [1989](#L1989) | jQuery('#createFeed > span').removeClass('d-none') |
| [1990](#L1990) |  |
| [1991](#L1991) | }, |
| [1992](#L1992) | error: function (err, status) { |
| [1993](#L1993) | }, |
| [1994](#L1994) | success: function (response) { |
| [1995](#L1995) | //managecreateFeedLoader('hide') |
| [1996](#L1996) | jQuery('#createFeed').prop('disabled', false) |
| [1997](#L1997) | jQuery('.applyFilter').prop('disabled', false) |
| [1998](#L1998) | jQuery('#createFeed > span').addClass('d-none') |
| [1999](#L1999) | if (response.id) { |
| [2000](#L2000) | if(product\_selection == 'specific\_product') { |
| [2001](#L2001) | setTimeout(function () { |
| [2002](#L2002) | window.location.replace("<?php echo esc\_url\_raw($site\_url . 'product\_list&id='); ?>" + response.id); |
| [2003](#L2003) | }, 100); |
| [2004](#L2004) | } else { |
| [2005](#L2005) | var totalProduct = jQuery('.totalCount').text(); |
| [2006](#L2006) | if(product\_selection == 'filter\_product') { |
| [2007](#L2007) | totalProduct = jQuery('.totalCountFilter').text(); |
| [2008](#L2008) | } |
| [2009](#L2009) | jQuery('#conv\_create\_popup\_txt\_msg').text('You have successfully created the new Feed with '+ totalProduct + ' products') |
| [2010](#L2010) | checkProgressBar() |
| [2011](#L2011) | openOverlayLoader('openshow'); |
| [2012](#L2012) | setTimeout(function() { |
| [2013](#L2013) | openOverlayLoader('close'); |
| [2014](#L2014) | jQuery('#conv\_modal\_create\_popup').modal('show') |
| [2015](#L2015) | }, 2000); |
| [2016](#L2016) | } |
| [2017](#L2017) |  |
| [2018](#L2018) | } else if (response.errorType === 'tiktok') { |
| [2019](#L2019) | jQuery('.tiktok\_catalog\_id').empty(); |
| [2020](#L2020) | jQuery('.tiktok\_catalog\_id').html(response.message); |
| [2021](#L2021) | jQuery('.tiktok\_catalog\_id').addClass('text-danger'); |
| [2022](#L2022) | } |
| [2023](#L2023) | } |
| [2024](#L2024) | }); |
| [2025](#L2025) | } |
| [2026](#L2026) |  |
| [2027](#L2027) | function saveChannel(Channel) { |
| [2028](#L2028) | var selected\_vals = {}; |
| [2029](#L2029) | var conv\_options\_type = []; |
| [2030](#L2030) | var data = {}; |
| [2031](#L2031) | if(Channel == 'GMC') { |
| [2032](#L2032) | var google\_merchant\_center\_id = "<?php echo esc\_attr($google\_merchant\_center\_id) ?>"; |
| [2033](#L2033) | if (jQuery("#google\_merchant\_center\_id").val() === '') { |
| [2034](#L2034) | jQuery('.selection').find("[aria-labelledby='select2-google\_merchant\_center\_id-container']").addClass('selectError'); |
| [2035](#L2035) | return false; |
| [2036](#L2036) | } |
| [2037](#L2037) | var update\_site\_domain = ''; |
| [2038](#L2038) | if(google\_merchant\_center\_id != jQuery("#google\_merchant\_center\_id").val()) { |
| [2039](#L2039) | update\_site\_domain = 'update'; |
| [2040](#L2040) | } |
| [2041](#L2041) | conv\_options\_type = ["eeoptions", "eeapidata", "middleware"]; |
| [2042](#L2042) | selected\_vals["subscription\_id"] = "<?php echo esc\_attr($subscriptionId) ?>"; |
| [2043](#L2043) | selected\_vals["google\_merchant\_center\_id"] = jQuery("#google\_merchant\_center\_id").val(); |
| [2044](#L2044) | selected\_vals["google\_merchant\_id"] = jQuery("#google\_merchant\_center\_id").val(); |
| [2045](#L2045) | selected\_vals["merchant\_id"] = jQuery('#google\_merchant\_center\_id').find(':selected').data('merchant\_id'); |
| [2046](#L2046) | selected\_vals["website\_url"] = "<?php echo esc\_url(get\_site\_url()); ?>"; |
| [2047](#L2047) | var google\_ads\_id = jQuery('#gmc\_google\_ads\_id').val(); |
| [2048](#L2048) | if(google\_ads\_id !== ''){ |
| [2049](#L2049) | selected\_vals["google\_ads\_id"] = google\_ads\_id; |
| [2050](#L2050) | selected\_vals["ga\_GMC"] = '1'; |
| [2051](#L2051) | } |
| [2052](#L2052) | data = { |
| [2053](#L2053) | action: "conv\_save\_pixel\_data", |
| [2054](#L2054) | pix\_sav\_nonce: "<?php echo esc\_attr(wp\_create\_nonce('pix\_sav\_nonce\_val')); ?>", |
| [2055](#L2055) | conv\_options\_data: selected\_vals, |
| [2056](#L2056) | conv\_options\_type: conv\_options\_type, |
| [2057](#L2057) | update\_site\_domain: update\_site\_domain, |
| [2058](#L2058) | } |
| [2059](#L2059) | } |
| [2060](#L2060) |  |
| [2061](#L2061) | if(Channel == 'FB') { |
| [2062](#L2062) | var facebook\_data = {}; |
| [2063](#L2063) | facebook\_data["fb\_mail"] = jQuery('#fb\_mail').val(); |
| [2064](#L2064) | facebook\_data["fb\_business\_id"] = jQuery('#fb\_business\_id').find(":selected").val(); |
| [2065](#L2065) | facebook\_data["fb\_catalog\_id"] = jQuery('#fb\_catalog\_id').find(":selected").val(); |
| [2066](#L2066) | selected\_vals["facebook\_setting"] = facebook\_data; |
| [2067](#L2067) | if (facebook\_data["fb\_business\_id"] === '') { |
| [2068](#L2068) | jQuery('.selection').find("[aria-labelledby='select2-fb\_business\_id-container']").addClass('selectError'); |
| [2069](#L2069) | return false; |
| [2070](#L2070) | } |
| [2071](#L2071) | if (facebook\_data["fb\_catalog\_id"] === '') { |
| [2072](#L2072) | jQuery('.selection').find("[aria-labelledby='select2-fb\_catalog\_id-container']").addClass('selectError'); |
| [2073](#L2073) | return false; |
| [2074](#L2074) | } |
| [2075](#L2075) | conv\_options\_type = ["eeoptions", "middleware", "facebookmiddleware", "facebookcatalog"]; |
| [2076](#L2076) | data = { |
| [2077](#L2077) | action: "conv\_save\_pixel\_data", |
| [2078](#L2078) | pix\_sav\_nonce: "<?php echo wp\_create\_nonce('pix\_sav\_nonce\_val'); ?>", |
| [2079](#L2079) | conv\_options\_data: selected\_vals, |
| [2080](#L2080) | conv\_options\_type: conv\_options\_type, |
| [2081](#L2081) | customer\_subscription\_id: "<?php echo esc\_html($subId) ?>", |
| [2082](#L2082) | } |
| [2083](#L2083) | } |
| [2084](#L2084) | if(Channel == 'Tiktok') { |
| [2085](#L2085) | var tiktok\_data = {}; |
| [2086](#L2086) | tiktok\_data["tiktok\_mail"] = jQuery('#tiktok\_mail').val(); |
| [2087](#L2087) | tiktok\_data["tiktok\_user\_id"] = jQuery('#tiktok\_user\_id').val(); |
| [2088](#L2088) | tiktok\_data["tiktok\_business\_id"] = jQuery('#tiktok\_business\_id').find(":selected").val(); |
| [2089](#L2089) | tiktok\_data["tiktok\_business\_name"] = jQuery('#tiktok\_business\_id').find(":selected").data("business\_name") |
| [2090](#L2090) | selected\_vals["tiktok\_setting"] = tiktok\_data; |
| [2091](#L2091) | if (tiktok\_data["tiktok\_business\_id"] === '') { |
| [2092](#L2092) | jQuery('.selection').find("[aria-labelledby='select2-tiktok\_business\_id-container']").addClass('selectError'); |
| [2093](#L2093) | return false; |
| [2094](#L2094) | } |
| [2095](#L2095) | var catalogData = {}; |
| [2096](#L2096) | jQuery('.catalogId').each(function () { |
| [2097](#L2097) | catalogData[jQuery(this).find(":selected").data("catalog\_country")] = [jQuery(this).find(":selected").val(), jQuery(this).find(":selected").data("catalog\_name"), jQuery(this).find(":selected").data("catalog\_country")]; |
| [2098](#L2098) | }) |
| [2099](#L2099) | conv\_options\_type = ["eeoptions", "middleware", "tiktokmiddleware", "tiktokcatalog"]; |
| [2100](#L2100) | data = { |
| [2101](#L2101) | action: "conv\_save\_pixel\_data", |
| [2102](#L2102) | pix\_sav\_nonce: "<?php echo esc\_attr(wp\_create\_nonce('pix\_sav\_nonce\_val')); ?>", |
| [2103](#L2103) | conv\_options\_data: selected\_vals, |
| [2104](#L2104) | conv\_options\_type: conv\_options\_type, |
| [2105](#L2105) | customer\_subscription\_id: "<?php echo esc\_attr($subscriptionId) ?>", |
| [2106](#L2106) | conv\_catalogData: catalogData, |
| [2107](#L2107) | } |
| [2108](#L2108) | } |
| [2109](#L2109) |  |
| [2110](#L2110) | jQuery.ajax({ |
| [2111](#L2111) | type: "POST", |
| [2112](#L2112) | dataType: "json", |
| [2113](#L2113) | url: tvc\_ajax\_url, |
| [2114](#L2114) | data: data, |
| [2115](#L2115) | beforeSend: function () { |
| [2116](#L2116) | // openOverlayLoader('open'); |
| [2117](#L2117) | if(Channel == 'GMC'){ |
| [2118](#L2118) | jQuery(".verifySite, .verifyDomain, .createNewGMC, .channelTabSave, .saveGMC, .tvc\_google\_signinbtn").css("pointer-events", "none"); |
| [2119](#L2119) | jQuery('.saveGMC').prop('disabled', true) |
| [2120](#L2120) | jQuery('.saveGMC > span').removeClass('d-none') |
| [2121](#L2121) | jQuery('.gmc\_account\_id\_step').removeClass('disable') |
| [2122](#L2122) | } |
| [2123](#L2123) | if(Channel == 'FB'){ |
| [2124](#L2124) | jQuery('.saveFB').prop('disabled', true) |
| [2125](#L2125) | jQuery('.saveFB').text('Saving...') |
| [2126](#L2126) | } |
| [2127](#L2127) | if(Channel == 'Tiktok'){ |
| [2128](#L2128) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "none"); |
| [2129](#L2129) | jQuery('.saveTiktok').prop('disabled', true) |
| [2130](#L2130) | jQuery('.saveTiktok > span').removeClass('d-none') |
| [2131](#L2131) | jQuery('.tiktok-catalog-step').removeClass('disable') |
| [2132](#L2132) | jQuery('.tiktok-step').removeClass('disable') |
| [2133](#L2133) | } |
| [2134](#L2134) | }, |
| [2135](#L2135) | success: function (response) { |
| [2136](#L2136) | if(Channel == 'GMC'){ |
| [2137](#L2137) | jQuery(".verifySite, .verifyDomain, .createNewGMC, .channelTabSave, .saveGMC, .tvc\_google\_signinbtn").css("pointer-events", "auto"); |
| [2138](#L2138) | jQuery('.saveGMC > span').addClass('d-none') |
| [2139](#L2139) | jQuery('#google\_merchant\_center\_id').attr('disabled', true) |
| [2140](#L2140) | jQuery('.getGMCList').removeClass('d-none') |
| [2141](#L2141) | if(google\_merchant\_center\_id != jQuery("#google\_merchant\_center\_id").val()) { |
| [2142](#L2142) | var html ='<span class="material-symbols-outlined" style="font-size: 18px;">autorenew</span>Verify Now'; |
| [2143](#L2143) | var html2 ='<span class="material-symbols-outlined" style="font-size: 18px;">autorenew</span>Claim Now'; |
| [2144](#L2144) | jQuery('.verifySite').removeClass('bg-success\_') |
| [2145](#L2145) | jQuery('.verifySite').addClass('bg-warnings') |
| [2146](#L2146) | jQuery('.verifySite').html(html) |
| [2147](#L2147) | jQuery('.verifyDomain').removeClass('bg-success\_') |
| [2148](#L2148) | jQuery('.verifyDomain').addClass('bg-warnings') |
| [2149](#L2149) | jQuery('.verifyDomain').html(html2) |
| [2150](#L2150) | } |
| [2151](#L2151) | } |
| [2152](#L2152) | if(Channel == 'FB'){ |
| [2153](#L2153) | jQuery('#fb\_business\_id').prop('disabled', true) |
| [2154](#L2154) | jQuery('#fb\_catalog\_id').prop('disabled', true) |
| [2155](#L2155) | jQuery('.getfbList').removeClass('d-none') |
| [2156](#L2156) | jQuery('.saveFB').text('Save') |
| [2157](#L2157) | } |
| [2158](#L2158) | if(Channel == 'Tiktok'){ |
| [2159](#L2159) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "auto"); |
| [2160](#L2160) | jQuery('.saveTiktok > span').addClass('d-none') |
| [2161](#L2161) | jQuery('#tiktok\_business\_id').attr('disabled', true) |
| [2162](#L2162) | jQuery('.gettitokList').removeClass('d-none') |
| [2163](#L2163) | } |
| [2164](#L2164) | checkProgressBar('channel'); |
| [2165](#L2165) | openOverlayLoader('openshow'); |
| [2166](#L2166) | setTimeout(function() { |
| [2167](#L2167) | openOverlayLoader('close'); |
| [2168](#L2168) | }, 2000); |
| [2169](#L2169) | } |
| [2170](#L2170) | }); |
| [2171](#L2171) |  |
| [2172](#L2172) | } |
| [2173](#L2173) | jQuery(document).on('click', '.channelTabSave', function() { |
| [2174](#L2174) | if(jQuery('.selecttwo').data('select2')) { |
| [2175](#L2175) | jQuery('.selecttwo').select2('destroy'); |
| [2176](#L2176) | jQuery('.selectthree').select2('destroy'); |
| [2177](#L2177) | jQuery('.selectfour').select2('destroy'); |
| [2178](#L2178) | jQuery('.selectfive').select2('destroy'); |
| [2179](#L2179) | jQuery(".catalogId").select2('destroy'); |
| [2180](#L2180) | } |
| [2181](#L2181) | if(jQuery('.category\_mapping\_select').data('select2')) { |
| [2182](#L2182) | jQuery('.category\_mapping\_select').select2('destroy') |
| [2183](#L2183) | } |
| [2184](#L2184) | jQuery('.category\_mapping\_select').select2() |
| [2185](#L2185) | jQuery('[data-bs-target="#category"]').trigger('click') |
| [2186](#L2186) | jQuery('html, body').animate({ |
| [2187](#L2187) | scrollTop: jQuery("#category\_loader").offset().top |
| [2188](#L2188) | }, 0); |
| [2189](#L2189) | }) |
| [2190](#L2190) |  |
| [2191](#L2191) | function manageTiktokLoader(display = "show") { |
| [2192](#L2192) | if(display == "show") { |
| [2193](#L2193) | jQuery('#tiktokSetting\_loader').removeClass('d-none') |
| [2194](#L2194) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "none"); |
| [2195](#L2195) | } else { |
| [2196](#L2196) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "auto"); |
| [2197](#L2197) | jQuery('#tiktokSetting\_loader').addClass('d-none') |
| [2198](#L2198) | } |
| [2199](#L2199) | } |
| [2200](#L2200) | function manageFbLoader(display = "show") { |
| [2201](#L2201) | if(display == "show") { |
| [2202](#L2202) | jQuery('#fbSetting\_loader').removeClass('d-none') |
| [2203](#L2203) | jQuery(".facebookLogin, #fb\_business\_id, #fb\_catalog\_id, .channelTabSave, .saveFB").css("pointer-events", "none"); |
| [2204](#L2204) | } else { |
| [2205](#L2205) | jQuery('#fbSetting\_loader').addClass('d-none') |
| [2206](#L2206) | jQuery(".facebookLogin, #fb\_business\_id, #fb\_catalog\_id, .channelTabSave, .saveFB").css("pointer-events", "auto"); |
| [2207](#L2207) | } |
| [2208](#L2208) | } |
| [2209](#L2209) | function managecreateFeedLoader(display = "show") { |
| [2210](#L2210) | if(display == "show") { |
| [2211](#L2211) | jQuery('#createFeed\_loader').removeClass('d-none') |
| [2212](#L2212) | jQuery("#createFeed").css("pointer-events", "none"); |
| [2213](#L2213) | } else { |
| [2214](#L2214) | jQuery('#createFeed\_loader').addClass('d-none') |
| [2215](#L2215) | jQuery("#createFeed").css("pointer-events", "auto"); |
| [2216](#L2216) | } |
| [2217](#L2217) | } |
| [2218](#L2218) | function manageattributeLoader(display = "show") { |
| [2219](#L2219) | if(display == "show") { |
| [2220](#L2220) | jQuery('#attribute\_loader').removeClass('d-none') |
| [2221](#L2221) | jQuery("#attr\_mapping\_save").css("pointer-events", "none"); |
| [2222](#L2222) | } else { |
| [2223](#L2223) | jQuery('#attribute\_loader').addClass('d-none') |
| [2224](#L2224) | jQuery("#attr\_mapping\_save").css("pointer-events", "auto"); |
| [2225](#L2225) | } |
| [2226](#L2226) | } |
| [2227](#L2227) | function checkProgressBar(channel = "") { |
| [2228](#L2228) | var get = "<?php echo isset($\_GET['wizard\_channel']) ? esc\_attr(sanitize\_text\_field(wp\_unslash($\_GET['wizard\_channel']))) : '' ?>"; |
| [2229](#L2229) | var data = { |
| [2230](#L2230) | action: "get\_category\_for\_filter", |
| [2231](#L2231) | type: "getProgressCount", |
| [2232](#L2232) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [2233](#L2233) | }; |
| [2234](#L2234) | jQuery.ajax({ |
| [2235](#L2235) | type: "POST", |
| [2236](#L2236) | dataType: "json", |
| [2237](#L2237) | url: tvc\_ajax\_url, |
| [2238](#L2238) | data: data, |
| [2239](#L2239) | beforeSend: function () { |
| [2240](#L2240) | }, |
| [2241](#L2241) | success: function (response) { |
| [2242](#L2242) | var pixelprogressbarclass = 0; |
| [2243](#L2243) | jQuery('.progress-bar').removeClass('w-'+pixelprogressbarclass) |
| [2244](#L2244) | if(response.feed\_count == 1) { |
| [2245](#L2245) | pixelprogressbarclass = parseInt(pixelprogressbarclass) + 25; |
| [2246](#L2246) | jQuery('.create-feed').text("check\_circle") |
| [2247](#L2247) | jQuery('.create-feed').removeClass("text-warning") |
| [2248](#L2248) | jQuery('.create-feed').addClass("text-success") |
| [2249](#L2249) | } |
| [2250](#L2250) | if(response.isAttrMapped == 1) { |
| [2251](#L2251) | pixelprogressbarclass = parseInt(pixelprogressbarclass) + 25; |
| [2252](#L2252) | jQuery('.product-attribute').text("check\_circle") |
| [2253](#L2253) | jQuery('.product-attribute').removeClass("text-warning") |
| [2254](#L2254) | jQuery('.product-attribute').addClass("text-success") |
| [2255](#L2255) | } |
| [2256](#L2256) | if(response.iscatMapped == 1) { |
| [2257](#L2257) | pixelprogressbarclass = parseInt(pixelprogressbarclass) + 25; |
| [2258](#L2258) | jQuery('.product-category').text("check\_circle") |
| [2259](#L2259) | jQuery('.product-category').removeClass("text-warning") |
| [2260](#L2260) | jQuery('.product-category').addClass("text-success") |
| [2261](#L2261) | } |
| [2262](#L2262) | if(response.is\_channel\_connected == 1) { |
| [2263](#L2263) | pixelprogressbarclass = parseInt(pixelprogressbarclass) + 25; |
| [2264](#L2264) | jQuery('.add-channel').text("check\_circle") |
| [2265](#L2265) | jQuery('.add-channel').removeClass("text-warning") |
| [2266](#L2266) | jQuery('.add-channel').addClass("text-success") |
| [2267](#L2267) | jQuery('.channel\_notice').removeClass('d-none') |
| [2268](#L2268) | } |
| [2269](#L2269) | jQuery('.progress-bar').addClass('w-'+pixelprogressbarclass) |
| [2270](#L2270) | if(response.isAttrMapped == 1 && response.is\_channel\_connected == 1 && get == '' && channel == '') { |
| [2271](#L2271) | jQuery('[data-bs-target="#contact"]').trigger('click') |
| [2272](#L2272) | } else if(response.isAttrMapped == 0 && response.is\_channel\_connected == 1 && get == '' && channel == '') { |
| [2273](#L2273) | jQuery('[data-bs-target="#profile"]').trigger('click') |
| [2274](#L2274) | }  else if(get == '' && channel == "") { |
| [2275](#L2275) | list\_tiktok\_business\_account(); |
| [2276](#L2276) | get\_facebook\_bussiness() |
| [2277](#L2277) | } |
| [2278](#L2278) | } |
| [2279](#L2279) | }); |
| [2280](#L2280) | } |
| [2281](#L2281) | jQuery(document).on('change', '.additinal\_attr', function() { |
| [2282](#L2282) | var fixed\_att\_select\_list = ["gender", "age\_group", "condition", "adult", "is\_bundle", "identifier\_exists"]; |
| [2283](#L2283) | var attr = jQuery(this).val(); |
| [2284](#L2284) | if(jQuery.inArray( attr, fixed\_att\_select\_list ) !== -1){ |
| [2285](#L2285) | var option1 = '<option value="">Please Select Attribute</option>'; |
| [2286](#L2286) | if(attr == 'gender') { |
| [2287](#L2287) | option1 += '<option value="male">Male</option><option value="female">Female</option><option value="unisex">Unisex</option>' |
| [2288](#L2288) | } |
| [2289](#L2289) | if(attr == 'condition') { |
| [2290](#L2290) | option1 += '<option value="new">New</option><option value="refurbished">Refurbished</option><option value="used">Used</option>' |
| [2291](#L2291) | } |
| [2292](#L2292) | if(attr == 'age\_group') { |
| [2293](#L2293) | option1 += '<option value="newborn">Newborn</option><option value="infant">Infant</option><option value="toddler">Toddler</option><option value="kids">Kids</option><option value="adult">Adult</option>' |
| [2294](#L2294) | } |
| [2295](#L2295) | if(attr == 'adult' || attr == 'is\_bundle' || attr == 'identifier\_exists') { |
| [2296](#L2296) | option1 += '<option value="yes">Yes</option><option value="no">No</option>' |
| [2297](#L2297) | } |
| [2298](#L2298) | jQuery(this).parent().next().find('.additional\_attr\_value').html(option1) |
| [2299](#L2299) | } else { |
| [2300](#L2300) | var wooCommerceAttributes = <?php echo wp\_json\_encode($wooCommerceAttributes); ?>; |
| [2301](#L2301) | var option1 = '<option value="">Please Select Attribute</option>'; |
| [2302](#L2302) | jQuery.each(wooCommerceAttributes, function (index, value) { |
| [2303](#L2303) | option1 += '<option value="'+value.field+'">'+value.field+'</option>' |
| [2304](#L2304) | }); |
| [2305](#L2305) | jQuery(this).parent().next().find('.additional\_attr\_value').html(option1) |
| [2306](#L2306) | } |
| [2307](#L2307) | }) |
| [2308](#L2308) | function openOverlayLoader(status = "") { |
| [2309](#L2309) | if (status == 'open') { |
| [2310](#L2310) | document.getElementById("overlayanimation").style.width = "100%"; |
| [2311](#L2311) | jQuery(".loaderopen-content").removeClass("d-none"); |
| [2312](#L2312) | jQuery(".loadershow-content").addClass("d-none"); |
| [2313](#L2313) | } else if (status == 'openshow') { |
| [2314](#L2314) | document.getElementById("overlayanimation").style.width = "100%"; |
| [2315](#L2315) | jQuery(".loaderopen-content").addClass("d-none"); |
| [2316](#L2316) | jQuery(".loadershow-content").removeClass("d-none"); |
| [2317](#L2317) | } else { |
| [2318](#L2318) | document.getElementById("overlayanimation").style.width = "0%"; |
| [2319](#L2319) | jQuery(".overlay\_loader\_conv-content").addClass("d-none"); |
| [2320](#L2320) | jQuery(".loaderopen-content").addClass("d-none"); |
| [2321](#L2321) | jQuery(".loadershow-content").addClass("d-none"); |
| [2322](#L2322) | jQuery(".loadershow-content .overlaycontentbox").html(""); |
| [2323](#L2323) | } |
| [2324](#L2324) | } |
| [2325](#L2325) | function get\_facebook\_bussiness() { |
| [2326](#L2326) | var data = { |
| [2327](#L2327) | action: "get\_user\_businesses", |
| [2328](#L2328) | customer\_subscription\_id: <?php echo esc\_html($subId) ?>, |
| [2329](#L2329) | fb\_business\_nonce: "<?php echo wp\_create\_nonce('fb\_business\_nonce'); ?>" |
| [2330](#L2330) | } |
| [2331](#L2331) | jQuery.ajax({ |
| [2332](#L2332) | type: "POST", |
| [2333](#L2333) | dataType: "json", |
| [2334](#L2334) | url: tvc\_ajax\_url, |
| [2335](#L2335) | data: data, |
| [2336](#L2336) | beforeSend: function(){ |
| [2337](#L2337) | manageFbLoader('show') |
| [2338](#L2338) | }, |
| [2339](#L2339) | success: function(response){ |
| [2340](#L2340) | if(Object.keys(response).length > 0) { |
| [2341](#L2341) | // jQuery('#fb\_business\_id').removeAttr('disabled') |
| [2342](#L2342) | var cat\_id = "<?php echo isset($ee\_options['facebook\_setting']['fb\_business\_id']) ? $ee\_options['facebook\_setting']['fb\_business\_id'] : '' ?>"; |
| [2343](#L2343) | var html = '<option value="">Select Catalog Id</option>'; |
| [2344](#L2344) | jQuery.each(response, function(index, value){ |
| [2345](#L2345) | var selected = (index == cat\_id ) ? 'selected' : ''; |
| [2346](#L2346) | html +='<option value="'+index+'" '+selected+'>'+value+'</option>'; |
| [2347](#L2347) | }); |
| [2348](#L2348) | jQuery('#fb\_business\_id').html(html); |
| [2349](#L2349) | get\_fb\_catalog\_data() |
| [2350](#L2350) | } else { |
| [2351](#L2351) | manageFbLoader('hide') |
| [2352](#L2352) | } |
| [2353](#L2353) | } |
| [2354](#L2354) | }); |
| [2355](#L2355) | } |
| [2356](#L2356) | function get\_fb\_catalog\_data() { |
| [2357](#L2357) | var fb\_business = jQuery('#fb\_business\_id').find(":selected").val(); |
| [2358](#L2358) | if(fb\_business != ''){ |
| [2359](#L2359) | var data = { |
| [2360](#L2360) | action: "get\_fb\_catalog\_data", |
| [2361](#L2361) | customer\_subscription\_id: <?php echo esc\_html($subId) ?>, |
| [2362](#L2362) | fb\_business\_id: fb\_business, |
| [2363](#L2363) | fb\_business\_nonce: "<?php echo wp\_create\_nonce('fb\_business\_nonce'); ?>" |
| [2364](#L2364) | } |
| [2365](#L2365) | jQuery.ajax({ |
| [2366](#L2366) | type: "POST", |
| [2367](#L2367) | dataType: "json", |
| [2368](#L2368) | url: tvc\_ajax\_url, |
| [2369](#L2369) | data: data, |
| [2370](#L2370) | beforeSend: function(){ |
| [2371](#L2371) | manageFbLoader('show') |
| [2372](#L2372) | }, |
| [2373](#L2373) | success: function(response){ |
| [2374](#L2374) | // jQuery('#fb\_catalog\_id').removeAttr('disabled') |
| [2375](#L2375) | var cat\_id = "<?php echo isset($ee\_options['facebook\_setting']['fb\_catalog\_id']) ? $ee\_options['facebook\_setting']['fb\_catalog\_id'] : '' ?>"; |
| [2376](#L2376) | var html = '<option value="">Select Catalog Id</option>'; |
| [2377](#L2377) | jQuery.each(response, function(index, value){ |
| [2378](#L2378) | var selected = (value.id == cat\_id ) ? 'selected' : ''; |
| [2379](#L2379) | html +='<option value="'+value.id+'" '+selected+'>'+value.id+'-'+value.name+'</option>'; |
| [2380](#L2380) | }); |
| [2381](#L2381) | jQuery('#fb\_catalog\_id').html(html); |
| [2382](#L2382) | manageFbLoader('hide') |
| [2383](#L2383) | } |
| [2384](#L2384) | }); |
| [2385](#L2385) | } else { |
| [2386](#L2386) | var html = '<option value="">Select Catalog Id</option>'; |
| [2387](#L2387) | jQuery('#fb\_catalog\_id').html(html); |
| [2388](#L2388) | manageFbLoader('hide') |
| [2389](#L2389) | } |
| [2390](#L2390) | } |
| [2391](#L2391) |  |
| [2392](#L2392) | jQuery(document).on('click', '.select2-selection.select2-selection--single', function (e) { |
| [2393](#L2393) | var iscatMapped = jQuery(this).parent().parent().prev().attr('iscategory') |
| [2394](#L2394) | var selectId = jQuery(this).parent().parent().prev().attr('id') |
| [2395](#L2395) | var toAppend = ''; |
| [2396](#L2396) | if (iscatMapped == 'false') { |
| [2397](#L2397) | jQuery(this).parent().parent().prev().attr('iscategory', 'true') |
| [2398](#L2398) | jQuery.each(cat\_json, function (i, o) { |
| [2399](#L2399) | toAppend += '<option value="' + o.id + '">' + o.name + '</option>'; |
| [2400](#L2400) | }); |
| [2401](#L2401) | jQuery('#' + selectId).append(toAppend); |
| [2402](#L2402) | jQuery('#' + selectId).select2(); |
| [2403](#L2403) | jQuery('#' + selectId).select2('open'); |
| [2404](#L2404) | } |
| [2405](#L2405) | }); |
| [2406](#L2406) |  |
| [2407](#L2407) | function selectSubCategory(thisObj) { |
| [2408](#L2408) | selectId = thisObj.id; |
| [2409](#L2409) | wooCategoryId = jQuery(thisObj).attr("catid"); |
| [2410](#L2410) | var selvalue = jQuery('#' + selectId).find(":selected").val(); |
| [2411](#L2411) | var seltext = jQuery('#' + selectId).find(":selected").text(); |
| [2412](#L2412) | jQuery("#category-" + wooCategoryId).val(selvalue); |
| [2413](#L2413) | jQuery("#category-name-" + wooCategoryId).val(seltext); |
| [2414](#L2414) | setTimeout(function () { |
| [2415](#L2415) | jQuery(".select2").select2(); |
| [2416](#L2416) | }, 100); |
| [2417](#L2417) | } |
| [2418](#L2418) | jQuery(document).on("click", ".change\_prodct\_feed\_cat", function () { |
| [2419](#L2419) | jQuery(this).hide(); |
| [2420](#L2420) | var feed\_select\_cat\_id = jQuery(this).attr("data-id"); |
| [2421](#L2421) | var woo\_cat\_id = jQuery(this).attr("data-cat-id"); |
| [2422](#L2422) | jQuery("#category-" + woo\_cat\_id).val("0"); |
| [2423](#L2423) | jQuery("#category-name-" + woo\_cat\_id).val(""); |
| [2424](#L2424) | jQuery("#label-" + feed\_select\_cat\_id).hide(); |
| [2425](#L2425) | jQuery("#" + feed\_select\_cat\_id).css('width', '100%'); |
| [2426](#L2426) | jQuery("#" + feed\_select\_cat\_id).addClass('select2'); |
| [2427](#L2427) | jQuery("#" + feed\_select\_cat\_id).slideDown(); |
| [2428](#L2428) | jQuery("#"+feed\_select\_cat\_id).select2(); |
| [2429](#L2429) | }); |
| [2430](#L2430) |  |
| [2431](#L2431) | </script> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php?rev=3105213&format=txt)
* [Original Format](/export/3105213/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-odd.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

