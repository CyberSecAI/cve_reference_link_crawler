

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fenhanced-e-commerce-for-woocommerce-store%2Ftags%2F7.1.0%2Fadmin%2Fpartials%2Fwizard-productfeed-even.php%3Frev%3D3105213)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← Previous Revision
* [Latest Revision](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php)
* Next Revision →
* [Blame](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php?annotate=blame&rev=3105213 "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php?rev=3105213)

---

# [source:](/browser?rev=3105213&order=name "Go to repository root") [enhanced-e-commerce-for-woocommerce-store](/browser/enhanced-e-commerce-for-woocommerce-store?rev=3105213&order=name "View enhanced-e-commerce-for-woocommerce-store")/[tags](/browser/enhanced-e-commerce-for-woocommerce-store/tags?rev=3105213&order=name "View tags")/[7.1.0](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0?rev=3105213&order=name "View 7.1.0")/[admin](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin?rev=3105213&order=name "View admin")/[partials](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials?rev=3105213&order=name "View partials")/[wizard-productfeed-even.php](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php?rev=3105213&order=name "View wizard-productfeed-even.php") @ [3105213](/changeset/3105213/ "View changeset 3105213")

View diff against:

View revision:

| [Last change](/changeset/3105213/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php "View differences") on this file since 3105213 was [3105213](/changeset/3105213/ "View changeset 3105213"), checked in by vinayconversios, [7 months ago](/timeline?from=2024-06-20T14%3A45%3A18Z&precision=second "See timeline at 06/20/2024 02:45:18 PM") |
| --- |
| EcommerceEventLeadGenEvents |
| **File size:** 107.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if (!defined('ABSPATH')) exit; // Exit if accessed directly |
| [3](#L3) | require\_once ABSPATH . 'wp-admin/includes/class-wp-filesystem-base.php'; |
| [4](#L4) | require\_once ABSPATH . 'wp-admin/includes/class-wp-filesystem-direct.php'; |
| [5](#L5) |  |
| [6](#L6) | $TVC\_Admin\_Helper = new TVC\_Admin\_Helper(); |
| [7](#L7) | $customApiObj = new CustomApi(); |
| [8](#L8) | if (isset($\_GET['g\_mail']) && isset($\_GET['wizard\_channel']) && $\_GET['wizard\_channel'] == 'gmcsetting') { |
| [9](#L9) | update\_option('ee\_customer\_gmail', sanitize\_email($\_GET['g\_mail'])); |
| [10](#L10) | $TVC\_Admin\_Helper->update\_subscription\_details\_api\_to\_db(); |
| [11](#L11) | } |
| [12](#L12) | $ee\_options = unserialize(get\_option("ee\_options")); |
| [13](#L13) | $ee\_mapped\_attrs = unserialize(get\_option('ee\_prod\_mapped\_attrs')); |
| [14](#L14) | $tempAddAttr = $ee\_mapped\_attrs; |
| [15](#L15) |  |
| [16](#L16) | if (!class\_exists('TVCProductSyncHelper')) { |
| [17](#L17) | include(ENHANCAD\_PLUGIN\_DIR . 'includes/setup/class-tvc-product-sync-helper.php'); |
| [18](#L18) | } |
| [19](#L19) | $TVCProductSyncHelper = new TVCProductSyncHelper(); |
| [20](#L20) | $wooCommerceAttributes = array\_map("unserialize", array\_unique(array\_map("serialize", $TVCProductSyncHelper->wooCommerceAttributes()))); |
| [21](#L21) |  |
| [22](#L22) | $tvc\_data = $TVC\_Admin\_Helper->get\_store\_data(); |
| [23](#L23) | $g\_mail = get\_option('ee\_customer\_gmail'); |
| [24](#L24) | if (isset($\_GET['g\_mail']) && isset($\_GET['wizard\_channel']) && $\_GET['wizard\_channel'] == 'gmcsetting') { |
| [25](#L25) | $g\_mail = sanitize\_email($\_GET['g\_mail']); |
| [26](#L26) | } |
| [27](#L27) | $tvc\_data['g\_mail'] = ""; |
| [28](#L28) | if ($g\_mail) { |
| [29](#L29) | $tvc\_data['g\_mail'] = sanitize\_email($g\_mail); |
| [30](#L30) | } |
| [31](#L31) | $subscriptionId = $ee\_options['subscription\_id']; |
| [32](#L32) | $app\_id = 1; |
| [33](#L33) | $pixelprogressbarclass = 0; |
| [34](#L34) | $google\_merchant\_center\_id  = ''; |
| [35](#L35) | $merchan\_id = ''; |
| [36](#L36) | $is\_channel\_connected = false; |
| [37](#L37) | if (isset($ee\_options['google\_merchant\_center\_id']) && $ee\_options['google\_merchant\_center\_id'] !== '') { |
| [38](#L38) | $google\_merchant\_center\_id  = $ee\_options['google\_merchant\_center\_id']; |
| [39](#L39) | $merchan\_id = isset($ee\_options['merchant\_id']) ? $ee\_options['merchant\_id'] : ''; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | $is\_tiktok\_connected = false; |
| [43](#L43) | $tiktok\_mail = isset($ee\_options['tiktok\_setting']['tiktok\_mail']) === TRUE ? $ee\_options['tiktok\_setting']['tiktok\_mail'] : ''; |
| [44](#L44) | $tiktok\_user\_id = isset($ee\_options['tiktok\_setting']['tiktok\_user\_id']) === TRUE ? $ee\_options['tiktok\_setting']['tiktok\_user\_id'] : ''; |
| [45](#L45) | $tiktok\_business\_id = isset($ee\_options['tiktok\_setting']['tiktok\_business\_id']) === TRUE ? $ee\_options['tiktok\_setting']['tiktok\_business\_id'] : ''; |
| [46](#L46) | $tiktok\_business\_name = isset($ee\_options['tiktok\_setting']['tiktok\_business\_name']) === TRUE ? $ee\_options['tiktok\_setting']['tiktok\_business\_name'] : ''; |
| [47](#L47) | //$fb\_business\_id = isset($ee\_options['facebook\_setting']['fb\_business\_id']) === TRUE ? $ee\_options['facebook\_setting']['fb\_business\_id'] : ''; |
| [48](#L48) | if (isset($\_GET['tiktok\_mail']) == TRUE) { |
| [49](#L49) | $tiktok\_mail = sanitize\_email($\_GET['tiktok\_mail']); |
| [50](#L50) | $is\_tiktok\_connected = true; |
| [51](#L51) | } |
| [52](#L52) | if (isset($\_GET['tiktok\_user\_id']) == TRUE) { |
| [53](#L53) | $tiktok\_user\_id = sanitize\_text\_field($\_GET['tiktok\_user\_id']); |
| [54](#L54) | } |
| [55](#L55) | $connect\_gmc\_url = $TVC\_Admin\_Helper->get\_custom\_connect\_url(admin\_url() . 'admin.php?page=conversios&wizard=productFeedEven\_gmcsetting'); |
| [56](#L56) | //$getCountris = @file\_get\_contents(ENHANCAD\_PLUGIN\_DIR . "includes/setup/json/countries.json"); |
| [57](#L57) |  |
| [58](#L58) | $filesystem = new WP\_Filesystem\_Direct(true); |
| [59](#L59) | $getCountris = $filesystem->get\_contents(ENHANCAD\_PLUGIN\_DIR . "includes/setup/json/countries.json"); |
| [60](#L60) |  |
| [61](#L61) | $contData = json\_decode($getCountris); |
| [62](#L62) | $site\_url = "admin.php?page=conversios-google-shopping-feed&tab="; |
| [63](#L63) | $dashboard\_url = "admin.php?page=conversios"; |
| [64](#L64) | $is\_refresh\_token\_expire = false; |
| [65](#L65) | ?> |
| [66](#L66) | <style> |
| [67](#L67) | body { |
| [68](#L68) | background: white !important; |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) | #conversioshead, |
| [72](#L72) | #conversioshead\_notice { |
| [73](#L73) | display: none; |
| [74](#L74) | } |
| [75](#L75) |  |
| [76](#L76) | .nav-item { |
| [77](#L77) | width: 33.3%; |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | .nav-link { |
| [81](#L81) | color: #495057; |
| [82](#L82) | background-color: #fff; |
| [83](#L83) | border-color: #fff; |
| [84](#L84) | padding: 0.2rem 1rem 0.5rem 0.2rem; |
| [85](#L85) | } |
| [86](#L86) |  |
| [87](#L87) | .nav-tabs .nav-link.active { |
| [88](#L88) | color: #0d6efd; |
| [89](#L89) | background-color: #fff; |
| [90](#L90) | border-color: #fff; |
| [91](#L91) | } |
| [92](#L92) |  |
| [93](#L93) | .nav-tabs .nav-link:hover { |
| [94](#L94) | background-color: #fff; |
| [95](#L95) | border-color: #fff; |
| [96](#L96) | } |
| [97](#L97) |  |
| [98](#L98) | .w-33 { |
| [99](#L99) | width: 50% !important; |
| [100](#L100) | } |
| [101](#L101) |  |
| [102](#L102) | .w-66 { |
| [103](#L103) | width: 100% !important; |
| [104](#L104) | } |
| [105](#L105) |  |
| [106](#L106) | img { |
| [107](#L107) | width: 24px; |
| [108](#L108) | height: 24px; |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | .span-text { |
| [112](#L112) | width: 240px; |
| [113](#L113) | height: 24px; |
| [114](#L114) | font-weight: 700; |
| [115](#L115) | font-size: 16px; |
| [116](#L116) | line-height: 24px; |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | .inner-text { |
| [120](#L120) | width: 226px; |
| [121](#L121) | height: 22px; |
| [122](#L122) | font-weight: 600; |
| [123](#L123) | font-size: 14px; |
| [124](#L124) | line-height: 24px; |
| [125](#L125) | color: #5F6368; |
| [126](#L126) | } |
| [127](#L127) |  |
| [128](#L128) | .form-control, |
| [129](#L129) | .select2.select2-container--default .select2-selection--single { |
| [130](#L130) | border-radius: 4px; |
| [131](#L131) | padding-left: 0px; |
| [132](#L132) | height: 40px; |
| [133](#L133) | } |
| [134](#L134) |  |
| [135](#L135) | .fs-15 { |
| [136](#L136) | font-size: 15px; |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | .placeholder { |
| [140](#L140) | min-height: 0.5em; |
| [141](#L141) | vertical-align: bottom; |
| [142](#L142) | background-color: #387EF5; |
| [143](#L143) | } |
| [144](#L144) |  |
| [145](#L145) | .placeholder-wave { |
| [146](#L146) | margin: 0px !important; |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | .text-grey { |
| [150](#L150) | color: #5F6368; |
| [151](#L151) | } |
| [152](#L152) |  |
| [153](#L153) | .select2-results\_\_option--selectable { |
| [154](#L154) | font-size: 14px; |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | .select2-container--default .select2-selection--single .select2-selection\_\_rendered { |
| [158](#L158) | font-size: 14px; |
| [159](#L159) | } |
| [160](#L160) |  |
| [161](#L161) | .pointer { |
| [162](#L162) | cursor: pointer; |
| [163](#L163) | } |
| [164](#L164) |  |
| [165](#L165) | .google-btn img { |
| [166](#L166) | width: 100% !important; |
| [167](#L167) | height: auto !important; |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | .btn-channel-primary { |
| [171](#L171) | width: 183px; |
| [172](#L172) | height: 38px; |
| [173](#L173) | border-radius: 4px; |
| [174](#L174) | padding: 8px 10px 8px 10px; |
| [175](#L175) | gap: 10px; |
| [176](#L176) | color: #FFF; |
| [177](#L177) | background-color: #1085F1; |
| [178](#L178) | border-color: #1085F1; |
| [179](#L179) | } |
| [180](#L180) |  |
| [181](#L181) | .btn-channel-primary:hover { |
| [182](#L182) | color: #FFF; |
| [183](#L183) | } |
| [184](#L184) |  |
| [185](#L185) | .btn-channel { |
| [186](#L186) | width: 150px; |
| [187](#L187) | height: 38px; |
| [188](#L188) | border-radius: 4px; |
| [189](#L189) | padding: 8px 10px 8px 10px; |
| [190](#L190) | gap: 10px; |
| [191](#L191) | color: #FFF; |
| [192](#L192) | background-color: #1085F1; |
| [193](#L193) | border-color: #1085F1; |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | .btn-channel:hover { |
| [197](#L197) | color: #FFF; |
| [198](#L198) | } |
| [199](#L199) |  |
| [200](#L200) | .attributeMappingDiv { |
| [201](#L201) | height: 48px; |
| [202](#L202) | border-radius: 8px 8px 0px 0px; |
| [203](#L203) | padding: 0px 24px 0px 24px; |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | .attrDiv { |
| [207](#L207) | border-radius: 8px; |
| [208](#L208) | border: 1px solid #ccc; |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | .fw-semibold { |
| [212](#L212) | font-weight: 600; |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | .progress-materializecss { |
| [216](#L216) | z-index: 99; |
| [217](#L217) | } |
| [218](#L218) |  |
| [219](#L219) | .modal\_popup\_logo\_success { |
| [220](#L220) | color: #09BD83; |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | .modal\_popup\_logo\_error { |
| [224](#L224) | color: #ff3333; |
| [225](#L225) | } |
| [226](#L226) |  |
| [227](#L227) | .progressinfo { |
| [228](#L228) | text-align: right; |
| [229](#L229) | font-size: 12px; |
| [230](#L230) | line-height: 16px; |
| [231](#L231) | color: #515151; |
| [232](#L232) | margin-top: 9px; |
| [233](#L233) | } |
| [234](#L234) |  |
| [235](#L235) | .progress { |
| [236](#L236) | display: -ms-flexbox; |
| [237](#L237) | display: flex; |
| [238](#L238) | height: 10px; |
| [239](#L239) | overflow: hidden; |
| [240](#L240) | line-height: 0; |
| [241](#L241) | background-color: #F3F3F3; |
| [242](#L242) | border-radius: 100px; |
| [243](#L243) | } |
| [244](#L244) |  |
| [245](#L245) | .progress-bar { |
| [246](#L246) | display: -ms-flexbox; |
| [247](#L247) | display: flex; |
| [248](#L248) | -ms-flex-direction: column; |
| [249](#L249) | flex-direction: column; |
| [250](#L250) | -ms-flex-pack: center; |
| [251](#L251) | justify-content: center; |
| [252](#L252) | overflow: hidden; |
| [253](#L253) | color: #fff; |
| [254](#L254) | text-align: left; |
| [255](#L255) | padding-left: 24px; |
| [256](#L256) | white-space: nowrap; |
| [257](#L257) | background: #1085F1; |
| [258](#L258) | transition: width 0.6s ease; |
| [259](#L259) | border-radius: 100px; |
| [260](#L260) | } |
| [261](#L261) |  |
| [262](#L262) | .errorInput { |
| [263](#L263) | border: 1.3px solid #ef1717 !important; |
| [264](#L264) | padding: 0px; |
| [265](#L265) | border-radius: 6px; |
| [266](#L266) | } |
| [267](#L267) |  |
| [268](#L268) | .form-check-input:checked { |
| [269](#L269) | border-radius: 4px !important; |
| [270](#L270) | } |
| [271](#L271) |  |
| [272](#L272) | #autoSync:checked { |
| [273](#L273) | border-radius: 2em !important; |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | .nav-item { |
| [277](#L277) | width: 50%; |
| [278](#L278) | } |
| [279](#L279) | </style> |
| [280](#L280) |  |
| [281](#L281) | <div class="container container-old conv-container conv-setting-container"> |
| [282](#L282) | <div class="row"> |
| [283](#L283) | <div class="mx-auto d-flex justify-content-end" style="max-width: 930px;"> |
| [284](#L284) | <div class="text-dark m-4 h6 d-flex align-items-center convexitwizard pointer" data-bs-toggle="modal" data-bs-target="#exitwizardconvmodal"> |
| [285](#L285) | <span class="material-symbols-outlined"> |
| [286](#L286) | cancel |
| [287](#L287) | </span> |
| [288](#L288) | <span><?php esc\_html\_e("Exit Wizard", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [289](#L289) | </div> |
| [290](#L290) | </div> |
| [291](#L291) | <div class="mx-auto convcard p-0 mt-0 rounded-3 shadow-lg" style="max-width:903px"> |
| [292](#L292) | <ul class="nav nav-tabs border-0 p-3 pb-0" id="myTab" role="tablist"> |
| [293](#L293) | <li class="nav-item" role="presentation"> |
| [294](#L294) | <button style="pointer-events: none;" class="d-inline-flex align-items-center pawizard\_tab\_but border-0 nav-link active ps-0" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true"> |
| [295](#L295) | <span class="material-symbols-outlined add-channel mt-1 float-start <?php echo $is\_channel\_connected ? 'text-success' : 'text-warning' ?>"> |
| [296](#L296) | <?php echo $is\_channel\_connected ? 'check\_circle' : 'history\_toggle\_off' ?> |
| [297](#L297) | </span> |
| [298](#L298) | <h5 class="text-start m-0 ps-1 mt-1"><?php esc\_html\_e("Channel Configuration", "enhanced-e-commerce-for-woocommerce-store"); ?></h5> |
| [299](#L299) | </button> |
| [300](#L300) | </li> |
| [301](#L301) | <li class="nav-item" role="presentation"> |
| [302](#L302) | <button style="pointer-events: none;" class="d-inline-flex align-items-center pawizard\_tab\_but border-0 nav-link ps-0" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false"> |
| [303](#L303) | <span class="material-symbols-outlined create-feed float-start mt-1 text-warning"> |
| [304](#L304) | history\_toggle\_off |
| [305](#L305) | </span> |
| [306](#L306) | <h5 class="text-start m-0 ps-1 mt-1"><?php esc\_html\_e("Create Product Feed", "enhanced-e-commerce-for-woocommerce-store"); ?></h5> |
| [307](#L307) | </button> |
| [308](#L308) | </li> |
| [309](#L309) | </ul> |
| [310](#L310) |  |
| [311](#L311) | <div class="tab-content p-3 pt-0" id="myTabContent"> |
| [312](#L312) | <div class="progress"> |
| [313](#L313) | <div class="progress-bar w-<?php echo esc\_attr($pixelprogressbarclass) ?>" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div> |
| [314](#L314) | </div> |
| [315](#L315) | <input type="hidden" id="pixelprogressbarclass" value="<?php echo esc\_attr($pixelprogressbarclass) ?>"> |
| [316](#L316) | <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab"> |
| [317](#L317) | <div class="convcard p-4 mt-0 rounded-3 shadow-sm"> |
| [318](#L318) | <?php require\_once("wizardsettings/gmcsettings.php"); // deprecated! |
| [319](#L319) | ?> |
| [320](#L320) |  |
| [321](#L321) | <div id="tiktokSetting\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [322](#L322) | <div class="indeterminate"></div> |
| [323](#L323) | </div> |
| [324](#L324) | <div class="tiktokSetting\_hr border-top mb-3"></div> |
| [325](#L325) | <?php |
| [326](#L326) | require\_once ENHANCAD\_PLUGIN\_DIR . 'admin/class-tvc-admin-helper.php'; |
| [327](#L327) | $tvcAdminHelper = new TVC\_Admin\_DB\_Helper(); |
| [328](#L328) | $catalogData = $tvcAdminHelper->tvc\_get\_results('ee\_tiktok\_catalog'); |
| [329](#L329) | $catalogCountry = array(); |
| [330](#L330) | $catalog\_business\_id = array(); |
| [331](#L331) | if (is\_array($catalogData) && !empty($catalogData)) { |
| [332](#L332) | foreach ($catalogData as $key => $value) { |
| [333](#L333) | $catalogCountry[$key] = $value->country; |
| [334](#L334) | $catalog\_business\_id[$key] = $value->catalog\_id; |
| [335](#L335) | } |
| [336](#L336) | } |
| [337](#L337) | //$connect\_url = $TVC\_Admin\_Helper->get\_custom\_connect\_url\_subpage(admin\_url() . 'admin.php?page=conversios-google-shopping-feed', "tiktokBusinessSettings"); |
| [338](#L338) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*Tiktok Auth start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [339](#L339) | $confirm\_url = "admin.php?page=conversios&wizard=productFeedEven\_tiktoksetting"; |
| [340](#L340) | $state = ['confirm\_url' => admin\_url() . $confirm\_url, 'subscription\_id' => $subscriptionId]; |
| [341](#L341) | $tiktok\_auth\_url = "https://ads.tiktok.com/marketing\_api/auth?app\_id=7233778425326993409&redirect\_uri=https://laraveldev.tatvic.com/laravelapi/public/auth/tiktok/callback&rid=q6uerfg9osn&state=" . urlencode(wp\_json\_encode($state)); |
| [342](#L342) | ?> |
| [343](#L343) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conv\_tiktok\_logo.png'); ?>"> |
| [344](#L344) | <span class="span-text"><?php esc\_html\_e("TikTok Business Account", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [345](#L345) | <div class="mt-2"> |
| [346](#L346) | <span class="fs-12 fw-normal text-grey"> |
| [347](#L347) | <?php esc\_html\_e("Product feed to TikTok catalog help you to run ads on tiktok for your product and reach out to more than 900 Million people.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [348](#L348) | </span> |
| [349](#L349) | </div> |
| [350](#L350) | <div class="product-feed"> |
| [351](#L351) | <div class="card-body"> |
| [352](#L352) | <div class="progress-wholebox"> |
| [353](#L353) | <ul class="progress-steps"> |
| [354](#L354) | <li class="<?php echo ($tiktok\_mail && $tiktok\_user\_id) ? "" : "disable"; ?>" style="min-height:68px;"> |
| [355](#L355) | <div class="step-box"> |
| [356](#L356) | <div style="padding-top: 8px"> |
| [357](#L357) | <?php if ($tiktok\_mail === '' && $tiktok\_user\_id === '') { ?> |
| [358](#L358) | <a onclick='window.open("<?php echo esc\_url($tiktok\_auth\_url) ?>","MyWindow","width=800,height=700,left=300, top=150"); return false;' href="#" class="signIn"> |
| [359](#L359) | <button class="btn btn-outline-dark" id=""><img style="width:19px" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conv\_tiktok\_logo.png'); ?>"> |
| [360](#L360) | &nbsp;Continue with TikTok</button> |
| [361](#L361) | </a> |
| [362](#L362) | <p class="mt-2" style="font-size: 10px;">Please login to the Email account linked to your TikTok Business account so that we can get you business accounts and catalogs and use Chrome for best experience.</p> |
| [363](#L363) |  |
| [364](#L364) | <?php } else { ?> |
| [365](#L365) | <span class="fs-14 fw-normal text-grey mb-1"> |
| [366](#L366) | <?php echo esc\_html($tiktok\_mail) . ', <b>User Id: </b>' . esc\_html($tiktok\_user\_id) . ' '; ?> |
| [367](#L367) | </span> |
| [368](#L368) | <a onclick='window.open("<?php echo esc\_url($tiktok\_auth\_url) ?>","MyWindow","width=800,height=700,left=300, top=150"); return false;' href="#" class="signIn">Change</a> |
| [369](#L369) | <?php } ?> |
| [370](#L370) | <input type="hidden" id="tiktok\_mail" value=<?php echo esc\_attr($tiktok\_mail) ?>> |
| [371](#L371) | <input type="hidden" id="tiktok\_user\_id" value=<?php echo esc\_attr($tiktok\_user\_id) ?>> |
| [372](#L372) | </div> |
| [373](#L373) | </div> |
| [374](#L374) | </li> |
| [375](#L375) | <li class="<?php echo esc\_attr($tiktok\_business\_id) ? "" : "disable"; ?>" style="min-height:120px;"> |
| [376](#L376) | <div class="step-box"> |
| [377](#L377) | <span class="inner-text"><?php esc\_html\_e("TikTok Business Account ID", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [378](#L378) | <div class="row"> |
| [379](#L379) | <div class="col-6"> |
| [380](#L380) | <select id="tiktok\_business\_id" name="tiktok\_business\_id" class="form-select selectthree" disabled style="width: 100%"> |
| [381](#L381) | <option value="">Select Tiktok Business Account Id</option> |
| [382](#L382) | </select> |
| [383](#L383) | </div> |
| [384](#L384) | <div class="col-4" style="padding-top: 10px;padding-left:0px"> |
| [385](#L385) | <?php if ($tiktok\_user\_id) { ?> |
| [386](#L386) | <span class="fs-14 text-primary pointer gettitokList"><span class="material-symbols-outlined md-18">edit</span>Edit</span> |
| [387](#L387) | <?php } ?> |
| [388](#L388) | </div> |
| [389](#L389) | <span class="fs-12 fw-normal text-grey"> |
| [390](#L390) | <?php esc\_html\_e("Choose your Tiktok Business account from the dropdown.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [391](#L391) | </span> |
| [392](#L392) | </div> |
| [393](#L393) | </div> |
| [394](#L394) | </li> |
| [395](#L395) | <li class="<?php echo (is\_array($catalogData) && !empty($catalogData)) ? "" : "disable"; ?>" style="min-height:68px;"> |
| [396](#L396) | <div class="step-box"> |
| [397](#L397) | <span class="inner-text"> |
| [398](#L398) | <?php esc\_html\_e(" Map Catalog For Target Country", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [399](#L399) | </span> |
| [400](#L400) | <div class="row pt-2"> |
| [401](#L401) | <div class="col-12"> |
| [402](#L402) | <table class="table table-bordered" id="map\_catalog\_table" style="width:100%"> |
| [403](#L403) | <thead> |
| [404](#L404) | <tr class=""> |
| [405](#L405) | <th scope="col" class="text-start "> |
| [406](#L406) | <?php esc\_html\_e("Target Country", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [407](#L407) | </th> |
| [408](#L408) | <th scope="col" class="text-start"> |
| [409](#L409) | <?php esc\_html\_e("Catalog Id", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [410](#L410) | </th> |
| [411](#L411) | </tr> |
| [412](#L412) | </thead> |
| [413](#L413) | <tbody id="table-body"> |
| [414](#L414) |  |
| [415](#L415) | </tbody> |
| [416](#L416) | </table> |
| [417](#L417) | </div> |
| [418](#L418) | </div> |
| [419](#L419) | </div> |
| [420](#L420) | </li> |
| [421](#L421) | </ul> |
| [422](#L422) | </div> |
| [423](#L423) | <button class="btn btn-primary fs-14 saveTiktok px-5 ms-3" disabled> |
| [424](#L424) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [425](#L425) | Save |
| [426](#L426) | </button> |
| [427](#L427) | </div> |
| [428](#L428) | </div> |
| [429](#L429) | <div style="display: flex; justify-content: end"> |
| [430](#L430) | <button class="btn btn-channel-primary fs-14 channelTabSave" disabled>Next</button> |
| [431](#L431) | </div> |
| [432](#L432) | </div> |
| [433](#L433) | </div> |
| [434](#L434) | <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab"> |
| [435](#L435) | <div id="createFeed\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%;"> |
| [436](#L436) | <div class="indeterminate"></div> |
| [437](#L437) | </div> |
| [438](#L438) | <div class="convcard p-4 mt-0 rounded-3 shadow-sm"> |
| [439](#L439) | <span class="span-text"><?php esc\_html\_e("Create Product Feed", "enhanced-e-commerce-for-woocommerce-store"); ?></span> |
| [440](#L440) | <div class="mt-3 col-6"> |
| [441](#L441) | <span for="feed\_name" class="inner-text"> |
| [442](#L442) | <?php esc\_html\_e("Feed Name", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [443](#L443) | </span> |
| [444](#L444) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" title="Add a name to your feed for your reference, for example, 'April end-of-season sales' or 'Black Friday sales for the USA'."> |
| [445](#L445) | info |
| [446](#L446) | </span> |
| [447](#L447) | <input type="text" class="form-control fs-14" name="feedName" id="feedName" placeholder="e.g. New Summer Collection"> |
| [448](#L448) | </div> |
| [449](#L449) | <div class="mt-3 col-6"> |
| [450](#L450) | <span for="" class="inner-text"> |
| [451](#L451) | <?php esc\_html\_e("Target Country", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [452](#L452) | </span> |
| [453](#L453) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" title="Specify the target country for your product feed. Select the country where you intend to promote and sell your products."> |
| [454](#L454) | info |
| [455](#L455) | </span> |
| [456](#L456) | <select class="form-select form-select-sm mb-3" aria-label="form-select-sm example" style="width: 100%" name="feed\_target\_country" id="feed\_target\_country"> |
| [457](#L457) | <option value="">Select Country</option> |
| [458](#L458) | <?php |
| [459](#L459) | $selecetdCountry = $tvc\_data['user\_country']; |
| [460](#L460) | foreach ($contData as $key => $value) { |
| [461](#L461) | ?> |
| [462](#L462) | <option value="<?php echo esc\_attr($value->code) ?>" <?php echo $selecetdCountry === $value->code ? 'selected = "selecetd"' : '' ?>><?php echo esc\_html($value->name) ?></option>" |
| [463](#L463) | <?php |
| [464](#L464) | } |
| [465](#L465) |  |
| [466](#L466) | ?> |
| [467](#L467) | </select> |
| [468](#L468) | </div> |
| [469](#L469) | <div class="mt-3 col-12"> |
| [470](#L470) | <span for="" class="inner-text"> |
| [471](#L471) | <?php esc\_html\_e("Select Channels", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [472](#L472) | </span> |
| [473](#L473) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" title="Below is the list of channels that you have linked for product feed. Please note you will not be able to make any changes in the selected channels once product feed process is done."> |
| [474](#L474) | info |
| [475](#L475) | </span> |
| [476](#L476) | <div class=""> |
| [477](#L477) | <div class="form-check form-check-custom"> |
| [478](#L478) | <input class="form-check-input check-height fs-14 errorChannel" type="checkbox" value="" id="gmc\_id" name="gmc\_id"> |
| [479](#L479) | <span for="" class="fs-14 pt-0 text-grey fw-normal"> |
| [480](#L480) | <?php esc\_html\_e("Google Merchant Center Account :", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [481](#L481) | </span> |
| [482](#L482) | <label class="fs-14 pt-0 fw-normal text-grey google\_merchant\_center\_id"> |
| [483](#L483) |  |
| [484](#L484) | </label> |
| [485](#L485) | </div> |
| [486](#L486) | </div> |
| [487](#L487) | <div class=""> |
| [488](#L488) | <div class="form-check form-check-custom"> |
| [489](#L489) | <input class="form-check-input check-height fs-14 errorChannel" type="checkbox" value="" id="tiktok\_id" name="tiktok\_id"> |
| [490](#L490) | <span for="" class="fs-14 pt-0 text-grey fw-normal"> |
| [491](#L491) | <?php esc\_html\_e("TikTok Catalog Id :", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [492](#L492) | </span> |
| [493](#L493) | <label class="fs-14 pt-0 fw-normal text-grey tiktok\_catalog\_id"> |
| [494](#L494) |  |
| [495](#L495) | </label> |
| [496](#L496) | </div> |
| [497](#L497) | </div> |
| [498](#L498) | <!-- <div class=""> |
| [499](#L499) | <div class="form-check form-check-custom"> |
| [500](#L500) | <input class="form-check-input check-height fs-14 errorChannel" type="checkbox" |
| [501](#L501) | value="" id="fb\_id" |
| [502](#L502) | name="fb\_id" > |
| [503](#L503) | <span for="" class="fs-14 pt-0 text-grey fw-normal"> |
| [504](#L504) | <?php //esc\_html\_e("Facebook Catalog Id :", "enhanced-e-commerce-for-woocommerce-store"); |
| [505](#L505) | ?> |
| [506](#L506) | </span> |
| [507](#L507) | <label class="fs-14 pt-0 fw-normal text-grey fb\_id"> |
| [508](#L508) |  |
| [509](#L509) | </label> |
| [510](#L510) | </div> |
| [511](#L511) | </div>                             --> |
| [512](#L512) | </div> |
| [513](#L513) | <div class="row mt-3"> |
| [514](#L514) | <div class="col-4 row"> |
| [515](#L515) | <div class="col-6 pe-0"> |
| [516](#L516) | <span for="auto\_sync" class="inner-text pe-0">Auto Sync</span> |
| [517](#L517) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" title="Turn on this feature to schedule an automated product feed to keep your products up to date with the changes made in the products. You can come and change this any time."> |
| [518](#L518) | info |
| [519](#L519) | </span> |
| [520](#L520) | </div> |
| [521](#L521) | <div class="col-4 ps-0"> |
| [522](#L522) | <div class="form-check form-switch fs-5"> |
| [523](#L523) | <input class="form-check-input" type="checkbox" name="autoSync" id="autoSync" checked> |
| [524](#L524) | </div> |
| [525](#L525) | </div> |
| [526](#L526) | </div> |
| [527](#L527) | <div class="col-6"> |
| [528](#L528) | <span class="inner-text pe-2">Auto Sync Interval</span> |
| [529](#L529) | <input type="text" class="form-control-sm" readonly name="autoSyncIntvl" id="autoSyncIntvl" size="3" min="1" value="25" style="width: 42px" onkeypress="return ( event.charCode === 8 || event.charCode === 0 || event.charCode === 13 || event.charCode === 96) ? null : event.charCode >= 48 && event.charCode <= 57"> |
| [530](#L530) | <span class="fs-14 fw-normal text-grey ps-2">Days</span> |
| [531](#L531) | <span class="conv-link-blue ms-2 fw-bold-500 upgradetopro\_badge ms-auto" data-bs-toggle="modal" data-bs-target="#upgradetopromodal"> |
| [532](#L532) | <img style="width:14px; max-width:100%; height:auto" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/upgrade\_badge.png'); ?>" /> |
| [533](#L533) | <?php esc\_html\_e("Available In Pro", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [534](#L534) | </span> |
| [535](#L535) | </div> |
| [536](#L536) | </div> |
| [537](#L537) | <div class="mt-3"> |
| [538](#L538) | <span for="auto\_sync" class="inner-text">Product Selection</span> |
| [539](#L539) | <span class="material-symbols-outlined fs-6 text-grey pointer" data-bs-toggle="tooltip" data-bs-placement="right" title="Select your woocommerce product to sync in channels."> |
| [540](#L540) | info |
| [541](#L541) | </span> |
| [542](#L542) | <div class="mt-1"> |
| [543](#L543) | <input type="radio" checked name="product\_selection" id="all\_product" value="all\_product"> |
| [544](#L544) | <label class="form-check-label ps-2 fs-14 fw-normal text-grey" for="all\_product"> |
| [545](#L545) | <?php esc\_html\_e("Select All Products", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [546](#L546) | </label> |
| [547](#L547) | <div class="totalCountDiv"><span class="text-grey fs-12"><span class="totalCount"></span> products are ready to sync</span></div> |
| [548](#L548) | </div> |
| [549](#L549) | <div class="mt-2"> |
| [550](#L550) | <input type="radio" name="product\_selection" id="filter\_product" value="filter\_product"> |
| [551](#L551) | <label class="form-check-label ps-2 fs-14 fw-normal text-grey" for="filter\_product"> |
| [552](#L552) | <?php esc\_html\_e("Filter Products", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [553](#L553) | </label> |
| [554](#L554) | </div> |
| [555](#L555) | <div class="col-12 mt-2 d-none AllFilters"> |
| [556](#L556) | <div class="row"> |
| [557](#L557) | <div class="col-3 productDiv"> |
| [558](#L558) | <select class="product createSelect" name="product" style="width: 100%"> |
| [559](#L559) | <option value="0"><?php esc\_html\_e("Select Attribute", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [560](#L560) | <option value="product\_cat"><?php esc\_html\_e("Category", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [561](#L561) | <option value="ID"><?php esc\_html\_e("Product Id", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [562](#L562) | <option value="\_stock\_status"><?php esc\_html\_e("Stock Status", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [563](#L563) | </select> |
| [564](#L564) | </div> |
| [565](#L565) | <div class="col-3 conditionDiv"> |
| [566](#L566) | <select class="condition createSelect" name="condition" style="width: 100%"> |
| [567](#L567) | <option value="0"><?php esc\_html\_e("Select Conditions", "enhanced-e-commerce-for-woocommerce-store"); ?></option> |
| [568](#L568) | </select> |
| [569](#L569) | </div> |
| [570](#L570) | <div class="col-3 textValue"> |
| [571](#L571) | <input type="text" class="form-control from-control-overload value" placeholder="Add value" name="value"> |
| [572](#L572) | </div> |
| [573](#L573) | <div class="col-3 mt-1"> |
| [574](#L574) | <span class="text-primary fs-14 applyFilter pointer">Apply Filter</span> |
| [575](#L575) | </div> |
| [576](#L576) | </div> |
| [577](#L577) | <div class="filterCard"> |
| [578](#L578) |  |
| [579](#L579) | </div> |
| [580](#L580) | <div class="totalCountDivFilter d-none"><span class="text-grey fs-12"><span class="totalCountFilter"></span> products are ready to sync</span></div> |
| [581](#L581) | <input type="hidden" id="productVal" value=""> |
| [582](#L582) | <input type="hidden" id="conditionVal" value=""> |
| [583](#L583) | <input type="hidden" id="valueVal" value=""> |
| [584](#L584) | </div> |
| [585](#L585) |  |
| [586](#L586) | <div class="mt-2"> |
| [587](#L587) | <input type="radio" name="product\_selection" id="specific\_product" value="specific\_product"> |
| [588](#L588) | <label class="form-check-label ps-2 fs-14 fw-normal text-grey" for=""> |
| [589](#L589) | <?php esc\_html\_e("Select Specific Products", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [590](#L590) | </label> |
| [591](#L591) | </div> |
| [592](#L592) | </div> |
| [593](#L593) | <div class="tab\_bottom\_buttons d-flex align-items-center border-top mt-1"> |
| [594](#L594) | <div class="gobackwizard d-flex mt-2"> |
| [595](#L595) | <span class="material-symbols-outlined text-grey"> |
| [596](#L596) | keyboard\_backspace |
| [597](#L597) | </span> |
| [598](#L598) | <div class="align-self-baseline text-grey fs-14 goBackHome"> |
| [599](#L599) | <?php esc\_html\_e('Go Back', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [600](#L600) | </div> |
| [601](#L601) | </div> |
| [602](#L602) | <div class="ms-auto d-flex align-items-center mt-2"> |
| [603](#L603) | <button id="createFeed" type="button" class="btn btn-primary px-5 ms-3 fs-14"> |
| [604](#L604) | <span class="spinner-border text-light spinner-border-sm d-none" role="status" aria-hidden="true"></span> |
| [605](#L605) | <?php esc\_html\_e('Create', "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [606](#L606) | </button> |
| [607](#L607) | </div> |
| [608](#L608) | </div> |
| [609](#L609) | </div> |
| [610](#L610) | </div> |
| [611](#L611) | </div> |
| [612](#L612) | </div> |
| [613](#L613) | </div> |
| [614](#L614) | </div> |
| [615](#L615) | <!-- All Modals Here ---> |
| [616](#L616) | <div class="pp-modal onbrd-popupwrp" id="tvc\_google\_signin" tabindex="-1" role="dialog"> |
| [617](#L617) | <div class="onbrdppmain" role="document"> |
| [618](#L618) | <div class="onbrdnpp-cntner acccretppcntnr"> |
| [619](#L619) | <div class="onbrdnpp-hdr"> |
| [620](#L620) | <div class="ppclsbtn clsbtntrgr"><img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/close-icon.png'); ?>" alt="" /> |
| [621](#L621) | </div> |
| [622](#L622) | </div> |
| [623](#L623) | <div class="onbrdpp-body"> |
| [624](#L624) | <p>-- We recommend to use Chrome browser to configure the plugin if you face any issues during setup. -- |
| [625](#L625) | </p> |
| [626](#L626) | <div class="google\_signin\_sec\_left"> |
| [627](#L627) | <?php if (!isset($tvc\_data['g\_mail']) || $tvc\_data['g\_mail'] == "" || $subscriptionId == "") { ?> |
| [628](#L628) | <div class="google\_connect\_url google-btn"> |
| [629](#L629) |  |
| [630](#L630) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/btn\_google\_signin\_dark\_normal\_web.png'); ?>"> |
| [631](#L631) |  |
| [632](#L632) | </div> |
| [633](#L633) | <?php } else { ?> |
| [634](#L634) | <?php if ($is\_refresh\_token\_expire == true) { ?> |
| [635](#L635) | <p class="alert alert-primary"> |
| [636](#L636) | <?php esc\_html\_e("It seems the token to access your Google accounts is expired. Sign in again to continue.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [637](#L637) | </p> |
| [638](#L638) | <div class="google\_connect\_url google-btn"> |
| [639](#L639) |  |
| [640](#L640) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/btn\_google\_signin\_dark\_normal\_web.png'); ?>"> |
| [641](#L641) |  |
| [642](#L642) | </div> |
| [643](#L643) | <?php } else { ?> |
| [644](#L644) | <div class="google\_connect\_url google-btn"> |
| [645](#L645) |  |
| [646](#L646) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/btn\_google\_signin\_dark\_normal\_web.png'); ?>"> |
| [647](#L647) |  |
| [648](#L648) | </div> |
| [649](#L649) | <?php } ?> |
| [650](#L650) | <?php } ?> |
| [651](#L651) | <p> |
| [652](#L652) | <?php esc\_html\_e("Make sure you sign in with the google email account that has all privileges to access google analytics, google ads and google merchant center account that you want to configure for your store.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [653](#L653) | </p> |
| [654](#L654) | </div> |
| [655](#L655) | <div class="google\_signin\_sec\_right"> |
| [656](#L656) | <h5> |
| [657](#L657) | <?php esc\_html\_e("Why do I need to sign in with google?", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [658](#L658) | </h5> |
| [659](#L659) | <p> |
| [660](#L660) | <?php esc\_html\_e("When you sign in with Google, we ask for limited programmatic access for your accounts in order to automate below features for you:", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [661](#L661) | </p> |
| [662](#L662) | <p><strong> |
| [663](#L663) | <?php esc\_html\_e("1. Google Analytics:", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [664](#L664) | </strong> |
| [665](#L665) | <?php esc\_html\_e("To give you option to select GA accounts, to show actionable google analytics reports in plugin dashboard and to link your google ads account with google analytics account.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [666](#L666) | </p> |
| [667](#L667) | <p><strong> |
| [668](#L668) | <?php esc\_html\_e("2. Google Ads:", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [669](#L669) | </strong> |
| [670](#L670) | <?php esc\_html\_e("To automate dynamic remarketing, conversion and enhanced conversion tracking and to create performance campaigns if required.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [671](#L671) | </p> |
| [672](#L672) | <p><strong> |
| [673](#L673) | <?php esc\_html\_e("3. Google Merchant Center:", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [674](#L674) | </strong> |
| [675](#L675) | <?php esc\_html\_e("To automate product feed using content api and to set up your GMC account.", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [676](#L676) | </p> |
| [677](#L677) |  |
| [678](#L678) | </div> |
| [679](#L679) | </div> |
| [680](#L680) | </div> |
| [681](#L681) | </div> |
| [682](#L682) | </div> |
| [683](#L683) | <div id="overlayanimation" class="overlay\_loader\_conv"> |
| [684](#L684) | <div class="overlay\_loader\_conv-content loaderopen-content d-none"> |
| [685](#L685) | <div class="spinner-border text-success" role="status"> |
| [686](#L686) | <span class="visually-hidden">Loading...</span> |
| [687](#L687) | </div> |
| [688](#L688) | </div> |
| [689](#L689) | <div class="overlay\_loader\_conv-content loadershow-content d-none"> |
| [690](#L690) | <img style="width:8%; height: auto" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/success\_check\_mark.gif'); ?>"> |
| [691](#L691) | <div class="overlaycontentbox"></div> |
| [692](#L692) | </div> |
| [693](#L693) | </div> |
| [694](#L694) |  |
| [695](#L695) | <div class="modal fade" id="conv\_modal\_popup" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [696](#L696) | <div class="modal-dialog modal-dialog-centered"> |
| [697](#L697) | <div class="modal-content"> |
| [698](#L698) | <div class="modal-body text-center p-2 pt-4"> |
| [699](#L699) | <span class="material-symbols-outlined modal\_popup\_logo" style="font-size: 60px;"> |
| [700](#L700) | check\_circle |
| [701](#L701) | </span> |
| [702](#L702) | <h3 class="fw-normal pt-3 conv\_popup\_txt"></h3> |
| [703](#L703) | <span id="conv\_popup\_txt\_msg" class="mb-1 lh-lg"></span> |
| [704](#L704) | </div> |
| [705](#L705) | <div class="modal-footer border-0 pb-4 mb-1"> |
| [706](#L706) | <button class="btn btn-primary m-auto text-white" data-bs-dismiss="modal">Ok, Done</button> |
| [707](#L707) | </div> |
| [708](#L708) | </div> |
| [709](#L709) | </div> |
| [710](#L710) | </div> |
| [711](#L711) | <div class="modal fade" id="conv\_modal\_create\_popup" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [712](#L712) | <div class="modal-dialog modal-dialog-centered"> |
| [713](#L713) | <div class="modal-content"> |
| [714](#L714) | <div class="modal-body text-center p-2 pt-4"> |
| [715](#L715) | <span class="material-symbols-outlined modal\_create\_popup\_logo text-success" style="font-size: 60px;"> |
| [716](#L716) | check\_circle |
| [717](#L717) | </span> |
| [718](#L718) | <h3 class="fw-normal pt-3 conv\_create\_popup\_txt"> Congratulation</h3> |
| [719](#L719) | <span id="conv\_create\_popup\_txt\_msg" class="mb-1 lh-lg"></span> |
| [720](#L720) | </div> |
| [721](#L721) | <div class="modal-footer border-0 pb-4 mb-1"> |
| [722](#L722) | <a href="<?php echo esc\_url($dashboard\_url) . '&returnFrom=productFeed' ?>" class="btn btn-primary m-auto text-white">Take me to Dashboard</a> |
| [723](#L723) | </div> |
| [724](#L724) | </div> |
| [725](#L725) | </div> |
| [726](#L726) | </div> |
| [727](#L727) | <div class="modal fade" id="conv\_modal\_attribute\_popup" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [728](#L728) | <div class="modal-dialog modal-dialog-centered" style="max-width: 700px;"> |
| [729](#L729) | <div class="modal-content"> |
| [730](#L730) | <div class="pt-2"> |
| [731](#L731) | <button type="button" class="btn-close-pop btn-close pe-4 float-end" aria-label="Close"></button> |
| [732](#L732) | </div> |
| [733](#L733) | <div class="modal-body p-2 pt-0"> |
| [734](#L734) | <div class="text-start p-2 pt-0 pb-0"> |
| [735](#L735) | <span class="fs-16 fw-semibold text-grey"><?php esc\_html\_e("Attribute Mapping for Products", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [736](#L736) | <p class="fs-12 fw-normal text-grey mb-1"><?php esc\_html\_e("Correctly mapping your products to the appropriate attributes enhances their relevance to customers, potentially leading to improved conversion rates and boosted sales.", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [737](#L737) | <p class="fs-12 fw-normal text-grey mb-1"><?php esc\_html\_e("Map your Woocommerce product attributes against Conversios product attributes and we will make sure they are rightly synced in google merchant center and/or tiktok.", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [738](#L738) | </div> |
| [739](#L739) | <div id="attr\_loader" class="progress-materializecss d-none ps-2 pe-2" style="width:100%"> |
| [740](#L740) | <div class="indeterminate"></div> |
| [741](#L741) | </div> |
| [742](#L742) | <div class="attrDiv"> |
| [743](#L743) | <div class="conv-light-grey-bg mb-2 attributeMappingDiv"> |
| [744](#L744) | <div class="row"> |
| [745](#L745) | <div class="col-6 pt-2" style="text-align: left"> |
| [746](#L746) | <span class="fs-14 fw-normal text-grey"> |
| [747](#L747) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/conversios\_logo.png'); ?>" /> |
| [748](#L748) | <?php esc\_html\_e("Conversios Product Attribute", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [749](#L749) | </div> |
| [750](#L750) | <div class="col-6 pt-2 ps-0" style="text-align: left"> |
| [751](#L751) | <span class="ps-0 fs-14 fw-normal text-grey"> |
| [752](#L752) | <img src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/woocommerce\_logo.png'); ?>" /> |
| [753](#L753) | <?php esc\_html\_e("WooCommerce Product Attribute", "enhanced-e-commerce-for-woocommerce-store") ?></span> |
| [754](#L754) | </div> |
| [755](#L755) | </div> |
| [756](#L756) | </div> |
| [757](#L757) | <div class="col-12 row bg-white m-0 p-0 mb-3"> |
| [758](#L758) | <div class="col-12  attributeDiv" style="overflow-y: scroll;overflow-x: hidden; max-height:600px; position: relative;"> |
| [759](#L759) | <form id="attribute\_mapping" class="row"> |
| [760](#L760) | </form> |
| [761](#L761) | </div> |
| [762](#L762) | </div> |
| [763](#L763) | </div> |
| [764](#L764) | </div> |
| [765](#L765) | <div class="modal-footer border-0 pb-4 mb-1"> |
| [766](#L766) | <button class="btn btn-primary text-white attr\_mapping\_save" id="attr\_mapping\_save">Create</button> |
| [767](#L767) | </div> |
| [768](#L768) | </div> |
| [769](#L769) | </div> |
| [770](#L770) | </div> |
| [771](#L771) | <!-- Exit Wizard modal --> |
| [772](#L772) | <div class="modal fade" id="exitwizardconvmodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [773](#L773) | <div class="modal-dialog modal-dialog-centered"> |
| [774](#L774) | <div class="modal-content"> |
| [775](#L775) | <div class="modal-body"> |
| [776](#L776) | <p class="m-4 text-center h5"><?php esc\_html\_e("Are you sure you want to exit the setup?", "enhanced-e-commerce-for-woocommerce-store"); ?></p> |
| [777](#L777) | </div> |
| [778](#L778) | <div class="modal-footer"> |
| [779](#L779) | <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal"> |
| [780](#L780) | <?php esc\_html\_e("Continue Setup", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [781](#L781) | </button> |
| [782](#L782) | <a href="<?php echo esc\_url('admin.php?page=conversios&returnFrom=productFeed'); ?>" class="btn btn-primary"> |
| [783](#L783) | <?php esc\_html\_e("Exit Wizard", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [784](#L784) | </a> |
| [785](#L785) | </div> |
| [786](#L786) | </div> |
| [787](#L787) | </div> |
| [788](#L788) | </div> |
| [789](#L789) | <!-- Exit wizard modal End --> |
| [790](#L790) | <!-- Upgrade to PRO modal --> |
| [791](#L791) | <!-- Modal --> |
| [792](#L792) | <div class="modal fade" id="upgradetopromodal" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> |
| [793](#L793) | <div class="modal-dialog modal-dialog-centered modal-lg"> |
| [794](#L794) | <div class="modal-content"> |
| [795](#L795) |  |
| [796](#L796) | <div class="modal-body p-4 pb-0"> |
| [797](#L797) | <div class="container-fluid"> |
| [798](#L798) | <div class="row"> |
| [799](#L799) | <div class="col-12"> |
| [800](#L800) | <h3 class="fw-bold text-uppercase pt-0 d-flex"><img style="height:29px;max-width:100%;margin-right: 10px;" src="<?php echo esc\_url(ENHANCAD\_PLUGIN\_URL . '/admin/images/logos/upgrade\_badge\_big.png'); ?>" /> |
| [801](#L801) | <?php esc\_html\_e("Upgrade to Pro now and enjoy exclusive benefits:", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [802](#L802) | </h3> |
| [803](#L803) | <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> |
| [804](#L804) | <ul class="conv-upgrade-banner-list ps-4 pt-4"> |
| [805](#L805) | <li>Take advantage of <span>Google Consent Mode V2</span> for enhanced tracking across all platforms.</li> |
| [806](#L806) | <li>Use your <span>own GTM container</span> with automated tag triggers.</li> |
| [807](#L807) | <li>Optimize <span>Google Ads conversion tracking</span> for Add To Cart and Begin Checkout.</li> |
| [808](#L808) | <li>Enable <span>Dynamic Remarketing</span> Tags for View\_item, Add\_to\_cart, Begin\_checkout, Purchase.</li> |
| [809](#L809) | <li>Integrate seamlessly with <span>FBCAPI, Snapchat CAPI, and TikTok Events API</span>.</li> |
| [810](#L810) | <li>Access detailed <span>GA4 e-commerce reporting</span>.</li> |
| [811](#L811) | <li>Maximize results with <span>Google Ads conversion reporting</span>.</li> |
| [812](#L812) | <li>Expand your reach with <span>unlimited product feed</span> for Google Merchant Center, FB Catalogue, and TikTok.</li> |
| [813](#L813) | <li>Experience dedicated <span>customer support</span>.</li> |
| [814](#L814) | <li>Implement <span>server-side tagging</span> for enhanced performance.</li> |
| [815](#L815) | </ul> |
| [816](#L816) | </div> |
| [817](#L817) | </div> |
| [818](#L818) | </div> |
| [819](#L819) |  |
| [820](#L820) |  |
| [821](#L821) | </div> |
| [822](#L822) | <div class="modal-footer border-0 pb-4 mb-1 pt-4"> |
| [823](#L823) | <a id="upgradetopro\_modal\_link" class="btn conv-yellow-bg m-auto w-100 mx-4 p-2" href="https://www.conversios.io/wordpress/all-in-one-google-analytics-pixels-and-product-feed-manager-for-woocommerce-pricing/?utm\_source=in\_app&utm\_medium=modal\_popup&utm\_campaign=upgrade" target="\_blank"> |
| [824](#L824) | <?php esc\_html\_e("Upgrade Now", "enhanced-e-commerce-for-woocommerce-store"); ?> |
| [825](#L825) | </a> |
| [826](#L826) | </div> |
| [827](#L827) | </div> |
| [828](#L828) | </div> |
| [829](#L829) | </div> |
| [830](#L830) | <!-- Upgrade to PRO modal End --> |
| [831](#L831) | <!-- End ---------------> |
| [832](#L832) | <script> |
| [833](#L833) | var selected = Array(); |
| [834](#L834) | var cnt = ''; |
| [835](#L835) | jQuery(function() { |
| [836](#L836) | checkProgressBar() |
| [837](#L837) | jQuery('.selecttwo').select2(); |
| [838](#L838) | jQuery('.selectthree').select2(); |
| [839](#L839) | jQuery('.selectfour').select2(); |
| [840](#L840) | jQuery('.selectfive').select2(); |
| [841](#L841) |  |
| [842](#L842) | var tempArr = <?php echo wp\_json\_encode($tempAddAttr) ?> |
| [843](#L843) | var arr = Object.keys(tempArr).map(function(key) { |
| [844](#L844) | return key; |
| [845](#L845) | }); |
| [846](#L846) | selected = arr; |
| [847](#L847) | var tiktok\_user\_id = "<?php echo esc\_js($tiktok\_user\_id) ?>"; |
| [848](#L848) | var tvc\_data = "<?php echo esc\_js(wp\_json\_encode($tvc\_data)); ?>"; |
| [849](#L849) | <?php if (isset($\_GET['g\_mail']) && isset($\_GET['wizard\_channel']) && $\_GET['wizard\_channel'] == 'gmcsetting') { ?> |
| [850](#L850) | jQuery('.getGMCList').addClass('d-none') |
| [851](#L851) | list\_google\_merchant\_account(tvc\_data); |
| [852](#L852) | jQuery('.saveGMC').prop('disabled', false) |
| [853](#L853) | <?php } |
| [854](#L854) | if (isset($\_GET['tiktok\_mail']) == TRUE) { ?> |
| [855](#L855) | jQuery('.gettitokList').addClass('d-none') |
| [856](#L856) | jQuery('#tiktok\_business\_id').prop('disabled', false) |
| [857](#L857) | // list\_tiktok\_business\_account(); |
| [858](#L858) | jQuery('.saveTiktok').prop('disabled', false) |
| [859](#L859) | <?php } |
| [860](#L860) | if (isset($\_GET['g\_mail']) == TRUE && isset($\_GET['wizard\_channel']) &&  $\_GET['wizard\_channel'] == 'fbsetting') { ?> |
| [861](#L861) | // jQuery('.getfbList').addClass('d-none') |
| [862](#L862) | // jQuery('#fb\_business\_id').prop('disabled', false) |
| [863](#L863) | // jQuery('#fb\_catalog\_id').prop('disabled', false) |
| [864](#L864) | // get\_facebook\_bussiness() |
| [865](#L865) | // jQuery('.saveFB').prop('disabled', false) |
| [866](#L866) |  |
| [867](#L867) | <?php } |
| [868](#L868) | ?> |
| [869](#L869) | if (tiktok\_user\_id !== '') { |
| [870](#L870) | list\_tiktok\_business\_account(); |
| [871](#L871) | } |
| [872](#L872) |  |
| [873](#L873) | //get\_facebook\_bussiness() |
| [874](#L874) |  |
| [875](#L875) |  |
| [876](#L876) | jQuery(document).on('click', '#home-tab', function() { |
| [877](#L877) | if (jQuery("select").hasClass('catalogId')) { |
| [878](#L878) | if (jQuery('.catalogId').data('select2')) { |
| [879](#L879) | jQuery(".catalogId").select2('destroy') |
| [880](#L880) | } |
| [881](#L881) | } |
| [882](#L882) | if (jQuery('.createSelect').data('select2')) { |
| [883](#L883) | jQuery('.createSelect').select2('destroy'); |
| [884](#L884) | jQuery('#feed\_target\_country').select2('destroy'); |
| [885](#L885) | } |
| [886](#L886) | jQuery('.selecttwo').select2(); |
| [887](#L887) | jQuery('.selectthree').select2(); |
| [888](#L888) | jQuery('.selectfour').select2(); |
| [889](#L889) | jQuery('.selectfive').select2(); |
| [890](#L890) | if (jQuery("select").hasClass('catalogId')) { |
| [891](#L891) | jQuery(".catalogId").select2({ |
| [892](#L892) | dropdownCssClass: "fs-12" |
| [893](#L893) | }) |
| [894](#L894) | } |
| [895](#L895) | }) |
| [896](#L896) | jQuery(document).on('click', '.btn-close-pop', function() { |
| [897](#L897) | setTimeout(function() { |
| [898](#L898) | jQuery('#feed\_target\_country').select2() |
| [899](#L899) | }, 100); |
| [900](#L900) | jQuery('#conv\_modal\_attribute\_popup').modal('hide') |
| [901](#L901) | }) |
| [902](#L902) | jQuery(document).on('click', '.goBackHome', function() { |
| [903](#L903) | jQuery('[data-bs-target="#home"]').trigger('click') |
| [904](#L904) | }) |
| [905](#L905) | jQuery(document).on('click', '.getGMCList', function() { |
| [906](#L906) | jQuery('.getGMCList').addClass('d-none') |
| [907](#L907) | list\_google\_merchant\_account(tvc\_data); |
| [908](#L908) | jQuery('.saveGMC').prop('disabled', false) |
| [909](#L909) | }) |
| [910](#L910) | jQuery(document).on('click', '.gettitokList', function() { |
| [911](#L911) | jQuery('.gettitokList').addClass('d-none') |
| [912](#L912) | jQuery('#tiktok\_business\_id').prop('disabled', false) |
| [913](#L913) | list\_tiktok\_business\_account(); |
| [914](#L914) | jQuery('.saveTiktok').prop('disabled', false) |
| [915](#L915) | }) |
| [916](#L916) | // jQuery(document).on('click', '.getfbList', function() { |
| [917](#L917) | //     jQuery('.getfbList').addClass('d-none') |
| [918](#L918) | //     jQuery('#fb\_business\_id').prop('disabled', false) |
| [919](#L919) | //     jQuery('#fb\_catalog\_id').prop('disabled', false) |
| [920](#L920) | //     get\_facebook\_bussiness(); |
| [921](#L921) | //     jQuery('.saveFB').prop('disabled', false) |
| [922](#L922) | // }) |
| [923](#L923) | jQuery(document).on('change', '.catalogId', function() { |
| [924](#L924) | jQuery('.saveTiktok').prop('disabled', false) |
| [925](#L925) | }) |
| [926](#L926) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*document event start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [927](#L927) | /\*\*\*\*\*\*\*\*\*\*Channel Configuration Events start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [928](#L928) | jQuery(document).on("change", "#tiktok\_business\_id", function() { |
| [929](#L929) | get\_tiktok\_user\_catalogs() |
| [930](#L930) | }); |
| [931](#L931) | // jQuery(document).on("change", "#fb\_business\_id", function () { |
| [932](#L932) | //     jQuery('.selection').find("[aria-labelledby='select2-fb\_business\_id-container']").removeClass('selectError'); |
| [933](#L933) | //     jQuery('.selection').find("[aria-labelledby='select2-fb\_catalog\_id-container']").removeClass('selectError'); |
| [934](#L934) | //     get\_fb\_catalog\_data() |
| [935](#L935) | // }); |
| [936](#L936) | // jQuery(document).on("change", "#fb\_catalog\_id", function () { |
| [937](#L937) | //     jQuery('.selection').find("[aria-labelledby='select2-fb\_catalog\_id-container']").removeClass('selectError'); |
| [938](#L938) | // }); |
| [939](#L939) |  |
| [940](#L940) | jQuery(document).on('click', '.saveTiktok', function() { |
| [941](#L941) | saveChannel('Tiktok'); |
| [942](#L942) | }) |
| [943](#L943) | jQuery(document).on('click', '.saveFB', function() { |
| [944](#L944) | saveChannel('FB'); |
| [945](#L945) | }) |
| [946](#L946) | jQuery(document).on("change", "#google\_merchant\_center\_id", function() { |
| [947](#L947) | jQuery('.selection').find("[aria-labelledby='select2-google\_merchant\_center\_id-container']").removeClass('selectError'); |
| [948](#L948) | }) |
| [949](#L949) | /\*\*\*\*\*\*\*\*\*\*Channel Configuration Events end \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [950](#L950) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*Create Feed Start \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [951](#L951) | jQuery(document).on('click', '#contact-tab', function() { |
| [952](#L952) | if (jQuery('.selecttwo').data('select2')) { |
| [953](#L953) | jQuery('.selecttwo').select2('destroy'); |
| [954](#L954) | jQuery('.selectthree').select2('destroy'); |
| [955](#L955) | jQuery('.selectfour').select2('destroy'); |
| [956](#L956) | jQuery('.selectfive').select2('destroy'); |
| [957](#L957) | } |
| [958](#L958) | jQuery('.createSelect').select2(); |
| [959](#L959) | jQuery('#feed\_target\_country').select2(); |
| [960](#L960) | if (jQuery('input#all\_product').is(':checked')) { |
| [961](#L961) | jQuery('#all\_product').trigger('change'); |
| [962](#L962) | } |
| [963](#L963) | getAllChannel(); |
| [964](#L964) | }) |
| [965](#L965) | jQuery(document).on('change', '#filter\_product', function() { |
| [966](#L966) | if (jQuery('input#filter\_product').is(':checked')) { |
| [967](#L967) | jQuery('.AllFilters').removeClass('d-none') |
| [968](#L968) | } |
| [969](#L969) | jQuery('.totalCountDiv').addClass('d-none') |
| [970](#L970) | }) |
| [971](#L971) | jQuery(document).on('change', '#specific\_product', function() { |
| [972](#L972) | jQuery('.AllFilters').addClass('d-none') |
| [973](#L973) | jQuery('.totalCountDiv').addClass('d-none') |
| [974](#L974) | }) |
| [975](#L975) | jQuery(document).on('change', '#all\_product', function() { |
| [976](#L976) | jQuery('.AllFilters').addClass('d-none') |
| [977](#L977) | var data = { |
| [978](#L978) | action: "get\_category\_for\_filter", |
| [979](#L979) | type: "all\_product", |
| [980](#L980) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [981](#L981) | }; |
| [982](#L982) | jQuery.ajax({ |
| [983](#L983) | type: "POST", |
| [984](#L984) | dataType: "json", |
| [985](#L985) | url: tvc\_ajax\_url, |
| [986](#L986) | data: data, |
| [987](#L987) | beforeSend: function() {}, |
| [988](#L988) | success: function(response) { |
| [989](#L989) | jQuery('.totalCountDiv').removeClass('d-none') |
| [990](#L990) | jQuery('.totalCount').text(response) |
| [991](#L991) | } |
| [992](#L992) | }); |
| [993](#L993) | }) |
| [994](#L994) | jQuery(document).on('change', '.product', function(event) { |
| [995](#L995) | var changeValue = jQuery(this).val(); |
| [996](#L996) | jQuery(this).parent().parent().children('div').eq(1).empty(); |
| [997](#L997) | var conditionDropDown = getConditionDropDown(changeValue); |
| [998](#L998) | jQuery(this).parent().parent().children('div').eq(1).append(conditionDropDown); |
| [999](#L999) | if (changeValue === 'product\_cat') { |
| [1000](#L1000) | var data = { |
| [1001](#L1001) | action: "get\_category\_for\_filter", |
| [1002](#L1002) | type: "category", |
| [1003](#L1003) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [1004](#L1004) | }; |
| [1005](#L1005) | jQuery.ajax({ |
| [1006](#L1006) | type: "POST", |
| [1007](#L1007) | dataType: "json", |
| [1008](#L1008) | url: tvc\_ajax\_url, |
| [1009](#L1009) | data: data, |
| [1010](#L1010) | beforeSend: function() { |
| [1011](#L1011) | jQuery('.condition, .value').css("pointer-events", "none"); |
| [1012](#L1012) | }, |
| [1013](#L1013) | success: function(response) { |
| [1014](#L1014) | jQuery('.condition, .value').css("pointer-events", "auto"); |
| [1015](#L1015) | var category = response; |
| [1016](#L1016) | let option = '<option value="0">Select Category</option>'; |
| [1017](#L1017) | jQuery.each(category, function(key, value) { |
| [1018](#L1018) | option += '<option value="' + key + '">' + value + '</option>'; |
| [1019](#L1019) | }); |
| [1020](#L1020) | jQuery(this).parent().parent().children('.textValue').empty(); |
| [1021](#L1021) | var html = '<select class="createSelect value" name="value" style="width:100%">' + |
| [1022](#L1022) | option + |
| [1023](#L1023) | '</select>'; |
| [1024](#L1024) | jQuery('.textValue').html(html); |
| [1025](#L1025) | jQuery('.createSelect').select2(); |
| [1026](#L1026) | } |
| [1027](#L1027) | }); |
| [1028](#L1028) |  |
| [1029](#L1029) | } else if (changeValue === '\_stock\_status') { |
| [1030](#L1030) | jQuery(this).parent().parent().children('.textValue').empty(); |
| [1031](#L1031) | var html = '<select class="createSelect value" name="value" style="width:100%">' + |
| [1032](#L1032) | '<option value="0">Select Stock Status</option>' + |
| [1033](#L1033) | '<option value="instock">In Stock</option>' + |
| [1034](#L1034) | '<option value="outofstock">Out Of Stock</option>' + |
| [1035](#L1035) | '<option value="onbackorder">Back Order</option>' + |
| [1036](#L1036) | '</select>'; |
| [1037](#L1037) | jQuery(this).parent().parent().children('.textValue').append(html); |
| [1038](#L1038) | } else { |
| [1039](#L1039) | jQuery(this).parent().parent().children('.textValue').empty(); |
| [1040](#L1040) | var html = '<input type="text" class="form-control from-control-overload value" placeholder="Add value" name="value" >'; |
| [1041](#L1041) | jQuery(this).parent().parent().children('.textValue').append(html); |
| [1042](#L1042) | } |
| [1043](#L1043) | jQuery('.createSelect').select2(); |
| [1044](#L1044) | }); |
| [1045](#L1045) | jQuery(document).on('click', '.applyFilter', function() { |
| [1046](#L1046) | var newProductVal = jQuery('.product').val(); |
| [1047](#L1047) | var newConditionVal = jQuery('.condition').val(); |
| [1048](#L1048) | var newValueVal = jQuery('.value').val(); |
| [1049](#L1049) | if (newProductVal != 0 && newConditionVal != 0 && newValueVal != 0) { |
| [1050](#L1050) | if (newProductVal !== '' && newConditionVal !== '' && newValueVal !== '') { |
| [1051](#L1051) | var count = jQuery('.removecardThis').length |
| [1052](#L1052) | var productVal = jQuery('#productVal').val(); |
| [1053](#L1053) | var conditionVal = jQuery('#conditionVal').val(); |
| [1054](#L1054) | var valueVal = jQuery('#valueVal').val(); |
| [1055](#L1055) |  |
| [1056](#L1056) | productVal == "" ? jQuery('#productVal').val(newProductVal) : jQuery('#productVal').val(productVal + "," + newProductVal); |
| [1057](#L1057) | conditionVal == "" ? jQuery('#conditionVal').val(newConditionVal) : jQuery('#conditionVal').val(conditionVal + "," + newConditionVal); |
| [1058](#L1058) | valueVal == "" ? jQuery('#valueVal').val(newValueVal) : jQuery('#valueVal').val(valueVal + "," + newValueVal); |
| [1059](#L1059) | if (newProductVal == 'product\_cat' || newProductVal == '\_stock\_status') { |
| [1060](#L1060) | newValueVal = jQuery("select[name='value'] option:selected").text(); |
| [1061](#L1061) | } |
| [1062](#L1062) | var newCard = '<div class="btn-group border rounded mt-1 me-1 removecardThis" >' + |
| [1063](#L1063) | '<button class="btn btn-light btn-sm text-secondary fs-7 ps-1 pe-1 pt-0 pb-0" type="button" value="' + count + '">' + newProductVal + ' <b>' + newConditionVal + '</b> ' + newValueVal + '</button>' + |
| [1064](#L1064) | '<button type="button" class="btn btn-sm btn-light onhover-close pt-0 pb-0" data-bs-toggle="" aria-expanded="false" style="cursor: pointer;">' + |
| [1065](#L1065) | '<span class="material-symbols-outlined fs-6 pt-1 onhover-close removecard">close</span></button></div>'; |
| [1066](#L1066) | jQuery('.filterCard').append(newCard) |
| [1067](#L1067) | jQuery('.product').val('0').trigger('change'); |
| [1068](#L1068) | jQuery('.condition').val('0').trigger('change'); |
| [1069](#L1069) | jQuery('.value').val('').trigger('change'); |
| [1070](#L1070) | getFilterCount(); |
| [1071](#L1071) | } |
| [1072](#L1072) | } |
| [1073](#L1073) | }) |
| [1074](#L1074) | jQuery(document).on('click', '#createFeed', function() { |
| [1075](#L1075) | let feedName = jQuery('#feedName').val(); |
| [1076](#L1076) | if (feedName === '') { |
| [1077](#L1077) | jQuery('#feedName').css('margin-left', '0px'); |
| [1078](#L1078) | jQuery('#feedName').css('margin-right', '0px'); |
| [1079](#L1079) | jQuery('#feedName').addClass('errorInput'); |
| [1080](#L1080) | var l = 4; |
| [1081](#L1081) | for (var i = 0; i <= 2; i++) { |
| [1082](#L1082) | jQuery('#feedName').animate({ |
| [1083](#L1083) | 'margin-left': '+=' + (l = -l) + 'px', |
| [1084](#L1084) | 'margin-right': '-=' + l + 'px' |
| [1085](#L1085) | }, 50); |
| [1086](#L1086) | } |
| [1087](#L1087) | return false; |
| [1088](#L1088) | } |
| [1089](#L1089) |  |
| [1090](#L1090) | let autoSyncIntvl = jQuery('#autoSyncIntvl').val(); |
| [1091](#L1091) | if (autoSyncIntvl === '') { |
| [1092](#L1092) | jQuery('#autoSyncIntvl').css('margin-left', '0px'); |
| [1093](#L1093) | jQuery('#autoSyncIntvl').css('margin-right', '0px'); |
| [1094](#L1094) | jQuery('#autoSyncIntvl').addClass('errorInput'); |
| [1095](#L1095) | var l = 4; |
| [1096](#L1096) | for (var i = 0; i <= 2; i++) { |
| [1097](#L1097) | jQuery('#autoSyncIntvl').animate({ |
| [1098](#L1098) | 'margin-left': '+=' + (l = -l) + 'px', |
| [1099](#L1099) | 'margin-right': '-=' + l + 'px' |
| [1100](#L1100) | }, 50); |
| [1101](#L1101) | } |
| [1102](#L1102) | return false; |
| [1103](#L1103) | } |
| [1104](#L1104) |  |
| [1105](#L1105) | let target\_country = jQuery('#feed\_target\_country').find(":selected").val(); |
| [1106](#L1106) | if (target\_country === "") { |
| [1107](#L1107) | jQuery('.select2-selection').css('border', '1px solid #ef1717'); |
| [1108](#L1108) | return false; |
| [1109](#L1109) | } |
| [1110](#L1110) |  |
| [1111](#L1111) | if (!jQuery('#gmc\_id').is(":checked") && !jQuery('#tiktok\_id').is(":checked") && !jQuery('#fb\_id').is(':checked')) { |
| [1112](#L1112) | jQuery('.errorChannel').not(':disabled').css('border', '1px solid red'); |
| [1113](#L1113) | return false; |
| [1114](#L1114) | } |
| [1115](#L1115) | var product\_selection = jQuery('input[name="product\_selection"]:checked').val(); |
| [1116](#L1116) | if (product\_selection == 'specific\_product') { |
| [1117](#L1117) | save\_feed\_data(); |
| [1118](#L1118) | return false; |
| [1119](#L1119) | } |
| [1120](#L1120) | if (product\_selection == 'filter\_product') { |
| [1121](#L1121) | var productVal = jQuery('#productVal').val(); |
| [1122](#L1122) | var conditionVal = jQuery('#conditionVal').val(); |
| [1123](#L1123) | var valueVal = jQuery('#valueVal').val(); |
| [1124](#L1124) | if (productVal == '' || conditionVal == '' || valueVal == '') { |
| [1125](#L1125) | jQuery('.product').next().find('.select2-selection').css('border', '1px solid #ef1717') |
| [1126](#L1126) | jQuery('.condition').next().find('.select2-selection').css('border', '1px solid #ef1717') |
| [1127](#L1127) | jQuery('.value').next().find('.select2-selection').css('border', '1px solid #ef1717') |
| [1128](#L1128) | jQuery('.value').css('border', '1px solid #ef1717') |
| [1129](#L1129) | return false; |
| [1130](#L1130) | } |
| [1131](#L1131) | } |
| [1132](#L1132) | jQuery('#attr\_mapping\_save').prop('disabled', false) |
| [1133](#L1133) | jQuery('#attribute\_mapping').empty() |
| [1134](#L1134) | getAttrubuteMappingDiv() |
| [1135](#L1135) | //save\_feed\_data(); |
| [1136](#L1136) |  |
| [1137](#L1137) | }) |
| [1138](#L1138) | jQuery(document).on('change', '#id', function() { |
| [1139](#L1139) | jQuery('.selection').find("[aria-labelledby='select2-id-container']").removeClass('selectError'); |
| [1140](#L1140) | }) |
| [1141](#L1141) | jQuery(document).on('change', '#title', function() { |
| [1142](#L1142) | jQuery('.selection').find("[aria-labelledby='select2-title-container']").removeClass('selectError'); |
| [1143](#L1143) | }) |
| [1144](#L1144) | jQuery(document).on('change', '#description', function() { |
| [1145](#L1145) | jQuery('.selection').find("[aria-labelledby='select2-description-container']").removeClass('selectError'); |
| [1146](#L1146) | }) |
| [1147](#L1147) | jQuery(document).on('change', '#price', function() { |
| [1148](#L1148) | jQuery('.selection').find("[aria-labelledby='select2-price-container']").removeClass('selectError'); |
| [1149](#L1149) | }) |
| [1150](#L1150) |  |
| [1151](#L1151) | jQuery(document).on("click", "#attr\_mapping\_save", function() { |
| [1152](#L1152) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*Check  some mandatory filed\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1153](#L1153) | var attrCheck = ['id', 'title', 'description', 'price']; |
| [1154](#L1154) | var hasError = false; |
| [1155](#L1155) | jQuery.each(attrCheck, function(index, value) { |
| [1156](#L1156) | if (jQuery("#" + value).find(":selected").val() == '') { |
| [1157](#L1157) | jQuery('.selection').find("[aria-labelledby='select2-" + value + "-container']").addClass('selectError'); |
| [1158](#L1158) | hasError = true; |
| [1159](#L1159) | } |
| [1160](#L1160) | }) |
| [1161](#L1161) | if (hasError === true) { |
| [1162](#L1162) | return false |
| [1163](#L1163) | } |
| [1164](#L1164) | /\*\*\*\*additional Attribute validation start\*\*\*\*\*\*\*\*\*/ |
| [1165](#L1165) | var attrValidation = false; |
| [1166](#L1166) | jQuery(".additinal\_attr").each(function() { |
| [1167](#L1167) | if (this.selectedIndex === 0) { |
| [1168](#L1168) | jQuery(this).parent().find('.select2-selection').addClass('selectError') |
| [1169](#L1169) | attrValidation = true; |
| [1170](#L1170) | //return false; |
| [1171](#L1171) | } |
| [1172](#L1172) | }) |
| [1173](#L1173) |  |
| [1174](#L1174) |  |
| [1175](#L1175) | var attrValueValidation = false; |
| [1176](#L1176) | jQuery(".additional\_attr\_value").each(function() { |
| [1177](#L1177) | if (this.selectedIndex === 0) { |
| [1178](#L1178) | jQuery(this).parent().find('.select2-selection').addClass('selectError') |
| [1179](#L1179) | attrValueValidation = true; |
| [1180](#L1180) | //return false; |
| [1181](#L1181) | } |
| [1182](#L1182) | }) |
| [1183](#L1183) | if (attrValidation === true) { |
| [1184](#L1184) | return false; |
| [1185](#L1185) | } |
| [1186](#L1186) | if (attrValueValidation === true) { |
| [1187](#L1187) | return false; |
| [1188](#L1188) | } |
| [1189](#L1189) | /\*\*\*\*additional Attribute validation end\*\*\*\*\*\*\*\*\*/ |
| [1190](#L1190) | let ee\_data = jQuery("#attribute\_mapping").find("input[value!=''], select:not(:empty), input[type='number']").serialize(); |
| [1191](#L1191) | var data = { |
| [1192](#L1192) | action: "save\_attribute\_mapping", |
| [1193](#L1193) | ee\_data: ee\_data, |
| [1194](#L1194) | auto\_product\_sync\_setting: "<?php echo esc\_html(wp\_create\_nonce('auto\_product\_sync\_setting-nonce')); ?>" |
| [1195](#L1195) | }; |
| [1196](#L1196) | jQuery.ajax({ |
| [1197](#L1197) | type: "POST", |
| [1198](#L1198) | dataType: "json", |
| [1199](#L1199) | url: tvc\_ajax\_url, |
| [1200](#L1200) | data: data, |
| [1201](#L1201) | beforeSend: function() { |
| [1202](#L1202) | jQuery('#attr\_loader').removeClass('d-none') |
| [1203](#L1203) | jQuery('#attr\_mapping\_save').prop('disabled', true) |
| [1204](#L1204) | }, |
| [1205](#L1205) | success: function(response) { |
| [1206](#L1206) | jQuery('#attr\_loader').addClass('d-none') |
| [1207](#L1207) | jQuery('#conv\_modal\_attribute\_popup').modal('hide') |
| [1208](#L1208) | save\_feed\_data() |
| [1209](#L1209) | } |
| [1210](#L1210) | }); |
| [1211](#L1211) | }); |
| [1212](#L1212) |  |
| [1213](#L1213) | jQuery(document).on('input', '#feedName', function(e) { |
| [1214](#L1214) | e.preventDefault(); |
| [1215](#L1215) | jQuery('#feedName').css('margin-left', '0px'); |
| [1216](#L1216) | jQuery('#feedName').css('margin-right', '0px'); |
| [1217](#L1217) | jQuery('#feedName').removeClass('errorInput'); |
| [1218](#L1218) | }); |
| [1219](#L1219) | jQuery(document).on('click', '#gmc\_id', function(e) { |
| [1220](#L1220) | jQuery('.errorChannel').css('border', ''); |
| [1221](#L1221) | }); |
| [1222](#L1222) | jQuery(document).on('click', '#tiktok\_id', function(e) { |
| [1223](#L1223) | jQuery('.errorChannel').css('border', ''); |
| [1224](#L1224) | }); |
| [1225](#L1225) | jQuery(document).on('click', '#fb\_id', function(e) { |
| [1226](#L1226) | jQuery('.errorChannel').css('border', ''); |
| [1227](#L1227) | }); |
| [1228](#L1228) | jQuery(document).on('change', '#feed\_target\_country', function(e) { |
| [1229](#L1229) | jQuery('.select2-selection').css('border', '1px solid #c6c6c6'); |
| [1230](#L1230) | let target\_country = jQuery('#feed\_target\_country').find(":selected").val(); |
| [1231](#L1231) | jQuery('#tiktok\_id').empty(); |
| [1232](#L1232) | jQuery('.tiktok\_catalog\_id').empty() |
| [1233](#L1233) | if (jQuery('input#tiktok\_id').is(':checked')) { |
| [1234](#L1234) | getCatalogId(target\_country); |
| [1235](#L1235) | } |
| [1236](#L1236) | }); |
| [1237](#L1237) | jQuery(document).on('change', '#tiktok\_id', function() { |
| [1238](#L1238) | jQuery('.tiktok\_catalog\_id').empty(); |
| [1239](#L1239) | jQuery('#tiktok\_id').val(''); |
| [1240](#L1240) | if (jQuery('#tiktok\_id').is(":checked")) { |
| [1241](#L1241) | getCatalogId(jQuery('#feed\_target\_country').find(":selected").val()) |
| [1242](#L1242) | } |
| [1243](#L1243) | }); |
| [1244](#L1244) | jQuery(document).on('change', '#autoSync', function() { |
| [1245](#L1245) | var autoSync = jQuery('input#autoSync').is(':checked'); |
| [1246](#L1246) | if (autoSync) { |
| [1247](#L1247) | jQuery('#autoSyncIntvl').attr('disabled', false); |
| [1248](#L1248) | } else { |
| [1249](#L1249) | jQuery('#autoSyncIntvl').attr('disabled', true); |
| [1250](#L1250) | jQuery('#autoSyncIntvl').val(25); |
| [1251](#L1251) | jQuery('#autoSyncIntvl').removeClass('errorInput'); |
| [1252](#L1252) | } |
| [1253](#L1253) | }); |
| [1254](#L1254) | jQuery(document).on('click', '.add\_additional\_attr', function() { |
| [1255](#L1255) | var additionalAttribute = [{ |
| [1256](#L1256) | "field": "condition" |
| [1257](#L1257) | }, { |
| [1258](#L1258) | "field": "shipping\_weight" |
| [1259](#L1259) | }, { |
| [1260](#L1260) | "field": "product\_weight" |
| [1261](#L1261) | }, |
| [1262](#L1262) | { |
| [1263](#L1263) | "field": "gender" |
| [1264](#L1264) | }, { |
| [1265](#L1265) | "field": "sizes" |
| [1266](#L1266) | }, { |
| [1267](#L1267) | "field": "color" |
| [1268](#L1268) | }, { |
| [1269](#L1269) | "field": "age\_group" |
| [1270](#L1270) | }, |
| [1271](#L1271) | { |
| [1272](#L1272) | "field": "additional\_image\_links" |
| [1273](#L1273) | }, { |
| [1274](#L1274) | "field": "sale\_price\_effective\_date" |
| [1275](#L1275) | }, |
| [1276](#L1276) | { |
| [1277](#L1277) | "field": "material" |
| [1278](#L1278) | }, { |
| [1279](#L1279) | "field": "pattern" |
| [1280](#L1280) | }, { |
| [1281](#L1281) | "field": "availability\_date" |
| [1282](#L1282) | }, { |
| [1283](#L1283) | "field": "expiration\_date" |
| [1284](#L1284) | }, |
| [1285](#L1285) | { |
| [1286](#L1286) | "field": "product\_types" |
| [1287](#L1287) | }, { |
| [1288](#L1288) | "field": "ads\_redirect" |
| [1289](#L1289) | }, { |
| [1290](#L1290) | "field": "adult" |
| [1291](#L1291) | }, { |
| [1292](#L1292) | "field": "shipping\_length" |
| [1293](#L1293) | }, |
| [1294](#L1294) | { |
| [1295](#L1295) | "field": "shipping\_width" |
| [1296](#L1296) | }, { |
| [1297](#L1297) | "field": "shipping\_height" |
| [1298](#L1298) | }, { |
| [1299](#L1299) | "field": "custom\_label\_0" |
| [1300](#L1300) | }, { |
| [1301](#L1301) | "field": "custom\_label\_1" |
| [1302](#L1302) | }, |
| [1303](#L1303) | { |
| [1304](#L1304) | "field": "custom\_label\_2" |
| [1305](#L1305) | }, { |
| [1306](#L1306) | "field": "custom\_label\_3" |
| [1307](#L1307) | }, { |
| [1308](#L1308) | "field": "custom\_label\_4" |
| [1309](#L1309) | }, { |
| [1310](#L1310) | "field": "mobile\_link" |
| [1311](#L1311) | }, |
| [1312](#L1312) | { |
| [1313](#L1313) | "field": "energy\_efficiency\_class" |
| [1314](#L1314) | }, { |
| [1315](#L1315) | "field": "is\_bundle" |
| [1316](#L1316) | }, { |
| [1317](#L1317) | "field": "promotion\_ids" |
| [1318](#L1318) | }, { |
| [1319](#L1319) | "field": "loyalty\_points" |
| [1320](#L1320) | }, |
| [1321](#L1321) | { |
| [1322](#L1322) | "field": "unit\_pricing\_measure" |
| [1323](#L1323) | }, { |
| [1324](#L1324) | "field": "unit\_pricing\_base\_measure" |
| [1325](#L1325) | }, { |
| [1326](#L1326) | "field": "shipping\_label" |
| [1327](#L1327) | }, |
| [1328](#L1328) | { |
| [1329](#L1329) | "field": "excluded\_destinations" |
| [1330](#L1330) | }, { |
| [1331](#L1331) | "field": "included\_destinations" |
| [1332](#L1332) | }, { |
| [1333](#L1333) | "field": "tax\_category" |
| [1334](#L1334) | }, |
| [1335](#L1335) | { |
| [1336](#L1336) | "field": "multipack" |
| [1337](#L1337) | }, { |
| [1338](#L1338) | "field": "installment" |
| [1339](#L1339) | }, { |
| [1340](#L1340) | "field": "min\_handling\_time" |
| [1341](#L1341) | }, { |
| [1342](#L1342) | "field": "max\_handling\_time" |
| [1343](#L1343) | }, |
| [1344](#L1344) | { |
| [1345](#L1345) | "field": "min\_energy\_efficiency\_class" |
| [1346](#L1346) | }, { |
| [1347](#L1347) | "field": "max\_energy\_efficiency\_class" |
| [1348](#L1348) | }, { |
| [1349](#L1349) | "field": "identifier\_exists" |
| [1350](#L1350) | }, |
| [1351](#L1351) | { |
| [1352](#L1352) | "field": "cost\_of\_goods\_sold" |
| [1353](#L1353) | } |
| [1354](#L1354) | ]; |
| [1355](#L1355) | var count = Object.keys(additionalAttribute).length; |
| [1356](#L1356) | $option = '<option value="">Please Select Attribute</option>'; |
| [1357](#L1357) | jQuery.each(additionalAttribute, function(index, value) { |
| [1358](#L1358) | /\*\*\*\*\*Check for selected option to disabled start\*\*\*\*\*\*\*/ |
| [1359](#L1359) | $disabled = ""; |
| [1360](#L1360) | if (jQuery.inArray(value.field, selected) !== -1) { |
| [1361](#L1361) | $disabled = "disabled"; |
| [1362](#L1362) | } |
| [1363](#L1363) | /\*\*\*\*\*Check for selected option to disabled end\*\*\*\*\*\*\*/ |
| [1364](#L1364) | $option += '<option value="' + value.field + '" ' + $disabled + '>' + value.field + '</option>' |
| [1365](#L1365) | }); |
| [1366](#L1366) | var wooCommerceAttributes = <?php echo wp\_json\_encode($wooCommerceAttributes); ?>; |
| [1367](#L1367) | $option1 = '<option value="">Please Select Attribute</option>'; |
| [1368](#L1368) | jQuery.each(wooCommerceAttributes, function(index, value) { |
| [1369](#L1369) | $option1 += '<option value="' + value.field + '">' + value.field + '</option>' |
| [1370](#L1370) | }); |
| [1371](#L1371) |  |
| [1372](#L1372) | $html = ''; |
| [1373](#L1373) | $html += '<div class="row additinal\_attr\_div m-0 p-1" ><div class="col-6 mt-2">'; |
| [1374](#L1374) | $html += '<select style="width:100%" id="' + cnt++ + '" name="additional\_attr\_[]" class="additinal\_attr\_' + cnt + ' additinal\_attr fw-light text-secondary fs-6 form-control form-select-sm select2">'; |
| [1375](#L1375) | $html += $option; |
| [1376](#L1376) | $html += '</select></div>'; |
| [1377](#L1377) | $html += '<div class="col-5 mt-2">'; |
| [1378](#L1378) | $html += '<select style="width:100%" id="" name="additional\_attr\_value\_[]" class="additional\_attr\_value fw-light text-secondary fs-6 form-control form-select-sm select2">'; |
| [1379](#L1379) | $html += $option1; |
| [1380](#L1380) | $html += '</select></div>'; |
| [1381](#L1381) | $html += '<div class="col-1 mt-2">'; |
| [1382](#L1382) | $html += '<span class="material-symbols-outlined text-danger remove\_additional\_attr fs-5 mt-2" title="Add Additional Attribute" style="cursor: pointer; margin-right:35px;">'; |
| [1383](#L1383) | $html += 'delete'; |
| [1384](#L1384) | $html += '</span>'; |
| [1385](#L1385) | $html += '</div></div>'; |
| [1386](#L1386) | jQuery('.additinal\_attr\_main\_div').append($html); |
| [1387](#L1387) |  |
| [1388](#L1388) | setTimeout(function() { |
| [1389](#L1389) | jQuery('.additinal\_attr, .additional\_attr\_value, .select\_modal').select2({ |
| [1390](#L1390) | dropdownParent: jQuery("#conv\_modal\_attribute\_popup .modal-content"), |
| [1391](#L1391) | initSelection: function(element, callback) {} |
| [1392](#L1392) | }); |
| [1393](#L1393) | }, 200); |
| [1394](#L1394) | jQuery('.add\_additional\_attr')[0].scrollIntoView(true); |
| [1395](#L1395) | var div\_count = jQuery('.additinal\_attr\_div').length; |
| [1396](#L1396) | if (count == div\_count) { |
| [1397](#L1397) | jQuery('.add\_additional\_attr').addClass('d-none'); |
| [1398](#L1398) | } |
| [1399](#L1399) | }); |
| [1400](#L1400) | jQuery(document).on('click', '.remove\_additional\_attr', function() { |
| [1401](#L1401) | jQuery('.remove\_additional\_attr \*').addClass('disabled'); |
| [1402](#L1402) | //get deleted selected tag value |
| [1403](#L1403) | var deleted = jQuery(this).parent().parent('.additinal\_attr\_div').find('.additinal\_attr').find(':selected').val(); |
| [1404](#L1404) | if (deleted != '') { |
| [1405](#L1405) | //Remove value from array |
| [1406](#L1406) | selected = jQuery.grep(selected, function(value) { |
| [1407](#L1407) | return value != deleted; |
| [1408](#L1408) | }); |
| [1409](#L1409) | //Enable deleted value to other selecet tag |
| [1410](#L1410) | jQuery(".additinal\_attr option").each(function() { |
| [1411](#L1411) | var $thisOption = jQuery(this); |
| [1412](#L1412) | var valueToCompare = deleted; |
| [1413](#L1413) | if ($thisOption.val() == valueToCompare) { |
| [1414](#L1414) | $thisOption.removeAttr("disabled"); |
| [1415](#L1415) | } |
| [1416](#L1416) | }); |
| [1417](#L1417) | } |
| [1418](#L1418) |  |
| [1419](#L1419) | jQuery(this).parent().parent('.additinal\_attr\_div').remove(); |
| [1420](#L1420) | jQuery('.add\_additional\_attr').removeClass('d-none'); |
| [1421](#L1421) | jQuery('.remove\_additional\_attr \*').removeClass('disabled'); |
| [1422](#L1422) | }); |
| [1423](#L1423) | jQuery(document).on('change', '.additinal\_attr', function() { |
| [1424](#L1424) | selected = []; |
| [1425](#L1425) | jQuery(this).parent().find('.select2-selection').removeClass('selectError') |
| [1426](#L1426) | var sel = jQuery(this).find(":selected").val(); |
| [1427](#L1427) | var id = jQuery(this).attr("id"); |
| [1428](#L1428) | //All empty select add more used, it will add disable attribute to selected value |
| [1429](#L1429) | jQuery(".additinal\_attr:not(#" + id + ") option").each(function() { |
| [1430](#L1430) | var $thisOption = jQuery(this); |
| [1431](#L1431) | var valueToCompare = sel; |
| [1432](#L1432) | if ($thisOption.val() == valueToCompare) { |
| [1433](#L1433) | $thisOption.attr("disabled", "disabled"); |
| [1434](#L1434) | } |
| [1435](#L1435) | }); |
| [1436](#L1436) | var attr\_choices = jQuery(".additinal\_attr option:selected"); |
| [1437](#L1437) | jQuery(attr\_choices).each(function(i, v) { |
| [1438](#L1438) | selected.push(attr\_choices.eq(i).val()); |
| [1439](#L1439) | }) |
| [1440](#L1440) | disableOptions(); |
| [1441](#L1441) | }) |
| [1442](#L1442) |  |
| [1443](#L1443) | //remove Additional Attribute error on change |
| [1444](#L1444) | jQuery(document).on('change', '.additional\_attr\_value', function() { |
| [1445](#L1445) | jQuery(this).parent().find('.select2-selection').removeClass('selectError') |
| [1446](#L1446) | }); |
| [1447](#L1447) | jQuery(document).on('click', '.removecard', function(event) { |
| [1448](#L1448) | var ele = jQuery(this).parent(); |
| [1449](#L1449) | var productVal = jQuery('#productVal').val().split(','); |
| [1450](#L1450) | var conditionVal = jQuery('#conditionVal').val().split(','); |
| [1451](#L1451) | var valueVal = jQuery('#valueVal').val().split(','); |
| [1452](#L1452) | var val = ele.prev().val(); |
| [1453](#L1453) | jQuery(ele.parent()).remove(); |
| [1454](#L1454) | productVal.splice(val, 1); |
| [1455](#L1455) | conditionVal.splice(val, 1); |
| [1456](#L1456) | valueVal.splice(val, 1); |
| [1457](#L1457) |  |
| [1458](#L1458) | jQuery(".removecard").each(function(index, value) { |
| [1459](#L1459) | jQuery(this).parent().prev().val(index); |
| [1460](#L1460) | }); |
| [1461](#L1461) |  |
| [1462](#L1462) | productVal = productVal.join(); |
| [1463](#L1463) | conditionVal = conditionVal.join(); |
| [1464](#L1464) | valueVal = valueVal.join(); |
| [1465](#L1465) | jQuery('#productVal').val(productVal); |
| [1466](#L1466) | jQuery('#conditionVal').val(conditionVal); |
| [1467](#L1467) | jQuery('#valueVal').val(valueVal); |
| [1468](#L1468) | getFilterCount(); |
| [1469](#L1469) | }); |
| [1470](#L1470) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*Create Feed End \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1471](#L1471) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* document event end \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [1472](#L1472) | }); |
| [1473](#L1473) |  |
| [1474](#L1474) | function list\_tiktok\_business\_account() { |
| [1475](#L1475) | var conversios\_onboarding\_nonce = "<?php echo esc\_js(wp\_create\_nonce('conversios\_onboarding\_nonce')); ?>"; |
| [1476](#L1476) | jQuery.ajax({ |
| [1477](#L1477) | type: "POST", |
| [1478](#L1478) | dataType: "json", |
| [1479](#L1479) | url: tvc\_ajax\_url, |
| [1480](#L1480) | data: { |
| [1481](#L1481) | action: "get\_tiktok\_business\_account", |
| [1482](#L1482) | subscriptionId: "<?php echo esc\_js($subscriptionId) ?>", |
| [1483](#L1483) | conversios\_onboarding\_nonce: conversios\_onboarding\_nonce |
| [1484](#L1484) | }, |
| [1485](#L1485) | beforeSend: function() { |
| [1486](#L1486) | manageTiktokLoader('show') |
| [1487](#L1487) | }, |
| [1488](#L1488) | success: function(response) { |
| [1489](#L1489) | if (response.error === false) { |
| [1490](#L1490) | jQuery('#tiktok\_business\_id').empty(); |
| [1491](#L1491) | jQuery('#tiktok\_business\_id').append(jQuery('<option>', { |
| [1492](#L1492) | value: "", |
| [1493](#L1493) | text: "Select TikTok Business Account Id" |
| [1494](#L1494) | })); |
| [1495](#L1495) | if (response.data) { |
| [1496](#L1496) | var tiktok\_business\_id = "<?php echo esc\_js($tiktok\_business\_id) ?>"; |
| [1497](#L1497) | jQuery.each(response.data, function(key, value) { |
| [1498](#L1498) | jQuery('#tiktok\_business\_id').append(jQuery('<option>', { |
| [1499](#L1499) | value: key, |
| [1500](#L1500) | "data-business\_name": value, |
| [1501](#L1501) | text: key + ' - ' + value, |
| [1502](#L1502) | selected: (key === tiktok\_business\_id) |
| [1503](#L1503) | })); |
| [1504](#L1504) | }); |
| [1505](#L1505) | } |
| [1506](#L1506) | get\_tiktok\_user\_catalogs(); |
| [1507](#L1507) | } else { |
| [1508](#L1508) | jQuery('#tiktok\_business\_id').empty(); |
| [1509](#L1509) | jQuery('#tiktok\_business\_id').append(jQuery('<option>', { |
| [1510](#L1510) | value: "", |
| [1511](#L1511) | text: "Select Tiktok Business Account Id" |
| [1512](#L1512) | })); |
| [1513](#L1513) | manageTiktokLoader('hide') |
| [1514](#L1514) | } |
| [1515](#L1515) | } |
| [1516](#L1516) | }) |
| [1517](#L1517) | } |
| [1518](#L1518) |  |
| [1519](#L1519) | function get\_tiktok\_user\_catalogs() { |
| [1520](#L1520) | var catalogCountry = <?php echo wp\_json\_encode($catalogCountry) ?>; |
| [1521](#L1521) | var catalog\_business\_id = <?php echo wp\_json\_encode($catalog\_business\_id) ?>; |
| [1522](#L1522) | var conversios\_onboarding\_nonce = "<?php echo esc\_js(wp\_create\_nonce('conversios\_onboarding\_nonce')); ?>"; |
| [1523](#L1523) | var business\_id = jQuery('#tiktok\_business\_id').find(":selected").val(); |
| [1524](#L1524) | jQuery('.selection').find("[aria-labelledby='select2-tiktok\_business\_id-container']").removeClass('selectError'); |
| [1525](#L1525) | jQuery('#table-body').empty(); |
| [1526](#L1526) | jQuery.ajax({ |
| [1527](#L1527) | type: "POST", |
| [1528](#L1528) | dataType: "json", |
| [1529](#L1529) | url: tvc\_ajax\_url, |
| [1530](#L1530) | data: { |
| [1531](#L1531) | action: "get\_tiktok\_user\_catalogs", |
| [1532](#L1532) | customer\_subscription\_id: "<?php echo esc\_js($subscriptionId) ?>", |
| [1533](#L1533) | business\_id: business\_id, |
| [1534](#L1534) | conversios\_onboarding\_nonce: conversios\_onboarding\_nonce |
| [1535](#L1535) | }, |
| [1536](#L1536) | beforeSend: function() { |
| [1537](#L1537) | manageTiktokLoader('show') |
| [1538](#L1538) | }, |
| [1539](#L1539) | success: function(response) { |
| [1540](#L1540) | if (response.error === false) { |
| [1541](#L1541) | if (response.data) { |
| [1542](#L1542) | jQuery('#table-body').empty(); |
| [1543](#L1543) | var tableBody = ''; |
| [1544](#L1544) | jQuery.each(response.data, function(key, value) { |
| [1545](#L1545) | tableBody += '<tr>'; |
| [1546](#L1546) | tableBody += '<td class="align-middle text-start">' + key + '</td>'; |
| [1547](#L1547) | tableBody += '<td class="align-middle text-start"><select id="" name="catalogId[]" class="form-select form-select-lg mb-3 catalogId" style="width: 100%">'; |
| [1548](#L1548) | jQuery.each(value, function(valKey, ValValue) { |
| [1549](#L1549) | var selected = ""; |
| [1550](#L1550) | if (jQuery.inArray(valKey, catalog\_business\_id) !== -1 && catalog\_business\_id.length > 0) { |
| [1551](#L1551) | var selected = 'selected="selected"'; |
| [1552](#L1552) | } |
| [1553](#L1553) | tableBody += '<option value="' + valKey + '"  data-catalog\_country="' + key + '" data-catalog\_name="' + ValValue + '" ' + selected + '>' + valKey + ' - ' + ValValue + '</option>'; |
| [1554](#L1554) | }) |
| [1555](#L1555) | tableBody += '</select></td></tr>'; |
| [1556](#L1556) | }); |
| [1557](#L1557) | jQuery('#table-body').html(tableBody); |
| [1558](#L1558) | jQuery(".catalogId").select2({ |
| [1559](#L1559) | dropdownCssClass: "fs-12" |
| [1560](#L1560) | }) |
| [1561](#L1561) | } |
| [1562](#L1562) | } |
| [1563](#L1563) | manageTiktokLoader('hide') |
| [1564](#L1564) | } |
| [1565](#L1565) | }) |
| [1566](#L1566) | } |
| [1567](#L1567) |  |
| [1568](#L1568) | function getFilterCount() { |
| [1569](#L1569) | var productVal = jQuery('#productVal').val(); |
| [1570](#L1570) | var conditionVal = jQuery('#conditionVal').val(); |
| [1571](#L1571) | var valueVal = jQuery('#valueVal').val(); |
| [1572](#L1572) | jQuery('.totalCountDivFilter').addClass('d-none') |
| [1573](#L1573) | jQuery('.totalCountFilter').html('') |
| [1574](#L1574) | if (productVal !== '' && conditionVal !== '' && valueVal !== '') { |
| [1575](#L1575) | var data = { |
| [1576](#L1576) | action: "get\_product\_filter\_count", |
| [1577](#L1577) | productVal: productVal, |
| [1578](#L1578) | conditionVal: conditionVal, |
| [1579](#L1579) | valueVal: valueVal, |
| [1580](#L1580) | getFilterCount: "<?php echo esc\_html(wp\_create\_nonce('getFilterCount-nonce')); ?>" |
| [1581](#L1581) | }; |
| [1582](#L1582) | jQuery.ajax({ |
| [1583](#L1583) | type: "POST", |
| [1584](#L1584) | dataType: "json", |
| [1585](#L1585) | url: tvc\_ajax\_url, |
| [1586](#L1586) | data: data, |
| [1587](#L1587) | beforeSend: function() {}, |
| [1588](#L1588) | success: function(response) { |
| [1589](#L1589) | jQuery('.totalCountDivFilter').removeClass('d-none') |
| [1590](#L1590) | jQuery('.totalCountFilter').html(response) |
| [1591](#L1591) | } |
| [1592](#L1592) | }); |
| [1593](#L1593) | } |
| [1594](#L1594) | } |
| [1595](#L1595) |  |
| [1596](#L1596) | function getAllChannel() { |
| [1597](#L1597) | let target\_country = jQuery('#feed\_target\_country').find(":selected").val(); |
| [1598](#L1598) | var data = { |
| [1599](#L1599) | action: "get\_category\_for\_filter", |
| [1600](#L1600) | type: "getAllChannel", |
| [1601](#L1601) | target\_country: target\_country, |
| [1602](#L1602) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [1603](#L1603) | }; |
| [1604](#L1604) | jQuery.ajax({ |
| [1605](#L1605) | type: "POST", |
| [1606](#L1606) | dataType: "json", |
| [1607](#L1607) | url: tvc\_ajax\_url, |
| [1608](#L1608) | data: data, |
| [1609](#L1609) | beforeSend: function() { |
| [1610](#L1610) | jQuery('#gmc\_id').prop('disabled', true) |
| [1611](#L1611) | jQuery('#fb\_id').prop('disabled', true) |
| [1612](#L1612) | jQuery('#tiktok\_id').prop('disabled', true) |
| [1613](#L1613) | }, |
| [1614](#L1614) | success: function(response) { |
| [1615](#L1615) | if (response.data.google\_merchant\_center\_id) { |
| [1616](#L1616) | jQuery('#gmc\_id').prop('disabled', false) |
| [1617](#L1617) | jQuery('#gmc\_id').prop('checked', true) |
| [1618](#L1618) | jQuery('.google\_merchant\_center\_id').text(response.data.google\_merchant\_center\_id) |
| [1619](#L1619) | } |
| [1620](#L1620) | if (response.data.fb\_catalog\_id) { |
| [1621](#L1621) | jQuery('#fb\_id').prop('disabled', false) |
| [1622](#L1622) | jQuery('#fb\_id').prop('checked', true) |
| [1623](#L1623) | jQuery('.fb\_id').text(response.data.fb\_catalog\_id) |
| [1624](#L1624) | } |
| [1625](#L1625) | if (response.data.tiktok\_setting == 1 && response.data.titkok\_catalog\_id !== '') { |
| [1626](#L1626) | jQuery('#tiktok\_id').prop('disabled', false) |
| [1627](#L1627) | jQuery('#tiktok\_id').prop('checked', true) |
| [1628](#L1628) | jQuery('#tiktok\_id').val(response.data.titkok\_catalog\_id); |
| [1629](#L1629) | jQuery('.tiktok\_catalog\_id').text(response.data.titkok\_catalog\_id) |
| [1630](#L1630) | } else if (response.data.tiktok\_setting == 1 && response.data.titkok\_catalog\_id == "") { |
| [1631](#L1631) | jQuery('#tiktok\_id').prop('disabled', false) |
| [1632](#L1632) | jQuery('#tiktok\_id').prop('checked', true) |
| [1633](#L1633) | jQuery('#tiktok\_id').val('Create New'); |
| [1634](#L1634) | jQuery('.tiktok\_catalog\_id').text('You do not have a catalog associated with the selected target country. Do not worry we will create a new catalog for you.'); |
| [1635](#L1635) | } |
| [1636](#L1636) | } |
| [1637](#L1637) | }); |
| [1638](#L1638) | } |
| [1639](#L1639) |  |
| [1640](#L1640) | function getCatalogId($countryCode) { |
| [1641](#L1641) | var conv\_country\_nonce = "<?php echo esc\_html(wp\_create\_nonce('conv\_country\_nonce')); ?>"; |
| [1642](#L1642) | var data = { |
| [1643](#L1643) | action: "ee\_getCatalogId", |
| [1644](#L1644) | countryCode: $countryCode, |
| [1645](#L1645) | conv\_country\_nonce: conv\_country\_nonce |
| [1646](#L1646) | } |
| [1647](#L1647) | jQuery.ajax({ |
| [1648](#L1648) | type: "POST", |
| [1649](#L1649) | dataType: "json", |
| [1650](#L1650) | url: tvc\_ajax\_url, |
| [1651](#L1651) | data: data, |
| [1652](#L1652) | beforeSend: function() {}, |
| [1653](#L1653) | error: function(err, status) {}, |
| [1654](#L1654) | success: function(response) { |
| [1655](#L1655) | jQuery('.tiktok\_catalog\_id').empty() |
| [1656](#L1656) | jQuery('#tiktok\_id').empty(); |
| [1657](#L1657) | jQuery('.tiktok\_catalog\_id').removeClass('text-danger'); |
| [1658](#L1658) |  |
| [1659](#L1659) | if (response.error == false) { |
| [1660](#L1660) | if (response.data.catalog\_id !== '') { |
| [1661](#L1661) | jQuery('#tiktok\_id').val(response.data.catalog\_id); |
| [1662](#L1662) | jQuery('.tiktok\_catalog\_id').text(response.data.catalog\_id) |
| [1663](#L1663) | } else { |
| [1664](#L1664) | jQuery('#tiktok\_id').val('Create New'); |
| [1665](#L1665) | jQuery('.tiktok\_catalog\_id').text('You do not have a catalog associated with the selected target country. Do not worry we will create a new catalog for you.'); |
| [1666](#L1666) | } |
| [1667](#L1667) | } |
| [1668](#L1668) | } |
| [1669](#L1669) | }); |
| [1670](#L1670) | } |
| [1671](#L1671) |  |
| [1672](#L1672) | function save\_feed\_data() { |
| [1673](#L1673) | setTimeout(function() { |
| [1674](#L1674) | jQuery('#feed\_target\_country').select2() |
| [1675](#L1675) | }, 100); |
| [1676](#L1676) | var conv\_onboarding\_nonce = "<?php echo esc\_html(wp\_create\_nonce('conv\_onboarding\_nonce')); ?>"; |
| [1677](#L1677) | var product\_selection = jQuery('input[name="product\_selection"]:checked').val(); |
| [1678](#L1678) | var productVal = jQuery('#productVal').val(); |
| [1679](#L1679) | var conditionVal = jQuery('#conditionVal').val(); |
| [1680](#L1680) | var valueVal = jQuery('#valueVal').val(); |
| [1681](#L1681) | var data = { |
| [1682](#L1682) | action: "create\_dashboard\_feed\_data", |
| [1683](#L1683) | feedName: jQuery('#feedName').val(), |
| [1684](#L1684) | google\_merchant\_center: jQuery('input#gmc\_id').is(':checked') ? '1' : '', |
| [1685](#L1685) | fb\_catalog\_id: jQuery('input#fb\_id').is(':checked') ? '2' : '', |
| [1686](#L1686) | tiktok\_id: jQuery('input#tiktok\_id').is(':checked') ? '3' : '', |
| [1687](#L1687) | tiktok\_catalog\_id: jQuery('input#tiktok\_id').is(':checked') ? jQuery('input#tiktok\_id').val() : '', |
| [1688](#L1688) | autoSync: jQuery('input#autoSync').is(':checked') ? '1' : '0', |
| [1689](#L1689) | autoSyncIntvl: jQuery('#autoSyncIntvl').val(), |
| [1690](#L1690) | edit: '', |
| [1691](#L1691) | last\_sync\_date: '', |
| [1692](#L1692) | is\_mapping\_update: '', |
| [1693](#L1693) | target\_country: jQuery('#feed\_target\_country').find(":selected").val(), |
| [1694](#L1694) | customer\_subscription\_id: "<?php echo esc\_js($subscriptionId) ?>", |
| [1695](#L1695) | tiktok\_business\_account: jQuery('#tiktok\_business\_id').find(":selected").val(), |
| [1696](#L1696) | product\_selection: product\_selection, |
| [1697](#L1697) | productVal: productVal, |
| [1698](#L1698) | conditionVal: conditionVal, |
| [1699](#L1699) | valueVal: valueVal, |
| [1700](#L1700) | conv\_onboarding\_nonce: conv\_onboarding\_nonce |
| [1701](#L1701) | } |
| [1702](#L1702) |  |
| [1703](#L1703) | jQuery.ajax({ |
| [1704](#L1704) | type: "POST", |
| [1705](#L1705) | dataType: "json", |
| [1706](#L1706) | url: tvc\_ajax\_url, |
| [1707](#L1707) | data: data, |
| [1708](#L1708) | beforeSend: function() { |
| [1709](#L1709) | // managecreateFeedLoader('show') |
| [1710](#L1710) | // jQuery('#createFeed').prop('disabled', true) |
| [1711](#L1711) | // jQuery('#createFeed').text('Creating...') |
| [1712](#L1712) | jQuery('#createFeed').prop('disabled', true) |
| [1713](#L1713) | jQuery('.applyFilter').prop('disabled', true) |
| [1714](#L1714) | jQuery('#createFeed > span').removeClass('d-none') |
| [1715](#L1715) | }, |
| [1716](#L1716) | error: function(err, status) {}, |
| [1717](#L1717) | success: function(response) { |
| [1718](#L1718) | //managecreateFeedLoader('hide') |
| [1719](#L1719) |  |
| [1720](#L1720) | jQuery('#createFeed').prop('disabled', false) |
| [1721](#L1721) | jQuery('#createFeed').text('Create') |
| [1722](#L1722) | jQuery('.applyFilter').prop('disabled', false) |
| [1723](#L1723) | if (response.id) { |
| [1724](#L1724) | if (product\_selection == 'specific\_product') { |
| [1725](#L1725) | setTimeout(function() { |
| [1726](#L1726) | window.location.replace("<?php echo esc\_url\_raw($site\_url . 'product\_list&id='); ?>" + response.id); |
| [1727](#L1727) | }, 100); |
| [1728](#L1728) | } else { |
| [1729](#L1729) | var totalProduct = jQuery('.totalCount').text(); |
| [1730](#L1730) | if (product\_selection == 'filter\_product') { |
| [1731](#L1731) | totalProduct = jQuery('.totalCountFilter').text(); |
| [1732](#L1732) | } |
| [1733](#L1733) | jQuery('#conv\_create\_popup\_txt\_msg').text('You have successfully created the new Feed with ' + totalProduct + ' products') |
| [1734](#L1734) | checkProgressBar() |
| [1735](#L1735) | openOverlayLoader('openshow'); |
| [1736](#L1736) | setTimeout(function() { |
| [1737](#L1737) | openOverlayLoader('close'); |
| [1738](#L1738) | jQuery('#conv\_modal\_create\_popup').modal('show') |
| [1739](#L1739) | }, 2000); |
| [1740](#L1740) | } |
| [1741](#L1741) | } else if (response.errorType === 'tiktok') { |
| [1742](#L1742) | jQuery('.tiktok\_catalog\_id').empty(); |
| [1743](#L1743) | jQuery('.tiktok\_catalog\_id').html(response.message); |
| [1744](#L1744) | jQuery('.tiktok\_catalog\_id').addClass('text-danger'); |
| [1745](#L1745) | } |
| [1746](#L1746) | } |
| [1747](#L1747) | }); |
| [1748](#L1748) |  |
| [1749](#L1749) | } |
| [1750](#L1750) |  |
| [1751](#L1751) | function saveChannel(Channel) { |
| [1752](#L1752) | var selected\_vals = {}; |
| [1753](#L1753) | var conv\_options\_type = []; |
| [1754](#L1754) | var data = {}; |
| [1755](#L1755) | if (Channel == 'GMC') { |
| [1756](#L1756) | if (jQuery("#google\_merchant\_center\_id").val() === '') { |
| [1757](#L1757) | jQuery('.selection').find("[aria-labelledby='select2-google\_merchant\_center\_id-container']").addClass('selectError'); |
| [1758](#L1758) | return false; |
| [1759](#L1759) | } |
| [1760](#L1760) | var update\_site\_domain = ''; |
| [1761](#L1761) | if (google\_merchant\_center\_id != jQuery("#google\_merchant\_center\_id").val()) { |
| [1762](#L1762) | update\_site\_domain = 'update'; |
| [1763](#L1763) | } |
| [1764](#L1764) | conv\_options\_type = ["eeoptions", "eeapidata", "middleware"]; |
| [1765](#L1765) | selected\_vals["subscription\_id"] = "<?php echo esc\_js($subscriptionId) ?>"; |
| [1766](#L1766) | selected\_vals["google\_merchant\_center\_id"] = jQuery("#google\_merchant\_center\_id").val(); |
| [1767](#L1767) | selected\_vals["google\_merchant\_id"] = jQuery("#google\_merchant\_center\_id").val(); |
| [1768](#L1768) | selected\_vals["merchant\_id"] = jQuery('#google\_merchant\_center\_id').find(':selected').data('merchant\_id'); |
| [1769](#L1769) | selected\_vals["website\_url"] = "<?php echo esc\_js(get\_site\_url()); ?>"; |
| [1770](#L1770) | var google\_ads\_id = jQuery('#gmc\_google\_ads\_id').val(); |
| [1771](#L1771) | if (google\_ads\_id !== '') { |
| [1772](#L1772) | selected\_vals["google\_ads\_id"] = google\_ads\_id; |
| [1773](#L1773) | selected\_vals["ga\_GMC"] = '1'; |
| [1774](#L1774) | } |
| [1775](#L1775) | data = { |
| [1776](#L1776) | action: "conv\_save\_pixel\_data", |
| [1777](#L1777) | pix\_sav\_nonce: "<?php echo esc\_js(wp\_create\_nonce('pix\_sav\_nonce\_val')); ?>", |
| [1778](#L1778) | conv\_options\_data: selected\_vals, |
| [1779](#L1779) | conv\_options\_type: conv\_options\_type, |
| [1780](#L1780) | update\_site\_domain: update\_site\_domain, |
| [1781](#L1781) | } |
| [1782](#L1782) | } |
| [1783](#L1783) |  |
| [1784](#L1784) | if (Channel == 'Tiktok') { |
| [1785](#L1785) | var tiktok\_data = {}; |
| [1786](#L1786) | tiktok\_data["tiktok\_mail"] = jQuery('#tiktok\_mail').val(); |
| [1787](#L1787) | tiktok\_data["tiktok\_user\_id"] = jQuery('#tiktok\_user\_id').val(); |
| [1788](#L1788) | tiktok\_data["tiktok\_business\_id"] = jQuery('#tiktok\_business\_id').find(":selected").val(); |
| [1789](#L1789) | tiktok\_data["tiktok\_business\_name"] = jQuery('#tiktok\_business\_id').find(":selected").data("business\_name") |
| [1790](#L1790) | selected\_vals["tiktok\_setting"] = tiktok\_data; |
| [1791](#L1791) | if (tiktok\_data["tiktok\_business\_id"] === '') { |
| [1792](#L1792) | jQuery('.selection').find("[aria-labelledby='select2-tiktok\_business\_id-container']").addClass('selectError'); |
| [1793](#L1793) | return false; |
| [1794](#L1794) | } |
| [1795](#L1795) | var catalogData = {}; |
| [1796](#L1796) | jQuery('.catalogId').each(function() { |
| [1797](#L1797) | catalogData[jQuery(this).find(":selected").data("catalog\_country")] = [jQuery(this).find(":selected").val(), jQuery(this).find(":selected").data("catalog\_name"), jQuery(this).find(":selected").data("catalog\_country")]; |
| [1798](#L1798) | }) |
| [1799](#L1799) | conv\_options\_type = ["eeoptions", "middleware", "tiktokmiddleware", "tiktokcatalog"]; |
| [1800](#L1800) | data = { |
| [1801](#L1801) | action: "conv\_save\_pixel\_data", |
| [1802](#L1802) | pix\_sav\_nonce: "<?php echo esc\_js(wp\_create\_nonce('pix\_sav\_nonce\_val')); ?>", |
| [1803](#L1803) | conv\_options\_data: selected\_vals, |
| [1804](#L1804) | conv\_options\_type: conv\_options\_type, |
| [1805](#L1805) | customer\_subscription\_id: "<?php echo esc\_js($subscriptionId) ?>", |
| [1806](#L1806) | conv\_catalogData: catalogData, |
| [1807](#L1807) | } |
| [1808](#L1808) | } |
| [1809](#L1809) |  |
| [1810](#L1810) | jQuery.ajax({ |
| [1811](#L1811) | type: "POST", |
| [1812](#L1812) | dataType: "json", |
| [1813](#L1813) | url: tvc\_ajax\_url, |
| [1814](#L1814) | data: data, |
| [1815](#L1815) | beforeSend: function() { |
| [1816](#L1816) | //openOverlayLoader('open'); |
| [1817](#L1817) | if (Channel == 'GMC') { |
| [1818](#L1818) | jQuery(".verifySite, .verifyDomain, .createNewGMC, .channelTabSave, .saveGMC, .tvc\_google\_signinbtn").css("pointer-events", "none"); |
| [1819](#L1819) | jQuery('.saveGMC').prop('disabled', true) |
| [1820](#L1820) | jQuery('.saveGMC > span').removeClass('d-none') |
| [1821](#L1821) | jQuery('.gmc\_account\_id\_step').removeClass('disable') |
| [1822](#L1822) | } |
| [1823](#L1823) | if (Channel == 'Tiktok') { |
| [1824](#L1824) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "none"); |
| [1825](#L1825) | jQuery('.saveTiktok').prop('disabled', true) |
| [1826](#L1826) | jQuery('.saveTiktok > span').removeClass('d-none') |
| [1827](#L1827) | jQuery('.tiktok-catalog-step').removeClass('disable') |
| [1828](#L1828) | jQuery('.tiktok-step').removeClass('disable') |
| [1829](#L1829) | } |
| [1830](#L1830) | }, |
| [1831](#L1831) | success: function(response) { |
| [1832](#L1832) | if (Channel == 'GMC') { |
| [1833](#L1833) | jQuery(".verifySite, .verifyDomain, .createNewGMC, .channelTabSave, .saveGMC, .tvc\_google\_signinbtn").css("pointer-events", "auto"); |
| [1834](#L1834) | jQuery('.saveGMC > span').addClass('d-none') |
| [1835](#L1835) | jQuery('#google\_merchant\_center\_id').attr('disabled', true) |
| [1836](#L1836) | jQuery('.getGMCList').removeClass('d-none') |
| [1837](#L1837) | if (google\_merchant\_center\_id != jQuery("#google\_merchant\_center\_id").val()) { |
| [1838](#L1838) | var html = '<span class="material-symbols-outlined" style="font-size: 18px;">autorenew</span>Verify Now'; |
| [1839](#L1839) | var html2 = '<span class="material-symbols-outlined" style="font-size: 18px;">autorenew</span>Claim Now'; |
| [1840](#L1840) | jQuery('.verifySite').removeClass('bg-success\_') |
| [1841](#L1841) | jQuery('.verifySite').addClass('bg-warnings') |
| [1842](#L1842) | jQuery('.verifySite').html(html) |
| [1843](#L1843) | jQuery('.verifyDomain').removeClass('bg-success\_') |
| [1844](#L1844) | jQuery('.verifyDomain').addClass('bg-warnings') |
| [1845](#L1845) | jQuery('.verifyDomain').html(html2) |
| [1846](#L1846) | } |
| [1847](#L1847) | } |
| [1848](#L1848) | // if(Channel == 'FB'){ |
| [1849](#L1849) | //     jQuery('#fb\_business\_id').prop('disabled', true) |
| [1850](#L1850) | //     jQuery('#fb\_catalog\_id').prop('disabled', true) |
| [1851](#L1851) | //     jQuery('.getfbList').removeClass('d-none') |
| [1852](#L1852) | //     jQuery('.saveFB').text('Save') |
| [1853](#L1853) | // } |
| [1854](#L1854) | if (Channel == 'Tiktok') { |
| [1855](#L1855) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "auto"); |
| [1856](#L1856) | jQuery('#tiktok\_business\_id').attr('disabled', true) |
| [1857](#L1857) | jQuery('.gettitokList').removeClass('d-none') |
| [1858](#L1858) | jQuery('.saveTiktok > span').addClass('d-none') |
| [1859](#L1859) | } |
| [1860](#L1860) | checkProgressBar('channel'); |
| [1861](#L1861) | openOverlayLoader('openshow'); |
| [1862](#L1862) | setTimeout(function() { |
| [1863](#L1863) | openOverlayLoader('close'); |
| [1864](#L1864) | }, 2000); |
| [1865](#L1865) | } |
| [1866](#L1866) | }); |
| [1867](#L1867) |  |
| [1868](#L1868) | } |
| [1869](#L1869) | jQuery(document).on('click', '.channelTabSave', function() { |
| [1870](#L1870) | jQuery('[data-bs-target="#contact"]').trigger('click') |
| [1871](#L1871) | }) |
| [1872](#L1872) |  |
| [1873](#L1873) | function manageTiktokLoader(display = "show") { |
| [1874](#L1874) | if (display == "show") { |
| [1875](#L1875) | jQuery('#tiktokSetting\_loader').removeClass('d-none') |
| [1876](#L1876) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "none"); |
| [1877](#L1877) | } else { |
| [1878](#L1878) | jQuery(".signIn, #tiktok\_business\_id, .channelTabSave, .saveTiktok").css("pointer-events", "auto"); |
| [1879](#L1879) | jQuery('#tiktokSetting\_loader').addClass('d-none') |
| [1880](#L1880) | } |
| [1881](#L1881) | } |
| [1882](#L1882) | // function manageFbLoader(display = "show") { |
| [1883](#L1883) | //     if(display == "show") { |
| [1884](#L1884) | //         jQuery('#fbSetting\_loader').removeClass('d-none') |
| [1885](#L1885) | //         jQuery(".facebookLogin, #fb\_business\_id, #fb\_catalog\_id, .channelTabSave, .saveFB").css("pointer-events", "none"); |
| [1886](#L1886) | //     } else { |
| [1887](#L1887) | //         jQuery('#fbSetting\_loader').addClass('d-none') |
| [1888](#L1888) | //         jQuery(".facebookLogin, #fb\_business\_id, #fb\_catalog\_id, .channelTabSave, .saveFB").css("pointer-events", "auto"); |
| [1889](#L1889) | //     } |
| [1890](#L1890) | // } |
| [1891](#L1891) | function managecreateFeedLoader(display = "show") { |
| [1892](#L1892) | if (display == "show") { |
| [1893](#L1893) | jQuery('#createFeed\_loader').removeClass('d-none') |
| [1894](#L1894) | jQuery("#createFeed").css("pointer-events", "none"); |
| [1895](#L1895) | } else { |
| [1896](#L1896) | jQuery('#createFeed\_loader').addClass('d-none') |
| [1897](#L1897) | jQuery("#createFeed").css("pointer-events", "auto"); |
| [1898](#L1898) | } |
| [1899](#L1899) | } |
| [1900](#L1900) |  |
| [1901](#L1901) | function getConditionDropDown(val = '', condition = '') { |
| [1902](#L1902) | let conditionOption = '<select class="condition createSelect" name="condition[]" style="width: 100%"><option value="0">Select Condition</option>'; |
| [1903](#L1903) | if (val != '0') { |
| [1904](#L1904) | if (val != '' || condition != '') { |
| [1905](#L1905) | switch (val) { |
| [1906](#L1906) | case 'product\_cat': |
| [1907](#L1907) | case 'ID': |
| [1908](#L1908) | conditionOption += '<option value="=" ' + ((condition == "=") ? "selected" : "") + ' > = </option>' + |
| [1909](#L1909) | '<option value="!=" ' + ((condition == "!=") ? "selected" : "") + ' > != </option>'; |
| [1910](#L1910) | break; |
| [1911](#L1911) | case '\_stock\_status': |
| [1912](#L1912) | conditionOption += '<option value="=" ' + ((condition == "=") ? "selected" : "") + ' > = </option>' + |
| [1913](#L1913) | '<option value="!=" ' + ((condition == "!=") ? "selected" : "") + ' > != </option>'; |
| [1914](#L1914) | break; |
| [1915](#L1915) | } |
| [1916](#L1916) | } |
| [1917](#L1917) | conditionOption += '</select>'; |
| [1918](#L1918) | return conditionOption; |
| [1919](#L1919) | } |
| [1920](#L1920) |  |
| [1921](#L1921) | function checkProgressBar(channel = "") { |
| [1922](#L1922) | var get = "<?php echo isset($\_GET['wizard\_channel']) ? esc\_js(sanitize\_text\_field($\_GET['wizard\_channel'])) : '' ?>"; |
| [1923](#L1923) | var data = { |
| [1924](#L1924) | action: "get\_category\_for\_filter", |
| [1925](#L1925) | type: "getProgressCount", |
| [1926](#L1926) | get\_category\_for\_filter: "<?php echo esc\_html(wp\_create\_nonce('get\_category\_for\_filter-nonce')); ?>" |
| [1927](#L1927) | }; |
| [1928](#L1928) | jQuery.ajax({ |
| [1929](#L1929) | type: "POST", |
| [1930](#L1930) | dataType: "json", |
| [1931](#L1931) | url: tvc\_ajax\_url, |
| [1932](#L1932) | data: data, |
| [1933](#L1933) | beforeSend: function() {}, |
| [1934](#L1934) | success: function(response) { |
| [1935](#L1935) | var pixelprogressbarclass = 0; |
| [1936](#L1936) | jQuery('.progress-bar').removeClass('w-' + pixelprogressbarclass) |
| [1937](#L1937) | if (response.feed\_count == 1) { |
| [1938](#L1938) | pixelprogressbarclass = parseInt(pixelprogressbarclass) + 33; |
| [1939](#L1939) | jQuery('.create-feed').text("check\_circle") |
| [1940](#L1940) | jQuery('.create-feed').removeClass("text-warning") |
| [1941](#L1941) | jQuery('.create-feed').addClass("text-success") |
| [1942](#L1942) | } |
| [1943](#L1943) | if (response.is\_channel\_connected == 1) { |
| [1944](#L1944) | jQuery('.channelTabSave').prop('disabled', false) |
| [1945](#L1945) | pixelprogressbarclass = parseInt(pixelprogressbarclass) + 33; |
| [1946](#L1946) | jQuery('.add-channel').text("check\_circle") |
| [1947](#L1947) | jQuery('.add-channel').removeClass("text-warning") |
| [1948](#L1948) | jQuery('.add-channel').addClass("text-success") |
| [1949](#L1949) | } |
| [1950](#L1950) | jQuery('.progress-bar').addClass('w-' + pixelprogressbarclass) |
| [1951](#L1951) | if (response.is\_channel\_connected == 1 && get == '' && channel == '') { |
| [1952](#L1952) | jQuery('[data-bs-target="#contact"]').trigger('click') |
| [1953](#L1953) | } |
| [1954](#L1954) | } |
| [1955](#L1955) | }); |
| [1956](#L1956) | } |
| [1957](#L1957) |  |
| [1958](#L1958) | function getAttrubuteMappingDiv() { |
| [1959](#L1959) | var data = { |
| [1960](#L1960) | action: "get\_attribute\_mappingv\_div", |
| [1961](#L1961) | fb\_business\_nonce: "<?php echo esc\_js(wp\_create\_nonce('fb\_business\_nonce')); ?>" |
| [1962](#L1962) | } |
| [1963](#L1963) | jQuery.ajax({ |
| [1964](#L1964) | type: "POST", |
| [1965](#L1965) | dataType: "", |
| [1966](#L1966) | url: tvc\_ajax\_url, |
| [1967](#L1967) | data: data, |
| [1968](#L1968) | beforeSend: function() {}, |
| [1969](#L1969) | success: function(response) { |
| [1970](#L1970) | jQuery('#attribute\_mapping').html(response) |
| [1971](#L1971) | var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')) |
| [1972](#L1972) | var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) { |
| [1973](#L1973) | return new bootstrap.Tooltip(tooltipTriggerEl) |
| [1974](#L1974) | }); |
| [1975](#L1975) | cnt = jQuery('#cnt').val(); |
| [1976](#L1976) | jQuery('#conv\_modal\_attribute\_popup').modal('show') |
| [1977](#L1977) | if (jQuery('#feed\_target\_country').data('select2')) { |
| [1978](#L1978) | jQuery('#feed\_target\_country').select2('destroy') |
| [1979](#L1979) | } |
| [1980](#L1980) | setTimeout(function() { |
| [1981](#L1981) | jQuery('.select\_modal').select2({ |
| [1982](#L1982) | dropdownParent: jQuery("#conv\_modal\_attribute\_popup .modal-content") |
| [1983](#L1983) | }); |
| [1984](#L1984) | }, 300); |
| [1985](#L1985) | } |
| [1986](#L1986) | }); |
| [1987](#L1987) | } |
| [1988](#L1988) |  |
| [1989](#L1989) | function disableOptions() { |
| [1990](#L1990) | //remove attr |
| [1991](#L1991) | jQuery('.additinal\_attr \*').removeAttr("disabled"); |
| [1992](#L1992) | jQuery(selected).each(function(i, v) { |
| [1993](#L1993) | jQuery(".additinal\_attr option").each(function() { |
| [1994](#L1994) | var $thisOption = jQuery(this); |
| [1995](#L1995) | var valueToCompare = v; |
| [1996](#L1996) | if (jQuery(this).parent().find(':selected').val() != v) { |
| [1997](#L1997) | if ($thisOption.val() == valueToCompare) { |
| [1998](#L1998) | $thisOption.attr("disabled", "disabled"); |
| [1999](#L1999) | } |
| [2000](#L2000) | } |
| [2001](#L2001) |  |
| [2002](#L2002) | }); |
| [2003](#L2003) | }) |
| [2004](#L2004) | } |
| [2005](#L2005) | jQuery(document).on('change', '.additinal\_attr', function() { |
| [2006](#L2006) | $fixed\_att\_select\_list = ["gender", "age\_group", "condition"]; |
| [2007](#L2007) | var attr = jQuery(this).val(); |
| [2008](#L2008) | if (jQuery.inArray(attr, $fixed\_att\_select\_list) !== -1) { |
| [2009](#L2009) | $option1 = '<option value="">Please Select Attribute</option>'; |
| [2010](#L2010) | if (attr == 'gender') { |
| [2011](#L2011) | $option1 += '<option value="male">Male</option><option value="female">Female</option><option value="unisex">Unisex</option>' |
| [2012](#L2012) | } |
| [2013](#L2013) | if (attr == 'condition') { |
| [2014](#L2014) | $option1 += '<option value="new">New</option><option value="refurbished">Refurbished</option><option value="used">Used</option>' |
| [2015](#L2015) | } |
| [2016](#L2016) | if (attr == 'age\_group') { |
| [2017](#L2017) | $option1 += '<option value="newborn">Newborn</option><option value="infant">Infant</option><option value="toddler">Toddler</option><option value="kids">Kids</option><option value="adult">Adult</option>' |
| [2018](#L2018) | } |
| [2019](#L2019) | jQuery(this).parent().next().find('.additional\_attr\_value').html($option1) |
| [2020](#L2020) | } else { |
| [2021](#L2021) | var wooCommerceAttributes = <?php echo wp\_json\_encode($wooCommerceAttributes); ?>; |
| [2022](#L2022) | $option1 = '<option value="">Please Select Attribute</option>'; |
| [2023](#L2023) | jQuery.each(wooCommerceAttributes, function(index, value) { |
| [2024](#L2024) | $option1 += '<option value="' + value.field + '">' + value.field + '</option>' |
| [2025](#L2025) | }); |
| [2026](#L2026) | jQuery(this).parent().next().find('.additional\_attr\_value').html($option1) |
| [2027](#L2027) | } |
| [2028](#L2028) | }) |
| [2029](#L2029) | //Vallidation for number input |
| [2030](#L2030) | jQuery(document).on('keydown', 'input[name="shipping"]', function(event) { |
| [2031](#L2031) | if (event.shiftKey == true) { |
| [2032](#L2032) | event.preventDefault(); |
| [2033](#L2033) | } |
| [2034](#L2034) | if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8 || event.keyCode == 9 || event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 46 || event.keyCode == 190) { |
| [2035](#L2035) |  |
| [2036](#L2036) |  |
| [2037](#L2037) | } else { |
| [2038](#L2038) | event.preventDefault(); |
| [2039](#L2039) | } |
| [2040](#L2040) |  |
| [2041](#L2041) | if (jQuery(this).val().indexOf('.') !== -1 && event.keyCode == 190) |
| [2042](#L2042) | event.preventDefault(); |
| [2043](#L2043) |  |
| [2044](#L2044) | }) |
| [2045](#L2045) | jQuery(document).on('input', 'input[name="tax"]', function() { |
| [2046](#L2046) | // Remove any non-numeric characters |
| [2047](#L2047) | jQuery(this).val(jQuery(this).val().replace(/[^0-9.]/g, '')); |
| [2048](#L2048) |  |
| [2049](#L2049) | // Ensure only one decimal point |
| [2050](#L2050) | if (jQuery(this).val().split('.').length > 2) { |
| [2051](#L2051) | jQuery(this).val(jQuery(this).val().substring(0, jQuery(this).val().lastIndexOf('.'))); |
| [2052](#L2052) | } |
| [2053](#L2053) |  |
| [2054](#L2054) | // Restrict the maximum value to 100 |
| [2055](#L2055) | if (parseFloat(jQuery(this).val()) > 100) { |
| [2056](#L2056) | jQuery(this).val('100'); |
| [2057](#L2057) | } |
| [2058](#L2058) | }); |
| [2059](#L2059) |  |
| [2060](#L2060) | function openOverlayLoader(status = "") { |
| [2061](#L2061) | if (status == 'open') { |
| [2062](#L2062) | document.getElementById("overlayanimation").style.width = "100%"; |
| [2063](#L2063) | jQuery(".loaderopen-content").removeClass("d-none"); |
| [2064](#L2064) | jQuery(".loadershow-content").addClass("d-none"); |
| [2065](#L2065) | } else if (status == 'openshow') { |
| [2066](#L2066) | document.getElementById("overlayanimation").style.width = "100%"; |
| [2067](#L2067) | jQuery(".loaderopen-content").addClass("d-none"); |
| [2068](#L2068) | jQuery(".loadershow-content").removeClass("d-none"); |
| [2069](#L2069) | } else { |
| [2070](#L2070) | document.getElementById("overlayanimation").style.width = "0%"; |
| [2071](#L2071) | jQuery(".overlay\_loader\_conv-content").addClass("d-none"); |
| [2072](#L2072) | jQuery(".loaderopen-content").addClass("d-none"); |
| [2073](#L2073) | jQuery(".loadershow-content").addClass("d-none"); |
| [2074](#L2074) | jQuery(".loadershow-content .overlaycontentbox").html(""); |
| [2075](#L2075) | } |
| [2076](#L2076) | } |
| [2077](#L2077) | </script> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php?rev=3105213&format=txt)
* [Original Format](/export/3105213/enhanced-e-commerce-for-woocommerce-store/tags/7.1.0/admin/partials/wizard-productfeed-even.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

