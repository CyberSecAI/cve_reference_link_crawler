
**[![](local/cache-vignettes/L96xH96/siteon0-47b07.png?1666949430)SPIP Blog](https://blog.spip.net/ "Accueil")**

Du logiciel libre et de la tendresse

* [Gazette](-Gazette-.html)
* [Release](-Release-.html)
* [DÃ©veloppement](-Developpement-.html)
* [CommunautÃ©](-Communaute-.html)
* [Ailleurs](-Ailleurs-.html)

[Accueil](https://blog.spip.net/) > [Release](-Release-.html) > **Mise Ã  jour critique de sÃ©curitÃ©Â : sortie de SPIPÂ 4.3.0-alpha2, SPIPÂ 4.2.13,Â (â€¦)**

# Mise Ã  jour critique de sÃ©curitÃ©Â : sortie de SPIPÂ 4.3.0-alpha2, SPIPÂ 4.2.13, SPIPÂ 4.1.16

mercredi 29 mai 2024, par [Lâ€™Ã©quipe maintenance](_L-equipe-maintenance_.html)

Suite au signalement dâ€™une faille critique de sÃ©curitÃ©, nous publions les versions SPIP 4.3.0-alpha2, 4.2.13, 4.1.16. Un grand merci Ã  Laluka (Jacques-Chevallier Louka) pour le signalement.

Ces versions corrigent une faille critique permettant lâ€™exÃ©cution de code (RCE) depuis lâ€™espace public sur les branches 4.2 et 4.3 de SPIP.

Il est impÃ©ratif de mettre Ã  jour votre site SPIP **immÃ©diatement**.

Encore une fois, merci Ã  Laluka (Jacques-Chevallier Louka) pour lâ€™analyse complÃ¨te et dÃ©taillÃ©e transmise.

En plus de la correction de la faille de sÃ©curitÃ©, ces versions apportent les amÃ©liorations ou corrections de bugs suivantes.

## SPIPÂ 4.3.0-alpha2

* Appliquer un filtre `attribut_url()` aux endroits pertinents
* Pouvoir rendre statique les modÃ¨les de formulaires dans certains contextes
* Mise Ã  jour de lâ€™Ã©cran de sÃ©curitÃ© en version 1.6.0
* Filtre `|propre` qui applique `propre()` & `safehtml()` (cela permet de dÃ©s-Ã©chapper le code de confiance des modÃ¨les).
* Filtre `attribut_url()` pour formater des attributs `href` et `src`
* RÃ©tablir la possibilitÃ© de masquer certains champs des formulaires dâ€™articles et de rubriques via le pipeline `formulaire_charger`
* Corriger la conformitÃ© HTML5 (quelques fonctions nâ€™auraient pas du Ãªtre modifiÃ©es)
* Ã‰viter une fatale depuis `echapper_html_suspect()`, qui initialisait une valeur de `connect` incorrecte.
* Correction de `inserer_attribut()` sur un cas dÃ©rogatoireÂ : les balises `<img>` (mÃªme non autofermante)
* Correction de coquille sur la meta charset (suite Ã  la conformitÃ© HTML5)
* Petite optimisation sur `svg_nettoyer()`
* Optimisation des boucles avec pagination, en forÃ§ant une clause limit automatique dessus
* **bigup**
  + Activer Bigup aussi sur les `input` non autofermants (HTML5)
  + Erreur JS sur lâ€™upload dâ€™un fichier sans extension
* **compresseur**
  + Utiliser la fonction `svg_nettoyer()` introduite dans SPIP.
* **images**
  + Filtre `image_oriente_selon_exif()` pour rÃ©orienter automatiquement une image selon son exif
  + Les filtres dâ€™images tel que `image_recadre` rÃ©orientent lâ€™image selon lâ€™exif dâ€™orientation
  + Optimisation du filtre `image_aplatir()`
  + Optimisation du filtre `image_renforcement()`
  + Optimisation du filtre `image_flou()`
  + Optimisation du filtre `image_sepia()`
  + Optimisation des filtres `image_flip_vertical()` & `image_flip_horizontal()`
  + Optimisation du filtre `image_nb()`
  + Optimisation du filtre `image_gamma()`
  + Optimisation du filtre `image_rotation()`
  + Correction du paramÃ¨tre `crop` de `image_rotation()`
* **forum**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
* **medias**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
* **porte plume**
  + Interdire par dÃ©faut lâ€™Ã©valuation de code PHP (qui ne devrait plus Ãªtre nÃ©cessaire) lors de la prÃ©visualisation du porte plume
  + Limiter par dÃ©faut lâ€™usage de la prÃ©visualisation dans lâ€™espace public aux administrateurs
  + Autorisation `autoriser_modelesphp_previsualiser_dist` (retourne `false` par dÃ©faut)
  + Lâ€™autorisation `autoriser_porteplume_previsualiser_dist` est limitÃ©e aux admins dans lâ€™espace public.
* **svp**
  + Support de la branche 4.3 de SPIP
* **dist**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
## SPIPÂ 4.2.13

* Appliquer un filtre `attribut_url()` aux endroits pertinents
* Pouvoir rendre statique les modÃ¨les de formulaires dans certains contextes
* Ã‰cran de sÃ©curitÃ© en version 1.6.0
* Filtre `attribut_url()` pour formater des attributs `href` et `src`
* RÃ©tablir la possibilitÃ© de masquer certains champs des formulaires dâ€™articles et de rubriques via le pipeline `formulaire_charger`
* Ã‰viter une fatale depuis `echapper_html_suspect()`, qui initialisait une valeur de `connect` incorrecte.
* Petite optimisation sur `svg_nettoyer()`
* **bigup**
  + Activer Bigup aussi sur les `input` non autofermants (HTML5)
  + Erreur JS sur lâ€™upload dâ€™un fichier sans extension
* **compresseur**
  + Utiliser la fonction `svg_nettoyer()` introduite dans SPIP.
* **images**
  + Ã‰viter des notices en PHP 8 sur le filtre `|image_flou`
* **forum**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
* **medias**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
* **porte plume**
  + Interdire par dÃ©faut lâ€™Ã©valuation de code PHP (qui ne devrait plus Ãªtre nÃ©cessaire) lors de la prÃ©visualisation du porte plume
  + Limiter par dÃ©faut lâ€™usage de la prÃ©visualisation dans lâ€™espace public aux administrateurs
  + Autorisation `autoriser_modelesphp_previsualiser_dist` (retourne `false` par dÃ©faut)
  + Lâ€™autorisation `autoriser_porteplume_previsualiser_dist` est limitÃ©e aux admins dans lâ€™espace public.
* **svp**
  + Support de la branche 4.3 de SPIP
* **dist**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
## SPIPÂ 4.1.16

* Appliquer un filtre `attribut_url()` aux endroits pertinents
* Pouvoir rendre statique les modÃ¨les de formulaires dans certains contextes
* Ã‰cran de sÃ©curitÃ© en version 1.6.0
* Filtre `attribut_url()` pour formater des attributs `href` et `src`
* **forum**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
* **medias**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
* **dist**
  + Appliquer un filtre `attribut_url()` aux endroits pertinents
## Mettre Ã  jour en utilisant le spip\_loader

Vous pouvez aussi mettre Ã  jour au moyen de la derniÃ¨re version de spip\_loader (**versionÂ 6.1.7**).

**spip\_loader** est distribuÃ© Ã  lâ€™adresse suivanteÂ :
<https://get.spip.net/>

Le fichier `spip_loader.php` est un script compilÃ© dans le format binaire
[phar](https://www.php.net/manual/fr/intro.phar.php).
Si vous avez besoin de personnaliser lâ€™installation en dÃ©finissant des constantes, il vous faut crÃ©er un fichier de configuration spip\_loader\_config.php (cf <https://www.spip.net/fr_article5705.html>).

## RÃ©sumÃ© des versions de SPIP

| Branche | Version | Suivi | CompatibilitÃ© PHP |
| --- | --- | --- | --- |
| SPIPÂ 4.3 | [SPIP 4.3.0-alpha2](https://files.spip.net/spip/dev/spip-v4.3.0-alpha2.zip) | Branche test | PHPÂ 7.4 Ã  PHPÂ 8.3 |
| SPIPÂ 4.2 | [SPIP 4.2.13](https://files.spip.net/spip/archives/spip-v4.2.13.zip) | Maintenance active | PHPÂ 7.4 Ã  PHPÂ 8.3 |
| SPIPÂ 4.1 | [SPIP 4.1.16](https://files.spip.net/spip/archives/spip-v4.1.16.zip) | Correctifs de sÃ©curitÃ© seulement | PHPÂ 7.4 Ã  PHPÂ 8.1 |

Pour connaÃ®tre le dÃ©tail des versions maintenuesÂ :

<https://www.spip.net/fr_article6500.html>

## Comment Ãªtre tenu au courant de ces annoncesÂ ?

Câ€™est simple, inscrivez-vous sur la mailing liste
<https://discuter.spip.net/c/spip-ann/13>

Bien sÃ»r, les rÃ©seaux sociaux sont de la partieÂ :

* SeenthisÂ : <https://seenthis.net/people/spip>
* FacebookÂ : <https://www.facebook.com/spip.net>
* MamotÂ : [https://mamot.fr/@spip](https://mamot.fr/%40spip)
## Une question, besoin dâ€™aideÂ ?

En cas de problÃ¨me ou de difficultÃ©s, il y aura certainement quelquâ€™un pour vous aider sur IRC,
nâ€™hÃ©sitez pas Ã  venir poser vos questions <https://irc.spip.net>
ou sur [notre serveur Discord](https://discord.gg/bFFgVz2).

Vous pouvez aussi poster un message et Ã©changer surÂ :

* La liste des utilisateurs et utilisatrices <https://discuter.spip.net/c/spip/6>
* La liste du dÃ©veloppement spip-dev <https://discuter.spip.net/c/spip-dev/5>

Nous vous rappelons que pour signaler une faille, il suffit dâ€™envoyer un mail Ã 
securite@spip.net.

## Messages

* [29 mai 2024, 22:12, par babouche](#forum6399 "Lien permanent vers le commentaire 6399")

  Merci pour cette versionÂ !
* [3 juin 2024, 12:52, par Gabriel](#forum6400 "Lien permanent vers le commentaire 6400")

  Merci pour cette mÃ j. Un petit post Facebook pour prÃ©venir les gensÂ ? ğŸ˜‰
* [3 juin 2024, 12:56, par b\_b](#forum6401 "Lien permanent vers le commentaire 6401")

  @Gabriel câ€™est vrai quâ€™on est pas trÃ¨s prÃ©sentâ‹…es sur ce rÃ©seau, on manque de force vive pour sâ€™en occuper, mais nâ€™hÃ©site pas Ã  te proposer sur discuter.spip.net si tu es motivÃ©Â :)
* [7 juin 2024, 08:29, par BS](#forum6402 "Lien permanent vers le commentaire 6402")

  Bonjour,

  Jâ€™ai effectuÃ© la mise Ã  jour.

  En pied de page, jâ€™ai bien SPIP 4.3.0-alpha2

  Mais jâ€™ai toujours un bouton mettre Ã  jour sur la page dâ€™accueil de lâ€™admin.

  Et quand je clique dessus, jâ€™ai une page blanche.

  Dâ€™oÃ¹ vient ce problÃ¨meÂ ?

  Dâ€™avance merci

  BS
* [7 juin 2024, 09:52, par b\_b](#forum6403 "Lien permanent vers le commentaire 6403")

  @BS le sujet a dÃ©jÃ  Ã©tÃ© abordÃ© ici <https://discuter.spip.net/t/persistance-du-message-la-mise-a-jour-de-spip-est-disponible/178022> et le bug est corrigÃ© maintenant.
* [7 juin 2024, 13:25, par 1138](#forum6405 "Lien permanent vers le commentaire 6405")

  Pour la branche 4.1, [nâ€™est-ce pas plutÃ´t la version 4.1.17](https://www.spip.net/fr_article6650.html)Â ?
* [7 juin 2024, 13:34, par b\_b](#forum6407 "Lien permanent vers le commentaire 6407")

  @1138 non, le 29Â mai câ€™Ã©tait bien la 4.1.16.
## Un message, un commentaireÂ ?

Qui Ãªtes-vousÂ ?
Votre nom

[Se connecter](spip.php?page=login&url=Mise-a-jour-critique-de-securite-sortie-de-SPIP-4-3-0-alpha2-SPIP-4-2-13-SPIP-4.html%3Flang%3Dfr)

Votre adresse email

Votre message

Veuillez laisser ce champ videÂ :

Texte de votre message (obligatoire)

Ce formulaire accepte les raccourcisÂ SPIP `[->url] {{gras}} {italique} <quote> <code>` et le codeÂ HTML `<q> <del> <ins>`. Pour crÃ©er des paragraphes, laissez simplement des lignes vides.

Veuillez laisser ce champ videÂ :

RechercherÂ :

## Dans la mÃªme rubrique

* [Mise Ã  jour de maintenanceÂ : sortie de SPIP 4.3.5](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-5.html)
* [Mise Ã  jour de maintenanceÂ : sortie de SPIP 4.3.4](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-4.html)
* [Mise Ã  jour de maintenanceÂ : sortie de SPIP 4.3.3](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-3.html)
* [Mise Ã  jour critique de sÃ©curitÃ©Â : sortie de SPIPÂ 4.3.2, SPIPÂ 4.2.16, SPIPÂ 4.1.18](Mise-a-jour-critique-de-securite-sortie-de-SPIP-4-3-2-SPIP-4-2-16-SPIP-4-1-18.html)
* [Mise Ã  jour de maintenanceÂ : sortie de SPIP 4.3.1](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-3-1.html)
* [Sortie de SPIPÂ 4.3.0](Sortie-de-SPIP-4-3-0.html)
* [Mise Ã  jour de maintenance et sÃ©curitÃ©Â : â€¯sortie de SPIPÂ 4.2.15](Mise-a-jour-de-maintenance-et-securite-sortie-de-SPIP-4-2-15.html)
* [Sortie de SPIPÂ 4.3.0-beta](Sortie-de-SPIP-4-3-0-beta.html)
* [Mise Ã  jour de maintenanceÂ : sortie de SPIPÂ 4.2.14, SPIPÂ 4.1.17](Mise-a-jour-de-maintenance-sortie-de-SPIP-4-2-14-SPIP-4-1-17.html)
* [Mise Ã  jour critique de sÃ©curitÃ©Â : sortie de SPIPÂ 4.3.0-alpha2, SPIPÂ 4.2.13, SPIPÂ 4.1.16](Mise-a-jour-critique-de-securite-sortie-de-SPIP-4-3-0-alpha2-SPIP-4-2-13-SPIP-4.html)

2005 - 2025 SPIP Blog

[![SPIP](spip.png)](https://www.spip.net/ "Site rÃ©alisÃ© avec SPIP")

