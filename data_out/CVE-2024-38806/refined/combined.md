=== Content from www.cloudfoundry.org_6878bc41_20250111_111904.html ===

![Cloud Foundry Logo](https://www.cloudfoundry.org/wp-content/uploads/2017/01/CFF_Logo_vertical_RGB.png)

Search for:

[Get Started](https://www.cloudfoundry.org/get-started/)[Join the Foundation](https://www.cloudfoundry.org/membership/)[Read the Blog](https://www.cloudfoundry.org/blog/)

[![Logo](https://www.cloudfoundry.org/wp-content/uploads/2017/01/CFF_Logo_rgb.png)](https://www.cloudfoundry.org/)

* [![Logo](https://www.cloudfoundry.org/wp-content/uploads/2017/01/CFF_Logo_rgb.png)](https://www.cloudfoundry.org/)
* Why
  ![](/img/drip-gear.png)
  ## Why

  [Why Cloud Foundry](/why-cloud-foundry/)

  [Resources](/get-started/#gs-training)
  [Industry Research](/research/)
  [User Stories](/user-stories/)
* Technology
  ![](/img/drip-gear.png)
  ## Technology

  [Cloud Foundry Korifi](https://www.cloudfoundry.org/technology/korifi/)
  [Paketo](https://paketo.io/)
  [Open Service Broker API](/technology/open-service-broker-api/)
  [Working Groups](/working-groups/)

  [Documentation](/get-started/#gs-documentation)
  [Security Advisories](/security/)
* Community
  ![](/img/drip-gear.png)
  ## Community

  [Community Hub](/community/)
  [Community Calendar](/community-calendar/)
* Events
  ![](/img/drip-gear.png)
  ## Events

  [Events Home](/events/)
  [Webinars](/webinars/)
  [Hands-on Labs](https://www.cloudfoundry.org/hands-on-labs/)
  [Live Streams](/live-streams/)

  [Meetups](/events/#events-meetups)
  [Past Events](/events-archive/)
* About
  ![](/img/drip-gear.png)
  ## About

  [The Foundation](/foundation/)
  [Culture](/culture/)
  [Governing Board](/governing-board/)
  [Leadership](/leadership/)
  [Members](/members/)
  [Governance](/governance/)
  [Contact](/contact/)

  [Newsroom](/newsroom/)
  [Newsletter](/newsletter/)
  [Branding](/logo/)
  [Swag Shop](https://store-cloudfoundry.org)

Search for:

[Get Started](https://www.cloudfoundry.org/get-started/)[Join the Foundation](https://www.cloudfoundry.org/membership/)[Read the Blog](https://www.cloudfoundry.org/blog/)

* Why
  ![](/img/drip-gear.png)
  ## Why

  [Why Cloud Foundry](/why-cloud-foundry/)

  [Resources](/get-started/#gs-training)
  [Industry Research](/research/)
  [User Stories](/user-stories/)
* Technology
  ![](/img/drip-gear.png)
  ## Technology

  [Cloud Foundry Korifi](https://www.cloudfoundry.org/technology/korifi/)
  [Paketo](https://paketo.io/)
  [Open Service Broker API](/technology/open-service-broker-api/)
  [Working Groups](/working-groups/)

  [Documentation](/get-started/#gs-documentation)
  [Security Advisories](/security/)
* Community
  ![](/img/drip-gear.png)
  ## Community

  [Community Hub](/community/)
  [Community Calendar](/community-calendar/)
* Events
  ![](/img/drip-gear.png)
  ## Events

  [Events Home](/events/)
  [Webinars](/webinars/)
  [Hands-on Labs](https://www.cloudfoundry.org/hands-on-labs/)
  [Live Streams](/live-streams/)

  [Meetups](/events/#events-meetups)
  [Past Events](/events-archive/)
* About
  ![](/img/drip-gear.png)
  ## About

  [The Foundation](/foundation/)
  [Culture](/culture/)
  [Governing Board](/governing-board/)
  [Leadership](/leadership/)
  [Members](/members/)
  [Governance](/governance/)
  [Contact](/contact/)

  [Newsroom](/newsroom/)
  [Newsletter](/newsletter/)
  [Branding](/logo/)
  [Swag Shop](https://store-cloudfoundry.org)

![blog single gear](/img/blog-single-hero-gear.png)
 [Blog](/blog/)

[Security Advisory](/foundryblog/security-advisory/)
# CVE-2024-38806 – UAA Failure to Remove Shadow User’s Access

by: [Cloud Foundry Foundation Security Team](https://www.cloudfoundry.org/author/paul_warren/ "Posts by Cloud Foundry Foundation Security Team")
July 18, 2024

**Share**

[Share](https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.cloudfoundry.org%2F&src=sdkpreparse)

[Tweet](https://twitter.com/intent/tweet)

## Severity

LOW

## Vendor

CloudFoundry Foundation

## Versions Affected

UAA Release v77.10.0 or below

## Description

Expected behavior: When UAA is configured to proxy to an external OIDC or SAML provider, and when UAA is configured (using the UAA group mapping feature) to convert the external provider user groups into the corresponding internal UAA user groups. After an initial user login triggered an initial group conversion, if then an admin removes a user from a group in the external provider, upon the user’s subsequent logins with UAA, UAA should remove the user from the corresponding UAA internal groups as well.

Actual behavior (in UAA Release v77.10.0 or below): UAA might not perform this group removal correctly, and as a result, the user might retain outdated access in UAA that they should not have.

## Mitigation

Upgrade to UAA Release v77.11.0 or above to prevent this issue with future users.

If you suspect that your existing users have retained outdated access due to this issue, we recommend that you remove the UAA shadow user (UAA’s local cache of the external provider user) via UAA’s user delete endpoint, so that the UAA shadow user and its groups can be repopulated later.

## Credit

@Rohit04061992 for reporting

@strehle for fixing

## History

07/18/2024: Initial vulnerability report published.

![Cloud Foundry Foundation Security Team Profile Image](https://secure.gravatar.com/avatar/8b80fab5cd3e1d6bcef9965471e36465?s=96&d=retro&r=g)

Cloud Foundry Foundation Security Team, AUTHOR

[SEE ALL ARTICLES](https://www.cloudfoundry.org/author/paul_warren/)

## You Might Also Like

![USN-5550-1: GnuTLS vulnerabilities](https://www.cloudfoundry.org//wp-content/themes/cloudfoundry/imgs/placeholder_home.jpg)
[Security Advisory](/foundryblog/security-advisory/)
### [USN-5550-1: GnuTLS vulnerabilities](https://www.cloudfoundry.org/blog/usn-5550-1-gnutls-vulnerabilities/)

by Cloud Foundry Foundation Security Team August 25, 2022

![USN-4487-1: libx11 vulnerabilities](https://www.cloudfoundry.org//wp-content/themes/cloudfoundry/imgs/placeholder_home.jpg)
[Security Advisory](/foundryblog/security-advisory/)
### [USN-4487-1: libx11 vulnerabilities](https://www.cloudfoundry.org/blog/usn-4487-1/)

by Cloud Foundry Foundation Security Team September 24, 2020

![USN-5102-1: Mercurial vulnerabilities](https://www.cloudfoundry.org//wp-content/themes/cloudfoundry/imgs/placeholder_home.jpg)
[Security Advisory](/foundryblog/security-advisory/)
### [USN-5102-1: Mercurial vulnerabilities](https://www.cloudfoundry.org/blog/usn-5102-1-mercurial-vulnerabilities/)

by Cloud Foundry Foundation Security Team October 28, 2021

## Sign up for the Cloud Foundry Newsletter today!

First Name Last NameEmail\*

![Cloud Foundry Logo](/img/CloudFoundaryCorp_vertical_white.png)

* [Membership](https://www.cloudfoundry.org/membership/)

* [Terms of Use](https://www.linuxfoundation.org/legal/terms)
* [Privacy Policy](https://www.linuxfoundation.org/privacy)
* [Trademark](https://www.linuxfoundation.org/trademark-usage)

Copyright ©2025 The Linux Foundation®. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our [Trademark Usage](https://www.linuxfoundation.org/trademark-usage) page. Linux is a registered trademark of Linus Torvalds. [Privacy Policy](http://www.linuxfoundation.org/privacy) and [Terms of Use](http://www.linuxfoundation.org/terms).

This website uses cookies to offer you a better browsing experience. Find out more about [how we use cookies and how you can change your settings.](/cookies/) Accept


