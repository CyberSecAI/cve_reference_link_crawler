

[Sign in](/login)
[Sign up](/signup)

* [Explore](/explore)
* [Enterprise](/enterprises)
* [Education](/education)
* [Search](/search)
* [Help](/help)
* [Terms of use](/terms)
* [About Us](/about_us)

[![Gitee — A Git-based Code Hosting and Research Collaboration Platform](/static/images/logo.svg?t=158106664 "Gitee — A Git-based Code Hosting and Research Collaboration Platform")
![Gitee — A Git-based Code Hosting and Research Collaboration Platform](/static/images/logo-black.svg?t=158106664 "Gitee — A Git-based Code Hosting and Research Collaboration Platform")](https://gitee.com)
[Explore](/explore "Explore")[Enterprise](/enterprises "Enterprise")[Education](/education "Education")[Gitee Premium](https://gitee.cn?utm_source=giteecom "Gitee Premium")[Gitee AI](https://ai.gitee.com/?utm_sources=site_nav "Gitee AI")
[![Gitee — A Git-based Code Hosting and Research Collaboration Platform](/static/images/logo.svg?t=158106664 "Gitee — A Git-based Code Hosting and Research Collaboration Platform")
![Gitee — A Git-based Code Hosting and Research Collaboration Platform](/static/images/logo-black.svg?t=158106664 "Gitee — A Git-based Code Hosting and Research Collaboration Platform")](https://gitee.com)

![功能更新](https://cn-assets.gitee.com/assets/bulb_off-24ee940be20998aace89a3f040cbc704.svg)
![]()

I know
View Details

[Sign in](/login)[Sign up](/signup)

Fetch the repository succeeded.

[Open Source](/explore)
>
[Other](/explore/other-open-source)
>
[Operation System](/explore/os)
&&

Donate
Please sign in before you donate.

Cancel
[Sign in](/login)

Scan WeChat QR to Pay

![]()

Cancel
Complete

Prompt
Switch to Alipay.

OK
Cancel

Watch

[Unwatch](/openeuler/kernel/unwatch)[Watching](/openeuler/kernel/watch)[Releases Only](/openeuler/kernel/release_only_watch)[Ignoring](/openeuler/kernel/ignoring_watch)

[425](/openeuler/kernel/watchers "425")
[Star](/login)[1.5K](/openeuler/kernel/stargazers "1518")
[Fork](/login "You must be signed in to fork a repository")[1.5K](/openeuler/kernel/members "1541")
## [GVP](/gvp "GVP - Gitee Most Valuable Project")[openEuler](/openeuler "openEuler")/[kernel](/openeuler/kernel "kernel")

[Code](/openeuler/kernel)[Issues
1242](/openeuler/kernel/issues)[Pull Requests
2950](/openeuler/kernel/pulls)[Wiki](/openeuler/kernel/wikis)[Insights](/openeuler/kernel/graph/openEuler-1.0-LTS)[Pipelines](/openeuler/kernel/gitee_go)

Service

[![Logo en](/static/images/logo-en.svg)](/openeuler/kernel/pages)[![Sonar mini](https://cn-assets.gitee.com/assets/sonar_mini-5e1b54bb9f6c951d97fb778ef623afea.png)](/openeuler/kernel/quality_analyses?platform=sonar_qube)[![Jenkins for gitee](https://cn-assets.gitee.com/assets/jenkins_for_gitee-554ec65c490d0f1f18de632c48acc4e7.png)
Jenkins for Gitee](https://gitee.com/help/articles/4193)[![Cloudbase](https://cn-assets.gitee.com/assets/cloudbase-1197b95ea3398aff1df7fe17c65a6d42.png?20200925)
Tencent CloudBase](https://gitee.com/help/articles/4318)[![Cloud serverless](https://cn-assets.gitee.com/assets/cloud_serverless-686cf926ced5d6d2f1d6e606d270b81e.png)
Tencent Cloud Serverless](https://gitee.com/help/articles/4330)[![Logo](https://cn-assets.gitee.com/assets/open_sca/logo-9049ced662b2f9936b8001e6f9cc4952.png)
悬镜安全](/openeuler/kernel/open_sca)[![Sae](https://cn-assets.gitee.com/assets/SAE-f3aa9366a1e2b7fff4747402eb8f10c3.png)
Aliyun SAE](https://help.gitee.com/devops/connect/Aliyun-SAE)[![Codeblitz](https://cn-assets.gitee.com/assets/Codeblitz-8824e38875a106e16e29ff57ec977b08.png)
Codeblitz](https://codeblitz.cloud.alipay.com/gitee/openeuler/kernel/tree/openEuler-1.0-LTS)
Don’t show this again

[Pull Requests](/openeuler/kernel/pulls)
/
Detail

2810
**drivers/gmjstcm: import CVE-2011-1160 CVE-2011-1162 fixes to tcm.c**

Merged

[Li ZhiGang:openEuler-1.0-LTS](/lizg-ky/kernel_f2/tree/openEuler-1.0-LTS)

[openEuler:openEuler-1.0-LTS](/openeuler/kernel/tree/openEuler-1.0-LTS)

![]()
[Li ZhiGang](/lizg-ky)
create on
2023-11-09 10:16

Clone/Download
HTTPS
SSH

Copy

[Email Patch](/openeuler/kernel/pulls/2810.patch)[Diff file](/openeuler/kernel/pulls/2810.diff)

The kernel issue https://gitee.com/openeuler/kernel/issues/I7TEYD have reported 2 TCM(TPM like chip, by Nationz Technologies Inc.) driver CVE issues.
【Vulnerability information】
There may be information leakage vulnerabilities in the tcm\_read function and tcm\_open function in drivers/staging/gmjstcm/tcm.c
The tcm\_read function did not set this memory to 0 after calling the copy\_to\_user function, causing the user to read the information in the last tcm instruction.
The tcm\_open function does not set the memory block to 0 when allocating memory (kmalloc), which may lead to information leakage vulnerabilities.
Here are the two fixes for TPM:
1. CVE-2011-1160
commit 1309d7afbed1 ("char/tpm: Fix unitialized usage of data buffer")
2. CVE-2011-1162
commit 3321c07ae506 ("TPM: Zero buffer after copying to userspace")
Now we import and apply such 2 fixes to TCM1.0 driver in drivers/staging/gmjstcm/ dir.
#I9DTGV
#I9DTJS

This pull request needs to pass some approval items

| Type | Assign personnel | Status |
| --- | --- | --- |
| Reviewer |  | Completed (0/0) |

How to merge Pull Request

git checkout openEuler-1.0-LTS

git pull https://gitee.com/lizg-ky/kernel\_f2.git openEuler-1.0-LTS

git push origin openEuler-1.0-LTS

[Comments
39](/openeuler/kernel/pulls/2810)[Commits
1](/openeuler/kernel/pulls/2810/commits)[Files
1](/openeuler/kernel/pulls/2810/files)[Checks](/openeuler/kernel/pulls/2810/checks)Code problems
0

Expand
Collapse

Reviewer

Reviewer

![]()
YangYingliang
yangyingliang

![]()
jiaoff
jiaoff

![]()
刘勇强
LiuYongQiang0816

![]()
wangxiongfeng
wangxiongfeng

![]()
朱科潜
kevinzhu1

![]()
WangShaoBo
jentlestea

![]()
lujialin
lujialin2

![]()
Xu Kuohai
xukuohai

![]()
冷嘲啊
lengchao

![]()
Lingmingqiang
alvin-ling

![]()
yuzenghui
yuzenghui

![]()
juntian
juntianlinux

![374049 chenguangli 1578921894](https://foruda.gitee.com/avatar/1676909209319604842/374049_chenguangli_1578921894.jpg!avatar30)
OSSIM
chenguangli

![]()
陈结松
gasonchen

![]()
whoisxxx
whoisxxx

![]()
koulihong
koulihong

![]()
刘恺
kailiu42

![]()
hanjun-guo
hanjun-guo

![]()
woqidaideshi
woqidaideshi

![]()
Chiqijun
chiqijun

![]()
Kefeng
wkfxxx

![]()
ThunderTown
thundertown

![]()
AlexGuo
guohaocs2c

![]()
kylin-mayukun
kylin-mayukun

![8909060 oskernel0719 1670549376](https://foruda.gitee.com/avatar/1670549378172990920/8909060_oskernel0719_1670549376.png!avatar30)
Zheng Zucheng
oskernel0719

![5502451 liuxinux 1658802617](https://foruda.gitee.com/avatar/1677056196037789614/5502451_liuxinux_1658802617.png!avatar30)
柳歆
liuxinux

![22346 newbeats 1578915433](https://foruda.gitee.com/avatar/1676897359468170565/22346_newbeats_1578915433.png!avatar30)
Jackie Liu
newbeats

![]()
zhujianwei001
zhujianwei001

![]()
郑振鹏
zhenpengzheng

![]()
SuperSix173
SuperSix173

![]()
colyli
colyli

![]()
Zhang Yi
zhangyi089

![]()
htforge
htforge

![]()
Yuehaibing
yuehaibing\_planb

![]()
xiehaocheng
haochengxie

![]()
guzitao
guzitao

![]()
CTC-Xibo.Wang
CTC-XiboWang

![]()
zhanghongchen
Hongchen\_Zhang

![]()
chen wei
chenwei\_kernel

![]()
Jason Zeng
x56Jason

![9250373 gou hao 2021 1623390923](https://foruda.gitee.com/avatar/1677169087198567055/9250373_gou-hao-2021_1623390923.png!avatar30)
苟浩
gouhao2022

![]()
DuanqiangWen
duanqiangwen

![]()
georgeguo
georgeguo

![]()
毛泓博
mao-hongbo

![]()
AllenShi
allen-shi

![5625574 stkid 1587900794](https://foruda.gitee.com/avatar/1677061403936192657/5625574_stkid_1587900794.png!avatar30)
Wei Li
stkid

![]()
tcc@hello
hellotcc

![]()
谭小飞
hunan4222

![]()
Fred Kimmy
kongzizaixian

![]()
LiYihang
LiYihang226

![]()
young1c
young1c

![]()
WangBoe2022
wangboe2022

![]()
chenke
chenke1978

![]()
李力军
JerryHZ

![10370188 youngersun 1668840253](https://foruda.gitee.com/avatar/1668840253957995012/10370188_youngersun_1668840253.png!avatar30)
Yang Shen
youngersun

![]()
wsoydl
wsoydl

![]()
sanglipeng
sanglipeng

![]()
zhangchangzhong
zhang-changzhong

![]()
jimmy\_hero
jimmy\_hero

![]()
Yanze
ygn-ndwd-official

![]()
Mingzheng Xing
xingmz

![]()
maobibo
maobibo

![]()
lixuefeng\_loongson
lixuefeng-loongson

![]()
chenweilong
qinirao

![]()
hitmoon
hitmoon

![]()
yunshenglin
yunshenglin

![]()
hucz
hu-chunzhi

![]()
giree2
giree2

![]()
Lostway
Lostwayzxc

![]()
张建华
chris\_zjh

![]()
gaojuxin
gaojuxin09

![]()
仉鹏
anred

![]()
yeweihua999
yeweihua999

![]()
hanliyang
hanliyang

![]()
Yuan can
markyuan4ta2

![]()
kile2009
kile2009

![]()
Li Nan
linan888

![]()
hu.yong
flyingrunsnail

![]()
李辉松
li-huisong

![]()
Xie XiuQi
xiexiuqi

![]()
zhengzengkai
zhengzengkai

![]()
zhangjialin
zhangjialin11

No Setting
Min number
0

Code Owner

Tester

![]()
YangYingliang
yangyingliang

![]()
jiaoff
jiaoff

![]()
刘勇强
LiuYongQiang0816

![]()
wangxiongfeng
wangxiongfeng

![]()
朱科潜
kevinzhu1

![]()
WangShaoBo
jentlestea

![]()
lujialin
lujialin2

![]()
Xu Kuohai
xukuohai

![]()
冷嘲啊
lengchao

![]()
Lingmingqiang
alvin-ling

![]()
yuzenghui
yuzenghui

![]()
juntian
juntianlinux

![374049 chenguangli 1578921894](https://foruda.gitee.com/avatar/1676909209319604842/374049_chenguangli_1578921894.jpg!avatar30)
OSSIM
chenguangli

![]()
陈结松
gasonchen

![]()
whoisxxx
whoisxxx

![]()
koulihong
koulihong

![]()
刘恺
kailiu42

![]()
hanjun-guo
hanjun-guo

![]()
woqidaideshi
woqidaideshi

![]()
Chiqijun
chiqijun

![]()
Kefeng
wkfxxx

![]()
ThunderTown
thundertown

![]()
AlexGuo
guohaocs2c

![]()
kylin-mayukun
kylin-mayukun

![8909060 oskernel0719 1670549376](https://foruda.gitee.com/avatar/1670549378172990920/8909060_oskernel0719_1670549376.png!avatar30)
Zheng Zucheng
oskernel0719

![5502451 liuxinux 1658802617](https://foruda.gitee.com/avatar/1677056196037789614/5502451_liuxinux_1658802617.png!avatar30)
柳歆
liuxinux

![22346 newbeats 1578915433](https://foruda.gitee.com/avatar/1676897359468170565/22346_newbeats_1578915433.png!avatar30)
Jackie Liu
newbeats

![]()
zhujianwei001
zhujianwei001

![]()
郑振鹏
zhenpengzheng

![]()
SuperSix173
SuperSix173

![]()
colyli
colyli

![]()
Zhang Yi
zhangyi089

![]()
htforge
htforge

![]()
Yuehaibing
yuehaibing\_planb

![]()
xiehaocheng
haochengxie

![]()
guzitao
guzitao

![]()
CTC-Xibo.Wang
CTC-XiboWang

![]()
zhanghongchen
Hongchen\_Zhang

![]()
chen wei
chenwei\_kernel

![]()
Jason Zeng
x56Jason

![9250373 gou hao 2021 1623390923](https://foruda.gitee.com/avatar/1677169087198567055/9250373_gou-hao-2021_1623390923.png!avatar30)
苟浩
gouhao2022

![]()
DuanqiangWen
duanqiangwen

![]()
georgeguo
georgeguo

![]()
毛泓博
mao-hongbo

![]()
AllenShi
allen-shi

![5625574 stkid 1587900794](https://foruda.gitee.com/avatar/1677061403936192657/5625574_stkid_1587900794.png!avatar30)
Wei Li
stkid

![]()
tcc@hello
hellotcc

![]()
谭小飞
hunan4222

![]()
Fred Kimmy
kongzizaixian

![]()
LiYihang
LiYihang226

![]()
young1c
young1c

![]()
WangBoe2022
wangboe2022

![]()
chenke
chenke1978

![]()
李力军
JerryHZ

![10370188 youngersun 1668840253](https://foruda.gitee.com/avatar/1668840253957995012/10370188_youngersun_1668840253.png!avatar30)
Yang Shen
youngersun

![]()
wsoydl
wsoydl

![]()
sanglipeng
sanglipeng

![]()
zhangchangzhong
zhang-changzhong

![]()
jimmy\_hero
jimmy\_hero

![]()
Yanze
ygn-ndwd-official

![]()
Mingzheng Xing
xingmz

![]()
maobibo
maobibo

![]()
lixuefeng\_loongson
lixuefeng-loongson

![]()
chenweilong
qinirao

![]()
hitmoon
hitmoon

![]()
yunshenglin
yunshenglin

![]()
hucz
hu-chunzhi

![]()
giree2
giree2

![]()
Lostway
Lostwayzxc

![]()
张建华
chris\_zjh

![]()
gaojuxin
gaojuxin09

![]()
仉鹏
anred

![]()
yeweihua999
yeweihua999

![]()
hanliyang
hanliyang

![]()
Yuan can
markyuan4ta2

![]()
kile2009
kile2009

![]()
Li Nan
linan888

![]()
hu.yong
flyingrunsnail

![]()
李辉松
li-huisong

![]()
Xie XiuQi
xiexiuqi

![]()
zhengzengkai
zhengzengkai

No Setting
Min number
0

Priority

Not specified

Serious

Main

Secondary

Unimportant

Label

openeuler-cla/yes

lgtm

approved

ci\_successful

sig/Kernel

Link Issue

[I7TEYDdrivers/staging/gmjstcm/tcm.c中检测到同源漏洞](/open_euler/dashboard?issue_id=I7TEYD)[I9DTGVCVE-2024-24898](/open_euler/dashboard?issue_id=I9DTGV)[I9DTJSCVE-2024-24891](/open_euler/dashboard?issue_id=I9DTJS)

Successfully merged pull requests will close issues

Milestone

No related milestones

openEuler-1.0-LTS-kernel-static-check-202109

22.03-LTS-Kernel-Update

23.03-Kernel-Release

20.03-SP3-Kernel-Update

20.03-SP3-Kernel-Defect

25.09

24.03-Update

25.03

24.03-SP2

24.03-SP1

Participators
（6）

[![]()](/lizg-ky)
[![5329419 openeuler ci bot 1632792936](https://foruda.gitee.com/avatar/1677047222682821446/5329419_openeuler-ci-bot_1632792936.png!avatar30)](/openeuler-ci-bot)
[![]()](/pangzihapipangzi)
[![8512944 openeuler sync bot 1616749640](https://foruda.gitee.com/avatar/1677140002884954502/8512944_openeuler-sync-bot_1616749640.png!avatar30)](/openeuler-sync-bot)
[![]()](/zhang-changzhong)
[![]()](/fanhuimeng)

Cherry Pick

Select the target repository for the Cherry-Pick code

openeuler/kernel

Select the target repository and branch to submit PR

openeuler/kernel

openEuler-1.0-LTS

Submit mode

Fast forward

non-Fast forward

Submit list

| Commit SHA | Commit Message | Cherry-pick Commit Message \* |
| --- | --- | --- |

Cancel
Cherry-pick

C
1
https://gitee.com/openeuler/kernel.git
git@gitee.com:openeuler/kernel.git
openeuler
kernel
kernel

[![Gitee — A Git-based Code Hosting and Research Collaboration Platform](/static/images/logo-black.svg?t=158106666)](https://gitee.com)
©OSCHINA. All rights reserved

[Git Resources](/all-about-git)

[Learning Git](https://help.gitee.com/learn-Git-Branching/)

[CopyCat](https://copycat.gitee.com/)

[Downloads](/appclient)

[Gitee Reward](/gitee_reward)

[Gitee Stars](/gitee-stars)

[Featured Projects](/gvp)

[Blog](https://blog.gitee.com/)

[Nonprofit](/enterprises#nonprofit-plan)

[Gitee Go](https://gitee.com/features/gitee-go)

[OpenAPI](/api/v5/swagger)

[Help Center](https://help.gitee.com)

[Self-services](/self_services)

[Updates](/help/articles/4378)

[About Us](/about_us)

[Join us](https://www.oschina.net/news/131099/oschina-hiring)

[Terms of use](/terms)

[Feedback](/oschina/git-osc/issues)

[Partners](/links.html)

![Exchange](https://cn-assets.gitee.com/assets/contact_qr-5e2c2a8da453396590e56a545bce4974.jpg)

Exchange

![微信服务号](https://cn-assets.gitee.com/assets/qrcode-weixin@2x-b74cc97a2ea80123ea53a737f709836d.png)

WeChat

client#oschina.cn
Enterprise:400-606-0201

Pro：
13670252304

13352947997

![开放原子开源基金会](https://cn-assets.gitee.com/assets/logo-openatom-d083391cc8a54e283529f3fc11cc38ca.svg)
[OpenAtom Foundation](https://www.openatom.org/)
Cooperative code hosting platform

![违法和不良信息举报中心](https://cn-assets.gitee.com/assets/12377@2x-1aa42ed2d2256f82a61ecf57be1ec244.png)
[违法和不良信息举报中心](https://12377.cn)

[粤ICP备12009483号](http://beian.miit.gov.cn/)

[简 体](/language/zh-CN)
/
[繁 體](/language/zh-TW)
/
[English](/language/en)

Going to Help Center
### Search

[Git 命令在线学习](https://oschina.gitee.io/learn-git-branching/?utm_source==gitee-help-widget "Git 命令在线学习")[如何在 Gitee 导入 GitHub 仓库](https://gitee.com/help/articles/4261?utm_source==gitee-help-widget "如何在 Gitee 导入 GitHub 仓库")
[Git 仓库基础操作](/help/articles/4114)

[企业版和社区版功能对比](/help/articles/4166)

[SSH 公钥设置](/help/articles/4191)

[如何处理代码冲突](/help/articles/4194)

[仓库体积过大，如何减小？](/help/articles/4232)

[如何找回被删除的仓库数据](/help/articles/4279)

[Gitee 产品配额说明](/help/articles/4283)

[GitHub仓库快速导入Gitee及同步更新](/help/articles/4284)

[什么是 Release（发行版）](/help/articles/4328)

[将 PHP 项目自动发布到 packagist.org](/help/articles/4354)

Repository Report

Back to the top

Login prompt

This operation requires login to the code cloud account. Please log in before operating.

Go to login

No account. Register

