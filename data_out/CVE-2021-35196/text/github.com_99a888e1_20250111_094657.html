
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Folivierkes%2Fmanuskript%2Fissues%2F891)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Folivierkes%2Fmanuskript%2Fissues%2F891)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=olivierkes%2Fmanuskript)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[olivierkes](/olivierkes)
/
**[manuskript](/olivierkes/manuskript)**
Public

* [Notifications](/login?return_to=%2Folivierkes%2Fmanuskript) You must be signed in to change notification settings
* [Fork
  241](/login?return_to=%2Folivierkes%2Fmanuskript)
* [Star
   1.8k](/login?return_to=%2Folivierkes%2Fmanuskript)

* [Code](/olivierkes/manuskript)
* [Issues
  554](/olivierkes/manuskript/issues)
* [Pull requests
  5](/olivierkes/manuskript/pulls)
* [Actions](/olivierkes/manuskript/actions)
* [Projects
  0](/olivierkes/manuskript/projects)
* [Wiki](/olivierkes/manuskript/wiki)
* [Security](/olivierkes/manuskript/security)
* [Insights](/olivierkes/manuskript/pulse)

Additional navigation options

* [Code](/olivierkes/manuskript)
* [Issues](/olivierkes/manuskript/issues)
* [Pull requests](/olivierkes/manuskript/pulls)
* [Actions](/olivierkes/manuskript/actions)
* [Projects](/olivierkes/manuskript/projects)
* [Wiki](/olivierkes/manuskript/wiki)
* [Security](/olivierkes/manuskript/security)
* [Insights](/olivierkes/manuskript/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Folivierkes%2Fmanuskript%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Folivierkes%2Fmanuskript%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Possible security issue #891

Closed

[pizza-power](/pizza-power) opened this issue
Jun 17, 2021
¬∑ 8 comments
 ¬∑ Fixed by [#895](https://github.com/olivierkes/manuskript/pull/895)

Closed

# [Possible security issue](#top) #891

[pizza-power](/pizza-power) opened this issue
Jun 17, 2021
¬∑ 8 comments
 ¬∑ Fixed by [#895](https://github.com/olivierkes/manuskript/pull/895)

Labels
[security](/olivierkes/manuskript/labels/security)

Milestone
[0.13.0](/olivierkes/manuskript/milestone/12 "0.13.0")

## Comments

[![@pizza-power](https://avatars.githubusercontent.com/u/6135659?s=80&u=31a4cd6602d638255831d7212d3d57f45f4e0f4d&v=4)](/pizza-power)

Copy link

### **[pizza-power](/pizza-power)** commented [Jun 17, 2021](#issue-924189917)

| Hi, do you have a process for reporting a possible security issue with Manuskript? |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=40&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)
[TheJackiMonster](/TheJackiMonster)
added
the
[security](/olivierkes/manuskript/labels/security)
label
[Jun 17, 2021](#event-4906403090)

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=80&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)

Copy link

Collaborator

### **[TheJackiMonster](/TheJackiMonster)** commented [Jun 17, 2021](#issuecomment-863536829)

| I assume you can just post it here. There's no special process as far as I know. What kind of issue do you mean specifically? |
| --- |

All reactions

Sorry, something went wrong.

[![@pizza-power](https://avatars.githubusercontent.com/u/6135659?s=80&u=31a4cd6602d638255831d7212d3d57f45f4e0f4d&v=4)](/pizza-power)

Copy link

Author

### **[pizza-power](/pizza-power)** commented [Jun 17, 2021](#issuecomment-863548926)

| Arbitrary code execution due to insecure deserialization in settings.py.  Basically, I created a Version 0 project zip file containing a sample project with a malicious settings.pickle. loadsave.py sees it as v0 and sends it to v0.loadProject.  Line 172 of version\_0.py is where the following code calls the load function in settings.py  `settings.load(files["settings.pickle"], fromString=True)`  where on line 200 in settings.py pickle.loads insecurely deserializes your malicious settings.pickle file:  `allSettings = pickle.loads(string)`  So I could post my sample project online for others to use, or send someone my project, and when they open it, arbitrary code will execute.  Here are a couple of links to insecure deserialization in python, for those that aren't familiar with it  <https://davidhamann.de/2020/04/05/exploiting-python-pickle/> <https://frichetten.com/blog/escalating-deserialization-attacks-python/> |
| --- |

 üëç
1
 JoelMon reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=80&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)

Copy link

Collaborator

### **[TheJackiMonster](/TheJackiMonster)** commented [Jun 18, 2021](#issuecomment-863952364)

| Okay, so I'm currently working on a huge refactoring which won't use pickle at all to load projects. So I assume this should be fine in the future. I'm also not sure if this is affecting only the older version 0 of load-/save-processes because the usage of pickle seems to be in settings.py.  For the moment I don't think this is affecting many people because most authors probably won't share their whole raw plots. Especially considering that Manuskript is still quite unreliable when it comes to not crashing and such. ^^'  I personally didn't even know there was such a module as pickle. So if you have a fix for this problem which can be applied soon, I can review the change. Otherwise I would add a disclaimer on the website to make users aware of the threat, so they don't open untrusted projects. |
| --- |

All reactions

Sorry, something went wrong.

[![@pizza-power](https://avatars.githubusercontent.com/u/6135659?s=80&u=31a4cd6602d638255831d7212d3d57f45f4e0f4d&v=4)](/pizza-power)

Copy link

Author

### **[pizza-power](/pizza-power)** commented [Jun 18, 2021](#issuecomment-863966410)

| I was just looking at how to get to pickle.loads, and the first way I saw was from having a version 0 project. It seemed to be the only way, but I'd have to review the code some more to guarantee that.  The pickle module is inherently unsafe, and while there are some alternatives/workarounds for pickling and unpickling, if you're refactoring everything to a safer format, there probably isn't a reason to push a fix.  I'd say a warning to not open unknown projects is probably sufficient enough. |
| --- |

All reactions

Sorry, something went wrong.

[![@zeth](https://avatars.githubusercontent.com/u/945574?s=80&u=12eb3f7e82d2ceddddb141db822700f2a6917fce&v=4)](/zeth)

Copy link

Contributor

### **[zeth](/zeth)** commented [Jun 21, 2021](#issuecomment-864677502)

| The security fix would be to delete the code, it shouldn't be used any more. The current save format uses json stored in a text file that is much more secure. |
| --- |

All reactions

Sorry, something went wrong.

[![@zeth](https://avatars.githubusercontent.com/u/945574?s=80&u=12eb3f7e82d2ceddddb141db822700f2a6917fce&v=4)](/zeth)

Copy link

Contributor

### **[zeth](/zeth)** commented [Jun 21, 2021](#issuecomment-864685332)

| This is just a sketch since I have no old data files to test with, we just ignore version 0 settings file. [#895](https://github.com/olivierkes/manuskript/pull/895) |
| --- |

All reactions

Sorry, something went wrong.

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=40&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)
[TheJackiMonster](/TheJackiMonster)
added this to the [0.13.0](/olivierkes/manuskript/milestone/12) milestone
[Oct 23, 2021](#event-5508336627)

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=40&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)
[TheJackiMonster](/TheJackiMonster)
linked a pull request
[Nov 6, 2021](#event-5578513675)
that will
close
this issue

[Kill old insecure pickle setting files (untested)
#895](/olivierkes/manuskript/pull/895)
 Merged

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=80&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)

Copy link

Collaborator

### **[TheJackiMonster](/TheJackiMonster)** commented [Nov 6, 2021](#issuecomment-962525672)

| [@pizza-power](https://github.com/pizza-power) Do you think the fix will do it? Then I would close this issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@pizza-power](https://avatars.githubusercontent.com/u/6135659?s=80&u=31a4cd6602d638255831d7212d3d57f45f4e0f4d&v=4)](/pizza-power)

Copy link

Author

### **[pizza-power](/pizza-power)** commented [Nov 7, 2021](#issuecomment-962544535)

| [@pizza-power](https://github.com/pizza-power) Do you think the fix will do it? Then I would close this issue.  Looks good to me. Thanks! |
| --- |

All reactions

Sorry, something went wrong.

[![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=40&u=6969d8be40d671389019ca189c87249786b79cf7&v=4)](/TheJackiMonster)
[TheJackiMonster](/TheJackiMonster)
closed this as [completed](/olivierkes/manuskript/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Nov 7, 2021](#event-5579024431)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Folivierkes%2Fmanuskript%2Fissues%2F891)

Assignees

No one assigned

Labels

[security](/olivierkes/manuskript/labels/security)

Projects

None yet

Milestone

 [**0.13.0**](/olivierkes/manuskript/milestone/12 "0.13.0")

Development

Successfully merging a pull request may close this issue.

 [Kill old insecure pickle setting files (untested)](/olivierkes/manuskript/pull/895)
 [zeth/manuskript](/zeth/manuskript)

3 participants

[![@zeth](https://avatars.githubusercontent.com/u/945574?s=52&v=4)](/zeth) [![@pizza-power](https://avatars.githubusercontent.com/u/6135659?s=52&v=4)](/pizza-power) [![@TheJackiMonster](https://avatars.githubusercontent.com/u/13867397?s=52&v=4)](/TheJackiMonster)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.

