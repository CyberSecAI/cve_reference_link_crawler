
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython%2Fcpython%2Fissues%2F91133)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython%2Fcpython%2Fissues%2F91133)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=python%2Fcpython)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[python](/python)
/
**[cpython](/python/cpython)**
Public

* [Notifications](/login?return_to=%2Fpython%2Fcpython) You must be signed in to change notification settings
* [Fork
  30.8k](/login?return_to=%2Fpython%2Fcpython)
* [Star
   64.7k](/login?return_to=%2Fpython%2Fcpython)

* [Code](/python/cpython)
* [Issues
  5k+](/python/cpython/issues)
* [Pull requests
  1.8k](/python/cpython/pulls)
* [Actions](/python/cpython/actions)
* [Projects
  28](/python/cpython/projects)
* [Security](/python/cpython/security)
* [Insights](/python/cpython/pulse)

Additional navigation options

* [Code](/python/cpython)
* [Issues](/python/cpython/issues)
* [Pull requests](/python/cpython/pulls)
* [Actions](/python/cpython/actions)
* [Projects](/python/cpython/projects)
* [Security](/python/cpython/security)
* [Insights](/python/cpython/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpython%2Fcpython%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpython%2Fcpython%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# tempfile.TemporaryDirectory fails removing dir in some edge cases related to symlinks [CVE-2023-6597] #91133

Closed

afeblot mannequin opened this issue
Mar 10, 2022
· 6 comments

Closed

# [tempfile.TemporaryDirectory fails removing dir in some edge cases related to symlinks [CVE-2023-6597]](#top) #91133

afeblot mannequin opened this issue
Mar 10, 2022
· 6 comments

Labels
[3.8 (EOL)](/python/cpython/labels/3.8%20%28EOL%29)
end of life
[3.9](/python/cpython/labels/3.9)
only security fixes
[3.10](/python/cpython/labels/3.10)
only security fixes
[3.11](/python/cpython/labels/3.11)
only security fixes
[3.12](/python/cpython/labels/3.12)
bugs and security fixes
[3.13](/python/cpython/labels/3.13)
bugs and security fixes
[stdlib](/python/cpython/labels/stdlib)
Python modules in the Lib dir
[type-bug](/python/cpython/labels/type-bug)
An unexpected behavior, bug, or error
[type-security](/python/cpython/labels/type-security)
A security issue

## Comments

![@afeblot](https://avatars.githubusercontent.com/u/101755586?s=80&v=4)

Copy link

Mannequin

### **afeblot mannequin** commented [Mar 10, 2022](#issue-1199076757) • edited by bedevere-app bot Loading

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| | BPO | [46977](https://bugs.python.org/issue46977) | | --- | --- | | Nosy | [@afeblot](https://github.com/afeblot) |   *Note: these values reflect the state of the issue at the time it was migrated and might not reflect the current state.* Show more details   GitHub fields:  ``` assignee = None closed_at = None created_at = <Date 2022-03-10.17:22:08.506> labels = ['library', '3.9', 'type-crash'] title = 'tempfile.TemporaryDirectory fails removing dir in some edge cases related to symlinks' updated_at = <Date 2022-03-10.17:25:32.378> user = 'https://github.com/afeblot' ```  bugs.python.org fields:  ``` activity = <Date 2022-03-10.17:25:32.378> actor = 'afeblot' assignee = 'none' closed = False closed_date = None closer = None components = ['Library (Lib)'] creation = <Date 2022-03-10.17:22:08.506> creator = 'afeblot' dependencies = [] files = [] hgrepos = [] issue_num = 46977 keywords = [] message_count = 1.0 messages = ['414871'] nosy_count = 1.0 nosy_names = ['afeblot'] pr_nums = [] priority = 'normal' resolution = None stage = None status = 'open' superseder = None type = 'crash' url = 'https://bugs.python.org/issue46977' versions = ['Python 3.9'] ```   Linked PRs  * [gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup #99930](https://github.com/python/cpython/pull/99930) * [[3.12] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) #112838](https://github.com/python/cpython/pull/112838) * [[3.11] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) #112839](https://github.com/python/cpython/pull/112839) * [[3.10] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) #112840](https://github.com/python/cpython/pull/112840) * [[3.9] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) #112842](https://github.com/python/cpython/pull/112842) * [[3.8] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) #112843](https://github.com/python/cpython/pull/112843) |
| The text was updated successfully, but these errors were encountered: |

All reactions

![@afeblot](https://avatars.githubusercontent.com/u/101755586?s=80&v=4)

Copy link

Mannequin

Author

### **afeblot mannequin** commented [Mar 10, 2022](#issuecomment-1093946353)

| ``` #!/usr/bin/env python3  import os import tempfile  def createUnremovableDir(workdir):     print(workdir)     os.mkdir(f'{workdir}/mydir')     os.symlink('/bin/bash', f'{workdir}/mydir/mylink') # Symlink to a root owned file     os.chmod(f'{workdir}/mydir', 0o555)  with tempfile.TemporaryDirectory() as workdir:     createUnremovableDir(workdir) ```  Fails because `tempfile.TemporaryDirectory._rmtree` tries to execute os.chmod(path, 0o700) on the symlink, which by default tries to change the root owned file symlink target instead of the symlink itself:  ``` /tmp/tmp1_dy42ef Traceback (most recent call last):   File "/usr/lib/python3.9/shutil.py", line 682, in _rmtree_safe_fd     os.unlink(entry.name, dir_fd=topfd) PermissionError: [Errno 13] Permission denied: 'mylink'  During handling of the above exception, another exception occurred:  Traceback (most recent call last):   File "~/tempfile_demo_bug.py", line 13, in <module>     createUnremovableDir(workdir)   File "/usr/lib/python3.9/tempfile.py", line 969, in __exit__     self.cleanup()   File "/usr/lib/python3.9/tempfile.py", line 973, in cleanup     self._rmtree(self.name)   File "/usr/lib/python3.9/tempfile.py", line 955, in _rmtree     _rmtree(name, onerror=onerror)   File "/usr/lib/python3.9/shutil.py", line 727, in rmtree     _rmtree_safe_fd(fd, path, onerror)   File "/usr/lib/python3.9/shutil.py", line 664, in _rmtree_safe_fd     _rmtree_safe_fd(dirfd, fullname, onerror)   File "/usr/lib/python3.9/shutil.py", line 684, in _rmtree_safe_fd     onerror(os.unlink, fullname, sys.exc_info())   File "/usr/lib/python3.9/tempfile.py", line 941, in onerror     resetperms(path)   File "/usr/lib/python3.9/tempfile.py", line 936, in resetperms     _os.chmod(path, 0o700) PermissionError: [Errno 1] Operation not permitted: '/tmp/tmp1_dy42ef/mydir/mylink'  ```  and leaves:  ``` (.venv python 3.9.9) $ find /tmp/tmp1_dy42ef -ls    148228      4 drwx------   3 myuser myuser     4096 Mar 10 16:54 /tmp/tmp1_dy42ef    148229      4 drwx------   2 myuser myuser     4096 Mar 10 16:54 /tmp/tmp1_dy42ef/mydir    148230      0 lrwxrwxrwx   1 myuser myuser        9 Mar 10 16:54 /tmp/tmp1_dy42ef/mydir/mylink -> /bin/bash   ```  This fixes it:  ``` #!/usr/bin/env python3  import os import tempfile  def createUnremovableDir(workdir):     print(workdir)     os.mkdir(f'{workdir}/mydir')     os.symlink('/bin/bash', f'{workdir}/mydir/mylink') # Symlink to a root owned file     os.chmod(f'{workdir}/mydir', 0o555)  def _rmtree(cls, name, ignore_errors=False):     def onerror(func, path, exc_info):         if issubclass(exc_info[0], PermissionError):             def resetperms(path):                 try:                     if os.chflags in os.supports_follow_symlinks:  # This is the patch                         os.chflags(path, 0, follow_symlinks=False) # This is the patch                     elif not os.path.islink(path):                 # This is the patch                         os.chflags(path, 0)                 except AttributeError:                     pass                 if os.chmod in os.supports_follow_symlinks:        # This is the patch                     os.chmod(path, 0o700, follow_symlinks=False)   # This is the patch                 elif not os.path.islink(path):                     # This is the patch                     os.chmod(path, 0o700)              try:                 if path != name:                     resetperms(os.path.dirname(path))                 resetperms(path)                  try:                     os.unlink(path)                 # PermissionError is raised on FreeBSD for directories                 except (IsADirectoryError, PermissionError):                     cls._rmtree(path, ignore_errors=ignore_errors)             except FileNotFoundError:                 pass         elif issubclass(exc_info[0], FileNotFoundError):             pass         else:             if not ignore_errors:                 raise      shutil.rmtree(name, onerror=onerror)  # Monkey patch the class method tempfile.TemporaryDirectory._rmtree from types import MethodType import shutil tempfile.TemporaryDirectory._rmtree = MethodType(_rmtree, tempfile.TemporaryDirectory)  with tempfile.TemporaryDirectory() as workdir:     createUnremovableDir(workdir) ``` |
| --- |

All reactions

Sorry, something went wrong.

![@afeblot](https://avatars.githubusercontent.com/u/101755586?s=40&v=4)
afeblot
mannequin
added
[3.9](/python/cpython/labels/3.9)
only security fixes
[stdlib](/python/cpython/labels/stdlib)
Python modules in the Lib dir
[type-crash](/python/cpython/labels/type-crash)
A hard crash of the interpreter, possibly with a core dump
labels
[Mar 10, 2022](#event-6404217386)

[![@ezio-melotti](https://avatars.githubusercontent.com/u/25624924?s=40&v=4)](/ezio-melotti)
[ezio-melotti](/ezio-melotti)
transferred this issue from another repository
[Apr 10, 2022](#event-6404217396)

[![@iritkatriel](https://avatars.githubusercontent.com/u/1055913?s=40&u=bd7f6cd5d9c24d45c154019042cdc3e9db610e36&v=4)](/iritkatriel)
[iritkatriel](/iritkatriel)
added
[type-bug](/python/cpython/labels/type-bug)
An unexpected behavior, bug, or error
and removed
[type-crash](/python/cpython/labels/type-crash)
A hard crash of the interpreter, possibly with a core dump
labels
[May 18, 2022](#event-6630731640)

[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)
[serhiy-storchaka](/serhiy-storchaka)
added this to [Tempfile issues](/orgs/python/projects/17)
[May 20, 2022](#event-15235855845)

[kwi-dk](/kwi-dk)
added a commit
to kwi-dk/cpython
that referenced
this issue
[Dec 1, 2022](#ref-commit-38f8356)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug](/kwi-dk/cpython/commit/38f835665b79a752ac3ded66c1f83b573e6985eb "gh-91133: tempfile.TemporaryDirectory: fix symlink bug")`

`[38f8356](/kwi-dk/cpython/commit/38f835665b79a752ac3ded66c1f83b573e6985eb)`

[kwi-dk](/kwi-dk)
added a commit
to kwi-dk/cpython
that referenced
this issue
[Dec 1, 2022](#ref-commit-a826acf)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in cleanup](/kwi-dk/cpython/commit/a826acf38c5a3252b6cab0e5ae329cd172f0ea99 "gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup")`

`[a826acf](/kwi-dk/cpython/commit/a826acf38c5a3252b6cab0e5ae329cd172f0ea99)`

[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)
[kwi-dk](/kwi-dk)
mentioned this issue
[Dec 1, 2022](#ref-pullrequest-1471574211)

[gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup
#99930](/python/cpython/pull/99930)
 Merged

[kwi-dk](/kwi-dk)
added a commit
to kwi-dk/cpython
that referenced
this issue
[Dec 14, 2022](#ref-commit-d268947)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in cleanup](/kwi-dk/cpython/commit/d268947f7a846a7b91df054a4185b215dc794038 "gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup")`

`[d268947](/kwi-dk/cpython/commit/d268947f7a846a7b91df054a4185b215dc794038)`

[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=80&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

Copy link

Member

### **[serhiy-storchaka](/serhiy-storchaka)** commented [Dec 7, 2023](#issuecomment-1845361003)

| I think that it is a security issue which allows an unprivileged user to reset permissions of files if they can run Python program that has higher privileges. There are be special conditions for this, but perhaps you can do this by making the program to unpack a special tarfile that contains symlinks out of the tree in temporary directory. |
| --- |

All reactions

Sorry, something went wrong.

[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)
[serhiy-storchaka](/serhiy-storchaka)
added
[type-security](/python/cpython/labels/type-security)
A security issue
[3.11](/python/cpython/labels/3.11)
only security fixes
[3.10](/python/cpython/labels/3.10)
only security fixes
[3.8 (EOL)](/python/cpython/labels/3.8%20%28EOL%29)
end of life
[3.12](/python/cpython/labels/3.12)
bugs and security fixes
[3.13](/python/cpython/labels/3.13)
bugs and security fixes
labels
[Dec 7, 2023](#event-11182142872)

[serhiy-storchaka](/serhiy-storchaka)
added a commit
that referenced
this issue
[Dec 7, 2023](#ref-commit-81c16cd)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

`[gh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in cleanup (](/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d "gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")[GH…](https://github.com/python/cpython/pull/99930)`
…

`[81c16cd](/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d)`

```
[…-99930](https://github.com/python/cpython/pull/99930))

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[miss-islington](/miss-islington)
pushed a commit
to miss-islington/cpython
that referenced
this issue
[Dec 7, 2023](#ref-commit-1a0267a)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&v=4)](/miss-islington)

`[pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clean…](/miss-islington/cpython/commit/1a0267af7ce1f6b76364459b568fb7a3ac176a25 "gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[1a0267a](/miss-islington/cpython/commit/1a0267af7ce1f6b76364459b568fb7a3ac176a25)`

```
…up ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

(cherry picked from commit [81c16cd](https://github.com/miss-islington/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@bedevere-app](https://avatars.githubusercontent.com/in/388350?s=40&v=4)](/apps/bedevere-app)
[bedevere-app](/apps/bedevere-app)
bot
mentioned this issue
[Dec 7, 2023](#ref-pullrequest-2031069886)

[[3.12] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
#112838](/python/cpython/pull/112838)
 Merged

[serhiy-storchaka](/serhiy-storchaka)
added a commit
to serhiy-storchaka/cpython
that referenced
this issue
[Dec 7, 2023](#ref-commit-7c5a128)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

`[[3.11]](/serhiy-storchaka/cpython/commit/7c5a1286ab0659f4028175f3ac91f32b5590ff8b "[3.11] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>") [pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug i…](/serhiy-storchaka/cpython/commit/7c5a1286ab0659f4028175f3ac91f32b5590ff8b "[3.11] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[7c5a128](/serhiy-storchaka/cpython/commit/7c5a1286ab0659f4028175f3ac91f32b5590ff8b)`

```
…n cleanup ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

(cherry picked from commit [81c16cd](https://github.com/serhiy-storchaka/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

This was referenced Dec 7, 2023

[[3.11] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
#112839](/python/cpython/pull/112839)
 Merged

[[3.10] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
#112840](/python/cpython/pull/112840)
 Merged

[serhiy-storchaka](/serhiy-storchaka)
added a commit
to serhiy-storchaka/cpython
that referenced
this issue
[Dec 7, 2023](#ref-commit-6a24d2a)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

`[[3.10]](/serhiy-storchaka/cpython/commit/6a24d2a124465440ed8b6c3c72b580bc0afad4b7 "[3.10] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>") [pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug i…](/serhiy-storchaka/cpython/commit/6a24d2a124465440ed8b6c3c72b580bc0afad4b7 "[3.10] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[6a24d2a](/serhiy-storchaka/cpython/commit/6a24d2a124465440ed8b6c3c72b580bc0afad4b7)`

```
…n cleanup ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

(cherry picked from commit [81c16cd](https://github.com/serhiy-storchaka/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@bedevere-app](https://avatars.githubusercontent.com/in/388350?s=40&v=4)](/apps/bedevere-app)
[bedevere-app](/apps/bedevere-app)
bot
mentioned this issue
[Dec 7, 2023](#ref-pullrequest-2031092012)

[[3.9] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
#112842](/python/cpython/pull/112842)
 Merged

[serhiy-storchaka](/serhiy-storchaka)
added a commit
to serhiy-storchaka/cpython
that referenced
this issue
[Dec 7, 2023](#ref-commit-cec0724)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

`[[3.9]](/serhiy-storchaka/cpython/commit/cec0724f046280053e895b891d405da37c2c9215 "[3.9] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>") [pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in…](/serhiy-storchaka/cpython/commit/cec0724f046280053e895b891d405da37c2c9215 "[3.9] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[cec0724](/serhiy-storchaka/cpython/commit/cec0724f046280053e895b891d405da37c2c9215)`

```
… cleanup ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

(cherry picked from commit [81c16cd](https://github.com/serhiy-storchaka/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@bedevere-app](https://avatars.githubusercontent.com/in/388350?s=40&v=4)](/apps/bedevere-app)
[bedevere-app](/apps/bedevere-app)
bot
mentioned this issue
[Dec 7, 2023](#ref-pullrequest-2031097544)

[[3.8] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
#112843](/python/cpython/pull/112843)
 Merged

[serhiy-storchaka](/serhiy-storchaka)
added a commit
to serhiy-storchaka/cpython
that referenced
this issue
[Dec 7, 2023](#ref-commit-3ed752e)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

`[[3.8]](/serhiy-storchaka/cpython/commit/3ed752e27b85711d9779c26760a568cbfc9d9a84 "[3.8] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>") [pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in…](/serhiy-storchaka/cpython/commit/3ed752e27b85711d9779c26760a568cbfc9d9a84 "[3.8] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)
(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[3ed752e](/serhiy-storchaka/cpython/commit/3ed752e27b85711d9779c26760a568cbfc9d9a84)`

```
… cleanup ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

(cherry picked from commit [81c16cd](https://github.com/serhiy-storchaka/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[serhiy-storchaka](/serhiy-storchaka)
added a commit
that referenced
this issue
[Dec 7, 2023](#ref-commit-6ceb8ae)
[![@miss-islington](https://avatars.githubusercontent.com/u/31488909?s=40&u=31ad766412aaeb40a51582d882e34d67f2fae635&v=4)](/miss-islington) [![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka)

`[[3.12]](/python/cpython/commit/6ceb8aeda504b079fef7a57b8d81472f15cdd9a5 "[3.12] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112838)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>") [gh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clea…](/python/cpython/commit/6ceb8aeda504b079fef7a57b8d81472f15cdd9a5 "[3.12] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112838)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[6ceb8ae](/python/cpython/commit/6ceb8aeda504b079fef7a57b8d81472f15cdd9a5)`

```
…nup ([GH-99930](https://github.com/python/cpython/pull/99930)) ([GH-112838](https://github.com/python/cpython/pull/112838))

(cherry picked from commit [81c16cd](https://github.com/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[serhiy-storchaka](/serhiy-storchaka)
added a commit
that referenced
this issue
[Dec 7, 2023](#ref-commit-5585334)
[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[[3.11]](/python/cpython/commit/5585334d772b253a01a6730e8202ffb1607c3d25 "[3.11] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112839)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>") [gh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clea…](/python/cpython/commit/5585334d772b253a01a6730e8202ffb1607c3d25 "[3.11] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112839)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>")`
…

`[5585334](/python/cpython/commit/5585334d772b253a01a6730e8202ffb1607c3d25)`

```
…nup ([GH-99930](https://github.com/python/cpython/pull/99930)) ([GH-112839](https://github.com/python/cpython/pull/112839))

(cherry picked from commit [81c16cd](https://github.com/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
```

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)
[gpshead](/gpshead)
changed the title
~~tempfile.TemporaryDirectory fails removing dir in some edge cases related to symlinks~~
tempfile.TemporaryDirectory fails removing dir in some edge cases related to symlinks [CVE-2023-6597]
[Dec 8, 2023](#event-11197964069)

[ambv](/ambv)
pushed a commit
that referenced
this issue
[Jan 17, 2024](#ref-commit-02a9259)
[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[[3.8]](/python/cpython/commit/02a9259c717738dfe6b463c44d7e17f2b6d2cb3a "[3.8] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112843)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>") [gh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clean…](/python/cpython/commit/02a9259c717738dfe6b463c44d7e17f2b6d2cb3a "[3.8] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112843)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>")`
…

`[02a9259](/python/cpython/commit/02a9259c717738dfe6b463c44d7e17f2b6d2cb3a)`

```
…up ([GH-99930](https://github.com/python/cpython/pull/99930)) ([GH-112843](https://github.com/python/cpython/pull/112843))

(cherry picked from commit [81c16cd](https://github.com/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
```

[ambv](/ambv)
pushed a commit
that referenced
this issue
[Jan 17, 2024](#ref-commit-d54e22a)
[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[[3.9]](/python/cpython/commit/d54e22a669ae6e987199bb5d2c69bb5a46b0083b "[3.9] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112842)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>") [gh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clean…](/python/cpython/commit/d54e22a669ae6e987199bb5d2c69bb5a46b0083b "[3.9] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112842)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>")`
…

`[d54e22a](/python/cpython/commit/d54e22a669ae6e987199bb5d2c69bb5a46b0083b)`

```
…up ([GH-99930](https://github.com/python/cpython/pull/99930)) ([GH-112842](https://github.com/python/cpython/pull/112842))

(cherry picked from commit [81c16cd](https://github.com/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
```

[ambv](/ambv)
pushed a commit
that referenced
this issue
[Jan 17, 2024](#ref-commit-8eaeefe)
[![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk)

`[[3.10]](/python/cpython/commit/8eaeefe49d179ca4908d052745e3bb8b6f238f82 "[3.10] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112840)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>") [gh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clea…](/python/cpython/commit/8eaeefe49d179ca4908d052745e3bb8b6f238f82 "[3.10] gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930) (GH-112840)

(cherry picked from commit 81c16cd94ec38d61aa478b9a452436dc3b1b524d)

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>")`
…

`[8eaeefe](/python/cpython/commit/8eaeefe49d179ca4908d052745e3bb8b6f238f82)`

```
…nup ([GH-99930](https://github.com/python/cpython/pull/99930)) ([GH-112840](https://github.com/python/cpython/pull/112840))

(cherry picked from commit [81c16cd](https://github.com/python/cpython/commit/81c16cd94ec38d61aa478b9a452436dc3b1b524d))

Co-authored-by: Søren Løvborg <sorenl@unity3d.com>
```

[aisk](/aisk)
pushed a commit
to aisk/cpython
that referenced
this issue
[Feb 11, 2024](#ref-commit-762c12e)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@aisk](https://avatars.githubusercontent.com/u/699636?s=40&v=4)](/aisk)

`[pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clean…](/aisk/cpython/commit/762c12eb1cf67e0827f342355d85f24c772f5edf "gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[762c12e](/aisk/cpython/commit/762c12eb1cf67e0827f342355d85f24c772f5edf)`

```
…up ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)
[gpshead](/gpshead)
moved this to **Done**
in [Tempfile issues](/orgs/python/projects/17)
[Feb 21, 2024](#event-15079193136)

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=80&v=4)](/gpshead)

Copy link

Member

### **[gpshead](/gpshead)** commented [Feb 21, 2024](#issuecomment-1957750357)

| the fixes were merged, releases will be going out soon. thanks for the report and PRs everyone! |
| --- |

All reactions

Sorry, something went wrong.

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=40&v=4)](/gpshead)
[gpshead](/gpshead)
closed this as [completed](/python/cpython/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Feb 21, 2024](#event-11881127332)

[![@sparrowt](https://avatars.githubusercontent.com/u/793763?s=80&u=17d190762144c19f6a9e895ff22ba726f63f2f66&v=4)](/sparrowt)

Copy link

Contributor

### **[sparrowt](/sparrowt)** commented [Apr 3, 2024](#issuecomment-2034224575)

| The GHSA page for this [CVE-2023-6597](https://github.com/advisories/GHSA-797f-63wg-8chv "CVE-2023-6597") [GHSA-797f-63wg-8chv](https://github.com/advisories/GHSA-797f-63wg-8chv "GHSA-797f-63wg-8chv") states that it affects python "versions 3.12.2, 3.11.8, ..." but AFAICS those versions both contain the fix (see `gh-91133` mentioned in [3.12.2 release notes](https://docs.python.org/3.12/whatsnew/changelog.html#python-3-12-2-final) and [3.11.8 release notes](https://docs.python.org/3.11/whatsnew/changelog.html#python-3-11-8-final)).  See also [this comment](https://github.com/python/cpython/issues/109858#issuecomment-2034212507) on another CVE-fixing-PR where the same thing has happened. |
| --- |

All reactions

Sorry, something went wrong.

[![@sethmlarson](https://avatars.githubusercontent.com/u/18519037?s=80&u=41090cc65ae0a34aee49c7a35cfbd40e2e12eb53&v=4)](/sethmlarson)

Copy link

Contributor

### **[sethmlarson](/sethmlarson)** commented [Apr 3, 2024](#issuecomment-2035557122)

| As noted here, I have fixed the CVE record metadata: [#109858 (comment)](https://github.com/python/cpython/issues/109858#issuecomment-2035556550) |
| --- |

All reactions

Sorry, something went wrong.

[![@sparrowt](https://avatars.githubusercontent.com/u/793763?s=80&u=17d190762144c19f6a9e895ff22ba726f63f2f66&v=4)](/sparrowt)

Copy link

Contributor

### **[sparrowt](/sparrowt)** commented [May 15, 2024](#issuecomment-2112841914)

| Thank you. Sadly [GHSA-797f-63wg-8chv](https://github.com/advisories/GHSA-797f-63wg-8chv "GHSA-797f-63wg-8chv") is still wrong :( |
| --- |

All reactions

Sorry, something went wrong.

[![@SmartManoj](https://avatars.githubusercontent.com/u/7231077?s=40&v=4)](/SmartManoj)
[SmartManoj](/SmartManoj)
mentioned this issue
[Jul 28, 2024](#ref-pullrequest-2433878645)

[CVE: Apply patched `tempfile` module to the affected test
All-Hands-AI/OpenHands#3155](/All-Hands-AI/OpenHands/pull/3155)
 Closed

[Glyphack](/Glyphack)
pushed a commit
to Glyphack/cpython
that referenced
this issue
[Sep 2, 2024](#ref-commit-0b01b50)
[![@kwi-dk](https://avatars.githubusercontent.com/u/1167359?s=40&u=3342402a9bdb2db6e383b894536296740f73f19a&v=4)](/kwi-dk) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=40&u=1a0dce9f648413b5aabad98594a79a0949cc5682&v=4)](/serhiy-storchaka) [![@Glyphack](https://avatars.githubusercontent.com/u/20788334?s=40&v=4)](/Glyphack)

`[pythongh-91133](https://github.com/python/cpython/issues/91133)[: tempfile.TemporaryDirectory: fix symlink bug in clean…](/Glyphack/cpython/commit/0b01b5088bf23bc5bb65c7eb851a635b4ffeca2e "gh-91133: tempfile.TemporaryDirectory: fix symlink bug in cleanup (GH-99930)

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>")`
…

`[0b01b50](/Glyphack/cpython/commit/0b01b5088bf23bc5bb65c7eb851a635b4ffeca2e)`

```
…up ([pythonGH-99930](https://github.com/python/cpython/pull/99930))

Co-authored-by: Serhiy Storchaka <storchaka@gmail.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython%2Fcpython%2Fissues%2F91133)

Assignees

No one assigned

Labels

[3.8 (EOL)](/python/cpython/labels/3.8%20%28EOL%29)
end of life
[3.9](/python/cpython/labels/3.9)
only security fixes
[3.10](/python/cpython/labels/3.10)
only security fixes
[3.11](/python/cpython/labels/3.11)
only security fixes
[3.12](/python/cpython/labels/3.12)
bugs and security fixes
[3.13](/python/cpython/labels/3.13)
bugs and security fixes
[stdlib](/python/cpython/labels/stdlib)
Python modules in the Lib dir
[type-bug](/python/cpython/labels/type-bug)
An unexpected behavior, bug, or error
[type-security](/python/cpython/labels/type-security)
A security issue

Projects

[Tempfile issues](/orgs/python/projects/17)
Status: Done

Milestone

No milestone

Development

No branches or pull requests

5 participants

[![@gpshead](https://avatars.githubusercontent.com/u/68491?s=52&v=4)](/gpshead) [![@sparrowt](https://avatars.githubusercontent.com/u/793763?s=52&v=4)](/sparrowt) [![@iritkatriel](https://avatars.githubusercontent.com/u/1055913?s=52&v=4)](/iritkatriel) [![@serhiy-storchaka](https://avatars.githubusercontent.com/u/3659035?s=52&v=4)](/serhiy-storchaka) [![@sethmlarson](https://avatars.githubusercontent.com/u/18519037?s=52&v=4)](/sethmlarson)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

