=== Content from git.kernel.org_497adc6e_20250111_182403.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:10:26 +0200 |
| commit | [2be373469be1774bbe03b0fa7e2854e65005b1cc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)) | |
| tree | [763278148ad64e54cee6d9954f60542c62aac240](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc) | |
| parent | [6fee44446e26a89d0fe0378da2162cdfdd2a202e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6fee44446e26a89d0fe0378da2162cdfdd2a202e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc&id2=6fee44446e26a89d0fe0378da2162cdfdd2a202e)) | |
| download | [linux-2be373469be1774bbe03b0fa7e2854e65005b1cc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-2be373469be1774bbe03b0fa7e2854e65005b1cc.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=2be373469be1774bbe03b0fa7e2854e65005b1cc) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex e5789dfcaff612..9e05f0a081463b 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=6fee44446e26a89d0fe0378da2162cdfdd2a202e)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=2be373469be1774bbe03b0fa7e2854e65005b1cc)@@ -104,10 +104,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:40 +0000



=== Content from git.kernel.org_e8a0c7af_20250111_182404.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=928e399e84f4e80307dce44e89415115c473275b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=928e399e84f4e80307dce44e89415115c473275b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=928e399e84f4e80307dce44e89415115c473275b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=928e399e84f4e80307dce44e89415115c473275b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:13:07 +0200 |
| commit | [928e399e84f4e80307dce44e89415115c473275b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=928e399e84f4e80307dce44e89415115c473275b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=928e399e84f4e80307dce44e89415115c473275b)) | |
| tree | [4f831c116b8b3a1bbfb5221e87e8eee2657f203d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=928e399e84f4e80307dce44e89415115c473275b) | |
| parent | [2241b78f22450d55fed8aa7b9e266de3b50ad024](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2241b78f22450d55fed8aa7b9e266de3b50ad024) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=928e399e84f4e80307dce44e89415115c473275b&id2=2241b78f22450d55fed8aa7b9e266de3b50ad024)) | |
| download | [linux-928e399e84f4e80307dce44e89415115c473275b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-928e399e84f4e80307dce44e89415115c473275b.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=928e399e84f4e80307dce44e89415115c473275b)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=928e399e84f4e80307dce44e89415115c473275b) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex b45653752301df..e3e66a3e85a813 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=2241b78f22450d55fed8aa7b9e266de3b50ad024)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=928e399e84f4e80307dce44e89415115c473275b)@@ -106,10 +106,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:41 +0000



=== Content from git.kernel.org_b112e339_20250111_182403.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:07:51 +0200 |
| commit | [3005091cd537ef8cdb7530dcb2ecfba8d2ef475c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)) | |
| tree | [8c0ba3fafba14fb7dec46860911b0bdf150cbaaa](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c) | |
| parent | [7d1d48eb100a282bfd96d36b5814edcfa5751406](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7d1d48eb100a282bfd96d36b5814edcfa5751406) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c&id2=7d1d48eb100a282bfd96d36b5814edcfa5751406)) | |
| download | [linux-3005091cd537ef8cdb7530dcb2ecfba8d2ef475c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-3005091cd537ef8cdb7530dcb2ecfba8d2ef475c.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex 652fe254758788..bbc512ecce3981 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=7d1d48eb100a282bfd96d36b5814edcfa5751406)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=3005091cd537ef8cdb7530dcb2ecfba8d2ef475c)@@ -104,10 +104,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:40 +0000



=== Content from git.kernel.org_b35792e1_20250111_182405.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:03:55 +0200 |
| commit | [f38f46da80a2ab7d1b2f8fcb444c916034a2dac4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)) | |
| tree | [743591cbb6169f3234c0c4149467cc1eb599be54](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4) | |
| parent | [e8c5ba894181a698d7143975fb5918ce58c19883](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e8c5ba894181a698d7143975fb5918ce58c19883) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4&id2=e8c5ba894181a698d7143975fb5918ce58c19883)) | |
| download | [linux-f38f46da80a2ab7d1b2f8fcb444c916034a2dac4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f38f46da80a2ab7d1b2f8fcb444c916034a2dac4.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex bdf3932ee3f206..4a4a809f84106c 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=e8c5ba894181a698d7143975fb5918ce58c19883)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=f38f46da80a2ab7d1b2f8fcb444c916034a2dac4)@@ -104,10 +104,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:42 +0000



=== Content from git.kernel.org_b631722e_20250111_182404.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:02:54 +0200 |
| commit | [3d414b64ecf6fd717d7510ffb893c6f23acbf50e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)) | |
| tree | [403d85f9d1a1145d06bf309c94c0792f07cb9695](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e) | |
| parent | [5e0a746e798cd962e478b54f50f6f39384f735bc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5e0a746e798cd962e478b54f50f6f39384f735bc) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e&id2=5e0a746e798cd962e478b54f50f6f39384f735bc)) | |
| download | [linux-3d414b64ecf6fd717d7510ffb893c6f23acbf50e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-3d414b64ecf6fd717d7510ffb893c6f23acbf50e.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex 170fa1f8f00e04..c92cd88e66671d 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=5e0a746e798cd962e478b54f50f6f39384f735bc)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=3d414b64ecf6fd717d7510ffb893c6f23acbf50e)@@ -104,10 +104,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:41 +0000



=== Content from git.kernel.org_2576177f_20250111_182402.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:06:50 +0200 |
| commit | [1d8e020e51ab07e40f9dd00b52f1da7d96fec04c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)) | |
| tree | [6c1f1905b313352ac3095ffaa7b6435dae2b913d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c) | |
| parent | [38cd8bde8ace3c18d99244b3b1dfaffaf9fd2966](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=38cd8bde8ace3c18d99244b3b1dfaffaf9fd2966) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c&id2=38cd8bde8ace3c18d99244b3b1dfaffaf9fd2966)) | |
| download | [linux-1d8e020e51ab07e40f9dd00b52f1da7d96fec04c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1d8e020e51ab07e40f9dd00b52f1da7d96fec04c.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex c31febe90d4ea6..a09e062b8e3002 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=38cd8bde8ace3c18d99244b3b1dfaffaf9fd2966)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=1d8e020e51ab07e40f9dd00b52f1da7d96fec04c)@@ -104,10 +104,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:40 +0000



=== Content from git.kernel.org_b1a14d2d_20250111_182405.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=de6946be9c8bc7d2279123433495af7c21011b99)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=de6946be9c8bc7d2279123433495af7c21011b99)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=de6946be9c8bc7d2279123433495af7c21011b99)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=de6946be9c8bc7d2279123433495af7c21011b99)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-12 11:11:41 +0200 |
| commit | [de6946be9c8bc7d2279123433495af7c21011b99](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=de6946be9c8bc7d2279123433495af7c21011b99) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=de6946be9c8bc7d2279123433495af7c21011b99)) | |
| tree | [3dbfa13851283c7a14d3101ba17a631c9aa1a52c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=de6946be9c8bc7d2279123433495af7c21011b99) | |
| parent | [3d1baf322a3a69b38b6b2d511cfe0d611d1b5462](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3d1baf322a3a69b38b6b2d511cfe0d611d1b5462) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=de6946be9c8bc7d2279123433495af7c21011b99&id2=3d1baf322a3a69b38b6b2d511cfe0d611d1b5462)) | |
| download | [linux-de6946be9c8bc7d2279123433495af7c21011b99.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-de6946be9c8bc7d2279123433495af7c21011b99.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindcommit fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e upstream.
For primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=de6946be9c8bc7d2279123433495af7c21011b99)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=de6946be9c8bc7d2279123433495af7c21011b99) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex 6be3462b109ff2..94a1fe82e4d519 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=3d1baf322a3a69b38b6b2d511cfe0d611d1b5462)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=de6946be9c8bc7d2279123433495af7c21011b99)@@ -104,10 +104,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:42 +0000



=== Content from git.kernel.org_b44f904c_20250111_182406.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Saurabh Sengar <ssengar@linux.microsoft.com> | 2024-08-29 12:43:11 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-03 12:37:37 +0200 |
| commit | [fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)) | |
| tree | [62430cb7bcc706598a92f5fbc53eb10e636aba47](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e) | |
| parent | [7d32e779eb9add47bfdb4731c4d4ff443a7f7fa6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7d32e779eb9add47bfdb4731c4d4ff443a7f7fa6) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e&id2=7d32e779eb9add47bfdb4731c4d4ff443a7f7fa6)) | |
| download | [linux-fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e.tar.gz) | |

uio\_hv\_generic: Fix kernel NULL pointer dereference in hv\_uio\_rescindFor primary VM Bus channels, primary\_channel pointer is always NULL. This
pointer is valid only for the secondary channels. Also, rescind callback
is meant for primary channels only.
Fix NULL pointer dereference by retrieving the device\_obj from the parent
for the primary channel.
Cc: stable@vger.kernel.org
Fixes: ca3cda6fcf1e ("uio\_hv\_generic: add rescind support")
Signed-off-by: Saurabh Sengar <ssengar@linux.microsoft.com>
Signed-off-by: Naman Jain <namjain@linux.microsoft.com>
Link: [https://lore.kernel.org/r/20240829071312.1595-2-namjain@linux.microsoft.com](https://lore.kernel.org/r/20240829071312.1595-2-namjain%40linux.microsoft.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)

| -rw-r--r-- | [drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/uio/uio_hv_generic.c?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/uio/uio\_hv\_generic.c b/drivers/uio/uio\_hv\_generic.cindex b45653752301df..e3e66a3e85a813 100644--- a/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=7d32e779eb9add47bfdb4731c4d4ff443a7f7fa6)+++ b/[drivers/uio/uio\_hv\_generic.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/uio/uio_hv_generic.c?id=fb1adbd7e50f3d2de56d0a2bb0700e2e819a329e)@@ -106,10 +106,11 @@ static void hv\_uio\_channel\_cb(void \*context)  /\* \* Callback from vmbus\_event when channel is rescinded.+ \* It is meant for rescind of primary channels only. \*/ static void hv\_uio\_rescind(struct vmbus\_channel \*channel) {- struct hv\_device \*hv\_dev = channel->primary\_channel->device\_obj;+ struct hv\_device \*hv\_dev = channel->device\_obj; struct hv\_uio\_private\_data \*pdata = hv\_get\_drvdata(hv\_dev);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 18:22:43 +0000


