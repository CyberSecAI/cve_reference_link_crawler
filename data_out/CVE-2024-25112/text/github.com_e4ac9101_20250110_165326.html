
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fpull%2F2337)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fpull%2F2337)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=Exiv2%2Fexiv2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Exiv2](/Exiv2)
/
**[exiv2](/Exiv2/exiv2)**
Public

* [Notifications](/login?return_to=%2FExiv2%2Fexiv2) You must be signed in to change notification settings
* [Fork
  284](/login?return_to=%2FExiv2%2Fexiv2)
* [Star
   961](/login?return_to=%2FExiv2%2Fexiv2)

* [Code](/Exiv2/exiv2)
* [Issues
  149](/Exiv2/exiv2/issues)
* [Pull requests
  24](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects
  0](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

Additional navigation options

* [Code](/Exiv2/exiv2)
* [Issues](/Exiv2/exiv2/issues)
* [Pull requests](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FExiv2%2Fexiv2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FExiv2%2Fexiv2%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Restore some video capabilities by restoring `quicktimevideo.cpp` #2337

 Merged

[hassec](/hassec)
merged 8 commits into
[main](/Exiv2/exiv2/tree/main "Exiv2/exiv2:main")
from
[hassec\_revive\_qt](/Exiv2/exiv2/tree/hassec_revive_qt "Exiv2/exiv2:hassec_revive_qt")

Aug 24, 2022

 Merged

# [Restore some video capabilities by restoring `quicktimevideo.cpp`](#top) #2337

[hassec](/hassec)
merged 8 commits into
[main](/Exiv2/exiv2/tree/main "Exiv2/exiv2:main")
from
[hassec\_revive\_qt](/Exiv2/exiv2/tree/hassec_revive_qt "Exiv2/exiv2:hassec_revive_qt")

Aug 24, 2022

[Conversation
16](/Exiv2/exiv2/pull/2337)
[Commits
8](/Exiv2/exiv2/pull/2337/commits)
[Checks
0](/Exiv2/exiv2/pull/2337/checks)
[Files changed](/Exiv2/exiv2/pull/2337/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![hassec](https://avatars.githubusercontent.com/u/11351671?s=60&v=4)](/hassec)

Copy link

Member

### @hassec **[hassec](/hassec)** commented [Aug 22, 2022](#issue-1346481487) • edited Loading

* Revive previously removed `quicktime.{h,cpp}` files and adapt them to work with the current version of exiv2
* ~~Add <https://github.com/HowardHinnant/date> as dependency to have sane handling of dates in c++ (I picked this library because it will be standard in c++20)~~
* ~~Add some xmp printer conversions such that e.g. `TrackCreateDate` isn't just printed as seconds since 1904...~~
* add a very small test file to the regression tests to execute some of the newly added code.

~~Before we can merge this I'd need an ok from [@notorand-it](https://github.com/notorand-it) to add his file to this repo for testing purposes. Could you adapt your issue [#2237](https://github.com/Exiv2/exiv2/issues/2237) to include that you license the original file as [CC0](https://creativecommons.org/publicdomain/zero/1.0/)?~~

Test file is created by myself and I hereby license it under [CC0](https://creativecommons.org/publicdomain/zero/1.0/)

This would close [#2237](https://github.com/Exiv2/exiv2/issues/2237) (fyi [@benmccann](https://github.com/benmccann)), and partially close [#1748](https://github.com/Exiv2/exiv2/issues/1748).

EDIT: date library and pretty printers removed again... I couldn't really figure out how to fix the ci and don't really have the time to go debug these ci issues.

Sorry, something went wrong.

All reactions

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
requested review from
[piponazo](/piponazo) and
[kevinbackhouse](/kevinbackhouse)
[August 22, 2022 14:06](#event-7233217563)

[![@lgtm-com](https://avatars.githubusercontent.com/in/17324?s=80&v=4)](/apps/lgtm-com)

Copy link

### **[lgtm-com](/apps/lgtm-com) bot** commented [Aug 22, 2022](#issuecomment-1222432073)

| This pull request **fixes 1 alert** when merging [1d6be12](https://github.com/Exiv2/exiv2/commit/1d6be1298ca75d7d035e2374b09caba38264a84c) into [89d7798](https://github.com/Exiv2/exiv2/commit/89d7798f1d4934edd281c7b06eac72dfe43d652b) - [view on LGTM.com](https://lgtm.com/projects/g/Exiv2/exiv2/rev/pr-daf9ddf9f585f5826ab99a392a9cd0a90a1b5342)  **fixed alerts:**   * 1 for FIXME comment |
| --- |

All reactions

Sorry, something went wrong.

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/94306d2f8838a80561db2ee954af9fe3e34905fc..1b878060ca9b605f919dda328ded3623b602b8d7)
the
hassec\_revive\_qt

branch
2 times, most recently
from
[`94306d2`](/Exiv2/exiv2/commit/94306d2f8838a80561db2ee954af9fe3e34905fc) to
[`1b87806`](/Exiv2/exiv2/commit/1b878060ca9b605f919dda328ded3623b602b8d7)  [Compare](/Exiv2/exiv2/compare/94306d2f8838a80561db2ee954af9fe3e34905fc..1b878060ca9b605f919dda328ded3623b602b8d7)
[August 22, 2022 15:07](#event-7233764470)

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
added
[video](/Exiv2/exiv2/labels/video)
[enhancement](/Exiv2/exiv2/labels/enhancement)
feature / functionality enhancements
labels
[Aug 22, 2022](#event-7233777572)

[![@lgtm-com](https://avatars.githubusercontent.com/in/17324?s=80&v=4)](/apps/lgtm-com)

Copy link

### **[lgtm-com](/apps/lgtm-com) bot** commented [Aug 22, 2022](#issuecomment-1222510940)

| This pull request **fixes 1 alert** when merging [1b87806](https://github.com/Exiv2/exiv2/commit/1b878060ca9b605f919dda328ded3623b602b8d7) into [89d7798](https://github.com/Exiv2/exiv2/commit/89d7798f1d4934edd281c7b06eac72dfe43d652b) - [view on LGTM.com](https://lgtm.com/projects/g/Exiv2/exiv2/rev/pr-ecd5762ab2e6f91c01ef1b745a1d9c77e8f828b8)  **fixed alerts:**   * 1 for FIXME comment |
| --- |

All reactions

Sorry, something went wrong.

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/1b878060ca9b605f919dda328ded3623b602b8d7..ce987ae694670c3879f98d69ac24e48be6462440)
the
hassec\_revive\_qt

branch
from
[`1b87806`](/Exiv2/exiv2/commit/1b878060ca9b605f919dda328ded3623b602b8d7) to
[`ce987ae`](/Exiv2/exiv2/commit/ce987ae694670c3879f98d69ac24e48be6462440)  [Compare](/Exiv2/exiv2/compare/1b878060ca9b605f919dda328ded3623b602b8d7..ce987ae694670c3879f98d69ac24e48be6462440)
[August 22, 2022 15:51](#event-7234141251)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Aug 22, 2022](#issuecomment-1222603571) • edited Loading

|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://codecov.io/gh/Exiv2/exiv2/pull/2337?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2) Report Merging [#2337](https://codecov.io/gh/Exiv2/exiv2/pull/2337?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2) ([b04e48c](https://github.com/Exiv2/exiv2/commit/b04e48c210b7faa08c9a8a4b2b922b6f76b8306a)) into [main](https://codecov.io/gh/Exiv2/exiv2/commit/89d7798f1d4934edd281c7b06eac72dfe43d652b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2) ([89d7798](https://github.com/Exiv2/exiv2/commit/89d7798f1d4934edd281c7b06eac72dfe43d652b)) will **decrease** coverage by `0.30%`. The diff coverage is `55.46%`.  ``` @@            Coverage Diff             @@ ##             main    #2337      +/-   ## ========================================== - Coverage   63.47%   63.16%   -0.31%      ==========================================   Files         118      119       +1        Lines       19584    20433     +849        Branches     9569    10164     +595      ========================================== + Hits        12431    12907     +476      - Misses       5088     5403     +315      - Partials     2065     2123      +58      ```  | [Impacted Files](https://codecov.io/gh/Exiv2/exiv2/pull/2337?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2) | Coverage Δ |  | | --- | --- | --- | | [include/exiv2/basicio.hpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-aW5jbHVkZS9leGl2Mi9iYXNpY2lvLmhwcA==) | `91.66% <ø> (ø)` |  | | [src/bmffimage.cpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-c3JjL2JtZmZpbWFnZS5jcHA=) | `76.81% <0.00%> (+0.21%)` | ⬆️ | | [src/image.cpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-c3JjL2ltYWdlLmNwcA==) | `69.51% <ø> (ø)` |  | | [src/properties.cpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-c3JjL3Byb3BlcnRpZXMuY3Bw) | `75.22% <ø> (ø)` |  | | [src/quicktimevideo.cpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-c3JjL3F1aWNrdGltZXZpZGVvLmNwcA==) | `55.52% <55.52%> (ø)` |  | | [app/exiv2.cpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-YXBwL2V4aXYyLmNwcA==) | `62.54% <0.00%> (+0.05%)` | ⬆️ | | [src/tags.cpp](https://codecov.io/gh/Exiv2/exiv2/pull/2337/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2#diff-c3JjL3RhZ3MuY3Bw) | `67.83% <0.00%> (+1.16%)` | ⬆️ |   Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Exiv2) |

All reactions

Sorry, something went wrong.

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/00afe0ab941cea683e1a35cfca80d84d9394b258..3cdfdfea940efcfd8773f9388ee6c71d8c438646)
the
hassec\_revive\_qt

branch
8 times, most recently
from
[`00afe0a`](/Exiv2/exiv2/commit/00afe0ab941cea683e1a35cfca80d84d9394b258) to
[`3cdfdfe`](/Exiv2/exiv2/commit/3cdfdfea940efcfd8773f9388ee6c71d8c438646)  [Compare](/Exiv2/exiv2/compare/00afe0ab941cea683e1a35cfca80d84d9394b258..3cdfdfea940efcfd8773f9388ee6c71d8c438646)
[August 22, 2022 17:19](#event-7234826346)

 [hassec](/hassec)
added 3 commits
[August 22, 2022 19:21](#commits-pushed-fb0a867)

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[fix(video) bmffimage can not currently handle mp42 files so skip those](/Exiv2/exiv2/pull/2337/commits/fb0a86793e048bf4b659a5252ff158f6a4ae7e5c "fix(video) bmffimage can not currently handle mp42 files so skip those")`

`[fb0a867](/Exiv2/exiv2/pull/2337/commits/fb0a86793e048bf4b659a5252ff158f6a4ae7e5c)`

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[feat(video) revive quicktime.{h,cpp} and adapt to codebase changes.](/Exiv2/exiv2/pull/2337/commits/646514394d8ffe0943be53fecb8b33877d5e8441 "feat(video) revive quicktime.{h,cpp} and adapt to codebase changes.")`

`[6465143](/Exiv2/exiv2/pull/2337/commits/646514394d8ffe0943be53fecb8b33877d5e8441)`

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[fix(video) filetype detection: handle video via quicktimevideo.cpp an…](/Exiv2/exiv2/pull/2337/commits/596da0b68a97610c8e60859dcdd8caf5c393be33 "fix(video) filetype detection: handle video via quicktimevideo.cpp and other ftyp files in bmffimage")`
 …

`[596da0b](/Exiv2/exiv2/pull/2337/commits/596da0b68a97610c8e60859dcdd8caf5c393be33)`

```
…d other ftyp files in bmffimage
```

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/3cdfdfea940efcfd8773f9388ee6c71d8c438646..de5a28950f16a876bc87f842650152b56b667b84)
the
hassec\_revive\_qt

branch
from
[`3cdfdfe`](/Exiv2/exiv2/commit/3cdfdfea940efcfd8773f9388ee6c71d8c438646) to
[`de5a289`](/Exiv2/exiv2/commit/de5a28950f16a876bc87f842650152b56b667b84)  [Compare](/Exiv2/exiv2/compare/3cdfdfea940efcfd8773f9388ee6c71d8c438646..de5a28950f16a876bc87f842650152b56b667b84)
[August 22, 2022 17:32](#event-7234909988)

[![@lgtm-com](https://avatars.githubusercontent.com/in/17324?s=80&v=4)](/apps/lgtm-com)

Copy link

### **[lgtm-com](/apps/lgtm-com) bot** commented [Aug 22, 2022](#issuecomment-1222711476)

| This pull request **fixes 1 alert** when merging [de5a289](https://github.com/Exiv2/exiv2/commit/de5a28950f16a876bc87f842650152b56b667b84) into [89d7798](https://github.com/Exiv2/exiv2/commit/89d7798f1d4934edd281c7b06eac72dfe43d652b) - [view on LGTM.com](https://lgtm.com/projects/g/Exiv2/exiv2/rev/pr-34106284ea68930b32f603aa3b28976aab9a38d1)  **fixed alerts:**   * 1 for FIXME comment |
| --- |

All reactions

Sorry, something went wrong.

[![@piponazo](https://avatars.githubusercontent.com/u/102645?s=80&u=11f15e95c24dd5f9bb595128db7b588e80d6d6e4&v=4)](/piponazo)

Copy link

Collaborator

### **[piponazo](/piponazo)** commented [Aug 23, 2022](#issuecomment-1223553787)

| In general it looks good to me, thanks for taking care of restoring this code 👏 .  I see there are some windows errors in CI: [image](https://user-images.githubusercontent.com/102645/186075197-36799db0-94e5-4d92-beb4-a89d9f581917.png)  If you do not have a windows dev environment, let me know and I can help fixing those. |
| --- |

 👍
2
 hassec and 1div0 reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=80&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)

Copy link

Member

Author

### **[hassec](/hassec)** commented [Aug 23, 2022](#issuecomment-1223628803)

| Thanks [@piponazo](https://github.com/piponazo)! I don't have a windows dev env, but let me first try to play a round of trial and error ci ping pong 😂 If that fails, I'll happily forward this to you ;) |
| --- |

All reactions

Sorry, something went wrong.

[![kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=60&v=4)](/kevinbackhouse)

**[kevinbackhouse](/kevinbackhouse)**
reviewed
[Aug 23, 2022](#pullrequestreview-1081848558)

 [View reviewed changes](/Exiv2/exiv2/pull/2337/files)

[src/quicktimevideo.cpp](/Exiv2/exiv2/pull/2337/files#diff-42eda809341a4da8df5ab33eb32a4568fb23cace48d0441e8e45e4454741ae89)
Outdated

Show resolved

Hide resolved

[![kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=60&v=4)](/kevinbackhouse)

**[kevinbackhouse](/kevinbackhouse)**
reviewed
[Aug 23, 2022](#pullrequestreview-1081857923)

 [View reviewed changes](/Exiv2/exiv2/pull/2337/files)

[src/quicktimevideo.cpp](/Exiv2/exiv2/pull/2337/files#diff-42eda809341a4da8df5ab33eb32a4568fb23cace48d0441e8e45e4454741ae89)
Outdated

Show resolved

Hide resolved

[![kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=60&v=4)](/kevinbackhouse)

**[kevinbackhouse](/kevinbackhouse)**
reviewed
[Aug 23, 2022](#pullrequestreview-1081860329)

 [View reviewed changes](/Exiv2/exiv2/pull/2337/files)

[src/quicktimevideo.cpp](/Exiv2/exiv2/pull/2337/files#diff-42eda809341a4da8df5ab33eb32a4568fb23cace48d0441e8e45e4454741ae89)
Outdated

Show resolved

Hide resolved

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

### **[kevinbackhouse](/kevinbackhouse)** commented [Aug 23, 2022](#issuecomment-1223862476)

| I would try replacing `uint64_t` with `size_t` throughout this file to fix the Windows build failures. It looks to me like those values are all file sizes/offsets, so `size_t` is the natural type to use. |
| --- |

 👍
1
 hassec reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@benmccann](https://avatars.githubusercontent.com/u/322311?s=80&u=fbc15b26306d2dd1966026dd74d8bdbbad993a96&v=4)](/benmccann)

Copy link

Contributor

### **[benmccann](/benmccann)** commented [Aug 23, 2022](#issuecomment-1224580755)

| This is great! Thank you so much!  FYI, because you said "partially close [#1748](https://github.com/Exiv2/exiv2/issues/1748)" in the PR description it will close that issue when this PR is merged, which doesn't seem like what you intended  Hopefully [@notorand-it](https://github.com/notorand-it) can give you a quick okay to use the test file, but if you don't hear back or it's holding things up, I should be able to create a small test video in that case. |
| --- |

All reactions

Sorry, something went wrong.

[![@benmccann](https://avatars.githubusercontent.com/u/322311?s=40&u=fbc15b26306d2dd1966026dd74d8bdbbad993a96&v=4)](/benmccann)
[benmccann](/benmccann)
mentioned this pull request
[Aug 24, 2022](#ref-issue-930941673)

[Feature Request: Video Support in V1.0
#1748](/Exiv2/exiv2/issues/1748)

Open

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/c694e1de7aca05b6bb38b2f632382d27fc162446..e97855bbb70f041bcc006c4243553ed0487e0e3b)
the
hassec\_revive\_qt

branch
from
[`c694e1d`](/Exiv2/exiv2/commit/c694e1de7aca05b6bb38b2f632382d27fc162446) to
[`e97855b`](/Exiv2/exiv2/commit/e97855bbb70f041bcc006c4243553ed0487e0e3b)  [Compare](/Exiv2/exiv2/compare/c694e1de7aca05b6bb38b2f632382d27fc162446..e97855bbb70f041bcc006c4243553ed0487e0e3b)
[August 24, 2022 10:53](#event-7249801782)

[![@lgtm-com](https://avatars.githubusercontent.com/in/17324?s=80&v=4)](/apps/lgtm-com)

Copy link

### **[lgtm-com](/apps/lgtm-com) bot** commented [Aug 24, 2022](#issuecomment-1225577018)

| This pull request **fixes 1 alert** when merging [e97855b](https://github.com/Exiv2/exiv2/commit/e97855bbb70f041bcc006c4243553ed0487e0e3b) into [71dc04e](https://github.com/Exiv2/exiv2/commit/71dc04ebb138a0bc074f49223f932bcdfed57344) - [view on LGTM.com](https://lgtm.com/projects/g/Exiv2/exiv2/rev/pr-496101d0ef9f3c2ee8637e35ad9571ecdef1990c)  **fixed alerts:**   * 1 for FIXME comment |
| --- |

All reactions

Sorry, something went wrong.

[![kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=60&v=4)](/kevinbackhouse)

**[kevinbackhouse](/kevinbackhouse)**
reviewed
[Aug 24, 2022](#pullrequestreview-1083698147)

 [View reviewed changes](/Exiv2/exiv2/pull/2337/files)

[src/quicktimevideo.cpp](/Exiv2/exiv2/pull/2337/files#diff-42eda809341a4da8df5ab33eb32a4568fb23cace48d0441e8e45e4454741ae89)
Outdated

Show resolved

Hide resolved

 [hassec](/hassec)
added 4 commits
[August 24, 2022 14:28](#commits-pushed-3050d1f)

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[test(video) add small video file to execute some code in quicktimevid…](/Exiv2/exiv2/pull/2337/commits/3050d1fcfc22f1de5c483bd8c9ea666622f49a5a "test(video) add small video file to execute some code in quicktimevideo.cpp")`
 …

`[3050d1f](/Exiv2/exiv2/pull/2337/commits/3050d1fcfc22f1de5c483bd8c9ea666622f49a5a)`

```
…eo.cpp
```

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[fix(video) clang-format quicktimevideo](/Exiv2/exiv2/pull/2337/commits/c1e3a058cbfa799b2bbcf3c46838e1f094904735 "fix(video) clang-format quicktimevideo")`

`[c1e3a05](/Exiv2/exiv2/pull/2337/commits/c1e3a058cbfa799b2bbcf3c46838e1f094904735)`

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[fix(video) dont throw in isQTimeType](/Exiv2/exiv2/pull/2337/commits/6bdeb3d78395177b3f5bc1e968dd2b0afbbbef06 "fix(video) dont throw in isQTimeType")`

`[6bdeb3d](/Exiv2/exiv2/pull/2337/commits/6bdeb3d78395177b3f5bc1e968dd2b0afbbbef06)`

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[fix(quicktimevideo) silence windows warnings](/Exiv2/exiv2/pull/2337/commits/1ddaef3bf9b39ef858a9cf16cdb0a94d9a75d1f0 "fix(quicktimevideo) silence windows warnings")`

`[1ddaef3](/Exiv2/exiv2/pull/2337/commits/1ddaef3bf9b39ef858a9cf16cdb0a94d9a75d1f0)`

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/e97855bbb70f041bcc006c4243553ed0487e0e3b..56e97627aec5bcc063f5c555b060d13b81b1e28b)
the
hassec\_revive\_qt

branch
from
[`e97855b`](/Exiv2/exiv2/commit/e97855bbb70f041bcc006c4243553ed0487e0e3b) to
[`56e9762`](/Exiv2/exiv2/commit/56e97627aec5bcc063f5c555b060d13b81b1e28b)  [Compare](/Exiv2/exiv2/compare/e97855bbb70f041bcc006c4243553ed0487e0e3b..56e97627aec5bcc063f5c555b060d13b81b1e28b)
[August 24, 2022 12:28](#event-7250484329)

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&v=4)](/hassec)

`[fix(quicktimevideo) cleanup and hardening as suggested in review by](/Exiv2/exiv2/pull/2337/commits/b04e48c210b7faa08c9a8a4b2b922b6f76b8306a "fix(quicktimevideo) cleanup and hardening as suggested in review by @kevinbackhouse") [@…](https://github.com/kevinbackhouse)`
 …

`[b04e48c](/Exiv2/exiv2/pull/2337/commits/b04e48c210b7faa08c9a8a4b2b922b6f76b8306a)`

```
[…kevinbackhouse](https://github.com/kevinbackhouse)
```

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
[force-pushed](/Exiv2/exiv2/compare/56e97627aec5bcc063f5c555b060d13b81b1e28b..b04e48c210b7faa08c9a8a4b2b922b6f76b8306a)
the
hassec\_revive\_qt

branch
from
[`56e9762`](/Exiv2/exiv2/commit/56e97627aec5bcc063f5c555b060d13b81b1e28b) to
[`b04e48c`](/Exiv2/exiv2/commit/b04e48c210b7faa08c9a8a4b2b922b6f76b8306a)  [Compare](/Exiv2/exiv2/compare/56e97627aec5bcc063f5c555b060d13b81b1e28b..b04e48c210b7faa08c9a8a4b2b922b6f76b8306a)
[August 24, 2022 12:32](#event-7250514752)

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=80&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)

Copy link

Member

Author

### **[hassec](/hassec)** commented [Aug 24, 2022](#issuecomment-1225667784)

| Added a test file that I created myself, so once the ci is green this is good to go form my side :) |
| --- |

All reactions

Sorry, something went wrong.

[![@lgtm-com](https://avatars.githubusercontent.com/in/17324?s=80&v=4)](/apps/lgtm-com)

Copy link

### **[lgtm-com](/apps/lgtm-com) bot** commented [Aug 24, 2022](#issuecomment-1225681914)

| This pull request **fixes 1 alert** when merging [b04e48c](https://github.com/Exiv2/exiv2/commit/b04e48c210b7faa08c9a8a4b2b922b6f76b8306a) into [71dc04e](https://github.com/Exiv2/exiv2/commit/71dc04ebb138a0bc074f49223f932bcdfed57344) - [view on LGTM.com](https://lgtm.com/projects/g/Exiv2/exiv2/rev/pr-ed1069b7892f1c36d84fdf8fa455021b6e490cf7)  **fixed alerts:**   * 1 for FIXME comment |
| --- |

All reactions

Sorry, something went wrong.

 [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
requested a review
from [kevinbackhouse](/kevinbackhouse)
[August 24, 2022 13:55](#event-7251232043)

[![kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=60&v=4)](/kevinbackhouse)

**[kevinbackhouse](/kevinbackhouse)**
approved these changes
[Aug 24, 2022](#pullrequestreview-1084044628)

 [View reviewed changes](/Exiv2/exiv2/pull/2337/files/b04e48c210b7faa08c9a8a4b2b922b6f76b8306a)

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
merged commit [`e4adf38`](/Exiv2/exiv2/commit/e4adf388aaaccccaf08fc0fc38419a5b0117b299)
into
main

[Aug 24, 2022](https://github.com/Exiv2/exiv2/pull/2337#event-7252153041)

 [![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/apps/mergify)
[mergify](/apps/mergify)
bot
deleted the
hassec\_revive\_qt

branch
[August 24, 2022 15:40](#event-7252158315)

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
mentioned this pull request
[Sep 21, 2022](#ref-pullrequest-1377830665)

[Fix clang format error
norbertwg/exiv2#1](/norbertwg/exiv2/pull/1)
 Merged

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
mentioned this pull request
[Jan 4, 2023](#ref-issue-1516553512)

[OSS-Fuzz issues in new video code
#2450](/Exiv2/exiv2/issues/2450)

Closed

[![@nehaljwani](https://avatars.githubusercontent.com/u/1779189?s=40&v=4)](/nehaljwani)
[nehaljwani](/nehaljwani)
mentioned this pull request
[May 8, 2023](#ref-issue-1432256426)

[Is a new release happening soon?
#2406](/Exiv2/exiv2/issues/2406)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fpull%2F2337)

Reviewers

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse) [kevinbackhouse](/kevinbackhouse)

kevinbackhouse approved these changes

[![@piponazo](https://avatars.githubusercontent.com/u/102645?s=40&v=4)](/piponazo) [piponazo](/piponazo)

 Awaiting requested review from piponazo

Assignees

No one assigned

Labels

[enhancement](/Exiv2/exiv2/labels/enhancement)
feature / functionality enhancements
[video](/Exiv2/exiv2/labels/video)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [Feature Request: Video Support in V1.0](https://github.com/Exiv2/exiv2/issues/1748)

 [exiv2 reports "corrupted metadata" where exiftool can extract them all](https://github.com/Exiv2/exiv2/issues/2237)

4 participants

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=52&v=4)](/hassec) [![@piponazo](https://avatars.githubusercontent.com/u/102645?s=52&v=4)](/piponazo) [![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=52&v=4)](/kevinbackhouse) [![@benmccann](https://avatars.githubusercontent.com/u/322311?s=52&v=4)](/benmccann)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

