    ![Zulip](/_astro/zulip-logo.BWWbWTcB.svg)

* [Zulip homepage](https://zulip.com)
* [GitHub](https://github.com/zulip)

    [Subscribe](https://groups.google.com/g/zulip-announce/about)      [Release announcements](tag/release-announcements/), [Security](tag/security/)
# Zulip Server 4.10 security release

  [![](/_astro/alex.rLi04l3I_ZS8spS.webp)](author/alex/)  [Alex Vandiver](author/alex/)   Feb 25, 2022 • 3 min read

We released Zulip Server 4.10 today! This is a security release, containing
important security fixes, as well as important cherry-picked bug fixes, since
Zulip Server 4.9.

## Upgrading

We strongly recommend that all installations upgrade to this new release. See
the
[upgrade instructions](https://zulip.readthedocs.io/en/stable/production/upgrade-or-modify.html#upgrading-to-a-release)
in the Zulip documentation. If you need help, best-effort support is available
on [chat.zulip.org](https://zulip.com/development-community/).

## Reminder: upgrade your host operating system

As a reminder,
[we have deprecated](2021/12/01/zulip-server-4-8-security-release/) support for
Ubuntu 18.04 Bionic, because the upstream vendor no longer provides security
support for important Zulip dependencies. Specifically, Ubuntu 18.04 remains
supported in this release and will be supported in the rest of the Zulip Server
4.x series, but will not be supported in the upcoming Zulip Server 5.0 release.

We recommend upgrading any Zulip servers you manage which are running on Ubuntu
18.04. See our
[OS upgrade documentation](https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-the-operating-system)
for how to correctly upgrade a Zulip server.

## Notable changes:

* [CVE-2022-21706](2022/02/25/zulip-server-4-10-security-release/#cve-2022-21706):
  Reusable invitation links could be improperly used for other organizations.
* CVE-2021-3967: Enforce that regenerating an API key must be done with an API
  key, not a cookie. Thanks to [nhiephon](https://twitter.com/_nhiephon) for
  their responsible disclosure of this vulnerability.
* Fixed a bug with the `reindex-textual-data` tool, where it would sometimes
  fail to find the libraries it needed.
* Pin PostgreSQL to 10.19, 11.14, 12.9, 13.5 or 14.1 to avoid a regression which
  caused deploys with PGroonga enabled to unpredictably fail database queries
  with the error `variable not found in subplan target list`.
* Fix ARM64 support; however, the wal-g binary is
  [not yet supported on ARM64](https://github.com/zulip/zulip/issues/21070).

## CVE-2022-21706

An internal investigation recently uncovered a vulnerability in Zulip’s
invitation links. Specifically, a
[reusable invitation link](https://zulip.com/help/invite-new-users#send-invitations)
could be used to join a different organization than the one it was created for.
As a result, there was a potential for users to join an organization without an
invitation (including bypassing
[domain restrictions](https://zulip.com/help/invite-new-users#enable-email-signup)),
or to incorrectly obtain elevated permissions (e.g. a moderator or admin role).

This issue only affects installations like
[Zulip Cloud](2022/02/25/zulip-cloud-invitation-vulnerability/) that host
multiple Zulip organizations; the vast majority of self-hosted installations
only host a single Zulip organization and are not affected.

It is possible for someone with expertise on the Zulip database and logging
format to determine whether this vulnerability was used to gain improper access
on a system. Customers with a Zulip support contract may request such assistance
by contacting us at security@zulip.com. Our
investigation of Zulip Cloud logs has determined that it is unlikely that this
vulnerability was actively exploited prior to this disclosure.

## Read more from Zulip.

Check out other posts on the Zulip Blog, or
[sign up](https://groups.google.com/g/zulip-announce/about) to receive
emails about new posts and other Zulip announcements.

    Copyright © Kandra Labs, Inc. Built with Astro