

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3176718)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3176717 "Changeset 3176717")
* [Next Changeset](/changeset/3176719 "Changeset 3176719") →

---

# Changeset 3176718

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/28/2024 08:26:31 AM
([2 months](/timeline?from=2024-10-28T08%3A26%3A31Z&precision=second "See timeline at 10/28/2024 08:26:31 AM") ago)

Author:
tychesoftwares
Message:

Update to version 2.1.14 from GitHub

Location:
[arconix-shortcodes](/browser/arconix-shortcodes?rev=3176718)
Files:

6 edited
1 copied

* [tags/2.1.14](/browser/arconix-shortcodes/tags/2.1.14?rev=3176718 "Show entry in browser")
  (copied)
  *(copied from [arconix-shortcodes/trunk](/browser/arconix-shortcodes/trunk?rev=3170741 "Show original file (revision 3176717)"))*
* [tags/2.1.14/includes/shortcodes.php](/browser/arconix-shortcodes/tags/2.1.14/includes/shortcodes.php?rev=3176718 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/2.1.14/plugin.php](/browser/arconix-shortcodes/tags/2.1.14/plugin.php?rev=3176718 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [tags/2.1.14/readme.txt](/browser/arconix-shortcodes/tags/2.1.14/readme.txt?rev=3176718 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [trunk/includes/shortcodes.php](/browser/arconix-shortcodes/trunk/includes/shortcodes.php?rev=3176718 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [trunk/plugin.php](/browser/arconix-shortcodes/trunk/plugin.php?rev=3176718 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [trunk/readme.txt](/browser/arconix-shortcodes/trunk/readme.txt?rev=3176718 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [arconix-shortcodes/tags/2.1.14/includes/shortcodes.php](/changeset/3176718/arconix-shortcodes/tags/2.1.14/includes/shortcodes.php "Show the changeset 3176718 restricted to arconix-shortcodes/tags/2.1.14/includes/shortcodes.php")

  | [r3170741](/browser/arconix-shortcodes/trunk/includes/shortcodes.php?rev=3170741#L360 "Show revision 3170741 of this file in browser") | [r3176718](/browser/arconix-shortcodes/tags/2.1.14/includes/shortcodes.php?rev=3176718#L360 "Show revision 3176718 of this file in browser") |  |
  | --- | --- | --- |
  | 360 | 360 | \*/ |
  | 361 | 361 | function box\_arconix\_shortcode( $atts, $content = null ) { |
  | 362 |  | $defaults = apply\_filters( 'arconix\_box\_shortcode\_args', array( |
  | 363 |  | 'style' => '', // deprecated |
  | 364 |  | 'color' => 'gray', |
  | 365 |  | 'icon'  => '', |
  | 366 |  | 'icon\_size' => 'fa-2x', |
  | 367 |  | 'icon\_other' => 'pull-left' |
  | 368 |  | ) ); |
  | 369 |  |  |
  | 370 |  | // Mass sanitization to save redoing the same code over & over |
  | 371 |  | if ( is\_array( $atts) ) { |
  |  | 362 | $defaults = apply\_filters( |
  |  | 363 | 'arconix\_box\_shortcode\_args', |
  |  | 364 | array( |
  |  | 365 | 'style'      => '', |
  |  | 366 | 'color'      => 'gray', |
  |  | 367 | 'icon'       => '', |
  |  | 368 | 'icon\_size'  => 'fa-2x', |
  |  | 369 | 'icon\_other' => 'pull-left', |
  |  | 370 | ) |
  |  | 371 | ); |
  |  | 372 |  |
  |  | 373 | if ( is\_array( $atts ) ) { |
  | 372 | 374 | foreach ( $atts as $key => $value ) { |
  | 373 |  | $~~value = sanitize\_html\_class~~( $value ); |
  |  | 375 | $atts[ $key ] = sanitize\_text\_field( $value ); |
  | 374 | 376 | } |
  | 375 | 377 | } |
  |  | 378 |  |
  | 376 | 379 | extract( shortcode\_atts( $defaults, $atts, 'arconix\_box' ) ); |
  | 377 | 380 |  |
  | 378 |  | // For backwards compatibility, convert old $style in to new params |
  |  | 381 | $color      = sanitize\_html\_class( $color ); |
  |  | 382 | $icon       = sanitize\_html\_class( $icon ); |
  |  | 383 | $icon\_size  = sanitize\_html\_class( $icon\_size ); |
  |  | 384 | $icon\_other = sanitize\_html\_class( $icon\_other ); |
  |  | 385 |  |
  |  | 386 | // For backwards compatibility, convert old $style into new params. |
  | 379 | 387 | switch ( $style ) { |
  | 380 | 388 | case 'alert': |
  | 381 | 389 | $color = 'red'; |
  | 382 |  | $icon = 'fa-exclamation-triangle'; |
  |  | 390 | $icon  = 'fa-exclamation-triangle'; |
  | 383 | 391 | break; |
  | 384 | 392 | case 'comment': |
  | 385 | 393 | $color = 'tan'; |
  | 386 |  | $icon = 'fa-comment'; |
  |  | 394 | $icon  = 'fa-comment'; |
  | 387 | 395 | break; |
  | 388 | 396 | case 'download': |
  | 389 | 397 | $color = 'green'; |
  | 390 |  | $icon = 'fa-download'; |
  |  | 398 | $icon  = 'fa-download'; |
  | 391 | 399 | break; |
  | 392 | 400 | case 'info': |
  | 393 | 401 | $color = 'blue'; |
  | 394 |  | $icon = 'fa-info-circle'; |
  |  | 402 | $icon  = 'fa-info-circle'; |
  | 395 | 403 | break; |
  | 396 | 404 | case 'tip': |
  | 397 | 405 | $color = 'yellow'; |
  | 398 |  | $icon = 'fa-lightbulb-o'; |
  |  | 406 | $icon  = 'fa-lightbulb-o'; |
  | 399 | 407 | break; |
  | 400 | 408 | default: |
  | 401 |  | if ( ! $color ) $style = ~~color~~; |
  |  | 409 | if ( ! $color ) $style = sanitize\_html\_class( $style ); |
  | 402 | 410 | break; |
  | 403 | 411 | } |
  | 404 | 412 |  |
  |  | 413 | // Ensure icon HTML is escaped |
  | 405 | 414 | if ( $icon ) { |
  | 406 |  | $icon = "<i class='fa {$icon\_size} {$icon\_other} {$icon}'></i>"; |
  | 407 |  |  |
  | 408 |  | $r = '<div class="arconix-box arconix-box-' . esc\_attr( $color ) . '">' . $icon . '<div class="arconix-box-content">' . remove\_wpautop( $content ) . '</div></div>'; |
  |  | 415 | $icon = "<i class='" . esc\_attr( "fa {$icon\_size} {$icon\_other} {$icon}" ) . "'></i>"; |
  | 409 | 416 | } |
  | 410 |  | else { |
  | 411 |  | $r = '<div class="arconix-box arconix-box-' . esc\_attr( $color ) . '">' . remove\_wpautop( $content ) . '</div>'; |
  |  | 417 |  |
  |  | 418 | $r = '<div class="arconix-box arconix-box-' . esc\_attr( $color ) . '">'; |
  |  | 419 | if ( $icon ) { |
  |  | 420 | $r .= $icon; |
  | 412 | 421 | } |
  |  | 422 | $r .= '<div class="arconix-box-content">' . wp\_kses\_post( remove\_wpautop( $content ) ) . '</div>'; |
  |  | 423 | $r .= '</div>'; |
  | 413 | 424 |  |
  | 414 | 425 | return apply\_filters( 'arconix\_box\_return', $r ); |
* ## [arconix-shortcodes/tags/2.1.14/plugin.php](/changeset/3176718/arconix-shortcodes/tags/2.1.14/plugin.php "Show the changeset 3176718 restricted to arconix-shortcodes/tags/2.1.14/plugin.php")

  | [r3170741](/browser/arconix-shortcodes/trunk/plugin.php?rev=3170741#L5 "Show revision 3170741 of this file in browser") | [r3176718](/browser/arconix-shortcodes/tags/2.1.14/plugin.php?rev=3176718#L5 "Show revision 3176718 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Description: A handy collection of shortcodes for your site. |
  | 6 | 6 | \* |
  | 7 |  | \* Version: 2.1.1~~3~~ |
  |  | 7 | \* Version: 2.1.14 |
  | 8 | 8 | \* |
  | 9 | 9 | \* Author: Tyche Softwares |
  | […](/browser/arconix-shortcodes/trunk/plugin.php?rev=3170741#L26) | […](/browser/arconix-shortcodes/tags/2.1.14/plugin.php?rev=3176718#L26) |  |
  | 26 | 26 | \* @since   2.0.4 |
  | 27 | 27 | \* @access  private |
  | 28 |  | \* @var ~~string      $version        Current plugin version~~ |
  | 29 |  | \*/ |
  | 30 |  | const VERSION = '2.1.1~~3~~'; |
  |  | 28 | \* @var string $version Current plugin version. |
  |  | 29 | \*/ |
  |  | 30 | const VERSION = '2.1.14'; |
  | 31 | 31 |  |
  | 32 | 32 | /\*\* |
* ## [arconix-shortcodes/tags/2.1.14/readme.txt](/changeset/3176718/arconix-shortcodes/tags/2.1.14/readme.txt "Show the changeset 3176718 restricted to arconix-shortcodes/tags/2.1.14/readme.txt")

  | [r3170741](/browser/arconix-shortcodes/trunk/readme.txt?rev=3170741#L5 "Show revision 3170741 of this file in browser") | [r3176718](/browser/arconix-shortcodes/tags/2.1.14/readme.txt?rev=3176718#L5 "Show revision 3176718 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 4.3 |
  | 6 | 6 | Tested up to: 6.6.2 |
  | 7 |  | Stable tag: 2.1.1~~3~~ |
  |  | 7 | Stable tag: 2.1.14 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 |  |
  | […](/browser/arconix-shortcodes/trunk/readme.txt?rev=3170741#L122) | […](/browser/arconix-shortcodes/tags/2.1.14/readme.txt?rev=3176718#L122) |  |
  | 122 | 122 |  |
  | 123 | 123 | == Changelog == |
  |  | 124 |  |
  |  | 125 | = 2.1.14 = |
  |  | 126 | \* Fix - Authenticated Stored XSS vulnerability in box shortcode for Contributor+ roles in Arconix Shortcodes <= 2.1.13. |
  | 124 | 127 |  |
  | 125 | 128 | = 2.1.13 = |
* ## [arconix-shortcodes/trunk/includes/shortcodes.php](/changeset/3176718/arconix-shortcodes/trunk/includes/shortcodes.php "Show the changeset 3176718 restricted to arconix-shortcodes/trunk/includes/shortcodes.php")

  | [r3170741](/browser/arconix-shortcodes/trunk/includes/shortcodes.php?rev=3170741#L360 "Show revision 3170741 of this file in browser") | [r3176718](/browser/arconix-shortcodes/trunk/includes/shortcodes.php?rev=3176718#L360 "Show revision 3176718 of this file in browser") |  |
  | --- | --- | --- |
  | 360 | 360 | \*/ |
  | 361 | 361 | function box\_arconix\_shortcode( $atts, $content = null ) { |
  | 362 |  | $defaults = apply\_filters( 'arconix\_box\_shortcode\_args', array( |
  | 363 |  | 'style' => '', // deprecated |
  | 364 |  | 'color' => 'gray', |
  | 365 |  | 'icon'  => '', |
  | 366 |  | 'icon\_size' => 'fa-2x', |
  | 367 |  | 'icon\_other' => 'pull-left' |
  | 368 |  | ) ); |
  | 369 |  |  |
  | 370 |  | // Mass sanitization to save redoing the same code over & over |
  | 371 |  | if ( is\_array( $atts) ) { |
  |  | 362 | $defaults = apply\_filters( |
  |  | 363 | 'arconix\_box\_shortcode\_args', |
  |  | 364 | array( |
  |  | 365 | 'style'      => '', |
  |  | 366 | 'color'      => 'gray', |
  |  | 367 | 'icon'       => '', |
  |  | 368 | 'icon\_size'  => 'fa-2x', |
  |  | 369 | 'icon\_other' => 'pull-left', |
  |  | 370 | ) |
  |  | 371 | ); |
  |  | 372 |  |
  |  | 373 | if ( is\_array( $atts ) ) { |
  | 372 | 374 | foreach ( $atts as $key => $value ) { |
  | 373 |  | $~~value = sanitize\_html\_class~~( $value ); |
  |  | 375 | $atts[ $key ] = sanitize\_text\_field( $value ); |
  | 374 | 376 | } |
  | 375 | 377 | } |
  |  | 378 |  |
  | 376 | 379 | extract( shortcode\_atts( $defaults, $atts, 'arconix\_box' ) ); |
  | 377 | 380 |  |
  | 378 |  | // For backwards compatibility, convert old $style in to new params |
  |  | 381 | $color      = sanitize\_html\_class( $color ); |
  |  | 382 | $icon       = sanitize\_html\_class( $icon ); |
  |  | 383 | $icon\_size  = sanitize\_html\_class( $icon\_size ); |
  |  | 384 | $icon\_other = sanitize\_html\_class( $icon\_other ); |
  |  | 385 |  |
  |  | 386 | // For backwards compatibility, convert old $style into new params. |
  | 379 | 387 | switch ( $style ) { |
  | 380 | 388 | case 'alert': |
  | 381 | 389 | $color = 'red'; |
  | 382 |  | $icon = 'fa-exclamation-triangle'; |
  |  | 390 | $icon  = 'fa-exclamation-triangle'; |
  | 383 | 391 | break; |
  | 384 | 392 | case 'comment': |
  | 385 | 393 | $color = 'tan'; |
  | 386 |  | $icon = 'fa-comment'; |
  |  | 394 | $icon  = 'fa-comment'; |
  | 387 | 395 | break; |
  | 388 | 396 | case 'download': |
  | 389 | 397 | $color = 'green'; |
  | 390 |  | $icon = 'fa-download'; |
  |  | 398 | $icon  = 'fa-download'; |
  | 391 | 399 | break; |
  | 392 | 400 | case 'info': |
  | 393 | 401 | $color = 'blue'; |
  | 394 |  | $icon = 'fa-info-circle'; |
  |  | 402 | $icon  = 'fa-info-circle'; |
  | 395 | 403 | break; |
  | 396 | 404 | case 'tip': |
  | 397 | 405 | $color = 'yellow'; |
  | 398 |  | $icon = 'fa-lightbulb-o'; |
  |  | 406 | $icon  = 'fa-lightbulb-o'; |
  | 399 | 407 | break; |
  | 400 | 408 | default: |
  | 401 |  | if ( ! $color ) $style = ~~color~~; |
  |  | 409 | if ( ! $color ) $style = sanitize\_html\_class( $style ); |
  | 402 | 410 | break; |
  | 403 | 411 | } |
  | 404 | 412 |  |
  |  | 413 | // Ensure icon HTML is escaped |
  | 405 | 414 | if ( $icon ) { |
  | 406 |  | $icon = "<i class='fa {$icon\_size} {$icon\_other} {$icon}'></i>"; |
  | 407 |  |  |
  | 408 |  | $r = '<div class="arconix-box arconix-box-' . esc\_attr( $color ) . '">' . $icon . '<div class="arconix-box-content">' . remove\_wpautop( $content ) . '</div></div>'; |
  |  | 415 | $icon = "<i class='" . esc\_attr( "fa {$icon\_size} {$icon\_other} {$icon}" ) . "'></i>"; |
  | 409 | 416 | } |
  | 410 |  | else { |
  | 411 |  | $r = '<div class="arconix-box arconix-box-' . esc\_attr( $color ) . '">' . remove\_wpautop( $content ) . '</div>'; |
  |  | 417 |  |
  |  | 418 | $r = '<div class="arconix-box arconix-box-' . esc\_attr( $color ) . '">'; |
  |  | 419 | if ( $icon ) { |
  |  | 420 | $r .= $icon; |
  | 412 | 421 | } |
  |  | 422 | $r .= '<div class="arconix-box-content">' . wp\_kses\_post( remove\_wpautop( $content ) ) . '</div>'; |
  |  | 423 | $r .= '</div>'; |
  | 413 | 424 |  |
  | 414 | 425 | return apply\_filters( 'arconix\_box\_return', $r ); |
* ## [arconix-shortcodes/trunk/plugin.php](/changeset/3176718/arconix-shortcodes/trunk/plugin.php "Show the changeset 3176718 restricted to arconix-shortcodes/trunk/plugin.php")

  | [r3170741](/browser/arconix-shortcodes/trunk/plugin.php?rev=3170741#L5 "Show revision 3170741 of this file in browser") | [r3176718](/browser/arconix-shortcodes/trunk/plugin.php?rev=3176718#L5 "Show revision 3176718 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Description: A handy collection of shortcodes for your site. |
  | 6 | 6 | \* |
  | 7 |  | \* Version: 2.1.1~~3~~ |
  |  | 7 | \* Version: 2.1.14 |
  | 8 | 8 | \* |
  | 9 | 9 | \* Author: Tyche Softwares |
  | […](/browser/arconix-shortcodes/trunk/plugin.php?rev=3170741#L26) | […](/browser/arconix-shortcodes/trunk/plugin.php?rev=3176718#L26) |  |
  | 26 | 26 | \* @since   2.0.4 |
  | 27 | 27 | \* @access  private |
  | 28 |  | \* @var ~~string      $version        Current plugin version~~ |
  | 29 |  | \*/ |
  | 30 |  | const VERSION = '2.1.1~~3~~'; |
  |  | 28 | \* @var string $version Current plugin version. |
  |  | 29 | \*/ |
  |  | 30 | const VERSION = '2.1.14'; |
  | 31 | 31 |  |
  | 32 | 32 | /\*\* |
* ## [arconix-shortcodes/trunk/readme.txt](/changeset/3176718/arconix-shortcodes/trunk/readme.txt "Show the changeset 3176718 restricted to arconix-shortcodes/trunk/readme.txt")

  | [r3170741](/browser/arconix-shortcodes/trunk/readme.txt?rev=3170741#L5 "Show revision 3170741 of this file in browser") | [r3176718](/browser/arconix-shortcodes/trunk/readme.txt?rev=3176718#L5 "Show revision 3176718 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 4.3 |
  | 6 | 6 | Tested up to: 6.6.2 |
  | 7 |  | Stable tag: 2.1.1~~3~~ |
  |  | 7 | Stable tag: 2.1.14 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 |  |
  | […](/browser/arconix-shortcodes/trunk/readme.txt?rev=3170741#L122) | […](/browser/arconix-shortcodes/trunk/readme.txt?rev=3176718#L122) |  |
  | 122 | 122 |  |
  | 123 | 123 | == Changelog == |
  |  | 124 |  |
  |  | 125 | = 2.1.14 = |
  |  | 126 | \* Fix - Authenticated Stored XSS vulnerability in box shortcode for Contributor+ roles in Arconix Shortcodes <= 2.1.13. |
  | 124 | 127 |  |
  | 125 | 128 | = 2.1.13 = |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3176718)
* [Zip Archive](?format=zip&new=3176718)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

