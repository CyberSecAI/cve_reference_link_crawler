

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aurabindo Pillai <aurabindo.pillai@amd.com> | 2022-11-25 19:13:41 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-12-14 11:40:54 +0100 |
| commit | [3d8a298b2e83b98042e6ec726e934f535b23e6aa](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)) | |
| tree | [be1da12b16094d32d06c5b6977b34176d7a9258d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa) | |
| parent | [2d997738270894adc126e76726dafd894b8e2933](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2d997738270894adc126e76726dafd894b8e2933) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa&id2=2d997738270894adc126e76726dafd894b8e2933)) | |
| download | [linux-3d8a298b2e83b98042e6ec726e934f535b23e6aa.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-3d8a298b2e83b98042e6ec726e934f535b23e6aa.tar.gz) | |

drm/amd/display: fix array index out of bound error in DCN32 DMLcommit aeffc8fb2174f017a10df114bc312f899904dc68 upstream.
[Why&How]
LinkCapacitySupport array is indexed with the number of voltage states and
not the number of max DPPs. Fix the error by changing the array
declaration to use the correct (larger) array size of total number of
voltage states.
Signed-off-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Reviewed-by: Rodrigo Siqueira <Rodrigo.Siqueira@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Cc: stable@vger.kernel.org # 6.0.x
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/dc/dml/display\_mode\_vba.h](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/dc/dml/display_mode_vba.h?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/gpu/drm/amd/display/dc/dml/display\_mode\_vba.h b/drivers/gpu/drm/amd/display/dc/dml/display\_mode\_vba.hindex 2051ddaa641a78..6ec0947ace9cb6 100644--- a/[drivers/gpu/drm/amd/display/dc/dml/display\_mode\_vba.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/display_mode_vba.h?id=2d997738270894adc126e76726dafd894b8e2933)+++ b/[drivers/gpu/drm/amd/display/dc/dml/display\_mode\_vba.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/dc/dml/display_mode_vba.h?id=3d8a298b2e83b98042e6ec726e934f535b23e6aa)@@ -1152,7 +1152,7 @@ struct vba\_vars\_st { double UrgBurstFactorLumaPre[DC\_\_NUM\_DPP\_\_MAX]; double UrgBurstFactorChromaPre[DC\_\_NUM\_DPP\_\_MAX]; bool NotUrgentLatencyHidingPre[DC\_\_NUM\_DPP\_\_MAX];- bool LinkCapacitySupport[DC\_\_NUM\_DPP\_\_MAX];+ bool LinkCapacitySupport[DC\_\_VOLTAGE\_STATES]; bool VREADY\_AT\_OR\_AFTER\_VSYNC[DC\_\_NUM\_DPP\_\_MAX]; unsigned int MIN\_DST\_Y\_NEXT\_START[DC\_\_NUM\_DPP\_\_MAX]; unsigned int VFrontPorch[DC\_\_NUM\_DPP\_\_MAX]; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:36:42 +0000

