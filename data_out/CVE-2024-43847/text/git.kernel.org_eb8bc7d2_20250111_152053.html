

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | P Praneesh <quic\_ppranees@quicinc.com> | 2024-05-20 12:30:44 +0530 |
| --- | --- | --- |
| committer | Kalle Valo <quic\_kvalo@quicinc.com> | 2024-05-25 11:56:57 +0300 |
| commit | [073f9f249eecd64ab9d59c91c4a23cfdcc02afe4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)) | |
| tree | [0bbc41e3f1dda109379e34b1430b0fa8e3c897fc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4) | |
| parent | [33322e3ef07409278a18c6919c448e369d66a18e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=33322e3ef07409278a18c6919c448e369d66a18e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4&id2=33322e3ef07409278a18c6919c448e369d66a18e)) | |
| download | [linux-073f9f249eecd64ab9d59c91c4a23cfdcc02afe4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-073f9f249eecd64ab9d59c91c4a23cfdcc02afe4.tar.gz) | |

wifi: ath12k: fix invalid memory access while processing fragmented packetsThe monitor ring and the reo reinject ring share the same ring mask index.
When the driver receives an interrupt for the reo reinject ring, the
monitor ring is also processed, leading to invalid memory access. Since
monitor support is not yet enabled in ath12k, the ring mask for the monitor
ring should be removed.
Tested-on: QCN9274 hw2.0 PCI WLAN.WBE.1.1.1-00209-QCAHKSWPL\_SILICONZ-1
Fixes: d889913205cf ("wifi: ath12k: driver for Qualcomm Wi-Fi 7 devices")
Signed-off-by: P Praneesh <quic\_ppranees@quicinc.com>
Acked-by: Jeff Johnson <quic\_jjohnson@quicinc.com>
Signed-off-by: Kalle Valo <quic\_kvalo@quicinc.com>
Link: [https://msgid.link/20240520070045.631029-3-quic\_ppranees@quicinc.com](https://msgid.link/20240520070045.631029-3-quic_ppranees%40quicinc.com)
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)

| -rw-r--r-- | [drivers/net/wireless/ath/ath12k/hw.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/wireless/ath/ath12k/hw.c?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4) | 6 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 5 deletions

| diff --git a/drivers/net/wireless/ath/ath12k/hw.c b/drivers/net/wireless/ath/ath12k/hw.cindex b45f929a020450..2e11ea7635740c 100644--- a/[drivers/net/wireless/ath/ath12k/hw.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/wireless/ath/ath12k/hw.c?id=33322e3ef07409278a18c6919c448e369d66a18e)+++ b/[drivers/net/wireless/ath/ath12k/hw.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/wireless/ath/ath12k/hw.c?id=073f9f249eecd64ab9d59c91c4a23cfdcc02afe4)@@ -544,9 +544,6 @@ static const struct ath12k\_hw\_ring\_mask ath12k\_hw\_ring\_mask\_qcn9274 = { }, .rx\_mon\_dest = { 0, 0, 0,- ATH12K\_RX\_MON\_RING\_MASK\_0,- ATH12K\_RX\_MON\_RING\_MASK\_1,- ATH12K\_RX\_MON\_RING\_MASK\_2, }, .rx = { 0, 0, 0, 0,@@ -572,8 +569,7 @@ static const struct ath12k\_hw\_ring\_mask ath12k\_hw\_ring\_mask\_qcn9274 = { ATH12K\_HOST2RXDMA\_RING\_MASK\_0, }, .tx\_mon\_dest = {- ATH12K\_TX\_MON\_RING\_MASK\_0,- ATH12K\_TX\_MON\_RING\_MASK\_1,+ 0, 0, 0, }, }; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:19:30 +0000

