=== Content from github.com_53b7b065_20250111_013901.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcrate%2Fcrate%2Fcommit%2F1dde03bdf031a20886065195527e368e4a3218b3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcrate%2Fcrate%2Fcommit%2F1dde03bdf031a20886065195527e368e4a3218b3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=crate%2Fcrate)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[crate](/crate)
/
**[crate](/crate/crate)**
Public

* [Notifications](/login?return_to=%2Fcrate%2Fcrate) You must be signed in to change notification settings
* [Fork
  567](/login?return_to=%2Fcrate%2Fcrate)
* [Star
   4.2k](/login?return_to=%2Fcrate%2Fcrate)

* [Code](/crate/crate)
* [Issues
  285](/crate/crate/issues)
* [Pull requests
  27](/crate/crate/pulls)
* [Discussions](/crate/crate/discussions)
* [Actions](/crate/crate/actions)
* [Projects
  3](/crate/crate/projects)
* [Security](/crate/crate/security)
* [Insights](/crate/crate/pulse)

Additional navigation options

* [Code](/crate/crate)
* [Issues](/crate/crate/issues)
* [Pull requests](/crate/crate/pulls)
* [Discussions](/crate/crate/discussions)
* [Actions](/crate/crate/actions)
* [Projects](/crate/crate/projects)
* [Security](/crate/crate/security)
* [Insights](/crate/crate/pulse)

## Commit

[Permalink](/crate/crate/commit/1dde03bdf031a20886065195527e368e4a3218b3)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Set JVM variable rejectClientInitiatedRenegotiation to true by default

[Browse files](/crate/crate/tree/1dde03bdf031a20886065195527e368e4a3218b3)
Browse the repository at this point in the history

```
Mitigates <https://nvd.nist.gov/vuln/detail/cve-2021-3449>
```

* Loading branch information

[![@BaurzhanSakhariev](https://avatars.githubusercontent.com/u/7446940?s=40&v=4)](/BaurzhanSakhariev) [![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify)

[BaurzhanSakhariev](/crate/crate/commits?author=BaurzhanSakhariev "View all commits by BaurzhanSakhariev")
authored and
[mergify[bot]](/crate/crate/commits?author=mergify%5Bbot%5D "View all commits by mergify[bot]")
committed
May 23, 2024

1 parent
[d49bb79](/crate/crate/commit/d49bb79a21355b31bcc8a32bc28ae3675319a9bd)

commit 1dde03b

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**8 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* app/src/main/dist/bin

  + app/src/main/dist/bin/crate
    [crate](#diff-d507aa015e12574410f9b2aebd712b55d8a0b33e9fb178ac471c2aee31c0e271)
  + app/src/main/dist/bin/crate.bat
    [crate.bat](#diff-9e0d0140a32be4e99ec2bd02cd96e9eee2aeb91d6d558650120c4c2dd05a8903)
* docs/appendices/release-notes

  + docs/appendices/release-notes/5.7.2.rst
    [5.7.2.rst](#diff-a84195878293db74f7afd3e27e974f596322772233c9a819a44496748b8e8468)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[app/src/main/dist/bin/crate](#diff-d507aa015e12574410f9b2aebd712b55d8a0b33e9fb178ac471c2aee31c0e271 "app/src/main/dist/bin/crate")

Show comments

[View file](/crate/crate/blob/1dde03bdf031a20886065195527e368e4a3218b3/app/src/main/dist/bin/crate)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -114,7 +114,7 @@ if [ "x$CRATE\_USE\_IPV4" != "x" ]; then |
|  |  | fi |
|  |  |  |
|  |  | ## GC configuration |
|  |  | JAVA\_OPTS="$JAVA\_OPTS -XX:+UseG1GC -XX:G1ReservePercent=25 -XX:InitiatingHeapOccupancyPercent=30" |
|  |  | JAVA\_OPTS="$JAVA\_OPTS -XX:+UseG1GC -XX:G1ReservePercent=25 -XX:InitiatingHeapOccupancyPercent=30 -Djdk.tls.rejectClientInitiatedRenegotiation=true" |
|  |  |  |
|  |  | # GC logging options |
|  |  | # Set CRATE\_DISABLE\_GC\_LOGGING=1 to disable GC logging |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[app/src/main/dist/bin/crate.bat](#diff-9e0d0140a32be4e99ec2bd02cd96e9eee2aeb91d6d558650120c4c2dd05a8903 "app/src/main/dist/bin/crate.bat")

Show comments

[View file](/crate/crate/blob/1dde03bdf031a20886065195527e368e4a3218b3/app/src/main/dist/bin/crate.bat)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,7 +55,7 @@ REM Enable aggressive optimizations in the JVM |
|  |  | REM - Disabled by default as it might cause the JVM to crash |
|  |  | REM set JAVA\_OPTS=%JAVA\_OPTS% -XX:+AggressiveOpts |
|  |  |  |
|  |  | set JAVA\_OPTS=%JAVA\_OPTS% -XX:+UseG1GC -XX:G1ReservePercent=25 -XX:InitiatingHeapOccupancyPercent=30 |
|  |  | set JAVA\_OPTS=%JAVA\_OPTS% -XX:+UseG1GC -XX:G1ReservePercent=25 -XX:InitiatingHeapOccupancyPercent=30 -Djdk.tls.rejectClientInitiatedRenegotiation=true |
|  |  |  |
|  |  | REM GC logging default values |
|  |  | SET GC\_LOG\_DIR=%CRATE\_HOME%\logs |
| Expand Down | |  |

6 changes: 6 additions & 0 deletions

6
[docs/appendices/release-notes/5.7.2.rst](#diff-a84195878293db74f7afd3e27e974f596322772233c9a819a44496748b8e8468 "docs/appendices/release-notes/5.7.2.rst")

Show comments

[View file](/crate/crate/blob/1dde03bdf031a20886065195527e368e4a3218b3/docs/appendices/release-notes/5.7.2.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -43,6 +43,12 @@ Version 5.7.2 - Unreleased |
|  |  | See the :ref:`version\_5.7.0` release notes for a full list of changes in the |
|  |  | 5.7 series. |
|  |  |  |
|  |  | Security Fixes |
|  |  | ============== |
|  |  |  |
|  |  | - Fixed a security issue allowing clients using TLS v1.2 to do client-initiated |
|  |  | renegotiation which can lead to DoS. |
|  |  |  |
|  |  | Fixes |
|  |  | ===== |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `1dde03b`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcrate%2Fcrate%2Fcommit%2F1dde03bdf031a20886065195527e368e4a3218b3) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_86c9f5af_20250111_013901.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcrate%2Fcrate%2Fsecurity%2Fadvisories%2FGHSA-x268-qpg6-w9g2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcrate%2Fcrate%2Fsecurity%2Fadvisories%2FGHSA-x268-qpg6-w9g2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=crate%2Fcrate)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[crate](/crate)
/
**[crate](/crate/crate)**
Public

* [Notifications](/login?return_to=%2Fcrate%2Fcrate) You must be signed in to change notification settings
* [Fork
  567](/login?return_to=%2Fcrate%2Fcrate)
* [Star
   4.2k](/login?return_to=%2Fcrate%2Fcrate)

* [Code](/crate/crate)
* [Issues
  285](/crate/crate/issues)
* [Pull requests
  27](/crate/crate/pulls)
* [Discussions](/crate/crate/discussions)
* [Actions](/crate/crate/actions)
* [Projects
  3](/crate/crate/projects)
* [Security](/crate/crate/security)
* [Insights](/crate/crate/pulse)

Additional navigation options

* [Code](/crate/crate)
* [Issues](/crate/crate/issues)
* [Pull requests](/crate/crate/pulls)
* [Discussions](/crate/crate/discussions)
* [Actions](/crate/crate/actions)
* [Projects](/crate/crate/projects)
* [Security](/crate/crate/security)
* [Insights](/crate/crate/pulse)

# Client initialized Session-Renegotiation DoS

Moderate

[seut](/seut)
published
GHSA-x268-qpg6-w9g2
Jun 13, 2024

## Package

CrateDB

## Affected versions

< 5.7.2

## Patched versions

5.7.2

## Description

Important

We have released CrateDB 5.7.2 with TLS renegotiation disabled by default. To mitigate this issue in earlier versions, please use the flag `-Djdk.tls.rejectClientInitiatedRenegotiation=true` when running CrateDB. As noted in the description, a potential attack vector requires network access to the cluster. This risk can also be mitigated by disabling network access to the cluster, for example, by using the IP allowlist feature in CrateDB Cloud.

---

**Summary**

Client-Initiated TLS Renegotiation Denial of Service (DoS) Vulnerability at Port 4200

**Details**

A high-risk vulnerability has been identified where the TLS endpoint (port 4200) permits client-initiated renegotiation. In this scenario, an attacker can exploit this feature to repeatedly request renegotiation of security parameters during an ongoing TLS session. This flaw could lead to excessive consumption of CPU resources, resulting in potential server overload and service disruption. The vulnerability was confirmed using an openssl client where the command 'R' initiates renegotiation, followed by the server confirming with 'RENEGOTIATING'.

**PoC**

1. Connect to the TLS server on port 4200 using an openssl client.
2. Initiate a TLS session.
3. Send the renegotiation command ('R') multiple times.
4. Observe the server response to confirm renegotiation.

**Impact**

This vulnerability allows an attacker to perform a denial of service attack by exhausting server CPU resources through repeated TLS renegotiations. This impacts the availability of services running on the affected server, posing a significant risk to operational stability and security.

TLS 1.3 explicitly forbids renegotiation, since it closes a window of opportunity for an attack.

### Severity

Moderate

5.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L

### CVE ID

CVE-2024-37309

### Weaknesses

No CWEs

### Credits

* [![@BaurzhanSakhariev](https://avatars.githubusercontent.com/u/7446940?s=40&v=4)](/BaurzhanSakhariev)
  [BaurzhanSakhariev](/BaurzhanSakhariev)
  Remediation developer

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from cratedb.com_f13f8500_20250111_013900.html ===


Contents

Menu

Expand

Light mode

Dark mode

[Skip to content](#main-content)

* Product
  + Database
    - [Overview](https://cratedb.com/database)
    - [CrateDB Cloud](https://cratedb.com/database/cloud)
    - [CrateDB Self-Managed](https://cratedb.com/database/self-managed)
    - [SQL examples](https://cratedb.com/database/sql-examples)
    - [Integrations](https://cratedb.com/database/integrations)
    - [Security](https://cratedb.com/database/security)
  + Data models
    - [Time-series](https://cratedb.com/data-model/time-series)
    - [Document/JSON](https://cratedb.com/data-model/json)
    - [Vector](https://cratedb.com/data-model/vector)
    - [Full-text](https://cratedb.com/data-model/full-text)
    - [Spatial](https://cratedb.com/data-model/geospatial)
    - [Relational](https://cratedb.com/data-model/relational)
* Use cases
  + [AI/ML integration](https://cratedb.com/use-cases/ai-ml-database)
  + [AI-powered chatbots](https://cratedb.com/use-cases/chatbots)
  + [Internet of Things](https://cratedb.com/use-cases/iot-database)
  + [Digital twins](https://cratedb.com/use-cases/digital-twins-database)
  + [Geospatial analytics](https://cratedb.com/use-cases/geospatial-analytics)
  + [Log & event analysis](https://cratedb.com/use-cases/log-database)
  + [Database consolidation](https://cratedb.com/use-cases/database-consolidation)
* Industries
  + [Energy](https://cratedb.com/industries/energy)
  + [Financial Services](https://cratedb.com/industries/financial-services)
  + [FMCG](https://cratedb.com/industries/fmcg)
  + [Logistics](https://cratedb.com/industries/logistics)
  + [Manufacturing](https://cratedb.com/industries/manufacturing)
  + [Oil, gas & mining](https://cratedb.com/industries/oil-gas-mining)
  + [Smart city solutions](https://cratedb.com/industries/smart-cities)
  + [Technology platforms](https://cratedb.com/industries/tech-platforms)
  + [Telco](https://cratedb.com/industries/telco)
  + [Transportation](https://cratedb.com/industries/transportation)
* Resources
  + [Customer stories](https://cratedb.com/stories)
  + [Academy](https://cratedb.com/academy)
  + [Asset library](https://cratedb.com/library)
  + [Blog](https://cratedb.com/blog)
  + [Events](https://cratedb.com/event)
* Developer
  + [Documentation](/docs/guide/home/)
  + [Drivers and tools](https://cratedb.com/database/drivers-tools)
  + [Community](https://cratedb.com/community)
  + [GitHub](https://github.com/crate/crate/)
  + [Support](https://cratedb.com/support)
* [Pricing](https://cratedb.com/pricing)
* [Login](https://console.cratedb.cloud/?utm_source=website&utm_medium=mainnav&utm_campaign=cratedbcloud)
* [Get Started](https://cratedb.com/product/get-started/)

* [Docs Home](/docs/guide/home/)
* [CrateDB Cloud](/docs/cloud/)
* [Guides and Tutorials](/docs/guide/)
* [Reference Manual](../../index.html)
  + [Concepts](../../concepts/index.html)
  + [CLI tools](../../cli-tools.html)
  + [Configuration](../../config/index.html)
  + [General use](../../general/index.html)
  + [Administration](../../admin/index.html)
  + [SQL syntax](../../sql/index.html)
  + [Client interfaces](../../interfaces/index.html)
  + [Appendices](../index.html)
    - [Release Notes](index.html)
      * [Versions](index.html#versions)
      * [Older Versions](index.html#older-versions)
    - [SQL compatibility](../compatibility.html)
    - [SQL standard compliance](../compliance.html)
    - [Resiliency Issues](../resiliency.html)
    - [Glossary](../glossary.html)
* [Admin UI](/docs/crate/admin-ui/)
* [CrateDB CLI](/docs/crate/crash/)
* [Cloud CLI](/docs/cloud/cli/)
* [Drivers and Integrations](/docs/crate/clients-tools/)
* [Support](/support/)
* [Community](https://community.cratedb.com/)
* [Integration Tutorials](https://community.cratedb.com/t/overview-of-cratedb-integration-tutorials/1015)
* [Sample Applications](https://github.com/crate/crate-sample-apps)
* [Academy](https://learn.cratedb.com)

# Version 5.7.2[¶](#version-5-7-2 "Permalink to this heading")

Released on 2024-06-12.

Note

If you are upgrading a cluster, you must be running CrateDB 4.0.2 or higher
before you upgrade to 5.7.2.

We recommend that you upgrade to the latest 5.6 release before moving to
5.7.2.

A rolling upgrade from 5.6.x to 5.7.2 is supported.

Before upgrading, you should [back up your data](https://crate.io/docs/crate/reference/en/latest/admin/snapshots.html).

Warning

Tables that were created before CrateDB 4.x will not function with 5.x
and must be recreated before moving to 5.x.x.

You can recreate tables using `COPY TO` and `COPY FROM` or by
[inserting the data into a new table](https://crate.io/docs/crate/reference/en/latest/admin/system-information.html#tables-need-to-be-recreated).

Table of contents

* [Security Fixes](#security-fixes)
* [Fixes](#fixes)

See the [Version 5.7.0](5.7.0.html#version-5-7-0) release notes for a full list of changes in the
5.7 series.

## [Security Fixes](#id2)[¶](#security-fixes "Permalink to this heading")

* Disabled client-initiated renegotiation for TLS by default.
  This helps prevent Denial of Service (DoS) attacks.

## [Fixes](#id3)[¶](#fixes "Permalink to this heading")

* Fixed an issue that prevented users with [DDL](../../admin/privileges.html#privilege-types)
  privileges on table to execute
  [ALTER TABLE t REROUTE…](../../general/ddl/alter-table.html#ddl-reroute-shards) statements.
* Fixed an issue that could lead to requests getting stuck when trying to
  download a blob via HTTPS.
* Fixed an issue leading to slow query processing during the analysis phase,
  when the `WHERE` clause of a query contains columns of a
  [PRIMARY KEY](../../general/ddl/constraints.html#constraints-primary-key) and combines them using complex
  logical expressions, e.g.:

  ```
  SELECT * FROM t WHERE pk_col1 = ? AND pk_col2 = ? OR
                        pk_col1 = ? AND pk_col2 = ? OR
                        ...

  ```
* Fixed an issue leading to a `UnsupportedFeatureException` when using a
  correlated sub-query in a case function as part of a select statement where
  some of its outputs weren’t used in the outer-query.
* Fixed an issue leading to a `ArrayIndexOutOfBoundsException` instead of a
  user friendly error message when the `WHERE` clause of a query contains
  all columns of a [PRIMARY KEY](../../general/ddl/constraints.html#constraints-primary-key), uses
  parameters for them, and binds less actual values than the required, e.g.:

  ```
  SELECT * FROM t WHERE pk_col1 = ? AND pk_col2 = ? AND pk_col3 = ?

  ```

  and less than 3 values are provided.
* Added memory accounting for multi-phase execution to prevent out-of-memory
  errors caused by sub-queries such as `SELECT * FROM t1 WHERE id IN
  (SELECT id FROM t2)` or lookup-joins with large intermediate results.
* Fixed an issue that caused `WHERE` clause to fail to filter rows when
  the clause contained `CONCAT`, `CURRENT_SETTING`,
  `PG_GET_FUNCTION_RESULT`, or `PG_ENCODING_TO_CHAR` scalar functions under
  `NOT` operator.
* Fixed an issue leading to restoring data into wrong tables when restoring a
  snapshot with partitioned tables using one of the renaming parameters
  `schema_rename_pattern`, `schema_rename_replacement`,
  `table_rename_pattern` or `table_rename_replacement`. Renamed table was
  created but used to be empty.
* Fixed an issue that prevented users with `DQL` privilege on a view to be
  able to query the view when foreign tables are referenced by the view.
* Fixed an issue leading to a `ArrayIndexOutOfBoundsException` when using a
  correlated sub-query where some of its outputs weren’t used in a parent
  query.
* Fixed an issue that could lead to out-of-memory errors when executing
  `lead` or `lag` window functions on a large table.
* Fixed an issue that could lead to errors when loading data from geo\_point
  fields inside nested arrays.
* Fixed an issue that caused `SQLParseException` when the results returned
  from foreign tables could not be casted to CrateDB specific data types.
* Fixed an issue that allowed dropped users to run queries if active user was
  set by `SET SESSION AUTHORIZATION` and then dropped.
* Fixed an issue leading to authentication errors when
  [Host-Based Authentication](../../admin/auth/hba.html#admin-hba) was enabled and had entries
  matching multiple authentication methods simultaneously, e.g.:

  ```
  auth.host_based.config.1.method=password
  auth.host_based.config.2.method=jwt
  auth.host_based.config.2.protocol=http

  ```

  This example configuration were rejecting authentication via JWT as only
  the first entry was checked.

[Next

Version 5.7.1](5.7.1.html)
[Previous

Version 5.7.3](5.7.3.html)

  Feedback

[Suggest improvement](https://github.com/crate/crate/issues/new?title=Documentation%20feedback%20on%20/docs/appendices/release-notes/5.7.2.rst&labels=team:%20tech%20writing,triage&body=%23%23%23%20Documentation%20feedback%0A%0A%3C%21--%20Please%20do%20not%20edit%20or%20remove%20the%20following%20information%20--%3E%0A %0A- Page title: Version%205.7.2%0A- Page URL: https%3A//cratedb.com/docs/crate/reference/en/latest/appendices/release-notes/5.7.2.html%0A-%20Source%3A%20https%3A//github.com/crate/crate/blob/5.9/docs/appendices/release-notes/5.7.2.rst%0A%0A---%0A%0A%3C%21--%20Please%20add%20your%20comments%20here%20--%3E%0A%0A "Suggest improvement")

[Edit page](https://github.com/crate/crate/edit/5.9/docs/appendices/release-notes/5.7.2.rst "Edit on GitHub")

[View page source](https://github.com/crate/crate/blob/5.9/docs/appendices/release-notes/5.7.2.rst?plain=1 "View page source on GitHub")

latest

Toggle Light / Dark color theme

On this page

* Version 5.7.2
  + [Security Fixes](#security-fixes)
  + [Fixes](#fixes)

#### Subscribe to the CrateDB Newsletter now

* [Imprint](/legal/imprint)
* [Contact](/contact)
* [Legal](/legal/)

Follow us
[Follow us on X](https://twitter.com/cratedb)
[Follow us on LinkedIn](https://www.linkedin.com/company/crateio/)
[Follow us on Facebook](https://www.facebook.com/crate.io/)
[Follow us on Instagram](https://www.youtube.com/user/CrateIO)
[Follow us on Facebook](https://github.com/crate/crate)


