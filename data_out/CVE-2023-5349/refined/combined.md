=== Content from bugzilla.redhat.com_f63f2294_20250110_234827.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2247064)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2247064)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2247064)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2247064

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2247064**](show_bug.cgi?id=2247064)
(CVE-2023-5349)
- [CVE-2023-5349](https://access.redhat.com/security/cve/CVE-2023-5349) rubygem-rmagick: Memory leak by Magick::Draw while calling GetDrawInfo()

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2023-5349 rubygem-rmagick: Memory leak by Magick::Draw while calling GetD...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | NEW | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2023-5349 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [2247065](show_bug.cgi?id=2247065 "CLOSED ERRATA - CVE-2023-5349 rubygem-rmagick: Memory leak by Magick::Draw while calling GetDrawInfo() [fedora-37]") [2247304](show_bug.cgi?id=2247304 "CLOSED DUPLICATE - CVE-2023-5349 rubygem-rmagick: Memory leak by Magick::Draw while calling GetDrawInfo() [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [2247066](show_bug.cgi?id=2247066) | | TreeView+ | [depends on](buglist.cgi?bug_id=2247064&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2247064&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2023-10-30 14:13 UTC by Pedro Sampaio | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-10-31 19:02 UTC ([History](show_activity.cgi?id=2247064)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  amasferr chazlett mkudlej tjochec | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A memory leak flaw was found in ruby-magick, an interface between Ruby and ImageMagick. This issue can lead to a denial of service (DOS) by memory exhaustion. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2247064#c0)  Pedro Sampaio    2023-10-30 14:13:17 UTC  ``` A memory leak was found in ruby-magick an interface between Ruby and ImageMagick, that could lead to a Deny of Service (DOS) by memory exhaustion.  References:  <https://github.com/rmagick/rmagick/issues/1401> <https://github.com/rmagick/rmagick/pull/1406>   ```  [Comment 1](show_bug.cgi?id=2247064#c1)  Pedro Sampaio    2023-10-30 14:13:31 UTC  ``` Created rubygem-rmagick tracking bugs for this issue:  Affects: fedora-all [[bug 2247065](show_bug.cgi?id=2247065 "CLOSED ERRATA - CVE-2023-5349 rubygem-rmagick: Memory leak by Magick::Draw while calling GetDrawInfo() [fedora-37]")]   ```  [Comment 3](show_bug.cgi?id=2247064#c3)  Patrick Del Bello    2023-10-31 19:02:53 UTC  ``` Created rubygem-rmagick tracking bugs for this issue:  Affects: fedora-all [[bug 2247304](show_bug.cgi?id=2247304 "CLOSED DUPLICATE - CVE-2023-5349 rubygem-rmagick: Memory leak by Magick::Draw while calling GetDrawInfo() [fedora-all]")]   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2247064&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_ca34e471_20250110_234826.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2024 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_de54e22f_20250110_234828.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frmagick%2Frmagick%2Fissues%2F1401)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frmagick%2Frmagick%2Fissues%2F1401)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=rmagick%2Frmagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rmagick](/rmagick)
/
**[rmagick](/rmagick/rmagick)**
Public

* [Notifications](/login?return_to=%2Frmagick%2Frmagick) You must be signed in to change notification settings
* [Fork
  138](/login?return_to=%2Frmagick%2Frmagick)
* [Star
   711](/login?return_to=%2Frmagick%2Frmagick)

* [Code](/rmagick/rmagick)
* [Issues
  10](/rmagick/rmagick/issues)
* [Pull requests
  3](/rmagick/rmagick/pulls)
* [Actions](/rmagick/rmagick/actions)
* [Projects
  0](/rmagick/rmagick/projects)
* [Wiki](/rmagick/rmagick/wiki)
* [Security](/rmagick/rmagick/security)
* [Insights](/rmagick/rmagick/pulse)

Additional navigation options

* [Code](/rmagick/rmagick)
* [Issues](/rmagick/rmagick/issues)
* [Pull requests](/rmagick/rmagick/pulls)
* [Actions](/rmagick/rmagick/actions)
* [Projects](/rmagick/rmagick/projects)
* [Wiki](/rmagick/rmagick/wiki)
* [Security](/rmagick/rmagick/security)
* [Insights](/rmagick/rmagick/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Frmagick%2Frmagick%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Frmagick%2Frmagick%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Huge memory consumption with latest imagemagick@6 update #1401

Closed

[ccbcreg](/ccbcreg) opened this issue
Jul 7, 2023
· 28 comments
 · Fixed by [#1406](https://github.com/rmagick/rmagick/pull/1406)

Closed

# [Huge memory consumption with latest imagemagick@6 update](#top) #1401

[ccbcreg](/ccbcreg) opened this issue
Jul 7, 2023
· 28 comments
 · Fixed by [#1406](https://github.com/rmagick/rmagick/pull/1406)

## Comments

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=80&v=4)](/ccbcreg)

Copy link

### **[ccbcreg](/ccbcreg)** commented [Jul 7, 2023](#issue-1793583138) • edited Loading

| Description Long running ruby process creating images with rmagick consumes massive amounts of memory since most recent ImageMagick-6.9.12-90.tar.gz release. Steps to Reproduce Install latest imagemagick@6 ([https://formulae.brew.sh/api/formula/imagemagick@6.json](https://formulae.brew.sh/api/formula/imagemagick%406.json)) and install rmagick 5.2.0. Long running ruby process to create thousands of graph images. Process consumes way more memory that cripples host machine.  I'm suggesting this memory issue is a result of the latest security updates to ImageMagick 6. I understand this might not be the right place for this issue but I figured I'd start here first.  /usr/local/Cellar/imagemagick@6/6.9.12-67 => 248mbs of memory that plateaus out. /usr/local/Cellar/imagemagick@6/6.9.12-90 => 7Gigs of memory that keeps accruing exponentially  This issue has come up since the latest ImageMagick release (ImageMagick-6.9.12-90.tar.gz) which came out June 25th 2023 and subsequent Ubuntu packages (imagemagickwand-dev [8:6.9.10.23+dfsg-2.1ubuntu11.9]) and MacOS (imagemagick@6 /usr/local/Cellar/imagemagick@6/6.9.12-90). System Configuration Ubuntu 20 LTS (8:6.9.10.23+dfsg-2.1ubuntu11.9 [security]: amd64 i386) MacOS 12.6.7 ([https://formulae.brew.sh/api/formula/imagemagick@6.json](https://formulae.brew.sh/api/formula/imagemagick%406.json))   * ImageMagick version: ImageMagick-6.9.12-90 * RMagick version: 5.2.0 * Ruby version: 3.1.2 * Environment (Operating system, version and so on): MacOS 12.6.7, Ubuntu 20 LTS * Additional information:   In both MacOS and Ubuntu 20 LTS with the same code ruby app memory consumption increases exponentially until, in the case of Ubuntu 20 LTS, the process is killed.  <https://www.ubuntuupdates.org/package/core/focal/universe/updates/imagemagick>  imagemagickwand-dev [8:6.9.10.23+dfsg-2.1ubuntu11.7] works great! imagemagickwand-dev [8:6.9.10.23+dfsg-2.1ubuntu11.9] memory hog, kills process  [https://github.com/Homebrew/homebrew-core/blob/master/Formula/imagemagick@6.rb](https://github.com/Homebrew/homebrew-core/blob/master/Formula/imagemagick%406.rb)  [imagemagick@6: update 6.9.12-67 bottle.]<https://github.com/Homebrew/homebrew-core/blob/b8ea6da2121433feb4fb67a47b2600c9e54e7402/Formula/imagemagick%406.rb> works great!  [imagemagick@6: update 6.9.12-90 bottle.](https://github.com/Homebrew/homebrew-core/commit/8538e43f6e405627220197e571d5aff81c05e7af) memory hog, kills process Steps I've tried to free up memory Tried to use #destroy!  ```   image = Magick::Image.read(file)   image.format = "PNG"   image.write("/home/png/#{File.basename(file, '.*')}.png")   image.destroy!  ```  Tried to nil out image object  ``` image = Magick::Image.read(file) image.format = "PNG" image.write("/home/png/#{File.basename(file, '.*')}.png") image = nil  ```  and even GC.start  ``` image = Magick::Image.read(file) image.format = "PNG" image.write("/home/png/#{File.basename(file, '.*')}.png") GC.start  ```  Memory consumption increases exponentially with newest imagemagick security release. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@mockdeep](https://avatars.githubusercontent.com/u/80543?s=80&v=4)](/mockdeep)

Copy link

Member

### **[mockdeep](/mockdeep)** commented [Jul 7, 2023](#issuecomment-1625936435)

| This looks like maybe an issue that should be reported over on [the ImageMagick repo](https://github.com/ImageMagick/ImageMagick6). [@Watson1978](https://github.com/Watson1978) [@dlemstra](https://github.com/dlemstra) thoughts? |
| --- |

All reactions

Sorry, something went wrong.

[![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=80&u=f64f58f4530fb50610d9849a58d7d18834e8f480&v=4)](/dlemstra)

Copy link

Member

### **[dlemstra](/dlemstra)** commented [Jul 7, 2023](#issuecomment-1626008873)

| This sounds like a memory leak and it is probably happening on the ImageMagick side. But please first figure out where the leak is happening before creating an issue. It could also be an issue on the RMagick side. |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 8, 2023](#issuecomment-1627388467)

| [@ccbcreg](https://github.com/ccbcreg) Hmm, I can't reproduce your problem with your code. I need more detailed information you handled about format of the file, etc. |
| --- |

All reactions

Sorry, something went wrong.

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=80&v=4)](/ccbcreg)

Copy link

Author

### **[ccbcreg](/ccbcreg)** commented [Jul 12, 2023](#issuecomment-1631663533)

| Hi there. Thank you for getting back to me, I appreciate your efforts and time. Re: specifics of my app that uses RMagick (rmagick 5.1.0), it's a Rails app (7.0.4) with a rake task that creates graphs PNGs. The code has worked with many versions of Ruby, 2 thru 3.1.2, with many versions of Rails and equally many versions of ImageMagick for 10+ years. There is a rake task that produces several thousand images and has never taken that much memory in the past. It just worked until Imagemagick@6/6.9.12-90.  I've been able to downgrade the Homebrew formula to ImageMagick-6.9.12-89 (<https://github.com/Homebrew/homebrew-core/blob/a11ef4c74f71eda747b9cbd17205c9c7ac9f1040/Formula/imagemagick%406.rb>) and everything works fine. I went back to ImageMagick-6.9.12-67 and everything worked fine. I never changed the ruby code after trying what I mentioned in my original post above. I was also able to downgrade the Ubuntu 20 LTS package as well which works too.  ``` ccbcreg@hostyhost:~$ apt policy libmagickwand-dev libmagickwand-dev:   Installed: 8:6.9.10.23+dfsg-2.1ubuntu11.9   Candidate: 8:6.9.10.23+dfsg-2.1ubuntu11.9   Version table:  *** 8:6.9.10.23+dfsg-2.1ubuntu11.9 500         500 http://mirror.rackspace.com/ubuntu focal-updates/universe amd64 Packages         500 http://mirror.rackspace.com/ubuntu focal-security/universe amd64 Packages         100 /var/lib/dpkg/status      8:6.9.10.23+dfsg-2.1ubuntu11 500         500 http://mirror.rackspace.com/ubuntu focal/universe amd64 Packages  ```  Then downgrade to the `8:6.9.10.23+dfsg-2.1ubuntu11` version via  ``` sudo apt-get install imagemagick=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install imagemagick-6-common=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickcore-6-headers=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickcore-6-arch-config=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickcore-6.q16-6=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickcore-6.q16-6-extra=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickcore-6.q16-dev=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickwand-6-headers=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickwand-6.q16-6=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickwand-6.q16-dev=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades  sudo apt-get install libmagickwand-dev=8:6.9.10.23+dfsg-2.1ubuntu11 -y --allow-downgrades   ```  I'm not proud of my capitulation but I had to get back on track and produce builds. [@mockdeep](https://github.com/mockdeep) and [@dlemstra](https://github.com/dlemstra), I tend to agree that this is a ImageMagick repo thing but I haven't a clue how to debug C much less track down the memory leak between those two releases, ImageMagick-6.9.12-89 to ImageMagick-6.9.12-90. I'm out of my depth there. However, I can say with a bit of confidence that I don't think it is something on the rmagick/ruby side since the negative behavior is only present with one version of ImageMagick. I thought at the very least I should point it out and bring it to your attention. If I have time, I'll create an example and see if I can demonstrate the issue with real code.  Thank you again for your time, much appreciated. |
| --- |

All reactions

Sorry, something went wrong.

[![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=80&u=f64f58f4530fb50610d9849a58d7d18834e8f480&v=4)](/dlemstra)

Copy link

Member

### **[dlemstra](/dlemstra)** commented [Jul 12, 2023](#issuecomment-1632144225)

| It would help if you could constrain how this can be reproduced. Is it a specific input image that reproduces this? Does this only happen when the output format is `png`? |
| --- |

All reactions

Sorry, something went wrong.

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=80&v=4)](/ccbcreg)

Copy link

Author

### **[ccbcreg](/ccbcreg)** commented [Jul 12, 2023](#issuecomment-1632284227)

| No input image, I'm using the [gruff gem](https://github.com/topfunky/gruff) to produce graphs populated with data from a database. All of the images are `png` format, I've never used any other image format. I'll see if I can produce a rails app that can reproduce the problem. |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 12, 2023](#issuecomment-1632375123)

| [@ccbcreg](https://github.com/ccbcreg) Thank you for the info. I will try again at this weekend. ( If you can create the Dockerfile, it will help us to reproduce the issue. ) |
| --- |

All reactions

Sorry, something went wrong.

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=80&v=4)](/ccbcreg)

Copy link

Author

### **[ccbcreg](/ccbcreg)** commented [Jul 12, 2023](#issuecomment-1632639109) • edited Loading

| Okay, I've produced a [simple Rails app](https://github.com/ccbcreg/rmagick-memory) using the same [gruff gem](https://github.com/topfunky/gruff) and iterates over the [example](https://github.com/topfunky/gruff#usage) from the gruff [README.md](https://github.com/topfunky/gruff#readme). When run, you should see the memory usage of that process blow up until the process is killed.  When I downgrade the ImageMagick version to less than ImageMagick-6.9.12-90. Everything works peachy. I'm sorry I don't have a Dockerfile for you [@Watson1978](https://github.com/Watson1978). I don't know how to create a Docker image quickly enough to produce this example.  Please let me know what else I can do or if you have any questions re: the [example](https://github.com/ccbcreg/rmagick-memory).  [@Watson1978](https://github.com/Watson1978), perhaps worth noting. I've tried this app with both gruff version 0.8.0, which was the version I'm currently using in instance, and gruff version 0.22.0. Both fail with ImageMagick-6.9.12-90 and both work with less than ImageMagick-6.9.12-90. |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 14, 2023](#issuecomment-1636259178) • edited Loading

| [@ccbcreg](https://github.com/ccbcreg) Thanks for your works!  Seems certainly memory usage increases linearly when we use `Magick::Draw` to render image. Sample ``` require 'rmagick'  3000.times do |i|   img = Magick::Image.new(1000, 1000)    gc = Magick::Draw.new   gc.text(0, 67, 'Hello world!!')   gc.draw(img) end ``` Result |
| --- |

All reactions

Sorry, something went wrong.

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=80&v=4)](/ccbcreg)

Copy link

Author

### **[ccbcreg](/ccbcreg)** commented [Jul 14, 2023](#issuecomment-1636355029)

| Yep, that's what I'm seeing too. Thank you [@Watson1978](https://github.com/Watson1978) for taking a look. |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 15, 2023](#issuecomment-1636684139)

| At least, this memory leaks has occurred since ImageMagick-6.9.12-78 on my environment.  If I revert magick/draw.c changing at ImageMagick-6.9.12-78, the memory leaks were stopped. [ImageMagick/ImageMagick6@6.9.12-77...6.9.12-78](https://github.com/ImageMagick/ImageMagick6/compare/6.9.12-77...6.9.12-78)  [@dlemstra](https://github.com/dlemstra) Can you look magick/draw.c changing ? I don't understand details of changing yet |
| --- |

All reactions

Sorry, something went wrong.

[![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=80&u=f64f58f4530fb50610d9849a58d7d18834e8f480&v=4)](/dlemstra)

Copy link

Member

### **[dlemstra](/dlemstra)** commented [Jul 15, 2023](#issuecomment-1636695291)

| Thanks for all the information, will take a look at this today. Were you also able to reproduce this on the command line [@Watson1978](https://github.com/Watson1978)? |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 15, 2023](#issuecomment-1636695452)

| Looks for me that `draw_info->image_info=CloneImageInfo(image_info);` line is one of memory leaks, at least. [スクリーンショット 2023-07-15 16 13 51](https://private-user-images.githubusercontent.com/199156/253726084-ff17c667-322b-4ac5-b1de-0eb2a3eba181.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NTMyMDgsIm5iZiI6MTczNjU1MjkwOCwicGF0aCI6Ii8xOTkxNTYvMjUzNzI2MDg0LWZmMTdjNjY3LTMyMmItNGFjNS1iMWRlLTBlYjJhM2ViYTE4MS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTEwJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDExMFQyMzQ4MjhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1mMWZlNmM1ZDA0YTk1MWM2ZDU0MTQzOWRmNzgwMWJkNGM5MjBmNDQzZjg3M2RmY2VkMzA5ODBjYTZhMGM2ZmZkJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.uIjiiOhSjub--i7QK1aYQlxqVGJ94EXX7VXNTtEvpG0) |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 15, 2023](#issuecomment-1636695902)

| Thanks for all the information, will take a look at this today. Were you also able to reproduce this on the command line [@Watson1978](https://github.com/Watson1978)?   1. save the sample code in [Huge memory consumption with latest imagemagick@6 update #1401 (comment)](https://github.com/rmagick/rmagick/issues/1401#issuecomment-1636259178) as `rmagick.rb` 2. run `ruby rmagick.rb` on your terminal |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 15, 2023](#issuecomment-1636700249)

| ``` diff --git a/magick/draw.c b/magick/draw.c index cc62082d2..2eea18deb 100644 --- a/magick/draw.c +++ b/magick/draw.c @@ -382,6 +382,8 @@ MagickExport DrawInfo *CloneDrawInfo(const ImageInfo *image_info,      clone_info->composite_mask=CloneImage(draw_info->composite_mask,0,0,        MagickTrue,&draw_info->composite_mask->exception);    clone_info->render=draw_info->render; +  if (clone_info->image_info != (ImageInfo *) NULL) +    clone_info->image_info=DestroyImageInfo(clone_info->image_info);    clone_info->image_info=CloneImageInfo(draw_info->image_info);    clone_info->debug=draw_info->debug;    return(clone_info); ```  At least, looks for me that CloneDrawInfo() requires freeing because `clone_info->image_info` has allocated memory by `draw_info->image_info=CloneImageInfo(image_info);`.  Better, but the memory leak is still not completely gone.... |
| --- |

All reactions

Sorry, something went wrong.

[![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=80&u=f64f58f4530fb50610d9849a58d7d18834e8f480&v=4)](/dlemstra)

Copy link

Member

### **[dlemstra](/dlemstra)** commented [Jul 15, 2023](#issuecomment-1636777233)

| I can reproduce this issue inside a devcontainer that has memory leak detection with the following command `convert -size 100x100 xc:red -draw "text 0,0 'Test'" info:`. I am getting this output:  ``` ==23898==ERROR: LeakSanitizer: detected memory leaks  Direct leak of 16792 byte(s) in 1 object(s) allocated from:     #0 0x55abf1cca31e in malloc (/ImageMagick6/bin/convert+0x40d31e) (BuildId: f3ec29cd8d94404a9ac8abc138264e7e97337fb7)     #1 0x55abf1d2f3a5 in AcquireMagickMemory (/ImageMagick6/bin/convert+0x4723a5) (BuildId: f3ec29cd8d94404a9ac8abc138264e7e97337fb7)     #2 0x55abf1d0fe30 in AcquireImageInfo (/ImageMagick6/bin/convert+0x452e30) (BuildId: f3ec29cd8d94404a9ac8abc138264e7e97337fb7)     #3 0x55abf1d15b08 in CloneImageInfo (/ImageMagick6/bin/convert+0x458b08) (BuildId: f3ec29cd8d94404a9ac8abc138264e7e97337fb7)     #4 0x55abf20a1c68 in GetDrawInfo (/ImageMagick6/bin/convert+0x7e4c68) (BuildId: f3ec29cd8d94404a9ac8abc138264e7e97337fb7)     #5 0x55abf20a28a1 in CloneDrawInfo (/ImageMagick6/bin/convert+0x7e58a1) (BuildId: f3ec29cd8d94404a9ac8abc138264e7e97337fb7)     #6 0x55abf20af265 in RenderMVGContent draw.c  ```  I suspect that we don't destroy the `CloneDrawInfo`. I will investigate this and come back to you. |
| --- |

All reactions

Sorry, something went wrong.

[![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=80&u=f64f58f4530fb50610d9849a58d7d18834e8f480&v=4)](/dlemstra)

Copy link

Member

### **[dlemstra](/dlemstra)** commented [Jul 16, 2023](#issuecomment-1636982523)

| This commit should resolve the issue: [ImageMagick/ImageMagick6@c90e79b](https://github.com/ImageMagick/ImageMagick6/commit/c90e79b3b22fec309cab55af2ee606f71b027b12). It fixed the issue on the command line. Does this not resolve your issue [@Watson1978](https://github.com/Watson1978)? |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 16, 2023](#issuecomment-1637012317) • edited Loading

| I tried HEAD of main in ImageMagick 6, however, seems it still has the memory leak little by little. |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 16, 2023](#issuecomment-1637022352) • edited Loading

| Now, RMagick calls `AcquireDrawInfo()` and `GetDrawInfo()`.   [rmagick/ext/RMagick/rmdraw.c](https://github.com/rmagick/rmagick/blob/e7d5148d1ebebdc462eecd0a4e2de835878528e0/ext/RMagick/rmdraw.c#L1412-L1431)  Lines 1412 to 1431 in [e7d5148](/rmagick/rmagick/commit/e7d5148d1ebebdc462eecd0a4e2de835878528e0)   |  | DrawOptions\_initialize(VALUE self) | | --- | --- | |  | { | |  | Draw \*draw\_options; | |  |  | |  | TypedData\_Get\_Struct(self, Draw, &rm\_draw\_data\_type, draw\_options); | |  | draw\_options->info = AcquireDrawInfo(); | |  | if (!draw\_options->info) | |  | { | |  | rb\_raise(rb\_eNoMemError, "not enough memory to continue"); | |  | } | |  |  | |  | GetDrawInfo(NULL, draw\_options->info); | |  |  | |  | if (rb\_block\_given\_p()) | |  | { | |  | rb\_yield(self); | |  | } | |  |  | |  | return self; | |  | } |      Seems `GetDrawInfo()` will cause memory leak...  MEMO)  `AcquireDrawInfo()` has called `GetDrawInfo()` internally.  ``` MagickExport DrawInfo *AcquireDrawInfo(void) {   DrawInfo     *draw_info;    draw_info=(DrawInfo *) AcquireCriticalMemory(sizeof(*draw_info));   GetDrawInfo((ImageInfo *) NULL,draw_info);   return(draw_info); } ```  <https://github.com/ImageMagick/ImageMagick6/blob/24a88a922df011830dde8329825b6ded73209db8/magick/draw.c#L235C1-L243C2>  So, RMagick's `GetDrawInfo()` calling is unnecessary, maybe...     [rmagick/ext/RMagick/rmdraw.c](https://github.com/rmagick/rmagick/blob/e7d5148d1ebebdc462eecd0a4e2de835878528e0/ext/RMagick/rmdraw.c#L1423)  Line 1423 in [e7d5148](/rmagick/rmagick/commit/e7d5148d1ebebdc462eecd0a4e2de835878528e0)   |  | GetDrawInfo(NULL, draw\_options->info); | | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 16, 2023](#issuecomment-1637026348)

| Looks for me that `GetDrawInfo()` is not considered to be called multiple times.  ```   (void) memset(draw_info,0,sizeof(*draw_info));   draw_info->image_info=CloneImageInfo(image_info);  ```  `draw_info->image_info` might already have allocated memory. However, it reset an address by `memset()` and allocate new memory.... |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
mentioned this issue
[Jul 16, 2023](#ref-pullrequest-1806506461)

[Fix memory leak in `Magick::Draw` for recentry ImageMagick 6 by removing unnecessary `GetDrawInfo()` calling
#1406](/rmagick/rmagick/pull/1406)
 Merged

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Jul 16, 2023](#issuecomment-1637030865)

| I think [#1406](https://github.com/rmagick/rmagick/pull/1406) will fix memory leak. [@dlemstra](https://github.com/dlemstra) Can you review the PR? |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
closed this as [completed](/rmagick/rmagick/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#1406](/rmagick/rmagick/pull/1406)
[Jul 16, 2023](#event-9830881246)

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=40&v=4)](/ccbcreg)
[ccbcreg](/ccbcreg)
mentioned this issue
[Jul 20, 2023](#ref-issue-1814951137)

[Huge memory consumption with latest imagemagick@6
#1408](/rmagick/rmagick/issues/1408)

Closed

[![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=80&v=4)](/bastien-roucaries)

Copy link

### **[bastien-roucaries](/bastien-roucaries)** commented [Jul 25, 2023](#issuecomment-1650384283)

| Asked for a CVE. Will give you the number ASAP |
| --- |

All reactions

Sorry, something went wrong.

[![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=80&v=4)](/bastien-roucaries)

Copy link

### **[bastien-roucaries](/bastien-roucaries)** commented [Aug 8, 2023](#issuecomment-1670121321)

| This commit should resolve the issue: [ImageMagick/ImageMagick6@c90e79b](https://github.com/ImageMagick/ImageMagick6/commit/c90e79b3b22fec309cab55af2ee606f71b027b12). It fixed the issue on the command line. Does this not resolve your issue [@Watson1978](https://github.com/Watson1978)?  This commit fix [CVE-2023-39978](https://github.com/advisories/GHSA-j6x7-7g72-8ww2 "CVE-2023-39978"). |
| --- |

All reactions

Sorry, something went wrong.

[![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=80&v=4)](/bastien-roucaries)

Copy link

### **[bastien-roucaries](/bastien-roucaries)** commented [Aug 8, 2023](#issuecomment-1670121713)

| Still waiting for rmagick CVE |
| --- |

All reactions

Sorry, something went wrong.

[![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=80&v=4)](/bastien-roucaries)

Copy link

### **[bastien-roucaries](/bastien-roucaries)** commented [Oct 10, 2023](#issuecomment-1756118237)

| rmagick one is [CVE-2023-5349](https://github.com/advisories/GHSA-frgf-8jr5-j2jv "CVE-2023-5349") |
| --- |

All reactions

Sorry, something went wrong.

[![@janklimo](https://avatars.githubusercontent.com/u/7811733?s=80&u=e64d528659fe299a9dcecc78c328038806ae787b&v=4)](/janklimo)

Copy link

### **[janklimo](/janklimo)** commented [Nov 5, 2023](#issuecomment-1793647681)

| I tried HEAD of main in ImageMagick 6, however, seems it still has the memory leak little by little.  [@Watson1978](https://github.com/Watson1978) would you mind sharing what tool you're using for this? Slick! |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

### **[Watson1978](/Watson1978)** commented [Nov 5, 2023](#issuecomment-1793649252)

| [@janklimo](https://github.com/janklimo) It is [Instruments](https://en.wikipedia.org/wiki/Instruments_%28software%29) bundled in Xcode |
| --- |

 ❤️
1
 janklimo reacted with heart emoji

All reactions

* ❤️
  1 reaction

Sorry, something went wrong.

[![@Megha-Sahai](https://avatars.githubusercontent.com/u/38129356?s=80&u=487cce56fdba8f16bdf7db768e13527657ca828c&v=4)](/Megha-Sahai)

Copy link

### **[Megha-Sahai](/Megha-Sahai)** commented [Jan 3, 2025](#issuecomment-2568985141) • edited Loading

| This [CVE-2023-39978](https://github.com/advisories/GHSA-j6x7-7g72-8ww2 "CVE-2023-39978") was initially tested on 20.04 LTS in this issue but as per [Canonical](https://ubuntu.com/security/CVE-2023-39978#references:~:text=according%20the%20rmagick%20github%20issue%2C%20the%20memory%20leak%20was%20introduced%20in%206.9.12%2D78%2C%20probably%20via%20commit%20e8c0090c6%20(recursion%20detection%20framework%2C%202023%2D03%2D06)%20attempts%20to%20reproduce%20this%20via%20rmagick%20on%20focal%20and%20jammy%20are%20unsuccessful.) attempts to reproduce this via rmagick on focal and jammy are unsuccessful. Could someone help me understand if focal is vulnerable or not for [CVE-2023-39978](https://github.com/advisories/GHSA-j6x7-7g72-8ww2 "CVE-2023-39978") |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Frmagick%2Frmagick%2Fissues%2F1401)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Fix memory leak in `Magick::Draw` for recentry ImageMagick 6 by removing unnecessary `GetDrawInfo()` calling](/rmagick/rmagick/pull/1406)
 [Watson1978/rmagick](/Watson1978/rmagick)

7 participants

[![@ccbcreg](https://avatars.githubusercontent.com/u/60093?s=52&v=4)](/ccbcreg) [![@mockdeep](https://avatars.githubusercontent.com/u/80543?s=52&v=4)](/mockdeep) [![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=52&v=4)](/Watson1978) [![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=52&v=4)](/bastien-roucaries) [![@janklimo](https://avatars.githubusercontent.com/u/7811733?s=52&v=4)](/janklimo) [![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=52&v=4)](/dlemstra) [![@Megha-Sahai](https://avatars.githubusercontent.com/u/38129356?s=52&v=4)](/Megha-Sahai)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_b0776494_20250110_234830.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF.mbox.gz?message=S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF/#S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF)

# [SECURITY] Fedora 37 Update: rubygem-rmagick-5.2.0-2.fc37

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

8 Nov
2023

8 Nov
'23

7:15 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-8dd1a1a2e6
2023-11-09 01:15:30.091943
--------------------------------------------------------------------------------

Name : rubygem-rmagick
Product : Fedora 37
Version : 5.2.0
Release : 2.fc37
URL : <https://github.com/rmagick/rmagick>
Summary : Ruby binding to ImageMagick
Description :
RMagick is an interface between Ruby and ImageMagick.

--------------------------------------------------------------------------------
Update Information:

A security flaw was found on rubygem-rmagick that Magick::Draw causes memleak.
This issue is assigned as CVE-2023-5349. This new rpm fixes this issue.
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Oct 31 2023 Mamoru TASAKA mtasaka@fedoraproject.org - 5.2.0-2
- Backport upstream patch for Magick::Draw memleak (CVE-2023-5349)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2247065 - CVE-2023-5349 rubygem-rmagick: Memory leak by Magick::Draw while calling GetDrawInfo() [fedora-37]
<https://bugzilla.redhat.com/show_bug.cgi?id=2247065>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-8dd1a1a2e6' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF/#S3XMQ2KWPYGT447EKPENGXXHKAQ5NUWF)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_1606f1e1_20250110_234829.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frmagick%2Frmagick%2Fpull%2F1406)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frmagick%2Frmagick%2Fpull%2F1406)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=rmagick%2Frmagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rmagick](/rmagick)
/
**[rmagick](/rmagick/rmagick)**
Public

* [Notifications](/login?return_to=%2Frmagick%2Frmagick) You must be signed in to change notification settings
* [Fork
  138](/login?return_to=%2Frmagick%2Frmagick)
* [Star
   711](/login?return_to=%2Frmagick%2Frmagick)

* [Code](/rmagick/rmagick)
* [Issues
  10](/rmagick/rmagick/issues)
* [Pull requests
  3](/rmagick/rmagick/pulls)
* [Actions](/rmagick/rmagick/actions)
* [Projects
  0](/rmagick/rmagick/projects)
* [Wiki](/rmagick/rmagick/wiki)
* [Security](/rmagick/rmagick/security)
* [Insights](/rmagick/rmagick/pulse)

Additional navigation options

* [Code](/rmagick/rmagick)
* [Issues](/rmagick/rmagick/issues)
* [Pull requests](/rmagick/rmagick/pulls)
* [Actions](/rmagick/rmagick/actions)
* [Projects](/rmagick/rmagick/projects)
* [Wiki](/rmagick/rmagick/wiki)
* [Security](/rmagick/rmagick/security)
* [Insights](/rmagick/rmagick/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Frmagick%2Frmagick%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Frmagick%2Frmagick%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix memory leak in `Magick::Draw` for recentry ImageMagick 6 by removing unnecessary `GetDrawInfo()` calling #1406

 Merged

[Watson1978](/Watson1978)
merged 1 commit into
[rmagick:main](/rmagick/rmagick/tree/main "rmagick/rmagick:main")
from
[Watson1978:GetDrawInfo](/Watson1978/rmagick/tree/GetDrawInfo "Watson1978/rmagick:GetDrawInfo")

Jul 16, 2023

 Merged

# [Fix memory leak in `Magick::Draw` for recentry ImageMagick 6 by removing unnecessary `GetDrawInfo()` calling](#top) #1406

[Watson1978](/Watson1978)
merged 1 commit into
[rmagick:main](/rmagick/rmagick/tree/main "rmagick/rmagick:main")
from
[Watson1978:GetDrawInfo](/Watson1978/rmagick/tree/GetDrawInfo "Watson1978/rmagick:GetDrawInfo")

Jul 16, 2023

[Conversation
5](/rmagick/rmagick/pull/1406)
[Commits
1](/rmagick/rmagick/pull/1406/commits)
[Checks
0](/rmagick/rmagick/pull/1406/checks)
[Files changed](/rmagick/rmagick/pull/1406/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Watson1978](https://avatars.githubusercontent.com/u/199156?s=60&v=4)](/Watson1978)

Copy link

Member

### @Watson1978 **[Watson1978](/Watson1978)** commented [Jul 16, 2023](#issue-1806506461)

Fix [#1401](https://github.com/rmagick/rmagick/issues/1401)

| Before | After |
| --- | --- |
|  |  |

## Test code

```
require 'rmagick'

3000.times do |i|
  img = Magick::Image.new(1000, 1000)

  gc = Magick::Draw.new
  gc.text(0, 67, 'Hello world!!')
  gc.draw(img)
end
```

Sorry, something went wrong.

All reactions

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)

`[Fix memory leak in Magick::Draw for recentry ImageMagick 6 by remov…](/rmagick/rmagick/pull/1406/commits/da823515a13130010f74678dc48f8b08a70cbd14 "Fix memory leak in `Magick::Draw` for recentry ImageMagick 6 by removing unnecessary `GetDrawInfo()` calling")`
 …

`[da82351](/rmagick/rmagick/pull/1406/commits/da823515a13130010f74678dc48f8b08a70cbd14)`

```
…ing unnecessary `GetDrawInfo()` calling
```

 [![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
requested a review
from [dlemstra](/dlemstra)
[July 16, 2023 09:06](#event-9830768730)

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
mentioned this pull request
[Jul 16, 2023](#ref-issue-1793583138)

[Huge memory consumption with latest imagemagick@6 update
#1401](/rmagick/rmagick/issues/1401)

Closed

[![dlemstra](https://avatars.githubusercontent.com/u/10426229?s=60&v=4)](/dlemstra)

**[dlemstra](/dlemstra)**
approved these changes
[Jul 16, 2023](#pullrequestreview-1531717051)

 [View reviewed changes](/rmagick/rmagick/pull/1406/files/da823515a13130010f74678dc48f8b08a70cbd14)

Copy link

Member

### @dlemstra **[dlemstra](/dlemstra)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This is the correct patch because `AcquireDrawInfo` already calls `GetDrawInfo`.

Sorry, something went wrong.

All reactions

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=80&v=4)](/Watson1978)

Copy link

Member

Author

### **[Watson1978](/Watson1978)** commented [Jul 16, 2023](#issuecomment-1637046591)

| Thanks! |
| --- |

All reactions

Sorry, something went wrong.

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
merged commit [`fec7a7e`](/rmagick/rmagick/commit/fec7a7e639ae565386f7615155dbcf49b957b64a)
into
rmagick:main

[Jul 16, 2023](https://github.com/rmagick/rmagick/pull/1406#event-9830881218)

 [![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
deleted the
GetDrawInfo

branch
[July 16, 2023 10:26](#event-9830881312)

[Watson1978](/Watson1978)
added a commit
to Watson1978/gruff
that referenced
this pull request
[Jul 19, 2023](#ref-commit-57de55c)
[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)

`[Update dependent RMagick version to 5.3.0](/Watson1978/gruff/commit/57de55c8b55bba3237bdb9e192734c2d565bf5d6 "Update dependent RMagick version to 5.3.0

It has memory leak fix.
Ref. https://github.com/rmagick/rmagick/pull/1406")`
…

`[57de55c](/Watson1978/gruff/commit/57de55c8b55bba3237bdb9e192734c2d565bf5d6)`

```
It has memory leak fix.
Ref. [rmagick/rmagick#1406](https://github.com/rmagick/rmagick/pull/1406)
```

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)
[Watson1978](/Watson1978)
mentioned this pull request
[Jul 19, 2023](#ref-pullrequest-1812598161)

[Update dependent RMagick version to 5.3.0 or later
topfunky/gruff#622](/topfunky/gruff/pull/622)
 Merged

[Watson1978](/Watson1978)
added a commit
to topfunky/gruff
that referenced
this pull request
[Jul 19, 2023](#ref-commit-a6c7b5a)
[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=40&v=4)](/Watson1978)

`[Update dependent RMagick version to 5.3.0 or later (](/topfunky/gruff/commit/a6c7b5a85870c24609b577c4023620caa3049a51 "Update dependent RMagick version to 5.3.0 or later (#622)

It has memory leak fix.
Ref. https://github.com/rmagick/rmagick/pull/1406")[#622](https://github.com/topfunky/gruff/pull/622)[)](/topfunky/gruff/commit/a6c7b5a85870c24609b577c4023620caa3049a51 "Update dependent RMagick version to 5.3.0 or later (#622)

It has memory leak fix.
Ref. https://github.com/rmagick/rmagick/pull/1406")`
…

`[a6c7b5a](/topfunky/gruff/commit/a6c7b5a85870c24609b577c4023620caa3049a51)`

```
It has memory leak fix.
Ref. [rmagick/rmagick#1406](https://github.com/rmagick/rmagick/pull/1406)
```

[![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=80&v=4)](/bastien-roucaries)

Copy link

### **[bastien-roucaries](/bastien-roucaries)** commented [Jul 25, 2023](#issuecomment-1650383642)

| Asked for a CVE |
| --- |

All reactions

Sorry, something went wrong.

[![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=80&v=4)](/bastien-roucaries)

Copy link

### **[bastien-roucaries](/bastien-roucaries)** commented [Jul 25, 2023](#issuecomment-1650383849)

| Will give you the number ASAP |
| --- |

All reactions

Sorry, something went wrong.

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Oct 22, 2023](#issuecomment-1774072057)

| For reference it is [CVE-2023-5349](https://github.com/advisories/GHSA-frgf-8jr5-j2jv "CVE-2023-5349"). |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Frmagick%2Frmagick%2Fpull%2F1406)

Reviewers

[![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=40&v=4)](/dlemstra) [dlemstra](/dlemstra)

dlemstra approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [Huge memory consumption with latest imagemagick@6 update](https://github.com/rmagick/rmagick/issues/1401)

4 participants

[![@Watson1978](https://avatars.githubusercontent.com/u/199156?s=52&v=4)](/Watson1978) [![@bastien-roucaries](https://avatars.githubusercontent.com/u/4839964?s=52&v=4)](/bastien-roucaries) [![@carnil](https://avatars.githubusercontent.com/u/773068?s=52&v=4)](/carnil) [![@dlemstra](https://avatars.githubusercontent.com/u/10426229?s=52&v=4)](/dlemstra)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


