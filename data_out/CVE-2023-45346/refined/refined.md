Based on the provided content, here's an analysis of CVE-2023-45346:

**Root Cause of Vulnerability:**

*   The root cause is the lack of input sanitization/validation of the `*_role` parameter in the `routers/user-router.php` file. Specifically, the application does not filter or validate the data received through this parameter before using it in an SQL query.

**Weaknesses/Vulnerabilities Present:**

*   **Unauthenticated SQL Injection (SQLi):** The application is vulnerable to SQL injection because it directly incorporates the unsanitized `*_role` parameter into an SQL query.
*   The code uses `preg_match("/[0-9]+_role/",$key)` to identify the vulnerable parameter name and extracts the user ID but it does not validate the `$value` that goes into the SQL query, allowing for malicious SQL code to be injected through `$value`.

**Impact of Exploitation:**

*   **Full Database Compromise:** An attacker can potentially gain complete control of the database server, allowing them to read, modify, or delete any information in the database, including sensitive user data and potentially disrupting the service.
*   **Data Breach:** Exploitation could lead to the exposure of sensitive information such as user credentials, personal information, and order details.
*   **Privilege Escalation:** It might also be possible to escalate privileges within the application by modifying user roles stored in the database.
*   **Service Disruption:** Attackers may cause denial of service by manipulating data or injecting SQL queries that break the application.

**Attack Vectors:**

*   **HTTP POST Request:** The attacker would send a malicious HTTP POST request to the `routers/user-router.php` endpoint with the crafted `*_role` parameter.
*   **Unauthenticated:** This vulnerability is unauthenticated, meaning no prior user credentials are required to exploit it, increasing the risk exposure.

**Required Attacker Capabilities/Position:**

*   **Network Access:** The attacker only needs network access to the application.
*   **No User Account Required:** The attacker does not require any user account or prior privileges to exploit this vulnerability.

**Technical Details:**

The vulnerable code snippet is:

```php
if(preg_match("/[0-9]+_role/",$key)){
 $key = strtok($key, '_');
 $sql = "UPDATE users SET role = '$value' WHERE id = $key;";
 $con->query($sql);
}
```

This code takes the value of the `*_role` parameter (represented here by `$value`) and directly inserts it into an SQL UPDATE query without any sanitization.
The application uses a regular expression to identify the parameter but it does not validate the value of the parameter which allows an attacker to inject malicious SQL code.

This vulnerability is one of multiple SQL injection flaws found in the Online Food Ordering System v1.0, as described in the provided document.

The content from projectworlds.in provides a list of projects including the "Online Food Ordering System Project in PHP", which is likely the vulnerable software.