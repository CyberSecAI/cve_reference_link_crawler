=== Content from phabricator.wikimedia.org_007323c7_20250111_043804.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT335612)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T335612
# CVE-2023-36674: Manualthumb bypasses badFile lookupClosed, Resolved[Public](/policy/explain/PHID-TASK-q36wx6fqv6dxiegxasu4/view/)SecurityActions

* [Edit Task](/maniphest/task/edit/335612/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/335612/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* [Protect as security issue](/wmf/escalate-task/335612/)
* [Award Token](/token/give/PHID-TASK-q36wx6fqv6dxiegxasu4/)
* [Flag For Later](/flag/edit/PHID-TASK-q36wx6fqv6dxiegxasu4/)

Assigned To

|  | [Arlolra](/p/Arlolra/) |
| --- | --- |

Authored By

|  | [Arlolra](/p/Arlolra/) |
| --- | --- |
| Apr 28 2023, 11:16 PM2023-04-28 23:16:36 (UTC+0) |

Tags

* [Security-Team](/tag/security-team/) [(Watching)](/project/board/1179/)
* [Security](/tag/security/)
* [Content-Transform-Team-WIP](/tag/content-transform-team-wip/) [(To Verify)](/project/board/6230/)
* [MediaWiki-File-management](/tag/mediawiki-file-management/) [(Backlog)](/project/board/131/)
* [Vuln-Misconfiguration](/tag/vuln-misconfiguration/) [(Tracked)](/project/board/1344/)
* [Essential-Work](/tag/essential-work/)
* [Commons](/tag/commons/) [(Incoming)](/project/board/1118/)
Referenced Files

|  | [F37123459: 0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_35v2.patch](/F37123459) |
| --- | --- |
| Jun 29 2023, 10:00 PM2023-06-29 22:00:07 (UTC+0) |

|  | [F37123452: 0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_38.patch](/F37123452) |
| --- | --- |
| Jun 29 2023, 9:52 PM2023-06-29 21:52:27 (UTC+0) |

|  | [F37123435: 0001-SECURITY-Move-badFile-lookup-to-Linker.patch](/F37123435) |
| --- | --- |
| Jun 29 2023, 9:22 PM2023-06-29 21:22:31 (UTC+0) |

|  | [F37123316: 0001-SECURITY-Move-badFile-lookup-to-Linker.patch](/F37123316) |
| --- | --- |
| Jun 29 2023, 6:41 PM2023-06-29 18:41:35 (UTC+0) |

|  | [F37123301: 0001-SECURITY-Move-badFile-lookup-to-Linker.patch](/F37123301) |
| --- | --- |
| Jun 29 2023, 6:08 PM2023-06-29 18:08:51 (UTC+0) |

|  | [F37122589: 0005-SECURITY-Move-badFile-lookup-to-Linker.patch](/F37122589) |
| --- | --- |
| Jun 29 2023, 1:01 AM2023-06-29 01:01:56 (UTC+0) |

|  | [F37122588: 0004-A-manualthumb-that-doesn-t-exist-should-be-considere.patch](/F37122588) |
| --- | --- |
| Jun 29 2023, 1:01 AM2023-06-29 01:01:56 (UTC+0) |

|  | [F37122590: 0003-Handle-thumb-errors-when-enableLegacyMediaDOM.patch](/F37122590) |
| --- | --- |
| Jun 29 2023, 1:01 AM2023-06-29 01:01:56 (UTC+0) |

[View All 15 Files](/file/ui/curtain/list/PHID-TASK-q36wx6fqv6dxiegxasu4/)Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [Arlolra](/p/Arlolra/) |
| --- | --- |

|  | [cscott](/p/cscott/) |
| --- | --- |

|  | [gerritbot](/p/gerritbot/) |
| --- | --- |

|  | [Legoktm](/p/Legoktm/) |
| --- | --- |

|  | [MSantos](/p/MSantos/) |
| --- | --- |

|  | [Mstyles](/p/Mstyles/) |
| --- | --- |

[View All 10 Subscribers](/subscriptions/list/PHID-TASK-q36wx6fqv6dxiegxasu4/)
# Description

If "Bad.jpg" is listed on MediaWiki:Bad image list, you can still do [[File:Good.jpg|thumb=Bad.jpg|Uh oh]]

Here's a patch to fix it,

0001-Move-badFile-lookup-to-Linker.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/yvfmofcjssxfuzl5g2ht/PHID-FILE-ncbs35ohg7q5l6r5v4om/0001-Move-badFile-lookup-to-Linker.patch)

Unfortunately, it's sitting behind this chain I'm working on [https://gerrit.wikimedia.org/r/q/topic:T334659](https://gerrit.wikimedia.org/r/q/topic%3AT334659)

---

| Branch | Patch |
| --- | --- |
| REL1\_35 | See [T335612#8978250](/T335612#8978250) |
| REL1\_38 | Omitted [T335612#8977627](/T335612#8977627) |
| REL1\_39 | 0005-SECURITY-Move-badFile-lookup-to-Linker.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/t35hqrgxjyxm7dkn4ovp/PHID-FILE-hdgjm5wqjggo7e2s5ruu/0005-SECURITY-Move-badFile-lookup-to-Linker.patch) |
| REL1\_40 | 0001-SECURITY-Move-badFile-lookup-to-Linker.patch8 KB[Download](https://phab.wmfusercontent.org/file/download/735burnmlp4p72jlt6ir/PHID-FILE-5c7kyu345tnvdamj3o4d/0001-SECURITY-Move-badFile-lookup-to-Linker.patch) |
| master | 0001-SECURITY-Move-badFile-lookup-to-Linker.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/vh6hypitrxnlw3nvng3f/PHID-FILE-ijl5rzlezez3b6ivqatc/0001-SECURITY-Move-badFile-lookup-to-Linker.patch) |

# Details

Risk Rating Low Author Affiliation WMF Product

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Move badFile lookup to Linker](https://gerrit.wikimedia.org/r/c/934584) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_40](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_40) | +60 -26 |
|  | [SECURITY: Move badFile lookup to Linker](https://gerrit.wikimedia.org/r/c/934571) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +60 -26 |
|  | [SECURITY: Move badFile lookup to Linker](https://gerrit.wikimedia.org/r/c/934568) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_39](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_39) | +58 -26 |
|  | [SECURITY: Move badFile lookup to Linker](https://gerrit.wikimedia.org/r/c/934566) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_38](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_38) | +27 -20 |
|  | [SECURITY: Move badFile lookup to Linker](https://gerrit.wikimedia.org/r/c/934563) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_35](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_35) | +30 -22 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T335612)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T330174 [Formally EOL MW 1.38](/T330174) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T329075 [Release MW 1.40.0](/T329075) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T333616 [Release MediaWiki 1.35.11/1.38.7/1.39.4/1.40.0](/T333616) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T333617 [Tracking bug for MediaWiki 1.35.11/1.38.7/1.39.4/1.40.0](/T333617) |
|  |  | Open |  | *None* | T336146 [[EPIC] FY 23-24 unplanned and maintenance for Content Transform Team](/T336146) |
|  |  | Resolved | Security | [Arlolra](/p/Arlolra/) | T335612 [CVE-2023-36674: Manualthumb bypasses badFile lookup](/T335612) |

Mentioned In [T333618: Obtain CVEs for 1.35.11/1.38.7/1.39.4 security releases](/T333618)
[T329214: Address badfile fixmes](/T329214) Mentioned Here [T340390: media parser test failures in REL1\_39](/T340390)
[rMWe0035bbf5a14: Fix frame and frameless rdfa depending on file existing](/rMWe0035bbf5a14f6ba733df387875d35ab897860de)
[rMWc5c7d5c9bb6d: Fallback to parser-extlink-target instead of setting link-target](/rMWc5c7d5c9bb6d269974963d20552c3e92a4febbd5)
[rMW6f3b22c41007: Handle thumb errors when !$enableLegacyMediaDOM](/rMW6f3b22c4100731a2eb181390558054feb0e62da4)
[T333616: Release MediaWiki 1.35.11/1.38.7/1.39.4/1.40.0](/T333616)
[T333617: Tracking bug for MediaWiki 1.35.11/1.38.7/1.39.4/1.40.0](/T333617)
[T329214: Address badfile fixmes](/T329214)
### Event Timeline

There are a very large number of changes, so older changes are hidden. [Show Older Changes](/transactions/showolder/PHID-TASK-q36wx6fqv6dxiegxasu4/?after=8814542&quoteTargetID=UQ0_1&quoteRef=T335612)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  路 [View Herald Transcript](/herald/transcript/5304292/)[Apr 28 2023, 11:16 PM2023-04-28 23:16:38 (UTC+0)](#8814548)[Arlolra](/p/Arlolra/) added subscribers: [ssastry](/p/ssastry/), [cscott](/p/cscott/), [Legoktm](/p/Legoktm/).[Apr 28 2023, 11:17 PM2023-04-28 23:17:07 (UTC+0)](#8814549)[Arlolra](/p/Arlolra/) added a project: [Content-Transform-Team-WIP](/tag/content-transform-team-wip/).[Apr 28 2023, 11:27 PM2023-04-28 23:27:41 (UTC+0)](#8814551)[Reedy](/p/Reedy/) added a project: [MediaWiki-File-management](/tag/mediawiki-file-management/).[Apr 29 2023, 2:24 PM2023-04-29 14:24:21 (UTC+0)](#8814787)[Legoktm](/p/Legoktm/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-qbpm4u2nmg6f7xj/)[Apr 30 2023, 10:05 PM2023-04-30 22:05:14 (UTC+0)](#8815468)[mmartorana](/p/mmartorana/) changed the task status from Open to In Progress.[May 5 2023, 3:33 PM2023-05-05 15:33:14 (UTC+0)](#8829806)[mmartorana](/p/mmartorana/) triaged this task as Low priority.[mmartorana](/p/mmartorana/) added a project: [Vuln-Misconfiguration](/tag/vuln-misconfiguration/).[mmartorana](/p/mmartorana/) changed Risk Rating from N/A to Low.[Arlolra](/p/Arlolra/) added a comment.[May 8 2023, 2:57 PM2023-05-08 14:57:10 (UTC+0)](#8833617)Comment Actions
> Unfortunately, it's sitting behind this chain I'm working on [https://gerrit.wikimedia.org/r/q/topic:T334659](https://gerrit.wikimedia.org/r/q/topic%3AT334659)

These are all merged now.

The patch here will resolve [T329214](/T329214) as well.

[cscott](/p/cscott/) added a comment.[May 9 2023, 9:03 AM2023-05-09 09:03:24 (UTC+0)](#8835865)Comment Actions

Tested the patch & review C+2. Looks good, works in my testing for manual thumb and for ordinary image links, the exception mechanism in MediaWiki:bad\_image\_list works for manual thumb too.

[sbassett](/p/sbassett/) moved this task from [Incoming](/project/board/1179/) to [Security Patch To Deploy](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.Edited 路 [May 9 2023, 9:23 PM2023-05-09 21:23:49 (UTC+0)](#8838911)[sbassett](/p/sbassett/) subscribed.Comment Actions

Thanks for the CR, [@cscott](/p/cscott/). And thanks, [@Arlolra](/p/Arlolra/), for writing the patch. Looks like it applies to current master and 1.41.0-wmf.8 but not 1.41.0-wmf.7, the latter likely due to the gerrit relation chain issues discussed above. We can try to deploy this maybe sometime Thursday (5/11/2023), post-train, once everything is on 1.41.0-wmf.8 or possibly during next Monday's (5/15/2023) standard security deployment window, unless this is far more urgent.

[Arlolra](/p/Arlolra/) added a comment.[May 9 2023, 11:58 PM2023-05-09 23:58:29 (UTC+0)](#8839204)Comment Actions
> unless this is far more urgent.

I think it can wait until one of those windows

[Arlolra](/p/Arlolra/) moved this task from [Backlog](/project/board/6230/) to [To Deploy](/project/board/6230/) on the [Content-Transform-Team-WIP](/tag/content-transform-team-wip/) board.[May 10 2023, 10:04 PM2023-05-10 22:04:52 (UTC+0)](#8843272)[sbassett](/p/sbassett/) added a comment.[May 15 2023, 8:22 PM2023-05-15 20:22:15 (UTC+0)](#8852186)Comment Actions

Added [SECURITY] to the patch subject and renamed for production deployment:

01-T335612.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/izfe7ilhexs4ucezcxqy/PHID-FILE-zfzx3qdkqsd75jdzq4tk/01-T335612.patch)

Still tests fine on master and wmf.8. Should be tracked under [T333617](/T333617) and T276237 once deployed.

[Mstyles](/p/Mstyles/) subscribed.[May 15 2023, 11:04 PM2023-05-15 23:04:18 (UTC+0)](#8852658)Comment Actions
> In [T335612#8852186](/T335612#8852186), [@sbassett](/p/sbassett/) wrote:
>
> Added [SECURITY] to the patch subject and renamed for production deployment:
>
> 01-T335612.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/izfe7ilhexs4ucezcxqy/PHID-FILE-zfzx3qdkqsd75jdzq4tk/01-T335612.patch)
>
> Still tests fine on master and wmf.8. Should be tracked under [T333617](/T333617) and T276237 once deployed.

This patch has been [deployed](https://sal.toolforge.org/log/FQhlIYgBhuQtenzv2ykB)

[Mstyles](/p/Mstyles/) added a parent task: [T333617: Tracking bug for MediaWiki 1.35.11/1.38.7/1.39.4/1.40.0](/T333617).[May 15 2023, 11:07 PM2023-05-15 23:07:54 (UTC+0)](#8852665)[Mstyles](/p/Mstyles/) moved this task from [Security Patch To Deploy](/project/board/1179/) to [Watching](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Arlolra](/p/Arlolra/) added a comment.[May 15 2023, 11:32 PM2023-05-15 23:32:52 (UTC+0)](#8852689)Comment Actions

Thanks. I tested it on wikis where wgParserEnableLegacyMediaDOM is both enabled and disabled,

<https://en.wikipedia.org/w/index.php?title=User%3AArlolra%2Fsandbox&diff=1154985575&oldid=1154985505>

<https://it.wikipedia.org/w/index.php?title=Utente%3AArlolra%2Fsandbox&diff=133524558&oldid=133524549>

What's the next step towards getting this merged to master. I'm not sure what that procedure is.

[Arlolra](/p/Arlolra/) moved this task from [To Deploy](/project/board/6230/) to [To Verify](/project/board/6230/) on the [Content-Transform-Team-WIP](/tag/content-transform-team-wip/) board.[May 15 2023, 11:33 PM2023-05-15 23:33:34 (UTC+0)](#8852690)[Arlolra](/p/Arlolra/) mentioned this in [T329214: Address badfile fixmes](/T329214).[sbassett](/p/sbassett/) added a comment.[May 16 2023, 2:30 PM2023-05-16 14:30:39 (UTC+0)](#8855636)Comment Actions
> In [T335612#8852689](/T335612#8852689), [@Arlolra](/p/Arlolra/) wrote:
>
> Thanks. I tested it on wikis where wgParserEnableLegacyMediaDOM is both enabled and disabled,
>
> <https://en.wikipedia.org/w/index.php?title=User%3AArlolra%2Fsandbox&diff=1154985575&oldid=1154985505>
>
> <https://it.wikipedia.org/w/index.php?title=Utente%3AArlolra%2Fsandbox&diff=133524558&oldid=133524549>

Great, thanks!

> What's the next step towards getting this merged to master. I'm not sure what that procedure is.

This patch needs to be held for the next MediaWiki security release ([T333616](/T333616)), which should happen sometimes towards the end of June 2023. If we need to rebase a few times in production against new, conflicting patches in gerrit, we can do that.

[Arlolra](/p/Arlolra/) moved this task from [To Verify](/project/board/6230/) to [Blocked](/project/board/6230/) on the [Content-Transform-Team-WIP](/tag/content-transform-team-wip/) board.[May 16 2023, 4:40 PM2023-05-16 16:40:40 (UTC+0)](#8856338)[Arlolra](/p/Arlolra/) added a subscriber: [MSantos](/p/MSantos/).[MSantos](/p/MSantos/) added a project: [Essential-Work](/tag/essential-work/).[Jun 19 2023, 11:27 AM2023-06-19 11:27:50 (UTC+0)](#8946302)[Reedy](/p/Reedy/) mentioned this in [T333618: Obtain CVEs for 1.35.11/1.38.7/1.39.4 security releases](/T333618).[Jun 24 2023, 2:20 PM2023-06-24 14:20:25 (UTC+0)](#8961699)[Reedy](/p/Reedy/) added a subscriber: [GerritBot](/tag/gerritbot/).[Jun 24 2023, 2:23 PM2023-06-24 14:23:48 (UTC+0)](#8961701)

[Reedy](/p/Reedy/) subscribed.[Jun 24 2023, 2:39 PM2023-06-24 14:39:15 (UTC+0)](#8961705)Comment Actions

Noting the lack of [rMW6f3b22c41007: Handle thumb errors when !$enableLegacyMediaDOM](/rMW6f3b22c4100731a2eb181390558054feb0e62da4) causes conflicts on REL1\_40 (and presumably below)

```
diff --cc includes/linker/Linker.php
index 562822f1a27,56c22574751..00000000000
--- a/includes/linker/Linker.php
+++ b/includes/linker/Linker.php
@@@ -467,9 -472,12 +467,16 @@@ class Linker
                        $thumb = false;
                }

++<<<<<<< HEAD
 +              if ( !$thumb ) {
++=======
+               $isBadFile = $file && $thumb && $parser &&
+                       $parser->getBadFileLookup()->isBadFile( $title->getDBkey(), $parser->getTitle() );
+
+               if ( !$thumb || ( !$enableLegacyMediaDOM && $thumb->isError() ) || $isBadFile ) {
++>>>>>>> b66ca24eefa (SECURITY: Move badFile lookup to Linker)
                        $rdfaType = 'mw:Error ' . $rdfaType;
 -                      $currentExists = $file && $file->exists();
 +                      $label = '';
                        if ( $enableLegacyMediaDOM ) {
                                $label = $frameParams['title'];
                        } else {
@@@ -735,16 -768,24 +742,27 @@@
                                . "<div class=\"thumbinner\" style=\"width:{$outerWidth}px;\">";
                }

+               $isBadFile = $exists && $thumb && $parser &&
+                       $parser->getBadFileLookup()->isBadFile(
+                               $manualthumb ? $manual_title : $title->getDBkey(),
+                               $parser->getTitle()
+                       );
+
                if ( !$exists ) {
 -                      $rdfaType = 'mw:Error ' . $rdfaType;
                        $label = '';
                        if ( !$enableLegacyMediaDOM ) {
                                $label = $frameParams['alt'] ?? '';
                        }
                        $s .= self::makeBrokenImageLinkObj(
 -                              $title, $label, '', '', '', (bool)$time, $handlerParams, false
 +                              $title, $label, '', '', '', (bool)$time, $handlerParams
                        );
                        $zoomIcon = '';
++<<<<<<< HEAD
 +              } elseif ( !$thumb ) {
++=======
+               } elseif ( !$thumb || ( !$enableLegacyMediaDOM && $thumb->isError() ) || $isBadFile ) {
+                       $rdfaType = 'mw:Error ' . $rdfaType;
++>>>>>>> b66ca24eefa (SECURITY: Move badFile lookup to Linker)
                        if ( $enableLegacyMediaDOM ) {
                                $s .= wfMessage( 'thumbnail_error', '' )->escaped();
                        } else {
```

Not a big deal... Basically just need to drop the  ( !$enableLegacyMediaDOM && $thumb->isError() ) || part.

Amended patch for REL1\_40 applies to REL1\_39...

It applies to REL1\_38 too, but fails on parser tests... Not sure offhand if we can skip changes to that file, or whether CI will fail that.

In REL1\_35 tests/parser/mediaParserTests.txt doesn't exist, and there's bigger conflicts in Parser.php and Linker.php...

Will continue poking.

[Reedy](/p/Reedy/) added a comment.[Jun 25 2023, 12:20 PM2023-06-25 12:20:55 (UTC+0)](#8962409)Comment Actions

REL1\_39/REL1\_40 patch: 0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_40.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/i43ahzjycovjlxwovrd7/PHID-FILE-2vd253ykw5cpl63xfhqb/0001-SECURITY-Move-badFile-lookup-to-Linker-REL1_40.patch)

[Reedy](/p/Reedy/) added a comment.[Jun 25 2023, 12:42 PM2023-06-25 12:42:56 (UTC+0)](#8962411)Comment Actions

0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_38.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/ohiyaeg33gcovsxhd4vb/PHID-FILE-vs5wo3cuqpy7zc2jwtvk/0001-SECURITY-Move-badFile-lookup-to-Linker-REL1_38.patch)

I'm not quite sure of the parser tests... Most of the changes disappeared from lack of context (which is fine)...

But the mw:Error mw:File/Thumb part.... I guess I probably need to run the tests locally and see if they pass/fail :P

[Reedy](/p/Reedy/) added a comment.Edited 路 [Jun 25 2023, 12:45 PM2023-06-25 12:45:32 (UTC+0)](#8962412)Comment Actions

For REL1\_35, the separate file isn't there, but <https://github.com/wikimedia/mediawiki/blob/REL1_35/tests/parser/parserTests.txt#L15020> would be rough context to add the test (like is left in REL1\_38)...

The other diffs...

```
diff --cc includes/Linker.php
index 39f15ec3104,411d217b0ac..00000000000
--- a/includes/Linker.php
+++ b/includes/Linker.php
@@@ -413,8 -443,20 +413,25 @@@ class Linker
                        $thumb = false;
                }

++<<<<<<< HEAD
 +              if ( !$thumb ) {
 +                      $s = self::makeBrokenImageLinkObj( $title, $frameParams['title'], '', '', '', $time == true );
++=======
+               $isBadFile = $file && $thumb && $parser &&
+                       $parser->getBadFileLookup()->isBadFile( $title->getDBkey(), $parser->getTitle() );
+
+               if ( !$thumb || $isBadFile ) {
+                       $rdfaType = 'mw:Error ' . $rdfaType;
+                       $label = '';
+                       if ( $enableLegacyMediaDOM ) {
+                               // This is the information for tooltips for inline images which
+                               // Parsoid stores in data-mw.  See T273014
+                               $label = $frameParams['title'];
+                       }
+                       $s = self::makeBrokenImageLinkObj(
+                               $title, $label, '', '', '', (bool)$time, $handlerParams
+                       );
++>>>>>>> 8e2cd5f5026 (SECURITY: Move badFile lookup to Linker)
                } else {
                        self::processResponsiveImages( $file, $thumb, $handlerParams );
                        $params = [
@@@ -588,17 -695,51 +605,34 @@@
                        && !isset( $frameParams['link-title'] )
                        && !isset( $frameParams['link-url'] )
                        && !isset( $frameParams['no-link'] ) ) {
 -                      $frameParams['link-title'] = $title;
 -                      $frameParams['link-title-query'] = $linkTitleQuery;
 +                      $frameParams['link-url'] = $url;
                }

 -              if ( $frameParams['align'] != '' ) {
 -                      // Possible values: mw-halign-left mw-halign-center mw-halign-right mw-halign-none
 -                      $classes[] = "mw-halign-{$frameParams['align']}";
 -              }
 -
 -              if ( isset( $frameParams['class'] ) ) {
 -                      $classes[] = $frameParams['class'];
 -              }
 -
 -              $s = '';
 -
 -              if ( $enableLegacyMediaDOM ) {
 -                      $s .= "<div class=\"thumb t{$frameParams['align']}\">"
 -                              . "<div class=\"thumbinner\" style=\"width:{$outerWidth}px;\">";
 -              }
 +              $s = "<div class=\"thumb t{$frameParams['align']}\">"
 +                      . "<div class=\"thumbinner\" style=\"width:{$outerWidth}px;\">";

+               $isBadFile = $exists && $thumb && $parser &&
+                       $parser->getBadFileLookup()->isBadFile(
+                               $manualthumb ? $manual_title : $title->getDBkey(),
+                               $parser->getTitle()
+                       );
+
                if ( !$exists ) {
 -                      $label = '';
 -                      if ( $enableLegacyMediaDOM ) {
 -                              // This is the information for tooltips for inline images which
 -                              // Parsoid stores in data-mw.  See T273014
 -                              $label = $frameParams['title'];
 -                      }
 -                      $s .= self::makeBrokenImageLinkObj(
 -                              $title, $label, '', '', '', (bool)$time, $handlerParams
 -                      );
 +                      $s .= self::makeBrokenImageLinkObj( $title, $frameParams['title'], '', '', '', $time == true );
                        $zoomIcon = '';
++<<<<<<< HEAD
 +              } elseif ( !$thumb ) {
 +                      $s .= wfMessage( 'thumbnail_error', '' )->escaped();
++=======
+               } elseif ( !$thumb || $isBadFile ) {
+                       if ( $enableLegacyMediaDOM ) {
+                               $s .= wfMessage( 'thumbnail_error', '' )->escaped();
+                       } else {
+                               $s .= self::makeBrokenImageLinkObj(
+                                       $title, '', '', '', '', (bool)$time, $handlerParams
+                               );
+                       }
++>>>>>>> 8e2cd5f5026 (SECURITY: Move badFile lookup to Linker)
                        $zoomIcon = '';
                } else {
                        if ( !$noscale && !$manualthumb ) {
diff --cc includes/parser/Parser.php
index 1295165d0b9,2b0351399fe..00000000000
--- a/includes/parser/Parser.php
+++ b/includes/parser/Parser.php
@@@ -2615,27 -2660,25 +2615,49 @@@ class Parser
                                        continue;
                                }

++<<<<<<< HEAD
 +                              if ( $ns == NS_FILE ) {
 +                                      if ( !$this->badFileLookup->isBadFile( $nt->getDBkey(), $this->getTitle() ) ) {
 +                                              if ( $wasblank ) {
 +                                                      # if no parameters were passed, $text
 +                                                      # becomes something like "File:Foo.png",
 +                                                      # which we don't want to pass on to the
 +                                                      # image generator
 +                                                      $text = '';
 +                                              } else {
 +                                                      # recursively parse links inside the image caption
 +                                                      # actually, this will parse them in any other parameters, too,
 +                                                      # but it might be hard to fix that, and it doesn't matter ATM
 +                                                      $text = $this->handleExternalLinks( $text );
 +                                                      $holders->merge( $this->handleInternalLinks2( $text ) );
 +                                              }
 +                                              # cloak any absolute URLs inside the image markup, so handleExternalLinks() won't touch them
 +                                              $s .= $prefix . $this->armorLinks(
 +                                                      $this->makeImage( $nt, $text, $holders ) ) . $trail;
 +                                              continue;
 +                                      }
 +                              } elseif ( $ns == NS_CATEGORY ) {
++=======
+                               if ( $ns === NS_FILE ) {
+                                       if ( $wasblank ) {
+                                               # if no parameters were passed, $text
+                                               # becomes something like "File:Foo.png",
+                                               # which we don't want to pass on to the
+                                               # image generator
+                                               $text = '';
+                                       } else {
+                                               # recursively parse links inside the image caption
+                                               # actually, this will parse them in any other parameters, too,
+                                               # but it might be hard to fix that, and it doesn't matter ATM
+                                               $text = $this->handleExternalLinks( $text );
+                                               $holders->merge( $this->handleInternalLinks2( $text ) );
+                                       }
+                                       # cloak any absolute URLs inside the image markup, so handleExternalLinks() won't touch them
+                                       $s .= $prefix . $this->armorLinks(
+                                               $this->makeImage( $nt, $text, $holders ) ) . $trail;
+                                       continue;
+                               } elseif ( $ns === NS_CATEGORY ) {
++>>>>>>> 8e2cd5f5026 (SECURITY: Move badFile lookup to Linker)
                                        /**
                                         * Strip the whitespace Category links produce, see T2087
                                         */
* Unmerged path tests/parser/mediaParserTests.txt
```

Not sure why Parser.php is complaining, but it's clearly just whitespace related...

[Reedy](/p/Reedy/) added a comment.[Jun 25 2023, 12:51 PM2023-06-25 12:51:45 (UTC+0)](#8962417)Comment Actions

0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_35.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/drq7qll7hyprv3gkdrew/PHID-FILE-wb4tipeex3zlfxnrnqyj/0001-SECURITY-Move-badFile-lookup-to-Linker-REL1_35.patch)

[Reedy](/p/Reedy/) edited subscribers, added: [jenkins-bot](/p/jenkins-bot/); removed: [GerritBot](/tag/gerritbot/).[Jun 25 2023, 12:55 PM2023-06-25 12:55:29 (UTC+0)](#8962418)

[Reedy](/p/Reedy/) added a comment.Edited 路 [Jun 25 2023, 1:05 PM2023-06-25 13:05:28 (UTC+0)](#8962436)Comment Actions
> In [T335612#8962417](/T335612#8962417), [@Reedy](/p/Reedy/) wrote:
>
> 0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_35.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/drq7qll7hyprv3gkdrew/PHID-FILE-wb4tipeex3zlfxnrnqyj/0001-SECURITY-Move-badFile-lookup-to-Linker-REL1_35.patch)

But this won't work, as the $parser parameter into makeThumbLink2 doesn't exist yet... Not a problem for other branches.

Was added in [rMWc5c7d5c9bb6d: Fallback to parser-extlink-target instead of setting link-target](/rMWc5c7d5c9bb6d269974963d20552c3e92a4febbd5).

[Reedy](/p/Reedy/) added a comment.[Jun 25 2023, 1:27 PM2023-06-25 13:27:12 (UTC+0)](#8962450)Comment Actions

Ignoring the failures in [T340390: media parser test failures in REL1\_39](/T340390)... In REL1\_39

```
Running test Bad images - basic functionality [legacy]... FAILED!
/var/www/wiki-1.39/core/tests/parser/mediaParserTests.txt:175
--- /tmp/mwParser-expectedigbsbH	2023-06-25 14:23:15.204382604 +0100
+++ /tmp/mwParser-actualJbxaDG	2023-06-25 14:23:15.204382604 +0100
@@ -1,2 +1,2 @@
-<p><span class="mw-default-size" typeof="mw:Error mw:File"><a href="/wiki/File:Bad.jpg" title="File:Bad.jpg"><span class="mw-file-element mw-broken-media" data-width="320">File:Bad.jpg</span></a></span>
+<p><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:Bad.jpg" class="mw-file-description"><img alt="Bad.jpg" src="http://example.com/images/0/09/Bad.jpg" decoding="async" width="320" height="240" /></a></span>
 </p>
Running test Bad images - T18039: text after bad image disappears [legacy]... FAILED!
/var/www/wiki-1.39/core/tests/parser/mediaParserTests.txt:188
--- /tmp/mwParser-expectedV7V4XX	2023-06-25 14:23:15.220382816 +0100
+++ /tmp/mwParser-actualbn6Wtd	2023-06-25 14:23:15.220382816 +0100
@@ -1,4 +1,4 @@
 <p>Foo bar
-<span class="mw-default-size" typeof="mw:Error mw:File"><a href="/wiki/File:Bad.jpg" title="File:Bad.jpg"><span class="mw-file-element mw-broken-media" data-width="320">File:Bad.jpg</span></a></span>
+<span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:Bad.jpg" class="mw-file-description"><img alt="Bad.jpg" src="http://example.com/images/0/09/Bad.jpg" decoding="async" width="320" height="240" /></a></span>
 Bar foo
 </p>
Running test Bad images - manualthumb [legacy]... FAILED!
/var/www/wiki-1.39/core/tests/parser/mediaParserTests.txt:207
--- /tmp/mwParser-expectedwR8dCd	2023-06-25 14:23:15.236383029 +0100
+++ /tmp/mwParser-actualyNW7Dy	2023-06-25 14:23:15.236383029 +0100
@@ -1 +1 @@
-<figure typeof="mw:Error mw:File/Thumb"><a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"><span class="mw-file-element mw-broken-media" data-width="180">Error creating thumbnail: </span></a><figcaption>Uh oh</figcaption></figure>
+<figure typeof="mw:File/Thumb"><a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"><img alt="" src="http://example.com/images/0/09/Bad.jpg" decoding="async" width="320" height="240" /></a><figcaption>Uh oh</figcaption></figure>
Running test Bad images - in gallery [legacy]... FAILED!
/var/www/wiki-1.39/core/tests/parser/mediaParserTests.txt:217
--- /tmp/mwParser-expectedEsFPT9	2023-06-25 14:23:15.252383241 +0100
+++ /tmp/mwParser-actualIJs0k7	2023-06-25 14:23:15.252383241 +0100
@@ -1,6 +1,6 @@
 <ul class="gallery mw-gallery-traditional">
 		<li class="gallerybox" style="width: 155px">
-			<div class="thumb" style="height: 150px;"><span typeof="mw:Error mw:File"><a href="/index.php?title=Special:Upload&amp;wpDestFile=Bad.jpg" class="new" title="File:Bad.jpg"><span class="mw-broken-media" data-width="120" data-height="120">File:Bad.jpg</span></a></span></div>
+			<div class="thumb" style="width: 150px; height: 150px;"><span typeof="mw:File"><a href="/wiki/File:Bad.jpg" class="mw-file-description"><img alt="Bad.jpg" src="http://example.com/images/thumb/0/09/Bad.jpg/120px-Bad.jpg" decoding="async" width="120" height="90" srcset="http://example.com/images/thumb/0/09/Bad.jpg/180px-Bad.jpg 1.5x, http://example.com/images/thumb/0/09/Bad.jpg/240px-Bad.jpg 2x" /></a></span></div>
 			<div class="gallerytext">
 			</div>
 		</li>
```

Which I suspect is due to the other related changes, such as [rMWe0035bbf5a14: Fix frame and frameless rdfa depending on file existing](/rMWe0035bbf5a14f6ba733df387875d35ab897860de) which is adding extra $rdfaType = 'mw:Error ' . $rdfaType; into the mix

[Reedy](/p/Reedy/) added a comment.[Jun 25 2023, 1:52 PM2023-06-25 13:52:13 (UTC+0)](#8962478)Comment Actions

And [https://gerrit.wikimedia.org/r/q/topic:T334659-2](https://gerrit.wikimedia.org/r/q/topic%3AT334659-2) won't apply onto REL1\_40... First patch is trivial conflicts, second gets more complex, etc. Similar for REL1\_39 too?

I'm a little stuck what to do here....

We can skip parser test changes, which may or may not leave (other) failures behind.

For REL1\_35, we could "just" use \MediaWiki\MediaWikiServices::getInstance()->getParser() to gain an instance to play with..

[Reedy](/p/Reedy/) renamed this task from Manualthumb bypasses badFile lookup to CVE-2023-36674: Manualthumb bypasses badFile lookup.[Jun 26 2023, 10:57 AM2023-06-26 10:57:54 (UTC+0)](#8963558)[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 1:01 AM2023-06-29 01:01:56 (UTC+0)](#8975039)Comment Actions

Here are the backports for REL1\_39. Let me know if that works for you and I'll continue with the rest.

0001-Fix-frame-and-frameless-rdfa-depending-on-file-exist.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/hlv32zkmzropkx54uzw3/PHID-FILE-z52rzvjkcgmjx73dfnpg/0001-Fix-frame-and-frameless-rdfa-depending-on-file-exist.patch)

0002-Pass-whether-current-rev-of-file-exists-to-Linker-ma.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/qkpi7y3dcqy3cdhcbp2y/PHID-FILE-e7gzl7jik457urwgu3r5/0002-Pass-whether-current-rev-of-file-exists-to-Linker-ma.patch)

0003-Handle-thumb-errors-when-enableLegacyMediaDOM.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/bwm64ujl42c5nasszcvo/PHID-FILE-mcknw2puc3xa76ptdrnh/0003-Handle-thumb-errors-when-enableLegacyMediaDOM.patch)

0004-A-manualthumb-that-doesn-t-exist-should-be-considere.patch2 KB[Download](https://phab.wmfusercontent.org/file/download/hwv2vq6eekigfuivotjz/PHID-FILE-pneoshch57mi6vncp7wz/0004-A-manualthumb-that-doesn-t-exist-should-be-considere.patch)

0005-SECURITY-Move-badFile-lookup-to-Linker.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/t35hqrgxjyxm7dkn4ovp/PHID-FILE-hdgjm5wqjggo7e2s5ruu/0005-SECURITY-Move-badFile-lookup-to-Linker.patch)

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 8:30 AM2023-06-29 08:30:52 (UTC+0)](#8975366)Comment Actions

Thanks!

If they're not security patches, they can be done in public to make everything easier :)

I'll stick those first 4 in gerrit in a bit and get them merged too.

I would suggest it's probably not worth doing that full stack (if possible) for REL1\_38 as that is basically EOL as of this week. We could just say it's not fixed there.

REL1\_35 is EOL in about 3 months too.

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 10:42 AM2023-06-29 10:42:50 (UTC+0)](#8975722)Comment Actions
> In [T335612#8975039](/T335612#8975039), [@Arlolra](/p/Arlolra/) wrote:
>
> Here are the backports for REL1\_39. Let me know if that works for you and I'll continue with the rest.
>
> 0001-Fix-frame-and-frameless-rdfa-depending-on-file-exist.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/hlv32zkmzropkx54uzw3/PHID-FILE-z52rzvjkcgmjx73dfnpg/0001-Fix-frame-and-frameless-rdfa-depending-on-file-exist.patch)
>
> 0002-Pass-whether-current-rev-of-file-exists-to-Linker-ma.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/qkpi7y3dcqy3cdhcbp2y/PHID-FILE-e7gzl7jik457urwgu3r5/0002-Pass-whether-current-rev-of-file-exists-to-Linker-ma.patch)
>
> 0003-Handle-thumb-errors-when-enableLegacyMediaDOM.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/bwm64ujl42c5nasszcvo/PHID-FILE-mcknw2puc3xa76ptdrnh/0003-Handle-thumb-errors-when-enableLegacyMediaDOM.patch)
>
> 0004-A-manualthumb-that-doesn-t-exist-should-be-considere.patch2 KB[Download](https://phab.wmfusercontent.org/file/download/hwv2vq6eekigfuivotjz/PHID-FILE-pneoshch57mi6vncp7wz/0004-A-manualthumb-that-doesn-t-exist-should-be-considere.patch)

These are now merged into REL1\_39 with minor changes (removing a use, adding $ back to a variable), ontop of some mediawiki-phan-config 0.12.0/0.12.1 backports (for ease, plus LTS).

Should mean the security patch is a trivial pick ontop.

I started trying to put the same stack of patches onto REL1\_40, but parsertest failure on the first one, so stopped - [https://gerrit.wikimedia.org/r/c/mediawiki/core/+/934012](https://gerrit.wikimedia.org/r/c/mediawiki/core/%2B/934012)

[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 6:08 PM2023-06-29 18:08:51 (UTC+0)](#8977622)Comment Actions
> I started trying to put the same stack of patches onto REL1\_40, but parsertest failure on the first one, so stopped - [https://gerrit.wikimedia.org/r/c/mediawiki/core/+/934012](https://gerrit.wikimedia.org/r/c/mediawiki/core/%2B/934012)

Here you go,

[https://gerrit.wikimedia.org/r/q/topic:T334659-2-REL1\_40](https://gerrit.wikimedia.org/r/q/topic%3AT334659-2-REL1_40)

0001-SECURITY-Move-badFile-lookup-to-Linker.patch8 KB[Download](https://phab.wmfusercontent.org/file/download/735burnmlp4p72jlt6ir/PHID-FILE-5c7kyu345tnvdamj3o4d/0001-SECURITY-Move-badFile-lookup-to-Linker.patch)

[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 6:10 PM2023-06-29 18:10:02 (UTC+0)](#8977627)Comment Actions
> I would suggest it's probably not worth doing that full stack (if possible) for REL1\_38 as that is basically EOL as of this week. We could just say it's not fixed there.

That's fine

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 6:15 PM2023-06-29 18:15:18 (UTC+0)](#8977639)Comment Actions

Great, thanks!

I guess this is a low enough severity security fix, for quite a narrow case... This seems fine for me for REL1\_35 and REL1\_38 to suggest that people upgrade.

I'll have to get the CVE updated later

[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 6:19 PM2023-06-29 18:19:33 (UTC+0)](#8977661)Comment Actions
> REL1\_35 is EOL in about 3 months too.

Probably reasonable to just backport a variant of the security patch. I'll see what I can do

> For REL1\_35, we could "just" use \MediaWiki\MediaWikiServices::getInstance()->getParser() to gain an instance to play with..

We just need the badfile service, not the whole parser, I think

That makes me wonder though, the patch I've supplied only considers parser contexts (the check is moved from the parser to the linker) but maybe there are other places where user controlled content make images that should check if it's a bad file?

[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 6:41 PM2023-06-29 18:41:35 (UTC+0)](#8977805)Comment Actions

Oh, I should note, the security patches I uploaded in [T335612#8975039](/T335612#8975039) and [T335612#8977622](/T335612#8977622) are amended ever so slightly from the original one, to add a test case to the legacy media parsertests file and alter the error output. Here's the same thing that applies to master and is the patch I'd prefer to land there.

0001-SECURITY-Move-badFile-lookup-to-Linker.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/vh6hypitrxnlw3nvng3f/PHID-FILE-ijl5rzlezez3b6ivqatc/0001-SECURITY-Move-badFile-lookup-to-Linker.patch)

Here's the diff between the two,

```
commit b4d38b335a6d994d3d1645c8a695620299c08a8d
Author: Arlo Breault <abreault@wikimedia.org>
Date:   Fri Apr 28 19:00:50 2023 -0400

    Diff

    Change-Id: I42a61870e8ff8d49d6566531a410557382a94800

diff --git a/includes/linker/Linker.php b/includes/linker/Linker.php
index 56c22574751..c53a412d9c1 100644
--- a/includes/linker/Linker.php
+++ b/includes/linker/Linker.php
@@ -787,7 +787,13 @@ class Linker {
 		} elseif ( !$thumb || ( !$enableLegacyMediaDOM && $thumb->isError() ) || $isBadFile ) {
 			$rdfaType = 'mw:Error ' . $rdfaType;
 			if ( $enableLegacyMediaDOM ) {
-				$s .= wfMessage( 'thumbnail_error', '' )->escaped();
+				if ( !$thumb ) {
+					$s .= wfMessage( 'thumbnail_error', '' )->escaped();
+				} else {
+					$s .= self::makeBrokenImageLinkObj(
+						$title, '', '', '', '', (bool)$time, $handlerParams, true
+					);
+				}
 			} else {
 				if ( $thumb && $thumb->isError() ) {
 					Assert::invariant(
@@ -795,8 +801,10 @@ class Linker {
 						'Unknown MediaTransformOutput: ' . get_class( $thumb )
 					);
 					$label = $thumb->toText();
-				} else {
+				} elseif ( !$thumb ) {
 					$label = wfMessage( 'thumbnail_error', '' )->text();
+				} else {
+					$label = '';
 				}
 				$s .= self::makeBrokenImageLinkObj(
 					$title, $label, '', '', '', (bool)$time, $handlerParams, true
diff --git a/tests/parser/legacyMedia.txt b/tests/parser/legacyMedia.txt
index 3cad1ab784d..863ff3c77c1 100644
--- a/tests/parser/legacyMedia.txt
+++ b/tests/parser/legacyMedia.txt
@@ -218,6 +218,16 @@ Bar foo
 Bar foo</p>
 !! end

+!! test
+Bad images - manualthumb
+!! config
+wgParserEnableLegacyMediaDOM=true
+!! wikitext
+[[File:Foobar.jpg|thumb=Bad.jpg|Uh oh]]
+!! html/php
+<div class="thumb tright"><div class="thumbinner" style="width:322px;"><a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg">File:Foobar.jpg</a>  <div class="thumbcaption">Uh oh</div></div></div>
+!! end
+
 !! test
 Bad images - in gallery
 !! config
diff --git a/tests/parser/media.txt b/tests/parser/media.txt
index 902deac44a8..beb01e33b62 100644
--- a/tests/parser/media.txt
+++ b/tests/parser/media.txt
@@ -235,7 +235,7 @@ wgParserEnableLegacyMediaDOM=false
 !! wikitext
 [[File:Foobar.jpg|thumb=Bad.jpg|Uh oh]]
 !! html/php
-<figure typeof="mw:Error mw:File/Thumb"><a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"><span class="mw-file-element mw-broken-media" data-width="180">Error creating thumbnail: </span></a><figcaption>Uh oh</figcaption></figure>
+<figure typeof="mw:Error mw:File/Thumb"><a href="/wiki/File:Foobar.jpg" title="File:Foobar.jpg"><span class="mw-file-element mw-broken-media" data-width="180">File:Foobar.jpg</span></a><figcaption>Uh oh</figcaption></figure>
 !! end

 !! test
```
[Reedy](/p/Reedy/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-mfkxfkotfnsti5v/)[Jun 29 2023, 6:52 PM2023-06-29 18:52:58 (UTC+0)](#8977836)[Arlolra](/p/Arlolra/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-nkpvep7rriszlmb/)[Jun 29 2023, 7:22 PM2023-06-29 19:22:37 (UTC+0)](#8977896)[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 9:22 PM2023-06-29 21:22:31 (UTC+0)](#8978250)Comment Actions
> In [T335612#8977661](/T335612#8977661), [@Arlolra](/p/Arlolra/) wrote:
> > For REL1\_35, we could "just" use \MediaWiki\MediaWikiServices::getInstance()->getParser() to gain an instance to play with..
>
> We just need the badfile service, not the whole parser, I think

Ah, but then there's no article title context. Here's a backport to REL1\_35, if you want it. Unfortunately, the tests were still disabled at the time of this release but I tried it out locally.

0001-SECURITY-Move-badFile-lookup-to-Linker.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/azm5i43w3uzssuwx3f7z/PHID-FILE-kzippuqjch3tgp5pa5zf/0001-SECURITY-Move-badFile-lookup-to-Linker.patch)

[Arlolra](/p/Arlolra/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-l4cpriwakz4jxml/)[Jun 29 2023, 9:23 PM2023-06-29 21:23:12 (UTC+0)](#8978258)

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 9:52 PM2023-06-29 21:52:27 (UTC+0)](#8978454)Comment Actions
> In [T335612#8978250](/T335612#8978250), [@Arlolra](/p/Arlolra/) wrote:
> > In [T335612#8977661](/T335612#8977661), [@Arlolra](/p/Arlolra/) wrote:
> > > For REL1\_35, we could "just" use \MediaWiki\MediaWikiServices::getInstance()->getParser() to gain an instance to play with..
> >
> > We just need the badfile service, not the whole parser, I think
>
> Ah, but then there's no article title context. Here's a backport to REL1\_35, if you want it. Unfortunately, the tests were still disabled at the time of this release but I tried it out locally.
>
> 0001-SECURITY-Move-badFile-lookup-to-Linker.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/azm5i43w3uzssuwx3f7z/PHID-FILE-kzippuqjch3tgp5pa5zf/0001-SECURITY-Move-badFile-lookup-to-Linker.patch)

Thanks

I suspect phan or something will complain about the && $parser on [https://phabricator.wikimedia.org/F37123435$31](https://phabricator.wikimedia.org/F37123435%2431) because it's not nullable, so it should always be true-y.

Easily fixed, so will try and run phan locally and see... And then amend if necessary.

I've just forward ported that to REL1\_38, unclear if it's going to break any parser tests...

0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_38.patch3 KB[Download](https://phab.wmfusercontent.org/file/download/u6g63n4rugppttj7c6ti/PHID-FILE-hi27ctstnggerwnvnn7b/0001-SECURITY-Move-badFile-lookup-to-Linker-REL1_38.patch) (untested)

TBH, it might be worth getting CI to run and merge the patches in the open before I actually build the releases

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 9:59 PM2023-06-29 21:59:13 (UTC+0)](#8978496)Comment Actions
> In [T335612#8978454](/T335612#8978454), [@Reedy](/p/Reedy/) wrote:
>
> I suspect phan or something will complain about the && $parser on [https://phabricator.wikimedia.org/F37123435$31](https://phabricator.wikimedia.org/F37123435%2431) because it's not nullable, so it should always be true-y.
>
> Easily fixed, so will try and run phan locally and see... And then amend if necessary.

includes/Linker.php:416 PhanRedundantCondition Redundant attempt to cast $parser of type \Parser to truthy

Heh, yup.

Passes if I remove that :)

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 10:00 PM2023-06-29 22:00:07 (UTC+0)](#8978544)Comment Actions

0001-SECURITY-Move-badFile-lookup-to-Linker-REL1\_35v2.patch4 KB[Download](https://phab.wmfusercontent.org/file/download/lvjdhe4m4prqnuumkmsm/PHID-FILE-iuclcbeh6ot2vgx33va4/0001-SECURITY-Move-badFile-lookup-to-Linker-REL1_35v2.patch)

[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 10:32 PM2023-06-29 22:32:59 (UTC+0)](#8978781)Comment Actions
> I've just forward ported that to REL1\_38, unclear if it's going to break any parser tests...

The bad image tests are disabled in REL1\_38, so probably not

> I suspect phan or something will complain about the && $parser on [https://phabricator.wikimedia.org/F37123435$31](https://phabricator.wikimedia.org/F37123435%2431) because it's not nullable, so it should always be true-y.

Ugh  That's in all the patches

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 10:38 PM2023-06-29 22:38:24 (UTC+0)](#8978819)Comment Actions

If REL1\_38 is probably ok, might aswell include the patch then. Gives us a clean sweep.

The && $parser is easily fixed anyway :) - I'll sort it when I'm staging them tomorrow

[Arlolra](/p/Arlolra/) added a comment.[Jun 29 2023, 10:48 PM2023-06-29 22:48:53 (UTC+0)](#8978882)Comment Actions

Ok, thank you, and sorry for the mess

[Reedy](/p/Reedy/) added a comment.[Jun 29 2023, 10:53 PM2023-06-29 22:53:10 (UTC+0)](#8978932)Comment Actions

Don't worry. You've more than helped sorting the backports :)

[Reedy](/p/Reedy/) edited subscribers, added: [gerritbot](/p/gerritbot/); removed: [jenkins-bot](/p/jenkins-bot/).[Jun 30 2023, 3:32 PM2023-06-30 15:32:59 (UTC+0)](#8981312)[Arlolra](/p/Arlolra/) moved this task from [Blocked](/project/board/6230/) to [To Verify](/project/board/6230/) on the [Content-Transform-Team-WIP](/tag/content-transform-team-wip/) board.[Jun 30 2023, 3:37 PM2023-06-30 15:37:22 (UTC+0)](#8981326)[gerritbot](/p/gerritbot/) added a comment.[Jun 30 2023, 3:48 PM2023-06-30 15:48:41 (UTC+0)](#8981365)Comment Actions

Change 934563 **merged** by jenkins-bot:

[mediawiki/core@REL1\_35] SECURITY: Move badFile lookup to Linker

<https://gerrit.wikimedia.org/r/934563>

[gerritbot](/p/gerritbot/) added a comment.[Jun 30 2023, 3:49 PM2023-06-30 15:49:44 (UTC+0)](#8981366)Comment Actions

Change 934566 **merged** by jenkins-bot:

[mediawiki/core@REL1\_38] SECURITY: Move badFile lookup to Linker

<https://gerrit.wikimedia.org/r/934566>

[gerritbot](/p/gerritbot/) added a comment.[Jun 30 2023, 4:02 PM2023-06-30 16:02:42 (UTC+0)](#8981452)Comment Actions

Change 934568 **merged** by jenkins-bot:

[mediawiki/core@REL1\_39] SECURITY: Move badFile lookup to Linker

<https://gerrit.wikimedia.org/r/934568>

[gerritbot](/p/gerritbot/) added a comment.[Jun 30 2023, 4:11 PM2023-06-30 16:11:44 (UTC+0)](#8981512)Comment Actions

Change 934571 **merged** by jenkins-bot:

[mediawiki/core@master] SECURITY: Move badFile lookup to Linker

<https://gerrit.wikimedia.org/r/934571>

[Reedy](/p/Reedy/) closed this task as Resolved.[Jun 30 2023, 4:21 PM2023-06-30 16:21:28 (UTC+0)](#8981622)[Reedy](/p/Reedy/) assigned this task to [Arlolra](/p/Arlolra/).[gerritbot](/p/gerritbot/) added a comment.[Jun 30 2023, 4:31 PM2023-06-30 16:31:50 (UTC+0)](#8981728)Comment Actions

Change 934584 had a related patch set uploaded (by Reedy; author: Arlolra):

[mediawiki/core@REL1\_40] SECURITY: Move badFile lookup to Linker

<https://gerrit.wikimedia.org/r/934584>

[gerritbot](/p/gerritbot/) added a project: [Patch-For-Review](/tag/patch-for-review/).[Jun 30 2023, 4:31 PM2023-06-30 16:31:53 (UTC+0)](#8981731)[gerritbot](/p/gerritbot/) added a comment.[Jun 30 2023, 4:50 PM2023-06-30 16:50:40 (UTC+0)](#8981923)Comment Actions

Change 934584 **merged** by jenkins-bot:

[mediawiki/core@REL1\_40] SECURITY: Move badFile lookup to Linker

<https://gerrit.wikimedia.org/r/934584>

[Reedy](/p/Reedy/) removed a project: [Patch-For-Review](/tag/patch-for-review/).[Jun 30 2023, 5:42 PM2023-06-30 17:42:24 (UTC+0)](#8982174)[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-5axrugpl6z7et6v/)" to "Public (No Login Required)".[Reedy](/p/Reedy/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-cnpt6g3z4sz24s7/)" to "All Users".[Maintenance\_bot](/p/Maintenance_bot/) added a project: [Commons](/tag/commons/).[Jun 30 2023, 5:46 PM2023-06-30 17:46:23 (UTC+0)](#8982241)[MSantos](/p/MSantos/) added a parent task: [T336146: [EPIC] FY 23-24 unplanned and maintenance for Content Transform Team](/T336146).[Jul 20 2023, 10:01 AM2023-07-20 10:01:18 (UTC+0)](#9030671)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. 路 [Wikimedia Foundation](https://wikimediafoundation.org/) 路 [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) 路 [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) 路 [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) 路 [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) 路 [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) 路 [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) 路 [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from lists.fedoraproject.org_113879d1_20250111_043802.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)


#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5.mbox.gz?message=6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5/#6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5)

# [SECURITY] Fedora 39 Update: mediawiki-1.39.4-1.fc39

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates锛fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates锛fedoraproject.org")

15 Sep
2023

15 Sep
'23

8:01 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-7e9d6015f6
2023-09-15 18:36:13.238118
--------------------------------------------------------------------------------

Name : mediawiki
Product : Fedora 39
Version : 1.39.4
Release : 1.fc39
URL : <https://www.mediawiki.org/>
Summary : A wiki engine
Description :
MediaWiki is the software used for Wikipedia and the other Wikimedia
Foundation websites. Compared to other wikis, it has an excellent
range of features and support for high-traffic websites using multiple
servers

This package supports wiki farms. Read the instructions for creating wiki
instances under /usr/share/doc/mediawiki/README.RPM.
Remember to remove the config dir after completing the configuration.

--------------------------------------------------------------------------------
Update Information:

<https://lists.wikimedia.org/hyperkitty/list/mediawiki->
announce@lists.wikimedia.org/thread/H46H5ZYZG2PYUQ5STK7NWKF7GXYW7H6B/
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Aug 23 2023 Michael Cronenworth mike@cchtml.com - 1.39.4-1
- Update to 1.39.4
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2217429 - CVE-2023-36675 mediawiki: cross site scripting [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2217429>
[ 2 ] Bug #2233911 - CVE-2023-36674 mediawiki: Manualthumb bypasses badFile lookup [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2233911>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-7e9d6015f6' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5/#6CHRX6DSLAMVXCV2YMJEWOLTBEYSESE5)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_91c34c11_20250111_043802.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)


#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6.mbox.gz?message=2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6/#2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6)

# [SECURITY] Fedora 37 Update: mediawiki-1.38.7-1.fc37

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates锛fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates锛fedoraproject.org")

1 Sep
2023

1 Sep
'23

8:33 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-d8ae3c122e
2023-09-02 01:33:04.042683
--------------------------------------------------------------------------------

Name : mediawiki
Product : Fedora 37
Version : 1.38.7
Release : 1.fc37
URL : <https://www.mediawiki.org/>
Summary : A wiki engine
Description :
MediaWiki is the software used for Wikipedia and the other Wikimedia
Foundation websites. Compared to other wikis, it has an excellent
range of features and support for high-traffic websites using multiple
servers

This package supports wiki farms. Read the instructions for creating wiki
instances under /usr/share/doc/mediawiki/README.RPM.
Remember to remove the config dir after completing the configuration.

--------------------------------------------------------------------------------
Update Information:

<https://lists.wikimedia.org/hyperkitty/list/mediawiki->
announce@lists.wikimedia.org/thread/H46H5ZYZG2PYUQ5STK7NWKF7GXYW7H6B/
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Aug 23 2023 Michael Cronenworth mike@cchtml.com - 1.38.7-1
- Update to 1.38.7
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2217429 - CVE-2023-36675 mediawiki: cross site scripting [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2217429>
[ 2 ] Bug #2233911 - CVE-2023-36674 mediawiki: Manualthumb bypasses badFile lookup [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2233911>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-d8ae3c122e' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6/#2UIVGYECQGTUC2LLPVCZBPDLCTOHL2F6)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_9d397d40_20250111_043802.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)


#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O.mbox.gz?message=DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O/#DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O)

# [SECURITY] Fedora 38 Update: mediawiki-1.39.4-1.fc38

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates锛fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates锛fedoraproject.org")

1 Sep
2023

1 Sep
'23

8:16 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2023-1fcaba0998
2023-09-02 01:15:05.121037
--------------------------------------------------------------------------------

Name : mediawiki
Product : Fedora 38
Version : 1.39.4
Release : 1.fc38
URL : <https://www.mediawiki.org/>
Summary : A wiki engine
Description :
MediaWiki is the software used for Wikipedia and the other Wikimedia
Foundation websites. Compared to other wikis, it has an excellent
range of features and support for high-traffic websites using multiple
servers

This package supports wiki farms. Read the instructions for creating wiki
instances under /usr/share/doc/mediawiki/README.RPM.
Remember to remove the config dir after completing the configuration.

--------------------------------------------------------------------------------
Update Information:

<https://lists.wikimedia.org/hyperkitty/list/mediawiki->
announce@lists.wikimedia.org/thread/H46H5ZYZG2PYUQ5STK7NWKF7GXYW7H6B/
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Aug 23 2023 Michael Cronenworth mike@cchtml.com - 1.39.4-1
- Update to 1.39.4
\* Thu Jul 20 2023 Fedora Release Engineering releng@fedoraproject.org - 1.39.3-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_39_Mass_Rebuild>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2217429 - CVE-2023-36675 mediawiki: cross site scripting [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2217429>
[ 2 ] Bug #2233911 - CVE-2023-36674 mediawiki: Manualthumb bypasses badFile lookup [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=2233911>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2023-1fcaba0998' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O/#DOAXEGYBOEM4JWB4J3BDH73NK2LCYC3O)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.


