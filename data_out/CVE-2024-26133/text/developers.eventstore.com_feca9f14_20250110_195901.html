
[Skip to main content](#main-content)[![](/Kurrent Logo - Plum.svg)![](/Kurrent Logo - White.svg)EventStoreDB Documentation](/)[Getting Started](/getting-started/quickstart/)Server

* [v24.10](/server/v24.10/quick-start/)
* [v24.6](/server/v24.6/quick-start/)
* [v23.10](/server/v23.10/quick-start/)
* [v22.10](/server/v22.10/introduction.html)
* [v5](/server/v5/introduction.html)
Clients & APIs

* #### Clients

  + [EventStoreDB clients](/clients/grpc/getting-started.html)
* #### HTTP API

  + [v24.10](/http-api/v24.10/introduction.html)
  + [v24.6](/http-api/v24.6/introduction.html)
  + [v23.10](/http-api/v23.10/introduction.html)
  + [v22.10](/http-api/v22.10/introduction.html)
  + [v5](/http-api/v5/introduction.html)
* #### Deprecated

  + [Legacy TCP clients](/clients/tcp/)
[Cloud](/cloud/introduction.html)Need help?

* [Community forum](https://discuss.eventstore.com)
* [Articles](https://eventstore.com/blog/articles/)
* [Webinars](https://eventstore.com/webinars/)
* [Release notes](https://eventstore.com/blog/release-notes/)
* [Event Store Academy](https://academy.eventstore.com)
Search`K`

* [V22.10](/server/v22.10/)
* [Clustering](/server/v22.10/cluster.html)
* [Configuration](/server/v22.10/configuration.html)
* [Diagnostics](/server/v22.10/diagnostics.html)
* [Event streams](/server/v22.10/streams.html)
* [Indexes](/server/v22.10/indexes.html)
* [Installation](/server/v22.10/installation.html)
* [Introduction](/server/v22.10/introduction.html)
* [Maintenance](/server/v22.10/operations.html)
* [Networking](/server/v22.10/networking.html)
* [Persistent subscriptions](/server/v22.10/persistent-subscriptions.html)
* [Projections](/server/v22.10/projections.html)
* [Security](/server/v22.10/security.html)
* [Upgrade Guide](/server/v22.10/upgrade-guide.html)
# Upgrade Guide

About 1 min

---

On This Page

* [Upgrade guide for EventStoreDB 22.10](#upgrade-guide-for-eventstoredb-22-10)
* + [Upgrade procedure](#upgrade-procedure)
  + [Breaking changes from version 21.10](#breaking-changes-from-version-21-10)
  + [Breaking changes from version 20.10](#breaking-changes-from-version-20-10)

## [Upgrade guide for EventStoreDB 22.10](#upgrade-guide-for-eventstoredb-22-10)

Packages are available on our [website](https://www.eventstore.com/downloads) and can be installed via [Packagecloud](https://packagecloud.io/EventStore/EventStore-OSS), [Chocolatey](https://chocolatey.org/packages/eventstore-oss), or [Docker](https://hub.docker.com/r/eventstore/eventstore/tags?page=1&name=22.10). See detailed commands/instructions for each platform.

### [Upgrade procedure](#upgrade-procedure)

An online rolling upgrade can be done from these versions of EventStoreDB, directly to 22.10.4:

* Previous versions of 22.10.x
* 22.6
* 21.10
* 20.10

Follow the upgrade procedure below on each node, starting with a follower node:

1. Stop the node.
2. Upgrade EventstoreDB to 22.10 and update configuration.
3. Start the node.
4. Wait for the node to become a follower or read-only replica.
5. Repeat on the next node.

As illustrated below:

![EventStoreDB upgrade procedure for each node](/assets/upgrade-procedure-HBEwsSQL.png)

EventStoreDB upgrade procedure for each node

Upgrading the cluster in this manner keeps the cluster online and able to service requests. There may still be disruptions to your services during the upgrade, namely:

* Client connections may be disconnected when nodes go offline, or when elections take place.
* The cluster is less fault-tolerant while a node is offline for an upgrade because the cluster requires a quorum of nodes to be online to service write requests.
* Replicating large amounts of data to a node can have a performance impact on the Leader in the cluster.

### [Breaking changes from version 21.10](#breaking-changes-from-version-21-10)

If you are upgrading from 21.10 or earlier, then you need to be aware of a breaking change in the TCP proto.

#### [Proto2 upgraded to Proto3 (TCP)](#proto2-upgraded-to-proto3-tcp)

The server now uses Proto3 for messages sent over TCP. This affects both replication and the legacy dotnet client.

EventStoreDB nodes on version 22.10 cannot replicate data to version 21.10 and below, but older nodes can still replicate to version 22.10 and above. Follow the [upgrade procedure](#upgrade-procedure) and ensure that the Leader node is the last node to be upgraded to avoid any issues.

### [Breaking changes from version 20.10](#breaking-changes-from-version-20-10)

If you are upgrading from 20.10, then you need to be aware of the following breaking changes:

#### [Log files rotation](#log-files-rotation)

Proper log rotation to on disk logging was added in 21.10. To accomplish this, the file names for both the stats and regular logs now include a date-stamp. i.e., log-statsYYYYMMDD.json and logYYYYMMDD.json, respectively.

#### [Intermediate Certificates](#intermediate-certificates)

Support for intermediate certificates was added in EventStoreDB version 21.10. If you are using intermediate certificates on a previous version and rely on the AIA URL to build the full chain, the configuration will no longer work and will print the following error on startup:

> Failed to build the certificate chain with the node's own certificate up to the root

[PrevSecurity](/server/v22.10/security.html)

