

RUSTSEC-2021-0089: raw-cpuid: Optional `Deserialize` implementations lacking validation › RustSec Advisory Database

#

[About](/)
[Advisories](/advisories/)
[Report Vulnerabilities](/contributing.html)

[History](https://github.com/RustSec/advisory-db/commits/main/crates/raw-cpuid/RUSTSEC-2021-0089.md) ⋅
[Edit](https://github.com/RustSec/advisory-db/edit/main/crates/raw-cpuid/RUSTSEC-2021-0089.md) ⋅
[JSON (OSV)](https://api.osv.dev/v1/vulns/RUSTSEC-2021-0089)

# RUSTSEC-2021-0089

Optional `Deserialize` implementations lacking validation

Reported
January 20, 2021

Issued
August 21, 2021

(last modified: June 13, 2023)

Package
[raw-cpuid](/packages/raw-cpuid.html)
([crates.io](https://crates.io/crates/raw-cpuid))

Type
Vulnerability

Categories

* [memory-corruption](/categories/memory-corruption.html)
* [denial-of-service](/categories/denial-of-service.html)

Aliases

* [CVE-2021-45687](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45687)
* [GHSA-jf5h-cf95-w759](https://github.com/advisories/GHSA-jf5h-cf95-w759)
* [GHSA-w428-f65r-h4q2](https://github.com/advisories/GHSA-w428-f65r-h4q2)

References

* <https://github.com/gz/rust-cpuid/issues/43>

Patched

* `>=9.1.1`

Unaffected

* `<=3.1.0`

### Description

When activating the non-default feature `serialize`, most structs implement
`serde::Deserialize` without sufficient validation. This allows breaking
invariants in safe code, leading to:

* Undefined behavior in `as_string()` methods (which use
  `std::str::from_utf8_unchecked()` internally).
* Panics due to failed assertions.

See https://github.com/gz/rust-cpuid/issues/43.

Advisory available under [CC0-1.0](https://spdx.org/licenses/CC0-1.0.html)
license.

