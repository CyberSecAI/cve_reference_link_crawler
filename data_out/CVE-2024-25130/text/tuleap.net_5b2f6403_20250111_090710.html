
[Skip to main content](#main-content)

[Get help](/help/)
[Documentation](/doc/en/)

[Release Note](https://www.tuleap.org/resources/release-notes/tuleap-16-3/?utm_source=tuleap&utm_medium=forge&utm_campaign=tuleap-forge-icon-help-RN-link)

[API](/api/explorer/)
[Terms](/tos/tos.php)
[Contact](/contact.php)
[Shortcuts](#help-modal-shortcuts)

### Keyboard shortcuts

| Description | Shortcut |
| --- | --- |

Close

[Login](/account/login.php?return_to=%2Fplugins%2Ftracker%2F%3Faid%3D36803)
[New User](/account/register.php)

# Public

Project privacy set to public. By default, its content is available to everyone (authenticated or not). Please note that more restrictive permissions might exist on some items.

[üå∑ Tuleap](/projects/tuleap "Tuleap")

[Trackers](/plugins/tracker/?group_id=101 "Trackers")

[Requests](/plugins/tracker/?tracker=140 "Requests")
Shortcuts
[Requests Kanban](/kanban/70 "Requests Kanban")

[request #36803](/plugins/tracker/?aid=36803 "request #36803")

* request #36803
  Mass update clears the permissions on artifact field

Actions

* Create Git branch and pull request

* [Artifact](/plugins/tracker/?aid=36803)

| Infos |  |
| --- | --- |

| Artifact ID[#36803](/plugins/tracker/?aid=36803)Submitted byAur√©lien Tisn√© (atisne) | Last Modified On2024-02-15 08:57Submitted on2024-02-06 14:22Rank38414 |
| --- | --- |

| Details |  |
| --- | --- |

| Summary \*Mass update clears the permissions on artifact field |
| --- |

Original Submission

Updating an artifact via the mass update feature clears the content of the permissions on artifact field.

### Impact

Users with a read access to a tracker where the mass update feature is used might get access to restricted information.

CVSSv3.1 score: 5.4 (CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:L/A:N)

### Steps to reproduce

1. Create a tracker using a field of type 'Permission on artifacts'
2. Create some artifacts and set permission on these artifacts
3. Update some artifacts, without modify permissions on them, using the feature 'Mass update'
   -> All modified artifacts lost their permissions

See the changelog on the attachment.

### References

[CWE 200](https://cwe.mitre.org/data/definitions/200.html)

[OWASP Top 10 Broken Access Control](https://owasp.org/Top10/en/A01_2021-Broken_Access_Control/)

CVE-2024-25130

### Acknowledgement

This security issue was reported by Aur√©lien TISN√â from [CS Group](https://www.csgroup.eu/fr/).

| CategoryTrackers | Reported in versionAllPlatformEmpty |
| --- | --- |

Is an Enhancement or an internal improvement?

* [ ] enhancement
* [ ] internal improvement
CC listEmpty

| Stage |  |
| --- | --- |

| Assigned toThomas Gerbet (tgerbet) | StatusClosedClose date2024-02-14 |
| --- | --- |

| Attachments |  |
| --- | --- |

Connected artifacts
##### Artifact links

## Releases

## Fixed in

  | Artifact ID | Project | Tracker | Summary | Status | Last Update Date | Submitted By | Assigned to ||  | [rel #35498](/plugins/tracker/?aid=35498) | Tuleap | Releases | 15.6 | Delivered | 2024-03-04 15:49 | [Manuel Vacelet (vaceletm)](/users/vaceletm) |  |

##### Reverse artifact links

EmptyAttachmentsBy [Aur√©lien Tisn√© (atisne)](/users/atisne)(27 kB)[mass-update-changelog.png](/plugins/tracker/attachments/2637-mass-update-changelog.png "Mass update changelog")Mass update changelog

| References |  |
| --- | --- |

Cross references
##### Referencing request #36803

# Artifact Tracker v5

[request #36817

Inconsistency in JSON representation of perm](https://tuleap.net/goto?key=request&val=36817&group_id=101)

# Git commit

## tuleap/tuleap/stable

[fix: request #36803 Mass update clears permissions on artifact

57978a3250

![User avatar](https://tuleap.net/users/tgerbet/avatar-d5a7ff7a4f4ce5a22b3f6785bfb799b78c072e974420ef9b03e90c45d7438480.png)

Thomas Gerbet (tgerbet)

,
2024-02-14 11:58](https://tuleap.net/goto?key=git&val=tuleap%2Fstable%2F57978a32508f5c6d0365419b6eaeb368aee20667&group_id=101)
[Merge commit 'refs/changes/40/30440/3' of ssh://gerrit.tuleap.net:29418/tuleap into HEAD

2b83d93b3a

![User avatar](https://tuleap.net/users/jmasson/avatar-6fd7cfc62428df447515eeadedf7bea16e9d93e717c093794ff0c53ddcd6b734.png)

Joris MASSON (jmasson)

,
2024-02-14 13:50](https://tuleap.net/goto?key=git&val=tuleap%2Fstable%2F2b83d93b3af4b2865a671c36645b52f2dce35a21&group_id=101)

Show items referenced by request #36803

##### Referenced by request #36803

# Artifact Tracker v5

[request #33608

Preview of a linked artifact with a type does not respect permissions](https://tuleap.net/goto?key=art&val=33608&group_id=101)
[rel #35498

15.6](https://tuleap.net/goto?key=rel&val=35498&group_id=101)

# Other

[gerrit #30440](https://tuleap.net/goto?key=gerrit&val=30440&group_id=101)

Display settings

* [Comments are in reversed order](#invert-order)
* Changes are displayed
# Follow-ups

![User avatar](https://tuleap.net/users/tgerbet/avatar-d5a7ff7a4f4ce5a22b3f6785bfb799b78c072e974420ef9b03e90c45d7438480.png)[Thomas Gerbet (tgerbet)](/users/tgerbet)2024-02-15 08:57

CVE-2024-25130 has been assigned to this issue.

---

* **Original Submission**
   Show diff

   Switch to markup diff

  Something went wrong, the follow up content couldn't be loaded

  Only formatting have been changed, you should switch to markup to see the changes
![User avatar](https://tuleap.net/users/jmasson/avatar-6fd7cfc62428df447515eeadedf7bea16e9d93e717c093794ff0c53ddcd6b734.png)[Joris MASSON (jmasson)](/users/jmasson)2024-02-14 13:52

* **Status**  changed from Under review to Closed
* **Connected artifacts**
  + Added Fixed in: [rel #35498](https://tuleap.net/goto?key=rel&val=35498&group_id=101)
* **Close date** set to 2024-02-14
![User avatar](https://tuleap.net/users/tgerbet/avatar-d5a7ff7a4f4ce5a22b3f6785bfb799b78c072e974420ef9b03e90c45d7438480.png)[Thomas Gerbet (tgerbet)](/users/tgerbet)2024-02-13 11:12

Under review at [gerrit #30440](https://tuleap.net/goto?key=gerrit&val=30440&group_id=101 "gerrit")

---

* **Summary** -Mass update clears permissions on artifact¬†+Mass update clears the permissions on artifact field
* **Original Submission**
   Show diff

   Switch to markup diff

  Something went wrong, the follow up content couldn't be loaded

  Only formatting have been changed, you should switch to markup to see the changes
* **Status**  changed from Under implementation to Under review
![User avatar](https://tuleap.net/users/atisne/avatar-3abed7ed6a03f93f76c64f4d8c749c7e1ac0864a0f6568378bf5cb80b6183150.png)[Aur√©lien Tisn√© (atisne)](/users/atisne)2024-02-13 09:11

You can.

![User avatar](https://tuleap.net/users/tgerbet/avatar-d5a7ff7a4f4ce5a22b3f6785bfb799b78c072e974420ef9b03e90c45d7438480.png)[Thomas Gerbet (tgerbet)](/users/tgerbet)2024-02-13 08:01

Can we credit you for the finding in the same way we did for [art #33608](https://tuleap.net/goto?key=art&val=33608&group_id=101 "Tracker Artifact - Requests")?

---

* **Original Submission**
   Show diff

   Switch to markup diff

  Something went wrong, the follow up content couldn't be loaded

  Only formatting have been changed, you should switch to markup to see the changes
![User avatar](https://tuleap.net/users/tgerbet/avatar-d5a7ff7a4f4ce5a22b3f6785bfb799b78c072e974420ef9b03e90c45d7438480.png)[Thomas Gerbet (tgerbet)](/users/tgerbet)2024-02-13 07:53

Hello,

Thanks for the report. I confirm the issue. Flagging this as a security issue as it can lead to an unwanted information disclosure.

---

* **Status**  changed from New to Under implementation
* **Assigned to**  changed from None to Thomas Gerbet (tgerbet)
* **Reported in version**  changed from development to All
* **Platform**  cleared values: EL9 (RockyLinux|AlmaLinux|RHEL)
![User avatar](https://tuleap.net/users/gbonnefille/avatar-9ae894d39a155c14d299eec3a799d070877b9129cd4dfa6109026b54ce6ced9a.png)[Guilhem Bonnefille (CS) (gbonnefille)](/users/gbonnefille)2024-02-07 14:02

The problem seems located to `plugins/tracker/include/Tracker/FormElement/Tracker_FormElement_Field_PermissionsOnArtifact.php` method `fetchSubmitValueMasschange`: this method returns the standard widget, without any `unchanged` specific value.

