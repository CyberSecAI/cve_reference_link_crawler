=== Content from community.sonarsource.com_972c0bea_20250111_183802.html ===


[Sonar Community](/)

# [SonarQube (CE 10.3.0) leaking encrypted values in web server logs](/t/sonarqube-ce-10-3-0-leaking-encrypted-values-in-web-server-logs/108187)

[SonarQube Server / Community Build](/c/sq/10)

[security](https://community.sonarsource.com/tag/security),
[encryption](https://community.sonarsource.com/tag/encryption),
[logging](https://community.sonarsource.com/tag/logging),
[sonarqube](https://community.sonarsource.com/tag/sonarqube)

[ThornableGumpture](https://community.sonarsource.com/u/ThornableGumpture)
(Fullname)

January 30, 2024, 12:56pm

1

This sounds like an obvious security issue that had probably been spotted before, but I haven’t found reports of it anywhere, so here we go.

I’ve been setting up SonarQube Community Edition 10.3.0 from Docker (tag `sonarqube:10.3.0-community`) with [settings encryption enabled](https://docs.sonarsource.com/sonarqube/9.8/instance-administration/security/#settings-encryption). When testing the feature, I’ve noticed that the values to encrypt are passed to the `encrypt` API endpoint as URI parameters, and, as a result, they are logged by the webserver (and also the HTTPS proxy, which I had in my deployment). My screenshot shows offending logs and the browser request:

[![sonarqube-encryption-leak](https://europe1.discourse-cdn.com/sonarsource/uploads/sonarcommunity/optimized/3X/1/6/16610b08a58cf52c55455a6b791a101397839506_2_690x405.png)sonarqube-encryption-leak1388×815 56.9 KB](https://europe1.discourse-cdn.com/sonarsource/uploads/sonarcommunity/original/3X/1/6/16610b08a58cf52c55455a6b791a101397839506.png "sonarqube-encryption-leak")

This kind of defeats the purpose of the encryption feature. It should be easily fixed by passing the values in the request body (which is not logged) instead of the URI. I guess as a workaround you could clear the logs of all web servers the encryption request touches, every time you use it.

1 Like

[Disclosure of a vulnerability fixed with SonarQube 10.4 and 9.9.4 LTA](https://community.sonarsource.com/t/disclosure-of-a-vulnerability-fixed-with-sonarqube-10-4-and-9-9-4-lta/116823)

[Sonar Community Roundup, June 1 - 7 :rainbow\_flag:](https://community.sonarsource.com/t/sonar-community-roundup-june-1-7/116885)

[Colin](https://community.sonarsource.com/u/Colin)
(Colin)

January 31, 2024, 8:58am

3

Hey there.

I’ve unlisted your topic since you’re reporting a vulnerability. Our [responsible disclosure policy](https://community.sonarsource.com/t/responsible-vulnerability-disclosure/9317) asks that you email security@sonarsource.com rather than making public posts.

That being said, our team noticed this thread and is already looking into it. Stay tuned!

[ganncamp](https://community.sonarsource.com/u/ganncamp)
(G Ann Campbell)

June 6, 2024, 12:58pm

5

Hi [@ThornableGumpture](/u/thornablegumpture),

Thanks for this report. We patched this in SonarQube 10.4 and 9.9.4 and [released the details](https://community.sonarsource.com/t/disclosure-of-a-vulnerability-fixed-with-sonarqube-10-4-and-9-9-4-lta/116823) today.

Thx,

Ann

[ThornableGumpture](https://community.sonarsource.com/u/ThornableGumpture)
(Fullname)

June 7, 2024, 6:57am

7

Cool! Do I need to apply for a CVE now, or have you done it yourself?

[ganncamp](https://community.sonarsource.com/u/ganncamp)
(G Ann Campbell)

June 7, 2024, 12:42pm

9

Hi,

Uhm… let me come back to you on that.

Ann

[ganncamp](https://community.sonarsource.com/u/ganncamp)
(G Ann Campbell)

June 12, 2024, 12:10pm

10

Hi,

Thanks for your (continued) patience. We’re going to file the CVE.

Thx,

Ann

[ganncamp](https://community.sonarsource.com/u/ganncamp)
(G Ann Campbell)

June 17, 2024, 11:19am

11

Hi again,

Here it is:

<https://nvd.nist.gov/vuln/detail/CVE-2024-38460>

Thx,

Ann

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](https://www.sonarsource.com/legal/website-terms-of-use/)
* [Privacy Policy](https://www.sonarsource.com/company/privacy/)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled

[The new SonarQube free tier is here! Sign up to scan your private projects for free.](https://www.sonarsource.com/products/sonarcloud/signup-free/)



=== Content from sonarsource.atlassian.net_2d6c7cfc_20250111_183803.html ===


[![Custom Jira logo](/s/g2slup/b/9/7449e45f09e911d6015b771b590fa050/_/jira-logo-scaled.png)![Custom Jira icon](/s/g2slup/b/9/7449e45f09e911d6015b771b590fa050/_/jira-logo-scaled.png)](/jira)ProjectsFiltersDashboardsAppsCreateSearch[Sign in](/login.jsp)![](https://sonarsource.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10556?size=xxlarge)
## SonarQube

Software projectMenu[Reports](/projects/SONAR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page)[Issues](/jira/software/c/projects/SONAR/issues)[sonar-enterprise](https://github.com/SonarSource/sonar-enterprise)[docker-sonarqube](https://github.com/SonarSource/docker-sonarqube)[helm-chart-sonarqube](https://github.com/SonarSource/helm-chart-sonarqube)[Archived issuesNew](/jira/software/c/projects/SONAR/issues/archive)You're in a company-managed project![Loading...](data:image/svg+xml;base64...)


