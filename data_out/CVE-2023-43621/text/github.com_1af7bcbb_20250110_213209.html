
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fschollz%2Fcroc%2Fissues%2F598)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fschollz%2Fcroc%2Fissues%2F598)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=schollz%2Fcroc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[schollz](/schollz)
/
**[croc](/schollz/croc)**
Public

* [Notifications](/login?return_to=%2Fschollz%2Fcroc) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fschollz%2Fcroc)
* [Star
   28.5k](/login?return_to=%2Fschollz%2Fcroc)

* [Code](/schollz/croc)
* [Issues
  15](/schollz/croc/issues)
* [Pull requests
  2](/schollz/croc/pulls)
* [Actions](/schollz/croc/actions)
* [Security](/schollz/croc/security)
* [Insights](/schollz/croc/pulse)

Additional navigation options

* [Code](/schollz/croc)
* [Issues](/schollz/croc/issues)
* [Pull requests](/schollz/croc/pulls)
* [Actions](/schollz/croc/actions)
* [Security](/schollz/croc/security)
* [Insights](/schollz/croc/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fschollz%2Fcroc%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fschollz%2Fcroc%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Shared Secret Passed on Command Line Possibly Leaks to other Local Users #598

Closed

[mgerstner](/mgerstner) opened this issue
Sep 8, 2023
· 5 comments
 · Fixed by [#701](https://github.com/schollz/croc/pull/701)

Closed

# [Shared Secret Passed on Command Line Possibly Leaks to other Local Users](#top) #598

[mgerstner](/mgerstner) opened this issue
Sep 8, 2023
· 5 comments
 · Fixed by [#701](https://github.com/schollz/croc/pull/701)

Assignees
[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=40&v=4)](/schollz)

Labels
[bug](/schollz/croc/labels/bug)

## Comments

[![@mgerstner](https://avatars.githubusercontent.com/u/24227799?s=80&v=4)](/mgerstner)

Copy link

### **[mgerstner](/mgerstner)** commented [Sep 8, 2023](#issue-1887535896)

| On the sender side a custom shared secret can be specified via the `croc send --code <SECRET>` command line. On the receiver side the shared secret, custom or not, is typically passed on the command line using the `croc <SECRET>` command line . The latter invocation variant is actively advocated by the output displayed on the sender side like:  ``` On the other computer run  croc <SECRET>  ```  By passing the shared secret on the command line it will become visible on the host's process list for all local users (on Linux and most UNIX like systems). On a multi user system this might allow other local users to get knowledge of the shared secret and to receive the files instead of the intended recipient.  To fix this, the shared secret should be read from stdin, a local file or an environment variable, even though it will be less intuitive than passing it on the command line. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@mgerstner](https://avatars.githubusercontent.com/u/24227799?s=40&v=4)](/mgerstner)
[mgerstner](/mgerstner)
added
the
[bug](/schollz/croc/labels/bug)
label
[Sep 8, 2023](#event-10317328871)

[![@furicle](https://avatars.githubusercontent.com/u/45774?s=80&v=4)](/furicle)

Copy link

### **[furicle](/furicle)** commented [Sep 14, 2023](#issuecomment-1720010020)

| Isn't that knowledge only available AFTER the intended receiver starts receiving the file? |
| --- |

All reactions

Sorry, something went wrong.

[![@mgerstner](https://avatars.githubusercontent.com/u/24227799?s=80&v=4)](/mgerstner)

Copy link

Author

### **[mgerstner](/mgerstner)** commented [Sep 15, 2023](#issuecomment-1720936139) • edited Loading

| Isn't that knowledge only available AFTER the intended receiver starts receiving the file?  It is a race condition. The command line will be visible in the process list as soon as the process is created by the kernel. The connection to the relay will not have been created yet. A local attacker that knows what to look for can try to be faster in connecting to the relay and thus "steal" the files. There is no guarantee that it works - as usual with race conditions - and there is only one shot available.  It would be worse if custom password is used by the sender and is also *reused*, because then the obtained information will be valid for multiple transmissions. |
| --- |

All reactions

Sorry, something went wrong.

[![@mgerstner](https://avatars.githubusercontent.com/u/24227799?s=80&v=4)](/mgerstner)

Copy link

Author

### **[mgerstner](/mgerstner)** commented [Oct 2, 2023](#issuecomment-1742857107)

| Mitre assigned [CVE-2023-43621](https://github.com/advisories/GHSA-7g3v-4ggr-xvjf "CVE-2023-43621") to track this issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@aspann](https://avatars.githubusercontent.com/u/3024576?s=80&v=4)](/aspann)

Copy link

### **[aspann](/aspann)** commented [Feb 3, 2024](#issuecomment-1925001837)

| Shouldn't [CVE-2023-43621](https://github.com/advisories/GHSA-7g3v-4ggr-xvjf) cover 9.6.6 as well? |
| --- |

All reactions

Sorry, something went wrong.

[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=40&u=991583b3f086b7f4cef5d2b4629e1440fd73f00b&v=4)](/schollz)
[schollz](/schollz)
self-assigned this
[May 20, 2024](#event-12867793087)

[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=40&u=991583b3f086b7f4cef5d2b4629e1440fd73f00b&v=4)](/schollz)
[schollz](/schollz)
mentioned this issue
[May 20, 2024](#ref-pullrequest-2306373727)

[fix: shared secret should be read from environmental variable
#701](/schollz/croc/pull/701)
 Merged

[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=80&u=991583b3f086b7f4cef5d2b4629e1440fd73f00b&v=4)](/schollz)

Copy link

Owner

### **[schollz](/schollz)** commented [May 20, 2024](#issuecomment-2120822588)

| continue discussion on [#701](https://github.com/schollz/croc/pull/701) |
| --- |

All reactions

Sorry, something went wrong.

[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=40&u=991583b3f086b7f4cef5d2b4629e1440fd73f00b&v=4)](/schollz)
[schollz](/schollz)
closed this as [completed](/schollz/croc/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 20, 2024](#event-12868668322)

[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=40&u=991583b3f086b7f4cef5d2b4629e1440fd73f00b&v=4)](/schollz)
[schollz](/schollz)
mentioned this issue
[May 23, 2024](#ref-issue-2312745099)

[Claims an Exported Variable is Required to Receive Data
#704](/schollz/croc/issues/704)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fschollz%2Fcroc%2Fissues%2F598)

Assignees

[![@schollz](https://avatars.githubusercontent.com/u/6550035?s=40&v=4)](/schollz) [schollz](/schollz)

Labels

[bug](/schollz/croc/labels/bug)

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [fix: shared secret should be read from environmental variable](/schollz/croc/pull/701)
 [schollz/croc](/schollz/croc)

4 participants

[![@furicle](https://avatars.githubusercontent.com/u/45774?s=52&v=4)](/furicle) [![@aspann](https://avatars.githubusercontent.com/u/3024576?s=52&v=4)](/aspann) [![@schollz](https://avatars.githubusercontent.com/u/6550035?s=52&v=4)](/schollz) [![@mgerstner](https://avatars.githubusercontent.com/u/24227799?s=52&v=4)](/mgerstner)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

