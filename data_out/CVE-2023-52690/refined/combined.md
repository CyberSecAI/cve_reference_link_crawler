=== Content from git.kernel.org_b37578b3_20250110_191545.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-01-25 15:27:19 -0800 |
| commit | [ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)) | |
| tree | [ea7e0e2da2d8bc8f2c339f02af35c456644c69b9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2) | |
| parent | [327d4f2d667661baaf9387fb8e987da864621f92](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=327d4f2d667661baaf9387fb8e987da864621f92) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2&id2=327d4f2d667661baaf9387fb8e987da864621f92)) | |
| download | [linux-ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()[ Upstream commit 9a260f2dd827bbc82cc60eb4f4d8c22707d80742 ]
kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex 6b4eed2ef4fa96..f67235d1ba2c51 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=327d4f2d667661baaf9387fb8e987da864621f92)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=ed8d023cfa97b559db58c0e1afdd2eec7a83d8f2)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:22 +0000



=== Content from git.kernel.org_72837c5b_20250110_191542.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-01-25 14:52:32 -0800 |
| commit | [2a82c4439b903639e0a1f21990cd399fb0a49c19](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)) | |
| tree | [2b4659b465bfe8a08cf5cde8e0ed1d0cb71fc559](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19) | |
| parent | [5daf0ef6268c2fb6ff87cc5e55f8553754f5b8b7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5daf0ef6268c2fb6ff87cc5e55f8553754f5b8b7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19&id2=5daf0ef6268c2fb6ff87cc5e55f8553754f5b8b7)) | |
| download | [linux-2a82c4439b903639e0a1f21990cd399fb0a49c19.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-2a82c4439b903639e0a1f21990cd399fb0a49c19.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()[ Upstream commit 9a260f2dd827bbc82cc60eb4f4d8c22707d80742 ]
kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=2a82c4439b903639e0a1f21990cd399fb0a49c19) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex 6b4eed2ef4fa96..f67235d1ba2c51 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=5daf0ef6268c2fb6ff87cc5e55f8553754f5b8b7)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=2a82c4439b903639e0a1f21990cd399fb0a49c19)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:19 +0000



=== Content from git.kernel.org_01705845_20250110_191542.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1eefa93faf69188540b08b024794fa90b1d82e8b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1eefa93faf69188540b08b024794fa90b1d82e8b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1eefa93faf69188540b08b024794fa90b1d82e8b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1eefa93faf69188540b08b024794fa90b1d82e8b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-01-25 14:37:39 -0800 |
| commit | [1eefa93faf69188540b08b024794fa90b1d82e8b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1eefa93faf69188540b08b024794fa90b1d82e8b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1eefa93faf69188540b08b024794fa90b1d82e8b)) | |
| tree | [e578daa5de4953899fd0a8dc9cb071a6931c8238](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1eefa93faf69188540b08b024794fa90b1d82e8b) | |
| parent | [428ab6a9dda521ce97f8ff98a1b2e8e5e3e1dc92](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=428ab6a9dda521ce97f8ff98a1b2e8e5e3e1dc92) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1eefa93faf69188540b08b024794fa90b1d82e8b&id2=428ab6a9dda521ce97f8ff98a1b2e8e5e3e1dc92)) | |
| download | [linux-1eefa93faf69188540b08b024794fa90b1d82e8b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1eefa93faf69188540b08b024794fa90b1d82e8b.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()[ Upstream commit 9a260f2dd827bbc82cc60eb4f4d8c22707d80742 ]
kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1eefa93faf69188540b08b024794fa90b1d82e8b)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=1eefa93faf69188540b08b024794fa90b1d82e8b) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex fd510d961b8c7c..d5814c5046ba63 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=428ab6a9dda521ce97f8ff98a1b2e8e5e3e1dc92)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=1eefa93faf69188540b08b024794fa90b1d82e8b)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:19 +0000



=== Content from git.kernel.org_4ba9e3b5_20250110_191544.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=dd8422ff271c22058560832fc3006324ded895a9)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dd8422ff271c22058560832fc3006324ded895a9)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dd8422ff271c22058560832fc3006324ded895a9)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dd8422ff271c22058560832fc3006324ded895a9)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-01-25 15:35:13 -0800 |
| commit | [dd8422ff271c22058560832fc3006324ded895a9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dd8422ff271c22058560832fc3006324ded895a9) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=dd8422ff271c22058560832fc3006324ded895a9)) | |
| tree | [f0cc7dc0d4d9955ac4a11fc559e85fedd5aab026](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dd8422ff271c22058560832fc3006324ded895a9) | |
| parent | [bc063bf0934b0707be8ba31c82c4cbe073ffff0b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bc063bf0934b0707be8ba31c82c4cbe073ffff0b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dd8422ff271c22058560832fc3006324ded895a9&id2=bc063bf0934b0707be8ba31c82c4cbe073ffff0b)) | |
| download | [linux-dd8422ff271c22058560832fc3006324ded895a9.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-dd8422ff271c22058560832fc3006324ded895a9.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()[ Upstream commit 9a260f2dd827bbc82cc60eb4f4d8c22707d80742 ]
kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dd8422ff271c22058560832fc3006324ded895a9)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=dd8422ff271c22058560832fc3006324ded895a9) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex 262cd6fac90714..748c2b97fa5370 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=bc063bf0934b0707be8ba31c82c4cbe073ffff0b)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=dd8422ff271c22058560832fc3006324ded895a9)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:21 +0000



=== Content from lists.debian.org_8e2a4762_20250110_191546.html ===


---

[[Date Prev](msg00015.html)][[Date Next](msg00017.html)]
[[Thread Prev](msg00015.html)][[Thread Next](msg00017.html)]
[[Date Index](maillist.html#00016)]
[[Thread Index](threads.html#00016)]

# [SECURITY] [DLA 3841-1] linux-5.10 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3841-1] linux-5.10 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Tue, 25 Jun 2024 21:41:14 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/ZnsdWnKC38pb009r%40decadent.org.uk)Â [ZnsdWnKC38pb009r@decadent.org.uk](msg00016.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3841-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
June 25, 2024                                 <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux-5.10
Version        : 5.10.209-2~deb10u1
CVE ID         : CVE-2023-6040 CVE-2023-6356 CVE-2023-6535 CVE-2023-6536
                 CVE-2023-6606 CVE-2023-6915 CVE-2023-39198 CVE-2023-46838
                 CVE-2023-51779 CVE-2023-52340 CVE-2023-52436 CVE-2023-52438
                 CVE-2023-52439 CVE-2023-52443 CVE-2023-52444 CVE-2023-52445
                 CVE-2023-52448 CVE-2023-52449 CVE-2023-52451 CVE-2023-52454
                 CVE-2023-52456 CVE-2023-52457 CVE-2023-52462 CVE-2023-52463
                 CVE-2023-52464 CVE-2023-52467 CVE-2023-52469 CVE-2023-52470
                 CVE-2023-52609 CVE-2023-52612 CVE-2023-52675 CVE-2023-52679
                 CVE-2023-52683 CVE-2023-52686 CVE-2023-52690 CVE-2023-52691
                 CVE-2023-52693 CVE-2023-52694 CVE-2023-52696 CVE-2023-52698
                 CVE-2024-0646 CVE-2024-1086 CVE-2024-24860 CVE-2024-26586
                 CVE-2024-26597 CVE-2024-26598 CVE-2024-26633

Several vulnerabilities were discovered in the Linux kernel that may
lead to a privilege escalation, denial of service or information
leaks.

For Debian 10 buster, these problems were fixed earlier in version
5.10.209-2~deb10u1.  This update additionally included many more bug
fixes from stable updates 5.10.206-5.10.209 inclusive.

For the detailed security status of linux-5.10 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux-5.10>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpU6AD6rO3sK.pgp)**

*Description:* PGP signature

---



=== Content from git.kernel.org_59a0c2e6_20250110_191544.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-01-25 15:44:38 -0800 |
| commit | [a9c05cbb6644a2103c75b6906e9dafb9981ebd13](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)) | |
| tree | [c6a24685af729c0edcf1ffd85566c5a442b760d2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13) | |
| parent | [3bbe74e896e345894bc671dce26f349c85ca5c2c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3bbe74e896e345894bc671dce26f349c85ca5c2c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13&id2=3bbe74e896e345894bc671dce26f349c85ca5c2c)) | |
| download | [linux-a9c05cbb6644a2103c75b6906e9dafb9981ebd13.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a9c05cbb6644a2103c75b6906e9dafb9981ebd13.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()[ Upstream commit 9a260f2dd827bbc82cc60eb4f4d8c22707d80742 ]
kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex 262cd6fac90714..748c2b97fa5370 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=3bbe74e896e345894bc671dce26f349c85ca5c2c)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=a9c05cbb6644a2103c75b6906e9dafb9981ebd13)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:21 +0000



=== Content from git.kernel.org_07ea05d7_20250110_191543.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Michael Ellerman <mpe@ellerman.id.au> | 2023-12-13 22:18:59 +1100 |
| commit | [9a260f2dd827bbc82cc60eb4f4d8c22707d80742](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)) | |
| tree | [b22d0581a7742ea36cdbd958912d83b033f7b70f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742) | |
| parent | [f46c8a75263f97bda13c739ba1c90aced0d3b071](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f46c8a75263f97bda13c739ba1c90aced0d3b071) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742&id2=f46c8a75263f97bda13c739ba1c90aced0d3b071)) | |
| download | [linux-9a260f2dd827bbc82cc60eb4f4d8c22707d80742.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9a260f2dd827bbc82cc60eb4f4d8c22707d80742.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex 262cd6fac90714..748c2b97fa5370 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=f46c8a75263f97bda13c739ba1c90aced0d3b071)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=9a260f2dd827bbc82cc60eb4f4d8c22707d80742)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:20 +0000



=== Content from git.kernel.org_8867c6b2_20250110_191546.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Kunwu Chan <chentao@kylinos.cn> | 2023-12-08 16:59:37 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-01-25 14:34:22 -0800 |
| commit | [f84c1446daa552e9699da8d1f8375eac0f65edc7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)) | |
| tree | [395f6ac11f14e57e51cd72768a161d8d415725ba](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7) | |
| parent | [b0200560b69ec745a31e672f216b129144e2f8e1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b0200560b69ec745a31e672f216b129144e2f8e1) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7&id2=b0200560b69ec745a31e672f216b129144e2f8e1)) | |
| download | [linux-f84c1446daa552e9699da8d1f8375eac0f65edc7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f84c1446daa552e9699da8d1f8375eac0f65edc7.tar.gz) | |

powerpc/powernv: Add a null pointer check to scom\_debug\_init\_one()[ Upstream commit 9a260f2dd827bbc82cc60eb4f4d8c22707d80742 ]
kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.
Add a null pointer check, and release 'ent' to avoid memory leaks.
Fixes: bfd2f0d49aef ("powerpc/powernv: Get rid of old scom\_controller abstraction")
Signed-off-by: Kunwu Chan <chentao@kylinos.cn>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: [https://msgid.link/20231208085937.107210-1-chentao@kylinos.cn](https://msgid.link/20231208085937.107210-1-chentao%40kylinos.cn)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)

| -rw-r--r-- | [arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/powerpc/platforms/powernv/opal-xscom.c?id=f84c1446daa552e9699da8d1f8375eac0f65edc7) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/arch/powerpc/platforms/powernv/opal-xscom.c b/arch/powerpc/platforms/powernv/opal-xscom.cindex fd510d961b8c7c..d5814c5046ba63 100644--- a/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=b0200560b69ec745a31e672f216b129144e2f8e1)+++ b/[arch/powerpc/platforms/powernv/opal-xscom.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/powerpc/platforms/powernv/opal-xscom.c?id=f84c1446daa552e9699da8d1f8375eac0f65edc7)@@ -165,6 +165,11 @@ static int scom\_debug\_init\_one(struct dentry \*root, struct device\_node \*dn, ent->chip = chip; snprintf(ent->name, 16, "%08x", chip); ent->path.data = (void \*)kasprintf(GFP\_KERNEL, "%pOF", dn);+ if (!ent->path.data) {+ kfree(ent);+ return -ENOMEM;+ }+ ent->path.size = strlen((char \*)ent->path.data);  dir = debugfs\_create\_dir(ent->name, root); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 19:14:23 +0000


