

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D2796598%2540blog2social%26old%3D2796598%2540blog2social)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2795056/blog2social "Changeset 2795056 for blog2social")
* [Next Change](/changeset/2796604/blog2social "Changeset 2796604 for blog2social") →

---

# Changeset [2796598](/changeset/2796598 "Show full changeset") for [blog2social](/browser/blog2social?rev=2796598 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/10/2022 11:45:51 AM
([2 years](/timeline?from=2022-10-10T11%3A45%3A51Z&precision=second "See timeline at 10/10/2022 11:45:51 AM") ago)

Author:
PR-Gateway
Message:

add new version 6.9.12

Location:
[blog2social/trunk](/browser/blog2social/trunk?rev=2796598)
Files:

4 edited

* [blog2social.php](/browser/blog2social/trunk/blog2social.php?rev=2796598 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [includes/Ajax/Get.php](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2796598 "Show entry in browser")
  (modified)
  ([4 diffs](#file1 "Show differences"))
* [includes/Ajax/Post.php](/browser/blog2social/trunk/includes/Ajax/Post.php?rev=2796598 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [readme.txt](/browser/blog2social/trunk/readme.txt?rev=2796598 "Show entry in browser")
  (modified)
  ([3 diffs](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [blog2social/trunk/blog2social.php](/changeset/2796598/blog2social/trunk/blog2social.php "Show the changeset 2796598 restricted to blog2social/trunk/blog2social.php")

  | [r2795052](/browser/blog2social/trunk/blog2social.php?rev=2795052#L7 "Show revision 2795052 of this file in browser") | [r2796598](/browser/blog2social/trunk/blog2social.php?rev=2796598#L7 "Show revision 2796598 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | \* Text Domain: blog2social |
  | 8 | 8 | \* Domain Path: /languages |
  | 9 |  | \* Version: 6.9.1~~1~~ |
  |  | 9 | \* Version: 6.9.12 |
  | 10 | 10 | \* Author URI: https://www.blog2social.com |
  | 11 | 11 | \* License: GPL2+ |
* ## [blog2social/trunk/includes/Ajax/Get.php](/changeset/2796598/blog2social/trunk/includes/Ajax/Get.php "Show the changeset 2796598 restricted to blog2social/trunk/includes/Ajax/Get.php")

  | [r2789930](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2789930#L266 "Show revision 2789930 of this file in browser") | [r2796598](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2796598#L266 "Show revision 2796598 of this file in browser") |  |
  | --- | --- | --- |
  | 266 | 266 | public function getPublishPostData() { |
  | 267 | 267 | if (current\_user\_can('read') && isset($\_POST['b2s\_security\_nonce']) && (int) wp\_verify\_nonce(sanitize\_text\_field(wp\_unslash($\_POST['b2s\_security\_nonce'])), 'b2s\_security\_nonce') > 0) { |
  | 268 |  | if (~~(int) $\_POST['postId']~~) { |
  |  | 268 | if (isset($\_POST['postId']) && (int) $\_POST['postId'] > 0) { |
  | 269 | 269 | require\_once (B2S\_PLUGIN\_DIR . 'includes/B2S/Post/Item.php'); |
  | 270 | 270 | require\_once (B2S\_PLUGIN\_DIR . 'includes/Util.php'); |
  | […](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2789930#L290) | […](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2796598#L290) |  |
  | 290 | 290 | public function getApprovePostData() { |
  | 291 | 291 | if (current\_user\_can('read') && isset($\_POST['b2s\_security\_nonce']) && (int) wp\_verify\_nonce(sanitize\_text\_field(wp\_unslash($\_POST['b2s\_security\_nonce'])), 'b2s\_security\_nonce') > 0) { |
  | 292 |  | if (~~(int) $\_POST['postId']~~) { |
  |  | 292 | if (isset($\_POST['postId']) && (int) $\_POST['postId'] > 0) { |
  | 293 | 293 | require\_once (B2S\_PLUGIN\_DIR . 'includes/B2S/Post/Item.php'); |
  | 294 | 294 | require\_once (B2S\_PLUGIN\_DIR . 'includes/Util.php'); |
  | […](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2789930#L424) | […](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2796598#L424) |  |
  | 424 | 424 | if (current\_user\_can('read') && isset($\_POST['b2s\_security\_nonce']) && (int) wp\_verify\_nonce(sanitize\_text\_field(wp\_unslash($\_POST['b2s\_security\_nonce'])), 'b2s\_security\_nonce') > 0) { |
  | 425 | 425 | $lang = substr(B2S\_LANGUAGE, 0, 2); |
  | 426 |  | $options = new B2S\_Options(~~get\_current\_user\_id()~~); |
  |  | 426 | $options = new B2S\_Options(B2S\_PLUGIN\_BLOG\_USER\_ID); |
  | 427 | 427 | $userSchedData = $options->\_getOption('auth\_sched\_time'); |
  | 428 | 428 | if (isset($userSchedData['time'])) { |
  | […](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2789930#L541) | […](/browser/blog2social/trunk/includes/Ajax/Get.php?rev=2796598#L541) |  |
  | 541 | 541 | $lock\_user\_id = get\_option("B2S\_PLUGIN\_CALENDAR\_BLOCKED\_" . (int) $\_POST['id']); |
  | 542 | 542 | if (!$lock\_user\_id) { |
  | 543 |  | update\_option("B2S\_PLUGIN\_CALENDAR\_BLOCKED\_" . (int) $\_POST['id'], ~~get\_current\_user\_id()~~, false); |
  | 544 |  | $options = new B2S\_Options(~~get\_current\_user\_id()~~); |
  |  | 543 | update\_option("B2S\_PLUGIN\_CALENDAR\_BLOCKED\_" . (int) $\_POST['id'], B2S\_PLUGIN\_BLOG\_USER\_ID, false); |
  |  | 544 | $options = new B2S\_Options(B2S\_PLUGIN\_BLOG\_USER\_ID); |
  | 545 | 545 | $block\_old = $options->\_getOption("B2S\_PLUGIN\_USER\_CALENDAR\_BLOCKED"); |
  | 546 | 546 |  |
* ## [blog2social/trunk/includes/Ajax/Post.php](/changeset/2796598/blog2social/trunk/includes/Ajax/Post.php "Show the changeset 2796598 restricted to blog2social/trunk/includes/Ajax/Post.php")

  | [r2795052](/browser/blog2social/trunk/includes/Ajax/Post.php?rev=2795052#L472 "Show revision 2795052 of this file in browser") | [r2796598](/browser/blog2social/trunk/includes/Ajax/Post.php?rev=2796598#L472 "Show revision 2796598 of this file in browser") |  |
  | --- | --- | --- |
  | 472 | 472 | public function lockAutoPostImport() { |
  | 473 | 473 | if (current\_user\_can('read') && isset($\_POST['b2s\_security\_nonce']) && (int) wp\_verify\_nonce(sanitize\_text\_field(wp\_unslash($\_POST['b2s\_security\_nonce'])), 'b2s\_security\_nonce') > 0) { |
  | 474 |  | if (isset($\_POST['userId']) && (int) $\_POST['userId'] > 0) { |
  | 475 |  | update\_option('B2S\_LOCK\_AUTO\_POST\_IMPORT\_' . (int) $\_POST['userId'], 1, false); |
  | 476 |  | } |
  | 477 |  | echo json\_encode(array('result' => true)); |
  | 478 |  | wp\_die(); |
  | 479 |  | } else { |
  | 480 |  | echo json\_encode(array('result' => false, 'error' => 'nonce')); |
  | 481 |  | wp\_die(); |
  | 482 |  | } |
  |  | 474 | if (isset($\_POST['userId']) && (int) $\_POST['userId'] > 0 && (int) $\_POST['userId'] == B2S\_PLUGIN\_BLOG\_USER\_ID) { |
  |  | 475 | update\_option('B2S\_LOCK\_AUTO\_POST\_IMPORT\_' . B2S\_PLUGIN\_BLOG\_USER\_ID, 1, false); |
  |  | 476 | echo json\_encode(array('result' => true)); |
  |  | 477 | wp\_die(); |
  |  | 478 | } |
  |  | 479 | } |
  |  | 480 | echo json\_encode(array('result' => false, 'error' => 'nonce')); |
  |  | 481 | wp\_die(); |
  | 483 | 482 | } |
  | 484 | 483 |  |
  | […](/browser/blog2social/trunk/includes/Ajax/Post.php?rev=2795052#L763) | […](/browser/blog2social/trunk/includes/Ajax/Post.php?rev=2796598#L762) |  |
  | 763 | 762 | if (current\_user\_can('administrator') && isset($\_POST['b2s\_security\_nonce']) && (int) wp\_verify\_nonce(sanitize\_text\_field(wp\_unslash($\_POST['b2s\_security\_nonce'])), 'b2s\_security\_nonce') > 0) { |
  | 764 | 763 | $result = array('result' => true); |
  | 765 |  | if (isset($\_POST['is\_admin']) && (int) $\_POST['is\_admin'] == 1) { |
  | 766 |  |  |
  | 767 |  | $options = new B2S\_Options(0, 'B2S\_PLUGIN\_GENERAL\_OPTIONS'); |
  | 768 |  |  |
  | 769 |  | $og\_active = (!isset($\_POST['b2s\_og\_active'])) ? 0 : 1; |
  | 770 |  | $options->\_setOption('og\_active', $og\_active); |
  | 771 |  | $options->\_setOption('og\_default\_title', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_og\_default\_title']) : '')); |
  | 772 |  | $options->\_setOption('og\_default\_desc', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_og\_default\_desc']) : '')); |
  | 773 |  | $options->\_setOption('og\_default\_image', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? esc\_url\_raw($\_POST['b2s\_og\_default\_image']) : '')); |
  | 774 |  | $options->\_setOption('og\_imagedata\_active', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? (int) $\_POST['b2s\_og\_imagedata\_active'] : 1)); |
  | 775 |  | $options->\_setOption('og\_objecttype\_active', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? (int) $\_POST['b2s\_og\_objecttype\_active'] : 1)); |
  | 776 |  | $options->\_setOption('og\_locale\_active', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? (int) $\_POST['b2s\_og\_locale\_active'] : 1)); |
  | 777 |  | $options->\_setOption('og\_locale', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_og\_locale']) : '')); |
  | 778 |  |  |
  | 779 |  | $card\_active = (!isset($\_POST['b2s\_card\_active'])) ? 0 : 1; |
  | 780 |  | $options->\_setOption('card\_active', $card\_active); |
  | 781 |  | $options->\_setOption('card\_default\_type', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_card\_default\_type']) : 0)); |
  | 782 |  | $options->\_setOption('card\_default\_title', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_card\_default\_title']) : '')); |
  | 783 |  | $options->\_setOption('card\_default\_desc', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_card\_default\_desc']) : '')); |
  | 784 |  | $options->\_setOption('card\_default\_image', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? esc\_url\_raw($\_POST['b2s\_card\_default\_image']) : '')); |
  | 785 |  |  |
  | 786 |  | $oembed\_active = (!isset($\_POST['b2s\_oembed\_active'])) ? 0 : 1; |
  | 787 |  | $options->\_setOption('oembed\_active', $oembed\_active); |
  | 788 |  |  |
  | 789 |  | $meta = B2S\_Meta::getInstance(); |
  | 790 |  | $result['b2s'] = ($card\_active == 1 || $og\_active == 1) ? true : false; |
  | 791 |  | $result['yoast'] = $meta->is\_yoast\_seo\_active(); |
  | 792 |  | $result['aioseop'] = $meta->is\_aioseop\_active(); |
  | 793 |  | $result['webdados'] = $meta->is\_webdados\_active(); |
  | 794 |  | } |
  |  | 764 | $options = new B2S\_Options(0, 'B2S\_PLUGIN\_GENERAL\_OPTIONS'); |
  |  | 765 | $og\_active = (!isset($\_POST['b2s\_og\_active'])) ? 0 : 1; |
  |  | 766 | $options->\_setOption('og\_active', $og\_active); |
  |  | 767 | $options->\_setOption('og\_default\_title', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_og\_default\_title']) : '')); |
  |  | 768 | $options->\_setOption('og\_default\_desc', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_og\_default\_desc']) : '')); |
  |  | 769 | $options->\_setOption('og\_default\_image', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? esc\_url\_raw($\_POST['b2s\_og\_default\_image']) : '')); |
  |  | 770 | $options->\_setOption('og\_imagedata\_active', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? (int) $\_POST['b2s\_og\_imagedata\_active'] : 1)); |
  |  | 771 | $options->\_setOption('og\_objecttype\_active', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? (int) $\_POST['b2s\_og\_objecttype\_active'] : 1)); |
  |  | 772 | $options->\_setOption('og\_locale\_active', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? (int) $\_POST['b2s\_og\_locale\_active'] : 1)); |
  |  | 773 | $options->\_setOption('og\_locale', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_og\_locale']) : '')); |
  |  | 774 |  |
  |  | 775 | $card\_active = (!isset($\_POST['b2s\_card\_active'])) ? 0 : 1; |
  |  | 776 | $options->\_setOption('card\_active', $card\_active); |
  |  | 777 | $options->\_setOption('card\_default\_type', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_card\_default\_type']) : 0)); |
  |  | 778 | $options->\_setOption('card\_default\_title', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_card\_default\_title']) : '')); |
  |  | 779 | $options->\_setOption('card\_default\_desc', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? sanitize\_text\_field($\_POST['b2s\_card\_default\_desc']) : '')); |
  |  | 780 | $options->\_setOption('card\_default\_image', ((B2S\_PLUGIN\_USER\_VERSION >= 1) ? esc\_url\_raw($\_POST['b2s\_card\_default\_image']) : '')); |
  |  | 781 |  |
  |  | 782 | $oembed\_active = (!isset($\_POST['b2s\_oembed\_active'])) ? 0 : 1; |
  |  | 783 | $options->\_setOption('oembed\_active', $oembed\_active); |
  |  | 784 |  |
  |  | 785 | $meta = B2S\_Meta::getInstance(); |
  |  | 786 | $result['b2s'] = ($card\_active == 1 || $og\_active == 1) ? true : false; |
  |  | 787 | $result['yoast'] = $meta->is\_yoast\_seo\_active(); |
  |  | 788 | $result['aioseop'] = $meta->is\_aioseop\_active(); |
  |  | 789 | $result['webdados'] = $meta->is\_webdados\_active(); |
  | 795 | 790 |  |
  | 796 | 791 | echo json\_encode($result); |
* ## [blog2social/trunk/readme.txt](/changeset/2796598/blog2social/trunk/readme.txt "Show the changeset 2796598 restricted to blog2social/trunk/readme.txt")

  | [r2795052](/browser/blog2social/trunk/readme.txt?rev=2795052#L6 "Show revision 2795052 of this file in browser") | [r2796598](/browser/blog2social/trunk/readme.txt?rev=2796598#L6 "Show revision 2796598 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires at least: 4.7.0 |
  | 7 | 7 | Tested up to: 6.0 |
  | 8 |  | Stable tag: 6.9.1~~1~~ |
  |  | 8 | Stable tag: 6.9.12 |
  | 9 | 9 | License: GPLv3 |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/blog2social/trunk/readme.txt?rev=2795052#L235) | […](/browser/blog2social/trunk/readme.txt?rev=2796598#L235) |  |
  | 235 | 235 |  |
  | 236 | 236 | == Changelog == |
  |  | 237 | = 6.9.12 = |
  |  | 238 | Additional Security Update |
  | 237 | 239 | = 6.9.11 = |
  | 238 | 240 | Additional Security Update & Bugfix Instagram carousel post |
  | […](/browser/blog2social/trunk/readme.txt?rev=2795052#L331) | […](/browser/blog2social/trunk/readme.txt?rev=2796598#L333) |  |
  | 331 | 333 |  |
  | 332 | 334 | == Upgrade Notice == |
  |  | 335 | = 6.9.12 = |
  |  | 336 | Additional Security Update |
  | 333 | 337 | = 6.9.11 = |
  | 334 | 338 | Additional Security Update & Bugfix Instagram carousel post |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2796598)
* [Zip Archive](?format=zip&new=2796598)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

