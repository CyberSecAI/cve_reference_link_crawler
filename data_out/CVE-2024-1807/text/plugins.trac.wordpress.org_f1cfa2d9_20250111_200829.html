

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3055823%2540woocommerce-product-sort-and-display%26old%3D3055823%2540woocommerce-product-sort-and-display)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3000613/woocommerce-product-sort-and-display "Changeset 3000613 for woocommerce-product-sort-and-display")
* [Next Change](/changeset/3055824/woocommerce-product-sort-and-display "Changeset 3055824 for woocommerce-product-sort-and-display") →

---

# Changeset [3055823](/changeset/3055823 "Show full changeset") for [woocommerce-product-sort-and-display](/browser/woocommerce-product-sort-and-display?rev=3055823 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
03/21/2024 06:46:18 AM
([10 months](/timeline?from=2024-03-21T06%3A46%3A18Z&precision=second "See timeline at 03/21/2024 06:46:18 AM") ago)

Author:
a3rev
Message:

Release new version 2.4.2

* This maintenance release has a security patch - please run this update now.
* Security - add nonce check for admin-ajax.php

Location:
[woocommerce-product-sort-and-display/trunk](/browser/woocommerce-product-sort-and-display/trunk?rev=3055823)
Files:

3 edited

* [classes/class-wc-psad-admin-hook.php](/browser/woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php?rev=3055823 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [readme.txt](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3055823 "Show entry in browser")
  (modified)
  ([3 diffs](#file1 "Show differences"))
* [wc-psad.php](/browser/woocommerce-product-sort-and-display/trunk/wc-psad.php?rev=3055823 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php](/changeset/3055823/woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php "Show the changeset 3055823 restricted to woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php")

  | [r2272989](/browser/woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php?rev=2272989#L136 "Show revision 2272989 of this file in browser") | [r3055823](/browser/woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php?rev=3055823#L136 "Show revision 3055823 of this file in browser") |  |
  | --- | --- | --- |
  | 136 | 136 | tax\_id: tax\_id, |
  | 137 | 137 | psad\_include\_shop\_page: psad\_shop\_page, |
  |  | 138 | security: '<?php echo wp\_create\_nonce( "psad\_update\_product\_cat\_custom\_meta" ); ?>' |
  | 138 | 139 | }; |
  | 139 | 140 | $.post(ajaxurl, data, function(response) { |
  | […](/browser/woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php?rev=2272989#L305) | […](/browser/woocommerce-product-sort-and-display/trunk/classes/class-wc-psad-admin-hook.php?rev=3055823#L306) |  |
  | 305 | 306 | // Save extra taxonomy fields callback function. |
  | 306 | 307 | public function psad\_update\_product\_cat\_custom\_meta\_ajax() { |
  |  | 308 | check\_ajax\_referer( 'psad\_update\_product\_cat\_custom\_meta', 'security' ); |
  |  | 309 |  |
  | 307 | 310 | global $wpdb; |
  | 308 | 311 | $wpdb->query( $wpdb->prepare( 'DELETE FROM '. $wpdb->options . ' WHERE option\_name LIKE %s', '%a3\_shop\_cat%' ) ); |
* ## [woocommerce-product-sort-and-display/trunk/readme.txt](/changeset/3055823/woocommerce-product-sort-and-display/trunk/readme.txt "Show the changeset 3055823 restricted to woocommerce-product-sort-and-display/trunk/readme.txt")

  | [r3000612](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3000612#L4 "Show revision 3000612 of this file in browser") | [r3055823](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3055823#L4 "Show revision 3055823 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: WooCommerce, WooCommerce Shop Page, WooCommerce Products, WooCommerce Product Display, WooCommerce Product sort. |
  | 5 | 5 | Requires at least: 6.0 |
  | 6 |  | Tested up to: 6.4.~~1~~ |
  |  | 6 | Tested up to: 6.4.2 |
  | 7 | 7 | Stable tag: 2.4.1 |
  | 8 | 8 | License: GPLv3 |
  | […](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3000612#L121) | […](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3055823#L121) |  |
  | 121 | 121 |  |
  | 122 | 122 | == Changelog == |
  |  | 123 |  |
  |  | 124 | = 2.4.2 - 2024/03/21 = |
  |  | 125 | \* This maintenance release has a security patch - please run this update now. |
  |  | 126 | \* Security - add nonce check for admin-ajax.php |
  | 123 | 127 |  |
  | 124 | 128 | = 2.4.1 - 2023/11/23 = |
  | […](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3000612#L701) | […](/browser/woocommerce-product-sort-and-display/trunk/readme.txt?rev=3055823#L705) |  |
  | 701 | 705 | == Upgrade Notice == |
  | 702 | 706 |  |
  |  | 707 | = 2.4.2 = |
  |  | 708 | This maintenance release has a security patch - please run this update now. |
  |  | 709 |  |
  | 703 | 710 | = 2.4.1 = |
  | 704 | 711 | This maintenance release has plugin framework updates for compatibility with PHP 8.1 onwards, plus compatibility with WordPress 6.4.1 and WooCommerce 8.2 |
* ## [woocommerce-product-sort-and-display/trunk/wc-psad.php](/changeset/3055823/woocommerce-product-sort-and-display/trunk/wc-psad.php "Show the changeset 3055823 restricted to woocommerce-product-sort-and-display/trunk/wc-psad.php")

  | [r3000612](/browser/woocommerce-product-sort-and-display/trunk/wc-psad.php?rev=3000612#L3 "Show revision 3000612 of this file in browser") | [r3055823](/browser/woocommerce-product-sort-and-display/trunk/wc-psad.php?rev=3055823#L3 "Show revision 3055823 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Plugin Name: Product Sort and Display for WooCommerce |
  | 4 | 4 | Description: Take control of your WooCommerce Shop random product display with WooCommerce Show Products by Category. Sort and show products on Shop page by category with 'On Sale' or 'Featured' products showing first. Products showing and total products per category count for intelligent viewing. |
  | 5 |  | Version: 2.4.~~1~~ |
  |  | 5 | Version: 2.4.2 |
  | 6 | 6 | Requires at least: 6.0 |
  | 7 | 7 | Tested up to: 6.4.1 |
  | […](/browser/woocommerce-product-sort-and-display/trunk/wc-psad.php?rev=3000612#L39) | […](/browser/woocommerce-product-sort-and-display/trunk/wc-psad.php?rev=3055823#L39) |  |
  | 39 | 39 | define( 'WC\_PSAD\_KEY', 'wc\_psad' ); |
  | 40 | 40 | define( 'WC\_PSAD\_PREFIX', 'wc\_psad\_' ); |
  | 41 |  | define( 'WC\_PSAD\_VERSION',  '2.4.~~1~~' ); |
  |  | 41 | define( 'WC\_PSAD\_VERSION',  '2.4.2' ); |
  | 42 | 42 | define( 'WC\_PSAD\_G\_FONTS', true ); |
  | 43 | 43 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3055823)
* [Zip Archive](?format=zip&new=3055823)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

