
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fultimatemember%2Fultimatemember%2Fblob%2F7b8a7a7c039bde4539c07e049b19036192f1c133%2Fincludes%2Fadmin%2Fclass-admin.php)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fultimatemember%2Fultimatemember%2Fblob%2F7b8a7a7c039bde4539c07e049b19036192f1c133%2Fincludes%2Fadmin%2Fclass-admin.php)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=ultimatemember%2Fultimatemember)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ultimatemember](/ultimatemember)
/
**[ultimatemember](/ultimatemember/ultimatemember)**
Public

* [Notifications](/login?return_to=%2Fultimatemember%2Fultimatemember) You must be signed in to change notification settings
* [Fork
  185](/login?return_to=%2Fultimatemember%2Fultimatemember)
* [Star
   250](/login?return_to=%2Fultimatemember%2Fultimatemember)

* [Code](/ultimatemember/ultimatemember)
* [Issues
  199](/ultimatemember/ultimatemember/issues)
* [Pull requests
  27](/ultimatemember/ultimatemember/pulls)
* [Actions](/ultimatemember/ultimatemember/actions)
* [Projects
  0](/ultimatemember/ultimatemember/projects)
* [Wiki](/ultimatemember/ultimatemember/wiki)
* [Security](/ultimatemember/ultimatemember/security)
* [Insights](/ultimatemember/ultimatemember/pulse)

Additional navigation options

* [Code](/ultimatemember/ultimatemember)
* [Issues](/ultimatemember/ultimatemember/issues)
* [Pull requests](/ultimatemember/ultimatemember/pulls)
* [Actions](/ultimatemember/ultimatemember/actions)
* [Projects](/ultimatemember/ultimatemember/projects)
* [Wiki](/ultimatemember/ultimatemember/wiki)
* [Security](/ultimatemember/ultimatemember/security)
* [Insights](/ultimatemember/ultimatemember/pulse)

## Files

 7b8a7a7
## Breadcrumbs

1. [ultimatemember](/ultimatemember/ultimatemember/tree/7b8a7a7c039bde4539c07e049b19036192f1c133)
2. /[includes](/ultimatemember/ultimatemember/tree/7b8a7a7c039bde4539c07e049b19036192f1c133/includes)
3. /[admin](/ultimatemember/ultimatemember/tree/7b8a7a7c039bde4539c07e049b19036192f1c133/includes/admin)
/
# class-admin.php

 Blame  Blame
## Latest commit

## History

[History](/ultimatemember/ultimatemember/commits/7b8a7a7c039bde4539c07e049b19036192f1c133/includes/admin/class-admin.php)2134 lines (1949 loc) · 56.1 KB 7b8a7a7
## Breadcrumbs

1. [ultimatemember](/ultimatemember/ultimatemember/tree/7b8a7a7c039bde4539c07e049b19036192f1c133)
2. /[includes](/ultimatemember/ultimatemember/tree/7b8a7a7c039bde4539c07e049b19036192f1c133/includes)
3. /[admin](/ultimatemember/ultimatemember/tree/7b8a7a7c039bde4539c07e049b19036192f1c133/includes/admin)
/
# class-admin.php

Top
## File metadata and controls

* Code
* Blame

2134 lines (1949 loc) · 56.1 KB[Raw](https://github.com/ultimatemember/ultimatemember/raw/7b8a7a7c039bde4539c07e049b19036192f1c133/includes/admin/class-admin.php)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000<?phpnamespace um\admin;
use WP\_Query;
if ( ! defined( 'ABSPATH' ) ) { exit;}
if ( ! class\_exists( 'um\admin\Admin' ) ) {
 /\*\* \* Class Admin \* @package um\admin \*/ class Admin extends Admin\_Functions {
 /\*\* \* @var string \*/ public $templates\_path;
 /\*\* \* @var array \*/ public $role\_meta;
 /\*\* \* @var array \*/ public $restriction\_term\_meta;
 /\*\* \* @var array \*/ public $member\_directory\_meta;
 /\*\* \* @var array \*/ public $form\_meta;
 /\*\* \* @var array \*/ public $builder\_input;
 /\*\* \* @var array \*/ public $restriction\_post\_meta;
 /\*\* \* Admin constructor. \*/ public function \_\_construct() { $this->templates\_path = UM\_PATH . 'includes/admin/templates/';
 add\_action( 'admin\_init', array( &$this, 'admin\_init' ), 0 );
 $prefix = is\_network\_admin() ? 'network\_admin\_' : ''; add\_filter( "{$prefix}plugin\_action\_links\_" . UM\_PLUGIN, array( &$this, 'plugin\_links' ) );
 add\_action( 'um\_admin\_do\_action\_\_user\_cache', array( &$this, 'user\_cache' ) ); add\_action( 'um\_admin\_do\_action\_\_user\_status\_cache', array( &$this, 'user\_status\_cache' ) ); add\_action( 'um\_admin\_do\_action\_\_purge\_temp', array( &$this, 'purge\_temp' ) ); add\_action( 'um\_admin\_do\_action\_\_manual\_upgrades\_request', array( &$this, 'manual\_upgrades\_request' ) ); add\_action( 'um\_admin\_do\_action\_\_duplicate\_form', array( &$this, 'duplicate\_form' ) ); add\_action( 'um\_admin\_do\_action\_\_user\_action', array( &$this, 'user\_action' ) ); add\_action( 'um\_admin\_do\_action\_\_check\_templates\_version', array( &$this, 'check\_templates\_version' ) );
 add\_action( 'um\_admin\_do\_action\_\_install\_core\_pages', array( &$this, 'install\_core\_pages' ) ); add\_action( 'um\_admin\_do\_action\_\_install\_predefined\_page', array( &$this, 'install\_predefined\_page' ) );
 add\_action( 'parent\_file', array( &$this, 'parent\_file' ), 9 ); add\_filter( 'gettext', array( &$this, 'gettext' ), 10, 4 ); add\_filter( 'post\_updated\_messages', array( &$this, 'post\_updated\_messages' ) ); }
 public function includes() { $this->enqueue(); $this->notices(); $this->secure(); $this->site\_health(); }
 public function init\_variables() { $this->role\_meta = apply\_filters( 'um\_role\_meta\_map', array( '\_um\_priority' => array( 'sanitize' => 'int', ), '\_um\_can\_access\_wpadmin' => array( 'sanitize' => 'bool', ), '\_um\_can\_not\_see\_adminbar' => array( 'sanitize' => 'bool', ), '\_um\_can\_edit\_everyone' => array( 'sanitize' => 'bool', ), '\_um\_can\_edit\_roles' => array( 'sanitize' => array( $this, 'sanitize\_existed\_role' ), ), '\_um\_can\_delete\_everyone' => array( 'sanitize' => 'bool', ), '\_um\_can\_delete\_roles' => array( 'sanitize' => array( $this, 'sanitize\_existed\_role' ), ), '\_um\_can\_edit\_profile' => array( 'sanitize' => 'bool', ), '\_um\_can\_delete\_profile' => array( 'sanitize' => 'bool', ), '\_um\_can\_view\_all' => array( 'sanitize' => 'bool', ), '\_um\_can\_view\_roles' => array( 'sanitize' => array( $this, 'sanitize\_existed\_role' ), ), '\_um\_can\_make\_private\_profile' => array( 'sanitize' => 'bool', ), '\_um\_can\_access\_private\_profile' => array( 'sanitize' => 'bool', ), '\_um\_profile\_noindex' => array( 'sanitize' => array( $this, 'sanitize\_profile\_noindex' ), ), '\_um\_default\_homepage' => array( 'sanitize' => 'bool', ), '\_um\_redirect\_homepage' => array( 'sanitize' => 'url', ), '\_um\_status' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'approved', 'array' => array( 'approved', 'checkmail', 'pending' ), ), '\_um\_auto\_approve\_act' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'redirect\_profile', 'array' => array( 'redirect\_profile', 'redirect\_url' ), ), '\_um\_auto\_approve\_url' => array( 'sanitize' => 'url', ), '\_um\_login\_email\_activate' => array( 'sanitize' => 'bool', ), '\_um\_checkmail\_action' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'show\_message', 'array' => array( 'show\_message', 'redirect\_url' ), ), '\_um\_checkmail\_message' => array( 'sanitize' => 'textarea', ), '\_um\_checkmail\_url' => array( 'sanitize' => 'url', ), '\_um\_url\_email\_activate' => array( 'sanitize' => 'url', ), '\_um\_pending\_action' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'show\_message', 'array' => array( 'show\_message', 'redirect\_url' ), ), '\_um\_pending\_message' => array( 'sanitize' => 'textarea', ), '\_um\_pending\_url' => array( 'sanitize' => 'url', ), '\_um\_after\_login' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'redirect\_profile', 'array' => array( 'redirect\_profile', 'redirect\_url', 'refresh', 'redirect\_admin' ), ), '\_um\_login\_redirect\_url' => array( 'sanitize' => 'url', ), '\_um\_after\_logout' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'redirect\_home', 'array' => array( 'redirect\_home', 'redirect\_url' ), ), '\_um\_logout\_redirect\_url' => array( 'sanitize' => 'url', ), '\_um\_after\_delete' => array( 'sanitize' => 'sanitize\_array\_key', 'default' => 'redirect\_home', 'array' => array( 'redirect\_home', 'redirect\_url' ), ), '\_um\_delete\_redirect\_url' => array( 'sanitize' => 'url', ), 'wp\_capabilities' => array( 'sanitize' => array( $this, 'sanitize\_wp\_capabilities' ), ), ) );
 $this->restriction\_post\_meta = apply\_filters( 'um\_restriction\_post\_meta\_map', array( '\_um\_custom\_access\_settings' => array( 'sanitize' => 'bool', ), '\_um\_accessible' => array( 'sanitize' => 'int', ), '\_um\_access\_roles' => array( 'sanitize' => array( $this, 'sanitize\_restriction\_existed\_role' ), ), '\_um\_noaccess\_action' => array( 'sanitize' => 'int', ), '\_um\_restrict\_by\_custom\_message' => array( 'sanitize' => 'int', ), '\_um\_restrict\_custom\_message' => array( 'sanitize' => 'wp\_kses', ), '\_um\_access\_redirect' => array( 'sanitize' => 'int', ), '\_um\_access\_redirect\_url' => array( 'sanitize' => 'url', ), '\_um\_access\_hide\_from\_queries' => array( 'sanitize' => 'bool', ), ) );
 $this->restriction\_term\_meta = apply\_filters( 'um\_restriction\_term\_meta\_map', array( '\_um\_custom\_access\_settings' => array( 'sanitize' => 'bool', ), '\_um\_accessible' => array( 'sanitize' => 'int', ), '\_um\_access\_roles' => array( 'sanitize' => array( $this, 'sanitize\_restriction\_existed\_role' ), ), '\_um\_noaccess\_action' => array( 'sanitize' => 'int', ), '\_um\_restrict\_by\_custom\_message' => array( 'sanitize' => 'int', ), '\_um\_restrict\_custom\_message' => array( 'sanitize' => 'wp\_kses', ), '\_um\_access\_redirect' => array( 'sanitize' => 'int', ), '\_um\_access\_redirect\_url' => array( 'sanitize' => 'url', ), '\_um\_access\_hide\_from\_queries' => array( 'sanitize' => 'bool', ), ) );
 $this->member\_directory\_meta = apply\_filters( 'um\_member\_directory\_meta\_map', array( '\_um\_directory\_template' => array( 'sanitize' => 'text', ), '\_um\_mode' => array( 'sanitize' => 'key', ), '\_um\_view\_types' => array( 'sanitize' => array( $this, 'sanitize\_md\_view\_types' ), ), '\_um\_default\_view' => array( 'sanitize' => 'key', ), '\_um\_roles' => array( 'sanitize' => array( $this, 'sanitize\_restriction\_existed\_role' ), ), '\_um\_has\_profile\_photo' => array( 'sanitize' => 'bool', ), '\_um\_show\_these\_users' => array( 'sanitize' => 'textarea', ), '\_um\_exclude\_these\_users' => array( 'sanitize' => 'textarea', ), '\_um\_must\_search' => array( 'sanitize' => 'bool', ), '\_um\_max\_users' => array( 'sanitize' => 'absint', ), '\_um\_profiles\_per\_page' => array( 'sanitize' => 'absint', ), '\_um\_profiles\_per\_page\_mobile' => array( 'sanitize' => 'absint', ), '\_um\_directory\_header' => array( 'sanitize' => 'text', ), '\_um\_directory\_header\_single' => array( 'sanitize' => 'text', ), '\_um\_directory\_no\_users' => array( 'sanitize' => 'text', ), '\_um\_profile\_photo' => array( 'sanitize' => 'bool', ), '\_um\_cover\_photos' => array( 'sanitize' => 'bool', ), '\_um\_show\_name' => array( 'sanitize' => 'bool', ), '\_um\_show\_tagline' => array( 'sanitize' => 'bool', ), '\_um\_tagline\_fields' => array( 'sanitize' => array( $this, 'sanitize\_user\_field' ), ), '\_um\_show\_userinfo' => array( 'sanitize' => 'bool', ), '\_um\_reveal\_fields' => array( 'sanitize' => array( $this, 'sanitize\_user\_field' ), ), '\_um\_show\_social' => array( 'sanitize' => 'bool', ), '\_um\_userinfo\_animate' => array( 'sanitize' => 'bool', ), '\_um\_search' => array( 'sanitize' => 'bool', ), '\_um\_roles\_can\_search' => array( 'sanitize' => array( $this, 'sanitize\_restriction\_existed\_role' ), ), '\_um\_filters' => array( 'sanitize' => 'bool', ), '\_um\_roles\_can\_filter' => array( 'sanitize' => array( $this, 'sanitize\_restriction\_existed\_role' ), ), '\_um\_search\_fields' => array( 'sanitize' => array( $this, 'sanitize\_filter\_fields' ), ), '\_um\_filters\_expanded' => array( 'sanitize' => 'bool', ), '\_um\_filters\_is\_collapsible' => array( 'sanitize' => 'bool', ), '\_um\_search\_filters' => array( 'sanitize' => array( $this, 'sanitize\_filter\_fields' ), ), '\_um\_sortby' => array( 'sanitize' => 'text', ), '\_um\_sortby\_custom' => array( 'sanitize' => 'text', ), '\_um\_sortby\_custom\_label' => array( 'sanitize' => 'text', ), '\_um\_sortby\_custom\_type' => array( 'sanitize' => 'text', ), '\_um\_sortby\_custom\_order' => array( 'sanitize' => 'text', ), '\_um\_enable\_sorting' => array( 'sanitize' => 'bool', ), '\_um\_sorting\_fields' => array( 'sanitize' => array( $this, 'sanitize\_md\_sorting\_fields' ), ), ) );
 $this->form\_meta = apply\_filters( 'um\_form\_meta\_map', array( '\_um\_mode' => array( 'sanitize' => 'key', ), '\_um\_register\_use\_gdpr' => array( 'sanitize' => 'bool', ), '\_um\_register\_use\_gdpr\_content\_id' => array( 'sanitize' => 'absint', ), '\_um\_register\_use\_gdpr\_toggle\_show' => array( 'sanitize' => 'text', ), '\_um\_register\_use\_gdpr\_toggle\_hide' => array( 'sanitize' => 'text', ), '\_um\_register\_use\_gdpr\_agreement' => array( 'sanitize' => 'text', ), '\_um\_register\_use\_gdpr\_error\_text' => array( 'sanitize' => 'text', ), '\_um\_register\_use\_custom\_settings' => array( 'sanitize' => 'bool', ), '\_um\_register\_role' => array( 'sanitize' => 'key', ), '\_um\_register\_template' => array( 'sanitize' => 'text', ), '\_um\_register\_max\_width' => array( 'sanitize' => 'text', ), '\_um\_register\_icons' => array( 'sanitize' => 'key', ), '\_um\_register\_primary\_btn\_word' => array( 'sanitize' => 'text', ), '\_um\_register\_secondary\_btn' => array( 'sanitize' => 'bool', ), '\_um\_register\_secondary\_btn\_word' => array( 'sanitize' => 'text', ), '\_um\_login\_after\_login' => array( 'sanitize' => 'key', ), '\_um\_login\_redirect\_url' => array( 'sanitize' => 'url', ), '\_um\_login\_use\_custom\_settings' => array( 'sanitize' => 'bool', ), '\_um\_login\_template' => array( 'sanitize' => 'text', ), '\_um\_login\_max\_width' => array( 'sanitize' => 'text', ), '\_um\_login\_icons' => array( 'sanitize' => 'key', ), '\_um\_login\_primary\_btn\_word' => array( 'sanitize' => 'text', ), '\_um\_login\_secondary\_btn' => array( 'sanitize' => 'bool', ), '\_um\_login\_secondary\_btn\_word' => array( 'sanitize' => 'text', ), '\_um\_login\_forgot\_pass\_link' => array( 'sanitize' => 'bool', ), '\_um\_login\_show\_rememberme' => array( 'sanitize' => 'bool', ), '\_um\_profile\_metafields' => array( 'sanitize' => array( $this, 'sanitize\_user\_field' ), ), '\_um\_profile\_use\_custom\_settings' => array( 'sanitize' => 'bool', ), '\_um\_profile\_role' => array( 'sanitize' => array( $this, 'sanitize\_existed\_role' ), ), '\_um\_profile\_template' => array( 'sanitize' => 'text', ), '\_um\_profile\_max\_width' => array( 'sanitize' => 'text', ), '\_um\_profile\_area\_max\_width' => array( 'sanitize' => 'text', ), '\_um\_profile\_icons' => array( 'sanitize' => 'key', ), '\_um\_profile\_primary\_btn\_word' => array( 'sanitize' => 'text', ), '\_um\_profile\_secondary\_btn' => array( 'sanitize' => 'bool', ), '\_um\_profile\_secondary\_btn\_word' => array( 'sanitize' => 'text', ), '\_um\_profile\_cover\_enabled' => array( 'sanitize' => 'bool', ), '\_um\_profile\_coversize' => array( 'sanitize' => 'absint', ), '\_um\_profile\_cover\_ratio' => array( 'sanitize' => 'text', ), '\_um\_profile\_disable\_photo\_upload' => array( 'sanitize' => 'bool', ), '\_um\_profile\_photosize' => array( 'sanitize' => array( $this, 'sanitize\_photosize' ), ), '\_um\_profile\_photo\_required' => array( 'sanitize' => 'bool', ), '\_um\_profile\_show\_name' => array( 'sanitize' => 'bool', ), '\_um\_profile\_show\_social\_links' => array( 'sanitize' => 'bool', ), '\_um\_profile\_show\_bio' => array( 'sanitize' => 'bool', ),
 ) );
 $this->builder\_input = apply\_filters( 'um\_builder\_input\_map', array( '\_in\_row' => array( 'sanitize' => 'key', ), '\_in\_sub\_row' => array( 'sanitize' => 'absint', ), '\_in\_column' => array( 'sanitize' => 'absint', ), '\_in\_group' => array( 'sanitize' => 'absint', ), '\_visibility' => array( 'sanitize' => 'key', ), '\_conditional\_action' => array( 'sanitize' => 'key', ), '\_conditional\_action1' => array( 'sanitize' => 'key', ), '\_conditional\_action2' => array( 'sanitize' => 'key', ), '\_conditional\_action3' => array( 'sanitize' => 'key', ), '\_conditional\_action4' => array( 'sanitize' => 'key', ), '\_conditional\_field' => array( 'sanitize' => 'text', ), '\_conditional\_field1' => array( 'sanitize' => 'text', ), '\_conditional\_field2' => array( 'sanitize' => 'text', ), '\_conditional\_field3' => array( 'sanitize' => 'text', ), '\_conditional\_field4' => array( 'sanitize' => 'text', ), '\_conditional\_operator' => array( 'sanitize' => 'text', ), '\_conditional\_operator1' => array( 'sanitize' => 'text', ), '\_conditional\_operator2' => array( 'sanitize' => 'text', ), '\_conditional\_operator3' => array( 'sanitize' => 'text', ), '\_conditional\_operator4' => array( 'sanitize' => 'text', ), '\_conditional\_value' => array( 'sanitize' => 'text', ), '\_conditional\_value1' => array( 'sanitize' => 'text', ), '\_conditional\_value2' => array( 'sanitize' => 'text', ), '\_conditional\_value3' => array( 'sanitize' => 'text', ), '\_conditional\_value4' => array( 'sanitize' => 'text', ), '\_validate' => array( 'sanitize' => 'key', ), '\_custom\_validate' => array( 'sanitize' => 'text', ), '\_icon' => array( 'sanitize' => 'text', ), '\_css\_class' => array( 'sanitize' => 'text', ), '\_width' => array( 'sanitize' => 'absint', ), '\_divider\_text' => array( 'sanitize' => 'text', ), '\_padding' => array( 'sanitize' => 'text', ), '\_margin' => array( 'sanitize' => 'text', ), '\_border' => array( 'sanitize' => 'text', ), '\_borderstyle' => array( 'sanitize' => 'key', ), '\_borderradius' => array( 'sanitize' => 'text', ), '\_bordercolor' => array( 'sanitize' => 'text', ), '\_heading' => array( 'sanitize' => 'bool', ), '\_heading\_text' => array( 'sanitize' => 'text', ), '\_background' => array( 'sanitize' => 'text', ), '\_heading\_background\_color' => array( 'sanitize' => 'text', ), '\_heading\_text\_color' => array( 'sanitize' => 'text', ), '\_text\_color' => array( 'sanitize' => 'text', ), '\_icon\_color' => array( 'sanitize' => 'text', ), '\_color' => array( 'sanitize' => 'text', ), '\_url\_text' => array( 'sanitize' => 'text', ), '\_url\_target' => array( 'sanitize' => 'key', ), '\_url\_rel' => array( 'sanitize' => 'key', ), '\_force\_good\_pass' => array( 'sanitize' => 'bool', ), '\_force\_confirm\_pass' => array( 'sanitize' => 'bool', ), '\_style' => array( 'sanitize' => 'key', ), '\_intervals' => array( 'sanitize' => 'absint', ), '\_format' => array( 'sanitize' => 'text', ), '\_format\_custom' => array( 'sanitize' => 'text', ), '\_pretty\_format' => array( 'sanitize' => 'bool', ), '\_disabled\_weekdays' => array( 'sanitize' => 'absint', ), '\_years' => array( 'sanitize' => 'absint', ), '\_years\_x' => array( 'sanitize' => 'key', ), '\_range\_start' => array( 'sanitize' => 'text', ), '\_range\_end' => array( 'sanitize' => 'text', ), '\_range' => array( 'sanitize' => 'key', ), '\_content' => array( 'sanitize' => 'textarea', ), '\_crop' => array( 'sanitize' => 'int', ), '\_allowed\_types' => array( 'sanitize' => 'key', ), '\_upload\_text' => array( 'sanitize' => 'text', ), '\_upload\_help\_text' => array( 'sanitize' => 'text', ), '\_button\_text' => array( 'sanitize' => 'text', ), '\_max\_size' => array( 'sanitize' => 'empty\_absint', ), '\_height' => array( 'sanitize' => 'text', ), '\_spacing' => array( 'sanitize' => 'text', ), '\_is\_multi' => array( 'sanitize' => 'bool', ), '\_max\_selections' => array( 'sanitize' => 'empty\_absint', ), '\_min\_selections' => array( 'sanitize' => 'empty\_absint', ), '\_max\_entries' => array( 'sanitize' => 'empty\_absint', ), '\_max\_words' => array( 'sanitize' => 'empty\_absint', ), '\_min' => array( 'sanitize' => 'empty\_int', ), '\_max' => array( 'sanitize' => 'empty\_int', ), '\_min\_chars' => array( 'sanitize' => 'empty\_absint', ), '\_max\_chars' => array( 'sanitize' => 'empty\_absint', ), '\_html' => array( 'sanitize' => 'bool', ), '\_options' => array( 'sanitize' => 'textarea', ), '\_title' => array( 'sanitize' => 'text', ), '\_id' => array( 'sanitize' => 'text', ), '\_metakey' => array( 'sanitize' => 'text', ), '\_help' => array( 'sanitize' => 'text', ), '\_default' => array( 'sanitize' => 'text', ), '\_label' => array( 'sanitize' => 'text', ), '\_label\_confirm\_pass' => array( 'sanitize' => 'text', ), '\_placeholder' => array( 'sanitize' => 'text', ), '\_public' => array( 'sanitize' => 'text', ), '\_roles' => array( 'sanitize' => array( $this, 'sanitize\_existed\_role' ), ), '\_required' => array( 'sanitize' => 'bool', ), '\_editable' => array( 'sanitize' => 'bool', ), '\_number' => array( 'sanitize' => 'absint', ), '\_custom\_dropdown\_options\_source' => array( 'sanitize' => 'text', ), '\_parent\_dropdown\_relationship' => array( 'sanitize' => 'text', ), ) ); }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_md\_sorting\_fields( $value ) { $filter\_fields = array\_merge( UM()->member\_directory()->sort\_fields, array( 'other' => \_\_( 'Other (Custom Field)', 'ultimate-member' ) ) ); $filter\_fields = array\_keys( $filter\_fields );
 if ( '' !== $value ) { $value = array\_filter( $value, function( $v, $k ) use ( $filter\_fields ) { if ( 'other\_data' === $k ) { return true; } else { return in\_array( sanitize\_text\_field( $v ), $filter\_fields, true ); } }, ARRAY\_FILTER\_USE\_BOTH );
 $value = array\_map( function( $item ) { if ( is\_array( $item ) ) { if ( isset( $item['meta\_key'] ) ) { $item['meta\_key'] = sanitize\_text\_field( $item['meta\_key'] ); } if ( isset( $item['label'] ) ) { $item['label'] = sanitize\_text\_field( $item['label'] ); } if ( isset( $item['order'] ) ) { $item['order'] = sanitize\_text\_field( $item['order'] ); } if ( isset( $item['data\_type'] ) ) { $item['data\_type'] = sanitize\_text\_field( $item['data\_type'] ); }
 return $item; } else { return sanitize\_text\_field( $item ); } }, $value ); }
 return $value; }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_filter\_fields( $value ) { $filter\_fields = array\_keys( UM()->member\_directory()->filter\_fields );
 if ( '' !== $value ) { $value = array\_filter( $value, function( $v, $k ) use ( $filter\_fields ) { return in\_array( sanitize\_text\_field( $v ), $filter\_fields, true ); }, ARRAY\_FILTER\_USE\_BOTH );
 $value = array\_map( 'sanitize\_text\_field', $value ); }
 return $value; }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_user\_field( $value ) { $user\_fields = array\_keys( UM()->builtin()->all\_user\_fields() );
 if ( '' !== $value ) { $value = array\_filter( $value, function( $v, $k ) use ( $user\_fields ) { return in\_array( sanitize\_text\_field( $v ), $user\_fields, true ); }, ARRAY\_FILTER\_USE\_BOTH );
 $value = array\_map( 'sanitize\_text\_field', $value ); }
 return $value; }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_md\_view\_types( $value ) { $view\_types = array\_map( function ( $item ) { return $item['title']; }, UM()->member\_directory()->view\_types ); $view\_types = array\_keys( $view\_types );
 if ( '' !== $value ) { $value = array\_filter( $value, function( $v, $k ) use ( $view\_types ) { return in\_array( sanitize\_key( $k ), $view\_types, true ) && 1 === (int) $v; }, ARRAY\_FILTER\_USE\_BOTH );
 $value = array\_map( 'sanitize\_key', $value ); }
 return $value; }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_photosize( $value ) { $sizes = UM()->files()->get\_profile\_photo\_size( 'photo\_thumb\_sizes' ); $sizes = array\_keys( $sizes );
 if ( '' !== $value ) { $value = in\_array( absint( $value ), $sizes, true ) ? absint( $value ) : ''; }
 return $value; }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_cover\_photosize( $value ) { $sizes = UM()->files()->get\_profile\_photo\_size( 'cover\_thumb\_sizes' ); $sizes = array\_keys( $sizes );
 if ( '' !== $value ) { $value = in\_array( absint( $value ), $sizes, true ) ? absint( $value ) : ''; }
 return $value; }
 /\*\* \* @param array|string $value \* \* @return array|string \*/ public function sanitize\_restriction\_existed\_role( $value ) { $all\_roles = array\_keys( UM()->roles()->get\_roles() );[View remainder of file in raw view](https://github.com/ultimatemember/ultimatemember/raw/7b8a7a7c039bde4539c07e049b19036192f1c133/includes/admin/class-admin.php)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

