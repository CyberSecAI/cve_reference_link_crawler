<!DOCTYPE html>
<html lang='en'>
<head>
<title>media-video/mplayer: add 1.5 - repo/gentoo.git - Official Gentoo ebuild repository</title>
<meta name='generator' content='cgit v1.2.3-65-gdbad'/>
<meta name='robots' content='index,follow'/>
<link rel='stylesheet' type='text/css' href='/cgit.css'/>
<script type='text/javascript' src='/cgit.js'></script>
<link rel='shortcut icon' href='//www.gentoo.org/favicon.ico'/>
<link rel='alternate' title='Atom feed' href='https://gitweb.gentoo.org/repo/gentoo.git/atom/?h=master' type='application/atom+xml'/>
<link rel='vcs-git' href='https://anongit.gentoo.org/git/repo/gentoo.git' title='repo/gentoo.git Git repository'/>
<link rel='vcs-git' href='git+ssh://git@git.gentoo.org/repo/gentoo.git' title='repo/gentoo.git Git repository'/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#54487a">
<meta name="description" content="Browse the Gentoo Git repositories">
<link href="https://assets.gentoo.org/tyrian/v2/tyrian.min.css" rel="stylesheet" media="screen">
</head>
<body>
<header>
  <div class="site-title">
    <div class="container">
      <div class="row justify-content-between">
        <div class="logo">
          <a href="/" title="Back to the homepage" class="site-logo">
            <img src="https://assets.gentoo.org/tyrian/v2/site-logo.png" alt="Gentoo" srcset="https://assets.gentoo.org/tyrian/v2/site-logo.svg">
          </a>
          <span class="site-label">GitWeb</span>
        </div>
        <div class="site-title-buttons">
          <div class="btn-group btn-group-sm">
            <a href="https://get.gentoo.org/" role="button" class="btn get-gentoo"><span class="fa fa-fw fa-download"></span>
              <strong>Get Gentoo!</strong></a>
            <div class="btn-group btn-group-sm">
              <a class="btn gentoo-org-sites dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">
                <span class="fa fa-fw fa-map-o"></span> <span class="d-none d-sm-inline">gentoo.org sites</span>
                <span class="caret"></span>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="https://www.gentoo.org/" title="Main Gentoo website"><span class="fa fa-home fa-fw"></span>
                  gentoo.org</a>
                <a class="dropdown-item" href="https://wiki.gentoo.org/" title="Find and contribute documentation"><span class="fa fa-file-text-o fa-fw"></span>
                  Wiki</a>
                <a class="dropdown-item" href="https://bugs.gentoo.org/" title="Report issues and find common issues"><span class="fa fa-bug fa-fw"></span>
                  Bugs</a>
                <a class="dropdown-item" href="https://forums.gentoo.org/" title="Discuss with the community"><span class="fa fa-comments-o fa-fw"></span>
                  Forums</a>
                <a class="dropdown-item" href="https://packages.gentoo.org/" title="Find software for your Gentoo"><span class="fa fa-hdd-o fa-fw"></span>
                  Packages</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="https://planet.gentoo.org/" title="Find out what's going on in the developer community"><span class="fa fa-rss fa-fw"></span>
                  Planet</a>
                <a class="dropdown-item" href="https://archives.gentoo.org/" title="Read up on past discussions"><span class="fa fa-archive fa-fw"></span>
                  Archives</a>
                <a class="dropdown-item" href="https://sources.gentoo.org/" title="Browse our source code"><span class="fa fa-code fa-fw"></span>
                  Sources</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="https://infra-status.gentoo.org/" title="Get updates on the services provided by Gentoo"><span class="fa fa-server fa-fw"></span>
                  Infra Status</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <nav class="tyrian-navbar navbar navbar-dark navbar-expand-lg bg-primary" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-main-collapse" aria-controls="navbar-main-collapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse navbar-main-collapse" id="navbar-main-collapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="/repo/gentoo.git">Gentoo Repository</a></li>
          <li class="nav-item"><a class="nav-link" href="/repo/">Repositories</a></li>
          <li class="nav-item"><a class="nav-link" href="/proj/">Projects</a></li>
          <li class="nav-item"><a class="nav-link" href="/dev/">Developer Overlays</a></li>
          <li class="nav-item"><a class="nav-link" href="/user/">User Overlays</a></li>
          <li class="nav-item"><a class="nav-link" href="/data/">Data</a></li>
          <li class="nav-item"><a class="nav-link" href="/sites/">Websites</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<div class="container pb-5">
  <div class="row">
  <div class="col-md-12">
<div id='cgit'><table id='header'>
<tr>
<td class='logo' rowspan='2'><a href='/'><img src='/cgit.png' alt='cgit logo'/></a></td>
<td class='main'><a href='/'>index</a> : <a href='/repo/gentoo.git/'>repo/gentoo.git</a></td><td class='form'><form method='get'>
<input type='hidden' name='id' value='8cdb49a98ff943afe53695735fb3eed4b77c3b28'/><select name='h' onchange='this.form.submit();'>
<option value='master' selected='selected'>master</option>
</select> <input type='submit' value='switch'/></form></td></tr>
<tr><td class='sub'>Official Gentoo ebuild repository</td><td class='sub right'>Infrastructure team &lt;infrastructure@gentoo.org&gt;</td></tr></table>
<table class='tabs'><tr><td>
<a href='/repo/gentoo.git/'>summary</a><a href='/repo/gentoo.git/refs/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>refs</a><a href='/repo/gentoo.git/log/'>log</a><a href='/repo/gentoo.git/tree/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>tree</a><a class='active' href='/repo/gentoo.git/commit/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>commit</a><a href='/repo/gentoo.git/diff/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>diff</a></td><td class='form'><form class='right' method='get' action='/repo/gentoo.git/log/'>
<input type='hidden' name='id' value='8cdb49a98ff943afe53695735fb3eed4b77c3b28'/><select name='qt'>
<option value='grep'>log msg</option>
<option value='author'>author</option>
<option value='committer'>committer</option>
<option value='range'>range</option>
</select>
<input class='txt' type='search' size='10' name='q' value=''/>
<input type='submit' value='search'/>
</form>
</td></tr></table>
<div class='content'><div class='cgit-panel'><b>diff options</b><form method='get'><input type='hidden' name='id' value='8cdb49a98ff943afe53695735fb3eed4b77c3b28'/><table><tr><td colspan='2'/></tr><tr><td class='label'>context:</td><td class='ctrl'><select name='context' onchange='this.form.submit();'><option value='1'>1</option><option value='2'>2</option><option value='3' selected='selected'>3</option><option value='4'>4</option><option value='5'>5</option><option value='6'>6</option><option value='7'>7</option><option value='8'>8</option><option value='9'>9</option><option value='10'>10</option><option value='15'>15</option><option value='20'>20</option><option value='25'>25</option><option value='30'>30</option><option value='35'>35</option><option value='40'>40</option></select></td></tr><tr><td class='label'>space:</td><td class='ctrl'><select name='ignorews' onchange='this.form.submit();'><option value='0' selected='selected'>include</option><option value='1'>ignore</option></select></td></tr><tr><td class='label'>mode:</td><td class='ctrl'><select name='dt' onchange='this.form.submit();'><option value='0' selected='selected'>unified</option><option value='1'>ssdiff</option><option value='2'>stat only</option></select></td></tr><tr><td/><td class='ctrl'><noscript><input type='submit' value='reload'/></noscript></td></tr></table></form></div><table summary='commit info' class='commit-info'>
<tr><th>author</th><td><span class='gravatar'><img class='inline' src='//www.gravatar.com/avatar/786f3a957bcc3a8d19160e824fc64b8e?s=13&amp;d=retro' /><img class='onhover' src='//www.gravatar.com/avatar/786f3a957bcc3a8d19160e824fc64b8e?s=128&amp;d=retro' /></span>Sam James &lt;sam@gentoo.org&gt;</td><td class='right'>2022-12-24 10:16:46 +0000</td></tr>
<tr><th>committer</th><td><span class='gravatar'><img class='inline' src='//www.gravatar.com/avatar/786f3a957bcc3a8d19160e824fc64b8e?s=13&amp;d=retro' /><img class='onhover' src='//www.gravatar.com/avatar/786f3a957bcc3a8d19160e824fc64b8e?s=128&amp;d=retro' /></span>Sam James &lt;sam@gentoo.org&gt;</td><td class='right'>2022-12-24 10:19:57 +0000</td></tr>
<tr><th>commit</th><td colspan='2' class='oid'><a href='/repo/gentoo.git/commit/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>8cdb49a98ff943afe53695735fb3eed4b77c3b28</a> (<a href='/repo/gentoo.git/patch/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>patch</a>)</td></tr>
<tr><th>tree</th><td colspan='2' class='oid'><a href='/repo/gentoo.git/tree/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>82573361a953f4f681eb59e980c8ead58b3d9a7e</a></td></tr>
<tr><th>parent</th><td colspan='2' class='oid'><a href='/repo/gentoo.git/commit/?id=1594693afb431751faeda3886798220287fb6a30'>net-analyzer/munin: Stabilize 2.0.69-r1 x86, #887799</a> (<a href='/repo/gentoo.git/diff/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28&amp;id2=1594693afb431751faeda3886798220287fb6a30'>diff</a>)</td></tr><tr><th>download</th><td colspan='2' class='oid'><a href='/repo/gentoo.git/snapshot/gentoo-8cdb49a98ff943afe53695735fb3eed4b77c3b28.tar.gz'>gentoo-8cdb49a98ff943afe53695735fb3eed4b77c3b28.tar.gz</a><br/><a href='/repo/gentoo.git/snapshot/gentoo-8cdb49a98ff943afe53695735fb3eed4b77c3b28.tar.bz2'>gentoo-8cdb49a98ff943afe53695735fb3eed4b77c3b28.tar.bz2</a><br/><a href='/repo/gentoo.git/snapshot/gentoo-8cdb49a98ff943afe53695735fb3eed4b77c3b28.zip'>gentoo-8cdb49a98ff943afe53695735fb3eed4b77c3b28.zip</a><br/></td></tr></table>
<div class='commit-subject'>media-video/mplayer: add 1.5</div><div class='commit-msg'>Unclear if anything happened with security bug #858107 though.

Bug: https://bugs.gentoo.org/858107
Bug: https://bugs.gentoo.org/870406
Closes: https://bugs.gentoo.org/728640
Closes: https://bugs.gentoo.org/836428
Closes: https://bugs.gentoo.org/870649
Closes: https://bugs.gentoo.org/888073
Signed-off-by: Sam James &lt;sam@gentoo.org&gt;
</div><div class='diffstat-header'><a href='/repo/gentoo.git/diff/?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>Diffstat</a></div><table summary='diffstat' class='diffstat'><tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/repo/gentoo.git/diff/media-video/mplayer/Manifest?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>media-video/mplayer/Manifest</a></td><td class='right'>1</td><td class='graph'><table summary='file diffstat' width='100%'><tr><td class='add' style='width: 0.2%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 99.8%;'/></tr></table></td></tr>
<tr><td class='mode'>-rw-r--r--</td><td class='add'><a href='/repo/gentoo.git/diff/media-video/mplayer/mplayer-1.5.ebuild?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>media-video/mplayer/mplayer-1.5.ebuild</a></td><td class='right'>627</td><td class='graph'><table summary='file diffstat' width='100%'><tr><td class='add' style='width: 100.0%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 0.0%;'/></tr></table></td></tr>
<tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/repo/gentoo.git/diff/media-video/mplayer/mplayer-9999.ebuild?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>media-video/mplayer/mplayer-9999.ebuild</a></td><td class='right'>378</td><td class='graph'><table summary='file diffstat' width='100%'><tr><td class='add' style='width: 32.1%;'/><td class='rem' style='width: 28.2%;'/><td class='none' style='width: 39.7%;'/></tr></table></td></tr>
</table><div class='diffstat-summary'>3 files changed, 829 insertions, 177 deletions</div><table summary='diff' class='diff'><tr><td><div class='head'>diff --git a/media-video/mplayer/Manifest b/media-video/mplayer/Manifest<br/>index bd9910e5e79e..765a041aebe3 100644<br/>--- a/<a href='/repo/gentoo.git/tree/media-video/mplayer/Manifest?id=1594693afb431751faeda3886798220287fb6a30'>media-video/mplayer/Manifest</a><br/>+++ b/<a href='/repo/gentoo.git/tree/media-video/mplayer/Manifest?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>media-video/mplayer/Manifest</a></div><div class='hunk'>@@ -1,4 +1,5 @@</div><div class='ctx'> DIST MPlayer-1.4.tar.xz 15054920 BLAKE2B 4777cb31a32d62c393778c581c1913fbf355a36cbe6bcf6f426c90c2c8c70123e8aed4d01faf52ee6b1fba3c49e11fa13185f81ae8582f90c901b90955a1f42b SHA512 8ef71cad187d8c8f81c837279bd3a421b440c892d3347a667670b21c954007e35cf0d15828f0901f347b9c1b053e8da4bc7f0fb6de34382d1e463074923d7b34</div><div class='add'>+DIST MPlayer-1.5.tar.xz 15379972 BLAKE2B 33c09025a9c521e1bc09a50fabb04e89493cbc4117afb3d5769e17b7dd621e44441a8d9f5a3cce2316c781ed701131a966abb02d64976adee9e5f40b7b475e7f SHA512 05fe1edf23cec53be676333b6299df4b3f1ee746e5ccd96dc0bed550e7a1602ba7ba182c1cc23fcac67aacde849a46628b1dcab8ee3d3d4117415c11b6a6ad74</div><div class='ctx'> DIST font-arial-cp1250.tar.bz2 249705 BLAKE2B eb4366a110d917dc975b8add168ab43b1e8a0db7342647f69f5421fc1170719015c97ffa770e89892cbb4cee8e5b2fb74a4772c8f6cbef9606ee12c3746d78c9 SHA512 4f77ff5ceb8ec6e5d9f8f34d8950a6a6276d1fd5a947772fcbdb6554988b1ea665c12b82f45164f91fb7bd08000cb4afc26fa35beb4c760464160e22b9b8c340</div><div class='ctx'> DIST font-arial-iso-8859-1.tar.bz2 234242 BLAKE2B 0671854e1a257d27b502affb59de681942a93990d3ac2575bbf1a6dd9eef026969f2f9ce4e9c11a68ea3d8aed48063f826a1e153f7468437a39791672c92a5d0 SHA512 a1d03b6f09c48f48b7733f3bc0402ceab239a9abf88b860d852ea9fe69b4da690208a79d6f29d30204f5b37becf10672e8e8c0bfef201846d80ec54df617d029</div><div class='ctx'> DIST font-arial-iso-8859-2.tar.bz2 222208 BLAKE2B 94b1a04672bf9b4b20a0e6981591e761f751bd637deddcb801855296c525bf3b5e8feb1cb11cef282c0269f2c963ded22846089076e7e6763f258b8a932af454 SHA512 5671e628303fd816f64a51ad10e2f4dd9c3dc1b34c379a2ecf489b83931db7af668aaa4e00e96a00cacd63ed98daeae6b6a4d5925edfb06fc98d3a923f70257d</div><div class='head'>diff --git a/media-video/mplayer/mplayer-1.5.ebuild b/media-video/mplayer/mplayer-1.5.ebuild<br/>new file mode 100644<br/>index 000000000000..c938cefbf668<br/>--- /dev/null<br/>+++ b/<a href='/repo/gentoo.git/tree/media-video/mplayer/mplayer-1.5.ebuild?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>media-video/mplayer/mplayer-1.5.ebuild</a></div><div class='hunk'>@@ -0,0 +1,627 @@</div><div class='add'>+# Copyright 1999-2022 Gentoo Authors</div><div class='add'>+# Distributed under the terms of the GNU General Public License v2</div><div class='add'>+</div><div class='add'>+EAPI=8</div><div class='add'>+</div><div class='add'>+inherit edo toolchain-funcs flag-o-matic</div><div class='add'>+</div><div class='add'>+if [[ ${PV} == *9999* ]]; then</div><div class='add'>+	EGIT_REPO_URI="https://git.ffmpeg.org/ffmpeg.git"</div><div class='add'>+	ESVN_REPO_URI="svn://svn.mplayerhq.hu/mplayer/trunk"</div><div class='add'>+	RELEASE_URI=""</div><div class='add'>+</div><div class='add'>+	inherit subversion git-r3</div><div class='add'>+elif [[ "${PV%_rc*}" == "${PV}" &amp;&amp; "${PV%_pre*}" == "${PV}" ]]; then</div><div class='add'>+	MY_P="MPlayer-${PV}"</div><div class='add'>+	S="${WORKDIR}/${MY_P}"</div><div class='add'>+	RELEASE_URI="mirror://mplayer/releases/${MY_P}.tar.xz"</div><div class='add'>+else</div><div class='add'>+	RELEASE_URI="mirror://gentoo/${P}.tar.xz"</div><div class='add'>+fi</div><div class='add'>+</div><div class='add'>+FONT_URI="</div><div class='add'>+	mirror://mplayer/releases/fonts/font-arial-iso-8859-1.tar.bz2</div><div class='add'>+	mirror://mplayer/releases/fonts/font-arial-iso-8859-2.tar.bz2</div><div class='add'>+	mirror://mplayer/releases/fonts/font-arial-cp1250.tar.bz2</div><div class='add'>+"</div><div class='add'>+</div><div class='add'>+DESCRIPTION="Media Player for Linux"</div><div class='add'>+HOMEPAGE="http://www.mplayerhq.hu/"</div><div class='add'>+SRC_URI="</div><div class='add'>+	${RELEASE_URI}</div><div class='add'>+	!truetype? ( ${FONT_URI} )</div><div class='add'>+"</div><div class='add'>+</div><div class='add'>+IUSE="cpu_flags_x86_avx cpu_flags_x86_avx2 cpu_flags_x86_fma3 cpu_flags_x86_fma4"</div><div class='add'>+IUSE+=" cpu_flags_x86_mmx cpu_flags_x86_mmxext"</div><div class='add'>+IUSE+=" cpu_flags_x86_sse cpu_flags_x86_sse2 cpu_flags_x86_sse3 cpu_flags_x86_ssse3 cpu_flags_x86_sse4_1"</div><div class='add'>+IUSE+=" cpu_flags_x86_sse4_2 cpu_flags_x86_xop"</div><div class='add'>+IUSE+=" cpu_flags_x86_3dnow cpu_flags_x86_3dnowext"</div><div class='add'>+</div><div class='add'>+IUSE+=" cpu_flags_ppc_altivec"</div><div class='add'>+</div><div class='add'>+IUSE+=" a52 aalib +alsa aqua bidi bl bluray"</div><div class='add'>+IUSE+=" bs2b cddb +cdio cdparanoia cpudetection debug dga doc dts dv dvb +dvd +dvdnav +enca +encode faac faad fbcon"</div><div class='add'>+IUSE+=" ftp ggi gsm +iconv ipv6 jack joystick jpeg ladspa +libass libcaca libmpeg2 lirc live lzo mad md5sum"</div><div class='add'>+IUSE+=" mng mp3 nas +network openal opengl +osdmenu oss png pnm pulseaudio pvr"</div><div class='add'>+IUSE+=" radio rar rtc rtmp samba selinux +shm sdl speex"</div><div class='add'>+IUSE+=" tga theora tremor +truetype toolame twolame +unicode v4l vcd vdpau vidix"</div><div class='add'>+IUSE+=" vorbis +X x264 xinerama +xscreensaver +xv xvid yuv4mpeg zoran"</div><div class='add'>+</div><div class='add'>+VIDEO_CARDS="mga"</div><div class='add'>+for x in ${VIDEO_CARDS}; do</div><div class='add'>+	IUSE+=" video_cards_${x}"</div><div class='add'>+done</div><div class='add'>+</div><div class='add'>+FONT_RDEPS="</div><div class='add'>+	media-libs/fontconfig</div><div class='add'>+	&gt;=media-libs/freetype-2.2.1:2</div><div class='add'>+	virtual/ttf-fonts</div><div class='add'>+"</div><div class='add'>+X_RDEPS="</div><div class='add'>+	x11-libs/libXext</div><div class='add'>+	x11-libs/libXxf86vm</div><div class='add'>+"</div><div class='add'>+# - RAR: although -gpl version is nice, it can't do most functions normal rars can</div><div class='add'>+#	nemesi? ( net-libs/libnemesi )</div><div class='add'>+# - mplayer relies on private APIs in giflib that have been removed:</div><div class='add'>+#   https://sourceforge.net/p/giflib/bugs/132/</div><div class='add'>+RDEPEND="</div><div class='add'>+	app-arch/bzip2</div><div class='add'>+	&gt;=media-video/ffmpeg-4.0:=[vdpau?]</div><div class='add'>+	sys-libs/ncurses:=</div><div class='add'>+	sys-libs/zlib</div><div class='add'>+	a52? ( media-libs/a52dec )</div><div class='add'>+	aalib? ( media-libs/aalib )</div><div class='add'>+	alsa? ( media-libs/alsa-lib )</div><div class='add'>+	bidi? ( dev-libs/fribidi )</div><div class='add'>+	bluray? ( &gt;=media-libs/libbluray-0.2.1:= )</div><div class='add'>+	bs2b? ( media-libs/libbs2b )</div><div class='add'>+	cdio? (</div><div class='add'>+		dev-libs/libcdio:=</div><div class='add'>+		dev-libs/libcdio-paranoia</div><div class='add'>+	)</div><div class='add'>+	cdparanoia? ( !cdio? ( media-sound/cdparanoia ) )</div><div class='add'>+	dga? ( x11-libs/libXxf86dga )</div><div class='add'>+	dts? ( media-libs/libdca )</div><div class='add'>+	dv? ( media-libs/libdv )</div><div class='add'>+	dvd? ( &gt;=media-libs/libdvdread-4.1.3:= )</div><div class='add'>+	dvdnav? ( &gt;=media-libs/libdvdnav-4.1.3:= )</div><div class='add'>+	encode? (</div><div class='add'>+		!twolame? ( toolame? ( media-sound/toolame ) )</div><div class='add'>+		twolame? ( media-sound/twolame )</div><div class='add'>+		faac? ( media-libs/faac )</div><div class='add'>+		mp3? ( media-sound/lame )</div><div class='add'>+		x264? ( &gt;=media-libs/x264-0.0.20100423:= )</div><div class='add'>+		xvid? ( media-libs/xvid )</div><div class='add'>+	)</div><div class='add'>+	enca? ( app-i18n/enca )</div><div class='add'>+	faad? ( media-libs/faad2 )</div><div class='add'>+	ggi? ( media-libs/libggi media-libs/libggiwmh )</div><div class='add'>+	gsm? ( media-sound/gsm )</div><div class='add'>+	iconv? ( virtual/libiconv )</div><div class='add'>+	jack? ( virtual/jack )</div><div class='add'>+	jpeg? ( media-libs/libjpeg-turbo:= )</div><div class='add'>+	ladspa? ( media-libs/ladspa-sdk )</div><div class='add'>+	libass? ( &gt;=media-libs/libass-0.9.10:= )</div><div class='add'>+	libcaca? ( media-libs/libcaca )</div><div class='add'>+	libmpeg2? ( media-libs/libmpeg2 )</div><div class='add'>+	lirc? ( app-misc/lirc )</div><div class='add'>+	live? ( media-plugins/live )</div><div class='add'>+	lzo? ( &gt;=dev-libs/lzo-2 )</div><div class='add'>+	mad? ( media-libs/libmad )</div><div class='add'>+	mng? ( media-libs/libmng:= )</div><div class='add'>+	mp3? ( media-sound/mpg123 )</div><div class='add'>+	nas? ( media-libs/nas )</div><div class='add'>+	openal? ( media-libs/openal )</div><div class='add'>+	opengl? ( virtual/opengl )</div><div class='add'>+	png? ( media-libs/libpng:= )</div><div class='add'>+	pnm? ( media-libs/netpbm )</div><div class='add'>+	pulseaudio? ( media-sound/pulseaudio )</div><div class='add'>+	rar? (</div><div class='add'>+		|| (</div><div class='add'>+			app-arch/unrar</div><div class='add'>+			app-arch/rar</div><div class='add'>+		)</div><div class='add'>+	)</div><div class='add'>+	rtmp? ( media-video/rtmpdump )</div><div class='add'>+	samba? ( net-fs/samba )</div><div class='add'>+	sdl? ( media-libs/libsdl )</div><div class='add'>+	speex? ( media-libs/speex )</div><div class='add'>+	theora? ( media-libs/libtheora[encode?] )</div><div class='add'>+	tremor? ( media-libs/tremor )</div><div class='add'>+	truetype? ( ${FONT_RDEPS} )</div><div class='add'>+	vdpau? ( x11-libs/libvdpau )</div><div class='add'>+	vorbis? ( !tremor? ( media-libs/libvorbis ) )</div><div class='add'>+	X? ( ${X_RDEPS}	)</div><div class='add'>+	xinerama? ( x11-libs/libXinerama )</div><div class='add'>+	xscreensaver? ( x11-libs/libXScrnSaver )</div><div class='add'>+	xv? ( x11-libs/libXv )</div><div class='add'>+"</div><div class='add'>+DEPEND="</div><div class='add'>+	${RDEPEND}</div><div class='add'>+	dga? ( x11-base/xorg-proto )</div><div class='add'>+	dvb? ( virtual/linuxtv-dvb-headers )</div><div class='add'>+	X? ( x11-base/xorg-proto )</div><div class='add'>+	xinerama? ( x11-base/xorg-proto )</div><div class='add'>+	xscreensaver? ( x11-base/xorg-proto )</div><div class='add'>+"</div><div class='add'>+ASM_DEP="dev-lang/yasm"</div><div class='add'>+BDEPEND="</div><div class='add'>+	virtual/pkgconfig</div><div class='add'>+	amd64? ( ${ASM_DEP} )</div><div class='add'>+	doc? (</div><div class='add'>+		app-text/docbook-xml-dtd</div><div class='add'>+		app-text/docbook-xsl-stylesheets</div><div class='add'>+		dev-libs/libxslt</div><div class='add'>+	)</div><div class='add'>+	x86? ( ${ASM_DEP} )</div><div class='add'>+"</div><div class='add'>+RDEPEND+="selinux? ( sec-policy/selinux-mplayer )"</div><div class='add'>+</div><div class='add'>+LICENSE="GPL-2"</div><div class='add'>+SLOT="0"</div><div class='add'>+if [[ ${PV} != *9999* ]]; then</div><div class='add'>+	KEYWORDS="~alpha ~amd64 ~arm ~arm64 ~hppa ~ia64 ~ppc ~ppc64 ~riscv ~sparc ~x86"</div><div class='add'>+fi</div><div class='add'>+</div><div class='add'>+# faac codecs are nonfree</div><div class='add'>+# libcdio support: prefer libcdio over cdparanoia and don't check for cddb w/cdio</div><div class='add'>+# dvd navigation requires dvd read support</div><div class='add'>+# ass and freetype font require iconv and ass requires freetype fonts</div><div class='add'>+# unicode transformations are usefull only with iconv</div><div class='add'>+# radio requires oss or alsa backend</div><div class='add'>+REQUIRED_USE="</div><div class='add'>+	dga? ( X )</div><div class='add'>+	dvdnav? ( dvd )</div><div class='add'>+	enca? ( iconv )</div><div class='add'>+	ggi? ( X )</div><div class='add'>+	libass? ( truetype )</div><div class='add'>+	opengl? ( X )</div><div class='add'>+	osdmenu? ( X )</div><div class='add'>+	truetype? ( iconv )</div><div class='add'>+	vdpau? ( X )</div><div class='add'>+	vidix? ( X )</div><div class='add'>+	xinerama? ( X )</div><div class='add'>+	xscreensaver? ( X )</div><div class='add'>+	xv? ( X )"</div><div class='add'>+RESTRICT="faac? ( bindist )"</div><div class='add'>+</div><div class='add'>+pkg_setup() {</div><div class='add'>+	if [[ ${PV} == *9999* ]]; then</div><div class='add'>+		elog</div><div class='add'>+		elog "This is a live ebuild which installs the latest from upstream's"</div><div class='add'>+		elog "subversion repository, and is unsupported by Gentoo."</div><div class='add'>+		elog "Everything but bugs in the ebuild itself will be ignored."</div><div class='add'>+		elog</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	if use cpudetection; then</div><div class='add'>+		ewarn</div><div class='add'>+		ewarn "You've enabled the cpudetection flag. This feature is"</div><div class='add'>+		ewarn "included mainly for people who want to use the same"</div><div class='add'>+		ewarn "binary on another system with a different CPU architecture."</div><div class='add'>+		ewarn "MPlayer will already detect your CPU settings by default at"</div><div class='add'>+		ewarn "buildtime; this flag is used for runtime detection."</div><div class='add'>+		ewarn "You won't need this turned on if you are only building"</div><div class='add'>+		ewarn "mplayer for this system. Also, if your compile fails, try"</div><div class='add'>+		ewarn "disabling this use flag."</div><div class='add'>+	fi</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+src_unpack() {</div><div class='add'>+	if [[ ${PV} == *9999* ]]; then</div><div class='add'>+		subversion_src_unpack</div><div class='add'>+</div><div class='add'>+		cd "${WORKDIR}" || die</div><div class='add'>+		rm -rf "${WORKDIR}/${P}/ffmpeg/" || die</div><div class='add'>+		( EGIT_CHECKOUT_DIR="${WORKDIR}/${P}/ffmpeg/" git-r3_src_unpack )</div><div class='add'>+	else</div><div class='add'>+		unpack ${A}</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	if [[ ${PV} == *9999* || "${PV%_rc*}" == "${PV}" ]]; then</div><div class='add'>+		cd "${S}" || die</div><div class='add'>+		cp "${FILESDIR}/dump_ffmpeg.sh" . || die</div><div class='add'>+		chmod +x dump_ffmpeg.sh || die</div><div class='add'>+		./dump_ffmpeg.sh</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	if ! use truetype; then</div><div class='add'>+		unpack font-arial-iso-8859-1.tar.bz2 \</div><div class='add'>+			font-arial-iso-8859-2.tar.bz2 \</div><div class='add'>+			font-arial-cp1250.tar.bz2</div><div class='add'>+	fi</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+src_prepare() {</div><div class='add'>+	default</div><div class='add'>+</div><div class='add'>+	local svf=snapshot_version</div><div class='add'>+	if [[ ${PV} == *9999* ]]; then</div><div class='add'>+		# Set SVN version manually</div><div class='add'>+		subversion_wc_info</div><div class='add'>+		printf "${ESVN_WC_REVISION}" &gt; ${svf} || die</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	if [[ ! -f VERSION ]]; then</div><div class='add'>+		[[ -f "${svf}" ]] || die "Missing ${svf}. Did you generate your snapshot with prepare_mplayer.sh?"</div><div class='add'>+</div><div class='add'>+		local sv=$(&lt;${svf})</div><div class='add'>+		printf "SVN-r${sv} (Gentoo)" &gt; VERSION || die</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	# Fix path to bash executable in configure scripts</div><div class='add'>+	sed -i -e "1c\#!${EPREFIX}/bin/bash" configure version.sh || die</div><div class='add'>+</div><div class='add'>+	# Use sane default for &gt;=virtual/udev-197</div><div class='add'>+	sed -i -e '/default_dvd_device/s:/dev/dvd:/dev/cdrom:' configure || die</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+src_configure() {</div><div class='add'>+	local myconf=()</div><div class='add'>+	local uses i</div><div class='add'>+</div><div class='add'>+	# Set LINGUAS</div><div class='add'>+	[[ -n ${LINGUAS} ]] &amp;&amp; LINGUAS="${LINGUAS/da/dk}"</div><div class='add'>+	[[ -n ${LINGUAS} ]] &amp;&amp; LINGUAS="${LINGUAS/zh/zh_CN}" #482968</div><div class='add'>+</div><div class='add'>+	# mplayer ebuild uses "use foo || --disable-foo" to forcibly disable</div><div class='add'>+	# compilation in almost every situation. The reason for this is</div><div class='add'>+	# because if --enable is used, it will force the build of that option,</div><div class='add'>+	# regardless of whether the dependency is available or not.</div><div class='add'>+</div><div class='add'>+	#####################</div><div class='add'>+	# Optional features #</div><div class='add'>+	#####################</div><div class='add'>+	# Disable svga since we don't want it</div><div class='add'>+	# Disable arts since we don't have kde3</div><div class='add'>+	# Always disable internal ass</div><div class='add'>+	# Disable opus and ilbc since it only controls support in internal</div><div class='add'>+	# ffmpeg which we do not use</div><div class='add'>+	myconf+=(</div><div class='add'>+		--disable-arts</div><div class='add'>+		--disable-ass-internal</div><div class='add'>+		--disable-directfb</div><div class='add'>+		--disable-kai</div><div class='add'>+		--disable-libilbc</div><div class='add'>+		--disable-libnut</div><div class='add'>+		--disable-libopus</div><div class='add'>+		--disable-svga --disable-svgalib_helper</div><div class='add'>+		--disable-xvmc</div><div class='add'>+		$(use_enable network networking)</div><div class='add'>+		$(use_enable joystick)</div><div class='add'>+	)</div><div class='add'>+</div><div class='add'>+	uses="bl bluray enca ftp rtc vcd" # nemesi &lt;- not working with in-tree ebuild</div><div class='add'>+	myconf+=( --disable-nemesi ) # nemesi automagic disable</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='add'>+	done</div><div class='add'>+	use bidi  || myconf+=( --disable-fribidi )</div><div class='add'>+	use ipv6  || myconf+=( --disable-inet6 )</div><div class='add'>+	use libass || myconf+=( --disable-ass )</div><div class='add'>+	use rar   || myconf+=( --disable-unrarexec )</div><div class='add'>+	use samba || myconf+=( --disable-smb )</div><div class='add'>+	use lirc  || myconf+=( --disable-lirc --disable-lircc --disable-apple-ir )</div><div class='add'>+</div><div class='add'>+	# libcdio support: prefer libcdio over cdparanoia</div><div class='add'>+	# don't check for cddb w/cdio</div><div class='add'>+	if use cdio; then</div><div class='add'>+		myconf+=( --disable-cdparanoia )</div><div class='add'>+	else</div><div class='add'>+		myconf+=( --disable-libcdio )</div><div class='add'>+		use cdparanoia || myconf+=( --disable-cdparanoia )</div><div class='add'>+		use cddb || myconf+=( --disable-cddb )</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	################################</div><div class='add'>+	# DVD read, navigation support #</div><div class='add'>+	################################</div><div class='add'>+	#</div><div class='add'>+	# dvdread - accessing a DVD</div><div class='add'>+	# dvdnav - navigation of menus</div><div class='add'>+	use dvd || myconf+=( --disable-dvdread )</div><div class='add'>+	use dvdnav || myconf+=( --disable-dvdnav )</div><div class='add'>+</div><div class='add'>+	#############</div><div class='add'>+	# Subtitles #</div><div class='add'>+	#############</div><div class='add'>+	#</div><div class='add'>+	# SRT/ASS/SSA (subtitles) requires freetype support</div><div class='add'>+	# freetype support requires iconv</div><div class='add'>+	# iconv optionally can use unicode</div><div class='add'>+	use truetype || myconf+=( --disable-freetype )</div><div class='add'>+	use iconv || myconf+=( --disable-iconv --charset=noconv )</div><div class='add'>+	use iconv &amp;&amp; use unicode &amp;&amp; myconf+=( --charset=UTF-8 )</div><div class='add'>+</div><div class='add'>+	#####################################</div><div class='add'>+	# DVB / Video4Linux / Radio support #</div><div class='add'>+	#####################################</div><div class='add'>+	myconf+=( --disable-tv-bsdbt848 )</div><div class='add'>+	# gone since linux-headers-2.6.38</div><div class='add'>+	myconf+=( --disable-tv-v4l1 )</div><div class='add'>+	if { use dvb || use v4l || use pvr || use radio; }; then</div><div class='add'>+		use dvb || myconf+=( --disable-dvb )</div><div class='add'>+		use pvr || myconf+=( --disable-pvr )</div><div class='add'>+		use v4l || myconf+=( --disable-tv-v4l2 )</div><div class='add'>+		if use radio &amp;&amp; { use dvb || use v4l; }; then</div><div class='add'>+			myconf+=(</div><div class='add'>+				--enable-radio</div><div class='add'>+				$(use_enable encode radio-capture)</div><div class='add'>+			)</div><div class='add'>+		else</div><div class='add'>+			myconf+=(</div><div class='add'>+				--disable-radio-v4l2</div><div class='add'>+				--disable-radio-bsdbt848</div><div class='add'>+			)</div><div class='add'>+		fi</div><div class='add'>+	else</div><div class='add'>+		myconf+=(</div><div class='add'>+			--disable-tv</div><div class='add'>+			--disable-tv-v4l2</div><div class='add'>+			--disable-radio</div><div class='add'>+			--disable-radio-v4l2</div><div class='add'>+			--disable-radio-bsdbt848</div><div class='add'>+			--disable-dvb</div><div class='add'>+			--disable-v4l2</div><div class='add'>+			--disable-pvr</div><div class='add'>+		)</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	##########</div><div class='add'>+	# Codecs #</div><div class='add'>+	##########</div><div class='add'>+	myconf+=( --disable-musepack ) # Use internal musepack codecs for SV7 and SV8 support</div><div class='add'>+	myconf+=( --disable-libmpeg2-internal ) # always use system media-libs/libmpeg2</div><div class='add'>+	myconf+=( --disable-gif ) # relies on to-be-removed giflib internals https://sourceforge.net/p/giflib/bugs/132/</div><div class='add'>+	use dts || myconf+=( --disable-libdca )</div><div class='add'>+	if ! use mp3; then</div><div class='add'>+		myconf+=(</div><div class='add'>+			--disable-mp3lame</div><div class='add'>+			--disable-mpg123</div><div class='add'>+		)</div><div class='add'>+	fi</div><div class='add'>+	uses="a52 bs2b dv gsm lzo rtmp vorbis"</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		use ${i} || myconf+=( --disable-lib${i} )</div><div class='add'>+	done</div><div class='add'>+</div><div class='add'>+	uses="faad jpeg libmpeg2 live mad mng png pnm speex tga theora tremor"</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='add'>+	done</div><div class='add'>+	# Pulls an outdated libopenjpeg, ffmpeg provides better support for it</div><div class='add'>+	myconf+=( --disable-libopenjpeg )</div><div class='add'>+</div><div class='add'>+	# Encoding</div><div class='add'>+	uses="faac x264 xvid toolame twolame"</div><div class='add'>+	if use encode; then</div><div class='add'>+		for i in ${uses}; do</div><div class='add'>+			use ${i} || myconf+=( --disable-${i} )</div><div class='add'>+		done</div><div class='add'>+	else</div><div class='add'>+		myconf+=( --disable-mencoder )</div><div class='add'>+		for i in ${uses}; do</div><div class='add'>+			myconf+=( --disable-${i} )</div><div class='add'>+			use ${i} &amp;&amp; elog "Useflag \"${i}\" will only be useful for encoding, i.e., with \"encode\" useflag enabled."</div><div class='add'>+		done</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	#################</div><div class='add'>+	# Binary codecs #</div><div class='add'>+	#################</div><div class='add'>+	myconf+=( --disable-qtx --disable-real --disable-win32dll )</div><div class='add'>+</div><div class='add'>+	################</div><div class='add'>+	# Video Output #</div><div class='add'>+	################</div><div class='add'>+	uses="md5sum sdl yuv4mpeg"</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='add'>+	done</div><div class='add'>+	use aalib || myconf+=( --disable-aa )</div><div class='add'>+	use fbcon || myconf+=( --disable-fbdev )</div><div class='add'>+	use libcaca || myconf+=( --disable-caca )</div><div class='add'>+	use zoran || myconf+=( --disable-zr )</div><div class='add'>+</div><div class='add'>+	if ! use kernel_linux || ! use video_cards_mga; then</div><div class='add'>+		 myconf+=( --disable-mga --disable-xmga )</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	myconf+=(</div><div class='add'>+		--disable-3dfx</div><div class='add'>+		--disable-tdfxvid</div><div class='add'>+		--disable-tdfxfb</div><div class='add'>+	)</div><div class='add'>+</div><div class='add'>+	# sun card, disable by default, see bug #258729</div><div class='add'>+	myconf+=( --disable-xvr100 )</div><div class='add'>+</div><div class='add'>+	################</div><div class='add'>+	# Audio Output #</div><div class='add'>+	################</div><div class='add'>+	myconf+=( --disable-esd )</div><div class='add'>+	uses="alsa jack ladspa nas openal"</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='add'>+	done</div><div class='add'>+	use pulseaudio || myconf+=( --disable-pulse )</div><div class='add'>+	if ! use radio; then</div><div class='add'>+		use oss || myconf+=( --disable-ossaudio )</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	####################</div><div class='add'>+	# Advanced Options #</div><div class='add'>+	####################</div><div class='add'>+	# Platform specific flags, hardcoded on amd64 (see below)</div><div class='add'>+	use cpudetection &amp;&amp; myconf+=( --enable-runtime-cpudetection )</div><div class='add'>+</div><div class='add'>+	uses="3dnow 3dnowext avx avx2 fma3 fma4 mmx mmxext sse sse2 sse3 ssse3 xop"</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		myconf+=( $(use_enable cpu_flags_x86_${i} ${i}) )</div><div class='add'>+	done</div><div class='add'>+	myconf+=( $(use_enable cpu_flags_x86_sse4_1 sse4) )</div><div class='add'>+	myconf+=( $(use_enable cpu_flags_x86_sse4_2 sse42) )</div><div class='add'>+</div><div class='add'>+	myconf+=(</div><div class='add'>+		$(use_enable cpu_flags_ppc_altivec altivec)</div><div class='add'>+		$(use_enable shm)</div><div class='add'>+	)</div><div class='add'>+</div><div class='add'>+	use debug &amp;&amp; myconf+=( --enable-debug=3 )</div><div class='add'>+</div><div class='add'>+	if use x86 &amp;&amp; gcc-specs-pie; then</div><div class='add'>+		filter-flags -fPIC -fPIE</div><div class='add'>+		append-ldflags -nopie</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	###########################</div><div class='add'>+	# X enabled configuration #</div><div class='add'>+	###########################</div><div class='add'>+	myconf+=( --disable-gui )</div><div class='add'>+	myconf+=( --disable-vesa )</div><div class='add'>+	uses="ggi vdpau xinerama xv"</div><div class='add'>+	for i in ${uses}; do</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='add'>+	done</div><div class='add'>+	use dga          || myconf+=( --disable-dga1 --disable-dga2 )</div><div class='add'>+	use opengl       || myconf+=( --disable-gl )</div><div class='add'>+	use osdmenu      &amp;&amp; myconf+=( --enable-menu )</div><div class='add'>+	use vidix        || myconf+=( --disable-vidix --disable-vidix-pcidb )</div><div class='add'>+	use xscreensaver || myconf+=( --disable-xss )</div><div class='add'>+	use X            || myconf+=( --disable-x11 )</div><div class='add'>+</div><div class='add'>+	############################</div><div class='add'>+	# OSX (aqua) configuration #</div><div class='add'>+	############################</div><div class='add'>+	if use aqua; then</div><div class='add'>+		myconf+=(</div><div class='add'>+			--enable-macosx-finder</div><div class='add'>+			--enable-macosx-bundle</div><div class='add'>+		)</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	# Note: --enable-gnutls only makes sense with --enable-ffmpeg_a</div><div class='add'>+	edo ./configure \</div><div class='add'>+		--cc="$(tc-getCC)" \</div><div class='add'>+		--host-cc="$(tc-getBUILD_CC)" \</div><div class='add'>+		--prefix="${EPREFIX}/usr" \</div><div class='add'>+		--bindir="${EPREFIX}/usr/bin" \</div><div class='add'>+		--libdir="${EPREFIX}/usr/$(get_libdir)" \</div><div class='add'>+		--confdir="${EPREFIX}/etc/mplayer" \</div><div class='add'>+		--datadir="${EPREFIX}/usr/share/mplayer${namesuf}" \</div><div class='add'>+		--mandir="${EPREFIX}/usr/share/man" \</div><div class='add'>+		--disable-ffmpeg_a \</div><div class='add'>+		--disable-gnutls \</div><div class='add'>+		"${myconf[@]}"</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+src_compile() {</div><div class='add'>+	default</div><div class='add'>+</div><div class='add'>+	# Build only user-requested docs if they're available.</div><div class='add'>+	if use doc ; then</div><div class='add'>+		# Select available languages from ${LINGUAS}</div><div class='add'>+		local ALLOWED_LINGUAS="cs de en es fr hu it pl ru zh_CN"</div><div class='add'>+		local BUILT_DOCS=()</div><div class='add'>+		local i</div><div class='add'>+</div><div class='add'>+		for i in ${LINGUAS} ; do</div><div class='add'>+			has ${i} ${ALLOWED_LINGUAS} &amp;&amp; BUILT_DOCS+=( ${i} )</div><div class='add'>+		done</div><div class='add'>+</div><div class='add'>+		if [[ -z ${BUILT_DOCS[@]} ]]; then</div><div class='add'>+			emake -j1 html-chunked</div><div class='add'>+		else</div><div class='add'>+			for i in ${BUILT_DOCS[@]}; do</div><div class='add'>+				emake -j1 html-chunked-${i}</div><div class='add'>+			done</div><div class='add'>+		fi</div><div class='add'>+	fi</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+src_install() {</div><div class='add'>+	local i</div><div class='add'>+</div><div class='add'>+	emake \</div><div class='add'>+		DESTDIR="${D}" \</div><div class='add'>+		INSTALLSTRIP="" \</div><div class='add'>+		install</div><div class='add'>+</div><div class='add'>+	dodoc AUTHORS Changelog Copyright README etc/codecs.conf</div><div class='add'>+</div><div class='add'>+	docinto tech/</div><div class='add'>+	dodoc DOCS/tech/{*.txt,MAINTAINERS,mpsub.sub,playtree,TODO,wishlist}</div><div class='add'>+	docinto TOOLS/</div><div class='add'>+	dodoc -r TOOLS/*</div><div class='add'>+	docinto tech/mirrors/</div><div class='add'>+	dodoc DOCS/tech/mirrors/*</div><div class='add'>+</div><div class='add'>+	if use doc; then</div><div class='add'>+		docinto html/</div><div class='add'>+		dodoc -r "${S}"/DOCS/HTML/*</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	if ! use truetype; then</div><div class='add'>+		dodir /usr/share/mplayer/fonts</div><div class='add'>+</div><div class='add'>+		# Do this generic, as the mplayer people like to change the structure</div><div class='add'>+		# of their zips ...</div><div class='add'>+		local i</div><div class='add'>+		for i in $(find "${WORKDIR}/" -type d -name 'font-arial-*'); do</div><div class='add'>+			cp -pPR "${i}" "${ED}/usr/share/mplayer/fonts"</div><div class='add'>+		done</div><div class='add'>+</div><div class='add'>+		# Fix the font symlink ...</div><div class='add'>+		rm -rf "${ED}/usr/share/mplayer/font"</div><div class='add'>+		dosym fonts/font-arial-14-iso-8859-1 /usr/share/mplayer/font</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	insinto /etc/mplayer</div><div class='add'>+	newins "${S}/etc/example.conf" mplayer.conf</div><div class='add'>+	cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt;- _EOF_</div><div class='add'>+	# Config options can be section specific, global</div><div class='add'>+	# options should go in the default section</div><div class='add'>+	[default]</div><div class='add'>+	_EOF_</div><div class='add'>+</div><div class='add'>+	doins "${S}/etc/input.conf"</div><div class='add'>+	if use osdmenu; then</div><div class='add'>+		doins "${S}/etc/menu.conf"</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	if use truetype; then</div><div class='add'>+		cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt;- _EOF_</div><div class='add'>+		fontconfig=1</div><div class='add'>+		subfont-osd-scale=4</div><div class='add'>+		subfont-text-scale=3</div><div class='add'>+		_EOF_</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	# bug 256203</div><div class='add'>+	if use rar; then</div><div class='add'>+		cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt;- _EOF_</div><div class='add'>+		unrarexec=${EPREFIX}/usr/bin/unrar</div><div class='add'>+		_EOF_</div><div class='add'>+	fi</div><div class='add'>+</div><div class='add'>+	dosym -r /etc/mplayer/mplayer.conf /usr/share/mplayer/mplayer.conf</div><div class='add'>+	newbin "${S}/TOOLS/midentify.sh" midentify</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+pkg_preinst() {</div><div class='add'>+	[[ -d ${EROOT}/usr/share/mplayer/Skin/default ]] &amp;&amp; \</div><div class='add'>+		rm -rf "${EROOT}/usr/share/mplayer/Skin/default"</div><div class='add'>+}</div><div class='add'>+</div><div class='add'>+pkg_postrm() {</div><div class='add'>+	# Cleanup stale symlinks</div><div class='add'>+	[[ -L "${EROOT}/usr/share/mplayer/font" &amp;&amp;</div><div class='add'>+			! -e "${EROOT}/usr/share/mplayer/font" ]] &amp;&amp; \</div><div class='add'>+		rm -f "${EROOT}/usr/share/mplayer/font"</div><div class='add'>+</div><div class='add'>+	[[ -L "${EROOT}/usr/share/mplayer/subfont.ttf" &amp;&amp;</div><div class='add'>+			! -e "${EROOT}/usr/share/mplayer/subfont.ttf" ]] &amp;&amp; \</div><div class='add'>+		rm -f "${EROOT}/usr/share/mplayer/subfont.ttf"</div><div class='add'>+}</div><div class='head'>diff --git a/media-video/mplayer/mplayer-9999.ebuild b/media-video/mplayer/mplayer-9999.ebuild<br/>index e07e9e46bd59..c938cefbf668 100644<br/>--- a/<a href='/repo/gentoo.git/tree/media-video/mplayer/mplayer-9999.ebuild?id=1594693afb431751faeda3886798220287fb6a30'>media-video/mplayer/mplayer-9999.ebuild</a><br/>+++ b/<a href='/repo/gentoo.git/tree/media-video/mplayer/mplayer-9999.ebuild?id=8cdb49a98ff943afe53695735fb3eed4b77c3b28'>media-video/mplayer/mplayer-9999.ebuild</a></div><div class='hunk'>@@ -1,80 +1,92 @@</div><div class='ctx'> # Copyright 1999-2022 Gentoo Authors</div><div class='ctx'> # Distributed under the terms of the GNU General Public License v2</div><div class='ctx'> </div><div class='del'>-EAPI=6</div><div class='add'>+EAPI=8</div><div class='ctx'> </div><div class='del'>-EGIT_REPO_URI="https://git.ffmpeg.org/ffmpeg.git"</div><div class='del'>-ESVN_REPO_URI="svn://svn.mplayerhq.hu/mplayer/trunk"</div><div class='del'>-[[ ${PV} = *9999* ]] &amp;&amp; SVN_ECLASS="subversion git-r3"</div><div class='add'>+inherit edo toolchain-funcs flag-o-matic</div><div class='ctx'> </div><div class='del'>-inherit toolchain-funcs flag-o-matic ${SVN_ECLASS}</div><div class='del'>-</div><div class='del'>-IUSE="cpu_flags_ppc_altivec cpu_flags_x86_3dnow cpu_flags_x86_3dnowext a52 aalib +alsa aqua bidi bl bluray</div><div class='del'>-bs2b cddb +cdio cdparanoia cpudetection debug dga</div><div class='del'>-doc dts dv dvb +dvd +dvdnav +enca +encode faac faad fbcon</div><div class='del'>-ftp ggi gsm +iconv ipv6 jack joystick jpeg ladspa</div><div class='del'>-+libass libcaca libmpeg2 lirc live lzo mad md5sum cpu_flags_x86_mmx cpu_flags_x86_mmxext mng mp3 nas</div><div class='del'>-+network openal opengl +osdmenu oss png pnm pulseaudio pvr</div><div class='del'>-radio rar rtc rtmp samba selinux +shm sdl speex cpu_flags_x86_sse cpu_flags_x86_sse2 cpu_flags_x86_ssse3</div><div class='del'>-tga theora tremor +truetype toolame twolame +unicode v4l vcd vdpau vidix</div><div class='del'>-vorbis +X x264 xinerama +xscreensaver +xv xvid yuv4mpeg zoran"</div><div class='del'>-</div><div class='del'>-VIDEO_CARDS="mga"</div><div class='del'>-for x in ${VIDEO_CARDS}; do</div><div class='del'>-	IUSE+=" video_cards_${x}"</div><div class='del'>-done</div><div class='del'>-</div><div class='del'>-FONT_URI="</div><div class='del'>-	mirror://mplayer/releases/fonts/font-arial-iso-8859-1.tar.bz2</div><div class='del'>-	mirror://mplayer/releases/fonts/font-arial-iso-8859-2.tar.bz2</div><div class='del'>-	mirror://mplayer/releases/fonts/font-arial-cp1250.tar.bz2</div><div class='del'>-"</div><div class='ctx'> if [[ ${PV} == *9999* ]]; then</div><div class='add'>+	EGIT_REPO_URI="https://git.ffmpeg.org/ffmpeg.git"</div><div class='add'>+	ESVN_REPO_URI="svn://svn.mplayerhq.hu/mplayer/trunk"</div><div class='ctx'> 	RELEASE_URI=""</div><div class='del'>-elif [ "${PV%_rc*}" = "${PV}" -a "${PV%_pre*}" = "${PV}" ]; then</div><div class='add'>+</div><div class='add'>+	inherit subversion git-r3</div><div class='add'>+elif [[ "${PV%_rc*}" == "${PV}" &amp;&amp; "${PV%_pre*}" == "${PV}" ]]; then</div><div class='ctx'> 	MY_P="MPlayer-${PV}"</div><div class='ctx'> 	S="${WORKDIR}/${MY_P}"</div><div class='ctx'> 	RELEASE_URI="mirror://mplayer/releases/${MY_P}.tar.xz"</div><div class='ctx'> else</div><div class='ctx'> 	RELEASE_URI="mirror://gentoo/${P}.tar.xz"</div><div class='ctx'> fi</div><div class='del'>-SRC_URI="${RELEASE_URI}</div><div class='del'>-	!truetype? ( ${FONT_URI} )"</div><div class='add'>+</div><div class='add'>+FONT_URI="</div><div class='add'>+	mirror://mplayer/releases/fonts/font-arial-iso-8859-1.tar.bz2</div><div class='add'>+	mirror://mplayer/releases/fonts/font-arial-iso-8859-2.tar.bz2</div><div class='add'>+	mirror://mplayer/releases/fonts/font-arial-cp1250.tar.bz2</div><div class='add'>+"</div><div class='ctx'> </div><div class='ctx'> DESCRIPTION="Media Player for Linux"</div><div class='ctx'> HOMEPAGE="http://www.mplayerhq.hu/"</div><div class='add'>+SRC_URI="</div><div class='add'>+	${RELEASE_URI}</div><div class='add'>+	!truetype? ( ${FONT_URI} )</div><div class='add'>+"</div><div class='add'>+</div><div class='add'>+IUSE="cpu_flags_x86_avx cpu_flags_x86_avx2 cpu_flags_x86_fma3 cpu_flags_x86_fma4"</div><div class='add'>+IUSE+=" cpu_flags_x86_mmx cpu_flags_x86_mmxext"</div><div class='add'>+IUSE+=" cpu_flags_x86_sse cpu_flags_x86_sse2 cpu_flags_x86_sse3 cpu_flags_x86_ssse3 cpu_flags_x86_sse4_1"</div><div class='add'>+IUSE+=" cpu_flags_x86_sse4_2 cpu_flags_x86_xop"</div><div class='add'>+IUSE+=" cpu_flags_x86_3dnow cpu_flags_x86_3dnowext"</div><div class='add'>+</div><div class='add'>+IUSE+=" cpu_flags_ppc_altivec"</div><div class='add'>+</div><div class='add'>+IUSE+=" a52 aalib +alsa aqua bidi bl bluray"</div><div class='add'>+IUSE+=" bs2b cddb +cdio cdparanoia cpudetection debug dga doc dts dv dvb +dvd +dvdnav +enca +encode faac faad fbcon"</div><div class='add'>+IUSE+=" ftp ggi gsm +iconv ipv6 jack joystick jpeg ladspa +libass libcaca libmpeg2 lirc live lzo mad md5sum"</div><div class='add'>+IUSE+=" mng mp3 nas +network openal opengl +osdmenu oss png pnm pulseaudio pvr"</div><div class='add'>+IUSE+=" radio rar rtc rtmp samba selinux +shm sdl speex"</div><div class='add'>+IUSE+=" tga theora tremor +truetype toolame twolame +unicode v4l vcd vdpau vidix"</div><div class='add'>+IUSE+=" vorbis +X x264 xinerama +xscreensaver +xv xvid yuv4mpeg zoran"</div><div class='add'>+</div><div class='add'>+VIDEO_CARDS="mga"</div><div class='add'>+for x in ${VIDEO_CARDS}; do</div><div class='add'>+	IUSE+=" video_cards_${x}"</div><div class='add'>+done</div><div class='ctx'> </div><div class='ctx'> FONT_RDEPS="</div><div class='del'>-	virtual/ttf-fonts</div><div class='ctx'> 	media-libs/fontconfig</div><div class='ctx'> 	&gt;=media-libs/freetype-2.2.1:2</div><div class='add'>+	virtual/ttf-fonts</div><div class='ctx'> "</div><div class='ctx'> X_RDEPS="</div><div class='ctx'> 	x11-libs/libXext</div><div class='ctx'> 	x11-libs/libXxf86vm</div><div class='ctx'> "</div><div class='del'>-# Rar: althrought -gpl version is nice, it cant do most functions normal rars can</div><div class='add'>+# - RAR: although -gpl version is nice, it can't do most functions normal rars can</div><div class='ctx'> #	nemesi? ( net-libs/libnemesi )</div><div class='del'>-# mplayer relies on private APIs in giflib that have been removed:</div><div class='add'>+# - mplayer relies on private APIs in giflib that have been removed:</div><div class='ctx'> #   https://sourceforge.net/p/giflib/bugs/132/</div><div class='del'>-RDEPEND+="</div><div class='del'>-	sys-libs/ncurses:0=</div><div class='add'>+RDEPEND="</div><div class='ctx'> 	app-arch/bzip2</div><div class='add'>+	&gt;=media-video/ffmpeg-4.0:=[vdpau?]</div><div class='add'>+	sys-libs/ncurses:=</div><div class='ctx'> 	sys-libs/zlib</div><div class='del'>-	&gt;=media-video/ffmpeg-4.0:0=[vdpau?]</div><div class='ctx'> 	a52? ( media-libs/a52dec )</div><div class='ctx'> 	aalib? ( media-libs/aalib )</div><div class='ctx'> 	alsa? ( media-libs/alsa-lib )</div><div class='ctx'> 	bidi? ( dev-libs/fribidi )</div><div class='ctx'> 	bluray? ( &gt;=media-libs/libbluray-0.2.1:= )</div><div class='ctx'> 	bs2b? ( media-libs/libbs2b )</div><div class='del'>-	cdio? ( dev-libs/libcdio:0= dev-libs/libcdio-paranoia )</div><div class='add'>+	cdio? (</div><div class='add'>+		dev-libs/libcdio:=</div><div class='add'>+		dev-libs/libcdio-paranoia</div><div class='add'>+	)</div><div class='ctx'> 	cdparanoia? ( !cdio? ( media-sound/cdparanoia ) )</div><div class='ctx'> 	dga? ( x11-libs/libXxf86dga )</div><div class='ctx'> 	dts? ( media-libs/libdca )</div><div class='ctx'> 	dv? ( media-libs/libdv )</div><div class='del'>-	dvd? ( &gt;=media-libs/libdvdread-4.1.3:0= )</div><div class='del'>-	dvdnav? ( &gt;=media-libs/libdvdnav-4.1.3:0= )</div><div class='add'>+	dvd? ( &gt;=media-libs/libdvdread-4.1.3:= )</div><div class='add'>+	dvdnav? ( &gt;=media-libs/libdvdnav-4.1.3:= )</div><div class='ctx'> 	encode? (</div><div class='ctx'> 		!twolame? ( toolame? ( media-sound/toolame ) )</div><div class='ctx'> 		twolame? ( media-sound/twolame )</div><div class='hunk'>@@ -103,7 +115,7 @@ RDEPEND+="</div><div class='ctx'> 	nas? ( media-libs/nas )</div><div class='ctx'> 	openal? ( media-libs/openal )</div><div class='ctx'> 	opengl? ( virtual/opengl )</div><div class='del'>-	png? ( media-libs/libpng:0= )</div><div class='add'>+	png? ( media-libs/libpng:= )</div><div class='ctx'> 	pnm? ( media-libs/netpbm )</div><div class='ctx'> 	pulseaudio? ( media-sound/pulseaudio )</div><div class='ctx'> 	rar? (</div><div class='hunk'>@@ -126,30 +138,31 @@ RDEPEND+="</div><div class='ctx'> 	xscreensaver? ( x11-libs/libXScrnSaver )</div><div class='ctx'> 	xv? ( x11-libs/libXv )</div><div class='ctx'> "</div><div class='del'>-</div><div class='del'>-ASM_DEP="dev-lang/yasm"</div><div class='del'>-DEPEND="${RDEPEND}</div><div class='del'>-	virtual/pkgconfig</div><div class='add'>+DEPEND="</div><div class='add'>+	${RDEPEND}</div><div class='ctx'> 	dga? ( x11-base/xorg-proto )</div><div class='ctx'> 	dvb? ( virtual/linuxtv-dvb-headers )</div><div class='ctx'> 	X? ( x11-base/xorg-proto )</div><div class='ctx'> 	xinerama? ( x11-base/xorg-proto )</div><div class='ctx'> 	xscreensaver? ( x11-base/xorg-proto )</div><div class='add'>+"</div><div class='add'>+ASM_DEP="dev-lang/yasm"</div><div class='add'>+BDEPEND="</div><div class='add'>+	virtual/pkgconfig</div><div class='ctx'> 	amd64? ( ${ASM_DEP} )</div><div class='ctx'> 	doc? (</div><div class='del'>-		dev-libs/libxslt app-text/docbook-xml-dtd</div><div class='add'>+		app-text/docbook-xml-dtd</div><div class='ctx'> 		app-text/docbook-xsl-stylesheets</div><div class='add'>+		dev-libs/libxslt</div><div class='ctx'> 	)</div><div class='ctx'> 	x86? ( ${ASM_DEP} )</div><div class='ctx'> "</div><div class='del'>-RDEPEND+="</div><div class='del'>-	selinux? ( sec-policy/selinux-mplayer )</div><div class='del'>-"</div><div class='add'>+RDEPEND+="selinux? ( sec-policy/selinux-mplayer )"</div><div class='ctx'> </div><div class='del'>-SLOT="0"</div><div class='ctx'> LICENSE="GPL-2"</div><div class='add'>+SLOT="0"</div><div class='ctx'> if [[ ${PV} != *9999* ]]; then</div><div class='del'>-	KEYWORDS="~alpha ~amd64 ~arm ~hppa ~ia64 ~ppc ~ppc64 ~sparc ~x86"</div><div class='add'>+	KEYWORDS="~alpha ~amd64 ~arm ~arm64 ~hppa ~ia64 ~ppc ~ppc64 ~riscv ~sparc ~x86"</div><div class='ctx'> fi</div><div class='ctx'> </div><div class='ctx'> # faac codecs are nonfree</div><div class='hunk'>@@ -197,20 +210,21 @@ pkg_setup() {</div><div class='ctx'> }</div><div class='ctx'> </div><div class='ctx'> src_unpack() {</div><div class='del'>-	if [[ ${PV} = *9999* ]]; then</div><div class='add'>+	if [[ ${PV} == *9999* ]]; then</div><div class='ctx'> 		subversion_src_unpack</div><div class='del'>-		cd "${WORKDIR}"</div><div class='del'>-		rm -rf "${WORKDIR}/${P}/ffmpeg/"</div><div class='add'>+</div><div class='add'>+		cd "${WORKDIR}" || die</div><div class='add'>+		rm -rf "${WORKDIR}/${P}/ffmpeg/" || die</div><div class='ctx'> 		( EGIT_CHECKOUT_DIR="${WORKDIR}/${P}/ffmpeg/" git-r3_src_unpack )</div><div class='ctx'> 	else</div><div class='ctx'> 		unpack ${A}</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='del'>-	if [[ ${PV} = *9999* ]] || [[ "${PV%_rc*}" = "${PV}" ]]; then</div><div class='del'>-		cd "${S}"</div><div class='add'>+	if [[ ${PV} == *9999* || "${PV%_rc*}" == "${PV}" ]]; then</div><div class='add'>+		cd "${S}" || die</div><div class='ctx'> 		cp "${FILESDIR}/dump_ffmpeg.sh" . || die</div><div class='del'>-		chmod +x dump_ffmpeg.sh</div><div class='del'>-		./dump_ffmpeg.sh || die</div><div class='add'>+		chmod +x dump_ffmpeg.sh || die</div><div class='add'>+		./dump_ffmpeg.sh</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	if ! use truetype; then</div><div class='hunk'>@@ -224,20 +238,20 @@ src_prepare() {</div><div class='ctx'> 	default</div><div class='ctx'> </div><div class='ctx'> 	local svf=snapshot_version</div><div class='del'>-	if [[ ${PV} = *9999* ]]; then</div><div class='add'>+	if [[ ${PV} == *9999* ]]; then</div><div class='ctx'> 		# Set SVN version manually</div><div class='ctx'> 		subversion_wc_info</div><div class='del'>-		printf "${ESVN_WC_REVISION}" &gt; $svf</div><div class='del'>-	else</div><div class='del'>-		eapply "${FILESDIR}"/${PN}-1.3-CVE-2016-4352.patch</div><div class='add'>+		printf "${ESVN_WC_REVISION}" &gt; ${svf} || die</div><div class='ctx'> 	fi</div><div class='del'>-	if [ ! -f VERSION ] ; then</div><div class='del'>-		[ -f "$svf" ] || die "Missing ${svf}. Did you generate your snapshot with prepare_mplayer.sh?"</div><div class='del'>-		local sv=$(&lt;$svf)</div><div class='del'>-		printf "SVN-r${sv} (Gentoo)" &gt; VERSION</div><div class='add'>+</div><div class='add'>+	if [[ ! -f VERSION ]]; then</div><div class='add'>+		[[ -f "${svf}" ]] || die "Missing ${svf}. Did you generate your snapshot with prepare_mplayer.sh?"</div><div class='add'>+</div><div class='add'>+		local sv=$(&lt;${svf})</div><div class='add'>+		printf "SVN-r${sv} (Gentoo)" &gt; VERSION || die</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='del'>-	# fix path to bash executable in configure scripts</div><div class='add'>+	# Fix path to bash executable in configure scripts</div><div class='ctx'> 	sed -i -e "1c\#!${EPREFIX}/bin/bash" configure version.sh || die</div><div class='ctx'> </div><div class='ctx'> 	# Use sane default for &gt;=virtual/udev-197</div><div class='hunk'>@@ -245,27 +259,27 @@ src_prepare() {</div><div class='ctx'> }</div><div class='ctx'> </div><div class='ctx'> src_configure() {</div><div class='del'>-	local myconf=""</div><div class='add'>+	local myconf=()</div><div class='ctx'> 	local uses i</div><div class='ctx'> </div><div class='del'>-	# set LINGUAS</div><div class='del'>-	[[ -n $LINGUAS ]] &amp;&amp; LINGUAS="${LINGUAS/da/dk}"</div><div class='del'>-	[[ -n $LINGUAS ]] &amp;&amp; LINGUAS="${LINGUAS/zh/zh_CN}" #482968</div><div class='add'>+	# Set LINGUAS</div><div class='add'>+	[[ -n ${LINGUAS} ]] &amp;&amp; LINGUAS="${LINGUAS/da/dk}"</div><div class='add'>+	[[ -n ${LINGUAS} ]] &amp;&amp; LINGUAS="${LINGUAS/zh/zh_CN}" #482968</div><div class='ctx'> </div><div class='ctx'> 	# mplayer ebuild uses "use foo || --disable-foo" to forcibly disable</div><div class='ctx'> 	# compilation in almost every situation. The reason for this is</div><div class='ctx'> 	# because if --enable is used, it will force the build of that option,</div><div class='ctx'> 	# regardless of whether the dependency is available or not.</div><div class='ctx'> </div><div class='del'>-	###################</div><div class='del'>-	#Optional features#</div><div class='del'>-	###################</div><div class='del'>-	# disable svga since we don't want it</div><div class='del'>-	# disable arts since we don't have kde3</div><div class='del'>-	# always disable internal ass</div><div class='del'>-	# disable opus and ilbc since it only controls support in internal</div><div class='del'>-	#         ffmpeg which we do not use</div><div class='del'>-	myconf+="</div><div class='add'>+	#####################</div><div class='add'>+	# Optional features #</div><div class='add'>+	#####################</div><div class='add'>+	# Disable svga since we don't want it</div><div class='add'>+	# Disable arts since we don't have kde3</div><div class='add'>+	# Always disable internal ass</div><div class='add'>+	# Disable opus and ilbc since it only controls support in internal</div><div class='add'>+	# ffmpeg which we do not use</div><div class='add'>+	myconf+=(</div><div class='ctx'> 		--disable-arts</div><div class='ctx'> 		--disable-ass-internal</div><div class='ctx'> 		--disable-directfb</div><div class='hunk'>@@ -277,27 +291,28 @@ src_configure() {</div><div class='ctx'> 		--disable-xvmc</div><div class='ctx'> 		$(use_enable network networking)</div><div class='ctx'> 		$(use_enable joystick)</div><div class='del'>-	"</div><div class='add'>+	)</div><div class='add'>+</div><div class='ctx'> 	uses="bl bluray enca ftp rtc vcd" # nemesi &lt;- not working with in-tree ebuild</div><div class='del'>-	myconf+=" --disable-nemesi" # nemesi automagic disable</div><div class='add'>+	myconf+=( --disable-nemesi ) # nemesi automagic disable</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		use ${i} || myconf+=" --disable-${i}"</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='ctx'> 	done</div><div class='del'>-	use bidi  || myconf+=" --disable-fribidi"</div><div class='del'>-	use ipv6  || myconf+=" --disable-inet6"</div><div class='del'>-	use libass || myconf+=" --disable-ass"</div><div class='del'>-	use rar   || myconf+=" --disable-unrarexec"</div><div class='del'>-	use samba || myconf+=" --disable-smb"</div><div class='del'>-	use lirc  || myconf+=" --disable-lirc --disable-lircc --disable-apple-ir"</div><div class='add'>+	use bidi  || myconf+=( --disable-fribidi )</div><div class='add'>+	use ipv6  || myconf+=( --disable-inet6 )</div><div class='add'>+	use libass || myconf+=( --disable-ass )</div><div class='add'>+	use rar   || myconf+=( --disable-unrarexec )</div><div class='add'>+	use samba || myconf+=( --disable-smb )</div><div class='add'>+	use lirc  || myconf+=( --disable-lirc --disable-lircc --disable-apple-ir )</div><div class='ctx'> </div><div class='ctx'> 	# libcdio support: prefer libcdio over cdparanoia</div><div class='ctx'> 	# don't check for cddb w/cdio</div><div class='ctx'> 	if use cdio; then</div><div class='del'>-		myconf+=" --disable-cdparanoia"</div><div class='add'>+		myconf+=( --disable-cdparanoia )</div><div class='ctx'> 	else</div><div class='del'>-		myconf+=" --disable-libcdio"</div><div class='del'>-		use cdparanoia || myconf+=" --disable-cdparanoia"</div><div class='del'>-		use cddb || myconf+=" --disable-cddb"</div><div class='add'>+		myconf+=( --disable-libcdio )</div><div class='add'>+		use cdparanoia || myconf+=( --disable-cdparanoia )</div><div class='add'>+		use cddb || myconf+=( --disable-cddb )</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	################################</div><div class='hunk'>@@ -306,8 +321,8 @@ src_configure() {</div><div class='ctx'> 	#</div><div class='ctx'> 	# dvdread - accessing a DVD</div><div class='ctx'> 	# dvdnav - navigation of menus</div><div class='del'>-	use dvd || myconf+=" --disable-dvdread"</div><div class='del'>-	use dvdnav || myconf+=" --disable-dvdnav"</div><div class='add'>+	use dvd || myconf+=( --disable-dvdread )</div><div class='add'>+	use dvdnav || myconf+=( --disable-dvdnav )</div><div class='ctx'> </div><div class='ctx'> 	#############</div><div class='ctx'> 	# Subtitles #</div><div class='hunk'>@@ -316,35 +331,33 @@ src_configure() {</div><div class='ctx'> 	# SRT/ASS/SSA (subtitles) requires freetype support</div><div class='ctx'> 	# freetype support requires iconv</div><div class='ctx'> 	# iconv optionally can use unicode</div><div class='del'>-	use truetype || myconf+=" --disable-freetype"</div><div class='del'>-	use iconv || myconf+=" --disable-iconv --charset=noconv"</div><div class='del'>-	use iconv &amp;&amp; use unicode &amp;&amp; myconf+=" --charset=UTF-8"</div><div class='add'>+	use truetype || myconf+=( --disable-freetype )</div><div class='add'>+	use iconv || myconf+=( --disable-iconv --charset=noconv )</div><div class='add'>+	use iconv &amp;&amp; use unicode &amp;&amp; myconf+=( --charset=UTF-8 )</div><div class='ctx'> </div><div class='ctx'> 	#####################################</div><div class='ctx'> 	# DVB / Video4Linux / Radio support #</div><div class='ctx'> 	#####################################</div><div class='del'>-	myconf+=" --disable-tv-bsdbt848"</div><div class='del'>-	# broken upstream, won't work with recent kernels</div><div class='del'>-	myconf+=" --disable-ivtv"</div><div class='add'>+	myconf+=( --disable-tv-bsdbt848 )</div><div class='ctx'> 	# gone since linux-headers-2.6.38</div><div class='del'>-	myconf+=" --disable-tv-v4l1"</div><div class='add'>+	myconf+=( --disable-tv-v4l1 )</div><div class='ctx'> 	if { use dvb || use v4l || use pvr || use radio; }; then</div><div class='del'>-		use dvb || myconf+=" --disable-dvb"</div><div class='del'>-		use pvr || myconf+=" --disable-pvr"</div><div class='del'>-		use v4l || myconf+=" --disable-tv-v4l2"</div><div class='add'>+		use dvb || myconf+=( --disable-dvb )</div><div class='add'>+		use pvr || myconf+=( --disable-pvr )</div><div class='add'>+		use v4l || myconf+=( --disable-tv-v4l2 )</div><div class='ctx'> 		if use radio &amp;&amp; { use dvb || use v4l; }; then</div><div class='del'>-			myconf+="</div><div class='add'>+			myconf+=(</div><div class='ctx'> 				--enable-radio</div><div class='ctx'> 				$(use_enable encode radio-capture)</div><div class='del'>-			"</div><div class='add'>+			)</div><div class='ctx'> 		else</div><div class='del'>-			myconf+="</div><div class='add'>+			myconf+=(</div><div class='ctx'> 				--disable-radio-v4l2</div><div class='ctx'> 				--disable-radio-bsdbt848</div><div class='del'>-			"</div><div class='add'>+			)</div><div class='ctx'> 		fi</div><div class='ctx'> 	else</div><div class='del'>-		myconf+="</div><div class='add'>+		myconf+=(</div><div class='ctx'> 			--disable-tv</div><div class='ctx'> 			--disable-tv-v4l2</div><div class='ctx'> 			--disable-radio</div><div class='hunk'>@@ -352,44 +365,45 @@ src_configure() {</div><div class='ctx'> 			--disable-radio-bsdbt848</div><div class='ctx'> 			--disable-dvb</div><div class='ctx'> 			--disable-v4l2</div><div class='del'>-			--disable-pvr"</div><div class='add'>+			--disable-pvr</div><div class='add'>+		)</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	##########</div><div class='ctx'> 	# Codecs #</div><div class='ctx'> 	##########</div><div class='del'>-	myconf+=" --disable-musepack" # Use internal musepack codecs for SV7 and SV8 support</div><div class='del'>-	myconf+=" --disable-libmpeg2-internal" # always use system media-libs/libmpeg2</div><div class='del'>-	myconf+=" --disable-gif" # relies on to-be-removed giflib internals https://sourceforge.net/p/giflib/bugs/132/</div><div class='del'>-	use dts || myconf+=" --disable-libdca"</div><div class='add'>+	myconf+=( --disable-musepack ) # Use internal musepack codecs for SV7 and SV8 support</div><div class='add'>+	myconf+=( --disable-libmpeg2-internal ) # always use system media-libs/libmpeg2</div><div class='add'>+	myconf+=( --disable-gif ) # relies on to-be-removed giflib internals https://sourceforge.net/p/giflib/bugs/132/</div><div class='add'>+	use dts || myconf+=( --disable-libdca )</div><div class='ctx'> 	if ! use mp3; then</div><div class='del'>-		myconf+="</div><div class='add'>+		myconf+=(</div><div class='ctx'> 			--disable-mp3lame</div><div class='ctx'> 			--disable-mpg123</div><div class='del'>-		"</div><div class='add'>+		)</div><div class='ctx'> 	fi</div><div class='ctx'> 	uses="a52 bs2b dv gsm lzo rtmp vorbis"</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		use ${i} || myconf+=" --disable-lib${i}"</div><div class='add'>+		use ${i} || myconf+=( --disable-lib${i} )</div><div class='ctx'> 	done</div><div class='ctx'> </div><div class='ctx'> 	uses="faad jpeg libmpeg2 live mad mng png pnm speex tga theora tremor"</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		use ${i} || myconf+=" --disable-${i}"</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='ctx'> 	done</div><div class='ctx'> 	# Pulls an outdated libopenjpeg, ffmpeg provides better support for it</div><div class='del'>-	myconf+=" --disable-libopenjpeg"</div><div class='add'>+	myconf+=( --disable-libopenjpeg )</div><div class='ctx'> </div><div class='ctx'> 	# Encoding</div><div class='ctx'> 	uses="faac x264 xvid toolame twolame"</div><div class='ctx'> 	if use encode; then</div><div class='ctx'> 		for i in ${uses}; do</div><div class='del'>-			use ${i} || myconf+=" --disable-${i}"</div><div class='add'>+			use ${i} || myconf+=( --disable-${i} )</div><div class='ctx'> 		done</div><div class='ctx'> 	else</div><div class='del'>-		myconf+=" --disable-mencoder"</div><div class='add'>+		myconf+=( --disable-mencoder )</div><div class='ctx'> 		for i in ${uses}; do</div><div class='del'>-			myconf+=" --disable-${i}"</div><div class='add'>+			myconf+=( --disable-${i} )</div><div class='ctx'> 			use ${i} &amp;&amp; elog "Useflag \"${i}\" will only be useful for encoding, i.e., with \"encode\" useflag enabled."</div><div class='ctx'> 		done</div><div class='ctx'> 	fi</div><div class='hunk'>@@ -397,62 +411,65 @@ src_configure() {</div><div class='ctx'> 	#################</div><div class='ctx'> 	# Binary codecs #</div><div class='ctx'> 	#################</div><div class='del'>-	myconf+=" --disable-qtx --disable-real --disable-win32dll"</div><div class='add'>+	myconf+=( --disable-qtx --disable-real --disable-win32dll )</div><div class='ctx'> </div><div class='ctx'> 	################</div><div class='ctx'> 	# Video Output #</div><div class='ctx'> 	################</div><div class='ctx'> 	uses="md5sum sdl yuv4mpeg"</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		use ${i} || myconf+=" --disable-${i}"</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='ctx'> 	done</div><div class='del'>-	use aalib || myconf+=" --disable-aa"</div><div class='del'>-	use fbcon || myconf+=" --disable-fbdev"</div><div class='del'>-	use libcaca || myconf+=" --disable-caca"</div><div class='del'>-	use zoran || myconf+=" --disable-zr"</div><div class='add'>+	use aalib || myconf+=( --disable-aa )</div><div class='add'>+	use fbcon || myconf+=( --disable-fbdev )</div><div class='add'>+	use libcaca || myconf+=( --disable-caca )</div><div class='add'>+	use zoran || myconf+=( --disable-zr )</div><div class='ctx'> </div><div class='ctx'> 	if ! use kernel_linux || ! use video_cards_mga; then</div><div class='del'>-		 myconf+=" --disable-mga --disable-xmga"</div><div class='add'>+		 myconf+=( --disable-mga --disable-xmga )</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='del'>-	myconf+="</div><div class='add'>+	myconf+=(</div><div class='ctx'> 		--disable-3dfx</div><div class='ctx'> 		--disable-tdfxvid</div><div class='ctx'> 		--disable-tdfxfb</div><div class='del'>-	"</div><div class='add'>+	)</div><div class='ctx'> </div><div class='ctx'> 	# sun card, disable by default, see bug #258729</div><div class='del'>-	myconf+=" --disable-xvr100"</div><div class='add'>+	myconf+=( --disable-xvr100 )</div><div class='ctx'> </div><div class='ctx'> 	################</div><div class='ctx'> 	# Audio Output #</div><div class='ctx'> 	################</div><div class='del'>-	myconf+=" --disable-esd"</div><div class='add'>+	myconf+=( --disable-esd )</div><div class='ctx'> 	uses="alsa jack ladspa nas openal"</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		use ${i} || myconf+=" --disable-${i}"</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='ctx'> 	done</div><div class='del'>-	use pulseaudio || myconf+=" --disable-pulse"</div><div class='add'>+	use pulseaudio || myconf+=( --disable-pulse )</div><div class='ctx'> 	if ! use radio; then</div><div class='del'>-		use oss || myconf+=" --disable-ossaudio"</div><div class='add'>+		use oss || myconf+=( --disable-ossaudio )</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	####################</div><div class='ctx'> 	# Advanced Options #</div><div class='ctx'> 	####################</div><div class='ctx'> 	# Platform specific flags, hardcoded on amd64 (see below)</div><div class='del'>-	use cpudetection &amp;&amp; myconf+=" --enable-runtime-cpudetection"</div><div class='add'>+	use cpudetection &amp;&amp; myconf+=( --enable-runtime-cpudetection )</div><div class='ctx'> </div><div class='del'>-	uses="3dnow 3dnowext mmx mmxext sse sse2 ssse3"</div><div class='add'>+	uses="3dnow 3dnowext avx avx2 fma3 fma4 mmx mmxext sse sse2 sse3 ssse3 xop"</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		myconf+=" $(use_enable cpu_flags_x86_${i} ${i})"</div><div class='add'>+		myconf+=( $(use_enable cpu_flags_x86_${i} ${i}) )</div><div class='ctx'> 	done</div><div class='add'>+	myconf+=( $(use_enable cpu_flags_x86_sse4_1 sse4) )</div><div class='add'>+	myconf+=( $(use_enable cpu_flags_x86_sse4_2 sse42) )</div><div class='ctx'> </div><div class='del'>-	myconf+="</div><div class='add'>+	myconf+=(</div><div class='ctx'> 		$(use_enable cpu_flags_ppc_altivec altivec)</div><div class='del'>-		$(use_enable shm)"</div><div class='add'>+		$(use_enable shm)</div><div class='add'>+	)</div><div class='ctx'> </div><div class='del'>-	use debug &amp;&amp; myconf+=" --enable-debug=3"</div><div class='add'>+	use debug &amp;&amp; myconf+=( --enable-debug=3 )</div><div class='ctx'> </div><div class='ctx'> 	if use x86 &amp;&amp; gcc-specs-pie; then</div><div class='ctx'> 		filter-flags -fPIC -fPIE</div><div class='hunk'>@@ -462,31 +479,31 @@ src_configure() {</div><div class='ctx'> 	###########################</div><div class='ctx'> 	# X enabled configuration #</div><div class='ctx'> 	###########################</div><div class='del'>-	myconf+=" --disable-gui"</div><div class='del'>-	myconf+=" --disable-vesa"</div><div class='add'>+	myconf+=( --disable-gui )</div><div class='add'>+	myconf+=( --disable-vesa )</div><div class='ctx'> 	uses="ggi vdpau xinerama xv"</div><div class='ctx'> 	for i in ${uses}; do</div><div class='del'>-		use ${i} || myconf+=" --disable-${i}"</div><div class='add'>+		use ${i} || myconf+=( --disable-${i} )</div><div class='ctx'> 	done</div><div class='del'>-	use dga          || myconf+=" --disable-dga1 --disable-dga2"</div><div class='del'>-	use opengl       || myconf+=" --disable-gl"</div><div class='del'>-	use osdmenu      &amp;&amp; myconf+=" --enable-menu"</div><div class='del'>-	use vidix        || myconf+=" --disable-vidix --disable-vidix-pcidb"</div><div class='del'>-	use xscreensaver || myconf+=" --disable-xss"</div><div class='del'>-	use X            || myconf+=" --disable-x11"</div><div class='add'>+	use dga          || myconf+=( --disable-dga1 --disable-dga2 )</div><div class='add'>+	use opengl       || myconf+=( --disable-gl )</div><div class='add'>+	use osdmenu      &amp;&amp; myconf+=( --enable-menu )</div><div class='add'>+	use vidix        || myconf+=( --disable-vidix --disable-vidix-pcidb )</div><div class='add'>+	use xscreensaver || myconf+=( --disable-xss )</div><div class='add'>+	use X            || myconf+=( --disable-x11 )</div><div class='ctx'> </div><div class='ctx'> 	############################</div><div class='ctx'> 	# OSX (aqua) configuration #</div><div class='ctx'> 	############################</div><div class='ctx'> 	if use aqua; then</div><div class='del'>-		myconf+="</div><div class='add'>+		myconf+=(</div><div class='ctx'> 			--enable-macosx-finder</div><div class='ctx'> 			--enable-macosx-bundle</div><div class='del'>-		"</div><div class='add'>+		)</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	# Note: --enable-gnutls only makes sense with --enable-ffmpeg_a</div><div class='del'>-	./configure \</div><div class='add'>+	edo ./configure \</div><div class='ctx'> 		--cc="$(tc-getCC)" \</div><div class='ctx'> 		--host-cc="$(tc-getBUILD_CC)" \</div><div class='ctx'> 		--prefix="${EPREFIX}/usr" \</div><div class='hunk'>@@ -497,7 +514,7 @@ src_configure() {</div><div class='ctx'> 		--mandir="${EPREFIX}/usr/share/man" \</div><div class='ctx'> 		--disable-ffmpeg_a \</div><div class='ctx'> 		--disable-gnutls \</div><div class='del'>-		${myconf} || die</div><div class='add'>+		"${myconf[@]}"</div><div class='ctx'> }</div><div class='ctx'> </div><div class='ctx'> src_compile() {</div><div class='hunk'>@@ -505,16 +522,19 @@ src_compile() {</div><div class='ctx'> </div><div class='ctx'> 	# Build only user-requested docs if they're available.</div><div class='ctx'> 	if use doc ; then</div><div class='del'>-		# select available languages from $LINGUAS</div><div class='add'>+		# Select available languages from ${LINGUAS}</div><div class='ctx'> 		local ALLOWED_LINGUAS="cs de en es fr hu it pl ru zh_CN"</div><div class='del'>-		local BUILT_DOCS=""</div><div class='add'>+		local BUILT_DOCS=()</div><div class='add'>+		local i</div><div class='add'>+</div><div class='ctx'> 		for i in ${LINGUAS} ; do</div><div class='del'>-			has ${i} ${ALLOWED_LINGUAS} &amp;&amp; BUILT_DOCS+=" ${i}"</div><div class='add'>+			has ${i} ${ALLOWED_LINGUAS} &amp;&amp; BUILT_DOCS+=( ${i} )</div><div class='ctx'> 		done</div><div class='del'>-		if [[ -z $BUILT_DOCS ]]; then</div><div class='add'>+</div><div class='add'>+		if [[ -z ${BUILT_DOCS[@]} ]]; then</div><div class='ctx'> 			emake -j1 html-chunked</div><div class='ctx'> 		else</div><div class='del'>-			for i in ${BUILT_DOCS}; do</div><div class='add'>+			for i in ${BUILT_DOCS[@]}; do</div><div class='ctx'> 				emake -j1 html-chunked-${i}</div><div class='ctx'> 			done</div><div class='ctx'> 		fi</div><div class='hunk'>@@ -545,11 +565,14 @@ src_install() {</div><div class='ctx'> </div><div class='ctx'> 	if ! use truetype; then</div><div class='ctx'> 		dodir /usr/share/mplayer/fonts</div><div class='add'>+</div><div class='ctx'> 		# Do this generic, as the mplayer people like to change the structure</div><div class='ctx'> 		# of their zips ...</div><div class='add'>+		local i</div><div class='ctx'> 		for i in $(find "${WORKDIR}/" -type d -name 'font-arial-*'); do</div><div class='ctx'> 			cp -pPR "${i}" "${ED}/usr/share/mplayer/fonts"</div><div class='ctx'> 		done</div><div class='add'>+</div><div class='ctx'> 		# Fix the font symlink ...</div><div class='ctx'> 		rm -rf "${ED}/usr/share/mplayer/font"</div><div class='ctx'> 		dosym fonts/font-arial-14-iso-8859-1 /usr/share/mplayer/font</div><div class='hunk'>@@ -557,32 +580,33 @@ src_install() {</div><div class='ctx'> </div><div class='ctx'> 	insinto /etc/mplayer</div><div class='ctx'> 	newins "${S}/etc/example.conf" mplayer.conf</div><div class='del'>-	cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt; _EOF_</div><div class='del'>-# Config options can be section specific, global</div><div class='del'>-# options should go in the default section</div><div class='del'>-[default]</div><div class='del'>-_EOF_</div><div class='add'>+	cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt;- _EOF_</div><div class='add'>+	# Config options can be section specific, global</div><div class='add'>+	# options should go in the default section</div><div class='add'>+	[default]</div><div class='add'>+	_EOF_</div><div class='add'>+</div><div class='ctx'> 	doins "${S}/etc/input.conf"</div><div class='ctx'> 	if use osdmenu; then</div><div class='ctx'> 		doins "${S}/etc/menu.conf"</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	if use truetype; then</div><div class='del'>-		cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt; _EOF_</div><div class='del'>-fontconfig=1</div><div class='del'>-subfont-osd-scale=4</div><div class='del'>-subfont-text-scale=3</div><div class='del'>-_EOF_</div><div class='add'>+		cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt;- _EOF_</div><div class='add'>+		fontconfig=1</div><div class='add'>+		subfont-osd-scale=4</div><div class='add'>+		subfont-text-scale=3</div><div class='add'>+		_EOF_</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='ctx'> 	# bug 256203</div><div class='ctx'> 	if use rar; then</div><div class='del'>-		cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt; _EOF_</div><div class='del'>-unrarexec=${EPREFIX}/usr/bin/unrar</div><div class='del'>-_EOF_</div><div class='add'>+		cat &gt;&gt; "${ED}/etc/mplayer/mplayer.conf" &lt;&lt;- _EOF_</div><div class='add'>+		unrarexec=${EPREFIX}/usr/bin/unrar</div><div class='add'>+		_EOF_</div><div class='ctx'> 	fi</div><div class='ctx'> </div><div class='del'>-	dosym ../../../etc/mplayer/mplayer.conf /usr/share/mplayer/mplayer.conf</div><div class='add'>+	dosym -r /etc/mplayer/mplayer.conf /usr/share/mplayer/mplayer.conf</div><div class='ctx'> 	newbin "${S}/TOOLS/midentify.sh" midentify</div><div class='ctx'> }</div><div class='ctx'> </div><div class='hunk'>@@ -593,11 +617,11 @@ pkg_preinst() {</div><div class='ctx'> </div><div class='ctx'> pkg_postrm() {</div><div class='ctx'> 	# Cleanup stale symlinks</div><div class='del'>-	[ -L "${EROOT}/usr/share/mplayer/font" -a \</div><div class='del'>-			! -e "${EROOT}/usr/share/mplayer/font" ] &amp;&amp; \</div><div class='add'>+	[[ -L "${EROOT}/usr/share/mplayer/font" &amp;&amp;</div><div class='add'>+			! -e "${EROOT}/usr/share/mplayer/font" ]] &amp;&amp; \</div><div class='ctx'> 		rm -f "${EROOT}/usr/share/mplayer/font"</div><div class='ctx'> </div><div class='del'>-	[ -L "${EROOT}/usr/share/mplayer/subfont.ttf" -a \</div><div class='del'>-			! -e "${EROOT}/usr/share/mplayer/subfont.ttf" ] &amp;&amp; \</div><div class='add'>+	[[ -L "${EROOT}/usr/share/mplayer/subfont.ttf" &amp;&amp;</div><div class='add'>+			! -e "${EROOT}/usr/share/mplayer/subfont.ttf" ]] &amp;&amp; \</div><div class='ctx'> 		rm -f "${EROOT}/usr/share/mplayer/subfont.ttf"</div><div class='ctx'> }</div></td></tr></table></div> <!-- class=content -->
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-12 offset-md-2 col-md-7">
            &nbsp;
          </div>
          <div class="col-12 col-md-3">
            <h3 class="footerhead">Questions or comments?</h3>
            Please feel free to <a href="https://www.gentoo.org/inside-gentoo/contact/">contact us</a>.
          </div>
        </div>
        <div class="row">
          <div class="col-2 col-sm-3 col-md-2">
            <ul class="footerlinks three-icons">
              <li><a href="https://twitter.com/gentoo" title="@Gentoo on Twitter"><span class="fa fa-twitter fa-fw"></span></a></li>
              <li><a href="https://www.facebook.com/gentoo.org" title="Gentoo on Facebook"><span class="fa fa-facebook fa-fw"></span></a></li>
              <li></li>
            </ul>
          </div>
          <div class="col-10 col-sm-9 col-md-10">
            <strong>&copy; 2001&ndash;2024 Gentoo Authors</strong><br>
            <small>
              Gentoo is a trademark of the Gentoo Foundation, Inc. and of Förderverein Gentoo e.V.
              The contents of this document, unless otherwise expressly stated, are licensed under the
              <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license">CC-BY-SA-4.0</a> license.
              The <a href="https://www.gentoo.org/inside-gentoo/foundation/name-logo-guidelines.html">Gentoo Name and Logo Usage Guidelines</a> apply.
            </small>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://assets.gentoo.org/tyrian/v2/jquery-3.3.slim.js"></script>
    <script src="https://assets.gentoo.org/tyrian/v2/popper.min.js"></script>
    <script src="https://assets.gentoo.org/tyrian/v2/bootstrap.min.js"></script>
</div> <!-- id=cgit -->
</body>
</html>
