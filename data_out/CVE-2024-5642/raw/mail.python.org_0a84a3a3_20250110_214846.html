




<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="ROBOTS" content="INDEX, FOLLOW" />
        <title>Mailman 3 
[CVE-2024-5642] Buffer over-read in SSLContext.set_npn_protocols() for Python 3.9 and earlier - Security-announce - python.org
</title>
        <meta name="author" content="" />
        <meta name="dc.language" content="en" />
        <link rel="shortcut icon" href="/static/hyperkitty/img/favicon.ico" />
        <link rel="stylesheet" href="/static/hyperkitty/libs/jquery/smoothness/jquery-ui-1.13.1.min.css" type="text/css" media="all" />
        <link rel="stylesheet" href="/static/hyperkitty/libs/fonts/font-awesome/css/font-awesome.min.css" type="text/css" media="all" />
        <link rel="stylesheet" href="/static/CACHE/css/output.3fca2eb45ed9.css" type="text/css" media="all"><link rel="stylesheet" href="/static/CACHE/css/output.e68c4908b3de.css" type="text/css"><link rel="stylesheet" href="/static/CACHE/css/output.9488c1a3a2d5.css" type="text/css" media="all">
         
        
        

    </head>

    <body>

    


    <nav class="navbar sticky-top navbar-expand-md mb-2" id="navbar-main">
        <div class="container-xxl">
            <div class="navbar-header"> <!--part of navbar that's always present-->
                <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">
                    <span class="fa fa-bars"></span>
                </button>
                <a class="navbar-brand" href="/archives/">Mailman 3 python.org</a>

            </div> <!-- /navbar-header -->
            <div class="d-flex">
                <div class="auth dropdown d-md-none">
                        
                </div>
                
                <a  href="/accounts/login/?next=/archives/list/security-announce%40python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/" class="nav-link d-md-none">
                    <span class="fa fa-sign-in"></span>
                    Sign In
                </a>
                <a  href="/accounts/signup/?next=/archives/list/security-announce%40python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/" class="nav-link d-md-none">
                    <span class="fa fa-user-plus"></span>
                    Sign Up
                </a>
                
            </div>
            <div class="navbar-collapse collapse justify-content-end"> <!--part of navbar that's collapsed on small screens-->
                <!-- show dropdown for smaller viewports b/c login name/email may be too long -->
                <!-- only show this extra button/dropdown if we're in small screen sizes -->
            
                
                <a href="/mailman3/lists/security-announce.python.org/" class="nav-link">
                    <span class="fa fa-cog"></span>
                    Manage this list
                </a>
                
            
            
            <a  href="/accounts/login/?next=/archives/list/security-announce%40python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/" class="nav-link d-none d-md-block">
                <span class="fa fa-sign-in"></span>
                Sign In
            </a>
            <a  href="/accounts/signup/?next=/archives/list/security-announce%40python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/" class="nav-link d-none d-md-block">
                <span class="fa fa-user-plus"></span>
                Sign Up
            </a>
            
                <form name="search" method="get" action="/archives/search" class="navbar-form navbar-right my-2 my-lg-2 ms-2" role="search">
                    <input type="hidden" name="mlist" value="security-announce@python.org" />
                    <div class="input-group">
                    <input name="q" type="text" class="form-control rounded-4 search"
                            
                                placeholder="Search this list"
                                aria-label="Search this list"
                            
                            
                            />
                    <button class="btn search-button" aria-label="Search"><span class="fa fa-search"></span></button>
                    </div>
                </form>
                <!-- larger viewports -->
                <ul class="nav navbar-nav auth d-none d-md-flex">
                    
                </ul>
            </div> <!--/navbar-collapse -->
        </div><!-- /container for navbar -->
    </nav>

    

     <div class="modal fade" tabindex="-1" role="dialog" id="keyboard-shortcuts">
       <div class="modal-dialog" role="document">
         <div class="modal-content">
           <div class="modal-header">
             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
             <h4 class="modal-title">Keyboard Shortcuts</h4>
           </div>
           <div class="modal-body">
             <h3>Thread View</h3>
             <ul>
               <li><code>j</code>: Next unread message </li>
               <li><code>k</code>: Previous unread message </li>
               <li><code>j a</code>: Jump to all threads
               <li><code>j l</code>: Jump to MailingList overview
             </ul>
           </div>
         </div><!-- /.modal-content -->
       </div><!-- /.modal-dialog -->
     </div><!-- /.modal -->

     <div class="container-xxl" role="main">
        

<div class="row view-thread d-flex">

        <!-- thread header: navigation (older/newer), thread title -->
        <div class="thread-header">
          <div class="d-flex">
            
            <div>
                
                <a id="next-thread" class="btn btn-secondary btn-sm "
                        title=" [CVE-2024-3219] Pure-Python fallback of socket.socketpair() doesn’t authenticate peer connection"
                        href="/archives/list/security-announce@python.org/thread/WYKDQWIERRE2ICIYMSVRZJO33GSCWU2B/">
                    <span class="fa fa-chevron-left"></span>
                    <span class="d-none d-md-inline">newer</span>
                </a>
                <br />
                <a href="/archives/list/security-announce@python.org/thread/WYKDQWIERRE2ICIYMSVRZJO33GSCWU2B/"
                title=" [CVE-2024-3219] Pure-Python fallback of socket.socketpair() doesn’t authenticate peer connection" class="thread-titles d-none d-md-block">
                     [CVE-2024-3219] Pure-Python...
                </a>
               
            </div>
            <div class="flex-grow-1">
                <h3>[CVE-2024-5642] Buffer over-read in SSLContext.set_npn_protocols() for Python 3.9 and earlier</h3>
            </div>
            <div class="right">
                <a id="prev-thread" class="btn btn-secondary btn-sm "
                    
                    title="[CVE-2024-0397] Memory race condition in ssl.SSLContext certificate store methods"
                    href="/archives/list/security-announce@python.org/thread/BMAK5BCGKYWNJOACVUSLUF6SFGBIM4VP/"
                    >
                    <span class="fa fa-chevron-right"></span>
                    <span class="d-none d-md-inline">older</span>
                </a><br />
                
                <a href="/archives/list/security-announce@python.org/thread/BMAK5BCGKYWNJOACVUSLUF6SFGBIM4VP/"
                    title="[CVE-2024-0397] Memory race condition in ssl.SSLContext certificate store methods" class="thread-titles d-none d-md-block">
                    [CVE-2024-0397] Memory race...
                </a>
                
            </div>
          </div>
         
         </div>
        </div> <!-- /thread-header -->

        <div class="row">
            <div class="col-sm-12 col-md-9">
                <!-- main section, the email thread -->
                <div id="thread-content">

                    <!-- Start first email -->
                    





<div class="email email-first">

    <div id="PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ" class="email-header">
        <div class="gravatar-wrapper d-flex">
            <div class="gravatar circle">
                <img class="gravatar" src="https://secure.gravatar.com/avatar/b5a0900288ad3a29fd4a5ef260486055.jpg?s=120&amp;d=mm&amp;r=g" width="120" height="120" alt="" />
            </div>
            <div class="email-author d-flex">
                <h2 class="name">
                    
                    <a href="/archives/users/eb0c073014124400ac984fd5e76d1f7e/"
                       title="See the profile for Seth Larson"
                       >Seth Larson</a>
                    
                </h2>
            </div>
        </div>
        <div class="email-date right">
            
            
            <span class="date d-none d-sm-inline">
                27 Jun
                
                    2024
                
            </span>
            <span class="date d-sm-none">
                27 Jun
                
                '24
                
            </span>
            
            <div class="time">
                <span title="Sender's time: June 27, 2024, 4:09 p.m.">9:09 p.m.</span>
            </div>

        </div>
        
    </div> <!-- /email-header: gravatar, author-info, date, peramlink, changed_subject -->
    <div class="email-body ">
      <p>There is a buffer over-read defect in CPython 3.9 and earlier due to not
excluding an invalid value for OpenSSL's NPN APIs.</p>
<p>This vulnerability is of severity <em>*LOW*</em>.</p>
<p>CPython doesn't disallow configuring an empty list ("[]") for
SSLContext.set_npn_protocols() which is an invalid value for the underlying
OpenSSL API. This results in a buffer over-read when NPN is used (see CVE
-2024-5535 for OpenSSL). This vulnerability is of low severity due to NPN
being not widely used and specifying an empty list likely being uncommon
in-practice (typically a protocol name would be configured).</p>
<p>Suggested mitigation is one of the following:</p>
<ul>
<li>Upgrade to Python 3.10 or later where NPN isn't supported</li>
<li>Avoid using NPN via SSLContext.set_npn_protocols()</li>
<li>Avoid providing an empty list as a parameter to
SSLContext.set_npn_protocols()</li>
</ul>

    </div>

    
    <div class="attachments">
        <p class="attachments">Attachments:</p>
        <ul class="attachments-list list-unstyled">
        
            <li><a href="/archives/list/security-announce@python.org/message/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/attachment/2/attachment.html">attachment.html</a>
                (text/html &mdash; 1.0 KB)
            </li>
        
        </ul>
    </div>
    

    <div class="email-info">
      <div class="likeform-wrapper right">
        <div class="messagelink pull-right">
          <button class="toggle-font btn btn-sm"
                title="Display in fixed font"
                data-bs-toggle="tooltip" data-placement="bottom">
                <i class="fa fa-font"></i>
          </button>
          <a href="/archives/list/security-announce@python.org/message/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/"
             title="Permalink for this message"
             data-bs-toggle="tooltip" data-placement="bottom"><i class="fa fa-link"></i></a>
        </div>
        

    <form method="post" class="likeform"
          action="/archives/list/security-announce@python.org/message/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/vote">
    <input type="hidden" name="csrfmiddlewaretoken" value="t4M1FgHaJWjE9LJG5xYPlob3yuKKIICVMWJPGSudBPiAHvHYWYhAEE6MuCGhTImj">
    
		
			<a class="youlike vote  disabled" title="You must be logged-in to vote."
			href="#like" data-vote="1" aria-label="Like thread">
					<i class="fa fa-thumbs-o-up"></i> 0
			</a>
			<a class="youdislike vote disabled" title="You must be logged-in to vote."
			href="#dislike" data-vote="-1" aria-label="Dislike thread">
				<i class="fa fa-thumbs-o-down"></i> 0
			</a>
		
    

    </form>

        </div>

        <!-- Reply link -->
        
        
        <a class="reply reply-mailto" title="Reply" href="#">
            <i class="fa fa-reply"></i>
            Reply
        </a>
        
        

        <!-- Attachments -->
        
        <!-- Reply form -->
        
        <div class="reply-form-unauthenticated">
            <a class="btn btn-sm btn-primary" href="/accounts/login/?next=/archives/list/security-announce%40python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/#">
                Sign in to reply online
            </a>
            <a class="btn btn-sm btn-secondary reply-mailto"
                       href="mailto:security-announce@python.org?Subject=Re%3A%20%5BSecurity-announce%5D%5BCVE-2024-5642%5D%20Buffer%20over-read%20in%20SSLContext.set_npn_protocols%28%29%20for%20Python%203.9%20and%20earlier&amp;In-Reply-To=&lt;CAADqWPSo0q9gg3Wv8-SdB_YJbj%2ByDS77A5JYvNeY9ay-c3UCuA%40mail.gmail.com&gt;"
                       >Use email software</a></li>
        </div>
        

        

    </div>

</div>

                    <!-- End first email -->

                    <p class="sort-mode">
                        
                        <a href="/archives/list/security-announce@python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/?sort=date"
                            >Show replies by date</a>
                        
                    </p>

                    <div class="anchor-link">
                        <a id="replies"></a>
                    </div>
                    <div class="replies">
                        
                            <img alt="Loading..." class="ajaxloader" src="/static/hyperkitty/img/ajax-loader.gif" />
                            <noscript>
                              <a href="/archives/list/security-announce@python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/?noscript">Visit here for a non-javascript version of this page.</a>
                            </noscript>
                        
                    </div>

                </div>
            </div>

            <div class="col-12 col-md-3">
                <div class="anchor-link">
                    <a id="stats"></a>
                </div>
                




<!-- right column -->
<section id="thread-overview-info">
    <!-- Start stats re: dates -->
    <div id="thread-date-info" class="row">
      <div class="col">
        <span class="days-num">197</span>
        <div class="days-text">
          Age (days ago)
        </div>
      </div>
      <div class="col">
        <span class="days-num">197</span>
        <div class="days-text">
          Last active (days ago)
        </div>
        </div>
    </div> <!-- /Stats re: dates -->

    <p>
        <a href="/archives/list/security-announce@python.org/" class="btn btn-outline-primary btn-sm">
            List overview
        </a>
    </p>

    

    
    <a href="/archives/list/security-announce@python.org/export/security-announce@python.org-PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ.mbox.gz?thread=PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ" title="This thread in gzipped mbox format"
          class="btn btn-outline-primary">
        <i class="fa fa-download"></i> Download</a>
    

    <p class="thread-overview-details">
    <div>
        <i class="fa fa-fw fa-comment"></i>
        0 comments
    </div>
    <div>
        <i class="fa fa-fw fa-user"></i>
        1 participants
    </div>
    
    </p>

    <form id="fav_form" name="favorite" method="post" class="favorite"
          action="/archives/list/security-announce@python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/favorite">
        <input type="hidden" name="csrfmiddlewaretoken" value="t4M1FgHaJWjE9LJG5xYPlob3yuKKIICVMWJPGSudBPiAHvHYWYhAEE6MuCGhTImj">
        <input type="hidden" name="action" value="add" />
        <p>
            <a href="#AddFav" class="notsaved disabled" title="You must be logged-in to have favorites.">
                <i class="fa fa-fw fa-star"></i>Add to favorites</a>
            <a href="#RmFav" class="saved">
                <i class="fa fa-fw fa-star"></i>Remove from favorites</a>
        </p>
    </form>

    

    <div id="tags">
        

        <h3 id="tag-title">tags </h3>
        

    </div>
    
    
    <div id="participants">
        <h3 id="participants_title">participants (1)</h3>
        <ul class="list-unstyled">
            
            <li class="d-flex">
                <div class="participant-gravatar circle"><img class="gravatar" src="https://secure.gravatar.com/avatar/b5a0900288ad3a29fd4a5ef260486055.jpg?s=48&amp;d=mm&amp;r=g" width="48" height="48" alt="" /></div>
                <div class="participant-name d-flex align-items-center">
                    <span>Seth Larson</span>
                </div>
            </li>
            
        </ul>
    </div>
    
</section>



            </div>

        </div>

</div>

<!-- end of content -->

    </div> <!-- /container for content -->

    <footer class="footer">
      <div class="container">
        <p class="text-muted">
            <img class="logo" alt="HyperKitty" src="/static/hyperkitty/img/logo.png" />
            Powered by <a href="http://hyperkitty.readthedocs.org">HyperKitty</a> version 1.3.12.
        </p>
      </div>
    </footer>

    <script src="/static/hyperkitty/libs/jquery/jquery-3.6.0.min.js"></script>
    <script src="/static/hyperkitty/libs/jquery/jquery-ui-1.13.1.min.js"></script>
    <script src="/static/CACHE/js/output.3aaa7705d68a.js"></script>
    <script>
      // Add the .js-enabled class to the body so we can style the elements
      // depending on whether Javascript is enabled.
      $(document).ready(function(){
          $("body").addClass("js-enabled");
          $(".gravatar").addClass("rounded-circle");
      });
    </script>
    

<script type="text/javascript">
    $(document).ready(function() {
        //enable tooltips for thread buttons
        $("btn#next-thread").tooltip();
        $("btn#prev-thread").tooltip();

        setup_category();
        setup_tags();
        setup_favorites();
        // Hide quotes by default in the thread view
        fold_quotes("div.container-xxl");
        // Load the replies
        update_thread_replies("/archives/list/security-announce@python.org/thread/PLP2JI3PJY33YG6P5BZYSSNU66HASXBQ/replies?sort=thread&last_view=");
        setup_unreadnavbar("#unreadnavbar");
        setup_thread_keyboard_shortcuts();
    });
</script>



    


    </body>
</html>
