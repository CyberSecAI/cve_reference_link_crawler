=== Content from plugins.trac.wordpress.org_be8ef0a8_20250110_165641.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3078682%2540wp-maintenance%252Ftrunk%26old%3D3069916%2540wp-maintenance%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3069916/wp-maintenance/trunk?old=3078682&old_path=%2Fwp-maintenance%2Ftrunk)

---

# Changes in [wp-maintenance/trunk](/browser/wp-maintenance/trunk?rev=3078682 "Show entry in browser") [[3069916:3078682]](/log/wp-maintenance/trunk?rev=3078682&stop_rev=3069916 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[wp-maintenance/trunk](/browser/wp-maintenance/trunk?rev=3078682)
Files:

14 edited

* [classes/wp-maintenance.php](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682 "Show entry in browser")
  (modified)
  ([25 diffs](#file0 "Show differences"))
* [includes/functions.php](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682 "Show entry in browser")
  (modified)
  ([9 diffs](#file1 "Show differences"))
* [readme.txt](/browser/wp-maintenance/trunk/readme.txt?rev=3078682 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [themes/default/functions.php](/browser/wp-maintenance/trunk/themes/default/functions.php?rev=3078682 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [views/wp-maintenance-colors.php](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682 "Show entry in browser")
  (modified)
  ([19 diffs](#file4 "Show differences"))
* [views/wp-maintenance-countdown.php](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682 "Show entry in browser")
  (modified)
  ([10 diffs](#file5 "Show differences"))
* [views/wp-maintenance-css.php](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682 "Show entry in browser")
  (modified)
  ([7 diffs](#file6 "Show differences"))
* [views/wp-maintenance-dashboard.php](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682 "Show entry in browser")
  (modified)
  ([7 diffs](#file7 "Show differences"))
* [views/wp-maintenance-footer.php](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682 "Show entry in browser")
  (modified)
  ([8 diffs](#file8 "Show differences"))
* [views/wp-maintenance-picture.php](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682 "Show entry in browser")
  (modified)
  ([15 diffs](#file9 "Show differences"))
* [views/wp-maintenance-seo.php](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682 "Show entry in browser")
  (modified)
  ([6 diffs](#file10 "Show differences"))
* [views/wp-maintenance-settings.php](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682 "Show entry in browser")
  (modified)
  ([16 diffs](#file11 "Show differences"))
* [views/wp-maintenance-socialnetworks.php](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682 "Show entry in browser")
  (modified)
  ([11 diffs](#file12 "Show differences"))
* [wp-maintenance.php](/browser/wp-maintenance/trunk/wp-maintenance.php?rev=3078682 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-maintenance/trunk/classes/wp-maintenance.php](/changeset/3078682/wp-maintenance/trunk/classes/wp-maintenance.php?old=3065575&old_path=wp-maintenance%2Ftrunk%2Fclasses%2Fwp-maintenance.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/classes/wp-maintenance.php")

  | [r3069916](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L35 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L35 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 | add\_action( 'admin\_init', array( &$this, 'wpm\_process\_settings\_import') ); |
  | 36 | 36 | add\_action( 'admin\_init', array( &$this, 'wpm\_process\_settings\_export') ); |
  | 37 |  | ~~//add\_action( 'after\_setup\_theme', array( &$this, 'wpm\_theme\_add\_editor\_styles') );~~ |
  | 38 | 37 | } |
  | 39 | 38 | // disabled XMLRPC |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L64) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L63) |  |
  | 64 | 63 |  |
  | 65 | 64 | } |
  | 66 |  |  |
  | 67 |  | ~~function wpm\_theme\_add\_editor\_styles() {~~ |
  | 68 |  | ~~//add\_editor\_style( WPM\_URL.'css/custom-editor-style.css' );~~ |
  | 69 |  | ~~}~~ |
  | 70 | 65 |  |
  | 71 | 66 | /\*\* |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L73) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L68) |  |
  | 73 | 68 | \*/ |
  | 74 | 69 | function wpm\_get\_default\_template() { |
  | 75 |  | $file = file\_get\_contents(WPM\_DIR.'/themes/default/index2.php'); |
  |  | 70 | $filesystem  = wpm\_get\_filesystem(); |
  |  | 71 | $file        = $filesystem->get\_contents( WPM\_DIR.'/themes/default/index2.php' ); |
  | 76 | 72 | return $file; |
  | 77 | 73 | } |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L339) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L335) |  |
  | 339 | 335 | // Add Style for all admin |
  | 340 | 336 | echo ' |
  | 341 |  | <style>#wpadminbar .wpmbackground-on > .ab-item{ color:#fff;background-color: #f44; }#wpadminbar .wpmbackground-on .ab-icon:before { content: "\f107";top: 2px;color:#fff !important; }#wpadminbar .wpmbackground-on:hover > .ab-item{ background-color: #a30 !important;color:#fff !important; }#wpadminbar .wpmbackground-off > .ab-item{ color:#fff; }#wpadminbar .wpmbackground-off .ab-icon:before { content: "\f107";top: 2px;color:#fff !important; }</style> |
  | 342 |  | '; |
  | 343 |  | if (isset($\_GET['page']) && strpos($\_GET['page'], 'wp-maintenance') !==false) { |
  | 344 |  | //echo '<link rel="stylesheet" type="text/css" media="all" href="' .WPM\_URL.'css/wpm-admin.css'.'">'; |
  | 345 |  |  |
  | 346 |  | } else { |
  | 347 |  | echo ' |
  | 348 |  | <style>#maintenance-on{background:#0ed74c;border-radius:50%;width:14px;height:14px;float: left;margin-right: 5px;margin-top: 9px;}#maintenance-off{background:#d70e25;border-radius:50%;width:14px;height:14px;float: left;margin-right: 5px;margin-top: 9px;}</style>'; |
  | 349 |  | } |
  |  | 337 | <style>#wpadminbar .wpmbackground-on > .ab-item{ color:#fff;background-color: #f44; }#wpadminbar .wpmbackground-on .ab-icon:before { content: "\f107";top: 2px;color:#fff !important; }#wpadminbar .wpmbackground-on:hover > .ab-item{ background-color: #a30 !important;color:#fff !important; }#wpadminbar .wpmbackground-off > .ab-item{ color:#fff; }#wpadminbar .wpmbackground-off .ab-icon:before { content: "\f107";top: 2px;color:#fff !important; }#maintenance-on{background:#0ed74c;border-radius:50%;width:14px;height:14px;float: left;margin-right: 5px;margin-top: 9px;}#maintenance-off{background:#d70e25;border-radius:50%;width:14px;height:14px;float: left;margin-right: 5px;margin-top: 9px;}</style>'; |
  |  | 338 |  |
  | 350 | 339 | } |
  | 351 | 340 |  |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L488) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L477) |  |
  | 488 | 477 | add\_submenu\_page( 'wp-maintenance', 'WP Maintenance > '.\_\_('Settings', 'wp-maintenance'), \_\_('Settings', 'wp-maintenance'), 'manage\_options', 'wp-maintenance-settings', array( $this, 'wpm\_settings\_page') ); |
  | 489 | 478 |  |
  | 490 |  | ~~/\*add\_submenu\_page( 'wp-maintenance', 'WP Maintenance > '.\_\_('About', 'wp-maintenance'), \_\_('About', 'wp-maintenance'), 'manage\_options', 'wp-maintenance-about', array( $this, 'wpm\_about\_page') );\*/~~ |
  | 491 |  |  |
  | 492 | 479 | // If you're not including an image upload then you can leave this function call out |
  | 493 |  | if (isset($\_GET['page']) && strpos($\_GET['page'], 'wp-maintenance') !==false~~) {~~ |
  |  | 480 | if (isset($\_GET['page']) && strpos($\_GET['page'], 'wp-maintenance') !==false ) { // phpcs:ignore |
  | 494 | 481 |  |
  | 495 | 482 | wp\_enqueue\_script('media-upload'); |
  | 496 | 483 | wp\_enqueue\_script('thickbox'); |
  | 497 | 484 |  |
  | 498 |  | wp\_register\_script('wpm-my-upload', WPM\_URL.'js/wpm-script.js', array('jquery','media-upload','thickbox')); |
  |  | 485 | wp\_register\_script('wpm-my-upload', WPM\_URL.'js/wpm-script.js', array('jquery','media-upload','thickbox'), WPM\_VERSION, true); |
  | 499 | 486 | wp\_enqueue\_script('wpm-my-upload'); |
  | 500 | 487 |  |
  | 501 |  | wp\_enqueue\_style('jquery-defaut-style', WPM\_URL.'js/lib/themes/default.css'); |
  | 502 |  | wp\_enqueue\_style('jquery-date-style', WPM\_URL.'js/lib/themes/default.date.css'); |
  | 503 |  | wp\_enqueue\_style('jquery-time-style', WPM\_URL.'js/lib/themes/default.time.css'); |
  | 504 |  | wp\_enqueue\_style('jquery-fontselect-style', WPM\_URL.'js/fontselect/fontselect.css'); |
  |  | 488 | wp\_enqueue\_style('jquery-defaut-style', WPM\_URL.'js/lib/themes/default.css', array(), WPM\_VERSION); |
  |  | 489 | wp\_enqueue\_style('jquery-date-style', WPM\_URL.'js/lib/themes/default.date.css', array(), WPM\_VERSION); |
  |  | 490 | wp\_enqueue\_style('jquery-time-style', WPM\_URL.'js/lib/themes/default.time.css', array(), WPM\_VERSION); |
  |  | 491 | wp\_enqueue\_style('jquery-fontselect-style', WPM\_URL.'js/fontselect/fontselect.css', array(), WPM\_VERSION); |
  | 505 | 492 |  |
  | 506 | 493 | wp\_enqueue\_style( 'wp-color-picker' ); |
  | 507 |  | wp\_enqueue\_script( 'my-script-handle', WPM\_URL.'js/wpm-color-options.js', array( 'wp-color-picker' ), ~~false~~, true ); |
  |  | 494 | wp\_enqueue\_script( 'my-script-handle', WPM\_URL.'js/wpm-color-options.js', array( 'wp-color-picker' ), WPM\_VERSION, true ); |
  | 508 | 495 |  |
  | 509 | 496 | wp\_enqueue\_style('thickbox'); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L511) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L498) |  |
  | 511 | 498 | /\* Image picker \*/ |
  | 512 | 499 | wp\_enqueue\_style('imagepicker'); |
  | 513 |  | wp\_enqueue\_style('imagepicker', WPM\_URL.'css/image-picker.css'); |
  |  | 500 | wp\_enqueue\_style('imagepicker', WPM\_URL.'css/image-picker.css', array(), WPM\_VERSION); |
  | 514 | 501 |  |
  | 515 |  | wp\_register\_script('imagepickerjs', WPM\_URL.'js/image-picker.min.js', 'jquery', WPM\_VERSION); |
  |  | 502 | wp\_register\_script('imagepickerjs', WPM\_URL.'js/image-picker.min.js', 'jquery', WPM\_VERSION, true); |
  | 516 | 503 | wp\_enqueue\_script('imagepickerjs'); |
  | 517 | 504 |  |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L522) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L509) |  |
  | 522 | 509 | wp\_enqueue\_style('wp-codemirror'); |
  | 523 | 510 |  |
  | 524 |  | wp\_register\_script('wpm\_sticky', WPM\_URL.'js/jquery.sticky.js', 'jquery', WPM\_VERSION); |
  |  | 511 | wp\_register\_script('wpm\_sticky', WPM\_URL.'js/jquery.sticky.js', 'jquery', WPM\_VERSION, true); |
  | 525 | 512 | wp\_enqueue\_script('wpm\_sticky'); |
  | 526 | 513 |  |
  | 527 |  | wp\_enqueue\_script( 'emosm-leafletprovidersjs', WPM\_URL.'js/jquery.sortable.js', 'jquery', WPM\_VERSION); |
  |  | 514 | wp\_enqueue\_script( 'emosm-leafletprovidersjs', WPM\_URL.'js/jquery.sortable.js', 'jquery', WPM\_VERSION, true); |
  | 528 | 515 |  |
  | 529 | 516 | // If you're not including an image upload then you can leave this function call out |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L536) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L523) |  |
  | 536 | 523 | ) ); |
  | 537 | 524 |  |
  | 538 |  | wp\_register\_script('wpm-admin-fontselect', WPM\_URL.'js/fontselect/jquery.fontselect.min.js' ); |
  |  | 525 | wp\_register\_script('wpm-admin-fontselect', WPM\_URL.'js/fontselect/jquery.fontselect.min.js', 'jquery', WPM\_VERSION, true ); |
  | 539 | 526 | wp\_enqueue\_script('wpm-admin-fontselect'); |
  | 540 | 527 |  |
  | 541 | 528 | wp\_enqueue\_style('admincss'); |
  | 542 |  | wp\_enqueue\_style('admincss', WPM\_URL.'css/wpm-admin.css'); |
  |  | 529 | wp\_enqueue\_style('admincss', WPM\_URL.'css/wpm-admin.css', array(), WPM\_VERSION); |
  | 543 | 530 |  |
  | 544 | 531 | } |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L550) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L537) |  |
  | 550 | 537 | //must check that the user has the required capability |
  | 551 | 538 | if (!current\_user\_can('manage\_options')) { |
  | 552 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 539 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 553 | 540 | } |
  | 554 | 541 | include(WPM\_DIR."/views/wp-maintenance-dashboard.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L558) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L545) |  |
  | 558 | 545 | //must check that the user has the required capability |
  | 559 | 546 | if (!current\_user\_can('manage\_options')) { |
  | 560 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 547 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 561 | 548 | } |
  | 562 | 549 | include(WPM\_DIR."/views/wp-maintenance-colors.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L566) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L553) |  |
  | 566 | 553 | //must check that the user has the required capability |
  | 567 | 554 | if (!current\_user\_can('manage\_options')) { |
  | 568 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 555 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 569 | 556 | } |
  | 570 | 557 | include(WPM\_DIR."/views/wp-maintenance-css.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L575) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L562) |  |
  | 575 | 562 | //must check that the user has the required capability |
  | 576 | 563 | if (!current\_user\_can('manage\_options')) { |
  | 577 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 564 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 578 | 565 | } |
  | 579 | 566 | include(WPM\_DIR."/views/wp-maintenance-picture.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L584) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L571) |  |
  | 584 | 571 | //must check that the user has the required capability |
  | 585 | 572 | if (!current\_user\_can('manage\_options')) { |
  | 586 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 573 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 587 | 574 | } |
  | 588 | 575 | include(WPM\_DIR."/views/wp-maintenance-countdown.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L593) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L580) |  |
  | 593 | 580 | //must check that the user has the required capability |
  | 594 | 581 | if (!current\_user\_can('manage\_options')) { |
  | 595 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 582 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 596 | 583 | } |
  | 597 | 584 | include(WPM\_DIR."/views/wp-maintenance-seo.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L602) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L589) |  |
  | 602 | 589 | //must check that the user has the required capability |
  | 603 | 590 | if (!current\_user\_can('manage\_options')) { |
  | 604 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 591 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 605 | 592 | } |
  | 606 | 593 | include(WPM\_DIR."/views/wp-maintenance-socialnetworks.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L611) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L598) |  |
  | 611 | 598 | //must check that the user has the required capability |
  | 612 | 599 | if (!current\_user\_can('manage\_options')) { |
  | 613 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 600 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 614 | 601 | } |
  | 615 | 602 | include(WPM\_DIR."/views/wp-maintenance-footer.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L620) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L607) |  |
  | 620 | 607 | //must check that the user has the required capability |
  | 621 | 608 | if (!current\_user\_can('manage\_options')) { |
  | 622 |  | wp\_die( \_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  |  | 609 | wp\_die( esc\_html\_\_("You do not have sufficient privileges to access this page.", 'sponsorpress') ); |
  | 623 | 610 | } |
  | 624 | 611 | include(WPM\_DIR."/views/wp-maintenance-settings.php"); |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L627) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L614) |  |
  | 627 | 614 | function wpm\_print\_footer\_scripts() { |
  | 628 | 615 |  |
  | 629 |  | if (isset($\_GET['page']) && strpos($\_GET['page'], 'wp-maintenance') !==false) { |
  | 630 |  | wp\_register\_script('wpm-picker', WPM\_URL.'js/lib/picker.js' ); |
  |  | 616 | if (isset($\_GET['page']) && strpos($\_GET['page'], 'wp-maintenance') !==false ) { // phpcs:ignore |
  |  | 617 |  |
  |  | 618 | wp\_register\_script('wpm-picker', WPM\_URL.'js/lib/picker.js', 'jquery', WPM\_VERSION, true ); |
  | 631 | 619 | wp\_enqueue\_script('wpm-picker'); |
  | 632 |  | wp\_register\_script('wpm-datepicker', WPM\_URL.'js/lib/picker.date.js' ); |
  |  | 620 | wp\_register\_script('wpm-datepicker', WPM\_URL.'js/lib/picker.date.js', 'jquery', WPM\_VERSION, true ); |
  | 633 | 621 | wp\_enqueue\_script('wpm-datepicker'); |
  | 634 |  | wp\_register\_script('wpm-timepicker', WPM\_URL.'js/lib/picker.time.js' ); |
  |  | 622 | wp\_register\_script('wpm-timepicker', WPM\_URL.'js/lib/picker.time.js', 'jquery', WPM\_VERSION, true ); |
  | 635 | 623 | wp\_enqueue\_script('wpm-timepicker'); |
  | 636 |  | wp\_register\_script('wpm-legacy', WPM\_URL.'js/lib/legacy.js' ); |
  |  | 624 | wp\_register\_script('wpm-legacy', WPM\_URL.'js/lib/legacy.js', 'jquery', WPM\_VERSION, true ); |
  | 637 | 625 | wp\_enqueue\_script('wpm-legacy'); |
  | 638 | 626 | } |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L672) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L660) |  |
  | 672 | 660 | nocache\_headers(); |
  | 673 | 661 | header('Content-Type: application/json; charset=utf-8'); |
  | 674 |  | header('Content-Disposition: attachment; filename=wp-maintenance-'.parse\_url(get\_site\_url(), PHP\_URL\_HOST).'-'.date('m-d-Y').'.json'); |
  |  | 662 | header('Content-Disposition: attachment; filename=wp-maintenance-'.parse\_url(get\_site\_url(), PHP\_URL\_HOST).'-'.gmdate('m-d-Y').'.json'); |
  | 675 | 663 | header("Expires: 0"); |
  | 676 | 664 |  |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L679) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L667) |  |
  | 679 | 667 | } |
  | 680 | 668 |  |
  |  | 669 | static function wpm\_admin\_url( $page, $module = '' ) { |
  |  | 670 |  |
  |  | 671 | $module = $module ? '&module=' . $module : ''; |
  |  | 672 | $page   = str\_replace( '&', '\_', $page ); |
  |  | 673 | $url    = 'admin.php?page=wp-maintenance-' . $page . $module; |
  |  | 674 |  |
  |  | 675 | return is\_multisite() ? network\_admin\_url( $url ) : admin\_url( $url ); |
  |  | 676 | } |
  | 681 | 677 |  |
  | 682 | 678 | /\*\* |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L694) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L690) |  |
  | 694 | 690 | return; |
  | 695 | 691 |  |
  | 696 |  | $extensionExploded = explode('.', esc\_url($\_FILES['wpm\_import\_file']['name'])); |
  | 697 |  | $extension = strtolower(end($extensionExploded)); |
  | 698 |  |  |
  | 699 |  | if($extension!='json') { |
  | 700 |  | wp\_die(\_\_('Please upload a valid .json file')); |
  |  | 692 | $extension = strtolower(pathinfo($\_FILES['wpm\_import\_nonce']['name'], PATHINFO\_EXTENSION)); |
  |  | 693 | if($extension != 'json') { |
  |  | 694 | wp\_die( esc\_html\_\_( 'Please upload a valid .json file', 'send-pdf-for-contact-form-7' ) ); |
  | 701 | 695 | } |
  | 702 | 696 |  |
  | 703 | 697 | $import\_file = $\_FILES['wpm\_import\_file']['tmp\_name']; |
  | 704 |  |  |
  | 705 | 698 | if(empty($import\_file)) { |
  | 706 |  | wp\_die( \_\_( 'Please upload a file to import', 'wp-maintenance' ) ); |
  | 707 |  | } |
  |  | 699 | wp\_die( esc\_html\_\_( 'Please upload a file to import', 'wp-maintenance' ) ); |
  |  | 700 | } |
  |  | 701 |  |
  |  | 702 | $import = ! empty( $\_FILES['wpm\_import\_file'] ) && is\_array( $\_FILES['wpm\_import\_file'] ) && isset( $\_FILES['wpm\_import\_file']['type'], $\_FILES['wpm\_import\_file']['name'] ) ? $\_FILES['wpm\_import\_file'] : array(); |
  |  | 703 |  |
  |  | 704 | $\_post\_action    = $\_POST['action']; |
  |  | 705 | $\_POST['action'] = 'wp\_handle\_sideload'; |
  |  | 706 | $file            = wp\_handle\_sideload( $import, array( 'mimes' => array( 'json' => 'application/json' ) ) ); |
  |  | 707 | $\_POST['action'] = $\_post\_action; |
  |  | 708 | if ( ! isset( $file['file'] ) ) { |
  |  | 709 | return; |
  |  | 710 | } |
  |  | 711 | $filesystem      = wpm\_get\_filesystem(); |
  |  | 712 | $settings        = $filesystem->get\_contents( $file['file'] ); |
  |  | 713 | $settings        = maybe\_unserialize( $settings ); |
  | 708 | 714 |  |
  | 709 | 715 | // Retrieve the settings from the file and convert the json object to an array. |
  | 710 |  | $importTabSettings = (array) json\_decode(~~file\_get\_contents($import\_file)~~, true); |
  |  | 716 | $importTabSettings = (array) json\_decode($settings, true); |
  | 711 | 717 | if( isset($importTabSettings) ) { |
  | 712 | 718 |  |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L717) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L723) |  |
  | 717 | 723 | } else { |
  | 718 | 724 | $updateSetting = wpm\_update\_settings($tabValue, 'wp\_maintenance\_'.$tabName); |
  |  | 725 | echo '<div id="message" class="updated fade"><p><strong>'.esc\_html\_\_('New settings imported successfully!', 'wp-maintenance').' - '.esc\_html($tabName).'</strong></p></div>'; |
  | 719 | 726 | } |
  | 720 | 727 | } |
  | 721 | 728 |  |
  | 722 |  | echo '<div id="message" class="updated fade"><p><strong>'.\_\_('New settings imported successfully!', 'wp-maintenance').'</strong></p></div>'; |
  |  | 729 | //echo '<div id="message" class="updated fade"><p><strong>'.\_\_('New settings imported successfully!', 'wp-maintenance').'</strong></p></div>'; |
  | 723 | 730 | } |
  | 724 | 731 |  |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L769) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L776) |  |
  | 769 | 776 | } |
  | 770 | 777 | /\* Mode Preview \*/ |
  | 771 |  | if( isset($\_GET['wpmpreview']) && $\_GET['wpmpreview']=='true' ) { |
  |  | 778 | if( isset($\_GET['wpmpreview']) && $\_GET['wpmpreview']=='true' ) {// phpcs:ignore |
  | 772 | 779 | $statusActive = 1; |
  | 773 | 780 | } |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L795) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L802) |  |
  | 795 | 802 |  |
  | 796 | 803 | /\* on doit retourner 12/31/2020 5:00 AM \*/ |
  | 797 |  | $dateNow = strtotime(date("Y-m-d H:i:s")) + 3600 \* get\_option('gmt\_offset'); |
  |  | 804 | $dateNow = strtotime(gmdate("Y-m-d H:i:s")) + 3600 \* get\_option('gmt\_offset'); |
  | 798 | 805 | if( isset($paramsCountdown['cptdate']) && !empty($paramsCountdown['cptdate']) ) { |
  | 799 |  | $dateFinCpt = strtotime( date( str\_replace('/', '-', $paramsCountdown['cptdate']).' '.$paramsCountdown['cpttime'].':00') ); |
  | 800 |  | $dateCpt = date( 'm/d/Y h:i A', strtotime( $paramsCountdown['cptdate'].' '.$paramsCountdown['cpttime'] ) ); |
  |  | 806 | $dateFinCpt = strtotime( gmdate( str\_replace('/', '-', $paramsCountdown['cptdate']).' '.$paramsCountdown['cpttime'].':00') ); |
  |  | 807 | $dateCpt = gmdate( 'm/d/Y h:i A', strtotime( $paramsCountdown['cptdate'].' '.$paramsCountdown['cpttime'] ) ); |
  | 801 | 808 | } else { |
  | 802 | 809 | $dateCpt = ''; |
  | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3065575#L890) | […](/browser/wp-maintenance/trunk/classes/wp-maintenance.php?rev=3078682#L897) |  |
  | 890 | 897 | ); |
  | 891 | 898 |  |
  | 892 |  | echo strtr($template, $template\_tags); |
  |  | 899 | echo strtr($template, $template\_tags); /\* phpcs:ignore \*/ |
  | 893 | 900 | exit(); |
  | 894 | 901 | } |
* ## [wp-maintenance/trunk/includes/functions.php](/changeset/3078682/wp-maintenance/trunk/includes/functions.php?old=3065575&old_path=wp-maintenance%2Ftrunk%2Fincludes%2Ffunctions.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/includes/functions.php")

  | [r3069916](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L12 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L12 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | foreach($tabSettings as $nameSettings => $valueSettings) { |
  | 13 | 13 | if($type==3) { |
  | 14 |  | $newTabSettings[$nameSettings] = ~~strip~~\_tags(stripslashes(esc\_url\_raw($valueSettings))); |
  |  | 14 | $newTabSettings[$nameSettings] = wp\_strip\_all\_tags(stripslashes(esc\_url\_raw($valueSettings))); |
  | 15 | 15 | } |
  | 16 | 16 | if($nameOption == 'wp\_maintenance\_ipaddresses') { |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L50) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L50) |  |
  | 50 | 50 | } |
  | 51 | 51 |  |
  |  | 52 | function wpm\_get\_filesystem() { |
  |  | 53 |  |
  |  | 54 | static $filesystem; |
  |  | 55 |  |
  |  | 56 | if ( $filesystem ) { |
  |  | 57 | return $filesystem; |
  |  | 58 | } |
  |  | 59 |  |
  |  | 60 | require\_once( ABSPATH . 'wp-admin/includes/class-wp-filesystem-base.php' ); |
  |  | 61 | require\_once( ABSPATH . 'wp-admin/includes/class-wp-filesystem-direct.php' ); |
  |  | 62 |  |
  |  | 63 | $filesystem = new WP\_Filesystem\_Direct( new StdClass() ); // WPCS: override ok. |
  |  | 64 |  |
  |  | 65 | // Set the permission constants if not already set. |
  |  | 66 | if ( ! defined( 'FS\_CHMOD\_DIR' ) ) { |
  |  | 67 | define( 'FS\_CHMOD\_DIR', ( @fileperms( ABSPATH ) & 0777 | 0755 ) ); |
  |  | 68 | } |
  |  | 69 | if ( ! defined( 'FS\_CHMOD\_FILE' ) ) { |
  |  | 70 | define( 'FS\_CHMOD\_FILE', ( @fileperms( ABSPATH . 'index.php' ) & 0777 | 0644 ) ); |
  |  | 71 | } |
  |  | 72 |  |
  |  | 73 | return $filesystem; |
  |  | 74 | } |
  |  | 75 |  |
  | 52 | 76 | function wpm\_autorizeHtml() { |
  | 53 | 77 |  |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L55) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L79) |  |
  | 55 | 79 | 'a' => array( |
  | 56 | 80 | 'href' => array(), |
  | 57 |  | 'title' => array() |
  |  | 81 | 'title' => array(), |
  |  | 82 | 'target' => array(), |
  |  | 83 | 'alt' => array(), |
  |  | 84 | 'onFocus' => array(), |
  |  | 85 | 'style' => array() |
  | 58 | 86 | ), |
  | 59 | 87 | 'br' => array(), |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L118) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L146) |  |
  | 118 | 146 | 'class' => array() |
  | 119 | 147 | ), |
  | 120 |  | 'script' => array( |
  |  | 148 | 'ul' => array( |
  |  | 149 | 'style' => array(), |
  |  | 150 | 'class' => array() |
  |  | 151 | ), |
  |  | 152 | 'li' => array( |
  |  | 153 | 'style' => array(), |
  |  | 154 | 'class' => array() |
  |  | 155 | ), |
  |  | 156 | 'input' => array( |
  | 121 | 157 | 'type' => array(), |
  | 122 |  | 'data-rocket-type' => array() |
  |  | 158 | 'id' => array(), |
  |  | 159 | 'role' => array() |
  |  | 160 | ), |
  |  | 161 | 'nav' => array(), |
  |  | 162 | 'label' => array( |
  |  | 163 | 'for' => array() |
  |  | 164 | ), |
  |  | 165 | 'select' => array( |
  |  | 166 | 'name' => array() |
  |  | 167 | ), |
  |  | 168 | 'option' => array( |
  |  | 169 | 'value' => array(), |
  |  | 170 | 'style' => array() |
  | 123 | 171 | ), |
  | 124 | 172 | 'style' => array(), |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L140) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L188) |  |
  | 140 | 188 | 'dashicons' => 'dashicons-admin-settings', |
  | 141 | 189 | 'link' => 'wp-maintenance', |
  | 142 |  | 'text' => \_\_('Dashboard', 'wp-maintenance'), |
  | 143 |  | 'desc' => \_\_('Here, the beginning...', 'wp-maintenance') |
  |  | 190 | 'text' => esc\_html\_\_('Dashboard', 'wp-maintenance'), |
  |  | 191 | 'desc' => esc\_html\_\_('Here, the beginning...', 'wp-maintenance') |
  | 144 | 192 | ), |
  | 145 | 193 | 'wp-maintenance-colors' => array( |
  | 146 | 194 | 'dashicons' => 'dashicons-art', |
  | 147 | 195 | 'link' => 'wp-maintenance-colors', |
  | 148 |  | 'text' => \_\_('Colors and Fonts', 'wp-maintenance'), |
  | 149 |  | 'desc' => \_\_('Have a creative mind', 'wp-maintenance') |
  |  | 196 | 'text' => esc\_html\_\_('Colors and Fonts', 'wp-maintenance'), |
  |  | 197 | 'desc' => esc\_html\_\_('Have a creative mind', 'wp-maintenance') |
  | 150 | 198 | ), |
  | 151 | 199 | 'wp-maintenance-picture' => array( |
  | 152 | 200 | 'dashicons' => 'dashicons-format-gallery', |
  | 153 | 201 | 'link' => 'wp-maintenance-picture', |
  | 154 |  | 'text' => \_\_('Pictures', 'wp-maintenance'), |
  | 155 |  | 'desc' => \_\_('Are we playing with the images?', 'wp-maintenance') |
  |  | 202 | 'text' => esc\_html\_\_('Pictures', 'wp-maintenance'), |
  |  | 203 | 'desc' => esc\_html\_\_('Are we playing with the images?', 'wp-maintenance') |
  | 156 | 204 | ), |
  | 157 | 205 | 'wp-maintenance-countdown' => array( |
  | 158 | 206 | 'dashicons' => 'dashicons-clock', |
  | 159 | 207 | 'link' => 'wp-maintenance-countdown', |
  | 160 |  | 'text' => \_\_('Countdown', 'wp-maintenance'), |
  | 161 |  | 'desc' => \_\_('Stop the time... or not!', 'wp-maintenance') |
  |  | 208 | 'text' => esc\_html\_\_('Countdown', 'wp-maintenance'), |
  |  | 209 | 'desc' => esc\_html\_\_('Stop the time... or not!', 'wp-maintenance') |
  | 162 | 210 | ), |
  | 163 | 211 | 'wp-maintenance-css' => array( |
  | 164 | 212 | 'dashicons' => 'dashicons-media-code', |
  | 165 | 213 | 'link' => 'wp-maintenance-css', |
  | 166 |  | 'text' => \_\_('CSS', 'wp-maintenance'), |
  | 167 |  | 'desc' => \_\_('Customize the style sheet', 'wp-maintenance') |
  |  | 214 | 'text' => esc\_html\_\_('CSS', 'wp-maintenance'), |
  |  | 215 | 'desc' => esc\_html\_\_('Customize the style sheet', 'wp-maintenance') |
  | 168 | 216 | ), |
  | 169 | 217 | 'wp-maintenance-seo' => array( |
  | 170 | 218 | 'dashicons' => 'dashicons-admin-site-alt', |
  | 171 | 219 | 'link' => 'wp-maintenance-seo', |
  | 172 |  | 'text' => \_\_('SEO', 'wp-maintenance'), |
  | 173 |  | 'desc' => \_\_('Keep your site optimized', 'wp-maintenance') |
  |  | 220 | 'text' => esc\_html\_\_('SEO', 'wp-maintenance'), |
  |  | 221 | 'desc' => esc\_html\_\_('Keep your site optimized', 'wp-maintenance') |
  | 174 | 222 | ), |
  | 175 | 223 | 'wp-maintenance-socialnetworks' => array( |
  | 176 | 224 | 'dashicons' => 'dashicons-format-status', |
  | 177 | 225 | 'link' => 'wp-maintenance-socialnetworks', |
  | 178 |  | 'text' => \_\_('Social Networks', 'wp-maintenance'), |
  | 179 |  | 'desc' => \_\_('Adding social networks icons', 'wp-maintenance') |
  |  | 226 | 'text' => esc\_html\_\_('Social Networks', 'wp-maintenance'), |
  |  | 227 | 'desc' => esc\_html\_\_('Adding social networks icons', 'wp-maintenance') |
  | 180 | 228 | ), |
  | 181 | 229 | 'wp-maintenance-footer' => array( |
  | 182 | 230 | 'dashicons' => 'dashicons-table-row-before', |
  | 183 | 231 | 'link' => 'wp-maintenance-footer', |
  | 184 |  | 'text' => \_\_('Footer', 'wp-maintenance'), |
  | 185 |  | 'desc' => \_\_('Here, we are talking about the footer', 'wp-maintenance') |
  |  | 232 | 'text' => esc\_html\_\_('Footer', 'wp-maintenance'), |
  |  | 233 | 'desc' => esc\_html\_\_('Here, we are talking about the footer', 'wp-maintenance') |
  | 186 | 234 | ), |
  | 187 | 235 | 'wp-maintenance-settings' => array( |
  | 188 | 236 | 'dashicons' => 'dashicons-admin-generic', |
  | 189 | 237 | 'link' => 'wp-maintenance-settings', |
  | 190 |  | 'text' => \_\_('Settings', 'wp-maintenance'), |
  | 191 |  | 'desc' => \_\_('A few additional options', 'wp-maintenance') |
  |  | 238 | 'text' => esc\_html\_\_('Settings', 'wp-maintenance'), |
  |  | 239 | 'desc' => esc\_html\_\_('A few additional options', 'wp-maintenance') |
  | 192 | 240 | ) |
  | 193 | 241 | ); |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L199) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L247) |  |
  | 199 | 247 | foreach( $tabOptions as $page=>$values) { |
  | 200 | 248 |  |
  | 201 |  | if (isset($\_GET['page']) && $\_GET['page']!=$page ) { $active = ''; $classOnglet = 'width: 5%;'; } else { $active = 'color:#fff!important;'; $classOnglet = 'width: 5%;background-color: #848838!important;border: 1px solid #848838 !important;'; } |
  |  | 249 | if (isset($\_GET['page']) && $\_GET['page']!=$page ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended |
  |  | 250 | $active = ''; $classOnglet = 'width: 5%;'; |
  |  | 251 | } else { |
  |  | 252 | $active = 'color:#ffffff!important;'; $classOnglet = 'width: 5%;background-color: #848838!important;border: 1px solid #848838 !important;'; |
  |  | 253 | } |
  | 202 | 254 |  |
  | 203 | 255 | $getDashicons .= '<li style="'.$classOnglet.'"><a href="'.admin\_url().'admin.php?page='.$page.'" alt="'.$tabOptions[$page]['text'].'" title="'.$tabOptions[$page]['text'].'" class="module-'.$page.'" onFocus="this.blur()" style="'.$active.'"><span class="dashicons '.$tabOptions[$page]['dashicons'].'"></span><br />'.$tabOptions[$page]['text'].'</a></li>'; |
  | 204 | 256 |  |
  | 205 | 257 | } |
  | 206 |  | $getDashicons .= '<a href="'.site\_url().'/?wpmpreview=true" target="\_blank" alt="'.~~\_\_('Preview page', 'wp-maintenance').'" title="'.\_\_('Preview page', 'wp-maintenance').'" class="wpmadashicons" onFocus="this.blur()" style="color:#23282d;text-decoration:none;"><div style="background:#D6D5AA;color:#23282d;padding:1em 1em;margin: 1em 1em;text-align:center;"><span class="dashicons dashicons-external" style="font-size:20px;" ></span> '.~~\_\_('Preview page', 'wp-maintenance').'</div></a>'; |
  |  | 258 | $getDashicons .= '<a href="'.site\_url().'/?wpmpreview=true" target="\_blank" alt="'.esc\_html\_\_('Preview page', 'wp-maintenance').'" title="'.esc\_html\_\_('Preview page', 'wp-maintenance').'" class="wpmadashicons" onFocus="this.blur()" style="color:#23282d;text-decoration:none;"><div style="background:#D6D5AA;color:#23282d;padding:1em 1em;margin: 1em 1em;text-align:center;"><span class="dashicons dashicons-external" style="font-size:20px;" ></span> '.esc\_html\_\_('Preview page', 'wp-maintenance').'</div></a>'; |
  | 207 | 259 | $getDashicons .= '</ul></div></nav>'; |
  | 208 | 260 |  |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L214) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L266) |  |
  | 214 | 266 | $wpmFooter = ' |
  | 215 | 267 | <div style="margin-top:40px;"> |
  | 216 |  | <a href="https://madeby.restezconnectes.fr" target="\_blank">'.~~\_\_('WP Maintenance','wp-maintenance').' (v.'.WPM\_VERSION.')</a> '.\_\_('is brought to you by','wp-maintenance').' <a href="https://restezconnectes.fr/" target="\_blank">Restez Connectés</a> - '.\_\_('If you found this plugin useful','wp-maintenance').' <a href="https://wordpress.org/support/view/plugin-reviews/wp-maintenance" target="\_blank">'.~~\_\_('give it 5 &#9733; on WordPress.org','wp-maintenance').'</a> |
  |  | 268 | <a href="https://madeby.restezconnectes.fr" target="\_blank">'.esc\_html\_\_('WP Maintenance','wp-maintenance').' (v.'.WPM\_VERSION.')</a> '.esc\_html\_\_('is brought to you by','wp-maintenance').' <a href="https://restezconnectes.fr/" target="\_blank">Restez Connectés</a> - '.esc\_html\_\_('If you found this plugin useful','wp-maintenance').' <a href="https://wordpress.org/support/view/plugin-reviews/wp-maintenance" target="\_blank">'.esc\_html\_\_('give it 5 &#9733; on WordPress.org','wp-maintenance').'</a> |
  | 217 | 269 | </div> |
  | 218 | 270 | '; |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L235) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L287) |  |
  | 235 | 287 | function wpm\_get\_ip() { |
  | 236 | 288 |  |
  | 237 |  | // IP si internet partagé |
  | 238 |  | if (isset($\_SERVER['HTTP\_CLIENT\_IP'])) { |
  | 239 |  | return esc\_html($\_SERVER['HTTP\_CLIENT\_IP']); |
  | 240 |  | } |
  | 241 |  | // Sinon : IP normale |
  | 242 |  | else { |
  | 243 |  | return (isset($\_SERVER['REMOTE\_ADDR']) ? esc\_html($\_SERVER['REMOTE\_ADDR']) : ''); |
  | 244 |  | } |
  |  | 289 | return (isset($\_SERVER['REMOTE\_ADDR']) ? esc\_html($\_SERVER['REMOTE\_ADDR']) : ''); |
  | 245 | 290 |  |
  | 246 | 291 | } |
  | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3065575#L339) | […](/browser/wp-maintenance/trunk/includes/functions.php?rev=3078682#L384) |  |
  | 339 | 384 | // Récupère les paramètres sauvegardés |
  | 340 | 385 | if(get\_option('wp\_maintenance\_settings\_colors')) { extract(get\_option('wp\_maintenance\_settings\_colors')); } |
  | 341 |  | $o = get\_option('wp\_maintenance\_settings\_colors'); |
  | 342 |  |  |
  | 343 |  | $variables\_css = array( |
  | 344 |  | "#\_COLORTXT" => esc\_html($o['color\_txt']), |
  | 345 |  | "#\_COLORBG" => esc\_html($o['color\_field\_background']), |
  | 346 |  | "#\_COLORBORDER" => esc\_html($o['color\_field\_border']), |
  | 347 |  | "#\_COLORBUTTON" => esc\_html($o['color\_button']), |
  | 348 |  | "#\_COLORTEXTBUTTON" => esc\_html($o['color\_text\_button']), |
  | 349 |  | "#\_COLOR\_BTN\_HOVER" => esc\_html($o['color\_button\_hover']), |
  | 350 |  | "#\_COLOR\_BTN\_CLICK" => esc\_html($o['color\_button\_onclick']) |
  | 351 |  | ); |
  |  | 386 | $colors = get\_option('wp\_maintenance\_settings\_colors'); |
  |  | 387 |  |
  |  | 388 | $variables\_css = array ( |
  |  | 389 | "#\_COLORTXT" => $colors['color\_txt'], |
  |  | 390 | "#\_COLORBG" => $colors['color\_bg'], |
  |  | 391 | "#\_COLORCPTBG" => $colors['color\_cpt\_bg'], |
  |  | 392 | "#\_DATESIZE" => $colors['date\_cpt\_size'], |
  |  | 393 | "#\_COLORCPT" => $colors['color\_cpt'], |
  |  | 394 | "#\_COLOR\_BG\_BT" => $colors['color\_bg\_bottom'], |
  |  | 395 | "#\_COLOR\_TXT\_BT" => $colors['color\_text\_bottom'], |
  |  | 396 | "#\_COLORHEAD" => $colors['color\_bg\_header'], |
  |  | 397 | ); |
  | 352 | 398 | // On remplace les variables par leur valeur |
  | 353 | 399 | foreach($variables\_css as $code\_variable => $valeur) { |
* ## [wp-maintenance/trunk/readme.txt](/changeset/3078682/wp-maintenance/trunk/readme.txt?old=3065575&old_path=wp-maintenance%2Ftrunk%2Freadme.txt "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/readme.txt")

  | [r3069916](/browser/wp-maintenance/trunk/readme.txt?rev=3065575#L5 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/readme.txt?rev=3078682#L5 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 3.0 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Stable tag: 6.1.9.~~2~~ |
  |  | 7 | Stable tag: 6.1.9.3 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/wp-maintenance/trunk/readme.txt?rev=3065575#L70) | […](/browser/wp-maintenance/trunk/readme.txt?rev=3078682#L70) |  |
  | 70 | 70 |  |
  | 71 | 71 | == Changelog == |
  |  | 72 |  |
  |  | 73 | = 6.1.9.3 = |
  |  | 74 | \* Fixed security issue |
  | 72 | 75 |  |
  | 73 | 76 | = 6.1.9.2 = |
* ## [wp-maintenance/trunk/themes/default/functions.php](/changeset/3078682/wp-maintenance/trunk/themes/default/functions.php?old=3065575&old_path=wp-maintenance%2Ftrunk%2Fthemes%2Fdefault%2Ffunctions.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/themes/default/functions.php")

  | [r3069916](/browser/wp-maintenance/trunk/themes/default/functions.php?rev=3065575#L107 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/themes/default/functions.php?rev=3078682#L107 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 107 | 107 | /\*$output .= '<link rel="preconnect" href="https://fonts.googleapis.com"> |
  | 108 | 108 | <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>';\*/ |
  | 109 |  | $arrayfonts = array($o['font\_title'], $o['font\_text'], $o['font\_text\_bottom'], $o['font\_cpt']~~, $o['newletter\_font\_text'], $o['newletter\_font\_text']~~); |
  |  | 109 | $arrayfonts = array($o['font\_title'], $o['font\_text'], $o['font\_text\_bottom'], $o['font\_cpt']); |
  | 110 | 110 | $uniqueArrayfonts = array\_unique($arrayfonts); |
  | 111 | 111 | $addFont = ''; |
* ## [wp-maintenance/trunk/views/wp-maintenance-colors.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-colors.php?old=3065575&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-colors.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-colors.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L32 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L32 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | jQuery('#select\_font\_text\_cpt').fontselect(); |
  | 33 | 33 | jQuery('#select\_font\_text\_bottom').fontselect(); |
  | 34 |  | ~~jQuery('#select\_font\_text\_newletter').fontselect();~~ |
  | 35 |  | ~~jQuery('#select\_newletter\_font\_text').fontselect();~~ |
  | 36 | 34 | }); |
  | 37 | 35 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L47) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L45) |  |
  | 47 | 45 |  |
  | 48 | 46 | <!-- HEADER --> |
  | 49 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 47 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 50 | 48 | <?php if( isset($message) && $message == 1 ) { ?> |
  | 51 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 49 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 52 | 50 | <?php } ?> |
  | 53 | 51 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L55) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L53) |  |
  | 55 | 53 | <div class="wp-maintenance-wrapper"> |
  | 56 | 54 |  |
  | 57 |  | <?php echo wp~~m\_get\_nav2(~~); ?> |
  |  | 55 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 58 | 56 |  |
  | 59 | 57 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L67) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L65) |  |
  | 67 | 65 |  |
  | 68 | 66 | <div class="wp-maintenance-settings-section-header"> |
  | 69 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Choice general colors', 'wp-maintenance'); ?></h3> |
  | 70 |  | </div> |
  | 71 |  | <div class="wp-maintenance-setting-row"> |
  | 72 |  | <label for="wpmcolors[color\_bg]" class="wp-maintenance-setting-row-title"><?php \_e('Background page color', 'wp-maintenance'); ?></label> |
  |  | 67 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Choice general colors', 'wp-maintenance'); ?></h3> |
  |  | 68 | </div> |
  |  | 69 | <div class="wp-maintenance-setting-row"> |
  |  | 70 | <label for="wpmcolors[color\_bg]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Background page color', 'wp-maintenance'); ?></label> |
  | 73 | 71 | <input type="text" value="<?php if( isset($paramsColors['color\_bg']) && $paramsColors['color\_bg']!='' ) { echo esc\_html($paramsColors['color\_bg']); } ?>" name="wpmcolors[color\_bg]" class="wpm-color-field" data-default-color="#f1f1f1" /> |
  | 74 |  | <label for="wpmcolors[color\_bg\_header]" class="wp-maintenance-setting-row-title"><?php \_e('Header color', 'wp-maintenance'); ?></label> |
  |  | 72 | <label for="wpmcolors[color\_bg\_header]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Header color', 'wp-maintenance'); ?></label> |
  | 75 | 73 | <input type="text" value="<?php if( isset($paramsColors['color\_bg\_header']) && $paramsColors['color\_bg\_header']!='' ) { echo esc\_html($paramsColors['color\_bg\_header']); } ?>" name="wpmcolors[color\_bg\_header]" class="wpm-color-field" data-default-color="#ffffff" /> |
  | 76 | 74 | </div> |
  | 77 | 75 |  |
  | 78 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 76 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 79 | 77 | </div> |
  | 80 | 78 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L83) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L81) |  |
  | 83 | 81 |  |
  | 84 | 82 | <div class="wp-maintenance-settings-section-header"> |
  | 85 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Title Settings', 'wp-maintenance'); ?></h3> |
  | 86 |  | </div> |
  | 87 |  |  |
  | 88 |  | <h3><?php \_e('Choice title font and color', 'wp-maintenance'); ?></h3> |
  | 89 |  | <em><?php \_e('Set the color and font of the title', 'wp-maintenance'); ?></em> <br /><br /> |
  | 90 |  |  |
  | 91 |  | <div class="wp-maintenance-setting-row"> |
  | 92 |  | <label for="wpmcolors[color\_title]" class="wp-maintenance-setting-row-title"><?php \_e('Choose font color', 'wp-maintenance'); ?></label> |
  |  | 83 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Title Settings', 'wp-maintenance'); ?></h3> |
  |  | 84 | </div> |
  |  | 85 |  |
  |  | 86 | <h3><?php esc\_html\_e('Choice title font and color', 'wp-maintenance'); ?></h3> |
  |  | 87 | <em><?php esc\_html\_e('Set the color and font of the title', 'wp-maintenance'); ?></em> <br /><br /> |
  |  | 88 |  |
  |  | 89 | <div class="wp-maintenance-setting-row"> |
  |  | 90 | <label for="wpmcolors[color\_title]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose font color', 'wp-maintenance'); ?></label> |
  | 93 | 91 | <input type="text" value="<?php if( isset($paramsColors['color\_title']) && $paramsColors['color\_title']!='' ) { echo esc\_html($paramsColors['color\_title']); } else { echo '#333333'; } ?>" name="wpmcolors[color\_title]" class="wpm-color-field" data-default-color="#333333" /> |
  | 94 | 92 | </div> |
  | 95 | 93 |  |
  | 96 | 94 | <div class="wp-maintenance-setting-row"> |
  | 97 |  | <label for="wpmcolors[font\_title]" class="wp-maintenance-setting-row-title"><?php \_e('Choose Size and Style', 'wp-maintenance'); ?></label> |
  |  | 95 | <label for="wpmcolors[font\_title]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose Size and Style', 'wp-maintenance'); ?></label> |
  | 98 | 96 | <table cellspacing="10"> |
  | 99 | 97 | <tr> |
  | 100 | 98 | <td valign="middle"style="text-align:left;"> |
  | 101 | 99 | <?php if(isset($wpoptions['remove\_googlefonts']) && $wpoptions['remove\_googlefonts']==1) { ?> |
  | 102 |  | <?php echo wp~~m\_fonts($paramsColors['font\_title'], 'font\_title'~~); ?> |
  |  | 100 | <?php echo wp\_kses(wpm\_fonts($paramsColors['font\_title'], 'font\_title'), wpm\_autorizeHtml()); ?> |
  | 103 | 101 | <?php } else { ?> |
  | 104 | 102 | <input name="wpmcolors[font\_title]" class="selectfont" type="text" value="<?php if( isset($paramsColors['font\_title']) && $paramsColors['font\_title']!='' ) { echo esc\_html(str\_replace(' ', '+', $paramsColors['font\_title'])); } else { echo 'Anton'; } ?>" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L110) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L108) |  |
  | 110 | 108 | <tr> |
  | 111 | 109 | <td> |
  | 112 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('bold', 'wp-maintenance'); ?></span> |
  |  | 110 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('bold', 'wp-maintenance'); ?></span> |
  | 113 | 111 | <input type="checkbox" name="wpmcolors[font\_title\_weigth]" value="bold" <?php if( isset($paramsColors['font\_title\_weigth']) && $paramsColors['font\_title\_weigth']=='bold') { echo ' checked'; } ?>> |
  | 114 | 112 | <span class="wp-maintenance-checkmark"></span></label> |
  | 115 | 113 | </td> |
  | 116 | 114 | <td> |
  | 117 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Italic', 'wp-maintenance'); ?></span> |
  |  | 115 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Italic', 'wp-maintenance'); ?></span> |
  | 118 | 116 | <input type="checkbox" name="wpmcolors[font\_title\_style]" value="italic" <?php if( isset($paramsColors['font\_title\_style']) && $paramsColors['font\_title\_style']=='italic') { echo ' checked'; } ?>> |
  | 119 | 117 | <span class="wp-maintenance-checkmark"></span></label> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L123) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L121) |  |
  | 123 | 121 | </table> |
  | 124 | 122 | </div> |
  | 125 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 123 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 126 | 124 | <!-- FIN POLICE DU TITRE--> |
  | 127 | 125 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L130) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L128) |  |
  | 130 | 128 | <div class="wp-maintenance-module-options-block"> |
  | 131 | 129 | <div class="wp-maintenance-settings-section-header"> |
  | 132 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Text Settings', 'wp-maintenance'); ?></h3> |
  | 133 |  | </div> |
  | 134 |  |  |
  | 135 |  | <h3><?php \_e('Choice text font and color', 'wp-maintenance'); ?></h3> |
  | 136 |  | <em><?php \_e('Set the color and font of the text', 'wp-maintenance'); ?></em> <br /><br /> |
  | 137 |  |  |
  | 138 |  | <div class="wp-maintenance-setting-row"> |
  | 139 |  | <label for="wpmcolors[color\_txt]" class="wp-maintenance-setting-row-title"><?php \_e('Choose font color', 'wp-maintenance'); ?></label> |
  |  | 130 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Text Settings', 'wp-maintenance'); ?></h3> |
  |  | 131 | </div> |
  |  | 132 |  |
  |  | 133 | <h3><?php esc\_html\_e('Choice text font and color', 'wp-maintenance'); ?></h3> |
  |  | 134 | <em><?php esc\_html\_e('Set the color and font of the text', 'wp-maintenance'); ?></em> <br /><br /> |
  |  | 135 |  |
  |  | 136 | <div class="wp-maintenance-setting-row"> |
  |  | 137 | <label for="wpmcolors[color\_txt]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose font color', 'wp-maintenance'); ?></label> |
  | 140 | 138 | <input type="text" value="<?php if( isset($paramsColors['color\_txt']) && $paramsColors['color\_txt']!='' ) { echo esc\_html($paramsColors['color\_txt']); } else { echo '#333333'; } ?>" name="wpmcolors[color\_txt]" class="wpm-color-field" data-default-color="#333333" /> |
  | 141 | 139 | </div> |
  | 142 | 140 |  |
  | 143 | 141 | <div class="wp-maintenance-setting-row"> |
  | 144 |  | <label for="wpmcolors[font\_text]" class="wp-maintenance-setting-row-title"><?php \_e('Choose Size and Style', 'wp-maintenance'); ?></label> |
  |  | 142 | <label for="wpmcolors[font\_text]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose Size and Style', 'wp-maintenance'); ?></label> |
  | 145 | 143 | <table cellspacing="10"> |
  | 146 | 144 | <tr> |
  | 147 | 145 | <td valign="middle"style="text-align:left;"> |
  | 148 | 146 | <?php if(isset($wpoptions['remove\_googlefonts']) && $wpoptions['remove\_googlefonts']==1) { ?> |
  | 149 |  | <?php echo wp~~m\_fonts($paramsColors['font\_text'], 'font\_text'~~); ?> |
  |  | 147 | <?php echo wp\_kses(wpm\_fonts($paramsColors['font\_text'], 'font\_title'), wpm\_autorizeHtml()); ?> |
  | 150 | 148 | <?php } else { ?> |
  | 151 | 149 | <input name="wpmcolors[font\_text]" class="selectfont" type="text" value="<?php if( isset($paramsColors['font\_text']) && $paramsColors['font\_text']!='' ) { echo esc\_html(str\_replace(' ', '+', $paramsColors['font\_text'])); } else { echo 'Anton'; } ?>" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L156) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L154) |  |
  | 156 | 154 | <tr> |
  | 157 | 155 | <td> |
  | 158 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('bold', 'wp-maintenance'); ?></span> |
  |  | 156 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('bold', 'wp-maintenance'); ?></span> |
  | 159 | 157 | <input type="checkbox" name="wpmcolors[font\_text\_weigth]" value="bold" <?php if( isset($paramsColors['font\_text\_weigth']) && $paramsColors['font\_text\_weigth']=='bold') { echo ' checked'; } ?>> |
  | 160 | 158 | <span class="wp-maintenance-checkmark"></span></label> |
  | 161 | 159 | </td> |
  | 162 | 160 | <td> |
  | 163 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Italic', 'wp-maintenance'); ?></span> |
  |  | 161 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Italic', 'wp-maintenance'); ?></span> |
  | 164 | 162 | <input type="checkbox" name="wpmcolors[font\_text\_style]" value="italic" <?php if( isset($paramsColors['font\_text\_style']) && $paramsColors['font\_text\_style']=='italic') { echo ' checked'; } ?>> |
  | 165 | 163 | <span class="wp-maintenance-checkmark"></span></label> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L169) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L167) |  |
  | 169 | 167 | </table> |
  | 170 | 168 | </div> |
  | 171 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 169 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 172 | 170 | </div> |
  | 173 | 171 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L175) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L173) |  |
  | 175 | 173 | <div class="wp-maintenance-module-options-block"> |
  | 176 | 174 | <div class="wp-maintenance-settings-section-header"> |
  | 177 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Frame Settings', 'wp-maintenance'); ?></h3> |
  |  | 175 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Frame Settings', 'wp-maintenance'); ?></h3> |
  | 178 | 176 | </div> |
  | 179 | 177 |  |
  | 180 | 178 | <p> |
  | 181 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable frame', 'wp-maintenance'); ?></span> |
  |  | 179 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable frame', 'wp-maintenance'); ?></span> |
  | 182 | 180 | <input type="checkbox" name="wpmcolors[container\_active]" value="1" <?php if( isset($paramsColors['container\_active']) && $paramsColors['container\_active']==1) { echo ' checked'; } ?>> |
  | 183 | 181 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L185) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L183) |  |
  | 185 | 183 | </p> |
  | 186 | 184 |  |
  | 187 |  | <h3><?php \_e('Choice frame color and style', 'wp-maintenance'); ?></h3> |
  | 188 |  |  |
  | 189 |  | <div class="wp-maintenance-setting-row"> |
  | 190 |  | <label for="wpmcolors[container\_color]" class="wp-maintenance-setting-row-title"><?php \_e('Choose frame color', 'wp-maintenance'); ?></label> |
  |  | 185 | <h3><?php esc\_html\_e('Choice frame color and style', 'wp-maintenance'); ?></h3> |
  |  | 186 |  |
  |  | 187 | <div class="wp-maintenance-setting-row"> |
  |  | 188 | <label for="wpmcolors[container\_color]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose frame color', 'wp-maintenance'); ?></label> |
  | 191 | 189 | <input type="text" value="<?php if( isset($paramsColors['container\_color']) && $paramsColors['container\_color']!='' ) { echo esc\_html($paramsColors['container\_color']); } else { echo '#333333'; } ?>" name="wpmcolors[container\_color]" class="wpm-color-field" data-default-color="#333333" /> |
  | 192 | 190 | </div> |
  | 193 | 191 |  |
  | 194 | 192 | <div class="wp-maintenance-setting-row"> |
  | 195 |  | <label for="wpmcolors[container\_opacity]" class="wp-maintenance-setting-row-title"><?php \_e('Choose Style', 'wp-maintenance'); ?></label> |
  | 196 |  | <span class="wp-maintenance-label-text"><?php \_e('Opacity', 'wp-maintenance'); ?> <input type="text" size="5%" name="wpmcolors[container\_opacity]" value="<?php if( isset($paramsColors['container\_opacity']) && $paramsColors['container\_opacity']!='' ) { echo esc\_html($paramsColors['container\_opacity']); } else { echo '0.5'; } ?>" /> |
  | 197 |  | <span class="wp-maintenance-label-text"><?php \_e('Width', 'wp-maintenance'); ?></span> |
  |  | 193 | <label for="wpmcolors[container\_opacity]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose Style', 'wp-maintenance'); ?></label> |
  |  | 194 | <span class="wp-maintenance-label-text"><?php esc\_html\_e('Opacity', 'wp-maintenance'); ?> <input type="text" size="5%" name="wpmcolors[container\_opacity]" value="<?php if( isset($paramsColors['container\_opacity']) && $paramsColors['container\_opacity']!='' ) { echo esc\_html($paramsColors['container\_opacity']); } else { echo '0.5'; } ?>" /> |
  |  | 195 | <span class="wp-maintenance-label-text"><?php esc\_html\_e('Width', 'wp-maintenance'); ?></span> |
  | 198 | 196 | <input type="text" name="wpmcolors[container\_width]" size="5%" value="<?php if( isset($paramsColors['container\_width']) && $paramsColors['container\_width']!='' ) { echo esc\_html($paramsColors['container\_width']); } else { echo '80'; } ?>" />% |
  | 199 | 197 | </div> |
  | 200 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 198 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 201 | 199 | <!-- FIN CADRE --> |
  | 202 | 200 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L207) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L205) |  |
  | 207 | 205 | <div class="wp-maintenance-module-options-block"> |
  | 208 | 206 | <div class="wp-maintenance-settings-section-header"> |
  | 209 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Countdown Settings', 'wp-maintenance'); ?></h3> |
  | 210 |  | </div> |
  | 211 |  |  |
  | 212 |  | <h3><?php \_e('Choice Countdown font, colors and style', 'wp-maintenance'); ?></h3> |
  | 213 |  |  |
  | 214 |  | <div class="wp-maintenance-setting-row"> |
  | 215 |  | <label for="wpmcolors[color\_cpt]" class="wp-maintenance-setting-row-title"><?php \_e('Countdown text color', 'wp-maintenance'); ?></label> |
  |  | 207 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Countdown Settings', 'wp-maintenance'); ?></h3> |
  |  | 208 | </div> |
  |  | 209 |  |
  |  | 210 | <h3><?php esc\_html\_e('Choice Countdown font, colors and style', 'wp-maintenance'); ?></h3> |
  |  | 211 |  |
  |  | 212 | <div class="wp-maintenance-setting-row"> |
  |  | 213 | <label for="wpmcolors[color\_cpt]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Countdown text color', 'wp-maintenance'); ?></label> |
  | 216 | 214 | <input type="text" value="<?php if( isset($paramsColors['color\_cpt']) && $paramsColors['color\_cpt']!='' ) { echo esc\_html($paramsColors['color\_cpt']); } else { echo '#333333'; } ?>" name="wpmcolors[color\_cpt]" class="wpm-color-field" data-default-color="#333333" /> |
  | 217 | 215 | </div> |
  | 218 | 216 |  |
  | 219 | 217 | <div class="wp-maintenance-setting-row"> |
  | 220 |  | <label for="wpmcolors[color\_cpt\_bg]" class="wp-maintenance-setting-row-title"><?php \_e('Countdown background color', 'wp-maintenance'); ?></label> |
  |  | 218 | <label for="wpmcolors[color\_cpt\_bg]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Countdown background color', 'wp-maintenance'); ?></label> |
  | 221 | 219 | <input type="text" value="<?php if( isset($paramsColors['color\_cpt\_bg']) && $paramsColors['color\_cpt\_bg']!='' ) { echo esc\_html($paramsColors['color\_cpt\_bg']); } ?>" name="wpmcolors[color\_cpt\_bg]" class="wpm-color-field" data-default-color="#ffffff" /> |
  | 222 | 220 | </div> |
  | 223 | 221 | <!-- POLICE DU COMPTEUR --> |
  | 224 | 222 | <div class="wp-maintenance-setting-row"> |
  | 225 |  | <label for="wpmcolors[font\_cpt]" class="wp-maintenance-setting-row-title"><?php \_e('Choose font', 'wp-maintenance'); ?></label> |
  |  | 223 | <label for="wpmcolors[font\_cpt]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose font', 'wp-maintenance'); ?></label> |
  | 226 | 224 | <table cellspacing="10"> |
  | 227 | 225 | <tr> |
  | 228 | 226 | <td valign="middle"style="text-align:left;"> |
  | 229 | 227 | <?php if(isset($wpoptions['remove\_googlefonts']) && $wpoptions['remove\_googlefonts']==1) { ?> |
  | 230 |  | <?php echo wp~~m\_fonts($paramsColors['font\_cpt'], 'font\_cpt'~~); ?> |
  |  | 228 | <?php echo wp\_kses(wpm\_fonts($paramsColors['font\_cpt'], 'font\_title'), wpm\_autorizeHtml()); ?> |
  | 231 | 229 | <?php } else { ?> |
  | 232 | 230 | <input name="wpmcolors[font\_cpt]" class="selectfont" type="text" value="<?php if( isset($paramsColors['font\_cpt']) && $paramsColors['font\_cpt']!='' ) { echo esc\_html(str\_replace(' ', '+', $paramsColors['font\_cpt'])); } else { echo 'Pacifico'; } ?>" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L241) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L239) |  |
  | 241 | 239 | <!-- POLICE DU TEXT de FIN --> |
  | 242 | 240 | <div class="wp-maintenance-setting-row"> |
  | 243 |  | <label for="wpmcolors[cpt\_end\_size]" class="wp-maintenance-setting-row-title"><?php \_e('Choose font for end text', 'wp-maintenance'); ?></label> |
  |  | 241 | <label for="wpmcolors[cpt\_end\_size]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose font for end text', 'wp-maintenance'); ?></label> |
  | 244 | 242 | <table cellspacing="10"> |
  | 245 | 243 | <tr> |
  | 246 | 244 | <td valign="middle"style="text-align:left;"> |
  | 247 | 245 | <?php if(isset($wpoptions['remove\_googlefonts']) && $wpoptions['remove\_googlefonts']==1) { ?> |
  | 248 |  | <?php echo wp~~m\_fonts($paramsColors['font\_end\_cpt'], 'font\_end\_cpt'~~); ?> |
  |  | 246 | <?php echo wp\_kses(wpm\_fonts($paramsColors['font\_end\_cpt'], 'font\_title'), wpm\_autorizeHtml()); ?> |
  | 249 | 247 | <?php } else { ?> |
  | 250 | 248 | <input name="wpmcolors[font\_end\_cpt]" class="selectfont" type="text" value="<?php if( isset($paramsColors['font\_end\_cpt']) && $paramsColors['font\_end\_cpt']!='' ) { echo esc\_html(str\_replace(' ', '+', $paramsColors['font\_end\_cpt'])); } else { echo 'Pacifico'; } ?>" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L255) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L253) |  |
  | 255 | 253 | </table> |
  | 256 | 254 | </div> |
  | 257 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 255 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 258 | 256 | <!-- FIN POLICE DU COMPTEUR --> |
  | 259 | 257 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L262) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L260) |  |
  | 262 | 260 | <div class="wp-maintenance-module-options-block"> |
  | 263 | 261 | <div class="wp-maintenance-settings-section-header"> |
  | 264 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Footer settings', 'wp-maintenance'); ?></h3> |
  | 265 |  | </div> |
  | 266 |  | <h3><?php \_e('Choice footer font, colors and style', 'wp-maintenance'); ?></h3> |
  | 267 |  |  |
  | 268 |  | <div class="wp-maintenance-setting-row"> |
  | 269 |  | <label for="wpmcolors[color\_text\_bottom]" class="wp-maintenance-setting-row-title"><?php \_e('Text color', 'wp-maintenance'); ?></label> |
  |  | 262 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Footer settings', 'wp-maintenance'); ?></h3> |
  |  | 263 | </div> |
  |  | 264 | <h3><?php esc\_html\_e('Choice footer font, colors and style', 'wp-maintenance'); ?></h3> |
  |  | 265 |  |
  |  | 266 | <div class="wp-maintenance-setting-row"> |
  |  | 267 | <label for="wpmcolors[color\_text\_bottom]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Text color', 'wp-maintenance'); ?></label> |
  | 270 | 268 | <input type="text" value="<?php if( isset($paramsColors['color\_text\_bottom']) && $paramsColors['color\_text\_bottom']!='' ) { echo esc\_html($paramsColors['color\_text\_bottom']); } else { echo '#FFFFFF'; } ?>" name="wpmcolors[color\_text\_bottom]" class="wpm-color-field" data-default-color="#ffffff" /> |
  | 271 | 269 | </div> |
  | 272 | 270 |  |
  | 273 | 271 | <div class="wp-maintenance-setting-row"> |
  | 274 |  | <label for="wpmcolors[color\_bg\_bottom]" class="wp-maintenance-setting-row-title"><?php \_e('Background color', 'wp-maintenance'); ?></label> |
  |  | 272 | <label for="wpmcolors[color\_bg\_bottom]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Background color', 'wp-maintenance'); ?></label> |
  | 275 | 273 | <input type="text" value="<?php if( isset($paramsColors['color\_bg\_bottom']) && $paramsColors['color\_bg\_bottom']!='' ) { echo esc\_html($paramsColors['color\_bg\_bottom']); } else { echo '#333333'; } ?>" name="wpmcolors[color\_bg\_bottom]" class="wpm-color-field" data-default-color="#333333" /> |
  | 276 | 274 | </div> |
  | 277 | 275 |  |
  | 278 | 276 | <div class="wp-maintenance-setting-row"> |
  | 279 |  | <label for="wpmcolors[font\_text]" class="wp-maintenance-setting-row-title"><?php \_e('Choose Size and Style', 'wp-maintenance'); ?></label> |
  |  | 277 | <label for="wpmcolors[font\_text]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose Size and Style', 'wp-maintenance'); ?></label> |
  | 280 | 278 | <table cellspacing="10"> |
  | 281 | 279 | <tr> |
  | 282 | 280 | <td valign="middle"style="text-align:left;"> |
  | 283 | 281 | <?php if(isset($wpoptions['remove\_googlefonts']) && $wpoptions['remove\_googlefonts']==1) { ?> |
  | 284 |  | <?php echo wp~~m\_fonts($paramsColors['font\_text\_bottom'], 'font\_text\_bottom'~~); ?> |
  |  | 282 | <?php echo wp\_kses(wpm\_fonts($paramsColors['font\_text\_bottom'], 'font\_title'), wpm\_autorizeHtml()); ?> |
  | 285 | 283 | <?php } else { ?> |
  | 286 | 284 | <input name="wpmcolors[font\_text\_bottom]" class="selectfont" type="text" value="<?php if( isset($paramsColors['font\_text\_bottom']) && $paramsColors['font\_text\_bottom']!='' ) { echo esc\_html(str\_replace(' ', '+', $paramsColors['font\_text\_bottom'])); } else { echo 'Open Sans'; } ?>" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L291) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L289) |  |
  | 291 | 289 | <tr> |
  | 292 | 290 | <td> |
  | 293 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('bold', 'wp-maintenance'); ?></span> |
  |  | 291 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('bold', 'wp-maintenance'); ?></span> |
  | 294 | 292 | <input type="checkbox" name="wpmcolors[font\_bottom\_weigth]" value="bold" <?php if( isset($paramsColors['font\_bottom\_weigth']) && $paramsColors['font\_bottom\_weigth']=='bold') { echo ' checked'; } ?>> |
  | 295 | 293 | <span class="wp-maintenance-checkmark"></span></label> |
  | 296 | 294 | </td> |
  | 297 | 295 | <td> |
  | 298 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Italic', 'wp-maintenance'); ?></span> |
  |  | 296 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Italic', 'wp-maintenance'); ?></span> |
  | 299 | 297 | <input type="checkbox" name="wpmcolors[font\_bottom\_style]" value="italic" <?php if( isset($paramsColors['font\_bottom\_style']) && $paramsColors['font\_bottom\_style']=='italic') { echo ' checked'; } ?>> |
  | 300 | 298 | <span class="wp-maintenance-checkmark"></span></label> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L304) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L302) |  |
  | 304 | 302 | </table> |
  | 305 | 303 | </div> |
  | 306 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 304 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 307 | 305 | <!-- FIN POLICE DU TEXTE BAS DE PAGE --> |
  | 308 | 306 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3065575#L313) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-colors.php?rev=3078682#L311) |  |
  | 313 | 311 | </div> |
  | 314 | 312 |  |
  | 315 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 313 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 316 | 314 | </div> |
* ## [wp-maintenance/trunk/views/wp-maintenance-countdown.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-countdown.php?old=3065575&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-countdown.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-countdown.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L22 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L22 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 |  |
  | 23 | 23 | <!-- HEADER --> |
  | 24 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 24 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 25 | 25 | <?php if( isset($message) && $message == 1 ) { ?> |
  | 26 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 26 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 27 | 27 | <?php } ?> |
  | 28 | 28 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L30) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L30) |  |
  | 30 | 30 | <div class="wp-maintenance-wrapper"> |
  | 31 | 31 |  |
  | 32 |  | ~~<?php echo wpm\_get\_nav2(~~); ?> |
  |  | 32 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 33 | 33 |  |
  | 34 | 34 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L41) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L41) |  |
  | 41 | 41 | <div class="wp-maintenance-module-options-block"> |
  | 42 | 42 |  |
  | 43 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Enable a countdown', 'wp-maintenance'); ?></h3></div> |
  |  | 43 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Enable a countdown', 'wp-maintenance'); ?></h3></div> |
  | 44 | 44 | <p> |
  | 45 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable a countdown', 'wp-maintenance'); ?></span> |
  |  | 45 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable a countdown', 'wp-maintenance'); ?></span> |
  | 46 | 46 | <input type="checkbox" name="wpmcountdown[active\_cpt]" value="1" <?php if( isset($paramsCountdown['active\_cpt']) && $paramsCountdown['active\_cpt']==1) { echo ' checked'; } ?>> |
  | 47 | 47 | <span class="wp-maintenance-checkmark"></span> |
  | 48 | 48 | </label> |
  | 49 | 49 | </p> |
  | 50 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 50 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 51 | 51 | </div> |
  | 52 | 52 |  |
  | 53 | 53 | <div class="wp-maintenance-module-options-block"> |
  | 54 | 54 | <div class="wp-maintenance-settings-section-header"> |
  | 55 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Date/time Launch', 'wp-maintenance'); ?></h3> |
  |  | 55 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Date/time Launch', 'wp-maintenance'); ?></h3> |
  | 56 | 56 | </div> |
  | 57 | 57 |  |
  | 58 |  | <h3><?php \_e('Select the launch date/time', 'wp-maintenance'); ?></h3> |
  |  | 58 | <h3><?php esc\_html\_e('Select the launch date/time', 'wp-maintenance'); ?></h3> |
  | 59 | 59 |  |
  | 60 | 60 | <div class="wp-maintenance-setting-row"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L63) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L63) |  |
  | 63 | 63 | // Old version compte à rebours |
  | 64 | 64 | if ( empty($paramsCountdown['cptdate']) ) { |
  | 65 |  | $paramsCountdown['cptdate'] = ~~date('d').'/'.date('m').'/'.~~date('Y'); |
  |  | 65 | $paramsCountdown['cptdate'] = gmdate('d').'/'.gmdate('m').'/'.gmdate('Y'); |
  | 66 | 66 | } |
  | 67 | 67 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L74) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L74) |  |
  | 74 | 74 |  |
  | 75 | 75 | if( (isset($paramsCountdown['active\_cpt']) && $paramsCountdown['active\_cpt']==0) || empty($paramsCountdown['active\_cpt']) ) { |
  | 76 |  | $startDate = date\_i18n( ~~date("Y").'/'.date("m").'/'.~~date("d") ); |
  |  | 76 | $startDate = date\_i18n( gmdate("Y").'/'.gmdate("m").'/'.gmdate("d") ); |
  | 77 | 77 | $timeFormats = array\_unique( apply\_filters( 'time\_formats', array( 'H:i' ) ) ); |
  | 78 | 78 | foreach ( $timeFormats as $format ) { |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L84) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L84) |  |
  | 84 | 84 |  |
  | 85 | 85 | ?> |
  | 86 |  | <img src="<?php echo ~~plugins\_url('../images/schedule\_clock.png', \_\_FILE\_\_ ); ?>" class="datepicker" width="48" height="48" style="vertical-align: middle;margin-right:5px;">&nbsp;<input id="cptdate" class="datepicker" name="wpmcountdown[cptdate]" type="text" autofocuss data-value="<?php echo esc\_html($startDate); ?>"> <?php~~ \_e('at', 'wp-maintenance'); ?> <input id="cpttime" class="timepicker" type="time" name="wpmcountdown[cpttime]" value="<?php echo esc\_html($startHour); ?>" size="6" autofocuss> |
  |  | 86 | <img src="<?php echo esc\_url(plugins\_url('../images/schedule\_clock.png', \_\_FILE\_\_ )); ?>" class="datepicker" width="48" height="48" style="vertical-align: middle;margin-right:5px;">&nbsp;<input id="cptdate" class="datepicker" name="wpmcountdown[cptdate]" type="text" autofocuss data-value="<?php echo esc\_html($startDate); ?>"> <?php esc\_html\_e('at', 'wp-maintenance'); ?> <input id="cpttime" class="timepicker" type="time" name="wpmcountdown[cpttime]" value="<?php echo esc\_html($startHour); ?>" size="6" autofocuss> |
  | 87 | 87 | <div id="wpmdatecontainer"></div> |
  | 88 | 88 | </div> |
  | 89 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 89 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 90 | 90 | </div> |
  | 91 | 91 | <div class="wp-maintenance-module-options-block"> |
  | 92 | 92 |  |
  | 93 | 93 | <div class="wp-maintenance-settings-section-header"> |
  | 94 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Others Settings', 'wp-maintenance'); ?></h3> |
  |  | 94 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Others Settings', 'wp-maintenance'); ?></h3> |
  | 95 | 95 | </div> |
  | 96 | 96 |  |
  | 97 |  | <h3><?php \_e('Enable seconds ?', 'wp-maintenance'); ?></h3> |
  |  | 97 | <h3><?php esc\_html\_e('Enable seconds ?', 'wp-maintenance'); ?></h3> |
  | 98 | 98 |  |
  | 99 | 99 | <p> |
  | 100 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable seconds', 'wp-maintenance'); ?></span> |
  |  | 100 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable seconds', 'wp-maintenance'); ?></span> |
  | 101 | 101 | <input type="checkbox" name="wpmcountdown[active\_cpt\_s]" value="1" <?php if( isset($paramsCountdown['active\_cpt\_s']) && $paramsCountdown['active\_cpt\_s']==1) { echo ' checked'; } ?>> |
  | 102 | 102 | <span class="wp-maintenance-checkmark"></span> |
  | 103 | 103 | </label> |
  | 104 | 104 | </p> |
  | 105 |  | <h3><?php \_e('Disable maintenance mode at the end of the countdown?', 'wp-maintenance'); ?></h3> |
  |  | 105 | <h3><?php esc\_html\_e('Disable maintenance mode at the end of the countdown?', 'wp-maintenance'); ?></h3> |
  | 106 | 106 | <p> |
  | 107 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, disable maintenance mode at the end of countdown', 'wp-maintenance'); ?></span> |
  |  | 107 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, disable maintenance mode at the end of countdown', 'wp-maintenance'); ?></span> |
  | 108 | 108 | <input type="checkbox" name="wpmcountdown[disable]" value="1" <?php if( isset($paramsCountdown['disable']) && $paramsCountdown['disable']==1) { echo ' checked'; } ?>> |
  | 109 | 109 | <span class="wp-maintenance-checkmark"></span> |
  | 110 | 110 | </label> |
  | 111 | 111 | </p> |
  | 112 |  | <h3><?php \_e('End message after end countdown', 'wp-maintenance'); ?></h3> |
  |  | 112 | <h3><?php esc\_html\_e('End message after end countdown', 'wp-maintenance'); ?></h3> |
  | 113 | 113 | <?php |
  | 114 | 114 | $settingsCountdown =   array( |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L130) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L130) |  |
  | 130 | 130 | <?php wp\_editor( nl2br($textCpt\_fin), 'message\_cpt\_fin', $settingsCountdown ); ?> |
  | 131 | 131 |  |
  | 132 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 132 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 133 | 133 |  |
  | 134 | 134 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L138) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L138) |  |
  | 138 | 138 | </div> |
  | 139 | 139 |  |
  | 140 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 140 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 141 | 141 |  |
  | 142 | 142 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L151) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L151) |  |
  | 151 | 151 | closeOnClear: false, |
  | 152 | 152 | firstDay: 1, |
  | 153 |  | min: new Date(<?php echo ~~date('Y').','.(date('m')-1).','.date('d'~~); ?>), |
  | 154 |  | monthsFull: [ '<?php ~~\_e('January', 'wp-maintenance'); ?>', '<?php \_e('February', 'wp-maintenance'); ?>', '<?php \_e('March', 'wp-maintenance'); ?>', '<?php \_e('April', 'wp-maintenance'); ?>', '<?php \_e('May', 'wp-maintenance'); ?>', '<?php \_e('June', 'wp-maintenance'); ?>', '<?php \_e('July', 'wp-maintenance'); ?>', '<?php \_e('August', 'wp-maintenance'); ?>', '<?php \_e('September', 'wp-maintenance'); ?>', '<?php \_e('October', 'wp-maintenance'); ?>', '<?php \_e('November', 'wp-maintenance'); ?>', '<?php~~ \_e('December', 'wp-maintenance'); ?>' ], |
  |  | 153 | min: new Date(<?php echo esc\_html(gmdate('Y').','.(gmdate('m')-1).','.gmdate('d')); ?>), |
  |  | 154 | monthsFull: [ '<?php esc\_html\_e('January', 'wp-maintenance'); ?>', '<?php esc\_html\_e('February', 'wp-maintenance'); ?>', '<?php esc\_html\_e('March', 'wp-maintenance'); ?>', '<?php esc\_html\_e('April', 'wp-maintenance'); ?>', '<?php esc\_html\_e('May', 'wp-maintenance'); ?>', '<?php esc\_html\_e('June', 'wp-maintenance'); ?>', '<?php esc\_html\_e('July', 'wp-maintenance'); ?>', '<?php esc\_html\_e('August', 'wp-maintenance'); ?>', '<?php esc\_html\_e('September', 'wp-maintenance'); ?>', '<?php esc\_html\_e('October', 'wp-maintenance'); ?>', '<?php esc\_html\_e('November', 'wp-maintenance'); ?>', '<?php esc\_html\_e('December', 'wp-maintenance'); ?>' ], |
  | 155 | 155 | monthsShort: [ 'Jan', 'Fev', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Aou', 'Sep', 'Oct', 'Nov', 'Dec' ], |
  | 156 |  | weekdaysShort: [ '<?php ~~\_e('Sunday', 'wp-maintenance'); ?>', '<?php \_e('Monday', 'wp-maintenance'); ?>', '<?php \_e('Tuesday', 'wp-maintenance'); ?>', '<?php \_e('Wednesday', 'wp-maintenance'); ?>', '<?php \_e('Thurday', 'wp-maintenance'); ?>', '<?php \_e('Friday', 'wp-maintenance'); ?>', '<?php~~ \_e('Saturday', 'wp-maintenance'); ?>' ], |
  | 157 |  | today: "<?php \_e('Today', 'wp-maintenance'); ?>", |
  | 158 |  | clear: '<?php \_e('Delete', 'wp-maintenance'); ?>', |
  | 159 |  | close: '<?php \_e('Close', 'wp-maintenance'); ?>', |
  |  | 156 | weekdaysShort: [ '<?php esc\_html\_e('Sunday', 'wp-maintenance'); ?>', '<?php esc\_html\_e('Monday', 'wp-maintenance'); ?>', '<?php esc\_html\_e('Tuesday', 'wp-maintenance'); ?>', '<?php esc\_html\_e('Wednesday', 'wp-maintenance'); ?>', '<?php esc\_html\_e('Thurday', 'wp-maintenance'); ?>', '<?php esc\_html\_e('Friday', 'wp-maintenance'); ?>', '<?php esc\_html\_e('Saturday', 'wp-maintenance'); ?>' ], |
  |  | 157 | today: "<?php esc\_html\_e('Today', 'wp-maintenance'); ?>", |
  |  | 158 | clear: '<?php esc\_html\_e('Delete', 'wp-maintenance'); ?>', |
  |  | 159 | close: '<?php esc\_html\_e('Close', 'wp-maintenance'); ?>', |
  | 160 | 160 |  |
  | 161 | 161 | // Accessibility labels |
  | 162 |  | labelMonthNext: '<?php \_e('Next month', 'wp-maintenance'); ?>', |
  | 163 |  | labelMonthPrev: '<?php \_e('Previous month', 'wp-maintenance'); ?>', |
  | 164 |  | labelMonthSelect: '<?php \_e('Select a month', 'wp-maintenance'); ?>', |
  | 165 |  | labelYearSelect: '<?php \_e('Select a year', 'wp-maintenance'); ?>', |
  |  | 162 | labelMonthNext: '<?php esc\_html\_e('Next month', 'wp-maintenance'); ?>', |
  |  | 163 | labelMonthPrev: '<?php esc\_html\_e('Previous month', 'wp-maintenance'); ?>', |
  |  | 164 | labelMonthSelect: '<?php esc\_html\_e('Select a month', 'wp-maintenance'); ?>', |
  |  | 165 | labelYearSelect: '<?php esc\_html\_e('Select a year', 'wp-maintenance'); ?>', |
  | 166 | 166 |  |
  | 167 | 167 | selectMonths: true, |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3065575#L176) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-countdown.php?rev=3078682#L176) |  |
  | 176 | 176 | var $input = jQuery( '.timepicker' ).pickatime({ |
  | 177 | 177 | //container: '#wpmtimecontainer', |
  | 178 |  | clear: '<?php \_e('Close', 'wp-maintenance'); ?>', |
  |  | 178 | clear: '<?php esc\_html\_e('Close', 'wp-maintenance'); ?>', |
  | 179 | 179 | interval: 5, |
  | 180 | 180 | editable: undefined, |
* ## [wp-maintenance/trunk/views/wp-maintenance-css.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-css.php?old=2783257&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-css.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-css.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L16 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L16 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | update\_option( 'wp\_maintenance\_settings\_css', wpm\_print\_style() ); |
  | 17 | 17 | //$options\_saved = true; |
  | 18 |  | echo '<div id="message" class="updated fade"><p><strong>'.\_\_('The Style Sheet has been reset!', 'wp-maintenance').'</strong></p></div>'; |
  |  | 18 | echo '<div id="message" class="updated fade"><p><strong>'.esc\_html\_\_('The Style Sheet has been reset!', 'wp-maintenance').'</strong></p></div>'; |
  | 19 | 19 | } |
  | 20 | 20 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L30) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L30) |  |
  | 30 | 30 |  |
  | 31 | 31 | <!-- HEADER --> |
  | 32 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 32 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 33 | 33 | <?php if( isset($messageUpdate) && $messageUpdate == 1 ) { ?> |
  | 34 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 34 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 35 | 35 | <?php } ?> |
  | 36 | 36 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L38) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L38) |  |
  | 38 | 38 | <div class="wp-maintenance-wrapper"> |
  | 39 | 39 |  |
  | 40 |  | ~~<?php echo wpm\_get\_nav2(~~); ?> |
  |  | 40 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 41 | 41 |  |
  | 42 | 42 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L49) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L49) |  |
  | 49 | 49 |  |
  | 50 | 50 | <!-- PIED DE PAGE  --> |
  | 51 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Edit the CSS sheet of your maintenance page here.', 'wp-maintenance'); ?></h3></div> |
  | 52 |  | <h3><?php \_e('Click "Reset" and "Save" to retrieve the default style sheet.', 'wp-maintenance'); ?></h3> |
  |  | 51 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Edit the CSS sheet of your maintenance page here.', 'wp-maintenance'); ?></h3></div> |
  |  | 52 | <h3><?php esc\_html\_e('Click "Reset" and "Save" to retrieve the default style sheet.', 'wp-maintenance'); ?></h3> |
  | 53 | 53 | <TEXTAREA NAME="wp\_maintenance\_settings\_css" id="wpmaintenancestyle" COLS=70 ROWS=24 style="height:350px;"><?php echo esc\_textarea(stripslashes(trim(get\_option('wp\_maintenance\_settings\_css')))); ?></TEXTAREA> |
  | 54 | 54 | <p> |
  | 55 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, reset style sheet', 'wp-maintenance'); ?></span> |
  |  | 55 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, reset style sheet', 'wp-maintenance'); ?></span> |
  | 56 | 56 | <input type="checkbox" name="wpm\_initcss" value="1"> |
  | 57 | 57 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L59) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L59) |  |
  | 59 | 59 | </p> |
  | 60 | 60 |  |
  | 61 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 61 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 62 | 62 | </div> |
  | 63 | 63 |  |
  | 64 | 64 | <div class="wp-maintenance-module-options-block"> |
  | 65 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Markers for colors', 'wp-maintenance'); ?></h3></div> |
  |  | 65 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Markers for colors', 'wp-maintenance'); ?></h3></div> |
  | 66 | 66 | <div class="wp-maintenance-setting-row"> |
  | 67 |  | <label class="wp-maintenance-setting-row-title">#\_COLORTXT</label> <?php \_e('Use this code for text color', 'wp-maintenance'); ?> |
  | 68 |  | <label class="wp-maintenance-setting-row-title">#\_COLORBG</label> <?php \_e('Use this code for background text color', 'wp-maintenance'); ?> |
  | 69 |  | <label class="wp-maintenance-setting-row-title">#\_COLORCPTBG</label> <?php \_e('Use this code for background color countdown', 'wp-maintenance'); ?> |
  | 70 |  | <label class="wp-maintenance-setting-row-title">#\_DATESIZE</label> <?php \_e('Use this code for size countdown', 'wp-maintenance'); ?> |
  | 71 |  | <label class="wp-maintenance-setting-row-title">#\_COLORCPT</label> <?php \_e('Use this code for countdown color', 'wp-maintenance'); ?> |
  | 72 |  | <label class="wp-maintenance-setting-row-title">#\_COLOR\_TXT\_BT</label> <?php \_e('Use this code for bottom text color', 'wp-maintenance'); ?> |
  |  | 67 | <label class="wp-maintenance-setting-row-title">#\_COLORTXT</label> <?php esc\_html\_e('Use this code for text color', 'wp-maintenance'); ?> |
  |  | 68 | <label class="wp-maintenance-setting-row-title">#\_COLORBG</label> <?php esc\_html\_e('Use this code for background text color', 'wp-maintenance'); ?> |
  |  | 69 | <label class="wp-maintenance-setting-row-title">#\_COLORCPTBG</label> <?php esc\_html\_e('Use this code for background color countdown', 'wp-maintenance'); ?> |
  |  | 70 | <label class="wp-maintenance-setting-row-title">#\_DATESIZE</label> <?php esc\_html\_e('Use this code for size countdown', 'wp-maintenance'); ?> |
  |  | 71 | <label class="wp-maintenance-setting-row-title">#\_COLORCPT</label> <?php esc\_html\_e('Use this code for countdown color', 'wp-maintenance'); ?> |
  |  | 72 | <label class="wp-maintenance-setting-row-title">#\_COLOR\_TXT\_BT</label> <?php esc\_html\_e('Use this code for bottom text color', 'wp-maintenance'); ?> |
  | 73 | 73 | </div> |
  | 74 | 74 |  |
  | 75 | 75 | <br /> |
  | 76 |  | <a href="" onclick="AfficherCacher('divcss'); return false" ><?php \_e('Need CSS code for MailPoet plugin?', 'wp-maintenance'); ?></a> |
  | 77 |  | <div id="divcss" style="display:none;"><i><?php \_e('Click for select all', 'wp-maintenance'); ?></i><br /> |
  |  | 76 | <a href="" onclick="AfficherCacher('divcss'); return false" ><?php esc\_html\_e('Need CSS code for MailPoet plugin?', 'wp-maintenance'); ?></a> |
  |  | 77 | <div id="divcss" style="display:none;"><i><?php esc\_html\_e('Click for select all', 'wp-maintenance'); ?></i><br /> |
  | 78 | 78 | <textarea id="css-mailpoet" onclick="select()" rows="15" cols="50%"> |
  | 79 | 79 | .abs-req { display: none; } |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L89) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L89) |  |
  | 89 | 89 | </div> |
  | 90 | 90 | <br /> |
  | 91 |  | <a href="" onclick="AfficherCacher('divcss2'); return false" ><?php \_e('Need CSS code for MailChimp plugin?', 'wp-maintenance'); ?></a> |
  | 92 |  | <div id="divcss2" style="display:none;"><i><?php \_e('Click for select all', 'wp-maintenance'); ?></i><br /> |
  |  | 91 | <a href="" onclick="AfficherCacher('divcss2'); return false" ><?php esc\_html\_e('Need CSS code for MailChimp plugin?', 'wp-maintenance'); ?></a> |
  |  | 92 | <div id="divcss2" style="display:none;"><i><?php esc\_html\_e('Click for select all', 'wp-maintenance'); ?></i><br /> |
  | 93 | 93 | <textarea id="css-mailchimp" onclick="select()" rows="15" cols="50%"> |
  | 94 | 94 | .mc4wp-form {  } /\* the form element \*/ |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=2783257#L128) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-css.php?rev=3078682#L128) |  |
  | 128 | 128 | </script> |
  | 129 | 129 |  |
  | 130 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 130 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 131 | 131 |  |
  | 132 | 132 | </div> |
* ## [wp-maintenance/trunk/views/wp-maintenance-dashboard.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?old=2736836&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-dashboard.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-dashboard.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L27 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L27 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 27 | 27 |  |
  | 28 | 28 | <!-- HEADER --> |
  | 29 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 29 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 30 | 30 | <?php if( isset($message) && $message == 1 ) { ?> |
  | 31 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 31 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 32 | 32 | <?php } ?> |
  | 33 | 33 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L35) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L35) |  |
  | 35 | 35 | <div class="wp-maintenance-wrapper"> |
  | 36 | 36 |  |
  | 37 |  | ~~<?php echo wpm\_get\_nav2(~~); ?> |
  |  | 37 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 38 | 38 |  |
  | 39 | 39 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L46) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L46) |  |
  | 46 | 46 | <div class="wp-maintenance-module-options-block"> |
  | 47 | 47 |  |
  | 48 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" ><?php \_e('Activate maintenance mode', 'wp-maintenance'); ?></h3></div> |
  |  | 48 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" ><?php esc\_html\_e('Activate maintenance mode', 'wp-maintenance'); ?></h3></div> |
  | 49 | 49 |  |
  | 50 | 50 | <p> |
  | 51 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable maintenance mode', 'wp-maintenance'); ?></span> |
  |  | 51 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable maintenance mode', 'wp-maintenance'); ?></span> |
  | 52 | 52 | <input type="checkbox" name="wp\_maintenance\_active" value="1" <?php if( isset($statusActive) && $statusActive==1) { echo ' checked'; } ?>> |
  | 53 | 53 | <span class="wp-maintenance-checkmark"></span> |
  | 54 | 54 | </label> |
  | 55 | 55 | </p> |
  | 56 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 56 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 57 | 57 |  |
  | 58 | 58 | </div> |
  | 59 | 59 | <!-- TITRE ET TEXTE  --> |
  | 60 | 60 | <div class="wp-maintenance-module-options-block"> |
  | 61 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" ><?php \_e('Title and text', 'wp-maintenance'); ?></h3></div> |
  |  | 61 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" ><?php esc\_html\_e('Title and text', 'wp-maintenance'); ?></h3></div> |
  | 62 | 62 | <input type="text" size="80%" class="wp-maintenance-input" name="wpsettings[titre\_maintenance]" value="<?php if( isset($paramsSettings['titre\_maintenance']) && $paramsSettings['titre\_maintenance']!='' ) { echo esc\_html(stripslashes($paramsSettings['titre\_maintenance'])); } ?>" /><br /> |
  | 63 | 63 | <?php |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L79) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L79) |  |
  | 79 | 79 | ?> |
  | 80 | 80 | <?php wp\_editor( nl2br($textWpm), 'wpm-textmaintenance', $settingsTextmaintenance ); ?> |
  | 81 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 81 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 82 | 82 |  |
  | 83 | 83 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L85) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L85) |  |
  | 85 | 85 | <!-- Encart Newletter --> |
  | 86 | 86 | <div class="wp-maintenance-module-options-block"> |
  | 87 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title"><?php \_e('Activate newsletter block', 'wp-maintenance'); ?></h3></div> |
  |  | 87 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title"><?php esc\_html\_e('Activate newsletter block', 'wp-maintenance'); ?></h3></div> |
  | 88 | 88 | <p> |
  | 89 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable newsletter block', 'wp-maintenance'); ?></span> |
  |  | 89 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable newsletter block', 'wp-maintenance'); ?></span> |
  | 90 | 90 | <input type="checkbox" name="wpsettings[newletter]" value="1" <?php if( isset($paramsSettings['newletter']) && $paramsSettings['newletter']==1 ) { echo ' checked'; } ?>> |
  | 91 | 91 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L94) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L94) |  |
  | 94 | 94 |  |
  | 95 | 95 | <div class="wp-maintenance-setting-row"> |
  | 96 |  | <label for="wpsettings[title\_newletter]" class="wp-maintenance-setting-row-title"><?php \_e('Enter title for the newletter block', 'wp-maintenance'); ?></label> |
  |  | 96 | <label for="wpsettings[title\_newletter]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Enter title for the newletter block', 'wp-maintenance'); ?></label> |
  | 97 | 97 | <input type="text" name="wpsettings[title\_newletter]" class="wp-maintenance-input" size="60%" value="<?php if( isset($paramsSettings['title\_newletter']) && $paramsSettings['title\_newletter']!='' ) { echo esc\_html(stripslashes(trim($paramsSettings['title\_newletter']))); } ?>" /> |
  | 98 | 98 | </div> |
  | 99 | 99 |  |
  | 100 | 100 | <div class="wp-maintenance-setting-row"> |
  | 101 |  | <label for="wpsettings[type-newletter]" class="wp-maintenance-setting-row-title"><?php \_e('Type of the newletter block', 'wp-maintenance'); ?></label> |
  | 102 |  | <label class="wpm-container"><input type="radio" name="wpsettings[type\_newletter]" size="60%" value="shortcode" <?php if( isset($paramsSettings['type\_newletter']) && $paramsSettings['type\_newletter']=='shortcode' ) { echo 'checked'; } if( empty($paramsSettings['type\_newletter']) ) { echo 'checked'; } ?>  /><?php \_e('Enter your newletter shortcode here:', 'wp-maintenance'); ?><span class="wpm-checkmark"></span></label><br /><br /> |
  |  | 101 | <label for="wpsettings[type-newletter]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Type of the newletter block', 'wp-maintenance'); ?></label> |
  |  | 102 | <label class="wpm-container"><input type="radio" name="wpsettings[type\_newletter]" size="60%" value="shortcode" <?php if( isset($paramsSettings['type\_newletter']) && $paramsSettings['type\_newletter']=='shortcode' ) { echo 'checked'; } if( empty($paramsSettings['type\_newletter']) ) { echo 'checked'; } ?>  /><?php esc\_html\_e('Enter your newletter shortcode here:', 'wp-maintenance'); ?><span class="wpm-checkmark"></span></label><br /><br /> |
  | 103 | 103 | <input type="text" name="wpsettings[code\_newletter]" size="60%" class="wp-maintenance-input" value='<?php if( isset($paramsSettings['code\_newletter']) && $paramsSettings['code\_newletter']!='' ) { echo esc\_attr(stripslashes(trim($paramsSettings['code\_newletter']))); } ?>' onclick="select()" /><br /><br /> |
  | 104 |  | <label class="wpm-container"><input type="radio" name="wpsettings[type\_newletter]" value="iframe" <?php if( isset($paramsSettings['type\_newletter']) && $paramsSettings['type\_newletter']=='iframe' ) { echo 'checked'; } ?>/> <?php \_e('Or enter your newletter iframe code here:', 'wp-maintenance'); ?><span class="wpm-checkmark"></span></label><br /><br /> |
  |  | 104 | <label class="wpm-container"><input type="radio" name="wpsettings[type\_newletter]" value="iframe" <?php if( isset($paramsSettings['type\_newletter']) && $paramsSettings['type\_newletter']=='iframe' ) { echo 'checked'; } ?>/> <?php esc\_html\_e('Or enter your newletter iframe code here:', 'wp-maintenance'); ?><span class="wpm-checkmark"></span></label><br /><br /> |
  | 105 | 105 | <textarea id="iframe\_newletter" cols="60" rows="10" class="wp-maintenance-input" name="wpsettings[iframe\_newletter]"><?php if( isset($paramsSettings['iframe\_newletter']) && $paramsSettings['iframe\_newletter']!='' ) { echo esc\_attr(stripslashes(trim($paramsSettings['iframe\_newletter']))); } ?></textarea> |
  | 106 | 106 | </div> |
  | 107 | 107 |  |
  | 108 | 108 |  |
  | 109 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 109 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 110 | 110 |  |
  | 111 | 111 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=2736836#L115) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-dashboard.php?rev=3078682#L115) |  |
  | 115 | 115 | </div> |
  | 116 | 116 |  |
  | 117 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 117 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 118 | 118 |  |
  | 119 | 119 | </div> |
* ## [wp-maintenance/trunk/views/wp-maintenance-footer.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-footer.php?old=2736836&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-footer.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-footer.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L23 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L23 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 23 | 23 |  |
  | 24 | 24 | <!-- HEADER --> |
  | 25 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 25 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 26 | 26 | <?php if( isset($messageUpdate) && $messageUpdate == 1 ) { ?> |
  | 27 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 27 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 28 | 28 | <?php } ?> |
  | 29 | 29 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L31) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L31) |  |
  | 31 | 31 | <div class="wp-maintenance-wrapper"> |
  | 32 | 32 |  |
  | 33 |  | <?php echo wp~~m\_get\_nav2(~~); ?> |
  |  | 33 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 34 | 34 |  |
  | 35 | 35 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L43) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L43) |  |
  | 43 | 43 |  |
  | 44 | 44 | <div class="wp-maintenance-settings-section-header"> |
  | 45 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Enable Footer?', 'wp-maintenance'); ?></h3> |
  |  | 45 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Enable Footer?', 'wp-maintenance'); ?></h3> |
  | 46 | 46 | </div> |
  | 47 | 47 |  |
  | 48 | 48 | <p> |
  | 49 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable footer', 'wp-maintenance'); ?></span> |
  |  | 49 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable footer', 'wp-maintenance'); ?></span> |
  | 50 | 50 | <input type="checkbox" name="wpfooter[enable\_footer]" value="1" <?php if( isset($paramsFooter['enable\_footer']) && $paramsFooter['enable\_footer']==1) { echo ' checked'; } ?>> |
  | 51 | 51 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L54) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L54) |  |
  | 54 | 54 |  |
  | 55 | 55 | <!-- PIED DE PAGE  --> |
  | 56 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Text in the footer', 'wp-maintenance'); ?></h3></div> |
  |  | 56 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Text in the footer', 'wp-maintenance'); ?></h3></div> |
  | 57 | 57 | <?php |
  | 58 | 58 | $settingsTextmaintenance =   array( |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L73) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L73) |  |
  | 73 | 73 | ?> |
  | 74 | 74 | <?php wp\_editor( nl2br($textBt), 'wpm-textbtmaintenance', $settingsTextmaintenance ); ?> |
  | 75 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 75 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 76 | 76 | </div> |
  | 77 | 77 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L80) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L80) |  |
  | 80 | 80 |  |
  | 81 | 81 | <div class="wp-maintenance-settings-section-header"> |
  | 82 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Add a link to dashboard in the footer?', 'wp-maintenance'); ?></h3> |
  |  | 82 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Add a link to dashboard in the footer?', 'wp-maintenance'); ?></h3> |
  | 83 | 83 | </div> |
  | 84 | 84 |  |
  | 85 | 85 | <p> |
  | 86 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, show text and link to go to the dashboard', 'wp-maintenance'); ?></span> |
  |  | 86 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, show text and link to go to the dashboard', 'wp-maintenance'); ?></span> |
  | 87 | 87 | <input type="checkbox" name="wpfooter[add\_wplogin]" value="1" <?php if( isset($paramsFooter['add\_wplogin']) && $paramsFooter['add\_wplogin'] == 1 ) { echo ' checked'; }?>> |
  | 88 | 88 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L91) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L91) |  |
  | 91 | 91 |  |
  | 92 | 92 | <div class="wp-maintenance-setting-row"> |
  | 93 |  | <label for="wpfooter[add\_wplogin\_title]" class="wp-maintenance-setting-row-title"><?php \_e('Enter your text and #DASHBOARD shortcode', 'wp-maintenance'); ?></label> |
  |  | 93 | <label for="wpfooter[add\_wplogin\_title]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Enter your text and #DASHBOARD shortcode', 'wp-maintenance'); ?></label> |
  | 94 | 94 | <input type="text" name="wpfooter[add\_wplogin\_title]" class="wp-maintenance-input" size="60%" value="<?php if( isset($paramsFooter['add\_wplogin\_title']) && $paramsFooter['add\_wplogin\_title']!='' ) { echo esc\_html(stripslashes(trim($paramsFooter['add\_wplogin\_title']))); } ?>" /><br /> |
  | 95 |  | <small><?php ~~\_e('Eg: connect to #DASHBOARD here!', 'wp-maintenance'); ?> <?php~~ \_e('(#DASHBOARD will be replaced with the link to the dashboard and the word "Dashboard")', 'wp-maintenance'); ?></small> |
  |  | 95 | <small><?php esc\_html\_e('Eg: connect to #DASHBOARD here!', 'wp-maintenance'); ?> <?php esc\_html\_e('(#DASHBOARD will be replaced with the link to the dashboard and the word "Dashboard")', 'wp-maintenance'); ?></small> |
  | 96 | 96 | </div> |
  | 97 | 97 |  |
  | 98 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 98 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 99 | 99 |  |
  | 100 | 100 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=2736836#L103) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-footer.php?rev=3078682#L103) |  |
  | 103 | 103 |  |
  | 104 | 104 | </div> |
  |  | 105 |  |
  |  | 106 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 105 | 107 |  |
  | 106 | 108 | </div> |
* ## [wp-maintenance/trunk/views/wp-maintenance-picture.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-picture.php?old=2739800&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-picture.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-picture.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L62 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L62 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 62 | 62 |  |
  | 63 | 63 | <!-- HEADER --> |
  | 64 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 64 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 65 | 65 | <?php if( isset($message) && $message == 1 ) { ?> |
  | 66 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 66 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 67 | 67 | <?php } ?> |
  | 68 | 68 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L70) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L70) |  |
  | 70 | 70 | <div class="wp-maintenance-wrapper"> |
  | 71 | 71 |  |
  | 72 |  | ~~<?php echo wpm\_get\_nav2(~~); ?> |
  |  | 72 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 73 | 73 |  |
  | 74 | 74 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L82) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L82) |  |
  | 82 | 82 |  |
  | 83 | 83 | <div class="wp-maintenance-settings-section-header"> |
  | 84 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Header picture', 'wp-maintenance'); ?></h3> |
  | 85 |  | </div> |
  | 86 |  |  |
  | 87 |  | <h3><?php \_e('Choice you picture for header page', 'wp-maintenance'); ?></h3> |
  | 88 |  | <div class="wp-maintenance-setting-row"> |
  | 89 |  | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php \_e('Enter a URL or upload an image', 'wp-maintenance'); ?></label> |
  |  | 84 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Header picture', 'wp-maintenance'); ?></h3> |
  |  | 85 | </div> |
  |  | 86 |  |
  |  | 87 | <h3><?php esc\_html\_e('Choice you picture for header page', 'wp-maintenance'); ?></h3> |
  |  | 88 | <div class="wp-maintenance-setting-row"> |
  |  | 89 | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Enter a URL or upload an image', 'wp-maintenance'); ?></label> |
  | 90 | 90 | <input id="settings\_image"name="wpmpicture[image]" value="<?php if( isset($paramsPicture['image']) && $paramsPicture['image']!='' ) { echo esc\_url($paramsPicture['image']); } ?>" type="hidden" /> |
  | 91 |  | <input id="upload\_image" size="65%" name="upload\_picture" value="" type="text" /> <a href="#" id="upload\_image\_button" class="wp-maintenance-button-primary" OnClick="this.blur();"><?php \_e('Media Image Library', 'wp-maintenance'); ?></a><br /> |
  | 92 |  | <span class="description"><?php \_e( 'URL path to image to replace default picture. (You can upload your image with the WordPress media uploader)', 'wp-maintenance' ); ?></span><br /> |
  | 93 |  | <label for="wpmpicture[image\_width]" class="wp-maintenance-setting-row-title"><?php \_e( 'Width:', 'wp-maintenance' ); ?></label> <input type="text" value="<?php if( isset($paramsPicture['image\_width']) && $paramsPicture['image\_width']!='' ) { echo esc\_html($paramsPicture['image\_width']); } ?>" size="4"   name="wpmpicture[image\_width]" />px <br /> |
  | 94 |  | <label for="wpmpicture[image\_height]" class="wp-maintenance-setting-row-title"><?php \_e( 'Height:', 'wp-maintenance' ); ?></label> <input type="text" size="4" value="<?php if( isset($paramsPicture['image\_height']) && $paramsPicture['image\_height']!='' ) { echo esc\_html($paramsPicture['image\_height']); } ?>" name="wpmpicture[image\_height]" />px<br /> |
  |  | 91 | <input id="upload\_image" size="65%" name="upload\_picture" value="" type="text" /> <a href="#" id="upload\_image\_button" class="wp-maintenance-button-primary" OnClick="this.blur();"><?php esc\_html\_e('Media Image Library', 'wp-maintenance'); ?></a><br /> |
  |  | 92 | <span class="description"><?php esc\_html\_e( 'URL path to image to replace default picture. (You can upload your image with the WordPress media uploader)', 'wp-maintenance' ); ?></span><br /> |
  |  | 93 | <label for="wpmpicture[image\_width]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e( 'Width:', 'wp-maintenance' ); ?></label> <input type="text" value="<?php if( isset($paramsPicture['image\_width']) && $paramsPicture['image\_width']!='' ) { echo esc\_html($paramsPicture['image\_width']); } ?>" size="4"   name="wpmpicture[image\_width]" />px <br /> |
  |  | 94 | <label for="wpmpicture[image\_height]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e( 'Height:', 'wp-maintenance' ); ?></label> <input type="text" size="4" value="<?php if( isset($paramsPicture['image\_height']) && $paramsPicture['image\_height']!='' ) { echo esc\_html($paramsPicture['image\_height']); } ?>" name="wpmpicture[image\_height]" />px<br /> |
  | 95 | 95 | <div class="wp-maintenance-encadre"> |
  | 96 | 96 | <?php if( isset($paramsPicture['image']) && $paramsPicture['image']!='' ) { ?> |
  | 97 |  | <?php ~~\_e('You use this picture:', 'wp-maintenance'); ?><br /> <img src="<?php echo esc\_url($paramsPicture['image']); ?>" width="250" id="image\_visuel" style="padding:3px;" /><br /><input type="checkbox" name="remove\_image" value="1" /> <?php~~ \_e('Remove', 'wp-maintenance'); ?> |
  |  | 97 | <?php esc\_html\_e('You use this picture:', 'wp-maintenance'); ?><br /> <img src="<?php echo esc\_url($paramsPicture['image']); ?>" width="250" id="image\_visuel" style="padding:3px;" /><br /><input type="checkbox" name="remove\_image" value="1" /> <?php esc\_html\_e('Remove', 'wp-maintenance'); ?> |
  | 98 | 98 | <?php } ?> |
  | 99 | 99 | </div> |
  | 100 | 100 | </div> |
  | 101 | 101 |  |
  | 102 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 102 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 103 | 103 | </div> |
  | 104 | 104 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L106) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L106) |  |
  | 106 | 106 | <div class="wp-maintenance-module-options-block"> |
  | 107 | 107 | <div class="wp-maintenance-settings-section-header"> |
  | 108 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Background picture', 'wp-maintenance'); ?></h3> |
  | 109 |  | </div> |
  | 110 |  | <p> |
  | 111 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e("Disable background or pattern picture", 'wp-maintenance'); ?></span> |
  |  | 108 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Background picture', 'wp-maintenance'); ?></h3> |
  |  | 109 | </div> |
  |  | 110 | <p> |
  |  | 111 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e("Disable background or pattern picture", 'wp-maintenance'); ?></span> |
  | 112 | 112 | <input type="radio" name="wpmpicture[b\_enable\_image]" value="0" <?php if( isset($paramsPicture['b\_enable\_image']) && $paramsPicture['b\_enable\_image']==0) { echo ' checked'; } ?>> |
  | 113 | 113 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L116) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L116) |  |
  | 116 | 116 |  |
  | 117 | 117 | <p> |
  | 118 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, activate picture background', 'wp-maintenance'); ?></span> |
  |  | 118 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, activate picture background', 'wp-maintenance'); ?></span> |
  | 119 | 119 | <input type="radio" name="wpmpicture[b\_enable\_image]" value="1" <?php if( isset($paramsPicture['b\_enable\_image']) && $paramsPicture['b\_enable\_image']==1) { echo ' checked'; } ?>> |
  | 120 | 120 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L123) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L123) |  |
  | 123 | 123 | <div class="wp-maintenance-setting-row"> |
  | 124 | 124 | <input id="settings\_image"name="wpmpicture[b\_image]" value="<?php if( isset($paramsPicture['b\_image']) && $paramsPicture['b\_image']!='' ) { echo esc\_url($paramsPicture['b\_image']); } ?>" type="hidden" /> |
  | 125 |  | <label class="wp-maintenance-setting-row-title"><?php \_e('Enter a URL or upload an image', 'wp-maintenance'); ?></label> |
  | 126 |  | <input id="upload\_b\_image" size="65%" name="upload\_b\_image" value="" type="text" /> <a href="#" id="upload\_b\_image\_button" class="wp-maintenance-button-primary" OnClick="this.blur();"><span> <?php \_e('Media Image Library', 'wp-maintenance'); ?> </span></a> |
  |  | 125 | <label class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Enter a URL or upload an image', 'wp-maintenance'); ?></label> |
  |  | 126 | <input id="upload\_b\_image" size="65%" name="upload\_b\_image" value="" type="text" /> <a href="#" id="upload\_b\_image\_button" class="wp-maintenance-button-primary" OnClick="this.blur();"><span> <?php esc\_html\_e('Media Image Library', 'wp-maintenance'); ?> </span></a> |
  | 127 | 127 |  |
  | 128 | 128 | <?php if( isset($paramsPicture['b\_image']) && $paramsPicture['b\_image']!='' ) { ?> |
  | 129 |  | <div style="padding-top:1em;text-align:center;"><?php \_e('You use this background picture:', 'wp-maintenance'); ?></div> |
  |  | 129 | <div style="padding-top:1em;text-align:center;"><?php esc\_html\_e('You use this background picture:', 'wp-maintenance'); ?></div> |
  | 130 | 130 | <div class="wp-maintenance-encadre" style="height:200px;margin-top: 0em;background:url('<?php echo esc\_url($paramsPicture['b\_image']) ?>');top center;background-size: cover;-webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-position: center;background-color: rgba(0,0,0,<?php echo esc\_html($paramsPicture['b\_opacity\_image']); ?>);"> |
  | 131 | 131 |  |
  | 132 | 132 |  |
  | 133 |  | </div><div style="text-align:center;"><label class="wpm-container"><input type="checkbox" name="remove\_b\_image" value="1" /> <?php \_e('Remove', 'wp-maintenance'); ?><span class="wpm-checkmark"></span></label></div> |
  |  | 133 | </div><div style="text-align:center;"><label class="wpm-container"><input type="checkbox" name="remove\_b\_image" value="1" /> <?php esc\_html\_e('Remove', 'wp-maintenance'); ?><span class="wpm-checkmark"></span></label></div> |
  | 134 | 134 | <?php } ?> |
  | 135 | 135 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L137) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L137) |  |
  | 137 | 137 |  |
  | 138 | 138 | <div class="wp-maintenance-setting-row"> |
  | 139 |  | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php \_e('Background picture options', 'wp-maintenance'); ?></label> |
  |  | 139 | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Background picture options', 'wp-maintenance'); ?></label> |
  | 140 | 140 | <select name="wpmpicture[b\_repeat\_image]" style="border: 2px solid #ECF0F1;font-size: 13px;padding: 7px 25px 7px 10px;height: auto;"> |
  | 141 | 141 | <option value="repeat"<?php if( (isset($paramsPicture['b\_repeat\_image']) && $paramsPicture['b\_repeat\_image']=='repeat') or empty($paramsPicture['b\_repeat\_image']) ) { echo ' selected'; } ?>>repeat</option> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L145) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L145) |  |
  | 145 | 145 | </select> |
  | 146 | 146 |  |
  | 147 |  | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php \_e('Background Opacity', 'wp-maintenance'); ?></label> |
  |  | 147 | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Background Opacity', 'wp-maintenance'); ?></label> |
  | 148 | 148 | <input id="fontSize" name="wpmpicture[b\_opacity\_image]" value="<?php if( isset($paramsPicture['b\_opacity\_image']) ) { echo esc\_html($paramsPicture['b\_opacity\_image']); } else { echo '0.2'; } ?>" size="4" readonly="readonly" style="border: 2px solid #ECF0F1;font-size: 13px;padding: 7px 10px;height: auto;"><br /><br /><div id="opacity\_slider" style="border: 2px solid #ECF0F1;font-size: 13px;padding: 7px 10px;height: auto;"></div> |
  | 149 | 149 | </div> |
  | 150 | 150 |  |
  | 151 | 151 | <p> |
  | 152 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Fix the background picture', 'wp-maintenance'); ?></span> |
  |  | 152 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Fix the background picture', 'wp-maintenance'); ?></span> |
  | 153 | 153 | <input type="checkbox" name="wpmpicture[b\_fixed\_image]" value="1" <?php if( isset($paramsPicture['b\_fixed\_image']) && $paramsPicture['b\_fixed\_image']==1) { echo ' checked'; } ?>> |
  | 154 | 154 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L156) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L156) |  |
  | 156 | 156 | </p> |
  | 157 | 157 |  |
  | 158 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 158 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 159 | 159 | </div> |
  | 160 | 160 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L162) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L162) |  |
  | 162 | 162 | <div class="wp-maintenance-module-options-block"> |
  | 163 | 163 | <div class="wp-maintenance-settings-section-header"> |
  | 164 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Pattern picture', 'wp-maintenance'); ?></h3> |
  | 165 |  | </div> |
  | 166 |  |  |
  | 167 |  | <p> |
  | 168 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, activate pattern background', 'wp-maintenance'); ?></span> |
  |  | 164 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Pattern picture', 'wp-maintenance'); ?></h3> |
  |  | 165 | </div> |
  |  | 166 |  |
  |  | 167 | <p> |
  |  | 168 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, activate pattern background', 'wp-maintenance'); ?></span> |
  | 169 | 169 | <input type="radio" name="wpmpicture[b\_enable\_image]" value="2" <?php if( isset($paramsPicture['b\_enable\_image']) && $paramsPicture['b\_enable\_image']==2) { echo ' checked'; } ?>> |
  | 170 | 170 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L174) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L174) |  |
  | 174 | 174 | <!-- CHOIX PATTERN --> |
  | 175 | 175 | <div class="wp-maintenance-setting-row"> |
  | 176 |  | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php \_e('Choose a pattern', 'wp-maintenance'); ?></label> |
  |  | 176 | <label for="wpmpicture[image]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose a pattern', 'wp-maintenance'); ?></label> |
  | 177 | 177 | <ul id="pattern"> |
  | 178 | 178 | <li> |
  | 179 |  | <div style="width:50px;height:50px;border:1px solid #333;background-color:#ffffff;font-size:0.8em;margin-bottom:5px;"><?php \_e('NO PATTERN', 'wp-maintenance'); ?></div> |
  |  | 179 | <div style="width:50px;height:50px;border:1px solid #333;background-color:#ffffff;font-size:0.8em;margin-bottom:5px;"><?php esc\_html\_e('NO PATTERN', 'wp-maintenance'); ?></div> |
  | 180 | 180 | <label class="wpm-container"><input type="radio" value="0" <?php if( empty($paramsPicture['b\_pattern']) or $paramsPicture['b\_pattern']==0) { echo 'checked'; } ?> name="wpmpicture[b\_pattern]" /><span class="wpm-checkmark"></span></label> |
  | 181 | 181 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L184) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L184) |  |
  | 184 | 184 | <li> |
  | 185 | 185 | <div style="width:50px;height:50px;border:2px solid #ECF0F1;background:url('<?php echo esc\_url(plugins\_url( '../images/pattern'.$p.'.png', \_\_FILE\_\_ )); ?>');margin-bottom:5px;"></div> |
  | 186 |  | <label for="b\_pattern\_<?php echo ~~$p~~; ?>" class="wpm-container"><input type="radio" value="<?php echo esc\_html($p); ?>" <?php if( isset($paramsPicture['b\_pattern']) && $paramsPicture['b\_pattern']==$p) { echo 'checked'; } ?> id="b\_pattern\_<?php echo esc\_html($p); ?>" name="wpmpicture[b\_pattern]" /><span class="wpm-checkmark"></span></label> |
  |  | 186 | <label for="b\_pattern\_<?php echo esc\_html($p); ?>" class="wpm-container"><input type="radio" value="<?php echo esc\_html($p); ?>" <?php if( isset($paramsPicture['b\_pattern']) && $paramsPicture['b\_pattern']==$p) { echo 'checked'; } ?> id="b\_pattern\_<?php echo esc\_html($p); ?>" name="wpmpicture[b\_pattern]" /><span class="wpm-checkmark"></span></label> |
  | 187 | 187 | </li> |
  | 188 | 188 | <?php } ?> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L190) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L190) |  |
  | 190 | 190 | <?php if( isset($paramsPicture['b\_pattern']) && $paramsPicture['b\_pattern']>0) { ?> |
  | 191 | 191 | <div class="wp-maintenance-encadre" style="background: url('<?php echo esc\_url(plugins\_url( '../images/pattern'.$paramsPicture['b\_pattern'].'.png', \_\_FILE\_\_ )); ?>');<?php if( isset($paramsColors['color\_bg']) && $paramsColors['color\_bg']!='' ) { echo 'background-color:'.esc\_html($paramsColors['color\_bg']).';'; } ?>height:160px;"> |
  | 192 |  | &nbsp;<?php \_e('You use this pattern', 'wp-maintenance'); ?>&nbsp; |
  |  | 192 | &nbsp;<?php esc\_html\_e('You use this pattern', 'wp-maintenance'); ?>&nbsp; |
  | 193 | 193 | </div> |
  | 194 | 194 | <?php } ?> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L196) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L196) |  |
  | 196 | 196 | </div> |
  | 197 | 197 |  |
  | 198 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 198 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 199 | 199 | </div> |
  | 200 | 200 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=2739800#L204) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-picture.php?rev=3078682#L204) |  |
  | 204 | 204 | </div> |
  | 205 | 205 |  |
  | 206 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 206 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 207 | 207 |  |
  | 208 | 208 | </div><!-- END WRAP --> |
* ## [wp-maintenance/trunk/views/wp-maintenance-seo.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-seo.php?old=2736836&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-seo.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-seo.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=2736836#L22 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682#L22 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 |  |
  | 23 | 23 | <!-- HEADER --> |
  | 24 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 24 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 25 | 25 | <?php if( isset($messageUpdate) && $messageUpdate == 1 ) { ?> |
  | 26 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 26 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 27 | 27 | <?php } ?> |
  | 28 | 28 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=2736836#L30) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682#L30) |  |
  | 30 | 30 | <div class="wp-maintenance-wrapper"> |
  | 31 | 31 |  |
  | 32 |  | <?php echo wp~~m\_get\_nav2(~~); ?> |
  |  | 32 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 33 | 33 |  |
  | 34 | 34 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=2736836#L42) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682#L42) |  |
  | 42 | 42 |  |
  | 43 | 43 | <div class="wp-maintenance-settings-section-header"> |
  | 44 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Active SEO settings?', 'wp-maintenance'); ?></h3> |
  |  | 44 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Active SEO settings?', 'wp-maintenance'); ?></h3> |
  | 45 | 45 | </div> |
  | 46 | 46 |  |
  | 47 | 47 | <p> |
  | 48 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, active SEO', 'wp-maintenance'); ?></span> |
  |  | 48 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, active SEO', 'wp-maintenance'); ?></span> |
  | 49 | 49 | <input type="checkbox" name="wpmseo[enable\_seo]" value="1" <?php if( isset($paramSeo['enable\_seo']) && $paramSeo['enable\_seo']==1) { echo ' checked'; } ?>> |
  | 50 | 50 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=2736836#L53) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682#L53) |  |
  | 53 | 53 |  |
  | 54 | 54 |  |
  | 55 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 55 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 56 | 56 |  |
  | 57 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('SEO Title & Description', 'wp-maintenance'); ?></h3></div> |
  |  | 57 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('SEO Title & Description', 'wp-maintenance'); ?></h3></div> |
  | 58 | 58 |  |
  | 59 | 59 | <div class="wp-maintenance-setting-row"> |
  | 60 |  | <label for="wpmseo[seo\_title]" class="wp-maintenance-setting-row-title"><?php \_e('SEO Meta Title', 'wp-maintenance'); ?></label> |
  |  | 60 | <label for="wpmseo[seo\_title]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('SEO Meta Title', 'wp-maintenance'); ?></label> |
  | 61 | 61 | <input type="text" name="wpmseo[seo\_title]" size="80%" value="<?php if( isset($paramSeo['seo\_title']) && $paramSeo['seo\_title']!='' ) { echo esc\_html(stripslashes(trim($paramSeo['seo\_title']))); } ?>"> |
  | 62 | 62 | </div> |
  | 63 | 63 |  |
  | 64 | 64 | <div class="wp-maintenance-setting-row"> |
  | 65 |  | <label for="wpmseo[seo\_description]" class="wp-maintenance-setting-row-title"><?php \_e('SEO Meta Description', 'wp-maintenance'); ?></label> |
  |  | 65 | <label for="wpmseo[seo\_description]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('SEO Meta Description', 'wp-maintenance'); ?></label> |
  | 66 | 66 | <input type="text" size="80%" name="wpmseo[seo\_description]" value="<?php if( isset($paramSeo['seo\_description']) && $paramSeo['seo\_description']!='' ) { echo esc\_html(stripslashes(trim($paramSeo['seo\_description']))); } ?>"> |
  | 67 | 67 | </div> |
  | 68 | 68 |  |
  | 69 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 69 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 70 | 70 |  |
  | 71 | 71 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=2736836#L73) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682#L73) |  |
  | 73 | 73 | <!-- UPLOADER UN FAVICON --> |
  | 74 | 74 | <div class="wp-maintenance-module-options-block"> |
  | 75 |  | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Add a favicon', 'wp-maintenance'); ?></h3></div> |
  |  | 75 | <div class="wp-maintenance-settings-section-header"><h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Add a favicon', 'wp-maintenance'); ?></h3></div> |
  | 76 | 76 |  |
  | 77 | 77 | <div class="wp-maintenance-setting-row"> |
  | 78 |  | <label for="wpmseo[seo\_description]" class="wp-maintenance-setting-row-title"><?php \_e('Enter a URL or upload an image', 'wp-maintenance'); ?></label> |
  | 79 |  | <input id="upload\_favicon" size="65%" name="wpmseo[favicon]" value="<?php if( isset($paramSeo['favicon']) && $paramSeo['favicon']!='' ) { echo esc\_url($paramSeo['favicon']); } ?>" type="text" /> <a href="#" id="upload\_favicon\_button" class="button button-primary" style="padding-top: 0.1em;padding-bottom: 0.1em;margin-top: 1px;" OnClick="this.blur();"><span> <?php \_e('Media Image Library', 'wp-maintenance'); ?> </span></a><br /> |
  | 80 |  | <small><?php \_e('Favicons are displayed in a browser tab. Need Help <a href="https://realfavicongenerator.net/" target="\_blank">creating a favicon</a>?', 'wp-maintenance'); ?></small> |
  |  | 78 | <label for="wpmseo[seo\_description]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Enter a URL or upload an image', 'wp-maintenance'); ?></label> |
  |  | 79 | <input id="upload\_favicon" size="65%" name="wpmseo[favicon]" value="<?php if( isset($paramSeo['favicon']) && $paramSeo['favicon']!='' ) { echo esc\_url($paramSeo['favicon']); } ?>" type="text" /> <a href="#" id="upload\_favicon\_button" class="button button-primary" style="padding-top: 0.1em;padding-bottom: 0.1em;margin-top: 1px;" OnClick="this.blur();"><span> <?php esc\_html\_e('Media Image Library', 'wp-maintenance'); ?> </span></a><br /> |
  |  | 80 | <small><?php esc\_html\_e('Favicons are displayed in a browser tab. Need Help <a href="https://realfavicongenerator.net/" target="\_blank">creating a favicon</a>?', 'wp-maintenance'); ?></small> |
  | 81 | 81 | <?php if( isset($paramSeo['favicon']) && $paramSeo['favicon']!='' ) { ?> |
  | 82 | 82 | <div class="wp-maintenance-encadre"> |
  | 83 |  | <?php \_e('You use this favicon:', 'wp-maintenance'); ?><br /> |
  |  | 83 | <?php esc\_html\_e('You use this favicon:', 'wp-maintenance'); ?><br /> |
  | 84 | 84 | <img src="<?php echo esc\_url($paramSeo['favicon']); ?>" width="100" /><br /> |
  | 85 | 85 | </div> |
  | 86 | 86 | <?php } ?> |
  | 87 | 87 | </div> |
  | 88 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 88 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 89 | 89 | </div> |
  | 90 | 90 | </form> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=2736836#L92) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-seo.php?rev=3078682#L92) |  |
  | 92 | 92 |  |
  | 93 | 93 | </div> |
  | 94 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 94 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 95 | 95 | </div> |
* ## [wp-maintenance/trunk/views/wp-maintenance-settings.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-settings.php?old=3035862&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-settings.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-settings.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L57 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L57 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 57 | 57 |  |
  | 58 | 58 | <!-- HEADER --> |
  | 59 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 59 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 60 | 60 | <?php if(isset($messageUpdate) && $messageUpdate == 1 ) { ?> |
  | 61 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 61 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 62 | 62 | <?php } ?> |
  | 63 | 63 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L65) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L65) |  |
  | 65 | 65 | <div class="wp-maintenance-wrapper"> |
  | 66 | 66 |  |
  | 67 |  | <?php echo wp~~m\_get\_nav2(~~); ?> |
  |  | 67 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 68 | 68 |  |
  | 69 | 69 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L75) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L75) |  |
  | 75 | 75 | <div class="wp-maintenance-module-options-block"> |
  | 76 | 76 |  |
  | 77 |  | <h3><?php \_e('Theme maintenance page', 'wp-maintenance'); ?></h3> |
  | 78 |  | <p> |
  | 79 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, I use a theme maintenance page', 'wp-maintenance'); ?></span> |
  |  | 77 | <h3><?php esc\_html\_e('Theme maintenance page', 'wp-maintenance'); ?></h3> |
  |  | 78 | <p> |
  |  | 79 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, I use a theme maintenance page', 'wp-maintenance'); ?></span> |
  | 80 | 80 | <input type="checkbox" name="wpoptions[pageperso]" value="1" <?php if(isset($wpoptions['pageperso']) && $wpoptions['pageperso']==1) { echo ' checked'; } ?>> |
  | 81 | 81 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L84) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L84) |  |
  | 84 | 84 | </p> |
  | 85 | 85 | <div class="wp-maintenance-setting-row"> |
  | 86 |  | <?php \_e('You can use this shortcode to include Social Networks icons:', 'wp-maintenance'); ?> <input type="text" value="do\_shortcode('[wpm\_social]');" onclick="select()" style="width:250px;" /> |
  |  | 86 | <?php esc\_html\_e('You can use this shortcode to include Social Networks icons:', 'wp-maintenance'); ?> <input type="text" value="do\_shortcode('[wpm\_social]');" onclick="select()" style="width:250px;" /> |
  | 87 | 87 | </div> |
  | 88 | 88 |  |
  | 89 | 89 | <!-- DELETE OPTION IF DEACTIVATED --> |
  | 90 |  | <h3><?php \_e('Delete custom settings upon plugin deactivation?', 'wp-maintenance'); ?></h3> |
  | 91 |  | <p> |
  | 92 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, all custom settings will be deleted from database upon plugin deactivation', 'wp-maintenance'); ?></span> |
  |  | 90 | <h3><?php esc\_html\_e('Delete custom settings upon plugin deactivation?', 'wp-maintenance'); ?></h3> |
  |  | 91 | <p> |
  |  | 92 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, all custom settings will be deleted from database upon plugin deactivation', 'wp-maintenance'); ?></span> |
  | 93 | 93 | <input type="checkbox" name="wpoptions[dashboard\_delete\_db]" value="1" <?php if(isset($wpoptions['dashboard\_delete\_db']) && $wpoptions['dashboard\_delete\_db']==1) { echo ' checked'; } ?>> |
  | 94 | 94 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L97) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L97) |  |
  | 97 | 97 |  |
  | 98 | 98 | <!-- DISPLAY 503 ERROR? --> |
  | 99 |  | <h3><?php \_e('Display code HTTP Error 503?', 'wp-maintenance'); ?></h3> |
  | 100 |  | <p> |
  | 101 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, inform visitors and search engines that my site is temporarily unavailable.', 'wp-maintenance'); ?></span> |
  |  | 99 | <h3><?php esc\_html\_e('Display code HTTP Error 503?', 'wp-maintenance'); ?></h3> |
  |  | 100 | <p> |
  |  | 101 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, inform visitors and search engines that my site is temporarily unavailable.', 'wp-maintenance'); ?></span> |
  | 102 | 102 | <input type="checkbox" name="wpoptions[error\_503]" value="1" <?php if(isset($wpoptions['error\_503']) && $wpoptions['error\_503']==1) { echo ' checked'; } ?>> |
  | 103 | 103 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L106) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L106) |  |
  | 106 | 106 |  |
  | 107 | 107 | <!-- Remove Google Font --> |
  | 108 |  | <h3><?php \_e('Remove Google Fonts', 'wp-maintenance'); ?></h3> |
  | 109 |  | <p> |
  | 110 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, remove Google Font option.', 'wp-maintenance'); ?></span> |
  |  | 108 | <h3><?php esc\_html\_e('Remove Google Fonts', 'wp-maintenance'); ?></h3> |
  |  | 109 | <p> |
  |  | 110 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, remove Google Font option.', 'wp-maintenance'); ?></span> |
  | 111 | 111 | <input type="checkbox" name="wpoptions[remove\_googlefonts]" value="1" <?php if(isset($wpoptions['remove\_googlefonts']) && $wpoptions['remove\_googlefonts']==1) { echo ' checked'; } ?>> |
  | 112 | 112 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L115) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L115) |  |
  | 115 | 115 |  |
  | 116 | 116 | <!-- Remove Admin BAR --> |
  | 117 |  | <h3><?php \_e('Display in Admin bar?', 'wp-maintenance'); ?></h3> |
  | 118 |  | <p> |
  | 119 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, remove display in admin bar.', 'wp-maintenance'); ?></span> |
  |  | 117 | <h3><?php esc\_html\_e('Display in Admin bar?', 'wp-maintenance'); ?></h3> |
  |  | 118 | <p> |
  |  | 119 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, remove display in admin bar.', 'wp-maintenance'); ?></span> |
  | 120 | 120 | <input type="checkbox" name="wpoptions[remove\_adminbar]" value="1" <?php if(isset($wpoptions['remove\_adminbar']) && $wpoptions['remove\_adminbar']==1) { echo ' checked'; } ?>> |
  | 121 | 121 | <span class="wp-maintenance-checkmark"></span> |
  | 122 | 122 | </label> |
  | 123 | 123 | </p> |
  | 124 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 124 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 125 | 125 |  |
  | 126 | 126 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L130) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L130) |  |
  | 130 | 130 |  |
  | 131 | 131 | <div class="wp-maintenance-settings-section-header"> |
  | 132 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Roles and Capabilities', 'wp-maintenance'); ?></h3> |
  | 133 |  | </div> |
  | 134 |  | <h3><?php \_e('Allow the site to display these roles', 'wp-maintenance'); ?></h3> |
  |  | 132 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Roles and Capabilities', 'wp-maintenance'); ?></h3> |
  |  | 133 | </div> |
  |  | 134 | <h3><?php esc\_html\_e('Allow the site to display these roles', 'wp-maintenance'); ?></h3> |
  | 135 | 135 | <p> |
  | 136 | 136 | <input type="hidden" name="wp\_maintenance\_limit[administrator]" value="administrator" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L150) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L150) |  |
  | 150 | 150 | <?php } }//end foreach ?> |
  | 151 | 151 | </p> |
  | 152 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 152 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 153 | 153 | </div> |
  | 154 | 154 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L157) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L157) |  |
  | 157 | 157 |  |
  | 158 | 158 | <div class="wp-maintenance-settings-section-header"> |
  | 159 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('IP autorized', 'wp-maintenance'); ?></h3> |
  | 160 |  | </div> |
  | 161 |  | <div class="wp-maintenance-setting-row"> |
  | 162 |  | <label for="wp\_maintenance\_ipaddresses" class="wp-maintenance-setting-row-title"><?php \_e('Allow the site to display these IP addresses. Please, enter one IP address by line', 'wp-maintenance'); ?></label> |
  |  | 159 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('IP autorized', 'wp-maintenance'); ?></h3> |
  |  | 160 | </div> |
  |  | 161 | <div class="wp-maintenance-setting-row"> |
  |  | 162 | <label for="wp\_maintenance\_ipaddresses" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Allow the site to display these IP addresses. Please, enter one IP address by line', 'wp-maintenance'); ?></label> |
  | 163 | 163 | <?php |
  | 164 | 164 | if(isset($paramIpAddress) && $paramIpAddress!='' ) { |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L166) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L166) |  |
  | 166 | 166 | foreach($paramIpAddress as $ipAutorized) { |
  | 167 | 167 | if($ipAutorized!='') { |
  | 168 |  | echo '<input type="text" name="wp\_maintenance\_ipaddresses[]" size="80%" placeholder="'.\_\_('Enter one IP addresses here', 'wp-maintenance').'" class="wp-maintenance-input" value="'.esc\_html($ipAutorized).'"><br />'; |
  |  | 168 | echo '<input type="text" name="wp\_maintenance\_ipaddresses[]" size="80%" placeholder="'.esc\_html\_\_('Enter one IP addresses here', 'wp-maintenance').'" class="wp-maintenance-input" value="'.esc\_html($ipAutorized).'"><br />'; |
  | 169 | 169 | } |
  | 170 | 170 | } |
  | 171 | 171 | } |
  | 172 | 172 | ?> |
  | 173 |  | <input type="text" name="wp\_maintenance\_ipaddresses[]" size="80%" placeholder='<?php \_e('Enter one IP addresses here', 'wp-maintenance'); ?>' class="wp-maintenance-input" value=""> |
  | 174 |  | </div> |
  | 175 |  |  |
  | 176 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 173 | <input type="text" name="wp\_maintenance\_ipaddresses[]" size="80%" placeholder='<?php esc\_html\_e('Enter one IP addresses here', 'wp-maintenance'); ?>' class="wp-maintenance-input" value=""> |
  |  | 174 | </div> |
  |  | 175 |  |
  |  | 176 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 177 | 177 | </div> |
  | 178 | 178 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L181) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L181) |  |
  | 181 | 181 |  |
  | 182 | 182 | <div class="wp-maintenance-settings-section-header"> |
  | 183 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('ID pages autorized', 'wp-maintenance'); ?></h3> |
  | 184 |  | </div> |
  | 185 |  | <div class="wp-maintenance-setting-row"> |
  | 186 |  | <label for="wpoptions[id\_pages]" class="wp-maintenance-setting-row-title"><?php \_e('Allow the site to display these ID pages. Please, enter the ID pages separate with comma', 'wp-maintenance'); ?></label> |
  |  | 183 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('ID pages autorized', 'wp-maintenance'); ?></h3> |
  |  | 184 | </div> |
  |  | 185 | <div class="wp-maintenance-setting-row"> |
  |  | 186 | <label for="wpoptions[id\_pages]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Allow the site to display these ID pages. Please, enter the ID pages separate with comma', 'wp-maintenance'); ?></label> |
  | 187 | 187 | <input name="wpoptions[id\_pages]" size="80%" class="wp-maintenance-input" value="<?php if(isset($wpoptions['id\_pages']) && $wpoptions['id\_pages']!='' ) { echo esc\_html($wpoptions['id\_pages']); } ?>" /> |
  | 188 | 188 | </div> |
  | 189 | 189 |  |
  | 190 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 190 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 191 | 191 | </div> |
  | 192 | 192 |  |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L195) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L195) |  |
  | 195 | 195 |  |
  | 196 | 196 | <div class="wp-maintenance-settings-section-header"> |
  | 197 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Header Code', 'wp-maintenance'); ?></h3> |
  | 198 |  | </div> |
  | 199 |  | <div class="wp-maintenance-setting-row"> |
  | 200 |  | <label for="wpoptions[headercode]" class="wp-maintenance-setting-row-title"><?php \_e('The following code will add to the <head> tag. Useful if you need to add additional scripts such as CSS or JS', 'wp-maintenance'); ?></label> |
  |  | 197 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Header Code', 'wp-maintenance'); ?></h3> |
  |  | 198 | </div> |
  |  | 199 | <div class="wp-maintenance-setting-row"> |
  |  | 200 | <label for="wpoptions[headercode]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('The following code will add to the <head> tag. Useful if you need to add additional scripts such as CSS or JS', 'wp-maintenance'); ?></label> |
  | 201 | 201 | <textarea id="headercode" name="wpoptions[headercode]" class="wp-maintenance-input" COLS=50 ROWS=2><?php if(isset($wpoptions['headercode']) && $wpoptions['headercode']!='' ) { echo esc\_textarea(stripslashes($wpoptions['headercode'])); }  ?></textarea> |
  | 202 | 202 | </div> |
  | 203 | 203 |  |
  | 204 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 204 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 205 | 205 | </form> |
  | 206 | 206 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L208) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L208) |  |
  | 208 | 208 | <div class="wp-maintenance-module-options-block"> |
  | 209 | 209 | <div class="wp-maintenance-settings-section-header"> |
  | 210 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Export / Import Settings', 'wp-maintenance'); ?></h3> |
  |  | 210 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Export / Import Settings', 'wp-maintenance'); ?></h3> |
  | 211 | 211 | </div> |
  | 212 | 212 | <div class="wp-maintenance-setting-row"> |
  | 213 |  | <label class="wp-maintenance-setting-row-title"><?php \_e('Export Settings', 'wp-maintenance'); ?></label> |
  |  | 213 | <label class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Export Settings', 'wp-maintenance'); ?></label> |
  | 214 | 214 | <form method="post"> |
  | 215 | 215 | <input type="hidden" name="wpm\_action" value="export\_settings" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L220) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L220) |  |
  | 220 | 220 |  |
  | 221 | 221 | <div class="wp-maintenance-setting-row"> |
  | 222 |  | <label class="wp-maintenance-setting-row-title"><?php \_e('Import the plugin settings from a .json file. This file can be obtained by exporting the settings on another site using the form above', 'wp-maintenance'); ?></label> |
  |  | 222 | <label class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Import the plugin settings from a .json file. This file can be obtained by exporting the settings on another site using the form above', 'wp-maintenance'); ?></label> |
  | 223 | 223 | <form method="post" enctype="multipart/form-data"> |
  | 224 | 224 | <input type="hidden" name="wpm\_action" value="import\_settings" /> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3035862#L233) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-settings.php?rev=3078682#L233) |  |
  | 233 | 233 | </div> |
  | 234 | 234 |  |
  | 235 |  | <?php echo wp~~m\_footer(~~); ?> |
  |  | 235 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  | 236 | 236 |  |
  | 237 | 237 | </div> |
* ## [wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php](/changeset/3078682/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?old=2739800&old_path=wp-maintenance%2Ftrunk%2Fviews%2Fwp-maintenance-socialnetworks.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php")

  | [r3069916](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L36 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L36 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 36 | 36 |  |
  | 37 | 37 | <!-- HEADER --> |
  | 38 |  | <h2 class="headerpage"><?php ~~\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php \_e~~(WPM\_VERSION); ?></sup></h2> |
  |  | 38 | <h2 class="headerpage"><?php esc\_html\_e('WP Maintenance - Settings', 'wp-maintenance'); ?> <sup>v.<?php echo esc\_html(WPM\_VERSION); ?></sup></h2> |
  | 39 | 39 | <?php if( isset($messageUpdate) && $messageUpdate == 1 ) { ?> |
  | 40 |  | <div id="message" class="updated fade"><p><strong><?php \_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  |  | 40 | <div id="message" class="updated fade"><p><strong><?php esc\_html\_e('Options saved.', 'wp-maintenance'); ?></strong></p></div> |
  | 41 | 41 | <?php } ?> |
  | 42 | 42 | <!-- END HEADER --> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L44) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L44) |  |
  | 44 | 44 | <div class="wp-maintenance-wrapper"> |
  | 45 | 45 |  |
  | 46 |  | <?php echo wp~~m\_get\_nav2(~~); ?> |
  |  | 46 | <?php echo wp\_kses(wpm\_get\_nav2(), wpm\_autorizeHtml()); ?> |
  | 47 | 47 |  |
  | 48 | 48 | <div class="wp-maintenance-tab-content wp-maintenance-tab-content-welcome" id="wp-maintenance-tab-content"> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L56) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L56) |  |
  | 56 | 56 |  |
  | 57 | 57 | <div class="wp-maintenance-settings-section-header"> |
  | 58 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Enable social networks', 'wp-maintenance'); ?></h3> |
  |  | 58 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Enable social networks', 'wp-maintenance'); ?></h3> |
  | 59 | 59 | </div> |
  | 60 | 60 |  |
  | 61 | 61 | <p> |
  | 62 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, enable social networks options', 'wp-maintenance'); ?></span> |
  |  | 62 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, enable social networks options', 'wp-maintenance'); ?></span> |
  | 63 | 63 | <input type="checkbox" name="wpso[enable]" value="1" <?php if( isset($paramSocialOption['enable']) && $paramSocialOption['enable']==1) { echo ' checked'; } ?>> |
  | 64 | 64 | <span class="wp-maintenance-checkmark"></span> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L66) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L66) |  |
  | 66 | 66 | </p> |
  | 67 | 67 |  |
  | 68 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  | 69 |  | </div> |
  | 70 |  |  |
  | 71 |  | <div class="wp-maintenance-module-options-block"> |
  | 72 |  | <div class="wp-maintenance-settings-section-header"> |
  | 73 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('List of Social networks', 'wp-maintenance'); ?></h3> |
  | 74 |  | </div> |
  | 75 |  |  |
  | 76 |  | <div class="wp-maintenance-setting-row"> |
  | 77 |  | <label for="wpso[texte]" class="wp-maintenance-setting-row-title"><?php \_e('Enter text for the title icons', 'wp-maintenance'); ?></label> |
  | 78 |  | <input type="text" name="wpso[texte]" value="<?php if( empty($paramSocialOption['texte']) ) { \_e('Follow me on', 'wp-maintenance'); } else { echo esc\_html(stripslashes($paramSocialOption['texte'])); } ?>" /> |
  | 79 |  | </div> |
  | 80 |  |  |
  | 81 |  | <div class="wp-maintenance-setting-row"> |
  | 82 |  | <label class="wp-maintenance-setting-row-title"><?php \_e('Drad and drop the lines to put in the order you want', 'wp-maintenance'); ?></label> |
  |  | 68 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 69 | </div> |
  |  | 70 |  |
  |  | 71 | <div class="wp-maintenance-module-options-block"> |
  |  | 72 | <div class="wp-maintenance-settings-section-header"> |
  |  | 73 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('List of Social networks', 'wp-maintenance'); ?></h3> |
  |  | 74 | </div> |
  |  | 75 |  |
  |  | 76 | <div class="wp-maintenance-setting-row"> |
  |  | 77 | <label for="wpso[texte]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Enter text for the title icons', 'wp-maintenance'); ?></label> |
  |  | 78 | <input type="text" name="wpso[texte]" value="<?php if( empty($paramSocialOption['texte']) ) { esc\_html\_e('Follow me on', 'wp-maintenance'); } else { echo esc\_html(stripslashes($paramSocialOption['texte'])); } ?>" /> |
  |  | 79 | </div> |
  |  | 80 |  |
  |  | 81 | <div class="wp-maintenance-setting-row"> |
  |  | 82 | <label class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Drad and drop the lines to put in the order you want', 'wp-maintenance'); ?></label> |
  | 83 | 83 | <ul class="sortable"> |
  | 84 | 84 | <?php |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L107) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L107) |  |
  | 107 | 107 |  |
  | 108 | 108 | //echo ''.$nameSocial.' => '.$valueSocial.'<br />'; |
  | 109 |  | echo '<li><span>::</span><img src="'.esc\_url($linkIcon).'" valign="middle" hspace="3" name="'.esc\_html($nameSocial).'.png" title="'.esc\_html($nameSocial).'.png"/>'.~~ucfirst($nameSocial).' <input type="text" size="50" name="wp\_maintenance\_list\_socialnetworks['.esc\_html($nameSocial).']" value="'.$entryValue~~.'" onclick="select()" ><br />'; |
  |  | 109 | echo '<li><span>::</span><img src="'.esc\_url($linkIcon).'" valign="middle" hspace="3" name="'.esc\_html($nameSocial).'.png" title="'.esc\_html($nameSocial).'.png"/>'.esc\_html(ucfirst($nameSocial)).' <input type="text" size="50" name="wp\_maintenance\_list\_socialnetworks['.esc\_html($nameSocial).']" value="'.esc\_url($entryValue).'" onclick="select()" ><br />'; |
  | 110 | 110 |  |
  | 111 | 111 | } |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L114) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L114) |  |
  | 114 | 114 | </ul> |
  | 115 | 115 | </div> |
  | 116 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  | 117 |  | </div> |
  | 118 |  |  |
  | 119 |  | <div class="wp-maintenance-module-options-block"> |
  | 120 |  | <div class="wp-maintenance-settings-section-header"> |
  | 121 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Social Networks Style', 'wp-maintenance'); ?></h3> |
  | 122 |  | </div> |
  | 123 |  | <div class="wp-maintenance-setting-row"> |
  | 124 |  | <label for="wpso[size]" class="wp-maintenance-setting-row-title"><?php \_e('Choose icons size', 'wp-maintenance'); ?></label> |
  |  | 116 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 117 | </div> |
  |  | 118 |  |
  |  | 119 | <div class="wp-maintenance-module-options-block"> |
  |  | 120 | <div class="wp-maintenance-settings-section-header"> |
  |  | 121 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Social Networks Style', 'wp-maintenance'); ?></h3> |
  |  | 122 | </div> |
  |  | 123 | <div class="wp-maintenance-setting-row"> |
  |  | 124 | <label for="wpso[size]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose icons size', 'wp-maintenance'); ?></label> |
  | 125 | 125 | <select name="wpso[size]" > |
  | 126 | 126 | <?php |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L128) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L128) |  |
  | 128 | 128 | foreach($wpm\_tabIcon as $wpm\_icon) { |
  | 129 | 129 | if($paramSocialOption['size']==$wpm\_icon) { $selected = ' selected'; } else { $selected = ''; } |
  | 130 |  | echo '<option value="'.esc\_html($wpm\_icon).'" '.~~$selected~~.'>'.esc\_html($wpm\_icon).'</option>'; |
  |  | 130 | echo '<option value="'.esc\_html($wpm\_icon).'" '.esc\_html($selected).'>'.esc\_html($wpm\_icon).'</option>'; |
  | 131 | 131 | } |
  | 132 | 132 | ?> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L135) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L135) |  |
  | 135 | 135 |  |
  | 136 | 136 | <div class="wp-maintenance-setting-row"> |
  | 137 |  | <label for="wpso[style]" class="wp-maintenance-setting-row-title"><?php \_e('Choose icons style', 'wp-maintenance'); ?></label> |
  |  | 137 | <label for="wpso[style]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Choose icons style', 'wp-maintenance'); ?></label> |
  | 138 | 138 | <ul id="pattern"> |
  | 139 | 139 | <?php |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L143) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L143) |  |
  | 143 | 143 | ?> |
  | 144 | 144 | <li> |
  | 145 |  | <div style="width:64px;height:64px;border:2px solid #ECF0F1;background:url('<?php echo ~~WPM\_ICONS\_URL.'style'.esc\_html($ico).'/64/facebook.png'~~; ?>');margin-bottom:5px;"></div> |
  |  | 145 | <div style="width:64px;height:64px;border:2px solid #ECF0F1;background:url('<?php echo esc\_url(WPM\_ICONS\_URL.'style'.esc\_html($ico).'/64/facebook.png'); ?>');margin-bottom:5px;"></div> |
  | 146 | 146 | <label for="style<?php echo esc\_html($ico); ?>" class="wpm-container" style="padding-left: 24px!important;margin-right: 0!important;"><input type="radio" value="style<?php echo esc\_html($ico); ?>" <?php echo esc\_html($selected); ?> name="wpso[style]" id="style<?php echo esc\_html($ico); ?>" /><span class="wpm-checkmark"></span></label> |
  | 147 | 147 | </li> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L151) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L151) |  |
  | 151 | 151 |  |
  | 152 | 152 | <div class="wp-maintenance-setting-row"> |
  | 153 |  | <label for="wpso[position]" class="wp-maintenance-setting-row-title"><?php \_e('Position', 'wp-maintenance'); ?></label> |
  |  | 153 | <label for="wpso[position]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Position', 'wp-maintenance'); ?></label> |
  | 154 | 154 | <select name="wpso[position]" > |
  | 155 |  | <option value="top"<?php if( isset($paramSocialOption['position']) && $paramSocialOption['position']=='top') { echo ' selected'; } ?>><?php \_e('Top', 'wp-maintenance'); ?></option> |
  | 156 |  | <option value="bottom"<?php if( empty($paramSocialOption['position']) or (isset($paramSocialOption['position']) && $paramSocialOption['position']=='bottom') ) { echo ' selected'; } ?>><?php \_e('Bottom', 'wp-maintenance'); ?></option> |
  |  | 155 | <option value="top"<?php if( isset($paramSocialOption['position']) && $paramSocialOption['position']=='top') { echo ' selected'; } ?>><?php esc\_html\_e('Top', 'wp-maintenance'); ?></option> |
  |  | 156 | <option value="bottom"<?php if( empty($paramSocialOption['position']) or (isset($paramSocialOption['position']) && $paramSocialOption['position']=='bottom') ) { echo ' selected'; } ?>><?php esc\_html\_e('Bottom', 'wp-maintenance'); ?></option> |
  | 157 | 157 | </select> |
  | 158 | 158 | </div> |
  | 159 | 159 |  |
  | 160 | 160 | <div class="wp-maintenance-setting-row"> |
  | 161 |  | <label for="wpso[align]" class="wp-maintenance-setting-row-title"><?php \_e('Align', 'wp-maintenance'); ?></label> |
  |  | 161 | <label for="wpso[align]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('Align', 'wp-maintenance'); ?></label> |
  | 162 | 162 | <select name="wpso[align]" class="wpm-form-field"> |
  | 163 |  | <option value="left"<?php if(isset($paramSocialOption['align']) && $paramSocialOption['align']=='left') { echo ' selected'; } ?>><?php \_e('Left', 'wp-maintenance'); ?></option> |
  | 164 |  | <option value="center"<?php if( empty($paramSocialOption['align']) or ( isset($paramSocialOption['align']) && $paramSocialOption['align']=='center') ) { echo ' selected'; } ?>><?php \_e('Center', 'wp-maintenance'); ?></option> |
  | 165 |  | <option value="right"<?php if( isset($paramSocialOption['align']) && $paramSocialOption['align']=='right') { echo ' selected'; } ?>><?php \_e('Right', 'wp-maintenance'); ?></option> |
  |  | 163 | <option value="left"<?php if(isset($paramSocialOption['align']) && $paramSocialOption['align']=='left') { echo ' selected'; } ?>><?php esc\_html\_e('Left', 'wp-maintenance'); ?></option> |
  |  | 164 | <option value="center"<?php if( empty($paramSocialOption['align']) or ( isset($paramSocialOption['align']) && $paramSocialOption['align']=='center') ) { echo ' selected'; } ?>><?php esc\_html\_e('Center', 'wp-maintenance'); ?></option> |
  |  | 165 | <option value="right"<?php if( isset($paramSocialOption['align']) && $paramSocialOption['align']=='right') { echo ' selected'; } ?>><?php esc\_html\_e('Right', 'wp-maintenance'); ?></option> |
  | 166 | 166 | </select> |
  | 167 | 167 | </div> |
  | 168 | 168 |  |
  | 169 | 169 | <div class="wp-maintenance-setting-row"> |
  | 170 |  | <label for="wpso[theme]" class="wp-maintenance-setting-row-title"><?php \_e('You have your own icons? Enter the folder name of your theme here', 'wp-maintenance'); ?></label> |
  | 171 |  | <strong><?php echo ~~get\_stylesheet\_directory\_uri(~~); ?>/</strong><input type="text" value="<?php if( isset($paramSocialOption['theme']) && $paramSocialOption['theme']!='' ) { echo esc\_html($paramSocialOption['theme']); } ?>" name="wpso[theme]" /><strong>/facebook.png</strong><br /> |
  | 172 |  | <p><i><?php \_e("In your icon's folder child theme, you must have the same names like mine, let's mouse over list icons for display picture's name. For example: ", 'wp-maintenance'); ?>'facebook.png'.</i></p><br /> |
  |  | 170 | <label for="wpso[theme]" class="wp-maintenance-setting-row-title"><?php esc\_html\_e('You have your own icons? Enter the folder name of your theme here', 'wp-maintenance'); ?></label> |
  |  | 171 | <strong><?php echo esc\_url(get\_stylesheet\_directory\_uri()); ?>/</strong><input type="text" value="<?php if( isset($paramSocialOption['theme']) && $paramSocialOption['theme']!='' ) { echo esc\_html($paramSocialOption['theme']); } ?>" name="wpso[theme]" /><strong>/facebook.png</strong><br /> |
  |  | 172 | <p><i><?php esc\_html\_e("In your icon's folder child theme, you must have the same names like mine, let's mouse over list icons for display picture's name. For example: ", 'wp-maintenance'); ?>'facebook.png'.</i></p><br /> |
  | 173 | 173 | <?php if( isset($paramSocialOption['theme']) && $paramSocialOption['theme']!='' ) { ?> |
  | 174 |  | <label class="wp-maintenance-setting-row-title"><?php \_e('You use this picture:', 'wp-maintenance'); ?></label><br /> |
  |  | 174 | <label class="wp-maintenance-setting-row-title"><?php esc\_html\_e('You use this picture:', 'wp-maintenance'); ?></label><br /> |
  | 175 | 175 | <img src=" <?php echo esc\_url(get\_stylesheet\_directory\_uri().'/'.$paramSocialOption['theme'].'/facebook.png'); ?>" width="64"/> |
  | 176 | 176 | <?php } ?> |
  | 177 | 177 | </div> |
  | 178 | 178 |  |
  | 179 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  | 180 |  | </div> |
  | 181 |  |  |
  | 182 |  | <div class="wp-maintenance-module-options-block"> |
  | 183 |  | <div class="wp-maintenance-settings-section-header"> |
  | 184 |  | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php \_e('Reset Social Networks Icons Options', 'wp-maintenance'); ?></h3> |
  |  | 179 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 180 | </div> |
  |  | 181 |  |
  |  | 182 | <div class="wp-maintenance-module-options-block"> |
  |  | 183 | <div class="wp-maintenance-settings-section-header"> |
  |  | 184 | <h3 class="wp-maintenance-settings-section-title" id="module-import\_export"><?php esc\_html\_e('Reset Social Networks Icons Options', 'wp-maintenance'); ?></h3> |
  | 185 | 185 | </div> |
  | 186 | 186 | <p> |
  | 187 |  | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php \_e('Yes, reset Social Networks Icons?', 'wp-maintenance'); ?></span> |
  |  | 187 | <label class="wp-maintenance-container"><span class="wp-maintenance-label-text"><?php esc\_html\_e('Yes, reset Social Networks Icons?', 'wp-maintenance'); ?></span> |
  | 188 | 188 | <input type="checkbox" name="wpso[reset]" value="1"> |
  | 189 | 189 | <span class="wp-maintenance-checkmark"></span> |
  | 190 | 190 | </label> |
  | 191 | 191 | </p> |
  | 192 |  | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php \_e('Save', 'wp-maintenance'); ?></button></p> |
  |  | 192 | <p class="submit"><button type="submit" name="footer\_submit" id="footer\_submit" class="wp-maintenance-button wp-maintenance-button-primary"><?php esc\_html\_e('Save', 'wp-maintenance'); ?></button></p> |
  | 193 | 193 |  |
  | 194 | 194 | </div> |
  | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=2739800#L198) | […](/browser/wp-maintenance/trunk/views/wp-maintenance-socialnetworks.php?rev=3078682#L198) |  |
  | 198 | 198 | </div> |
  | 199 | 199 |  |
  | 200 |  | <?php echo wpm\_footer(); ?> |
  |  | 200 | <?php echo wp\_kses(wpm\_footer(), wpm\_autorizeHtml()); ?> |
  |  | 201 |  |
  | 201 | 202 | </div> |
  | 202 | 203 | <script> jQuery('.sortable').sortable(); </script> |
* ## [wp-maintenance/trunk/wp-maintenance.php](/changeset/3078682/wp-maintenance/trunk/wp-maintenance.php?old=3065575&old_path=wp-maintenance%2Ftrunk%2Fwp-maintenance.php "Show the [3069916:3078682] differences restricted to wp-maintenance/trunk/wp-maintenance.php")

  | [r3069916](/browser/wp-maintenance/trunk/wp-maintenance.php?rev=3065575#L6 "Show revision 3069916 of this file in browser") | [r3078682](/browser/wp-maintenance/trunk/wp-maintenance.php?rev=3078682#L6 "Show revision 3078682 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | \* Author: Florent Maillefaud |
  | 7 | 7 | \* Author URI: https://madeby.restezconnectes.fr |
  | 8 |  | \* Version: 6.1.9.~~2~~ |
  |  | 8 | \* Version: 6.1.9.3 |
  | 9 | 9 | \* Text Domain: wp-maintenance |
  | 10 | 10 | \* Domain Path: /languages/ |
  | […](/browser/wp-maintenance/trunk/wp-maintenance.php?rev=3065575#L38) | […](/browser/wp-maintenance/trunk/wp-maintenance.php?rev=3078682#L38) |  |
  | 38 | 38 | define( 'WPM\_ADMIN\_URL', admin\_url().'admin.php?page=wp-maintenance'); //we assume the admin url is absolute with at least one querystring |
  | 39 | 39 |  |
  | 40 |  | if( !defined( 'WPM\_VERSION' )) { define( 'WPM\_VERSION', '6.1.9.~~2~~' ); } |
  |  | 40 | if( !defined( 'WPM\_VERSION' )) { define( 'WPM\_VERSION', '6.1.9.3' ); } |
  | 41 | 41 |  |
  | 42 | 42 | require WPM\_DIR . 'classes/wp-maintenance.php'; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3078682&old=3069916&new_path=%2Fwp-maintenance%2Ftrunk&old_path=%2Fwp-maintenance%2Ftrunk)
* [Zip Archive](?format=zip&new=3078682&old=3069916&new_path=%2Fwp-maintenance%2Ftrunk&old_path=%2Fwp-maintenance%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_3175605e_20250110_165642.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WP Maintenance <= 6.1.9.2 - IP Spoofing to Maintenance Mode Bypass

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WP Maintenance <= 6.1.9.2 - IP Spoofing to Maintenance Mode Bypass

5.3

**Use of Less Trusted Source**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N)

| CVE | [CVE-2024-0789](https://www.cve.org/CVERecord?id=CVE-2024-0789) |
| --- | --- |
| CVSS | 5.3 (Medium) |
| Publicly Published | June 18, 2024 |
| Last Updated | June 19, 2024 |
| Researcher | [Hoa Le Ngoc (lengochoa)](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/hoa-le-ngoc) |

### Description

The WP Maintenance plugin for WordPress is vulnerable to IP Address Spoofing in all versions up to, and including, 6.1.9.2 due to insufficient IP address validation and use of user-supplied HTTP headers as a primary method for IP retrieval. This makes it possible for unauthenticated attackers to bypass maintenance mode.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3078682%40wp-maintenance%2Ftrunk&old=3069916%40wp-maintenance%2Ftrunk&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-maintenance%2Fwp-maintenance-6192-ip-spoofing-to-maintenance-mode-bypass&t=WP%20Maintenance%20%3C%3D%206.1.9.2%20-%20IP%20Spoofing%20to%20Maintenance%20Mode%20Bypass "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-maintenance%2Fwp-maintenance-6192-ip-spoofing-to-maintenance-mode-bypass&text=WP%20Maintenance%20%3C%3D%206.1.9.2%20-%20IP%20Spoofing%20to%20Maintenance%20Mode%20Bypass "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-maintenance%2Fwp-maintenance-6192-ip-spoofing-to-maintenance-mode-bypass "LinkedIn")
Email

## Vulnerability Details for WP Maintenance

#### [WP Maintenance](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-maintenance)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-maintenance [(view on wordpress.org)](https://wordpress.org/plugins/wp-maintenance) |
| Patched? | Yes |
| Remediation | Update to version 6.1.9.3, or a newer patched version |
| Affected Version | * <= 6.1.9.2 |
| Patched Version | * 6.1.9.3 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


