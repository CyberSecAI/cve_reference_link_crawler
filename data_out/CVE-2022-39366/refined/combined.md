=== Content from github.com_0b642a22_20250108_135527.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Fblob%2Faa146db611e3a4ca3aa17bb740783f789d4444d3%2Fmetadata-service%2Fauth-impl%2Fsrc%2Fmain%2Fjava%2Fcom%2Fdatahub%2Fauthentication%2Ftoken%2FStatelessTokenService.java)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Fblob%2Faa146db611e3a4ca3aa17bb740783f789d4444d3%2Fmetadata-service%2Fauth-impl%2Fsrc%2Fmain%2Fjava%2Fcom%2Fdatahub%2Fauthentication%2Ftoken%2FStatelessTokenService.java)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=datahub-project%2Fdatahub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[datahub-project](/datahub-project)
/
**[datahub](/datahub-project/datahub)**
Public

* [Notifications](/login?return_to=%2Fdatahub-project%2Fdatahub) You must be signed in to change notification settings
* [Fork
  3k](/login?return_to=%2Fdatahub-project%2Fdatahub)
* [Star
   10.1k](/login?return_to=%2Fdatahub-project%2Fdatahub)

* [Code](/datahub-project/datahub)
* [Issues
  202](/datahub-project/datahub/issues)
* [Pull requests
  143](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects
  1](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

Additional navigation options

* [Code](/datahub-project/datahub)
* [Issues](/datahub-project/datahub/issues)
* [Pull requests](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

## Files

 aa146db
## Breadcrumbs

1. [datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3)
2. /[metadata-service](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service)
3. /[auth-impl](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl)
4. /[src](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src)
5. /[main](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main)
6. /[java](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java)
7. /[com](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com)
8. /[datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub)
9. /[authentication](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication)
10. /[token](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token)
/
# StatelessTokenService.java

 Blame  Blame
## Latest commit

## History

[History](/datahub-project/datahub/commits/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token/StatelessTokenService.java)163 lines (147 loc) · 5.91 KB aa146db
## Breadcrumbs

1. [datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3)
2. /[metadata-service](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service)
3. /[auth-impl](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl)
4. /[src](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src)
5. /[main](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main)
6. /[java](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java)
7. /[com](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com)
8. /[datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub)
9. /[authentication](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication)
10. /[token](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token)
/
# StatelessTokenService.java

Top
## File metadata and controls

* Code
* Blame

163 lines (147 loc) · 5.91 KB[Raw](https://github.com/datahub-project/datahub/raw/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token/StatelessTokenService.java)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163package com.datahub.authentication.token;
import com.datahub.authentication.Actor;import com.datahub.authentication.ActorType;import io.jsonwebtoken.Claims;import io.jsonwebtoken.JwtBuilder;import io.jsonwebtoken.Jwts;import io.jsonwebtoken.SignatureAlgorithm;import java.nio.charset.StandardCharsets;import java.security.Key;import java.util.ArrayList;import java.util.Base64;import java.util.Date;import java.util.HashMap;import java.util.List;import java.util.Map;import java.util.Objects;import java.util.UUID;import javax.annotation.Nonnull;import javax.annotation.Nullable;import javax.crypto.spec.SecretKeySpec;
import static com.datahub.authentication.token.TokenClaims.\*;
/\*\* \* Service responsible for generating JWT tokens for use within DataHub in stateless way. \* This service is responsible only for generating tokens, it will not do anything else with them. \*/public class StatelessTokenService {
 protected static final long DEFAULT\_EXPIRES\_IN\_MS = 86400000L; // One day by default private static final List<String> SUPPORTED\_ALGORITHMS = new ArrayList<>();
 static { SUPPORTED\_ALGORITHMS.add("HS256"); // Only support HS256 today. }
 private final String signingKey; private final SignatureAlgorithm signingAlgorithm; private final String iss;
 public StatelessTokenService( @Nonnull final String signingKey, @Nonnull final String signingAlgorithm ) { this(signingKey, signingAlgorithm, null); }
 public StatelessTokenService( @Nonnull final String signingKey, @Nonnull final String signingAlgorithm, @Nullable final String iss ) { this.signingKey = Objects.requireNonNull(signingKey); this.signingAlgorithm = validateAlgorithm(Objects.requireNonNull(signingAlgorithm)); this.iss = iss; }
 /\*\* \* Generates a JWT for an actor with a default expiration time. \* \* Note that the caller of this method is expected to authorize the action of generating a token. \* \*/ public String generateAccessToken(@Nonnull final TokenType type, @Nonnull final Actor actor) { return generateAccessToken(type, actor, DEFAULT\_EXPIRES\_IN\_MS); }
 /\*\* \* Generates a JWT for an actor with a specific duration in milliseconds. \* \* Note that the caller of this method is expected to authorize the action of generating a token. \* \*/ @Nonnull public String generateAccessToken( @Nonnull final TokenType type, @Nonnull final Actor actor, @Nullable final Long expiresInMs) { Objects.requireNonNull(type); Objects.requireNonNull(actor);
 Map<String, Object> claims = new HashMap<>(); claims.put(TOKEN\_VERSION\_CLAIM\_NAME, String.valueOf(TokenVersion.ONE.numericValue)); // Hardcode version 1 for now. claims.put(TOKEN\_TYPE\_CLAIM\_NAME, type.toString()); claims.put(ACTOR\_TYPE\_CLAIM\_NAME, actor.getType()); claims.put(ACTOR\_ID\_CLAIM\_NAME, actor.getId()); return generateAccessToken(actor.getId(), claims, expiresInMs); }
 /\*\* \* Generates a JWT for a custom set of claims. \* \* Note that the caller of this method is expected to authorize the action of generating a token. \*/ @Nonnull public String generateAccessToken( @Nonnull final String sub, @Nonnull final Map<String, Object> claims, @Nullable final Long expiresInMs) { Objects.requireNonNull(sub); Objects.requireNonNull(claims); final JwtBuilder builder = Jwts.builder() .addClaims(claims) .setId(UUID.randomUUID().toString()) .setSubject(sub);
 if (expiresInMs != null) { builder.setExpiration(new Date(System.currentTimeMillis() + expiresInMs)); } if (this.iss != null) { builder.setIssuer(this.iss); } byte [] apiKeySecretBytes = this.signingKey.getBytes(StandardCharsets.UTF\_8); final Key signingKey = new SecretKeySpec(apiKeySecretBytes, this.signingAlgorithm.getJcaName()); return builder.signWith(signingKey, this.signingAlgorithm).compact(); }
 /\*\* \* Validates a JWT issued by this service. \* \* Throws an {@link TokenException} in the case that the token cannot be verified. \*/ @Nonnull public TokenClaims validateAccessToken(@Nonnull final String accessToken) throws TokenException { Objects.requireNonNull(accessToken); try { byte [] apiKeySecretBytes = this.signingKey.getBytes(StandardCharsets.UTF\_8); final String base64Key = Base64.getEncoder().encodeToString(apiKeySecretBytes); final Claims claims = (Claims) Jwts.parserBuilder() .setSigningKey(base64Key) .build() .parse(accessToken) .getBody(); final String tokenVersion = claims.get(TOKEN\_VERSION\_CLAIM\_NAME, String.class); final String tokenType = claims.get(TOKEN\_TYPE\_CLAIM\_NAME, String.class); final String actorId = claims.get(ACTOR\_ID\_CLAIM\_NAME, String.class); final String actorType = claims.get(ACTOR\_TYPE\_CLAIM\_NAME, String.class); if (tokenType != null && actorId != null && actorType != null) { return new TokenClaims( TokenVersion.fromNumericStringValue(tokenVersion), TokenType.valueOf(tokenType), ActorType.valueOf(actorType), actorId, claims.getExpiration() == null ? null : claims.getExpiration().getTime()); } } catch (io.jsonwebtoken.ExpiredJwtException e) { throw new TokenExpiredException("Failed to validate DataHub token. Token has expired.", e); } catch (Exception e) { throw new TokenException("Failed to validate DataHub token", e); } throw new TokenException("Failed to validate DataHub token: Found malformed or missing 'actor' claim."); }
 private SignatureAlgorithm validateAlgorithm(final String algorithm) { if (!SUPPORTED\_ALGORITHMS.contains(algorithm)) { throw new UnsupportedOperationException( String.format("Failed to create Token Service. Unsupported algorithm %s provided", algorithm)); } return SignatureAlgorithm.valueOf(algorithm); }}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_e795a12d_20250108_135528.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Freleases%2Ftag%2Fv0.8.45)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Freleases%2Ftag%2Fv0.8.45)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=datahub-project%2Fdatahub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[datahub-project](/datahub-project)
/
**[datahub](/datahub-project/datahub)**
Public

* [Notifications](/login?return_to=%2Fdatahub-project%2Fdatahub) You must be signed in to change notification settings
* [Fork
  3k](/login?return_to=%2Fdatahub-project%2Fdatahub)
* [Star
   10.1k](/login?return_to=%2Fdatahub-project%2Fdatahub)

* [Code](/datahub-project/datahub/tree/v0.8.45)
* [Issues
  202](/datahub-project/datahub/issues)
* [Pull requests
  143](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects
  1](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

Additional navigation options

* [Code](/datahub-project/datahub/tree/v0.8.45)
* [Issues](/datahub-project/datahub/issues)
* [Pull requests](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

1. [Releases](/datahub-project/datahub/releases)
2. [v0.8.45](/datahub-project/datahub/releases/tag/v0.8.45)

# DataHub v0.8.45

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/datahub-project/datahub/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.8.45)

 Loading

[View all tags](/datahub-project/datahub/tags)

![@gabe-lyons](https://avatars.githubusercontent.com/u/2455694?s=40&v=4)
[gabe-lyons](/gabe-lyons)
released this
23 Sep 22:26

·
[4418 commits](/datahub-project/datahub/compare/v0.8.45...master)
to master
since this release

[v0.8.45](/datahub-project/datahub/tree/v0.8.45)

[`af6a423`](/datahub-project/datahub/commit/af6a423f9d39c1efe308c9722c338fa82e36a55f)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

## Release Highlights

### User Experience

* Allow Term Groups to be the target of permissions
* Customize browser favicon via `REACT_APP_FAVICON_URL` param
* Some UX improvements for charts & dashboards entity pages to reduce confusion
* Performance improvements on the lineage visualization
* Search bar for dataset schema tab

### Developer Experience

* Add rest endpoint for restoring indices of a single entity (/aspects?action=restoreIndices)
* Create new platform instances via CLI
* Improved impact analysis performance due to an added caching layer
* Support for Patch [as seen in](https://youtu.be/EJCKxKBvCwo?t=2604) August 2022 town hall.

### Metadata Ingestion

* Introduces bigquery-beta source
* Looker source memory usage dramatically reduced
* Report memory usage during ingestion
* Improve Tableau lineage
* Usage statistics for Tableau
* LookML can automatically clone your Git repository. LookML is now supported in UI-based ingestion.
* dbt supports column-level meta mappings
* Support for deletion & rollback of time series data
* [Upgrade to browse path forms](https://datahubproject.io/docs/advanced/browse-paths-upgrade/)

[see next page for list of commits]

## What's Changed

* fix(privileges) Add Term Groups as targetable entities for privileges by [@chriscollins3456](https://github.com/chriscollins3456) in [#5806](https://github.com/datahub-project/datahub/pull/5806)
* fix(javadocs): remove ampersand from pdl causing issue in doc generation for openapi by [@RyanHolstien](https://github.com/RyanHolstien) in [#5808](https://github.com/datahub-project/datahub/pull/5808)
* chore(ingest): remove archived docs by [@hsheth2](https://github.com/hsheth2) in [#5793](https://github.com/datahub-project/datahub/pull/5793)
* feat(ingest): add rewrite option for metadata file check by [@hsheth2](https://github.com/hsheth2) in [#5763](https://github.com/datahub-project/datahub/pull/5763)
* feat(cli): add support for sampled reporting to keep logs manageable by [@shirshanka](https://github.com/shirshanka) in [#5800](https://github.com/datahub-project/datahub/pull/5800)
* docs(refactor): Refactor Tags Feature Guide by [@maggiehays](https://github.com/maggiehays) in [#5781](https://github.com/datahub-project/datahub/pull/5781)
* docs(feature-guide) Impact Analysis by [@maggiehays](https://github.com/maggiehays) in [#5765](https://github.com/datahub-project/datahub/pull/5765)
* feat(theming): set custom favicon via env var by [@gabe-lyons](https://github.com/gabe-lyons) in [#5810](https://github.com/datahub-project/datahub/pull/5810)
* test(smoke-test): check debug arg in executor requests by [@hsheth2](https://github.com/hsheth2) in [#5811](https://github.com/datahub-project/datahub/pull/5811)
* fix(ingest): bigquery-beta - Fixing dependencies by [@treff7es](https://github.com/treff7es) in [#5814](https://github.com/datahub-project/datahub/pull/5814)
* feat(ingest): looker - reduce memory requirements by [@shirshanka](https://github.com/shirshanka) in [#5815](https://github.com/datahub-project/datahub/pull/5815)
* feat(restore-indices): add endpoint for restore indices, add basic check for graph by [@anshbansal](https://github.com/anshbansal) in [#5805](https://github.com/datahub-project/datahub/pull/5805)
* fix(frontend): download node only when USE\_SYSTEM\_NODE is set to false by [@szalai1](https://github.com/szalai1) in [#5817](https://github.com/datahub-project/datahub/pull/5817)
* doc: Make Airflow link clickable by [@daha](https://github.com/daha) in [#5803](https://github.com/datahub-project/datahub/pull/5803)
* feat(ingest):looker - reduce mem usage, misc reporting improvements by [@shirshanka](https://github.com/shirshanka) in [#5823](https://github.com/datahub-project/datahub/pull/5823)
* feat(model, ingest): populate sizeInBytes in snowflake, fall back to table level profiling for large tables by [@mayurinehate](https://github.com/mayurinehate) in [#5774](https://github.com/datahub-project/datahub/pull/5774)
* chore(docker): make curl/wget commands quiet in docker by [@hsheth2](https://github.com/hsheth2) in [#5819](https://github.com/datahub-project/datahub/pull/5819)
* chore: cleanup references to the old ember app by [@hsheth2](https://github.com/hsheth2) in [#5797](https://github.com/datahub-project/datahub/pull/5797)
* fix(ingest): spark-lineage: Adding additional debug logs to spark lineage by [@treff7es](https://github.com/treff7es) in [#5772](https://github.com/datahub-project/datahub/pull/5772)
* fix(docker): add missing port mappings for non-neo4j quickstart by [@hsheth2](https://github.com/hsheth2) in [#5799](https://github.com/datahub-project/datahub/pull/5799)
* fix(ingest): looker - report dashboard scanning correctly by [@shirshanka](https://github.com/shirshanka) in [#5829](https://github.com/datahub-project/datahub/pull/5829)
* feat(cli): report memory usage during ingest by [@shirshanka](https://github.com/shirshanka) in [#5828](https://github.com/datahub-project/datahub/pull/5828)
* fix(ingest): presto-on-hive - Fixing mysql filter by [@treff7es](https://github.com/treff7es) in [#5825](https://github.com/datahub-project/datahub/pull/5825)
* docs(big query): add needed delete permission to list by [@maaaikoool](https://github.com/maaaikoool) in [#5826](https://github.com/datahub-project/datahub/pull/5826)
* chore(ingest): set isort combine\_as\_imports by [@hsheth2](https://github.com/hsheth2) in [#5820](https://github.com/datahub-project/datahub/pull/5820)
* fix(ingest): use `AwsConnectionConfig` instead of `AwsSourceConfig` by [@hsheth2](https://github.com/hsheth2) in [#5813](https://github.com/datahub-project/datahub/pull/5813)
* feat(ingest): looker test connection by [@hsheth2](https://github.com/hsheth2) in [#5768](https://github.com/datahub-project/datahub/pull/5768)
* feat(ingest): improve tableau lineage, workbooks query, fix pagination by [@mayurinehate](https://github.com/mayurinehate) in [#5756](https://github.com/datahub-project/datahub/pull/5756)
* fix(ingest): profiling - memory usage reduction by [@shirshanka](https://github.com/shirshanka) in [#5830](https://github.com/datahub-project/datahub/pull/5830)
* feat(monitoring): enable JMX and OTEL for frontend pods by [@szalai1](https://github.com/szalai1) in [#5834](https://github.com/datahub-project/datahub/pull/5834)
* fix(standalone-consumers): Exclude Solr from spring boot application config & make them run on M1 by [@pedro93](https://github.com/pedro93) in [#5827](https://github.com/datahub-project/datahub/pull/5827)
* feat(hooks): Add toggle for enabling/disabling platform event hook by [@pedro93](https://github.com/pedro93) in [#5840](https://github.com/datahub-project/datahub/pull/5840)
* feat(transformers): Add semantics & transform\_aspect support in transformers by @mohdsiddique in [#5514](https://github.com/datahub-project/datahub/pull/5514)
* feat(ci): auto label PRs by [@anshbansal](https://github.com/anshbansal) in [#5839](https://github.com/datahub-project/datahub/pull/5839)
* feat(inputs): improving clarity on inputs for dashboards by [@gabe-lyons](https://github.com/gabe-lyons) in [#5841](https://github.com/datahub-project/datahub/pull/5841)
* feat(ingest): add utility for converting MCEs to MCPs by [@hsheth2](https://github.com/hsheth2) in [#5812](https://github.com/datahub-project/datahub/pull/5812)
* chore(smoke): add additional log in smoke test by [@hsheth2](https://github.com/hsheth2) in [#5842](https://github.com/datahub-project/datahub/pull/5842)
* fix(ingest): fix doc generation import ordering issue with postgres by [@hsheth2](https://github.com/hsheth2) in [#5846](https://github.com/datahub-project/datahub/pull/5846)
* feat(docker) Adds Sasl support to base ingestion image by [@pedro93](https://github.com/pedro93) in [#5855](https://github.com/datahub-project/datahub/pull/5855)
* fix(graphql) Fix null pointer exception when fetching entity aspect via graphql by [@chriscollins3456](https://github.com/chriscollins3456) in [#5857](https://github.com/datahub-project/datahub/pull/5857)
* fix(ingest): reporting should work with timestamps by [@shirshanka](https://github.com/shirshanka) in [#5860](https://github.com/datahub-project/datahub/pull/5860)
* fix(patch-entity-registry): Remove exception for entities with key aspects. by [@pghazanfari](https://github.com/pghazanfari) in [#5831](https://github.com/datahub-project/datahub/pull/5831)
* fix(browse): Fixing browse path to remove requirement for simple name suffix by [@jjoyce0510](https://github.com/jjoyce0510) in [#5634](https://github.com/datahub-project/datahub/pull/5634)
* fix(ingest): bigquery - Fixing sharded regexp pattern config by [@treff7es](https://github.com/treff7es) in [#5861](https://github.com/datahub-project/datahub/pull/5861)
* perf(elastic search graph service): improving perf of lineage query by [@gabe-lyons](https://github.com/gabe-lyons) in [#5858](https://github.com/datahub-project/datahub/pull/5858)
* chore(ingest): remove outdated GE compatibility hack by [@hsheth2](https://github.com/hsheth2) in [#5862](https://github.com/datahub-project/datahub/pull/5862)
* ci(ingest): test with python 3.10 by [@hsheth2](https://github.com/hsheth2) in [#5863](https://github.com/datahub-project/datahub/pull/5863)
* docs: improve doc generation, add better docs for snowflake, looker by [@shirshanka](https://github.com/shirshanka) in [#5867](https://github.com/datahub-project/datahub/pull/5867)
* feat(ci): tweak auto-label globs by [@anshbansal](https://github.com/anshbansal) in [#5849](https://github.com/datahub-project/datahub/pull/5849)
* fix(m1): preflight works with brew postgres@14 by [@shirshanka](https://github.com/shirshanka) in [#5868](https://github.com/datahub-project/datahub/pull/5868)
* feat(smoke-tests) Make smoke tests use standalone consumers by [@pedro93](https://github.com/pedro93) in [#5856](https://github.com/datahub-project/datahub/pull/5856)
* fix(domains): adding 10,000+ text when domain list caps out elastic count capacity by [@gabe-lyons](https://github.com/gabe-lyons) in [#5838](https://github.com/datahub-project/datahub/pull/5838)
* docs(notifications): slack notification docs by [@anshbansal](https://github.com/anshbansal) in [#5871](https://github.com/datahub-project/datahub/pull/5871)
* feat(docker): Update Dockerfiles to use java 11 runtime by [@pedro93](https://github.com/pedro93) in [#5853](https://github.com/datahub-project/datahub/pull/5853)
* Scroll issue on Glossary related entity page by [@Ankit-Keshari-Vituity](https://github.com/Ankit-Keshari-Vituity) in [#5804](https://github.com/datahub-project/datahub/pull/5804)
* fix(ingest): include urns in rest sink failure logs by [@hsheth2](https://github.com/hsheth2) in [#5848](https://github.com/datahub-project/datahub/pull/5848)
* fix(docker): Bumps JRE 11 to latest by [@pedro93](https://github.com/pedro93) in [#5875](https://github.com/datahub-project/datahub/pull/5875)
* feat(ingest): support reading config file from stdin by [@hsheth2](https://github.com/hsheth2) in [#5847](https://github.com/datahub-project/datahub/pull/5847)
* fix(ingest): remove dbt `delete_tests_as_datasets` option by [@hsheth2](https://github.com/hsheth2) in [#5865](https://github.com/datahub-project/datahub/pull/5865)
* fix(ingest): avrogen handling for missing fields with default values by [@hsheth2](https://github.com/hsheth2) in [#5844](https://github.com/datahub-project/datahub/pull/5844)
* refactor(ingest): add ALL\_ENV\_TYPES constant by [@hsheth2](https://github.com/hsheth2) in [#5866](https://github.com/datahub-project/datahub/pull/5866)
* feat(cli) Make docker compose quiet by [@pedro93](https://github.com/pedro93) in [#5869](https://github.com/datahub-project/datahub/pull/5869)
* feat(datahub-protobuf): add support for shadow jar, publish by [@shirshanka](https://github.com/shirshanka) in [#5882](https://github.com/datahub-project/datahub/pull/5882)
* feat(jars): better jar versioning for datahub-client, spark-lineage and protobuf by [@shirshanka](https://github.com/shirshanka) in [#5883](https://github.com/datahub-project/datahub/pull/5883)
* fix(dev-docker): set right context for frontend dev build by [@szalai1](https://github.com/szalai1) in [#5885](https://github.com/datahub-project/datahub/pull/5885)
* fix(ci): fix jar release action dependencies by [@shirshanka](https://github.com/shirshanka) in [#5884](https://github.com/datahub-project/datahub/pull/5884)
* feat(schema) Add search filter to Schema tab by [@chriscollins3456](https://github.com/chriscollins3456) in [#5845](https://github.com/datahub-project/datahub/pull/5845)
* feat(ui) Add entity search input to shared folder by [@chriscollins3456](https://github.com/chriscollins3456) in [#5876](https://github.com/datahub-project/datahub/pull/5876)
* fix(ingest): datahub-api - move instantiation to the right config class by [@shirshanka](https://github.com/shirshanka) in [#5878](https://github.com/datahub-project/datahub/pull/5878)
* feat(ingest): looker - improve defaults for usage extraction now that… by [@shirshanka](https://github.com/shirshanka) in [#5893](https://github.com/datahub-project/datahub/pull/5893)
* fix(ingest): add missing trino types by [@ms32035](https://github.com/ms32035) in [#5870](https://github.com/datahub-project/datahub/pull/5870)
* fix(ingest): remove dbt `disable_dbt_node_creation` and `load_schema` options by [@hsheth2](https://github.com/hsheth2) in [#5877](https://github.com/datahub-project/datahub/pull/5877)
* fix(frontend): forward Host header as X-Forwarded-Host by [@codesorcery](https://github.com/codesorcery) in [#5816](https://github.com/datahub-project/datahub/pull/5816)
* feat(ingestion-ui) Sort ingestion sources by last execution time by [@chriscollins3456](https://github.com/chriscollins3456) in [#5807](https://github.com/datahub-project/datahub/pull/5807)
* docs(schema-history): update schema history docs by [@aditya-radhakrishnan](https://github.com/aditya-radhakrishnan) in [#5894](https://github.com/datahub-project/datahub/pull/5894)
* docs(feature-guide) Refactor Domains feature guide by [@chriscollins3456](https://github.com/chriscollins3456) in [#5859](https://github.com/datahub-project/datahub/pull/5859)
* feat(charts & dashboards): improving chart & dashboard entity page rendering by [@gabe-lyons](https://github.com/gabe-lyons) in [#5864](https://github.com/datahub-project/datahub/pull/5864)
* test(ingest): use pytest parameterization for dbt integration tests by [@hsheth2](https://github.com/hsheth2) in [#5879](https://github.com/datahub-project/datahub/pull/5879)
* refactor(ingest): move aspect maps to dedicated file by [@hsheth2](https://github.com/hsheth2) in [#5821](https://github.com/datahub-project/datahub/pull/5821)
* feat(ingest): make sink use type annotations by [@hsheth2](https://github.com/hsheth2) in [#5899](https://github.com/datahub-project/datahub/pull/5899)
* feat(ingest): add entity type inference to mcpw by [@hsheth2](https://github.com/hsheth2) in [#5880](https://github.com/datahub-project/datahub/pull/5880)
* feat(deletion & rollback): Server & Client side changes to support timeseries aspect deletion & rollback. by [@rslanka](https://github.com/rslanka) in [#4756](https://github.com/datahub-project/datahub/pull/4756)
* fix(ci): fix globs for auto-labeling PRs by [@anshbansal](https://github.com/anshbansal) in [#5903](https://github.com/datahub-project/datahub/pull/5903)
* feat(ingest): minor changes in snowflake-beta source, add basic tests by [@mayurinehate](https://github.com/mayurinehate) in [#5910](https://github.com/datahub-project/datahub/pull/5910)
* feat(ingestion): schema inference for jsonlines in S3 by [@hieunt-itfoss](https://github.com/hieunt-itfoss) in [#5725](https://github.com/datahub-project/datahub/pull/5725)
* refactor(gms): Refactoring util + entity client class locations by [@jjoyce0510](https://github.com/jjoyce0510) in [#5902](https://github.com/datahub-project/datahub/pull/5902)
* fix(ingest): support relative paths in lookml base\_folder by [@hsheth2](https://github.com/hsheth2) in [#5914](https://github.com/datahub-project/datahub/pull/5914)
* feat(graphql) Add new 'entities' endpoint to batch get entities by urn by [@chriscollins3456](https://github.com/chriscollins3456) in [#5915](https://github.com/datahub-project/datahub/pull/5915)
* fix(ingest): handle lookml directory being in a symlink'd folder by [@hsheth2](https://github.com/hsheth2) in [#5916](https://github.com/datahub-project/datahub/pull/5916)
* fix(doc) - fix boolean property in json schema by [@treff7es](https://github.com/treff7es) in [#5919](https://github.com/datahub-project/datahub/pull/5919)
* fix(ingest): hide internal profiler.allow\_deny\_patterns from config by [@hsheth2](https://github.com/hsheth2) in [#5619](https://github.com/datahub-project/datahub/pull/5619)
* feat(ingestion-ui) Display ingestion sources in UI more dynamically by [@chriscollins3456](https://github.com/chriscollins3456) in [#5789](https://github.com/datahub-project/datahub/pull/5789)
* fix(docs): Feast recipe documentation by [@danilopeixoto](https://github.com/danilopeixoto) in [#5917](https://github.com/datahub-project/datahub/pull/5917)
* fix(docker): skip zoneinfo backport on newer python versions by [@hsheth2](https://github.com/hsheth2) in [#5912](https://github.com/datahub-project/datahub/pull/5912)
* fix(favicons): update multiple favicons if present by [@gabe-lyons](https://github.com/gabe-lyons) in [#5927](https://github.com/datahub-project/datahub/pull/5927)
* feat(ingest): lookml - support for git checkout by [@shirshanka](https://github.com/shirshanka) in [#5924](https://github.com/datahub-project/datahub/pull/5924)
* refactor(ingest): simplify DefaultSQLParser alias by [@hsheth2](https://github.com/hsheth2) in [#5935](https://github.com/datahub-project/datahub/pull/5935)
* feat(ingest): support version option in datahub client get\_aspect\_v2 by [@hsheth2](https://github.com/hsheth2) in [#5934](https://github.com/datahub-project/datahub/pull/5934)
* fix(ingest): add dbt redshift type mappings by [@hsheth2](https://github.com/hsheth2) in [#5933](https://github.com/datahub-project/datahub/pull/5933)
* fix(ci): process older issues first by [@anshbansal](https://github.com/anshbansal) in [#5926](https://github.com/datahub-project/datahub/pull/5926)
* fix(ingest): move git requirement into lookml deps by [@hsheth2](https://github.com/hsheth2) in [#5932](https://github.com/datahub-project/datahub/pull/5932)
* feat(elastic-setup): more verbose logging by [@anshbansal](https://github.com/anshbansal) in [#5937](https://github.com/datahub-project/datahub/pull/5937)
* fix(docker) Add platform to docker-compose command by [@firasomrane](https://github.com/firasomrane) in [#5683](https://github.com/datahub-project/datahub/pull/5683)
* fix(airflow): prioritize conn\_type over id-based type inference by [@hsheth2](https://github.com/hsheth2) in [#5911](https://github.com/datahub-project/datahub/pull/5911)
* feat(ingestion): Refactor standard state-handling tasks into a common handler that are common across all stateful ingestion sources. by [@rslanka](https://github.com/rslanka) in [#5766](https://github.com/datahub-project/datahub/pull/5766)
* fix(docs): lookml - clean up links by [@shirshanka](https://github.com/shirshanka) in [#5938](https://github.com/datahub-project/datahub/pull/5938)
* feat(search): Add support for Elasticsearch object field type by [@justinas-marozas](https://github.com/justinas-marozas) in [#5891](https://github.com/datahub-project/datahub/pull/5891)
* feat(ingest): add ConfigEnum type by [@hsheth2](https://github.com/hsheth2) in [#5734](https://github.com/datahub-project/datahub/pull/5734)
* fix(transformer): fix invalid lastModified.actor entry in transformers by [@mayurinehate](https://github.com/mayurinehate) in [#5906](https://github.com/datahub-project/datahub/pull/5906)
* refactor(gms): Adding Java Entity Services by [@jjoyce0510](https://github.com/jjoyce0510) in [#5931](https://github.com/datahub-project/datahub/pull/5931)
* fix(ingest): fix type annotations on some pydantic fields by [@hsheth2](https://github.com/hsheth2) in [#5795](https://github.com/datahub-project/datahub/pull/5795)
* feat(docs) Adds guide on how to use personal access tokens by [@pedro93](https://github.com/pedro93) in [#5873](https://github.com/datahub-project/datahub/pull/5873)
* feat(ingestion) Add more info to glue entities by [@skrydal](https://github.com/skrydal) in [#5874](https://github.com/datahub-project/datahub/pull/5874)
* feat(ingestion-ui) Add LookML form to managed ingestion UI by [@chriscollins3456](https://github.com/chriscollins3456) in [#5939](https://github.com/datahub-project/datahub/pull/5939)
* fix(ingest): Fix snowflake usage stateful ingestion backward compatibility check. by [@rslanka](https://github.com/rslanka) in [#5943](https://github.com/datahub-project/datahub/pull/5943)
* feat(ingest): skip ssh known\_hosts verification for git clone by [@hsheth2](https://github.com/hsheth2) in [#5945](https://github.com/datahub-project/datahub/pull/5945)
* fix(ui) Make LookML deploy key a textarea and format key by [@chriscollins3456](https://github.com/chriscollins3456) in [#5946](https://github.com/datahub-project/datahub/pull/5946)
* feat(docs): lookml - add video for ui ingestion, remove secret step u… by [@shirshanka](https://github.com/shirshanka) in [#5948](https://github.com/datahub-project/datahub/pull/5948)
* fix(ingest): add trailing newline to ssh keys by [@hsheth2](https://github.com/hsheth2) in [#5947](https://github.com/datahub-project/datahub/pull/5947)
* docs(airflow): show that rest host points at gms by [@hsheth2](https://github.com/hsheth2) in [#5913](https://github.com/datahub-project/datahub/pull/5913)
* feat(delta-lake): support delta tables from minio by [@MugdhaHardikar-GSLab](https://github.com/MugdhaHardikar-GSLab) in [#5758](https://github.com/datahub-project/datahub/pull/5758)
* refractor(snowflake): move snowflake-beta to certified snowflake source by [@mayurinehate](https://github.com/mayurinehate) in [#5923](https://github.com/datahub-project/datahub/pull/5923)
* docs: datahub\_conn\_id => conn\_id in Airflow Integration by [@GyuhoonK](https://github.com/GyuhoonK) in [#5920](https://github.com/datahub-project/datahub/pull/5920)
* fix(docs): fix loom embed by [@shirshanka](https://github.com/shirshanka) in [#5956](https://github.com/datahub-project/datahub/pull/5956)
* fix(build): fix preflight script for m1 for lib postgresql by [@shirshanka](https://github.com/shirshanka) in [#5957](https://github.com/datahub-project/datahub/pull/5957)
* docs(airflow) add back auth token info for airflow by [@hsheth2](https://github.com/hsheth2) in [#5960](https://github.com/datahub-project/datahub/pull/5960)
* feat: qualifiedName support + populating glue ARN by [@skrydal](https://github.com/skrydal) in [#5952](https://github.com/datahub-project/datahub/pull/5952)
* feat(elastic-setup): add better error handling by [@anshbansal](https://github.com/anshbansal) in [#5963](https://github.com/datahub-project/datahub/pull/5963)
* docs(ingest): add example of ssl with mysql by [@hsheth2](https://github.com/hsheth2) in [#5954](https://github.com/datahub-project/datahub/pull/5954)
* feat(ingestion-ui) Use CLI version defined in recipe for test connection by [@chriscollins3456](https://github.com/chriscollins3456) in [#5959](https://github.com/datahub-project/datahub/pull/5959)
* feat(ingest): add support for aliases in plugin registry by [@hsheth2](https://github.com/hsheth2) in [#5958](https://github.com/datahub-project/datahub/pull/5958)
* feat(elasticsearch-setup): Add insecure option for curl by [@BogdanAntoniu78](https://github.com/BogdanAntoniu78) in [#5887](https://github.com/datahub-project/datahub/pull/5887)
* feat(ci): exempt from stale label by [@anshbansal](https://github.com/anshbansal) in [#5964](https://github.com/datahub-project/datahub/pull/5964)
* fix(ingest): continue validation of s3 path\_specs even if platform is set by [@mayurinehate](https://github.com/mayurinehate) in [#5951](https://github.com/datahub-project/datahub/pull/5951)
* fix(ui) Filter search through schemas based on non-editable tags and terms as well by [@chriscollins3456](https://github.com/chriscollins3456) in [#5942](https://github.com/datahub-project/datahub/pull/5942)
* refactor(ingest): use typed objects in dbt ingestion by [@hsheth2](https://github.com/hsheth2) in [#5929](https://github.com/datahub-project/datahub/pull/5929)
* feat(ingest): bigquery-v2 - Add profiling feature by [@treff7es](https://github.com/treff7es) in [#5953](https://github.com/datahub-project/datahub/pull/5953)
* fix(quickstart): elasticsearch-setup script fails on curl by [@shirshanka](https://github.com/shirshanka) in [#5975](https://github.com/datahub-project/datahub/pull/5975)
* feat(protobuf): support for custom platform, subtypes, misc improvements by [@shirshanka](https://github.com/shirshanka) in [#5973](https://github.com/datahub-project/datahub/pull/5973)
* feat(dashboard): add subTypes aspect to dashboard entity by [@Masterchen09](https://github.com/Masterchen09) in [#5843](https://github.com/datahub-project/datahub/pull/5843)
* fix(patch-entity-registry): Use AspectSpec to retrieve aspect class in order to support custom entity ingestion via patch mechanism. by [@pghazanfari](https://github.com/pghazanfari) in [#5936](https://github.com/datahub-project/datahub/pull/5936)
* fix(ingest): handle `uname` missing on windows by [@hsheth2](https://github.com/hsheth2) in [#5981](https://github.com/datahub-project/datahub/pull/5981)
* ci: reduce pip backtracking in airflow plugin by [@hsheth2](https://github.com/hsheth2) in [#5982](https://github.com/datahub-project/datahub/pull/5982)
* fix(ingest): pin great-expectations dependency to fix profiling error by [@mayurinehate](https://github.com/mayurinehate) in [#5980](https://github.com/datahub-project/datahub/pull/5980)
* refactor(looker): Migrating to new browse path format by [@jjoyce0510](https://github.com/jjoyce0510) in [#5688](https://github.com/datahub-project/datahub/pull/5688)
* feat(ingest): dbt column-level meta mappings + `add_terms` operation by [@hsheth2](https://github.com/hsheth2) in [#5970](https://github.com/datahub-project/datahub/pull/5970)
* fix(datahub-ranger-plugin): add support to publish jars by [@shirshanka](https://github.com/shirshanka) in [#5983](https://github.com/datahub-project/datahub/pull/5983)
* feat(docs): Adds docs on K8s scheduled ingestion by [@pedro93](https://github.com/pedro93) in [#5984](https://github.com/datahub-project/datahub/pull/5984)
* feat(ingest): presto-on-hive stateful, catalog and pascalcase subtype config by [@aezomz](https://github.com/aezomz) in [#5890](https://github.com/datahub-project/datahub/pull/5890)
* fix(kafka-setup) Bump kafka version to existing version by [@pedro93](https://github.com/pedro93) in [#5995](https://github.com/datahub-project/datahub/pull/5995)
* Small UI bugs by [@Ankit-Keshari-Vituity](https://github.com/Ankit-Keshari-Vituity) in [#5886](https://github.com/datahub-project/datahub/pull/5886)
* feat(data platform) adding data platform indexing & select platform modal in frontend by [@gabe-lyons](https://github.com/gabe-lyons) in [#5988](https://github.com/datahub-project/datahub/pull/5988)
* Worked on the pop-over of matched entity by [@Ankit-Keshari-Vituity](https://github.com/Ankit-Keshari-Vituity) in [#5851](https://github.com/datahub-project/datahub/pull/5851)
* refactor(docs): Updating GraphQL documentation with fixes, and more examples by [@jjoyce0510](https://github.com/jjoyce0510) in [#5989](https://github.com/datahub-project/datahub/pull/5989)
* docs(upgrading-datahub): Add docs for upgrading-datahub v0.8.44 by [@jjoyce0510](https://github.com/jjoyce0510) in [#5998](https://github.com/datahub-project/datahub/pull/5998)
* chore(docs-website): bump docusaurus to v2.1.0 by [@hsheth2](https://github.com/hsheth2) in [#5792](https://github.com/datahub-project/datahub/pull/5792)
* docs: remove wip UI ingestion doc by [@hsheth2](https://github.com/hsheth2) in [#6000](https://github.com/datahub-project/datahub/pull/6000)
* feat(cli): extend put command to support platform creation by [@shirshanka](https://github.com/shirshanka) in [#5990](https://github.com/datahub-project/datahub/pull/5990)
* feat(ingest): presto-on-hive - Description and hive view support by [@treff7es](https://github.com/treff7es) in [#5993](https://github.com/datahub-project/datahub/pull/5993)
* fix(ingest): encode reserved characters when creating dataset urn by [@mayurinehate](https://github.com/mayurinehate) in [#5977](https://github.com/datahub-project/datahub/pull/5977)
* feat(ingestion): Tableau dashboard & chart usage stats by @mohdsiddique in [#5999](https://github.com/datahub-project/datahub/pull/5999)
* feat(ingestion): Documentation on adding stateful ingestion use-cases to new sources by [@rslanka](https://github.com/rslanka) in [#5985](https://github.com/datahub-project/datahub/pull/5985)
* refactor(ingest): streamline two-tier db config validation by [@hsheth2](https://github.com/hsheth2) in [#5986](https://github.com/datahub-project/datahub/pull/5986)
* feat(ui): Add Nullable label to Schema Render by [@mkamalas](https://github.com/mkamalas) in [#5909](https://github.com/datahub-project/datahub/pull/5909)
* refactor(frontend): Misc frontend improvements by [@jjoyce0510](https://github.com/jjoyce0510) in [#6012](https://github.com/datahub-project/datahub/pull/6012)
* fix(docs-site): make banner a bit smaller by [@hsheth2](https://github.com/hsheth2) in [#6016](https://github.com/datahub-project/datahub/pull/6016)
* feat(ingest): add --no-pull-images option to docker quickstart by [@hsheth2](https://github.com/hsheth2) in [#6017](https://github.com/datahub-project/datahub/pull/6017)
* docs(users): move changing default user up by [@anshbansal](https://github.com/anshbansal) in [#6020](https://github.com/datahub-project/datahub/pull/6020)
* Worked on the dynamic column width of stats table by [@Ankit-Keshari-Vituity](https://github.com/Ankit-Keshari-Vituity) in [#5996](https://github.com/datahub-project/datahub/pull/5996)
* Worked to hide the recent search from search bar by [@Ankit-Keshari-Vituity](https://github.com/Ankit-Keshari-Vituity) in [#6021](https://github.com/datahub-project/datahub/pull/6021)
* docs: fix a markdown typo by @ltxlouis in [#6019](https://github.com/datahub-project/datahub/pull/6019)
* fix(ingest): lookml - make explore parsing more robust by [@shirshanka](https://github.com/shirshanka) in [#6028](https://github.com/datahub-project/datahub/pull/6028)
* fix(ingest): better error handling in glue by [@hsheth2](https://github.com/hsheth2) in [#6030](https://github.com/datahub-project/datahub/pull/6030)
* fix(gms): Write back lineage search results to in-memory cache bound to feature flag by [@RyanHolstien](https://github.com/RyanHolstien) in [#6006](https://github.com/datahub-project/datahub/pull/6006)
* fix(docs-site): style custom announcement bar by [@jeffmerrick](https://github.com/jeffmerrick) in [#6022](https://github.com/datahub-project/datahub/pull/6022)
* fix(ownership-differ): standardise ownership change event payload by [@ngamanda](https://github.com/ngamanda) in [#5967](https://github.com/datahub-project/datahub/pull/5967)
* feat(ingestion): Add fail-safe stale entity removal via configurable 'fail\_safe\_threshold' param. by [@rslanka](https://github.com/rslanka) in [#6027](https://github.com/datahub-project/datahub/pull/6027)
* refactor(ingest): move common host\_port validation by [@hsheth2](https://github.com/hsheth2) in [#6009](https://github.com/datahub-project/datahub/pull/6009)
* feat(ingest): aws - support extra args to role config by [@hsheth2](https://github.com/hsheth2) in [#6031](https://github.com/datahub-project/datahub/pull/6031)
* fix(frontend): refactoring AuthServiceClient by [@aditya-radhakrishnan](https://github.com/aditya-radhakrishnan) in [#6029](https://github.com/datahub-project/datahub/pull/6029)
* refactor(gms): Improving JWT parsing logic by [@jjoyce0510](https://github.com/jjoyce0510) in [#6025](https://github.com/datahub-project/datahub/pull/6025)
* fix(ingest): support snowflake-beta extra compatibility by [@hsheth2](https://github.com/hsheth2) in [#6032](https://github.com/datahub-project/datahub/pull/6032)
* fix(platform): Add aws-secretsmanager-jdbc driver in dependencies by [@atul-chegg](https://github.com/atul-chegg) in [#5968](https://github.com/datahub-project/datahub/pull/5968)
* feat(patch): initial support of json patch style semantics in MCPs by [@RyanHolstien](https://github.com/RyanHolstien) in [#5901](https://github.com/datahub-project/datahub/pull/5901)
* fix(ingest): bigquery-beta - Project name quote and graceful lineage/usage failures by [@treff7es](https://github.com/treff7es) in [#6035](https://github.com/datahub-project/datahub/pull/6035)

## New Contributors

* [@pghazanfari](https://github.com/pghazanfari) made their first contribution in [#5831](https://github.com/datahub-project/datahub/pull/5831)
* [@codesorcery](https://github.com/codesorcery) made their first contribution in [#5816](https://github.com/datahub-project/datahub/pull/5816)
* [@hieunt-itfoss](https://github.com/hieunt-itfoss) made their first contribution in [#5725](https://github.com/datahub-project/datahub/pull/5725)
* [@firasomrane](https://github.com/firasomrane) made their first contribution in [#5683](https://github.com/datahub-project/datahub/pull/5683)
* [@GyuhoonK](https://github.com/GyuhoonK) made their first contribution in [#5920](https://github.com/datahub-project/datahub/pull/5920)
* [@BogdanAntoniu78](https://github.com/BogdanAntoniu78) made their first contribution in [#5887](https://github.com/datahub-project/datahub/pull/5887)
* @ltxlouis made their first contribution in [#6019](https://github.com/datahub-project/datahub/pull/6019)
* [@atul-chegg](https://github.com/atul-chegg) made their first contribution in [#5968](https://github.com/datahub-project/datahub/pull/5968)

**Full Changelog**: [v0.8.44...v0.8.45](https://github.com/datahub-project/datahub/compare/v0.8.44...v0.8.45)

### Contributors

* [![@daha](https://avatars.githubusercontent.com/u/548769?s=64&v=4)](https://github.com/daha)
* [![@shirshanka](https://avatars.githubusercontent.com/u/906477?s=64&v=4)](https://github.com/shirshanka)
* [![@treff7es](https://avatars.githubusercontent.com/u/1339772?s=64&v=4)](https://github.com/treff7es)
* [![@skrydal](https://avatars.githubusercontent.com/u/1629032?s=64&v=4)](https://github.com/skrydal)
* [![@gabe-lyons](https://avatars.githubusercontent.com/u/2455694?s=64&v=4)](https://github.com/gabe-lyons)
* [![@maaaikoool](https://avatars.githubusercontent.com/u/3258096?s=64&v=4)](https://github.com/maaaikoool)
* [![@pghazanfari](https://avatars.githubusercontent.com/u/3662209?s=64&v=4)](https://github.com/pghazanfari)
* [![@pedro93](https://avatars.githubusercontent.com/u/3718654?s=64&v=4)](https://github.com/pedro93)
* [![@anshbansal](https://avatars.githubusercontent.com/u/4127841?s=64&v=4)](https://github.com/anshbansal)
* [![@jeffmerrick](https://avatars.githubusercontent.com/u/4732480?s=64&v=4)](https://github.com/jeffmerrick)
* [![@ms32035](https://avatars.githubusercontent.com/u/5060473?s=64&v=4)](https://github.com/ms32035)
* [![@MugdhaHardikar-GSLab](https://avatars.githubusercontent.com/u/5062147?s=64&v=4)](https://github.com/MugdhaHardikar-GSLab)
* [![@szalai1](https://avatars.githubusercontent.com/u/6796005?s=64&v=4)](https://github.com/szalai1)
* [![@codesorcery](https://avatars.githubusercontent.com/u/6949483?s=64&v=4)](https://github.com/codesorcery)
* [![@justinas-marozas](https://avatars.githubusercontent.com/u/7419290?s=64&v=4)](https://github.com/justinas-marozas)
* [![@xloouis](https://avatars.githubusercontent.com/u/8938475?s=64&v=4)](https://github.com/xloouis)
* [![@rslanka](https://avatars.githubusercontent.com/u/9094174?s=64&v=4)](https://github.com/rslanka)
* [![@RyanHolstien](https://avatars.githubusercontent.com/u/9456240?s=64&v=4)](https://github.com/RyanHolstien)
* [![@danilopeixoto](https://avatars.githubusercontent.com/u/10113621?s=64&v=4)](https://github.com/danilopeixoto)
* [![@ngamanda](https://avatars.githubusercontent.com/u/10681923?s=64&v=4)](https://github.com/ngamanda)
* [![@hsheth2](https://avatars.githubusercontent.com/u/12566801?s=64&v=4)](https://github.com/hsheth2)
* [![@Masterchen09](https://avatars.githubusercontent.com/u/13187726?s=64&v=4)](https://github.com/Masterchen09)
* [![@siddiquebagwan](https://avatars.githubusercontent.com/u/13194514?s=64&v=4)](https://github.com/siddiquebagwan)
* [![@hieunt-itfoss](https://avatars.githubusercontent.com/u/15377351?s=64&v=4)](https://github.com/hieunt-itfoss)
* [![@maggiehays](https://avatars.githubusercontent.com/u/15873986?s=64&v=4)](https://github.com/maggiehays)
* [![@jjoyce0510](https://avatars.githubusercontent.com/u/17549204?s=64&v=4)](https://github.com/jjoyce0510)
* [![@aditya-radhakrishnan](https://avatars.githubusercontent.com/u/19418814?s=64&v=4)](https://github.com/aditya-radhakrishnan)
* [![@firasomrane](https://avatars.githubusercontent.com/u/20143837?s=64&v=4)](https://github.com/firasomrane)
* [![@chriscollins3456](https://avatars.githubusercontent.com/u/28656603?s=64&v=4)](https://github.com/chriscollins3456)
* [![@BogdanAntoniu78](https://avatars.githubusercontent.com/u/32160927?s=64&v=4)](https://github.com/BogdanAntoniu78)
* [![@mayurinehate](https://avatars.githubusercontent.com/u/33225191?s=64&v=4)](https://github.com/mayurinehate)
* [![@atul-chegg](https://avatars.githubusercontent.com/u/35129543?s=64&v=4)](https://github.com/atul-chegg)
* [![@aezomz](https://avatars.githubusercontent.com/u/45879156?s=64&v=4)](https://github.com/aezomz)
* [![@GyuhoonK](https://avatars.githubusercontent.com/u/52773886?s=64&v=4)](https://github.com/GyuhoonK)
* [![@mkamalas](https://avatars.githubusercontent.com/u/62914384?s=64&v=4)](https://github.com/mkamalas)
* [![@Ankit-Keshari-Vituity](https://avatars.githubusercontent.com/u/86347578?s=64&v=4)](https://github.com/Ankit-Keshari-Vituity)

daha, shirshanka, and 34 other contributors

 Assets
2

 Loading

 👍
2
 SteNicholas and GyuhoonK reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

 2 people reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ab9468c2_20250108_135529.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Fsecurity%2Fadvisories%2FGHSA-r8gm-v65f-c973)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Fsecurity%2Fadvisories%2FGHSA-r8gm-v65f-c973)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=datahub-project%2Fdatahub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[datahub-project](/datahub-project)
/
**[datahub](/datahub-project/datahub)**
Public

* [Notifications](/login?return_to=%2Fdatahub-project%2Fdatahub) You must be signed in to change notification settings
* [Fork
  3k](/login?return_to=%2Fdatahub-project%2Fdatahub)
* [Star
   10.1k](/login?return_to=%2Fdatahub-project%2Fdatahub)

* [Code](/datahub-project/datahub)
* [Issues
  202](/datahub-project/datahub/issues)
* [Pull requests
  143](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects
  1](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

Additional navigation options

* [Code](/datahub-project/datahub)
* [Issues](/datahub-project/datahub/issues)
* [Pull requests](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

# Missing JWT signature check (`GHSL-2022-078`)

Critical

[maggiehays](/maggiehays)
published
GHSA-r8gm-v65f-c973
Oct 28, 2022

## Package

No package listed

## Affected versions

< 0.8.45

## Patched versions

0.8.45

## Description

# Missing JWT signature check (`GHSL-2022-078`)

The [`StatelessTokenService`](https://github.com/datahub-project/datahub/blob/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token/StatelessTokenService.java#L30) of the DataHub metadata service (GMS) does not verify the signature of JWT tokens. This allows an attacker to connect to DataHub instances as any user if Metadata Service authentication is enabled. This vulnerability occurs because the `StatelessTokenService` of the Metadata service uses the [`parse`](https://github.com/datahub-project/datahub/blob/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token/StatelessTokenService.java#L134) method of `io.jsonwebtoken.JwtParser`, which does not perform a verification of the cryptographic token signature. This means that JWTs are accepted regardless of the used algorithm.

#### Impact

This issue may lead to an authentication bypass.

#### Resources

* [CodeQL: Missing JWT signature check](https://codeql.github.com/codeql-query-help/java/java-missing-jwt-signature-check/)

### Severity

Critical

9.9

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Changed

Confidentiality
Low

Integrity
High

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:L/I:H/A:L

### CVE ID

CVE-2022-39366

### Weaknesses

[CWE-303](/advisories?query=cwe%3A303)

### Credits

* [![@artsploit](https://avatars.githubusercontent.com/u/44605151?s=40&v=4)](/artsploit)
  [artsploit](/artsploit)
  Analyst
* [![@pwntester](https://avatars.githubusercontent.com/u/125701?s=40&v=4)](/pwntester)
  [pwntester](/pwntester)
  Analyst
* [![@sylwia-budzynska](https://avatars.githubusercontent.com/u/102833689?s=40&v=4)](/sylwia-budzynska)
  [sylwia-budzynska](/sylwia-budzynska)
  Analyst
* [![@p-](https://avatars.githubusercontent.com/u/176818?s=40&v=4)](/p-)
  [p-](/p-)
  Analyst
* [![@Kwstubbs](https://avatars.githubusercontent.com/u/11400619?s=40&v=4)](/Kwstubbs)
  [Kwstubbs](/Kwstubbs)
  Analyst
* [![@jorgectf](https://avatars.githubusercontent.com/u/46056498?s=40&v=4)](/jorgectf)
  [jorgectf](/jorgectf)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from codeql.github.com_7dd2cc9c_20250108_135526.html ===

[CodeQL documentation](https://codeql.github.com/docs)

CodeQL resources

* [CodeQL overview](https://codeql.github.com/docs/codeql-overview)
CodeQL guides
* [Writing CodeQL queries](https://codeql.github.com/docs/writing-codeql-queries)
* [CodeQL language guides](https://codeql.github.com/docs/codeql-language-guides)
  Reference docs
  * [QL language
    reference](https://codeql.github.com/docs/ql-language-reference/)* [CodeQL
      standard-libraries](https://codeql.github.com/codeql-standard-libraries)* [CodeQL
        query help](https://codeql.github.com/codeql-query-help)
        Source files
        * [CodeQL repository](https://github.com/github/codeql)
          Academic
          * [QL publications](https://codeql.github.com/publications)

* [CodeQL query help for C and C++](../../cpp/)
* [CodeQL query help for C#](../../csharp/)
* [CodeQL query help for Go](../../go/)
* [CodeQL query help for Java and Kotlin](../)
  + [Access Java object methods through JavaScript exposure](../java-android-webview-addjavascriptinterface/)
  + [Access to unsupported JDK-internal API](../java-jdk-internal-api-access/)
  + [Android APK installation](../java-android-arbitrary-apk-installation/)
  + [Android Intent redirection](../java-android-intent-redirection/)
  + [Android WebSettings file access](../java-android-websettings-file-access/)
  + [Android WebView JavaScript settings](../java-android-websettings-javascript-enabled/)
  + [Android WebView settings allows access to content links](../java-android-websettings-allow-content-access/)
  + [Android Webview debugging enabled](../java-android-webview-debugging-enabled/)
  + [Android `WebView` that accepts all certificates](../java-improper-webview-certificate-validation/)
  + [Android debuggable attribute enabled](../java-android-debuggable-attribute-enabled/)
  + [Android fragment injection](../java-android-fragment-injection/)
  + [Android fragment injection in PreferenceActivity](../java-android-fragment-injection-preference-activity/)
  + [Android missing certificate pinning](../java-android-missing-certificate-pinning/)
  + [Android sensitive keyboard cache](../java-android-sensitive-keyboard-cache/)
  + [AnnotationPresent check](../java-ineffective-annotation-present-check/)
  + [Application backup allowed](../java-android-backup-enabled/)
  + [Arbitrary file access during archive extraction (”Zip Slip”)](../java-zipslip/)
  + [Array index out of bounds](../java-index-out-of-bounds/)
  + [Bad implementation of an event Adapter](../java-wrong-swing-event-adapter-signature/)
  + [Bad suite method](../java-wrong-junit-suite-signature/)
  + [Boxed variable is never null](../java-non-null-boxed-variable/)
  + [Building a command line with string concatenation](../java-concatenated-command-line/)
  + [Building a command with an injected environment variable](../java-exec-tainted-environment/)
  + [Call to Iterator.remove may fail](../java-iterator-remove-failure/)
  + [Cast from abstract to concrete collection](../java-abstract-to-concrete-cast/)
  + [Chain of ‘instanceof’ tests](../java-chained-type-tests/)
  + [Character passed to StringBuffer or StringBuilder constructor](../java-string-buffer-char-init/)
  + [Class has same name as super class](../java-class-name-matches-super-class/)
  + [Cleartext storage of sensitive information in cookie](../java-cleartext-storage-in-cookie/)
  + [Cleartext storage of sensitive information in the Android filesystem](../java-android-cleartext-storage-filesystem/)
  + [Cleartext storage of sensitive information using ‘Properties’ class](../java-cleartext-storage-in-properties/)
  + [Cleartext storage of sensitive information using `SharedPreferences` on Android](../java-android-cleartext-storage-shared-prefs/)
  + [Cleartext storage of sensitive information using a local database on Android](../java-android-cleartext-storage-database/)
  + [Comparison of identical values](../java-comparison-of-identical-expressions/)
  + [Comparison of narrow type with wide type in loop condition](../java-comparison-with-wider-type/)
  + [Confusing method names because of capitalization](../java-confusing-method-name/)
  + [Confusing non-overriding of package-private method](../java-non-overriding-package-private/)
  + [Confusing overloading of methods](../java-confusing-method-signature/)
  + [Constant interface anti-pattern](../java-constants-only-interface/)
  + [Constant loop condition](../java-constant-loop-condition/)
  + [Container contents are never accessed](../java-unused-container/)
  + [Container contents are never initialized](../java-empty-container/)
  + [Container size compared to zero](../java-test-for-negative-container-size/)
  + [Continue statement that does not continue](../java-continue-in-false-loop/)
  + [Contradictory type checks](../java-contradictory-type-checks/)
  + [Creates empty ZIP file entry](../java-empty-zip-file-entry/)
  + [Cross-site scripting](../java-xss/)
  + [Dangerous non-short-circuit logic](../java-non-short-circuit-evaluation/)
  + [Dangerous runFinalizersOnExit](../java-run-finalizers-on-exit/)
  + [Depending upon JCenter/Bintray as an artifact repository](../java-maven-dependency-upon-bintray/)
  + [Deprecated method or constructor invocation](../java-deprecated-call/)
  + [Dereferenced expression may be null](../java-dereferenced-expr-may-be-null/)
  + [Dereferenced variable is always null](../java-dereferenced-value-is-always-null/)
  + [Dereferenced variable may be null](../java-dereferenced-value-may-be-null/)
  + [Deserialization of user-controlled data](../java-unsafe-deserialization/)
  + [Detect JHipster Generator Vulnerability CVE-2019-16303](../java-jhipster-prng/)
  + [Direct call to a run() method](../java-call-to-thread-run/)
  + [Disabled Netty HTTP header validation](../java-netty-http-request-or-response-splitting/)
  + [Disabled Spring CSRF protection](../java-spring-disabled-csrf-protection/)
  + [Double-checked locking is not thread-safe](../java-unsafe-double-checked-locking/)
  + [Equals method does not inspect argument type](../java-unchecked-cast-in-equals/)
  + [Equals on incomparable types](../java-equals-on-unrelated-types/)
  + [Equals or hashCode on arrays](../java-equals-on-arrays/)
  + [Executing a command with a relative path](../java-relative-path-command/)
  + [Exposing internal representation](../java-internal-representation-exposure/)
  + [Exposure of sensitive information to UI text views](../java-android-sensitive-text/)
  + [Exposure of sensitive information to notifications](../java-android-sensitive-notification/)
  + [Expression always evaluates to the same value](../java-evaluation-to-constant/)
  + [Expression language injection (JEXL)](../java-jexl-expression-injection/)
  + [Expression language injection (MVEL)](../java-mvel-expression-injection/)
  + [Expression language injection (Spring)](../java-spel-expression-injection/)
  + [Externalizable but no public no-argument constructor](../java-missing-no-arg-constructor-on-externalizable/)
  + [Failure to use HTTPS or SFTP URL in Maven artifact upload/download](../java-maven-non-https-url/)
  + [Failure to use secure cookies](../java-insecure-cookie/)
  + [Field masks field in super class](../java-field-masks-super-field/)
  + [Finalizer inconsistency](../java-missing-super-finalize/)
  + [Futile synchronization on field](../java-unsafe-sync-on-field/)
  + [Groovy Language injection](../java-groovy-injection/)
  + [HTTP response splitting](../java-http-response-splitting/)
  + [Hard-coded credential in API call](../java-hardcoded-credential-api-call/)
  + [Hashed value without hashCode definition](../java-hashing-without-hashcode/)
  + [Ignored error status of call](../java-ignored-error-status-of-call/)
  + [Implicit conversion from array to string](../java-print-array/)
  + [Implicit narrowing conversion in compound assignment](../java-implicit-cast-in-compound-assignment/)
  + [Implicitly exported Android component](../java-android-implicitly-exported-component/)
  + [Improper validation of user-provided array index](../java-improper-validation-of-array-index/)
  + [Improper validation of user-provided size used for array construction](../java-improper-validation-of-array-construction/)
  + [Improper verification of intent by broadcast receiver](../java-improper-intent-verification/)
  + [Inconsistent compareTo](../java-inconsistent-compareto-and-equals/)
  + [Inconsistent equals and hashCode](../java-inconsistent-equals-and-hashcode/)
  + [Inconsistent synchronization for writeObject()](../java-inconsistent-sync-writeobject/)
  + [Inconsistent synchronization of getter and setter](../java-unsynchronized-getter/)
  + [Incorrect absolute value of random number](../java-abs-of-random/)
  + [Incorrect serialVersionUID field](../java-incorrect-serial-version-uid/)
  + [Inefficient String constructor](../java-inefficient-string-constructor/)
  + [Inefficient empty string test](../java-inefficient-empty-string-test/)
  + [Inefficient output stream](../java-inefficient-output-stream/)
  + [Inefficient primitive constructor](../java-inefficient-boxed-constructor/)
  + [Inefficient regular expression](../java-redos/)
  + [Inefficient use of key set iterator](../java-inefficient-key-set-iterator/)
  + [Information exposure through a stack trace](../java-stack-trace-exposure/)
  + [Information exposure through an error message](../java-error-message-exposure/)
  + [Inner class could be static](../java-non-static-nested-class/)
  + [Insecure Bean Validation](../java-insecure-bean-validation/)
  + [Insecure JavaMail SSL Configuration](../java-insecure-smtp-ssl/)
  + [Insecure LDAP authentication](../java-insecure-ldap-auth/)
  + [Insecure basic authentication](../java-insecure-basic-auth/)
  + [Insecure local authentication](../java-android-insecure-local-authentication/)
  + [Insecure randomness](../java-insecure-randomness/)
  + [Insecurely generated keys for local authentication](../java-android-insecure-local-key-gen/)
  + [Insertion of sensitive information into log files](../java-sensitive-log/)
  + [Intent URI permission manipulation](../java-android-intent-uri-permission-manipulation/)
  + [Interface cannot be implemented](../java-unimplementable-interface/)
  + [Iterable wrapping an iterator](../java-iterable-wraps-iterator/)
  + [Iterator implementing Iterable](../java-iterator-implements-iterable/)
  + [JNDI lookup with user-controlled name](../java-jndi-injection/)
  + [Javadoc has impossible ‘throws’ tag](../java-inconsistent-javadoc-throws/)
  + [LDAP query built from user-controlled sources](../java-ldap-injection/)
  + [Leaking sensitive information through a ResultReceiver](../java-android-sensitive-result-receiver/)
  + [Leaking sensitive information through an implicit Intent](../java-android-sensitive-communication/)
  + [Left shift by more than the type width](../java-lshift-larger-than-type-width/)
  + [Local information disclosure in a temporary directory](../java-local-temp-file-or-directory-information-disclosure/)
  + [Log Injection](../java-log-injection/)
  + [Loop with unreachable exit condition](../java-unreachable-exit-in-loop/)
  + [Misleading indentation](../java-misleading-indentation/)
  + Missing JWT signature check
  + [Missing Override annotation](../java-missing-override-annotation/)
  + [Missing catch of NumberFormatException](../java-uncaught-number-format-exception/)
  + [Missing enum case in switch](../java-missing-case-in-switch/)
  + [Missing format argument](../java-missing-format-argument/)
  + [Missing read or write permission in a content provider](../java-android-incomplete-provider-permissions/)
  + [Missing space in string literal](../java-missing-space-in-concatenation/)
  + [Missing super clone](../java-missing-call-to-super-clone/)
  + [Multiplication of remainder](../java-multiplication-of-remainder/)
  + [Next in hasNext implementation](../java-iterator-hasnext-calls-next/)
  + [No clone method](../java-missing-clone-method/)
  + [Non-final method invocation in constructor](../java-non-final-call-in-constructor/)
  + [Non-synchronized override of synchronized method](../java-non-sync-override/)
  + [OGNL Expression Language statement with user-controlled input](../java-ognl-injection/)
  + [Overloaded compareTo](../java-wrong-compareto-signature/)
  + [Overloaded equals](../java-wrong-equals-signature/)
  + [Overly permissive regular expression range](../java-overly-large-range/)
  + [Partial path traversal vulnerability](../java-partial-path-traversal/)
  + [Partial path traversal vulnerability from remote](../java-partial-path-traversal-from-remote/)
  + [Polynomial regular expression used on uncontrolled data](../java-polynomial-redos/)
  + [Possible confusion of local and field](../java-local-shadows-field/)
  + [Potential database resource leak](../java-database-resource-leak/)
  + [Potential input resource leak](../java-input-resource-leak/)
  + [Potential output resource leak](../java-output-resource-leak/)
  + [Query built by concatenation with a possibly-untrusted string](../java-concatenated-sql-query/)
  + [Query built from user-controlled sources](../java-sql-injection/)
  + [Race condition in double-checked locking object initialization](../java-unsafe-double-checked-locking-init-order/)
  + [Race condition in socket authentication](../java-socket-auth-race-condition/)
  + [Random used only once](../java-random-used-once/)
  + [ReadResolve must have Object return type, not void](../java-wrong-readresolve-signature/)
  + [Reading from a world writable file](../java-world-writable-file-read/)
  + [Reference equality test of boxed types](../java-reference-equality-of-boxed-types/)
  + [Reference equality test on strings](../java-reference-equality-on-strings/)
  + [Regular expression injection](../java-regex-injection/)
  + [Resolving XML external entity in user-controlled data](../java-xxe/)
  + [Result of multiplication cast to wider type](../java-integer-multiplication-cast-to-long/)
  + [Self assignment](../java-redundant-assignment/)
  + [Serializable but no void constructor](../java-missing-no-arg-constructor-on-serializable/)
  + [Serializable inner class of non-serializable class](../java-non-serializable-inner-class/)
  + [Serialization methods do not match required signature](../java-wrong-object-serialization-signature/)
  + [Server-side request forgery](../java-ssrf/)
  + [Server-side template injection](../java-server-side-template-injection/)
  + [Sleep with lock held](../java-sleep-with-lock-held/)
  + [Spin on field](../java-spin-on-field/)
  + [Spurious Javadoc @param tags](../java-unknown-javadoc-parameter/)
  + [Start of thread in constructor](../java-thread-start-in-constructor/)
  + [Subtle call to inherited method](../java-subtle-inherited-call/)
  + [Suspicious date format](../java-suspicious-date-format/)
  + [Synchronization on boxed types or strings](../java-sync-on-boxed-types/)
  + [Thread-unsafe use of DateFormat](../java-thread-unsafe-dateformat/)
  + [Time-of-check time-of-use race condition](../java-toctou-race-condition/)
  + [Trust boundary violation](../java-trust-boundary-violation/)
  + [Type bound extends a final class](../java-type-bound-extends-final/)
  + [Type mismatch on container access](../java-type-mismatch-access/)
  + [Type mismatch on container modification](../java-type-mismatch-modification/)
  + [Type variable hides another type](../java-type-variable-hides-type/)
  + [Typo in equals](../java-equals-typo/)
  + [Typo in hashCode](../java-hashcode-typo/)
  + [Typo in toString](../java-tostring-typo/)
  + [URL forward from a remote source](../java-unvalidated-url-forward/)
  + [URL redirection from remote source](../java-unvalidated-url-redirection/)
  + [Uncontrolled command line](../java-command-line-injection/)
  + [Uncontrolled data in arithmetic expression](../java-uncontrolled-arithmetic/)
  + [Uncontrolled data used in content resolution](../java-android-unsafe-content-uri-resolution/)
  + [Uncontrolled data used in path expression](../java-path-injection/)
  + [Underscore used as identifier](../java-underscore-identifier/)
  + [Unreachable catch clause](../java-unreachable-catch-clause/)
  + [Unread local variable](../java-local-variable-is-never-read/)
  + [Unreleased lock](../java-unreleased-lock/)
  + [Unsafe certificate trust](../java-unsafe-cert-trust/)
  + [Unsafe hostname verification](../java-unsafe-hostname-verification/)
  + [Unsafe resource fetching in Android WebView](../java-android-unsafe-android-webview-fetch/)
  + [Unsafe use of getResource](../java-unsafe-get-resource/)
  + [Unused classes and interfaces](../java-unused-reference-type/)
  + [Unused format argument](../java-unused-format-argument/)
  + [Unused label](../java-unused-label/)
  + [Use of RSA algorithm without OAEP](../java-rsa-without-oaep/)
  + [Use of a broken or risky cryptographic algorithm](../java-weak-cryptographic-algorithm/)
  + [Use of a cryptographic algorithm with insufficient key size](../java-insufficient-key-size/)
  + [Use of a potentially broken or risky cryptographic algorithm](../java-potentially-weak-cryptographic-algorithm/)
  + [Use of a potentially dangerous function](../java-potentially-dangerous-function/)
  + [Use of a predictable seed in a secure random number generator](../java-predictable-seed/)
  + [Use of default toString()](../java-call-to-object-tostring/)
  + [Use of externally-controlled format string](../java-tainted-format-string/)
  + [Use of implicit PendingIntents](../java-android-implicit-pendingintents/)
  + [Useless comparison test](../java-constant-comparison/)
  + [Useless null check](../java-useless-null-check/)
  + [Useless parameter](../java-unused-parameter/)
  + [Useless toString on String](../java-useless-tostring-call/)
  + [Useless type test](../java-useless-type-test/)
  + [User-controlled bypass of sensitive method](../java-user-controlled-bypass/)
  + [User-controlled data in arithmetic expression](../java-tainted-arithmetic/)
  + [User-controlled data in numeric cast](../java-tainted-numeric-cast/)
  + [User-controlled data used in permissions check](../java-tainted-permissions-check/)
  + [Using a static initialization vector for encryption](../java-static-initialization-vector/)
  + [Wait on condition](../java-wait-on-condition-interface/)
  + [Whitespace contradicts operator precedence](../java-whitespace-contradicts-precedence/)
  + [Wrong NaN comparison](../java-comparison-with-nan/)
  + [XPath injection](../java-xml-xpath-injection/)
  + [XSLT transformation with user-controlled stylesheet](../java-xslt-injection/)
  + [`TrustManager` that accepts all certificates](../java-insecure-trustmanager/)
  + [notify instead of notifyAll](../java-notify-instead-of-notify-all/)
* [CodeQL query help for JavaScript and TypeScript](../../javascript/)
* [CodeQL query help for Python](../../python/)
* [CodeQL query help for Ruby](../../ruby/)
* [CodeQL query help for Swift](../../swift/)
* [CodeQL CWE coverage](../../codeql-cwe-coverage/)

* [CodeQL query help documentation](../../) »
* [CodeQL query help for Java and Kotlin](../) »

# Missing JWT signature check[¶](#missing-jwt-signature-check "Link to this heading")

```
ID: java/missing-jwt-signature-check
Kind: path-problem
Security severity: 7.8
Severity: error
Precision: high
Tags:
   - security
   - external/cwe/cwe-347
Query suites:
   - java-code-scanning.qls
   - java-security-extended.qls
   - java-security-and-quality.qls

```

[Click to see the query in the CodeQL repository](https://github.com/github/codeql/blob/main/java/ql/src/Security/CWE/CWE-347/MissingJWTSignatureCheck.ql)

A JSON Web Token (JWT) consists of three parts: header, payload, and signature. The `io.jsonwebtoken.jjwt` library is one of many libraries used for working with JWTs. It offers different methods for parsing tokens like `parse`, `parseClaimsJws`, and `parsePlaintextJws`. The last two correctly verify that the JWT is properly signed. This is done by computing the signature of the combination of header and payload and comparing the locally computed signature with the signature part of the JWT.

Therefore it is necessary to provide the `JwtParser` with a key that is used for signature validation. Unfortunately the `parse` method **accepts** a JWT whose signature is empty although a signing key has been set for the parser. This means that an attacker can create arbitrary JWTs that will be accepted if this method is used.

## Recommendation[¶](#recommendation "Link to this heading")

Always verify the signature by using either the `parseClaimsJws` and `parsePlaintextJws` methods or by overriding the `onPlaintextJws` or `onClaimsJws` of `JwtHandlerAdapter`.

## Example[¶](#example "Link to this heading")

The following example shows four cases where a signing key is set for a parser. In the first ‘BAD’ case the `parse` method is used, which will not validate the signature. The second ‘BAD’ case uses a `JwtHandlerAdapter` where the `onPlaintextJwt` method is overriden, so it will not validate the signature. The third and fourth ‘GOOD’ cases use `parseClaimsJws` method or override the `onPlaintextJws` method.

```
public void badJwt(String token) {
    Jwts.parserBuilder()
                .setSigningKey("someBase64EncodedKey").build()
                .parse(token); // BAD: Does not verify the signature
}

public void badJwtHandler(String token) {
    Jwts.parserBuilder()
                .setSigningKey("someBase64EncodedKey").build()
                .parse(plaintextJwt, new JwtHandlerAdapter<Jwt<Header, String>>() {
                    @Override
                    public Jwt<Header, String> onPlaintextJwt(Jwt<Header, String> jwt) {
                        return jwt;
                    }
                }); // BAD: The handler is called on an unverified JWT
}

public void goodJwt(String token) {
    Jwts.parserBuilder()
                .setSigningKey("someBase64EncodedKey").build()
                .parseClaimsJws(token) // GOOD: Verify the signature
                .getBody();
}

public void goodJwtHandler(String token) {
    Jwts.parserBuilder()
                .setSigningKey("someBase64EncodedKey").build()
                .parse(plaintextJwt, new JwtHandlerAdapter<Jws<String>>() {
                    @Override
                    public Jws<String> onPlaintextJws(Jws<String> jws) {
                        return jws;
                    }
                }); // GOOD: The handler is called on a verified JWS
}

```

## References[¶](#references "Link to this heading")

* zofrex: [How I Found An alg=none JWT Vulnerability in the NHS Contact Tracing App](https://www.zofrex.com/blog/2020/10/20/alg-none-jwt-nhs-contact-tracing-app/).
* Common Weakness Enumeration: [CWE-347](https://cwe.mitre.org/data/definitions/347.html).

* ©
   GitHub, Inc.
* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)



=== Content from github.com_f881d4c5_20250108_135527.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Fblob%2Faa146db611e3a4ca3aa17bb740783f789d4444d3%2Fmetadata-service%2Fauth-impl%2Fsrc%2Fmain%2Fjava%2Fcom%2Fdatahub%2Fauthentication%2Ftoken%2FStatelessTokenService.java)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdatahub-project%2Fdatahub%2Fblob%2Faa146db611e3a4ca3aa17bb740783f789d4444d3%2Fmetadata-service%2Fauth-impl%2Fsrc%2Fmain%2Fjava%2Fcom%2Fdatahub%2Fauthentication%2Ftoken%2FStatelessTokenService.java)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=datahub-project%2Fdatahub)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[datahub-project](/datahub-project)
/
**[datahub](/datahub-project/datahub)**
Public

* [Notifications](/login?return_to=%2Fdatahub-project%2Fdatahub) You must be signed in to change notification settings
* [Fork
  3k](/login?return_to=%2Fdatahub-project%2Fdatahub)
* [Star
   10.1k](/login?return_to=%2Fdatahub-project%2Fdatahub)

* [Code](/datahub-project/datahub)
* [Issues
  202](/datahub-project/datahub/issues)
* [Pull requests
  143](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects
  1](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

Additional navigation options

* [Code](/datahub-project/datahub)
* [Issues](/datahub-project/datahub/issues)
* [Pull requests](/datahub-project/datahub/pulls)
* [Actions](/datahub-project/datahub/actions)
* [Projects](/datahub-project/datahub/projects)
* [Security](/datahub-project/datahub/security)
* [Insights](/datahub-project/datahub/pulse)

## Files

 aa146db
## Breadcrumbs

1. [datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3)
2. /[metadata-service](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service)
3. /[auth-impl](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl)
4. /[src](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src)
5. /[main](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main)
6. /[java](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java)
7. /[com](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com)
8. /[datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub)
9. /[authentication](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication)
10. /[token](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token)
/
# StatelessTokenService.java

 Blame  Blame
## Latest commit

## History

[History](/datahub-project/datahub/commits/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token/StatelessTokenService.java)163 lines (147 loc) · 5.91 KB aa146db
## Breadcrumbs

1. [datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3)
2. /[metadata-service](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service)
3. /[auth-impl](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl)
4. /[src](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src)
5. /[main](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main)
6. /[java](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java)
7. /[com](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com)
8. /[datahub](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub)
9. /[authentication](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication)
10. /[token](/datahub-project/datahub/tree/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token)
/
# StatelessTokenService.java

Top
## File metadata and controls

* Code
* Blame

163 lines (147 loc) · 5.91 KB[Raw](https://github.com/datahub-project/datahub/raw/aa146db611e3a4ca3aa17bb740783f789d4444d3/metadata-service/auth-impl/src/main/java/com/datahub/authentication/token/StatelessTokenService.java)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163package com.datahub.authentication.token;
import com.datahub.authentication.Actor;import com.datahub.authentication.ActorType;import io.jsonwebtoken.Claims;import io.jsonwebtoken.JwtBuilder;import io.jsonwebtoken.Jwts;import io.jsonwebtoken.SignatureAlgorithm;import java.nio.charset.StandardCharsets;import java.security.Key;import java.util.ArrayList;import java.util.Base64;import java.util.Date;import java.util.HashMap;import java.util.List;import java.util.Map;import java.util.Objects;import java.util.UUID;import javax.annotation.Nonnull;import javax.annotation.Nullable;import javax.crypto.spec.SecretKeySpec;
import static com.datahub.authentication.token.TokenClaims.\*;
/\*\* \* Service responsible for generating JWT tokens for use within DataHub in stateless way. \* This service is responsible only for generating tokens, it will not do anything else with them. \*/public class StatelessTokenService {
 protected static final long DEFAULT\_EXPIRES\_IN\_MS = 86400000L; // One day by default private static final List<String> SUPPORTED\_ALGORITHMS = new ArrayList<>();
 static { SUPPORTED\_ALGORITHMS.add("HS256"); // Only support HS256 today. }
 private final String signingKey; private final SignatureAlgorithm signingAlgorithm; private final String iss;
 public StatelessTokenService( @Nonnull final String signingKey, @Nonnull final String signingAlgorithm ) { this(signingKey, signingAlgorithm, null); }
 public StatelessTokenService( @Nonnull final String signingKey, @Nonnull final String signingAlgorithm, @Nullable final String iss ) { this.signingKey = Objects.requireNonNull(signingKey); this.signingAlgorithm = validateAlgorithm(Objects.requireNonNull(signingAlgorithm)); this.iss = iss; }
 /\*\* \* Generates a JWT for an actor with a default expiration time. \* \* Note that the caller of this method is expected to authorize the action of generating a token. \* \*/ public String generateAccessToken(@Nonnull final TokenType type, @Nonnull final Actor actor) { return generateAccessToken(type, actor, DEFAULT\_EXPIRES\_IN\_MS); }
 /\*\* \* Generates a JWT for an actor with a specific duration in milliseconds. \* \* Note that the caller of this method is expected to authorize the action of generating a token. \* \*/ @Nonnull public String generateAccessToken( @Nonnull final TokenType type, @Nonnull final Actor actor, @Nullable final Long expiresInMs) { Objects.requireNonNull(type); Objects.requireNonNull(actor);
 Map<String, Object> claims = new HashMap<>(); claims.put(TOKEN\_VERSION\_CLAIM\_NAME, String.valueOf(TokenVersion.ONE.numericValue)); // Hardcode version 1 for now. claims.put(TOKEN\_TYPE\_CLAIM\_NAME, type.toString()); claims.put(ACTOR\_TYPE\_CLAIM\_NAME, actor.getType()); claims.put(ACTOR\_ID\_CLAIM\_NAME, actor.getId()); return generateAccessToken(actor.getId(), claims, expiresInMs); }
 /\*\* \* Generates a JWT for a custom set of claims. \* \* Note that the caller of this method is expected to authorize the action of generating a token. \*/ @Nonnull public String generateAccessToken( @Nonnull final String sub, @Nonnull final Map<String, Object> claims, @Nullable final Long expiresInMs) { Objects.requireNonNull(sub); Objects.requireNonNull(claims); final JwtBuilder builder = Jwts.builder() .addClaims(claims) .setId(UUID.randomUUID().toString()) .setSubject(sub);
 if (expiresInMs != null) { builder.setExpiration(new Date(System.currentTimeMillis() + expiresInMs)); } if (this.iss != null) { builder.setIssuer(this.iss); } byte [] apiKeySecretBytes = this.signingKey.getBytes(StandardCharsets.UTF\_8); final Key signingKey = new SecretKeySpec(apiKeySecretBytes, this.signingAlgorithm.getJcaName()); return builder.signWith(signingKey, this.signingAlgorithm).compact(); }
 /\*\* \* Validates a JWT issued by this service. \* \* Throws an {@link TokenException} in the case that the token cannot be verified. \*/ @Nonnull public TokenClaims validateAccessToken(@Nonnull final String accessToken) throws TokenException { Objects.requireNonNull(accessToken); try { byte [] apiKeySecretBytes = this.signingKey.getBytes(StandardCharsets.UTF\_8); final String base64Key = Base64.getEncoder().encodeToString(apiKeySecretBytes); final Claims claims = (Claims) Jwts.parserBuilder() .setSigningKey(base64Key) .build() .parse(accessToken) .getBody(); final String tokenVersion = claims.get(TOKEN\_VERSION\_CLAIM\_NAME, String.class); final String tokenType = claims.get(TOKEN\_TYPE\_CLAIM\_NAME, String.class); final String actorId = claims.get(ACTOR\_ID\_CLAIM\_NAME, String.class); final String actorType = claims.get(ACTOR\_TYPE\_CLAIM\_NAME, String.class); if (tokenType != null && actorId != null && actorType != null) { return new TokenClaims( TokenVersion.fromNumericStringValue(tokenVersion), TokenType.valueOf(tokenType), ActorType.valueOf(actorType), actorId, claims.getExpiration() == null ? null : claims.getExpiration().getTime()); } } catch (io.jsonwebtoken.ExpiredJwtException e) { throw new TokenExpiredException("Failed to validate DataHub token. Token has expired.", e); } catch (Exception e) { throw new TokenException("Failed to validate DataHub token", e); } throw new TokenException("Failed to validate DataHub token: Found malformed or missing 'actor' claim."); }
 private SignatureAlgorithm validateAlgorithm(final String algorithm) { if (!SUPPORTED\_ALGORITHMS.contains(algorithm)) { throw new UnsupportedOperationException( String.format("Failed to create Token Service. Unsupported algorithm %s provided", algorithm)); } return SignatureAlgorithm.valueOf(algorithm); }}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


