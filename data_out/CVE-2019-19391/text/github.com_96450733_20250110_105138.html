
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLuaJIT%2FLuaJIT%2Fpull%2F526)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FLuaJIT%2FLuaJIT%2Fpull%2F526)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=LuaJIT%2FLuaJIT)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[LuaJIT](/LuaJIT)
/
**[LuaJIT](/LuaJIT/LuaJIT)**
Public

* [Notifications](/login?return_to=%2FLuaJIT%2FLuaJIT) You must be signed in to change notification settings
* [Fork
  989](/login?return_to=%2FLuaJIT%2FLuaJIT)
* [Star
   4.8k](/login?return_to=%2FLuaJIT%2FLuaJIT)

* [Code](/LuaJIT/LuaJIT)
* [Issues
  48](/LuaJIT/LuaJIT/issues)
* [Pull requests
  15](/LuaJIT/LuaJIT/pulls)
* [Actions](/LuaJIT/LuaJIT/actions)
* [Security](/LuaJIT/LuaJIT/security)
* [Insights](/LuaJIT/LuaJIT/pulse)

Additional navigation options

* [Code](/LuaJIT/LuaJIT)
* [Issues](/LuaJIT/LuaJIT/issues)
* [Pull requests](/LuaJIT/LuaJIT/pulls)
* [Actions](/LuaJIT/LuaJIT/actions)
* [Security](/LuaJIT/LuaJIT/security)
* [Insights](/LuaJIT/LuaJIT/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FLuaJIT%2FLuaJIT%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FLuaJIT%2FLuaJIT%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# debug.getinfo arbitrary memory read/write #526

 Closed

[Badger9](/Badger9)
wants to merge
1
commit into
[LuaJIT:v2.1](/LuaJIT/LuaJIT/tree/v2.1 "LuaJIT/LuaJIT:v2.1")
from
Badger9:patch-1

 Closed

# [debug.getinfo arbitrary memory read/write](#top) #526

[Badger9](/Badger9)
wants to merge
1
commit into
[LuaJIT:v2.1](/LuaJIT/LuaJIT/tree/v2.1 "LuaJIT/LuaJIT:v2.1")
from
Badger9:patch-1

[Conversation
15](/LuaJIT/LuaJIT/pull/526)
[Commits
1](/LuaJIT/LuaJIT/pull/526/commits)
[Checks
0](/LuaJIT/LuaJIT/pull/526/checks)
[Files changed](/LuaJIT/LuaJIT/pull/526/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Badger9](https://avatars.githubusercontent.com/u/16361881?s=60&v=4)](/Badger9)

Copy link

### @Badger9 **[Badger9](/Badger9)** commented [Nov 13, 2019](#issue-522089457) ‚Ä¢ edited Loading

If the first argument is a valid stack level and the first character in the options argument for debug.getinfo is `>`, then the final argument will be used as the function.

e.g.

`debug.getinfo(0, ">", debug.getinfo)`

In release mode, the final argument's type is never ensured to be a function. This means that we can pass whatever we want to it. For example, if we passed the double representation of a uintptr\_t that points to whichever address we want to read memory from it'll return a function at that address. To read memory, we can simply call `debug.getfenv` on the function and then call `string.format("%p",env)` to get the contents of the memory. This is shown in a POC below:

```
-- Getting the length of a string

local str = "abcd"

-- 12 is the offset of string length
local address = tonumber( string.format( "%p", str ), 16 ) + 12

-- Convert to a double, address - 8 (env offset)
-- https://github.com/notcake/carrier/blob/master/lua/carrier/packages/pylon.bitconverter.lua#L219-L244
address = UInt32sToDouble( address - 8, 0 )

-- This turns the address into a function
local func = debug.getinfo( 0, ">f", address ).func

-- This is supposed to get the environment of the function
-- but it allows us to read memory by formatting the address
-- into a pointer
local length = debug.getfenv( func )

-- Format the address into a pointer
-- prints 4, the length of the string
print( tonumber( string.format( "%p", length ), 16 ) )
```

This can be further exploited to enable arbitrary memory writing.

Sorry, something went wrong.

 üëç
4
 Kefta, GGG-KILLER, siddhesh, and peanuts62 reacted with thumbs up emoji
 üëé
1
 SneakySquid reacted with thumbs down emoji

All reactions

* üëç
  4 reactions
* üëé
  1 reaction

[![@Badger9](https://avatars.githubusercontent.com/u/16361881?s=40&v=4)](/Badger9)

`[Fix vulnerability in debug.getinfo](/LuaJIT/LuaJIT/pull/526/commits/c017b2bafc24f71620de7225c5fdcd4a71ff2593 "Fix vulnerability in debug.getinfo")`

`[c017b2b](/LuaJIT/LuaJIT/pull/526/commits/c017b2bafc24f71620de7225c5fdcd4a71ff2593)`

[![@Totktonada](https://avatars.githubusercontent.com/u/92749?s=80&u=2cc154860a4a2355980a0f3e5e0187eb7d4660f7&v=4)](/Totktonada)

Copy link

### **[Totktonada](/Totktonada)** commented [Nov 13, 2019](#issuecomment-553332547)

| See also [tarantool/tarantool#3833](https://github.com/tarantool/tarantool/issues/3833) and [tarantool@422c986](https://github.com/tarantool/luajit/commit/422c9868c25d9c00d48f3e996789662c640784e4) |
| --- |

All reactions

Sorry, something went wrong.

[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=80&v=4)](/siddhesh)

Copy link

### **[siddhesh](/siddhesh)** commented [Nov 13, 2019](#issuecomment-553410944)

| Thanks, this is fixed in moonjit with [moonjit@35fde41](https://github.com/moonjit/moonjit/commit/35fde4189eb3fd6718cfa2bcb200fe7b96af07b9) which is the same as [tarantool@422c986](https://github.com/tarantool/luajit/commit/422c9868c25d9c00d48f3e996789662c640784e4) . The report is also a duplicate of [#509](https://github.com/LuaJIT/LuaJIT/issues/509) |
| --- |

All reactions

Sorry, something went wrong.

[![@Badger9](https://avatars.githubusercontent.com/u/16361881?s=80&u=5391125d7433f9e9ec06e89c74830fcce1107553&v=4)](/Badger9)

Copy link

Author

### **[Badger9](/Badger9)** commented [Nov 13, 2019](#issuecomment-553415770) ‚Ä¢ edited Loading

| No, that didn't fix the issue. The fix proposed in both of those PRs only checks if there's more than 2 arguments. Mine has 3 arguments and can go as high as LuaJIT allows due to it using the last argument as the function. |
| --- |

All reactions

Sorry, something went wrong.

[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=80&v=4)](/siddhesh)

Copy link

### **[siddhesh](/siddhesh)** commented [Nov 13, 2019](#issuecomment-553418379)

| Sorry, I shouldn't have rushed to a conclusion. I'll take a closer look at this later. |
| --- |

All reactions

Sorry, something went wrong.

[siddhesh](/siddhesh)
added a commit
to moonjit/moonjit
that referenced
this pull request
[Nov 16, 2019](#ref-commit-905eb66)
[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)

`[Revert "fix for](/moonjit/moonjit/commit/905eb66d411b53b6f2508134786f002a15cc3caf "Revert \"fix for #509\"

This reverts commit 35fde4189eb3fd6718cfa2bcb200fe7b96af07b9.
LuaJIT/LuaJIT#526 has a more complete solution.") [LuaJIT#509](https://github.com/LuaJIT/LuaJIT/issues/509)["](/moonjit/moonjit/commit/905eb66d411b53b6f2508134786f002a15cc3caf "Revert \"fix for #509\"

This reverts commit 35fde4189eb3fd6718cfa2bcb200fe7b96af07b9.
LuaJIT/LuaJIT#526 has a more complete solution.")`
‚Ä¶

`[905eb66](/moonjit/moonjit/commit/905eb66d411b53b6f2508134786f002a15cc3caf)`

```
This reverts commit [35fde41](https://github.com/moonjit/moonjit/commit/35fde4189eb3fd6718cfa2bcb200fe7b96af07b9).
[LuaJIT#526](https://github.com/LuaJIT/LuaJIT/pull/526) has a more complete solution.
```

[siddhesh](/siddhesh)
pushed a commit
to moonjit/moonjit
that referenced
this pull request
[Nov 16, 2019](#ref-commit-6fe9ae7)
[![@Badger9](https://avatars.githubusercontent.com/u/16361881?s=40&u=5391125d7433f9e9ec06e89c74830fcce1107553&v=4)](/Badger9) [![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)

`[Fix vulnerability in debug.getinfo](/moonjit/moonjit/commit/6fe9ae710b264d4e2e484d947cbd7105048cf9f0 "Fix vulnerability in debug.getinfo

If the first argument is a valid stack level and the first character
in the options argument for debug.getinfo is >, then the final
argument will be used as the function.  e.g.  debug.getinfo(0, \">\",
debug.getinfo)

In release mode, the final argument's type is never ensured to be a
function. This means that we can pass whatever we want to it. For
example, if we passed the double representation of a uintptr_t that
points to whichever address we want to read memory from it'll return a
function at that address. To read memory, we can simply call
debug.getfenv on the function and then call string.format(\"%p\",env) to
get the contents of the memory.

This can be further exploited to enable arbitrary memory writing.

Pulled from LuaJIT/LuaJIT#526")`
‚Ä¶

`[6fe9ae7](/moonjit/moonjit/commit/6fe9ae710b264d4e2e484d947cbd7105048cf9f0)`

```
If the first argument is a valid stack level and the first character
in the options argument for debug.getinfo is >, then the final
argument will be used as the function.  e.g.  debug.getinfo(0, ">",
debug.getinfo)

In release mode, the final argument's type is never ensured to be a
function. This means that we can pass whatever we want to it. For
example, if we passed the double representation of a uintptr_t that
points to whichever address we want to read memory from it'll return a
function at that address. To read memory, we can simply call
debug.getfenv on the function and then call string.format("%p",env) to
get the contents of the memory.

This can be further exploited to enable arbitrary memory writing.

Pulled from [LuaJIT#526](https://github.com/LuaJIT/LuaJIT/pull/526)
```

[siddhesh](/siddhesh)
added a commit
to moonjit/moonjit
that referenced
this pull request
[Nov 16, 2019](#ref-commit-bcf13d1)
[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)

`[Revert "fix for](/moonjit/moonjit/commit/bcf13d1f45d06afba775b1216b53ebd552789a3f "Revert \"fix for #509\"

This reverts commit 35fde4189eb3fd6718cfa2bcb200fe7b96af07b9.
LuaJIT/LuaJIT#526 has a more complete solution.") [LuaJIT#509](https://github.com/LuaJIT/LuaJIT/issues/509)["](/moonjit/moonjit/commit/bcf13d1f45d06afba775b1216b53ebd552789a3f "Revert \"fix for #509\"

This reverts commit 35fde4189eb3fd6718cfa2bcb200fe7b96af07b9.
LuaJIT/LuaJIT#526 has a more complete solution.")`
‚Ä¶

`[bcf13d1](/moonjit/moonjit/commit/bcf13d1f45d06afba775b1216b53ebd552789a3f)`

```
This reverts commit [35fde41](https://github.com/moonjit/moonjit/commit/35fde4189eb3fd6718cfa2bcb200fe7b96af07b9).
[LuaJIT#526](https://github.com/LuaJIT/LuaJIT/pull/526) has a more complete solution.
```

[siddhesh](/siddhesh)
pushed a commit
to moonjit/moonjit
that referenced
this pull request
[Nov 16, 2019](#ref-commit-641cdbb)
[![@Badger9](https://avatars.githubusercontent.com/u/16361881?s=40&u=5391125d7433f9e9ec06e89c74830fcce1107553&v=4)](/Badger9) [![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)

`[Fix vulnerability in debug.getinfo](/moonjit/moonjit/commit/641cdbbb8f62c5c32de5388275211895313a86f1 "Fix vulnerability in debug.getinfo

If the first argument is a valid stack level and the first character
in the options argument for debug.getinfo is >, then the final
argument will be used as the function.  e.g.  debug.getinfo(0, \">\",
debug.getinfo)

In release mode, the final argument's type is never ensured to be a
function. This means that we can pass whatever we want to it. For
example, if we passed the double representation of a uintptr_t that
points to whichever address we want to read memory from it'll return a
function at that address. To read memory, we can simply call
debug.getfenv on the function and then call string.format(\"%p\",env) to
get the contents of the memory.

This can be further exploited to enable arbitrary memory writing.

Pulled from LuaJIT/LuaJIT#526")`
‚Ä¶

`[641cdbb](/moonjit/moonjit/commit/641cdbbb8f62c5c32de5388275211895313a86f1)`

```
If the first argument is a valid stack level and the first character
in the options argument for debug.getinfo is >, then the final
argument will be used as the function.  e.g.  debug.getinfo(0, ">",
debug.getinfo)

In release mode, the final argument's type is never ensured to be a
function. This means that we can pass whatever we want to it. For
example, if we passed the double representation of a uintptr_t that
points to whichever address we want to read memory from it'll return a
function at that address. To read memory, we can simply call
debug.getfenv on the function and then call string.format("%p",env) to
get the contents of the memory.

This can be further exploited to enable arbitrary memory writing.

Pulled from [LuaJIT#526](https://github.com/LuaJIT/LuaJIT/pull/526)
```

[siddhesh](/siddhesh)
added a commit
to moonjit/moonjit
that referenced
this pull request
[Nov 16, 2019](#ref-commit-c0f3fac)
[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)

`[Add tests for debug.getinfo](/moonjit/moonjit/commit/c0f3facaa201b11d34ad0f1409251c17635ddb43 "Add tests for debug.getinfo

Test LuaJIT/LuaJIT#509 and LuaJIT/LuaJIT#526.")`
‚Ä¶

`[c0f3fac](/moonjit/moonjit/commit/c0f3facaa201b11d34ad0f1409251c17635ddb43)`

```
Test [LuaJIT#509](https://github.com/LuaJIT/LuaJIT/issues/509) and [LuaJIT#526](https://github.com/LuaJIT/LuaJIT/pull/526).
```

[siddhesh](/siddhesh)
added a commit
to moonjit/moonjit
that referenced
this pull request
[Nov 16, 2019](#ref-commit-0968b72)
[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)

`[Add tests for debug.getinfo](/moonjit/moonjit/commit/0968b720b7ba133d723270c1fa8ba4ea3c09e813 "Add tests for debug.getinfo

Test LuaJIT/LuaJIT#509 and LuaJIT/LuaJIT#526.")`
‚Ä¶

`[0968b72](/moonjit/moonjit/commit/0968b720b7ba133d723270c1fa8ba4ea3c09e813)`

```
Test [LuaJIT#509](https://github.com/LuaJIT/LuaJIT/issues/509) and [LuaJIT#526](https://github.com/LuaJIT/LuaJIT/pull/526).
```

[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=80&v=4)](/siddhesh)

Copy link

### **[siddhesh](/siddhesh)** commented [Nov 16, 2019](#issuecomment-554629800)

| I took a closer look at this and I agree your fix is more complete. The argument count is no longer necessary, so I've reverted that patch. I've pulled it into moonjit master as well as v2.1 branches now and also added a couple of tests. |
| --- |

 üëç
2
 Badger9 and fsfod reacted with thumbs up emoji

All reactions

* üëç
  2 reactions

Sorry, something went wrong.

[![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=40&v=4)](/siddhesh)
[siddhesh](/siddhesh)
mentioned this pull request
[Nov 24, 2019](#ref-pullrequest-527592460)

[Prepare for 2.1.2 release
moonjit/moonjit#47](/moonjit/moonjit/pull/47)
 Merged

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Dec 3, 2019](#issuecomment-561070536)

| This issue has [CVE-2019-19391](https://github.com/advisories/GHSA-756f-h55r-pvqq "CVE-2019-19391") assigned. |
| --- |

All reactions

Sorry, something went wrong.

[![@MikePall](https://avatars.githubusercontent.com/u/496664?s=80&u=27aa84baf18333e8e4dcbd47bfe82a99250db531&v=4)](/MikePall)

Copy link

Member

### **[MikePall](/MikePall)** commented [Dec 3, 2019](#issuecomment-561283933)

| The debug library is UNSAFE. This has always been the case and is the same for Lua. With the debug library there are already dozens of ways to crash the VM, confuse the interpreter or compiler, corrupt memory etc. etc. etc. ... this is neither surprising nor new.  It's minor bug in the debug library, but assigning a CVE for that is **TOTALLY INAPPROPRIATE**. |
| --- |

All reactions

Sorry, something went wrong.

[![@ExtReMLapin](https://avatars.githubusercontent.com/u/3909752?s=80&u=c89ceb6f96a0e200695d7648bc4e942413cbebdb&v=4)](/ExtReMLapin)

Copy link

### **[ExtReMLapin](/ExtReMLapin)** commented [Dec 3, 2019](#issuecomment-561346772)

| You're not supposed to release your app with the debug library |
| --- |

All reactions

Sorry, something went wrong.

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Dec 3, 2019](#issuecomment-561377589)

| [@MikePall](https://github.com/MikePall): note that I was only the messenger here, while reviewing some new CVEs which appeared in the CVE feed from MITRE. In this case, could you bing the issue on the CVE assignment (REJECT or dispute it) to MITRE CNA via <https://cveform.mitre.org/> ? |
| --- |

All reactions

Sorry, something went wrong.

[![@MikePall](https://avatars.githubusercontent.com/u/496664?s=80&u=27aa84baf18333e8e4dcbd47bfe82a99250db531&v=4)](/MikePall)

Copy link

Member

### **[MikePall](/MikePall)** commented [Dec 4, 2019](#issuecomment-561531181)

| [@carnil](https://github.com/carnil) Thanks, I've requested a rejection. |
| --- |

All reactions

Sorry, something went wrong.

[![@CapsAdmin](https://avatars.githubusercontent.com/u/204157?s=80&u=e127a0a8e01a89e74e48a077e3f102b79947d2c1&v=4)](/CapsAdmin)

Copy link

### **[CapsAdmin](/CapsAdmin)** commented [Dec 4, 2019](#issuecomment-561636966)

| Is it useful to deem the entire debug library unsafe? debug.traceback and debug.getinfo can be used for better error handling but I wouldn't think that they are as unsafe as some of the write functions like debug.setupvalue.  Maybe they shouldn't be a part of the debug library, or maybe luajit can list functions that are guaranteed safe to use or provide a safe alternative. Like a version of debug.getinfo without the func field if that can confuse the jit compiler. |
| --- |

All reactions

Sorry, something went wrong.

[![@ExtReMLapin](https://avatars.githubusercontent.com/u/3909752?s=80&u=c89ceb6f96a0e200695d7648bc4e942413cbebdb&v=4)](/ExtReMLapin)

Copy link

### **[ExtReMLapin](/ExtReMLapin)** commented [Dec 4, 2019](#issuecomment-561639206)

| Caps, I guess it makes sense for a dev/tech guy to have this kind of informations/function, but the end user should never need to have access to it.  Gmod is a different context, there is shit (lua) code everywhere, so you need to be ready to debug at any time. |
| --- |

All reactions

Sorry, something went wrong.

[![@meepen](https://avatars.githubusercontent.com/u/6186313?s=80&u=458312fe491e828fba1b4ce35f1ebb4d37de2454&v=4)](/meepen)

Copy link

### **[meepen](/meepen)** commented [Dec 4, 2019](#issuecomment-561887059)

| Everyone knows the debug library isn't "safe"; but what does "safe" mean? Because from what it seems like here and in the past it means that no one cares to fix important issues of a library many people depend on in different circumstances on the basis that it's not "safe". |
| --- |

All reactions

Sorry, something went wrong.

[![@CapsAdmin](https://avatars.githubusercontent.com/u/204157?s=80&u=e127a0a8e01a89e74e48a077e3f102b79947d2c1&v=4)](/CapsAdmin)

Copy link

### **[CapsAdmin](/CapsAdmin)** commented [Dec 7, 2019](#issuecomment-562886812)

| I assume safe here means that you cannot escape or mess with the host of the Lua environment. Javascript in a browser (and gmod) has this issue.  Speaking of garry's mod (gmod), they ended up disabling all write debug functions a while back.  I don't think I've used the debug library except for `debug.traceback` and maybe `debug.getinfo` in code that's meant to be used by others.  This is kind of off topic though, it's more of a Lua design issue imo. |
| --- |

All reactions

Sorry, something went wrong.

[![@MikePall](https://avatars.githubusercontent.com/u/496664?s=40&u=27aa84baf18333e8e4dcbd47bfe82a99250db531&v=4)](/MikePall)
[MikePall](/MikePall)
added
the
[duplicate](/LuaJIT/LuaJIT/labels/duplicate)
label
[Dec 8, 2019](#event-2864435525)

[![@MikePall](https://avatars.githubusercontent.com/u/496664?s=80&u=27aa84baf18333e8e4dcbd47bfe82a99250db531&v=4)](/MikePall)

Copy link

Member

### **[MikePall](/MikePall)** commented [Dec 8, 2019](#issuecomment-562990534)

| DUP of [#509](https://github.com/LuaJIT/LuaJIT/issues/509) [#510](https://github.com/LuaJIT/LuaJIT/pull/510) |
| --- |

All reactions

Sorry, something went wrong.

[![@MikePall](https://avatars.githubusercontent.com/u/496664?s=40&u=27aa84baf18333e8e4dcbd47bfe82a99250db531&v=4)](/MikePall)
[MikePall](/MikePall)
closed this
[Dec 8, 2019](#event-2864435606)

 [![@Badger9](https://avatars.githubusercontent.com/u/16361881?s=40&u=5391125d7433f9e9ec06e89c74830fcce1107553&v=4)](/Badger9)
[Badger9](/Badger9)
deleted the
patch-1

branch
[December 8, 2019 23:50](#event-2864574029)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FLuaJIT%2FLuaJIT%2Fpull%2F526)

Reviewers

No reviews

Assignees

No one assigned

Labels

[duplicate](/LuaJIT/LuaJIT/labels/duplicate)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

8 participants

[![@Badger9](https://avatars.githubusercontent.com/u/16361881?s=52&v=4)](/Badger9) [![@Totktonada](https://avatars.githubusercontent.com/u/92749?s=52&v=4)](/Totktonada) [![@siddhesh](https://avatars.githubusercontent.com/u/158582?s=52&v=4)](/siddhesh) [![@carnil](https://avatars.githubusercontent.com/u/773068?s=52&v=4)](/carnil) [![@MikePall](https://avatars.githubusercontent.com/u/496664?s=52&v=4)](/MikePall) [![@ExtReMLapin](https://avatars.githubusercontent.com/u/3909752?s=52&v=4)](/ExtReMLapin) [![@CapsAdmin](https://avatars.githubusercontent.com/u/204157?s=52&v=4)](/CapsAdmin) [![@meepen](https://avatars.githubusercontent.com/u/6186313?s=52&v=4)](/meepen)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.

